var Wxe=Object.defineProperty;var Hxe=(e,t,n)=>t in e?Wxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Uxe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var jW=(e,t,n)=>Hxe(e,typeof t!="symbol"?t+"":t,n);var U7t=Uxe((zs,Ws)=>{function Gxe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function v4(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const jr={},bm=[],zn=()=>{},Kxe=()=>!1,qE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),g4=e=>e.startsWith("onUpdate:"),fi=Object.assign,m4=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},jxe=Object.prototype.hasOwnProperty,Dn=(e,t)=>jxe.call(e,t),Ke=Array.isArray,xm=e=>p_(e)==="[object Map]",ZE=e=>p_(e)==="[object Set]",_h=e=>p_(e)==="[object Date]",mt=e=>typeof e=="function",gt=e=>typeof e=="string",Du=e=>typeof e=="symbol",qt=e=>e!==null&&typeof e=="object",Fx=e=>(qt(e)||mt(e))&&mt(e.then)&&mt(e.catch),ate=Object.prototype.toString,p_=e=>ate.call(e),Yxe=e=>p_(e).slice(8,-1),Bx=e=>p_(e)==="[object Object]",y4=e=>gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xb=v4(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),JE=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Xxe=/-(\w)/g,Qo=JE(e=>e.replace(Xxe,(t,n)=>n?n.toUpperCase():"")),qxe=/\B([A-Z])/g,ad=JE(e=>e.replace(qxe,"-$1").toLowerCase()),v_=JE(e=>e.charAt(0).toUpperCase()+e.slice(1)),qb=JE(e=>e?`on${v_(e)}`:""),lh=(e,t)=>!Object.is(e,t),kT=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ite=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ZL=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Zxe=e=>{const t=gt(e)?Number(e):NaN;return isNaN(t)?e:t};let YW;const QE=()=>YW||(YW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yt(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=gt(r)?twe(r):yt(r);if(a)for(const i in a)t[i]=a[i]}return t}else if(gt(e)||qt(e))return e}const Jxe=/;(?![^(]*\))/g,Qxe=/:([^]+)/,ewe=/\/\*[^]*?\*\//g;function twe(e){const t={};return e.replace(ewe,"").split(Jxe).forEach(n=>{if(n){const r=n.split(Qxe);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function G(e){let t="";if(gt(e))t=e;else if(Ke(e))for(let n=0;n<e.length;n++){const r=G(e[n]);r&&(t+=r+" ")}else if(qt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function hu(e){if(!e)return null;let{class:t,style:n}=e;return t&&!gt(t)&&(e.class=G(t)),n&&(e.style=yt(n)),e}const nwe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rwe=v4(nwe);function ote(e){return!!e||e===""}function awe(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Gm(e[r],t[r]);return n}function Gm(e,t){if(e===t)return!0;let n=_h(e),r=_h(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Du(e),r=Du(t),n||r)return e===t;if(n=Ke(e),r=Ke(t),n||r)return n&&r?awe(e,t):!1;if(n=qt(e),r=qt(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!Gm(e[o],t[o]))return!1}}return String(e)===String(t)}function ste(e,t){return e.findIndex(n=>Gm(n,t))}const lte=e=>!!(e&&e.__v_isRef===!0),Ve=e=>gt(e)?e:e==null?"":Ke(e)||qt(e)&&(e.toString===ate||!mt(e.toString))?lte(e)?Ve(e.value):JSON.stringify(e,ute,2):String(e),ute=(e,t)=>lte(t)?ute(e,t.value):xm(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],i)=>(n[uR(r,i)+" =>"]=a,n),{})}:ZE(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>uR(n))}:Du(t)?uR(t):qt(t)&&!Ke(t)&&!Bx(t)?String(t):t,uR=(e,t="")=>{var n;return Du(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lo;class cte{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lo,!t&&Lo&&(this.index=(Lo.scopes||(Lo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Lo;try{return Lo=this,t()}finally{Lo=n}}}on(){Lo=this}off(){Lo=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function fte(e){return new cte(e)}function dte(){return Lo}function hte(e,t=!1){Lo&&Lo.cleanups.push(e)}let Jr;const cR=new WeakSet;class pte{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Lo&&Lo.active&&Lo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,cR.has(this)&&(cR.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gte(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,XW(this),mte(this);const t=Jr,n=_u;Jr=this,_u=!0;try{return this.fn()}finally{yte(this),Jr=t,_u=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)w4(t);this.deps=this.depsTail=void 0,XW(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?cR.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){JL(this)&&this.run()}get dirty(){return JL(this)}}let vte=0,Zb,Jb;function gte(e,t=!1){if(e.flags|=8,t){e.next=Jb,Jb=e;return}e.next=Zb,Zb=e}function b4(){vte++}function x4(){if(--vte>0)return;if(Jb){let t=Jb;for(Jb=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Zb;){let t=Zb;for(Zb=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function mte(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function yte(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),w4(r),iwe(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function JL(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(bte(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function bte(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vx))return;e.globalVersion=Vx;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!JL(e)){e.flags&=-3;return}const n=Jr,r=_u;Jr=e,_u=!0;try{mte(e);const a=e.fn(e._value);(t.version===0||lh(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Jr=n,_u=r,yte(e),e.flags&=-3}}function w4(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)w4(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function iwe(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let _u=!0;const xte=[];function Yh(){xte.push(_u),_u=!1}function Xh(){const e=xte.pop();_u=e===void 0?!0:e}function XW(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Jr;Jr=void 0;try{t()}finally{Jr=n}}}let Vx=0,owe=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class eA{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Jr||!_u||Jr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Jr)n=this.activeLink=new owe(Jr,this),Jr.deps?(n.prevDep=Jr.depsTail,Jr.depsTail.nextDep=n,Jr.depsTail=n):Jr.deps=Jr.depsTail=n,wte(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Jr.depsTail,n.nextDep=void 0,Jr.depsTail.nextDep=n,Jr.depsTail=n,Jr.deps===n&&(Jr.deps=r)}return n}trigger(t){this.version++,Vx++,this.notify(t)}notify(t){b4();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{x4()}}}function wte(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)wte(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Lk=new WeakMap,Lv=Symbol(""),QL=Symbol(""),zx=Symbol("");function uo(e,t,n){if(_u&&Jr){let r=Lk.get(e);r||Lk.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new eA),a.map=r,a.key=n),a.track()}}function _f(e,t,n,r,a,i){const o=Lk.get(e);if(!o){Vx++;return}const s=l=>{l&&l.trigger()};if(b4(),t==="clear")o.forEach(s);else{const l=Ke(e),u=l&&y4(n);if(l&&n==="length"){const c=Number(r);o.forEach((f,d)=>{(d==="length"||d===zx||!Du(d)&&d>=c)&&s(f)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),u&&s(o.get(zx)),t){case"add":l?u&&s(o.get("length")):(s(o.get(Lv)),xm(e)&&s(o.get(QL)));break;case"delete":l||(s(o.get(Lv)),xm(e)&&s(o.get(QL)));break;case"set":xm(e)&&s(o.get(Lv));break}}x4()}function swe(e,t){const n=Lk.get(e);return n&&n.get(t)}function m0(e){const t=tr(e);return t===e?t:(uo(t,"iterate",zx),Dl(e)?t:t.map(co))}function tA(e){return uo(e=tr(e),"iterate",zx),e}const lwe={__proto__:null,[Symbol.iterator](){return fR(this,Symbol.iterator,co)},concat(...e){return m0(this).concat(...e.map(t=>Ke(t)?m0(t):t))},entries(){return fR(this,"entries",e=>(e[1]=co(e[1]),e))},every(e,t){return ff(this,"every",e,t,void 0,arguments)},filter(e,t){return ff(this,"filter",e,t,n=>n.map(co),arguments)},find(e,t){return ff(this,"find",e,t,co,arguments)},findIndex(e,t){return ff(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ff(this,"findLast",e,t,co,arguments)},findLastIndex(e,t){return ff(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ff(this,"forEach",e,t,void 0,arguments)},includes(...e){return dR(this,"includes",e)},indexOf(...e){return dR(this,"indexOf",e)},join(e){return m0(this).join(e)},lastIndexOf(...e){return dR(this,"lastIndexOf",e)},map(e,t){return ff(this,"map",e,t,void 0,arguments)},pop(){return L1(this,"pop")},push(...e){return L1(this,"push",e)},reduce(e,...t){return qW(this,"reduce",e,t)},reduceRight(e,...t){return qW(this,"reduceRight",e,t)},shift(){return L1(this,"shift")},some(e,t){return ff(this,"some",e,t,void 0,arguments)},splice(...e){return L1(this,"splice",e)},toReversed(){return m0(this).toReversed()},toSorted(e){return m0(this).toSorted(e)},toSpliced(...e){return m0(this).toSpliced(...e)},unshift(...e){return L1(this,"unshift",e)},values(){return fR(this,"values",co)}};function fR(e,t,n){const r=tA(e),a=r[t]();return r!==e&&!Dl(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const uwe=Array.prototype;function ff(e,t,n,r,a,i){const o=tA(e),s=o!==e&&!Dl(e),l=o[t];if(l!==uwe[t]){const f=l.apply(e,i);return s?co(f):f}let u=n;o!==e&&(s?u=function(f,d){return n.call(this,co(f),d,e)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,e)}));const c=l.call(o,u,r);return s&&a?a(c):c}function qW(e,t,n,r){const a=tA(e);let i=n;return a!==e&&(Dl(e)?n.length>3&&(i=function(o,s,l){return n.call(this,o,s,l,e)}):i=function(o,s,l){return n.call(this,o,co(s),l,e)}),a[t](i,...r)}function dR(e,t,n){const r=tr(e);uo(r,"iterate",zx);const a=r[t](...n);return(a===-1||a===!1)&&C4(n[0])?(n[0]=tr(n[0]),r[t](...n)):a}function L1(e,t,n=[]){Yh(),b4();const r=tr(e)[t].apply(e,n);return x4(),Xh(),r}const cwe=v4("__proto__,__v_isRef,__isVue"),_te=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Du));function fwe(e){Du(e)||(e=String(e));const t=tr(this);return uo(t,"has",e),t.hasOwnProperty(e)}class Ste{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?wwe:Ite:i?kte:Tte).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ke(t);if(!a){let l;if(o&&(l=lwe[n]))return l;if(n==="hasOwnProperty")return fwe}const s=Reflect.get(t,n,vr(t)?t:r);return(Du(n)?_te.has(n):cwe(n))||(a||uo(t,"get",n),i)?s:vr(s)?o&&y4(n)?s:s.value:qt(s)?a?Fy(s):Ln(s):s}}class Cte extends Ste{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const l=eg(i);if(!Dl(r)&&!eg(r)&&(i=tr(i),r=tr(r)),!Ke(t)&&vr(i)&&!vr(r))return l?!1:(i.value=r,!0)}const o=Ke(t)&&y4(n)?Number(n)<t.length:Dn(t,n),s=Reflect.set(t,n,r,vr(t)?t:a);return t===tr(a)&&(o?lh(r,i)&&_f(t,"set",n,r):_f(t,"add",n,r)),s}deleteProperty(t,n){const r=Dn(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&_f(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!Du(n)||!_te.has(n))&&uo(t,"has",n),r}ownKeys(t){return uo(t,"iterate",Ke(t)?"length":Lv),Reflect.ownKeys(t)}}class dwe extends Ste{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const hwe=new Cte,pwe=new dwe,vwe=new Cte(!0),eO=e=>e,AC=e=>Reflect.getPrototypeOf(e);function gwe(e,t,n){return function(...r){const a=this.__v_raw,i=tr(a),o=xm(i),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=a[e](...r),c=n?eO:t?tO:co;return!t&&uo(i,"iterate",l?QL:Lv),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function DC(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function mwe(e,t){const n={get(a){const i=this.__v_raw,o=tr(i),s=tr(a);e||(lh(a,s)&&uo(o,"get",a),uo(o,"get",s));const{has:l}=AC(o),u=t?eO:e?tO:co;if(l.call(o,a))return u(i.get(a));if(l.call(o,s))return u(i.get(s));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!e&&uo(tr(a),"iterate",Lv),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,o=tr(i),s=tr(a);return e||(lh(a,s)&&uo(o,"has",a),uo(o,"has",s)),a===s?i.has(a):i.has(a)||i.has(s)},forEach(a,i){const o=this,s=o.__v_raw,l=tr(s),u=t?eO:e?tO:co;return!e&&uo(l,"iterate",Lv),s.forEach((c,f)=>a.call(i,u(c),u(f),o))}};return fi(n,e?{add:DC("add"),set:DC("set"),delete:DC("delete"),clear:DC("clear")}:{add(a){!t&&!Dl(a)&&!eg(a)&&(a=tr(a));const i=tr(this);return AC(i).has.call(i,a)||(i.add(a),_f(i,"add",a,a)),this},set(a,i){!t&&!Dl(i)&&!eg(i)&&(i=tr(i));const o=tr(this),{has:s,get:l}=AC(o);let u=s.call(o,a);u||(a=tr(a),u=s.call(o,a));const c=l.call(o,a);return o.set(a,i),u?lh(i,c)&&_f(o,"set",a,i):_f(o,"add",a,i),this},delete(a){const i=tr(this),{has:o,get:s}=AC(i);let l=o.call(i,a);l||(a=tr(a),l=o.call(i,a)),s&&s.call(i,a);const u=i.delete(a);return l&&_f(i,"delete",a,void 0),u},clear(){const a=tr(this),i=a.size!==0,o=a.clear();return i&&_f(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=gwe(a,e,t)}),n}function _4(e,t){const n=mwe(e,t);return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Dn(n,a)&&a in r?n:r,a,i)}const ywe={get:_4(!1,!1)},bwe={get:_4(!1,!0)},xwe={get:_4(!0,!1)},Tte=new WeakMap,kte=new WeakMap,Ite=new WeakMap,wwe=new WeakMap;function _we(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Swe(e){return e.__v_skip||!Object.isExtensible(e)?0:_we(Yxe(e))}function Ln(e){return eg(e)?e:S4(e,!1,hwe,ywe,Tte)}function Ete(e){return S4(e,!1,vwe,bwe,kte)}function Fy(e){return S4(e,!0,pwe,xwe,Ite)}function S4(e,t,n,r,a){if(!qt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=Swe(e);if(o===0)return e;const s=new Proxy(e,o===2?r:n);return a.set(e,s),s}function wm(e){return eg(e)?wm(e.__v_raw):!!(e&&e.__v_isReactive)}function eg(e){return!!(e&&e.__v_isReadonly)}function Dl(e){return!!(e&&e.__v_isShallow)}function C4(e){return e?!!e.__v_raw:!1}function tr(e){const t=e&&e.__v_raw;return t?tr(t):e}function uh(e){return!Dn(e,"__v_skip")&&Object.isExtensible(e)&&ite(e,"__v_skip",!0),e}const co=e=>qt(e)?Ln(e):e,tO=e=>qt(e)?Fy(e):e;function vr(e){return e?e.__v_isRef===!0:!1}function Y(e){return Ate(e,!1)}function dr(e){return Ate(e,!0)}function Ate(e,t){return vr(e)?e:new Cwe(e,t)}class Cwe{constructor(t,n){this.dep=new eA,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:tr(t),this._value=n?t:co(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Dl(t)||eg(t);t=r?t:tr(t),lh(t,n)&&(this._rawValue=t,this._value=r?t:co(t),this.dep.trigger())}}function w(e){return vr(e)?e.value:e}const Twe={get:(e,t,n)=>t==="__v_raw"?e:w(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return vr(a)&&!vr(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function Dte(e){return wm(e)?e:new Proxy(e,Twe)}class kwe{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new eA,{get:r,set:a}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=a}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Iwe(e){return new kwe(e)}function di(e){const t=Ke(e)?new Array(e.length):{};for(const n in e)t[n]=Nte(e,n);return t}class Ewe{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return swe(tr(this._object),this._key)}}class Awe{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Hn(e,t,n){return vr(e)?e:mt(e)?new Awe(e):qt(e)&&arguments.length>1?Nte(e,t,n):Y(e)}function Nte(e,t,n){const r=e[t];return vr(r)?r:new Ewe(e,t,n)}class Dwe{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new eA(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vx-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Jr!==this)return gte(this,!0),!0}get value(){const t=this.dep.track();return bte(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Nwe(e,t,n=!1){let r,a;return mt(e)?r=e:(r=e.get,a=e.set),new Dwe(r,a,n)}const NC={},Ok=new WeakMap;let Jp;function Rwe(e,t=!1,n=Jp){if(n){let r=Ok.get(n);r||Ok.set(n,r=[]),r.push(e)}}function Mwe(e,t,n=jr){const{immediate:r,deep:a,once:i,scheduler:o,augmentJob:s,call:l}=n,u=x=>a?x:Dl(x)||a===!1||a===0?Sf(x,1):Sf(x);let c,f,d,h,p=!1,v=!1;if(vr(e)?(f=()=>e.value,p=Dl(e)):wm(e)?(f=()=>u(e),p=!0):Ke(e)?(v=!0,p=e.some(x=>wm(x)||Dl(x)),f=()=>e.map(x=>{if(vr(x))return x.value;if(wm(x))return u(x);if(mt(x))return l?l(x,2):x()})):mt(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Yh();try{d()}finally{Xh()}}const x=Jp;Jp=c;try{return l?l(e,3,[h]):e(h)}finally{Jp=x}}:f=zn,t&&a){const x=f,_=a===!0?1/0:a;f=()=>Sf(x(),_)}const g=dte(),m=()=>{c.stop(),g&&g.active&&m4(g.effects,c)};if(i&&t){const x=t;t=(..._)=>{x(..._),m()}}let y=v?new Array(e.length).fill(NC):NC;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const _=c.run();if(a||p||(v?_.some((S,C)=>lh(S,y[C])):lh(_,y))){d&&d();const S=Jp;Jp=c;try{const C=[_,y===NC?void 0:v&&y[0]===NC?[]:y,h];l?l(t,3,C):t(...C),y=_}finally{Jp=S}}}else c.run()};return s&&s(b),c=new pte(f),c.scheduler=o?()=>o(b,!1):b,h=x=>Rwe(x,!1,c),d=c.onStop=()=>{const x=Ok.get(c);if(x){if(l)l(x,4);else for(const _ of x)_();Ok.delete(c)}},t?r?b(!0):y=c.run():o?o(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Sf(e,t=1/0,n){if(t<=0||!qt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,vr(e))Sf(e.value,t,n);else if(Ke(e))for(let r=0;r<e.length;r++)Sf(e[r],t,n);else if(ZE(e)||xm(e))e.forEach(r=>{Sf(r,t,n)});else if(Bx(e)){for(const r in e)Sf(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Sf(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function g_(e,t,n,r){try{return r?e(...r):e()}catch(a){nA(a,t,n)}}function Nu(e,t,n,r){if(mt(e)){const a=g_(e,t,n,r);return a&&Fx(a)&&a.catch(i=>{nA(i,t,n)}),a}if(Ke(e)){const a=[];for(let i=0;i<e.length;i++)a.push(Nu(e[i],t,n,r));return a}}function nA(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||jr;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}s=s.parent}if(i){Yh(),g_(i,null,10,[e,l,u]),Xh();return}}$we(e,n,a,r,o)}function $we(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const Vo=[];let oc=-1;const _m=[];let Fd=null,q0=0;const Rte=Promise.resolve();let Pk=null;function xt(e){const t=Pk||Rte;return e?t.then(this?e.bind(this):e):t}function Lwe(e){let t=oc+1,n=Vo.length;for(;t<n;){const r=t+n>>>1,a=Vo[r],i=Wx(a);i<e||i===e&&a.flags&2?t=r+1:n=r}return t}function T4(e){if(!(e.flags&1)){const t=Wx(e),n=Vo[Vo.length-1];!n||!(e.flags&2)&&t>=Wx(n)?Vo.push(e):Vo.splice(Lwe(t),0,e),e.flags|=1,Mte()}}function Mte(){Pk||(Pk=Rte.then(Ote))}function $te(e){Ke(e)?_m.push(...e):Fd&&e.id===-1?Fd.splice(q0+1,0,e):e.flags&1||(_m.push(e),e.flags|=1),Mte()}function ZW(e,t,n=oc+1){for(;n<Vo.length;n++){const r=Vo[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Vo.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Lte(e){if(_m.length){const t=[...new Set(_m)].sort((n,r)=>Wx(n)-Wx(r));if(_m.length=0,Fd){Fd.push(...t);return}for(Fd=t,q0=0;q0<Fd.length;q0++){const n=Fd[q0];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Fd=null,q0=0}}const Wx=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ote(e){try{for(oc=0;oc<Vo.length;oc++){const t=Vo[oc];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),g_(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;oc<Vo.length;oc++){const t=Vo[oc];t&&(t.flags&=-2)}oc=-1,Vo.length=0,Lte(),Pk=null,(Vo.length||_m.length)&&Ote()}}let _i=null,Pte=null;function Fk(e){const t=_i;return _i=e,Pte=e&&e.type.__scopeId||null,t}function fe(e,t=_i,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&fH(-1);const i=Fk(t);let o;try{o=e(...a)}finally{Fk(i),r._d&&fH(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Vt(e,t){if(_i===null)return e;const n=sA(_i),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,o,s,l=jr]=t[a];i&&(mt(i)&&(i={mounted:i,updated:i}),i.deep&&Sf(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function wp(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[r];l&&(Yh(),Nu(l,n,8,[e.el,s,e,t]),Xh())}}const Fte=Symbol("_vte"),Bte=e=>e.__isTeleport,Qb=e=>e&&(e.disabled||e.disabled===""),JW=e=>e&&(e.defer||e.defer===""),QW=e=>typeof SVGElement<"u"&&e instanceof SVGElement,eH=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,nO=(e,t)=>{const n=e&&e.to;return gt(n)?t?t(n):null:n},Vte={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,i,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:v,createComment:g}}=u,m=Qb(t.props);let{shapeFlag:y,children:b,dynamicChildren:x}=t;if(e==null){const _=t.el=v(""),S=t.anchor=v("");h(_,n,r),h(S,n,r);const C=(T,E)=>{y&16&&(a&&a.isCE&&(a.ce._teleportTarget=T),c(b,T,E,a,i,o,s,l))},k=()=>{const T=t.target=nO(t.props,p),E=zte(T,t,v,h);T&&(o!=="svg"&&QW(T)?o="svg":o!=="mathml"&&eH(T)&&(o="mathml"),m||(C(T,E),IT(t,!1)))};m&&(C(n,S),IT(t,!0)),JW(t.props)?Mo(()=>{k(),t.el.__isMounted=!0},i):k()}else{if(JW(t.props)&&!e.el.__isMounted){Mo(()=>{Vte.process(e,t,n,r,a,i,o,s,l,u),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const _=t.anchor=e.anchor,S=t.target=e.target,C=t.targetAnchor=e.targetAnchor,k=Qb(e.props),T=k?n:S,E=k?_:C;if(o==="svg"||QW(S)?o="svg":(o==="mathml"||eH(S))&&(o="mathml"),x?(d(e.dynamicChildren,x,T,a,i,o,s),R4(e,t,!0)):l||f(e,t,T,E,a,i,o,s,!1),m)k?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):RC(t,n,_,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const I=t.target=nO(t.props,p);I&&RC(t,I,null,u,0)}else k&&RC(t,S,C,u,1);IT(t,m)}},remove(e,t,n,{um:r,o:{remove:a}},i){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=e;if(f&&(a(u),a(c)),i&&a(l),o&16){const h=i||!Qb(d);for(let p=0;p<s.length;p++){const v=s[p];r(v,t,n,h,!!v.dynamicChildren)}}},move:RC,hydrate:Owe};function RC(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=i===2;if(f&&r(o,t,n),(!f||Qb(c))&&l&16)for(let d=0;d<u.length;d++)a(u[d],t,n,2);f&&r(s,t,n)}function Owe(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:c}},f){const d=t.target=nO(t.props,l);if(d){const h=Qb(t.props),p=d._lpa||d.firstChild;if(t.shapeFlag&16)if(h)t.anchor=f(o(e),t,s(e),n,r,a,i),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let v=p;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||zte(d,t,c,u),f(p&&o(p),t,d,n,r,a,i)}IT(t,h)}return t.anchor&&o(t.anchor)}const Pwe=Vte;function IT(e,t){const n=e.ctx;if(n&&n.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function zte(e,t,n,r){const a=t.targetStart=n(""),i=t.targetAnchor=n("");return a[Fte]=i,e&&(r(a,e),r(i,e)),i}const Bd=Symbol("_leaveCb"),MC=Symbol("_enterCb");function Wte(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zt(()=>{e.isMounted=!0}),ar(()=>{e.isUnmounting=!0}),e}const el=[Function,Array],Hte={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:el,onEnter:el,onAfterEnter:el,onEnterCancelled:el,onBeforeLeave:el,onLeave:el,onAfterLeave:el,onLeaveCancelled:el,onBeforeAppear:el,onAppear:el,onAfterAppear:el,onAppearCancelled:el},Ute=e=>{const t=e.subTree;return t.component?Ute(t.component):t},Fwe={name:"BaseTransition",props:Hte,setup(e,{slots:t}){const n=jt(),r=Wte();return()=>{const a=t.default&&k4(t.default(),!0);if(!a||!a.length)return;const i=Gte(a),o=tr(e),{mode:s}=o;if(r.isLeaving)return hR(i);const l=tH(i);if(!l)return hR(i);let u=Hx(l,o,r,n,f=>u=f);l.type!==ti&&tg(l,u);let c=n.subTree&&tH(n.subTree);if(c&&c.type!==ti&&!ov(l,c)&&Ute(n).type!==ti){let f=Hx(c,o,r,n);if(tg(c,f),s==="out-in"&&l.type!==ti)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},hR(i);s==="in-out"&&l.type!==ti?f.delayLeave=(d,h,p)=>{const v=Kte(r,c);v[String(c.key)]=c,d[Bd]=()=>{h(),d[Bd]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function Gte(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ti){t=n;break}}return t}const Bwe=Fwe;function Kte(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Hx(e,t,n,r,a){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=t,x=String(e.key),_=Kte(n,e),S=(T,E)=>{T&&Nu(T,r,9,E)},C=(T,E)=>{const I=E[1];S(T,E),Ke(T)?T.every(A=>A.length<=1)&&I():T.length<=1&&I()},k={mode:o,persisted:s,beforeEnter(T){let E=l;if(!n.isMounted)if(i)E=g||l;else return;T[Bd]&&T[Bd](!0);const I=_[x];I&&ov(e,I)&&I.el[Bd]&&I.el[Bd](),S(E,[T])},enter(T){let E=u,I=c,A=f;if(!n.isMounted)if(i)E=m||u,I=y||c,A=b||f;else return;let N=!1;const L=T[MC]=R=>{N||(N=!0,R?S(A,[T]):S(I,[T]),k.delayedLeave&&k.delayedLeave(),T[MC]=void 0)};E?C(E,[T,L]):L()},leave(T,E){const I=String(e.key);if(T[MC]&&T[MC](!0),n.isUnmounting)return E();S(d,[T]);let A=!1;const N=T[Bd]=L=>{A||(A=!0,E(),L?S(v,[T]):S(p,[T]),T[Bd]=void 0,_[I]===e&&delete _[I])};_[I]=e,h?C(h,[T,N]):N()},clone(T){const E=Hx(T,t,n,r,a);return a&&a(E),E}};return k}function hR(e){if(rA(e))return e=zf(e),e.children=null,e}function tH(e){if(!rA(e))return Bte(e.type)&&e.children?Gte(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&mt(n.default))return n.default()}}function tg(e,t){e.shapeFlag&6&&e.component?(e.transition=t,tg(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function k4(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===vt?(o.patchFlag&128&&a++,r=r.concat(k4(o.children,t,s))):(t||o.type!==ti)&&r.push(s!=null?zf(o,{key:s}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function se(e,t){return mt(e)?fi({name:e.name},t,{setup:e}):e}function jte(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Bk(e,t,n,r,a=!1){if(Ke(e)){e.forEach((p,v)=>Bk(p,t&&(Ke(t)?t[v]:t),n,r,a));return}if(Sm(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Bk(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?sA(r.component):r.el,o=a?null:i,{i:s,r:l}=e,u=t&&t.r,c=s.refs===jr?s.refs={}:s.refs,f=s.setupState,d=tr(f),h=f===jr?()=>!1:p=>Dn(d,p);if(u!=null&&u!==l&&(gt(u)?(c[u]=null,h(u)&&(f[u]=null)):vr(u)&&(u.value=null)),mt(l))g_(l,s,12,[o,c]);else{const p=gt(l),v=vr(l);if(p||v){const g=()=>{if(e.f){const m=p?h(l)?f[l]:c[l]:l.value;a?Ke(m)&&m4(m,i):Ke(m)?m.includes(i)||m.push(i):p?(c[l]=[i],h(l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else p?(c[l]=o,h(l)&&(f[l]=o)):v&&(l.value=o,e.k&&(c[e.k]=o))};o?(g.id=-1,Mo(g,n)):g()}}}QE().requestIdleCallback;QE().cancelIdleCallback;const Sm=e=>!!e.type.__asyncLoader,rA=e=>e.type.__isKeepAlive;function I4(e,t){Xte(e,"a",t)}function Yte(e,t){Xte(e,"da",t)}function Xte(e,t,n=Oi){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(aA(t,r,n),n){let a=n.parent;for(;a&&a.parent;)rA(a.parent.vnode)&&Vwe(r,t,n,a),a=a.parent}}function Vwe(e,t,n,r){const a=aA(t,e,r,!0);zu(()=>{m4(r[t],a)},n)}function aA(e,t,n=Oi,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Yh();const s=y_(n),l=Nu(t,n,e,o);return s(),Xh(),l});return r?a.unshift(i):a.push(i),i}}const id=e=>(t,n=Oi)=>{(!Gx||e==="sp")&&aA(e,(...r)=>t(...r),n)},iA=id("bm"),zt=id("m"),E4=id("bu"),Xc=id("u"),ar=id("bum"),zu=id("um"),zwe=id("sp"),Wwe=id("rtg"),Hwe=id("rtc");function Uwe(e,t=Oi){aA("ec",e,t)}const A4="components",Gwe="directives";function Ft(e,t){return D4(A4,e,!0,t)||e}const qte=Symbol.for("v-ndc");function tn(e){return gt(e)?D4(A4,e,!1)||e:e||qte}function m_(e){return D4(Gwe,e)}function D4(e,t,n=!0,r=!1){const a=_i||Oi;if(a){const i=a.type;if(e===A4){const s=A_e(i,!1);if(s&&(s===t||s===Qo(t)||s===v_(Qo(t))))return i}const o=nH(a[e]||i[e],t)||nH(a.appContext[e],t);return!o&&r?i:o}}function nH(e,t){return e&&(e[t]||e[Qo(t)]||e[v_(Qo(t))])}function un(e,t,n,r){let a;const i=n,o=Ke(e);if(o||gt(e)){const s=o&&wm(e);let l=!1;s&&(l=!Dl(e),e=tA(e)),a=new Array(e.length);for(let u=0,c=e.length;u<c;u++)a[u]=t(l?co(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let s=0;s<e;s++)a[s]=t(s+1,s,void 0,i)}else if(qt(e))if(e[Symbol.iterator])a=Array.from(e,(s,l)=>t(s,l,void 0,i));else{const s=Object.keys(e);a=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];a[l]=t(e[c],c,l,i)}}else a=[];return a}function Ml(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Ke(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const i=r.fn(...a);return i&&(i.key=r.key),i}:r.fn)}return e}function Se(e,t,n={},r,a){if(_i.ce||_i.parent&&Sm(_i.parent)&&_i.parent.ce)return t!=="default"&&(n.name=t),z(),Ae(vt,null,[ie("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),z();const o=i&&Zte(i(n)),s=n.key||o&&o.key,l=Ae(vt,{key:(s&&!Du(s)?s:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Zte(e){return e.some(t=>$r(t)?!(t.type===ti||t.type===vt&&!Zte(t.children)):!0)?e:null}function Kwe(e,t){const n={};for(const r in e)n[qb(r)]=e[r];return n}const rO=e=>e?mne(e)?sA(e):rO(e.parent):null,ex=fi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rO(e.parent),$root:e=>rO(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ene(e),$forceUpdate:e=>e.f||(e.f=()=>{T4(e.update)}),$nextTick:e=>e.n||(e.n=xt.bind(e.proxy)),$watch:e=>h_e.bind(e)}),pR=(e,t)=>e!==jr&&!e.__isScriptSetup&&Dn(e,t),jwe={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(pR(r,t))return o[t]=1,r[t];if(a!==jr&&Dn(a,t))return o[t]=2,a[t];if((u=e.propsOptions[0])&&Dn(u,t))return o[t]=3,i[t];if(n!==jr&&Dn(n,t))return o[t]=4,n[t];aO&&(o[t]=0)}}const c=ex[t];let f,d;if(c)return t==="$attrs"&&uo(e.attrs,"get",""),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(n!==jr&&Dn(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Dn(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return pR(a,t)?(a[t]=n,!0):r!==jr&&Dn(r,t)?(r[t]=n,!0):Dn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let s;return!!n[o]||e!==jr&&Dn(e,o)||pR(t,o)||(s=i[0])&&Dn(s,o)||Dn(r,o)||Dn(ex,o)||Dn(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Dn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sa(){return Jte().slots}function qh(){return Jte().attrs}function Jte(){const e=jt();return e.setupContext||(e.setupContext=bne(e))}function rH(e){return Ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let aO=!0;function Ywe(e){const t=ene(e),n=e.proxy,r=e.ctx;aO=!1,t.beforeCreate&&aH(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:x,render:_,renderTracked:S,renderTriggered:C,errorCaptured:k,serverPrefetch:T,expose:E,inheritAttrs:I,components:A,directives:N,filters:L}=t;if(u&&Xwe(u,r,null),o)for(const P in o){const O=o[P];mt(O)&&(r[P]=O.bind(n))}if(a){const P=a.call(n,n);qt(P)&&(e.data=Ln(P))}if(aO=!0,i)for(const P in i){const O=i[P],M=mt(O)?O.bind(n,n):mt(O.get)?O.get.bind(n,n):zn,W=!mt(O)&&mt(O.set)?O.set.bind(n):zn,U=F({get:M,set:W});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>U.value,set:V=>U.value=V})}if(s)for(const P in s)Qte(s[P],r,n,P);if(l){const P=mt(l)?l.call(n):l;Reflect.ownKeys(P).forEach(O=>{hn(O,P[O])})}c&&aH(c,e,"c");function D(P,O){Ke(O)?O.forEach(M=>P(M.bind(n))):O&&P(O.bind(n))}if(D(iA,f),D(zt,d),D(E4,h),D(Xc,p),D(I4,v),D(Yte,g),D(Uwe,k),D(Hwe,S),D(Wwe,C),D(ar,y),D(zu,x),D(zwe,T),Ke(E))if(E.length){const P=e.exposed||(e.exposed={});E.forEach(O=>{Object.defineProperty(P,O,{get:()=>n[O],set:M=>n[O]=M})})}else e.exposed||(e.exposed={});_&&e.render===zn&&(e.render=_),I!=null&&(e.inheritAttrs=I),A&&(e.components=A),N&&(e.directives=N),T&&jte(e)}function Xwe(e,t,n=zn){Ke(e)&&(e=iO(e));for(const r in e){const a=e[r];let i;qt(a)?"default"in a?i=ht(a.from||r,a.default,!0):i=ht(a.from||r):i=ht(a),vr(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function aH(e,t,n){Nu(Ke(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Qte(e,t,n,r){let a=r.includes(".")?dne(n,r):()=>n[r];if(gt(e)){const i=t[e];mt(i)&&Le(a,i)}else if(mt(e))Le(a,e.bind(n));else if(qt(e))if(Ke(e))e.forEach(i=>Qte(i,t,n,r));else{const i=mt(e.handler)?e.handler.bind(n):t[e.handler];mt(i)&&Le(a,i,e)}}function ene(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!n&&!r?l=t:(l={},a.length&&a.forEach(u=>Vk(l,u,o,!0)),Vk(l,t,o)),qt(t)&&i.set(t,l),l}function Vk(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&Vk(e,i,n,!0),a&&a.forEach(o=>Vk(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=qwe[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const qwe={data:iH,props:oH,emits:oH,methods:Sb,computed:Sb,beforeCreate:No,created:No,beforeMount:No,mounted:No,beforeUpdate:No,updated:No,beforeDestroy:No,beforeUnmount:No,destroyed:No,unmounted:No,activated:No,deactivated:No,errorCaptured:No,serverPrefetch:No,components:Sb,directives:Sb,watch:Jwe,provide:iH,inject:Zwe};function iH(e,t){return t?e?function(){return fi(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function Zwe(e,t){return Sb(iO(e),iO(t))}function iO(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function No(e,t){return e?[...new Set([].concat(e,t))]:t}function Sb(e,t){return e?fi(Object.create(null),e,t):t}function oH(e,t){return e?Ke(e)&&Ke(t)?[...new Set([...e,...t])]:fi(Object.create(null),rH(e),rH(t??{})):t}function Jwe(e,t){if(!e)return t;if(!t)return e;const n=fi(Object.create(null),e);for(const r in t)n[r]=No(e[r],t[r]);return n}function tne(){return{app:null,config:{isNativeTag:Kxe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qwe=0;function e_e(e,t){return function(r,a=null){mt(r)||(r=fi({},r)),a!=null&&!qt(a)&&(a=null);const i=tne(),o=new WeakSet,s=[];let l=!1;const u=i.app={_uid:Qwe++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:N_e,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&mt(c.install)?(o.add(c),c.install(u,...f)):mt(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||ie(r,a);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,c,d),l=!0,u._container=c,c.__vue_app__=u,sA(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Nu(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=Cm;Cm=u;try{return c()}finally{Cm=f}}};return u}}let Cm=null;function hn(e,t){if(Oi){let n=Oi.provides;const r=Oi.parent&&Oi.parent.provides;r===n&&(n=Oi.provides=Object.create(r)),n[e]=t}}function ht(e,t,n=!1){const r=Oi||_i;if(r||Cm){const a=Cm?Cm._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&mt(t)?t.call(r&&r.proxy):t}}const nne={},rne=()=>Object.create(nne),ane=e=>Object.getPrototypeOf(e)===nne;function t_e(e,t,n,r=!1){const a={},i=rne();e.propsDefaults=Object.create(null),ine(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:Ete(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function n_e(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=tr(a),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(oA(e.emitsOptions,d))continue;const h=t[d];if(l)if(Dn(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const p=Qo(d);a[p]=oO(l,s,p,h,e,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{ine(e,t,a,i)&&(u=!0);let c;for(const f in s)(!t||!Dn(t,f)&&((c=ad(f))===f||!Dn(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(a[f]=oO(l,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!Dn(t,f))&&(delete i[f],u=!0)}u&&_f(e.attrs,"set","")}function ine(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Xb(l))continue;const u=t[l];let c;a&&Dn(a,c=Qo(l))?!i||!i.includes(c)?n[c]=u:(s||(s={}))[c]=u:oA(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=tr(n),u=s||jr;for(let c=0;c<i.length;c++){const f=i[c];n[f]=oO(a,l,f,u[f],e,!Dn(u,f))}}return o}function oO(e,t,n,r,a,i){const o=e[n];if(o!=null){const s=Dn(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&mt(l)){const{propsDefaults:u}=a;if(n in u)r=u[n];else{const c=y_(a);r=u[n]=l.call(null,t),c()}}else r=l;a.ce&&a.ce._setProp(n,r)}o[0]&&(i&&!s?r=!1:o[1]&&(r===""||r===ad(n))&&(r=!0))}return r}const r_e=new WeakMap;function one(e,t,n=!1){const r=n?r_e:t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},s=[];let l=!1;if(!mt(e)){const c=f=>{l=!0;const[d,h]=one(f,t,!0);fi(o,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return qt(e)&&r.set(e,bm),bm;if(Ke(i))for(let c=0;c<i.length;c++){const f=Qo(i[c]);sH(f)&&(o[f]=jr)}else if(i)for(const c in i){const f=Qo(c);if(sH(f)){const d=i[c],h=o[f]=Ke(d)||mt(d)?{type:d}:fi({},d),p=h.type;let v=!1,g=!0;if(Ke(p))for(let m=0;m<p.length;++m){const y=p[m],b=mt(y)&&y.name;if(b==="Boolean"){v=!0;break}else b==="String"&&(g=!1)}else v=mt(p)&&p.name==="Boolean";h[0]=v,h[1]=g,(v||Dn(h,"default"))&&s.push(f)}}const u=[o,s];return qt(e)&&r.set(e,u),u}function sH(e){return e[0]!=="$"&&!Xb(e)}const sne=e=>e[0]==="_"||e==="$stable",N4=e=>Ke(e)?e.map(fc):[fc(e)],a_e=(e,t,n)=>{if(t._n)return t;const r=fe((...a)=>N4(t(...a)),n);return r._c=!1,r},lne=(e,t,n)=>{const r=e._ctx;for(const a in e){if(sne(a))continue;const i=e[a];if(mt(i))t[a]=a_e(a,i,r);else if(i!=null){const o=N4(i);t[a]=()=>o}}},une=(e,t)=>{const n=N4(t);e.slots.default=()=>n},cne=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},i_e=(e,t,n)=>{const r=e.slots=rne();if(e.vnode.shapeFlag&32){const a=t._;a?(cne(r,t,n),n&&ite(r,"_",a,!0)):lne(t,r)}else t&&une(e,t)},o_e=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=jr;if(r.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:cne(a,t,n):(i=!t.$stable,lne(t,a)),o=t}else t&&(une(e,t),o={default:1});if(i)for(const s in a)!sne(s)&&o[s]==null&&delete a[s]},Mo=x_e;function s_e(e){return l_e(e)}function l_e(e,t){const n=QE();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=zn,insertStaticContent:p}=e,v=(B,re,ge,Ie=null,Ce=null,he=null,J=void 0,te=null,xe=!!re.dynamicChildren)=>{if(B===re)return;B&&!ov(B,re)&&(Ie=Q(B),V(B,Ce,he,!0),B=null),re.patchFlag===-2&&(xe=!1,re.dynamicChildren=null);const{type:Ee,ref:Qe,shapeFlag:Be}=re;switch(Ee){case Lg:g(B,re,ge,Ie);break;case ti:m(B,re,ge,Ie);break;case ET:B==null&&y(re,ge,Ie,J);break;case vt:A(B,re,ge,Ie,Ce,he,J,te,xe);break;default:Be&1?_(B,re,ge,Ie,Ce,he,J,te,xe):Be&6?N(B,re,ge,Ie,Ce,he,J,te,xe):(Be&64||Be&128)&&Ee.process(B,re,ge,Ie,Ce,he,J,te,xe,me)}Qe!=null&&Ce&&Bk(Qe,B&&B.ref,he,re||B,!re)},g=(B,re,ge,Ie)=>{if(B==null)r(re.el=s(re.children),ge,Ie);else{const Ce=re.el=B.el;re.children!==B.children&&u(Ce,re.children)}},m=(B,re,ge,Ie)=>{B==null?r(re.el=l(re.children||""),ge,Ie):re.el=B.el},y=(B,re,ge,Ie)=>{[B.el,B.anchor]=p(B.children,re,ge,Ie,B.el,B.anchor)},b=({el:B,anchor:re},ge,Ie)=>{let Ce;for(;B&&B!==re;)Ce=d(B),r(B,ge,Ie),B=Ce;r(re,ge,Ie)},x=({el:B,anchor:re})=>{let ge;for(;B&&B!==re;)ge=d(B),a(B),B=ge;a(re)},_=(B,re,ge,Ie,Ce,he,J,te,xe)=>{re.type==="svg"?J="svg":re.type==="math"&&(J="mathml"),B==null?S(re,ge,Ie,Ce,he,J,te,xe):T(B,re,Ce,he,J,te,xe)},S=(B,re,ge,Ie,Ce,he,J,te)=>{let xe,Ee;const{props:Qe,shapeFlag:Be,transition:ce,dirs:Re}=B;if(xe=B.el=o(B.type,he,Qe&&Qe.is,Qe),Be&8?c(xe,B.children):Be&16&&k(B.children,xe,null,Ie,Ce,vR(B,he),J,te),Re&&wp(B,null,Ie,"created"),C(xe,B,B.scopeId,J,Ie),Qe){for(const It in Qe)It!=="value"&&!Xb(It)&&i(xe,It,null,Qe[It],he,Ie);"value"in Qe&&i(xe,"value",null,Qe.value,he),(Ee=Qe.onVnodeBeforeMount)&&Yu(Ee,Ie,B)}Re&&wp(B,null,Ie,"beforeMount");const ct=u_e(Ce,ce);ct&&ce.beforeEnter(xe),r(xe,re,ge),((Ee=Qe&&Qe.onVnodeMounted)||ct||Re)&&Mo(()=>{Ee&&Yu(Ee,Ie,B),ct&&ce.enter(xe),Re&&wp(B,null,Ie,"mounted")},Ce)},C=(B,re,ge,Ie,Ce)=>{if(ge&&h(B,ge),Ie)for(let he=0;he<Ie.length;he++)h(B,Ie[he]);if(Ce){let he=Ce.subTree;if(re===he||pne(he.type)&&(he.ssContent===re||he.ssFallback===re)){const J=Ce.vnode;C(B,J,J.scopeId,J.slotScopeIds,Ce.parent)}}},k=(B,re,ge,Ie,Ce,he,J,te,xe=0)=>{for(let Ee=xe;Ee<B.length;Ee++){const Qe=B[Ee]=te?Vd(B[Ee]):fc(B[Ee]);v(null,Qe,re,ge,Ie,Ce,he,J,te)}},T=(B,re,ge,Ie,Ce,he,J)=>{const te=re.el=B.el;let{patchFlag:xe,dynamicChildren:Ee,dirs:Qe}=re;xe|=B.patchFlag&16;const Be=B.props||jr,ce=re.props||jr;let Re;if(ge&&_p(ge,!1),(Re=ce.onVnodeBeforeUpdate)&&Yu(Re,ge,re,B),Qe&&wp(re,B,ge,"beforeUpdate"),ge&&_p(ge,!0),(Be.innerHTML&&ce.innerHTML==null||Be.textContent&&ce.textContent==null)&&c(te,""),Ee?E(B.dynamicChildren,Ee,te,ge,Ie,vR(re,Ce),he):J||O(B,re,te,null,ge,Ie,vR(re,Ce),he,!1),xe>0){if(xe&16)I(te,Be,ce,ge,Ce);else if(xe&2&&Be.class!==ce.class&&i(te,"class",null,ce.class,Ce),xe&4&&i(te,"style",Be.style,ce.style,Ce),xe&8){const ct=re.dynamicProps;for(let It=0;It<ct.length;It++){const wt=ct[It],Qt=Be[wt],_t=ce[wt];(_t!==Qt||wt==="value")&&i(te,wt,Qt,_t,Ce,ge)}}xe&1&&B.children!==re.children&&c(te,re.children)}else!J&&Ee==null&&I(te,Be,ce,ge,Ce);((Re=ce.onVnodeUpdated)||Qe)&&Mo(()=>{Re&&Yu(Re,ge,re,B),Qe&&wp(re,B,ge,"updated")},Ie)},E=(B,re,ge,Ie,Ce,he,J)=>{for(let te=0;te<re.length;te++){const xe=B[te],Ee=re[te],Qe=xe.el&&(xe.type===vt||!ov(xe,Ee)||xe.shapeFlag&70)?f(xe.el):ge;v(xe,Ee,Qe,null,Ie,Ce,he,J,!0)}},I=(B,re,ge,Ie,Ce)=>{if(re!==ge){if(re!==jr)for(const he in re)!Xb(he)&&!(he in ge)&&i(B,he,re[he],null,Ce,Ie);for(const he in ge){if(Xb(he))continue;const J=ge[he],te=re[he];J!==te&&he!=="value"&&i(B,he,te,J,Ce,Ie)}"value"in ge&&i(B,"value",re.value,ge.value,Ce)}},A=(B,re,ge,Ie,Ce,he,J,te,xe)=>{const Ee=re.el=B?B.el:s(""),Qe=re.anchor=B?B.anchor:s("");let{patchFlag:Be,dynamicChildren:ce,slotScopeIds:Re}=re;Re&&(te=te?te.concat(Re):Re),B==null?(r(Ee,ge,Ie),r(Qe,ge,Ie),k(re.children||[],ge,Qe,Ce,he,J,te,xe)):Be>0&&Be&64&&ce&&B.dynamicChildren?(E(B.dynamicChildren,ce,ge,Ce,he,J,te),(re.key!=null||Ce&&re===Ce.subTree)&&R4(B,re,!0)):O(B,re,ge,Qe,Ce,he,J,te,xe)},N=(B,re,ge,Ie,Ce,he,J,te,xe)=>{re.slotScopeIds=te,B==null?re.shapeFlag&512?Ce.ctx.activate(re,ge,Ie,J,xe):L(re,ge,Ie,Ce,he,J,xe):R(B,re,xe)},L=(B,re,ge,Ie,Ce,he,J)=>{const te=B.component=T_e(B,Ie,Ce);if(rA(B)&&(te.ctx.renderer=me),k_e(te,!1,J),te.asyncDep){if(Ce&&Ce.registerDep(te,D,J),!B.el){const xe=te.subTree=ie(ti);m(null,xe,re,ge)}}else D(te,B,re,ge,Ce,he,J)},R=(B,re,ge)=>{const Ie=re.component=B.component;if(y_e(B,re,ge))if(Ie.asyncDep&&!Ie.asyncResolved){P(Ie,re,ge);return}else Ie.next=re,Ie.update();else re.el=B.el,Ie.vnode=re},D=(B,re,ge,Ie,Ce,he,J)=>{const te=()=>{if(B.isMounted){let{next:Be,bu:ce,u:Re,parent:ct,vnode:It}=B;{const Ne=fne(B);if(Ne){Be&&(Be.el=It.el,P(B,Be,J)),Ne.asyncDep.then(()=>{B.isUnmounted||te()});return}}let wt=Be,Qt;_p(B,!1),Be?(Be.el=It.el,P(B,Be,J)):Be=It,ce&&kT(ce),(Qt=Be.props&&Be.props.onVnodeBeforeUpdate)&&Yu(Qt,ct,Be,It),_p(B,!0);const _t=uH(B),ln=B.subTree;B.subTree=_t,v(ln,_t,f(ln.el),Q(ln),B,Ce,he),Be.el=_t.el,wt===null&&b_e(B,_t.el),Re&&Mo(Re,Ce),(Qt=Be.props&&Be.props.onVnodeUpdated)&&Mo(()=>Yu(Qt,ct,Be,It),Ce)}else{let Be;const{el:ce,props:Re}=re,{bm:ct,m:It,parent:wt,root:Qt,type:_t}=B,ln=Sm(re);_p(B,!1),ct&&kT(ct),!ln&&(Be=Re&&Re.onVnodeBeforeMount)&&Yu(Be,wt,re),_p(B,!0);{Qt.ce&&Qt.ce._injectChildStyle(_t);const Ne=B.subTree=uH(B);v(null,Ne,ge,Ie,B,Ce,he),re.el=Ne.el}if(It&&Mo(It,Ce),!ln&&(Be=Re&&Re.onVnodeMounted)){const Ne=re;Mo(()=>Yu(Be,wt,Ne),Ce)}(re.shapeFlag&256||wt&&Sm(wt.vnode)&&wt.vnode.shapeFlag&256)&&B.a&&Mo(B.a,Ce),B.isMounted=!0,re=ge=Ie=null}};B.scope.on();const xe=B.effect=new pte(te);B.scope.off();const Ee=B.update=xe.run.bind(xe),Qe=B.job=xe.runIfDirty.bind(xe);Qe.i=B,Qe.id=B.uid,xe.scheduler=()=>T4(Qe),_p(B,!0),Ee()},P=(B,re,ge)=>{re.component=B;const Ie=B.vnode.props;B.vnode=re,B.next=null,n_e(B,re.props,Ie,ge),o_e(B,re.children,ge),Yh(),ZW(B),Xh()},O=(B,re,ge,Ie,Ce,he,J,te,xe=!1)=>{const Ee=B&&B.children,Qe=B?B.shapeFlag:0,Be=re.children,{patchFlag:ce,shapeFlag:Re}=re;if(ce>0){if(ce&128){W(Ee,Be,ge,Ie,Ce,he,J,te,xe);return}else if(ce&256){M(Ee,Be,ge,Ie,Ce,he,J,te,xe);return}}Re&8?(Qe&16&&ne(Ee,Ce,he),Be!==Ee&&c(ge,Be)):Qe&16?Re&16?W(Ee,Be,ge,Ie,Ce,he,J,te,xe):ne(Ee,Ce,he,!0):(Qe&8&&c(ge,""),Re&16&&k(Be,ge,Ie,Ce,he,J,te,xe))},M=(B,re,ge,Ie,Ce,he,J,te,xe)=>{B=B||bm,re=re||bm;const Ee=B.length,Qe=re.length,Be=Math.min(Ee,Qe);let ce;for(ce=0;ce<Be;ce++){const Re=re[ce]=xe?Vd(re[ce]):fc(re[ce]);v(B[ce],Re,ge,null,Ce,he,J,te,xe)}Ee>Qe?ne(B,Ce,he,!0,!1,Be):k(re,ge,Ie,Ce,he,J,te,xe,Be)},W=(B,re,ge,Ie,Ce,he,J,te,xe)=>{let Ee=0;const Qe=re.length;let Be=B.length-1,ce=Qe-1;for(;Ee<=Be&&Ee<=ce;){const Re=B[Ee],ct=re[Ee]=xe?Vd(re[Ee]):fc(re[Ee]);if(ov(Re,ct))v(Re,ct,ge,null,Ce,he,J,te,xe);else break;Ee++}for(;Ee<=Be&&Ee<=ce;){const Re=B[Be],ct=re[ce]=xe?Vd(re[ce]):fc(re[ce]);if(ov(Re,ct))v(Re,ct,ge,null,Ce,he,J,te,xe);else break;Be--,ce--}if(Ee>Be){if(Ee<=ce){const Re=ce+1,ct=Re<Qe?re[Re].el:Ie;for(;Ee<=ce;)v(null,re[Ee]=xe?Vd(re[Ee]):fc(re[Ee]),ge,ct,Ce,he,J,te,xe),Ee++}}else if(Ee>ce)for(;Ee<=Be;)V(B[Ee],Ce,he,!0),Ee++;else{const Re=Ee,ct=Ee,It=new Map;for(Ee=ct;Ee<=ce;Ee++){const We=re[Ee]=xe?Vd(re[Ee]):fc(re[Ee]);We.key!=null&&It.set(We.key,Ee)}let wt,Qt=0;const _t=ce-ct+1;let ln=!1,Ne=0;const nt=new Array(_t);for(Ee=0;Ee<_t;Ee++)nt[Ee]=0;for(Ee=Re;Ee<=Be;Ee++){const We=B[Ee];if(Qt>=_t){V(We,Ce,he,!0);continue}let de;if(We.key!=null)de=It.get(We.key);else for(wt=ct;wt<=ce;wt++)if(nt[wt-ct]===0&&ov(We,re[wt])){de=wt;break}de===void 0?V(We,Ce,he,!0):(nt[de-ct]=Ee+1,de>=Ne?Ne=de:ln=!0,v(We,re[de],ge,null,Ce,he,J,te,xe),Qt++)}const _e=ln?c_e(nt):bm;for(wt=_e.length-1,Ee=_t-1;Ee>=0;Ee--){const We=ct+Ee,de=re[We],ft=We+1<Qe?re[We+1].el:Ie;nt[Ee]===0?v(null,de,ge,ft,Ce,he,J,te,xe):ln&&(wt<0||Ee!==_e[wt]?U(de,ge,ft,2):wt--)}}},U=(B,re,ge,Ie,Ce=null)=>{const{el:he,type:J,transition:te,children:xe,shapeFlag:Ee}=B;if(Ee&6){U(B.component.subTree,re,ge,Ie);return}if(Ee&128){B.suspense.move(re,ge,Ie);return}if(Ee&64){J.move(B,re,ge,me);return}if(J===vt){r(he,re,ge);for(let Be=0;Be<xe.length;Be++)U(xe[Be],re,ge,Ie);r(B.anchor,re,ge);return}if(J===ET){b(B,re,ge);return}if(Ie!==2&&Ee&1&&te)if(Ie===0)te.beforeEnter(he),r(he,re,ge),Mo(()=>te.enter(he),Ce);else{const{leave:Be,delayLeave:ce,afterLeave:Re}=te,ct=()=>r(he,re,ge),It=()=>{Be(he,()=>{ct(),Re&&Re()})};ce?ce(he,ct,It):It()}else r(he,re,ge)},V=(B,re,ge,Ie=!1,Ce=!1)=>{const{type:he,props:J,ref:te,children:xe,dynamicChildren:Ee,shapeFlag:Qe,patchFlag:Be,dirs:ce,cacheIndex:Re}=B;if(Be===-2&&(Ce=!1),te!=null&&Bk(te,null,ge,B,!0),Re!=null&&(re.renderCache[Re]=void 0),Qe&256){re.ctx.deactivate(B);return}const ct=Qe&1&&ce,It=!Sm(B);let wt;if(It&&(wt=J&&J.onVnodeBeforeUnmount)&&Yu(wt,re,B),Qe&6)j(B.component,ge,Ie);else{if(Qe&128){B.suspense.unmount(ge,Ie);return}ct&&wp(B,null,re,"beforeUnmount"),Qe&64?B.type.remove(B,re,ge,me,Ie):Ee&&!Ee.hasOnce&&(he!==vt||Be>0&&Be&64)?ne(Ee,re,ge,!1,!0):(he===vt&&Be&384||!Ce&&Qe&16)&&ne(xe,re,ge),Ie&&H(B)}(It&&(wt=J&&J.onVnodeUnmounted)||ct)&&Mo(()=>{wt&&Yu(wt,re,B),ct&&wp(B,null,re,"unmounted")},ge)},H=B=>{const{type:re,el:ge,anchor:Ie,transition:Ce}=B;if(re===vt){K(ge,Ie);return}if(re===ET){x(B);return}const he=()=>{a(ge),Ce&&!Ce.persisted&&Ce.afterLeave&&Ce.afterLeave()};if(B.shapeFlag&1&&Ce&&!Ce.persisted){const{leave:J,delayLeave:te}=Ce,xe=()=>J(ge,he);te?te(B.el,he,xe):xe()}else he()},K=(B,re)=>{let ge;for(;B!==re;)ge=d(B),a(B),B=ge;a(re)},j=(B,re,ge)=>{const{bum:Ie,scope:Ce,job:he,subTree:J,um:te,m:xe,a:Ee}=B;lH(xe),lH(Ee),Ie&&kT(Ie),Ce.stop(),he&&(he.flags|=8,V(J,B,re,ge)),te&&Mo(te,re),Mo(()=>{B.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},ne=(B,re,ge,Ie=!1,Ce=!1,he=0)=>{for(let J=he;J<B.length;J++)V(B[J],re,ge,Ie,Ce)},Q=B=>{if(B.shapeFlag&6)return Q(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const re=d(B.anchor||B.el),ge=re&&re[Fte];return ge?d(ge):re};let oe=!1;const ae=(B,re,ge)=>{B==null?re._vnode&&V(re._vnode,null,null,!0):v(re._vnode||null,B,re,null,null,null,ge),re._vnode=B,oe||(oe=!0,ZW(),Lte(),oe=!1)},me={p:v,um:V,m:U,r:H,mt:L,mc:k,pc:O,pbc:E,n:Q,o:e};return{render:ae,hydrate:void 0,createApp:e_e(ae)}}function vR({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function _p({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function u_e(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function R4(e,t,n=!1){const r=e.children,a=t.children;if(Ke(r)&&Ke(a))for(let i=0;i<r.length;i++){const o=r[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=Vd(a[i]),s.el=o.el),!n&&s.patchFlag!==-2&&R4(o,s)),s.type===Lg&&(s.el=o.el)}}function c_e(e){const t=e.slice(),n=[0];let r,a,i,o,s;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(a=n[n.length-1],e[a]<u){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)s=i+o>>1,e[n[s]]<u?i=s+1:o=s;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function fne(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fne(t)}function lH(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const f_e=Symbol.for("v-scx"),d_e=()=>ht(f_e);function Pi(e,t){return M4(e,null,t)}function Le(e,t,n){return M4(e,t,n)}function M4(e,t,n=jr){const{immediate:r,deep:a,flush:i,once:o}=n,s=fi({},n),l=t&&r||!t&&i!=="post";let u;if(Gx){if(i==="sync"){const h=d_e();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=zn,h.resume=zn,h.pause=zn,h}}const c=Oi;s.call=(h,p,v)=>Nu(h,c,p,v);let f=!1;i==="post"?s.scheduler=h=>{Mo(h,c&&c.suspense)}:i!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():T4(h)}),s.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=Mwe(e,t,s);return Gx&&(u?u.push(d):l&&d()),d}function h_e(e,t,n){const r=this.proxy,a=gt(e)?e.includes(".")?dne(r,e):()=>r[e]:e.bind(r,r);let i;mt(t)?i=t:(i=t.handler,n=t);const o=y_(this),s=M4(a,i.bind(r),n);return o(),s}function dne(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const p_e=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Qo(t)}Modifiers`]||e[`${ad(t)}Modifiers`];function v_e(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||jr;let a=n;const i=t.startsWith("update:"),o=i&&p_e(r,t.slice(7));o&&(o.trim&&(a=n.map(c=>gt(c)?c.trim():c)),o.number&&(a=n.map(ZL)));let s,l=r[s=qb(t)]||r[s=qb(Qo(t))];!l&&i&&(l=r[s=qb(ad(t))]),l&&Nu(l,e,6,a);const u=r[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Nu(u,e,6,a)}}function hne(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!mt(e)){const l=u=>{const c=hne(u,t,!0);c&&(s=!0,fi(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(qt(e)&&r.set(e,null),null):(Ke(i)?i.forEach(l=>o[l]=null):fi(o,i),qt(e)&&r.set(e,o),o)}function oA(e,t){return!e||!qE(t)?!1:(t=t.slice(2).replace(/Once$/,""),Dn(e,t[0].toLowerCase()+t.slice(1))||Dn(e,ad(t))||Dn(e,t))}function uH(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[i],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=e,g=Fk(e);let m,y;try{if(n.shapeFlag&4){const x=a||r,_=x;m=fc(u.call(_,x,c,f,h,d,p)),y=s}else{const x=t;m=fc(x.length>1?x(f,{attrs:s,slots:o,emit:l}):x(f,null)),y=t.props?s:g_e(s)}}catch(x){tx.length=0,nA(x,e,1),m=ie(ti)}let b=m;if(y&&v!==!1){const x=Object.keys(y),{shapeFlag:_}=b;x.length&&_&7&&(i&&x.some(g4)&&(y=m_e(y,i)),b=zf(b,y,!1,!0))}return n.dirs&&(b=zf(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&tg(b,n.transition),m=b,Fk(g),m}const g_e=e=>{let t;for(const n in e)(n==="class"||n==="style"||qE(n))&&((t||(t={}))[n]=e[n]);return t},m_e=(e,t)=>{const n={};for(const r in e)(!g4(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function y_e(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?cH(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!oA(u,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?cH(r,o,u):!0:!!o;return!1}function cH(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!oA(n,i))return!0}return!1}function b_e({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const pne=e=>e.__isSuspense;function x_e(e,t){t&&t.pendingBranch?Ke(e)?t.effects.push(...e):t.effects.push(e):$te(e)}const vt=Symbol.for("v-fgt"),Lg=Symbol.for("v-txt"),ti=Symbol.for("v-cmt"),ET=Symbol.for("v-stc"),tx=[];let Ps=null;function z(e=!1){tx.push(Ps=e?null:[])}function w_e(){tx.pop(),Ps=tx[tx.length-1]||null}let Ux=1;function fH(e,t=!1){Ux+=e,e<0&&Ps&&t&&(Ps.hasOnce=!0)}function vne(e){return e.dynamicChildren=Ux>0?Ps||bm:null,w_e(),Ux>0&&Ps&&Ps.push(e),e}function q(e,t,n,r,a,i){return vne(Z(e,t,n,r,a,i,!0))}function Ae(e,t,n,r,a){return vne(ie(e,t,n,r,a,!0))}function $r(e){return e?e.__v_isVNode===!0:!1}function ov(e,t){return e.type===t.type&&e.key===t.key}const gne=({key:e})=>e??null,AT=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?gt(e)||vr(e)||mt(e)?{i:_i,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,r=0,a=null,i=e===vt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&gne(t),ref:t&&AT(t),scopeId:Pte,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:_i};return s?($4(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=gt(n)?8:16),Ux>0&&!o&&Ps&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ps.push(l),l}const ie=__e;function __e(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===qte)&&(e=ti),$r(e)){const s=zf(e,t,!0);return n&&$4(s,n),Ux>0&&!i&&Ps&&(s.shapeFlag&6?Ps[Ps.indexOf(e)]=s:Ps.push(s)),s.patchFlag=-2,s}if(D_e(e)&&(e=e.__vccOpts),t){t=Sh(t);let{class:s,style:l}=t;s&&!gt(s)&&(t.class=G(s)),qt(l)&&(C4(l)&&!Ke(l)&&(l=fi({},l)),t.style=yt(l))}const o=gt(e)?1:pne(e)?128:Bte(e)?64:qt(e)?4:mt(e)?2:0;return Z(e,t,n,r,a,o,i,!0)}function Sh(e){return e?C4(e)||ane(e)?fi({},e):e:null}function zf(e,t,n=!1,r=!1){const{props:a,ref:i,patchFlag:o,children:s,transition:l}=e,u=t?rn(a||{},t):a,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&gne(u),ref:t&&t.ref?n&&i?Ke(i)?i.concat(AT(t)):[i,AT(t)]:AT(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==vt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zf(e.ssContent),ssFallback:e.ssFallback&&zf(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&tg(c,l.clone(c)),c}function Kt(e=" ",t=0){return ie(Lg,null,e,t)}function Te(e="",t=!1){return t?(z(),Ae(ti,null,e)):ie(ti,null,e)}function fc(e){return e==null||typeof e=="boolean"?ie(ti):Ke(e)?ie(vt,null,e.slice()):$r(e)?Vd(e):ie(Lg,null,String(e))}function Vd(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zf(e)}function $4(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ke(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),$4(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!ane(t)?t._ctx=_i:a===3&&_i&&(_i.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:_i},n=32):(t=String(t),r&64?(n=16,t=[Kt(t)]):n=8);e.children=t,e.shapeFlag|=n}function rn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=G([t.class,r.class]));else if(a==="style")t.style=yt([t.style,r.style]);else if(qE(a)){const i=t[a],o=r[a];o&&i!==o&&!(Ke(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function Yu(e,t,n,r=null){Nu(e,t,7,[n,r])}const S_e=tne();let C_e=0;function T_e(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||S_e,i={uid:C_e++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cte(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:one(r,a),emitsOptions:hne(r,a),emit:null,emitted:null,propsDefaults:jr,inheritAttrs:r.inheritAttrs,ctx:jr,data:jr,props:jr,attrs:jr,slots:jr,refs:jr,setupState:jr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=v_e.bind(null,i),e.ce&&e.ce(i),i}let Oi=null;const jt=()=>Oi||_i;let zk,sO;{const e=QE(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};zk=t("__VUE_INSTANCE_SETTERS__",n=>Oi=n),sO=t("__VUE_SSR_SETTERS__",n=>Gx=n)}const y_=e=>{const t=Oi;return zk(e),e.scope.on(),()=>{e.scope.off(),zk(t)}},dH=()=>{Oi&&Oi.scope.off(),zk(null)};function mne(e){return e.vnode.shapeFlag&4}let Gx=!1;function k_e(e,t=!1,n=!1){t&&sO(t);const{props:r,children:a}=e.vnode,i=mne(e);t_e(e,r,i,t),i_e(e,a,n);const o=i?I_e(e,t):void 0;return t&&sO(!1),o}function I_e(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,jwe);const{setup:r}=n;if(r){Yh();const a=e.setupContext=r.length>1?bne(e):null,i=y_(e),o=g_(r,e,0,[e.props,a]),s=Fx(o);if(Xh(),i(),(s||e.sp)&&!Sm(e)&&jte(e),s){if(o.then(dH,dH),t)return o.then(l=>{hH(e,l)}).catch(l=>{nA(l,e,0)});e.asyncDep=o}else hH(e,o)}else yne(e)}function hH(e,t,n){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qt(t)&&(e.setupState=Dte(t)),yne(e)}function yne(e,t,n){const r=e.type;e.render||(e.render=r.render||zn);{const a=y_(e);Yh();try{Ywe(e)}finally{Xh(),a()}}}const E_e={get(e,t){return uo(e,"get",""),e[t]}};function bne(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,E_e),slots:e.slots,emit:e.emit,expose:t}}function sA(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Dte(uh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ex)return ex[n](e)},has(t,n){return n in t||n in ex}})):e.proxy}function A_e(e,t=!0){return mt(e)?e.displayName||e.name:e.name||t&&e.__name}function D_e(e){return mt(e)&&"__vccOpts"in e}const F=(e,t)=>Nwe(e,t,Gx);function Ct(e,t,n){const r=arguments.length;return r===2?qt(t)&&!Ke(t)?$r(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&$r(n)&&(n=[n]),ie(e,t,n))}const N_e="3.5.13",R_e=zn;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lO;const pH=typeof window<"u"&&window.trustedTypes;if(pH)try{lO=pH.createPolicy("vue",{createHTML:e=>e})}catch{}const xne=lO?e=>lO.createHTML(e):e=>e,M_e="http://www.w3.org/2000/svg",$_e="http://www.w3.org/1998/Math/MathML",mf=typeof document<"u"?document:null,vH=mf&&mf.createElement("template"),L_e={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?mf.createElementNS(M_e,e):t==="mathml"?mf.createElementNS($_e,e):n?mf.createElement(e,{is:n}):mf.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>mf.createTextNode(e),createComment:e=>mf.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mf.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{vH.innerHTML=xne(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=vH.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},bd="transition",O1="animation",Km=Symbol("_vtc"),wne={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_ne=fi({},Hte,wne),O_e=e=>(e.displayName="Transition",e.props=_ne,e),hi=O_e((e,{slots:t})=>Ct(Bwe,Sne(e),t)),Sp=(e,t=[])=>{Ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},gH=e=>e?Ke(e)?e.some(t=>t.length>1):e.length>1:!1;function Sne(e){const t={};for(const A in e)A in wne||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=P_e(a),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:_,onBeforeAppear:S=m,onAppear:C=y,onAppearCancelled:k=b}=t,T=(A,N,L,R)=>{A._enterCancelled=R,Rd(A,N?c:s),Rd(A,N?u:o),L&&L()},E=(A,N)=>{A._isLeaving=!1,Rd(A,f),Rd(A,h),Rd(A,d),N&&N()},I=A=>(N,L)=>{const R=A?C:y,D=()=>T(N,A,L);Sp(R,[N,D]),mH(()=>{Rd(N,A?l:i),nc(N,A?c:s),gH(R)||yH(N,r,v,D)})};return fi(t,{onBeforeEnter(A){Sp(m,[A]),nc(A,i),nc(A,o)},onBeforeAppear(A){Sp(S,[A]),nc(A,l),nc(A,u)},onEnter:I(!1),onAppear:I(!0),onLeave(A,N){A._isLeaving=!0;const L=()=>E(A,N);nc(A,f),A._enterCancelled?(nc(A,d),uO()):(uO(),nc(A,d)),mH(()=>{A._isLeaving&&(Rd(A,f),nc(A,h),gH(x)||yH(A,r,g,L))}),Sp(x,[A,L])},onEnterCancelled(A){T(A,!1,void 0,!0),Sp(b,[A])},onAppearCancelled(A){T(A,!0,void 0,!0),Sp(k,[A])},onLeaveCancelled(A){E(A),Sp(_,[A])}})}function P_e(e){if(e==null)return null;if(qt(e))return[gR(e.enter),gR(e.leave)];{const t=gR(e);return[t,t]}}function gR(e){return Zxe(e)}function nc(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Km]||(e[Km]=new Set)).add(t)}function Rd(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Km];n&&(n.delete(t),n.size||(e[Km]=void 0))}function mH(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let F_e=0;function yH(e,t,n,r){const a=e._endId=++F_e,i=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:s,propCount:l}=Cne(e,t);if(!o)return r();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function Cne(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),a=r(`${bd}Delay`),i=r(`${bd}Duration`),o=bH(a,i),s=r(`${O1}Delay`),l=r(`${O1}Duration`),u=bH(s,l);let c=null,f=0,d=0;t===bd?o>0&&(c=bd,f=o,d=i.length):t===O1?u>0&&(c=O1,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?bd:O1:null,d=c?c===bd?i.length:l.length:0);const h=c===bd&&/\b(transform|all)(,|$)/.test(r(`${bd}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function bH(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>xH(n)+xH(e[r])))}function xH(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function uO(){return document.body.offsetHeight}function B_e(e,t,n){const r=e[Km];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Wk=Symbol("_vod"),Tne=Symbol("_vsh"),En={beforeMount(e,{value:t},{transition:n}){e[Wk]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):P1(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),P1(e,!0),r.enter(e)):r.leave(e,()=>{P1(e,!1)}):P1(e,t))},beforeUnmount(e,{value:t}){P1(e,t)}};function P1(e,t){e.style.display=t?e[Wk]:"none",e[Tne]=!t}const kne=Symbol("");function V_e(e){const t=jt();if(!t)return;const n=t.ut=(a=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>Hk(i,a))},r=()=>{const a=e(t.proxy);t.ce?Hk(t.ce,a):cO(t.subTree,a),n(a)};E4(()=>{$te(r)}),zt(()=>{Le(r,zn,{flush:"post"});const a=new MutationObserver(r);a.observe(t.subTree.el.parentNode,{childList:!0}),zu(()=>a.disconnect())})}function cO(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{cO(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Hk(e.el,t);else if(e.type===vt)e.children.forEach(n=>cO(n,t));else if(e.type===ET){let{el:n,anchor:r}=e;for(;n&&(Hk(n,t),n!==r);)n=n.nextSibling}}function Hk(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const a in t)n.setProperty(`--${a}`,t[a]),r+=`--${a}: ${t[a]};`;n[kne]=r}}const z_e=/(^|;)\s*display\s*:/;function W_e(e,t,n){const r=e.style,a=gt(n);let i=!1;if(n&&!a){if(t)if(gt(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&DT(r,s,"")}else for(const o in t)n[o]==null&&DT(r,o,"");for(const o in n)o==="display"&&(i=!0),DT(r,o,n[o])}else if(a){if(t!==n){const o=r[kne];o&&(n+=";"+o),r.cssText=n,i=z_e.test(n)}}else t&&e.removeAttribute("style");Wk in e&&(e[Wk]=i?r.display:"",e[Tne]&&(r.display="none"))}const wH=/\s*!important$/;function DT(e,t,n){if(Ke(n))n.forEach(r=>DT(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=H_e(e,t);wH.test(n)?e.setProperty(ad(r),n.replace(wH,""),"important"):e[r]=n}}const _H=["Webkit","Moz","ms"],mR={};function H_e(e,t){const n=mR[t];if(n)return n;let r=Qo(t);if(r!=="filter"&&r in e)return mR[t]=r;r=v_(r);for(let a=0;a<_H.length;a++){const i=_H[a]+r;if(i in e)return mR[t]=i}return t}const SH="http://www.w3.org/1999/xlink";function CH(e,t,n,r,a,i=rwe(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(SH,t.slice(6,t.length)):e.setAttributeNS(SH,t,n):n==null||i&&!ote(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Du(n)?String(n):n)}function TH(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?xne(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=ote(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(a||t)}function Ud(e,t,n,r){e.addEventListener(t,n,r)}function U_e(e,t,n,r){e.removeEventListener(t,n,r)}const kH=Symbol("_vei");function G_e(e,t,n,r,a=null){const i=e[kH]||(e[kH]={}),o=i[t];if(r&&o)o.value=r;else{const[s,l]=K_e(t);if(r){const u=i[t]=X_e(r,a);Ud(e,s,u,l)}else o&&(U_e(e,s,o,l),i[t]=void 0)}}const IH=/(?:Once|Passive|Capture)$/;function K_e(e){let t;if(IH.test(e)){t={};let r;for(;r=e.match(IH);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ad(e.slice(2)),t]}let yR=0;const j_e=Promise.resolve(),Y_e=()=>yR||(j_e.then(()=>yR=0),yR=Date.now());function X_e(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Nu(q_e(r,n.value),t,5,[r])};return n.value=e,n.attached=Y_e(),n}function q_e(e,t){if(Ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const EH=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Z_e=(e,t,n,r,a,i)=>{const o=a==="svg";t==="class"?B_e(e,r,o):t==="style"?W_e(e,n,r):qE(t)?g4(t)||G_e(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):J_e(e,t,r,o))?(TH(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&CH(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!gt(r))?TH(e,Qo(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),CH(e,t,r,o))};function J_e(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&EH(t)&&mt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return EH(t)&&gt(n)?!1:t in e}const Ine=new WeakMap,Ene=new WeakMap,Uk=Symbol("_moveCb"),AH=Symbol("_enterCb"),Q_e=e=>(delete e.props.mode,e),eSe=Q_e({name:"TransitionGroup",props:fi({},_ne,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=jt(),r=Wte();let a,i;return Xc(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!aSe(a[0].el,n.vnode.el,o))return;a.forEach(tSe),a.forEach(nSe);const s=a.filter(rSe);uO(),s.forEach(l=>{const u=l.el,c=u.style;nc(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Uk]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[Uk]=null,Rd(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=tr(e),s=Sne(o);let l=o.tag||vt;if(a=[],i)for(let u=0;u<i.length;u++){const c=i[u];c.el&&c.el instanceof Element&&(a.push(c),tg(c,Hx(c,s,r,n)),Ine.set(c,c.el.getBoundingClientRect()))}i=t.default?k4(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&tg(c,Hx(c,s,r,n))}return ie(l,null,i)}}}),Ane=eSe;function tSe(e){const t=e.el;t[Uk]&&t[Uk](),t[AH]&&t[AH]()}function nSe(e){Ene.set(e,e.el.getBoundingClientRect())}function rSe(e){const t=Ine.get(e),n=Ene.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${a}px)`,i.transitionDuration="0s",e}}function aSe(e,t,n){const r=e.cloneNode(),a=e[Km];a&&a.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=Cne(r);return i.removeChild(r),o}const jm=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ke(t)?n=>kT(t,n):t};function iSe(e){e.target.composing=!0}function DH(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mf=Symbol("_assign"),lA={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[Mf]=jm(a);const i=r||a.props&&a.props.type==="number";Ud(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),i&&(s=ZL(s)),e[Mf](s)}),n&&Ud(e,"change",()=>{e.value=e.value.trim()}),t||(Ud(e,"compositionstart",iSe),Ud(e,"compositionend",DH),Ud(e,"change",DH))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:i}},o){if(e[Mf]=jm(o),e.composing)return;const s=(i||e.type==="number")&&!/^0\d/.test(e.value)?ZL(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===l)||(e.value=l))}},Gk={deep:!0,created(e,t,n){e[Mf]=jm(n),Ud(e,"change",()=>{const r=e._modelValue,a=Nne(e),i=e.checked,o=e[Mf];if(Ke(r)){const s=ste(r,a),l=s!==-1;if(i&&!l)o(r.concat(a));else if(!i&&l){const u=[...r];u.splice(s,1),o(u)}}else if(ZE(r)){const s=new Set(r);i?s.add(a):s.delete(a),o(s)}else o(Rne(e,i))})},mounted:NH,beforeUpdate(e,t,n){e[Mf]=jm(n),NH(e,t,n)}};function NH(e,{value:t,oldValue:n},r){e._modelValue=t;let a;if(Ke(t))a=ste(t,r.props.value)>-1;else if(ZE(t))a=t.has(r.props.value);else{if(t===n)return;a=Gm(t,Rne(e,!0))}e.checked!==a&&(e.checked=a)}const Dne={created(e,{value:t},n){e.checked=Gm(t,n.props.value),e[Mf]=jm(n),Ud(e,"change",()=>{e[Mf](Nne(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Mf]=jm(r),t!==n&&(e.checked=Gm(t,r.props.value))}};function Nne(e){return"_value"in e?e._value:e.value}function Rne(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const oSe=["ctrl","shift","alt","meta"],sSe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>oSe.some(n=>e[`${n}Key`]&&!t.includes(n))},At=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...i)=>{for(let o=0;o<t.length;o++){const s=sSe[t[o]];if(s&&s(a,t))return}return e(a,...i)})},lSe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rr=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const i=ad(a.key);if(t.some(o=>o===i||lSe[o]===i))return e(a)})},uSe=fi({patchProp:Z_e},L_e);let RH;function Mne(){return RH||(RH=s_e(uSe))}const Ch=(...e)=>{Mne().render(...e)},$ne=(...e)=>{const t=Mne().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=fSe(r);if(!a)return;const i=t._component;!mt(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=n(a,!1,cSe(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function cSe(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function fSe(e){return gt(e)?document.querySelector(e):e}const dSe="2.9.1",MH=Symbol("INSTALLED_KEY"),Lne=Symbol(),nx="el",hSe="is-",Cp=(e,t,n,r,a)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),a&&(i+=`--${a}`),i},One=Symbol("namespaceContextKey"),L4=e=>{const t=e||(jt()?ht(One,Y(nx)):Y(nx));return F(()=>w(t)||nx)},ze=(e,t)=>{const n=L4(t);return{namespace:n,b:(v="")=>Cp(n.value,e,v,"",""),e:v=>v?Cp(n.value,e,"",v,""):"",m:v=>v?Cp(n.value,e,"","",v):"",be:(v,g)=>v&&g?Cp(n.value,e,v,g,""):"",em:(v,g)=>v&&g?Cp(n.value,e,"",v,g):"",bm:(v,g)=>v&&g?Cp(n.value,e,v,"",g):"",bem:(v,g,m)=>v&&g&&m?Cp(n.value,e,v,g,m):"",is:(v,...g)=>{const m=g.length>=1?g[0]:!0;return v&&m?`${hSe}${v}`:""},cssVar:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${m}`]=v[m]);return g},cssVarName:v=>`--${n.value}-${v}`,cssVarBlock:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${e}-${m}`]=v[m]);return g},cssVarBlockName:v=>`--${n.value}-${e}-${v}`}};var Pne=typeof global=="object"&&global&&global.Object===Object&&global,pSe=typeof self=="object"&&self&&self.Object===Object&&self,Wu=Pne||pSe||Function("return this")(),$l=Wu.Symbol,Fne=Object.prototype,vSe=Fne.hasOwnProperty,gSe=Fne.toString,F1=$l?$l.toStringTag:void 0;function mSe(e){var t=vSe.call(e,F1),n=e[F1];try{e[F1]=void 0;var r=!0}catch{}var a=gSe.call(e);return r&&(t?e[F1]=n:delete e[F1]),a}var ySe=Object.prototype,bSe=ySe.toString;function xSe(e){return bSe.call(e)}var wSe="[object Null]",_Se="[object Undefined]",$H=$l?$l.toStringTag:void 0;function Og(e){return e==null?e===void 0?_Se:wSe:$H&&$H in Object(e)?mSe(e):xSe(e)}function $c(e){return e!=null&&typeof e=="object"}var SSe="[object Symbol]";function uA(e){return typeof e=="symbol"||$c(e)&&Og(e)==SSe}function O4(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var es=Array.isArray,CSe=1/0,LH=$l?$l.prototype:void 0,OH=LH?LH.toString:void 0;function Bne(e){if(typeof e=="string")return e;if(es(e))return O4(e,Bne)+"";if(uA(e))return OH?OH.call(e):"";var t=e+"";return t=="0"&&1/e==-CSe?"-0":t}var TSe=/\s/;function kSe(e){for(var t=e.length;t--&&TSe.test(e.charAt(t)););return t}var ISe=/^\s+/;function ESe(e){return e&&e.slice(0,kSe(e)+1).replace(ISe,"")}function ts(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var PH=NaN,ASe=/^[-+]0x[0-9a-f]+$/i,DSe=/^0b[01]+$/i,NSe=/^0o[0-7]+$/i,RSe=parseInt;function FH(e){if(typeof e=="number")return e;if(uA(e))return PH;if(ts(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ts(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ESe(e);var n=DSe.test(e);return n||NSe.test(e)?RSe(e.slice(2),n?2:8):ASe.test(e)?PH:+e}function P4(e){return e}var MSe="[object AsyncFunction]",$Se="[object Function]",LSe="[object GeneratorFunction]",OSe="[object Proxy]";function F4(e){if(!ts(e))return!1;var t=Og(e);return t==$Se||t==LSe||t==MSe||t==OSe}var bR=Wu["__core-js_shared__"],BH=function(){var e=/[^.]+$/.exec(bR&&bR.keys&&bR.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function PSe(e){return!!BH&&BH in e}var FSe=Function.prototype,BSe=FSe.toString;function Pg(e){if(e!=null){try{return BSe.call(e)}catch{}try{return e+""}catch{}}return""}var VSe=/[\\^$.*+?()[\]{}|]/g,zSe=/^\[object .+?Constructor\]$/,WSe=Function.prototype,HSe=Object.prototype,USe=WSe.toString,GSe=HSe.hasOwnProperty,KSe=RegExp("^"+USe.call(GSe).replace(VSe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jSe(e){if(!ts(e)||PSe(e))return!1;var t=F4(e)?KSe:zSe;return t.test(Pg(e))}function YSe(e,t){return e==null?void 0:e[t]}function Fg(e,t){var n=YSe(e,t);return jSe(n)?n:void 0}var fO=Fg(Wu,"WeakMap"),VH=Object.create,XSe=function(){function e(){}return function(t){if(!ts(t))return{};if(VH)return VH(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function qSe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ZSe(){}function Vne(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var JSe=800,QSe=16,eCe=Date.now;function tCe(e){var t=0,n=0;return function(){var r=eCe(),a=QSe-(r-n);if(n=r,a>0){if(++t>=JSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function nCe(e){return function(){return e}}var Kk=function(){try{var e=Fg(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rCe=Kk?function(e,t){return Kk(e,"toString",{configurable:!0,enumerable:!1,value:nCe(t),writable:!0})}:P4,zne=tCe(rCe);function aCe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function Wne(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function iCe(e){return e!==e}function oCe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}function sCe(e,t,n){return t===t?oCe(e,t,n):Wne(e,iCe,n)}function lCe(e,t){var n=e==null?0:e.length;return!!n&&sCe(e,t,0)>-1}var uCe=9007199254740991,cCe=/^(?:0|[1-9]\d*)$/;function cA(e,t){var n=typeof e;return t=t??uCe,!!t&&(n=="number"||n!="symbol"&&cCe.test(e))&&e>-1&&e%1==0&&e<t}function B4(e,t,n){t=="__proto__"&&Kk?Kk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function b_(e,t){return e===t||e!==e&&t!==t}var fCe=Object.prototype,dCe=fCe.hasOwnProperty;function V4(e,t,n){var r=e[t];(!(dCe.call(e,t)&&b_(r,n))||n===void 0&&!(t in e))&&B4(e,t,n)}function By(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],l=void 0;l===void 0&&(l=e[s]),a?B4(n,s,l):V4(n,s,l)}return n}var zH=Math.max;function Hne(e,t,n){return t=zH(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=zH(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),qSe(e,this,s)}}function Une(e,t){return zne(Hne(e,t,P4),e+"")}var hCe=9007199254740991;function z4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=hCe}function Vy(e){return e!=null&&z4(e.length)&&!F4(e)}function pCe(e,t,n){if(!ts(n))return!1;var r=typeof t;return(r=="number"?Vy(n)&&cA(t,n.length):r=="string"&&t in n)?b_(n[t],e):!1}function vCe(e){return Une(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&pCe(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,i)}return t})}var gCe=Object.prototype;function W4(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||gCe;return e===n}function mCe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var yCe="[object Arguments]";function WH(e){return $c(e)&&Og(e)==yCe}var Gne=Object.prototype,bCe=Gne.hasOwnProperty,xCe=Gne.propertyIsEnumerable,Kx=WH(function(){return arguments}())?WH:function(e){return $c(e)&&bCe.call(e,"callee")&&!xCe.call(e,"callee")};function wCe(){return!1}var Kne=typeof zs=="object"&&zs&&!zs.nodeType&&zs,HH=Kne&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,_Ce=HH&&HH.exports===Kne,UH=_Ce?Wu.Buffer:void 0,SCe=UH?UH.isBuffer:void 0,jx=SCe||wCe,CCe="[object Arguments]",TCe="[object Array]",kCe="[object Boolean]",ICe="[object Date]",ECe="[object Error]",ACe="[object Function]",DCe="[object Map]",NCe="[object Number]",RCe="[object Object]",MCe="[object RegExp]",$Ce="[object Set]",LCe="[object String]",OCe="[object WeakMap]",PCe="[object ArrayBuffer]",FCe="[object DataView]",BCe="[object Float32Array]",VCe="[object Float64Array]",zCe="[object Int8Array]",WCe="[object Int16Array]",HCe="[object Int32Array]",UCe="[object Uint8Array]",GCe="[object Uint8ClampedArray]",KCe="[object Uint16Array]",jCe="[object Uint32Array]",aa={};aa[BCe]=aa[VCe]=aa[zCe]=aa[WCe]=aa[HCe]=aa[UCe]=aa[GCe]=aa[KCe]=aa[jCe]=!0;aa[CCe]=aa[TCe]=aa[PCe]=aa[kCe]=aa[FCe]=aa[ICe]=aa[ECe]=aa[ACe]=aa[DCe]=aa[NCe]=aa[RCe]=aa[MCe]=aa[$Ce]=aa[LCe]=aa[OCe]=!1;function YCe(e){return $c(e)&&z4(e.length)&&!!aa[Og(e)]}function H4(e){return function(t){return e(t)}}var jne=typeof zs=="object"&&zs&&!zs.nodeType&&zs,rx=jne&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,XCe=rx&&rx.exports===jne,xR=XCe&&Pne.process,Ym=function(){try{var e=rx&&rx.require&&rx.require("util").types;return e||xR&&xR.binding&&xR.binding("util")}catch{}}(),GH=Ym&&Ym.isTypedArray,U4=GH?H4(GH):YCe,qCe=Object.prototype,ZCe=qCe.hasOwnProperty;function Yne(e,t){var n=es(e),r=!n&&Kx(e),a=!n&&!r&&jx(e),i=!n&&!r&&!a&&U4(e),o=n||r||a||i,s=o?mCe(e.length,String):[],l=s.length;for(var u in e)(t||ZCe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cA(u,l)))&&s.push(u);return s}function Xne(e,t){return function(n){return e(t(n))}}var JCe=Xne(Object.keys,Object),QCe=Object.prototype,e2e=QCe.hasOwnProperty;function t2e(e){if(!W4(e))return JCe(e);var t=[];for(var n in Object(e))e2e.call(e,n)&&n!="constructor"&&t.push(n);return t}function x_(e){return Vy(e)?Yne(e):t2e(e)}function n2e(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var r2e=Object.prototype,a2e=r2e.hasOwnProperty;function i2e(e){if(!ts(e))return n2e(e);var t=W4(e),n=[];for(var r in e)r=="constructor"&&(t||!a2e.call(e,r))||n.push(r);return n}function w_(e){return Vy(e)?Yne(e,!0):i2e(e)}var o2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s2e=/^\w*$/;function G4(e,t){if(es(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||uA(e)?!0:s2e.test(e)||!o2e.test(e)||t!=null&&e in Object(t)}var Yx=Fg(Object,"create");function l2e(){this.__data__=Yx?Yx(null):{},this.size=0}function u2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var c2e="__lodash_hash_undefined__",f2e=Object.prototype,d2e=f2e.hasOwnProperty;function h2e(e){var t=this.__data__;if(Yx){var n=t[e];return n===c2e?void 0:n}return d2e.call(t,e)?t[e]:void 0}var p2e=Object.prototype,v2e=p2e.hasOwnProperty;function g2e(e){var t=this.__data__;return Yx?t[e]!==void 0:v2e.call(t,e)}var m2e="__lodash_hash_undefined__";function y2e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Yx&&t===void 0?m2e:t,this}function ng(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ng.prototype.clear=l2e;ng.prototype.delete=u2e;ng.prototype.get=h2e;ng.prototype.has=g2e;ng.prototype.set=y2e;function b2e(){this.__data__=[],this.size=0}function fA(e,t){for(var n=e.length;n--;)if(b_(e[n][0],t))return n;return-1}var x2e=Array.prototype,w2e=x2e.splice;function _2e(e){var t=this.__data__,n=fA(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():w2e.call(t,n,1),--this.size,!0}function S2e(e){var t=this.__data__,n=fA(t,e);return n<0?void 0:t[n][1]}function C2e(e){return fA(this.__data__,e)>-1}function T2e(e,t){var n=this.__data__,r=fA(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function od(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}od.prototype.clear=b2e;od.prototype.delete=_2e;od.prototype.get=S2e;od.prototype.has=C2e;od.prototype.set=T2e;var Xx=Fg(Wu,"Map");function k2e(){this.size=0,this.__data__={hash:new ng,map:new(Xx||od),string:new ng}}function I2e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function dA(e,t){var n=e.__data__;return I2e(t)?n[typeof t=="string"?"string":"hash"]:n.map}function E2e(e){var t=dA(this,e).delete(e);return this.size-=t?1:0,t}function A2e(e){return dA(this,e).get(e)}function D2e(e){return dA(this,e).has(e)}function N2e(e,t){var n=dA(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function sd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sd.prototype.clear=k2e;sd.prototype.delete=E2e;sd.prototype.get=A2e;sd.prototype.has=D2e;sd.prototype.set=N2e;var R2e="Expected a function";function hA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(R2e);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(hA.Cache||sd),n}hA.Cache=sd;var M2e=500;function $2e(e){var t=hA(e,function(r){return n.size===M2e&&n.clear(),r}),n=t.cache;return t}var L2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O2e=/\\(\\)?/g,P2e=$2e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(L2e,function(n,r,a,i){t.push(a?i.replace(O2e,"$1"):r||n)}),t});function F2e(e){return e==null?"":Bne(e)}function zy(e,t){return es(e)?e:G4(e,t)?[e]:P2e(F2e(e))}var B2e=1/0;function Wy(e){if(typeof e=="string"||uA(e))return e;var t=e+"";return t=="0"&&1/e==-B2e?"-0":t}function pA(e,t){t=zy(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Wy(t[n++])];return n&&n==r?e:void 0}function ca(e,t,n){var r=e==null?void 0:pA(e,t);return r===void 0?n:r}function K4(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var KH=$l?$l.isConcatSpreadable:void 0;function V2e(e){return es(e)||Kx(e)||!!(KH&&e&&e[KH])}function __(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=V2e),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?__(s,t-1,n,r,a):K4(a,s):r||(a[a.length]=s)}return a}function qne(e){var t=e==null?0:e.length;return t?__(e,1):[]}function Zne(e){return zne(Hne(e,void 0,qne),e+"")}var j4=Xne(Object.getPrototypeOf,Object),z2e="[object Object]",W2e=Function.prototype,H2e=Object.prototype,Jne=W2e.toString,U2e=H2e.hasOwnProperty,G2e=Jne.call(Object);function Qne(e){if(!$c(e)||Og(e)!=z2e)return!1;var t=j4(e);if(t===null)return!0;var n=U2e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Jne.call(n)==G2e}function K2e(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}function ho(){if(!arguments.length)return[];var e=arguments[0];return es(e)?e:[e]}function j2e(){this.__data__=new od,this.size=0}function Y2e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function X2e(e){return this.__data__.get(e)}function q2e(e){return this.__data__.has(e)}var Z2e=200;function J2e(e,t){var n=this.__data__;if(n instanceof od){var r=n.__data__;if(!Xx||r.length<Z2e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new sd(r)}return n.set(e,t),this.size=n.size,this}function Su(e){var t=this.__data__=new od(e);this.size=t.size}Su.prototype.clear=j2e;Su.prototype.delete=Y2e;Su.prototype.get=X2e;Su.prototype.has=q2e;Su.prototype.set=J2e;function Q2e(e,t){return e&&By(t,x_(t),e)}function eTe(e,t){return e&&By(t,w_(t),e)}var ere=typeof zs=="object"&&zs&&!zs.nodeType&&zs,jH=ere&&typeof Ws=="object"&&Ws&&!Ws.nodeType&&Ws,tTe=jH&&jH.exports===ere,YH=tTe?Wu.Buffer:void 0,XH=YH?YH.allocUnsafe:void 0;function tre(e,t){if(t)return e.slice();var n=e.length,r=XH?XH(n):new e.constructor(n);return e.copy(r),r}function nTe(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function nre(){return[]}var rTe=Object.prototype,aTe=rTe.propertyIsEnumerable,qH=Object.getOwnPropertySymbols,Y4=qH?function(e){return e==null?[]:(e=Object(e),nTe(qH(e),function(t){return aTe.call(e,t)}))}:nre;function iTe(e,t){return By(e,Y4(e),t)}var oTe=Object.getOwnPropertySymbols,rre=oTe?function(e){for(var t=[];e;)K4(t,Y4(e)),e=j4(e);return t}:nre;function sTe(e,t){return By(e,rre(e),t)}function are(e,t,n){var r=t(e);return es(e)?r:K4(r,n(e))}function dO(e){return are(e,x_,Y4)}function ire(e){return are(e,w_,rre)}var hO=Fg(Wu,"DataView"),pO=Fg(Wu,"Promise"),Tm=Fg(Wu,"Set"),ZH="[object Map]",lTe="[object Object]",JH="[object Promise]",QH="[object Set]",eU="[object WeakMap]",tU="[object DataView]",uTe=Pg(hO),cTe=Pg(Xx),fTe=Pg(pO),dTe=Pg(Tm),hTe=Pg(fO),uu=Og;(hO&&uu(new hO(new ArrayBuffer(1)))!=tU||Xx&&uu(new Xx)!=ZH||pO&&uu(pO.resolve())!=JH||Tm&&uu(new Tm)!=QH||fO&&uu(new fO)!=eU)&&(uu=function(e){var t=Og(e),n=t==lTe?e.constructor:void 0,r=n?Pg(n):"";if(r)switch(r){case uTe:return tU;case cTe:return ZH;case fTe:return JH;case dTe:return QH;case hTe:return eU}return t});var pTe=Object.prototype,vTe=pTe.hasOwnProperty;function gTe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&vTe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var jk=Wu.Uint8Array;function X4(e){var t=new e.constructor(e.byteLength);return new jk(t).set(new jk(e)),t}function mTe(e,t){var n=t?X4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var yTe=/\w*$/;function bTe(e){var t=new e.constructor(e.source,yTe.exec(e));return t.lastIndex=e.lastIndex,t}var nU=$l?$l.prototype:void 0,rU=nU?nU.valueOf:void 0;function xTe(e){return rU?Object(rU.call(e)):{}}function ore(e,t){var n=t?X4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var wTe="[object Boolean]",_Te="[object Date]",STe="[object Map]",CTe="[object Number]",TTe="[object RegExp]",kTe="[object Set]",ITe="[object String]",ETe="[object Symbol]",ATe="[object ArrayBuffer]",DTe="[object DataView]",NTe="[object Float32Array]",RTe="[object Float64Array]",MTe="[object Int8Array]",$Te="[object Int16Array]",LTe="[object Int32Array]",OTe="[object Uint8Array]",PTe="[object Uint8ClampedArray]",FTe="[object Uint16Array]",BTe="[object Uint32Array]";function VTe(e,t,n){var r=e.constructor;switch(t){case ATe:return X4(e);case wTe:case _Te:return new r(+e);case DTe:return mTe(e,n);case NTe:case RTe:case MTe:case $Te:case LTe:case OTe:case PTe:case FTe:case BTe:return ore(e,n);case STe:return new r;case CTe:case ITe:return new r(e);case TTe:return bTe(e);case kTe:return new r;case ETe:return xTe(e)}}function sre(e){return typeof e.constructor=="function"&&!W4(e)?XSe(j4(e)):{}}var zTe="[object Map]";function WTe(e){return $c(e)&&uu(e)==zTe}var aU=Ym&&Ym.isMap,HTe=aU?H4(aU):WTe,UTe="[object Set]";function GTe(e){return $c(e)&&uu(e)==UTe}var iU=Ym&&Ym.isSet,KTe=iU?H4(iU):GTe,jTe=1,YTe=2,XTe=4,lre="[object Arguments]",qTe="[object Array]",ZTe="[object Boolean]",JTe="[object Date]",QTe="[object Error]",ure="[object Function]",eke="[object GeneratorFunction]",tke="[object Map]",nke="[object Number]",cre="[object Object]",rke="[object RegExp]",ake="[object Set]",ike="[object String]",oke="[object Symbol]",ske="[object WeakMap]",lke="[object ArrayBuffer]",uke="[object DataView]",cke="[object Float32Array]",fke="[object Float64Array]",dke="[object Int8Array]",hke="[object Int16Array]",pke="[object Int32Array]",vke="[object Uint8Array]",gke="[object Uint8ClampedArray]",mke="[object Uint16Array]",yke="[object Uint32Array]",Zr={};Zr[lre]=Zr[qTe]=Zr[lke]=Zr[uke]=Zr[ZTe]=Zr[JTe]=Zr[cke]=Zr[fke]=Zr[dke]=Zr[hke]=Zr[pke]=Zr[tke]=Zr[nke]=Zr[cre]=Zr[rke]=Zr[ake]=Zr[ike]=Zr[oke]=Zr[vke]=Zr[gke]=Zr[mke]=Zr[yke]=!0;Zr[QTe]=Zr[ure]=Zr[ske]=!1;function km(e,t,n,r,a,i){var o,s=t&jTe,l=t&YTe,u=t&XTe;if(n&&(o=a?n(e,r,a,i):n(e)),o!==void 0)return o;if(!ts(e))return e;var c=es(e);if(c){if(o=gTe(e),!s)return Vne(e,o)}else{var f=uu(e),d=f==ure||f==eke;if(jx(e))return tre(e,s);if(f==cre||f==lre||d&&!a){if(o=l||d?{}:sre(e),!s)return l?sTe(e,eTe(o,e)):iTe(e,Q2e(o,e))}else{if(!Zr[f])return a?e:{};o=VTe(e,f,s)}}i||(i=new Su);var h=i.get(e);if(h)return h;i.set(e,o),KTe(e)?e.forEach(function(g){o.add(km(g,t,n,g,e,i))}):HTe(e)&&e.forEach(function(g,m){o.set(m,km(g,t,n,m,e,i))});var p=u?l?ire:dO:l?w_:x_,v=c?void 0:p(e);return aCe(v||e,function(g,m){v&&(m=g,g=e[m]),V4(o,m,km(g,t,n,m,e,i))}),o}var bke=4;function oU(e){return km(e,bke)}var xke=1,wke=4;function Yk(e){return km(e,xke|wke)}var _ke="__lodash_hash_undefined__";function Ske(e){return this.__data__.set(e,_ke),this}function Cke(e){return this.__data__.has(e)}function qx(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new sd;++t<n;)this.add(e[t])}qx.prototype.add=qx.prototype.push=Ske;qx.prototype.has=Cke;function Tke(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function fre(e,t){return e.has(t)}var kke=1,Ike=2;function dre(e,t,n,r,a,i){var o=n&kke,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=n&Ike?new qx:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var g=o?r(v,p,f,t,e,i):r(p,v,f,e,t,i);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!Tke(t,function(m,y){if(!fre(h,y)&&(p===m||a(p,m,n,r,i)))return h.push(y)})){d=!1;break}}else if(!(p===v||a(p,v,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function Eke(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function q4(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Ake=1,Dke=2,Nke="[object Boolean]",Rke="[object Date]",Mke="[object Error]",$ke="[object Map]",Lke="[object Number]",Oke="[object RegExp]",Pke="[object Set]",Fke="[object String]",Bke="[object Symbol]",Vke="[object ArrayBuffer]",zke="[object DataView]",sU=$l?$l.prototype:void 0,wR=sU?sU.valueOf:void 0;function Wke(e,t,n,r,a,i,o){switch(n){case zke:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Vke:return!(e.byteLength!=t.byteLength||!i(new jk(e),new jk(t)));case Nke:case Rke:case Lke:return b_(+e,+t);case Mke:return e.name==t.name&&e.message==t.message;case Oke:case Fke:return e==t+"";case $ke:var s=Eke;case Pke:var l=r&Ake;if(s||(s=q4),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=Dke,o.set(e,t);var c=dre(s(e),s(t),r,a,i,o);return o.delete(e),c;case Bke:if(wR)return wR.call(e)==wR.call(t)}return!1}var Hke=1,Uke=Object.prototype,Gke=Uke.hasOwnProperty;function Kke(e,t,n,r,a,i){var o=n&Hke,s=dO(e),l=s.length,u=dO(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in t:Gke.call(t,d)))return!1}var h=i.get(e),p=i.get(t);if(h&&p)return h==t&&p==e;var v=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<l;){d=s[f];var m=e[d],y=t[d];if(r)var b=o?r(y,m,d,t,e,i):r(m,y,d,e,t,i);if(!(b===void 0?m===y||a(m,y,n,r,i):b)){v=!1;break}g||(g=d=="constructor")}if(v&&!g){var x=e.constructor,_=t.constructor;x!=_&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return i.delete(e),i.delete(t),v}var jke=1,lU="[object Arguments]",uU="[object Array]",$C="[object Object]",Yke=Object.prototype,cU=Yke.hasOwnProperty;function Xke(e,t,n,r,a,i){var o=es(e),s=es(t),l=o?uU:uu(e),u=s?uU:uu(t);l=l==lU?$C:l,u=u==lU?$C:u;var c=l==$C,f=u==$C,d=l==u;if(d&&jx(e)){if(!jx(t))return!1;o=!0,c=!1}if(d&&!c)return i||(i=new Su),o||U4(e)?dre(e,t,n,r,a,i):Wke(e,t,l,n,r,a,i);if(!(n&jke)){var h=c&&cU.call(e,"__wrapped__"),p=f&&cU.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return i||(i=new Su),a(v,g,n,r,i)}}return d?(i||(i=new Su),Kke(e,t,n,r,a,i)):!1}function vA(e,t,n,r,a){return e===t?!0:e==null||t==null||!$c(e)&&!$c(t)?e!==e&&t!==t:Xke(e,t,n,r,vA,a)}var qke=1,Zke=2;function Jke(e,t,n,r){var a=n.length,i=a;if(e==null)return!i;for(e=Object(e);a--;){var o=n[a];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=n[a];var s=o[0],l=e[s],u=o[1];if(o[2]){if(l===void 0&&!(s in e))return!1}else{var c=new Su,f;if(!(f===void 0?vA(u,l,qke|Zke,r,c):f))return!1}}return!0}function hre(e){return e===e&&!ts(e)}function Qke(e){for(var t=x_(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,hre(a)]}return t}function pre(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function eIe(e){var t=Qke(e);return t.length==1&&t[0][2]?pre(t[0][0],t[0][1]):function(n){return n===e||Jke(n,e,t)}}function tIe(e,t){return e!=null&&t in Object(e)}function nIe(e,t,n){t=zy(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=Wy(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&z4(a)&&cA(o,a)&&(es(e)||Kx(e)))}function vre(e,t){return e!=null&&nIe(e,t,tIe)}var rIe=1,aIe=2;function iIe(e,t){return G4(e)&&hre(t)?pre(Wy(e),t):function(n){var r=ca(n,e);return r===void 0&&r===t?vre(n,e):vA(t,r,rIe|aIe)}}function oIe(e){return function(t){return t==null?void 0:t[e]}}function sIe(e){return function(t){return pA(t,e)}}function lIe(e){return G4(e)?oIe(Wy(e)):sIe(e)}function gre(e){return typeof e=="function"?e:e==null?P4:typeof e=="object"?es(e)?iIe(e[0],e[1]):eIe(e):lIe(e)}function uIe(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[++a];if(n(i[l],l,i)===!1)break}return t}}var mre=uIe();function cIe(e,t){return e&&mre(e,t,x_)}function fIe(e,t){return function(n,r){if(n==null)return n;if(!Vy(n))return e(n,r);for(var a=n.length,i=-1,o=Object(n);++i<a&&r(o[i],i,o)!==!1;);return n}}var dIe=fIe(cIe),_R=function(){return Wu.Date.now()},hIe="Expected a function",pIe=Math.max,vIe=Math.min;function Cs(e,t,n){var r,a,i,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(hIe);t=FH(t)||0,ts(n)&&(c=!!n.leading,f="maxWait"in n,i=f?pIe(FH(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d);function h(S){var C=r,k=a;return r=a=void 0,u=S,o=e.apply(k,C),o}function p(S){return u=S,s=setTimeout(m,t),c?h(S):o}function v(S){var C=S-l,k=S-u,T=t-C;return f?vIe(T,i-k):T}function g(S){var C=S-l,k=S-u;return l===void 0||C>=t||C<0||f&&k>=i}function m(){var S=_R();if(g(S))return y(S);s=setTimeout(m,v(S))}function y(S){return s=void 0,d&&r?h(S):(r=a=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=a=s=void 0}function x(){return s===void 0?o:y(_R())}function _(){var S=_R(),C=g(S);if(r=arguments,a=this,l=S,C){if(s===void 0)return p(l);if(f)return clearTimeout(s),s=setTimeout(m,t),h(l)}return s===void 0&&(s=setTimeout(m,t)),o}return _.cancel=b,_.flush=x,_}function vO(e,t,n){(n!==void 0&&!b_(e[t],n)||n===void 0&&!(t in e))&&B4(e,t,n)}function yre(e){return $c(e)&&Vy(e)}function gO(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function gIe(e){return By(e,w_(e))}function mIe(e,t,n,r,a,i,o){var s=gO(e,n),l=gO(t,n),u=o.get(l);if(u){vO(e,n,u);return}var c=i?i(s,l,n+"",e,t,o):void 0,f=c===void 0;if(f){var d=es(l),h=!d&&jx(l),p=!d&&!h&&U4(l);c=l,d||h||p?es(s)?c=s:yre(s)?c=Vne(s):h?(f=!1,c=tre(l,!0)):p?(f=!1,c=ore(l,!0)):c=[]:Qne(l)||Kx(l)?(c=s,Kx(s)?c=gIe(s):(!ts(s)||F4(s))&&(c=sre(l))):f=!1}f&&(o.set(l,c),a(c,l,r,i,o),o.delete(l)),vO(e,n,c)}function bre(e,t,n,r,a){e!==t&&mre(t,function(i,o){if(a||(a=new Su),ts(i))mIe(e,t,o,n,bre,r,a);else{var s=r?r(gO(e,o),i,o+"",e,t,a):void 0;s===void 0&&(s=i),vO(e,o,s)}},w_)}function yIe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function xre(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=r-1;return Wne(e,gre(t),a,!0)}function bIe(e,t){var n=-1,r=Vy(e)?Array(e.length):[];return dIe(e,function(a,i,o){r[++n]=t(a,i,o)}),r}function xIe(e,t){var n=es(e)?O4:bIe;return n(e,gre(t))}function wIe(e,t){return __(xIe(e,t),1)}var _Ie=1/0;function SIe(e){var t=e==null?0:e.length;return t?__(e,_Ie):[]}function Zx(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r}function CIe(e,t){return t.length<2?e:pA(e,K2e(t,0,-1))}function Ci(e,t){return vA(e,t)}function Ua(e){return e==null}function wre(e){return e===void 0}var _re=vCe(function(e,t,n){bre(e,t,n)});function TIe(e,t){return t=zy(t,e),e=CIe(e,t),e==null||delete e[Wy(yIe(t))]}function kIe(e){return Qne(e)?void 0:e}var IIe=1,EIe=2,AIe=4,DIe=Zne(function(e,t){var n={};if(e==null)return n;var r=!1;t=O4(t,function(i){return i=zy(i,e),r||(r=i.length>1),i}),By(e,ire(e),n),r&&(n=km(n,IIe|EIe|AIe,kIe));for(var a=t.length;a--;)TIe(n,t[a]);return n});function Sre(e,t,n,r){if(!ts(e))return e;t=zy(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var l=Wy(t[a]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(a!=o){var c=s[l];u=void 0,u===void 0&&(u=ts(c)?c:cA(t[a+1])?[]:{})}V4(s,l,u),s=s[l]}return e}function NIe(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=pA(e,o);n(s,o)&&Sre(i,zy(o,e),s)}return i}function RIe(e,t){return NIe(e,t,function(n,r){return vre(e,r)})}var pu=Zne(function(e,t){return e==null?{}:RIe(e,t)});function MIe(e,t,n){return e==null?e:Sre(e,t,n)}var $Ie="Expected a function";function Ov(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError($Ie);return ts(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Cs(e,t,{leading:r,maxWait:t,trailing:a})}var LIe=1/0,OIe=Tm&&1/q4(new Tm([,-0]))[1]==LIe?function(e){return new Tm(e)}:ZSe,PIe=200;function FIe(e,t,n){var r=-1,a=lCe,i=e.length,o=!0,s=[],l=s;if(i>=PIe){var u=OIe(e);if(u)return q4(u);o=!1,a=fre,l=new qx}else l=s;e:for(;++r<i;){var c=e[r],f=c;if(c=c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;s.push(c)}else a(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var SR=Une(function(e){return FIe(__(e,1,yre,!0))});const qn=e=>e===void 0,lr=e=>typeof e=="boolean",Tt=e=>typeof e=="number",Ms=e=>!e&&e!==0||Ke(e)&&e.length===0||qt(e)&&!Object.keys(e).length,Hs=e=>typeof Element>"u"?!1:e instanceof Element,rg=e=>Ua(e),BIe=e=>gt(e)?!Number.isNaN(Number(e)):!1,gA=e=>e===window;var VIe=Object.defineProperty,zIe=Object.defineProperties,WIe=Object.getOwnPropertyDescriptors,fU=Object.getOwnPropertySymbols,HIe=Object.prototype.hasOwnProperty,UIe=Object.prototype.propertyIsEnumerable,dU=(e,t,n)=>t in e?VIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GIe=(e,t)=>{for(var n in t||(t={}))HIe.call(t,n)&&dU(e,n,t[n]);if(fU)for(var n of fU(t))UIe.call(t,n)&&dU(e,n,t[n]);return e},KIe=(e,t)=>zIe(e,WIe(t));function mO(e,t){var n;const r=dr();return Pi(()=>{r.value=e()},KIe(GIe({},t),{flush:(n=void 0)!=null?n:"sync"})),Fy(r)}var hU;const wn=typeof window<"u",jIe=e=>typeof e<"u",yO=e=>typeof e=="function",YIe=e=>typeof e=="string",Xm=()=>{},bO=wn&&((hU=window==null?void 0:window.navigator)==null?void 0:hU.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Th(e){return typeof e=="function"?e():w(e)}function Cre(e,t){function n(...r){return new Promise((a,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(i)})}return n}function XIe(e,t={}){let n,r,a=Xm;const i=s=>{clearTimeout(s),a(),a=Xm};return s=>{const l=Th(e),u=Th(t.maxWait);return n&&i(n),l<=0||u!==void 0&&u<=0?(r&&(i(r),r=null),Promise.resolve(s())):new Promise((c,f)=>{a=t.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{n&&i(n),r=null,c(s())},u)),n=setTimeout(()=>{r&&i(r),r=null,c(s())},l)})}}function qIe(e,t=!0,n=!0,r=!1){let a=0,i,o=!0,s=Xm,l;const u=()=>{i&&(clearTimeout(i),i=void 0,s(),s=Xm)};return f=>{const d=Th(e),h=Date.now()-a,p=()=>l=f();return u(),d<=0?(a=Date.now(),p()):(h>d&&(n||!o)?(a=Date.now(),p()):t&&(l=new Promise((v,g)=>{s=r?g:v,i=setTimeout(()=>{a=Date.now(),o=!0,v(p()),u()},Math.max(0,d-h))})),!n&&!i&&(i=setTimeout(()=>o=!0,d)),o=!1,l)}}function ZIe(e){return e}function JIe(e,t){let n,r,a;const i=Y(!0),o=()=>{i.value=!0,a()};Le(e,o,{flush:"sync"});const s=yO(t)?t:t.get,l=yO(t)?void 0:t.set,u=Iwe((c,f)=>(r=c,a=f,{get(){return i.value&&(n=s(),i.value=!1),r(),n},set(d){l==null||l(d)}}));return Object.isExtensible(u)&&(u.trigger=o),u}function S_(e){return dte()?(hte(e),!0):!1}function QIe(e,t=200,n={}){return Cre(XIe(t,n),e)}function eEe(e,t=200,n={}){const r=Y(e.value),a=QIe(()=>{r.value=e.value},t,n);return Le(e,()=>a()),r}function Tre(e,t=200,n=!1,r=!0,a=!1){return Cre(qIe(t,n,r,a),e)}function Z4(e,t=!0){jt()?zt(e):t?e():xt(e)}function ag(e,t,n={}){const{immediate:r=!0}=n,a=Y(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function s(){a.value=!1,o()}function l(...u){o(),a.value=!0,i=setTimeout(()=>{a.value=!1,i=null,e(...u)},Th(t))}return r&&(a.value=!0,wn&&l()),S_(s),{isPending:Fy(a),start:l,stop:s}}function Ko(e){var t;const n=Th(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Zh=wn?window:void 0,tEe=wn?window.document:void 0;function Zn(...e){let t,n,r,a;if(YIe(e[0])||Array.isArray(e[0])?([n,r,a]=e,t=Zh):[t,n,r,a]=e,!t)return Xm;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},s=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=Le(()=>[Ko(t),Th(a)],([c,f])=>{o(),c&&i.push(...n.flatMap(d=>r.map(h=>s(c,d,h,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return S_(u),u}let pU=!1;function J4(e,t,n={}){const{window:r=Zh,ignore:a=[],capture:i=!0,detectIframe:o=!1}=n;if(!r)return;bO&&!pU&&(pU=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",Xm)));let s=!0;const l=d=>a.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=Ko(h);return p&&(d.target===p||d.composedPath().includes(p))}}),c=[Zn(r,"click",d=>{const h=Ko(e);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(s=!l(d)),!s){s=!0;return}t(d)}},{passive:!0,capture:i}),Zn(r,"pointerdown",d=>{const h=Ko(e);h&&(s=!d.composedPath().includes(h)&&!l(d))},{passive:!0}),o&&Zn(r,"blur",d=>{var h;const p=Ko(e);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&t(d)})].filter(Boolean);return()=>c.forEach(d=>d())}function nEe(e={}){var t;const{window:n=Zh}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,a=JIe(()=>null,()=>r==null?void 0:r.activeElement);return n&&(Zn(n,"blur",i=>{i.relatedTarget===null&&a.trigger()},!0),Zn(n,"focus",a.trigger,!0)),a}function kre(e,t=!1){const n=Y(),r=()=>n.value=!!e();return r(),Z4(r,t),n}function rEe(e){return JSON.parse(JSON.stringify(e))}const vU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gU="__vueuse_ssr_handlers__";vU[gU]=vU[gU]||{};function aEe(e,t,{window:n=Zh,initialValue:r=""}={}){const a=Y(r),i=F(()=>{var o;return Ko(t)||((o=n==null?void 0:n.document)==null?void 0:o.documentElement)});return Le([i,()=>Th(e)],([o,s])=>{var l;if(o&&n){const u=(l=n.getComputedStyle(o).getPropertyValue(s))==null?void 0:l.trim();a.value=u||r}},{immediate:!0}),Le(a,o=>{var s;(s=i.value)!=null&&s.style&&i.value.style.setProperty(Th(e),o)}),a}function iEe({document:e=tEe}={}){if(!e)return Y("visible");const t=Y(e.visibilityState);return Zn(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var mU=Object.getOwnPropertySymbols,oEe=Object.prototype.hasOwnProperty,sEe=Object.prototype.propertyIsEnumerable,lEe=(e,t)=>{var n={};for(var r in e)oEe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mU)for(var r of mU(e))t.indexOf(r)<0&&sEe.call(e,r)&&(n[r]=e[r]);return n};function Mr(e,t,n={}){const r=n,{window:a=Zh}=r,i=lEe(r,["window"]);let o;const s=kre(()=>a&&"ResizeObserver"in a),l=()=>{o&&(o.disconnect(),o=void 0)},u=Le(()=>Ko(e),f=>{l(),s.value&&a&&f&&(o=new ResizeObserver(t),o.observe(f,i))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return S_(c),{isSupported:s,stop:c}}function yU(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:a=!0,immediate:i=!0}=t,o=Y(0),s=Y(0),l=Y(0),u=Y(0),c=Y(0),f=Y(0),d=Y(0),h=Y(0);function p(){const v=Ko(e);if(!v){n&&(o.value=0,s.value=0,l.value=0,u.value=0,c.value=0,f.value=0,d.value=0,h.value=0);return}const g=v.getBoundingClientRect();o.value=g.height,s.value=g.bottom,l.value=g.left,u.value=g.right,c.value=g.top,f.value=g.width,d.value=g.x,h.value=g.y}return Mr(e,p),Le(()=>Ko(e),v=>!v&&p()),a&&Zn("scroll",p,{capture:!0,passive:!0}),r&&Zn("resize",p,{passive:!0}),Z4(()=>{i&&p()}),{height:o,bottom:s,left:l,right:u,top:c,width:f,x:d,y:h,update:p}}var bU=Object.getOwnPropertySymbols,uEe=Object.prototype.hasOwnProperty,cEe=Object.prototype.propertyIsEnumerable,fEe=(e,t)=>{var n={};for(var r in e)uEe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bU)for(var r of bU(e))t.indexOf(r)<0&&cEe.call(e,r)&&(n[r]=e[r]);return n};function Ire(e,t,n={}){const r=n,{window:a=Zh}=r,i=fEe(r,["window"]);let o;const s=kre(()=>a&&"MutationObserver"in a),l=()=>{o&&(o.disconnect(),o=void 0)},u=Le(()=>Ko(e),f=>{l(),s.value&&a&&f&&(o=new MutationObserver(t),o.observe(f,i))},{immediate:!0}),c=()=>{l(),u()};return S_(c),{isSupported:s,stop:c}}var xU;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(xU||(xU={}));var dEe=Object.defineProperty,wU=Object.getOwnPropertySymbols,hEe=Object.prototype.hasOwnProperty,pEe=Object.prototype.propertyIsEnumerable,_U=(e,t,n)=>t in e?dEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vEe=(e,t)=>{for(var n in t)hEe.call(t,n)&&_U(e,n,t[n]);if(wU)for(var n of wU(t))pEe.call(t,n)&&_U(e,n,t[n]);return e};const gEe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};vEe({linear:ZIe},gEe);function Ere(e,t,n,r={}){var a,i,o;const{clone:s=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f}=r,d=jt(),h=n||(d==null?void 0:d.emit)||((a=d==null?void 0:d.$emit)==null?void 0:a.bind(d))||((o=(i=d==null?void 0:d.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(d==null?void 0:d.proxy));let p=u;t||(t="modelValue"),p=u||p||`update:${t.toString()}`;const v=m=>s?yO(s)?s(m):rEe(m):m,g=()=>jIe(e[t])?v(e[t]):f;if(l){const m=g(),y=Y(m);return Le(()=>e[t],b=>y.value=v(b)),Le(y,b=>{(b!==e[t]||c)&&h(p,b)},{deep:c}),y}else return F({get(){return g()},set(m){h(p,m)}})}function mEe({window:e=Zh}={}){if(!e)return Y(!1);const t=Y(e.document.hasFocus());return Zn(e,"blur",()=>{t.value=!1}),Zn(e,"focus",()=>{t.value=!0}),t}function yEe(e={}){const{window:t=Zh,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:a=!0,includeScrollbar:i=!0}=e,o=Y(n),s=Y(r),l=()=>{t&&(i?(o.value=t.innerWidth,s.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};return l(),Z4(l),Zn("resize",l,{passive:!0}),a&&Zn("orientationchange",l,{passive:!0}),{width:o,height:s}}class bEe extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Na(e,t){throw new bEe(`[${e}] ${t}`)}const SU={current:0},CU=Y(0),Are=2e3,TU=Symbol("elZIndexContextKey"),Dre=Symbol("zIndexContextKey"),Hy=e=>{const t=jt()?ht(TU,SU):SU,n=e||(jt()?ht(Dre,void 0):void 0),r=F(()=>{const o=w(n);return Tt(o)?o:Are}),a=F(()=>r.value+CU.value),i=()=>(t.current++,CU.value=t.current,a.value);return!wn&&ht(TU),{initialZIndex:r,currentZIndex:a,nextZIndex:i}};var xEe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const wEe=e=>(t,n)=>_Ee(t,n,w(e)),_Ee=(e,t,n)=>ca(n,e,e).replace(/\{(\w+)\}/g,(r,a)=>{var i;return`${(i=t==null?void 0:t[a])!=null?i:`{${a}}`}`}),SEe=e=>{const t=F(()=>w(e).name),n=vr(e)?e:Y(e);return{lang:t,locale:n,t:wEe(e)}},Nre=Symbol("localeContextKey"),_n=e=>{const t=e||ht(Nre,Y());return SEe(F(()=>t.value||xEe))},Rre="__epPropKey",be=e=>e,CEe=e=>qt(e)&&!!e[Rre],Hu=(e,t)=>{if(!qt(e)||CEe(e))return e;const{values:n,required:r,default:a,type:i,validator:o}=e,l={type:i,required:!!r,validator:n||o?u=>{let c=!1,f=[];if(n&&(f=Array.from(n),Dn(e,"default")&&f.push(a),c||(c=f.includes(u))),o&&(c||(c=o(u))),!c&&f.length>0){const d=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");R_e(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${d}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[Rre]:!0};return Dn(e,"default")&&(l.default=a),l},je=e=>Zx(Object.entries(e).map(([t,n])=>[t,Hu(n,t)])),qc=["","default","small","large"],xa=Hu({type:String,values:qc,required:!1}),Mre=Symbol("size"),$re=()=>{const e=ht(Mre,{});return F(()=>w(e.size)||"")},Lre=Symbol("emptyValuesContextKey"),TEe=["",void 0,null],kEe=void 0,Uy=je({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>mt(e)?!e():!e}}),mA=(e,t)=>{const n=jt()?ht(Lre,Y({})):Y({}),r=F(()=>e.emptyValues||n.value.emptyValues||TEe),a=F(()=>mt(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:mt(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:kEe),i=o=>r.value.includes(o);return r.value.includes(a.value),{emptyValues:r,valueOnClear:a,isEmptyValue:i}},qm=e=>Object.keys(e),Ore=e=>Object.entries(e),NT=(e,t,n)=>({get value(){return ca(e,t,n)},set value(r){MIe(e,t,r)}}),Xk=Y();function yA(e,t=void 0){const n=jt()?ht(Lne,Xk):Xk;return e?F(()=>{var r,a;return(a=(r=n.value)==null?void 0:r[e])!=null?a:t}):n}function bA(e,t){const n=yA(),r=ze(e,F(()=>{var s;return((s=n.value)==null?void 0:s.namespace)||nx})),a=_n(F(()=>{var s;return(s=n.value)==null?void 0:s.locale})),i=Hy(F(()=>{var s;return((s=n.value)==null?void 0:s.zIndex)||Are})),o=F(()=>{var s;return w(t)||((s=n.value)==null?void 0:s.size)||""});return Q4(F(()=>w(n)||{})),{ns:r,locale:a,zIndex:i,size:o}}const Q4=(e,t,n=!1)=>{var r;const a=!!jt(),i=a?yA():void 0,o=(r=t==null?void 0:t.provide)!=null?r:a?hn:void 0;if(!o)return;const s=F(()=>{const l=w(e);return i!=null&&i.value?IEe(i.value,l):l});return o(Lne,s),o(Nre,F(()=>s.value.locale)),o(One,F(()=>s.value.namespace)),o(Dre,F(()=>s.value.zIndex)),o(Mre,{size:F(()=>s.value.size||"")}),o(Lre,F(()=>({emptyValues:s.value.emptyValues,valueOnClear:s.value.valueOnClear}))),(n||!Xk.value)&&(Xk.value=s.value),s},IEe=(e,t)=>{const n=[...new Set([...qm(e),...qm(t)])],r={};for(const a of n)r[a]=t[a]!==void 0?t[a]:e[a];return r},EEe=(e=[])=>({version:dSe,install:(n,r)=>{n[MH]||(n[MH]=!0,e.forEach(a=>n.use(a)),r&&Q4(r,n,!0))}}),Ht="update:modelValue",Qn="change",Fi="input",AEe=je({zIndex:{type:be([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),DEe={scroll:({scrollTop:e,fixed:t})=>Tt(e)&&lr(t),[Qn]:e=>lr(e)};var Ze=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};function NEe(e,t,n,r){const a=n-t;return e/=r/2,e<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t}const kh=e=>wn?window.requestAnimationFrame(e):setTimeout(e,16),ig=e=>wn?window.cancelAnimationFrame(e):clearTimeout(e),Pre=(e="")=>e.split(" ").filter(t=>!!t.trim()),xs=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Tl=(e,t)=>{!e||!t.trim()||e.classList.add(...Pre(t))},bo=(e,t)=>{!e||!t.trim()||e.classList.remove(...Pre(t))},Cf=(e,t)=>{var n;if(!wn||!e||!t)return"";let r=Qo(t);r==="float"&&(r="cssFloat");try{const a=e.style[r];if(a)return a;const i=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return i?i[r]:""}catch{return e.style[r]}},Fre=(e,t,n)=>{if(!(!e||!t))if(qt(t))Ore(t).forEach(([r,a])=>Fre(e,r,a));else{const r=Qo(t);e.style[r]=n}};function ta(e,t="px"){if(!e)return"";if(Tt(e)||BIe(e))return`${e}${t}`;if(gt(e))return e}const REe=(e,t)=>{if(!wn)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=Cf(e,n);return["scroll","auto","overlay"].some(a=>r.includes(a))},eB=(e,t)=>{if(!wn)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(REe(n,t))return n;n=n.parentNode}return n};let LC;const Bre=e=>{var t;if(!wn)return 0;if(LC!==void 0)return LC;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",n.appendChild(a);const i=a.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),LC=r-i,LC};function tB(e,t){if(!wn)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const a=t.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),i=a+t.offsetHeight,o=e.scrollTop,s=o+e.clientHeight;a<o?e.scrollTop=a:i>s&&(e.scrollTop=i-e.clientHeight)}function MEe(e,t,n,r,a){const i=Date.now();let o;const s=()=>{const u=Date.now()-i,c=NEe(u>r?r:u,t,n,r);gA(e)?e.scrollTo(window.pageXOffset,c):e.scrollTop=c,u<r?o=kh(s):mt(a)&&a()};return s(),()=>{o&&ig(o)}}const kU=(e,t)=>gA(t)?e.ownerDocument.documentElement:t,IU=e=>gA(e)?window.scrollY:e.scrollTop,Vre="ElAffix",$Ee=se({name:Vre}),LEe=se({...$Ee,props:AEe,emits:DEe,setup(e,{expose:t,emit:n}){const r=e,a=ze("affix"),i=dr(),o=dr(),s=dr(),{height:l}=yEe(),{height:u,width:c,top:f,bottom:d,update:h}=yU(o,{windowScroll:!1}),p=yU(i),v=Y(!1),g=Y(0),m=Y(0),y=F(()=>({height:v.value?`${u.value}px`:"",width:v.value?`${c.value}px`:""})),b=F(()=>{if(!v.value)return{};const S=r.offset?ta(r.offset):0;return{height:`${u.value}px`,width:`${c.value}px`,top:r.position==="top"?S:"",bottom:r.position==="bottom"?S:"",transform:m.value?`translateY(${m.value}px)`:"",zIndex:r.zIndex}}),x=()=>{if(!s.value)return;g.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0;const{position:S,target:C,offset:k}=r,T=k+u.value;if(S==="top")if(C){const E=p.bottom.value-T;v.value=k>f.value&&p.bottom.value>0,m.value=E<0?E:0}else v.value=k>f.value;else if(C){const E=l.value-p.top.value-T;v.value=l.value-k<d.value&&l.value>p.top.value,m.value=E<0?-E:0}else v.value=l.value-k<d.value},_=()=>{h(),n("scroll",{scrollTop:g.value,fixed:v.value})};return Le(v,S=>n("change",S)),zt(()=>{var S;r.target?(i.value=(S=document.querySelector(r.target))!=null?S:void 0,i.value||Na(Vre,`Target does not exist: ${r.target}`)):i.value=document.documentElement,s.value=eB(o.value,!0),h()}),Zn(s,"scroll",_),Pi(x),t({update:x,updateRoot:h}),(S,C)=>(z(),q("div",{ref_key:"root",ref:o,class:G(w(a).b()),style:yt(w(y))},[Z("div",{class:G({[w(a).m("fixed")]:v.value}),style:yt(w(b))},[Se(S.$slots,"default")],6)],6))}});var OEe=Ze(LEe,[["__file","affix.vue"]]);const Bt=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},zre=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),PEe=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Ur=e=>(e.install=zn,e),FEe=Bt(OEe),BEe=je({size:{type:be([Number,String])},color:{type:String}}),VEe=se({name:"ElIcon",inheritAttrs:!1}),zEe=se({...VEe,props:BEe,setup(e){const t=e,n=ze("icon"),r=F(()=>{const{size:a,color:i}=t;return!a&&!i?{}:{fontSize:qn(a)?void 0:ta(a),"--color":i}});return(a,i)=>(z(),q("i",rn({class:w(n).b(),style:w(r)},a.$attrs),[Se(a.$slots,"default")],16))}});var WEe=Ze(zEe,[["__file","icon.vue"]]);const pt=Bt(WEe);/*! Element Plus Icons Vue v2.3.1 */var HEe=se({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Zc=HEe,UEe=se({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Ih=UEe,GEe=se({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Yo=GEe,KEe=se({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),nB=KEe,jEe=se({name:"Back",__name:"back",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),YEe=jEe,XEe=se({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),qEe=XEe,ZEe=se({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),Wre=ZEe,JEe=se({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),QEe=JEe,eAe=se({name:"Check",__name:"check",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),C_=eAe,tAe=se({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),nAe=tAe,rAe=se({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),rB=rAe,aAe=se({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),aB=aAe,iAe=se({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),ld=iAe,oAe=se({name:"Clock",__name:"clock",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),Hre=oAe,sAe=se({name:"Close",__name:"close",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Ru=sAe,lAe=se({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Eh=lAe,uAe=se({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Ah=uAe,cAe=se({name:"DataAnalysis",__name:"data-analysis",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}}),fAe=cAe,dAe=se({name:"Delete",__name:"delete",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),hAe=dAe,pAe=se({name:"Document",__name:"document",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),RT=pAe,vAe=se({name:"Download",__name:"download",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),Ure=vAe,gAe=se({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),mAe=gAe,yAe=se({name:"Hide",__name:"hide",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),bAe=yAe,xAe=se({name:"Histogram",__name:"histogram",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M416 896V128h192v768zm-288 0V448h192v448zm576 0V320h192v576z"})]))}}),wAe=xAe,_Ae=se({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),xA=_Ae,SAe=se({name:"Loading",__name:"loading",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Mu=SAe,CAe=se({name:"Minus",__name:"minus",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),TAe=CAe,kAe=se({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),EU=kAe,IAe=se({name:"More",__name:"more",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),EAe=IAe,AAe=se({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),DAe=AAe,NAe=se({name:"Plus",__name:"plus",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),Gre=NAe,RAe=se({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),MAe=RAe,$Ae=se({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),LAe=$Ae,OAe=se({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),PAe=OAe,FAe=se({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),BAe=FAe,VAe=se({name:"Search",__name:"search",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),zAe=VAe,WAe=se({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),HAe=WAe,UAe=se({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),GAe=UAe,KAe=se({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),OC=KAe,jAe=se({name:"Star",__name:"star",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),YAe=jAe,XAe=se({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Kre=XAe,qAe=se({name:"UploadFilled",__name:"upload-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),ZAe=qAe,JAe=se({name:"View",__name:"view",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),QAe=JAe,eDe=se({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),wA=eDe,tDe=se({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),jre=tDe,nDe=se({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),rDe=nDe;const er=be([String,Object,Function]),iB={Close:Ru},oB={Close:Ru,SuccessFilled:Kre,InfoFilled:xA,WarningFilled:wA,CircleCloseFilled:aB},Dh={success:Kre,warning:wA,error:aB,info:xA},_A={validating:Mu,success:rB,error:ld},aDe=["light","dark"],iDe=je({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:qm(Dh),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:aDe,default:"light"}}),oDe={close:e=>e instanceof MouseEvent},sDe=se({name:"ElAlert"}),lDe=se({...sDe,props:iDe,emits:oDe,setup(e,{emit:t}){const n=e,{Close:r}=oB,a=Sa(),i=ze("alert"),o=Y(!0),s=F(()=>Dh[n.type]),l=F(()=>!!(n.description||a.default)),u=c=>{o.value=!1,t("close",c)};return(c,f)=>(z(),Ae(hi,{name:w(i).b("fade"),persisted:""},{default:fe(()=>[Vt(Z("div",{class:G([w(i).b(),w(i).m(c.type),w(i).is("center",c.center),w(i).is(c.effect)]),role:"alert"},[c.showIcon&&w(s)?(z(),Ae(w(pt),{key:0,class:G([w(i).e("icon"),{[w(i).is("big")]:w(l)}])},{default:fe(()=>[(z(),Ae(tn(w(s))))]),_:1},8,["class"])):Te("v-if",!0),Z("div",{class:G(w(i).e("content"))},[c.title||c.$slots.title?(z(),q("span",{key:0,class:G([w(i).e("title"),{"with-description":w(l)}])},[Se(c.$slots,"title",{},()=>[Kt(Ve(c.title),1)])],2)):Te("v-if",!0),w(l)?(z(),q("p",{key:1,class:G(w(i).e("description"))},[Se(c.$slots,"default",{},()=>[Kt(Ve(c.description),1)])],2)):Te("v-if",!0),c.closable?(z(),q(vt,{key:2},[c.closeText?(z(),q("div",{key:0,class:G([w(i).e("close-btn"),w(i).is("customed")]),onClick:u},Ve(c.closeText),3)):(z(),Ae(w(pt),{key:1,class:G(w(i).e("close-btn")),onClick:u},{default:fe(()=>[ie(w(r))]),_:1},8,["class"]))],64)):Te("v-if",!0)],2)],2),[[En,o.value]])]),_:3},8,["name"]))}});var uDe=Ze(lDe,[["__file","alert.vue"]]);const cDe=Bt(uDe),SA=()=>wn&&/firefox/i.test(window.navigator.userAgent);let ql;const fDe=`
  height:0 !important;
  visibility:hidden !important;
  ${SA()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,dDe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function hDe(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:dDe.map(o=>`${o}:${t.getPropertyValue(o)}`).join(";"),paddingSize:r,borderSize:a,boxSizing:n}}function AU(e,t=1,n){var r;ql||(ql=document.createElement("textarea"),document.body.appendChild(ql));const{paddingSize:a,borderSize:i,boxSizing:o,contextStyle:s}=hDe(e);ql.setAttribute("style",`${s};${fDe}`),ql.value=e.value||e.placeholder||"";let l=ql.scrollHeight;const u={};o==="border-box"?l=l+i:o==="content-box"&&(l=l-a),ql.value="";const c=ql.scrollHeight-a;if(Tt(t)){let f=c*t;o==="border-box"&&(f=f+a+i),l=Math.max(f,l),u.minHeight=`${f}px`}if(Tt(n)){let f=c*n;o==="border-box"&&(f=f+a+i),l=Math.min(f,l)}return u.height=`${l}px`,(r=ql.parentNode)==null||r.removeChild(ql),ql=void 0,u}const zr=e=>e,pDe=je({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Ei=e=>pu(pDe,e),sB=je({id:{type:String,default:void 0},size:xa,disabled:Boolean,modelValue:{type:be([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:be([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:er},prefixIcon:{type:er},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:be([Object,Array,String]),default:()=>zr({})},autofocus:Boolean,rows:{type:Number,default:2},...Ei(["ariaLabel"])}),vDe={[Ht]:e=>gt(e),input:e=>gt(e),change:e=>gt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},gDe=["class","style"],mDe=/^on[A-Z]/,T_=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=F(()=>((n==null?void 0:n.value)||[]).concat(gDe)),a=jt();return F(a?()=>{var i;return Zx(Object.entries((i=a.proxy)==null?void 0:i.$attrs).filter(([o])=>!r.value.includes(o)&&!(t&&mDe.test(o))))}:()=>({}))},Bg=Symbol("formContextKey"),Lc=Symbol("formItemContextKey"),DU={prefix:Math.floor(Math.random()*1e4),current:0},yDe=Symbol("elIdInjection"),lB=()=>jt()?ht(yDe,DU):DU,Ii=e=>{const t=lB(),n=L4();return mO(()=>w(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},Xi=()=>{const e=ht(Bg,void 0),t=ht(Lc,void 0);return{form:e,formItem:t}},Wl=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Y(!1)),r||(r=Y(!1));const a=Y();let i;const o=F(()=>{var s;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((s=t.inputIds)==null?void 0:s.length)<=1)});return zt(()=>{i=Le([Hn(e,"id"),n],([s,l])=>{const u=s??(l?void 0:Ii().value);u!==a.value&&(t!=null&&t.removeInputId&&(a.value&&t.removeInputId(a.value),!(r!=null&&r.value)&&!l&&u&&t.addInputId(u)),a.value=u)},{immediate:!0})}),zu(()=>{i&&i(),t!=null&&t.removeInputId&&a.value&&t.removeInputId(a.value)}),{isLabeledByFormItem:o,inputId:a}},Yre=e=>{const t=jt();return F(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},pa=(e,t={})=>{const n=Y(void 0),r=t.prop?n:Yre("size"),a=t.global?n:$re(),i=t.form?{size:void 0}:ht(Bg,void 0),o=t.formItem?{size:void 0}:ht(Lc,void 0);return F(()=>r.value||w(e)||(o==null?void 0:o.size)||(i==null?void 0:i.size)||a.value||"")},qi=e=>{const t=Yre("disabled"),n=ht(Bg,void 0);return F(()=>t.value||w(e)||(n==null?void 0:n.disabled)||!1)};function Jh(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:a}={}){const i=jt(),{emit:o}=i,s=dr(),l=Y(!1),u=d=>{mt(t)&&t(d)||l.value||(l.value=!0,o("focus",d),n==null||n())},c=d=>{var h;mt(r)&&r(d)||d.relatedTarget&&((h=s.value)!=null&&h.contains(d.relatedTarget))||(l.value=!1,o("blur",d),a==null||a())},f=()=>{var d,h;(d=s.value)!=null&&d.contains(document.activeElement)&&s.value!==document.activeElement||(h=e.value)==null||h.focus()};return Le(s,d=>{d&&d.setAttribute("tabindex","-1")}),Zn(s,"focus",u,!0),Zn(s,"blur",c,!0),Zn(s,"click",f,!0),{isFocused:l,wrapperRef:s,handleFocus:u,handleBlur:c}}const bDe=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function k_({afterComposition:e,emit:t}){const n=Y(!1),r=s=>{t==null||t("compositionstart",s),n.value=!0},a=s=>{var l;t==null||t("compositionupdate",s);const u=(l=s.target)==null?void 0:l.value,c=u[u.length-1]||"";n.value=!bDe(c)},i=s=>{t==null||t("compositionend",s),n.value&&(n.value=!1,xt(()=>e(s)))};return{isComposing:n,handleComposition:s=>{s.type==="compositionend"?i(s):a(s)},handleCompositionStart:r,handleCompositionUpdate:a,handleCompositionEnd:i}}function xDe(e){let t;function n(){if(e.value==null)return;const{selectionStart:a,selectionEnd:i,value:o}=e.value;if(a==null||i==null)return;const s=o.slice(0,Math.max(0,a)),l=o.slice(Math.max(0,i));t={selectionStart:a,selectionEnd:i,value:o,beforeTxt:s,afterTxt:l}}function r(){if(e.value==null||t==null)return;const{value:a}=e.value,{beforeTxt:i,afterTxt:o,selectionStart:s}=t;if(i==null||o==null||s==null)return;let l=a.length;if(a.endsWith(o))l=a.length-o.length;else if(a.startsWith(i))l=i.length;else{const u=i[s-1],c=a.indexOf(u,s-1);c!==-1&&(l=c+1)}e.value.setSelectionRange(l,l)}return[n,r]}const wDe=se({name:"ElInput",inheritAttrs:!1}),_De=se({...wDe,props:sB,emits:vDe,setup(e,{expose:t,emit:n}){const r=e,a=qh(),i=T_(),o=Sa(),s=F(()=>[r.type==="textarea"?v.b():p.b(),p.m(d.value),p.is("disabled",h.value),p.is("exceed",V.value),{[p.b("group")]:o.prepend||o.append,[p.m("prefix")]:o.prefix||r.prefixIcon,[p.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:O.value&&M.value,[p.b("hidden")]:r.type==="hidden"},a.class]),l=F(()=>[p.e("wrapper"),p.is("focus",k.value)]),{form:u,formItem:c}=Xi(),{inputId:f}=Wl(r,{formItemContext:c}),d=pa(),h=qi(),p=ze("input"),v=ze("textarea"),g=dr(),m=dr(),y=Y(!1),b=Y(!1),x=Y(),_=dr(r.inputStyle),S=F(()=>g.value||m.value),{wrapperRef:C,isFocused:k,handleFocus:T,handleBlur:E}=Jh(S,{beforeFocus(){return h.value},afterBlur(){var ce;r.validateEvent&&((ce=c==null?void 0:c.validate)==null||ce.call(c,"blur").catch(Re=>void 0))}}),I=F(()=>{var ce;return(ce=u==null?void 0:u.statusIcon)!=null?ce:!1}),A=F(()=>(c==null?void 0:c.validateState)||""),N=F(()=>A.value&&_A[A.value]),L=F(()=>b.value?QAe:bAe),R=F(()=>[a.style]),D=F(()=>[r.inputStyle,_.value,{resize:r.resize}]),P=F(()=>Ua(r.modelValue)?"":String(r.modelValue)),O=F(()=>r.clearable&&!h.value&&!r.readonly&&!!P.value&&(k.value||y.value)),M=F(()=>r.showPassword&&!h.value&&!!P.value&&(!!P.value||k.value)),W=F(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!h.value&&!r.readonly&&!r.showPassword),U=F(()=>P.value.length),V=F(()=>!!W.value&&U.value>Number(r.maxlength)),H=F(()=>!!o.suffix||!!r.suffixIcon||O.value||r.showPassword||W.value||!!A.value&&I.value),[K,j]=xDe(g);Mr(m,ce=>{if(oe(),!W.value||r.resize!=="both")return;const Re=ce[0],{width:ct}=Re.contentRect;x.value={right:`calc(100% - ${ct+15+6}px)`}});const ne=()=>{const{type:ce,autosize:Re}=r;if(!(!wn||ce!=="textarea"||!m.value))if(Re){const ct=qt(Re)?Re.minRows:void 0,It=qt(Re)?Re.maxRows:void 0,wt=AU(m.value,ct,It);_.value={overflowY:"hidden",...wt},xt(()=>{m.value.offsetHeight,_.value=wt})}else _.value={minHeight:AU(m.value).minHeight}},oe=(ce=>{let Re=!1;return()=>{var ct;if(Re||!r.autosize)return;((ct=m.value)==null?void 0:ct.offsetParent)===null||(ce(),Re=!0)}})(ne),ae=()=>{const ce=S.value,Re=r.formatter?r.formatter(P.value):P.value;!ce||ce.value===Re||(ce.value=Re)},me=async ce=>{K();let{value:Re}=ce.target;if(r.formatter&&(Re=r.parser?r.parser(Re):Re),!B.value){if(Re===P.value){ae();return}n(Ht,Re),n("input",Re),await xt(),ae(),j()}},ve=ce=>{n("change",ce.target.value)},{isComposing:B,handleCompositionStart:re,handleCompositionUpdate:ge,handleCompositionEnd:Ie}=k_({emit:n,afterComposition:me}),Ce=()=>{K(),b.value=!b.value,setTimeout(j)},he=()=>{var ce;return(ce=S.value)==null?void 0:ce.focus()},J=()=>{var ce;return(ce=S.value)==null?void 0:ce.blur()},te=ce=>{y.value=!1,n("mouseleave",ce)},xe=ce=>{y.value=!0,n("mouseenter",ce)},Ee=ce=>{n("keydown",ce)},Qe=()=>{var ce;(ce=S.value)==null||ce.select()},Be=()=>{n(Ht,""),n("change",""),n("clear"),n("input","")};return Le(()=>r.modelValue,()=>{var ce;xt(()=>ne()),r.validateEvent&&((ce=c==null?void 0:c.validate)==null||ce.call(c,"change").catch(Re=>void 0))}),Le(P,()=>ae()),Le(()=>r.type,async()=>{await xt(),ae(),ne()}),zt(()=>{!r.formatter&&r.parser,ae(),xt(ne)}),t({input:g,textarea:m,ref:S,textareaStyle:D,autosize:Hn(r,"autosize"),isComposing:B,focus:he,blur:J,select:Qe,clear:Be,resizeTextarea:ne}),(ce,Re)=>(z(),q("div",{class:G([w(s),{[w(p).bm("group","append")]:ce.$slots.append,[w(p).bm("group","prepend")]:ce.$slots.prepend}]),style:yt(w(R)),onMouseenter:xe,onMouseleave:te},[Te(" input "),ce.type!=="textarea"?(z(),q(vt,{key:0},[Te(" prepend slot "),ce.$slots.prepend?(z(),q("div",{key:0,class:G(w(p).be("group","prepend"))},[Se(ce.$slots,"prepend")],2)):Te("v-if",!0),Z("div",{ref_key:"wrapperRef",ref:C,class:G(w(l))},[Te(" prefix slot "),ce.$slots.prefix||ce.prefixIcon?(z(),q("span",{key:0,class:G(w(p).e("prefix"))},[Z("span",{class:G(w(p).e("prefix-inner"))},[Se(ce.$slots,"prefix"),ce.prefixIcon?(z(),Ae(w(pt),{key:0,class:G(w(p).e("icon"))},{default:fe(()=>[(z(),Ae(tn(ce.prefixIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],2)):Te("v-if",!0),Z("input",rn({id:w(f),ref_key:"input",ref:g,class:w(p).e("inner")},w(i),{minlength:ce.minlength,maxlength:ce.maxlength,type:ce.showPassword?b.value?"text":"password":ce.type,disabled:w(h),readonly:ce.readonly,autocomplete:ce.autocomplete,tabindex:ce.tabindex,"aria-label":ce.ariaLabel,placeholder:ce.placeholder,style:ce.inputStyle,form:ce.form,autofocus:ce.autofocus,role:ce.containerRole,onCompositionstart:w(re),onCompositionupdate:w(ge),onCompositionend:w(Ie),onInput:me,onChange:ve,onKeydown:Ee}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Te(" suffix slot "),w(H)?(z(),q("span",{key:1,class:G(w(p).e("suffix"))},[Z("span",{class:G(w(p).e("suffix-inner"))},[!w(O)||!w(M)||!w(W)?(z(),q(vt,{key:0},[Se(ce.$slots,"suffix"),ce.suffixIcon?(z(),Ae(w(pt),{key:0,class:G(w(p).e("icon"))},{default:fe(()=>[(z(),Ae(tn(ce.suffixIcon)))]),_:1},8,["class"])):Te("v-if",!0)],64)):Te("v-if",!0),w(O)?(z(),Ae(w(pt),{key:1,class:G([w(p).e("icon"),w(p).e("clear")]),onMousedown:At(w(zn),["prevent"]),onClick:Be},{default:fe(()=>[ie(w(ld))]),_:1},8,["class","onMousedown"])):Te("v-if",!0),w(M)?(z(),Ae(w(pt),{key:2,class:G([w(p).e("icon"),w(p).e("password")]),onClick:Ce},{default:fe(()=>[(z(),Ae(tn(w(L))))]),_:1},8,["class"])):Te("v-if",!0),w(W)?(z(),q("span",{key:3,class:G(w(p).e("count"))},[Z("span",{class:G(w(p).e("count-inner"))},Ve(w(U))+" / "+Ve(ce.maxlength),3)],2)):Te("v-if",!0),w(A)&&w(N)&&w(I)?(z(),Ae(w(pt),{key:4,class:G([w(p).e("icon"),w(p).e("validateIcon"),w(p).is("loading",w(A)==="validating")])},{default:fe(()=>[(z(),Ae(tn(w(N))))]),_:1},8,["class"])):Te("v-if",!0)],2)],2)):Te("v-if",!0)],2),Te(" append slot "),ce.$slots.append?(z(),q("div",{key:1,class:G(w(p).be("group","append"))},[Se(ce.$slots,"append")],2)):Te("v-if",!0)],64)):(z(),q(vt,{key:1},[Te(" textarea "),Z("textarea",rn({id:w(f),ref_key:"textarea",ref:m,class:[w(v).e("inner"),w(p).is("focus",w(k))]},w(i),{minlength:ce.minlength,maxlength:ce.maxlength,tabindex:ce.tabindex,disabled:w(h),readonly:ce.readonly,autocomplete:ce.autocomplete,style:w(D),"aria-label":ce.ariaLabel,placeholder:ce.placeholder,form:ce.form,autofocus:ce.autofocus,rows:ce.rows,role:ce.containerRole,onCompositionstart:w(re),onCompositionupdate:w(ge),onCompositionend:w(Ie),onInput:me,onFocus:w(T),onBlur:w(E),onChange:ve,onKeydown:Ee}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),w(W)?(z(),q("span",{key:0,style:yt(x.value),class:G(w(p).e("count"))},Ve(w(U))+" / "+Ve(ce.maxlength),7)):Te("v-if",!0)],64))],38))}});var SDe=Ze(_De,[["__file","input.vue"]]);const mo=Bt(SDe),y0=4,Xre={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},CDe=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),uB=Symbol("scrollbarContextKey"),TDe=je({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),kDe="Thumb",IDe=se({__name:"thumb",props:TDe,setup(e){const t=e,n=ht(uB),r=ze("scrollbar");n||Na(kDe,"can not inject scrollbar context");const a=Y(),i=Y(),o=Y({}),s=Y(!1);let l=!1,u=!1,c=wn?document.onselectstart:null;const f=F(()=>Xre[t.vertical?"vertical":"horizontal"]),d=F(()=>CDe({size:t.size,move:t.move,bar:f.value})),h=F(()=>a.value[f.value.offset]**2/n.wrapElement[f.value.scrollSize]/t.ratio/i.value[f.value.offset]),p=S=>{var C;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(C=window.getSelection())==null||C.removeAllRanges(),g(S);const k=S.currentTarget;k&&(o.value[f.value.axis]=k[f.value.offset]-(S[f.value.client]-k.getBoundingClientRect()[f.value.direction]))},v=S=>{if(!i.value||!a.value||!n.wrapElement)return;const C=Math.abs(S.target.getBoundingClientRect()[f.value.direction]-S[f.value.client]),k=i.value[f.value.offset]/2,T=(C-k)*100*h.value/a.value[f.value.offset];n.wrapElement[f.value.scroll]=T*n.wrapElement[f.value.scrollSize]/100},g=S=>{S.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",m),document.addEventListener("mouseup",y),c=document.onselectstart,document.onselectstart=()=>!1},m=S=>{if(!a.value||!i.value||l===!1)return;const C=o.value[f.value.axis];if(!C)return;const k=(a.value.getBoundingClientRect()[f.value.direction]-S[f.value.client])*-1,T=i.value[f.value.offset]-C,E=(k-T)*100*h.value/a.value[f.value.offset];n.wrapElement[f.value.scroll]=E*n.wrapElement[f.value.scrollSize]/100},y=()=>{l=!1,o.value[f.value.axis]=0,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),_(),u&&(s.value=!1)},b=()=>{u=!1,s.value=!!t.size},x=()=>{u=!0,s.value=l};ar(()=>{_(),document.removeEventListener("mouseup",y)});const _=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return Zn(Hn(n,"scrollbarElement"),"mousemove",b),Zn(Hn(n,"scrollbarElement"),"mouseleave",x),(S,C)=>(z(),Ae(hi,{name:w(r).b("fade"),persisted:""},{default:fe(()=>[Vt(Z("div",{ref_key:"instance",ref:a,class:G([w(r).e("bar"),w(r).is(w(f).key)]),onMousedown:v},[Z("div",{ref_key:"thumb",ref:i,class:G(w(r).e("thumb")),style:yt(w(d)),onMousedown:p},null,38)],34),[[En,S.always||s.value]])]),_:1},8,["name"]))}});var NU=Ze(IDe,[["__file","thumb.vue"]]);const EDe=je({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),ADe=se({__name:"bar",props:EDe,setup(e,{expose:t}){const n=e,r=ht(uB),a=Y(0),i=Y(0),o=Y(""),s=Y(""),l=Y(1),u=Y(1);return t({handleScroll:d=>{if(d){const h=d.offsetHeight-y0,p=d.offsetWidth-y0;i.value=d.scrollTop*100/h*l.value,a.value=d.scrollLeft*100/p*u.value}},update:()=>{const d=r==null?void 0:r.wrapElement;if(!d)return;const h=d.offsetHeight-y0,p=d.offsetWidth-y0,v=h**2/d.scrollHeight,g=p**2/d.scrollWidth,m=Math.max(v,n.minSize),y=Math.max(g,n.minSize);l.value=v/(h-v)/(m/(h-m)),u.value=g/(p-g)/(y/(p-y)),s.value=m+y0<h?`${m}px`:"",o.value=y+y0<p?`${y}px`:""}}),(d,h)=>(z(),q(vt,null,[ie(NU,{move:a.value,ratio:u.value,size:o.value,always:d.always},null,8,["move","ratio","size","always"]),ie(NU,{move:i.value,ratio:l.value,size:s.value,vertical:"",always:d.always},null,8,["move","ratio","size","always"])],64))}});var DDe=Ze(ADe,[["__file","bar.vue"]]);const NDe=je({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:be([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ei(["ariaLabel","ariaOrientation"])}),RDe={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Tt)},MDe="ElScrollbar",$De=se({name:MDe}),LDe=se({...$De,props:NDe,emits:RDe,setup(e,{expose:t,emit:n}){const r=e,a=ze("scrollbar");let i,o,s=0,l=0;const u=Y(),c=Y(),f=Y(),d=Y(),h=F(()=>{const _={};return r.height&&(_.height=ta(r.height)),r.maxHeight&&(_.maxHeight=ta(r.maxHeight)),[r.wrapStyle,_]}),p=F(()=>[r.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!r.native}]),v=F(()=>[a.e("view"),r.viewClass]),g=()=>{var _;c.value&&((_=d.value)==null||_.handleScroll(c.value),s=c.value.scrollTop,l=c.value.scrollLeft,n("scroll",{scrollTop:c.value.scrollTop,scrollLeft:c.value.scrollLeft}))};function m(_,S){qt(_)?c.value.scrollTo(_):Tt(_)&&Tt(S)&&c.value.scrollTo(_,S)}const y=_=>{Tt(_)&&(c.value.scrollTop=_)},b=_=>{Tt(_)&&(c.value.scrollLeft=_)},x=()=>{var _;(_=d.value)==null||_.update()};return Le(()=>r.noresize,_=>{_?(i==null||i(),o==null||o()):({stop:i}=Mr(f,x),o=Zn("resize",x))},{immediate:!0}),Le(()=>[r.maxHeight,r.height],()=>{r.native||xt(()=>{var _;x(),c.value&&((_=d.value)==null||_.handleScroll(c.value))})}),hn(uB,Ln({scrollbarElement:u,wrapElement:c})),I4(()=>{c.value&&(c.value.scrollTop=s,c.value.scrollLeft=l)}),zt(()=>{r.native||xt(()=>{x()})}),Xc(()=>x()),t({wrapRef:c,update:x,scrollTo:m,setScrollTop:y,setScrollLeft:b,handleScroll:g}),(_,S)=>(z(),q("div",{ref_key:"scrollbarRef",ref:u,class:G(w(a).b())},[Z("div",{ref_key:"wrapRef",ref:c,class:G(w(p)),style:yt(w(h)),tabindex:_.tabindex,onScroll:g},[(z(),Ae(tn(_.tag),{id:_.id,ref_key:"resizeRef",ref:f,class:G(w(v)),style:yt(_.viewStyle),role:_.role,"aria-label":_.ariaLabel,"aria-orientation":_.ariaOrientation},{default:fe(()=>[Se(_.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),_.native?Te("v-if",!0):(z(),Ae(DDe,{key:0,ref_key:"barRef",ref:d,always:_.always,"min-size":_.minSize},null,8,["always","min-size"]))],2))}});var ODe=Ze(LDe,[["__file","scrollbar.vue"]]);const Jc=Bt(ODe),cB=Symbol("popper"),qre=Symbol("popperContent"),PDe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Zre=je({role:{type:String,values:PDe,default:"tooltip"}}),FDe=se({name:"ElPopper",inheritAttrs:!1}),BDe=se({...FDe,props:Zre,setup(e,{expose:t}){const n=e,r=Y(),a=Y(),i=Y(),o=Y(),s=F(()=>n.role),l={triggerRef:r,popperInstanceRef:a,contentRef:i,referenceRef:o,role:s};return t(l),hn(cB,l),(u,c)=>Se(u.$slots,"default")}});var VDe=Ze(BDe,[["__file","popper.vue"]]);const Jre=je({arrowOffset:{type:Number,default:5}}),zDe=se({name:"ElPopperArrow",inheritAttrs:!1}),WDe=se({...zDe,props:Jre,setup(e,{expose:t}){const n=e,r=ze("popper"),{arrowOffset:a,arrowRef:i,arrowStyle:o}=ht(qre,void 0);return Le(()=>n.arrowOffset,s=>{a.value=s}),ar(()=>{i.value=void 0}),t({arrowRef:i}),(s,l)=>(z(),q("span",{ref_key:"arrowRef",ref:i,class:G(w(r).e("arrow")),style:yt(w(o)),"data-popper-arrow":""},null,6))}});var HDe=Ze(WDe,[["__file","arrow.vue"]]);const Qre=je({virtualRef:{type:be(Object)},virtualTriggering:Boolean,onMouseenter:{type:be(Function)},onMouseleave:{type:be(Function)},onClick:{type:be(Function)},onKeydown:{type:be(Function)},onFocus:{type:be(Function)},onBlur:{type:be(Function)},onContextmenu:{type:be(Function)},id:String,open:Boolean}),eae=Symbol("elForwardRef"),UDe=e=>{hn(eae,{setForwardRef:n=>{e.value=n}})},GDe=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),KDe='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',jDe=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,RU=e=>Array.from(e.querySelectorAll(KDe)).filter(t=>xO(t)&&jDe(t)),xO=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},MT=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const a=document.createEvent(r);return a.initEvent(t,...n),e.dispatchEvent(a),e},tae=e=>!e.getAttribute("aria-owns"),nae=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const a=r.querySelectorAll(n),i=Array.prototype.indexOf.call(a,e);return a[i+t]||null},$T=e=>{e&&(e.focus(),!tae(e)&&e.click())},YDe="ElOnlyChild",rae=se({name:YDe,setup(e,{slots:t,attrs:n}){var r;const a=ht(eae),i=GDe((r=a==null?void 0:a.setForwardRef)!=null?r:zn);return()=>{var o;const s=(o=t.default)==null?void 0:o.call(t,n);if(!s||s.length>1)return null;const l=aae(s);return l?Vt(zf(l,n),[[i]]):null}}});function aae(e){if(!e)return null;const t=e;for(const n of t){if(qt(n))switch(n.type){case ti:continue;case Lg:case"svg":return MU(n);case vt:return aae(n.children);default:return n}return MU(n)}return null}function MU(e){const t=ze("only-child");return ie("span",{class:t.e("content")},[e])}const XDe=se({name:"ElPopperTrigger",inheritAttrs:!1}),qDe=se({...XDe,props:Qre,setup(e,{expose:t}){const n=e,{role:r,triggerRef:a}=ht(cB,void 0);UDe(a);const i=F(()=>s.value?n.id:void 0),o=F(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),s=F(()=>{if(r&&r.value!=="tooltip")return r.value}),l=F(()=>s.value?`${n.open}`:void 0);let u;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return zt(()=>{Le(()=>n.virtualRef,f=>{f&&(a.value=Ko(f))},{immediate:!0}),Le(a,(f,d)=>{u==null||u(),u=void 0,Hs(f)&&(c.forEach(h=>{var p;const v=n[h];v&&(f.addEventListener(h.slice(2).toLowerCase(),v),(p=d==null?void 0:d.removeEventListener)==null||p.call(d,h.slice(2).toLowerCase(),v))}),xO(f)&&(u=Le([i,o,s,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,v)=>{Ua(h[v])?f.removeAttribute(p):f.setAttribute(p,h[v])})},{immediate:!0}))),Hs(d)&&xO(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>d.removeAttribute(h))},{immediate:!0})}),ar(()=>{if(u==null||u(),u=void 0,a.value&&Hs(a.value)){const f=a.value;c.forEach(d=>{const h=n[d];h&&f.removeEventListener(d.slice(2).toLowerCase(),h)}),a.value=void 0}}),t({triggerRef:a}),(f,d)=>f.virtualTriggering?Te("v-if",!0):(z(),Ae(w(rae),rn({key:0},f.$attrs,{"aria-controls":w(i),"aria-describedby":w(o),"aria-expanded":w(l),"aria-haspopup":w(s)}),{default:fe(()=>[Se(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ZDe=Ze(qDe,[["__file","trigger.vue"]]);const CR="focus-trap.focus-after-trapped",TR="focus-trap.focus-after-released",JDe="focus-trap.focusout-prevented",$U={cancelable:!0,bubbles:!1},QDe={cancelable:!0,bubbles:!1},LU="focusAfterTrapped",OU="focusAfterReleased",fB=Symbol("elFocusTrap"),dB=Y(),CA=Y(0),hB=Y(0);let PC=0;const iae=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},PU=(e,t)=>{for(const n of e)if(!eNe(n,t))return n},eNe=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},tNe=e=>{const t=iae(e),n=PU(t,e),r=PU(t.reverse(),e);return[n,r]},nNe=e=>e instanceof HTMLInputElement&&"select"in e,Md=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),hB.value=window.performance.now(),e!==n&&nNe(e)&&t&&e.select()}};function FU(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const rNe=()=>{let e=[];return{push:r=>{const a=e[0];a&&r!==a&&a.pause(),e=FU(e,r),e.unshift(r)},remove:r=>{var a,i;e=FU(e,r),(i=(a=e[0])==null?void 0:a.resume)==null||i.call(a)}}},aNe=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Md(r,t),document.activeElement!==n)return},BU=rNe(),iNe=()=>CA.value>hB.value,FC=()=>{dB.value="pointer",CA.value=window.performance.now()},VU=()=>{dB.value="keyboard",CA.value=window.performance.now()},oNe=()=>(zt(()=>{PC===0&&(document.addEventListener("mousedown",FC),document.addEventListener("touchstart",FC),document.addEventListener("keydown",VU)),PC++}),ar(()=>{PC--,PC<=0&&(document.removeEventListener("mousedown",FC),document.removeEventListener("touchstart",FC),document.removeEventListener("keydown",VU))}),{focusReason:dB,lastUserFocusTimestamp:CA,lastAutomatedFocusTimestamp:hB}),BC=e=>new CustomEvent(JDe,{...QDe,detail:e}),lt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let Z0=[];const zU=e=>{e.code===lt.esc&&Z0.forEach(t=>t(e))},sNe=e=>{zt(()=>{Z0.length===0&&document.addEventListener("keydown",zU),wn&&Z0.push(e)}),ar(()=>{Z0=Z0.filter(t=>t!==e),Z0.length===0&&wn&&document.removeEventListener("keydown",zU)})},lNe=se({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[LU,OU,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=Y();let r,a;const{focusReason:i}=oNe();sNe(p=>{e.trapped&&!o.paused&&t("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=p=>{if(!e.loop&&!e.trapped||o.paused)return;const{code:v,altKey:g,ctrlKey:m,metaKey:y,currentTarget:b,shiftKey:x}=p,{loop:_}=e,S=v===lt.tab&&!g&&!m&&!y,C=document.activeElement;if(S&&C){const k=b,[T,E]=tNe(k);if(T&&E){if(!x&&C===E){const A=BC({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||(p.preventDefault(),_&&Md(T,!0))}else if(x&&[T,k].includes(C)){const A=BC({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||(p.preventDefault(),_&&Md(E,!0))}}else if(C===k){const A=BC({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||p.preventDefault()}}};hn(fB,{focusTrapRef:n,onKeydown:s}),Le(()=>e.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),Le([n],([p],[v])=>{p&&(p.addEventListener("keydown",s),p.addEventListener("focusin",c),p.addEventListener("focusout",f)),v&&(v.removeEventListener("keydown",s),v.removeEventListener("focusin",c),v.removeEventListener("focusout",f))});const l=p=>{t(LU,p)},u=p=>t(OU,p),c=p=>{const v=w(n);if(!v)return;const g=p.target,m=p.relatedTarget,y=g&&v.contains(g);e.trapped||m&&v.contains(m)||(r=m),y&&t("focusin",p),!o.paused&&e.trapped&&(y?a=g:Md(a,!0))},f=p=>{const v=w(n);if(!(o.paused||!v))if(e.trapped){const g=p.relatedTarget;!Ua(g)&&!v.contains(g)&&setTimeout(()=>{if(!o.paused&&e.trapped){const m=BC({focusReason:i.value});t("focusout-prevented",m),m.defaultPrevented||Md(a,!0)}},0)}else{const g=p.target;g&&v.contains(g)||t("focusout",p)}};async function d(){await xt();const p=w(n);if(p){BU.push(o);const v=p.contains(document.activeElement)?r:document.activeElement;if(r=v,!p.contains(v)){const m=new Event(CR,$U);p.addEventListener(CR,l),p.dispatchEvent(m),m.defaultPrevented||xt(()=>{let y=e.focusStartEl;gt(y)||(Md(y),document.activeElement!==y&&(y="first")),y==="first"&&aNe(iae(p),!0),(document.activeElement===v||y==="container")&&Md(p)})}}}function h(){const p=w(n);if(p){p.removeEventListener(CR,l);const v=new CustomEvent(TR,{...$U,detail:{focusReason:i.value}});p.addEventListener(TR,u),p.dispatchEvent(v),!v.defaultPrevented&&(i.value=="keyboard"||!iNe()||p.contains(document.activeElement))&&Md(r??document.body),p.removeEventListener(TR,u),BU.remove(o)}}return zt(()=>{e.trapped&&d(),Le(()=>e.trapped,p=>{p?d():h()})}),ar(()=>{e.trapped&&h(),n.value&&(n.value.removeEventListener("keydown",s),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",f),n.value=void 0)}),{onKeydown:s}}});function uNe(e,t,n,r,a,i){return Se(e.$slots,"default",{handleKeydown:e.onKeydown})}var Gy=Ze(lNe,[["render",uNe],["__file","focus-trap.vue"]]),_s="top",Ll="bottom",Ol="right",Ss="left",pB="auto",I_=[_s,Ll,Ol,Ss],Zm="start",Jx="end",cNe="clippingParents",oae="viewport",B1="popper",fNe="reference",WU=I_.reduce(function(e,t){return e.concat([t+"-"+Zm,t+"-"+Jx])},[]),ud=[].concat(I_,[pB]).reduce(function(e,t){return e.concat([t,t+"-"+Zm,t+"-"+Jx])},[]),dNe="beforeRead",hNe="read",pNe="afterRead",vNe="beforeMain",gNe="main",mNe="afterMain",yNe="beforeWrite",bNe="write",xNe="afterWrite",wNe=[dNe,hNe,pNe,vNe,gNe,mNe,yNe,bNe,xNe];function Oc(e){return e?(e.nodeName||"").toLowerCase():null}function Uu(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Jm(e){var t=Uu(e).Element;return e instanceof t||e instanceof Element}function Nl(e){var t=Uu(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function vB(e){if(typeof ShadowRoot>"u")return!1;var t=Uu(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function _Ne(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!Nl(i)||!Oc(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(o){var s=a[o];s===!1?i.removeAttribute(o):i.setAttribute(o,s===!0?"":s)}))})}function SNe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=o.reduce(function(l,u){return l[u]="",l},{});!Nl(a)||!Oc(a)||(Object.assign(a.style,s),Object.keys(i).forEach(function(l){a.removeAttribute(l)}))})}}var sae={name:"applyStyles",enabled:!0,phase:"write",fn:_Ne,effect:SNe,requires:["computeStyles"]};function Cc(e){return e.split("-")[0]}var Pv=Math.max,qk=Math.min,Qm=Math.round;function ey(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if(Nl(e)&&t){var i=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Qm(n.width)/o||1),i>0&&(a=Qm(n.height)/i||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function gB(e){var t=ey(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function lae(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&vB(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wf(e){return Uu(e).getComputedStyle(e)}function CNe(e){return["table","td","th"].indexOf(Oc(e))>=0}function Qh(e){return((Jm(e)?e.ownerDocument:e.document)||window.document).documentElement}function TA(e){return Oc(e)==="html"?e:e.assignedSlot||e.parentNode||(vB(e)?e.host:null)||Qh(e)}function HU(e){return!Nl(e)||Wf(e).position==="fixed"?null:e.offsetParent}function TNe(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Nl(e)){var r=Wf(e);if(r.position==="fixed")return null}var a=TA(e);for(vB(a)&&(a=a.host);Nl(a)&&["html","body"].indexOf(Oc(a))<0;){var i=Wf(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function E_(e){for(var t=Uu(e),n=HU(e);n&&CNe(n)&&Wf(n).position==="static";)n=HU(n);return n&&(Oc(n)==="html"||Oc(n)==="body"&&Wf(n).position==="static")?t:n||TNe(e)||t}function mB(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ax(e,t,n){return Pv(e,qk(t,n))}function kNe(e,t,n){var r=ax(e,t,n);return r>n?n:r}function uae(){return{top:0,right:0,bottom:0,left:0}}function cae(e){return Object.assign({},uae(),e)}function fae(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var INe=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,cae(typeof e!="number"?e:fae(e,I_))};function ENe(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Cc(n.placement),l=mB(s),u=[Ss,Ol].indexOf(s)>=0,c=u?"height":"width";if(!(!i||!o)){var f=INe(a.padding,n),d=gB(i),h=l==="y"?_s:Ss,p=l==="y"?Ll:Ol,v=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],g=o[l]-n.rects.reference[l],m=E_(i),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,b=v/2-g/2,x=f[h],_=y-d[c]-f[p],S=y/2-d[c]/2+b,C=ax(x,S,_),k=l;n.modifiersData[r]=(t={},t[k]=C,t.centerOffset=C-S,t)}}function ANe(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||!lae(t.elements.popper,a)||(t.elements.arrow=a))}var DNe={name:"arrow",enabled:!0,phase:"main",fn:ENe,effect:ANe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ty(e){return e.split("-")[1]}var NNe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function RNe(e){var t=e.x,n=e.y,r=window,a=r.devicePixelRatio||1;return{x:Qm(t*a)/a||0,y:Qm(n*a)/a||0}}function UU(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=o.x,h=d===void 0?0:d,p=o.y,v=p===void 0?0:p,g=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Ss,x=_s,_=window;if(u){var S=E_(n),C="clientHeight",k="clientWidth";if(S===Uu(n)&&(S=Qh(n),Wf(S).position!=="static"&&s==="absolute"&&(C="scrollHeight",k="scrollWidth")),S=S,a===_s||(a===Ss||a===Ol)&&i===Jx){x=Ll;var T=f&&S===_&&_.visualViewport?_.visualViewport.height:S[C];v-=T-r.height,v*=l?1:-1}if(a===Ss||(a===_s||a===Ll)&&i===Jx){b=Ol;var E=f&&S===_&&_.visualViewport?_.visualViewport.width:S[k];h-=E-r.width,h*=l?1:-1}}var I=Object.assign({position:s},u&&NNe),A=c===!0?RNe({x:h,y:v}):{x:h,y:v};if(h=A.x,v=A.y,l){var N;return Object.assign({},I,(N={},N[x]=y?"0":"",N[b]=m?"0":"",N.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",N))}return Object.assign({},I,(t={},t[x]=y?v+"px":"",t[b]=m?h+"px":"",t.transform="",t))}function MNe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:Cc(t.placement),variation:ty(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,UU(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,UU(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var dae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:MNe,data:{}},VC={passive:!0};function $Ne(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,s=o===void 0?!0:o,l=Uu(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,VC)}),s&&l.addEventListener("resize",n.update,VC),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,VC)}),s&&l.removeEventListener("resize",n.update,VC)}}var hae={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$Ne,data:{}},LNe={left:"right",right:"left",bottom:"top",top:"bottom"};function LT(e){return e.replace(/left|right|bottom|top/g,function(t){return LNe[t]})}var ONe={start:"end",end:"start"};function GU(e){return e.replace(/start|end/g,function(t){return ONe[t]})}function yB(e){var t=Uu(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function bB(e){return ey(Qh(e)).left+yB(e).scrollLeft}function PNe(e){var t=Uu(e),n=Qh(e),r=t.visualViewport,a=n.clientWidth,i=n.clientHeight,o=0,s=0;return r&&(a=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:a,height:i,x:o+bB(e),y:s}}function FNe(e){var t,n=Qh(e),r=yB(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Pv(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Pv(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+bB(e),l=-r.scrollTop;return Wf(a||n).direction==="rtl"&&(s+=Pv(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}function xB(e){var t=Wf(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function pae(e){return["html","body","#document"].indexOf(Oc(e))>=0?e.ownerDocument.body:Nl(e)&&xB(e)?e:pae(TA(e))}function ix(e,t){var n;t===void 0&&(t=[]);var r=pae(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=Uu(r),o=a?[i].concat(i.visualViewport||[],xB(r)?r:[]):r,s=t.concat(o);return a?s:s.concat(ix(TA(o)))}function wO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function BNe(e){var t=ey(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function KU(e,t){return t===oae?wO(PNe(e)):Jm(t)?BNe(t):wO(FNe(Qh(e)))}function VNe(e){var t=ix(TA(e)),n=["absolute","fixed"].indexOf(Wf(e).position)>=0,r=n&&Nl(e)?E_(e):e;return Jm(r)?t.filter(function(a){return Jm(a)&&lae(a,r)&&Oc(a)!=="body"}):[]}function zNe(e,t,n){var r=t==="clippingParents"?VNe(e):[].concat(t),a=[].concat(r,[n]),i=a[0],o=a.reduce(function(s,l){var u=KU(e,l);return s.top=Pv(u.top,s.top),s.right=qk(u.right,s.right),s.bottom=qk(u.bottom,s.bottom),s.left=Pv(u.left,s.left),s},KU(e,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function vae(e){var t=e.reference,n=e.element,r=e.placement,a=r?Cc(r):null,i=r?ty(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(a){case _s:l={x:o,y:t.y-n.height};break;case Ll:l={x:o,y:t.y+t.height};break;case Ol:l={x:t.x+t.width,y:s};break;case Ss:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=a?mB(a):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Zm:l[u]=l[u]-(t[c]/2-n[c]/2);break;case Jx:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Qx(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.boundary,o=i===void 0?cNe:i,s=n.rootBoundary,l=s===void 0?oae:s,u=n.elementContext,c=u===void 0?B1:u,f=n.altBoundary,d=f===void 0?!1:f,h=n.padding,p=h===void 0?0:h,v=cae(typeof p!="number"?p:fae(p,I_)),g=c===B1?fNe:B1,m=e.rects.popper,y=e.elements[d?g:c],b=zNe(Jm(y)?y:y.contextElement||Qh(e.elements.popper),o,l),x=ey(e.elements.reference),_=vae({reference:x,element:m,strategy:"absolute",placement:a}),S=wO(Object.assign({},m,_)),C=c===B1?S:x,k={top:b.top-C.top+v.top,bottom:C.bottom-b.bottom+v.bottom,left:b.left-C.left+v.left,right:C.right-b.right+v.right},T=e.modifiersData.offset;if(c===B1&&T){var E=T[a];Object.keys(k).forEach(function(I){var A=[Ol,Ll].indexOf(I)>=0?1:-1,N=[_s,Ll].indexOf(I)>=0?"y":"x";k[I]+=E[N]*A})}return k}function WNe(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?ud:l,c=ty(r),f=c?s?WU:WU.filter(function(p){return ty(p)===c}):I_,d=f.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,v){return p[v]=Qx(e,{placement:v,boundary:a,rootBoundary:i,padding:o})[Cc(v)],p},{});return Object.keys(h).sort(function(p,v){return h[p]-h[v]})}function HNe(e){if(Cc(e)===pB)return[];var t=LT(e);return[GU(e),t,GU(t)]}function UNe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,s=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,v=n.allowedAutoPlacements,g=t.options.placement,m=Cc(g),y=m===g,b=l||(y||!p?[LT(g)]:HNe(g)),x=[g].concat(b).reduce(function(K,j){return K.concat(Cc(j)===pB?WNe(t,{placement:j,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:v}):j)},[]),_=t.rects.reference,S=t.rects.popper,C=new Map,k=!0,T=x[0],E=0;E<x.length;E++){var I=x[E],A=Cc(I),N=ty(I)===Zm,L=[_s,Ll].indexOf(A)>=0,R=L?"width":"height",D=Qx(t,{placement:I,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),P=L?N?Ol:Ss:N?Ll:_s;_[R]>S[R]&&(P=LT(P));var O=LT(P),M=[];if(i&&M.push(D[A]<=0),s&&M.push(D[P]<=0,D[O]<=0),M.every(function(K){return K})){T=I,k=!1;break}C.set(I,M)}if(k)for(var W=p?3:1,U=function(K){var j=x.find(function(ne){var Q=C.get(ne);if(Q)return Q.slice(0,K).every(function(oe){return oe})});if(j)return T=j,"break"},V=W;V>0;V--){var H=U(V);if(H==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}var GNe={name:"flip",enabled:!0,phase:"main",fn:UNe,requiresIfExists:["offset"],data:{_skip:!1}};function jU(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function YU(e){return[_s,Ol,Ll,Ss].some(function(t){return e[t]>=0})}function KNe(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=Qx(t,{elementContext:"reference"}),s=Qx(t,{altBoundary:!0}),l=jU(o,r),u=jU(s,a,i),c=YU(l),f=YU(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var jNe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:KNe};function YNe(e,t,n){var r=Cc(e),a=[Ss,_s].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Ss,Ol].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function XNe(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,o=ud.reduce(function(c,f){return c[f]=YNe(f,t.rects,i),c},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}var qNe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:XNe};function ZNe(e){var t=e.state,n=e.name;t.modifiersData[n]=vae({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var gae={name:"popperOffsets",enabled:!0,phase:"read",fn:ZNe,data:{}};function JNe(e){return e==="x"?"y":"x"}function QNe(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,s=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,v=p===void 0?0:p,g=Qx(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),m=Cc(t.placement),y=ty(t.placement),b=!y,x=mB(m),_=JNe(x),S=t.modifiersData.popperOffsets,C=t.rects.reference,k=t.rects.popper,T=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,E=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(S){if(i){var N,L=x==="y"?_s:Ss,R=x==="y"?Ll:Ol,D=x==="y"?"height":"width",P=S[x],O=P+g[L],M=P-g[R],W=h?-k[D]/2:0,U=y===Zm?C[D]:k[D],V=y===Zm?-k[D]:-C[D],H=t.elements.arrow,K=h&&H?gB(H):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:uae(),ne=j[L],Q=j[R],oe=ax(0,C[D],K[D]),ae=b?C[D]/2-W-oe-ne-E.mainAxis:U-oe-ne-E.mainAxis,me=b?-C[D]/2+W+oe+Q+E.mainAxis:V+oe+Q+E.mainAxis,ve=t.elements.arrow&&E_(t.elements.arrow),B=ve?x==="y"?ve.clientTop||0:ve.clientLeft||0:0,re=(N=I==null?void 0:I[x])!=null?N:0,ge=P+ae-re-B,Ie=P+me-re,Ce=ax(h?qk(O,ge):O,P,h?Pv(M,Ie):M);S[x]=Ce,A[x]=Ce-P}if(s){var he,J=x==="x"?_s:Ss,te=x==="x"?Ll:Ol,xe=S[_],Ee=_==="y"?"height":"width",Qe=xe+g[J],Be=xe-g[te],ce=[_s,Ss].indexOf(m)!==-1,Re=(he=I==null?void 0:I[_])!=null?he:0,ct=ce?Qe:xe-C[Ee]-k[Ee]-Re+E.altAxis,It=ce?xe+C[Ee]+k[Ee]-Re-E.altAxis:Be,wt=h&&ce?kNe(ct,xe,It):ax(h?ct:Qe,xe,h?It:Be);S[_]=wt,A[_]=wt-xe}t.modifiersData[r]=A}}var eRe={name:"preventOverflow",enabled:!0,phase:"main",fn:QNe,requiresIfExists:["offset"]};function tRe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function nRe(e){return e===Uu(e)||!Nl(e)?yB(e):tRe(e)}function rRe(e){var t=e.getBoundingClientRect(),n=Qm(t.width)/e.offsetWidth||1,r=Qm(t.height)/e.offsetHeight||1;return n!==1||r!==1}function aRe(e,t,n){n===void 0&&(n=!1);var r=Nl(t),a=Nl(t)&&rRe(t),i=Qh(t),o=ey(e,a),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Oc(t)!=="body"||xB(i))&&(s=nRe(t)),Nl(t)?(l=ey(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=bB(i))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function iRe(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&a(l)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function oRe(e){var t=iRe(e);return wNe.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function sRe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function lRe(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var XU={placement:"bottom",modifiers:[],strategy:"absolute"};function qU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function wB(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?XU:a;return function(o,s,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},XU,i),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},c=[],f=!1,d={state:u,setOptions:function(v){var g=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},i,u.options,g),u.scrollParents={reference:Jm(o)?ix(o):o.contextElement?ix(o.contextElement):[],popper:ix(s)};var m=oRe(lRe([].concat(r,u.options.modifiers)));return u.orderedModifiers=m.filter(function(y){return y.enabled}),h(),d.update()},forceUpdate:function(){if(!f){var v=u.elements,g=v.reference,m=v.popper;if(qU(g,m)){u.rects={reference:aRe(g,E_(m),u.options.strategy==="fixed"),popper:gB(m)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var b=u.orderedModifiers[y],x=b.fn,_=b.options,S=_===void 0?{}:_,C=b.name;typeof x=="function"&&(u=x({state:u,options:S,name:C,instance:d})||u)}}}},update:sRe(function(){return new Promise(function(v){d.forceUpdate(),v(u)})}),destroy:function(){p(),f=!0}};if(!qU(o,s))return d;d.setOptions(l).then(function(v){!f&&l.onFirstUpdate&&l.onFirstUpdate(v)});function h(){u.orderedModifiers.forEach(function(v){var g=v.name,m=v.options,y=m===void 0?{}:m,b=v.effect;if(typeof b=="function"){var x=b({state:u,name:g,instance:d,options:y}),_=function(){};c.push(x||_)}})}function p(){c.forEach(function(v){return v()}),c=[]}return d}}wB();var uRe=[hae,gae,dae,sae];wB({defaultModifiers:uRe});var cRe=[hae,gae,dae,sae,qNe,GNe,eRe,DNe,jNe],fRe=wB({defaultModifiers:cRe});const dRe=["fixed","absolute"],hRe=je({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:be(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:ud,default:"bottom"},popperOptions:{type:be(Object),default:()=>({})},strategy:{type:String,values:dRe,default:"absolute"}}),mae=je({...hRe,id:String,style:{type:be([String,Array,Object])},className:{type:be([String,Array,Object])},effect:{type:be(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:be([String,Array,Object])},popperStyle:{type:be([String,Array,Object])},referenceEl:{type:be(Object)},triggerTargetEl:{type:be(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Ei(["ariaLabel"])}),pRe={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},vRe=(e,t)=>{const n=Y(!1),r=Y();return{focusStartRef:r,trapped:n,onFocusAfterReleased:u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:u=>{e.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},gRe=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:a}=e,i={placement:n,strategy:r,...a,modifiers:[...yRe(e),...t]};return bRe(i,a==null?void 0:a.modifiers),i},mRe=e=>{if(wn)return Ko(e)};function yRe(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function bRe(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const xRe=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=wRe(l);Object.assign(o.value,u)},requires:["computeStyles"]},a=F(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:f}=w(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),i=dr(),o=Y({styles:{popper:{position:w(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return Le(a,l=>{const u=w(i);u&&u.setOptions(l)},{deep:!0}),Le([e,t],([l,u])=>{s(),!(!l||!u)&&(i.value=fRe(l,u,w(a)))}),ar(()=>{s()}),{state:F(()=>{var l;return{...((l=w(i))==null?void 0:l.state)||{}}}),styles:F(()=>w(o).styles),attributes:F(()=>w(o).attributes),update:()=>{var l;return(l=w(i))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=w(i))==null?void 0:l.forceUpdate()},instanceRef:F(()=>w(i))}};function wRe(e){const t=Object.keys(e.elements),n=Zx(t.map(a=>[a,e.styles[a]||{}])),r=Zx(t.map(a=>[a,e.attributes[a]]));return{styles:n,attributes:r}}const _Re=0,SRe=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:a}=ht(cB,void 0),i=Y(),o=Y(),s=F(()=>({name:"eventListeners",enabled:!!e.visible})),l=F(()=>{var m;const y=w(i),b=(m=w(o))!=null?m:_Re;return{name:"arrow",enabled:!wre(y),options:{element:y,padding:b}}}),u=F(()=>({onFirstUpdate:()=>{p()},...gRe(e,[w(l),w(s)])})),c=F(()=>mRe(e.referenceEl)||w(r)),{attributes:f,state:d,styles:h,update:p,forceUpdate:v,instanceRef:g}=xRe(c,n,u);return Le(g,m=>t.value=m),zt(()=>{Le(()=>{var m;return(m=w(c))==null?void 0:m.getBoundingClientRect()},()=>{p()})}),{attributes:f,arrowRef:i,contentRef:n,instanceRef:g,state:d,styles:h,role:a,forceUpdate:v,update:p}},CRe=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:a}=Hy(),i=ze("popper"),o=F(()=>w(t).popper),s=Y(Tt(e.zIndex)?e.zIndex:a()),l=F(()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass]),u=F(()=>[{zIndex:w(s)},w(n).popper,e.popperStyle||{}]),c=F(()=>r.value==="dialog"?"false":void 0),f=F(()=>w(n).arrow||{});return{ariaModal:c,arrowStyle:f,contentAttrs:o,contentClass:l,contentStyle:u,contentZIndex:s,updateZIndex:()=>{s.value=Tt(e.zIndex)?e.zIndex:a()}}},TRe=se({name:"ElPopperContent"}),kRe=se({...TRe,props:mae,emits:pRe,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:a,trapped:i,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=vRe(r,n),{attributes:f,arrowRef:d,contentRef:h,styles:p,instanceRef:v,role:g,update:m}=SRe(r),{ariaModal:y,arrowStyle:b,contentAttrs:x,contentClass:_,contentStyle:S,updateZIndex:C}=CRe(r,{styles:p,attributes:f,role:g}),k=ht(Lc,void 0),T=Y();hn(qre,{arrowStyle:b,arrowRef:d,arrowOffset:T}),k&&hn(Lc,{...k,addInputId:zn,removeInputId:zn});let E;const I=(N=!0)=>{m(),N&&C()},A=()=>{I(!1),r.visible&&r.focusOnShow?i.value=!0:r.visible===!1&&(i.value=!1)};return zt(()=>{Le(()=>r.triggerTargetEl,(N,L)=>{E==null||E(),E=void 0;const R=w(N||h.value),D=w(L||h.value);Hs(R)&&(E=Le([g,()=>r.ariaLabel,y,()=>r.id],P=>{["role","aria-label","aria-modal","id"].forEach((O,M)=>{Ua(P[M])?R.removeAttribute(O):R.setAttribute(O,P[M])})},{immediate:!0})),D!==R&&Hs(D)&&["role","aria-label","aria-modal","id"].forEach(P=>{D.removeAttribute(P)})},{immediate:!0}),Le(()=>r.visible,A,{immediate:!0})}),ar(()=>{E==null||E(),E=void 0}),t({popperContentRef:h,popperInstanceRef:v,updatePopper:I,contentStyle:S}),(N,L)=>(z(),q("div",rn({ref_key:"contentRef",ref:h},w(x),{style:w(S),class:w(_),tabindex:"-1",onMouseenter:R=>N.$emit("mouseenter",R),onMouseleave:R=>N.$emit("mouseleave",R)}),[ie(w(Gy),{trapped:w(i),"trap-on-focus-in":!0,"focus-trap-el":w(h),"focus-start-el":w(a),onFocusAfterTrapped:w(s),onFocusAfterReleased:w(o),onFocusin:w(l),onFocusoutPrevented:w(u),onReleaseRequested:w(c)},{default:fe(()=>[Se(N.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var IRe=Ze(kRe,[["__file","content.vue"]]);const yae=Bt(VDe),kA=Symbol("elTooltip");function ZU(){let e;const t=(r,a)=>{n(),e=window.setTimeout(r,a)},n=()=>window.clearTimeout(e);return S_(()=>n()),{registerTimeout:t,cancelTimeout:n}}const ERe=je({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),ARe=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:a})=>{const{registerTimeout:i}=ZU(),{registerTimeout:o,cancelTimeout:s}=ZU();return{onOpen:c=>{i(()=>{r(c);const f=w(n);Tt(f)&&f>0&&o(()=>{a(c)},f)},w(e))},onClose:c=>{s(),i(()=>{a(c)},w(t))}}},Ja=je({...ERe,...mae,appendTo:{type:be([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:be(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Ei(["ariaLabel"])}),ew=je({...Qre,disabled:Boolean,trigger:{type:be([String,Array]),default:"hover"},triggerKeys:{type:be(Array),default:()=>[lt.enter,lt.numpadEnter,lt.space]}}),DRe=Hu({type:be(Boolean),default:null}),NRe=Hu({type:be(Function)}),RRe=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],a={[e]:DRe,[n]:NRe};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:f})=>{const d=jt(),{emit:h}=d,p=d.props,v=F(()=>mt(p[n])),g=F(()=>p[e]===null),m=C=>{o.value!==!0&&(o.value=!0,s&&(s.value=C),mt(c)&&c(C))},y=C=>{o.value!==!1&&(o.value=!1,s&&(s.value=C),mt(f)&&f(C))},b=C=>{if(p.disabled===!0||mt(u)&&!u())return;const k=v.value&&wn;k&&h(t,!0),(g.value||!k)&&m(C)},x=C=>{if(p.disabled===!0||!wn)return;const k=v.value&&wn;k&&h(t,!1),(g.value||!k)&&y(C)},_=C=>{lr(C)&&(p.disabled&&C?v.value&&h(t,!1):o.value!==C&&(C?m():y()))},S=()=>{o.value?x():b()};return Le(()=>p[e],_),l&&d.appContext.config.globalProperties.$route!==void 0&&Le(()=>({...d.proxy.$route}),()=>{l.value&&o.value&&x()}),zt(()=>{_(p[e])}),{hide:x,show:b,toggle:S,hasUpdateHandler:v}},useModelToggleProps:a,useModelToggleEmits:r}},{useModelToggleProps:MRe,useModelToggleEmits:$Re,useModelToggle:LRe}=RRe("visible"),ORe=je({...Zre,...MRe,...Ja,...ew,...Jre,showArrow:{type:Boolean,default:!0}}),PRe=[...$Re,"before-show","before-hide","show","hide","open","close"],FRe=(e,t)=>Ke(e)?e.includes(t):e===t,b0=(e,t,n)=>r=>{FRe(w(e),t)&&n(r)},Qr=(e,t,{checkForDefaultPrevented:n=!0}={})=>a=>{const i=e==null?void 0:e(a);if(n===!1||!i)return t==null?void 0:t(a)},JU=e=>t=>t.pointerType==="mouse"?e(t):void 0,BRe=se({name:"ElTooltipTrigger"}),VRe=se({...BRe,props:ew,setup(e,{expose:t}){const n=e,r=ze("tooltip"),{controlled:a,id:i,open:o,onOpen:s,onClose:l,onToggle:u}=ht(kA,void 0),c=Y(null),f=()=>{if(w(a)||n.disabled)return!0},d=Hn(n,"trigger"),h=Qr(f,b0(d,"hover",s)),p=Qr(f,b0(d,"hover",l)),v=Qr(f,b0(d,"click",x=>{x.button===0&&u(x)})),g=Qr(f,b0(d,"focus",s)),m=Qr(f,b0(d,"focus",l)),y=Qr(f,b0(d,"contextmenu",x=>{x.preventDefault(),u(x)})),b=Qr(f,x=>{const{code:_}=x;n.triggerKeys.includes(_)&&(x.preventDefault(),u(x))});return t({triggerRef:c}),(x,_)=>(z(),Ae(w(ZDe),{id:w(i),"virtual-ref":x.virtualRef,open:w(o),"virtual-triggering":x.virtualTriggering,class:G(w(r).e("trigger")),onBlur:w(m),onClick:w(v),onContextmenu:w(y),onFocus:w(g),onMouseenter:w(h),onMouseleave:w(p),onKeydown:w(b)},{default:fe(()=>[Se(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var zRe=Ze(VRe,[["__file","trigger.vue"]]);const WRe=je({to:{type:be([String,Object]),required:!0},disabled:Boolean}),HRe=se({__name:"teleport",props:WRe,setup(e){return(t,n)=>t.disabled?Se(t.$slots,"default",{key:0}):(z(),Ae(Pwe,{key:1,to:t.to},[Se(t.$slots,"default")],8,["to"]))}});var URe=Ze(HRe,[["__file","teleport.vue"]]);const Ky=Bt(URe),bae=()=>{const e=L4(),t=lB(),n=F(()=>`${e.value}-popper-container-${t.prefix}`),r=F(()=>`#${n.value}`);return{id:n,selector:r}},GRe=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},KRe=()=>{const{id:e,selector:t}=bae();return iA(()=>{wn&&(document.body.querySelector(t.value)||GRe(e.value))}),{id:e,selector:t}},jRe=se({name:"ElTooltipContent",inheritAttrs:!1}),YRe=se({...jRe,props:Ja,setup(e,{expose:t}){const n=e,{selector:r}=bae(),a=ze("tooltip"),i=Y();let o;const{controlled:s,id:l,open:u,trigger:c,onClose:f,onOpen:d,onShow:h,onHide:p,onBeforeShow:v,onBeforeHide:g}=ht(kA,void 0),m=F(()=>n.transition||`${a.namespace.value}-fade-in-linear`),y=F(()=>n.persistent);ar(()=>{o==null||o()});const b=F(()=>w(y)?!0:w(u)),x=F(()=>n.disabled?!1:w(u)),_=F(()=>n.appendTo||r.value),S=F(()=>{var D;return(D=n.style)!=null?D:{}}),C=Y(!0),k=()=>{p(),C.value=!0},T=()=>{if(w(s))return!0},E=Qr(T,()=>{n.enterable&&w(c)==="hover"&&d()}),I=Qr(T,()=>{w(c)==="hover"&&f()}),A=()=>{var D,P;(P=(D=i.value)==null?void 0:D.updatePopper)==null||P.call(D),v==null||v()},N=()=>{g==null||g()},L=()=>{h(),o=J4(F(()=>{var D;return(D=i.value)==null?void 0:D.popperContentRef}),()=>{if(w(s))return;w(c)!=="hover"&&f()})},R=()=>{n.virtualTriggering||f()};return Le(()=>w(u),D=>{D?C.value=!1:o==null||o()},{flush:"post"}),Le(()=>n.content,()=>{var D,P;(P=(D=i.value)==null?void 0:D.updatePopper)==null||P.call(D)}),t({contentRef:i}),(D,P)=>(z(),Ae(w(Ky),{disabled:!D.teleported,to:w(_)},{default:fe(()=>[ie(hi,{name:w(m),onAfterLeave:k,onBeforeEnter:A,onAfterEnter:L,onBeforeLeave:N},{default:fe(()=>[w(b)?Vt((z(),Ae(w(IRe),rn({key:0,id:w(l),ref_key:"contentRef",ref:i},D.$attrs,{"aria-label":D.ariaLabel,"aria-hidden":C.value,"boundaries-padding":D.boundariesPadding,"fallback-placements":D.fallbackPlacements,"gpu-acceleration":D.gpuAcceleration,offset:D.offset,placement:D.placement,"popper-options":D.popperOptions,strategy:D.strategy,effect:D.effect,enterable:D.enterable,pure:D.pure,"popper-class":D.popperClass,"popper-style":[D.popperStyle,w(S)],"reference-el":D.referenceEl,"trigger-target-el":D.triggerTargetEl,visible:w(x),"z-index":D.zIndex,onMouseenter:w(E),onMouseleave:w(I),onBlur:R,onClose:w(f)}),{default:fe(()=>[Se(D.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[En,w(x)]]):Te("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var XRe=Ze(YRe,[["__file","content.vue"]]);const qRe=se({name:"ElTooltip"}),ZRe=se({...qRe,props:ORe,emits:PRe,setup(e,{expose:t,emit:n}){const r=e;KRe();const a=Ii(),i=Y(),o=Y(),s=()=>{var m;const y=w(i);y&&((m=y.popperInstanceRef)==null||m.update())},l=Y(!1),u=Y(),{show:c,hide:f,hasUpdateHandler:d}=LRe({indicator:l,toggleReason:u}),{onOpen:h,onClose:p}=ARe({showAfter:Hn(r,"showAfter"),hideAfter:Hn(r,"hideAfter"),autoClose:Hn(r,"autoClose"),open:c,close:f}),v=F(()=>lr(r.visible)&&!d.value);hn(kA,{controlled:v,id:a,open:Fy(l),trigger:Hn(r,"trigger"),onOpen:m=>{h(m)},onClose:m=>{p(m)},onToggle:m=>{w(l)?p(m):h(m)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:s}),Le(()=>r.disabled,m=>{m&&l.value&&(l.value=!1)});const g=m=>{var y,b;const x=(b=(y=o.value)==null?void 0:y.contentRef)==null?void 0:b.popperContentRef,_=(m==null?void 0:m.relatedTarget)||document.activeElement;return x&&x.contains(_)};return Yte(()=>l.value&&f()),t({popperRef:i,contentRef:o,isFocusInsideContent:g,updatePopper:s,onOpen:h,onClose:p,hide:f}),(m,y)=>(z(),Ae(w(yae),{ref_key:"popperRef",ref:i,role:m.role},{default:fe(()=>[ie(zRe,{disabled:m.disabled,trigger:m.trigger,"trigger-keys":m.triggerKeys,"virtual-ref":m.virtualRef,"virtual-triggering":m.virtualTriggering},{default:fe(()=>[m.$slots.default?Se(m.$slots,"default",{key:0}):Te("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ie(XRe,{ref_key:"contentRef",ref:o,"aria-label":m.ariaLabel,"boundaries-padding":m.boundariesPadding,content:m.content,disabled:m.disabled,effect:m.effect,enterable:m.enterable,"fallback-placements":m.fallbackPlacements,"hide-after":m.hideAfter,"gpu-acceleration":m.gpuAcceleration,offset:m.offset,persistent:m.persistent,"popper-class":m.popperClass,"popper-style":m.popperStyle,placement:m.placement,"popper-options":m.popperOptions,pure:m.pure,"raw-content":m.rawContent,"reference-el":m.referenceEl,"trigger-target-el":m.triggerTargetEl,"show-after":m.showAfter,strategy:m.strategy,teleported:m.teleported,transition:m.transition,"virtual-triggering":m.virtualTriggering,"z-index":m.zIndex,"append-to":m.appendTo},{default:fe(()=>[Se(m.$slots,"content",{},()=>[m.rawContent?(z(),q("span",{key:0,innerHTML:m.content},null,8,["innerHTML"])):(z(),q("span",{key:1},Ve(m.content),1))]),m.showArrow?(z(),Ae(w(HDe),{key:0,"arrow-offset":m.arrowOffset},null,8,["arrow-offset"])):Te("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var JRe=Ze(ZRe,[["__file","tooltip.vue"]]);const Hi=Bt(JRe),QRe=je({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:be(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:be([Function,Array]),default:zn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Ja.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Ei(["ariaLabel"])}),eMe={[Ht]:e=>gt(e),[Fi]:e=>gt(e),[Qn]:e=>gt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>qt(e)},xae="ElAutocomplete",tMe=se({name:xae,inheritAttrs:!1}),nMe=se({...tMe,props:QRe,emits:eMe,setup(e,{expose:t,emit:n}){const r=e,a=T_(),i=qh(),o=qi(),s=ze("autocomplete"),l=Y(),u=Y(),c=Y(),f=Y();let d=!1,h=!1;const p=Y([]),v=Y(-1),g=Y(""),m=Y(!1),y=Y(!1),b=Y(!1),x=Ii(),_=F(()=>i.style),S=F(()=>(p.value.length>0||b.value)&&m.value),C=F(()=>!r.hideLoading&&b.value),k=F(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),T=()=>{S.value&&(g.value=`${l.value.$el.offsetWidth}px`)},E=()=>{v.value=-1},I=async Q=>{if(y.value)return;const oe=ae=>{b.value=!1,!y.value&&(Ke(ae)?(p.value=ae,v.value=r.highlightFirstItem?0:-1):Na(xae,"autocomplete suggestions must be an array"))};if(b.value=!0,Ke(r.fetchSuggestions))oe(r.fetchSuggestions);else{const ae=await r.fetchSuggestions(Q,oe);Ke(ae)&&oe(ae)}},A=Cs(I,r.debounce),N=Q=>{const oe=!!Q;if(n(Fi,Q),n(Ht,Q),y.value=!1,m.value||(m.value=oe),!r.triggerOnFocus&&!Q){y.value=!0,p.value=[];return}A(Q)},L=Q=>{var oe;o.value||(((oe=Q.target)==null?void 0:oe.tagName)!=="INPUT"||k.value.includes(document.activeElement))&&(m.value=!0)},R=Q=>{n(Qn,Q)},D=Q=>{h?h=!1:(m.value=!0,n("focus",Q),r.triggerOnFocus&&!d&&A(String(r.modelValue)))},P=Q=>{setTimeout(()=>{var oe;if((oe=c.value)!=null&&oe.isFocusInsideContent()){h=!0;return}m.value&&U(),n("blur",Q)})},O=()=>{m.value=!1,n(Ht,""),n("clear")},M=async()=>{S.value&&v.value>=0&&v.value<p.value.length?K(p.value[v.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),p.value=[],v.value=-1)},W=Q=>{S.value&&(Q.preventDefault(),Q.stopPropagation(),U())},U=()=>{m.value=!1},V=()=>{var Q;(Q=l.value)==null||Q.focus()},H=()=>{var Q;(Q=l.value)==null||Q.blur()},K=async Q=>{n(Fi,Q[r.valueKey]),n(Ht,Q[r.valueKey]),n("select",Q),p.value=[],v.value=-1},j=Q=>{if(!S.value||b.value)return;if(Q<0){v.value=-1;return}Q>=p.value.length&&(Q=p.value.length-1);const oe=u.value.querySelector(`.${s.be("suggestion","wrap")}`),me=oe.querySelectorAll(`.${s.be("suggestion","list")} li`)[Q],ve=oe.scrollTop,{offsetTop:B,scrollHeight:re}=me;B+re>ve+oe.clientHeight&&(oe.scrollTop+=re),B<ve&&(oe.scrollTop-=re),v.value=Q,l.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${v.value}`)},ne=J4(f,()=>{S.value&&U()});return ar(()=>{ne==null||ne()}),zt(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${v.value}`),d=l.value.ref.hasAttribute("readonly")}),t({highlightedIndex:v,activated:m,loading:b,inputRef:l,popperRef:c,suggestions:p,handleSelect:K,handleKeyEnter:M,focus:V,blur:H,close:U,highlight:j,getData:I}),(Q,oe)=>(z(),Ae(w(Hi),{ref_key:"popperRef",ref:c,visible:w(S),placement:Q.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[w(s).e("popper"),Q.popperClass],teleported:Q.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${w(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:T,onHide:E},{content:fe(()=>[Z("div",{ref_key:"regionRef",ref:u,class:G([w(s).b("suggestion"),w(s).is("loading",w(C))]),style:yt({[Q.fitInputWidth?"width":"minWidth"]:g.value,outline:"none"}),role:"region"},[ie(w(Jc),{id:w(x),tag:"ul","wrap-class":w(s).be("suggestion","wrap"),"view-class":w(s).be("suggestion","list"),role:"listbox"},{default:fe(()=>[w(C)?(z(),q("li",{key:0},[Se(Q.$slots,"loading",{},()=>[ie(w(pt),{class:G(w(s).is("loading"))},{default:fe(()=>[ie(w(Mu))]),_:1},8,["class"])])])):(z(!0),q(vt,{key:1},un(p.value,(ae,me)=>(z(),q("li",{id:`${w(x)}-item-${me}`,key:me,class:G({highlighted:v.value===me}),role:"option","aria-selected":v.value===me,onClick:ve=>K(ae)},[Se(Q.$slots,"default",{item:ae},()=>[Kt(Ve(ae[Q.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:fe(()=>[Z("div",{ref_key:"listboxRef",ref:f,class:G([w(s).b(),Q.$attrs.class]),style:yt(w(_)),role:"combobox","aria-haspopup":"listbox","aria-expanded":w(S),"aria-owns":w(x)},[ie(w(mo),rn({ref_key:"inputRef",ref:l},w(a),{clearable:Q.clearable,disabled:w(o),name:Q.name,"model-value":Q.modelValue,"aria-label":Q.ariaLabel,onInput:N,onChange:R,onFocus:D,onBlur:P,onClear:O,onKeydown:[rr(At(ae=>j(v.value-1),["prevent"]),["up"]),rr(At(ae=>j(v.value+1),["prevent"]),["down"]),rr(M,["enter"]),rr(U,["tab"]),rr(W,["esc"])],onMousedown:L}),Ml({_:2},[Q.$slots.prepend?{name:"prepend",fn:fe(()=>[Se(Q.$slots,"prepend")])}:void 0,Q.$slots.append?{name:"append",fn:fe(()=>[Se(Q.$slots,"append")])}:void 0,Q.$slots.prefix?{name:"prefix",fn:fe(()=>[Se(Q.$slots,"prefix")])}:void 0,Q.$slots.suffix?{name:"suffix",fn:fe(()=>[Se(Q.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var rMe=Ze(nMe,[["__file","autocomplete.vue"]]);const aMe=Bt(rMe),iMe=je({size:{type:[Number,String],values:qc,default:"",validator:e=>Tt(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:er},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:be(String),default:"cover"}}),oMe={error:e=>e instanceof Event},sMe=se({name:"ElAvatar"}),lMe=se({...sMe,props:iMe,emits:oMe,setup(e,{emit:t}){const n=e,r=ze("avatar"),a=Y(!1),i=F(()=>{const{size:u,icon:c,shape:f}=n,d=[r.b()];return gt(u)&&d.push(r.m(u)),c&&d.push(r.m("icon")),f&&d.push(r.m(f)),d}),o=F(()=>{const{size:u}=n;return Tt(u)?r.cssVarBlock({size:ta(u)||""}):void 0}),s=F(()=>({objectFit:n.fit}));Le(()=>n.src,()=>a.value=!1);function l(u){a.value=!0,t("error",u)}return(u,c)=>(z(),q("span",{class:G(w(i)),style:yt(w(o))},[(u.src||u.srcSet)&&!a.value?(z(),q("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:yt(w(s)),onError:l},null,44,["src","alt","srcset"])):u.icon?(z(),Ae(w(pt),{key:1},{default:fe(()=>[(z(),Ae(tn(u.icon)))]),_:1})):Se(u.$slots,"default",{key:2})],6))}});var uMe=Ze(lMe,[["__file","avatar.vue"]]);const cMe=Bt(uMe),fMe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},dMe={click:e=>e instanceof MouseEvent},hMe=(e,t,n)=>{const r=dr(),a=dr(),i=Y(!1),o=()=>{r.value&&(i.value=r.value.scrollTop>=e.visibilityHeight)},s=u=>{var c;(c=r.value)==null||c.scrollTo({top:0,behavior:"smooth"}),t("click",u)},l=Tre(o,300,!0);return Zn(a,"scroll",l),zt(()=>{var u;a.value=document,r.value=document.documentElement,e.target&&(r.value=(u=document.querySelector(e.target))!=null?u:void 0,r.value||Na(n,`target does not exist: ${e.target}`),a.value=r.value),o()}),{visible:i,handleClick:s}},wae="ElBacktop",pMe=se({name:wae}),vMe=se({...pMe,props:fMe,emits:dMe,setup(e,{emit:t}){const n=e,r=ze("backtop"),{handleClick:a,visible:i}=hMe(n,t,wae),o=F(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(s,l)=>(z(),Ae(hi,{name:`${w(r).namespace.value}-fade-in`},{default:fe(()=>[w(i)?(z(),q("div",{key:0,style:yt(w(o)),class:G(w(r).b()),onClick:At(w(a),["stop"])},[Se(s.$slots,"default",{},()=>[ie(w(pt),{class:G(w(r).e("icon"))},{default:fe(()=>[ie(w(QEe))]),_:1},8,["class"])])],14,["onClick"])):Te("v-if",!0)]),_:3},8,["name"]))}});var gMe=Ze(vMe,[["__file","backtop.vue"]]);const mMe=Bt(gMe),yMe=je({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:be([String,Object,Array])},offset:{type:be(Array),default:[0,0]},badgeClass:{type:String}}),bMe=se({name:"ElBadge"}),xMe=se({...bMe,props:yMe,setup(e,{expose:t}){const n=e,r=ze("badge"),a=F(()=>n.isDot?"":Tt(n.value)&&Tt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),i=F(()=>{var o,s,l,u,c;return[{backgroundColor:n.color,marginRight:ta(-((s=(o=n.offset)==null?void 0:o[0])!=null?s:0)),marginTop:ta((u=(l=n.offset)==null?void 0:l[1])!=null?u:0)},(c=n.badgeStyle)!=null?c:{}]});return t({content:a}),(o,s)=>(z(),q("div",{class:G(w(r).b())},[Se(o.$slots,"default"),ie(hi,{name:`${w(r).namespace.value}-zoom-in-center`,persisted:""},{default:fe(()=>[Vt(Z("sup",{class:G([w(r).e("content"),w(r).em("content",o.type),w(r).is("fixed",!!o.$slots.default),w(r).is("dot",o.isDot),w(r).is("hide-zero",!o.showZero&&n.value===0),o.badgeClass]),style:yt(w(i))},[Se(o.$slots,"content",{value:w(a)},()=>[Kt(Ve(w(a)),1)])],6),[[En,!o.hidden&&(w(a)||o.isDot||o.$slots.content)]])]),_:3},8,["name"])],2))}});var wMe=Ze(xMe,[["__file","badge.vue"]]);const _ae=Bt(wMe),Sae=Symbol("breadcrumbKey"),_Me=je({separator:{type:String,default:"/"},separatorIcon:{type:er}}),SMe=se({name:"ElBreadcrumb"}),CMe=se({...SMe,props:_Me,setup(e){const t=e,{t:n}=_n(),r=ze("breadcrumb"),a=Y();return hn(Sae,t),zt(()=>{const i=a.value.querySelectorAll(`.${r.e("item")}`);i.length&&i[i.length-1].setAttribute("aria-current","page")}),(i,o)=>(z(),q("div",{ref_key:"breadcrumb",ref:a,class:G(w(r).b()),"aria-label":w(n)("el.breadcrumb.label"),role:"navigation"},[Se(i.$slots,"default")],10,["aria-label"]))}});var TMe=Ze(CMe,[["__file","breadcrumb.vue"]]);const kMe=je({to:{type:be([String,Object]),default:""},replace:Boolean}),IMe=se({name:"ElBreadcrumbItem"}),EMe=se({...IMe,props:kMe,setup(e){const t=e,n=jt(),r=ht(Sae,void 0),a=ze("breadcrumb"),i=n.appContext.config.globalProperties.$router,o=Y(),s=()=>{!t.to||!i||(t.replace?i.replace(t.to):i.push(t.to))};return(l,u)=>{var c,f;return z(),q("span",{class:G(w(a).e("item"))},[Z("span",{ref_key:"link",ref:o,class:G([w(a).e("inner"),w(a).is("link",!!l.to)]),role:"link",onClick:s},[Se(l.$slots,"default")],2),(c=w(r))!=null&&c.separatorIcon?(z(),Ae(w(pt),{key:0,class:G(w(a).e("separator"))},{default:fe(()=>[(z(),Ae(tn(w(r).separatorIcon)))]),_:1},8,["class"])):(z(),q("span",{key:1,class:G(w(a).e("separator")),role:"presentation"},Ve((f=w(r))==null?void 0:f.separator),3))],2)}}});var Cae=Ze(EMe,[["__file","breadcrumb-item.vue"]]);const AMe=Bt(TMe,{BreadcrumbItem:Cae}),DMe=Ur(Cae),Tae=Symbol("buttonGroupContextKey"),ch=({from:e,replacement:t,scope:n,version:r,ref:a,type:i="API"},o)=>{Le(()=>w(o),s=>{},{immediate:!0})},NMe=(e,t)=>{ch({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},F(()=>e.type==="text"));const n=ht(Tae,void 0),r=yA("button"),{form:a}=Xi(),i=pa(F(()=>n==null?void 0:n.size)),o=qi(),s=Y(),l=Sa(),u=F(()=>e.type||(n==null?void 0:n.type)||""),c=F(()=>{var p,v,g;return(g=(v=e.autoInsertSpace)!=null?v:(p=r.value)==null?void 0:p.autoInsertSpace)!=null?g:!1}),f=F(()=>e.tag==="button"?{ariaDisabled:o.value||e.loading,disabled:o.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),d=F(()=>{var p;const v=(p=l.default)==null?void 0:p.call(l);if(c.value&&(v==null?void 0:v.length)===1){const g=v[0];if((g==null?void 0:g.type)===Lg){const m=g.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(m.trim())}}return!1});return{_disabled:o,_size:i,_type:u,_ref:s,_props:f,shouldAddSpace:d,handleClick:p=>{if(o.value||e.loading){p.stopPropagation();return}e.nativeType==="reset"&&(a==null||a.resetFields()),t("click",p)}}},_O=["default","primary","success","warning","info","danger","text",""],RMe=["button","submit","reset"],SO=je({size:xa,disabled:Boolean,type:{type:String,values:_O,default:""},icon:{type:er},nativeType:{type:String,values:RMe,default:"button"},loading:Boolean,loadingIcon:{type:er,default:()=>Mu},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:be([String,Object]),default:"button"}}),MMe={click:e=>e instanceof MouseEvent};function Bi(e,t){$Me(e)&&(e="100%");var n=LMe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function zC(e){return Math.min(1,Math.max(0,e))}function $Me(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function LMe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function kae(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function WC(e){return e<=1?"".concat(Number(e)*100,"%"):e}function mv(e){return e.length===1?"0"+e:String(e)}function OMe(e,t,n){return{r:Bi(e,255)*255,g:Bi(t,255)*255,b:Bi(n,255)*255}}function QU(e,t,n){e=Bi(e,255),t=Bi(t,255),n=Bi(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i=0,o=0,s=(r+a)/2;if(r===a)o=0,i=0;else{var l=r-a;switch(o=s>.5?l/(2-r-a):l/(r+a),r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,l:s}}function kR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function PMe(e,t,n){var r,a,i;if(e=Bi(e,360),t=Bi(t,100),n=Bi(n,100),t===0)a=n,i=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=kR(s,o,e+1/3),a=kR(s,o,e),i=kR(s,o,e-1/3)}return{r:r*255,g:a*255,b:i*255}}function eG(e,t,n){e=Bi(e,255),t=Bi(t,255),n=Bi(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i=0,o=r,s=r-a,l=r===0?0:s/r;if(r===a)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4;break}i/=6}return{h:i,s:l,v:o}}function FMe(e,t,n){e=Bi(e,360)*6,t=Bi(t,100),n=Bi(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),l=r%6,u=[n,o,i,i,s,n][l],c=[s,n,n,o,i,i][l],f=[i,i,s,n,n,o][l];return{r:u*255,g:c*255,b:f*255}}function tG(e,t,n,r){var a=[mv(Math.round(e).toString(16)),mv(Math.round(t).toString(16)),mv(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function BMe(e,t,n,r,a){var i=[mv(Math.round(e).toString(16)),mv(Math.round(t).toString(16)),mv(Math.round(n).toString(16)),mv(VMe(r))];return a&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function VMe(e){return Math.round(parseFloat(e)*255).toString(16)}function nG(e){return Ns(e)/255}function Ns(e){return parseInt(e,16)}function zMe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var CO={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function WMe(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return typeof e=="string"&&(e=GMe(e)),typeof e=="object"&&(df(e.r)&&df(e.g)&&df(e.b)?(t=OMe(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):df(e.h)&&df(e.s)&&df(e.v)?(r=WC(e.s),a=WC(e.v),t=FMe(e.h,r,a),o=!0,s="hsv"):df(e.h)&&df(e.s)&&df(e.l)&&(r=WC(e.s),i=WC(e.l),t=PMe(e.h,r,i),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=kae(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var HMe="[-\\+]?\\d+%?",UMe="[-\\+]?\\d*\\.\\d+%?",Kd="(?:".concat(UMe,")|(?:").concat(HMe,")"),IR="[\\s|\\(]+(".concat(Kd,")[,|\\s]+(").concat(Kd,")[,|\\s]+(").concat(Kd,")\\s*\\)?"),ER="[\\s|\\(]+(".concat(Kd,")[,|\\s]+(").concat(Kd,")[,|\\s]+(").concat(Kd,")[,|\\s]+(").concat(Kd,")\\s*\\)?"),nu={CSS_UNIT:new RegExp(Kd),rgb:new RegExp("rgb"+IR),rgba:new RegExp("rgba"+ER),hsl:new RegExp("hsl"+IR),hsla:new RegExp("hsla"+ER),hsv:new RegExp("hsv"+IR),hsva:new RegExp("hsva"+ER),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function GMe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(CO[e])e=CO[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=nu.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=nu.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=nu.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=nu.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=nu.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=nu.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=nu.hex8.exec(e),n?{r:Ns(n[1]),g:Ns(n[2]),b:Ns(n[3]),a:nG(n[4]),format:t?"name":"hex8"}:(n=nu.hex6.exec(e),n?{r:Ns(n[1]),g:Ns(n[2]),b:Ns(n[3]),format:t?"name":"hex"}:(n=nu.hex4.exec(e),n?{r:Ns(n[1]+n[1]),g:Ns(n[2]+n[2]),b:Ns(n[3]+n[3]),a:nG(n[4]+n[4]),format:t?"name":"hex8"}:(n=nu.hex3.exec(e),n?{r:Ns(n[1]+n[1]),g:Ns(n[2]+n[2]),b:Ns(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function df(e){return!!nu.CSS_UNIT.exec(String(e))}var Iae=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=zMe(t)),this.originalInput=t;var a=WMe(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,a,i=t.r/255,o=t.g/255,s=t.b/255;return i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=kae(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=eG(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=eG(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=QU(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=QU(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),tG(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),BMe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Bi(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Bi(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+tG(this.r,this.g,this.b,!1),n=0,r=Object.entries(CO);n<r.length;n++){var a=r[n],i=a[0],o=a[1];if(t===o)return i}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,a=this.a<1&&this.a>=0,i=!n&&a&&(t.startsWith("hex")||t==="name");return i?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=zC(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=zC(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=zC(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=zC(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return new e(o)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),a=360/n,i=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:a,v:i})),i=(i+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),a=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/a,g:(n.g*n.a+r.g*r.a*(1-n.a))/a,b:(n.b*n.a+r.b*r.a*(1-n.a))/a,a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],i=360/t,o=1;o<t;o++)a.push(new e({h:(r+o*i)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function xd(e,t=20){return e.mix("#141414",t).toString()}function KMe(e){const t=qi(),n=ze("button");return F(()=>{let r={},a=e.color;if(a){const i=a.match(/var\((.*?)\)/);i&&(a=window.getComputedStyle(window.document.documentElement).getPropertyValue(i[1]));const o=new Iae(a),s=e.dark?o.tint(20).toString():xd(o,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?xd(o,90):o.tint(90).toString(),"text-color":a,"border-color":e.dark?xd(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":s,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":s}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?xd(o,90):o.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?xd(o,50):o.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?xd(o,80):o.tint(80).toString());else{const l=e.dark?xd(o,30):o.tint(30).toString(),u=o.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":a,"text-color":u,"border-color":a,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":s,"active-border-color":s}),t.value){const c=e.dark?xd(o,50):o.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const jMe=se({name:"ElButton"}),YMe=se({...jMe,props:SO,emits:MMe,setup(e,{expose:t,emit:n}){const r=e,a=KMe(r),i=ze("button"),{_ref:o,_size:s,_type:l,_disabled:u,_props:c,shouldAddSpace:f,handleClick:d}=NMe(r,n),h=F(()=>[i.b(),i.m(l.value),i.m(s.value),i.is("disabled",u.value),i.is("loading",r.loading),i.is("plain",r.plain),i.is("round",r.round),i.is("circle",r.circle),i.is("text",r.text),i.is("link",r.link),i.is("has-bg",r.bg)]);return t({ref:o,size:s,type:l,disabled:u,shouldAddSpace:f}),(p,v)=>(z(),Ae(tn(p.tag),rn({ref_key:"_ref",ref:o},w(c),{class:w(h),style:w(a),onClick:w(d)}),{default:fe(()=>[p.loading?(z(),q(vt,{key:0},[p.$slots.loading?Se(p.$slots,"loading",{key:0}):(z(),Ae(w(pt),{key:1,class:G(w(i).is("loading"))},{default:fe(()=>[(z(),Ae(tn(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(z(),Ae(w(pt),{key:1},{default:fe(()=>[p.icon?(z(),Ae(tn(p.icon),{key:0})):Se(p.$slots,"icon",{key:1})]),_:3})):Te("v-if",!0),p.$slots.default?(z(),q("span",{key:2,class:G({[w(i).em("text","expand")]:w(f)})},[Se(p.$slots,"default")],2)):Te("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var XMe=Ze(YMe,[["__file","button.vue"]]);const qMe={size:SO.size,type:SO.type},ZMe=se({name:"ElButtonGroup"}),JMe=se({...ZMe,props:qMe,setup(e){const t=e;hn(Tae,Ln({size:Hn(t,"size"),type:Hn(t,"type")}));const n=ze("button");return(r,a)=>(z(),q("div",{class:G(w(n).b("group"))},[Se(r.$slots,"default")],2))}});var Eae=Ze(JMe,[["__file","button-group.vue"]]);const si=Bt(XMe,{ButtonGroup:Eae}),Aae=Ur(Eae);function Qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QMe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var OT={exports:{}},e$e=OT.exports,rG;function t$e(){return rG||(rG=1,function(e,t){(function(n,r){e.exports=r()})(e$e,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",o="second",s="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",p="date",v="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var R=["th","st","nd","rd"],D=L%100;return"["+L+(R[(D-20)%10]||R[D]||R[0])+"]"}},b=function(L,R,D){var P=String(L);return!P||P.length>=R?L:""+Array(R+1-P.length).join(D)+L},x={s:b,z:function(L){var R=-L.utcOffset(),D=Math.abs(R),P=Math.floor(D/60),O=D%60;return(R<=0?"+":"-")+b(P,2,"0")+":"+b(O,2,"0")},m:function L(R,D){if(R.date()<D.date())return-L(D,R);var P=12*(D.year()-R.year())+(D.month()-R.month()),O=R.clone().add(P,f),M=D-O<0,W=R.clone().add(P+(M?-1:1),f);return+(-(P+(D-O)/(M?O-W:W-O))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:f,y:h,w:c,d:u,D:p,h:l,m:s,s:o,ms:i,Q:d}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},_="en",S={};S[_]=y;var C="$isDayjsObject",k=function(L){return L instanceof A||!(!L||!L[C])},T=function L(R,D,P){var O;if(!R)return _;if(typeof R=="string"){var M=R.toLowerCase();S[M]&&(O=M),D&&(S[M]=D,O=M);var W=R.split("-");if(!O&&W.length>1)return L(W[0])}else{var U=R.name;S[U]=R,O=U}return!P&&O&&(_=O),O||!P&&_},E=function(L,R){if(k(L))return L.clone();var D=typeof R=="object"?R:{};return D.date=L,D.args=arguments,new A(D)},I=x;I.l=T,I.i=k,I.w=function(L,R){return E(L,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var A=function(){function L(D){this.$L=T(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[C]=!0}var R=L.prototype;return R.parse=function(D){this.$d=function(P){var O=P.date,M=P.utc;if(O===null)return new Date(NaN);if(I.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var W=O.match(g);if(W){var U=W[2]-1||0,V=(W[7]||"0").substring(0,3);return M?new Date(Date.UTC(W[1],U,W[3]||1,W[4]||0,W[5]||0,W[6]||0,V)):new Date(W[1],U,W[3]||1,W[4]||0,W[5]||0,W[6]||0,V)}}return new Date(O)}(D),this.init()},R.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},R.$utils=function(){return I},R.isValid=function(){return this.$d.toString()!==v},R.isSame=function(D,P){var O=E(D);return this.startOf(P)<=O&&O<=this.endOf(P)},R.isAfter=function(D,P){return E(D)<this.startOf(P)},R.isBefore=function(D,P){return this.endOf(P)<E(D)},R.$g=function(D,P,O){return I.u(D)?this[P]:this.set(O,D)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(D,P){var O=this,M=!!I.u(P)||P,W=I.p(D),U=function(ae,me){var ve=I.w(O.$u?Date.UTC(O.$y,me,ae):new Date(O.$y,me,ae),O);return M?ve:ve.endOf(u)},V=function(ae,me){return I.w(O.toDate()[ae].apply(O.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(me)),O)},H=this.$W,K=this.$M,j=this.$D,ne="set"+(this.$u?"UTC":"");switch(W){case h:return M?U(1,0):U(31,11);case f:return M?U(1,K):U(0,K+1);case c:var Q=this.$locale().weekStart||0,oe=(H<Q?H+7:H)-Q;return U(M?j-oe:j+(6-oe),K);case u:case p:return V(ne+"Hours",0);case l:return V(ne+"Minutes",1);case s:return V(ne+"Seconds",2);case o:return V(ne+"Milliseconds",3);default:return this.clone()}},R.endOf=function(D){return this.startOf(D,!1)},R.$set=function(D,P){var O,M=I.p(D),W="set"+(this.$u?"UTC":""),U=(O={},O[u]=W+"Date",O[p]=W+"Date",O[f]=W+"Month",O[h]=W+"FullYear",O[l]=W+"Hours",O[s]=W+"Minutes",O[o]=W+"Seconds",O[i]=W+"Milliseconds",O)[M],V=M===u?this.$D+(P-this.$W):P;if(M===f||M===h){var H=this.clone().set(p,1);H.$d[U](V),H.init(),this.$d=H.set(p,Math.min(this.$D,H.daysInMonth())).$d}else U&&this.$d[U](V);return this.init(),this},R.set=function(D,P){return this.clone().$set(D,P)},R.get=function(D){return this[I.p(D)]()},R.add=function(D,P){var O,M=this;D=Number(D);var W=I.p(P),U=function(K){var j=E(M);return I.w(j.date(j.date()+Math.round(K*D)),M)};if(W===f)return this.set(f,this.$M+D);if(W===h)return this.set(h,this.$y+D);if(W===u)return U(1);if(W===c)return U(7);var V=(O={},O[s]=r,O[l]=a,O[o]=n,O)[W]||1,H=this.$d.getTime()+D*V;return I.w(H,this)},R.subtract=function(D,P){return this.add(-1*D,P)},R.format=function(D){var P=this,O=this.$locale();if(!this.isValid())return O.invalidDate||v;var M=D||"YYYY-MM-DDTHH:mm:ssZ",W=I.z(this),U=this.$H,V=this.$m,H=this.$M,K=O.weekdays,j=O.months,ne=O.meridiem,Q=function(me,ve,B,re){return me&&(me[ve]||me(P,M))||B[ve].slice(0,re)},oe=function(me){return I.s(U%12||12,me,"0")},ae=ne||function(me,ve,B){var re=me<12?"AM":"PM";return B?re.toLowerCase():re};return M.replace(m,function(me,ve){return ve||function(B){switch(B){case"YY":return String(P.$y).slice(-2);case"YYYY":return I.s(P.$y,4,"0");case"M":return H+1;case"MM":return I.s(H+1,2,"0");case"MMM":return Q(O.monthsShort,H,j,3);case"MMMM":return Q(j,H);case"D":return P.$D;case"DD":return I.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return Q(O.weekdaysMin,P.$W,K,2);case"ddd":return Q(O.weekdaysShort,P.$W,K,3);case"dddd":return K[P.$W];case"H":return String(U);case"HH":return I.s(U,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return ae(U,V,!0);case"A":return ae(U,V,!1);case"m":return String(V);case"mm":return I.s(V,2,"0");case"s":return String(P.$s);case"ss":return I.s(P.$s,2,"0");case"SSS":return I.s(P.$ms,3,"0");case"Z":return W}return null}(me)||W.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(D,P,O){var M,W=this,U=I.p(P),V=E(D),H=(V.utcOffset()-this.utcOffset())*r,K=this-V,j=function(){return I.m(W,V)};switch(U){case h:M=j()/12;break;case f:M=j();break;case d:M=j()/3;break;case c:M=(K-H)/6048e5;break;case u:M=(K-H)/864e5;break;case l:M=K/a;break;case s:M=K/r;break;case o:M=K/n;break;default:M=K}return O?M:I.a(M)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return S[this.$L]},R.locale=function(D,P){if(!D)return this.$L;var O=this.clone(),M=T(D,P,!0);return M&&(O.$L=M),O},R.clone=function(){return I.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},L}(),N=A.prototype;return E.prototype=N,[["$ms",i],["$s",o],["$m",s],["$H",l],["$W",u],["$M",f],["$y",h],["$D",p]].forEach(function(L){N[L[1]]=function(R){return this.$g(R,L[0],L[1])}}),E.extend=function(L,R){return L.$i||(L(R,A,E),L.$i=!0),E},E.locale=T,E.isDayjs=k,E.unix=function(L){return E(1e3*L)},E.en=S[_],E.Ls=S,E.p={},E})}(OT)),OT.exports}var n$e=t$e();const Lt=Qc(n$e),AR=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],fh=e=>Array.from(Array.from({length:e}).keys()),Dae=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Nae=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),aG=function(e,t){const n=_h(e),r=_h(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},iG=function(e,t){const n=Ke(e),r=Ke(t);return n&&r?e.length!==t.length?!1:e.every((a,i)=>aG(a,t[i])):!n&&!r?aG(e,t):!1},oG=function(e,t,n){const r=Ms(t)||t==="x"?Lt(e).locale(n):Lt(e,t).locale(n);return r.isValid()?r:void 0},sG=function(e,t,n){return Ms(t)?e:t==="x"?+e:Lt(e).locale(n).format(t)},DR=(e,t)=>{var n;const r=[],a=t==null?void 0:t();for(let i=0;i<e;i++)r.push((n=a==null?void 0:a.includes(i))!=null?n:!1);return r},HC=e=>Ke(e)?e.map(t=>t.toDate()):e.toDate(),r$e=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return fh(t).map((r,a)=>n-(t-a-1))},a$e=e=>{const t=e.daysInMonth();return fh(t).map((n,r)=>r+1)},i$e=e=>fh(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),o$e=je({selectedDay:{type:be(Object)},range:{type:be(Array)},date:{type:be(Object),required:!0},hideHeader:{type:Boolean}}),s$e={pick:e=>qt(e)};var PT={exports:{}},l$e=PT.exports,lG;function u$e(){return lG||(lG=1,function(e,t){(function(n,r){e.exports=r()})(l$e,function(){return function(n,r,a){var i=r.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,p,v){var g=f.name?f:f.$locale(),m=o(g[d]),y=o(g[h]),b=m||y.map(function(_){return _.slice(0,p)});if(!v)return b;var x=g.weekStart;return b.map(function(_,S){return b[(S+(x||0))%7]})},l=function(){return a.Ls[a.locale()]},u=function(f,d){return f.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,v,g){return v||g.slice(1)})}(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return c.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return s(l(),"months")},a.monthsShort=function(){return s(l(),"monthsShort","months",3)},a.weekdays=function(f){return s(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})}(PT)),PT.exports}var c$e=u$e();const Rae=Qc(c$e),f$e=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],NR=["sun","mon","tue","wed","thu","fri","sat"],d$e=(e,t)=>{Lt.extend(Rae);const n=Lt.localeData().firstDayOfWeek(),{t:r,lang:a}=_n(),i=Lt().locale(a.value),o=F(()=>!!e.range&&!!e.range.length),s=F(()=>{let d=[];if(o.value){const[h,p]=e.range,v=fh(p.date()-h.date()+1).map(y=>({text:h.date()+y,type:"current"}));let g=v.length%7;g=g===0?0:7-g;const m=fh(g).map((y,b)=>({text:b+1,type:"next"}));d=v.concat(m)}else{const h=e.date.startOf("month").day(),p=r$e(e.date,(h-n+7)%7).map(y=>({text:y,type:"prev"})),v=a$e(e.date).map(y=>({text:y,type:"current"}));d=[...p,...v];const g=7-(d.length%7||7),m=fh(g).map((y,b)=>({text:b+1,type:"next"}));d=d.concat(m)}return i$e(d)}),l=F(()=>{const d=n;return d===0?NR.map(h=>r(`el.datepicker.weeks.${h}`)):NR.slice(d).concat(NR.slice(0,d)).map(h=>r(`el.datepicker.weeks.${h}`))}),u=(d,h)=>{switch(h){case"prev":return e.date.startOf("month").subtract(1,"month").date(d);case"next":return e.date.startOf("month").add(1,"month").date(d);case"current":return e.date.date(d)}};return{now:i,isInRange:o,rows:s,weekDays:l,getFormattedDate:u,handlePickDay:({text:d,type:h})=>{const p=u(d,h);t("pick",p)},getSlotData:({text:d,type:h})=>{const p=u(d,h);return{isSelected:p.isSame(e.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},h$e=se({name:"DateTable"}),p$e=se({...h$e,props:o$e,emits:s$e,setup(e,{expose:t,emit:n}){const r=e,{isInRange:a,now:i,rows:o,weekDays:s,getFormattedDate:l,handlePickDay:u,getSlotData:c}=d$e(r,n),f=ze("calendar-table"),d=ze("calendar-day"),h=({text:p,type:v})=>{const g=[v];if(v==="current"){const m=l(p,v);m.isSame(r.selectedDay,"day")&&g.push(d.is("selected")),m.isSame(i,"day")&&g.push(d.is("today"))}return g};return t({getFormattedDate:l}),(p,v)=>(z(),q("table",{class:G([w(f).b(),w(f).is("range",w(a))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?Te("v-if",!0):(z(),q("thead",{key:0},[Z("tr",null,[(z(!0),q(vt,null,un(w(s),g=>(z(),q("th",{key:g,scope:"col"},Ve(g),1))),128))])])),Z("tbody",null,[(z(!0),q(vt,null,un(w(o),(g,m)=>(z(),q("tr",{key:m,class:G({[w(f).e("row")]:!0,[w(f).em("row","hide-border")]:m===0&&p.hideHeader})},[(z(!0),q(vt,null,un(g,(y,b)=>(z(),q("td",{key:b,class:G(h(y)),onClick:x=>w(u)(y)},[Z("div",{class:G(w(d).b())},[Se(p.$slots,"date-cell",{data:w(c)(y)},()=>[Z("span",null,Ve(y.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var uG=Ze(p$e,[["__file","date-table.vue"]]);const v$e=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[i.startOf("week"),t]]},g$e=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),a=n.isSame(r,"week")?r.add(1,"week"):r,i=a.endOf("month"),o=t.startOf("month"),s=i.isSame(o,"week")?o.add(1,"week"):o;return[[e,n],[a.startOf("week"),i],[s.startOf("week"),t]]},m$e=(e,t,n)=>{const{lang:r}=_n(),a=Y(),i=Lt().locale(r.value),o=F({get(){return e.modelValue?l.value:a.value},set(g){if(!g)return;a.value=g;const m=g.toDate();t(Fi,m),t(Ht,m)}}),s=F(()=>{if(!e.range||!Ke(e.range)||e.range.length!==2||e.range.some(b=>!_h(b)))return[];const g=e.range.map(b=>Lt(b).locale(r.value)),[m,y]=g;return m.isAfter(y)?[]:m.isSame(y,"month")?h(m,y):m.add(1,"month").month()!==y.month()?[]:h(m,y)}),l=F(()=>e.modelValue?Lt(e.modelValue).locale(r.value):o.value||(s.value.length?s.value[0][0]:i)),u=F(()=>l.value.subtract(1,"month").date(1)),c=F(()=>l.value.add(1,"month").date(1)),f=F(()=>l.value.subtract(1,"year").date(1)),d=F(()=>l.value.add(1,"year").date(1)),h=(g,m)=>{const y=g.startOf("week"),b=m.endOf("week"),x=y.get("month"),_=b.get("month");return x===_?[[y,b]]:(x+1)%12===_?v$e(y,b):x+2===_||(x+1)%11===_?g$e(y,b):[]},p=g=>{o.value=g};return{calculateValidatedDateRange:h,date:l,realSelectedDay:o,pickDay:p,selectDate:g=>{const y={"prev-month":u.value,"next-month":c.value,"prev-year":f.value,"next-year":d.value,today:i}[g];y.isSame(l.value,"day")||p(y)},validatedRange:s}},y$e=e=>Ke(e)&&e.length===2&&e.every(t=>_h(t)),b$e=je({modelValue:{type:Date},range:{type:be(Array),validator:y$e}}),x$e={[Ht]:e=>_h(e),[Fi]:e=>_h(e)},w$e="ElCalendar",_$e=se({name:w$e}),S$e=se({..._$e,props:b$e,emits:x$e,setup(e,{expose:t,emit:n}){const r=e,a=ze("calendar"),{calculateValidatedDateRange:i,date:o,pickDay:s,realSelectedDay:l,selectDate:u,validatedRange:c}=m$e(r,n),{t:f}=_n(),d=F(()=>{const h=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${f("el.datepicker.year")} ${f(h)}`});return t({selectedDay:l,pickDay:s,selectDate:u,calculateValidatedDateRange:i}),(h,p)=>(z(),q("div",{class:G(w(a).b())},[Z("div",{class:G(w(a).e("header"))},[Se(h.$slots,"header",{date:w(d)},()=>[Z("div",{class:G(w(a).e("title"))},Ve(w(d)),3),w(c).length===0?(z(),q("div",{key:0,class:G(w(a).e("button-group"))},[ie(w(Aae),null,{default:fe(()=>[ie(w(si),{size:"small",onClick:v=>w(u)("prev-month")},{default:fe(()=>[Kt(Ve(w(f)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),ie(w(si),{size:"small",onClick:v=>w(u)("today")},{default:fe(()=>[Kt(Ve(w(f)("el.datepicker.today")),1)]),_:1},8,["onClick"]),ie(w(si),{size:"small",onClick:v=>w(u)("next-month")},{default:fe(()=>[Kt(Ve(w(f)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Te("v-if",!0)])],2),w(c).length===0?(z(),q("div",{key:0,class:G(w(a).e("body"))},[ie(uG,{date:w(o),"selected-day":w(l),onPick:w(s)},Ml({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:fe(v=>[Se(h.$slots,"date-cell",hu(Sh(v)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(z(),q("div",{key:1,class:G(w(a).e("body"))},[(z(!0),q(vt,null,un(w(c),(v,g)=>(z(),Ae(uG,{key:g,date:v[0],"selected-day":w(l),range:v,"hide-header":g!==0,onPick:w(s)},Ml({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:fe(m=>[Se(h.$slots,"date-cell",hu(Sh(m)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var C$e=Ze(S$e,[["__file","calendar.vue"]]);const T$e=Bt(C$e),k$e=je({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:be([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),I$e=se({name:"ElCard"}),E$e=se({...I$e,props:k$e,setup(e){const t=ze("card");return(n,r)=>(z(),q("div",{class:G([w(t).b(),w(t).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(z(),q("div",{key:0,class:G(w(t).e("header"))},[Se(n.$slots,"header",{},()=>[Kt(Ve(n.header),1)])],2)):Te("v-if",!0),Z("div",{class:G([w(t).e("body"),n.bodyClass]),style:yt(n.bodyStyle)},[Se(n.$slots,"default")],6),n.$slots.footer||n.footer?(z(),q("div",{key:1,class:G(w(t).e("footer"))},[Se(n.$slots,"footer",{},()=>[Kt(Ve(n.footer),1)])],2)):Te("v-if",!0)],2))}});var A$e=Ze(E$e,[["__file","card.vue"]]);const D$e=Bt(A$e),N$e=je({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),R$e={change:(e,t)=>[e,t].every(Tt)},Mae=Symbol("carouselContextKey"),TO="ElCarouselItem";var vl=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(vl||{});function kO(e){return $r(e)&&e.type===vt}function M$e(e){return $r(e)&&e.type===ti}function $$e(e){return $r(e)&&!kO(e)&&!M$e(e)}const L$e=e=>{if(!$r(e))return{};const t=e.props||{},n=($r(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(a=>{Dn(n[a],"default")&&(r[a]=n[a].default)}),Object.keys(t).forEach(a=>{r[Qo(a)]=t[a]}),r},O$e=e=>{if(!Ke(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},dh=e=>{const t=Ke(e)?e:[e],n=[];return t.forEach(r=>{var a;Ke(r)?n.push(...dh(r)):$r(r)&&((a=r.component)!=null&&a.subTree)?n.push(r,...dh(r.component.subTree)):$r(r)&&Ke(r.children)?n.push(...dh(r.children)):n.push(r)}),n},P$e=(e,t,n)=>dh(e.subTree).filter(i=>{var o;return $r(i)&&((o=i.type)==null?void 0:o.name)===t&&!!i.component}).map(i=>i.component.uid).map(i=>n[i]).filter(i=>!!i),_B=(e,t)=>{const n={},r=dr([]);return{children:r,addChild:o=>{n[o.uid]=o,r.value=P$e(e,t,n)},removeChild:o=>{delete n[o],r.value=r.value.filter(s=>s.uid!==o)}}},cG=300,F$e=(e,t,n)=>{const{children:r,addChild:a,removeChild:i}=_B(jt(),TO),o=Sa(),s=Y(-1),l=Y(null),u=Y(!1),c=Y(),f=Y(0),d=Y(!0),h=Y(!0),p=Y(!1),v=F(()=>e.arrow!=="never"&&!w(y)),g=F(()=>r.value.some(ne=>ne.props.label.toString().length>0)),m=F(()=>e.type==="card"),y=F(()=>e.direction==="vertical"),b=F(()=>e.height!=="auto"?{height:e.height}:{height:`${f.value}px`,overflow:"hidden"}),x=Ov(ne=>{E(ne)},cG,{trailing:!0}),_=Ov(ne=>{M(ne)},cG),S=ne=>d.value?s.value<=1?ne<=1:ne>1:!0;function C(){l.value&&(clearInterval(l.value),l.value=null)}function k(){e.interval<=0||!e.autoplay||l.value||(l.value=setInterval(()=>T(),e.interval))}const T=()=>{h.value||(p.value=!0),h.value=!1,s.value<r.value.length-1?s.value=s.value+1:e.loop?s.value=0:p.value=!1};function E(ne){if(h.value||(p.value=!0),h.value=!1,gt(ne)){const ae=r.value.filter(me=>me.props.name===ne);ae.length>0&&(ne=r.value.indexOf(ae[0]))}if(ne=Number(ne),Number.isNaN(ne)||ne!==Math.floor(ne))return;const Q=r.value.length,oe=s.value;ne<0?s.value=e.loop?Q-1:0:ne>=Q?s.value=e.loop?0:Q-1:s.value=ne,oe===s.value&&I(oe),V()}function I(ne){r.value.forEach((Q,oe)=>{Q.translateItem(oe,s.value,ne)})}function A(ne,Q){var oe,ae,me,ve;const B=w(r),re=B.length;if(re===0||!ne.states.inStage)return!1;const ge=Q+1,Ie=Q-1,Ce=re-1,he=B[Ce].states.active,J=B[0].states.active,te=(ae=(oe=B[ge])==null?void 0:oe.states)==null?void 0:ae.active,xe=(ve=(me=B[Ie])==null?void 0:me.states)==null?void 0:ve.active;return Q===Ce&&J||te?"left":Q===0&&he||xe?"right":!1}function N(){u.value=!0,e.pauseOnHover&&C()}function L(){u.value=!1,k()}function R(){p.value=!1}function D(ne){w(y)||r.value.forEach((Q,oe)=>{ne===A(Q,oe)&&(Q.states.hover=!0)})}function P(){w(y)||r.value.forEach(ne=>{ne.states.hover=!1})}function O(ne){ne!==s.value&&(h.value||(p.value=!0)),s.value=ne}function M(ne){e.trigger==="hover"&&ne!==s.value&&(s.value=ne,h.value||(p.value=!0))}function W(){E(s.value-1)}function U(){E(s.value+1)}function V(){C(),e.pauseOnHover||k()}function H(ne){e.height==="auto"&&(f.value=ne)}function K(){var ne;const Q=(ne=o.default)==null?void 0:ne.call(o);if(!Q)return null;const ae=dh(Q).filter(me=>$r(me)&&me.type.name===TO);return(ae==null?void 0:ae.length)===2&&e.loop&&!m.value?(d.value=!0,ae):(d.value=!1,null)}Le(()=>s.value,(ne,Q)=>{I(Q),d.value&&(ne=ne%2,Q=Q%2),Q>-1&&t("change",ne,Q)}),Le(()=>e.autoplay,ne=>{ne?k():C()}),Le(()=>e.loop,()=>{E(s.value)}),Le(()=>e.interval,()=>{V()});const j=dr();return zt(()=>{Le(()=>r.value,()=>{r.value.length>0&&E(e.initialIndex)},{immediate:!0}),j.value=Mr(c.value,()=>{I()}),k()}),ar(()=>{C(),c.value&&j.value&&j.value.stop()}),hn(Mae,{root:c,isCardType:m,isVertical:y,items:r,loop:e.loop,cardScale:e.cardScale,addItem:a,removeItem:i,setActiveItem:E,setContainerHeight:H}),{root:c,activeIndex:s,arrowDisplay:v,hasLabel:g,hover:u,isCardType:m,isTransitioning:p,items:r,isVertical:y,containerStyle:b,isItemsTwoLength:d,handleButtonEnter:D,handleTransitionEnd:R,handleButtonLeave:P,handleIndicatorClick:O,handleMouseEnter:N,handleMouseLeave:L,setActiveItem:E,prev:W,next:U,PlaceholderItem:K,isTwoLengthShow:S,throttledArrowClick:x,throttledIndicatorHover:_}},B$e="ElCarousel",V$e=se({name:B$e}),z$e=se({...V$e,props:N$e,emits:R$e,setup(e,{expose:t,emit:n}){const r=e,{root:a,activeIndex:i,arrowDisplay:o,hasLabel:s,hover:l,isCardType:u,items:c,isVertical:f,containerStyle:d,handleButtonEnter:h,handleButtonLeave:p,isTransitioning:v,handleIndicatorClick:g,handleMouseEnter:m,handleMouseLeave:y,handleTransitionEnd:b,setActiveItem:x,prev:_,next:S,PlaceholderItem:C,isTwoLengthShow:k,throttledArrowClick:T,throttledIndicatorHover:E}=F$e(r,n),I=ze("carousel"),{t:A}=_n(),N=F(()=>{const D=[I.b(),I.m(r.direction)];return w(u)&&D.push(I.m("card")),D}),L=F(()=>{const D=[I.e("container")];return r.motionBlur&&w(v)&&c.value.length>1&&D.push(w(f)?`${I.namespace.value}-transitioning-vertical`:`${I.namespace.value}-transitioning`),D}),R=F(()=>{const D=[I.e("indicators"),I.em("indicators",r.direction)];return w(s)&&D.push(I.em("indicators","labels")),r.indicatorPosition==="outside"&&D.push(I.em("indicators","outside")),w(f)&&D.push(I.em("indicators","right")),D});return t({activeIndex:i,setActiveItem:x,prev:_,next:S}),(D,P)=>(z(),q("div",{ref_key:"root",ref:a,class:G(w(N)),onMouseenter:At(w(m),["stop"]),onMouseleave:At(w(y),["stop"])},[w(o)?(z(),Ae(hi,{key:0,name:"carousel-arrow-left",persisted:""},{default:fe(()=>[Vt(Z("button",{type:"button",class:G([w(I).e("arrow"),w(I).em("arrow","left")]),"aria-label":w(A)("el.carousel.leftArrow"),onMouseenter:O=>w(h)("left"),onMouseleave:w(p),onClick:At(O=>w(T)(w(i)-1),["stop"])},[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[En,(D.arrow==="always"||w(l))&&(r.loop||w(i)>0)]])]),_:1})):Te("v-if",!0),w(o)?(z(),Ae(hi,{key:1,name:"carousel-arrow-right",persisted:""},{default:fe(()=>[Vt(Z("button",{type:"button",class:G([w(I).e("arrow"),w(I).em("arrow","right")]),"aria-label":w(A)("el.carousel.rightArrow"),onMouseenter:O=>w(h)("right"),onMouseleave:w(p),onClick:At(O=>w(T)(w(i)+1),["stop"])},[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[En,(D.arrow==="always"||w(l))&&(r.loop||w(i)<w(c).length-1)]])]),_:1})):Te("v-if",!0),Z("div",{class:G(w(L)),style:yt(w(d)),onTransitionend:w(b)},[ie(w(C)),Se(D.$slots,"default")],46,["onTransitionend"]),D.indicatorPosition!=="none"?(z(),q("ul",{key:2,class:G(w(R))},[(z(!0),q(vt,null,un(w(c),(O,M)=>Vt((z(),q("li",{key:M,class:G([w(I).e("indicator"),w(I).em("indicator",D.direction),w(I).is("active",M===w(i))]),onMouseenter:W=>w(E)(M),onClick:At(W=>w(g)(M),["stop"])},[Z("button",{class:G(w(I).e("button")),"aria-label":w(A)("el.carousel.indicator",{index:M+1})},[w(s)?(z(),q("span",{key:0},Ve(O.props.label),1)):Te("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[En,w(k)(M)]])),128))],2)):Te("v-if",!0),r.motionBlur?(z(),q("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[Z("defs",null,[Z("filter",{id:"elCarouselHorizontal"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Z("filter",{id:"elCarouselVertical"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Te("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var W$e=Ze(z$e,[["__file","carousel.vue"]]);const H$e=je({name:{type:String,default:""},label:{type:[String,Number],default:""}}),U$e=e=>{const t=ht(Mae),n=jt(),r=Y(),a=Y(!1),i=Y(0),o=Y(1),s=Y(!1),l=Y(!1),u=Y(!1),c=Y(!1),{isCardType:f,isVertical:d,cardScale:h}=t;function p(b,x,_){const S=_-1,C=x-1,k=x+1,T=_/2;return x===0&&b===S?-1:x===S&&b===0?_:b<C&&x-b>=T?_+1:b>k&&b-x>=T?-2:b}function v(b,x){var _,S;const C=w(d)?((_=t.root.value)==null?void 0:_.offsetHeight)||0:((S=t.root.value)==null?void 0:S.offsetWidth)||0;return u.value?C*((2-h)*(b-x)+1)/4:b<x?-(1+h)*C/4:(3+h)*C/4}function g(b,x,_){const S=t.root.value;return S?((_?S.offsetHeight:S.offsetWidth)||0)*(b-x):0}const m=(b,x,_)=>{var S;const C=w(f),k=(S=t.items.value.length)!=null?S:Number.NaN,T=b===x;!C&&!qn(_)&&(c.value=T||b===_),!T&&k>2&&t.loop&&(b=p(b,x,k));const E=w(d);s.value=T,C?(u.value=Math.round(Math.abs(b-x))<=1,i.value=v(b,x),o.value=w(s)?1:h):i.value=g(b,x,E),l.value=!0,T&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function y(){if(t&&w(f)){const b=t.items.value.findIndex(({uid:x})=>x===n.uid);t.setActiveItem(b)}}return zt(()=>{t.addItem({props:e,states:Ln({hover:a,translate:i,scale:o,active:s,ready:l,inStage:u,animating:c}),uid:n.uid,translateItem:m})}),zu(()=>{t.removeItem(n.uid)}),{carouselItemRef:r,active:s,animating:c,hover:a,inStage:u,isVertical:d,translate:i,isCardType:f,scale:o,ready:l,handleItemClick:y}},G$e=se({name:TO}),K$e=se({...G$e,props:H$e,setup(e){const t=e,n=ze("carousel"),{carouselItemRef:r,active:a,animating:i,hover:o,inStage:s,isVertical:l,translate:u,isCardType:c,scale:f,ready:d,handleItemClick:h}=U$e(t),p=F(()=>[n.e("item"),n.is("active",a.value),n.is("in-stage",s.value),n.is("hover",o.value),n.is("animating",i.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&l.value}]),v=F(()=>{const m=`${`translate${w(l)?"Y":"X"}`}(${w(u)}px)`,y=`scale(${w(f)})`;return{transform:[m,y].join(" ")}});return(g,m)=>Vt((z(),q("div",{ref_key:"carouselItemRef",ref:r,class:G(w(p)),style:yt(w(v)),onClick:w(h)},[w(c)?Vt((z(),q("div",{key:0,class:G(w(n).e("mask"))},null,2)),[[En,!w(a)]]):Te("v-if",!0),Se(g.$slots,"default")],14,["onClick"])),[[En,w(d)]])}});var $ae=Ze(K$e,[["__file","carousel-item.vue"]]);const j$e=Bt(W$e,{CarouselItem:$ae}),Y$e=Ur($ae),Lae={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:xa,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Ei(["ariaControls"])},Oae={[Ht]:e=>gt(e)||Tt(e)||lr(e),change:e=>gt(e)||Tt(e)||lr(e)},jy=Symbol("checkboxGroupContextKey"),X$e=({model:e,isChecked:t})=>{const n=ht(jy,void 0),r=F(()=>{var i,o;const s=(i=n==null?void 0:n.max)==null?void 0:i.value,l=(o=n==null?void 0:n.min)==null?void 0:o.value;return!qn(s)&&e.value.length>=s&&!t.value||!qn(l)&&e.value.length<=l&&t.value});return{isDisabled:qi(F(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},q$e=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:a,isLabeledByFormItem:i})=>{const o=ht(jy,void 0),{formItem:s}=Xi(),{emit:l}=jt();function u(p){var v,g,m,y;return[!0,e.trueValue,e.trueLabel].includes(p)?(g=(v=e.trueValue)!=null?v:e.trueLabel)!=null?g:!0:(y=(m=e.falseValue)!=null?m:e.falseLabel)!=null?y:!1}function c(p,v){l("change",u(p),v)}function f(p){if(n.value)return;const v=p.target;l("change",u(v.checked),p)}async function d(p){n.value||!r.value&&!a.value&&i.value&&(p.composedPath().some(m=>m.tagName==="LABEL")||(t.value=u([!1,e.falseValue,e.falseLabel].includes(t.value)),await xt(),c(t.value,p)))}const h=F(()=>(o==null?void 0:o.validateEvent)||e.validateEvent);return Le(()=>e.modelValue,()=>{h.value&&(s==null||s.validate("change").catch(p=>void 0))}),{handleChange:f,onClickRoot:d}},Z$e=e=>{const t=Y(!1),{emit:n}=jt(),r=ht(jy,void 0),a=F(()=>qn(r)===!1),i=Y(!1),o=F({get(){var s,l;return a.value?(s=r==null?void 0:r.modelValue)==null?void 0:s.value:(l=e.modelValue)!=null?l:t.value},set(s){var l,u;a.value&&Ke(s)?(i.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&s.length>(r==null?void 0:r.max.value)&&s.length>o.value.length,i.value===!1&&((u=r==null?void 0:r.changeEvent)==null||u.call(r,s))):(n(Ht,s),t.value=s)}});return{model:o,isGroup:a,isLimitExceeded:i}},J$e=(e,t,{model:n})=>{const r=ht(jy,void 0),a=Y(!1),i=F(()=>rg(e.value)?e.label:e.value),o=F(()=>{const c=n.value;return lr(c)?c:Ke(c)?qt(i.value)?c.map(tr).some(f=>Ci(f,i.value)):c.map(tr).includes(i.value):c!=null?c===e.trueValue||c===e.trueLabel:!!c}),s=pa(F(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value}),{prop:!0}),l=pa(F(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value})),u=F(()=>!!t.default||!rg(i.value));return{checkboxButtonSize:s,isChecked:o,isFocused:a,checkboxSize:l,hasOwnLabel:u,actualValue:i}},Pae=(e,t)=>{const{formItem:n}=Xi(),{model:r,isGroup:a,isLimitExceeded:i}=Z$e(e),{isFocused:o,isChecked:s,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:f}=J$e(e,t,{model:r}),{isDisabled:d}=X$e({model:r,isChecked:s}),{inputId:h,isLabeledByFormItem:p}=Wl(e,{formItemContext:n,disableIdGeneration:c,disableIdManagement:a}),{handleChange:v,onClickRoot:g}=q$e(e,{model:r,isLimitExceeded:i,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:p});return(()=>{function y(){var b,x;Ke(r.value)&&!r.value.includes(f.value)?r.value.push(f.value):r.value=(x=(b=e.trueValue)!=null?b:e.trueLabel)!=null?x:!0}e.checked&&y()})(),ch({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},F(()=>a.value&&rg(e.value))),ch({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},F(()=>!!e.trueLabel)),ch({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},F(()=>!!e.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:s,isDisabled:d,isFocused:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,actualValue:f,handleChange:v,onClickRoot:g}},Q$e=se({name:"ElCheckbox"}),eLe=se({...Q$e,props:Lae,emits:Oae,setup(e){const t=e,n=Sa(),{inputId:r,isLabeledByFormItem:a,isChecked:i,isDisabled:o,isFocused:s,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:f,handleChange:d,onClickRoot:h}=Pae(t,n),p=ze("checkbox"),v=F(()=>[p.b(),p.m(l.value),p.is("disabled",o.value),p.is("bordered",t.border),p.is("checked",i.value)]),g=F(()=>[p.e("input"),p.is("disabled",o.value),p.is("checked",i.value),p.is("indeterminate",t.indeterminate),p.is("focus",s.value)]);return(m,y)=>(z(),Ae(tn(!w(u)&&w(a)?"span":"label"),{class:G(w(v)),"aria-controls":m.indeterminate?m.ariaControls:null,onClick:w(h)},{default:fe(()=>{var b,x,_,S;return[Z("span",{class:G(w(g))},[m.trueValue||m.falseValue||m.trueLabel||m.falseLabel?Vt((z(),q("input",{key:0,id:w(r),"onUpdate:modelValue":C=>vr(c)?c.value=C:null,class:G(w(p).e("original")),type:"checkbox",indeterminate:m.indeterminate,name:m.name,tabindex:m.tabindex,disabled:w(o),"true-value":(x=(b=m.trueValue)!=null?b:m.trueLabel)!=null?x:!0,"false-value":(S=(_=m.falseValue)!=null?_:m.falseLabel)!=null?S:!1,onChange:w(d),onFocus:C=>s.value=!0,onBlur:C=>s.value=!1,onClick:At(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Gk,w(c)]]):Vt((z(),q("input",{key:1,id:w(r),"onUpdate:modelValue":C=>vr(c)?c.value=C:null,class:G(w(p).e("original")),type:"checkbox",indeterminate:m.indeterminate,disabled:w(o),value:w(f),name:m.name,tabindex:m.tabindex,onChange:w(d),onFocus:C=>s.value=!0,onBlur:C=>s.value=!1,onClick:At(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[Gk,w(c)]]),Z("span",{class:G(w(p).e("inner"))},null,2)],2),w(u)?(z(),q("span",{key:0,class:G(w(p).e("label"))},[Se(m.$slots,"default"),m.$slots.default?Te("v-if",!0):(z(),q(vt,{key:0},[Kt(Ve(m.label),1)],64))],2)):Te("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var tLe=Ze(eLe,[["__file","checkbox.vue"]]);const nLe=se({name:"ElCheckboxButton"}),rLe=se({...nLe,props:Lae,emits:Oae,setup(e){const t=e,n=Sa(),{isFocused:r,isChecked:a,isDisabled:i,checkboxButtonSize:o,model:s,actualValue:l,handleChange:u}=Pae(t,n),c=ht(jy,void 0),f=ze("checkbox"),d=F(()=>{var p,v,g,m;const y=(v=(p=c==null?void 0:c.fill)==null?void 0:p.value)!=null?v:"";return{backgroundColor:y,borderColor:y,color:(m=(g=c==null?void 0:c.textColor)==null?void 0:g.value)!=null?m:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),h=F(()=>[f.b("button"),f.bm("button",o.value),f.is("disabled",i.value),f.is("checked",a.value),f.is("focus",r.value)]);return(p,v)=>{var g,m,y,b;return z(),q("label",{class:G(w(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?Vt((z(),q("input",{key:0,"onUpdate:modelValue":x=>vr(s)?s.value=x:null,class:G(w(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:w(i),"true-value":(m=(g=p.trueValue)!=null?g:p.trueLabel)!=null?m:!0,"false-value":(b=(y=p.falseValue)!=null?y:p.falseLabel)!=null?b:!1,onChange:w(u),onFocus:x=>r.value=!0,onBlur:x=>r.value=!1,onClick:At(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Gk,w(s)]]):Vt((z(),q("input",{key:1,"onUpdate:modelValue":x=>vr(s)?s.value=x:null,class:G(w(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:w(i),value:w(l),onChange:w(u),onFocus:x=>r.value=!0,onBlur:x=>r.value=!1,onClick:At(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[Gk,w(s)]]),p.$slots.default||p.label?(z(),q("span",{key:2,class:G(w(f).be("button","inner")),style:yt(w(a)?w(d):void 0)},[Se(p.$slots,"default",{},()=>[Kt(Ve(p.label),1)])],6)):Te("v-if",!0)],2)}}});var Fae=Ze(rLe,[["__file","checkbox-button.vue"]]);const aLe=je({modelValue:{type:be(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:xa,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),iLe={[Ht]:e=>Ke(e),change:e=>Ke(e)},oLe=se({name:"ElCheckboxGroup"}),sLe=se({...oLe,props:aLe,emits:iLe,setup(e,{emit:t}){const n=e,r=ze("checkbox"),{formItem:a}=Xi(),{inputId:i,isLabeledByFormItem:o}=Wl(n,{formItemContext:a}),s=async u=>{t(Ht,u),await xt(),t("change",u)},l=F({get(){return n.modelValue},set(u){s(u)}});return hn(jy,{...pu(di(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:s}),Le(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(u=>void 0))}),(u,c)=>{var f;return z(),Ae(tn(u.tag),{id:w(i),class:G(w(r).b("group")),role:"group","aria-label":w(o)?void 0:u.ariaLabel||"checkbox-group","aria-labelledby":w(o)?(f=w(a))==null?void 0:f.labelId:void 0},{default:fe(()=>[Se(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Bae=Ze(sLe,[["__file","checkbox-group.vue"]]);const Pl=Bt(tLe,{CheckboxButton:Fae,CheckboxGroup:Bae}),lLe=Ur(Fae),Vae=Ur(Bae),zae=je({modelValue:{type:[String,Number,Boolean],default:void 0},size:xa,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),uLe=je({...zae,border:Boolean}),Wae={[Ht]:e=>gt(e)||Tt(e)||lr(e),[Qn]:e=>gt(e)||Tt(e)||lr(e)},Hae=Symbol("radioGroupKey"),Uae=(e,t)=>{const n=Y(),r=ht(Hae,void 0),a=F(()=>!!r),i=F(()=>rg(e.value)?e.label:e.value),o=F({get(){return a.value?r.modelValue:e.modelValue},set(f){a.value?r.changeEvent(f):t&&t(Ht,f),n.value.checked=e.modelValue===i.value}}),s=pa(F(()=>r==null?void 0:r.size)),l=qi(F(()=>r==null?void 0:r.disabled)),u=Y(!1),c=F(()=>l.value||a.value&&o.value!==i.value?-1:0);return ch({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},F(()=>a.value&&rg(e.value))),{radioRef:n,isGroup:a,radioGroup:r,focus:u,size:s,disabled:l,tabIndex:c,modelValue:o,actualValue:i}},cLe=se({name:"ElRadio"}),fLe=se({...cLe,props:uLe,emits:Wae,setup(e,{emit:t}){const n=e,r=ze("radio"),{radioRef:a,radioGroup:i,focus:o,size:s,disabled:l,modelValue:u,actualValue:c}=Uae(n,t);function f(){xt(()=>t("change",u.value))}return(d,h)=>{var p;return z(),q("label",{class:G([w(r).b(),w(r).is("disabled",w(l)),w(r).is("focus",w(o)),w(r).is("bordered",d.border),w(r).is("checked",w(u)===w(c)),w(r).m(w(s))])},[Z("span",{class:G([w(r).e("input"),w(r).is("disabled",w(l)),w(r).is("checked",w(u)===w(c))])},[Vt(Z("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":v=>vr(u)?u.value=v:null,class:G(w(r).e("original")),value:w(c),name:d.name||((p=w(i))==null?void 0:p.name),disabled:w(l),checked:w(u)===w(c),type:"radio",onFocus:v=>o.value=!0,onBlur:v=>o.value=!1,onChange:f,onClick:At(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[Dne,w(u)]]),Z("span",{class:G(w(r).e("inner"))},null,2)],2),Z("span",{class:G(w(r).e("label")),onKeydown:At(()=>{},["stop"])},[Se(d.$slots,"default",{},()=>[Kt(Ve(d.label),1)])],42,["onKeydown"])],2)}}});var dLe=Ze(fLe,[["__file","radio.vue"]]);const hLe=je({...zae}),pLe=se({name:"ElRadioButton"}),vLe=se({...pLe,props:hLe,setup(e){const t=e,n=ze("radio"),{radioRef:r,focus:a,size:i,disabled:o,modelValue:s,radioGroup:l,actualValue:u}=Uae(t),c=F(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(f,d)=>{var h;return z(),q("label",{class:G([w(n).b("button"),w(n).is("active",w(s)===w(u)),w(n).is("disabled",w(o)),w(n).is("focus",w(a)),w(n).bm("button",w(i))])},[Vt(Z("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":p=>vr(s)?s.value=p:null,class:G(w(n).be("button","original-radio")),value:w(u),type:"radio",name:f.name||((h=w(l))==null?void 0:h.name),disabled:w(o),onFocus:p=>a.value=!0,onBlur:p=>a.value=!1,onClick:At(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[Dne,w(s)]]),Z("span",{class:G(w(n).be("button","inner")),style:yt(w(s)===w(u)?w(c):{}),onKeydown:At(()=>{},["stop"])},[Se(f.$slots,"default",{},()=>[Kt(Ve(f.label),1)])],46,["onKeydown"])],2)}}});var Gae=Ze(vLe,[["__file","radio-button.vue"]]);const gLe=je({id:{type:String,default:void 0},size:xa,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),mLe=Wae,yLe=se({name:"ElRadioGroup"}),bLe=se({...yLe,props:gLe,emits:mLe,setup(e,{emit:t}){const n=e,r=ze("radio"),a=Ii(),i=Y(),{formItem:o}=Xi(),{inputId:s,isLabeledByFormItem:l}=Wl(n,{formItemContext:o}),u=f=>{t(Ht,f),xt(()=>t("change",f))};zt(()=>{const f=i.value.querySelectorAll("[type=radio]"),d=f[0];!Array.from(f).some(h=>h.checked)&&d&&(d.tabIndex=0)});const c=F(()=>n.name||a.value);return hn(Hae,Ln({...di(n),changeEvent:u,name:c})),Le(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(f=>void 0))}),(f,d)=>(z(),q("div",{id:w(s),ref_key:"radioGroupRef",ref:i,class:G(w(r).b("group")),role:"radiogroup","aria-label":w(l)?void 0:f.ariaLabel||"radio-group","aria-labelledby":w(l)?w(o).labelId:void 0},[Se(f.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var Kae=Ze(bLe,[["__file","radio-group.vue"]]);const jae=Bt(dLe,{RadioButton:Gae,RadioGroup:Kae}),xLe=Ur(Kae),wLe=Ur(Gae);var _Le=se({name:"NodeContent",setup(){return{ns:ze("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:a}=t,{renderLabelFn:i}=n;return Ct("span",{class:e.e("label")},i?i({node:t,data:r}):a)}});const SB=Symbol(),SLe=se({name:"ElCascaderNode",components:{ElCheckbox:Pl,ElRadio:jae,NodeContent:_Le,ElIcon:pt,Check:C_,Loading:Mu,ArrowRight:Yo},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=ht(SB),r=ze("cascader-node"),a=F(()=>n.isHoverMenu),i=F(()=>n.config.multiple),o=F(()=>n.config.checkStrictly),s=F(()=>{var S;return(S=n.checkedNodes[0])==null?void 0:S.uid}),l=F(()=>e.node.isDisabled),u=F(()=>e.node.isLeaf),c=F(()=>o.value&&!u.value||!l.value),f=F(()=>h(n.expandingNode)),d=F(()=>o.value&&n.checkedNodes.some(h)),h=S=>{var C;const{level:k,uid:T}=e.node;return((C=S==null?void 0:S.pathNodes[k-1])==null?void 0:C.uid)===T},p=()=>{f.value||n.expandNode(e.node)},v=S=>{const{node:C}=e;S!==C.checked&&n.handleCheckChange(C,S)},g=()=>{n.lazyLoad(e.node,()=>{u.value||p()})},m=S=>{a.value&&(y(),!u.value&&t("expand",S))},y=()=>{const{node:S}=e;!c.value||S.loading||(S.loaded?p():g())},b=()=>{a.value&&!u.value||(u.value&&!l.value&&!o.value&&!i.value?_(!0):y())},x=S=>{o.value?(v(S),e.node.loaded&&p()):_(S)},_=S=>{e.node.loaded?(v(S),!o.value&&p()):g()};return{panel:n,isHoverMenu:a,multiple:i,checkStrictly:o,checkedNodeId:s,isDisabled:l,isLeaf:u,expandable:c,inExpandingPath:f,inCheckedPath:d,ns:r,handleHoverExpand:m,handleExpand:y,handleClick:b,handleCheck:_,handleSelectCheck:x}}});function CLe(e,t,n,r,a,i){const o=Ft("el-checkbox"),s=Ft("el-radio"),l=Ft("check"),u=Ft("el-icon"),c=Ft("node-content"),f=Ft("loading"),d=Ft("arrow-right");return z(),q("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:G([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[Te(" prefix "),e.multiple?(z(),Ae(o,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:At(()=>{},["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(z(),Ae(s,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:At(()=>{},["stop"])},{default:fe(()=>[Te(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Z("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(z(),Ae(u,{key:2,class:G(e.ns.e("prefix"))},{default:fe(()=>[ie(l)]),_:1},8,["class"])):Te("v-if",!0),Te(" content "),ie(c),Te(" postfix "),e.isLeaf?Te("v-if",!0):(z(),q(vt,{key:3},[e.node.loading?(z(),Ae(u,{key:0,class:G([e.ns.is("loading"),e.ns.e("postfix")])},{default:fe(()=>[ie(f)]),_:1},8,["class"])):(z(),Ae(u,{key:1,class:G(["arrow-right",e.ns.e("postfix")])},{default:fe(()=>[ie(d)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var TLe=Ze(SLe,[["render",CLe],["__file","node.vue"]]);const kLe=se({name:"ElCascaderMenu",components:{Loading:Mu,ElIcon:pt,ElScrollbar:Jc,ElCascaderNode:TLe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=jt(),n=ze("cascader-menu"),{t:r}=_n(),a=Ii();let i=null,o=null;const s=ht(SB),l=Y(null),u=F(()=>!e.nodes.length),c=F(()=>!s.initialLoaded),f=F(()=>`${a.value}-${e.index}`),d=g=>{i=g.target},h=g=>{if(!(!s.isHoverMenu||!i||!l.value))if(i.contains(g.target)){p();const m=t.vnode.el,{left:y}=m.getBoundingClientRect(),{offsetWidth:b,offsetHeight:x}=m,_=g.clientX-y,S=i.offsetTop,C=S+i.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${_} ${S} L${b} 0 V${S} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${_} ${C} L${b} ${x} V${C} Z" />
        `}else o||(o=window.setTimeout(v,s.config.hoverThreshold))},p=()=>{o&&(clearTimeout(o),o=null)},v=()=>{l.value&&(l.value.innerHTML="",p())};return{ns:n,panel:s,hoverZone:l,isEmpty:u,isLoading:c,menuId:f,t:r,handleExpand:d,handleMouseMove:h,clearHoverZone:v}}});function ILe(e,t,n,r,a,i){const o=Ft("el-cascader-node"),s=Ft("loading"),l=Ft("el-icon"),u=Ft("el-scrollbar");return z(),Ae(u,{key:e.menuId,tag:"ul",role:"menu",class:G(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:fe(()=>{var c;return[(z(!0),q(vt,null,un(e.nodes,f=>(z(),Ae(o,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(z(),q("div",{key:0,class:G(e.ns.e("empty-text"))},[ie(l,{size:"14",class:G(e.ns.is("loading"))},{default:fe(()=>[ie(s)]),_:1},8,["class"]),Kt(" "+Ve(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(z(),q("div",{key:1,class:G(e.ns.e("empty-text"))},[Se(e.$slots,"empty",{},()=>[Kt(Ve(e.t("el.cascader.noData")),1)])],2)):(c=e.panel)!=null&&c.isHoverMenu?(z(),q("svg",{key:2,ref:"hoverZone",class:G(e.ns.e("hover-zone"))},null,2)):Te("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ELe=Ze(kLe,[["render",ILe],["__file","menu.vue"]]);const CB=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),vc=e=>v_(e);let ALe=0;const DLe=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let IO=class EO{constructor(t,n,r,a=!1){this.data=t,this.config=n,this.parent=r,this.root=a,this.uid=ALe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:i,label:o,children:s}=n,l=t[s],u=DLe(this);this.level=a?0:r?r.level+1:1,this.value=t[i],this.label=t[o],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new EO(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!Ms(l)}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:a,checkStrictly:i}=r;return(mt(a)?a(t,this):!!t[a])||!i&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:a}=this,{lazy:i,leaf:o}=n,s=mt(o)?o(t,this):t[o];return qn(s)?i&&!a?!1:!(Ke(r)&&r.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,a=new EO(t,this.config,this);return Ke(n)?n.push(t):this.childrenData=[t],r.push(a),a}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t,...n){const r=`onParent${vc(t)}`;this.children.forEach(a=>{a&&(a.broadcast(t,...n),a[r]&&a[r](...n))})}emit(t,...n){const{parent:r}=this,a=`onChild${vc(t)}`;r&&(r[a]&&r[a](...n),r.emit(t,...n))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(a=>!a.isDisabled),r=n.length?n.every(a=>a.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((a,i)=>{const o=i.checked?1:i.indeterminate?.5:0;return a+o},0);this.checked=this.loaded&&this.children.filter(a=>!a.isDisabled).every(a=>a.loaded&&a.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const AO=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(AO(r.children,t))),n),[]);class fG{constructor(t,n){this.config=n;const r=(t||[]).map(a=>new IO(a,this.config));this.nodes=r,this.allNodes=AO(r,!1),this.leafNodes=AO(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new IO(t,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(t,n){t.forEach(r=>this.appendNode(r,n))}getNodeByValue(t,n=!1){return!t&&t!==0?null:this.getFlattedNodes(n).find(a=>Ci(a.value,t)||Ci(a.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:a})=>Ci(t.value,r)&&t.level===a)||null}}const Yae=je({modelValue:{type:be([Number,String,Array])},options:{type:be(Array),default:()=>[]},props:{type:be(Object),default:()=>({})}}),NLe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:zn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},RLe=e=>F(()=>({...NLe,...e.props})),dG=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},MLe=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():tae(e)&&e.click()},$Le=(e,t)=>{const n=t.slice(0),r=n.map(i=>i.uid),a=e.reduce((i,o)=>{const s=r.indexOf(o.uid);return s>-1&&(i.push(o),n.splice(s,1),r.splice(s,1)),i},[]);return a.push(...n),a},hG=e=>[...new Set(e)],Go=e=>!e&&e!==0?[]:Ke(e)?e:[e],LLe=se({name:"ElCascaderPanel",components:{ElCascaderMenu:ELe},props:{...Yae,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Ht,Qn,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const a=ze("cascader"),i=RLe(e);let o=null;const s=Y(!0),l=Y([]),u=Y(null),c=Y([]),f=Y(null),d=Y([]),h=F(()=>i.value.expandTrigger==="hover"),p=F(()=>e.renderLabel||n.default),v=()=>{const{options:A}=e,N=i.value;r=!1,o=new fG(A,N),c.value=[o.getNodes()],N.lazy&&Ms(e.options)?(s.value=!1,g(void 0,L=>{L&&(o=new fG(L,N),c.value=[o.getNodes()]),s.value=!0,k(!1,!0)})):k(!1,!0)},g=(A,N)=>{const L=i.value;A=A||new IO({},L,void 0,!0),A.loading=!0;const R=D=>{const P=A,O=P.root?null:P;D&&(o==null||o.appendNodes(D,O)),P.loading=!1,P.loaded=!0,P.childrenData=P.childrenData||[],N&&N(D)};L.lazyLoad(A,R)},m=(A,N)=>{var L;const{level:R}=A,D=c.value.slice(0,R);let P;A.isLeaf?P=A.pathNodes[R-2]:(P=A,D.push(A.children)),((L=f.value)==null?void 0:L.uid)!==(P==null?void 0:P.uid)&&(f.value=A,c.value=D,!N&&t("expand-change",(A==null?void 0:A.pathValues)||[]))},y=(A,N,L=!0)=>{const{checkStrictly:R,multiple:D}=i.value,P=d.value[0];r=!0,!D&&(P==null||P.doCheck(!1)),A.doCheck(N),C(),L&&!D&&!R&&t("close"),!L&&!D&&!R&&b(A)},b=A=>{A&&(A=A.parent,b(A),A&&m(A))},x=A=>o==null?void 0:o.getFlattedNodes(A),_=A=>{var N;return(N=x(A))==null?void 0:N.filter(L=>L.checked!==!1)},S=()=>{d.value.forEach(A=>A.doCheck(!1)),C(),c.value=c.value.slice(0,1),f.value=null,t("expand-change",[])},C=()=>{var A;const{checkStrictly:N,multiple:L}=i.value,R=d.value,D=_(!N),P=$Le(R,D),O=P.map(M=>M.valueByOption);d.value=P,u.value=L?O:(A=O[0])!=null?A:null},k=(A=!1,N=!1)=>{const{modelValue:L}=e,{lazy:R,multiple:D,checkStrictly:P}=i.value,O=!P;if(!(!s.value||r||!N&&Ci(L,u.value)))if(R&&!A){const W=hG(SIe(Go(L))).map(U=>o==null?void 0:o.getNodeByValue(U)).filter(U=>!!U&&!U.loaded&&!U.loading);W.length?W.forEach(U=>{g(U,()=>k(!1,N))}):k(!0,N)}else{const M=D?Go(L):[L],W=hG(M.map(U=>o==null?void 0:o.getNodeByValue(U,O)));T(W,N),u.value=Yk(L)}},T=(A,N=!0)=>{const{checkStrictly:L}=i.value,R=d.value,D=A.filter(M=>!!M&&(L||M.isLeaf)),P=o==null?void 0:o.getSameNode(f.value),O=N&&P||D[0];O?O.pathNodes.forEach(M=>m(M,!0)):f.value=null,R.forEach(M=>M.doCheck(!1)),Ln(D).forEach(M=>M.doCheck(!0)),d.value=D,xt(E)},E=()=>{wn&&l.value.forEach(A=>{const N=A==null?void 0:A.$el;if(N){const L=N.querySelector(`.${a.namespace.value}-scrollbar__wrap`),R=N.querySelector(`.${a.b("node")}.${a.is("active")}`)||N.querySelector(`.${a.b("node")}.in-active-path`);tB(L,R)}})},I=A=>{const N=A.target,{code:L}=A;switch(L){case lt.up:case lt.down:{A.preventDefault();const R=L===lt.up?-1:1;$T(nae(N,R,`.${a.b("node")}[tabindex="-1"]`));break}case lt.left:{A.preventDefault();const R=l.value[dG(N)-1],D=R==null?void 0:R.$el.querySelector(`.${a.b("node")}[aria-expanded="true"]`);$T(D);break}case lt.right:{A.preventDefault();const R=l.value[dG(N)+1],D=R==null?void 0:R.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`);$T(D);break}case lt.enter:case lt.numpadEnter:MLe(N);break}};return hn(SB,Ln({config:i,expandingNode:f,checkedNodes:d,isHoverMenu:h,initialLoaded:s,renderLabelFn:p,lazyLoad:g,expandNode:m,handleCheckChange:y})),Le([i,()=>e.options],v,{deep:!0,immediate:!0}),Le(()=>e.modelValue,()=>{r=!1,k()},{deep:!0}),Le(()=>u.value,A=>{Ci(A,e.modelValue)||(t(Ht,A),t(Qn,A))}),E4(()=>l.value=[]),zt(()=>!Ms(e.modelValue)&&k()),{ns:a,menuList:l,menus:c,checkedNodes:d,handleKeyDown:I,handleCheckChange:y,getFlattedNodes:x,getCheckedNodes:_,clearCheckedNodes:S,calculateCheckedValue:C,scrollToExpandingNode:E}}});function OLe(e,t,n,r,a,i){const o=Ft("el-cascader-menu");return z(),q("div",{class:G([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(z(!0),q(vt,null,un(e.menus,(s,l)=>(z(),Ae(o,{key:l,ref_for:!0,ref:u=>e.menuList[l]=u,index:l,nodes:[...s]},{empty:fe(()=>[Se(e.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var PLe=Ze(LLe,[["render",OLe],["__file","index.vue"]]);const Xae=Bt(PLe),Hf=je({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:qc},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),FLe={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},BLe=se({name:"ElTag"}),VLe=se({...BLe,props:Hf,emits:FLe,setup(e,{emit:t}){const n=e,r=pa(),a=ze("tag"),i=F(()=>{const{type:u,hit:c,effect:f,closable:d,round:h}=n;return[a.b(),a.is("closable",d),a.m(u||"primary"),a.m(r.value),a.m(f),a.is("hit",c),a.is("round",h)]}),o=u=>{t("close",u)},s=u=>{t("click",u)},l=u=>{var c,f,d;(d=(f=(c=u==null?void 0:u.component)==null?void 0:c.subTree)==null?void 0:f.component)!=null&&d.bum&&(u.component.subTree.component.bum=null)};return(u,c)=>u.disableTransitions?(z(),q("span",{key:0,class:G(w(i)),style:yt({backgroundColor:u.color}),onClick:s},[Z("span",{class:G(w(a).e("content"))},[Se(u.$slots,"default")],2),u.closable?(z(),Ae(w(pt),{key:0,class:G(w(a).e("close")),onClick:At(o,["stop"])},{default:fe(()=>[ie(w(Ru))]),_:1},8,["class","onClick"])):Te("v-if",!0)],6)):(z(),Ae(hi,{key:1,name:`${w(a).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:fe(()=>[Z("span",{class:G(w(i)),style:yt({backgroundColor:u.color}),onClick:s},[Z("span",{class:G(w(a).e("content"))},[Se(u.$slots,"default")],2),u.closable?(z(),Ae(w(pt),{key:0,class:G(w(a).e("close")),onClick:At(o,["stop"])},{default:fe(()=>[ie(w(Ru))]),_:1},8,["class","onClick"])):Te("v-if",!0)],6)]),_:3},8,["name"]))}});var zLe=Ze(VLe,[["__file","tag.vue"]]);const ny=Bt(zLe),WLe=je({...Yae,size:xa,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:be(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:be(Function),default:()=>!0},placement:{type:be(String),values:ud,default:"bottom-start"},fallbackPlacements:{type:be(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Ja.teleported,tagType:{...Hf.type,default:"info"},tagEffect:{...Hf.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Uy}),HLe={[Ht]:e=>!0,[Qn]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>lr(e),expandChange:e=>!!e,removeTag:e=>!!e},$d=new Map;if(wn){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of $d.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function pG(e,t){let n=[];return Ke(t.arg)?n=t.arg:Hs(t.arg)&&n.push(t.arg),function(r,a){const i=t.instance.popperRef,o=r.target,s=a==null?void 0:a.target,l=!t||!t.instance,u=!o||!s,c=e.contains(o)||e.contains(s),f=e===o,d=n.length&&n.some(p=>p==null?void 0:p.contains(o))||n.length&&n.includes(s),h=i&&(i.contains(o)||i.contains(s));l||u||c||f||d||h||t.value(r,a)}}const Uf={beforeMount(e,t){$d.has(e)||$d.set(e,[]),$d.get(e).push({documentHandler:pG(e,t),bindingFn:t.value})},updated(e,t){$d.has(e)||$d.set(e,[]);const n=$d.get(e),r=n.findIndex(i=>i.bindingFn===t.oldValue),a={documentHandler:pG(e,t),bindingFn:t.value};r>=0?n.splice(r,1,a):n.push(a)},unmounted(e){$d.delete(e)}},ULe="ElCascader",GLe=se({name:ULe}),KLe=se({...GLe,props:WLe,emits:HLe,setup(e,{expose:t,emit:n}){const r=e,a={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:_e})=>{const{modifiersData:We,placement:de}=_e;["right","left","bottom","top"].includes(de)||(We.arrow.x=35)},requires:["arrow"]}]},i=qh();let o=0,s=0;const l=ze("cascader"),u=ze("input"),{t:c}=_n(),{form:f,formItem:d}=Xi(),{valueOnClear:h}=mA(r),{isComposing:p,handleComposition:v}=k_({afterComposition(_e){var We;const de=(We=_e.target)==null?void 0:We.value;Ne(de)}}),g=Y(null),m=Y(null),y=Y(null),b=Y(null),x=Y(null),_=Y(!1),S=Y(!1),C=Y(!1),k=Y(!1),T=Y(""),E=Y(""),I=Y([]),A=Y([]),N=Y([]),L=F(()=>i.style),R=F(()=>r.disabled||(f==null?void 0:f.disabled)),D=F(()=>r.placeholder||c("el.cascader.placeholder")),P=F(()=>E.value||I.value.length>0||p.value?"":D.value),O=pa(),M=F(()=>O.value==="small"?"small":"default"),W=F(()=>!!r.props.multiple),U=F(()=>!r.filterable||W.value),V=F(()=>W.value?E.value:T.value),H=F(()=>{var _e;return((_e=b.value)==null?void 0:_e.checkedNodes)||[]}),K=F(()=>!r.clearable||R.value||C.value||!S.value?!1:!!H.value.length),j=F(()=>{const{showAllLevels:_e,separator:We}=r,de=H.value;return de.length?W.value?"":de[0].calcText(_e,We):""}),ne=F(()=>(d==null?void 0:d.validateState)||""),Q=F({get(){return Yk(r.modelValue)},set(_e){const We=_e??h.value;n(Ht,We),n(Qn,We),r.validateEvent&&(d==null||d.validate("change").catch(de=>void 0))}}),oe=F(()=>[l.b(),l.m(O.value),l.is("disabled",R.value),i.class]),ae=F(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",_.value)]),me=F(()=>l.is("focus",_.value||k.value)),ve=F(()=>{var _e,We;return(We=(_e=g.value)==null?void 0:_e.popperRef)==null?void 0:We.contentRef}),B=_e=>{var We,de,ft;R.value||(_e=_e??!_.value,_e!==_.value&&(_.value=_e,(de=(We=m.value)==null?void 0:We.input)==null||de.setAttribute("aria-expanded",`${_e}`),_e?(re(),xt((ft=b.value)==null?void 0:ft.scrollToExpandingNode)):r.filterable&&Re(),n("visibleChange",_e)))},re=()=>{xt(()=>{var _e;(_e=g.value)==null||_e.updatePopper()})},ge=()=>{C.value=!1},Ie=_e=>{const{showAllLevels:We,separator:de}=r;return{node:_e,key:_e.uid,text:_e.calcText(We,de),hitState:!1,closable:!R.value&&!_e.isDisabled,isCollapseTag:!1}},Ce=_e=>{var We;const de=_e.node;de.doCheck(!1),(We=b.value)==null||We.calculateCheckedValue(),n("removeTag",de.valueByOption)},he=()=>{if(!W.value)return;const _e=H.value,We=[],de=[];if(_e.forEach(ft=>de.push(Ie(ft))),A.value=de,_e.length){_e.slice(0,r.maxCollapseTags).forEach(cn=>We.push(Ie(cn)));const ft=_e.slice(r.maxCollapseTags),Gt=ft.length;Gt&&(r.collapseTags?We.push({key:-1,text:`+ ${Gt}`,closable:!1,isCollapseTag:!0}):ft.forEach(cn=>We.push(Ie(cn))))}I.value=We},J=()=>{var _e,We;const{filterMethod:de,showAllLevels:ft,separator:Gt}=r,cn=(We=(_e=b.value)==null?void 0:_e.getFlattedNodes(!r.props.checkStrictly))==null?void 0:We.filter(ir=>ir.isDisabled?!1:(ir.calcText(ft,Gt),de(ir,V.value)));W.value&&(I.value.forEach(ir=>{ir.hitState=!1}),A.value.forEach(ir=>{ir.hitState=!1})),C.value=!0,N.value=cn,re()},te=()=>{var _e;let We;C.value&&x.value?We=x.value.$el.querySelector(`.${l.e("suggestion-item")}`):We=(_e=b.value)==null?void 0:_e.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),We&&(We.focus(),!C.value&&We.click())},xe=()=>{var _e,We;const de=(_e=m.value)==null?void 0:_e.input,ft=y.value,Gt=(We=x.value)==null?void 0:We.$el;if(!(!wn||!de)){if(Gt){const cn=Gt.querySelector(`.${l.e("suggestion-list")}`);cn.style.minWidth=`${de.offsetWidth}px`}if(ft){const{offsetHeight:cn}=ft,ir=I.value.length>0?`${Math.max(cn,o)-2}px`:`${o}px`;de.style.height=ir,re()}}},Ee=_e=>{var We;return(We=b.value)==null?void 0:We.getCheckedNodes(_e)},Qe=_e=>{re(),n("expandChange",_e)},Be=_e=>{if(!p.value)switch(_e.code){case lt.enter:case lt.numpadEnter:B();break;case lt.down:B(!0),xt(te),_e.preventDefault();break;case lt.esc:_.value===!0&&(_e.preventDefault(),_e.stopPropagation(),B(!1));break;case lt.tab:B(!1);break}},ce=()=>{var _e;(_e=b.value)==null||_e.clearCheckedNodes(),!_.value&&r.filterable&&Re(),B(!1),n("clear")},Re=()=>{const{value:_e}=j;T.value=_e,E.value=_e},ct=_e=>{var We,de;const{checked:ft}=_e;W.value?(We=b.value)==null||We.handleCheckChange(_e,!ft,!1):(!ft&&((de=b.value)==null||de.handleCheckChange(_e,!0,!1)),B(!1))},It=_e=>{const We=_e.target,{code:de}=_e;switch(de){case lt.up:case lt.down:{const ft=de===lt.up?-1:1;$T(nae(We,ft,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case lt.enter:case lt.numpadEnter:We.click();break}},wt=()=>{const _e=I.value,We=_e[_e.length-1];s=E.value?0:s+1,!(!We||!s||r.collapseTags&&_e.length>1)&&(We.hitState?Ce(We):We.hitState=!0)},Qt=_e=>{const We=_e.target,de=l.e("search-input");We.className===de&&(k.value=!0),n("focus",_e)},_t=_e=>{k.value=!1,n("blur",_e)},ln=Cs(()=>{const{value:_e}=V;if(!_e)return;const We=r.beforeFilter(_e);Fx(We)?We.then(J).catch(()=>{}):We!==!1?J():ge()},r.debounce),Ne=(_e,We)=>{!_.value&&B(!0),!(We!=null&&We.isComposing)&&(_e?ln():ge())},nt=_e=>Number.parseFloat(aEe(u.cssVarName("input-height"),_e).value)-2;return Le(C,re),Le([H,R,()=>r.collapseTags],he),Le(I,()=>{xt(()=>xe())}),Le(O,async()=>{await xt();const _e=m.value.input;o=nt(_e)||o,xe()}),Le(j,Re,{immediate:!0}),zt(()=>{const _e=m.value.input,We=nt(_e);o=_e.offsetHeight||We,Mr(_e,xe)}),t({getCheckedNodes:Ee,cascaderPanelRef:b,togglePopperVisible:B,contentRef:ve,presentText:j}),(_e,We)=>(z(),Ae(w(Hi),{ref_key:"tooltipRef",ref:g,visible:_.value,teleported:_e.teleported,"popper-class":[w(l).e("dropdown"),_e.popperClass],"popper-options":a,"fallback-placements":_e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:_e.placement,transition:`${w(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:_e.persistent,onHide:ge},{default:fe(()=>[Vt((z(),q("div",{class:G(w(oe)),style:yt(w(L)),onClick:()=>B(w(U)?void 0:!0),onKeydown:Be,onMouseenter:de=>S.value=!0,onMouseleave:de=>S.value=!1},[ie(w(mo),{ref_key:"input",ref:m,modelValue:T.value,"onUpdate:modelValue":de=>T.value=de,placeholder:w(P),readonly:w(U),disabled:w(R),"validate-event":!1,size:w(O),class:G(w(me)),tabindex:w(W)&&_e.filterable&&!w(R)?-1:void 0,onCompositionstart:w(v),onCompositionupdate:w(v),onCompositionend:w(v),onFocus:Qt,onBlur:_t,onInput:Ne},{suffix:fe(()=>[w(K)?(z(),Ae(w(pt),{key:"clear",class:G([w(u).e("icon"),"icon-circle-close"]),onClick:At(ce,["stop"])},{default:fe(()=>[ie(w(ld))]),_:1},8,["class","onClick"])):(z(),Ae(w(pt),{key:"arrow-down",class:G(w(ae)),onClick:At(de=>B(),["stop"])},{default:fe(()=>[ie(w(Zc))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),w(W)?(z(),q("div",{key:0,ref_key:"tagWrapper",ref:y,class:G([w(l).e("tags"),w(l).is("validate",!!w(ne))])},[(z(!0),q(vt,null,un(I.value,de=>(z(),Ae(w(ny),{key:de.key,type:_e.tagType,size:w(M),effect:_e.tagEffect,hit:de.hitState,closable:de.closable,"disable-transitions":"",onClose:ft=>Ce(de)},{default:fe(()=>[de.isCollapseTag===!1?(z(),q("span",{key:0},Ve(de.text),1)):(z(),Ae(w(Hi),{key:1,disabled:_.value||!_e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:fe(()=>[Z("span",null,Ve(de.text),1)]),content:fe(()=>[Z("div",{class:G(w(l).e("collapse-tags"))},[(z(!0),q(vt,null,un(A.value.slice(_e.maxCollapseTags),(ft,Gt)=>(z(),q("div",{key:Gt,class:G(w(l).e("collapse-tag"))},[(z(),Ae(w(ny),{key:ft.key,class:"in-tooltip",type:_e.tagType,size:w(M),effect:_e.tagEffect,hit:ft.hitState,closable:ft.closable,"disable-transitions":"",onClose:cn=>Ce(ft)},{default:fe(()=>[Z("span",null,Ve(ft.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),_e.filterable&&!w(R)?Vt((z(),q("input",{key:0,"onUpdate:modelValue":de=>E.value=de,type:"text",class:G(w(l).e("search-input")),placeholder:w(j)?"":w(D),onInput:de=>Ne(E.value,de),onClick:At(de=>B(!0),["stop"]),onKeydown:rr(wt,["delete"]),onCompositionstart:w(v),onCompositionupdate:w(v),onCompositionend:w(v),onFocus:Qt,onBlur:_t},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[lA,E.value]]):Te("v-if",!0)],2)):Te("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[w(Uf),()=>B(!1),w(ve)]])]),content:fe(()=>[Vt(ie(w(Xae),{ref_key:"cascaderPanelRef",ref:b,modelValue:w(Q),"onUpdate:modelValue":de=>vr(Q)?Q.value=de:null,options:_e.options,props:r.props,border:!1,"render-label":_e.$slots.default,onExpandChange:Qe,onClose:de=>_e.$nextTick(()=>B(!1))},{empty:fe(()=>[Se(_e.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[En,!C.value]]),_e.filterable?Vt((z(),Ae(w(Jc),{key:0,ref_key:"suggestionPanel",ref:x,tag:"ul",class:G(w(l).e("suggestion-panel")),"view-class":w(l).e("suggestion-list"),onKeydown:It},{default:fe(()=>[N.value.length?(z(!0),q(vt,{key:0},un(N.value,de=>(z(),q("li",{key:de.uid,class:G([w(l).e("suggestion-item"),w(l).is("checked",de.checked)]),tabindex:-1,onClick:ft=>ct(de)},[Z("span",null,Ve(de.text),1),de.checked?(z(),Ae(w(pt),{key:0},{default:fe(()=>[ie(w(C_))]),_:1})):Te("v-if",!0)],10,["onClick"]))),128)):Se(_e.$slots,"empty",{key:1},()=>[Z("li",{class:G(w(l).e("empty-text"))},Ve(w(c)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[En,C.value]]):Te("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var jLe=Ze(KLe,[["__file","cascader.vue"]]);const YLe=Bt(jLe),XLe=je({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),qLe={"update:checked":e=>lr(e),[Qn]:e=>lr(e)},ZLe=se({name:"ElCheckTag"}),JLe=se({...ZLe,props:XLe,emits:qLe,setup(e,{emit:t}){const n=e,r=ze("check-tag"),a=F(()=>n.disabled),i=F(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",a.value),r.m(n.type||"primary")]),o=()=>{if(a.value)return;const s=!n.checked;t(Qn,s),t("update:checked",s)};return(s,l)=>(z(),q("span",{class:G(w(i)),onClick:o},[Se(s.$slots,"default")],2))}});var QLe=Ze(JLe,[["__file","check-tag.vue"]]);const eOe=Bt(QLe),tOe=je({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:be([Number,Object]),default:()=>zr({})},sm:{type:be([Number,Object]),default:()=>zr({})},md:{type:be([Number,Object]),default:()=>zr({})},lg:{type:be([Number,Object]),default:()=>zr({})},xl:{type:be([Number,Object]),default:()=>zr({})}}),qae=Symbol("rowContextKey"),nOe=se({name:"ElCol"}),rOe=se({...nOe,props:tOe,setup(e){const t=e,{gutter:n}=ht(qae,{gutter:F(()=>0)}),r=ze("col"),a=F(()=>{const o={};return n.value&&(o.paddingLeft=o.paddingRight=`${n.value/2}px`),o}),i=F(()=>{const o=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];Tt(c)&&(u==="span"?o.push(r.b(`${t[u]}`)):c>0&&o.push(r.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Tt(t[u])?o.push(r.b(`${u}-${t[u]}`)):qt(t[u])&&Object.entries(t[u]).forEach(([c,f])=>{o.push(c!=="span"?r.b(`${u}-${c}-${f}`):r.b(`${u}-${f}`))})}),n.value&&o.push(r.is("guttered")),[r.b(),o]});return(o,s)=>(z(),Ae(tn(o.tag),{class:G(w(i)),style:yt(w(a))},{default:fe(()=>[Se(o.$slots,"default")]),_:3},8,["class","style"]))}});var aOe=Ze(rOe,[["__file","col.vue"]]);const iOe=Bt(aOe),vG=e=>Tt(e)||gt(e)||Ke(e),oOe=je({accordion:Boolean,modelValue:{type:be([Array,String,Number]),default:()=>zr([])}}),sOe={[Ht]:vG,[Qn]:vG},Zae=Symbol("collapseContextKey"),lOe=(e,t)=>{const n=Y(ho(e.modelValue)),r=i=>{n.value=i;const o=e.accordion?n.value[0]:n.value;t(Ht,o),t(Qn,o)},a=i=>{if(e.accordion)r([n.value[0]===i?"":i]);else{const o=[...n.value],s=o.indexOf(i);s>-1?o.splice(s,1):o.push(i),r(o)}};return Le(()=>e.modelValue,()=>n.value=ho(e.modelValue),{deep:!0}),hn(Zae,{activeNames:n,handleItemClick:a}),{activeNames:n,setActiveNames:r}},uOe=()=>{const e=ze("collapse");return{rootKls:F(()=>e.b())}},cOe=se({name:"ElCollapse"}),fOe=se({...cOe,props:oOe,emits:sOe,setup(e,{expose:t,emit:n}){const r=e,{activeNames:a,setActiveNames:i}=lOe(r,n),{rootKls:o}=uOe();return t({activeNames:a,setActiveNames:i}),(s,l)=>(z(),q("div",{class:G(w(o))},[Se(s.$slots,"default")],2))}});var dOe=Ze(fOe,[["__file","collapse.vue"]]);const hOe=se({name:"ElCollapseTransition"}),pOe=se({...hOe,setup(e){const t=ze("collapse-transition"),n=a=>{a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom},r={beforeEnter(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.style.height&&(a.dataset.elExistsHeight=a.style.height),a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0},enter(a){requestAnimationFrame(()=>{a.dataset.oldOverflow=a.style.overflow,a.dataset.elExistsHeight?a.style.maxHeight=a.dataset.elExistsHeight:a.scrollHeight!==0?a.style.maxHeight=`${a.scrollHeight}px`:a.style.maxHeight=0,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom,a.style.overflow="hidden"})},afterEnter(a){a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow},enterCancelled(a){n(a)},beforeLeave(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.dataset.oldOverflow=a.style.overflow,a.style.maxHeight=`${a.scrollHeight}px`,a.style.overflow="hidden"},leave(a){a.scrollHeight!==0&&(a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0)},afterLeave(a){n(a)},leaveCancelled(a){n(a)}};return(a,i)=>(z(),Ae(hi,rn({name:w(t).b()},Kwe(r)),{default:fe(()=>[Se(a.$slots,"default")]),_:3},16,["name"]))}});var vOe=Ze(pOe,[["__file","collapse-transition.vue"]]);const IA=Bt(vOe),gOe=je({title:{type:String,default:""},name:{type:be([String,Number]),default:void 0},icon:{type:er,default:Yo},disabled:Boolean}),mOe=e=>{const t=ht(Zae),{namespace:n}=ze("collapse"),r=Y(!1),a=Y(!1),i=lB(),o=F(()=>i.current++),s=F(()=>{var d;return(d=e.name)!=null?d:`${n.value}-id-${i.prefix}-${w(o)}`}),l=F(()=>t==null?void 0:t.activeNames.value.includes(w(s)));return{focusing:r,id:o,isActive:l,handleFocus:()=>{setTimeout(()=>{a.value?a.value=!1:r.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(w(s)),r.value=!1,a.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(w(s))}}},yOe=(e,{focusing:t,isActive:n,id:r})=>{const a=ze("collapse"),i=F(()=>[a.b("item"),a.is("active",w(n)),a.is("disabled",e.disabled)]),o=F(()=>[a.be("item","header"),a.is("active",w(n)),{focusing:w(t)&&!e.disabled}]),s=F(()=>[a.be("item","arrow"),a.is("active",w(n))]),l=F(()=>a.be("item","wrap")),u=F(()=>a.be("item","content")),c=F(()=>a.b(`content-${w(r)}`)),f=F(()=>a.b(`head-${w(r)}`));return{arrowKls:s,headKls:o,rootKls:i,itemWrapperKls:l,itemContentKls:u,scopedContentId:c,scopedHeadId:f}},bOe=se({name:"ElCollapseItem"}),xOe=se({...bOe,props:gOe,setup(e,{expose:t}){const n=e,{focusing:r,id:a,isActive:i,handleFocus:o,handleHeaderClick:s,handleEnterClick:l}=mOe(n),{arrowKls:u,headKls:c,rootKls:f,itemWrapperKls:d,itemContentKls:h,scopedContentId:p,scopedHeadId:v}=yOe(n,{focusing:r,isActive:i,id:a});return t({isActive:i}),(g,m)=>(z(),q("div",{class:G(w(f))},[Z("button",{id:w(v),class:G(w(c)),"aria-expanded":w(i),"aria-controls":w(p),"aria-describedby":w(p),tabindex:g.disabled?-1:0,type:"button",onClick:w(s),onKeydown:rr(At(w(l),["stop","prevent"]),["space","enter"]),onFocus:w(o),onBlur:y=>r.value=!1},[Se(g.$slots,"title",{},()=>[Kt(Ve(g.title),1)]),Se(g.$slots,"icon",{isActive:w(i)},()=>[ie(w(pt),{class:G(w(u))},{default:fe(()=>[(z(),Ae(tn(g.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),ie(w(IA),null,{default:fe(()=>[Vt(Z("div",{id:w(p),role:"region",class:G(w(d)),"aria-hidden":!w(i),"aria-labelledby":w(v)},[Z("div",{class:G(w(h))},[Se(g.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[En,w(i)]])]),_:3})],2))}});var Jae=Ze(xOe,[["__file","collapse-item.vue"]]);const wOe=Bt(dOe,{CollapseItem:Jae}),_Oe=Ur(Jae),SOe=je({color:{type:be(Object),required:!0},vertical:{type:Boolean,default:!1}});let RR=!1;function tw(e,t){if(!wn)return;const n=function(i){var o;(o=t.drag)==null||o.call(t,i)},r=function(i){var o;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,RR=!1,(o=t.end)==null||o.call(t,i)},a=function(i){var o;RR||(i.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),RR=!0,(o=t.start)==null||o.call(t,i))};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a,{passive:!1})}const COe=(e,t)=>{if(!wn||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},gG=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},DO=(e,t)=>Math.abs(gG(e)-gG(t)),TB=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},TOe=e=>{const t=jt(),{t:n}=_n(),r=dr(),a=dr(),i=F(()=>e.color.get("alpha")),o=F(()=>n("el.colorpicker.alphaLabel"));function s(f){var d;f.target!==r.value&&l(f),(d=r.value)==null||d.focus()}function l(f){if(!a.value||!r.value)return;const h=t.vnode.el.getBoundingClientRect(),{clientX:p,clientY:v}=TB(f);if(e.vertical){let g=v-h.top;g=Math.max(r.value.offsetHeight/2,g),g=Math.min(g,h.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((g-r.value.offsetHeight/2)/(h.height-r.value.offsetHeight)*100))}else{let g=p-h.left;g=Math.max(r.value.offsetWidth/2,g),g=Math.min(g,h.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((g-r.value.offsetWidth/2)/(h.width-r.value.offsetWidth)*100))}}function u(f){const{code:d,shiftKey:h}=f,p=h?10:1;switch(d){case lt.left:case lt.down:f.preventDefault(),f.stopPropagation(),c(-p);break;case lt.right:case lt.up:f.preventDefault(),f.stopPropagation(),c(p);break}}function c(f){let d=i.value+f;d=d<0?0:d>100?100:d,e.color.set("alpha",d)}return{thumb:r,bar:a,alpha:i,alphaLabel:o,handleDrag:l,handleClick:s,handleKeydown:u}},kOe=(e,{bar:t,thumb:n,handleDrag:r})=>{const a=jt(),i=ze("color-alpha-slider"),o=Y(0),s=Y(0),l=Y();function u(){if(!n.value||e.vertical)return 0;const y=a.vnode.el,b=e.color.get("alpha");return y?Math.round(b*(y.offsetWidth-n.value.offsetWidth/2)/100):0}function c(){if(!n.value)return 0;const y=a.vnode.el;if(!e.vertical)return 0;const b=e.color.get("alpha");return y?Math.round(b*(y.offsetHeight-n.value.offsetHeight/2)/100):0}function f(){if(e.color&&e.color.value){const{r:y,g:b,b:x}=e.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${b}, ${x}, 0) 0%, rgba(${y}, ${b}, ${x}, 1) 100%)`}return""}function d(){o.value=u(),s.value=c(),l.value=f()}zt(()=>{if(!t.value||!n.value)return;const y={drag:b=>{r(b)},end:b=>{r(b)}};tw(t.value,y),tw(n.value,y),d()}),Le(()=>e.color.get("alpha"),()=>d()),Le(()=>e.color.value,()=>d());const h=F(()=>[i.b(),i.is("vertical",e.vertical)]),p=F(()=>i.e("bar")),v=F(()=>i.e("thumb")),g=F(()=>({background:l.value})),m=F(()=>({left:ta(o.value),top:ta(s.value)}));return{rootKls:h,barKls:p,barStyle:g,thumbKls:v,thumbStyle:m,update:d}},IOe="ElColorAlphaSlider",EOe=se({name:IOe}),AOe=se({...EOe,props:SOe,setup(e,{expose:t}){const n=e,{alpha:r,alphaLabel:a,bar:i,thumb:o,handleDrag:s,handleClick:l,handleKeydown:u}=TOe(n),{rootKls:c,barKls:f,barStyle:d,thumbKls:h,thumbStyle:p,update:v}=kOe(n,{bar:i,thumb:o,handleDrag:s});return t({update:v,bar:i,thumb:o}),(g,m)=>(z(),q("div",{class:G(w(c))},[Z("div",{ref_key:"bar",ref:i,class:G(w(f)),style:yt(w(d)),onClick:w(l)},null,14,["onClick"]),Z("div",{ref_key:"thumb",ref:o,class:G(w(h)),style:yt(w(p)),"aria-label":w(a),"aria-valuenow":w(r),"aria-orientation":g.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:w(u)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var DOe=Ze(AOe,[["__file","alpha-slider.vue"]]);const NOe=se({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=ze("color-hue-slider"),n=jt(),r=Y(),a=Y(),i=Y(0),o=Y(0),s=F(()=>e.color.get("hue"));Le(()=>s.value,()=>{d()});function l(h){h.target!==r.value&&u(h)}function u(h){if(!a.value||!r.value)return;const v=n.vnode.el.getBoundingClientRect(),{clientX:g,clientY:m}=TB(h);let y;if(e.vertical){let b=m-v.top;b=Math.min(b,v.height-r.value.offsetHeight/2),b=Math.max(r.value.offsetHeight/2,b),y=Math.round((b-r.value.offsetHeight/2)/(v.height-r.value.offsetHeight)*360)}else{let b=g-v.left;b=Math.min(b,v.width-r.value.offsetWidth/2),b=Math.max(r.value.offsetWidth/2,b),y=Math.round((b-r.value.offsetWidth/2)/(v.width-r.value.offsetWidth)*360)}e.color.set("hue",y)}function c(){if(!r.value)return 0;const h=n.vnode.el;if(e.vertical)return 0;const p=e.color.get("hue");return h?Math.round(p*(h.offsetWidth-r.value.offsetWidth/2)/360):0}function f(){if(!r.value)return 0;const h=n.vnode.el;if(!e.vertical)return 0;const p=e.color.get("hue");return h?Math.round(p*(h.offsetHeight-r.value.offsetHeight/2)/360):0}function d(){i.value=c(),o.value=f()}return zt(()=>{if(!a.value||!r.value)return;const h={drag:p=>{u(p)},end:p=>{u(p)}};tw(a.value,h),tw(r.value,h),d()}),{bar:a,thumb:r,thumbLeft:i,thumbTop:o,hueValue:s,handleClick:l,update:d,ns:t}}});function ROe(e,t,n,r,a,i){return z(),q("div",{class:G([e.ns.b(),e.ns.is("vertical",e.vertical)])},[Z("div",{ref:"bar",class:G(e.ns.e("bar")),onClick:e.handleClick},null,10,["onClick"]),Z("div",{ref:"thumb",class:G(e.ns.e("thumb")),style:yt({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var MOe=Ze(NOe,[["render",ROe],["__file","hue-slider.vue"]]);const $Oe=je({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:xa,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Ja.teleported,predefine:{type:be(Array)},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),LOe={[Ht]:e=>gt(e)||Ua(e),[Qn]:e=>gt(e)||Ua(e),activeChange:e=>gt(e)||Ua(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},Qae=Symbol("colorPickerContextKey"),mG=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},OOe=function(e){return gt(e)&&e.includes(".")&&Number.parseFloat(e)===1},POe=function(e){return gt(e)&&e.includes("%")},Im=function(e,t){OOe(e)&&(e="100%");const n=POe(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},yG={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},FT=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return`${yG[t]||t}${yG[n]||n}`},bG=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":`#${FT(e)}${FT(t)}${FT(n)}`},MR={A:10,B:11,C:12,D:13,E:14,F:15},Tp=function(e){return e.length===2?(MR[e[0].toUpperCase()]||+e[0])*16+(MR[e[1].toUpperCase()]||+e[1]):MR[e[1].toUpperCase()]||+e[1]},FOe=function(e,t,n){t=t/100,n=n/100;let r=t;const a=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,r*=a<=1?a:2-a;const i=(n+t)/2,o=n===0?2*r/(a+r):2*t/(n+t);return{h:e,s:o*100,v:i*100}},xG=(e,t,n)=>{e=Im(e,255),t=Im(t,255),n=Im(n,255);const r=Math.max(e,t,n),a=Math.min(e,t,n);let i;const o=r,s=r-a,l=r===0?0:s/r;if(r===a)i=0;else{switch(r){case e:{i=(t-n)/s+(t<n?6:0);break}case t:{i=(n-e)/s+2;break}case n:{i=(e-t)/s+4;break}}i/=6}return{h:i*360,s:l*100,v:o*100}},V1=function(e,t,n){e=Im(e,360)*6,t=Im(t,100),n=Im(n,100);const r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),l=r%6,u=[n,o,i,i,s,n][l],c=[s,n,n,o,i,i][l],f=[i,i,s,n,n,o][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(f*255)}};class ox{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in t)Dn(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)Dn(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return V1(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,a,i)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,i)),this.doOnChange()};if(t.includes("hsl")){const r=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:a,s:i,v:o}=FOe(r[0],r[1],r[2]);n(a,i,o)}}else if(t.includes("hsv")){const r=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(t.includes("rgb")){const r=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:a,s:i,v:o}=xG(r[0],r[1],r[2]);n(a,i,o)}}else if(t.includes("#")){const r=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let a,i,o;r.length===3?(a=Tp(r[0]+r[0]),i=Tp(r[1]+r[1]),o=Tp(r[2]+r[2])):(r.length===6||r.length===8)&&(a=Tp(r.slice(0,2)),i=Tp(r.slice(2,4)),o=Tp(r.slice(4,6))),r.length===8?this._alpha=Tp(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:s,s:l,v:u}=xG(a,i,o);n(s,l,u)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:a,format:i}=this;if(this.enableAlpha)switch(i){case"hsl":{const o=mG(t,n/100,r/100);this.value=`hsla(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${bG(V1(t,n,r))}${FT(a*255/100)}`;break}default:{const{r:o,g:s,b:l}=V1(t,n,r);this.value=`rgba(${o}, ${s}, ${l}, ${this.get("alpha")/100})`}}else switch(i){case"hsl":{const o=mG(t,n/100,r/100);this.value=`hsl(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:o,g:s,b:l}=V1(t,n,r);this.value=`rgb(${o}, ${s}, ${l})`;break}default:this.value=bG(V1(t,n,r))}}}const BOe=se({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(e){const t=ze("color-predefine"),{currentColor:n}=ht(Qae),r=Y(i(e.colors,e.color));Le(()=>n.value,o=>{const s=new ox;s.fromString(o),r.value.forEach(l=>{l.selected=s.compare(l)})}),Pi(()=>{r.value=i(e.colors,e.color)});function a(o){e.color.fromString(e.colors[o])}function i(o,s){return o.map(l=>{const u=new ox;return u.enableAlpha=e.enableAlpha,u.format="rgba",u.fromString(l),u.selected=u.value===s.value,u})}return{rgbaColors:r,handleSelect:a,ns:t}}});function VOe(e,t,n,r,a,i){return z(),q("div",{class:G(e.ns.b())},[Z("div",{class:G(e.ns.e("colors"))},[(z(!0),q(vt,null,un(e.rgbaColors,(o,s)=>(z(),q("div",{key:e.colors[s],class:G([e.ns.e("color-selector"),e.ns.is("alpha",o._alpha<100),{selected:o.selected}]),onClick:l=>e.handleSelect(s)},[Z("div",{style:yt({backgroundColor:o.value})},null,4)],10,["onClick"]))),128))],2)],2)}var zOe=Ze(BOe,[["render",VOe],["__file","predefine.vue"]]);const WOe=se({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=ze("color-svpanel"),n=jt(),r=Y(0),a=Y(0),i=Y("hsl(0, 100%, 50%)"),o=F(()=>{const u=e.color.get("hue"),c=e.color.get("value");return{hue:u,value:c}});function s(){const u=e.color.get("saturation"),c=e.color.get("value"),f=n.vnode.el,{clientWidth:d,clientHeight:h}=f;a.value=u*d/100,r.value=(100-c)*h/100,i.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function l(u){const f=n.vnode.el.getBoundingClientRect(),{clientX:d,clientY:h}=TB(u);let p=d-f.left,v=h-f.top;p=Math.max(0,p),p=Math.min(p,f.width),v=Math.max(0,v),v=Math.min(v,f.height),a.value=p,r.value=v,e.color.set({saturation:p/f.width*100,value:100-v/f.height*100})}return Le(()=>o.value,()=>{s()}),zt(()=>{tw(n.vnode.el,{drag:u=>{l(u)},end:u=>{l(u)}}),s()}),{cursorTop:r,cursorLeft:a,background:i,colorValue:o,handleDrag:l,update:s,ns:t}}});function HOe(e,t,n,r,a,i){return z(),q("div",{class:G(e.ns.b()),style:yt({backgroundColor:e.background})},[Z("div",{class:G(e.ns.e("white"))},null,2),Z("div",{class:G(e.ns.e("black"))},null,2),Z("div",{class:G(e.ns.e("cursor")),style:yt({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},[Z("div")],6)],6)}var UOe=Ze(WOe,[["render",HOe],["__file","sv-panel.vue"]]);const GOe=se({name:"ElColorPicker"}),KOe=se({...GOe,props:$Oe,emits:LOe,setup(e,{expose:t,emit:n}){const r=e,{t:a}=_n(),i=ze("color"),{formItem:o}=Xi(),s=pa(),l=qi(),{inputId:u,isLabeledByFormItem:c}=Wl(r,{formItemContext:o}),f=Y(),d=Y(),h=Y(),p=Y(),v=Y(),g=Y(),{isFocused:m,handleFocus:y,handleBlur:b}=Jh(v,{beforeFocus(){return l.value},beforeBlur(ae){var me;return(me=p.value)==null?void 0:me.isFocusInsideContent(ae)},afterBlur(){R(!1),M()}});let x=!0;const _=Ln(new ox({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),S=Y(!1),C=Y(!1),k=Y(""),T=F(()=>!r.modelValue&&!C.value?"transparent":L(_,r.showAlpha)),E=F(()=>!r.modelValue&&!C.value?"":_.value),I=F(()=>c.value?void 0:r.ariaLabel||a("el.colorpicker.defaultLabel")),A=F(()=>c.value?o==null?void 0:o.labelId:void 0),N=F(()=>[i.b("picker"),i.is("disabled",l.value),i.bm("picker",s.value),i.is("focused",m.value)]);function L(ae,me){if(!(ae instanceof ox))throw new TypeError("color should be instance of _color Class");const{r:ve,g:B,b:re}=ae.toRgb();return me?`rgba(${ve}, ${B}, ${re}, ${ae.get("alpha")/100})`:`rgb(${ve}, ${B}, ${re})`}function R(ae){S.value=ae}const D=Cs(R,100,{leading:!0});function P(){l.value||R(!0)}function O(){D(!1),M()}function M(){xt(()=>{r.modelValue?_.fromString(r.modelValue):(_.value="",xt(()=>{C.value=!1}))})}function W(){l.value||D(!S.value)}function U(){_.fromString(k.value)}function V(){const ae=_.value;n(Ht,ae),n("change",ae),r.validateEvent&&(o==null||o.validate("change").catch(me=>void 0)),D(!1),xt(()=>{const me=new ox({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});_.compare(me)||M()})}function H(){D(!1),n(Ht,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(o==null||o.validate("change").catch(ae=>void 0)),M()}function K(){S.value&&(O(),m.value&&Q())}function j(ae){ae.preventDefault(),ae.stopPropagation(),R(!1),M()}function ne(ae){switch(ae.code){case lt.enter:case lt.numpadEnter:case lt.space:ae.preventDefault(),ae.stopPropagation(),P(),g.value.focus();break;case lt.esc:j(ae);break}}function Q(){v.value.focus()}function oe(){v.value.blur()}return zt(()=>{r.modelValue&&(k.value=E.value)}),Le(()=>r.modelValue,ae=>{ae?ae&&ae!==_.value&&(x=!1,_.fromString(ae)):C.value=!1}),Le(()=>[r.colorFormat,r.showAlpha],()=>{_.enableAlpha=r.showAlpha,_.format=r.colorFormat||_.format,_.doOnChange(),n(Ht,_.value)}),Le(()=>E.value,ae=>{k.value=ae,x&&n("activeChange",ae),x=!0}),Le(()=>_.value,()=>{!r.modelValue&&!C.value&&(C.value=!0)}),Le(()=>S.value,()=>{xt(()=>{var ae,me,ve;(ae=f.value)==null||ae.update(),(me=d.value)==null||me.update(),(ve=h.value)==null||ve.update()})}),hn(Qae,{currentColor:E}),t({color:_,show:P,hide:O,focus:Q,blur:oe}),(ae,me)=>(z(),Ae(w(Hi),{ref_key:"popper",ref:p,visible:S.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[w(i).be("picker","panel"),w(i).b("dropdown"),ae.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:ae.teleported,transition:`${w(i).namespace.value}-zoom-in-top`,persistent:"",onHide:ve=>R(!1)},{content:fe(()=>[Vt((z(),q("div",{onKeydown:rr(j,["esc"])},[Z("div",{class:G(w(i).be("dropdown","main-wrapper"))},[ie(MOe,{ref_key:"hue",ref:f,class:"hue-slider",color:w(_),vertical:""},null,8,["color"]),ie(UOe,{ref_key:"sv",ref:d,color:w(_)},null,8,["color"])],2),ae.showAlpha?(z(),Ae(DOe,{key:0,ref_key:"alpha",ref:h,color:w(_)},null,8,["color"])):Te("v-if",!0),ae.predefine?(z(),Ae(zOe,{key:1,ref:"predefine","enable-alpha":ae.showAlpha,color:w(_),colors:ae.predefine},null,8,["enable-alpha","color","colors"])):Te("v-if",!0),Z("div",{class:G(w(i).be("dropdown","btns"))},[Z("span",{class:G(w(i).be("dropdown","value"))},[ie(w(mo),{ref_key:"inputRef",ref:g,modelValue:k.value,"onUpdate:modelValue":ve=>k.value=ve,"validate-event":!1,size:"small",onKeyup:rr(U,["enter"]),onBlur:U},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),ie(w(si),{class:G(w(i).be("dropdown","link-btn")),text:"",size:"small",onClick:H},{default:fe(()=>[Kt(Ve(w(a)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ie(w(si),{plain:"",size:"small",class:G(w(i).be("dropdown","btn")),onClick:V},{default:fe(()=>[Kt(Ve(w(a)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[w(Uf),K]])]),default:fe(()=>[Z("div",rn({id:w(u),ref_key:"triggerRef",ref:v},ae.$attrs,{class:w(N),role:"button","aria-label":w(I),"aria-labelledby":w(A),"aria-description":w(a)("el.colorpicker.description",{color:ae.modelValue||""}),"aria-disabled":w(l),tabindex:w(l)?-1:ae.tabindex,onKeydown:ne,onFocus:w(y),onBlur:w(b)}),[w(l)?(z(),q("div",{key:0,class:G(w(i).be("picker","mask"))},null,2)):Te("v-if",!0),Z("div",{class:G(w(i).be("picker","trigger")),onClick:W},[Z("span",{class:G([w(i).be("picker","color"),w(i).is("alpha",ae.showAlpha)])},[Z("span",{class:G(w(i).be("picker","color-inner")),style:yt({backgroundColor:w(T)})},[Vt(ie(w(pt),{class:G([w(i).be("picker","icon"),w(i).is("icon-arrow-down")])},{default:fe(()=>[ie(w(Zc))]),_:1},8,["class"]),[[En,ae.modelValue||C.value]]),Vt(ie(w(pt),{class:G([w(i).be("picker","empty"),w(i).is("icon-close")])},{default:fe(()=>[ie(w(Ru))]),_:1},8,["class"]),[[En,!ae.modelValue&&!C.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var jOe=Ze(KOe,[["__file","color-picker.vue"]]);const YOe=Bt(jOe),XOe=je({a11y:{type:Boolean,default:!0},locale:{type:be(Object)},size:xa,button:{type:be(Object)},experimentalFeatures:{type:be(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:be(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Uy}),su={},qOe=se({name:"ElConfigProvider",props:XOe,setup(e,{slots:t}){Le(()=>e.message,r=>{Object.assign(su,r??{})},{immediate:!0,deep:!0});const n=Q4(e);return()=>Se(t,"default",{config:n==null?void 0:n.value})}}),ZOe=Bt(qOe),JOe=se({name:"ElContainer"}),QOe=se({...JOe,props:{direction:{type:String}},setup(e){const t=e,n=Sa(),r=ze("container"),a=F(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(o=>{const s=o.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(i,o)=>(z(),q("section",{class:G([w(r).b(),w(r).is("vertical",w(a))])},[Se(i.$slots,"default")],2))}});var ePe=Ze(QOe,[["__file","container.vue"]]);const tPe=se({name:"ElAside"}),nPe=se({...tPe,props:{width:{type:String,default:null}},setup(e){const t=e,n=ze("aside"),r=F(()=>t.width?n.cssVarBlock({width:t.width}):{});return(a,i)=>(z(),q("aside",{class:G(w(n).b()),style:yt(w(r))},[Se(a.$slots,"default")],6))}});var eie=Ze(nPe,[["__file","aside.vue"]]);const rPe=se({name:"ElFooter"}),aPe=se({...rPe,props:{height:{type:String,default:null}},setup(e){const t=e,n=ze("footer"),r=F(()=>t.height?n.cssVarBlock({height:t.height}):{});return(a,i)=>(z(),q("footer",{class:G(w(n).b()),style:yt(w(r))},[Se(a.$slots,"default")],6))}});var tie=Ze(aPe,[["__file","footer.vue"]]);const iPe=se({name:"ElHeader"}),oPe=se({...iPe,props:{height:{type:String,default:null}},setup(e){const t=e,n=ze("header"),r=F(()=>t.height?n.cssVarBlock({height:t.height}):{});return(a,i)=>(z(),q("header",{class:G(w(n).b()),style:yt(w(r))},[Se(a.$slots,"default")],6))}});var nie=Ze(oPe,[["__file","header.vue"]]);const sPe=se({name:"ElMain"}),lPe=se({...sPe,setup(e){const t=ze("main");return(n,r)=>(z(),q("main",{class:G(w(t).b())},[Se(n.$slots,"default")],2))}});var rie=Ze(lPe,[["__file","main.vue"]]);const uPe=Bt(ePe,{Aside:eie,Footer:tie,Header:nie,Main:rie}),cPe=Ur(eie),fPe=Ur(tie),dPe=Ur(nie),hPe=Ur(rie);var BT={exports:{}},pPe=BT.exports,wG;function vPe(){return wG||(wG=1,function(e,t){(function(n,r){e.exports=r()})(pPe,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,i=/\d\d/,o=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,l={},u=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(m){this[g]=+m}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var y=m.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(g)}],d=function(g){var m=l[g];return m&&(m.indexOf?m:m.s.concat(m.f))},h=function(g,m){var y,b=l.meridiem;if(b){for(var x=1;x<=24;x+=1)if(g.indexOf(b(x,0,m))>-1){y=x>12;break}}else y=g===(m?"pm":"PM");return y},p={A:[s,function(g){this.afternoon=h(g,!1)}],a:[s,function(g){this.afternoon=h(g,!0)}],Q:[a,function(g){this.month=3*(g-1)+1}],S:[a,function(g){this.milliseconds=100*+g}],SS:[i,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[i,c("day")],Do:[s,function(g){var m=l.ordinal,y=g.match(/\d+/);if(this.day=y[0],m)for(var b=1;b<=31;b+=1)m(b).replace(/\[|\]/g,"")===g&&(this.day=b)}],w:[o,c("week")],ww:[i,c("week")],M:[o,c("month")],MM:[i,c("month")],MMM:[s,function(g){var m=d("months"),y=(d("monthsShort")||m.map(function(b){return b.slice(0,3)})).indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(g){var m=d("months").indexOf(g)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(g){this.year=u(g)}],YYYY:[/\d{4}/,c("year")],Z:f,ZZ:f};function v(g){var m,y;m=g,y=l&&l.formats;for(var b=(g=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(E,I,A){var N=A&&A.toUpperCase();return I||y[A]||n[A]||y[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(L,R,D){return R||D.slice(1)})})).match(r),x=b.length,_=0;_<x;_+=1){var S=b[_],C=p[S],k=C&&C[0],T=C&&C[1];b[_]=T?{regex:k,parser:T}:S.replace(/^\[|\]$/g,"")}return function(E){for(var I={},A=0,N=0;A<x;A+=1){var L=b[A];if(typeof L=="string")N+=L.length;else{var R=L.regex,D=L.parser,P=E.slice(N),O=R.exec(P)[0];D.call(I,O),E=E.replace(O,"")}}return function(M){var W=M.afternoon;if(W!==void 0){var U=M.hours;W?U<12&&(M.hours+=12):U===12&&(M.hours=0),delete M.afternoon}}(I),I}}return function(g,m,y){y.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(u=g.parseTwoDigitYear);var b=m.prototype,x=b.parse;b.parse=function(_){var S=_.date,C=_.utc,k=_.args;this.$u=C;var T=k[1];if(typeof T=="string"){var E=k[2]===!0,I=k[3]===!0,A=E||I,N=k[2];I&&(N=k[2]),l=this.$locale(),!E&&N&&(l=y.Ls[N]),this.$d=function(P,O,M,W){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*P);var U=v(O)(P),V=U.year,H=U.month,K=U.day,j=U.hours,ne=U.minutes,Q=U.seconds,oe=U.milliseconds,ae=U.zone,me=U.week,ve=new Date,B=K||(V||H?1:ve.getDate()),re=V||ve.getFullYear(),ge=0;V&&!H||(ge=H>0?H-1:ve.getMonth());var Ie,Ce=j||0,he=ne||0,J=Q||0,te=oe||0;return ae?new Date(Date.UTC(re,ge,B,Ce,he,J,te+60*ae.offset*1e3)):M?new Date(Date.UTC(re,ge,B,Ce,he,J,te)):(Ie=new Date(re,ge,B,Ce,he,J,te),me&&(Ie=W(Ie).week(me).toDate()),Ie)}catch{return new Date("")}}(S,T,C,y),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),A&&S!=this.format(T)&&(this.$d=new Date("")),l={}}else if(T instanceof Array)for(var L=T.length,R=1;R<=L;R+=1){k[1]=T[R-1];var D=y.apply(this,k);if(D.isValid()){this.$d=D.$d,this.$L=D.$L,this.init();break}R===L&&(this.$d=new Date(""))}else x.call(this,_)}}})}(BT)),BT.exports}var gPe=vPe();const kB=Qc(gPe);var VT={exports:{}},mPe=VT.exports,_G;function yPe(){return _G||(_G=1,function(e,t){(function(n,r){e.exports=r()})(mPe,function(){return function(n,r){var a=r.prototype,i=a.format;a.format=function(o){var s=this,l=this.$locale();if(!this.isValid())return i.bind(this)(o);var u=this.$utils(),c=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return u.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}});return i.bind(this)(c)}}})}(VT)),VT.exports}var bPe=yPe();const xPe=Qc(bPe);var zT={exports:{}},wPe=zT.exports,SG;function _Pe(){return SG||(SG=1,function(e,t){(function(n,r){e.exports=r()})(wPe,function(){var n="week",r="year";return function(a,i,o){var s=i.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(r).add(1,r).date(u),f=o(this).endOf(n);if(c.isBefore(f))return 1}var d=o(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(zT)),zT.exports}var SPe=_Pe();const CPe=Qc(SPe);var WT={exports:{}},TPe=WT.exports,CG;function kPe(){return CG||(CG=1,function(e,t){(function(n,r){e.exports=r()})(TPe,function(){return function(n,r){r.prototype.weekYear=function(){var a=this.month(),i=this.week(),o=this.year();return i===1&&a===11?o+1:a===0&&i>=52?o-1:o}}})}(WT)),WT.exports}var IPe=kPe();const EPe=Qc(IPe);var HT={exports:{}},APe=HT.exports,TG;function DPe(){return TG||(TG=1,function(e,t){(function(n,r){e.exports=r()})(APe,function(){return function(n,r,a){r.prototype.dayOfYear=function(i){var o=Math.round((a(this).startOf("day")-a(this).startOf("year"))/864e5)+1;return i==null?o:this.add(i-o,"day")}}})}(HT)),HT.exports}var NPe=DPe();const RPe=Qc(NPe);var UT={exports:{}},MPe=UT.exports,kG;function $Pe(){return kG||(kG=1,function(e,t){(function(n,r){e.exports=r()})(MPe,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})}(UT)),UT.exports}var LPe=$Pe();const OPe=Qc(LPe);var GT={exports:{}},PPe=GT.exports,IG;function FPe(){return IG||(IG=1,function(e,t){(function(n,r){e.exports=r()})(PPe,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})}(GT)),GT.exports}var BPe=FPe();const VPe=Qc(BPe),EG=["hours","minutes","seconds"],NO="HH:mm:ss",J0="YYYY-MM-DD",zPe={date:J0,dates:J0,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${J0} ${NO}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:J0,datetimerange:`${J0} ${NO}`},aie=je({disabledHours:{type:be(Function)},disabledMinutes:{type:be(Function)},disabledSeconds:{type:be(Function)}}),iie=je({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),IB=je({id:{type:be([Array,String])},name:{type:be([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:be([String,Object]),default:ld},editable:{type:Boolean,default:!0},prefixIcon:{type:be([String,Object]),default:""},size:xa,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:be(Object),default:()=>({})},modelValue:{type:be([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:be([Date,Array])},defaultTime:{type:be([Date,Array])},isRange:Boolean,...aie,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:be([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:be(String),values:ud,default:"bottom"},fallbackPlacements:{type:be(Array),default:["bottom","top","right","left"]},...Uy,...Ei(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),WPe=je({id:{type:be(Array)},name:{type:be(Array)},modelValue:{type:be([Array,String])},startPlaceholder:String,endPlaceholder:String}),HPe=se({name:"PickerRangeTrigger",inheritAttrs:!1}),UPe=se({...HPe,props:WPe,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=T_(),a=ze("date"),i=ze("range"),o=Y(),s=Y(),{wrapperRef:l,isFocused:u}=Jh(o),c=x=>{n("click",x)},f=x=>{n("mouseenter",x)},d=x=>{n("mouseleave",x)},h=x=>{n("mouseenter",x)},p=x=>{n("startInput",x)},v=x=>{n("endInput",x)},g=x=>{n("startChange",x)},m=x=>{n("endChange",x)};return t({focus:()=>{var x;(x=o.value)==null||x.focus()},blur:()=>{var x,_;(x=o.value)==null||x.blur(),(_=s.value)==null||_.blur()}}),(x,_)=>(z(),q("div",{ref_key:"wrapperRef",ref:l,class:G([w(a).is("active",w(u)),x.$attrs.class]),style:yt(x.$attrs.style),onClick:c,onMouseenter:f,onMouseleave:d,onTouchstartPassive:h},[Se(x.$slots,"prefix"),Z("input",rn(w(r),{id:x.id&&x.id[0],ref_key:"inputRef",ref:o,name:x.name&&x.name[0],placeholder:x.startPlaceholder,value:x.modelValue&&x.modelValue[0],class:w(i).b("input"),onInput:p,onChange:g}),null,16,["id","name","placeholder","value"]),Se(x.$slots,"range-separator"),Z("input",rn(w(r),{id:x.id&&x.id[1],ref_key:"endInputRef",ref:s,name:x.name&&x.name[1],placeholder:x.endPlaceholder,value:x.modelValue&&x.modelValue[1],class:w(i).b("input"),onInput:v,onChange:m}),null,16,["id","name","placeholder","value"]),Se(x.$slots,"suffix")],38))}});var GPe=Ze(UPe,[["__file","picker-range-trigger.vue"]]);const KPe=se({name:"Picker"}),jPe=se({...KPe,props:IB,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,a=qh(),{lang:i}=_n(),o=ze("date"),s=ze("input"),l=ze("range"),{form:u,formItem:c}=Xi(),f=ht("ElPopperOptions",{}),{valueOnClear:d}=mA(r,null),h=Y(),p=Y(),v=Y(!1),g=Y(!1),m=Y(null);let y=!1;const{isFocused:b,handleFocus:x,handleBlur:_}=Jh(p,{beforeFocus(){return r.readonly||M.value},afterFocus(){v.value=!0},beforeBlur(de){var ft;return!y&&((ft=h.value)==null?void 0:ft.isFocusInsideContent(de))},afterBlur(){xe(),v.value=!1,y=!1,r.validateEvent&&(c==null||c.validate("blur").catch(de=>void 0))}}),S=F(()=>[o.b("editor"),o.bm("editor",r.type),s.e("wrapper"),o.is("disabled",M.value),o.is("active",v.value),l.b("editor"),Ce?l.bm("editor",Ce.value):"",a.class]),C=F(()=>[s.e("icon"),l.e("close-icon"),oe.value?"":l.e("close-icon--hidden")]);Le(v,de=>{de?xt(()=>{de&&(m.value=r.modelValue)}):(te.value=null,xt(()=>{k(r.modelValue)}))});const k=(de,ft)=>{(ft||!iG(de,m.value))&&(n("change",de),r.validateEvent&&(c==null||c.validate("change").catch(Gt=>void 0)))},T=de=>{if(!iG(r.modelValue,de)){let ft;Ke(de)?ft=de.map(Gt=>sG(Gt,r.valueFormat,i.value)):de&&(ft=sG(de,r.valueFormat,i.value)),n("update:modelValue",de&&ft,i.value)}},E=de=>{n("keydown",de)},I=F(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),A=(de,ft,Gt)=>{const cn=I.value;cn.length&&(!Gt||Gt==="min"?(cn[0].setSelectionRange(de,ft),cn[0].focus()):Gt==="max"&&(cn[1].setSelectionRange(de,ft),cn[1].focus()))},N=(de="",ft=!1)=>{v.value=ft;let Gt;Ke(de)?Gt=de.map(cn=>cn.toDate()):Gt=de&&de.toDate(),te.value=null,T(Gt)},L=()=>{g.value=!0},R=()=>{n("visible-change",!0)},D=()=>{g.value=!1,v.value=!1,n("visible-change",!1)},P=()=>{v.value=!0},O=()=>{v.value=!1},M=F(()=>r.disabled||(u==null?void 0:u.disabled)),W=F(()=>{let de;if(me.value?_t.value.getDefaultValue&&(de=_t.value.getDefaultValue()):Ke(r.modelValue)?de=r.modelValue.map(ft=>oG(ft,r.valueFormat,i.value)):de=oG(r.modelValue,r.valueFormat,i.value),_t.value.getRangeAvailableTime){const ft=_t.value.getRangeAvailableTime(de);Ci(ft,de)||(de=ft,me.value||T(HC(de)))}return Ke(de)&&de.some(ft=>!ft)&&(de=[]),de}),U=F(()=>{if(!_t.value.panelReady)return"";const de=Qe(W.value);return Ke(te.value)?[te.value[0]||de&&de[0]||"",te.value[1]||de&&de[1]||""]:te.value!==null?te.value:!H.value&&me.value||!v.value&&me.value?"":de?K.value||j.value||ne.value?de.join(", "):de:""}),V=F(()=>r.type.includes("time")),H=F(()=>r.type.startsWith("time")),K=F(()=>r.type==="dates"),j=F(()=>r.type==="months"),ne=F(()=>r.type==="years"),Q=F(()=>r.prefixIcon||(V.value?Hre:qEe)),oe=Y(!1),ae=de=>{r.readonly||M.value||(oe.value&&(de.stopPropagation(),_t.value.handleClear?_t.value.handleClear():T(d.value),k(d.value,!0),oe.value=!1,D()),n("clear"))},me=F(()=>{const{modelValue:de}=r;return!de||Ke(de)&&!de.filter(Boolean).length}),ve=async de=>{var ft;r.readonly||M.value||(((ft=de.target)==null?void 0:ft.tagName)!=="INPUT"||b.value)&&(v.value=!0)},B=()=>{r.readonly||M.value||!me.value&&r.clearable&&(oe.value=!0)},re=()=>{oe.value=!1},ge=de=>{var ft;r.readonly||M.value||(((ft=de.touches[0].target)==null?void 0:ft.tagName)!=="INPUT"||b.value)&&(v.value=!0)},Ie=F(()=>r.type.includes("range")),Ce=pa(),he=F(()=>{var de,ft;return(ft=(de=w(h))==null?void 0:de.popperRef)==null?void 0:ft.contentRef}),J=J4(p,de=>{const ft=w(he),Gt=Ko(p);ft&&(de.target===ft||de.composedPath().includes(ft))||de.target===Gt||Gt&&de.composedPath().includes(Gt)||(v.value=!1)});ar(()=>{J==null||J()});const te=Y(null),xe=()=>{if(te.value){const de=Ee(U.value);de&&Be(de)&&(T(HC(de)),te.value=null)}te.value===""&&(T(d.value),k(d.value),te.value=null)},Ee=de=>de?_t.value.parseUserInput(de):null,Qe=de=>de?_t.value.formatToString(de):null,Be=de=>_t.value.isValidValue(de),ce=async de=>{if(r.readonly||M.value)return;const{code:ft}=de;if(E(de),ft===lt.esc){v.value===!0&&(v.value=!1,de.preventDefault(),de.stopPropagation());return}if(ft===lt.down&&(_t.value.handleFocusPicker&&(de.preventDefault(),de.stopPropagation()),v.value===!1&&(v.value=!0,await xt()),_t.value.handleFocusPicker)){_t.value.handleFocusPicker();return}if(ft===lt.tab){y=!0;return}if(ft===lt.enter||ft===lt.numpadEnter){(te.value===null||te.value===""||Be(Ee(U.value)))&&(xe(),v.value=!1),de.stopPropagation();return}if(te.value){de.stopPropagation();return}_t.value.handleKeydownInput&&_t.value.handleKeydownInput(de)},Re=de=>{te.value=de,v.value||(v.value=!0)},ct=de=>{const ft=de.target;te.value?te.value=[ft.value,te.value[1]]:te.value=[ft.value,null]},It=de=>{const ft=de.target;te.value?te.value=[te.value[0],ft.value]:te.value=[null,ft.value]},wt=()=>{var de;const ft=te.value,Gt=Ee(ft&&ft[0]),cn=w(W);if(Gt&&Gt.isValid()){te.value=[Qe(Gt),((de=U.value)==null?void 0:de[1])||null];const ir=[Gt,cn&&(cn[1]||null)];Be(ir)&&(T(HC(ir)),te.value=null)}},Qt=()=>{var de;const ft=w(te),Gt=Ee(ft&&ft[1]),cn=w(W);if(Gt&&Gt.isValid()){te.value=[((de=w(U))==null?void 0:de[0])||null,Qe(Gt)];const ir=[cn&&cn[0],Gt];Be(ir)&&(T(HC(ir)),te.value=null)}},_t=Y({}),ln=de=>{_t.value[de[0]]=de[1],_t.value.panelReady=!0},Ne=de=>{n("calendar-change",de)},nt=(de,ft,Gt)=>{n("panel-change",de,ft,Gt)},_e=()=>{var de;(de=p.value)==null||de.focus()},We=()=>{var de;(de=p.value)==null||de.blur()};return hn("EP_PICKER_BASE",{props:r}),t({focus:_e,blur:We,handleOpen:P,handleClose:O,onPick:N}),(de,ft)=>(z(),Ae(w(Hi),rn({ref_key:"refPopper",ref:h,visible:v.value,effect:"light",pure:"",trigger:"click"},de.$attrs,{role:"dialog",teleported:"",transition:`${w(o).namespace.value}-zoom-in-top`,"popper-class":[`${w(o).namespace.value}-picker__popper`,de.popperClass],"popper-options":w(f),"fallback-placements":de.fallbackPlacements,"gpu-acceleration":!1,placement:de.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:L,onShow:R,onHide:D}),{default:fe(()=>[w(Ie)?(z(),Ae(GPe,{key:1,id:de.id,ref_key:"inputRef",ref:p,"model-value":w(U),name:de.name,disabled:w(M),readonly:!de.editable||de.readonly,"start-placeholder":de.startPlaceholder,"end-placeholder":de.endPlaceholder,class:G(w(S)),style:yt(de.$attrs.style),"aria-label":de.ariaLabel,tabindex:de.tabindex,autocomplete:"off",role:"combobox",onClick:ve,onFocus:w(x),onBlur:w(_),onStartInput:ct,onStartChange:wt,onEndInput:It,onEndChange:Qt,onMousedown:ve,onMouseenter:B,onMouseleave:re,onTouchstartPassive:ge,onKeydown:ce},{prefix:fe(()=>[w(Q)?(z(),Ae(w(pt),{key:0,class:G([w(s).e("icon"),w(l).e("icon")])},{default:fe(()=>[(z(),Ae(tn(w(Q))))]),_:1},8,["class"])):Te("v-if",!0)]),"range-separator":fe(()=>[Se(de.$slots,"range-separator",{},()=>[Z("span",{class:G(w(l).b("separator"))},Ve(de.rangeSeparator),3)])]),suffix:fe(()=>[de.clearIcon?(z(),Ae(w(pt),{key:0,class:G(w(C)),onMousedown:At(w(zn),["prevent"]),onClick:ae},{default:fe(()=>[(z(),Ae(tn(de.clearIcon)))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(z(),Ae(w(mo),{key:0,id:de.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":w(U),name:de.name,size:w(Ce),disabled:w(M),placeholder:de.placeholder,class:G([w(o).b("editor"),w(o).bm("editor",de.type),de.$attrs.class]),style:yt(de.$attrs.style),readonly:!de.editable||de.readonly||w(K)||w(j)||w(ne)||de.type==="week","aria-label":de.ariaLabel,tabindex:de.tabindex,"validate-event":!1,onInput:Re,onFocus:w(x),onBlur:w(_),onKeydown:ce,onChange:xe,onMousedown:ve,onMouseenter:B,onMouseleave:re,onTouchstartPassive:ge,onClick:At(()=>{},["stop"])},{prefix:fe(()=>[w(Q)?(z(),Ae(w(pt),{key:0,class:G(w(s).e("icon")),onMousedown:At(ve,["prevent"]),onTouchstartPassive:ge},{default:fe(()=>[(z(),Ae(tn(w(Q))))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),suffix:fe(()=>[oe.value&&de.clearIcon?(z(),Ae(w(pt),{key:0,class:G(`${w(s).e("icon")} clear-icon`),onMousedown:At(w(zn),["prevent"]),onClick:ae},{default:fe(()=>[(z(),Ae(tn(de.clearIcon)))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:fe(()=>[Se(de.$slots,"default",{visible:v.value,actualVisible:g.value,parsedValue:w(W),format:de.format,dateFormat:de.dateFormat,timeFormat:de.timeFormat,unlinkPanels:de.unlinkPanels,type:de.type,defaultValue:de.defaultValue,showNow:de.showNow,onPick:N,onSelectRange:A,onSetPickerOption:ln,onCalendarChange:Ne,onPanelChange:nt,onMousedown:At(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var oie=Ze(jPe,[["__file","picker.vue"]]);const YPe=je({...iie,datetimeRole:String,parsedValue:{type:be(Object)}}),sie=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(o,s,l,u)=>{const c={hour:e,minute:t,second:n};let f=o;return["hour","minute","second"].forEach(d=>{if(c[d]){let h;const p=c[d];switch(d){case"minute":{h=p(f.hour(),s,u);break}case"second":{h=p(f.hour(),f.minute(),s,u);break}default:{h=p(s,u);break}}if(h!=null&&h.length&&!h.includes(f[d]())){const v=l?0:h.length-1;f=f[d](h[v])}}}),f},a={};return{timePickerOptions:a,getAvailableTime:r,onSetOption:([o,s])=>{a[o]=s}}},$R=e=>{const t=(r,a)=>r||a,n=r=>r!==!0;return e.map(t).filter(n)},lie=(e,t,n)=>({getHoursList:(o,s)=>DR(24,e&&(()=>e==null?void 0:e(o,s))),getMinutesList:(o,s,l)=>DR(60,t&&(()=>t==null?void 0:t(o,s,l))),getSecondsList:(o,s,l,u)=>DR(60,n&&(()=>n==null?void 0:n(o,s,l,u)))}),uie=(e,t,n)=>{const{getHoursList:r,getMinutesList:a,getSecondsList:i}=lie(e,t,n);return{getAvailableHours:(u,c)=>$R(r(u,c)),getAvailableMinutes:(u,c,f)=>$R(a(u,c,f)),getAvailableSeconds:(u,c,f,d)=>$R(i(u,c,f,d))}},cie=e=>{const t=Y(e.parsedValue);return Le(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},XPe=je({role:{type:String,required:!0},spinnerDate:{type:be(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:be(String),default:""},...aie}),qPe=100,ZPe=600,Zk={beforeMount(e,t){const n=t.value,{interval:r=qPe,delay:a=ZPe}=mt(n)?{}:n;let i,o;const s=()=>mt(n)?n():n.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),i&&(clearInterval(i),i=void 0)};e.addEventListener("mousedown",u=>{u.button===0&&(l(),s(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{i=setInterval(()=>{s()},r)},a))})}},JPe=se({__name:"basic-time-spinner",props:XPe,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=ht("EP_PICKER_BASE"),{isRange:a}=r.props,i=ze("time"),{getHoursList:o,getMinutesList:s,getSecondsList:l}=lie(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let u=!1;const c=Y(),f=Y(),d=Y(),h=Y(),p={hours:f,minutes:d,seconds:h},v=F(()=>n.showSeconds?EG:EG.slice(0,2)),g=F(()=>{const{spinnerDate:U}=n,V=U.hour(),H=U.minute(),K=U.second();return{hours:V,minutes:H,seconds:K}}),m=F(()=>{const{hours:U,minutes:V}=w(g),{role:H,spinnerDate:K}=n,j=a?void 0:K;return{hours:o(H,j),minutes:s(U,H,j),seconds:l(U,V,H,j)}}),y=F(()=>{const{hours:U,minutes:V,seconds:H}=w(g);return{hours:AR(U,23),minutes:AR(V,59),seconds:AR(H,59)}}),b=Cs(U=>{u=!1,S(U)},200),x=U=>{if(!!!n.amPmMode)return"";const H=n.amPmMode==="A";let K=U<12?" am":" pm";return H&&(K=K.toUpperCase()),K},_=U=>{let V;switch(U){case"hours":V=[0,2];break;case"minutes":V=[3,5];break;case"seconds":V=[6,8];break}const[H,K]=V;t("select-range",H,K),c.value=U},S=U=>{T(U,w(g)[U])},C=()=>{S("hours"),S("minutes"),S("seconds")},k=U=>U.querySelector(`.${i.namespace.value}-scrollbar__wrap`),T=(U,V)=>{if(n.arrowControl)return;const H=w(p[U]);H&&H.$el&&(k(H.$el).scrollTop=Math.max(0,V*E(U)))},E=U=>{const V=w(p[U]),H=V==null?void 0:V.$el.querySelector("li");return H&&Number.parseFloat(Cf(H,"height"))||0},I=()=>{N(1)},A=()=>{N(-1)},N=U=>{c.value||_("hours");const V=c.value,H=w(g)[V],K=c.value==="hours"?24:60,j=L(V,H,U,K);R(V,j),T(V,j),xt(()=>_(V))},L=(U,V,H,K)=>{let j=(V+H+K)%K;const ne=w(m)[U];for(;ne[j]&&j!==V;)j=(j+H+K)%K;return j},R=(U,V)=>{if(w(m)[U][V])return;const{hours:j,minutes:ne,seconds:Q}=w(g);let oe;switch(U){case"hours":oe=n.spinnerDate.hour(V).minute(ne).second(Q);break;case"minutes":oe=n.spinnerDate.hour(j).minute(V).second(Q);break;case"seconds":oe=n.spinnerDate.hour(j).minute(ne).second(V);break}t("change",oe)},D=(U,{value:V,disabled:H})=>{H||(R(U,V),_(U),T(U,V))},P=U=>{const V=w(p[U]);if(!V)return;u=!0,b(U);const H=Math.min(Math.round((k(V.$el).scrollTop-(O(U)*.5-10)/E(U)+3)/E(U)),U==="hours"?23:59);R(U,H)},O=U=>w(p[U]).$el.offsetHeight,M=()=>{const U=V=>{const H=w(p[V]);H&&H.$el&&(k(H.$el).onscroll=()=>{P(V)})};U("hours"),U("minutes"),U("seconds")};zt(()=>{xt(()=>{!n.arrowControl&&M(),C(),n.role==="start"&&_("hours")})});const W=(U,V)=>{p[V].value=U??void 0};return t("set-option",[`${n.role}_scrollDown`,N]),t("set-option",[`${n.role}_emitSelectRange`,_]),Le(()=>n.spinnerDate,()=>{u||C()}),(U,V)=>(z(),q("div",{class:G([w(i).b("spinner"),{"has-seconds":U.showSeconds}])},[U.arrowControl?Te("v-if",!0):(z(!0),q(vt,{key:0},un(w(v),H=>(z(),Ae(w(Jc),{key:H,ref_for:!0,ref:K=>W(K,H),class:G(w(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":w(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:K=>_(H),onMousemove:K=>S(H)},{default:fe(()=>[(z(!0),q(vt,null,un(w(m)[H],(K,j)=>(z(),q("li",{key:j,class:G([w(i).be("spinner","item"),w(i).is("active",j===w(g)[H]),w(i).is("disabled",K)]),onClick:ne=>D(H,{value:j,disabled:K})},[H==="hours"?(z(),q(vt,{key:0},[Kt(Ve(("0"+(U.amPmMode?j%12||12:j)).slice(-2))+Ve(x(j)),1)],64)):(z(),q(vt,{key:1},[Kt(Ve(("0"+j).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),U.arrowControl?(z(!0),q(vt,{key:1},un(w(v),H=>(z(),q("div",{key:H,class:G([w(i).be("spinner","wrapper"),w(i).is("arrow")]),onMouseenter:K=>_(H)},[Vt((z(),Ae(w(pt),{class:G(["arrow-up",w(i).be("spinner","arrow")])},{default:fe(()=>[ie(w(nB))]),_:1},8,["class"])),[[w(Zk),A]]),Vt((z(),Ae(w(pt),{class:G(["arrow-down",w(i).be("spinner","arrow")])},{default:fe(()=>[ie(w(Zc))]),_:1},8,["class"])),[[w(Zk),I]]),Z("ul",{class:G(w(i).be("spinner","list"))},[(z(!0),q(vt,null,un(w(y)[H],(K,j)=>(z(),q("li",{key:j,class:G([w(i).be("spinner","item"),w(i).is("active",K===w(g)[H]),w(i).is("disabled",w(m)[H][K])])},[w(Tt)(K)?(z(),q(vt,{key:0},[H==="hours"?(z(),q(vt,{key:0},[Kt(Ve(("0"+(U.amPmMode?K%12||12:K)).slice(-2))+Ve(x(K)),1)],64)):(z(),q(vt,{key:1},[Kt(Ve(("0"+K).slice(-2)),1)],64))],64)):Te("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Te("v-if",!0)],2))}});var RO=Ze(JPe,[["__file","basic-time-spinner.vue"]]);const QPe=se({__name:"panel-time-pick",props:YPe,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=ht("EP_PICKER_BASE"),{arrowControl:a,disabledHours:i,disabledMinutes:o,disabledSeconds:s,defaultValue:l}=r.props,{getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}=uie(i,o,s),d=ze("time"),{t:h,lang:p}=_n(),v=Y([0,2]),g=cie(n),m=F(()=>qn(n.actualVisible)?`${d.namespace.value}-zoom-in-top`:""),y=F(()=>n.format.includes("ss")),b=F(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),x=O=>{const M=Lt(O).locale(p.value),W=L(M);return M.isSame(W)},_=()=>{t("pick",g.value,!1)},S=(O=!1,M=!1)=>{M||t("pick",n.parsedValue,O)},C=O=>{if(!n.visible)return;const M=L(O).millisecond(0);t("pick",M,!0)},k=(O,M)=>{t("select-range",O,M),v.value=[O,M]},T=O=>{const M=[0,3].concat(y.value?[6]:[]),W=["hours","minutes"].concat(y.value?["seconds"]:[]),V=(M.indexOf(v.value[0])+O+M.length)%M.length;I.start_emitSelectRange(W[V])},E=O=>{const M=O.code,{left:W,right:U,up:V,down:H}=lt;if([W,U].includes(M)){T(M===W?-1:1),O.preventDefault();return}if([V,H].includes(M)){const K=M===V?-1:1;I.start_scrollDown(K),O.preventDefault();return}},{timePickerOptions:I,onSetOption:A,getAvailableTime:N}=sie({getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}),L=O=>N(O,n.datetimeRole||"",!0),R=O=>O?Lt(O,n.format).locale(p.value):null,D=O=>O?O.format(n.format):null,P=()=>Lt(l).locale(p.value);return t("set-picker-option",["isValidValue",x]),t("set-picker-option",["formatToString",D]),t("set-picker-option",["parseUserInput",R]),t("set-picker-option",["handleKeydownInput",E]),t("set-picker-option",["getRangeAvailableTime",L]),t("set-picker-option",["getDefaultValue",P]),(O,M)=>(z(),Ae(hi,{name:w(m)},{default:fe(()=>[O.actualVisible||O.visible?(z(),q("div",{key:0,class:G(w(d).b("panel"))},[Z("div",{class:G([w(d).be("panel","content"),{"has-seconds":w(y)}])},[ie(RO,{ref:"spinner",role:O.datetimeRole||"start","arrow-control":w(a),"show-seconds":w(y),"am-pm-mode":w(b),"spinner-date":O.parsedValue,"disabled-hours":w(i),"disabled-minutes":w(o),"disabled-seconds":w(s),onChange:C,onSetOption:w(A),onSelectRange:k},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:G(w(d).be("panel","footer"))},[Z("button",{type:"button",class:G([w(d).be("panel","btn"),"cancel"]),onClick:_},Ve(w(h)("el.datepicker.cancel")),3),Z("button",{type:"button",class:G([w(d).be("panel","btn"),"confirm"]),onClick:W=>S()},Ve(w(h)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Te("v-if",!0)]),_:1},8,["name"]))}});var Jk=Ze(QPe,[["__file","panel-time-pick.vue"]]);const eFe=je({...iie,parsedValue:{type:be(Array)}}),tFe=se({__name:"panel-time-range",props:eFe,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(ve,B)=>{const re=[];for(let ge=ve;ge<=B;ge++)re.push(ge);return re},{t:a,lang:i}=_n(),o=ze("time"),s=ze("picker"),l=ht("EP_PICKER_BASE"),{arrowControl:u,disabledHours:c,disabledMinutes:f,disabledSeconds:d,defaultValue:h}=l.props,p=F(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),x.value?"has-seconds":""]),v=F(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),x.value?"has-seconds":""]),g=F(()=>n.parsedValue[0]),m=F(()=>n.parsedValue[1]),y=cie(n),b=()=>{t("pick",y.value,!1)},x=F(()=>n.format.includes("ss")),_=F(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),S=(ve=!1)=>{t("pick",[g.value,m.value],ve)},C=ve=>{E(ve.millisecond(0),m.value)},k=ve=>{E(g.value,ve.millisecond(0))},T=ve=>{const B=ve.map(ge=>Lt(ge).locale(i.value)),re=U(B);return B[0].isSame(re[0])&&B[1].isSame(re[1])},E=(ve,B)=>{n.visible&&t("pick",[ve,B],!0)},I=F(()=>g.value>m.value),A=Y([0,2]),N=(ve,B)=>{t("select-range",ve,B,"min"),A.value=[ve,B]},L=F(()=>x.value?11:8),R=(ve,B)=>{t("select-range",ve,B,"max");const re=w(L);A.value=[ve+re,B+re]},D=ve=>{const B=x.value?[0,3,6,11,14,17]:[0,3,8,11],re=["hours","minutes"].concat(x.value?["seconds"]:[]),Ie=(B.indexOf(A.value[0])+ve+B.length)%B.length,Ce=B.length/2;Ie<Ce?j.start_emitSelectRange(re[Ie]):j.end_emitSelectRange(re[Ie-Ce])},P=ve=>{const B=ve.code,{left:re,right:ge,up:Ie,down:Ce}=lt;if([re,ge].includes(B)){D(B===re?-1:1),ve.preventDefault();return}if([Ie,Ce].includes(B)){const he=B===Ie?-1:1,J=A.value[0]<L.value?"start":"end";j[`${J}_scrollDown`](he),ve.preventDefault();return}},O=(ve,B)=>{const re=c?c(ve):[],ge=ve==="start",Ce=(B||(ge?m.value:g.value)).hour(),he=ge?r(Ce+1,23):r(0,Ce-1);return SR(re,he)},M=(ve,B,re)=>{const ge=f?f(ve,B):[],Ie=B==="start",Ce=re||(Ie?m.value:g.value),he=Ce.hour();if(ve!==he)return ge;const J=Ce.minute(),te=Ie?r(J+1,59):r(0,J-1);return SR(ge,te)},W=(ve,B,re,ge)=>{const Ie=d?d(ve,B,re):[],Ce=re==="start",he=ge||(Ce?m.value:g.value),J=he.hour(),te=he.minute();if(ve!==J||B!==te)return Ie;const xe=he.second(),Ee=Ce?r(xe+1,59):r(0,xe-1);return SR(Ie,Ee)},U=([ve,B])=>[ne(ve,"start",!0,B),ne(B,"end",!1,ve)],{getAvailableHours:V,getAvailableMinutes:H,getAvailableSeconds:K}=uie(O,M,W),{timePickerOptions:j,getAvailableTime:ne,onSetOption:Q}=sie({getAvailableHours:V,getAvailableMinutes:H,getAvailableSeconds:K}),oe=ve=>ve?Ke(ve)?ve.map(B=>Lt(B,n.format).locale(i.value)):Lt(ve,n.format).locale(i.value):null,ae=ve=>ve?Ke(ve)?ve.map(B=>B.format(n.format)):ve.format(n.format):null,me=()=>{if(Ke(h))return h.map(B=>Lt(B).locale(i.value));const ve=Lt(h).locale(i.value);return[ve,ve.add(60,"m")]};return t("set-picker-option",["formatToString",ae]),t("set-picker-option",["parseUserInput",oe]),t("set-picker-option",["isValidValue",T]),t("set-picker-option",["handleKeydownInput",P]),t("set-picker-option",["getDefaultValue",me]),t("set-picker-option",["getRangeAvailableTime",U]),(ve,B)=>ve.actualVisible?(z(),q("div",{key:0,class:G([w(o).b("range-picker"),w(s).b("panel")])},[Z("div",{class:G(w(o).be("range-picker","content"))},[Z("div",{class:G(w(o).be("range-picker","cell"))},[Z("div",{class:G(w(o).be("range-picker","header"))},Ve(w(a)("el.datepicker.startTime")),3),Z("div",{class:G(w(p))},[ie(RO,{ref:"minSpinner",role:"start","show-seconds":w(x),"am-pm-mode":w(_),"arrow-control":w(u),"spinner-date":w(g),"disabled-hours":O,"disabled-minutes":M,"disabled-seconds":W,onChange:C,onSetOption:w(Q),onSelectRange:N},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Z("div",{class:G(w(o).be("range-picker","cell"))},[Z("div",{class:G(w(o).be("range-picker","header"))},Ve(w(a)("el.datepicker.endTime")),3),Z("div",{class:G(w(v))},[ie(RO,{ref:"maxSpinner",role:"end","show-seconds":w(x),"am-pm-mode":w(_),"arrow-control":w(u),"spinner-date":w(m),"disabled-hours":O,"disabled-minutes":M,"disabled-seconds":W,onChange:k,onSetOption:w(Q),onSelectRange:R},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Z("div",{class:G(w(o).be("panel","footer"))},[Z("button",{type:"button",class:G([w(o).be("panel","btn"),"cancel"]),onClick:re=>b()},Ve(w(a)("el.datepicker.cancel")),11,["onClick"]),Z("button",{type:"button",class:G([w(o).be("panel","btn"),"confirm"]),disabled:w(I),onClick:re=>S()},Ve(w(a)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Te("v-if",!0)}});var nFe=Ze(tFe,[["__file","panel-time-range.vue"]]);Lt.extend(kB);var rFe=se({name:"ElTimePicker",install:null,props:{...IB,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=Y(),[r,a]=e.isRange?["timerange",nFe]:["time",Jk],i=o=>t.emit("update:modelValue",o);return hn("ElPopperOptions",e.popperOptions),t.expose({focus:()=>{var o;(o=n.value)==null||o.focus()},blur:()=>{var o;(o=n.value)==null||o.blur()},handleOpen:()=>{var o;(o=n.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=n.value)==null||o.handleClose()}}),()=>{var o;const s=(o=e.format)!=null?o:NO;return ie(oie,rn(e,{ref:n,type:r,format:s,"onUpdate:modelValue":i}),{default:l=>ie(a,l,null)})}}});const aFe=Bt(rFe),EA=Symbol(),iFe=je({...IB,type:{type:be(String),default:"date"}}),oFe=["date","dates","year","years","month","months","week","range"],EB=je({disabledDate:{type:be(Function)},date:{type:be(Object),required:!0},minDate:{type:be(Object)},maxDate:{type:be(Object)},parsedValue:{type:be([Object,Array])},rangeState:{type:be(Object),default:()=>({endDate:null,selecting:!1})}}),fie=je({type:{type:be(String),required:!0,values:f$e},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),AB=je({unlinkPanels:Boolean,parsedValue:{type:be(Array)}}),DB=e=>({type:String,values:oFe,default:e}),sFe=je({...fie,parsedValue:{type:be([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),ry=e=>{if(!Ke(e))return!1;const[t,n]=e;return Lt.isDayjs(t)&&Lt.isDayjs(n)&&t.isSameOrBefore(n)},NB=(e,{lang:t,unit:n,unlinkPanels:r})=>{let a;if(Ke(e)){let[i,o]=e.map(s=>Lt(s).locale(t));return r||(o=i.add(1,n)),[i,o]}else e?a=Lt(e):a=Lt();return a=a.locale(t),[a,a.add(1,n)]},lFe=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:a,now:i,unit:o,relativeDateGetter:s,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<e.row;c++){const f=t[c];for(let d=0;d<e.column;d++){let h=f[d+n];h||(h={row:c,column:d,type:"normal",inRange:!1,start:!1,end:!1});const p=c*e.column+d,v=s(p);h.dayjs=v,h.date=v.toDate(),h.timestamp=v.valueOf(),h.type="normal",h.inRange=!!(r&&v.isSameOrAfter(r,o)&&a&&v.isSameOrBefore(a,o))||!!(r&&v.isSameOrBefore(r,o)&&a&&v.isSameOrAfter(a,o)),r!=null&&r.isSameOrAfter(a)?(h.start=!!a&&v.isSame(a,o),h.end=r&&v.isSame(r,o)):(h.start=!!r&&v.isSame(r,o),h.end=!!a&&v.isSame(a,o)),v.isSame(i,o)&&(h.type="today"),l==null||l(h,{rowIndex:c,columnIndex:d}),f[d+n]=h}u==null||u(f)}},Qk=(e,t,n)=>{const r=Lt().locale(n).startOf("month").month(t).year(e),a=r.daysInMonth();return fh(a).map(i=>r.add(i,"day").toDate())},nw=(e,t,n,r)=>{const a=Lt().year(e).month(t).startOf("month"),i=Qk(e,t,n).find(o=>!(r!=null&&r(o)));return i?Lt(i).locale(n):a.locale(n)},MO=(e,t,n)=>{const r=e.year();if(!(n!=null&&n(e.toDate())))return e.locale(t);const a=e.month();if(!Qk(r,a,t).every(n))return nw(r,a,t,n);for(let i=0;i<12;i++)if(!Qk(r,i,t).every(n))return nw(r,i,t,n);return e},uFe=je({...EB,cellClassName:{type:be(Function)},showWeekNumber:Boolean,selectionMode:DB("date")}),cFe=["changerange","pick","select"],$O=(e="")=>["normal","today"].includes(e),fFe=(e,t)=>{const{lang:n}=_n(),r=Y(),a=Y(),i=Y(),o=Y(),s=Y([[],[],[],[],[],[]]);let l=!1;const u=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map(M=>M.toLowerCase()),f=F(()=>u>3?7-u:-u),d=F(()=>{const M=e.date.startOf("month");return M.subtract(M.day()||7,"day")}),h=F(()=>c.concat(c).slice(u,u+7)),p=F(()=>qne(w(x)).some(M=>M.isCurrent)),v=F(()=>{const M=e.date.startOf("month"),W=M.day()||7,U=M.daysInMonth(),V=M.subtract(1,"month").daysInMonth();return{startOfMonthDay:W,dateCountOfMonth:U,dateCountOfLastMonth:V}}),g=F(()=>e.selectionMode==="dates"?Go(e.parsedValue):[]),m=(M,{count:W,rowIndex:U,columnIndex:V})=>{const{startOfMonthDay:H,dateCountOfMonth:K,dateCountOfLastMonth:j}=w(v),ne=w(f);if(U>=0&&U<=1){const Q=H+ne<0?7+H+ne:H+ne;if(V+U*7>=Q)return M.text=W,!0;M.text=j-(Q-V%7)+1+U*7,M.type="prev-month"}else return W<=K?M.text=W:(M.text=W-K,M.type="next-month"),!0;return!1},y=(M,{columnIndex:W,rowIndex:U},V)=>{const{disabledDate:H,cellClassName:K}=e,j=w(g),ne=m(M,{count:V,rowIndex:U,columnIndex:W}),Q=M.dayjs.toDate();return M.selected=j.find(oe=>oe.isSame(M.dayjs,"day")),M.isSelected=!!M.selected,M.isCurrent=S(M),M.disabled=H==null?void 0:H(Q),M.customClass=K==null?void 0:K(Q),ne},b=M=>{if(e.selectionMode==="week"){const[W,U]=e.showWeekNumber?[1,7]:[0,6],V=O(M[W+1]);M[W].inRange=V,M[W].start=V,M[U].inRange=V,M[U].end=V}},x=F(()=>{const{minDate:M,maxDate:W,rangeState:U,showWeekNumber:V}=e,H=w(f),K=w(s),j="day";let ne=1;if(V)for(let Q=0;Q<6;Q++)K[Q][0]||(K[Q][0]={type:"week",text:w(d).add(Q*7+1,j).week()});return lFe({row:6,column:7},K,{startDate:M,columnIndexOffset:V?1:0,nextEndDate:U.endDate||W||U.selecting&&M||null,now:Lt().locale(w(n)).startOf(j),unit:j,relativeDateGetter:Q=>w(d).add(Q-H,j),setCellMetadata:(...Q)=>{y(...Q,ne)&&(ne+=1)},setRowMetadata:b}),K});Le(()=>e.date,async()=>{var M;(M=w(r))!=null&&M.contains(document.activeElement)&&(await xt(),await _())});const _=async()=>{var M;return(M=w(a))==null?void 0:M.focus()},S=M=>e.selectionMode==="date"&&$O(M.type)&&C(M,e.parsedValue),C=(M,W)=>W?Lt(W).locale(w(n)).isSame(e.date.date(Number(M.text)),"day"):!1,k=(M,W)=>{const U=M*7+(W-(e.showWeekNumber?1:0))-w(f);return w(d).add(U,"day")},T=M=>{var W;if(!e.rangeState.selecting)return;let U=M.target;if(U.tagName==="SPAN"&&(U=(W=U.parentNode)==null?void 0:W.parentNode),U.tagName==="DIV"&&(U=U.parentNode),U.tagName!=="TD")return;const V=U.parentNode.rowIndex-1,H=U.cellIndex;w(x)[V][H].disabled||(V!==w(i)||H!==w(o))&&(i.value=V,o.value=H,t("changerange",{selecting:!0,endDate:k(V,H)}))},E=M=>!w(p)&&(M==null?void 0:M.text)===1&&M.type==="normal"||M.isCurrent,I=M=>{l||w(p)||e.selectionMode!=="date"||P(M,!0)},A=M=>{M.target.closest("td")&&(l=!0)},N=M=>{M.target.closest("td")&&(l=!1)},L=M=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:M,maxDate:null}),t("select",!0)):(M>=e.minDate?t("pick",{minDate:e.minDate,maxDate:M}):t("pick",{minDate:M,maxDate:e.minDate}),t("select",!1))},R=M=>{const W=M.week(),U=`${M.year()}w${W}`;t("pick",{year:M.year(),week:W,value:U,date:M.startOf("week")})},D=(M,W)=>{const U=W?Go(e.parsedValue).filter(V=>(V==null?void 0:V.valueOf())!==M.valueOf()):Go(e.parsedValue).concat([M]);t("pick",U)},P=(M,W=!1)=>{const U=M.target.closest("td");if(!U)return;const V=U.parentNode.rowIndex-1,H=U.cellIndex,K=w(x)[V][H];if(K.disabled||K.type==="week")return;const j=k(V,H);switch(e.selectionMode){case"range":{L(j);break}case"date":{t("pick",j,W);break}case"week":{R(j);break}case"dates":{D(j,!!K.selected);break}}},O=M=>{if(e.selectionMode!=="week")return!1;let W=e.date.startOf("day");if(M.type==="prev-month"&&(W=W.subtract(1,"month")),M.type==="next-month"&&(W=W.add(1,"month")),W=W.date(Number.parseInt(M.text,10)),e.parsedValue&&!Ke(e.parsedValue)){const U=(e.parsedValue.day()-u+7)%7-1;return e.parsedValue.subtract(U,"day").isSame(W,"day")}return!1};return{WEEKS:h,rows:x,tbodyRef:r,currentCellRef:a,focus:_,isCurrent:S,isWeekActive:O,isSelectedCell:E,handlePickDate:P,handleMouseUp:N,handleMouseDown:A,handleMouseMove:T,handleFocus:I}},dFe=(e,{isCurrent:t,isWeekActive:n})=>{const r=ze("date-table"),{t:a}=_n(),i=F(()=>[r.b(),{"is-week-mode":e.selectionMode==="week"}]),o=F(()=>a("el.datepicker.dateTablePrompt")),s=F(()=>a("el.datepicker.week"));return{tableKls:i,tableLabel:o,weekLabel:s,getCellClasses:c=>{const f=[];return $O(c.type)&&!c.disabled?(f.push("available"),c.type==="today"&&f.push("today")):f.push(c.type),t(c)&&f.push("current"),c.inRange&&($O(c.type)||e.selectionMode==="week")&&(f.push("in-range"),c.start&&f.push("start-date"),c.end&&f.push("end-date")),c.disabled&&f.push("disabled"),c.selected&&f.push("selected"),c.customClass&&f.push(c.customClass),f.join(" ")},getRowKls:c=>[r.e("row"),{current:n(c)}],t:a}},hFe=je({cell:{type:be(Object)}});var RB=se({name:"ElDatePickerCell",props:hFe,setup(e){const t=ze("date-table-cell"),{slots:n}=ht(EA);return()=>{const{cell:r}=e;return Se(n,"default",{...r},()=>{var a;return[ie("div",{class:t.b()},[ie("span",{class:t.e("text")},[(a=r==null?void 0:r.renderText)!=null?a:r==null?void 0:r.text])])]})}}});const pFe=se({__name:"basic-date-table",props:uFe,emits:cFe,setup(e,{expose:t,emit:n}){const r=e,{WEEKS:a,rows:i,tbodyRef:o,currentCellRef:s,focus:l,isCurrent:u,isWeekActive:c,isSelectedCell:f,handlePickDate:d,handleMouseUp:h,handleMouseDown:p,handleMouseMove:v,handleFocus:g}=fFe(r,n),{tableLabel:m,tableKls:y,weekLabel:b,getCellClasses:x,getRowKls:_,t:S}=dFe(r,{isCurrent:u,isWeekActive:c});return t({focus:l}),(C,k)=>(z(),q("table",{"aria-label":w(m),class:G(w(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:w(d),onMousemove:w(v),onMousedown:At(w(p),["prevent"]),onMouseup:w(h)},[Z("tbody",{ref_key:"tbodyRef",ref:o},[Z("tr",null,[C.showWeekNumber?(z(),q("th",{key:0,scope:"col"},Ve(w(b)),1)):Te("v-if",!0),(z(!0),q(vt,null,un(w(a),(T,E)=>(z(),q("th",{key:E,"aria-label":w(S)("el.datepicker.weeksFull."+T),scope:"col"},Ve(w(S)("el.datepicker.weeks."+T)),9,["aria-label"]))),128))]),(z(!0),q(vt,null,un(w(i),(T,E)=>(z(),q("tr",{key:E,class:G(w(_)(T[1]))},[(z(!0),q(vt,null,un(T,(I,A)=>(z(),q("td",{key:`${E}.${A}`,ref_for:!0,ref:N=>w(f)(I)&&(s.value=N),class:G(w(x)(I)),"aria-current":I.isCurrent?"date":void 0,"aria-selected":I.isCurrent,tabindex:w(f)(I)?0:-1,onFocus:w(g)},[ie(w(RB),{cell:I},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var LO=Ze(pFe,[["__file","basic-date-table.vue"]]);const vFe=je({...EB,selectionMode:DB("month")}),gFe=se({__name:"basic-month-table",props:vFe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,a=ze("month-table"),{t:i,lang:o}=_n(),s=Y(),l=Y(),u=Y(r.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),c=Y([[],[],[]]),f=Y(),d=Y(),h=F(()=>{var b,x;const _=c.value,S=Lt().locale(o.value).startOf("month");for(let C=0;C<3;C++){const k=_[C];for(let T=0;T<4;T++){const E=k[T]||(k[T]={row:C,column:T,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});E.type="normal";const I=C*4+T,A=r.date.startOf("year").month(I),N=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;E.inRange=!!(r.minDate&&A.isSameOrAfter(r.minDate,"month")&&N&&A.isSameOrBefore(N,"month"))||!!(r.minDate&&A.isSameOrBefore(r.minDate,"month")&&N&&A.isSameOrAfter(N,"month")),(b=r.minDate)!=null&&b.isSameOrAfter(N)?(E.start=!!(N&&A.isSame(N,"month")),E.end=r.minDate&&A.isSame(r.minDate,"month")):(E.start=!!(r.minDate&&A.isSame(r.minDate,"month")),E.end=!!(N&&A.isSame(N,"month"))),S.isSame(A)&&(E.type="today"),E.text=I,E.disabled=((x=r.disabledDate)==null?void 0:x.call(r,A.toDate()))||!1}}return _}),p=()=>{var b;(b=l.value)==null||b.focus()},v=b=>{const x={},_=r.date.year(),S=new Date,C=b.text;return x.disabled=r.disabledDate?Qk(_,C,o.value).every(r.disabledDate):!1,x.current=Go(r.parsedValue).findIndex(k=>Lt.isDayjs(k)&&k.year()===_&&k.month()===C)>=0,x.today=S.getFullYear()===_&&S.getMonth()===C,b.inRange&&(x["in-range"]=!0,b.start&&(x["start-date"]=!0),b.end&&(x["end-date"]=!0)),x},g=b=>{const x=r.date.year(),_=b.text;return Go(r.date).findIndex(S=>S.year()===x&&S.month()===_)>=0},m=b=>{var x;if(!r.rangeState.selecting)return;let _=b.target;if(_.tagName==="SPAN"&&(_=(x=_.parentNode)==null?void 0:x.parentNode),_.tagName==="DIV"&&(_=_.parentNode),_.tagName!=="TD")return;const S=_.parentNode.rowIndex,C=_.cellIndex;h.value[S][C].disabled||(S!==f.value||C!==d.value)&&(f.value=S,d.value=C,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(S*4+C)}))},y=b=>{var x;const _=(x=b.target)==null?void 0:x.closest("td");if((_==null?void 0:_.tagName)!=="TD"||xs(_,"disabled"))return;const S=_.cellIndex,k=_.parentNode.rowIndex*4+S,T=r.date.startOf("year").month(k);if(r.selectionMode==="months"){if(b.type==="keydown"){n("pick",Go(r.parsedValue),!1);return}const E=nw(r.date.year(),k,o.value,r.disabledDate),I=xs(_,"current")?Go(r.parsedValue).filter(A=>(A==null?void 0:A.month())!==E.month()):Go(r.parsedValue).concat([Lt(E)]);n("pick",I)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&T>=r.minDate?n("pick",{minDate:r.minDate,maxDate:T}):n("pick",{minDate:T,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:T,maxDate:null}),n("select",!0)):n("pick",k)};return Le(()=>r.date,async()=>{var b,x;(b=s.value)!=null&&b.contains(document.activeElement)&&(await xt(),(x=l.value)==null||x.focus())}),t({focus:p}),(b,x)=>(z(),q("table",{role:"grid","aria-label":w(i)("el.datepicker.monthTablePrompt"),class:G(w(a).b()),onClick:y,onMousemove:m},[Z("tbody",{ref_key:"tbodyRef",ref:s},[(z(!0),q(vt,null,un(w(h),(_,S)=>(z(),q("tr",{key:S},[(z(!0),q(vt,null,un(_,(C,k)=>(z(),q("td",{key:k,ref_for:!0,ref:T=>g(C)&&(l.value=T),class:G(v(C)),"aria-selected":`${g(C)}`,"aria-label":w(i)(`el.datepicker.month${+C.text+1}`),tabindex:g(C)?0:-1,onKeydown:[rr(At(y,["prevent","stop"]),["space"]),rr(At(y,["prevent","stop"]),["enter"])]},[ie(w(RB),{cell:{...C,renderText:w(i)("el.datepicker.months."+u.value[C.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var OO=Ze(gFe,[["__file","basic-month-table.vue"]]);const mFe=je({...EB,selectionMode:DB("year")}),yFe=se({__name:"basic-year-table",props:mFe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,a=(x,_)=>{const S=Lt(String(x)).locale(_).startOf("year"),k=S.endOf("year").dayOfYear();return fh(k).map(T=>S.add(T,"day").toDate())},i=ze("year-table"),{t:o,lang:s}=_n(),l=Y(),u=Y(),c=F(()=>Math.floor(r.date.year()/10)*10),f=Y([[],[],[]]),d=Y(),h=Y(),p=F(()=>{var x;const _=f.value,S=Lt().locale(s.value).startOf("year");for(let C=0;C<3;C++){const k=_[C];for(let T=0;T<4&&!(C*4+T>=10);T++){let E=k[T];E||(E={row:C,column:T,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),E.type="normal";const I=C*4+T+c.value,A=Lt().year(I),N=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;E.inRange=!!(r.minDate&&A.isSameOrAfter(r.minDate,"year")&&N&&A.isSameOrBefore(N,"year"))||!!(r.minDate&&A.isSameOrBefore(r.minDate,"year")&&N&&A.isSameOrAfter(N,"year")),(x=r.minDate)!=null&&x.isSameOrAfter(N)?(E.start=!!(N&&A.isSame(N,"year")),E.end=!!(r.minDate&&A.isSame(r.minDate,"year"))):(E.start=!!(r.minDate&&A.isSame(r.minDate,"year")),E.end=!!(N&&A.isSame(N,"year"))),S.isSame(A)&&(E.type="today"),E.text=I;const R=A.toDate();E.disabled=r.disabledDate&&r.disabledDate(R)||!1,k[T]=E}}return _}),v=()=>{var x;(x=u.value)==null||x.focus()},g=x=>{const _={},S=Lt().locale(s.value),C=x.text;return _.disabled=r.disabledDate?a(C,s.value).every(r.disabledDate):!1,_.today=S.year()===C,_.current=Go(r.parsedValue).findIndex(k=>k.year()===C)>=0,x.inRange&&(_["in-range"]=!0,x.start&&(_["start-date"]=!0),x.end&&(_["end-date"]=!0)),_},m=x=>{const _=x.text;return Go(r.date).findIndex(S=>S.year()===_)>=0},y=x=>{var _;const S=(_=x.target)==null?void 0:_.closest("td");if(!S||!S.textContent||xs(S,"disabled"))return;const C=S.cellIndex,T=S.parentNode.rowIndex*4+C+c.value,E=Lt().year(T);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&E>=r.minDate?n("pick",{minDate:r.minDate,maxDate:E}):n("pick",{minDate:E,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:E,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(x.type==="keydown"){n("pick",Go(r.parsedValue),!1);return}const I=MO(E.startOf("year"),s.value,r.disabledDate),A=xs(S,"current")?Go(r.parsedValue).filter(N=>(N==null?void 0:N.year())!==T):Go(r.parsedValue).concat([I]);n("pick",A)}else n("pick",T)},b=x=>{var _;if(!r.rangeState.selecting)return;const S=(_=x.target)==null?void 0:_.closest("td");if(!S)return;const C=S.parentNode.rowIndex,k=S.cellIndex;p.value[C][k].disabled||(C!==d.value||k!==h.value)&&(d.value=C,h.value=k,n("changerange",{selecting:!0,endDate:Lt().year(c.value).add(C*4+k,"year")}))};return Le(()=>r.date,async()=>{var x,_;(x=l.value)!=null&&x.contains(document.activeElement)&&(await xt(),(_=u.value)==null||_.focus())}),t({focus:v}),(x,_)=>(z(),q("table",{role:"grid","aria-label":w(o)("el.datepicker.yearTablePrompt"),class:G(w(i).b()),onClick:y,onMousemove:b},[Z("tbody",{ref_key:"tbodyRef",ref:l},[(z(!0),q(vt,null,un(w(p),(S,C)=>(z(),q("tr",{key:C},[(z(!0),q(vt,null,un(S,(k,T)=>(z(),q("td",{key:`${C}_${T}`,ref_for:!0,ref:E=>m(k)&&(u.value=E),class:G(["available",g(k)]),"aria-selected":m(k),"aria-label":String(k.text),tabindex:m(k)?0:-1,onKeydown:[rr(At(y,["prevent","stop"]),["space"]),rr(At(y,["prevent","stop"]),["enter"])]},[ie(w(RB),{cell:k},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var PO=Ze(yFe,[["__file","basic-year-table.vue"]]);const bFe=se({__name:"panel-date-pick",props:sFe,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=(Ne,nt,_e)=>!0,a=ze("picker-panel"),i=ze("date-picker"),o=qh(),s=Sa(),{t:l,lang:u}=_n(),c=ht("EP_PICKER_BASE"),f=ht(kA),{shortcuts:d,disabledDate:h,cellClassName:p,defaultTime:v}=c.props,g=Hn(c.props,"defaultValue"),m=Y(),y=Y(Lt().locale(u.value)),b=Y(!1);let x=!1;const _=F(()=>Lt(v).locale(u.value)),S=F(()=>y.value.month()),C=F(()=>y.value.year()),k=Y([]),T=Y(null),E=Y(null),I=Ne=>k.value.length>0?r(Ne,k.value,n.format||"HH:mm:ss"):!0,A=Ne=>v&&!Ie.value&&!b.value&&!x?_.value.year(Ne.year()).month(Ne.month()).date(Ne.date()):Q.value?Ne.millisecond(0):Ne.startOf("day"),N=(Ne,...nt)=>{if(!Ne)t("pick",Ne,...nt);else if(Ke(Ne)){const _e=Ne.map(A);t("pick",_e,...nt)}else t("pick",A(Ne),...nt);T.value=null,E.value=null,b.value=!1,x=!1},L=async(Ne,nt)=>{if(W.value==="date"){Ne=Ne;let _e=n.parsedValue?n.parsedValue.year(Ne.year()).month(Ne.month()).date(Ne.date()):Ne;I(_e)||(_e=k.value[0][0].year(Ne.year()).month(Ne.month()).date(Ne.date())),y.value=_e,N(_e,Q.value||nt),n.type==="datetime"&&(await xt(),wt())}else W.value==="week"?N(Ne.date):W.value==="dates"&&N(Ne,!0)},R=Ne=>{const nt=Ne?"add":"subtract";y.value=y.value[nt](1,"month"),ln("month")},D=Ne=>{const nt=y.value,_e=Ne?"add":"subtract";y.value=P.value==="year"?nt[_e](10,"year"):nt[_e](1,"year"),ln("year")},P=Y("date"),O=F(()=>{const Ne=l("el.datepicker.year");if(P.value==="year"){const nt=Math.floor(C.value/10)*10;return Ne?`${nt} ${Ne} - ${nt+9} ${Ne}`:`${nt} - ${nt+9}`}return`${C.value} ${Ne}`}),M=Ne=>{const nt=mt(Ne.value)?Ne.value():Ne.value;if(nt){x=!0,N(Lt(nt).locale(u.value));return}Ne.onClick&&Ne.onClick({attrs:o,slots:s,emit:t})},W=F(()=>{const{type:Ne}=n;return["week","month","months","year","years","dates"].includes(Ne)?Ne:"date"}),U=F(()=>W.value==="dates"||W.value==="months"||W.value==="years"),V=F(()=>W.value==="date"?P.value:W.value),H=F(()=>!!d.length),K=async(Ne,nt)=>{W.value==="month"?(y.value=nw(y.value.year(),Ne,u.value,h),N(y.value,!1)):W.value==="months"?N(Ne,nt??!0):(y.value=nw(y.value.year(),Ne,u.value,h),P.value="date",["month","year","date","week"].includes(W.value)&&(N(y.value,!0),await xt(),wt())),ln("month")},j=async(Ne,nt)=>{if(W.value==="year"){const _e=y.value.startOf("year").year(Ne);y.value=MO(_e,u.value,h),N(y.value,!1)}else if(W.value==="years")N(Ne,nt??!0);else{const _e=y.value.year(Ne);y.value=MO(_e,u.value,h),P.value="month",["month","year","date","week"].includes(W.value)&&(N(y.value,!0),await xt(),wt())}ln("year")},ne=async Ne=>{P.value=Ne,await xt(),wt()},Q=F(()=>n.type==="datetime"||n.type==="datetimerange"),oe=F(()=>{const Ne=Q.value||W.value==="dates",nt=W.value==="years",_e=W.value==="months",We=P.value==="date",de=P.value==="year",ft=P.value==="month";return Ne&&We||nt&&de||_e&&ft}),ae=F(()=>h?n.parsedValue?Ke(n.parsedValue)?h(n.parsedValue[0].toDate()):h(n.parsedValue.toDate()):!0:!1),me=()=>{if(U.value)N(n.parsedValue);else{let Ne=n.parsedValue;if(!Ne){const nt=Lt(v).locale(u.value),_e=It();Ne=nt.year(_e.year()).month(_e.month()).date(_e.date())}y.value=Ne,N(Ne)}},ve=F(()=>h?h(Lt().locale(u.value).toDate()):!1),B=()=>{const nt=Lt().locale(u.value).toDate();b.value=!0,(!h||!h(nt))&&I(nt)&&(y.value=Lt().locale(u.value),N(y.value))},re=F(()=>n.timeFormat||Nae(n.format)),ge=F(()=>n.dateFormat||Dae(n.format)),Ie=F(()=>{if(E.value)return E.value;if(!(!n.parsedValue&&!g.value))return(n.parsedValue||y.value).format(re.value)}),Ce=F(()=>{if(T.value)return T.value;if(!(!n.parsedValue&&!g.value))return(n.parsedValue||y.value).format(ge.value)}),he=Y(!1),J=()=>{he.value=!0},te=()=>{he.value=!1},xe=Ne=>({hour:Ne.hour(),minute:Ne.minute(),second:Ne.second(),year:Ne.year(),month:Ne.month(),date:Ne.date()}),Ee=(Ne,nt,_e)=>{const{hour:We,minute:de,second:ft}=xe(Ne),Gt=n.parsedValue?n.parsedValue.hour(We).minute(de).second(ft):Ne;y.value=Gt,N(y.value,!0),_e||(he.value=nt)},Qe=Ne=>{const nt=Lt(Ne,re.value).locale(u.value);if(nt.isValid()&&I(nt)){const{year:_e,month:We,date:de}=xe(y.value);y.value=nt.year(_e).month(We).date(de),E.value=null,he.value=!1,N(y.value,!0)}},Be=Ne=>{const nt=Lt(Ne,ge.value).locale(u.value);if(nt.isValid()){if(h&&h(nt.toDate()))return;const{hour:_e,minute:We,second:de}=xe(y.value);y.value=nt.hour(_e).minute(We).second(de),T.value=null,N(y.value,!0)}},ce=Ne=>Lt.isDayjs(Ne)&&Ne.isValid()&&(h?!h(Ne.toDate()):!0),Re=Ne=>Ke(Ne)?Ne.map(nt=>nt.format(n.format)):Ne.format(n.format),ct=Ne=>Lt(Ne,n.format).locale(u.value),It=()=>{const Ne=Lt(g.value).locale(u.value);if(!g.value){const nt=_.value;return Lt().hour(nt.hour()).minute(nt.minute()).second(nt.second()).locale(u.value)}return Ne},wt=async()=>{var Ne;["week","month","year","date"].includes(W.value)&&((Ne=m.value)==null||Ne.focus(),W.value==="week"&&_t(lt.down))},Qt=Ne=>{const{code:nt}=Ne;[lt.up,lt.down,lt.left,lt.right,lt.home,lt.end,lt.pageUp,lt.pageDown].includes(nt)&&(_t(nt),Ne.stopPropagation(),Ne.preventDefault()),[lt.enter,lt.space,lt.numpadEnter].includes(nt)&&T.value===null&&E.value===null&&(Ne.preventDefault(),N(y.value,!1))},_t=Ne=>{var nt;const{up:_e,down:We,left:de,right:ft,home:Gt,end:cn,pageUp:ir,pageDown:Eo}=lt,ra={year:{[_e]:-4,[We]:4,[de]:-1,[ft]:1,offset:(yn,Mi)=>yn.setFullYear(yn.getFullYear()+Mi)},month:{[_e]:-4,[We]:4,[de]:-1,[ft]:1,offset:(yn,Mi)=>yn.setMonth(yn.getMonth()+Mi)},week:{[_e]:-1,[We]:1,[de]:-1,[ft]:1,offset:(yn,Mi)=>yn.setDate(yn.getDate()+Mi*7)},date:{[_e]:-7,[We]:7,[de]:-1,[ft]:1,[Gt]:yn=>-yn.getDay(),[cn]:yn=>-yn.getDay()+6,[ir]:yn=>-new Date(yn.getFullYear(),yn.getMonth(),0).getDate(),[Eo]:yn=>new Date(yn.getFullYear(),yn.getMonth()+1,0).getDate(),offset:(yn,Mi)=>yn.setDate(yn.getDate()+Mi)}},wr=y.value.toDate();for(;Math.abs(y.value.diff(wr,"year",!0))<1;){const yn=ra[V.value];if(!yn)return;if(yn.offset(wr,mt(yn[Ne])?yn[Ne](wr):(nt=yn[Ne])!=null?nt:0),h&&h(wr))break;const Mi=Lt(wr).locale(u.value);y.value=Mi,t("pick",Mi,!0);break}},ln=Ne=>{t("panel-change",y.value.toDate(),Ne,P.value)};return Le(()=>W.value,Ne=>{if(["month","year"].includes(Ne)){P.value=Ne;return}else if(Ne==="years"){P.value="year";return}else if(Ne==="months"){P.value="month";return}P.value="date"},{immediate:!0}),Le(()=>P.value,()=>{f==null||f.updatePopper()}),Le(()=>g.value,Ne=>{Ne&&(y.value=It())},{immediate:!0}),Le(()=>n.parsedValue,Ne=>{if(Ne){if(U.value||Ke(Ne))return;y.value=Ne}else y.value=It()},{immediate:!0}),t("set-picker-option",["isValidValue",ce]),t("set-picker-option",["formatToString",Re]),t("set-picker-option",["parseUserInput",ct]),t("set-picker-option",["handleFocusPicker",wt]),(Ne,nt)=>(z(),q("div",{class:G([w(a).b(),w(i).b(),{"has-sidebar":Ne.$slots.sidebar||w(H),"has-time":w(Q)}])},[Z("div",{class:G(w(a).e("body-wrapper"))},[Se(Ne.$slots,"sidebar",{class:G(w(a).e("sidebar"))}),w(H)?(z(),q("div",{key:0,class:G(w(a).e("sidebar"))},[(z(!0),q(vt,null,un(w(d),(_e,We)=>(z(),q("button",{key:We,type:"button",class:G(w(a).e("shortcut")),onClick:de=>M(_e)},Ve(_e.text),11,["onClick"]))),128))],2)):Te("v-if",!0),Z("div",{class:G(w(a).e("body"))},[w(Q)?(z(),q("div",{key:0,class:G(w(i).e("time-header"))},[Z("span",{class:G(w(i).e("editor-wrap"))},[ie(w(mo),{placeholder:w(l)("el.datepicker.selectDate"),"model-value":w(Ce),size:"small","validate-event":!1,onInput:_e=>T.value=_e,onChange:Be},null,8,["placeholder","model-value","onInput"])],2),Vt((z(),q("span",{class:G(w(i).e("editor-wrap"))},[ie(w(mo),{placeholder:w(l)("el.datepicker.selectTime"),"model-value":w(Ie),size:"small","validate-event":!1,onFocus:J,onInput:_e=>E.value=_e,onChange:Qe},null,8,["placeholder","model-value","onInput"]),ie(w(Jk),{visible:he.value,format:w(re),"parsed-value":y.value,onPick:Ee},null,8,["visible","format","parsed-value"])],2)),[[w(Uf),te]])],2)):Te("v-if",!0),Vt(Z("div",{class:G([w(i).e("header"),(P.value==="year"||P.value==="month")&&w(i).e("header--bordered")])},[Z("span",{class:G(w(i).e("prev-btn"))},[Z("button",{type:"button","aria-label":w(l)("el.datepicker.prevYear"),class:G(["d-arrow-left",w(a).e("icon-btn")]),onClick:_e=>D(!1)},[Se(Ne.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Eh))]),_:1})])],10,["aria-label","onClick"]),Vt(Z("button",{type:"button","aria-label":w(l)("el.datepicker.prevMonth"),class:G([w(a).e("icon-btn"),"arrow-left"]),onClick:_e=>R(!1)},[Se(Ne.$slots,"prev-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["aria-label","onClick"]),[[En,P.value==="date"]])],2),Z("span",{role:"button",class:G(w(i).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:rr(_e=>ne("year"),["enter"]),onClick:_e=>ne("year")},Ve(w(O)),43,["onKeydown","onClick"]),Vt(Z("span",{role:"button","aria-live":"polite",tabindex:"0",class:G([w(i).e("header-label"),{active:P.value==="month"}]),onKeydown:rr(_e=>ne("month"),["enter"]),onClick:_e=>ne("month")},Ve(w(l)(`el.datepicker.month${w(S)+1}`)),43,["onKeydown","onClick"]),[[En,P.value==="date"]]),Z("span",{class:G(w(i).e("next-btn"))},[Vt(Z("button",{type:"button","aria-label":w(l)("el.datepicker.nextMonth"),class:G([w(a).e("icon-btn"),"arrow-right"]),onClick:_e=>R(!0)},[Se(Ne.$slots,"next-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})])],10,["aria-label","onClick"]),[[En,P.value==="date"]]),Z("button",{type:"button","aria-label":w(l)("el.datepicker.nextYear"),class:G([w(a).e("icon-btn"),"d-arrow-right"]),onClick:_e=>D(!0)},[Se(Ne.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ah))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[En,P.value!=="time"]]),Z("div",{class:G(w(a).e("content")),onKeydown:Qt},[P.value==="date"?(z(),Ae(LO,{key:0,ref_key:"currentViewRef",ref:m,"selection-mode":w(W),date:y.value,"parsed-value":Ne.parsedValue,"disabled-date":w(h),"cell-class-name":w(p),onPick:L},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Te("v-if",!0),P.value==="year"?(z(),Ae(PO,{key:1,ref_key:"currentViewRef",ref:m,"selection-mode":w(W),date:y.value,"disabled-date":w(h),"parsed-value":Ne.parsedValue,onPick:j},null,8,["selection-mode","date","disabled-date","parsed-value"])):Te("v-if",!0),P.value==="month"?(z(),Ae(OO,{key:2,ref_key:"currentViewRef",ref:m,"selection-mode":w(W),date:y.value,"parsed-value":Ne.parsedValue,"disabled-date":w(h),onPick:K},null,8,["selection-mode","date","parsed-value","disabled-date"])):Te("v-if",!0)],34)],2)],2),Vt(Z("div",{class:G(w(a).e("footer"))},[Vt(ie(w(si),{text:"",size:"small",class:G(w(a).e("link-btn")),disabled:w(ve),onClick:B},{default:fe(()=>[Kt(Ve(w(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[En,!w(U)&&Ne.showNow]]),ie(w(si),{plain:"",size:"small",class:G(w(a).e("link-btn")),disabled:w(ae),onClick:me},{default:fe(()=>[Kt(Ve(w(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[En,w(oe)]])],2))}});var xFe=Ze(bFe,[["__file","panel-date-pick.vue"]]);const wFe=je({...fie,...AB,visible:Boolean}),die=e=>{const{emit:t}=jt(),n=qh(),r=Sa();return i=>{const o=mt(i.value)?i.value():i.value;if(o){t("pick",[Lt(o[0]).locale(e.value),Lt(o[1]).locale(e.value)]);return}i.onClick&&i.onClick({attrs:n,slots:r,emit:t})}},hie=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:a,onParsedValueChanged:i})=>{const{emit:o}=jt(),{pickerNs:s}=ht(EA),l=ze("date-range-picker"),{t:u,lang:c}=_n(),f=die(c),d=Y(),h=Y(),p=Y({endDate:null,selecting:!1}),v=x=>{p.value=x},g=(x=!1)=>{const _=w(d),S=w(h);ry([_,S])&&o("pick",[_,S],x)},m=x=>{p.value.selecting=x,x||(p.value.endDate=null)},y=x=>{if(Ke(x)&&x.length===2){const[_,S]=x;d.value=_,n.value=_,h.value=S,i(w(d),w(h))}else b()},b=()=>{const[x,_]=NB(w(t),{lang:w(c),unit:a,unlinkPanels:e.unlinkPanels});d.value=void 0,h.value=void 0,n.value=x,r.value=_};return Le(t,x=>{x&&b()},{immediate:!0}),Le(()=>e.parsedValue,y,{immediate:!0}),{minDate:d,maxDate:h,rangeState:p,lang:c,ppNs:s,drpNs:l,handleChangeRange:v,handleRangeConfirm:g,handleShortcutClick:f,onSelect:m,onReset:y,t:u}},UC="month",_Fe=se({__name:"panel-date-range",props:wFe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=ht("EP_PICKER_BASE"),{disabledDate:a,cellClassName:i,defaultTime:o,clearable:s}=r.props,l=Hn(r.props,"format"),u=Hn(r.props,"shortcuts"),c=Hn(r.props,"defaultValue"),{lang:f}=_n(),d=Y(Lt().locale(f.value)),h=Y(Lt().locale(f.value).add(1,UC)),{minDate:p,maxDate:v,rangeState:g,ppNs:m,drpNs:y,handleChangeRange:b,handleRangeConfirm:x,handleShortcutClick:_,onSelect:S,onReset:C,t:k}=hie(n,{defaultValue:c,leftDate:d,rightDate:h,unit:UC,onParsedValueChanged:nt});Le(()=>n.visible,_e=>{!_e&&g.value.selecting&&(C(n.parsedValue),S(!1))});const T=Y({min:null,max:null}),E=Y({min:null,max:null}),I=F(()=>`${d.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${d.value.month()+1}`)}`),A=F(()=>`${h.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${h.value.month()+1}`)}`),N=F(()=>d.value.year()),L=F(()=>d.value.month()),R=F(()=>h.value.year()),D=F(()=>h.value.month()),P=F(()=>!!u.value.length),O=F(()=>T.value.min!==null?T.value.min:p.value?p.value.format(H.value):""),M=F(()=>T.value.max!==null?T.value.max:v.value||p.value?(v.value||p.value).format(H.value):""),W=F(()=>E.value.min!==null?E.value.min:p.value?p.value.format(V.value):""),U=F(()=>E.value.max!==null?E.value.max:v.value||p.value?(v.value||p.value).format(V.value):""),V=F(()=>n.timeFormat||Nae(l.value)),H=F(()=>n.dateFormat||Dae(l.value)),K=_e=>ry(_e)&&(a?!a(_e[0].toDate())&&!a(_e[1].toDate()):!0),j=()=>{d.value=d.value.subtract(1,"year"),n.unlinkPanels||(h.value=d.value.add(1,"month")),re("year")},ne=()=>{d.value=d.value.subtract(1,"month"),n.unlinkPanels||(h.value=d.value.add(1,"month")),re("month")},Q=()=>{n.unlinkPanels?h.value=h.value.add(1,"year"):(d.value=d.value.add(1,"year"),h.value=d.value.add(1,"month")),re("year")},oe=()=>{n.unlinkPanels?h.value=h.value.add(1,"month"):(d.value=d.value.add(1,"month"),h.value=d.value.add(1,"month")),re("month")},ae=()=>{d.value=d.value.add(1,"year"),re("year")},me=()=>{d.value=d.value.add(1,"month"),re("month")},ve=()=>{h.value=h.value.subtract(1,"year"),re("year")},B=()=>{h.value=h.value.subtract(1,"month"),re("month")},re=_e=>{t("panel-change",[d.value.toDate(),h.value.toDate()],_e)},ge=F(()=>{const _e=(L.value+1)%12,We=L.value+1>=12?1:0;return n.unlinkPanels&&new Date(N.value+We,_e)<new Date(R.value,D.value)}),Ie=F(()=>n.unlinkPanels&&R.value*12+D.value-(N.value*12+L.value+1)>=12),Ce=F(()=>!(p.value&&v.value&&!g.value.selecting&&ry([p.value,v.value]))),he=F(()=>n.type==="datetime"||n.type==="datetimerange"),J=(_e,We)=>{if(_e)return o?Lt(o[We]||o).locale(f.value).year(_e.year()).month(_e.month()).date(_e.date()):_e},te=(_e,We=!0)=>{const de=_e.minDate,ft=_e.maxDate,Gt=J(de,0),cn=J(ft,1);v.value===cn&&p.value===Gt||(t("calendar-change",[de.toDate(),ft&&ft.toDate()]),v.value=cn,p.value=Gt,!(!We||he.value)&&x())},xe=Y(!1),Ee=Y(!1),Qe=()=>{xe.value=!1},Be=()=>{Ee.value=!1},ce=(_e,We)=>{T.value[We]=_e;const de=Lt(_e,H.value).locale(f.value);if(de.isValid()){if(a&&a(de.toDate()))return;We==="min"?(d.value=de,p.value=(p.value||d.value).year(de.year()).month(de.month()).date(de.date()),!n.unlinkPanels&&(!v.value||v.value.isBefore(p.value))&&(h.value=de.add(1,"month"),v.value=p.value.add(1,"month"))):(h.value=de,v.value=(v.value||h.value).year(de.year()).month(de.month()).date(de.date()),!n.unlinkPanels&&(!p.value||p.value.isAfter(v.value))&&(d.value=de.subtract(1,"month"),p.value=v.value.subtract(1,"month")))}},Re=(_e,We)=>{T.value[We]=null},ct=(_e,We)=>{E.value[We]=_e;const de=Lt(_e,V.value).locale(f.value);de.isValid()&&(We==="min"?(xe.value=!0,p.value=(p.value||d.value).hour(de.hour()).minute(de.minute()).second(de.second())):(Ee.value=!0,v.value=(v.value||h.value).hour(de.hour()).minute(de.minute()).second(de.second()),h.value=v.value))},It=(_e,We)=>{E.value[We]=null,We==="min"?(d.value=p.value,xe.value=!1,(!v.value||v.value.isBefore(p.value))&&(v.value=p.value)):(h.value=v.value,Ee.value=!1,v.value&&v.value.isBefore(p.value)&&(p.value=v.value))},wt=(_e,We,de)=>{E.value.min||(_e&&(d.value=_e,p.value=(p.value||d.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())),de||(xe.value=We),(!v.value||v.value.isBefore(p.value))&&(v.value=p.value,h.value=_e))},Qt=(_e,We,de)=>{E.value.max||(_e&&(h.value=_e,v.value=(v.value||h.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())),de||(Ee.value=We),v.value&&v.value.isBefore(p.value)&&(p.value=v.value))},_t=()=>{d.value=NB(w(c),{lang:w(f),unit:"month",unlinkPanels:n.unlinkPanels})[0],h.value=d.value.add(1,"month"),v.value=void 0,p.value=void 0,t("pick",null)},ln=_e=>Ke(_e)?_e.map(We=>We.format(l.value)):_e.format(l.value),Ne=_e=>Ke(_e)?_e.map(We=>Lt(We,l.value).locale(f.value)):Lt(_e,l.value).locale(f.value);function nt(_e,We){if(n.unlinkPanels&&We){const de=(_e==null?void 0:_e.year())||0,ft=(_e==null?void 0:_e.month())||0,Gt=We.year(),cn=We.month();h.value=de===Gt&&ft===cn?We.add(1,UC):We}else h.value=d.value.add(1,UC),We&&(h.value=h.value.hour(We.hour()).minute(We.minute()).second(We.second()))}return t("set-picker-option",["isValidValue",K]),t("set-picker-option",["parseUserInput",Ne]),t("set-picker-option",["formatToString",ln]),t("set-picker-option",["handleClear",_t]),(_e,We)=>(z(),q("div",{class:G([w(m).b(),w(y).b(),{"has-sidebar":_e.$slots.sidebar||w(P),"has-time":w(he)}])},[Z("div",{class:G(w(m).e("body-wrapper"))},[Se(_e.$slots,"sidebar",{class:G(w(m).e("sidebar"))}),w(P)?(z(),q("div",{key:0,class:G(w(m).e("sidebar"))},[(z(!0),q(vt,null,un(w(u),(de,ft)=>(z(),q("button",{key:ft,type:"button",class:G(w(m).e("shortcut")),onClick:Gt=>w(_)(de)},Ve(de.text),11,["onClick"]))),128))],2)):Te("v-if",!0),Z("div",{class:G(w(m).e("body"))},[w(he)?(z(),q("div",{key:0,class:G(w(y).e("time-header"))},[Z("span",{class:G(w(y).e("editors-wrap"))},[Z("span",{class:G(w(y).e("time-picker-wrap"))},[ie(w(mo),{size:"small",disabled:w(g).selecting,placeholder:w(k)("el.datepicker.startDate"),class:G(w(y).e("editor")),"model-value":w(O),"validate-event":!1,onInput:de=>ce(de,"min"),onChange:de=>Re(de,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Vt((z(),q("span",{class:G(w(y).e("time-picker-wrap"))},[ie(w(mo),{size:"small",class:G(w(y).e("editor")),disabled:w(g).selecting,placeholder:w(k)("el.datepicker.startTime"),"model-value":w(W),"validate-event":!1,onFocus:de=>xe.value=!0,onInput:de=>ct(de,"min"),onChange:de=>It(de,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),ie(w(Jk),{visible:xe.value,format:w(V),"datetime-role":"start","parsed-value":d.value,onPick:wt},null,8,["visible","format","parsed-value"])],2)),[[w(Uf),Qe]])],2),Z("span",null,[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})]),Z("span",{class:G([w(y).e("editors-wrap"),"is-right"])},[Z("span",{class:G(w(y).e("time-picker-wrap"))},[ie(w(mo),{size:"small",class:G(w(y).e("editor")),disabled:w(g).selecting,placeholder:w(k)("el.datepicker.endDate"),"model-value":w(M),readonly:!w(p),"validate-event":!1,onInput:de=>ce(de,"max"),onChange:de=>Re(de,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Vt((z(),q("span",{class:G(w(y).e("time-picker-wrap"))},[ie(w(mo),{size:"small",class:G(w(y).e("editor")),disabled:w(g).selecting,placeholder:w(k)("el.datepicker.endTime"),"model-value":w(U),readonly:!w(p),"validate-event":!1,onFocus:de=>w(p)&&(Ee.value=!0),onInput:de=>ct(de,"max"),onChange:de=>It(de,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),ie(w(Jk),{"datetime-role":"end",visible:Ee.value,format:w(V),"parsed-value":h.value,onPick:Qt},null,8,["visible","format","parsed-value"])],2)),[[w(Uf),Be]])],2)],2)):Te("v-if",!0),Z("div",{class:G([[w(m).e("content"),w(y).e("content")],"is-left"])},[Z("div",{class:G(w(y).e("header"))},[Z("button",{type:"button",class:G([w(m).e("icon-btn"),"d-arrow-left"]),"aria-label":w(k)("el.datepicker.prevYear"),onClick:j},[Se(_e.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Eh))]),_:1})])],10,["aria-label"]),Z("button",{type:"button",class:G([w(m).e("icon-btn"),"arrow-left"]),"aria-label":w(k)("el.datepicker.prevMonth"),onClick:ne},[Se(_e.$slots,"prev-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["aria-label"]),_e.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(Ie),class:G([[w(m).e("icon-btn"),{"is-disabled":!w(Ie)}],"d-arrow-right"]),"aria-label":w(k)("el.datepicker.nextYear"),onClick:ae},[Se(_e.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ah))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),_e.unlinkPanels?(z(),q("button",{key:1,type:"button",disabled:!w(ge),class:G([[w(m).e("icon-btn"),{"is-disabled":!w(ge)}],"arrow-right"]),"aria-label":w(k)("el.datepicker.nextMonth"),onClick:me},[Se(_e.$slots,"next-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),Z("div",null,Ve(w(I)),1)],2),ie(LO,{"selection-mode":"range",date:d.value,"min-date":w(p),"max-date":w(v),"range-state":w(g),"disabled-date":w(a),"cell-class-name":w(i),onChangerange:w(b),onPick:te,onSelect:w(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:G([[w(m).e("content"),w(y).e("content")],"is-right"])},[Z("div",{class:G(w(y).e("header"))},[_e.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(Ie),class:G([[w(m).e("icon-btn"),{"is-disabled":!w(Ie)}],"d-arrow-left"]),"aria-label":w(k)("el.datepicker.prevYear"),onClick:ve},[Se(_e.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Eh))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),_e.unlinkPanels?(z(),q("button",{key:1,type:"button",disabled:!w(ge),class:G([[w(m).e("icon-btn"),{"is-disabled":!w(ge)}],"arrow-left"]),"aria-label":w(k)("el.datepicker.prevMonth"),onClick:B},[Se(_e.$slots,"prev-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),Z("button",{type:"button","aria-label":w(k)("el.datepicker.nextYear"),class:G([w(m).e("icon-btn"),"d-arrow-right"]),onClick:Q},[Se(_e.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ah))]),_:1})])],10,["aria-label"]),Z("button",{type:"button",class:G([w(m).e("icon-btn"),"arrow-right"]),"aria-label":w(k)("el.datepicker.nextMonth"),onClick:oe},[Se(_e.$slots,"next-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})])],10,["aria-label"]),Z("div",null,Ve(w(A)),1)],2),ie(LO,{"selection-mode":"range",date:h.value,"min-date":w(p),"max-date":w(v),"range-state":w(g),"disabled-date":w(a),"cell-class-name":w(i),onChangerange:w(b),onPick:te,onSelect:w(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),w(he)?(z(),q("div",{key:0,class:G(w(m).e("footer"))},[w(s)?(z(),Ae(w(si),{key:0,text:"",size:"small",class:G(w(m).e("link-btn")),onClick:_t},{default:fe(()=>[Kt(Ve(w(k)("el.datepicker.clear")),1)]),_:1},8,["class"])):Te("v-if",!0),ie(w(si),{plain:"",size:"small",class:G(w(m).e("link-btn")),disabled:w(Ce),onClick:de=>w(x)(!1)},{default:fe(()=>[Kt(Ve(w(k)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Te("v-if",!0)],2))}});var SFe=Ze(_Fe,[["__file","panel-date-range.vue"]]);const CFe=je({...AB}),TFe=["pick","set-picker-option","calendar-change"],kFe=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=_n(),a=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},i=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},o=()=>{t.value=t.value.add(1,"year")},s=()=>{n.value=n.value.subtract(1,"year")},l=F(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=F(()=>`${n.value.year()} ${r("el.datepicker.year")}`),c=F(()=>t.value.year()),f=F(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:a,rightNextYear:i,leftNextYear:o,rightPrevYear:s,leftLabel:l,rightLabel:u,leftYear:c,rightYear:f}},GC="year",IFe=se({name:"DatePickerMonthRange"}),EFe=se({...IFe,props:CFe,emits:TFe,setup(e,{emit:t}){const n=e,{lang:r}=_n(),a=ht("EP_PICKER_BASE"),{shortcuts:i,disabledDate:o}=a.props,s=Hn(a.props,"format"),l=Hn(a.props,"defaultValue"),u=Y(Lt().locale(r.value)),c=Y(Lt().locale(r.value).add(1,GC)),{minDate:f,maxDate:d,rangeState:h,ppNs:p,drpNs:v,handleChangeRange:g,handleRangeConfirm:m,handleShortcutClick:y,onSelect:b}=hie(n,{defaultValue:l,leftDate:u,rightDate:c,unit:GC,onParsedValueChanged:O}),x=F(()=>!!i.length),{leftPrevYear:_,rightNextYear:S,leftNextYear:C,rightPrevYear:k,leftLabel:T,rightLabel:E,leftYear:I,rightYear:A}=kFe({unlinkPanels:Hn(n,"unlinkPanels"),leftDate:u,rightDate:c}),N=F(()=>n.unlinkPanels&&A.value>I.value+1),L=(M,W=!0)=>{const U=M.minDate,V=M.maxDate;d.value===V&&f.value===U||(t("calendar-change",[U.toDate(),V&&V.toDate()]),d.value=V,f.value=U,W&&m())},R=()=>{u.value=NB(w(l),{lang:w(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],c.value=u.value.add(1,"year"),t("pick",null)},D=M=>Ke(M)?M.map(W=>W.format(s.value)):M.format(s.value),P=M=>Ke(M)?M.map(W=>Lt(W,s.value).locale(r.value)):Lt(M,s.value).locale(r.value);function O(M,W){if(n.unlinkPanels&&W){const U=(M==null?void 0:M.year())||0,V=W.year();c.value=U===V?W.add(1,GC):W}else c.value=u.value.add(1,GC)}return t("set-picker-option",["isValidValue",ry]),t("set-picker-option",["formatToString",D]),t("set-picker-option",["parseUserInput",P]),t("set-picker-option",["handleClear",R]),(M,W)=>(z(),q("div",{class:G([w(p).b(),w(v).b(),{"has-sidebar":!!M.$slots.sidebar||w(x)}])},[Z("div",{class:G(w(p).e("body-wrapper"))},[Se(M.$slots,"sidebar",{class:G(w(p).e("sidebar"))}),w(x)?(z(),q("div",{key:0,class:G(w(p).e("sidebar"))},[(z(!0),q(vt,null,un(w(i),(U,V)=>(z(),q("button",{key:V,type:"button",class:G(w(p).e("shortcut")),onClick:H=>w(y)(U)},Ve(U.text),11,["onClick"]))),128))],2)):Te("v-if",!0),Z("div",{class:G(w(p).e("body"))},[Z("div",{class:G([[w(p).e("content"),w(v).e("content")],"is-left"])},[Z("div",{class:G(w(v).e("header"))},[Z("button",{type:"button",class:G([w(p).e("icon-btn"),"d-arrow-left"]),onClick:w(_)},[Se(M.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Eh))]),_:1})])],10,["onClick"]),M.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(N),class:G([[w(p).e("icon-btn"),{[w(p).is("disabled")]:!w(N)}],"d-arrow-right"]),onClick:w(C)},[Se(M.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ah))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),Z("div",null,Ve(w(T)),1)],2),ie(OO,{"selection-mode":"range",date:u.value,"min-date":w(f),"max-date":w(d),"range-state":w(h),"disabled-date":w(o),onChangerange:w(g),onPick:L,onSelect:w(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Z("div",{class:G([[w(p).e("content"),w(v).e("content")],"is-right"])},[Z("div",{class:G(w(v).e("header"))},[M.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(N),class:G([[w(p).e("icon-btn"),{"is-disabled":!w(N)}],"d-arrow-left"]),onClick:w(k)},[Se(M.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Eh))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),Z("button",{type:"button",class:G([w(p).e("icon-btn"),"d-arrow-right"]),onClick:w(S)},[Se(M.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ah))]),_:1})])],10,["onClick"]),Z("div",null,Ve(w(E)),1)],2),ie(OO,{"selection-mode":"range",date:c.value,"min-date":w(f),"max-date":w(d),"range-state":w(h),"disabled-date":w(o),onChangerange:w(g),onPick:L,onSelect:w(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var AFe=Ze(EFe,[["__file","panel-month-range.vue"]]);const DFe=je({...AB}),NFe=["pick","set-picker-option","calendar-change"],RFe=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},a=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},i=()=>{t.value=t.value.add(10,"year")},o=()=>{n.value=n.value.subtract(10,"year")},s=F(()=>{const f=Math.floor(t.value.year()/10)*10;return`${f}-${f+9}`}),l=F(()=>{const f=Math.floor(n.value.year()/10)*10;return`${f}-${f+9}`}),u=F(()=>Math.floor(t.value.year()/10)*10+9),c=F(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:a,leftNextYear:i,rightPrevYear:o,leftLabel:s,rightLabel:l,leftYear:u,rightYear:c}},AG="year",MFe=se({name:"DatePickerYearRange"}),$Fe=se({...MFe,props:DFe,emits:NFe,setup(e,{emit:t}){const n=e,{lang:r}=_n(),a=Y(Lt().locale(r.value)),i=Y(a.value.add(10,"year")),{pickerNs:o}=ht(EA),s=ze("date-range-picker"),l=F(()=>!!L.length),u=F(()=>[o.b(),s.b(),{"has-sidebar":!!Sa().sidebar||l.value}]),c=F(()=>({content:[o.e("content"),s.e("content"),"is-left"],arrowLeftBtn:[o.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),{[o.is("disabled")]:!_.value},"d-arrow-right"]})),f=F(()=>({content:[o.e("content"),s.e("content"),"is-right"],arrowLeftBtn:[o.e("icon-btn"),{"is-disabled":!_.value},"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),"d-arrow-right"]})),d=die(r),{leftPrevYear:h,rightNextYear:p,leftNextYear:v,rightPrevYear:g,leftLabel:m,rightLabel:y,leftYear:b,rightYear:x}=RFe({unlinkPanels:Hn(n,"unlinkPanels"),leftDate:a,rightDate:i}),_=F(()=>n.unlinkPanels&&x.value>b.value+1),S=Y(),C=Y(),k=Y({endDate:null,selecting:!1}),T=H=>{k.value=H},E=(H,K=!0)=>{const j=H.minDate,ne=H.maxDate;C.value===ne&&S.value===j||(t("calendar-change",[j.toDate(),ne&&ne.toDate()]),C.value=ne,S.value=j,K&&I())},I=(H=!1)=>{ry([S.value,C.value])&&t("pick",[S.value,C.value],H)},A=H=>{k.value.selecting=H,H||(k.value.endDate=null)},N=ht("EP_PICKER_BASE"),{shortcuts:L,disabledDate:R}=N.props,D=Hn(N.props,"format"),P=Hn(N.props,"defaultValue"),O=()=>{let H;if(Ke(P.value)){const K=Lt(P.value[0]);let j=Lt(P.value[1]);return n.unlinkPanels||(j=K.add(10,AG)),[K,j]}else P.value?H=Lt(P.value):H=Lt();return H=H.locale(r.value),[H,H.add(10,AG)]};Le(()=>P.value,H=>{if(H){const K=O();a.value=K[0],i.value=K[1]}},{immediate:!0}),Le(()=>n.parsedValue,H=>{if(H&&H.length===2)if(S.value=H[0],C.value=H[1],a.value=S.value,n.unlinkPanels&&C.value){const K=S.value.year(),j=C.value.year();i.value=K===j?C.value.add(10,"year"):C.value}else i.value=a.value.add(10,"year");else{const K=O();S.value=void 0,C.value=void 0,a.value=K[0],i.value=K[1]}},{immediate:!0});const M=H=>Ke(H)?H.map(K=>Lt(K,D.value).locale(r.value)):Lt(H,D.value).locale(r.value),W=H=>Ke(H)?H.map(K=>K.format(D.value)):H.format(D.value),U=H=>ry(H)&&(R?!R(H[0].toDate())&&!R(H[1].toDate()):!0),V=()=>{const H=O();a.value=H[0],i.value=H[1],C.value=void 0,S.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",U]),t("set-picker-option",["parseUserInput",M]),t("set-picker-option",["formatToString",W]),t("set-picker-option",["handleClear",V]),(H,K)=>(z(),q("div",{class:G(w(u))},[Z("div",{class:G(w(o).e("body-wrapper"))},[Se(H.$slots,"sidebar",{class:G(w(o).e("sidebar"))}),w(l)?(z(),q("div",{key:0,class:G(w(o).e("sidebar"))},[(z(!0),q(vt,null,un(w(L),(j,ne)=>(z(),q("button",{key:ne,type:"button",class:G(w(o).e("shortcut")),onClick:Q=>w(d)(j)},Ve(j.text),11,["onClick"]))),128))],2)):Te("v-if",!0),Z("div",{class:G(w(o).e("body"))},[Z("div",{class:G(w(c).content)},[Z("div",{class:G(w(s).e("header"))},[Z("button",{type:"button",class:G(w(c).arrowLeftBtn),onClick:w(h)},[Se(H.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Eh))]),_:1})])],10,["onClick"]),H.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(_),class:G(w(c).arrowRightBtn),onClick:w(v)},[Se(H.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ah))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),Z("div",null,Ve(w(m)),1)],2),ie(PO,{"selection-mode":"range",date:a.value,"min-date":S.value,"max-date":C.value,"range-state":k.value,"disabled-date":w(R),onChangerange:T,onPick:E,onSelect:A},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),Z("div",{class:G(w(f).content)},[Z("div",{class:G(w(s).e("header"))},[H.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(_),class:G(w(f).arrowLeftBtn),onClick:w(g)},[Se(H.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Eh))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),Z("button",{type:"button",class:G(w(f).arrowRightBtn),onClick:w(p)},[Se(H.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ah))]),_:1})])],10,["onClick"]),Z("div",null,Ve(w(y)),1)],2),ie(PO,{"selection-mode":"range",date:i.value,"min-date":S.value,"max-date":C.value,"range-state":k.value,"disabled-date":w(R),onChangerange:T,onPick:E,onSelect:A},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var LFe=Ze($Fe,[["__file","panel-year-range.vue"]]);const OFe=function(e){switch(e){case"daterange":case"datetimerange":return SFe;case"monthrange":return AFe;case"yearrange":return LFe;default:return xFe}};Lt.extend(Rae);Lt.extend(xPe);Lt.extend(kB);Lt.extend(CPe);Lt.extend(EPe);Lt.extend(RPe);Lt.extend(OPe);Lt.extend(VPe);var PFe=se({name:"ElDatePicker",install:null,props:iFe,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const a=ze("picker-panel");hn("ElPopperOptions",Ln(Hn(e,"popperOptions"))),hn(EA,{slots:r,pickerNs:a});const i=Y();t({focus:()=>{var l;(l=i.value)==null||l.focus()},blur:()=>{var l;(l=i.value)==null||l.blur()},handleOpen:()=>{var l;(l=i.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=i.value)==null||l.handleClose()}});const s=l=>{n("update:modelValue",l)};return()=>{var l;const u=(l=e.format)!=null?l:zPe[e.type]||J0,c=OFe(e.type);return ie(oie,rn(e,{format:u,type:e.type,ref:i,"onUpdate:modelValue":s}),{default:f=>ie(c,f,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const FFe=Bt(PFe),MB=Symbol("elDescriptions");var z1=se({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:ht(MB,{})}},render(){var e;const t=L$e(this.cell),n=(((e=this.cell)==null?void 0:e.dirs)||[]).map(m=>{const{dir:y,arg:b,modifiers:x,value:_}=m;return[y,_,b,x]}),{border:r,direction:a}=this.descriptions,i=a==="vertical",o=()=>{var m,y,b;return((b=(y=(m=this.cell)==null?void 0:m.children)==null?void 0:y.label)==null?void 0:b.call(y))||t.label},s=()=>{var m,y,b;return(b=(y=(m=this.cell)==null?void 0:m.children)==null?void 0:y.default)==null?void 0:b.call(y)},l=t.span,u=t.rowspan,c=t.align?`is-${t.align}`:"",f=t.labelAlign?`is-${t.labelAlign}`:c,d=t.className,h=t.labelClassName,p=this.type==="label"&&(t.labelWidth||this.descriptions.labelWidth)||t.width,v={width:ta(p),minWidth:ta(t.minWidth)},g=ze("descriptions");switch(this.type){case"label":return Vt(Ct(this.tag,{style:v,class:[g.e("cell"),g.e("label"),g.is("bordered-label",r),g.is("vertical-label",i),f,h],colSpan:i?l:1,rowspan:i?1:u},o()),n);case"content":return Vt(Ct(this.tag,{style:v,class:[g.e("cell"),g.e("content"),g.is("bordered-content",r),g.is("vertical-content",i),c,d],colSpan:i?l:l*2-1,rowspan:i?u*2-1:u},s()),n);default:{const m=o();return Vt(Ct("td",{style:v,class:[g.e("cell"),c],colSpan:l,rowspan:u},[Ua(m)?void 0:Ct("span",{class:[g.e("label"),h]},m),Ct("span",{class:[g.e("content"),d]},s())]),n)}}}});const BFe=je({row:{type:be(Array),default:()=>[]}}),VFe=se({name:"ElDescriptionsRow"}),zFe=se({...VFe,props:BFe,setup(e){const t=ht(MB,{});return(n,r)=>w(t).direction==="vertical"?(z(),q(vt,{key:0},[Z("tr",null,[(z(!0),q(vt,null,un(n.row,(a,i)=>(z(),Ae(w(z1),{key:`tr1-${i}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),Z("tr",null,[(z(!0),q(vt,null,un(n.row,(a,i)=>(z(),Ae(w(z1),{key:`tr2-${i}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(z(),q("tr",{key:1},[(z(!0),q(vt,null,un(n.row,(a,i)=>(z(),q(vt,{key:`tr3-${i}`},[w(t).border?(z(),q(vt,{key:0},[ie(w(z1),{cell:a,tag:"td",type:"label"},null,8,["cell"]),ie(w(z1),{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(z(),Ae(w(z1),{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var WFe=Ze(zFe,[["__file","descriptions-row.vue"]]);const HFe=je({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:xa,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),UFe=se({name:"ElDescriptions"}),GFe=se({...UFe,props:HFe,setup(e){const t=e,n=ze("descriptions"),r=pa(),a=Sa();hn(MB,t);const i=F(()=>[n.b(),n.m(r.value)]),o=(l,u,c,f=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),f&&(l.props.span=u),l),s=()=>{if(!a.default)return[];const l=dh(a.default()).filter(p=>{var v;return((v=p==null?void 0:p.type)==null?void 0:v.name)==="ElDescriptionsItem"}),u=[];let c=[],f=t.column,d=0;const h=[];return l.forEach((p,v)=>{var g,m,y;const b=((g=p.props)==null?void 0:g.span)||1,x=((m=p.props)==null?void 0:m.rowspan)||1,_=u.length;if(h[_]||(h[_]=0),x>1)for(let S=1;S<x;S++)h[y=_+S]||(h[y]=0),h[_+S]++,d++;if(h[_]>0&&(f-=h[_],h[_]=0),v<l.length-1&&(d+=b>f?f:b),v===l.length-1){const S=t.column-d%t.column;c.push(o(p,S,f,!0)),u.push(c);return}b<f?(f-=b,c.push(p)):(c.push(o(p,b,f)),u.push(c),f=t.column,c=[])}),u};return(l,u)=>(z(),q("div",{class:G(w(i))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(z(),q("div",{key:0,class:G(w(n).e("header"))},[Z("div",{class:G(w(n).e("title"))},[Se(l.$slots,"title",{},()=>[Kt(Ve(l.title),1)])],2),Z("div",{class:G(w(n).e("extra"))},[Se(l.$slots,"extra",{},()=>[Kt(Ve(l.extra),1)])],2)],2)):Te("v-if",!0),Z("div",{class:G(w(n).e("body"))},[Z("table",{class:G([w(n).e("table"),w(n).is("bordered",l.border)])},[Z("tbody",null,[(z(!0),q(vt,null,un(s(),(c,f)=>(z(),Ae(WFe,{key:f,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var KFe=Ze(GFe,[["__file","description.vue"]]);const jFe=je({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),pie=se({name:"ElDescriptionsItem",props:jFe}),YFe=Bt(KFe,{DescriptionsItem:pie}),XFe=Ur(pie),$B=e=>{if(!e)return{onClick:zn,onMousedown:zn,onMouseup:zn};let t=!1,n=!1;return{onClick:o=>{t&&n&&e(o),t=n=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{n=o.target===o.currentTarget}}},qFe=je({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:be([String,Array,Object])},zIndex:{type:be([String,Number])}}),ZFe={click:e=>e instanceof MouseEvent},JFe="overlay";var QFe=se({name:"ElOverlay",props:qFe,emits:ZFe,setup(e,{slots:t,emit:n}){const r=ze(JFe),a=l=>{n("click",l)},{onClick:i,onMousedown:o,onMouseup:s}=$B(e.customMaskEvent?void 0:a);return()=>e.mask?ie("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:o,onMouseup:s},[Se(t,"default")],vl.STYLE|vl.CLASS|vl.PROPS,["onClick","onMouseup","onMousedown"]):Ct("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Se(t,"default")])}});const LB=QFe,vie=Symbol("dialogInjectionKey"),gie=je({center:Boolean,alignCenter:Boolean,closeIcon:{type:er},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),e3e={close:()=>!0},mie=(e,t,n,r)=>{let a={offsetX:0,offsetY:0};const i=u=>{const c=u.clientX,f=u.clientY,{offsetX:d,offsetY:h}=a,p=e.value.getBoundingClientRect(),v=p.left,g=p.top,m=p.width,y=p.height,b=document.documentElement.clientWidth,x=document.documentElement.clientHeight,_=-v+d,S=-g+h,C=b-v-m+d,k=x-g-y+h,T=I=>{let A=d+I.clientX-c,N=h+I.clientY-f;r!=null&&r.value||(A=Math.min(Math.max(A,_),C),N=Math.min(Math.max(N,S),k)),a={offsetX:A,offsetY:N},e.value&&(e.value.style.transform=`translate(${ta(A)}, ${ta(N)})`)},E=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",E)},o=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},s=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)},l=()=>{a={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return zt(()=>{Pi(()=>{n.value?o():s()})}),ar(()=>{s()}),{resetPosition:l}},AA=(...e)=>t=>{e.forEach(n=>{mt(n)?n(t):n.value=t})},t3e=se({name:"ElDialogContent"}),n3e=se({...t3e,props:gie,emits:e3e,setup(e,{expose:t}){const n=e,{t:r}=_n(),{Close:a}=iB,{dialogRef:i,headerRef:o,bodyId:s,ns:l,style:u}=ht(vie),{focusTrapRef:c}=ht(fB),f=F(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),d=AA(c,i),h=F(()=>n.draggable),p=F(()=>n.overflow),{resetPosition:v}=mie(i,o,h,p);return t({resetPosition:v}),(g,m)=>(z(),q("div",{ref:w(d),class:G(w(f)),style:yt(w(u)),tabindex:"-1"},[Z("header",{ref_key:"headerRef",ref:o,class:G([w(l).e("header"),{"show-close":g.showClose}])},[Se(g.$slots,"header",{},()=>[Z("span",{role:"heading","aria-level":g.ariaLevel,class:G(w(l).e("title"))},Ve(g.title),11,["aria-level"])]),g.showClose?(z(),q("button",{key:0,"aria-label":w(r)("el.dialog.close"),class:G(w(l).e("headerbtn")),type:"button",onClick:y=>g.$emit("close")},[ie(w(pt),{class:G(w(l).e("close"))},{default:fe(()=>[(z(),Ae(tn(g.closeIcon||w(a))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Te("v-if",!0)],2),Z("div",{id:w(s),class:G(w(l).e("body"))},[Se(g.$slots,"default")],10,["id"]),g.$slots.footer?(z(),q("footer",{key:0,class:G(w(l).e("footer"))},[Se(g.$slots,"footer")],2)):Te("v-if",!0)],6))}});var r3e=Ze(n3e,[["__file","dialog-content.vue"]]);const yie=je({...gie,appendToBody:Boolean,appendTo:{type:be([String,Object]),default:"body"},beforeClose:{type:be(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),bie={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Ht]:e=>lr(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},OB=(e,t={})=>{vr(e)||Na("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||ze("popup"),r=F(()=>n.bm("parent","hidden"));if(!wn||xs(document.body,r.value))return;let a=0,i=!1,o="0";const s=()=>{setTimeout(()=>{typeof document>"u"||(bo(document==null?void 0:document.body,r.value),i&&document&&(document.body.style.width=o))},200)};Le(e,l=>{if(!l){s();return}i=!xs(document.body,r.value),i&&(o=document.body.style.width),a=Bre(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,c=Cf(document.body,"overflowY");a>0&&(u||c==="scroll")&&i&&(document.body.style.width=`calc(100% - ${a}px)`),Tl(document.body,r.value)}),hte(()=>s())},xie=(e,t)=>{var n;const a=jt().emit,{nextZIndex:i}=Hy();let o="";const s=Ii(),l=Ii(),u=Y(!1),c=Y(!1),f=Y(!1),d=Y((n=e.zIndex)!=null?n:i());let h,p;const v=yA("namespace",nx),g=F(()=>{const R={},D=`--${v.value}-dialog`;return e.fullscreen||(e.top&&(R[`${D}-margin-top`]=e.top),e.width&&(R[`${D}-width`]=ta(e.width))),R}),m=F(()=>e.alignCenter?{display:"flex"}:{});function y(){a("opened")}function b(){a("closed"),a(Ht,!1),e.destroyOnClose&&(f.value=!1)}function x(){a("close")}function _(){p==null||p(),h==null||h(),e.openDelay&&e.openDelay>0?{stop:h}=ag(()=>T(),e.openDelay):T()}function S(){h==null||h(),p==null||p(),e.closeDelay&&e.closeDelay>0?{stop:p}=ag(()=>E(),e.closeDelay):E()}function C(){function R(D){D||(c.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(R):S()}function k(){e.closeOnClickModal&&C()}function T(){wn&&(u.value=!0)}function E(){u.value=!1}function I(){a("openAutoFocus")}function A(){a("closeAutoFocus")}function N(R){var D;((D=R.detail)==null?void 0:D.focusReason)==="pointer"&&R.preventDefault()}e.lockScroll&&OB(u);function L(){e.closeOnPressEscape&&C()}return Le(()=>e.modelValue,R=>{R?(c.value=!1,_(),f.value=!0,d.value=wre(e.zIndex)?i():d.value++,xt(()=>{a("open"),t.value&&(t.value.scrollTop=0)})):u.value&&S()}),Le(()=>e.fullscreen,R=>{t.value&&(R?(o=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=o)}),zt(()=>{e.modelValue&&(u.value=!0,f.value=!0,_())}),{afterEnter:y,afterLeave:b,beforeLeave:x,handleClose:C,onModalClick:k,close:S,doClose:E,onOpenAutoFocus:I,onCloseAutoFocus:A,onCloseRequested:L,onFocusoutPrevented:N,titleId:s,bodyId:l,closed:c,style:g,overlayDialogStyle:m,rendered:f,visible:u,zIndex:d}},a3e=se({name:"ElDialog",inheritAttrs:!1}),i3e=se({...a3e,props:yie,emits:bie,setup(e,{expose:t}){const n=e,r=Sa();ch({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},F(()=>!!r.title));const a=ze("dialog"),i=Y(),o=Y(),s=Y(),{visible:l,titleId:u,bodyId:c,style:f,overlayDialogStyle:d,rendered:h,zIndex:p,afterEnter:v,afterLeave:g,beforeLeave:m,handleClose:y,onModalClick:b,onOpenAutoFocus:x,onCloseAutoFocus:_,onCloseRequested:S,onFocusoutPrevented:C}=xie(n,i);hn(vie,{dialogRef:i,headerRef:o,bodyId:c,ns:a,rendered:h,style:f});const k=$B(b),T=F(()=>n.draggable&&!n.fullscreen);return t({visible:l,dialogContentRef:s,resetPosition:()=>{var I;(I=s.value)==null||I.resetPosition()}}),(I,A)=>(z(),Ae(w(Ky),{to:I.appendTo,disabled:I.appendTo!=="body"?!1:!I.appendToBody},{default:fe(()=>[ie(hi,{name:"dialog-fade",onAfterEnter:w(v),onAfterLeave:w(g),onBeforeLeave:w(m),persisted:""},{default:fe(()=>[Vt(ie(w(LB),{"custom-mask-event":"",mask:I.modal,"overlay-class":I.modalClass,"z-index":w(p)},{default:fe(()=>[Z("div",{role:"dialog","aria-modal":"true","aria-label":I.title||void 0,"aria-labelledby":I.title?void 0:w(u),"aria-describedby":w(c),class:G(`${w(a).namespace.value}-overlay-dialog`),style:yt(w(d)),onClick:w(k).onClick,onMousedown:w(k).onMousedown,onMouseup:w(k).onMouseup},[ie(w(Gy),{loop:"",trapped:w(l),"focus-start-el":"container",onFocusAfterTrapped:w(x),onFocusAfterReleased:w(_),onFocusoutPrevented:w(C),onReleaseRequested:w(S)},{default:fe(()=>[w(h)?(z(),Ae(r3e,rn({key:0,ref_key:"dialogContentRef",ref:s},I.$attrs,{center:I.center,"align-center":I.alignCenter,"close-icon":I.closeIcon,draggable:w(T),overflow:I.overflow,fullscreen:I.fullscreen,"show-close":I.showClose,title:I.title,"aria-level":I.headerAriaLevel,onClose:w(y)}),Ml({header:fe(()=>[I.$slots.title?Se(I.$slots,"title",{key:1}):Se(I.$slots,"header",{key:0,close:w(y),titleId:w(u),titleClass:w(a).e("title")})]),default:fe(()=>[Se(I.$slots,"default")]),_:2},[I.$slots.footer?{name:"footer",fn:fe(()=>[Se(I.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Te("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[En,w(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var o3e=Ze(i3e,[["__file","dialog.vue"]]);const s3e=Bt(o3e),l3e=je({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:be(String),default:"solid"}}),u3e=se({name:"ElDivider"}),c3e=se({...u3e,props:l3e,setup(e){const t=e,n=ze("divider"),r=F(()=>n.cssVar({"border-style":t.borderStyle}));return(a,i)=>(z(),q("div",{class:G([w(n).b(),w(n).m(a.direction)]),style:yt(w(r)),role:"separator"},[a.$slots.default&&a.direction!=="vertical"?(z(),q("div",{key:0,class:G([w(n).e("text"),w(n).is(a.contentPosition)])},[Se(a.$slots,"default")],2)):Te("v-if",!0)],6))}});var f3e=Ze(c3e,[["__file","divider.vue"]]);const wie=Bt(f3e),d3e=je({...yie,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),h3e=bie,p3e=se({name:"ElDrawer",inheritAttrs:!1}),v3e=se({...p3e,props:d3e,emits:h3e,setup(e,{expose:t}){const n=e,r=Sa();ch({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},F(()=>!!r.title));const a=Y(),i=Y(),o=ze("drawer"),{t:s}=_n(),{afterEnter:l,afterLeave:u,beforeLeave:c,visible:f,rendered:d,titleId:h,bodyId:p,zIndex:v,onModalClick:g,onOpenAutoFocus:m,onCloseAutoFocus:y,onFocusoutPrevented:b,onCloseRequested:x,handleClose:_}=xie(n,a),S=F(()=>n.direction==="rtl"||n.direction==="ltr"),C=F(()=>ta(n.size));return t({handleClose:_,afterEnter:l,afterLeave:u}),(k,T)=>(z(),Ae(w(Ky),{to:k.appendTo,disabled:k.appendTo!=="body"?!1:!k.appendToBody},{default:fe(()=>[ie(hi,{name:w(o).b("fade"),onAfterEnter:w(l),onAfterLeave:w(u),onBeforeLeave:w(c),persisted:""},{default:fe(()=>[Vt(ie(w(LB),{mask:k.modal,"overlay-class":k.modalClass,"z-index":w(v),onClick:w(g)},{default:fe(()=>[ie(w(Gy),{loop:"",trapped:w(f),"focus-trap-el":a.value,"focus-start-el":i.value,onFocusAfterTrapped:w(m),onFocusAfterReleased:w(y),onFocusoutPrevented:w(b),onReleaseRequested:w(x)},{default:fe(()=>[Z("div",rn({ref_key:"drawerRef",ref:a,"aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:w(h),"aria-describedby":w(p)},k.$attrs,{class:[w(o).b(),k.direction,w(f)&&"open"],style:w(S)?"width: "+w(C):"height: "+w(C),role:"dialog",onClick:At(()=>{},["stop"])}),[Z("span",{ref_key:"focusStartRef",ref:i,class:G(w(o).e("sr-focus")),tabindex:"-1"},null,2),k.withHeader?(z(),q("header",{key:0,class:G(w(o).e("header"))},[k.$slots.title?Se(k.$slots,"title",{key:1},()=>[Te(" DEPRECATED SLOT ")]):Se(k.$slots,"header",{key:0,close:w(_),titleId:w(h),titleClass:w(o).e("title")},()=>[k.$slots.title?Te("v-if",!0):(z(),q("span",{key:0,id:w(h),role:"heading","aria-level":k.headerAriaLevel,class:G(w(o).e("title"))},Ve(k.title),11,["id","aria-level"]))]),k.showClose?(z(),q("button",{key:2,"aria-label":w(s)("el.drawer.close"),class:G(w(o).e("close-btn")),type:"button",onClick:w(_)},[ie(w(pt),{class:G(w(o).e("close"))},{default:fe(()=>[ie(w(Ru))]),_:1},8,["class"])],10,["aria-label","onClick"])):Te("v-if",!0)],2)):Te("v-if",!0),w(d)?(z(),q("div",{key:1,id:w(p),class:G(w(o).e("body"))},[Se(k.$slots,"default")],10,["id"])):Te("v-if",!0),k.$slots.footer?(z(),q("div",{key:2,class:G(w(o).e("footer"))},[Se(k.$slots,"footer")],2)):Te("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[En,w(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var g3e=Ze(v3e,[["__file","drawer.vue"]]);const m3e=Bt(g3e),y3e=se({inheritAttrs:!1});function b3e(e,t,n,r,a,i){return Se(e.$slots,"default")}var x3e=Ze(y3e,[["render",b3e],["__file","collection.vue"]]);const w3e=se({name:"ElCollectionItem",inheritAttrs:!1});function _3e(e,t,n,r,a,i){return Se(e.$slots,"default")}var S3e=Ze(w3e,[["render",_3e],["__file","collection-item.vue"]]);const _ie="data-el-collection-item",Sie=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),a=Symbol(n),i={...x3e,name:t,setup(){const s=Y(null),l=new Map;hn(r,{itemMap:l,getItems:()=>{const c=w(s);if(!c)return[];const f=Array.from(c.querySelectorAll(`[${_ie}]`));return[...l.values()].sort((h,p)=>f.indexOf(h.ref)-f.indexOf(p.ref))},collectionRef:s})}},o={...S3e,name:n,setup(s,{attrs:l}){const u=Y(null),c=ht(r,void 0);hn(a,{collectionItemRef:u}),zt(()=>{const f=w(u);f&&c.itemMap.set(f,{ref:f,...l})}),ar(()=>{const f=w(u);c.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:i,ElCollectionItem:o}},C3e=je({style:{type:be([String,Array,Object])},currentTabId:{type:be(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:be(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:T3e,ElCollectionItem:k3e,COLLECTION_INJECTION_KEY:PB,COLLECTION_ITEM_INJECTION_KEY:I3e}=Sie("RovingFocusGroup"),FB=Symbol("elRovingFocusGroup"),Cie=Symbol("elRovingFocusGroupItem"),E3e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},A3e=(e,t)=>e,D3e=(e,t,n)=>{const r=A3e(e.code);return E3e[r]},N3e=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),BB=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},DG="currentTabIdChange",NG="rovingFocusGroup.entryFocus",R3e={bubbles:!1,cancelable:!0},M3e=se({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:C3e,emits:[DG,"entryFocus"],setup(e,{emit:t}){var n;const r=Y((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),a=Y(!1),i=Y(!1),o=Y(null),{getItems:s}=ht(PB,void 0),l=F(()=>[{outline:"none"},e.style]),u=v=>{t(DG,v)},c=()=>{a.value=!0},f=Qr(v=>{var g;(g=e.onMousedown)==null||g.call(e,v)},()=>{i.value=!0}),d=Qr(v=>{var g;(g=e.onFocus)==null||g.call(e,v)},v=>{const g=!w(i),{target:m,currentTarget:y}=v;if(m===y&&g&&!w(a)){const b=new Event(NG,R3e);if(y==null||y.dispatchEvent(b),!b.defaultPrevented){const x=s().filter(T=>T.focusable),_=x.find(T=>T.active),S=x.find(T=>T.id===w(r)),k=[_,S,...x].filter(Boolean).map(T=>T.ref);BB(k)}}i.value=!1}),h=Qr(v=>{var g;(g=e.onBlur)==null||g.call(e,v)},()=>{a.value=!1}),p=(...v)=>{t("entryFocus",...v)};hn(FB,{currentTabbedId:Fy(r),loop:Hn(e,"loop"),tabIndex:F(()=>w(a)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,orientation:Hn(e,"orientation"),dir:Hn(e,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:d,onMousedown:f}),Le(()=>e.currentTabId,v=>{r.value=v??null}),Zn(o,NG,p)}});function $3e(e,t,n,r,a,i){return Se(e.$slots,"default")}var L3e=Ze(M3e,[["render",$3e],["__file","roving-focus-group-impl.vue"]]);const O3e=se({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:T3e,ElRovingFocusGroupImpl:L3e}});function P3e(e,t,n,r,a,i){const o=Ft("el-roving-focus-group-impl"),s=Ft("el-focus-group-collection");return z(),Ae(s,null,{default:fe(()=>[ie(o,hu(Sh(e.$attrs)),{default:fe(()=>[Se(e.$slots,"default")]),_:3},16)]),_:3})}var F3e=Ze(O3e,[["render",P3e],["__file","roving-focus-group.vue"]]);const KT=je({trigger:ew.trigger,triggerKeys:{type:be(Array),default:()=>[lt.enter,lt.numpadEnter,lt.space,lt.down]},effect:{...Ja.effect,default:"light"},type:{type:be(String)},placement:{type:be(String),default:"bottom"},popperOptions:{type:be(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:be([Number,String]),default:0},maxHeight:{type:be([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:be(Object)},teleported:Ja.teleported}),Tie=je({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:er}}),B3e=je({onKeydown:{type:be(Function)}}),V3e=[lt.down,lt.pageDown,lt.home],kie=[lt.up,lt.pageUp,lt.end],z3e=[...V3e,...kie],{ElCollection:W3e,ElCollectionItem:H3e,COLLECTION_INJECTION_KEY:U3e,COLLECTION_ITEM_INJECTION_KEY:G3e}=Sie("Dropdown"),DA=Symbol("elDropdown"),{ButtonGroup:K3e}=si,j3e=se({name:"ElDropdown",components:{ElButton:si,ElButtonGroup:K3e,ElScrollbar:Jc,ElDropdownCollection:W3e,ElTooltip:Hi,ElRovingFocusGroup:F3e,ElOnlyChild:rae,ElIcon:pt,ArrowDown:Zc},props:KT,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=jt(),r=ze("dropdown"),{t:a}=_n(),i=Y(),o=Y(),s=Y(null),l=Y(null),u=Y(null),c=Y(null),f=Y(!1),d=F(()=>({maxHeight:ta(e.maxHeight)})),h=F(()=>[r.m(x.value)]),p=F(()=>ho(e.trigger)),v=Ii().value,g=F(()=>e.id||v);Le([i,p],([D,P],[O])=>{var M,W,U;(M=O==null?void 0:O.$el)!=null&&M.removeEventListener&&O.$el.removeEventListener("pointerenter",S),(W=D==null?void 0:D.$el)!=null&&W.removeEventListener&&D.$el.removeEventListener("pointerenter",S),(U=D==null?void 0:D.$el)!=null&&U.addEventListener&&P.includes("hover")&&D.$el.addEventListener("pointerenter",S)},{immediate:!0}),ar(()=>{var D,P;(P=(D=i.value)==null?void 0:D.$el)!=null&&P.removeEventListener&&i.value.$el.removeEventListener("pointerenter",S)});function m(){y()}function y(){var D;(D=s.value)==null||D.onClose()}function b(){var D;(D=s.value)==null||D.onOpen()}const x=pa();function _(...D){t("command",...D)}function S(){var D,P;(P=(D=i.value)==null?void 0:D.$el)==null||P.focus()}function C(){}function k(){const D=w(l);p.value.includes("hover")&&(D==null||D.focus()),c.value=null}function T(D){c.value=D}function E(D){f.value||(D.preventDefault(),D.stopImmediatePropagation())}function I(){t("visible-change",!0)}function A(D){(D==null?void 0:D.type)==="keydown"&&l.value.focus()}function N(){t("visible-change",!1)}return hn(DA,{contentRef:l,role:F(()=>e.role),triggerId:g,isUsingKeyboard:f,onItemEnter:C,onItemLeave:k}),hn("elDropdown",{instance:n,dropdownSize:x,handleClick:m,commandHandler:_,trigger:Hn(e,"trigger"),hideOnClick:Hn(e,"hideOnClick")}),{t:a,ns:r,scrollbar:u,wrapStyle:d,dropdownTriggerKls:h,dropdownSize:x,triggerId:g,currentTabId:c,handleCurrentTabIdChange:T,handlerMainButtonClick:D=>{t("click",D)},handleEntryFocus:E,handleClose:y,handleOpen:b,handleBeforeShowTooltip:I,handleShowTooltip:A,handleBeforeHideTooltip:N,onFocusAfterTrapped:D=>{var P,O;D.preventDefault(),(O=(P=l.value)==null?void 0:P.focus)==null||O.call(P,{preventScroll:!0})},popperRef:s,contentRef:l,triggeringElementRef:i,referenceElementRef:o}}});function Y3e(e,t,n,r,a,i){var o;const s=Ft("el-dropdown-collection"),l=Ft("el-roving-focus-group"),u=Ft("el-scrollbar"),c=Ft("el-only-child"),f=Ft("el-tooltip"),d=Ft("el-button"),h=Ft("arrow-down"),p=Ft("el-icon"),v=Ft("el-button-group");return z(),q("div",{class:G([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ie(f,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(o=e.referenceElementRef)==null?void 0:o.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Ml({content:fe(()=>[ie(u,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:fe(()=>[ie(l,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:fe(()=>[ie(s,null,{default:fe(()=>[Se(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:fe(()=>[ie(c,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:fe(()=>[Se(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(z(),Ae(v,{key:0},{default:fe(()=>[ie(d,rn({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:fe(()=>[Se(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ie(d,rn({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:fe(()=>[ie(p,{class:G(e.ns.e("icon"))},{default:fe(()=>[ie(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Te("v-if",!0)],2)}var X3e=Ze(j3e,[["render",Y3e],["__file","dropdown.vue"]]);const q3e=se({components:{ElRovingFocusCollectionItem:k3e},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:a,onItemShiftTab:i}=ht(FB,void 0),{getItems:o}=ht(PB,void 0),s=Ii(),l=Y(null),u=Qr(h=>{t("mousedown",h)},h=>{e.focusable?a(w(s)):h.preventDefault()}),c=Qr(h=>{t("focus",h)},()=>{a(w(s))}),f=Qr(h=>{t("keydown",h)},h=>{const{code:p,shiftKey:v,target:g,currentTarget:m}=h;if(p===lt.tab&&v){i();return}if(g!==m)return;const y=D3e(h);if(y){h.preventDefault();let x=o().filter(_=>_.focusable).map(_=>_.ref);switch(y){case"last":{x.reverse();break}case"prev":case"next":{y==="prev"&&x.reverse();const _=x.indexOf(m);x=r.value?N3e(x,_+1):x.slice(_+1);break}}xt(()=>{BB(x)})}}),d=F(()=>n.value===w(s));return hn(Cie,{rovingFocusGroupItemRef:l,tabIndex:F(()=>w(d)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:f}),{id:s,handleKeydown:f,handleFocus:c,handleMousedown:u}}});function Z3e(e,t,n,r,a,i){const o=Ft("el-roving-focus-collection-item");return z(),Ae(o,{id:e.id,focusable:e.focusable,active:e.active},{default:fe(()=>[Se(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var J3e=Ze(q3e,[["render",Z3e],["__file","roving-focus-item.vue"]]);const Q3e=se({name:"DropdownItemImpl",components:{ElIcon:pt},props:Tie,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=ze("dropdown"),{role:r}=ht(DA,void 0),{collectionItemRef:a}=ht(G3e,void 0),{collectionItemRef:i}=ht(I3e,void 0),{rovingFocusGroupItemRef:o,tabIndex:s,handleFocus:l,handleKeydown:u,handleMousedown:c}=ht(Cie,void 0),f=AA(a,i,o),d=F(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=Qr(p=>{if([lt.enter,lt.numpadEnter,lt.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),t("clickimpl",p),!0},u);return{ns:n,itemRef:f,dataset:{[_ie]:""},role:d,tabIndex:s,handleFocus:l,handleKeydown:h,handleMousedown:c}}});function e4e(e,t,n,r,a,i){const o=Ft("el-icon");return z(),q(vt,null,[e.divided?(z(),q("li",{key:0,role:"separator",class:G(e.ns.bem("menu","item","divided"))},null,2)):Te("v-if",!0),Z("li",rn({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:s=>e.$emit("clickimpl",s),onFocus:e.handleFocus,onKeydown:At(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:s=>e.$emit("pointermove",s),onPointerleave:s=>e.$emit("pointerleave",s)}),[e.icon?(z(),Ae(o,{key:0},{default:fe(()=>[(z(),Ae(tn(e.icon)))]),_:1})):Te("v-if",!0),Se(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var t4e=Ze(Q3e,[["render",e4e],["__file","dropdown-item-impl.vue"]]);const Iie=()=>{const e=ht("elDropdown",{}),t=F(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},n4e=se({name:"ElDropdownItem",components:{ElDropdownCollectionItem:H3e,ElRovingFocusItem:J3e,ElDropdownItemImpl:t4e},inheritAttrs:!1,props:Tie,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=Iie(),a=jt(),i=Y(null),o=F(()=>{var h,p;return(p=(h=w(i))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:s,onItemLeave:l}=ht(DA,void 0),u=Qr(h=>(t("pointermove",h),h.defaultPrevented),JU(h=>{if(e.disabled){l(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(s(h),h.defaultPrevented||p==null||p.focus())})),c=Qr(h=>(t("pointerleave",h),h.defaultPrevented),JU(l)),f=Qr(h=>{if(!e.disabled)return t("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,v,g;if(e.disabled){h.stopImmediatePropagation();return}(p=r==null?void 0:r.hideOnClick)!=null&&p.value&&((v=r.handleClick)==null||v.call(r)),(g=r.commandHandler)==null||g.call(r,e.command,a,h)}),d=F(()=>({...e,...n}));return{handleClick:f,handlePointerMove:u,handlePointerLeave:c,textContent:o,propsAndAttrs:d}}});function r4e(e,t,n,r,a,i){var o;const s=Ft("el-dropdown-item-impl"),l=Ft("el-roving-focus-item"),u=Ft("el-dropdown-collection-item");return z(),Ae(u,{disabled:e.disabled,"text-value":(o=e.textValue)!=null?o:e.textContent},{default:fe(()=>[ie(l,{focusable:!e.disabled},{default:fe(()=>[ie(s,rn(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:fe(()=>[Se(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Eie=Ze(n4e,[["render",r4e],["__file","dropdown-item.vue"]]);const a4e=se({name:"ElDropdownMenu",props:B3e,setup(e){const t=ze("dropdown"),{_elDropdownSize:n}=Iie(),r=n.value,{focusTrapRef:a,onKeydown:i}=ht(fB,void 0),{contentRef:o,role:s,triggerId:l}=ht(DA,void 0),{collectionRef:u,getItems:c}=ht(U3e,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:d,tabIndex:h,onBlur:p,onFocus:v,onMousedown:g}=ht(FB,void 0),{collectionRef:m}=ht(PB,void 0),y=F(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),b=AA(o,u,a,f,m),x=Qr(S=>{var C;(C=e.onKeydown)==null||C.call(e,S)},S=>{const{currentTarget:C,code:k,target:T}=S;if(C.contains(T),lt.tab===k&&S.stopImmediatePropagation(),S.preventDefault(),T!==w(o)||!z3e.includes(k))return;const I=c().filter(A=>!A.disabled).map(A=>A.ref);kie.includes(k)&&I.reverse(),BB(I)});return{size:r,rovingFocusGroupRootStyle:d,tabIndex:h,dropdownKls:y,role:s,triggerId:l,dropdownListWrapperRef:b,handleKeydown:S=>{x(S),i(S)},onBlur:p,onFocus:v,onMousedown:g}}});function i4e(e,t,n,r,a,i){return z(),q("ul",{ref:e.dropdownListWrapperRef,class:G(e.dropdownKls),style:yt(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:At(e.handleKeydown,["self"]),onMousedown:At(e.onMousedown,["self"])},[Se(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Aie=Ze(a4e,[["render",i4e],["__file","dropdown-menu.vue"]]);const o4e=Bt(X3e,{DropdownItem:Eie,DropdownMenu:Aie}),s4e=Ur(Eie),l4e=Ur(Aie),u4e=se({name:"ImgEmpty"}),c4e=se({...u4e,setup(e){const t=ze("empty"),n=Ii();return(r,a)=>(z(),q("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Z("defs",null,[Z("linearGradient",{id:`linearGradient-1-${w(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Z("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Z("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Z("linearGradient",{id:`linearGradient-2-${w(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Z("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Z("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Z("rect",{id:`path-3-${w(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),Z("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[Z("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[Z("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[Z("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${w(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-14",fill:`var(${w(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),Z("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[Z("polygon",{id:"Rectangle-Copy-10",fill:`var(${w(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-11",fill:`var(${w(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),Z("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${w(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-13",fill:`var(${w(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),Z("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${w(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),Z("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[Z("use",{id:"Mask",fill:`var(${w(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${w(n)}`},null,8,["fill","xlink:href"]),Z("polygon",{id:"Rectangle-Copy",fill:`var(${w(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${w(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),Z("polygon",{id:"Rectangle-Copy-18",fill:`var(${w(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var f4e=Ze(c4e,[["__file","img-empty.vue"]]);const d4e=je({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),h4e=se({name:"ElEmpty"}),p4e=se({...h4e,props:d4e,setup(e){const t=e,{t:n}=_n(),r=ze("empty"),a=F(()=>t.description||n("el.table.emptyText")),i=F(()=>({width:ta(t.imageSize)}));return(o,s)=>(z(),q("div",{class:G(w(r).b())},[Z("div",{class:G(w(r).e("image")),style:yt(w(i))},[o.image?(z(),q("img",{key:0,src:o.image,ondragstart:"return false"},null,8,["src"])):Se(o.$slots,"image",{key:1},()=>[ie(f4e)])],6),Z("div",{class:G(w(r).e("description"))},[o.$slots.description?Se(o.$slots,"description",{key:0}):(z(),q("p",{key:1},Ve(w(a)),1))],2),o.$slots.default?(z(),q("div",{key:0,class:G(w(r).e("bottom"))},[Se(o.$slots,"default")],2)):Te("v-if",!0)],2))}});var v4e=Ze(p4e,[["__file","empty.vue"]]);const Die=Bt(v4e),g4e=je({size:{type:String,values:qc},disabled:Boolean}),m4e=je({...g4e,model:Object,rules:{type:be(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),y4e={validate:(e,t,n)=>(Ke(e)||gt(e))&&lr(t)&&gt(n)};function b4e(){const e=Y([]),t=F(()=>{if(!e.value.length)return"0";const i=Math.max(...e.value);return i?`${i}px`:""});function n(i){const o=e.value.indexOf(i);return o===-1&&t.value,o}function r(i,o){if(i&&o){const s=n(o);e.value.splice(s,1,i)}else i&&e.value.push(i)}function a(i){const o=n(i);o>-1&&e.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:a}}const KC=(e,t)=>{const n=ho(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},x4e="ElForm",w4e=se({name:x4e}),_4e=se({...w4e,props:m4e,emits:y4e,setup(e,{expose:t,emit:n}){const r=e,a=[],i=pa(),o=ze("form"),s=F(()=>{const{labelPosition:b,inline:x}=r;return[o.b(),o.m(i.value||"default"),{[o.m(`label-${b}`)]:b,[o.m("inline")]:x}]}),l=b=>a.find(x=>x.prop===b),u=b=>{a.push(b)},c=b=>{b.prop&&a.splice(a.indexOf(b),1)},f=(b=[])=>{r.model&&KC(a,b).forEach(x=>x.resetField())},d=(b=[])=>{KC(a,b).forEach(x=>x.clearValidate())},h=F(()=>!!r.model),p=b=>{if(a.length===0)return[];const x=KC(a,b);return x.length?x:[]},v=async b=>m(void 0,b),g=async(b=[])=>{if(!h.value)return!1;const x=p(b);if(x.length===0)return!0;let _={};for(const S of x)try{await S.validate("")}catch(C){_={..._,...C}}return Object.keys(_).length===0?!0:Promise.reject(_)},m=async(b=[],x)=>{const _=!mt(x);try{const S=await g(b);return S===!0&&await(x==null?void 0:x(S)),S}catch(S){if(S instanceof Error)throw S;const C=S;return r.scrollToError&&y(Object.keys(C)[0]),await(x==null?void 0:x(!1,C)),_&&Promise.reject(C)}},y=b=>{var x;const _=KC(a,b)[0];_&&((x=_.$el)==null||x.scrollIntoView(r.scrollIntoViewOptions))};return Le(()=>r.rules,()=>{r.validateOnRuleChange&&v().catch(b=>void 0)},{deep:!0}),hn(Bg,Ln({...di(r),emit:n,resetFields:f,clearValidate:d,validateField:m,getField:l,addField:u,removeField:c,...b4e()})),t({validate:v,validateField:m,resetFields:f,clearValidate:d,scrollToField:y,fields:a}),(b,x)=>(z(),q("form",{class:G(w(s))},[Se(b.$slots,"default")],2))}});var S4e=Ze(_4e,[["__file","form.vue"]]);function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yv.apply(this,arguments)}function C4e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rw(e,t)}function FO(e){return FO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FO(e)}function rw(e,t){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rw(e,t)}function T4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jT(e,t,n){return T4e()?jT=Reflect.construct.bind():jT=function(a,i,o){var s=[null];s.push.apply(s,i);var l=Function.bind.apply(a,s),u=new l;return o&&rw(u,o.prototype),u},jT.apply(null,arguments)}function k4e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function BO(e){var t=typeof Map=="function"?new Map:void 0;return BO=function(r){if(r===null||!k4e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return jT(r,arguments,FO(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),rw(a,r)},BO(e)}var I4e=/%[sdj%]/g,E4e=function(){};function VO(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function Fs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,i=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var o=e.replace(I4e,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch{return"[Circular]"}break;default:return s}});return o}return e}function A4e(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function pi(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||A4e(t)&&typeof e=="string"&&!e)}function D4e(e,t,n){var r=[],a=0,i=e.length;function o(s){r.push.apply(r,s||[]),a++,a===i&&n(r)}e.forEach(function(s){t(s,o)})}function RG(e,t,n){var r=0,a=e.length;function i(o){if(o&&o.length){n(o);return}var s=r;r=r+1,s<a?t(e[s],i):n([])}i([])}function N4e(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var MG=function(e){C4e(t,e);function t(n,r){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=n,a.fields=r,a}return t}(BO(Error));function R4e(e,t,n,r,a){if(t.first){var i=new Promise(function(d,h){var p=function(m){return r(m),m.length?h(new MG(m,VO(m))):d(a)},v=N4e(e);RG(v,n,p)});return i.catch(function(d){return d}),i}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],f=new Promise(function(d,h){var p=function(g){if(c.push.apply(c,g),u++,u===l)return r(c),c.length?h(new MG(c,VO(c))):d(a)};s.length||(r(c),d(a)),s.forEach(function(v){var g=e[v];o.indexOf(v)!==-1?RG(g,n,p):D4e(g,n,p)})});return f.catch(function(d){return d}),f}function M4e(e){return!!(e&&e.message!==void 0)}function $4e(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function $G(e,t){return function(n){var r;return e.fullFields?r=$4e(t,e.fullFields):r=t[n.field||e.fullField],M4e(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function LG(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=yv({},e[n],r):e[n]=r}}return e}var Nie=function(t,n,r,a,i,o){t.required&&(!r.hasOwnProperty(t.field)||pi(n,o||t.type))&&a.push(Fs(i.messages.required,t.fullField))},L4e=function(t,n,r,a,i){(/^\s+$/.test(n)||n==="")&&a.push(Fs(i.messages.whitespace,t.fullField))},jC,O4e=function(){if(jC)return jC;var e="[a-fA-F\\d:]",t=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+a+"$)"),o=new RegExp("^"+n+"$"),s=new RegExp("^"+a+"$"),l=function(x){return x&&x.exact?i:new RegExp("(?:"+t(x)+n+t(x)+")|(?:"+t(x)+a+t(x)+")","g")};l.v4=function(b){return b&&b.exact?o:new RegExp(""+t(b)+n+t(b),"g")},l.v6=function(b){return b&&b.exact?s:new RegExp(""+t(b)+a+t(b),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',y="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+d+"|"+h+p+v+")"+g+m;return jC=new RegExp("(?:^"+y+"$)","i"),jC},OG={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Cb={integer:function(t){return Cb.number(t)&&parseInt(t,10)===t},float:function(t){return Cb.number(t)&&!Cb.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Cb.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(OG.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(O4e())},hex:function(t){return typeof t=="string"&&!!t.match(OG.hex)}},P4e=function(t,n,r,a,i){if(t.required&&n===void 0){Nie(t,n,r,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?Cb[s](n)||a.push(Fs(i.messages.types[s],t.fullField,t.type)):s&&typeof n!==t.type&&a.push(Fs(i.messages.types[s],t.fullField,t.type))},F4e=function(t,n,r,a,i){var o=typeof t.len=="number",s=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,f=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?f="number":h?f="string":p&&(f="array"),!f)return!1;p&&(c=n.length),h&&(c=n.replace(u,"_").length),o?c!==t.len&&a.push(Fs(i.messages[f].len,t.fullField,t.len)):s&&!l&&c<t.min?a.push(Fs(i.messages[f].min,t.fullField,t.min)):l&&!s&&c>t.max?a.push(Fs(i.messages[f].max,t.fullField,t.max)):s&&l&&(c<t.min||c>t.max)&&a.push(Fs(i.messages[f].range,t.fullField,t.min,t.max))},x0="enum",B4e=function(t,n,r,a,i){t[x0]=Array.isArray(t[x0])?t[x0]:[],t[x0].indexOf(n)===-1&&a.push(Fs(i.messages[x0],t.fullField,t[x0].join(", ")))},V4e=function(t,n,r,a,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||a.push(Fs(i.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(n)||a.push(Fs(i.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},ur={required:Nie,whitespace:L4e,type:P4e,range:F4e,enum:B4e,pattern:V4e},z4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n,"string")&&!t.required)return r();ur.required(t,n,a,o,i,"string"),pi(n,"string")||(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i),ur.pattern(t,n,a,o,i),t.whitespace===!0&&ur.whitespace(t,n,a,o,i))}r(o)},W4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&ur.type(t,n,a,o,i)}r(o)},H4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(n===""&&(n=void 0),pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i))}r(o)},U4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&ur.type(t,n,a,o,i)}r(o)},G4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),pi(n)||ur.type(t,n,a,o,i)}r(o)},K4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i))}r(o)},j4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i))}r(o)},Y4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(n==null&&!t.required)return r();ur.required(t,n,a,o,i,"array"),n!=null&&(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i))}r(o)},X4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&ur.type(t,n,a,o,i)}r(o)},q4e="enum",Z4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&ur[q4e](t,n,a,o,i)}r(o)},J4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n,"string")&&!t.required)return r();ur.required(t,n,a,o,i),pi(n,"string")||ur.pattern(t,n,a,o,i)}r(o)},Q4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n,"date")&&!t.required)return r();if(ur.required(t,n,a,o,i),!pi(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),ur.type(t,l,a,o,i),l&&ur.range(t,l.getTime(),a,o,i)}}r(o)},eBe=function(t,n,r,a,i){var o=[],s=Array.isArray(n)?"array":typeof n;ur.required(t,n,a,o,i,s),r(o)},LR=function(t,n,r,a,i){var o=t.type,s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(pi(n,o)&&!t.required)return r();ur.required(t,n,a,s,i,o),pi(n,o)||ur.type(t,n,a,s,i)}r(s)},tBe=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i)}r(o)},sx={string:z4e,method:W4e,number:H4e,boolean:U4e,regexp:G4e,integer:K4e,float:j4e,array:Y4e,object:X4e,enum:Z4e,pattern:J4e,date:Q4e,url:LR,hex:LR,email:LR,required:eBe,any:tBe};function zO(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var WO=zO(),A_=function(){function e(n){this.rules=null,this._messages=WO,this.define(n)}var t=e.prototype;return t.define=function(r){var a=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var o=r[i];a.rules[i]=Array.isArray(o)?o:[o]})},t.messages=function(r){return r&&(this._messages=LG(zO(),r)),this._messages},t.validate=function(r,a,i){var o=this;a===void 0&&(a={}),i===void 0&&(i=function(){});var s=r,l=a,u=i;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(v){var g=[],m={};function y(x){if(Array.isArray(x)){var _;g=(_=g).concat.apply(_,x)}else g.push(x)}for(var b=0;b<v.length;b++)y(v[b]);g.length?(m=VO(g),u(g,m)):u(null,s)}if(l.messages){var f=this.messages();f===WO&&(f=zO()),LG(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(v){var g=o.rules[v],m=s[v];g.forEach(function(y){var b=y;typeof b.transform=="function"&&(s===r&&(s=yv({},s)),m=s[v]=b.transform(m)),typeof b=="function"?b={validator:b}:b=yv({},b),b.validator=o.getValidationMethod(b),b.validator&&(b.field=v,b.fullField=b.fullField||v,b.type=o.getType(b),d[v]=d[v]||[],d[v].push({rule:b,value:m,source:s,field:v}))})});var p={};return R4e(d,l,function(v,g){var m=v.rule,y=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");y=y&&(m.required||!m.required&&v.value),m.field=v.field;function b(S,C){return yv({},C,{fullField:m.fullField+"."+S,fullFields:m.fullFields?[].concat(m.fullFields,[S]):[S]})}function x(S){S===void 0&&(S=[]);var C=Array.isArray(S)?S:[S];!l.suppressWarning&&C.length&&e.warning("async-validator:",C),C.length&&m.message!==void 0&&(C=[].concat(m.message));var k=C.map($G(m,s));if(l.first&&k.length)return p[m.field]=1,g(k);if(!y)g(k);else{if(m.required&&!v.value)return m.message!==void 0?k=[].concat(m.message).map($G(m,s)):l.error&&(k=[l.error(m,Fs(l.messages.required,m.field))]),g(k);var T={};m.defaultField&&Object.keys(v.value).map(function(A){T[A]=m.defaultField}),T=yv({},T,v.rule.fields);var E={};Object.keys(T).forEach(function(A){var N=T[A],L=Array.isArray(N)?N:[N];E[A]=L.map(b.bind(null,A))});var I=new e(E);I.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),I.validate(v.value,v.rule.options||l,function(A){var N=[];k&&k.length&&N.push.apply(N,k),A&&A.length&&N.push.apply(N,A),g(N.length?N:null)})}}var _;if(m.asyncValidator)_=m.asyncValidator(m,v.value,x,v.source,l);else if(m.validator){try{_=m.validator(m,v.value,x,v.source,l)}catch(S){console.error==null||console.error(S),l.suppressValidatorError||setTimeout(function(){throw S},0),x(S.message)}_===!0?x():_===!1?x(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):_ instanceof Array?x(_):_ instanceof Error&&x(_.message)}_&&_.then&&_.then(function(){return x()},function(S){return x(S)})},function(v){c(v)},s)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!sx.hasOwnProperty(r.type))throw new Error(Fs("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var a=Object.keys(r),i=a.indexOf("message");return i!==-1&&a.splice(i,1),a.length===1&&a[0]==="required"?sx.required:sx[this.getType(r)]||void 0},e}();A_.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");sx[t]=n};A_.warning=E4e;A_.messages=WO;A_.validators=sx;const nBe=["","error","validating","success"],rBe=je({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:be([String,Array])},required:{type:Boolean,default:void 0},rules:{type:be([Object,Array])},error:String,validateStatus:{type:String,values:nBe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:qc}}),PG="ElLabelWrap";var aBe=se({name:PG,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=ht(Bg,void 0),r=ht(Lc);r||Na(PG,"usage: <el-form-item><label-wrap /></el-form-item>");const a=ze("form"),i=Y(),o=Y(0),s=()=>{var c;if((c=i.value)!=null&&c.firstElementChild){const f=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(c="update")=>{xt(()=>{t.default&&e.isAutoWidth&&(c==="update"?o.value=s():c==="remove"&&(n==null||n.deregisterLabelWidth(o.value)))})},u=()=>l("update");return zt(()=>{u()}),ar(()=>{l("remove")}),Xc(()=>u()),Le(o,(c,f)=>{e.updateAll&&(n==null||n.registerLabelWidth(c,f))}),Mr(F(()=>{var c,f;return(f=(c=i.value)==null?void 0:c.firstElementChild)!=null?f:null}),u),()=>{var c,f;if(!t)return null;const{isAutoWidth:d}=e;if(d){const h=n==null?void 0:n.autoLabelWidth,p=r==null?void 0:r.hasLabel,v={};if(p&&h&&h!=="auto"){const g=Math.max(0,Number.parseInt(h,10)-o.value),y=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";g&&(v[y]=`${g}px`)}return ie("div",{ref:i,class:[a.be("item","label-wrap")],style:v},[(c=t.default)==null?void 0:c.call(t)])}else return ie(vt,{ref:i},[(f=t.default)==null?void 0:f.call(t)])}}});const iBe=se({name:"ElFormItem"}),oBe=se({...iBe,props:rBe,setup(e,{expose:t}){const n=e,r=Sa(),a=ht(Bg,void 0),i=ht(Lc,void 0),o=pa(void 0,{formItem:!1}),s=ze("form-item"),l=Ii().value,u=Y([]),c=Y(""),f=eEe(c,100),d=Y(""),h=Y();let p,v=!1;const g=F(()=>n.labelPosition||(a==null?void 0:a.labelPosition)),m=F(()=>{if(g.value==="top")return{};const oe=ta(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return oe?{width:oe}:{}}),y=F(()=>{if(g.value==="top"||a!=null&&a.inline)return{};if(!n.label&&!n.labelWidth&&E)return{};const oe=ta(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return!n.label&&!r.label?{marginLeft:oe}:{}}),b=F(()=>[s.b(),s.m(o.value),s.is("error",c.value==="error"),s.is("validating",c.value==="validating"),s.is("success",c.value==="success"),s.is("required",R.value||n.required),s.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:a==null?void 0:a.statusIcon,[s.m(`label-${g.value}`)]:g.value}]),x=F(()=>lr(n.inlineMessage)?n.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),_=F(()=>[s.e("error"),{[s.em("error","inline")]:x.value}]),S=F(()=>n.prop?gt(n.prop)?n.prop:n.prop.join("."):""),C=F(()=>!!(n.label||r.label)),k=F(()=>n.for||(u.value.length===1?u.value[0]:void 0)),T=F(()=>!k.value&&C.value),E=!!i,I=F(()=>{const oe=a==null?void 0:a.model;if(!(!oe||!n.prop))return NT(oe,n.prop).value}),A=F(()=>{const{required:oe}=n,ae=[];n.rules&&ae.push(...ho(n.rules));const me=a==null?void 0:a.rules;if(me&&n.prop){const ve=NT(me,n.prop).value;ve&&ae.push(...ho(ve))}if(oe!==void 0){const ve=ae.map((B,re)=>[B,re]).filter(([B])=>Object.keys(B).includes("required"));if(ve.length>0)for(const[B,re]of ve)B.required!==oe&&(ae[re]={...B,required:oe});else ae.push({required:oe})}return ae}),N=F(()=>A.value.length>0),L=oe=>A.value.filter(me=>!me.trigger||!oe?!0:Ke(me.trigger)?me.trigger.includes(oe):me.trigger===oe).map(({trigger:me,...ve})=>ve),R=F(()=>A.value.some(oe=>oe.required)),D=F(()=>{var oe;return f.value==="error"&&n.showMessage&&((oe=a==null?void 0:a.showMessage)!=null?oe:!0)}),P=F(()=>`${n.label||""}${(a==null?void 0:a.labelSuffix)||""}`),O=oe=>{c.value=oe},M=oe=>{var ae,me;const{errors:ve,fields:B}=oe;(!ve||!B)&&console.error(oe),O("error"),d.value=ve?(me=(ae=ve==null?void 0:ve[0])==null?void 0:ae.message)!=null?me:`${n.prop} is required`:"",a==null||a.emit("validate",n.prop,!1,d.value)},W=()=>{O("success"),a==null||a.emit("validate",n.prop,!0,"")},U=async oe=>{const ae=S.value;return new A_({[ae]:oe}).validate({[ae]:I.value},{firstFields:!0}).then(()=>(W(),!0)).catch(ve=>(M(ve),Promise.reject(ve)))},V=async(oe,ae)=>{if(v||!n.prop)return!1;const me=mt(ae);if(!N.value)return ae==null||ae(!1),!1;const ve=L(oe);return ve.length===0?(ae==null||ae(!0),!0):(O("validating"),U(ve).then(()=>(ae==null||ae(!0),!0)).catch(B=>{const{fields:re}=B;return ae==null||ae(!1,re),me?!1:Promise.reject(re)}))},H=()=>{O(""),d.value="",v=!1},K=async()=>{const oe=a==null?void 0:a.model;if(!oe||!n.prop)return;const ae=NT(oe,n.prop);v=!0,ae.value=oU(p),await xt(),H(),v=!1},j=oe=>{u.value.includes(oe)||u.value.push(oe)},ne=oe=>{u.value=u.value.filter(ae=>ae!==oe)};Le(()=>n.error,oe=>{d.value=oe||"",O(oe?"error":"")},{immediate:!0}),Le(()=>n.validateStatus,oe=>O(oe||""));const Q=Ln({...di(n),$el:h,size:o,validateState:c,labelId:l,inputIds:u,isGroup:T,hasLabel:C,fieldValue:I,addInputId:j,removeInputId:ne,resetField:K,clearValidate:H,validate:V});return hn(Lc,Q),zt(()=>{n.prop&&(a==null||a.addField(Q),p=oU(I.value))}),ar(()=>{a==null||a.removeField(Q)}),t({size:o,validateMessage:d,validateState:c,validate:V,clearValidate:H,resetField:K}),(oe,ae)=>{var me;return z(),q("div",{ref_key:"formItemRef",ref:h,class:G(w(b)),role:w(T)?"group":void 0,"aria-labelledby":w(T)?w(l):void 0},[ie(w(aBe),{"is-auto-width":w(m).width==="auto","update-all":((me=w(a))==null?void 0:me.labelWidth)==="auto"},{default:fe(()=>[w(C)?(z(),Ae(tn(w(k)?"label":"div"),{key:0,id:w(l),for:w(k),class:G(w(s).e("label")),style:yt(w(m))},{default:fe(()=>[Se(oe.$slots,"label",{label:w(P)},()=>[Kt(Ve(w(P)),1)])]),_:3},8,["id","for","class","style"])):Te("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:G(w(s).e("content")),style:yt(w(y))},[Se(oe.$slots,"default"),ie(Ane,{name:`${w(s).namespace.value}-zoom-in-top`},{default:fe(()=>[w(D)?Se(oe.$slots,"error",{key:0,error:d.value},()=>[Z("div",{class:G(w(_))},Ve(d.value),3)]):Te("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var Rie=Ze(oBe,[["__file","form-item.vue"]]);const sBe=Bt(S4e,{FormItem:Rie}),lBe=Ur(Rie),uBe=je({urlList:{type:be(Array),default:()=>zr([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:be(String)}}),cBe={close:()=>!0,switch:e=>Tt(e),rotate:e=>Tt(e)},fBe=se({name:"ElImageViewer"}),dBe=se({...fBe,props:uBe,emits:cBe,setup(e,{expose:t,emit:n}){var r;const a=e,i={CONTAIN:{name:"contain",icon:uh(mAe)},ORIGINAL:{name:"original",icon:uh(BAe)}},{t:o}=_n(),s=ze("image-viewer"),{nextZIndex:l}=Hy(),u=Y(),c=Y([]),f=fte(),d=Y(!0),h=Y(a.initialIndex),p=dr(i.CONTAIN),v=Y({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=Y((r=a.zIndex)!=null?r:l()),m=F(()=>{const{urlList:V}=a;return V.length<=1}),y=F(()=>h.value===0),b=F(()=>h.value===a.urlList.length-1),x=F(()=>a.urlList[h.value]),_=F(()=>[s.e("btn"),s.e("prev"),s.is("disabled",!a.infinite&&y.value)]),S=F(()=>[s.e("btn"),s.e("next"),s.is("disabled",!a.infinite&&b.value)]),C=F(()=>{const{scale:V,deg:H,offsetX:K,offsetY:j,enableTransition:ne}=v.value;let Q=K/V,oe=j/V;const ae=H*Math.PI/180,me=Math.cos(ae),ve=Math.sin(ae);Q=Q*me+oe*ve,oe=oe*me-K/V*ve;const B={transform:`scale(${V}) rotate(${H}deg) translate(${Q}px, ${oe}px)`,transition:ne?"transform .3s":""};return p.value.name===i.CONTAIN.name&&(B.maxWidth=B.maxHeight="100%"),B});function k(){E(),n("close")}function T(){const V=Ov(K=>{switch(K.code){case lt.esc:a.closeOnPressEscape&&k();break;case lt.space:R();break;case lt.left:P();break;case lt.up:M("zoomIn");break;case lt.right:O();break;case lt.down:M("zoomOut");break}}),H=Ov(K=>{const j=K.deltaY||K.deltaX;M(j<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});f.run(()=>{Zn(document,"keydown",V),Zn(document,"wheel",H)})}function E(){f.stop()}function I(){d.value=!1}function A(V){d.value=!1,V.target.alt=o("el.image.error")}function N(V){if(d.value||V.button!==0||!u.value)return;v.value.enableTransition=!1;const{offsetX:H,offsetY:K}=v.value,j=V.pageX,ne=V.pageY,Q=Ov(ae=>{v.value={...v.value,offsetX:H+ae.pageX-j,offsetY:K+ae.pageY-ne}}),oe=Zn(document,"mousemove",Q);Zn(document,"mouseup",()=>{oe()}),V.preventDefault()}function L(){v.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function R(){if(d.value)return;const V=qm(i),H=Object.values(i),K=p.value.name,ne=(H.findIndex(Q=>Q.name===K)+1)%V.length;p.value=i[V[ne]],L()}function D(V){const H=a.urlList.length;h.value=(V+H)%H}function P(){y.value&&!a.infinite||D(h.value-1)}function O(){b.value&&!a.infinite||D(h.value+1)}function M(V,H={}){if(d.value)return;const{minScale:K,maxScale:j}=a,{zoomRate:ne,rotateDeg:Q,enableTransition:oe}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...H};switch(V){case"zoomOut":v.value.scale>K&&(v.value.scale=Number.parseFloat((v.value.scale/ne).toFixed(3)));break;case"zoomIn":v.value.scale<j&&(v.value.scale=Number.parseFloat((v.value.scale*ne).toFixed(3)));break;case"clockwise":v.value.deg+=Q,n("rotate",v.value.deg);break;case"anticlockwise":v.value.deg-=Q,n("rotate",v.value.deg);break}v.value.enableTransition=oe}function W(V){var H;((H=V.detail)==null?void 0:H.focusReason)==="pointer"&&V.preventDefault()}function U(){a.closeOnPressEscape&&k()}return Le(x,()=>{xt(()=>{const V=c.value[0];V!=null&&V.complete||(d.value=!0)})}),Le(h,V=>{L(),n("switch",V)}),zt(()=>{T()}),t({setActiveItem:D}),(V,H)=>(z(),Ae(w(Ky),{to:"body",disabled:!V.teleported},{default:fe(()=>[ie(hi,{name:"viewer-fade",appear:""},{default:fe(()=>[Z("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:G(w(s).e("wrapper")),style:yt({zIndex:g.value})},[ie(w(Gy),{loop:"",trapped:"","focus-trap-el":u.value,"focus-start-el":"container",onFocusoutPrevented:W,onReleaseRequested:U},{default:fe(()=>[Z("div",{class:G(w(s).e("mask")),onClick:At(K=>V.hideOnClickModal&&k(),["self"])},null,10,["onClick"]),Te(" CLOSE "),Z("span",{class:G([w(s).e("btn"),w(s).e("close")]),onClick:k},[ie(w(pt),null,{default:fe(()=>[ie(w(Ru))]),_:1})],2),Te(" ARROW "),w(m)?Te("v-if",!0):(z(),q(vt,{key:0},[Z("span",{class:G(w(_)),onClick:P},[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})],2),Z("span",{class:G(w(S)),onClick:O},[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})],2)],64)),Te(" ACTIONS "),Z("div",{class:G([w(s).e("btn"),w(s).e("actions")])},[Z("div",{class:G(w(s).e("actions__inner"))},[ie(w(pt),{onClick:K=>M("zoomOut")},{default:fe(()=>[ie(w(rDe))]),_:1},8,["onClick"]),ie(w(pt),{onClick:K=>M("zoomIn")},{default:fe(()=>[ie(w(jre))]),_:1},8,["onClick"]),Z("i",{class:G(w(s).e("actions__divider"))},null,2),ie(w(pt),{onClick:R},{default:fe(()=>[(z(),Ae(tn(w(p).icon)))]),_:1}),Z("i",{class:G(w(s).e("actions__divider"))},null,2),ie(w(pt),{onClick:K=>M("anticlockwise")},{default:fe(()=>[ie(w(LAe))]),_:1},8,["onClick"]),ie(w(pt),{onClick:K=>M("clockwise")},{default:fe(()=>[ie(w(PAe))]),_:1},8,["onClick"])],2)],2),Te(" CANVAS "),Z("div",{class:G(w(s).e("canvas"))},[(z(!0),q(vt,null,un(V.urlList,(K,j)=>Vt((z(),q("img",{ref_for:!0,ref:ne=>c.value[j]=ne,key:K,src:K,style:yt(w(C)),class:G(w(s).e("img")),crossorigin:V.crossorigin,onLoad:I,onError:A,onMousedown:N},null,46,["src","crossorigin"])),[[En,j===h.value]])),128))],2),Se(V.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var hBe=Ze(dBe,[["__file","image-viewer.vue"]]);const Mie=Bt(hBe),pBe=je({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:be([String,Object])},previewSrcList:{type:be(Array),default:()=>zr([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:be(String)}}),vBe={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Tt(e),close:()=>!0,show:()=>!0},gBe=se({name:"ElImage",inheritAttrs:!1}),mBe=se({...gBe,props:pBe,emits:vBe,setup(e,{emit:t}){const n=e;let r="";const{t:a}=_n(),i=ze("image"),o=qh(),s=F(()=>Zx(Object.entries(o).filter(([O])=>/^(data-|on[A-Z])/i.test(O)||["id","style"].includes(O)))),l=T_({excludeListeners:!0,excludeKeys:F(()=>Object.keys(s.value))}),u=Y(),c=Y(!1),f=Y(!0),d=Y(!1),h=Y(),p=Y(),v=wn&&"loading"in HTMLImageElement.prototype;let g,m;const y=F(()=>[i.e("inner"),x.value&&i.e("preview"),f.value&&i.is("loading")]),b=F(()=>{const{fit:O}=n;return wn&&O?{objectFit:O}:{}}),x=F(()=>{const{previewSrcList:O}=n;return Ke(O)&&O.length>0}),_=F(()=>{const{previewSrcList:O,initialIndex:M}=n;let W=M;return M>O.length-1&&(W=0),W}),S=F(()=>n.loading==="eager"?!1:!v&&n.loading==="lazy"||n.lazy),C=()=>{wn&&(f.value=!0,c.value=!1,u.value=n.src)};function k(O){f.value=!1,c.value=!1,t("load",O)}function T(O){f.value=!1,c.value=!0,t("error",O)}function E(){COe(h.value,p.value)&&(C(),N())}const I=Tre(E,200,!0);async function A(){var O;if(!wn)return;await xt();const{scrollContainer:M}=n;Hs(M)?p.value=M:gt(M)&&M!==""?p.value=(O=document.querySelector(M))!=null?O:void 0:h.value&&(p.value=eB(h.value)),p.value&&(g=Zn(p,"scroll",I),setTimeout(()=>E(),100))}function N(){!wn||!p.value||!I||(g==null||g(),p.value=void 0)}function L(O){if(O.ctrlKey){if(O.deltaY<0)return O.preventDefault(),!1;if(O.deltaY>0)return O.preventDefault(),!1}}function R(){x.value&&(m=Zn("wheel",L,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,t("show"))}function D(){m==null||m(),document.body.style.overflow=r,d.value=!1,t("close")}function P(O){t("switch",O)}return Le(()=>n.src,()=>{S.value?(f.value=!0,c.value=!1,N(),A()):C()}),zt(()=>{S.value?A():C()}),(O,M)=>(z(),q("div",rn({ref_key:"container",ref:h},w(s),{class:[w(i).b(),O.$attrs.class]}),[c.value?Se(O.$slots,"error",{key:0},()=>[Z("div",{class:G(w(i).e("error"))},Ve(w(a)("el.image.error")),3)]):(z(),q(vt,{key:1},[u.value!==void 0?(z(),q("img",rn({key:0},w(l),{src:u.value,loading:O.loading,style:w(b),class:w(y),crossorigin:O.crossorigin,onClick:R,onLoad:k,onError:T}),null,16,["src","loading","crossorigin"])):Te("v-if",!0),f.value?(z(),q("div",{key:1,class:G(w(i).e("wrapper"))},[Se(O.$slots,"placeholder",{},()=>[Z("div",{class:G(w(i).e("placeholder"))},null,2)])],2)):Te("v-if",!0)],64)),w(x)?(z(),q(vt,{key:2},[d.value?(z(),Ae(w(Mie),{key:0,"z-index":O.zIndex,"initial-index":w(_),infinite:O.infinite,"zoom-rate":O.zoomRate,"min-scale":O.minScale,"max-scale":O.maxScale,"url-list":O.previewSrcList,crossorigin:O.crossorigin,"hide-on-click-modal":O.hideOnClickModal,teleported:O.previewTeleported,"close-on-press-escape":O.closeOnPressEscape,onClose:D,onSwitch:P},{default:fe(()=>[O.$slots.viewer?(z(),q("div",{key:0},[Se(O.$slots,"viewer")])):Te("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Te("v-if",!0)],64)):Te("v-if",!0)],16))}});var yBe=Ze(mBe,[["__file","image.vue"]]);const bBe=Bt(yBe),xBe=je({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:xa,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Tt(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),wBe={[Qn]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Fi]:e=>Tt(e)||Ua(e),[Ht]:e=>Tt(e)||Ua(e)},_Be=se({name:"ElInputNumber"}),SBe=se({..._Be,props:xBe,emits:wBe,setup(e,{expose:t,emit:n}){const r=e,{t:a}=_n(),i=ze("input-number"),o=Y(),s=Ln({currentValue:r.modelValue,userInput:null}),{formItem:l}=Xi(),u=F(()=>Tt(r.modelValue)&&r.modelValue<=r.min),c=F(()=>Tt(r.modelValue)&&r.modelValue>=r.max),f=F(()=>{const R=m(r.step);return qn(r.precision)?Math.max(m(r.modelValue),R):(R>r.precision,r.precision)}),d=F(()=>r.controls&&r.controlsPosition==="right"),h=pa(),p=qi(),v=F(()=>{if(s.userInput!==null)return s.userInput;let R=s.currentValue;if(Ua(R))return"";if(Tt(R)){if(Number.isNaN(R))return"";qn(r.precision)||(R=R.toFixed(r.precision))}return R}),g=(R,D)=>{if(qn(D)&&(D=f.value),D===0)return Math.round(R);let P=String(R);const O=P.indexOf(".");if(O===-1||!P.replace(".","").split("")[O+D])return R;const U=P.length;return P.charAt(U-1)==="5"&&(P=`${P.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(P).toFixed(D))},m=R=>{if(Ua(R))return 0;const D=R.toString(),P=D.indexOf(".");let O=0;return P!==-1&&(O=D.length-P-1),O},y=(R,D=1)=>Tt(R)?g(R+r.step*D):s.currentValue,b=()=>{if(r.readonly||p.value||c.value)return;const R=Number(v.value)||0,D=y(R);S(D),n(Fi,s.currentValue),N()},x=()=>{if(r.readonly||p.value||u.value)return;const R=Number(v.value)||0,D=y(R,-1);S(D),n(Fi,s.currentValue),N()},_=(R,D)=>{const{max:P,min:O,step:M,precision:W,stepStrictly:U,valueOnClear:V}=r;P<O&&Na("InputNumber","min should not be greater than max.");let H=Number(R);if(Ua(R)||Number.isNaN(H))return null;if(R===""){if(V===null)return null;H=gt(V)?{min:O,max:P}[V]:V}return U&&(H=g(Math.round(H/M)*M,W),H!==R&&D&&n(Ht,H)),qn(W)||(H=g(H,W)),(H>P||H<O)&&(H=H>P?P:O,D&&n(Ht,H)),H},S=(R,D=!0)=>{var P;const O=s.currentValue,M=_(R);if(!D){n(Ht,M);return}O===M&&R||(s.userInput=null,n(Ht,M),O!==M&&n(Qn,M,O),r.validateEvent&&((P=l==null?void 0:l.validate)==null||P.call(l,"change").catch(W=>void 0)),s.currentValue=M)},C=R=>{s.userInput=R;const D=R===""?null:Number(R);n(Fi,D),S(D,!1)},k=R=>{const D=R!==""?Number(R):"";(Tt(D)&&!Number.isNaN(D)||R==="")&&S(D),N(),s.userInput=null},T=()=>{var R,D;(D=(R=o.value)==null?void 0:R.focus)==null||D.call(R)},E=()=>{var R,D;(D=(R=o.value)==null?void 0:R.blur)==null||D.call(R)},I=R=>{n("focus",R)},A=R=>{var D,P;s.userInput=null,SA()&&s.currentValue===null&&((D=o.value)!=null&&D.input)&&(o.value.input.value=""),n("blur",R),r.validateEvent&&((P=l==null?void 0:l.validate)==null||P.call(l,"blur").catch(O=>void 0))},N=()=>{s.currentValue!==r.modelValue&&(s.currentValue=r.modelValue)},L=R=>{document.activeElement===R.target&&R.preventDefault()};return Le(()=>r.modelValue,(R,D)=>{const P=_(R,!0);s.userInput===null&&P!==D&&(s.currentValue=P)},{immediate:!0}),zt(()=>{var R;const{min:D,max:P,modelValue:O}=r,M=(R=o.value)==null?void 0:R.input;if(M.setAttribute("role","spinbutton"),Number.isFinite(P)?M.setAttribute("aria-valuemax",String(P)):M.removeAttribute("aria-valuemax"),Number.isFinite(D)?M.setAttribute("aria-valuemin",String(D)):M.removeAttribute("aria-valuemin"),M.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),M.setAttribute("aria-disabled",String(p.value)),!Tt(O)&&O!=null){let W=Number(O);Number.isNaN(W)&&(W=null),n(Ht,W)}M.addEventListener("wheel",L,{passive:!1})}),Xc(()=>{var R,D;const P=(R=o.value)==null?void 0:R.input;P==null||P.setAttribute("aria-valuenow",`${(D=s.currentValue)!=null?D:""}`)}),t({focus:T,blur:E}),(R,D)=>(z(),q("div",{class:G([w(i).b(),w(i).m(w(h)),w(i).is("disabled",w(p)),w(i).is("without-controls",!R.controls),w(i).is("controls-right",w(d))]),onDragstart:At(()=>{},["prevent"])},[R.controls?Vt((z(),q("span",{key:0,role:"button","aria-label":w(a)("el.inputNumber.decrease"),class:G([w(i).e("decrease"),w(i).is("disabled",w(u))]),onKeydown:rr(x,["enter"])},[Se(R.$slots,"decrease-icon",{},()=>[ie(w(pt),null,{default:fe(()=>[w(d)?(z(),Ae(w(Zc),{key:0})):(z(),Ae(w(TAe),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(Zk),x]]):Te("v-if",!0),R.controls?Vt((z(),q("span",{key:1,role:"button","aria-label":w(a)("el.inputNumber.increase"),class:G([w(i).e("increase"),w(i).is("disabled",w(c))]),onKeydown:rr(b,["enter"])},[Se(R.$slots,"increase-icon",{},()=>[ie(w(pt),null,{default:fe(()=>[w(d)?(z(),Ae(w(nB),{key:0})):(z(),Ae(w(Gre),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(Zk),b]]):Te("v-if",!0),ie(w(mo),{id:R.id,ref_key:"input",ref:o,type:"number",step:R.step,"model-value":w(v),placeholder:R.placeholder,readonly:R.readonly,disabled:w(p),size:w(h),max:R.max,min:R.min,name:R.name,"aria-label":R.ariaLabel,"validate-event":!1,onKeydown:[rr(At(b,["prevent"]),["up"]),rr(At(x,["prevent"]),["down"])],onBlur:A,onFocus:I,onInput:C,onChange:k},Ml({_:2},[R.$slots.prefix?{name:"prefix",fn:fe(()=>[Se(R.$slots,"prefix")])}:void 0,R.$slots.suffix?{name:"suffix",fn:fe(()=>[Se(R.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var CBe=Ze(SBe,[["__file","input-number.vue"]]);const $ie=Bt(CBe),TBe=je({modelValue:{type:be(Array)},max:Number,tagType:{...Hf.type,default:"info"},tagEffect:Hf.effect,trigger:{type:be(String),default:lt.enter},draggable:{type:Boolean,default:!1},size:xa,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),kBe={[Ht]:e=>Ke(e)||qn(e),[Qn]:e=>Ke(e)||qn(e),[Fi]:e=>gt(e),"add-tag":e=>gt(e),"remove-tag":e=>gt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function IBe({props:e,emit:t,formItem:n}){const r=qi(),a=pa(),i=dr(),o=Y(),s=F(()=>["small"].includes(a.value)?"small":"default"),l=F(()=>{var T;return(T=e.modelValue)!=null&&T.length?void 0:e.placeholder}),u=F(()=>!(e.readonly||r.value)),c=F(()=>{var T,E;return qn(e.max)?!1:((E=(T=e.modelValue)==null?void 0:T.length)!=null?E:0)>=e.max}),f=T=>{if(c.value){o.value=void 0;return}_.value||t(Fi,T.target.value)},d=T=>{var E;if(!_.value)switch(T.code){case e.trigger:T.preventDefault(),T.stopPropagation(),h();break;case lt.numpadEnter:e.trigger===lt.enter&&(T.preventDefault(),T.stopPropagation(),h());break;case lt.backspace:!o.value&&((E=e.modelValue)!=null&&E.length)&&(T.preventDefault(),T.stopPropagation(),p(e.modelValue.length-1));break}},h=()=>{var T,E;const I=(T=o.value)==null?void 0:T.trim();if(!I||c.value)return;const A=[...(E=e.modelValue)!=null?E:[],I];t(Ht,A),t(Qn,A),t("add-tag",I),o.value=void 0},p=T=>{var E;const I=((E=e.modelValue)!=null?E:[]).slice(),[A]=I.splice(T,1);t(Ht,I),t(Qn,I),t("remove-tag",A)},v=()=>{o.value=void 0,t(Ht,void 0),t(Qn,void 0),t("clear")},g=(T,E,I)=>{var A;const N=((A=e.modelValue)!=null?A:[]).slice(),[L]=N.splice(T,1),R=E>T&&I==="before"?-1:E<T&&I==="after"?1:0;N.splice(E+R,0,L),t(Ht,N),t(Qn,N)},m=()=>{var T;(T=i.value)==null||T.focus()},y=()=>{var T;(T=i.value)==null||T.blur()},{wrapperRef:b,isFocused:x}=Jh(i,{beforeFocus(){return r.value},afterBlur(){var T;h(),e.validateEvent&&((T=n==null?void 0:n.validate)==null||T.call(n,"blur").catch(E=>void 0))}}),{isComposing:_,handleCompositionStart:S,handleCompositionUpdate:C,handleCompositionEnd:k}=k_({afterComposition:f});return Le(()=>e.modelValue,()=>{var T;e.validateEvent&&((T=n==null?void 0:n.validate)==null||T.call(n,Qn).catch(E=>void 0))}),{inputRef:i,wrapperRef:b,isFocused:x,isComposing:_,inputValue:o,size:a,tagSize:s,placeholder:l,closable:u,disabled:r,inputLimit:c,handleDragged:g,handleInput:f,handleKeydown:d,handleAddTag:h,handleRemoveTag:p,handleClear:v,handleCompositionStart:S,handleCompositionUpdate:C,handleCompositionEnd:k,focus:m,blur:y}}function EBe(){const e=Y(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}function ABe(){const e=dr(),t=Y(0),n=11,r=F(()=>({minWidth:`${Math.max(t.value,n)}px`}));return Mr(e,()=>{var i,o;t.value=(o=(i=e.value)==null?void 0:i.getBoundingClientRect().width)!=null?o:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:r}}function DBe({wrapperRef:e,handleDragged:t,afterDragged:n}){const r=ze("input-tag"),a=dr(),i=Y(!1);let o,s,l,u;function c(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function f(p,v){o=v,s=e.value.querySelector(c(v)),s&&(s.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function d(p,v){if(l=v,p.preventDefault(),p.dataTransfer.dropEffect="move",qn(o)||o===v){i.value=!1;return}const g=e.value.querySelector(c(v)).getBoundingClientRect(),m=o+1!==v,y=o-1!==v,b=p.clientX-g.left,x=m?y?.5:1:-1,_=y?m?.5:0:1;b<=g.width*x?u="before":b>g.width*_?u="after":u=void 0;const S=e.value.querySelector(`.${r.e("inner")}`),C=S.getBoundingClientRect(),k=Number.parseFloat(Cf(S,"gap"))/2,T=g.top-C.top;let E=-9999;if(u==="before")E=Math.max(g.left-C.left-k,Math.floor(-k/2));else if(u==="after"){const I=g.right-C.left;E=I+(C.width===I?Math.floor(k/2):k)}Fre(a.value,{top:`${T}px`,left:`${E}px`}),i.value=!!u}function h(p){p.preventDefault(),s&&(s.style.opacity=""),u&&!qn(o)&&!qn(l)&&o!==l&&t(o,l,u),i.value=!1,o=void 0,s=null,l=void 0,u=void 0,n==null||n()}return{dropIndicatorRef:a,showDropIndicator:i,handleDragStart:f,handleDragOver:d,handleDragEnd:h}}function NBe({props:e,isFocused:t,hovering:n,disabled:r,inputValue:a,size:i,validateState:o,validateIcon:s,needStatusIcon:l}){const u=qh(),c=Sa(),f=ze("input-tag"),d=ze("input"),h=F(()=>[f.b(),f.is("focused",t.value),f.is("hovering",n.value),f.is("disabled",r.value),f.m(i.value),f.e("wrapper"),u.class]),p=F(()=>[u.style]),v=F(()=>{var y,b;return[f.e("inner"),f.is("draggable",e.draggable),f.is("left-space",!((y=e.modelValue)!=null&&y.length)&&!c.prefix),f.is("right-space",!((b=e.modelValue)!=null&&b.length)&&!m.value)]}),g=F(()=>{var y;return e.clearable&&!r.value&&!e.readonly&&(((y=e.modelValue)==null?void 0:y.length)||a.value)&&(t.value||n.value)}),m=F(()=>c.suffix||g.value||o.value&&s.value&&l.value);return{ns:f,nsInput:d,containerKls:h,containerStyle:p,innerKls:v,showClear:g,showSuffix:m}}const RBe=se({name:"ElInputTag",inheritAttrs:!1}),MBe=se({...RBe,props:TBe,emits:kBe,setup(e,{expose:t,emit:n}){const r=e,a=T_(),i=Sa(),{form:o,formItem:s}=Xi(),{inputId:l}=Wl(r,{formItemContext:s}),u=F(()=>{var B;return(B=o==null?void 0:o.statusIcon)!=null?B:!1}),c=F(()=>(s==null?void 0:s.validateState)||""),f=F(()=>c.value&&_A[c.value]),{inputRef:d,wrapperRef:h,isFocused:p,inputValue:v,size:g,tagSize:m,placeholder:y,closable:b,disabled:x,handleDragged:_,handleInput:S,handleKeydown:C,handleRemoveTag:k,handleClear:T,handleCompositionStart:E,handleCompositionUpdate:I,handleCompositionEnd:A,focus:N,blur:L}=IBe({props:r,emit:n,formItem:s}),{hovering:R,handleMouseEnter:D,handleMouseLeave:P}=EBe(),{calculatorRef:O,inputStyle:M}=ABe(),{dropIndicatorRef:W,showDropIndicator:U,handleDragStart:V,handleDragOver:H,handleDragEnd:K}=DBe({wrapperRef:h,handleDragged:_,afterDragged:N}),{ns:j,nsInput:ne,containerKls:Q,containerStyle:oe,innerKls:ae,showClear:me,showSuffix:ve}=NBe({props:r,hovering:R,isFocused:p,inputValue:v,disabled:x,size:g,validateState:c,validateIcon:f,needStatusIcon:u});return t({focus:N,blur:L}),(B,re)=>(z(),q("div",{ref_key:"wrapperRef",ref:h,class:G(w(Q)),style:yt(w(oe)),onMouseenter:w(D),onMouseleave:w(P)},[w(i).prefix?(z(),q("div",{key:0,class:G(w(j).e("prefix"))},[Se(B.$slots,"prefix")],2)):Te("v-if",!0),Z("div",{class:G(w(ae))},[(z(!0),q(vt,null,un(B.modelValue,(ge,Ie)=>(z(),Ae(w(ny),{key:Ie,size:w(m),closable:w(b),type:B.tagType,effect:B.tagEffect,draggable:w(b)&&B.draggable,"disable-transitions":"",onClose:Ce=>w(k)(Ie),onDragstart:Ce=>w(V)(Ce,Ie),onDragover:Ce=>w(H)(Ce,Ie),onDragend:w(K),onDrop:At(()=>{},["stop"])},{default:fe(()=>[Se(B.$slots,"tag",{value:ge,index:Ie},()=>[Kt(Ve(ge),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),Z("div",{class:G(w(j).e("input-wrapper"))},[Vt(Z("input",rn({id:w(l),ref_key:"inputRef",ref:d,"onUpdate:modelValue":ge=>vr(v)?v.value=ge:null},w(a),{type:"text",minlength:B.minlength,maxlength:B.maxlength,disabled:w(x),readonly:B.readonly,autocomplete:B.autocomplete,tabindex:B.tabindex,placeholder:w(y),autofocus:B.autofocus,ariaLabel:B.ariaLabel,class:w(j).e("input"),style:w(M),onCompositionstart:w(E),onCompositionupdate:w(I),onCompositionend:w(A),onInput:w(S),onKeydown:w(C)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[lA,w(v)]]),Z("span",{ref_key:"calculatorRef",ref:O,"aria-hidden":"true",class:G(w(j).e("input-calculator")),textContent:Ve(w(v))},null,10,["textContent"])],2),Vt(Z("div",{ref_key:"dropIndicatorRef",ref:W,class:G(w(j).e("drop-indicator"))},null,2),[[En,w(U)]])],2),w(ve)?(z(),q("div",{key:1,class:G(w(j).e("suffix"))},[Se(B.$slots,"suffix"),w(me)?(z(),Ae(w(pt),{key:0,class:G([w(j).e("icon"),w(j).e("clear")]),onMousedown:At(w(zn),["prevent"]),onClick:w(T)},{default:fe(()=>[ie(w(ld))]),_:1},8,["class","onMousedown","onClick"])):Te("v-if",!0),w(c)&&w(f)&&w(u)?(z(),Ae(w(pt),{key:1,class:G([w(ne).e("icon"),w(ne).e("validateIcon"),w(ne).is("loading",w(c)==="validating")])},{default:fe(()=>[(z(),Ae(tn(w(f))))]),_:1},8,["class"])):Te("v-if",!0)],2)):Te("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var $Be=Ze(MBe,[["__file","input-tag.vue"]]);const LBe=Bt($Be),OBe=je({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:er}}),PBe={click:e=>e instanceof MouseEvent},FBe=se({name:"ElLink"}),BBe=se({...FBe,props:OBe,emits:PBe,setup(e,{emit:t}){const n=e,r=ze("link"),a=F(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function i(o){n.disabled||t("click",o)}return(o,s)=>(z(),q("a",{class:G(w(a)),href:o.disabled||!o.href?void 0:o.href,target:o.disabled||!o.href?void 0:o.target,onClick:i},[o.icon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(o.icon)))]),_:1})):Te("v-if",!0),o.$slots.default?(z(),q("span",{key:1,class:G(w(r).e("inner"))},[Se(o.$slots,"default")],2)):Te("v-if",!0),o.$slots.icon?Se(o.$slots,"icon",{key:2}):Te("v-if",!0)],10,["href","target"]))}});var VBe=Ze(BBe,[["__file","link.vue"]]);const zBe=Bt(VBe);let WBe=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let a=!1;switch(r.code){case lt.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case lt.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case lt.tab:{MT(t,"mouseleave");break}case lt.enter:case lt.numpadEnter:case lt.space:{a=!0,r.currentTarget.click();break}}return a&&(r.preventDefault(),r.stopPropagation()),!1})})}},HBe=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new WBe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case lt.down:{MT(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case lt.up:{MT(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case lt.tab:{MT(t.currentTarget,"mouseleave");break}case lt.enter:case lt.numpadEnter:case lt.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},UBe=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new HBe(r,t)})}};const GBe=se({name:"ElMenuCollapseTransition",setup(){const e=ze("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){Tl(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){bo(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),xs(n,e.m("collapse"))?(bo(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Tl(n,e.m("collapse"))):(Tl(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),bo(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Tl(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function KBe(e,t,n,r,a,i){return z(),Ae(hi,rn({mode:"out-in"},e.listeners),{default:fe(()=>[Se(e.$slots,"default")]),_:3},16)}var jBe=Ze(GBe,[["render",KBe],["__file","menu-collapse-transition.vue"]]);function Lie(e,t){const n=F(()=>{let a=e.parent;const i=[t.value];for(;a.type.name!=="ElMenu";)a.props.index&&i.unshift(a.props.index),a=a.parent;return i});return{parentMenu:F(()=>{let a=e.parent;for(;a&&!["ElMenu","ElSubMenu"].includes(a.type.name);)a=a.parent;return a}),indexPath:n}}function YBe(e){return F(()=>{const n=e.backgroundColor;return n?new Iae(n).shade(20).toString():""})}const Oie=(e,t)=>{const n=ze("menu");return F(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":YBe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},XBe=je({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:er},expandOpenIcon:{type:er},collapseCloseIcon:{type:er},collapseOpenIcon:{type:er}}),OR="ElSubMenu";var VB=se({name:OR,props:XBe,setup(e,{slots:t,expose:n}){const r=jt(),{indexPath:a,parentMenu:i}=Lie(r,F(()=>e.index)),o=ze("menu"),s=ze("sub-menu"),l=ht("rootMenu");l||Na(OR,"can not inject root menu");const u=ht(`subMenu:${i.value.uid}`);u||Na(OR,"can not inject sub menu");const c=Y({}),f=Y({});let d;const h=Y(!1),p=Y(),v=Y(null),g=F(()=>k.value==="horizontal"&&y.value?"bottom-start":"right-start"),m=F(()=>k.value==="horizontal"&&y.value||k.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?S.value?e.expandOpenIcon:e.expandCloseIcon:Zc:e.collapseCloseIcon&&e.collapseOpenIcon?S.value?e.collapseOpenIcon:e.collapseCloseIcon:Yo),y=F(()=>u.level===0),b=F(()=>{const W=e.teleported;return W===void 0?y.value:W}),x=F(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),_=F(()=>k.value==="horizontal"&&y.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),S=F(()=>l.openedMenus.includes(e.index)),C=F(()=>{let W=!1;return Object.values(c.value).forEach(U=>{U.active&&(W=!0)}),Object.values(f.value).forEach(U=>{U.active&&(W=!0)}),W}),k=F(()=>l.props.mode),T=Ln({index:e.index,indexPath:a,active:C}),E=Oie(l.props,u.level+1),I=F(()=>{var W;return(W=e.popperOffset)!=null?W:l.props.popperOffset}),A=F(()=>{var W;return(W=e.popperClass)!=null?W:l.props.popperClass}),N=F(()=>{var W;return(W=e.showTimeout)!=null?W:l.props.showTimeout}),L=F(()=>{var W;return(W=e.hideTimeout)!=null?W:l.props.hideTimeout}),R=()=>{var W,U,V;return(V=(U=(W=v.value)==null?void 0:W.popperRef)==null?void 0:U.popperInstanceRef)==null?void 0:V.destroy()},D=W=>{W||R()},P=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:a.value,active:C.value})},O=(W,U=N.value)=>{var V;if(W.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,d==null||d(),{stop:d}=ag(()=>{l.openMenu(e.index,a.value)},U),b.value&&((V=i.value.vnode.el)==null||V.dispatchEvent(new MouseEvent("mouseenter")))}},M=(W=!1)=>{var U;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}d==null||d(),u.mouseInChild.value=!1,{stop:d}=ag(()=>!h.value&&l.closeMenu(e.index,a.value),L.value),b.value&&W&&((U=u.handleMouseleave)==null||U.call(u,!0))};Le(()=>l.props.collapse,W=>D(!!W));{const W=V=>{f.value[V.index]=V},U=V=>{delete f.value[V.index]};hn(`subMenu:${r.uid}`,{addSubMenu:W,removeSubMenu:U,handleMouseleave:M,mouseInChild:h,level:u.level+1})}return n({opened:S}),zt(()=>{l.addSubMenu(T),u.addSubMenu(T)}),ar(()=>{u.removeSubMenu(T),l.removeSubMenu(T)}),()=>{var W;const U=[(W=t.title)==null?void 0:W.call(t),Ct(pt,{class:s.e("icon-arrow"),style:{transform:S.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>gt(m.value)?Ct(r.appContext.components[m.value]):Ct(m.value)})],V=l.isMenuPopup?Ct(Hi,{ref:v,visible:S.value,effect:"light",pure:!0,offset:I.value,showArrow:!1,persistent:!0,popperClass:A.value,placement:g.value,teleported:b.value,fallbackPlacements:_.value,transition:x.value,gpuAcceleration:!1},{content:()=>{var H;return Ct("div",{class:[o.m(k.value),o.m("popup-container"),A.value],onMouseenter:K=>O(K,100),onMouseleave:()=>M(!0),onFocus:K=>O(K,100)},[Ct("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${g.value}`)],style:E.value},[(H=t.default)==null?void 0:H.call(t)])])},default:()=>Ct("div",{class:s.e("title"),onClick:P},U)}):Ct(vt,{},[Ct("div",{class:s.e("title"),ref:p,onClick:P},U),Ct(IA,{},{default:()=>{var H;return Vt(Ct("ul",{role:"menu",class:[o.b(),o.m("inline")],style:E.value},[(H=t.default)==null?void 0:H.call(t)]),[[En,S.value]])}})]);return Ct("li",{class:[s.b(),s.is("active",C.value),s.is("opened",S.value),s.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:O,onMouseleave:()=>M(),onFocus:O},[V])}}});const qBe=je({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:be(Array),default:()=>zr([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:er,default:()=>EAe},popperEffect:{type:be(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),PR=e=>Ke(e)&&e.every(t=>gt(t)),ZBe={close:(e,t)=>gt(e)&&PR(t),open:(e,t)=>gt(e)&&PR(t),select:(e,t,n,r)=>gt(e)&&PR(t)&&qt(n)&&(r===void 0||r instanceof Promise)};var JBe=se({name:"ElMenu",props:qBe,emits:ZBe,setup(e,{emit:t,slots:n,expose:r}){const a=jt(),i=a.appContext.config.globalProperties.$router,o=Y(),s=ze("menu"),l=ze("sub-menu"),u=Y(-1),c=Y(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),f=Y(e.defaultActive),d=Y({}),h=Y({}),p=F(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),v=()=>{const R=f.value&&d.value[f.value];if(!R||e.mode==="horizontal"||e.collapse)return;R.indexPath.forEach(P=>{const O=h.value[P];O&&g(P,O.indexPath)})},g=(R,D)=>{c.value.includes(R)||(e.uniqueOpened&&(c.value=c.value.filter(P=>D.includes(P))),c.value.push(R),t("open",R,D))},m=R=>{const D=c.value.indexOf(R);D!==-1&&c.value.splice(D,1)},y=(R,D)=>{m(R),t("close",R,D)},b=({index:R,indexPath:D})=>{c.value.includes(R)?y(R,D):g(R,D)},x=R=>{(e.mode==="horizontal"||e.collapse)&&(c.value=[]);const{index:D,indexPath:P}=R;if(!(Ua(D)||Ua(P)))if(e.router&&i){const O=R.route||D,M=i.push(O).then(W=>(W||(f.value=D),W));t("select",D,P,{index:D,indexPath:P,route:O},M)}else f.value=D,t("select",D,P,{index:D,indexPath:P})},_=R=>{const D=d.value,P=D[R]||f.value&&D[f.value]||D[e.defaultActive];P?f.value=P.index:f.value=R},S=R=>{const D=getComputedStyle(R),P=Number.parseInt(D.marginLeft,10),O=Number.parseInt(D.marginRight,10);return R.offsetWidth+P+O||0},C=()=>{var R,D;if(!o.value)return-1;const P=Array.from((D=(R=o.value)==null?void 0:R.childNodes)!=null?D:[]).filter(j=>j.nodeName!=="#comment"&&(j.nodeName!=="#text"||j.nodeValue)),O=64,M=getComputedStyle(o.value),W=Number.parseInt(M.paddingLeft,10),U=Number.parseInt(M.paddingRight,10),V=o.value.clientWidth-W-U;let H=0,K=0;return P.forEach((j,ne)=>{H+=S(j),H<=V-O&&(K=ne+1)}),K===P.length?-1:K},k=R=>h.value[R].indexPath,T=(R,D=33.34)=>{let P;return()=>{P&&clearTimeout(P),P=setTimeout(()=>{R()},D)}};let E=!0;const I=()=>{if(u.value===C())return;const R=()=>{u.value=-1,xt(()=>{u.value=C()})};E?R():T(R)(),E=!1};Le(()=>e.defaultActive,R=>{d.value[R]||(f.value=""),_(R)}),Le(()=>e.collapse,R=>{R&&(c.value=[])}),Le(d.value,v);let A;Pi(()=>{e.mode==="horizontal"&&e.ellipsis?A=Mr(o,I).stop:A==null||A()});const N=Y(!1);{const R=M=>{h.value[M.index]=M},D=M=>{delete h.value[M.index]};hn("rootMenu",Ln({props:e,openedMenus:c,items:d,subMenus:h,activeIndex:f,isMenuPopup:p,addMenuItem:M=>{d.value[M.index]=M},removeMenuItem:M=>{delete d.value[M.index]},addSubMenu:R,removeSubMenu:D,openMenu:g,closeMenu:y,handleMenuItemClick:x,handleSubMenuClick:b})),hn(`subMenu:${a.uid}`,{addSubMenu:R,removeSubMenu:D,mouseInChild:N,level:0})}zt(()=>{e.mode==="horizontal"&&new UBe(a.vnode.el,s.namespace.value)}),r({open:D=>{const{indexPath:P}=h.value[D];P.forEach(O=>g(O,P))},close:m,handleResize:I});const L=Oie(e,0);return()=>{var R,D;let P=(D=(R=n.default)==null?void 0:R.call(n))!=null?D:[];const O=[];if(e.mode==="horizontal"&&o.value){const U=dh(P),V=u.value===-1?U:U.slice(0,u.value),H=u.value===-1?[]:U.slice(u.value);H!=null&&H.length&&e.ellipsis&&(P=V,O.push(Ct(VB,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>Ct(pt,{class:l.e("icon-more")},{default:()=>Ct(e.ellipsisIcon)}),default:()=>H})))}const M=e.closeOnClickOutside?[[Uf,()=>{c.value.length&&(N.value||(c.value.forEach(U=>t("close",U,k(U))),c.value=[]))}]]:[],W=Vt(Ct("ul",{key:String(e.collapse),role:"menubar",ref:o,style:L.value,class:{[s.b()]:!0,[s.m(e.mode)]:!0,[s.m("collapse")]:e.collapse}},[...P,...O]),M);return e.collapseTransition&&e.mode==="vertical"?Ct(jBe,()=>W):W}}});const QBe=je({index:{type:be([String,null]),default:null},route:{type:be([String,Object])},disabled:Boolean}),eVe={click:e=>gt(e.index)&&Ke(e.indexPath)},FR="ElMenuItem",tVe=se({name:FR,components:{ElTooltip:Hi},props:QBe,emits:eVe,setup(e,{emit:t}){const n=jt(),r=ht("rootMenu"),a=ze("menu"),i=ze("menu-item");r||Na(FR,"can not inject root menu");const{parentMenu:o,indexPath:s}=Lie(n,Hn(e,"index")),l=ht(`subMenu:${o.value.uid}`);l||Na(FR,"can not inject sub menu");const u=F(()=>e.index===r.activeIndex),c=Ln({index:e.index,indexPath:s,active:u}),f=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:s.value,route:e.route}),t("click",c))};return zt(()=>{l.addSubMenu(c),r.addMenuItem(c)}),ar(()=>{l.removeSubMenu(c),r.removeMenuItem(c)}),{parentMenu:o,rootMenu:r,active:u,nsMenu:a,nsMenuItem:i,handleClick:f}}});function nVe(e,t,n,r,a,i){const o=Ft("el-tooltip");return z(),q("li",{class:G([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(z(),Ae(o,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:fe(()=>[Se(e.$slots,"title")]),default:fe(()=>[Z("div",{class:G(e.nsMenu.be("tooltip","trigger"))},[Se(e.$slots,"default")],2)]),_:3},8,["effect"])):(z(),q(vt,{key:1},[Se(e.$slots,"default"),Se(e.$slots,"title")],64))],10,["onClick"])}var Pie=Ze(tVe,[["render",nVe],["__file","menu-item.vue"]]);const rVe={title:String},aVe="ElMenuItemGroup",iVe=se({name:aVe,props:rVe,setup(){return{ns:ze("menu-item-group")}}});function oVe(e,t,n,r,a,i){return z(),q("li",{class:G(e.ns.b())},[Z("div",{class:G(e.ns.e("title"))},[e.$slots.title?Se(e.$slots,"title",{key:1}):(z(),q(vt,{key:0},[Kt(Ve(e.title),1)],64))],2),Z("ul",null,[Se(e.$slots,"default")])],2)}var Fie=Ze(iVe,[["render",oVe],["__file","menu-item-group.vue"]]);const sVe=Bt(JBe,{MenuItem:Pie,MenuItemGroup:Fie,SubMenu:VB}),lVe=Ur(Pie),uVe=Ur(Fie),cVe=Ur(VB),fVe=je({icon:{type:er,default:()=>YEe},title:String,content:{type:String,default:""}}),dVe={back:()=>!0},hVe=se({name:"ElPageHeader"}),pVe=se({...hVe,props:fVe,emits:dVe,setup(e,{emit:t}){const n=Sa(),{t:r}=_n(),a=ze("page-header"),i=F(()=>[a.b(),{[a.m("has-breadcrumb")]:!!n.breadcrumb,[a.m("has-extra")]:!!n.extra,[a.is("contentful")]:!!n.default}]);function o(){t("back")}return(s,l)=>(z(),q("div",{class:G(w(i))},[s.$slots.breadcrumb?(z(),q("div",{key:0,class:G(w(a).e("breadcrumb"))},[Se(s.$slots,"breadcrumb")],2)):Te("v-if",!0),Z("div",{class:G(w(a).e("header"))},[Z("div",{class:G(w(a).e("left"))},[Z("div",{class:G(w(a).e("back")),role:"button",tabindex:"0",onClick:o},[s.icon||s.$slots.icon?(z(),q("div",{key:0,"aria-label":s.title||w(r)("el.pageHeader.title"),class:G(w(a).e("icon"))},[Se(s.$slots,"icon",{},()=>[s.icon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(s.icon)))]),_:1})):Te("v-if",!0)])],10,["aria-label"])):Te("v-if",!0),Z("div",{class:G(w(a).e("title"))},[Se(s.$slots,"title",{},()=>[Kt(Ve(s.title||w(r)("el.pageHeader.title")),1)])],2)],2),ie(w(wie),{direction:"vertical"}),Z("div",{class:G(w(a).e("content"))},[Se(s.$slots,"content",{},()=>[Kt(Ve(s.content),1)])],2)],2),s.$slots.extra?(z(),q("div",{key:0,class:G(w(a).e("extra"))},[Se(s.$slots,"extra")],2)):Te("v-if",!0)],2),s.$slots.default?(z(),q("div",{key:1,class:G(w(a).e("main"))},[Se(s.$slots,"default")],2)):Te("v-if",!0)],2))}});var vVe=Ze(pVe,[["__file","page-header.vue"]]);const gVe=Bt(vVe),Bie=Symbol("elPaginationKey"),mVe=je({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:er}}),yVe={click:e=>e instanceof MouseEvent},bVe=se({name:"ElPaginationPrev"}),xVe=se({...bVe,props:mVe,emits:yVe,setup(e){const t=e,{t:n}=_n(),r=F(()=>t.disabled||t.currentPage<=1);return(a,i)=>(z(),q("button",{type:"button",class:"btn-prev",disabled:w(r),"aria-label":a.prevText||w(n)("el.pagination.prev"),"aria-disabled":w(r),onClick:o=>a.$emit("click",o)},[a.prevText?(z(),q("span",{key:0},Ve(a.prevText),1)):(z(),Ae(w(pt),{key:1},{default:fe(()=>[(z(),Ae(tn(a.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var wVe=Ze(xVe,[["__file","prev.vue"]]);const _Ve=je({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:er}}),SVe=se({name:"ElPaginationNext"}),CVe=se({...SVe,props:_Ve,emits:["click"],setup(e){const t=e,{t:n}=_n(),r=F(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(a,i)=>(z(),q("button",{type:"button",class:"btn-next",disabled:w(r),"aria-label":a.nextText||w(n)("el.pagination.next"),"aria-disabled":w(r),onClick:o=>a.$emit("click",o)},[a.nextText?(z(),q("span",{key:0},Ve(a.nextText),1)):(z(),Ae(w(pt),{key:1},{default:fe(()=>[(z(),Ae(tn(a.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var TVe=Ze(CVe,[["__file","next.vue"]]);const Vie=Symbol("ElSelectGroup"),Yy=Symbol("ElSelect");function kVe(e,t){const n=ht(Yy),r=ht(Vie,{disabled:!1}),a=F(()=>c(ho(n.props.modelValue),e.value)),i=F(()=>{var h;if(n.props.multiple){const p=ho((h=n.props.modelValue)!=null?h:[]);return!a.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),o=F(()=>e.label||(qt(e.value)?"":e.value)),s=F(()=>e.value||e.label||""),l=F(()=>e.disabled||t.groupDisabled||i.value),u=jt(),c=(h=[],p)=>{if(qt(e.value)){const v=n.props.valueKey;return h&&h.some(g=>tr(ca(g,v))===ca(p,v))}else return h&&h.includes(p)},f=()=>{!e.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},d=h=>{const p=new RegExp(CB(h),"i");t.visible=p.test(o.value)||e.created};return Le(()=>o.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),Le(()=>e.value,(h,p)=>{const{remote:v,valueKey:g}=n.props;if(h!==p&&(n.onOptionDestroy(p,u.proxy),n.onOptionCreate(u.proxy)),!e.created&&!v){if(g&&qt(h)&&qt(p)&&h[g]===p[g])return;n.setSelected()}}),Le(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:o,currentValue:s,itemSelected:a,isDisabled:l,hoverItem:f,updateOption:d}}const IVe=se({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=ze("select"),n=Ii(),r=F(()=>[t.be("dropdown","item"),t.is("disabled",w(s)),t.is("selected",w(o)),t.is("hovering",w(d))]),a=Ln({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c}=kVe(e,a),{visible:f,hover:d}=di(a),h=jt().proxy;l.onOptionCreate(h),ar(()=>{const v=h.value,{selected:g}=l.states,m=g.some(y=>y.value===h.value);xt(()=>{l.states.cachedOptions.get(v)===h&&!m&&l.states.cachedOptions.delete(v)}),l.onOptionDestroy(v,h)});function p(){s.value||l.handleOptionSelect(h)}return{ns:t,id:n,containerKls:r,currentLabel:i,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c,visible:f,hover:d,selectOptionClick:p,states:a}}});function EVe(e,t,n,r,a,i){return Vt((z(),q("li",{id:e.id,class:G(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:At(e.selectOptionClick,["stop"])},[Se(e.$slots,"default",{},()=>[Z("span",null,Ve(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[En,e.visible]])}var zB=Ze(IVe,[["render",EVe],["__file","option.vue"]]);const AVe=se({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=ht(Yy),t=ze("select"),n=F(()=>e.props.popperClass),r=F(()=>e.props.multiple),a=F(()=>e.props.fitInputWidth),i=Y("");function o(){var s;i.value=`${(s=e.selectRef)==null?void 0:s.offsetWidth}px`}return zt(()=>{o(),Mr(e.selectRef,o)}),{ns:t,minWidth:i,popperClass:n,isMultiple:r,isFitInputWidth:a}}});function DVe(e,t,n,r,a,i){return z(),q("div",{class:G([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:yt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(z(),q("div",{key:0,class:G(e.ns.be("dropdown","header"))},[Se(e.$slots,"header")],2)):Te("v-if",!0),Se(e.$slots,"default"),e.$slots.footer?(z(),q("div",{key:1,class:G(e.ns.be("dropdown","footer"))},[Se(e.$slots,"footer")],2)):Te("v-if",!0)],6)}var NVe=Ze(AVe,[["render",DVe],["__file","select-dropdown.vue"]]);const RVe=11,MVe=(e,t)=>{const{t:n}=_n(),r=Ii(),a=ze("select"),i=ze("input"),o=Ln({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=Y(null),l=Y(null),u=Y(null),c=Y(null),f=Y(null),d=Y(null),h=Y(null),p=Y(null),v=Y(null),g=Y(null),m=Y(null),y=Y(null),{isComposing:b,handleCompositionStart:x,handleCompositionUpdate:_,handleCompositionEnd:S}=k_({afterComposition:ee=>Qt(ee)}),{wrapperRef:C,isFocused:k,handleBlur:T}=Jh(f,{beforeFocus(){return P.value},afterFocus(){e.automaticDropdown&&!E.value&&(E.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(ee){var ue,we;return((ue=u.value)==null?void 0:ue.isFocusInsideContent(ee))||((we=c.value)==null?void 0:we.isFocusInsideContent(ee))},afterBlur(){E.value=!1,o.menuVisibleOnFocus=!1}}),E=Y(!1),I=Y(),{form:A,formItem:N}=Xi(),{inputId:L}=Wl(e,{formItemContext:N}),{valueOnClear:R,isEmptyValue:D}=mA(e),P=F(()=>e.disabled||(A==null?void 0:A.disabled)),O=F(()=>Ke(e.modelValue)?e.modelValue.length>0:!D(e.modelValue)),M=F(()=>{var ee;return(ee=A==null?void 0:A.statusIcon)!=null?ee:!1}),W=F(()=>e.clearable&&!P.value&&o.inputHovering&&O.value),U=F(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),V=F(()=>a.is("reverse",U.value&&E.value)),H=F(()=>(N==null?void 0:N.validateState)||""),K=F(()=>_A[H.value]),j=F(()=>e.remote?300:0),ne=F(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!o.inputValue&&o.options.size===0?!1:e.filterable&&o.inputValue&&o.options.size>0&&Q.value===0?e.noMatchText||n("el.select.noMatch"):o.options.size===0?e.noDataText||n("el.select.noData"):null),Q=F(()=>oe.value.filter(ee=>ee.visible).length),oe=F(()=>{const ee=Array.from(o.options.values()),ue=[];return o.optionValues.forEach(we=>{const Ge=ee.findIndex(at=>at.value===we);Ge>-1&&ue.push(ee[Ge])}),ue.length>=ee.length?ue:ee}),ae=F(()=>Array.from(o.cachedOptions.values())),me=F(()=>{const ee=oe.value.filter(ue=>!ue.created).some(ue=>ue.currentLabel===o.inputValue);return e.filterable&&e.allowCreate&&o.inputValue!==""&&!ee}),ve=()=>{e.filterable&&mt(e.filterMethod)||e.filterable&&e.remote&&mt(e.remoteMethod)||oe.value.forEach(ee=>{var ue;(ue=ee.updateOption)==null||ue.call(ee,o.inputValue)})},B=pa(),re=F(()=>["small"].includes(B.value)?"small":"default"),ge=F({get(){return E.value&&ne.value!==!1},set(ee){E.value=ee}}),Ie=F(()=>{if(e.multiple&&!qn(e.modelValue))return ho(e.modelValue).length===0&&!o.inputValue;const ee=Ke(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||qn(ee)?!o.inputValue:!0}),Ce=F(()=>{var ee;const ue=(ee=e.placeholder)!=null?ee:n("el.select.placeholder");return e.multiple||!O.value?ue:o.selectedLabel}),he=F(()=>bO?null:"mouseenter");Le(()=>e.modelValue,(ee,ue)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(o.inputValue="",J("")),xe(),!Ci(ee,ue)&&e.validateEvent&&(N==null||N.validate("change").catch(we=>void 0))},{flush:"post",deep:!0}),Le(()=>E.value,ee=>{ee?J(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),t("visible-change",ee)}),Le(()=>o.options.entries(),()=>{wn&&(xe(),e.defaultFirstOption&&(e.filterable||e.remote)&&Q.value&&te())},{flush:"post"}),Le(()=>o.hoveringIndex,ee=>{Tt(ee)&&ee>-1?I.value=oe.value[ee]||{}:I.value={},oe.value.forEach(ue=>{ue.hover=I.value===ue})}),Pi(()=>{o.isBeforeHide||ve()});const J=ee=>{o.previousQuery===ee||b.value||(o.previousQuery=ee,e.filterable&&mt(e.filterMethod)?e.filterMethod(ee):e.filterable&&e.remote&&mt(e.remoteMethod)&&e.remoteMethod(ee),e.defaultFirstOption&&(e.filterable||e.remote)&&Q.value?xt(te):xt(Qe))},te=()=>{const ee=oe.value.filter(at=>at.visible&&!at.disabled&&!at.states.groupDisabled),ue=ee.find(at=>at.created),we=ee[0],Ge=oe.value.map(at=>at.value);o.hoveringIndex=ft(Ge,ue||we)},xe=()=>{if(e.multiple)o.selectedLabel="";else{const ue=Ke(e.modelValue)?e.modelValue[0]:e.modelValue,we=Ee(ue);o.selectedLabel=we.currentLabel,o.selected=[we];return}const ee=[];qn(e.modelValue)||ho(e.modelValue).forEach(ue=>{ee.push(Ee(ue))}),o.selected=ee},Ee=ee=>{let ue;const we=Bx(ee);for(let qe=o.cachedOptions.size-1;qe>=0;qe--){const Je=ae.value[qe];if(we?ca(Je.value,e.valueKey)===ca(ee,e.valueKey):Je.value===ee){ue={value:ee,currentLabel:Je.currentLabel,get isDisabled(){return Je.isDisabled}};break}}if(ue)return ue;const Ge=we?ee.label:ee??"";return{value:ee,currentLabel:Ge}},Qe=()=>{o.hoveringIndex=oe.value.findIndex(ee=>o.selected.some(ue=>uf(ue)===uf(ee)))},Be=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},ce=()=>{o.calculatorWidth=d.value.getBoundingClientRect().width},Re=()=>{o.collapseItemWidth=m.value.getBoundingClientRect().width},ct=()=>{var ee,ue;(ue=(ee=u.value)==null?void 0:ee.updatePopper)==null||ue.call(ee)},It=()=>{var ee,ue;(ue=(ee=c.value)==null?void 0:ee.updatePopper)==null||ue.call(ee)},wt=()=>{o.inputValue.length>0&&!E.value&&(E.value=!0),J(o.inputValue)},Qt=ee=>{if(o.inputValue=ee.target.value,e.remote)_t();else return wt()},_t=Cs(()=>{wt()},j.value),ln=ee=>{Ci(e.modelValue,ee)||t(Qn,ee)},Ne=ee=>xre(ee,ue=>{const we=o.cachedOptions.get(ue);return we&&!we.disabled&&!we.states.groupDisabled}),nt=ee=>{if(e.multiple&&ee.code!==lt.delete&&ee.target.value.length<=0){const ue=ho(e.modelValue).slice(),we=Ne(ue);if(we<0)return;const Ge=ue[we];ue.splice(we,1),t(Ht,ue),ln(ue),t("remove-tag",Ge)}},_e=(ee,ue)=>{const we=o.selected.indexOf(ue);if(we>-1&&!P.value){const Ge=ho(e.modelValue).slice();Ge.splice(we,1),t(Ht,Ge),ln(Ge),t("remove-tag",ue.value)}ee.stopPropagation(),wr()},We=ee=>{ee.stopPropagation();const ue=e.multiple?[]:R.value;if(e.multiple)for(const we of o.selected)we.isDisabled&&ue.push(we.value);t(Ht,ue),ln(ue),o.hoveringIndex=-1,E.value=!1,t("clear"),wr()},de=ee=>{var ue;if(e.multiple){const we=ho((ue=e.modelValue)!=null?ue:[]).slice(),Ge=ft(we,ee);Ge>-1?we.splice(Ge,1):(e.multipleLimit<=0||we.length<e.multipleLimit)&&we.push(ee.value),t(Ht,we),ln(we),ee.created&&J(""),e.filterable&&!e.reserveKeyword&&(o.inputValue="")}else t(Ht,ee.value),ln(ee.value),E.value=!1;wr(),!E.value&&xt(()=>{Gt(ee)})},ft=(ee=[],ue)=>qn(ue)?-1:qt(ue.value)?ee.findIndex(we=>Ci(ca(we,e.valueKey),uf(ue))):ee.indexOf(ue.value),Gt=ee=>{var ue,we,Ge,at,qe;const Je=Ke(ee)?ee[0]:ee;let et=null;if(Je!=null&&Je.value){const kt=oe.value.filter($t=>$t.value===Je.value);kt.length>0&&(et=kt[0].$el)}if(u.value&&et){const kt=(at=(Ge=(we=(ue=u.value)==null?void 0:ue.popperRef)==null?void 0:we.contentRef)==null?void 0:Ge.querySelector)==null?void 0:at.call(Ge,`.${a.be("dropdown","wrap")}`);kt&&tB(kt,et)}(qe=y.value)==null||qe.handleScroll()},cn=ee=>{o.options.set(ee.value,ee),o.cachedOptions.set(ee.value,ee)},ir=(ee,ue)=>{o.options.get(ee)===ue&&o.options.delete(ee)},Eo=F(()=>{var ee,ue;return(ue=(ee=u.value)==null?void 0:ee.popperRef)==null?void 0:ue.contentRef}),ra=()=>{o.isBeforeHide=!1,xt(()=>Gt(o.selected))},wr=()=>{var ee;(ee=f.value)==null||ee.focus()},yn=()=>{var ee;if(E.value){E.value=!1,xt(()=>{var ue;return(ue=f.value)==null?void 0:ue.blur()});return}(ee=f.value)==null||ee.blur()},Mi=ee=>{We(ee)},d0=ee=>{if(E.value=!1,k.value){const ue=new FocusEvent("focus",ee);xt(()=>T(ue))}},h0=()=>{o.inputValue.length>0?o.inputValue="":E.value=!1},p0=()=>{P.value||(bO&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:E.value=!E.value)},yp=()=>{if(!E.value)p0();else{const ee=oe.value[o.hoveringIndex];ee&&!ee.isDisabled&&de(ee)}},uf=ee=>qt(ee.value)?ca(ee.value,e.valueKey):ee.value,v0=F(()=>oe.value.filter(ee=>ee.visible).every(ee=>ee.isDisabled)),bp=F(()=>e.multiple?e.collapseTags?o.selected.slice(0,e.maxCollapseTags):o.selected:[]),yd=F(()=>e.multiple?e.collapseTags?o.selected.slice(e.maxCollapseTags):[]:[]),g0=ee=>{if(!E.value){E.value=!0;return}if(!(o.options.size===0||Q.value===0||b.value)&&!v0.value){ee==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):ee==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const ue=oe.value[o.hoveringIndex];(ue.isDisabled||!ue.visible)&&g0(ee),xt(()=>Gt(I.value))}},N1=()=>{if(!l.value)return 0;const ee=window.getComputedStyle(l.value);return Number.parseFloat(ee.gap||"6px")},le=F(()=>{const ee=N1();return{maxWidth:`${m.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-ee:o.selectionWidth}px`}}),ke=F(()=>({maxWidth:`${o.selectionWidth}px`})),ye=F(()=>({width:`${Math.max(o.calculatorWidth,RVe)}px`}));return Mr(l,Be),Mr(d,ce),Mr(v,ct),Mr(C,ct),Mr(g,It),Mr(m,Re),zt(()=>{xe()}),{inputId:L,contentId:r,nsSelect:a,nsInput:i,states:o,isFocused:k,expanded:E,optionsArray:oe,hoverOption:I,selectSize:B,filteredOptionsCount:Q,resetCalculatorWidth:ce,updateTooltip:ct,updateTagTooltip:It,debouncedOnInputChange:_t,onInput:Qt,deletePrevTag:nt,deleteTag:_e,deleteSelected:We,handleOptionSelect:de,scrollToOption:Gt,hasModelValue:O,shouldShowPlaceholder:Ie,currentPlaceholder:Ce,mouseEnterEventName:he,needStatusIcon:M,showClose:W,iconComponent:U,iconReverse:V,validateState:H,validateIcon:K,showNewOption:me,updateOptions:ve,collapseTagSize:re,setSelected:xe,selectDisabled:P,emptyText:ne,handleCompositionStart:x,handleCompositionUpdate:_,handleCompositionEnd:S,onOptionCreate:cn,onOptionDestroy:ir,handleMenuEnter:ra,focus:wr,blur:yn,handleClearClick:Mi,handleClickOutside:d0,handleEsc:h0,toggleMenu:p0,selectOption:yp,getValueKey:uf,navigateOptions:g0,dropdownMenuVisible:ge,showTagList:bp,collapseTagList:yd,tagStyle:le,collapseTagStyle:ke,inputStyle:ye,popperRef:Eo,inputRef:f,tooltipRef:u,tagTooltipRef:c,calculatorRef:d,prefixRef:h,suffixRef:p,selectRef:s,wrapperRef:C,selectionRef:l,scrollbarRef:y,menuRef:v,tagMenuRef:g,collapseItemRef:m}};var $Ve=se({name:"ElOptions",setup(e,{slots:t}){const n=ht(Yy);let r=[];return()=>{var a,i;const o=(a=t.default)==null?void 0:a.call(t),s=[];function l(u){Ke(u)&&u.forEach(c=>{var f,d,h,p;const v=(f=(c==null?void 0:c.type)||{})==null?void 0:f.name;v==="ElOptionGroup"?l(!gt(c.children)&&!Ke(c.children)&&mt((d=c.children)==null?void 0:d.default)?(h=c.children)==null?void 0:h.default():c.children):v==="ElOption"?s.push((p=c.props)==null?void 0:p.value):Ke(c.children)&&l(c.children)})}return o.length&&l((i=o[0])==null?void 0:i.children),Ci(s,r)||(r=s,n&&(n.states.optionValues=s)),o}}});const LVe=je({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:xa,effect:{type:be(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:be(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Ja.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:er,default:ld},fitInputWidth:Boolean,suffixIcon:{type:er,default:Zc},tagType:{...Hf.type,default:"info"},tagEffect:{...Hf.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:be(String),values:ud,default:"bottom-start"},fallbackPlacements:{type:be(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Uy,...Ei(["ariaLabel"])}),FG="ElSelect",OVe=se({name:FG,componentName:FG,components:{ElSelectMenu:NVe,ElOption:zB,ElOptions:$Ve,ElTag:ny,ElScrollbar:Jc,ElTooltip:Hi,ElIcon:pt},directives:{ClickOutside:Uf},props:LVe,emits:[Ht,Qn,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=F(()=>{const{modelValue:o,multiple:s}=e,l=s?[]:void 0;return Ke(o)?s?o:l:s?l:o}),r=Ln({...di(e),modelValue:n}),a=MVe(r,t);hn(Yy,Ln({props:r,states:a.states,optionsArray:a.optionsArray,handleOptionSelect:a.handleOptionSelect,onOptionCreate:a.onOptionCreate,onOptionDestroy:a.onOptionDestroy,selectRef:a.selectRef,setSelected:a.setSelected}));const i=F(()=>e.multiple?a.states.selected.map(o=>o.currentLabel):a.states.selectedLabel);return{...a,modelValue:n,selectedLabel:i}}});function PVe(e,t,n,r,a,i){const o=Ft("el-tag"),s=Ft("el-tooltip"),l=Ft("el-icon"),u=Ft("el-option"),c=Ft("el-options"),f=Ft("el-scrollbar"),d=Ft("el-select-menu"),h=m_("click-outside");return Vt((z(),q("div",{ref:"selectRef",class:G([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[qb(e.mouseEnterEventName)]:p=>e.states.inputHovering=!0,onMouseleave:p=>e.states.inputHovering=!1},[ie(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:p=>e.states.isBeforeHide=!1},{default:fe(()=>{var p;return[Z("div",{ref:"wrapperRef",class:G([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:At(e.toggleMenu,["prevent"])},[e.$slots.prefix?(z(),q("div",{key:0,ref:"prefixRef",class:G(e.nsSelect.e("prefix"))},[Se(e.$slots,"prefix")],2)):Te("v-if",!0),Z("div",{ref:"selectionRef",class:G([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Se(e.$slots,"tag",{key:0},()=>[(z(!0),q(vt,null,un(e.showTagList,v=>(z(),q("div",{key:e.getValueKey(v),class:G(e.nsSelect.e("selected-item"))},[ie(o,{closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:yt(e.tagStyle),onClose:g=>e.deleteTag(g,v)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:v.currentLabel,value:v.value},()=>[Kt(Ve(v.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(z(),Ae(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:fe(()=>[Z("div",{ref:"collapseItemRef",class:G(e.nsSelect.e("selected-item"))},[ie(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:yt(e.collapseTagStyle)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))}," + "+Ve(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:fe(()=>[Z("div",{ref:"tagMenuRef",class:G(e.nsSelect.e("selection"))},[(z(!0),q(vt,null,un(e.collapseTagList,v=>(z(),q("div",{key:e.getValueKey(v),class:G(e.nsSelect.e("selected-item"))},[ie(o,{class:"in-tooltip",closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:g=>e.deleteTag(g,v)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:v.currentLabel,value:v.value},()=>[Kt(Ve(v.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Te("v-if",!0)]):Te("v-if",!0),Z("div",{class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Vt(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":v=>e.states.inputValue=v,type:"text",name:e.name,class:G([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:yt(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((p=e.hoverOption)==null?void 0:p.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[rr(At(v=>e.navigateOptions("next"),["stop","prevent"]),["down"]),rr(At(v=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),rr(At(e.handleEsc,["stop","prevent"]),["esc"]),rr(At(e.selectOption,["stop","prevent"]),["enter"]),rr(At(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:At(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[lA,e.states.inputValue]]),e.filterable?(z(),q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:G(e.nsSelect.e("input-calculator")),textContent:Ve(e.states.inputValue)},null,10,["textContent"])):Te("v-if",!0)],2),e.shouldShowPlaceholder?(z(),q("div",{key:1,class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Se(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,Ve(e.currentPlaceholder),1)]):(z(),q("span",{key:1},Ve(e.currentPlaceholder),1))],2)):Te("v-if",!0)],2),Z("div",{ref:"suffixRef",class:G(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(z(),Ae(l,{key:0,class:G([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:fe(()=>[(z(),Ae(tn(e.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),e.showClose&&e.clearIcon?(z(),Ae(l,{key:1,class:G([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:fe(()=>[(z(),Ae(tn(e.clearIcon)))]),_:1},8,["class","onClick"])):Te("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(z(),Ae(l,{key:2,class:G([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:fe(()=>[(z(),Ae(tn(e.validateIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],10,["onClick"])]}),content:fe(()=>[ie(d,{ref:"menuRef"},{default:fe(()=>[e.$slots.header?(z(),q("div",{key:0,class:G(e.nsSelect.be("dropdown","header")),onClick:At(()=>{},["stop"])},[Se(e.$slots,"header")],10,["onClick"])):Te("v-if",!0),Vt(ie(f,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:G([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:fe(()=>[e.showNewOption?(z(),Ae(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):Te("v-if",!0),ie(c,null,{default:fe(()=>[Se(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[En,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(z(),q("div",{key:1,class:G(e.nsSelect.be("dropdown","loading"))},[Se(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(z(),q("div",{key:2,class:G(e.nsSelect.be("dropdown","empty"))},[Se(e.$slots,"empty",{},()=>[Z("span",null,Ve(e.emptyText),1)])],2)):Te("v-if",!0),e.$slots.footer?(z(),q("div",{key:3,class:G(e.nsSelect.be("dropdown","footer")),onClick:At(()=>{},["stop"])},[Se(e.$slots,"footer")],10,["onClick"])):Te("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[h,e.handleClickOutside,e.popperRef]])}var FVe=Ze(OVe,[["render",PVe],["__file","select.vue"]]);const BVe=se({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=ze("select"),n=Y(null),r=jt(),a=Y([]);hn(Vie,Ln({...di(e)}));const i=F(()=>a.value.some(u=>u.visible===!0)),o=u=>{var c,f;return((c=u.type)==null?void 0:c.name)==="ElOption"&&!!((f=u.component)!=null&&f.proxy)},s=u=>{const c=ho(u),f=[];return c.forEach(d=>{var h,p;o(d)?f.push(d.component.proxy):(h=d.children)!=null&&h.length?f.push(...s(d.children)):(p=d.component)!=null&&p.subTree&&f.push(...s(d.component.subTree))}),f},l=()=>{a.value=s(r.subTree)};return zt(()=>{l()}),Ire(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:i,ns:t}}});function VVe(e,t,n,r,a,i){return Vt((z(),q("ul",{ref:"groupRef",class:G(e.ns.be("group","wrap"))},[Z("li",{class:G(e.ns.be("group","title"))},Ve(e.label),3),Z("li",null,[Z("ul",{class:G(e.ns.b("group"))},[Se(e.$slots,"default")],2)])],2)),[[En,e.visible]])}var zie=Ze(BVe,[["render",VVe],["__file","option-group.vue"]]);const og=Bt(FVe,{Option:zB,OptionGroup:zie}),eI=Ur(zB),zVe=Ur(zie),WB=()=>ht(Bie,{}),WVe=je({pageSize:{type:Number,required:!0},pageSizes:{type:be(Array),default:()=>zr([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:qc},appendSizeTo:String}),HVe=se({name:"ElPaginationSizes"}),UVe=se({...HVe,props:WVe,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=_n(),a=ze("pagination"),i=WB(),o=Y(n.pageSize);Le(()=>n.pageSizes,(u,c)=>{if(!Ci(u,c)&&Ke(u)){const f=u.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",f)}}),Le(()=>n.pageSize,u=>{o.value=u});const s=F(()=>n.pageSizes);function l(u){var c;u!==o.value&&(o.value=u,(c=i.handleSizeChange)==null||c.call(i,Number(u)))}return(u,c)=>(z(),q("span",{class:G(w(a).e("sizes"))},[ie(w(og),{"model-value":o.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,"append-to":u.appendSizeTo,onChange:l},{default:fe(()=>[(z(!0),q(vt,null,un(w(s),f=>(z(),Ae(w(eI),{key:f,value:f,label:f+w(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var GVe=Ze(UVe,[["__file","sizes.vue"]]);const KVe=je({size:{type:String,values:qc}}),jVe=se({name:"ElPaginationJumper"}),YVe=se({...jVe,props:KVe,setup(e){const{t}=_n(),n=ze("pagination"),{pageCount:r,disabled:a,currentPage:i,changeEvent:o}=WB(),s=Y(),l=F(()=>{var f;return(f=s.value)!=null?f:i==null?void 0:i.value});function u(f){s.value=f?+f:""}function c(f){f=Math.trunc(+f),o==null||o(f),s.value=void 0}return(f,d)=>(z(),q("span",{class:G(w(n).e("jump")),disabled:w(a)},[Z("span",{class:G([w(n).e("goto")])},Ve(w(t)("el.pagination.goto")),3),ie(w(mo),{size:f.size,class:G([w(n).e("editor"),w(n).is("in-pagination")]),min:1,max:w(r),disabled:w(a),"model-value":w(l),"validate-event":!1,"aria-label":w(t)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),Z("span",{class:G([w(n).e("classifier")])},Ve(w(t)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var XVe=Ze(YVe,[["__file","jumper.vue"]]);const qVe=je({total:{type:Number,default:1e3}}),ZVe=se({name:"ElPaginationTotal"}),JVe=se({...ZVe,props:qVe,setup(e){const{t}=_n(),n=ze("pagination"),{disabled:r}=WB();return(a,i)=>(z(),q("span",{class:G(w(n).e("total")),disabled:w(r)},Ve(w(t)("el.pagination.total",{total:a.total})),11,["disabled"]))}});var QVe=Ze(JVe,[["__file","total.vue"]]);const eze=je({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),tze=se({name:"ElPaginationPager"}),nze=se({...tze,props:eze,emits:["change"],setup(e,{emit:t}){const n=e,r=ze("pager"),a=ze("icon"),{t:i}=_n(),o=Y(!1),s=Y(!1),l=Y(!1),u=Y(!1),c=Y(!1),f=Y(!1),d=F(()=>{const x=n.pagerCount,_=(x-1)/2,S=Number(n.currentPage),C=Number(n.pageCount);let k=!1,T=!1;C>x&&(S>x-_&&(k=!0),S<C-_&&(T=!0));const E=[];if(k&&!T){const I=C-(x-2);for(let A=I;A<C;A++)E.push(A)}else if(!k&&T)for(let I=2;I<x;I++)E.push(I);else if(k&&T){const I=Math.floor(x/2)-1;for(let A=S-I;A<=S+I;A++)E.push(A)}else for(let I=2;I<C;I++)E.push(I);return E}),h=F(()=>["more","btn-quickprev",a.b(),r.is("disabled",n.disabled)]),p=F(()=>["more","btn-quicknext",a.b(),r.is("disabled",n.disabled)]),v=F(()=>n.disabled?-1:0);Pi(()=>{const x=(n.pagerCount-1)/2;o.value=!1,s.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-x&&(o.value=!0),n.currentPage<n.pageCount-x&&(s.value=!0))});function g(x=!1){n.disabled||(x?l.value=!0:u.value=!0)}function m(x=!1){x?c.value=!0:f.value=!0}function y(x){const _=x.target;if(_.tagName.toLowerCase()==="li"&&Array.from(_.classList).includes("number")){const S=Number(_.textContent);S!==n.currentPage&&t("change",S)}else _.tagName.toLowerCase()==="li"&&Array.from(_.classList).includes("more")&&b(x)}function b(x){const _=x.target;if(_.tagName.toLowerCase()==="ul"||n.disabled)return;let S=Number(_.textContent);const C=n.pageCount,k=n.currentPage,T=n.pagerCount-2;_.className.includes("more")&&(_.className.includes("quickprev")?S=k-T:_.className.includes("quicknext")&&(S=k+T)),Number.isNaN(+S)||(S<1&&(S=1),S>C&&(S=C)),S!==k&&t("change",S)}return(x,_)=>(z(),q("ul",{class:G(w(r).b()),onClick:b,onKeyup:rr(y,["enter"])},[x.pageCount>0?(z(),q("li",{key:0,class:G([[w(r).is("active",x.currentPage===1),w(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===1,"aria-label":w(i)("el.pagination.currentPage",{pager:1}),tabindex:w(v)}," 1 ",10,["aria-current","aria-label","tabindex"])):Te("v-if",!0),o.value?(z(),q("li",{key:1,class:G(w(h)),tabindex:w(v),"aria-label":w(i)("el.pagination.prevPages",{pager:x.pagerCount-2}),onMouseenter:S=>g(!0),onMouseleave:S=>l.value=!1,onFocus:S=>m(!0),onBlur:S=>c.value=!1},[(l.value||c.value)&&!x.disabled?(z(),Ae(w(Eh),{key:0})):(z(),Ae(w(EU),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Te("v-if",!0),(z(!0),q(vt,null,un(w(d),S=>(z(),q("li",{key:S,class:G([[w(r).is("active",x.currentPage===S),w(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===S,"aria-label":w(i)("el.pagination.currentPage",{pager:S}),tabindex:w(v)},Ve(S),11,["aria-current","aria-label","tabindex"]))),128)),s.value?(z(),q("li",{key:2,class:G(w(p)),tabindex:w(v),"aria-label":w(i)("el.pagination.nextPages",{pager:x.pagerCount-2}),onMouseenter:S=>g(),onMouseleave:S=>u.value=!1,onFocus:S=>m(),onBlur:S=>f.value=!1},[(u.value||f.value)&&!x.disabled?(z(),Ae(w(Ah),{key:0})):(z(),Ae(w(EU),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Te("v-if",!0),x.pageCount>1?(z(),q("li",{key:3,class:G([[w(r).is("active",x.currentPage===x.pageCount),w(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===x.pageCount,"aria-label":w(i)("el.pagination.currentPage",{pager:x.pageCount}),tabindex:w(v)},Ve(x.pageCount),11,["aria-current","aria-label","tabindex"])):Te("v-if",!0)],42,["onKeyup"]))}});var rze=Ze(nze,[["__file","pager.vue"]]);const Ao=e=>typeof e!="number",aze=je({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>Tt(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:be(Array),default:()=>zr([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:er,default:()=>Ih},nextText:{type:String,default:""},nextIcon:{type:er,default:()=>Yo},teleported:{type:Boolean,default:!0},small:Boolean,size:xa,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),ize={"update:current-page":e=>Tt(e),"update:page-size":e=>Tt(e),"size-change":e=>Tt(e),change:(e,t)=>Tt(e)&&Tt(t),"current-change":e=>Tt(e),"prev-click":e=>Tt(e),"next-click":e=>Tt(e)},BG="ElPagination";var oze=se({name:BG,props:aze,emits:ize,setup(e,{emit:t,slots:n}){const{t:r}=_n(),a=ze("pagination"),i=jt().vnode.props||{},o=$re(),s=F(()=>{var _;return e.small?"small":(_=e.size)!=null?_:o.value});ch({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},F(()=>!!e.small));const l="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,u="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,c=F(()=>{if(Ao(e.total)&&Ao(e.pageCount)||!Ao(e.currentPage)&&!l)return!1;if(e.layout.includes("sizes")){if(Ao(e.pageCount)){if(!Ao(e.total)&&!Ao(e.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),f=Y(Ao(e.defaultPageSize)?10:e.defaultPageSize),d=Y(Ao(e.defaultCurrentPage)?1:e.defaultCurrentPage),h=F({get(){return Ao(e.pageSize)?f.value:e.pageSize},set(_){Ao(e.pageSize)&&(f.value=_),u&&(t("update:page-size",_),t("size-change",_))}}),p=F(()=>{let _=0;return Ao(e.pageCount)?Ao(e.total)||(_=Math.max(1,Math.ceil(e.total/h.value))):_=e.pageCount,_}),v=F({get(){return Ao(e.currentPage)?d.value:e.currentPage},set(_){let S=_;_<1?S=1:_>p.value&&(S=p.value),Ao(e.currentPage)&&(d.value=S),l&&(t("update:current-page",S),t("current-change",S))}});Le(p,_=>{v.value>_&&(v.value=_)}),Le([v,h],_=>{t("change",..._)},{flush:"post"});function g(_){v.value=_}function m(_){h.value=_;const S=p.value;v.value>S&&(v.value=S)}function y(){e.disabled||(v.value-=1,t("prev-click",v.value))}function b(){e.disabled||(v.value+=1,t("next-click",v.value))}function x(_,S){_&&(_.props||(_.props={}),_.props.class=[_.props.class,S].join(" "))}return hn(Bie,{pageCount:p,disabled:F(()=>e.disabled),currentPage:v,changeEvent:g,handleSizeChange:m}),()=>{var _,S;if(!c.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&p.value<=1)return null;const C=[],k=[],T=Ct("div",{class:a.e("rightwrapper")},k),E={prev:Ct(wVe,{disabled:e.disabled,currentPage:v.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:y}),jumper:Ct(XVe,{size:s.value}),pager:Ct(rze,{currentPage:v.value,pageCount:p.value,pagerCount:e.pagerCount,onChange:g,disabled:e.disabled}),next:Ct(TVe,{disabled:e.disabled,currentPage:v.value,pageCount:p.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:b}),sizes:Ct(GVe,{pageSize:h.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:s.value,appendSizeTo:e.appendSizeTo}),slot:(S=(_=n==null?void 0:n.default)==null?void 0:_.call(n))!=null?S:null,total:Ct(QVe,{total:Ao(e.total)?0:e.total})},I=e.layout.split(",").map(N=>N.trim());let A=!1;return I.forEach(N=>{if(N==="->"){A=!0;return}A?k.push(E[N]):C.push(E[N])}),x(C[0],a.is("first")),x(C[C.length-1],a.is("last")),A&&k.length>0&&(x(k[0],a.is("first")),x(k[k.length-1],a.is("last")),C.push(T)),Ct("div",{class:[a.b(),a.is("background",e.background),a.m(s.value)]},C)}}});const sze=Bt(oze),lze=je({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:_O,default:"primary"},cancelButtonType:{type:String,values:_O,default:"text"},icon:{type:er,default:()=>MAe},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Ja.teleported,persistent:Ja.persistent,width:{type:[String,Number],default:150}}),uze={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},cze=se({name:"ElPopconfirm"}),fze=se({...cze,props:lze,emits:uze,setup(e,{emit:t}){const n=e,{t:r}=_n(),a=ze("popconfirm"),i=Y(),o=()=>{var d,h;(h=(d=i.value)==null?void 0:d.onClose)==null||h.call(d)},s=F(()=>({width:ta(n.width)})),l=d=>{t("confirm",d),o()},u=d=>{t("cancel",d),o()},c=F(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),f=F(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(d,h)=>(z(),Ae(w(Hi),rn({ref_key:"tooltipRef",ref:i,trigger:"click",effect:"light"},d.$attrs,{"popper-class":`${w(a).namespace.value}-popover`,"popper-style":w(s),teleported:d.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":d.hideAfter,persistent:d.persistent}),{content:fe(()=>[Z("div",{class:G(w(a).b())},[Z("div",{class:G(w(a).e("main"))},[!d.hideIcon&&d.icon?(z(),Ae(w(pt),{key:0,class:G(w(a).e("icon")),style:yt({color:d.iconColor})},{default:fe(()=>[(z(),Ae(tn(d.icon)))]),_:1},8,["class","style"])):Te("v-if",!0),Kt(" "+Ve(d.title),1)],2),Z("div",{class:G(w(a).e("action"))},[Se(d.$slots,"actions",{confirm:l,cancel:u},()=>[ie(w(si),{size:"small",type:d.cancelButtonType==="text"?"":d.cancelButtonType,text:d.cancelButtonType==="text",onClick:u},{default:fe(()=>[Kt(Ve(w(f)),1)]),_:1},8,["type","text"]),ie(w(si),{size:"small",type:d.confirmButtonType==="text"?"":d.confirmButtonType,text:d.confirmButtonType==="text",onClick:l},{default:fe(()=>[Kt(Ve(w(c)),1)]),_:1},8,["type","text"])])],2)],2)]),default:fe(()=>[d.$slots.reference?Se(d.$slots,"reference",{key:0}):Te("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var dze=Ze(fze,[["__file","popconfirm.vue"]]);const hze=Bt(dze),pze=je({trigger:ew.trigger,placement:KT.placement,disabled:ew.disabled,visible:Ja.visible,transition:Ja.transition,popperOptions:KT.popperOptions,tabindex:KT.tabindex,content:Ja.content,popperStyle:Ja.popperStyle,popperClass:Ja.popperClass,enterable:{...Ja.enterable,default:!0},effect:{...Ja.effect,default:"light"},teleported:Ja.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),vze={"update:visible":e=>lr(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},gze="onUpdate:visible",mze=se({name:"ElPopover"}),yze=se({...mze,props:pze,emits:vze,setup(e,{expose:t,emit:n}){const r=e,a=F(()=>r[gze]),i=ze("popover"),o=Y(),s=F(()=>{var g;return(g=w(o))==null?void 0:g.popperRef}),l=F(()=>[{width:ta(r.width)},r.popperStyle]),u=F(()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}]),c=F(()=>r.transition===`${i.namespace.value}-fade-in-linear`),f=()=>{var g;(g=o.value)==null||g.hide()},d=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},v=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:s,hide:f}),(g,m)=>(z(),Ae(w(Hi),rn({ref_key:"tooltipRef",ref:o},g.$attrs,{trigger:g.trigger,placement:g.placement,disabled:g.disabled,visible:g.visible,transition:g.transition,"popper-options":g.popperOptions,tabindex:g.tabindex,content:g.content,offset:g.offset,"show-after":g.showAfter,"hide-after":g.hideAfter,"auto-close":g.autoClose,"show-arrow":g.showArrow,"aria-label":g.title,effect:g.effect,enterable:g.enterable,"popper-class":w(u),"popper-style":w(l),teleported:g.teleported,persistent:g.persistent,"gpu-acceleration":w(c),"onUpdate:visible":w(a),onBeforeShow:d,onBeforeHide:h,onShow:p,onHide:v}),{content:fe(()=>[g.title?(z(),q("div",{key:0,class:G(w(i).e("title")),role:"title"},Ve(g.title),3)):Te("v-if",!0),Se(g.$slots,"default",{},()=>[Kt(Ve(g.content),1)])]),default:fe(()=>[g.$slots.reference?Se(g.$slots,"reference",{key:0}):Te("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var bze=Ze(yze,[["__file","popover.vue"]]);const VG=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var xze={mounted(e,t){VG(e,t)},updated(e,t){VG(e,t)}};const wze="popover",Wie=PEe(xze,wze),_ze=Bt(bze,{directive:Wie}),Sze=je({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:be(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:be([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:be(Function),default:e=>`${e}%`}}),Cze=se({name:"ElProgress"}),Tze=se({...Cze,props:Sze,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=ze("progress"),a=F(()=>{const b={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},x=y(t.percentage);return x.includes("gradient")?b.background=x:b.backgroundColor=x,b}),i=F(()=>(t.strokeWidth/t.width*100).toFixed(1)),o=F(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),s=F(()=>{const b=o.value,x=t.type==="dashboard";return`
          M 50 50
          m 0 ${x?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${x?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${x?"":"-"}${b*2}
          `}),l=F(()=>2*Math.PI*o.value),u=F(()=>t.type==="dashboard"?.75:1),c=F(()=>`${-1*l.value*(1-u.value)/2}px`),f=F(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),d=F(()=>({strokeDasharray:`${l.value*u.value*(t.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=F(()=>{let b;return t.color?b=y(t.percentage):b=n[t.status]||n.default,b}),p=F(()=>t.status==="warning"?wA:t.type==="line"?t.status==="success"?rB:ld:t.status==="success"?C_:Ru),v=F(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),g=F(()=>t.format(t.percentage));function m(b){const x=100/b.length;return b.map((S,C)=>gt(S)?{color:S,percentage:(C+1)*x}:S).sort((S,C)=>S.percentage-C.percentage)}const y=b=>{var x;const{color:_}=t;if(mt(_))return _(b);if(gt(_))return _;{const S=m(_);for(const C of S)if(C.percentage>b)return C.color;return(x=S[S.length-1])==null?void 0:x.color}};return(b,x)=>(z(),q("div",{class:G([w(r).b(),w(r).m(b.type),w(r).is(b.status),{[w(r).m("without-text")]:!b.showText,[w(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(z(),q("div",{key:0,class:G(w(r).b("bar"))},[Z("div",{class:G(w(r).be("bar","outer")),style:yt({height:`${b.strokeWidth}px`})},[Z("div",{class:G([w(r).be("bar","inner"),{[w(r).bem("bar","inner","indeterminate")]:b.indeterminate},{[w(r).bem("bar","inner","striped")]:b.striped},{[w(r).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:yt(w(a))},[(b.showText||b.$slots.default)&&b.textInside?(z(),q("div",{key:0,class:G(w(r).be("bar","innerText"))},[Se(b.$slots,"default",{percentage:b.percentage},()=>[Z("span",null,Ve(w(g)),1)])],2)):Te("v-if",!0)],6)],6)],2)):(z(),q("div",{key:1,class:G(w(r).b("circle")),style:yt({height:`${b.width}px`,width:`${b.width}px`})},[(z(),q("svg",{viewBox:"0 0 100 100"},[Z("path",{class:G(w(r).be("circle","track")),d:w(s),stroke:`var(${w(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":w(i),fill:"none",style:yt(w(f))},null,14,["d","stroke","stroke-linecap","stroke-width"]),Z("path",{class:G(w(r).be("circle","path")),d:w(s),stroke:w(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":w(i),style:yt(w(d))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(z(),q("div",{key:2,class:G(w(r).e("text")),style:yt({fontSize:`${w(v)}px`})},[Se(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(z(),Ae(w(pt),{key:1},{default:fe(()=>[(z(),Ae(tn(w(p))))]),_:1})):(z(),q("span",{key:0},Ve(w(g)),1))])],6)):Te("v-if",!0)],10,["aria-valuenow"]))}});var kze=Ze(Tze,[["__file","progress.vue"]]);const Hie=Bt(kze),Ize=je({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:be([Array,Object]),default:()=>zr(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:be([Array,Object]),default:()=>[OC,OC,OC]},voidIcon:{type:er,default:()=>YAe},disabledVoidIcon:{type:er,default:()=>OC},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:be(Array),default:()=>zr(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:xa,clearable:Boolean,...Ei(["ariaLabel"])}),Eze={[Qn]:e=>Tt(e),[Ht]:e=>Tt(e)},Aze=se({name:"ElRate"}),Dze=se({...Aze,props:Ize,emits:Eze,setup(e,{expose:t,emit:n}){const r=e;function a(D,P){const O=U=>qt(U),M=Object.keys(P).map(U=>+U).filter(U=>{const V=P[U];return(O(V)?V.excluded:!1)?D<U:D<=U}).sort((U,V)=>U-V),W=P[M[0]];return O(W)&&W.value||W}const i=ht(Bg,void 0),o=ht(Lc,void 0),s=pa(),l=ze("rate"),{inputId:u,isLabeledByFormItem:c}=Wl(r,{formItemContext:o}),f=Y(r.modelValue),d=Y(-1),h=Y(!0),p=F(()=>[l.b(),l.m(s.value)]),v=F(()=>r.disabled||(i==null?void 0:i.disabled)),g=F(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":x.value})),m=F(()=>{let D="";return r.showScore?D=r.scoreTemplate.replace(/\{\s*value\s*\}/,v.value?`${r.modelValue}`:`${f.value}`):r.showText&&(D=r.texts[Math.ceil(f.value)-1]),D}),y=F(()=>r.modelValue*100-Math.floor(r.modelValue)*100),b=F(()=>Ke(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),x=F(()=>{const D=a(f.value,b.value);return qt(D)?"":D}),_=F(()=>{let D="";return v.value?D=`${y.value}%`:r.allowHalf&&(D="50%"),{color:x.value,width:D}}),S=F(()=>{let D=Ke(r.icons)?[...r.icons]:{...r.icons};return D=uh(D),Ke(D)?{[r.lowThreshold]:D[0],[r.highThreshold]:{value:D[1],excluded:!0},[r.max]:D[2]}:D}),C=F(()=>a(r.modelValue,S.value)),k=F(()=>v.value?gt(r.disabledVoidIcon)?r.disabledVoidIcon:uh(r.disabledVoidIcon):gt(r.voidIcon)?r.voidIcon:uh(r.voidIcon)),T=F(()=>a(f.value,S.value));function E(D){const P=v.value&&y.value>0&&D-1<r.modelValue&&D>r.modelValue,O=r.allowHalf&&h.value&&D-.5<=f.value&&D>f.value;return P||O}function I(D){r.clearable&&D===r.modelValue&&(D=0),n(Ht,D),r.modelValue!==D&&n("change",D)}function A(D){v.value||(r.allowHalf&&h.value?I(f.value):I(D))}function N(D){if(v.value)return;let P=f.value;const O=D.code;return O===lt.up||O===lt.right?(r.allowHalf?P+=.5:P+=1,D.stopPropagation(),D.preventDefault()):(O===lt.left||O===lt.down)&&(r.allowHalf?P-=.5:P-=1,D.stopPropagation(),D.preventDefault()),P=P<0?0:P,P=P>r.max?r.max:P,n(Ht,P),n("change",P),P}function L(D,P){if(!v.value){if(r.allowHalf&&P){let O=P.target;xs(O,l.e("item"))&&(O=O.querySelector(`.${l.e("icon")}`)),(O.clientWidth===0||xs(O,l.e("decimal")))&&(O=O.parentNode),h.value=P.offsetX*2<=O.clientWidth,f.value=h.value?D-.5:D}else f.value=D;d.value=D}}function R(){v.value||(r.allowHalf&&(h.value=r.modelValue!==Math.floor(r.modelValue)),f.value=r.modelValue,d.value=-1)}return Le(()=>r.modelValue,D=>{f.value=D,h.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(Ht,0),t({setCurrentValue:L,resetCurrentValue:R}),(D,P)=>{var O;return z(),q("div",{id:w(u),class:G([w(p),w(l).is("disabled",w(v))]),role:"slider","aria-label":w(c)?void 0:D.ariaLabel||"rating","aria-labelledby":w(c)?(O=w(o))==null?void 0:O.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":w(m)||void 0,"aria-valuemin":"0","aria-valuemax":D.max,tabindex:"0",style:yt(w(g)),onKeydown:N},[(z(!0),q(vt,null,un(D.max,(M,W)=>(z(),q("span",{key:W,class:G(w(l).e("item")),onMousemove:U=>L(M,U),onMouseleave:R,onClick:U=>A(M)},[ie(w(pt),{class:G([w(l).e("icon"),{hover:d.value===M},w(l).is("active",M<=f.value)])},{default:fe(()=>[E(M)?Te("v-if",!0):(z(),q(vt,{key:0},[Vt((z(),Ae(tn(w(T)),null,null,512)),[[En,M<=f.value]]),Vt((z(),Ae(tn(w(k)),null,null,512)),[[En,!(M<=f.value)]])],64)),E(M)?(z(),q(vt,{key:1},[(z(),Ae(tn(w(k)),{class:G([w(l).em("decimal","box")])},null,8,["class"])),ie(w(pt),{style:yt(w(_)),class:G([w(l).e("icon"),w(l).e("decimal")])},{default:fe(()=>[(z(),Ae(tn(w(C))))]),_:1},8,["style","class"])],64)):Te("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),D.showText||D.showScore?(z(),q("span",{key:0,class:G(w(l).e("text")),style:yt({color:D.textColor})},Ve(w(m)),7)):Te("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var Nze=Ze(Dze,[["__file","rate.vue"]]);const Rze=Bt(Nze),fm={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},zG={[fm.success]:nAe,[fm.warning]:wA,[fm.error]:aB,[fm.info]:xA},Mze=je({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),$ze=se({name:"ElResult"}),Lze=se({...$ze,props:Mze,setup(e){const t=e,n=ze("result"),r=F(()=>{const a=t.icon,i=a&&fm[a]?fm[a]:"icon-info",o=zG[i]||zG["icon-info"];return{class:i,component:o}});return(a,i)=>(z(),q("div",{class:G(w(n).b())},[Z("div",{class:G(w(n).e("icon"))},[Se(a.$slots,"icon",{},()=>[w(r).component?(z(),Ae(tn(w(r).component),{key:0,class:G(w(r).class)},null,8,["class"])):Te("v-if",!0)])],2),a.title||a.$slots.title?(z(),q("div",{key:0,class:G(w(n).e("title"))},[Se(a.$slots,"title",{},()=>[Z("p",null,Ve(a.title),1)])],2)):Te("v-if",!0),a.subTitle||a.$slots["sub-title"]?(z(),q("div",{key:1,class:G(w(n).e("subtitle"))},[Se(a.$slots,"sub-title",{},()=>[Z("p",null,Ve(a.subTitle),1)])],2)):Te("v-if",!0),a.$slots.extra?(z(),q("div",{key:2,class:G(w(n).e("extra"))},[Se(a.$slots,"extra")],2)):Te("v-if",!0)],2))}});var Oze=Ze(Lze,[["__file","result.vue"]]);const Pze=Bt(Oze),Fze=["start","center","end","space-around","space-between","space-evenly"],Bze=["top","middle","bottom"],Vze=je({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Fze,default:"start"},align:{type:String,values:Bze}}),zze=se({name:"ElRow"}),Wze=se({...zze,props:Vze,setup(e){const t=e,n=ze("row"),r=F(()=>t.gutter);hn(qae,{gutter:r});const a=F(()=>{const o={};return t.gutter&&(o.marginRight=o.marginLeft=`-${t.gutter/2}px`),o}),i=F(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(o,s)=>(z(),Ae(tn(o.tag),{class:G(w(i)),style:yt(w(a))},{default:fe(()=>[Se(o.$slots,"default")]),_:3},8,["class","style"]))}});var Hze=Ze(Wze,[["__file","row.vue"]]);const Uze=Bt(Hze),Gze=se({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:ze("select")}}});function Kze(e,t,n,r,a,i){return z(),q("div",{class:G(e.ns.be("group","title")),style:yt({...e.style,lineHeight:`${e.height}px`})},Ve(e.item.label),7)}var jze=Ze(Gze,[["render",Kze],["__file","group-item.vue"]]);function Yze(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Uie={label:"label",value:"value",disabled:"disabled",options:"options"};function NA(e){const t=F(()=>({...Uie,...e.props}));return{aliasProps:t,getLabel:o=>ca(o,t.value.label),getValue:o=>ca(o,t.value.value),getDisabled:o=>ca(o,t.value.disabled),getOptions:o=>ca(o,t.value.options)}}const Xze=je({allowCreate:Boolean,autocomplete:{type:be(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:er,default:ld},effect:{type:be(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:be([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:be(Array),required:!0},placeholder:{type:String},teleported:Ja.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:be(Object),default:()=>({})},remote:Boolean,size:xa,props:{type:be(Object),default:()=>Uie},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:be(String),values:ud,default:"bottom-start"},fallbackPlacements:{type:be(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Hf.type,default:"info"},tagEffect:{...Hf.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,...Uy,...Ei(["ariaLabel"])}),qze=je({data:Array,disabled:Boolean,hovering:Boolean,item:{type:be(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Zze={[Ht]:e=>!0,[Qn]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},Jze={hover:e=>Tt(e),select:(e,t)=>!0},HB=Symbol("ElSelectV2Injection"),Qze=se({props:qze,emits:Jze,setup(e,{emit:t}){const n=ht(HB),r=ze("select"),{hoverItem:a,selectOptionClick:i}=Yze(e,{emit:t}),{getLabel:o}=NA(n.props);return{ns:r,hoverItem:a,selectOptionClick:i,getLabel:o}}});function e8e(e,t,n,r,a,i){return z(),q("li",{"aria-selected":e.selected,style:yt(e.style),class:G([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:At(e.selectOptionClick,["stop"])},[Se(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Z("span",null,Ve(e.getLabel(e.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var t8e=Ze(Qze,[["render",e8e],["__file","option-item.vue"]]),WG=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function n8e(e,t){return!!(e===t||WG(e)&&WG(t))}function r8e(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!n8e(e[n],t[n]))return!1;return!0}function a8e(e,t){t===void 0&&(t=r8e);var n=null;function r(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var o=e.apply(this,a);return n={lastResult:o,lastArgs:a,lastThis:this},o}return r.clear=function(){n=null},r}const Gie=()=>{const t=jt().proxy.$props;return F(()=>{const n=(r,a,i)=>({});return t.perfMode?hA(n):a8e(n)})},HO=50,tI="itemRendered",nI="scroll",dm="forward",rI="backward",kl="auto",RA="smart",aw="start",yc="center",iw="end",ay="horizontal",UB="vertical",i8e="ltr",Em="rtl",ow="negative",GB="positive-ascending",KB="positive-descending",o8e={[ay]:"left",[UB]:"top"},s8e=20,l8e={[ay]:"deltaX",[UB]:"deltaY"},u8e=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let a,i=0;const o=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:o,onWheel:l=>{ig(a);const u=l[l8e[n.value]];o(i)&&o(i+u)||(i+=u,SA()||l.preventDefault(),a=kh(()=>{r(i),i=0}))}}},UO=Hu({type:be([Number,Function]),required:!0}),GO=Hu({type:Number}),KO=Hu({type:Number,default:2}),c8e=Hu({type:String,values:["ltr","rtl"],default:"ltr"}),jO=Hu({type:Number,default:0}),aI=Hu({type:Number,required:!0}),Kie=Hu({type:String,values:["horizontal","vertical"],default:UB}),jie=je({className:{type:String,default:""},containerElement:{type:be([String,Object]),default:"div"},data:{type:be(Array),default:()=>zr([])},direction:c8e,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:be([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Yie=je({cache:KO,estimatedItemSize:GO,layout:Kie,initScrollOffset:jO,total:aI,itemSize:UO,...jie}),YO={type:Number,default:6},Xie={type:Number,default:0},qie={type:Number,default:2},Fv=je({columnCache:KO,columnWidth:UO,estimatedColumnWidth:GO,estimatedRowHeight:GO,initScrollLeft:jO,initScrollTop:jO,itemKey:{type:be(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:KO,rowHeight:UO,totalColumn:aI,totalRow:aI,hScrollbarSize:YO,vScrollbarSize:YO,scrollbarStartGap:Xie,scrollbarEndGap:qie,role:String,...jie}),Zie=je({alwaysOn:Boolean,class:String,layout:Kie,total:aI,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:YO,startGap:Xie,endGap:qie,visible:Boolean}),bv=(e,t)=>e<t?dm:rI,sw=e=>e===i8e||e===Em||e===ay,HG=e=>e===Em;let w0=null;function iI(e=!1){if(w0===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?w0=KB:(t.scrollLeft=1,t.scrollLeft===0?w0=ow:w0=GB),document.body.removeChild(t),w0}return w0}function f8e({move:e,size:t,bar:n},r){const a={},i=`translate${n.axis}(${e}px)`;return a[n.size]=t,a.transform=i,a.msTransform=i,a.webkitTransform=i,r==="horizontal"?a.height="100%":a.width="100%",a}const XO=se({name:"ElVirtualScrollBar",props:Zie,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=F(()=>e.startGap+e.endGap),r=ze("virtual-scrollbar"),a=ze("scrollbar"),i=Y(),o=Y();let s=null,l=null;const u=Ln({isDragging:!1,traveled:0}),c=F(()=>Xre[e.layout]),f=F(()=>e.clientSize-w(n)),d=F(()=>({position:"absolute",width:`${ay===e.layout?f.value:e.scrollbarSize}px`,height:`${ay===e.layout?e.scrollbarSize:f.value}px`,[o8e[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=F(()=>{const S=e.ratio,C=e.clientSize;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*C/100;const k=C/3;return Math.floor(Math.min(Math.max(S*C,s8e),k))}),p=F(()=>{if(!Number.isFinite(h.value))return{display:"none"};const S=`${h.value}px`;return f8e({bar:c.value,size:S,move:u.traveled},e.layout)}),v=F(()=>Math.floor(e.clientSize-h.value-w(n))),g=()=>{window.addEventListener("mousemove",x),window.addEventListener("mouseup",b);const S=w(o);S&&(l=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",x,{passive:!0}),S.addEventListener("touchend",b))},m=()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const S=w(o);S&&(S.removeEventListener("touchmove",x),S.removeEventListener("touchend",b))},y=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(u.isDragging=!0,u[c.value.axis]=S.currentTarget[c.value.offset]-(S[c.value.client]-S.currentTarget.getBoundingClientRect()[c.value.direction]),t("start-move"),g())},b=()=>{u.isDragging=!1,u[c.value.axis]=0,t("stop-move"),m()},x=S=>{const{isDragging:C}=u;if(!C||!o.value||!i.value)return;const k=u[c.value.axis];if(!k)return;ig(s);const T=(i.value.getBoundingClientRect()[c.value.direction]-S[c.value.client])*-1,E=o.value[c.value.offset]-k,I=T-E;s=kh(()=>{u.traveled=Math.max(e.startGap,Math.min(I,v.value)),t("scroll",I,v.value)})},_=S=>{const C=Math.abs(S.target.getBoundingClientRect()[c.value.direction]-S[c.value.client]),k=o.value[c.value.offset]/2,T=C-k;u.traveled=Math.max(0,Math.min(T,v.value)),t("scroll",T,v.value)};return Le(()=>e.scrollFrom,S=>{u.isDragging||(u.traveled=Math.ceil(S*v.value))}),ar(()=>{m()}),()=>Ct("div",{role:"presentation",ref:i,class:[r.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:d.value,onMousedown:At(_,["stop","prevent"]),onTouchstartPrevent:y},Ct("div",{ref:o,class:a.e("thumb"),style:p.value,onMousedown:y},[]))}}),Jie=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:a,getStartIndexForOffset:i,getStopIndexForStartIndex:o,initCache:s,clearCache:l,validateProps:u})=>se({name:e??"ElVirtualList",props:Yie,emits:[tI,nI],setup(c,{emit:f,expose:d}){u(c);const h=jt(),p=ze("vl"),v=Y(s(c,h)),g=Gie(),m=Y(),y=Y(),b=Y(),x=Y({isScrolling:!1,scrollDir:"forward",scrollOffset:Tt(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),_=F(()=>{const{total:H,cache:K}=c,{isScrolling:j,scrollDir:ne,scrollOffset:Q}=w(x);if(H===0)return[0,0,0,0];const oe=i(c,Q,w(v)),ae=o(c,oe,Q,w(v)),me=!j||ne===rI?Math.max(1,K):1,ve=!j||ne===dm?Math.max(1,K):1;return[Math.max(0,oe-me),Math.max(0,Math.min(H-1,ae+ve)),oe,ae]}),S=F(()=>a(c,w(v))),C=F(()=>sw(c.layout)),k=F(()=>[{position:"relative",[`overflow-${C.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:Tt(c.height)?`${c.height}px`:c.height,width:Tt(c.width)?`${c.width}px`:c.width},c.style]),T=F(()=>{const H=w(S),K=w(C);return{height:K?"100%":`${H}px`,pointerEvents:w(x).isScrolling?"none":void 0,width:K?`${H}px`:"100%"}}),E=F(()=>C.value?c.width:c.height),{onWheel:I}=u8e({atStartEdge:F(()=>x.value.scrollOffset<=0),atEndEdge:F(()=>x.value.scrollOffset>=S.value),layout:F(()=>c.layout)},H=>{var K,j;(j=(K=b.value).onMouseUp)==null||j.call(K),P(Math.min(x.value.scrollOffset+H,S.value-E.value))});Zn(m,"wheel",I,{passive:!1});const A=()=>{const{total:H}=c;if(H>0){const[Q,oe,ae,me]=w(_);f(tI,Q,oe,ae,me)}const{scrollDir:K,scrollOffset:j,updateRequested:ne}=w(x);f(nI,K,j,ne)},N=H=>{const{clientHeight:K,scrollHeight:j,scrollTop:ne}=H.currentTarget,Q=w(x);if(Q.scrollOffset===ne)return;const oe=Math.max(0,Math.min(ne,j-K));x.value={...Q,isScrolling:!0,scrollDir:bv(Q.scrollOffset,oe),scrollOffset:oe,updateRequested:!1},xt(W)},L=H=>{const{clientWidth:K,scrollLeft:j,scrollWidth:ne}=H.currentTarget,Q=w(x);if(Q.scrollOffset===j)return;const{direction:oe}=c;let ae=j;if(oe===Em)switch(iI()){case ow:{ae=-j;break}case KB:{ae=ne-K-j;break}}ae=Math.max(0,Math.min(ae,ne-K)),x.value={...Q,isScrolling:!0,scrollDir:bv(Q.scrollOffset,ae),scrollOffset:ae,updateRequested:!1},xt(W)},R=H=>{w(C)?L(H):N(H),A()},D=(H,K)=>{const j=(S.value-E.value)/K*H;P(Math.min(S.value-E.value,j))},P=H=>{H=Math.max(H,0),H!==w(x).scrollOffset&&(x.value={...w(x),scrollOffset:H,scrollDir:bv(w(x).scrollOffset,H),updateRequested:!0},xt(W))},O=(H,K=kl)=>{const{scrollOffset:j}=w(x);H=Math.max(0,Math.min(H,c.total-1)),P(t(c,H,K,j,w(v)))},M=H=>{const{direction:K,itemSize:j,layout:ne}=c,Q=g.value(l&&j,l&&ne,l&&K);let oe;if(Dn(Q,String(H)))oe=Q[H];else{const ae=r(c,H,w(v)),me=n(c,H,w(v)),ve=w(C),B=K===Em,re=ve?ae:0;Q[H]=oe={position:"absolute",left:B?void 0:`${re}px`,right:B?`${re}px`:void 0,top:ve?0:`${ae}px`,height:ve?"100%":`${me}px`,width:ve?`${me}px`:"100%"}}return oe},W=()=>{x.value.isScrolling=!1,xt(()=>{g.value(-1,null,null)})},U=()=>{const H=m.value;H&&(H.scrollTop=0)};zt(()=>{if(!wn)return;const{initScrollOffset:H}=c,K=w(m);Tt(H)&&K&&(w(C)?K.scrollLeft=H:K.scrollTop=H),A()}),Xc(()=>{const{direction:H,layout:K}=c,{scrollOffset:j,updateRequested:ne}=w(x),Q=w(m);if(ne&&Q)if(K===ay)if(H===Em)switch(iI()){case ow:{Q.scrollLeft=-j;break}case GB:{Q.scrollLeft=j;break}default:{const{clientWidth:oe,scrollWidth:ae}=Q;Q.scrollLeft=ae-oe-j;break}}else Q.scrollLeft=j;else Q.scrollTop=j}),I4(()=>{w(m).scrollTop=w(x).scrollOffset});const V={ns:p,clientSize:E,estimatedTotalSize:S,windowStyle:k,windowRef:m,innerRef:y,innerStyle:T,itemsToRender:_,scrollbarRef:b,states:x,getItemStyle:M,onScroll:R,onScrollbarScroll:D,onWheel:I,scrollTo:P,scrollToItem:O,resetScrollTop:U};return d({windowRef:m,innerRef:y,getItemStyleCache:g,scrollTo:P,scrollToItem:O,resetScrollTop:U,states:x}),V},render(c){var f;const{$slots:d,className:h,clientSize:p,containerElement:v,data:g,getItemStyle:m,innerElement:y,itemsToRender:b,innerStyle:x,layout:_,total:S,onScroll:C,onScrollbarScroll:k,states:T,useIsScrolling:E,windowStyle:I,ns:A}=c,[N,L]=b,R=tn(v),D=tn(y),P=[];if(S>0)for(let U=N;U<=L;U++)P.push(Ct(vt,{key:U},(f=d.default)==null?void 0:f.call(d,{data:g,index:U,isScrolling:E?T.isScrolling:void 0,style:m(U)})));const O=[Ct(D,{style:x,ref:"innerRef"},gt(D)?P:{default:()=>P})],M=Ct(XO,{ref:"scrollbarRef",clientSize:p,layout:_,onScroll:k,ratio:p*100/this.estimatedTotalSize,scrollFrom:T.scrollOffset/(this.estimatedTotalSize-p),total:S}),W=Ct(R,{class:[A.e("window"),h],style:I,onScroll:C,ref:"windowRef",key:0},gt(R)?[O]:{default:()=>[O]});return Ct("div",{key:0,class:[A.e("wrapper"),T.scrollbarAlwaysOn?"always-on":""]},[W,M])}}),Qie=Jie({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:a},i,o,s)=>{const l=sw(r)?a:e,u=Math.max(0,t*n-l),c=Math.min(u,i*n),f=Math.max(0,(i+1)*n-l);switch(o===RA&&(s>=f-l&&s<=c+l?o=kl:o=yc),o){case aw:return c;case iw:return f;case yc:{const d=Math.round(f+(c-f)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d}case kl:default:return s>=f&&s<=c?s:s<f?f:c}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:a},i,o)=>{const s=i*n,l=sw(r)?a:e,u=Math.ceil((l+o-s)/n);return Math.max(0,Math.min(t-1,i+u-1))},initCache(){},clearCache:!0,validateProps(){}}),hm=(e,t,n)=>{const{itemSize:r}=e,{items:a,lastVisitedIndex:i}=n;if(t>i){let o=0;if(i>=0){const s=a[i];o=s.offset+s.size}for(let s=i+1;s<=t;s++){const l=r(s);a[s]={offset:o,size:l},o+=l}n.lastVisitedIndex=t}return a[t]},d8e=(e,t,n)=>{const{items:r,lastVisitedIndex:a}=t;return(a>0?r[a].offset:0)>=n?eoe(e,t,0,a,n):h8e(e,t,Math.max(0,a),n)},eoe=(e,t,n,r,a)=>{for(;n<=r;){const i=n+Math.floor((r-n)/2),o=hm(e,i,t).offset;if(o===a)return i;o<a?n=i+1:o>a&&(r=i-1)}return Math.max(0,n-1)},h8e=(e,t,n,r)=>{const{total:a}=e;let i=1;for(;n<a&&hm(e,n,t).offset<r;)n+=i,i*=2;return eoe(e,t,Math.floor(n/2),Math.min(n,a-1),r)},UG=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let a=0;if(r>=e&&(r=e-1),r>=0){const s=t[r];a=s.offset+s.size}const o=(e-r-1)*n;return a+o},p8e=Jie({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>hm(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:UG,getOffset:(e,t,n,r,a)=>{const{height:i,layout:o,width:s}=e,l=sw(o)?s:i,u=hm(e,t,a),c=UG(e,a),f=Math.max(0,Math.min(c-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch(n===RA&&(r>=d-l&&r<=f+l?n=kl:n=yc),n){case aw:return f;case iw:return d;case yc:return Math.round(d+(f-d)/2);case kl:default:return r>=d&&r<=f?r:r<d?d:f}},getStartIndexForOffset:(e,t,n)=>d8e(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:a,total:i,layout:o,width:s}=e,l=sw(o)?s:a,u=hm(e,t,r),c=n+l;let f=u.offset+u.size,d=t;for(;d<i-1&&f<c;)d++,f+=hm(e,d,r).size;return d},initCache({estimatedItemSize:e=HO},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,a=!0)=>{var i,o;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(i=t.exposed)==null||i.getItemStyleCache(-1),a&&((o=t.proxy)==null||o.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),v8e={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var g8e=se({name:"ElSelectDropdown",props:v8e,setup(e,{slots:t,expose:n}){const r=ht(HB),a=ze("select"),{getLabel:i,getValue:o,getDisabled:s}=NA(r.props),l=Y([]),u=Y(),c=F(()=>e.data.length);Le(()=>c.value,()=>{var I,A;(A=(I=r.tooltipRef.value).updatePopper)==null||A.call(I)});const f=F(()=>qn(r.props.estimatedOptionHeight)),d=F(()=>f.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:I=>l.value[I]}),h=(I=[],A)=>{const{props:{valueKey:N}}=r;return qt(A)?I&&I.some(L=>tr(ca(L,N))===ca(A,N)):I.includes(A)},p=(I,A)=>{if(qt(A)){const{valueKey:N}=r.props;return ca(I,N)===ca(A,N)}else return I===A},v=(I,A)=>r.props.multiple?h(I,o(A)):p(I,o(A)),g=(I,A)=>{const{disabled:N,multiple:L,multipleLimit:R}=r.props;return N||!A&&(L?R>0&&I.length>=R:!1)},m=I=>e.hoveringIndex===I;n({listRef:u,isSized:f,isItemDisabled:g,isItemHovering:m,isItemSelected:v,scrollToItem:I=>{const A=u.value;A&&A.scrollToItem(I)},resetScrollTop:()=>{const I=u.value;I&&I.resetScrollTop()}});const _=I=>{const{index:A,data:N,style:L}=I,R=w(f),{itemSize:D,estimatedSize:P}=w(d),{modelValue:O}=r.props,{onSelect:M,onHover:W}=r,U=N[A];if(U.type==="Group")return ie(jze,{item:U,style:L,height:R?D:P},null);const V=v(O,U),H=g(O,V),K=m(A);return ie(t8e,rn(I,{selected:V,disabled:s(U)||H,created:!!U.created,hovering:K,item:U,onSelect:M,onHover:W}),{default:j=>{var ne;return((ne=t.default)==null?void 0:ne.call(t,j))||ie("span",null,[i(U)])}})},{onKeyboardNavigate:S,onKeyboardSelect:C}=r,k=()=>{S("forward")},T=()=>{S("backward")},E=I=>{const{code:A}=I,{tab:N,esc:L,down:R,up:D,enter:P,numpadEnter:O}=lt;switch(A!==N&&(I.preventDefault(),I.stopPropagation()),A){case N:case L:break;case R:k();break;case D:T();break;case P:case O:C();break}};return()=>{var I,A,N,L;const{data:R,width:D}=e,{height:P,multiple:O,scrollbarAlwaysOn:M}=r.props,W=w(f)?Qie:p8e;return ie("div",{class:[a.b("dropdown"),a.is("multiple",O)],style:{width:`${D}px`}},[(I=t.header)==null?void 0:I.call(t),((A=t.loading)==null?void 0:A.call(t))||((N=t.empty)==null?void 0:N.call(t))||ie(W,rn({ref:u},w(d),{className:a.be("dropdown","list"),scrollbarAlwaysOn:M,data:R,height:P,width:D,total:R.length,onKeydown:E}),{default:U=>ie(_,U,null)}),(L=t.footer)==null?void 0:L.call(t)])}}});function m8e(e,t){const{aliasProps:n,getLabel:r,getValue:a}=NA(e),i=Y(0),o=Y(),s=F(()=>e.allowCreate&&e.filterable);function l(h){const p=v=>r(v)===h;return e.options&&e.options.some(p)||t.createdOptions.some(p)}function u(h){s.value&&(e.multiple&&h.created?i.value++:o.value=h)}function c(h){if(s.value)if(h&&h.length>0){if(l(h))return;const p={[n.value.value]:h,[n.value.label]:h,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=i.value?t.createdOptions[i.value]=p:t.createdOptions.push(p)}else if(e.multiple)t.createdOptions.length=i.value;else{const p=o.value;t.createdOptions.length=0,p&&p.created&&t.createdOptions.push(p)}}function f(h){if(!s.value||!h||!h.created||h.created&&e.reserveKeyword&&t.inputValue===r(h))return;const p=t.createdOptions.findIndex(v=>a(v)===a(h));~p&&(t.createdOptions.splice(p,1),i.value--)}function d(){s.value&&(t.createdOptions.length=0,i.value=0)}return{createNewOption:c,removeNewOption:f,selectNewOption:u,clearAllNewOption:d}}const y8e=11,b8e=(e,t)=>{const{t:n}=_n(),r=ze("select"),a=ze("input"),{form:i,formItem:o}=Xi(),{inputId:s}=Wl(e,{formItemContext:o}),{aliasProps:l,getLabel:u,getValue:c,getDisabled:f,getOptions:d}=NA(e),{valueOnClear:h,isEmptyValue:p}=mA(e),v=Ln({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),g=Y(-1),m=Y(),y=Y(),b=Y(),x=Y(),_=Y(),S=Y(),C=Y(),k=Y(),T=Y(),E=Y(),I=Y(),{isComposing:A,handleCompositionStart:N,handleCompositionEnd:L,handleCompositionUpdate:R}=k_({afterComposition:Me=>at(Me)}),{wrapperRef:D,isFocused:P,handleBlur:O}=Jh(_,{beforeFocus(){return V.value},afterFocus(){e.automaticDropdown&&!U.value&&(U.value=!0,v.menuVisibleOnFocus=!0)},beforeBlur(Me){var Ye,dt;return((Ye=b.value)==null?void 0:Ye.isFocusInsideContent(Me))||((dt=x.value)==null?void 0:dt.isFocusInsideContent(Me))},afterBlur(){U.value=!1,v.menuVisibleOnFocus=!1}}),M=Y([]),W=Y([]),U=Y(!1),V=F(()=>e.disabled||(i==null?void 0:i.disabled)),H=F(()=>{var Me;return(Me=i==null?void 0:i.statusIcon)!=null?Me:!1}),K=F(()=>{const Me=W.value.length*e.itemHeight;return Me>e.height?e.height:Me}),j=F(()=>e.multiple?Ke(e.modelValue)&&e.modelValue.length>0:!p(e.modelValue)),ne=F(()=>e.clearable&&!V.value&&v.inputHovering&&j.value),Q=F(()=>e.remote&&e.filterable?"":Zc),oe=F(()=>Q.value&&r.is("reverse",U.value)),ae=F(()=>(o==null?void 0:o.validateState)||""),me=F(()=>{if(ae.value)return _A[ae.value]}),ve=F(()=>e.remote?300:0),B=F(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!v.inputValue&&M.value.length===0?!1:e.filterable&&v.inputValue&&M.value.length>0&&W.value.length===0?e.noMatchText||n("el.select.noMatch"):M.value.length===0?e.noDataText||n("el.select.noData"):null),re=Me=>{const Ye=dt=>{if(e.filterable&&mt(e.filterMethod)||e.filterable&&e.remote&&mt(e.remoteMethod))return!0;const Rt=new RegExp(CB(Me),"i");return Me?Rt.test(u(dt)||""):!0};return e.loading?[]:[...v.createdOptions,...e.options].reduce((dt,Rt)=>{const Xn=d(Rt);if(Ke(Xn)){const _r=Xn.filter(Ye);_r.length>0&&dt.push({label:u(Rt),type:"Group"},..._r)}else(e.remote||Ye(Rt))&&dt.push(Rt);return dt},[])},ge=()=>{M.value=re(""),W.value=re(v.inputValue)},Ie=F(()=>{const Me=new Map;return M.value.forEach((Ye,dt)=>{Me.set(yn(c(Ye)),{option:Ye,index:dt})}),Me}),Ce=F(()=>{const Me=new Map;return W.value.forEach((Ye,dt)=>{Me.set(yn(c(Ye)),{option:Ye,index:dt})}),Me}),he=F(()=>W.value.every(Me=>f(Me))),J=pa(),te=F(()=>J.value==="small"?"small":"default"),xe=()=>{var Me;g.value=((Me=m.value)==null?void 0:Me.offsetWidth)||200},Ee=()=>{if(!y.value)return 0;const Me=window.getComputedStyle(y.value);return Number.parseFloat(Me.gap||"6px")},Qe=F(()=>{const Me=Ee();return{maxWidth:`${I.value&&e.maxCollapseTags===1?v.selectionWidth-v.collapseItemWidth-Me:v.selectionWidth}px`}}),Be=F(()=>({maxWidth:`${v.selectionWidth}px`})),ce=F(()=>({width:`${Math.max(v.calculatorWidth,y8e)}px`})),Re=F(()=>Ke(e.modelValue)?e.modelValue.length===0&&!v.inputValue:e.filterable?!v.inputValue:!0),ct=F(()=>{var Me;const Ye=(Me=e.placeholder)!=null?Me:n("el.select.placeholder");return e.multiple||!j.value?Ye:v.selectedLabel}),It=F(()=>{var Me,Ye;return(Ye=(Me=b.value)==null?void 0:Me.popperRef)==null?void 0:Ye.contentRef}),wt=F(()=>{if(e.multiple){const Me=e.modelValue.length;if(e.modelValue.length>0&&Ce.value.has(e.modelValue[Me-1])){const{index:Ye}=Ce.value.get(e.modelValue[Me-1]);return Ye}}else if(!p(e.modelValue)&&Ce.value.has(e.modelValue)){const{index:Me}=Ce.value.get(e.modelValue);return Me}return-1}),Qt=F({get(){return U.value&&B.value!==!1},set(Me){U.value=Me}}),_t=F(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(0,e.maxCollapseTags):v.cachedOptions:[]),ln=F(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:Ne,removeNewOption:nt,selectNewOption:_e,clearAllNewOption:We}=m8e(e,v),de=()=>{V.value||(v.menuVisibleOnFocus?v.menuVisibleOnFocus=!1:U.value=!U.value)},ft=()=>{v.inputValue.length>0&&!U.value&&(U.value=!0),Ne(v.inputValue),cn(v.inputValue)},Gt=Cs(ft,ve.value),cn=Me=>{v.previousQuery===Me||A.value||(v.previousQuery=Me,e.filterable&&mt(e.filterMethod)?e.filterMethod(Me):e.filterable&&e.remote&&mt(e.remoteMethod)&&e.remoteMethod(Me),e.defaultFirstOption&&(e.filterable||e.remote)&&W.value.length?xt(ir):xt(Ge))},ir=()=>{const Me=W.value.filter(Rt=>!Rt.disabled&&Rt.type!=="Group"),Ye=Me.find(Rt=>Rt.created),dt=Me[0];v.hoveringIndex=wr(W.value,Ye||dt)},Eo=Me=>{Ci(e.modelValue,Me)||t(Qn,Me)},ra=Me=>{t(Ht,Me),Eo(Me),v.previousValue=e.multiple?String(Me):Me},wr=(Me=[],Ye)=>{if(!qt(Ye))return Me.indexOf(Ye);const dt=e.valueKey;let Rt=-1;return Me.some((Xn,_r)=>ca(Xn,dt)===ca(Ye,dt)?(Rt=_r,!0):!1),Rt},yn=Me=>qt(Me)?ca(Me,e.valueKey):Me,Mi=()=>{xe()},d0=()=>{v.selectionWidth=y.value.getBoundingClientRect().width},h0=()=>{v.calculatorWidth=S.value.getBoundingClientRect().width},p0=()=>{v.collapseItemWidth=I.value.getBoundingClientRect().width},yp=()=>{var Me,Ye;(Ye=(Me=b.value)==null?void 0:Me.updatePopper)==null||Ye.call(Me)},uf=()=>{var Me,Ye;(Ye=(Me=x.value)==null?void 0:Me.updatePopper)==null||Ye.call(Me)},v0=Me=>{if(e.multiple){let Ye=e.modelValue.slice();const dt=wr(Ye,c(Me));dt>-1?(Ye=[...Ye.slice(0,dt),...Ye.slice(dt+1)],v.cachedOptions.splice(dt,1),nt(Me)):(e.multipleLimit<=0||Ye.length<e.multipleLimit)&&(Ye=[...Ye,c(Me)],v.cachedOptions.push(Me),_e(Me)),ra(Ye),Me.created&&cn(""),e.filterable&&!e.reserveKeyword&&(v.inputValue="")}else v.selectedLabel=u(Me),ra(c(Me)),U.value=!1,_e(Me),Me.created||We();yd()},bp=(Me,Ye)=>{let dt=e.modelValue.slice();const Rt=wr(dt,c(Ye));Rt>-1&&!V.value&&(dt=[...e.modelValue.slice(0,Rt),...e.modelValue.slice(Rt+1)],v.cachedOptions.splice(Rt,1),ra(dt),t("remove-tag",c(Ye)),nt(Ye)),Me.stopPropagation(),yd()},yd=()=>{var Me;(Me=_.value)==null||Me.focus()},g0=()=>{var Me;if(U.value){U.value=!1,xt(()=>{var Ye;return(Ye=_.value)==null?void 0:Ye.blur()});return}(Me=_.value)==null||Me.blur()},N1=()=>{v.inputValue.length>0?v.inputValue="":U.value=!1},le=Me=>xre(Me,Ye=>!v.cachedOptions.some(dt=>c(dt)===Ye&&f(dt))),ke=Me=>{if(e.multiple&&Me.code!==lt.delete&&v.inputValue.length===0){Me.preventDefault();const Ye=e.modelValue.slice(),dt=le(Ye);if(dt<0)return;const Rt=Ye[dt];Ye.splice(dt,1);const Xn=v.cachedOptions[dt];v.cachedOptions.splice(dt,1),nt(Xn),ra(Ye),t("remove-tag",Rt)}},ye=()=>{let Me;Ke(e.modelValue)?Me=[]:Me=h.value,e.multiple?v.cachedOptions=[]:v.selectedLabel="",U.value=!1,ra(Me),t("clear"),We(),yd()},ee=(Me,Ye=void 0)=>{const dt=W.value;if(!["forward","backward"].includes(Me)||V.value||dt.length<=0||he.value||A.value)return;if(!U.value)return de();Ye===void 0&&(Ye=v.hoveringIndex);let Rt=-1;Me==="forward"?(Rt=Ye+1,Rt>=dt.length&&(Rt=0)):Me==="backward"&&(Rt=Ye-1,(Rt<0||Rt>=dt.length)&&(Rt=dt.length-1));const Xn=dt[Rt];if(f(Xn)||Xn.type==="Group")return ee(Me,Rt);v.hoveringIndex=Rt,et(Rt)},ue=()=>{if(U.value)~v.hoveringIndex&&W.value[v.hoveringIndex]&&v0(W.value[v.hoveringIndex]);else return de()},we=Me=>{v.hoveringIndex=Me??-1},Ge=()=>{e.multiple?v.hoveringIndex=W.value.findIndex(Me=>e.modelValue.some(Ye=>yn(Ye)===yn(Me))):v.hoveringIndex=W.value.findIndex(Me=>yn(Me)===yn(e.modelValue))},at=Me=>{if(v.inputValue=Me.target.value,e.remote)Gt();else return ft()},qe=Me=>{if(U.value=!1,P.value){const Ye=new FocusEvent("focus",Me);O(Ye)}},Je=()=>(v.isBeforeHide=!1,xt(()=>{~wt.value&&et(v.hoveringIndex)})),et=Me=>{T.value.scrollToItem(Me)},kt=(Me,Ye)=>{const dt=yn(Me);if(Ie.value.has(dt)){const{option:Rt}=Ie.value.get(dt);return Rt}if(Ye&&Ye.length){const Rt=Ye.find(Xn=>yn(c(Xn))===dt);if(Rt)return Rt}return{[l.value.value]:Me,[l.value.label]:Me}},$t=(Me=!1)=>{if(e.multiple)if(e.modelValue.length>0){const Ye=v.cachedOptions.slice();v.cachedOptions.length=0,v.previousValue=e.modelValue.toString();for(const dt of e.modelValue){const Rt=kt(dt,Ye);v.cachedOptions.push(Rt)}}else v.cachedOptions=[],v.previousValue=void 0;else if(j.value){v.previousValue=e.modelValue;const Ye=W.value,dt=Ye.findIndex(Rt=>yn(c(Rt))===yn(e.modelValue));~dt?v.selectedLabel=u(Ye[dt]):(!v.selectedLabel||Me)&&(v.selectedLabel=yn(e.modelValue))}else v.selectedLabel="",v.previousValue=void 0;We(),xe()};return Le(U,Me=>{Me?cn(""):(v.inputValue="",v.previousQuery=null,v.isBeforeHide=!0,Ne("")),t("visible-change",Me)}),Le(()=>e.modelValue,(Me,Ye)=>{var dt;(!Me||Ke(Me)&&Me.length===0||e.multiple&&!Ci(Me.toString(),v.previousValue)||!e.multiple&&yn(Me)!==yn(v.previousValue))&&$t(!0),!Ci(Me,Ye)&&e.validateEvent&&((dt=o==null?void 0:o.validate)==null||dt.call(o,"change").catch(Xn=>void 0))},{deep:!0}),Le(()=>e.options,()=>{const Me=_.value;(!Me||Me&&document.activeElement!==Me)&&$t()},{deep:!0,flush:"post"}),Le(()=>W.value,()=>T.value&&xt(T.value.resetScrollTop)),Pi(()=>{v.isBeforeHide||ge()}),Pi(()=>{const{valueKey:Me,options:Ye}=e,dt=new Map;for(const Rt of Ye){const Xn=c(Rt);let _r=Xn;if(qt(_r)&&(_r=ca(Xn,Me)),dt.get(_r))break;dt.set(_r,!0)}}),zt(()=>{$t()}),Mr(m,Mi),Mr(y,d0),Mr(S,h0),Mr(T,yp),Mr(D,yp),Mr(E,uf),Mr(I,p0),{inputId:s,collapseTagSize:te,currentPlaceholder:ct,expanded:U,emptyText:B,popupHeight:K,debounce:ve,allOptions:M,filteredOptions:W,iconComponent:Q,iconReverse:oe,tagStyle:Qe,collapseTagStyle:Be,inputStyle:ce,popperSize:g,dropdownMenuVisible:Qt,hasModelValue:j,shouldShowPlaceholder:Re,selectDisabled:V,selectSize:J,needStatusIcon:H,showClearBtn:ne,states:v,isFocused:P,nsSelect:r,nsInput:a,calculatorRef:S,inputRef:_,menuRef:T,tagMenuRef:E,tooltipRef:b,tagTooltipRef:x,selectRef:m,wrapperRef:D,selectionRef:y,prefixRef:C,suffixRef:k,collapseItemRef:I,popperRef:It,validateState:ae,validateIcon:me,showTagList:_t,collapseTagList:ln,debouncedOnInputChange:Gt,deleteTag:bp,getLabel:u,getValue:c,getDisabled:f,getValueKey:yn,handleClear:ye,handleClickOutside:qe,handleDel:ke,handleEsc:N1,focus:yd,blur:g0,handleMenuEnter:Je,handleResize:Mi,resetSelectionWidth:d0,resetCalculatorWidth:h0,updateTooltip:yp,updateTagTooltip:uf,updateOptions:ge,toggleMenu:de,scrollTo:et,onInput:at,onKeyboardNavigate:ee,onKeyboardSelect:ue,onSelect:v0,onHover:we,handleCompositionStart:N,handleCompositionEnd:L,handleCompositionUpdate:R}},x8e=se({name:"ElSelectV2",components:{ElSelectMenu:g8e,ElTag:ny,ElTooltip:Hi,ElIcon:pt},directives:{ClickOutside:Uf},props:Xze,emits:Zze,setup(e,{emit:t}){const n=F(()=>{const{modelValue:i,multiple:o}=e,s=o?[]:void 0;return Ke(i)?o?i:s:o?s:i}),r=b8e(Ln({...di(e),modelValue:n}),t);hn(HB,{props:Ln({...di(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const a=F(()=>e.multiple?r.states.cachedOptions.map(i=>i.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:a}}});function w8e(e,t,n,r,a,i){const o=Ft("el-tag"),s=Ft("el-tooltip"),l=Ft("el-icon"),u=Ft("el-select-menu"),c=m_("click-outside");return Vt((z(),q("div",{ref:"selectRef",class:G([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:f=>e.states.inputHovering=!0,onMouseleave:f=>e.states.inputHovering=!1},[ie(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:f=>e.states.isBeforeHide=!1},{default:fe(()=>[Z("div",{ref:"wrapperRef",class:G([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:At(e.toggleMenu,["prevent"])},[e.$slots.prefix?(z(),q("div",{key:0,ref:"prefixRef",class:G(e.nsSelect.e("prefix"))},[Se(e.$slots,"prefix")],2)):Te("v-if",!0),Z("div",{ref:"selectionRef",class:G([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?Se(e.$slots,"tag",{key:0},()=>[(z(!0),q(vt,null,un(e.showTagList,f=>(z(),q("div",{key:e.getValueKey(e.getValue(f)),class:G(e.nsSelect.e("selected-item"))},[ie(o,{closable:!e.selectDisabled&&!e.getDisabled(f),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:yt(e.tagStyle),onClose:d=>e.deleteTag(d,f)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:e.getLabel(f),value:e.getValue(f)},()=>[Kt(Ve(e.getLabel(f)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(z(),Ae(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:fe(()=>[Z("div",{ref:"collapseItemRef",class:G(e.nsSelect.e("selected-item"))},[ie(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:yt(e.collapseTagStyle),"disable-transitions":""},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))}," + "+Ve(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:fe(()=>[Z("div",{ref:"tagMenuRef",class:G(e.nsSelect.e("selection"))},[(z(!0),q(vt,null,un(e.collapseTagList,f=>(z(),q("div",{key:e.getValueKey(e.getValue(f)),class:G(e.nsSelect.e("selected-item"))},[ie(o,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(f),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:d=>e.deleteTag(d,f)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:e.getLabel(f),value:e.getValue(f)},()=>[Kt(Ve(e.getLabel(f)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Te("v-if",!0)]):Te("v-if",!0),Z("div",{class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Vt(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":f=>e.states.inputValue=f,style:yt(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:G([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[rr(At(f=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),rr(At(f=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),rr(At(e.onKeyboardSelect,["stop","prevent"]),["enter"]),rr(At(e.handleEsc,["stop","prevent"]),["esc"]),rr(At(e.handleDel,["stop"]),["delete"])],onClick:At(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[lA,e.states.inputValue]]),e.filterable?(z(),q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:G(e.nsSelect.e("input-calculator")),textContent:Ve(e.states.inputValue)},null,10,["textContent"])):Te("v-if",!0)],2),e.shouldShowPlaceholder?(z(),q("div",{key:1,class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Se(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,Ve(e.currentPlaceholder),1)]):(z(),q("span",{key:1},Ve(e.currentPlaceholder),1))],2)):Te("v-if",!0)],2),Z("div",{ref:"suffixRef",class:G(e.nsSelect.e("suffix"))},[e.iconComponent?Vt((z(),Ae(l,{key:0,class:G([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:fe(()=>[(z(),Ae(tn(e.iconComponent)))]),_:1},8,["class"])),[[En,!e.showClearBtn]]):Te("v-if",!0),e.showClearBtn&&e.clearIcon?(z(),Ae(l,{key:1,class:G([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:At(e.handleClear,["prevent","stop"])},{default:fe(()=>[(z(),Ae(tn(e.clearIcon)))]),_:1},8,["class","onClick"])):Te("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(z(),Ae(l,{key:2,class:G([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:fe(()=>[(z(),Ae(tn(e.validateIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],10,["onClick"])]),content:fe(()=>[ie(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},Ml({default:fe(f=>[Se(e.$slots,"default",hu(Sh(f)))]),_:2},[e.$slots.header?{name:"header",fn:fe(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","header"))},[Se(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:fe(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","loading"))},[Se(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:fe(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","empty"))},[Se(e.$slots,"empty",{},()=>[Z("span",null,Ve(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:fe(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","footer"))},[Se(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[c,e.handleClickOutside,e.popperRef]])}var _8e=Ze(x8e,[["render",w8e],["__file","select.vue"]]);const S8e=Bt(_8e),C8e=je({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:be([Number,Object])}}),T8e=je({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),k8e=se({name:"ElSkeletonItem"}),I8e=se({...k8e,props:T8e,setup(e){const t=ze("skeleton");return(n,r)=>(z(),q("div",{class:G([w(t).e("item"),w(t).e(n.variant)])},[n.variant==="image"?(z(),Ae(w(DAe),{key:0})):Te("v-if",!0)],2))}});var oI=Ze(I8e,[["__file","skeleton-item.vue"]]);const E8e=(e,t=0)=>{if(t===0)return e;const n=qt(t)&&!!t.initVal,r=Y(n);let a=null;const i=s=>{if(qn(s)){r.value=e.value;return}a&&clearTimeout(a),a=setTimeout(()=>{r.value=e.value},s)},o=s=>{s==="leading"?Tt(t)?i(t):i(t.leading):qt(t)?i(t.trailing):r.value=!1};return zt(()=>o("leading")),Le(()=>e.value,s=>{o(s?"leading":"trailing")}),r},A8e=se({name:"ElSkeleton"}),D8e=se({...A8e,props:C8e,setup(e,{expose:t}){const n=e,r=ze("skeleton"),a=E8e(Hn(n,"loading"),n.throttle);return t({uiLoading:a}),(i,o)=>w(a)?(z(),q("div",rn({key:0,class:[w(r).b(),w(r).is("animated",i.animated)]},i.$attrs),[(z(!0),q(vt,null,un(i.count,s=>(z(),q(vt,{key:s},[w(a)?Se(i.$slots,"template",{key:s},()=>[ie(oI,{class:G(w(r).is("first")),variant:"p"},null,8,["class"]),(z(!0),q(vt,null,un(i.rows,l=>(z(),Ae(oI,{key:l,class:G([w(r).e("paragraph"),w(r).is("last",l===i.rows&&i.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Te("v-if",!0)],64))),128))],16)):Se(i.$slots,"default",hu(rn({key:1},i.$attrs)))}});var N8e=Ze(D8e,[["__file","skeleton.vue"]]);const R8e=Bt(N8e,{SkeletonItem:oI}),M8e=Ur(oI),toe=Symbol("sliderContextKey"),$8e=je({modelValue:{type:be([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:xa,inputSize:xa,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:be(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:be(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:ud,default:"top"},marks:{type:be(Object)},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),BR=e=>Tt(e)||Ke(e)&&e.every(Tt),L8e={[Ht]:BR,[Fi]:BR,[Qn]:BR},O8e=je({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:ud,default:"top"}}),P8e={[Ht]:e=>Tt(e)},F8e=(e,t,n)=>{const r=Y(),a=Y(!1),i=F(()=>t.value instanceof Function),o=F(()=>i.value&&t.value(e.modelValue)||e.modelValue),s=Cs(()=>{n.value&&(a.value=!0)},50),l=Cs(()=>{n.value&&(a.value=!1)},50);return{tooltip:r,tooltipVisible:a,formatValue:o,displayTooltip:s,hideTooltip:l}},B8e=(e,t,n)=>{const{disabled:r,min:a,max:i,step:o,showTooltip:s,precision:l,sliderSize:u,formatTooltip:c,emitChange:f,resetSize:d,updateDragging:h}=ht(toe),{tooltip:p,tooltipVisible:v,formatValue:g,displayTooltip:m,hideTooltip:y}=F8e(e,c,s),b=Y(),x=F(()=>`${(e.modelValue-a.value)/(i.value-a.value)*100}%`),_=F(()=>e.vertical?{bottom:x.value}:{left:x.value}),S=()=>{t.hovering=!0,m()},C=()=>{t.hovering=!1,t.dragging||y()},k=V=>{r.value||(V.preventDefault(),O(V),window.addEventListener("mousemove",M),window.addEventListener("touchmove",M),window.addEventListener("mouseup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W),b.value.focus())},T=V=>{r.value||(t.newPosition=Number.parseFloat(x.value)+V/(i.value-a.value)*100,U(t.newPosition),f())},E=()=>{T(-o.value)},I=()=>{T(o.value)},A=()=>{T(-o.value*4)},N=()=>{T(o.value*4)},L=()=>{r.value||(U(0),f())},R=()=>{r.value||(U(100),f())},D=V=>{let H=!0;switch(V.code){case lt.left:case lt.down:E();break;case lt.right:case lt.up:I();break;case lt.home:L();break;case lt.end:R();break;case lt.pageDown:A();break;case lt.pageUp:N();break;default:H=!1;break}H&&V.preventDefault()},P=V=>{let H,K;return V.type.startsWith("touch")?(K=V.touches[0].clientY,H=V.touches[0].clientX):(K=V.clientY,H=V.clientX),{clientX:H,clientY:K}},O=V=>{t.dragging=!0,t.isClick=!0;const{clientX:H,clientY:K}=P(V);e.vertical?t.startY=K:t.startX=H,t.startPosition=Number.parseFloat(x.value),t.newPosition=t.startPosition},M=V=>{if(t.dragging){t.isClick=!1,m(),d();let H;const{clientX:K,clientY:j}=P(V);e.vertical?(t.currentY=j,H=(t.startY-t.currentY)/u.value*100):(t.currentX=K,H=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+H,U(t.newPosition)}},W=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||y(),t.isClick||U(t.newPosition),f()},0),window.removeEventListener("mousemove",M),window.removeEventListener("touchmove",M),window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W))},U=async V=>{if(V===null||Number.isNaN(+V))return;V<0?V=0:V>100&&(V=100);const H=100/((i.value-a.value)/o.value);let j=Math.round(V/H)*H*(i.value-a.value)*.01+a.value;j=Number.parseFloat(j.toFixed(l.value)),j!==e.modelValue&&n(Ht,j),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await xt(),t.dragging&&m(),p.value.updatePopper()};return Le(()=>t.dragging,V=>{h(V)}),Zn(b,"touchstart",k,{passive:!1}),{disabled:r,button:b,tooltip:p,tooltipVisible:v,showTooltip:s,wrapperStyle:_,formatValue:g,handleMouseEnter:S,handleMouseLeave:C,onButtonDown:k,onKeyDown:D,setPosition:U}},V8e=se({name:"ElSliderButton"}),z8e=se({...V8e,props:O8e,emits:P8e,setup(e,{expose:t,emit:n}){const r=e,a=ze("slider"),i=Ln({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:o,button:s,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:f,formatValue:d,handleMouseEnter:h,handleMouseLeave:p,onButtonDown:v,onKeyDown:g,setPosition:m}=B8e(r,i,n),{hovering:y,dragging:b}=di(i);return t({onButtonDown:v,onKeyDown:g,setPosition:m,hovering:y,dragging:b}),(x,_)=>(z(),q("div",{ref_key:"button",ref:s,class:G([w(a).e("button-wrapper"),{hover:w(y),dragging:w(b)}]),style:yt(w(f)),tabindex:w(o)?-1:0,onMouseenter:w(h),onMouseleave:w(p),onMousedown:w(v),onFocus:w(h),onBlur:w(p),onKeydown:w(g)},[ie(w(Hi),{ref_key:"tooltip",ref:l,visible:w(c),placement:x.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":x.tooltipClass,disabled:!w(u),persistent:w(u)},{content:fe(()=>[Z("span",null,Ve(w(d)),1)]),default:fe(()=>[Z("div",{class:G([w(a).e("button"),{hover:w(y),dragging:w(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var GG=Ze(z8e,[["__file","button.vue"]]);const W8e=je({mark:{type:be([String,Object]),default:void 0}});var H8e=se({name:"ElSliderMarker",props:W8e,setup(e){const t=ze("slider"),n=F(()=>gt(e.mark)?e.mark:e.mark.label),r=F(()=>gt(e.mark)?void 0:e.mark.style);return()=>Ct("div",{class:t.e("marks-text"),style:r.value},n.value)}});const U8e=(e,t,n)=>{const{form:r,formItem:a}=Xi(),i=dr(),o=Y(),s=Y(),l={firstButton:o,secondButton:s},u=F(()=>e.disabled||(r==null?void 0:r.disabled)||!1),c=F(()=>Math.min(t.firstValue,t.secondValue)),f=F(()=>Math.max(t.firstValue,t.secondValue)),d=F(()=>e.range?`${100*(f.value-c.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),h=F(()=>e.range?`${100*(c.value-e.min)/(e.max-e.min)}%`:"0%"),p=F(()=>e.vertical?{height:e.height}:{}),v=F(()=>e.vertical?{height:d.value,bottom:h.value}:{width:d.value,left:h.value}),g=()=>{i.value&&(t.sliderSize=i.value[`client${e.vertical?"Height":"Width"}`])},m=A=>{const N=e.min+A*(e.max-e.min)/100;if(!e.range)return o;let L;return Math.abs(c.value-N)<Math.abs(f.value-N)?L=t.firstValue<t.secondValue?"firstButton":"secondButton":L=t.firstValue>t.secondValue?"firstButton":"secondButton",l[L]},y=A=>{const N=m(A);return N.value.setPosition(A),N},b=A=>{t.firstValue=A??e.min,_(e.range?[c.value,f.value]:A??e.min)},x=A=>{t.secondValue=A,e.range&&_([c.value,f.value])},_=A=>{n(Ht,A),n(Fi,A)},S=async()=>{await xt(),n(Qn,e.range?[c.value,f.value]:e.modelValue)},C=A=>{var N,L,R,D,P,O;if(u.value||t.dragging)return;g();let M=0;if(e.vertical){const W=(R=(L=(N=A.touches)==null?void 0:N.item(0))==null?void 0:L.clientY)!=null?R:A.clientY;M=(i.value.getBoundingClientRect().bottom-W)/t.sliderSize*100}else{const W=(O=(P=(D=A.touches)==null?void 0:D.item(0))==null?void 0:P.clientX)!=null?O:A.clientX,U=i.value.getBoundingClientRect().left;M=(W-U)/t.sliderSize*100}if(!(M<0||M>100))return y(M)};return{elFormItem:a,slider:i,firstButton:o,secondButton:s,sliderDisabled:u,minValue:c,maxValue:f,runwayStyle:p,barStyle:v,resetSize:g,setPosition:y,emitChange:S,onSliderWrapperPrevent:A=>{var N,L;((N=l.firstButton.value)!=null&&N.dragging||(L=l.secondButton.value)!=null&&L.dragging)&&A.preventDefault()},onSliderClick:A=>{C(A)&&S()},onSliderDown:async A=>{const N=C(A);N&&(await xt(),N.value.onButtonDown(A))},onSliderMarkerDown:A=>{u.value||t.dragging||y(A)},setFirstValue:b,setSecondValue:x}},G8e=(e,t,n,r)=>({stops:F(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const o=(e.max-e.min)/e.step,s=100*e.step/(e.max-e.min),l=Array.from({length:o-1}).map((u,c)=>(c+1)*s);return e.range?l.filter(u=>u<100*(n.value-e.min)/(e.max-e.min)||u>100*(r.value-e.min)/(e.max-e.min)):l.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:o=>e.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),K8e=e=>F(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),j8e=(e,t,n,r,a,i)=>{const o=u=>{a(Ht,u),a(Fi,u)},s=()=>e.range?![n.value,r.value].every((u,c)=>u===t.oldValue[c]):e.modelValue!==t.oldValue,l=()=>{var u,c;e.min>e.max&&Na("Slider","min should not be greater than max.");const f=e.modelValue;e.range&&Ke(f)?f[1]<e.min?o([e.min,e.min]):f[0]>e.max?o([e.max,e.max]):f[0]<e.min?o([e.min,f[1]]):f[1]>e.max?o([f[0],e.max]):(t.firstValue=f[0],t.secondValue=f[1],s()&&(e.validateEvent&&((u=i==null?void 0:i.validate)==null||u.call(i,"change").catch(d=>void 0)),t.oldValue=f.slice())):!e.range&&Tt(f)&&!Number.isNaN(f)&&(f<e.min?o(e.min):f>e.max?o(e.max):(t.firstValue=f,s()&&(e.validateEvent&&((c=i==null?void 0:i.validate)==null||c.call(i,"change").catch(d=>void 0)),t.oldValue=f)))};l(),Le(()=>t.dragging,u=>{u||l()}),Le(()=>e.modelValue,(u,c)=>{t.dragging||Ke(u)&&Ke(c)&&u.every((f,d)=>f===c[d])&&t.firstValue===u[0]&&t.secondValue===u[1]||l()},{deep:!0}),Le(()=>[e.min,e.max],()=>{l()})},Y8e=(e,t,n)=>{const r=Y();return zt(async()=>{e.range?(Ke(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!Tt(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Zn(window,"resize",n),await xt(),n()}),{sliderWrapper:r}},X8e=se({name:"ElSlider"}),q8e=se({...X8e,props:$8e,emits:L8e,setup(e,{expose:t,emit:n}){const r=e,a=ze("slider"),{t:i}=_n(),o=Ln({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:l,firstButton:u,secondButton:c,sliderDisabled:f,minValue:d,maxValue:h,runwayStyle:p,barStyle:v,resetSize:g,emitChange:m,onSliderWrapperPrevent:y,onSliderClick:b,onSliderDown:x,onSliderMarkerDown:_,setFirstValue:S,setSecondValue:C}=U8e(r,o,n),{stops:k,getStopStyle:T}=G8e(r,o,d,h),{inputId:E,isLabeledByFormItem:I}=Wl(r,{formItemContext:s}),A=pa(),N=F(()=>r.inputSize||A.value),L=F(()=>r.ariaLabel||i("el.slider.defaultLabel",{min:r.min,max:r.max})),R=F(()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):L.value),D=F(()=>r.formatValueText?r.formatValueText(H.value):`${H.value}`),P=F(()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),O=F(()=>r.formatValueText?r.formatValueText(K.value):`${K.value}`),M=F(()=>[a.b(),a.m(A.value),a.is("vertical",r.vertical),{[a.m("with-input")]:r.showInput}]),W=K8e(r);j8e(r,o,d,h,n,s);const U=F(()=>{const Q=[r.min,r.max,r.step].map(oe=>{const ae=`${oe}`.split(".")[1];return ae?ae.length:0});return Math.max.apply(null,Q)}),{sliderWrapper:V}=Y8e(r,o,g),{firstValue:H,secondValue:K,sliderSize:j}=di(o),ne=Q=>{o.dragging=Q};return Zn(V,"touchstart",y,{passive:!1}),Zn(V,"touchmove",y,{passive:!1}),hn(toe,{...di(r),sliderSize:j,disabled:f,precision:U,emitChange:m,resetSize:g,updateDragging:ne}),t({onSliderClick:b}),(Q,oe)=>{var ae,me;return z(),q("div",{id:Q.range?w(E):void 0,ref_key:"sliderWrapper",ref:V,class:G(w(M)),role:Q.range?"group":void 0,"aria-label":Q.range&&!w(I)?w(L):void 0,"aria-labelledby":Q.range&&w(I)?(ae=w(s))==null?void 0:ae.labelId:void 0},[Z("div",{ref_key:"slider",ref:l,class:G([w(a).e("runway"),{"show-input":Q.showInput&&!Q.range},w(a).is("disabled",w(f))]),style:yt(w(p)),onMousedown:w(x),onTouchstartPassive:w(x)},[Z("div",{class:G(w(a).e("bar")),style:yt(w(v))},null,6),ie(GG,{id:Q.range?void 0:w(E),ref_key:"firstButton",ref:u,"model-value":w(H),vertical:Q.vertical,"tooltip-class":Q.tooltipClass,placement:Q.placement,role:"slider","aria-label":Q.range||!w(I)?w(R):void 0,"aria-labelledby":!Q.range&&w(I)?(me=w(s))==null?void 0:me.labelId:void 0,"aria-valuemin":Q.min,"aria-valuemax":Q.range?w(K):Q.max,"aria-valuenow":w(H),"aria-valuetext":w(D),"aria-orientation":Q.vertical?"vertical":"horizontal","aria-disabled":w(f),"onUpdate:modelValue":w(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Q.range?(z(),Ae(GG,{key:0,ref_key:"secondButton",ref:c,"model-value":w(K),vertical:Q.vertical,"tooltip-class":Q.tooltipClass,placement:Q.placement,role:"slider","aria-label":w(P),"aria-valuemin":w(H),"aria-valuemax":Q.max,"aria-valuenow":w(K),"aria-valuetext":w(O),"aria-orientation":Q.vertical?"vertical":"horizontal","aria-disabled":w(f),"onUpdate:modelValue":w(C)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Te("v-if",!0),Q.showStops?(z(),q("div",{key:1},[(z(!0),q(vt,null,un(w(k),(ve,B)=>(z(),q("div",{key:B,class:G(w(a).e("stop")),style:yt(w(T)(ve))},null,6))),128))])):Te("v-if",!0),w(W).length>0?(z(),q(vt,{key:2},[Z("div",null,[(z(!0),q(vt,null,un(w(W),(ve,B)=>(z(),q("div",{key:B,style:yt(w(T)(ve.position)),class:G([w(a).e("stop"),w(a).e("marks-stop")])},null,6))),128))]),Z("div",{class:G(w(a).e("marks"))},[(z(!0),q(vt,null,un(w(W),(ve,B)=>(z(),Ae(w(H8e),{key:B,mark:ve.mark,style:yt(w(T)(ve.position)),onMousedown:At(re=>w(_)(ve.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Te("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),Q.showInput&&!Q.range?(z(),Ae(w($ie),{key:0,ref:"input","model-value":w(H),class:G(w(a).e("input")),step:Q.step,disabled:w(f),controls:Q.showInputControls,min:Q.min,max:Q.max,precision:w(U),debounce:Q.debounce,size:w(N),"onUpdate:modelValue":w(S),onChange:w(m)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Te("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var Z8e=Ze(q8e,[["__file","slider.vue"]]);const J8e=Bt(Z8e),Q8e=je({prefixCls:{type:String}}),KG=se({name:"ElSpaceItem",props:Q8e,setup(e,{slots:t}){const n=ze("space"),r=F(()=>`${e.prefixCls||n.b()}__item`);return()=>Ct("div",{class:r.value},Se(t,"default"))}}),jG={small:8,default:12,large:16};function e6e(e){const t=ze("space"),n=F(()=>[t.b(),t.m(e.direction),e.class]),r=Y(0),a=Y(0),i=F(()=>{const s=e.wrap||e.fill?{flexWrap:"wrap"}:{},l={alignItems:e.alignment},u={rowGap:`${a.value}px`,columnGap:`${r.value}px`};return[s,l,u,e.style]}),o=F(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Pi(()=>{const{size:s="small",wrap:l,direction:u,fill:c}=e;if(Ke(s)){const[f=0,d=0]=s;r.value=f,a.value=d}else{let f;Tt(s)?f=s:f=jG[s||"small"]||jG.small,(l||c)&&u==="horizontal"?r.value=a.value=f:u==="horizontal"?(r.value=f,a.value=0):(a.value=f,r.value=0)}}),{classes:n,containerStyle:i,itemStyle:o}}const t6e=je({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:be([String,Object,Array]),default:""},style:{type:be([String,Array,Object]),default:""},alignment:{type:be(String),default:"center"},prefixCls:{type:String},spacer:{type:be([Object,String,Number,Array]),default:null,validator:e=>$r(e)||Tt(e)||gt(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:qc,validator:e=>Tt(e)||Ke(e)&&e.length===2&&e.every(Tt)}}),n6e=se({name:"ElSpace",props:t6e,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:a}=e6e(e);function i(o,s="",l=[]){const{prefixCls:u}=e;return o.forEach((c,f)=>{kO(c)?Ke(c.children)&&c.children.forEach((d,h)=>{kO(d)&&Ke(d.children)?i(d.children,`${s+h}-`,l):l.push(ie(KG,{style:a.value,prefixCls:u,key:`nested-${s+h}`},{default:()=>[d]},vl.PROPS|vl.STYLE,["style","prefixCls"]))}):$$e(c)&&l.push(ie(KG,{style:a.value,prefixCls:u,key:`LoopKey${s+f}`},{default:()=>[c]},vl.PROPS|vl.STYLE,["style","prefixCls"]))}),l}return()=>{var o;const{spacer:s,direction:l}=e,u=Se(t,"default",{key:0},()=>[]);if(((o=u.children)!=null?o:[]).length===0)return null;if(Ke(u.children)){let c=i(u.children);if(s){const f=c.length-1;c=c.reduce((d,h,p)=>{const v=[...d,h];return p!==f&&v.push(ie("span",{style:[a.value,l==="vertical"?"width: 100%":null],key:p},[$r(s)?s:Kt(s,vl.TEXT)],vl.STYLE)),v},[])}return ie("div",{class:n.value,style:r.value},c,vl.STYLE|vl.CLASS)}return u.children}}}),r6e=Bt(n6e),a6e=je({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:be([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:be([String,Object,Array])}}),i6e=se({name:"ElStatistic"}),o6e=se({...i6e,props:a6e,setup(e,{expose:t}){const n=e,r=ze("statistic"),a=F(()=>{const{value:i,formatter:o,precision:s,decimalSeparator:l,groupSeparator:u}=n;if(mt(o))return o(i);if(!Tt(i)||Number.isNaN(i))return i;let[c,f=""]=String(i).split(".");return f=f.padEnd(s,"0").slice(0,s>0?s:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,f].join(f?l:"")});return t({displayValue:a}),(i,o)=>(z(),q("div",{class:G(w(r).b())},[i.$slots.title||i.title?(z(),q("div",{key:0,class:G(w(r).e("head"))},[Se(i.$slots,"title",{},()=>[Kt(Ve(i.title),1)])],2)):Te("v-if",!0),Z("div",{class:G(w(r).e("content"))},[i.$slots.prefix||i.prefix?(z(),q("div",{key:0,class:G(w(r).e("prefix"))},[Se(i.$slots,"prefix",{},()=>[Z("span",null,Ve(i.prefix),1)])],2)):Te("v-if",!0),Z("span",{class:G(w(r).e("number")),style:yt(i.valueStyle)},Ve(w(a)),7),i.$slots.suffix||i.suffix?(z(),q("div",{key:1,class:G(w(r).e("suffix"))},[Se(i.$slots,"suffix",{},()=>[Z("span",null,Ve(i.suffix),1)])],2)):Te("v-if",!0)],2)],2))}});var s6e=Ze(o6e,[["__file","statistic.vue"]]);const noe=Bt(s6e),l6e=je({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:be([Number,Object]),default:0},valueStyle:{type:be([String,Object,Array])}}),u6e={finish:()=>!0,[Qn]:e=>Tt(e)},c6e=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],YG=e=>Tt(e)?new Date(e).getTime():e.valueOf(),XG=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return c6e.reduce((i,[o,s])=>{const l=new RegExp(`${o}+(?![^\\[\\]]*\\])`,"g");if(l.test(i)){const u=Math.floor(n/s);return n-=u*s,i.replace(l,c=>String(u).padStart(c.length,"0"))}return i},t).replace(r,"$1")},f6e=se({name:"ElCountdown"}),d6e=se({...f6e,props:l6e,emits:u6e,setup(e,{expose:t,emit:n}){const r=e;let a;const i=Y(0),o=F(()=>XG(i.value,r.format)),s=c=>XG(c,r.format),l=()=>{a&&(ig(a),a=void 0)},u=()=>{const c=YG(r.value),f=()=>{let d=c-Date.now();n("change",d),d<=0?(d=0,l(),n("finish")):a=kh(f),i.value=d};a=kh(f)};return zt(()=>{i.value=YG(r.value)-Date.now(),Le(()=>[r.value,r.format],()=>{l(),u()},{immediate:!0})}),ar(()=>{l()}),t({displayValue:o}),(c,f)=>(z(),Ae(w(noe),{value:i.value,title:c.title,prefix:c.prefix,suffix:c.suffix,"value-style":c.valueStyle,formatter:s},Ml({_:2},[un(c.$slots,(d,h)=>({name:h,fn:fe(()=>[Se(c.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var h6e=Ze(d6e,[["__file","countdown.vue"]]);const p6e=Bt(h6e),v6e=je({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),g6e={[Qn]:(e,t)=>[e,t].every(Tt)},m6e=se({name:"ElSteps"}),y6e=se({...m6e,props:v6e,emits:g6e,setup(e,{emit:t}){const n=e,r=ze("steps"),{children:a,addChild:i,removeChild:o}=_B(jt(),"ElStep");return Le(a,()=>{a.value.forEach((s,l)=>{s.setIndex(l)})}),hn("ElSteps",{props:n,steps:a,addStep:i,removeStep:o}),Le(()=>n.active,(s,l)=>{t(Qn,s,l)}),(s,l)=>(z(),q("div",{class:G([w(r).b(),w(r).m(s.simple?"simple":s.direction)])},[Se(s.$slots,"default")],2))}});var b6e=Ze(y6e,[["__file","steps.vue"]]);const x6e=je({title:{type:String,default:""},icon:{type:er},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),w6e=se({name:"ElStep"}),_6e=se({...w6e,props:x6e,setup(e){const t=e,n=ze("step"),r=Y(-1),a=Y({}),i=Y(""),o=ht("ElSteps"),s=jt();zt(()=>{Le([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([S])=>{x(S)},{immediate:!0})}),ar(()=>{o.removeStep(_.uid)});const l=F(()=>t.status||i.value),u=F(()=>{const S=o.steps.value[r.value-1];return S?S.currentStatus:"wait"}),c=F(()=>o.props.alignCenter),f=F(()=>o.props.direction==="vertical"),d=F(()=>o.props.simple),h=F(()=>o.steps.value.length),p=F(()=>{var S;return((S=o.steps.value[h.value-1])==null?void 0:S.uid)===(s==null?void 0:s.uid)}),v=F(()=>d.value?"":o.props.space),g=F(()=>[n.b(),n.is(d.value?"simple":o.props.direction),n.is("flex",p.value&&!v.value&&!c.value),n.is("center",c.value&&!f.value&&!d.value)]),m=F(()=>{const S={flexBasis:Tt(v.value)?`${v.value}px`:v.value?v.value:`${100/(h.value-(c.value?0:1))}%`};return f.value||p.value&&(S.maxWidth=`${100/h.value}%`),S}),y=S=>{r.value=S},b=S=>{const C=S==="wait",k={transitionDelay:`${C?"-":""}${150*r.value}ms`},T=S===o.props.processStatus||C?0:100;k.borderWidth=T&&!d.value?"1px":0,k[o.props.direction==="vertical"?"height":"width"]=`${T}%`,a.value=k},x=S=>{S>r.value?i.value=o.props.finishStatus:S===r.value&&u.value!=="error"?i.value=o.props.processStatus:i.value="wait";const C=o.steps.value[r.value-1];C&&C.calcProgress(i.value)},_=Ln({uid:s.uid,currentStatus:l,setIndex:y,calcProgress:b});return o.addStep(_),(S,C)=>(z(),q("div",{style:yt(w(m)),class:G(w(g))},[Te(" icon & line "),Z("div",{class:G([w(n).e("head"),w(n).is(w(l))])},[w(d)?Te("v-if",!0):(z(),q("div",{key:0,class:G(w(n).e("line"))},[Z("i",{class:G(w(n).e("line-inner")),style:yt(a.value)},null,6)],2)),Z("div",{class:G([w(n).e("icon"),w(n).is(S.icon||S.$slots.icon?"icon":"text")])},[Se(S.$slots,"icon",{},()=>[S.icon?(z(),Ae(w(pt),{key:0,class:G(w(n).e("icon-inner"))},{default:fe(()=>[(z(),Ae(tn(S.icon)))]),_:1},8,["class"])):w(l)==="success"?(z(),Ae(w(pt),{key:1,class:G([w(n).e("icon-inner"),w(n).is("status")])},{default:fe(()=>[ie(w(C_))]),_:1},8,["class"])):w(l)==="error"?(z(),Ae(w(pt),{key:2,class:G([w(n).e("icon-inner"),w(n).is("status")])},{default:fe(()=>[ie(w(Ru))]),_:1},8,["class"])):w(d)?Te("v-if",!0):(z(),q("div",{key:3,class:G(w(n).e("icon-inner"))},Ve(r.value+1),3))])],2)],2),Te(" title & description "),Z("div",{class:G(w(n).e("main"))},[Z("div",{class:G([w(n).e("title"),w(n).is(w(l))])},[Se(S.$slots,"title",{},()=>[Kt(Ve(S.title),1)])],2),w(d)?(z(),q("div",{key:0,class:G(w(n).e("arrow"))},null,2)):(z(),q("div",{key:1,class:G([w(n).e("description"),w(n).is(w(l))])},[Se(S.$slots,"description",{},()=>[Kt(Ve(S.description),1)])],2))],2)],6))}});var roe=Ze(_6e,[["__file","item.vue"]]);const S6e=Bt(b6e,{Step:roe}),C6e=Ur(roe),aoe=e=>["",...qc].includes(e),T6e=je({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:aoe},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:er},activeActionIcon:{type:er},activeIcon:{type:er},inactiveIcon:{type:er},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:be(Function)},id:String,tabindex:{type:[String,Number]},...Ei(["ariaLabel"])}),k6e={[Ht]:e=>lr(e)||gt(e)||Tt(e),[Qn]:e=>lr(e)||gt(e)||Tt(e),[Fi]:e=>lr(e)||gt(e)||Tt(e)},ioe="ElSwitch",I6e=se({name:ioe}),E6e=se({...I6e,props:T6e,emits:k6e,setup(e,{expose:t,emit:n}){const r=e,{formItem:a}=Xi(),i=pa(),o=ze("switch"),{inputId:s}=Wl(r,{formItemContext:a}),l=qi(F(()=>r.loading)),u=Y(r.modelValue!==!1),c=Y(),f=Y(),d=F(()=>[o.b(),o.m(i.value),o.is("disabled",l.value),o.is("checked",m.value)]),h=F(()=>[o.e("label"),o.em("label","left"),o.is("active",!m.value)]),p=F(()=>[o.e("label"),o.em("label","right"),o.is("active",m.value)]),v=F(()=>({width:ta(r.width)}));Le(()=>r.modelValue,()=>{u.value=!0});const g=F(()=>u.value?r.modelValue:!1),m=F(()=>g.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(g.value)||(n(Ht,r.inactiveValue),n(Qn,r.inactiveValue),n(Fi,r.inactiveValue)),Le(m,_=>{var S;c.value.checked=_,r.validateEvent&&((S=a==null?void 0:a.validate)==null||S.call(a,"change").catch(C=>void 0))});const y=()=>{const _=m.value?r.inactiveValue:r.activeValue;n(Ht,_),n(Qn,_),n(Fi,_),xt(()=>{c.value.checked=m.value})},b=()=>{if(l.value)return;const{beforeChange:_}=r;if(!_){y();return}const S=_();[Fx(S),lr(S)].includes(!0)||Na(ioe,"beforeChange must return type `Promise<boolean>` or `boolean`"),Fx(S)?S.then(k=>{k&&y()}).catch(k=>{}):S&&y()},x=()=>{var _,S;(S=(_=c.value)==null?void 0:_.focus)==null||S.call(_)};return zt(()=>{c.value.checked=m.value}),t({focus:x,checked:m}),(_,S)=>(z(),q("div",{class:G(w(d)),onClick:At(b,["prevent"])},[Z("input",{id:w(s),ref_key:"input",ref:c,class:G(w(o).e("input")),type:"checkbox",role:"switch","aria-checked":w(m),"aria-disabled":w(l),"aria-label":_.ariaLabel,name:_.name,"true-value":_.activeValue,"false-value":_.inactiveValue,disabled:w(l),tabindex:_.tabindex,onChange:y,onKeydown:rr(b,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!_.inlinePrompt&&(_.inactiveIcon||_.inactiveText)?(z(),q("span",{key:0,class:G(w(h))},[_.inactiveIcon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(_.inactiveIcon)))]),_:1})):Te("v-if",!0),!_.inactiveIcon&&_.inactiveText?(z(),q("span",{key:1,"aria-hidden":w(m)},Ve(_.inactiveText),9,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0),Z("span",{ref_key:"core",ref:f,class:G(w(o).e("core")),style:yt(w(v))},[_.inlinePrompt?(z(),q("div",{key:0,class:G(w(o).e("inner"))},[_.activeIcon||_.inactiveIcon?(z(),Ae(w(pt),{key:0,class:G(w(o).is("icon"))},{default:fe(()=>[(z(),Ae(tn(w(m)?_.activeIcon:_.inactiveIcon)))]),_:1},8,["class"])):_.activeText||_.inactiveText?(z(),q("span",{key:1,class:G(w(o).is("text")),"aria-hidden":!w(m)},Ve(w(m)?_.activeText:_.inactiveText),11,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0),Z("div",{class:G(w(o).e("action"))},[_.loading?(z(),Ae(w(pt),{key:0,class:G(w(o).is("loading"))},{default:fe(()=>[ie(w(Mu))]),_:1},8,["class"])):w(m)?Se(_.$slots,"active-action",{key:1},()=>[_.activeActionIcon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(_.activeActionIcon)))]),_:1})):Te("v-if",!0)]):w(m)?Te("v-if",!0):Se(_.$slots,"inactive-action",{key:2},()=>[_.inactiveActionIcon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(_.inactiveActionIcon)))]),_:1})):Te("v-if",!0)])],2)],6),!_.inlinePrompt&&(_.activeIcon||_.activeText)?(z(),q("span",{key:1,class:G(w(p))},[_.activeIcon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(_.activeIcon)))]),_:1})):Te("v-if",!0),!_.activeIcon&&_.activeText?(z(),q("span",{key:1,"aria-hidden":!w(m)},Ve(_.activeText),9,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0)],10,["onClick"]))}});var A6e=Ze(E6e,[["__file","switch.vue"]]);const D6e=Bt(A6e),VR=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},N6e=function(e,t,n,r,a){if(!t&&!r&&(!a||Ke(a)&&!a.length))return e;gt(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const i=r?null:function(s,l){return a?(Ke(a)||(a=[a]),a.map(u=>gt(u)?ca(s,u):u(s,l,e))):(t!=="$key"&&qt(s)&&"$value"in s&&(s=s.$value),[qt(s)?ca(s,t):s])},o=function(s,l){if(r)return r(s.value,l.value);for(let u=0,c=s.key.length;u<c;u++){if(s.key[u]<l.key[u])return-1;if(s.key[u]>l.key[u])return 1}return 0};return e.map((s,l)=>({value:s,index:l,key:i?i(s,l):null})).sort((s,l)=>{let u=o(s,l);return u||(u=s.index-l.index),u*+n}).map(s=>s.value)},ooe=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},R6e=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const a=e.columns[r];if(a.columnKey===t){n=a;break}}return n||Na("ElTable",`No column matching with column-key: ${t}`),n},qG=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?ooe(e,r[0]):null},po=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(gt(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const a of n)r=r[a];return`${r}`}else if(mt(t))return t.call(null,e)},xv=function(e,t){const n={};return(e||[]).forEach((r,a)=>{n[po(r,t)]={row:r,index:a}}),n};function M6e(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(Dn(t,r)){const a=t[r];typeof a<"u"&&(n[r]=a)}return n}function jB(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function soe(e){return e===""||e!==void 0&&(e=jB(e),Number.isNaN(e)&&(e=80)),e}function $6e(e){return Tt(e)?e:gt(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function L6e(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function sI(e,t,n,r,a,i){let o=i??0,s=!1;const l=e.indexOf(t),u=l!==-1,c=a==null?void 0:a.call(null,t,i),f=h=>{h==="add"?e.push(t):e.splice(l,1),s=!0},d=h=>{let p=0;const v=(r==null?void 0:r.children)&&h[r.children];return v&&Ke(v)&&(p+=v.length,v.forEach(g=>{p+=d(g)})),p};return(!a||c)&&(lr(n)?n&&!u?f("add"):!n&&u&&f("remove"):f(u?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&Ke(t[r.children])&&t[r.children].forEach(h=>{sI(e,h,n??!u,r,a,o+1),o+=d(h)+1}),s}function O6e(e,t,n="children",r="hasChildren"){const a=o=>!(Ke(o)&&o.length);function i(o,s,l){t(o,s,l),s.forEach(u=>{if(u[r]){t(u,null,l+1);return}const c=u[n];a(c)||i(u,c,l+1)})}e.forEach(o=>{if(o[r]){t(o,null,0);return}const s=o[n];a(s)||i(o,s,0)})}const ZG=(e,t)=>({content:t,...e,popperOptions:{strategy:"fixed",...e.popperOptions}});let ll=null;function P6e(e,t,n,r){if((ll==null?void 0:ll.trigger)===n){_re(ll.vm.component.props,ZG(e,t));return}ll==null||ll();const a=r==null?void 0:r.refs.tableWrapper,i=a==null?void 0:a.dataset.prefix,o=ie(Hi,{virtualTriggering:!0,virtualRef:n,appendTo:a,placement:"top",transition:"none",offset:0,hideAfter:0,...ZG(e,t)});o.appContext={...r.appContext,...r};const s=document.createElement("div");Ch(o,s),o.component.exposed.onOpen();const l=a==null?void 0:a.querySelector(`.${i}-scrollbar__wrap`);ll=()=>{Ch(null,s),l==null||l.removeEventListener("scroll",ll),ll=null},ll.trigger=n,ll.vm=o,l==null||l.addEventListener("scroll",ll)}function loe(e){return e.children?wIe(e.children,loe):[e]}function JG(e,t){return e+t.colSpan}const uoe=(e,t,n,r)=>{let a=0,i=e;const o=n.states.columns.value;if(r){const l=loe(r[e]);a=o.slice(0,o.indexOf(l[0])).reduce(JG,0),i=a+l.reduce(JG,0)-1}else a=e;let s;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":a>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:i<n.states.fixedLeafColumnsLength.value?s="left":a>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:a,after:i}:{}},YB=(e,t,n,r,a,i=0)=>{const o=[],{direction:s,start:l,after:u}=uoe(t,n,r,a);if(s){const c=s==="left";o.push(`${e}-fixed-column--${s}`),c&&u+i===r.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!c&&l-i===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function QG(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const XB=(e,t,n,r)=>{const{direction:a,start:i=0,after:o=0}=uoe(e,t,n,r);if(!a)return;const s={},l=a==="left",u=n.states.columns.value;return l?s.left=u.slice(0,i).reduce(QG,0):s.right=u.slice(o+1).reverse().reduce(QG,0),s},iy=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function F6e(e){const t=jt(),n=Y(!1),r=Y([]);return{updateExpandRows:()=>{const l=e.data.value||[],u=e.rowKey.value;if(n.value)r.value=l.slice();else if(u){const c=xv(r.value,u);r.value=l.reduce((f,d)=>{const h=po(d,u);return c[h]&&f.push(d),f},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{sI(r.value,l,u)&&t.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{t.store.assertRowKey();const u=e.data.value||[],c=e.rowKey.value,f=xv(u,c);r.value=l.reduce((d,h)=>{const p=f[h];return p&&d.push(p.row),d},[])},isRowExpanded:l=>{const u=e.rowKey.value;return u?!!xv(r.value,u)[po(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function B6e(e){const t=jt(),n=Y(null),r=Y(null),a=u=>{t.store.assertRowKey(),n.value=u,o(u)},i=()=>{n.value=null},o=u=>{const{data:c,rowKey:f}=e;let d=null;f.value&&(d=(w(c)||[]).find(h=>po(h,f.value)===u)),r.value=d,t.emit("current-change",r.value,null)};return{setCurrentRowKey:a,restoreCurrentRowKey:i,setCurrentRowByKey:o,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,t.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,t.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=e.rowKey.value,c=e.data.value||[],f=r.value;if(!c.includes(f)&&f){if(u){const d=po(f,u);o(d)}else r.value=null;r.value===null&&t.emit("current-change",null,f)}else n.value&&(o(n.value),i())},states:{_currentRowKey:n,currentRow:r}}}function V6e(e){const t=Y([]),n=Y({}),r=Y(16),a=Y(!1),i=Y({}),o=Y("hasChildren"),s=Y("children"),l=Y(!1),u=jt(),c=F(()=>{if(!e.rowKey.value)return{};const b=e.data.value||[];return d(b)}),f=F(()=>{const b=e.rowKey.value,x=Object.keys(i.value),_={};return x.length&&x.forEach(S=>{if(i.value[S].length){const C={children:[]};i.value[S].forEach(k=>{const T=po(k,b);C.children.push(T),k[o.value]&&!_[T]&&(_[T]={children:[]})}),_[S]=C}}),_}),d=b=>{const x=e.rowKey.value,_={};return O6e(b,(S,C,k)=>{const T=po(S,x);Ke(C)?_[T]={children:C.map(E=>po(E,x)),level:k}:a.value&&(_[T]={children:[],lazy:!0,level:k})},s.value,o.value),_},h=(b=!1,x=(_=>(_=u.store)==null?void 0:_.states.defaultExpandAll.value)())=>{var _;const S=c.value,C=f.value,k=Object.keys(S),T={};if(k.length){const E=w(n),I=[],A=(L,R)=>{if(b)return t.value?x||t.value.includes(R):!!(x||L!=null&&L.expanded);{const D=x||t.value&&t.value.includes(R);return!!(L!=null&&L.expanded||D)}};k.forEach(L=>{const R=E[L],D={...S[L]};if(D.expanded=A(R,L),D.lazy){const{loaded:P=!1,loading:O=!1}=R||{};D.loaded=!!P,D.loading=!!O,I.push(L)}T[L]=D});const N=Object.keys(C);a.value&&N.length&&I.length&&N.forEach(L=>{const R=E[L],D=C[L].children;if(I.includes(L)){if(T[L].children.length!==0)throw new Error("[ElTable]children must be an empty array.");T[L].children=D}else{const{loaded:P=!1,loading:O=!1}=R||{};T[L]={lazy:!0,loaded:!!P,loading:!!O,expanded:A(R,L),children:D,level:""}}})}n.value=T,(_=u.store)==null||_.updateTableScrollY()};Le(()=>t.value,()=>{h(!0)}),Le(()=>c.value,()=>{h()}),Le(()=>f.value,()=>{h()});const p=b=>{t.value=b,h()},v=(b,x)=>{u.store.assertRowKey();const _=e.rowKey.value,S=po(b,_),C=S&&n.value[S];if(S&&C&&"expanded"in C){const k=C.expanded;x=qn(x)?!C.expanded:x,n.value[S].expanded=x,k!==x&&u.emit("expand-change",b,x),u.store.updateTableScrollY()}},g=b=>{u.store.assertRowKey();const x=e.rowKey.value,_=po(b,x),S=n.value[_];a.value&&S&&"loaded"in S&&!S.loaded?m(b,_,S):v(b,void 0)},m=(b,x,_)=>{const{load:S}=u.props;S&&!n.value[x].loaded&&(n.value[x].loading=!0,S(b,_,C=>{if(!Ke(C))throw new TypeError("[ElTable] data must be an array");n.value[x].loading=!1,n.value[x].loaded=!0,n.value[x].expanded=!0,C.length&&(i.value[x]=C),u.emit("expand-change",b,!0)}))};return{loadData:m,loadOrToggle:g,toggleTreeExpansion:v,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(b,x)=>{const{lazy:_,rowKey:S}=u.props;if(_){if(!S)throw new Error("[Table] rowKey is required in updateKeyChild");i.value[b]&&(i.value[b]=x)}},normalize:d,states:{expandRowKeys:t,treeData:n,indent:r,lazy:a,lazyTreeNodeMap:i,lazyColumnIdentifier:o,childrenColumnName:s,checkStrictly:l}}}const z6e=(e,t)=>{const n=t.sortingColumn;return!n||gt(n.sortable)?e:N6e(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},YT=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,YT(n.children)):t.push(n)}),t};function W6e(){var e;const t=jt(),{size:n}=di((e=t.proxy)==null?void 0:e.$props),r=Y(null),a=Y([]),i=Y([]),o=Y(!1),s=Y([]),l=Y([]),u=Y([]),c=Y([]),f=Y([]),d=Y([]),h=Y([]),p=Y([]),v=[],g=Y(0),m=Y(0),y=Y(0),b=Y(!1),x=Y([]),_=Y(!1),S=Y(!1),C=Y(null),k=Y({}),T=Y(null),E=Y(null),I=Y(null),A=Y(null),N=Y(null);Le(a,()=>{var Ne;t.state&&(O(!1),t.props.tableLayout==="auto"&&((Ne=t.refs.tableHeaderRef)==null||Ne.updateFixedColumnStyle()))},{deep:!0});const L=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},R=Ne=>{var nt;(nt=Ne.children)==null||nt.forEach(_e=>{_e.fixed=Ne.fixed,R(_e)})};let D;const P=()=>{s.value.forEach(de=>{R(de)}),c.value=s.value.filter(de=>de.fixed===!0||de.fixed==="left"),f.value=s.value.filter(de=>de.fixed==="right"),qn(D)&&s.value[0]&&s.value[0].type==="selection"&&(D=!!s.value[0].fixed),c.value.length>0&&s.value[0]&&s.value[0].type==="selection"&&(s.value[0].fixed?c.value.some(ft=>ft.type!=="selection")?D=void 0:(s.value[0].fixed=D,D||c.value.shift()):(s.value[0].fixed=!0,c.value.unshift(s.value[0])));const Ne=s.value.filter(de=>!de.fixed);l.value=[].concat(c.value).concat(Ne).concat(f.value);const nt=YT(Ne),_e=YT(c.value),We=YT(f.value);g.value=nt.length,m.value=_e.length,y.value=We.length,u.value=[].concat(_e).concat(nt).concat(We),o.value=c.value.length>0||f.value.length>0},O=(Ne,nt=!1)=>{Ne&&P(),nt?t.state.doLayout():t.state.debouncedUpdateLayout()},M=Ne=>x.value.some(nt=>Ci(nt,Ne)),W=()=>{b.value=!1;const Ne=x.value;x.value=[],Ne.length&&t.emit("selection-change",[])},U=()=>{let Ne;if(r.value){Ne=[];const nt=xv(x.value,r.value),_e=xv(a.value,r.value);for(const We in nt)Dn(nt,We)&&!_e[We]&&Ne.push(nt[We].row)}else Ne=x.value.filter(nt=>!a.value.includes(nt));if(Ne.length){const nt=x.value.filter(_e=>!Ne.includes(_e));x.value=nt,t.emit("selection-change",nt.slice())}},V=()=>(x.value||[]).slice(),H=(Ne,nt,_e=!0,We=!1)=>{var de,ft,Gt,cn;const ir={children:(ft=(de=t==null?void 0:t.store)==null?void 0:de.states)==null?void 0:ft.childrenColumnName.value,checkStrictly:(cn=(Gt=t==null?void 0:t.store)==null?void 0:Gt.states)==null?void 0:cn.checkStrictly.value};if(sI(x.value,Ne,nt,ir,We?void 0:C.value)){const ra=(x.value||[]).slice();_e&&t.emit("select",ra,Ne),t.emit("selection-change",ra)}},K=()=>{var Ne,nt;const _e=S.value?!b.value:!(b.value||x.value.length);b.value=_e;let We=!1,de=0;const ft=(nt=(Ne=t==null?void 0:t.store)==null?void 0:Ne.states)==null?void 0:nt.rowKey.value,{childrenColumnName:Gt}=t.store.states,cn={children:Gt.value,checkStrictly:!1};a.value.forEach((ir,Eo)=>{const ra=Eo+de;sI(x.value,ir,_e,cn,C.value,ra)&&(We=!0),de+=Q(po(ir,ft))}),We&&t.emit("selection-change",x.value?x.value.slice():[]),t.emit("select-all",(x.value||[]).slice())},j=()=>{const Ne=xv(x.value,r.value);a.value.forEach(nt=>{const _e=po(nt,r.value),We=Ne[_e];We&&(x.value[We.index]=nt)})},ne=()=>{var Ne;if(((Ne=a.value)==null?void 0:Ne.length)===0){b.value=!1;return}const{childrenColumnName:nt}=t.store.states,_e=r.value?xv(x.value,r.value):void 0;let We=0,de=0;const ft=ir=>_e?!!_e[po(ir,r.value)]:x.value.includes(ir),Gt=ir=>{var Eo;for(const ra of ir){const wr=C.value&&C.value.call(null,ra,We);if(ft(ra))de++;else if(!C.value||wr)return!1;if(We++,(Eo=ra[nt.value])!=null&&Eo.length&&!Gt(ra[nt.value]))return!1}return!0},cn=Gt(a.value||[]);b.value=de===0?!1:cn},Q=Ne=>{var nt;if(!t||!t.store)return 0;const{treeData:_e}=t.store.states;let We=0;const de=(nt=_e.value[Ne])==null?void 0:nt.children;return de&&(We+=de.length,de.forEach(ft=>{We+=Q(ft)})),We},oe=(Ne,nt)=>{Ke(Ne)||(Ne=[Ne]);const _e={};return Ne.forEach(We=>{k.value[We.id]=nt,_e[We.columnKey||We.id]=nt}),_e},ae=(Ne,nt,_e)=>{E.value&&E.value!==Ne&&(E.value.order=null),E.value=Ne,I.value=nt,A.value=_e},me=()=>{let Ne=w(i);Object.keys(k.value).forEach(nt=>{const _e=k.value[nt];if(!_e||_e.length===0)return;const We=ooe({columns:u.value},nt);We&&We.filterMethod&&(Ne=Ne.filter(de=>_e.some(ft=>We.filterMethod.call(null,ft,de,We))))}),T.value=Ne},ve=()=>{a.value=z6e(T.value,{sortingColumn:E.value,sortProp:I.value,sortOrder:A.value})},B=(Ne=void 0)=>{Ne&&Ne.filter||me(),ve()},re=Ne=>{const{tableHeaderRef:nt}=t.refs;if(!nt)return;const _e=Object.assign({},nt.filterPanels),We=Object.keys(_e);if(We.length)if(gt(Ne)&&(Ne=[Ne]),Ke(Ne)){const de=Ne.map(ft=>R6e({columns:u.value},ft));We.forEach(ft=>{const Gt=de.find(cn=>cn.id===ft);Gt&&(Gt.filteredValue=[])}),t.store.commit("filterChange",{column:de,values:[],silent:!0,multi:!0})}else We.forEach(de=>{const ft=u.value.find(Gt=>Gt.id===de);ft&&(ft.filteredValue=[])}),k.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},ge=()=>{E.value&&(ae(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ie,toggleRowExpansion:Ce,updateExpandRows:he,states:J,isRowExpanded:te}=F6e({data:a,rowKey:r}),{updateTreeExpandKeys:xe,toggleTreeExpansion:Ee,updateTreeData:Qe,updateKeyChildren:Be,loadOrToggle:ce,states:Re}=V6e({data:a,rowKey:r}),{updateCurrentRowData:ct,updateCurrentRow:It,setCurrentRowKey:wt,states:Qt}=B6e({data:a,rowKey:r});return{assertRowKey:L,updateColumns:P,scheduleLayout:O,isSelected:M,clearSelection:W,cleanSelection:U,getSelectionRows:V,toggleRowSelection:H,_toggleAllSelection:K,toggleAllSelection:null,updateSelectionByRowKey:j,updateAllSelected:ne,updateFilters:oe,updateCurrentRow:It,updateSort:ae,execFilter:me,execSort:ve,execQuery:B,clearFilter:re,clearSort:ge,toggleRowExpansion:Ce,setExpandRowKeysAdapter:Ne=>{Ie(Ne),xe(Ne)},setCurrentRowKey:wt,toggleRowExpansionAdapter:(Ne,nt)=>{u.value.some(({type:We})=>We==="expand")?Ce(Ne,nt):Ee(Ne,nt)},isRowExpanded:te,updateExpandRows:he,updateCurrentRowData:ct,loadOrToggle:ce,updateTreeData:Qe,updateKeyChildren:Be,states:{tableSize:n,rowKey:r,data:a,_data:i,isComplex:o,_columns:s,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:f,leafColumns:d,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:v,leafColumnsLength:g,fixedLeafColumnsLength:m,rightFixedLeafColumnsLength:y,isAllSelected:b,selection:x,reserveSelection:_,selectOnIndeterminate:S,selectable:C,filters:k,filteredData:T,sortingColumn:E,sortProp:I,sortOrder:A,hoverRow:N,...J,...Re,...Qt}}}function qO(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=qO(n.children,t)),n)})}function ZO(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&ZO(t.children)}),e.sort((t,n)=>t.no-n.no)}function H6e(){const e=jt(),t=W6e();return{ns:ze("table"),...t,mutations:{setData(o,s){const l=w(o._data)!==s;o.data.value=s,o._data.value=s,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),w(o.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):l?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(o,s,l,u){const c=w(o._columns);let f=[];l?(l&&!l.children&&(l.children=[]),l.children.push(s),f=qO(c,l)):(c.push(s),f=c),ZO(f),o._columns.value=f,o.updateOrderFns.push(u),s.type==="selection"&&(o.selectable.value=s.selectable,o.reserveSelection.value=s.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(o,s){var l;((l=s.getColumnIndex)==null?void 0:l.call(s))!==s.no&&(ZO(o._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(o,s,l,u){const c=w(o._columns)||[];if(l)l.children.splice(l.children.findIndex(d=>d.id===s.id),1),xt(()=>{var d;((d=l.children)==null?void 0:d.length)===0&&delete l.children}),o._columns.value=qO(c,l);else{const d=c.indexOf(s);d>-1&&(c.splice(d,1),o._columns.value=c)}const f=o.updateOrderFns.indexOf(u);f>-1&&o.updateOrderFns.splice(f,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(o,s){const{prop:l,order:u,init:c}=s;if(l){const f=w(o.columns).find(d=>d.property===l);f&&(f.order=u,e.store.updateSort(f,l,u),e.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(o,s){const{sortingColumn:l,sortProp:u,sortOrder:c}=o,f=w(l),d=w(u),h=w(c);h===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const p={filter:!0};e.store.execQuery(p),(!s||!(s.silent||s.init))&&e.emit("sort-change",{column:f,prop:d,order:h}),e.store.updateTableScrollY()},filterChange(o,s){const{column:l,values:u,silent:c}=s,f=e.store.updateFilters(l,u);e.store.execQuery(),c||e.emit("filter-change",f),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(o,s){e.store.toggleRowSelection(s),e.store.updateAllSelected()},setHoverRow(o,s){o.hoverRow.value=s},setCurrentRow(o,s){e.store.updateCurrentRow(s)}},commit:function(o,...s){const l=e.store.mutations;if(l[o])l[o].apply(e,[e.store.states].concat(s));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){xt(()=>e.layout.updateScrollY.apply(e.layout))}}}const lx={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function U6e(e,t){if(!e)throw new Error("Table is required.");const n=H6e();return n.toggleAllSelection=Cs(n._toggleAllSelection,10),Object.keys(lx).forEach(r=>{coe(foe(t,r),r,n)}),G6e(n,t),n}function G6e(e,t){Object.keys(lx).forEach(n=>{Le(()=>foe(t,n),r=>{coe(r,n,e)})})}function coe(e,t,n){let r=e,a=lx[t];typeof lx[t]=="object"&&(a=a.key,r=r||lx[t].default),n.states[a].value=r}function foe(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(a=>{r=r[a]}),r}else return e[t]}class K6e{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Y(null),this.scrollX=Y(!1),this.scrollY=Y(!1),this.bodyWidth=Y(null),this.fixedWidth=Y(null),this.rightFixedWidth=Y(null),this.gutterWidth=0;for(const n in t)Dn(t,n)&&(vr(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const a=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,a!==r}return!1}setHeight(t,n="height"){if(!wn)return;const r=this.table.vnode.el;if(t=$6e(t),this.height.value=Number(t),!r&&(t||t===0))return xt(()=>this.setHeight(t,n));Tt(t)?(r.style[n]=`${t}px`,this.updateElsHeight()):gt(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!wn)return;const t=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const a=this.getFlattenColumns(),i=a.filter(l=>!Tt(l.width));if(a.forEach(l=>{Tt(l.width)&&l.realWidth&&(l.realWidth=null)}),i.length>0&&t){if(a.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=n){this.scrollX.value=!1;const l=n-r;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+l;else{const u=i.reduce((d,h)=>d+Number(h.minWidth||80),0),c=l/u;let f=0;i.forEach((d,h)=>{if(h===0)return;const p=Math.floor(Number(d.minWidth||80)*c);f+=p,d.realWidth=Number(d.minWidth||80)+p}),i[0].realWidth=Number(i[0].minWidth||80)+l-f}}else this.scrollX.value=!0,i.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const s=this.store.states.rightFixedColumns.value;if(s.length>0){let l=0;s.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var a,i;switch(t){case"columns":(a=r.state)==null||a.onColumnsChange(this);break;case"scrollable":(i=r.state)==null||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:j6e}=Pl,Y6e=se({name:"ElTableFilterPanel",components:{ElCheckbox:Pl,ElCheckboxGroup:j6e,ElScrollbar:Jc,ElTooltip:Hi,ElIcon:pt,ArrowDown:Zc,ArrowUp:nB},directives:{ClickOutside:Uf},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const t=jt(),{t:n}=_n(),r=ze("table-filter"),a=t==null?void 0:t.parent;a.filterPanels.value[e.column.id]||(a.filterPanels.value[e.column.id]=t);const i=Y(!1),o=Y(null),s=F(()=>e.column&&e.column.filters),l=F(()=>e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),u=F({get:()=>{var _;return(((_=e.column)==null?void 0:_.filteredValue)||[])[0]},set:_=>{c.value&&(typeof _<"u"&&_!==null?c.value.splice(0,1,_):c.value.splice(0,1))}}),c=F({get(){return e.column?e.column.filteredValue||[]:[]},set(_){e.column&&e.upDataColumn("filteredValue",_)}}),f=F(()=>e.column?e.column.filterMultiple:!0),d=_=>_.value===u.value,h=()=>{i.value=!1},p=_=>{_.stopPropagation(),i.value=!i.value},v=()=>{i.value=!1},g=()=>{b(c.value),h()},m=()=>{c.value=[],b(c.value),h()},y=_=>{u.value=_,b(typeof _<"u"&&_!==null?c.value:[]),h()},b=_=>{e.store.commit("filterChange",{column:e.column,values:_}),e.store.updateAllSelected()};Le(i,_=>{e.column&&e.upDataColumn("filterOpened",_)},{immediate:!0});const x=F(()=>{var _,S;return(S=(_=o.value)==null?void 0:_.popperRef)==null?void 0:S.contentRef});return{tooltipVisible:i,multiple:f,filterClassName:l,filteredValue:c,filterValue:u,filters:s,handleConfirm:g,handleReset:m,handleSelect:y,isActive:d,t:n,ns:r,showFilterPanel:p,hideFilterPanel:v,popperPaneRef:x,tooltip:o}}});function X6e(e,t,n,r,a,i){const o=Ft("el-checkbox"),s=Ft("el-checkbox-group"),l=Ft("el-scrollbar"),u=Ft("arrow-up"),c=Ft("arrow-down"),f=Ft("el-icon"),d=Ft("el-tooltip"),h=m_("click-outside");return z(),Ae(d,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:fe(()=>[e.multiple?(z(),q("div",{key:0},[Z("div",{class:G(e.ns.e("content"))},[ie(l,{"wrap-class":e.ns.e("wrap")},{default:fe(()=>[ie(s,{modelValue:e.filteredValue,"onUpdate:modelValue":p=>e.filteredValue=p,class:G(e.ns.e("checkbox-group"))},{default:fe(()=>[(z(!0),q(vt,null,un(e.filters,p=>(z(),Ae(o,{key:p.value,value:p.value},{default:fe(()=>[Kt(Ve(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),Z("div",{class:G(e.ns.e("bottom"))},[Z("button",{class:G({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},Ve(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),Z("button",{type:"button",onClick:e.handleReset},Ve(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(z(),q("ul",{key:1,class:G(e.ns.e("list"))},[Z("li",{class:G([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:p=>e.handleSelect(null)},Ve(e.t("el.table.clearFilter")),11,["onClick"]),(z(!0),q(vt,null,un(e.filters,p=>(z(),q("li",{key:p.value,class:G([e.ns.e("list-item"),e.ns.is("active",e.isActive(p))]),label:p.value,onClick:v=>e.handleSelect(p.value)},Ve(p.text),11,["label","onClick"]))),128))],2))]),default:fe(()=>[Vt((z(),q("span",{class:G([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[ie(f,null,{default:fe(()=>[Se(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(z(),Ae(u,{key:0})):(z(),Ae(c,{key:1}))])]),_:3})],10,["onClick"])),[[h,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var q6e=Ze(Y6e,[["render",X6e],["__file","filter-panel.vue"]]);function doe(e){const t=jt();iA(()=>{n.value.addObserver(t)}),zt(()=>{r(n.value),a(n.value)}),Xc(()=>{r(n.value),a(n.value)}),zu(()=>{n.value.removeObserver(t)});const n=F(()=>{const i=e.layout;if(!i)throw new Error("Can not find table layout.");return i}),r=i=>{var o;const s=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!s.length)return;const l=i.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,f=s.length;c<f;c++){const d=s[c],h=d.getAttribute("name"),p=u[h];p&&d.setAttribute("width",p.realWidth||p.width)}},a=i=>{var o,s;const l=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,f=l.length;c<f;c++)l[c].setAttribute("width",i.scrollY.value?i.gutterWidth:"0");const u=((s=e.vnode.el)==null?void 0:s.querySelectorAll("th.gutter"))||[];for(let c=0,f=u.length;c<f;c++){const d=u[c];d.style.width=i.scrollY.value?`${i.gutterWidth}px`:"0",d.style.display=i.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:a}}const ef=Symbol("ElTable");function Z6e(e,t){const n=jt(),r=ht(ef),a=v=>{v.stopPropagation()},i=(v,g)=>{!g.filters&&g.sortable?p(v,g,!1):g.filterable&&!g.sortable&&a(v),r==null||r.emit("header-click",g,v)},o=(v,g)=>{r==null||r.emit("header-contextmenu",g,v)},s=Y(null),l=Y(!1),u=Y({}),c=(v,g)=>{if(wn&&!(g.children&&g.children.length>0)&&s.value&&e.border){l.value=!0;const m=r;t("set-drag-visible",!0);const b=(m==null?void 0:m.vnode.el).getBoundingClientRect().left,x=n.vnode.el.querySelector(`th.${g.id}`),_=x.getBoundingClientRect(),S=_.left-b+30;Tl(x,"noclick"),u.value={startMouseLeft:v.clientX,startLeft:_.right-b,startColumnLeft:_.left-b,tableLeft:b};const C=m==null?void 0:m.refs.resizeProxy;C.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const k=E=>{const I=E.clientX-u.value.startMouseLeft,A=u.value.startLeft+I;C.style.left=`${Math.max(S,A)}px`},T=()=>{if(l.value){const{startColumnLeft:E,startLeft:I}=u.value,N=Number.parseInt(C.style.left,10)-E;g.width=g.realWidth=N,m==null||m.emit("header-dragend",g.width,I-E,g,v),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,s.value=null,u.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",T),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{bo(x,"noclick")},0)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",T)}},f=(v,g)=>{var m;if(g.children&&g.children.length>0)return;const y=v.target;if(!Hs(y))return;const b=y==null?void 0:y.closest("th");if(!(!g||!g.resizable||!b)&&!l.value&&e.border){const x=b.getBoundingClientRect(),_=document.body.style,S=((m=b.parentNode)==null?void 0:m.lastElementChild)===b;x.width>12&&x.right-v.pageX<8&&!S?(_.cursor="col-resize",xs(b,"is-sortable")&&(b.style.cursor="col-resize"),s.value=g):l.value||(_.cursor="",xs(b,"is-sortable")&&(b.style.cursor="pointer"),s.value=null)}},d=()=>{wn&&(document.body.style.cursor="")},h=({order:v,sortOrders:g})=>{if(v==="")return g[0];const m=g.indexOf(v||null);return g[m>g.length-2?0:m+1]},p=(v,g,m)=>{var y;v.stopPropagation();const b=g.order===m?null:m||h(g),x=(y=v.target)==null?void 0:y.closest("th");if(x&&xs(x,"noclick")){bo(x,"noclick");return}if(!g.sortable)return;const _=v.currentTarget;if(["ascending","descending"].some(E=>xs(_,E)&&!g.sortOrders.includes(E)))return;const S=e.store.states;let C=S.sortProp.value,k;const T=S.sortingColumn.value;(T!==g||T===g&&T.order===null)&&(T&&(T.order=null),S.sortingColumn.value=g,C=g.property),b?k=g.order=b:k=g.order=null,S.sortProp.value=C,S.sortOrder.value=k,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:o,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:p,handleFilterClick:a}}function J6e(e){const t=ht(ef),n=ze("table");return{getHeaderRowStyle:s=>{const l=t==null?void 0:t.props.headerRowStyle;return mt(l)?l.call(null,{rowIndex:s}):l},getHeaderRowClass:s=>{const l=[],u=t==null?void 0:t.props.headerRowClassName;return gt(u)?l.push(u):mt(u)&&l.push(u.call(null,{rowIndex:s})),l.join(" ")},getHeaderCellStyle:(s,l,u,c)=>{var f;let d=(f=t==null?void 0:t.props.headerCellStyle)!=null?f:{};mt(d)&&(d=d.call(null,{rowIndex:s,columnIndex:l,row:u,column:c}));const h=XB(l,c.fixed,e.store,u);return iy(h,"left"),iy(h,"right"),Object.assign({},d,h)},getHeaderCellClass:(s,l,u,c)=>{const f=YB(n.b(),l,c.fixed,e.store,u),d=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...f];c.children||d.push("is-leaf"),c.sortable&&d.push("is-sortable");const h=t==null?void 0:t.props.headerCellClassName;return gt(h)?d.push(h):mt(h)&&d.push(h.call(null,{rowIndex:s,columnIndex:l,row:u,column:c})),d.push(n.e("cell")),d.filter(p=>!!p).join(" ")}}}const hoe=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,hoe(n.children))):t.push(n)}),t},poe=e=>{let t=1;const n=(i,o)=>{if(o&&(i.level=o.level+1,t<i.level&&(t=i.level)),i.children){let s=0;i.children.forEach(l=>{n(l,i),s+=l.colSpan}),i.colSpan=s}else i.colSpan=1};e.forEach(i=>{i.level=1,n(i,void 0)});const r=[];for(let i=0;i<t;i++)r.push([]);return hoe(e).forEach(i=>{i.children?(i.rowSpan=1,i.children.forEach(o=>o.isSubColumn=!0)):i.rowSpan=t-i.level+1,r[i.level-1].push(i)}),r};function Q6e(e){const t=ht(ef),n=F(()=>poe(e.store.states.originColumns.value));return{isGroup:F(()=>{const i=n.value.length>1;return i&&t&&(t.state.isGroup.value=!0),i}),toggleAllSelection:i=>{i.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var e5e=se({name:"ElTableHeader",components:{ElCheckbox:Pl},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(e,{emit:t}){const n=jt(),r=ht(ef),a=ze("table"),i=Y({}),{onColumnsChange:o,onScrollableChange:s}=doe(r),l=(r==null?void 0:r.props.tableLayout)==="auto",u=Ln(new Map),c=Y(),f=()=>{setTimeout(()=>{u.size>0&&(u.forEach((E,I)=>{const A=c.value.querySelector(`.${I.replace(/\s/g,".")}`);if(A){const N=A.getBoundingClientRect().width;E.width=N}}),u.clear())})};Le(u,f),zt(async()=>{await xt(),await xt();const{prop:E,order:I}=e.defaultSort;r==null||r.store.commit("sort",{prop:E,order:I,init:!0}),f()});const{handleHeaderClick:d,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:v,handleMouseOut:g,handleSortClick:m,handleFilterClick:y}=Z6e(e,t),{getHeaderRowStyle:b,getHeaderRowClass:x,getHeaderCellStyle:_,getHeaderCellClass:S}=J6e(e),{isGroup:C,toggleAllSelection:k,columnRows:T}=Q6e(e);return n.state={onColumnsChange:o,onScrollableChange:s},n.filterPanels=i,{ns:a,filterPanels:i,onColumnsChange:o,onScrollableChange:s,columnRows:T,getHeaderRowClass:x,getHeaderRowStyle:b,getHeaderCellClass:S,getHeaderCellStyle:_,handleHeaderClick:d,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:v,handleMouseOut:g,handleSortClick:m,handleFilterClick:y,isGroup:C,toggleAllSelection:k,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:c,updateFixedColumnStyle:f}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:a,getHeaderRowClass:i,getHeaderRowStyle:o,handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:f,handleMouseOut:d,store:h,$parent:p,saveIndexSelection:v,isTableLayoutAuto:g}=this;let m=1;return Ct("thead",{ref:"theadRef",class:{[e.is("group")]:t}},n.map((y,b)=>Ct("tr",{class:i(b),key:b,style:o(b)},y.map((x,_)=>{x.rowSpan>m&&(m=x.rowSpan);const S=a(b,_,y,x);return g&&x.fixed&&v.set(S,x),Ct("th",{class:S,colspan:x.colSpan,key:`${x.id}-thead`,rowspan:x.rowSpan,style:r(b,_,y,x),onClick:C=>{C.currentTarget.classList.contains("noclick")||s(C,x)},onContextmenu:C=>l(C,x),onMousedown:C=>u(C,x),onMousemove:C=>c(C,x),onMouseout:d},[Ct("div",{class:["cell",x.filteredValue&&x.filteredValue.length>0?"highlight":""]},[x.renderHeader?x.renderHeader({column:x,$index:_,store:h,_self:p}):x.label,x.sortable&&Ct("span",{onClick:C=>f(C,x),class:"caret-wrapper"},[Ct("i",{onClick:C=>f(C,x,"ascending"),class:"sort-caret ascending"}),Ct("i",{onClick:C=>f(C,x,"descending"),class:"sort-caret descending"})]),x.filterable&&Ct(q6e,{store:h,placement:x.filterPlacement||"bottom-start",appendTo:p.appendFilterPanelTo,column:x,upDataColumn:(C,k)=>{x[C]=k}},{"filter-icon":()=>x.renderFilterIcon?x.renderFilterIcon({filterOpened:x.filterOpened}):null})])])}))))}});function zR(e,t,n=.03){return e-t>n}function t5e(e){const t=ht(ef),n=Y(""),r=Y(Ct("div")),a=(p,v,g)=>{var m;const y=t,b=VR(p);let x;const _=(m=y==null?void 0:y.vnode.el)==null?void 0:m.dataset.prefix;b&&(x=qG({columns:e.store.states.columns.value},b,_),x&&(y==null||y.emit(`cell-${g}`,v,x,b,p))),y==null||y.emit(`row-${g}`,v,x,p)},i=(p,v)=>{a(p,v,"dblclick")},o=(p,v)=>{e.store.commit("setCurrentRow",v),a(p,v,"click")},s=(p,v)=>{a(p,v,"contextmenu")},l=Cs(p=>{e.store.commit("setHoverRow",p)},30),u=Cs(()=>{e.store.commit("setHoverRow",null)},30),c=p=>{const v=window.getComputedStyle(p,null),g=Number.parseInt(v.paddingLeft,10)||0,m=Number.parseInt(v.paddingRight,10)||0,y=Number.parseInt(v.paddingTop,10)||0,b=Number.parseInt(v.paddingBottom,10)||0;return{left:g,right:m,top:y,bottom:b}},f=(p,v,g)=>{let m=v.target.parentNode;for(;p>1&&(m=m==null?void 0:m.nextSibling,!(!m||m.nodeName!=="TR"));)g(m,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:i,handleClick:o,handleContextMenu:s,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,v,g)=>{var m;const y=t,b=VR(p),x=(m=y==null?void 0:y.vnode.el)==null?void 0:m.dataset.prefix;if(b){const P=qG({columns:e.store.states.columns.value},b,x);b.rowSpan>1&&f(b.rowSpan,p,Tl);const O=y.hoverState={cell:b,column:P,row:v};y==null||y.emit("cell-mouse-enter",O.row,O.column,O.cell,p)}if(!g)return;const _=p.target.querySelector(".cell");if(!(xs(_,`${x}-tooltip`)&&_.childNodes.length))return;const S=document.createRange();S.setStart(_,0),S.setEnd(_,_.childNodes.length);const{width:C,height:k}=S.getBoundingClientRect(),{width:T,height:E}=_.getBoundingClientRect(),{top:I,left:A,right:N,bottom:L}=c(_),R=A+N,D=I+L;(zR(C+R,T)||zR(k+D,E)||zR(_.scrollWidth,T))&&P6e(g,b.innerText||b.textContent,b,y)},handleCellMouseLeave:p=>{const v=VR(p);if(!v)return;v.rowSpan>1&&f(v.rowSpan,p,bo);const g=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",g==null?void 0:g.row,g==null?void 0:g.column,g==null?void 0:g.cell,p)},tooltipContent:n,tooltipTrigger:r}}function n5e(e){const t=ht(ef),n=ze("table");return{getRowStyle:(u,c)=>{const f=t==null?void 0:t.props.rowStyle;return mt(f)?f.call(null,{row:u,rowIndex:c}):f||null},getRowClass:(u,c)=>{const f=[n.e("row")];t!=null&&t.props.highlightCurrentRow&&u===e.store.states.currentRow.value&&f.push("current-row"),e.stripe&&c%2===1&&f.push(n.em("row","striped"));const d=t==null?void 0:t.props.rowClassName;return gt(d)?f.push(d):mt(d)&&f.push(d.call(null,{row:u,rowIndex:c})),f},getCellStyle:(u,c,f,d)=>{const h=t==null?void 0:t.props.cellStyle;let p=h??{};mt(h)&&(p=h.call(null,{rowIndex:u,columnIndex:c,row:f,column:d}));const v=XB(c,e==null?void 0:e.fixed,e.store);return iy(v,"left"),iy(v,"right"),Object.assign({},p,v)},getCellClass:(u,c,f,d,h)=>{const p=YB(n.b(),c,e==null?void 0:e.fixed,e.store,void 0,h),v=[d.id,d.align,d.className,...p],g=t==null?void 0:t.props.cellClassName;return gt(g)?v.push(g):mt(g)&&v.push(g.call(null,{rowIndex:u,columnIndex:c,row:f,column:d})),v.push(n.e("cell")),v.filter(m=>!!m).join(" ")},getSpan:(u,c,f,d)=>{let h=1,p=1;const v=t==null?void 0:t.props.spanMethod;if(mt(v)){const g=v({row:u,column:c,rowIndex:f,columnIndex:d});Ke(g)?(h=g[0],p=g[1]):typeof g=="object"&&(h=g.rowspan,p=g.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(u,c,f)=>{if(c<1)return u[f].realWidth;const d=u.map(({realWidth:h,width:p})=>h||p).slice(f,f+c);return Number(d.reduce((h,p)=>Number(h)+Number(p),-1))}}}const r5e=se({name:"TableTdWrapper"}),a5e=se({...r5e,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(z(),q("td",{colspan:e.colspan,rowspan:e.rowspan},[Se(t.$slots,"default")],8,["colspan","rowspan"]))}});var i5e=Ze(a5e,[["__file","td-wrapper.vue"]]);function o5e(e){const t=ht(ef),n=ze("table"),{handleDoubleClick:r,handleClick:a,handleContextMenu:i,handleMouseEnter:o,handleMouseLeave:s,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:f}=t5e(e),{getRowStyle:d,getRowClass:h,getCellStyle:p,getCellClass:v,getSpan:g,getColspanRealWidth:m}=n5e(e),y=F(()=>e.store.states.columns.value.findIndex(({type:C})=>C==="default")),b=(C,k)=>{const T=t.props.rowKey;return T?po(C,T):k},x=(C,k,T,E=!1)=>{const{tooltipEffect:I,tooltipOptions:A,store:N}=e,{indent:L,columns:R}=N.states,D=h(C,k);let P=!0;return T&&(D.push(n.em("row",`level-${T.level}`)),P=T.display),Ct("tr",{style:[P?null:{display:"none"},d(C,k)],class:D,key:b(C,k),onDblclick:M=>r(M,C),onClick:M=>a(M,C),onContextmenu:M=>i(M,C),onMouseenter:()=>o(k),onMouseleave:s},R.value.map((M,W)=>{const{rowspan:U,colspan:V}=g(C,M,k,W);if(!U||!V)return null;const H=Object.assign({},M);H.realWidth=m(R.value,V,W);const K={store:e.store,_self:e.context||t,column:H,row:C,$index:k,cellIndex:W,expanded:E};W===y.value&&T&&(K.treeNode={indent:T.level*L.value,level:T.level},lr(T.expanded)&&(K.treeNode.expanded=T.expanded,"loading"in T&&(K.treeNode.loading=T.loading),"noLazyChildren"in T&&(K.treeNode.noLazyChildren=T.noLazyChildren)));const j=`${b(C,k)},${W}`,ne=H.columnKey||H.rawColumnKey||"",Q=M.showOverflowTooltip&&_re({effect:I},A,M.showOverflowTooltip);return Ct(i5e,{style:p(k,W,C,M),class:v(k,W,C,M,V-1),key:`${ne}${j}`,rowspan:U,colspan:V,onMouseenter:oe=>l(oe,C,Q),onMouseleave:u},{default:()=>_(W,M,K)})}))},_=(C,k,T)=>k.renderCell(T);return{wrappedRowRender:(C,k)=>{const T=e.store,{isRowExpanded:E,assertRowKey:I}=T,{treeData:A,lazyTreeNodeMap:N,childrenColumnName:L,rowKey:R}=T.states,D=T.states.columns.value;if(D.some(({type:O})=>O==="expand")){const O=E(C),M=x(C,k,void 0,O),W=t.renderExpanded;return O?W?[[M,Ct("tr",{key:`expanded-row__${M.key}`},[Ct("td",{colspan:D.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[W({row:C,$index:k,store:T,expanded:O})])])]]:(console.error("[Element Error]renderExpanded is required."),M):[[M]]}else if(Object.keys(A.value).length){I();const O=po(C,R.value);let M=A.value[O],W=null;M&&(W={expanded:M.expanded,level:M.level,display:!0},lr(M.lazy)&&(lr(M.loaded)&&M.loaded&&(W.noLazyChildren=!(M.children&&M.children.length)),W.loading=M.loading));const U=[x(C,k,W)];if(M){let V=0;const H=(j,ne)=>{j&&j.length&&ne&&j.forEach(Q=>{const oe={display:ne.display&&ne.expanded,level:ne.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ae=po(Q,R.value);if(ae==null)throw new Error("For nested data item, row-key is required.");if(M={...A.value[ae]},M&&(oe.expanded=M.expanded,M.level=M.level||oe.level,M.display=!!(M.expanded&&oe.display),lr(M.lazy)&&(lr(M.loaded)&&M.loaded&&(oe.noLazyChildren=!(M.children&&M.children.length)),oe.loading=M.loading)),V++,U.push(x(Q,k+V,oe)),M){const me=N.value[ae]||Q[L.value];H(me,M)}})};M.display=!0;const K=N.value[O]||C[L.value];H(K,M)}return U}else return x(C,k,void 0)},tooltipContent:c,tooltipTrigger:f}}const s5e={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var l5e=se({name:"ElTableBody",props:s5e,setup(e){const t=jt(),n=ht(ef),r=ze("table"),{wrappedRowRender:a,tooltipContent:i,tooltipTrigger:o}=o5e(e),{onColumnsChange:s,onScrollableChange:l}=doe(n),u=[];return Le(e.store.states.hoverRow,(c,f)=>{var d;const h=t==null?void 0:t.vnode.el,p=Array.from((h==null?void 0:h.children)||[]).filter(m=>m==null?void 0:m.classList.contains(`${r.e("row")}`));let v=c;const g=(d=p[v])==null?void 0:d.childNodes;if(g!=null&&g.length){let m=0;Array.from(g).reduce((b,x,_)=>{var S,C;return((S=g[_])==null?void 0:S.colSpan)>1&&(m=(C=g[_])==null?void 0:C.colSpan),x.nodeName!=="TD"&&m===0&&b.push(_),m>0&&m--,b},[]).forEach(b=>{var x;for(v=c;v>0;){const _=(x=p[v-1])==null?void 0:x.childNodes;if(_[b]&&_[b].nodeName==="TD"&&_[b].rowSpan>1){Tl(_[b],"hover-cell"),u.push(_[b]);break}v--}})}else u.forEach(m=>bo(m,"hover-cell")),u.length=0;!e.store.states.isComplex.value||!wn||kh(()=>{const m=p[f],y=p[c];m&&!m.classList.contains("hover-fixed-row")&&bo(m,"hover-row"),y&&Tl(y,"hover-row")})}),zu(()=>{var c;(c=ll)==null||c()}),{ns:r,onColumnsChange:s,onScrollableChange:l,wrappedRowRender:a,tooltipContent:i,tooltipTrigger:o}},render(){const{wrappedRowRender:e,store:t}=this,n=t.states.data.value||[];return Ct("tbody",{tabIndex:-1},[n.reduce((r,a)=>r.concat(e(a,r.length)),[])])}});function u5e(){const e=ht(ef),t=e==null?void 0:e.store,n=F(()=>t.states.fixedLeafColumnsLength.value),r=F(()=>t.states.rightFixedColumns.value.length),a=F(()=>t.states.columns.value.length),i=F(()=>t.states.fixedColumns.value.length),o=F(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:a,leftFixedCount:i,rightFixedCount:o,columns:t.states.columns}}function c5e(e){const{columns:t}=u5e(),n=ze("table");return{getCellClasses:(i,o)=>{const s=i[o],l=[n.e("cell"),s.id,s.align,s.labelClassName,...YB(n.b(),o,s.fixed,e.store)];return s.className&&l.push(s.className),s.children||l.push(n.is("leaf")),l},getCellStyles:(i,o)=>{const s=XB(o,i.fixed,e.store);return iy(s,"left"),iy(s,"right"),s},columns:t}}var f5e=se({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=c5e(e);return{ns:ze("table"),getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:a}=this,i=this.store.states.data.value;let o=[];return r?o=r({columns:e,data:i}):e.forEach((s,l)=>{if(l===0){o[l]=a;return}const u=i.map(h=>Number(h[s.property])),c=[];let f=!0;u.forEach(h=>{if(!Number.isNaN(+h)){f=!1;const p=`${h}`.split(".")[1];c.push(p?p.length:0)}});const d=Math.max.apply(null,c);f?o[l]="":o[l]=u.reduce((h,p)=>{const v=Number(p);return Number.isNaN(+v)?h:Number.parseFloat((h+p).toFixed(Math.min(d,20)))},0)}),Ct(Ct("tfoot",[Ct("tr",{},[...e.map((s,l)=>Ct("td",{key:l,colspan:s.colSpan,rowspan:s.rowSpan,class:n(e,l),style:t(s,l)},[Ct("div",{class:["cell",s.labelClassName]},[o[l]])]))])]))}});function d5e(e){return{setCurrentRow:f=>{e.commit("setCurrentRow",f)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(f,d,h=!0)=>{e.toggleRowSelection(f,d,!1,h),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:f=>{e.clearFilter(f)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(f,d)=>{e.toggleRowExpansionAdapter(f,d)},clearSort:()=>{e.clearSort()},sort:(f,d)=>{e.commit("sort",{prop:f,order:d})},updateKeyChildren:(f,d)=>{e.updateKeyChildren(f,d)}}}function h5e(e,t,n,r){const a=Y(!1),i=Y(null),o=Y(!1),s=O=>{o.value=O},l=Y({width:null,height:null,headerHeight:null}),u=Y(!1),c={display:"inline-block",verticalAlign:"middle"},f=Y(),d=Y(0),h=Y(0),p=Y(0),v=Y(0),g=Y(0);Pi(()=>{t.setHeight(e.height)}),Pi(()=>{t.setMaxHeight(e.maxHeight)}),Le(()=>[e.currentRowKey,n.states.rowKey],([O,M])=>{!w(M)||!w(O)||n.setCurrentRowKey(`${O}`)},{immediate:!0}),Le(()=>e.data,O=>{r.store.commit("setData",O)},{immediate:!0,deep:!0}),Pi(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const m=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(O,M)=>{const{pixelX:W,pixelY:U}=M;Math.abs(W)>=Math.abs(U)&&(r.refs.bodyWrapper.scrollLeft+=M.pixelX/5)},b=F(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),x=F(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),_=()=>{b.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(T)};zt(async()=>{await xt(),n.updateColumns(),E(),requestAnimationFrame(_);const O=r.vnode.el,M=r.refs.headerWrapper;e.flexible&&O&&O.parentElement&&(O.parentElement.style.minWidth="0"),l.value={width:f.value=O.offsetWidth,height:O.offsetHeight,headerHeight:e.showHeader&&M?M.offsetHeight:null},n.states.columns.value.forEach(W=>{W.filteredValue&&W.filteredValue.length&&r.store.commit("filterChange",{column:W,values:W.filteredValue,silent:!0})}),r.$ready=!0});const S=(O,M)=>{if(!O)return;const W=Array.from(O.classList).filter(U=>!U.startsWith("is-scrolling-"));W.push(t.scrollX.value?M:"is-scrolling-none"),O.className=W.join(" ")},C=O=>{const{tableWrapper:M}=r.refs;S(M,O)},k=O=>{const{tableWrapper:M}=r.refs;return!!(M&&M.classList.contains(O))},T=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const j="is-scrolling-none";k(j)||C(j);return}const O=r.refs.scrollBarRef.wrapRef;if(!O)return;const{scrollLeft:M,offsetWidth:W,scrollWidth:U}=O,{headerWrapper:V,footerWrapper:H}=r.refs;V&&(V.scrollLeft=M),H&&(H.scrollLeft=M);const K=U-W-1;M>=K?C("is-scrolling-right"):C(M===0?"is-scrolling-left":"is-scrolling-middle")},E=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Zn(r.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),e.fit?Mr(r.vnode.el,I):Zn(window,"resize",I),Mr(r.refs.bodyWrapper,()=>{var O,M;I(),(M=(O=r.refs)==null?void 0:O.scrollBarRef)==null||M.update()}))},I=()=>{var O,M,W,U;const V=r.vnode.el;if(!r.$ready||!V)return;let H=!1;const{width:K,height:j,headerHeight:ne}=l.value,Q=f.value=V.offsetWidth;K!==Q&&(H=!0);const oe=V.offsetHeight;(e.height||b.value)&&j!==oe&&(H=!0);const ae=e.tableLayout==="fixed"?r.refs.headerWrapper:(O=r.refs.tableHeaderRef)==null?void 0:O.$el;e.showHeader&&(ae==null?void 0:ae.offsetHeight)!==ne&&(H=!0),d.value=((M=r.refs.tableWrapper)==null?void 0:M.scrollHeight)||0,p.value=(ae==null?void 0:ae.scrollHeight)||0,v.value=((W=r.refs.footerWrapper)==null?void 0:W.offsetHeight)||0,g.value=((U=r.refs.appendWrapper)==null?void 0:U.offsetHeight)||0,h.value=d.value-p.value-v.value-g.value,H&&(l.value={width:Q,height:oe,headerHeight:e.showHeader&&(ae==null?void 0:ae.offsetHeight)||0},_())},A=pa(),N=F(()=>{const{bodyWidth:O,scrollY:M,gutterWidth:W}=t;return O.value?`${O.value-(M.value?W:0)}px`:""}),L=F(()=>e.maxHeight?"fixed":e.tableLayout),R=F(()=>{if(e.data&&e.data.length)return null;let O="100%";e.height&&h.value&&(O=`${h.value}px`);const M=f.value;return{width:M?`${M}px`:"",height:O}}),D=F(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${p.value+v.value}px)`}:{maxHeight:`${e.maxHeight-p.value-v.value}px`}:{});return{isHidden:a,renderExpanded:i,setDragVisible:s,isGroup:u,handleMouseLeave:m,handleHeaderFooterMousewheel:y,tableSize:A,emptyBlockStyle:R,handleFixedMousewheel:(O,M)=>{const W=r.refs.bodyWrapper;if(Math.abs(M.spinY)>0){const U=W.scrollTop;M.pixelY<0&&U!==0&&O.preventDefault(),M.pixelY>0&&W.scrollHeight-W.clientHeight>U&&O.preventDefault(),W.scrollTop+=Math.ceil(M.pixelY/5)}else W.scrollLeft+=Math.ceil(M.pixelX/5)},resizeProxyVisible:o,bodyWidth:N,resizeState:l,doLayout:_,tableBodyStyles:x,tableLayout:L,scrollbarViewStyle:c,scrollbarStyle:D}}function p5e(e){const t=Y(),n=()=>{const a=e.vnode.el.querySelector(".hidden-columns"),i={childList:!0,subtree:!0},o=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{o.forEach(s=>s())}),t.value.observe(a,i)};zt(()=>{n()}),zu(()=>{var r;(r=t.value)==null||r.disconnect()})}var v5e={data:{type:Array,default:()=>[]},size:xa,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function voe(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(a=>a.width===void 0)&&(n=[]);const r=a=>{const i={key:`${e.tableLayout}_${a.id}`,style:{},name:void 0};return t?i.style={width:`${a.width}px`}:i.name=a.id,i};return Ct("colgroup",{},n.map(a=>Ct("col",r(a))))}voe.props=["columns","tableLayout"];const g5e=()=>{const e=Y(),t=(i,o)=>{const s=e.value;s&&s.scrollTo(i,o)},n=(i,o)=>{const s=e.value;s&&Tt(o)&&["Top","Left"].includes(i)&&s[`setScroll${i}`](o)};return{scrollBarRef:e,scrollTo:t,setScrollTop:i=>n("Top",i),setScrollLeft:i=>n("Left",i)}};var e9=!1,sv,JO,QO,XT,qT,goe,ZT,eP,tP,nP,moe,rP,aP,yoe,boe;function fs(){if(!e9){e9=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(rP=/\b(iPhone|iP[ao]d)/.exec(e),aP=/\b(iP[ao]d)/.exec(e),nP=/Android/i.exec(e),yoe=/FBAN\/\w+;/i.exec(e),boe=/Mobile/i.exec(e),moe=!!/Win64/.exec(e),t){sv=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,sv&&document&&document.documentMode&&(sv=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);goe=r?parseFloat(r[1])+4:sv,JO=t[2]?parseFloat(t[2]):NaN,QO=t[3]?parseFloat(t[3]):NaN,XT=t[4]?parseFloat(t[4]):NaN,XT?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),qT=t&&t[1]?parseFloat(t[1]):NaN):qT=NaN}else sv=JO=QO=qT=XT=NaN;if(n){if(n[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);ZT=a?parseFloat(a[1].replace("_",".")):!0}else ZT=!1;eP=!!n[2],tP=!!n[3]}else ZT=eP=tP=!1}}var iP={ie:function(){return fs()||sv},ieCompatibilityMode:function(){return fs()||goe>sv},ie64:function(){return iP.ie()&&moe},firefox:function(){return fs()||JO},opera:function(){return fs()||QO},webkit:function(){return fs()||XT},safari:function(){return iP.webkit()},chrome:function(){return fs()||qT},windows:function(){return fs()||eP},osx:function(){return fs()||ZT},linux:function(){return fs()||tP},iphone:function(){return fs()||rP},mobile:function(){return fs()||rP||aP||nP||boe},nativeApp:function(){return fs()||yoe},android:function(){return fs()||nP},ipad:function(){return fs()||aP}},m5e=iP,YC=!!(typeof window<"u"&&window.document&&window.document.createElement),y5e={canUseDOM:YC,canUseWorkers:typeof Worker<"u",canUseEventListeners:YC&&!!(window.addEventListener||window.attachEvent),canUseViewport:YC&&!!window.screen,isInWorker:!YC},xoe=y5e,woe;xoe.canUseDOM&&(woe=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function b5e(e,t){if(!xoe.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r=typeof a[n]=="function"}return!r&&woe&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var x5e=b5e,t9=10,n9=40,r9=800;function _oe(e){var t=0,n=0,r=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*t9,a=n*t9,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||a)&&e.deltaMode&&(e.deltaMode==1?(r*=n9,a*=n9):(r*=r9,a*=r9)),r&&!t&&(t=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:a}}_oe.getEventType=function(){return m5e.firefox()?"DOMMouseScroll":x5e("wheel")?"wheel":"mousewheel"};var w5e=_oe;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const _5e=function(e,t){if(e&&e.addEventListener){const n=function(r){const a=w5e(r);t&&Reflect.apply(t,this,[r,a])};e.addEventListener("wheel",n,{passive:!0})}},S5e={beforeMount(e,t){_5e(e,t.value)}};let C5e=1;const T5e=se({name:"ElTable",directives:{Mousewheel:S5e},components:{TableHeader:e5e,TableBody:l5e,TableFooter:f5e,ElScrollbar:Jc,hColgroup:voe},props:v5e,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=_n(),n=ze("table"),r=jt();hn(ef,r);const a=U6e(r,e);r.store=a;const i=new K6e({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=i;const o=F(()=>(a.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,sort:v,updateKeyChildren:g}=d5e(a),{isHidden:m,renderExpanded:y,setDragVisible:b,isGroup:x,handleMouseLeave:_,handleHeaderFooterMousewheel:S,tableSize:C,emptyBlockStyle:k,handleFixedMousewheel:T,resizeProxyVisible:E,bodyWidth:I,resizeState:A,doLayout:N,tableBodyStyles:L,tableLayout:R,scrollbarViewStyle:D,scrollbarStyle:P}=h5e(e,i,a,r),{scrollBarRef:O,scrollTo:M,setScrollLeft:W,setScrollTop:U}=g5e(),V=Cs(N,50),H=`${n.namespace.value}-table_${C5e++}`;r.tableId=H,r.state={isGroup:x,resizeState:A,doLayout:N,debouncedUpdateLayout:V};const K=F(()=>{var Q;return(Q=e.sumText)!=null?Q:t("el.table.sumText")}),j=F(()=>{var Q;return(Q=e.emptyText)!=null?Q:t("el.table.emptyText")}),ne=F(()=>poe(a.states.originColumns.value)[0]);return p5e(r),ar(()=>{V.cancel()}),{ns:n,layout:i,store:a,columns:ne,handleHeaderFooterMousewheel:S,handleMouseLeave:_,tableId:H,tableSize:C,isHidden:m,isEmpty:o,renderExpanded:y,resizeProxyVisible:E,resizeState:A,isGroup:x,bodyWidth:I,tableBodyStyles:L,emptyBlockStyle:k,debouncedUpdateLayout:V,handleFixedMousewheel:T,setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,doLayout:N,sort:v,updateKeyChildren:g,t,setDragVisible:b,context:r,computedSumText:K,computedEmptyText:j,tableLayout:R,scrollbarViewStyle:D,scrollbarStyle:P,scrollBarRef:O,scrollTo:M,setScrollLeft:W,setScrollTop:U}}});function k5e(e,t,n,r,a,i){const o=Ft("hColgroup"),s=Ft("table-header"),l=Ft("table-body"),u=Ft("table-footer"),c=Ft("el-scrollbar"),f=m_("mousewheel");return z(),q("div",{ref:"tableWrapper",class:G([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:yt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[Z("div",{class:G(e.ns.e("inner-wrapper"))},[Z("div",{ref:"hiddenColumns",class:"hidden-columns"},[Se(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Vt((z(),q("div",{key:0,ref:"headerWrapper",class:G(e.ns.e("header-wrapper"))},[Z("table",{ref:"tableHeader",class:G(e.ns.e("header")),style:yt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ie(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ie(s,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[f,e.handleHeaderFooterMousewheel]]):Te("v-if",!0),Z("div",{ref:"bodyWrapper",class:G(e.ns.e("body-wrapper"))},[ie(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,onScroll:d=>e.$emit("scroll",d)},{default:fe(()=>[Z("table",{ref:"tableBody",class:G(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:yt({width:e.bodyWidth,tableLayout:e.tableLayout})},[ie(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(z(),Ae(s,{key:0,ref:"tableHeaderRef",class:G(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Te("v-if",!0),ie(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(z(),Ae(u,{key:1,class:G(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Te("v-if",!0)],6),e.isEmpty?(z(),q("div",{key:0,ref:"emptyBlock",style:yt(e.emptyBlockStyle),class:G(e.ns.e("empty-block"))},[Z("span",{class:G(e.ns.e("empty-text"))},[Se(e.$slots,"empty",{},()=>[Kt(Ve(e.computedEmptyText),1)])],2)],6)):Te("v-if",!0),e.$slots.append?(z(),q("div",{key:1,ref:"appendWrapper",class:G(e.ns.e("append-wrapper"))},[Se(e.$slots,"append")],2)):Te("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),e.showSummary&&e.tableLayout==="fixed"?Vt((z(),q("div",{key:1,ref:"footerWrapper",class:G(e.ns.e("footer-wrapper"))},[Z("table",{class:G(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:yt(e.tableBodyStyles)},[ie(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ie(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[En,!e.isEmpty],[f,e.handleHeaderFooterMousewheel]]):Te("v-if",!0),e.border||e.isGroup?(z(),q("div",{key:2,class:G(e.ns.e("border-left-patch"))},null,2)):Te("v-if",!0)],2),Vt(Z("div",{ref:"resizeProxy",class:G(e.ns.e("column-resize-proxy"))},null,2),[[En,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var I5e=Ze(T5e,[["render",k5e],["__file","table.vue"]]);const E5e={selection:"table-column--selection",expand:"table__expand-column"},A5e={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},D5e=e=>E5e[e]||"",N5e={selection:{renderHeader({store:e,column:t}){function n(){return e.states.data.value&&e.states.data.value.length===0}return Ct(Pl,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:n,$index:r}){return Ct(Pl,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:a=>a.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return Tt(r)?n=t+r:mt(r)&&(n=r(t)),Ct("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,a=[r.e("expand-icon")];return n&&a.push(r.em("expand-icon","expanded")),Ct("div",{class:a,onClick:function(o){o.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[Ct(pt,null,{default:()=>[Ct(Yo)]})]})},sortable:!1,resizable:!1}};function R5e({row:e,column:t,$index:n}){var r;const a=t.property,i=a&&NT(e,a).value;return t&&t.formatter?t.formatter(e,t,i,n):((r=i==null?void 0:i.toString)==null?void 0:r.call(i))||""}function M5e({row:e,treeNode:t,store:n},r=!1){const{ns:a}=n;if(!t)return r?[Ct("span",{class:a.e("placeholder")})]:null;const i=[],o=function(s){s.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&i.push(Ct("span",{class:a.e("indent"),style:{"padding-left":`${t.indent}px`}})),lr(t.expanded)&&!t.noLazyChildren){const s=[a.e("expand-icon"),t.expanded?a.em("expand-icon","expanded"):""];let l=Yo;t.loading&&(l=Mu),i.push(Ct("div",{class:s,onClick:o},{default:()=>[Ct(pt,{class:{[a.is("loading")]:t.loading}},{default:()=>[Ct(l)]})]}))}else i.push(Ct("span",{class:a.e("placeholder")}));return i}function a9(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function $5e(e,t){const n=jt();return{registerComplexWatchers:()=>{const i=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},s=a9(i,o);Object.keys(s).forEach(l=>{const u=o[l];Dn(t,u)&&Le(()=>t[u],c=>{let f=c;u==="width"&&l==="realWidth"&&(f=jB(c)),u==="minWidth"&&l==="realMinWidth"&&(f=soe(c)),n.columnConfig.value[u]=f,n.columnConfig.value[l]=f;const d=u==="fixed";e.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const i=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},s=a9(i,o);Object.keys(s).forEach(l=>{const u=o[l];Dn(t,u)&&Le(()=>t[u],c=>{n.columnConfig.value[l]=c})})}}}function L5e(e,t,n){const r=jt(),a=Y(""),i=Y(!1),o=Y(),s=Y(),l=ze("table");Pi(()=>{o.value=e.align?`is-${e.align}`:null,o.value}),Pi(()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:o.value,s.value});const u=F(()=>{let x=r.vnode.vParent||r.parent;for(;x&&!x.tableId&&!x.columnId;)x=x.vnode.vParent||x.parent;return x}),c=F(()=>{const{store:x}=r.parent;if(!x)return!1;const{treeData:_}=x.states,S=_.value;return S&&Object.keys(S).length>0}),f=Y(jB(e.width)),d=Y(soe(e.minWidth)),h=x=>(f.value&&(x.width=f.value),d.value&&(x.minWidth=d.value),!f.value&&d.value&&(x.width=void 0),x.minWidth||(x.minWidth=80),x.realWidth=Number(x.width===void 0?x.minWidth:x.width),x),p=x=>{const _=x.type,S=N5e[_]||{};Object.keys(S).forEach(k=>{const T=S[k];k!=="className"&&T!==void 0&&(x[k]=T)});const C=D5e(_);if(C){const k=`${w(l.namespace)}-${C}`;x.className=x.className?`${x.className} ${k}`:k}return x},v=x=>{Ke(x)?x.forEach(S=>_(S)):_(x);function _(S){var C;((C=S==null?void 0:S.type)==null?void 0:C.name)==="ElTableColumn"&&(S.vParent=r)}};return{columnId:a,realAlign:o,isSubColumn:i,realHeaderAlign:s,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:x=>{e.renderHeader||x.type!=="selection"&&(x.renderHeader=S=>(r.columnConfig.value.label,Se(t,"header",S,()=>[x.label]))),t["filter-icon"]&&(x.renderFilterIcon=S=>Se(t,"filter-icon",S));let _=x.renderCell;return x.type==="expand"?(x.renderCell=S=>Ct("div",{class:"cell"},[_(S)]),n.value.renderExpanded=S=>t.default?t.default(S):t.default):(_=_||R5e,x.renderCell=S=>{let C=null;if(t.default){const N=t.default(S);C=N.some(L=>L.type!==ti)?N:_(S)}else C=_(S);const{columns:k}=n.value.store.states,T=k.value.findIndex(N=>N.type==="default"),E=c.value&&S.cellIndex===T,I=M5e(S,E),A={class:"cell",style:{}};return x.showOverflowTooltip&&(A.class=`${A.class} ${w(l.namespace)}-tooltip`,A.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),v(C),Ct("div",A,[I,C])}),x},getPropsData:(...x)=>x.reduce((_,S)=>(Ke(S)&&S.forEach(C=>{_[C]=e[C]}),_),{}),getColumnElIndex:(x,_)=>Array.prototype.indexOf.call(x,_),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var O5e={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let P5e=1;var Soe=se({name:"ElTableColumn",components:{ElCheckbox:Pl},props:O5e,setup(e,{slots:t}){const n=jt(),r=Y({}),a=F(()=>{let b=n.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:i,registerComplexWatchers:o}=$5e(a,e),{columnId:s,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:f,setColumnForcedProps:d,setColumnRenders:h,getPropsData:p,getColumnElIndex:v,realAlign:g,updateColumnOrder:m}=L5e(e,t,a),y=c.value;s.value=`${y.tableId||y.columnId}_column_${P5e++}`,iA(()=>{l.value=a.value!==y;const b=e.type||"default",x=e.sortable===""?!0:e.sortable,_=qn(e.showOverflowTooltip)?y.props.showOverflowTooltip:e.showOverflowTooltip,S={...A5e[b],id:s.value,type:b,property:e.prop||e.property,align:g,headerAlign:u,showOverflowTooltip:_,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:x,index:e.index,rawColumnKey:n.vnode.key};let I=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);I=M6e(S,I),I=L6e(h,f,d)(I),r.value=I,i(),o()}),zt(()=>{var b;const x=c.value,_=l.value?x.vnode.el.children:(b=x.refs.hiddenColumns)==null?void 0:b.children,S=()=>v(_||[],n.vnode.el);r.value.getColumnIndex=S,S()>-1&&a.value.store.commit("insertColumn",r.value,l.value?x.columnConfig.value:null,m)}),ar(()=>{const b=r.value.getColumnIndex;(b?b():-1)>-1&&a.value.store.commit("removeColumn",r.value,l.value?y.columnConfig.value:null,m)}),n.columnId=s.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),a=[];if(Ke(r))for(const o of r)((n=o.type)==null?void 0:n.name)==="ElTableColumn"||o.shapeFlag&2?a.push(o):o.type===vt&&Ke(o.children)&&o.children.forEach(s=>{(s==null?void 0:s.patchFlag)!==1024&&!gt(s==null?void 0:s.children)&&a.push(s)});return Ct("div",a)}catch{return Ct("div",[])}}});const F5e=Bt(I5e,{TableColumn:Soe}),B5e=Ur(Soe);var lw=(e=>(e.ASC="asc",e.DESC="desc",e))(lw||{}),uw=(e=>(e.CENTER="center",e.RIGHT="right",e))(uw||{}),Coe=(e=>(e.LEFT="left",e.RIGHT="right",e))(Coe||{});const oP={asc:"desc",desc:"asc"},cw=Symbol("placeholder"),V5e=(e,t,n)=>{var r;const a={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(a.flexShrink=1);const i={...(r=e.style)!=null?r:{},...a,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function z5e(e,t,n){const r=F(()=>w(t).map((g,m)=>{var y,b;return{...g,key:(b=(y=g.key)!=null?y:g.dataKey)!=null?b:m}})),a=F(()=>w(r).filter(g=>!g.hidden)),i=F(()=>w(a).filter(g=>g.fixed==="left"||g.fixed===!0)),o=F(()=>w(a).filter(g=>g.fixed==="right")),s=F(()=>w(a).filter(g=>!g.fixed)),l=F(()=>{const g=[];return w(i).forEach(m=>{g.push({...m,placeholderSign:cw})}),w(s).forEach(m=>{g.push(m)}),w(o).forEach(m=>{g.push({...m,placeholderSign:cw})}),g}),u=F(()=>w(i).length||w(o).length),c=F(()=>w(r).reduce((g,m)=>(g[m.key]=V5e(m,w(n),e.fixed),g),{})),f=F(()=>w(a).reduce((g,m)=>g+m.width,0)),d=g=>w(r).find(m=>m.key===g),h=g=>w(c)[g],p=(g,m)=>{g.width=m};function v(g){var m;const{key:y}=g.currentTarget.dataset;if(!y)return;const{sortState:b,sortBy:x}=e;let _=lw.ASC;qt(b)?_=oP[b[y]]:_=oP[x.order],(m=e.onColumnSort)==null||m.call(e,{column:d(y),key:y,order:_})}return{columns:r,columnsStyles:c,columnsTotalWidth:f,fixedColumnsOnLeft:i,fixedColumnsOnRight:o,hasFixedColumns:u,mainColumns:l,normalColumns:s,visibleColumns:a,getColumn:d,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:v}}const W5e=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:a})=>{const i=Y({scrollLeft:0,scrollTop:0});function o(h){var p,v,g;const{scrollTop:m}=h;(p=t.value)==null||p.scrollTo(h),(v=n.value)==null||v.scrollToTop(m),(g=r.value)==null||g.scrollToTop(m)}function s(h){i.value=h,o(h)}function l(h){i.value.scrollTop=h,o(w(i))}function u(h){var p,v;i.value.scrollLeft=h,(v=(p=t.value)==null?void 0:p.scrollTo)==null||v.call(p,w(i))}function c(h){var p;s(h),(p=e.onScroll)==null||p.call(e,h)}function f({scrollTop:h}){const{scrollTop:p}=w(i);h!==p&&l(h)}function d(h,p="auto"){var v;(v=t.value)==null||v.scrollToRow(h,p)}return Le(()=>w(i).scrollTop,(h,p)=>{h>p&&a()}),{scrollPos:i,scrollTo:s,scrollToLeft:u,scrollToTop:l,scrollToRow:d,onScroll:c,onVerticalScroll:f}},H5e=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:a,ns:i,isScrolling:o})=>{const s=jt(),{emit:l}=s,u=dr(!1),c=Y(e.defaultExpandedRowKeys||[]),f=Y(-1),d=dr(null),h=Y({}),p=Y({}),v=dr({}),g=dr({}),m=dr({}),y=F(()=>Tt(e.estimatedRowHeight));function b(E){var I;(I=e.onRowsRendered)==null||I.call(e,E),E.rowCacheEnd>w(f)&&(f.value=E.rowCacheEnd)}function x({hovered:E,rowKey:I}){if(o.value)return;a.vnode.el.querySelectorAll(`[rowkey="${String(I)}"]`).forEach(L=>{E?L.classList.add(i.is("hovered")):L.classList.remove(i.is("hovered"))})}function _({expanded:E,rowData:I,rowIndex:A,rowKey:N}){var L,R;const D=[...w(c)],P=D.indexOf(N);E?P===-1&&D.push(N):P>-1&&D.splice(P,1),c.value=D,l("update:expandedRowKeys",D),(L=e.onRowExpand)==null||L.call(e,{expanded:E,rowData:I,rowIndex:A,rowKey:N}),(R=e.onExpandedRowsChange)==null||R.call(e,D)}const S=Cs(()=>{var E,I,A,N;u.value=!0,h.value={...w(h),...w(p)},C(w(d),!1),p.value={},d.value=null,(E=t.value)==null||E.forceUpdate(),(I=n.value)==null||I.forceUpdate(),(A=r.value)==null||A.forceUpdate(),(N=s.proxy)==null||N.$forceUpdate(),u.value=!1},0);function C(E,I=!1){w(y)&&[t,n,r].forEach(A=>{const N=w(A);N&&N.resetAfterRowIndex(E,I)})}function k(E,I,A){const N=w(d);(N===null||N>A)&&(d.value=A),p.value[E]=I}function T({rowKey:E,height:I,rowIndex:A},N){N?N===Coe.RIGHT?m.value[E]=I:v.value[E]=I:g.value[E]=I;const L=Math.max(...[v,m,g].map(R=>R.value[E]||0));w(h)[E]!==L&&(k(E,L,A),S())}return{expandedRowKeys:c,lastRenderedRowIndex:f,isDynamic:y,isResetting:u,rowHeights:h,resetAfterIndex:C,onRowExpanded:_,onRowHovered:x,onRowsRendered:b,onRowHeightChange:T}},U5e=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const a=Y({}),i=F(()=>{const s={},{data:l,rowKey:u}=e,c=w(t);if(!c||!c.length)return l;const f=[],d=new Set;c.forEach(p=>d.add(p));let h=l.slice();for(h.forEach(p=>s[p[u]]=0);h.length>0;){const p=h.shift();f.push(p),d.has(p[u])&&Ke(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(v=>s[v[u]]=s[p[u]]+1))}return a.value=s,f}),o=F(()=>{const{data:s,expandColumnKey:l}=e;return l?w(i):s});return Le(o,(s,l)=>{s!==l&&(n.value=-1,r(0,!0))}),{data:o,depthMap:a}},G5e=(e,t)=>e+t,JT=e=>Ke(e)?e.reduce(G5e,0):e,sg=(e,t,n={})=>mt(e)?e(t):e??n,jd=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=ta(e[t])}),e),Toe=e=>$r(e)?t=>Ct(e,t):e,K5e=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:a})=>{const i=F(()=>{const{fixed:y,width:b,vScrollbarSize:x}=e,_=b-x;return y?Math.max(Math.round(w(t)),_):_}),o=F(()=>w(i)+e.vScrollbarSize),s=F(()=>{const{height:y=0,maxHeight:b=0,footerHeight:x,hScrollbarSize:_}=e;if(b>0){const S=w(h),C=w(n),T=w(d)+S+C+_;return Math.min(T,b-x)}return y-x}),l=F(()=>{const{maxHeight:y}=e,b=w(s);if(Tt(y)&&y>0)return b;const x=w(n)+w(d)+w(h);return Math.min(b,x)}),u=y=>y.width,c=F(()=>JT(w(r).map(u))),f=F(()=>JT(w(a).map(u))),d=F(()=>JT(e.headerHeight)),h=F(()=>{var y;return(((y=e.fixedData)==null?void 0:y.length)||0)*e.rowHeight}),p=F(()=>w(s)-w(d)-w(h)),v=F(()=>{const{style:y={},height:b,width:x}=e;return jd({...y,height:b,width:x})}),g=F(()=>jd({height:e.footerHeight})),m=F(()=>({top:ta(w(d)),bottom:ta(e.footerHeight),width:ta(e.width)}));return{bodyWidth:i,fixedTableHeight:l,mainTableHeight:s,leftTableWidth:c,rightTableWidth:f,headerWidth:o,windowHeight:p,footerHeight:g,emptyStyle:m,rootStyle:v,headerHeight:d}};function j5e(e){const t=Y(),n=Y(),r=Y(),{columns:a,columnsStyles:i,columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:f}=z5e(e,Hn(e,"columns"),Hn(e,"fixed")),{scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:v,onScroll:g,onVerticalScroll:m,scrollPos:y}=W5e(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:re}),b=ze("table-v2"),x=jt(),_=dr(!1),{expandedRowKeys:S,lastRenderedRowIndex:C,isDynamic:k,isResetting:T,rowHeights:E,resetAfterIndex:I,onRowExpanded:A,onRowHeightChange:N,onRowHovered:L,onRowsRendered:R}=H5e(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:x,ns:b,isScrolling:_}),{data:D,depthMap:P}=U5e(e,{expandedRowKeys:S,lastRenderedRowIndex:C,resetAfterIndex:I}),O=F(()=>{const{estimatedRowHeight:ge,rowHeight:Ie}=e,Ce=w(D);return Tt(ge)?Object.values(w(E)).reduce((he,J)=>he+J,0):Ce.length*Ie}),{bodyWidth:M,fixedTableHeight:W,mainTableHeight:U,leftTableWidth:V,rightTableWidth:H,headerWidth:K,windowHeight:j,footerHeight:ne,emptyStyle:Q,rootStyle:oe,headerHeight:ae}=K5e(e,{columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,rowsHeight:O}),me=Y(),ve=F(()=>{const ge=w(D).length===0;return Ke(e.fixedData)?e.fixedData.length===0&&ge:ge});function B(ge){const{estimatedRowHeight:Ie,rowHeight:Ce,rowKey:he}=e;return Ie?w(E)[w(D)[ge][he]]||Ie:Ce}function re(){const{onEndReached:ge}=e;if(!ge)return;const{scrollTop:Ie}=w(y),Ce=w(O),he=w(j),J=Ce-(Ie+he)+e.hScrollbarSize;w(C)>=0&&Ce===Ie+w(U)-w(ae)&&ge(J)}return Le(()=>e.expandedRowKeys,ge=>S.value=ge,{deep:!0}),{columns:a,containerRef:me,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:k,isResetting:T,isScrolling:_,hasFixedColumns:u,columnsStyles:i,columnsTotalWidth:o,data:D,expandedRowKeys:S,depthMap:P,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:M,emptyStyle:Q,rootStyle:oe,headerWidth:K,footerHeight:ne,mainTableHeight:U,fixedTableHeight:W,leftTableWidth:V,rightTableWidth:H,showEmpty:ve,getRowHeight:B,onColumnSorted:f,onRowHovered:L,onRowExpanded:A,onRowsRendered:R,onRowHeightChange:N,scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:v,onScroll:g,onVerticalScroll:m}}const qB=Symbol("tableV2"),koe=String,D_={type:be(Array),required:!0},ZB={type:be(Array)},Ioe={...ZB,required:!0},Y5e=String,i9={type:be(Array),default:()=>zr([])},lv={type:Number,required:!0},Eoe={type:be([String,Number,Symbol]),default:"id"},o9={type:be(Object)},wv=je({class:String,columns:D_,columnsStyles:{type:be(Object),required:!0},depth:Number,expandColumnKey:Y5e,estimatedRowHeight:{...Fv.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:be(Function)},onRowHover:{type:be(Function)},onRowHeightChange:{type:be(Function)},rowData:{type:be(Object),required:!0},rowEventHandlers:{type:be(Object)},rowIndex:{type:Number,required:!0},rowKey:Eoe,style:{type:be(Object)}}),WR={type:Number,required:!0},JB=je({class:String,columns:D_,fixedHeaderData:{type:be(Array)},headerData:{type:be(Array),required:!0},headerHeight:{type:be([Number,Array]),default:50},rowWidth:WR,rowHeight:{type:Number,default:50},height:WR,width:WR}),QT=je({columns:D_,data:Ioe,fixedData:ZB,estimatedRowHeight:wv.estimatedRowHeight,width:lv,height:lv,headerWidth:lv,headerHeight:JB.headerHeight,bodyWidth:lv,rowHeight:lv,cache:Yie.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Fv.scrollbarAlwaysOn,scrollbarStartGap:Fv.scrollbarStartGap,scrollbarEndGap:Fv.scrollbarEndGap,class:koe,style:o9,containerStyle:o9,getRowHeight:{type:be(Function),required:!0},rowKey:wv.rowKey,onRowsRendered:{type:be(Function)},onScroll:{type:be(Function)}}),X5e=je({cache:QT.cache,estimatedRowHeight:wv.estimatedRowHeight,rowKey:Eoe,headerClass:{type:be([String,Function])},headerProps:{type:be([Object,Function])},headerCellProps:{type:be([Object,Function])},headerHeight:JB.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:be([String,Function])},rowProps:{type:be([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:be([Object,Function])},columns:D_,data:Ioe,dataGetter:{type:be(Function)},fixedData:ZB,expandColumnKey:wv.expandColumnKey,expandedRowKeys:i9,defaultExpandedRowKeys:i9,class:koe,fixed:Boolean,style:{type:be(Object)},width:lv,height:lv,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Fv.hScrollbarSize,vScrollbarSize:Fv.vScrollbarSize,scrollbarAlwaysOn:Zie.alwaysOn,sortBy:{type:be(Object),default:()=>({})},sortState:{type:be(Object),default:void 0},onColumnSort:{type:be(Function)},onExpandedRowsChange:{type:be(Function)},onEndReached:{type:be(Function)},onRowExpand:wv.onRowExpand,onScroll:QT.onScroll,onRowsRendered:QT.onRowsRendered,rowEventHandlers:wv.rowEventHandlers}),q5e="ElTableV2Header",Z5e=se({name:q5e,props:JB,setup(e,{slots:t,expose:n}){const r=ze("table-v2"),a=ht("tableV2GridScrollLeft"),i=Y(),o=F(()=>jd({width:e.width,height:e.height})),s=F(()=>jd({width:e.rowWidth,height:e.height})),l=F(()=>ho(w(e.headerHeight))),u=d=>{const h=w(i);xt(()=>{h!=null&&h.scroll&&h.scroll({left:d})})},c=()=>{const d=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:v}=e;return p==null?void 0:p.map((g,m)=>{var y;const b=jd({height:v,width:"100%"});return(y=t.fixed)==null?void 0:y.call(t,{class:d,columns:h,rowData:g,rowIndex:-(m+1),style:b})})},f=()=>{const d=r.e("dynamic-header-row"),{columns:h}=e;return w(l).map((p,v)=>{var g;const m=jd({width:"100%",height:p});return(g=t.dynamic)==null?void 0:g.call(t,{class:d,columns:h,headerIndex:v,style:m})})};return Xc(()=>{a!=null&&a.value&&u(a.value)}),n({scrollToLeft:u}),()=>{if(!(e.height<=0))return ie("div",{ref:i,class:e.class,style:w(o),role:"rowgroup"},[ie("div",{style:w(s),class:r.e("header")},[f(),c()])])}}});var J5e=Z5e;const Q5e=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},a)=>{let i=null,o=0,s=0;const l=(c,f)=>{const d=c<=0&&t.value||c>=0&&e.value,h=f<=0&&r.value||f>=0&&n.value;return d&&h};return{hasReachedEdge:l,onWheel:c=>{ig(i);let f=c.deltaX,d=c.deltaY;Math.abs(f)>Math.abs(d)?d=0:f=0,c.shiftKey&&d!==0&&(f=d,d=0),!(l(o,s)&&l(o+f,s+d))&&(o+=f,s+=d,c.preventDefault(),i=kh(()=>{a(o,s),o=0,s=0}))}}},Aoe=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:i,getEstimatedTotalWidth:o,getColumnOffset:s,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:f,initCache:d,injectToInstance:h,validateProps:p})=>se({name:e??"ElVirtualList",props:Fv,emits:[tI,nI],setup(v,{emit:g,expose:m,slots:y}){const b=ze("vl");p(v);const x=jt(),_=Y(d(v,x));h==null||h(x,_);const S=Y(),C=Y(),k=Y(),T=Y(null),E=Y({isScrolling:!1,scrollLeft:Tt(v.initScrollLeft)?v.initScrollLeft:0,scrollTop:Tt(v.initScrollTop)?v.initScrollTop:0,updateRequested:!1,xAxisScrollDir:dm,yAxisScrollDir:dm}),I=Gie(),A=F(()=>Number.parseInt(`${v.height}`,10)),N=F(()=>Number.parseInt(`${v.width}`,10)),L=F(()=>{const{totalColumn:he,totalRow:J,columnCache:te}=v,{isScrolling:xe,xAxisScrollDir:Ee,scrollLeft:Qe}=w(E);if(he===0||J===0)return[0,0,0,0];const Be=r(v,Qe,w(_)),ce=a(v,Be,Qe,w(_)),Re=!xe||Ee===rI?Math.max(1,te):1,ct=!xe||Ee===dm?Math.max(1,te):1;return[Math.max(0,Be-Re),Math.max(0,Math.min(he-1,ce+ct)),Be,ce]}),R=F(()=>{const{totalColumn:he,totalRow:J,rowCache:te}=v,{isScrolling:xe,yAxisScrollDir:Ee,scrollTop:Qe}=w(E);if(he===0||J===0)return[0,0,0,0];const Be=c(v,Qe,w(_)),ce=f(v,Be,Qe,w(_)),Re=!xe||Ee===rI?Math.max(1,te):1,ct=!xe||Ee===dm?Math.max(1,te):1;return[Math.max(0,Be-Re),Math.max(0,Math.min(J-1,ce+ct)),Be,ce]}),D=F(()=>i(v,w(_))),P=F(()=>o(v,w(_))),O=F(()=>{var he;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:v.direction,height:Tt(v.height)?`${v.height}px`:v.height,width:Tt(v.width)?`${v.width}px`:v.width},(he=v.style)!=null?he:{}]}),M=F(()=>{const he=`${w(P)}px`;return{height:`${w(D)}px`,pointerEvents:w(E).isScrolling?"none":void 0,width:he}}),W=()=>{const{totalColumn:he,totalRow:J}=v;if(he>0&&J>0){const[ce,Re,ct,It]=w(L),[wt,Qt,_t,ln]=w(R);g(tI,{columnCacheStart:ce,columnCacheEnd:Re,rowCacheStart:wt,rowCacheEnd:Qt,columnVisibleStart:ct,columnVisibleEnd:It,rowVisibleStart:_t,rowVisibleEnd:ln})}const{scrollLeft:te,scrollTop:xe,updateRequested:Ee,xAxisScrollDir:Qe,yAxisScrollDir:Be}=w(E);g(nI,{xAxisScrollDir:Qe,scrollLeft:te,yAxisScrollDir:Be,scrollTop:xe,updateRequested:Ee})},U=he=>{const{clientHeight:J,clientWidth:te,scrollHeight:xe,scrollLeft:Ee,scrollTop:Qe,scrollWidth:Be}=he.currentTarget,ce=w(E);if(ce.scrollTop===Qe&&ce.scrollLeft===Ee)return;let Re=Ee;if(HG(v.direction))switch(iI()){case ow:Re=-Ee;break;case KB:Re=Be-te-Ee;break}E.value={...ce,isScrolling:!0,scrollLeft:Re,scrollTop:Math.max(0,Math.min(Qe,xe-J)),updateRequested:!0,xAxisScrollDir:bv(ce.scrollLeft,Re),yAxisScrollDir:bv(ce.scrollTop,Qe)},xt(()=>oe()),ae(),W()},V=(he,J)=>{const te=w(A),xe=(D.value-te)/J*he;j({scrollTop:Math.min(D.value-te,xe)})},H=(he,J)=>{const te=w(N),xe=(P.value-te)/J*he;j({scrollLeft:Math.min(P.value-te,xe)})},{onWheel:K}=Q5e({atXStartEdge:F(()=>E.value.scrollLeft<=0),atXEndEdge:F(()=>E.value.scrollLeft>=P.value-w(N)),atYStartEdge:F(()=>E.value.scrollTop<=0),atYEndEdge:F(()=>E.value.scrollTop>=D.value-w(A))},(he,J)=>{var te,xe,Ee,Qe;(xe=(te=C.value)==null?void 0:te.onMouseUp)==null||xe.call(te),(Qe=(Ee=k.value)==null?void 0:Ee.onMouseUp)==null||Qe.call(Ee);const Be=w(N),ce=w(A);j({scrollLeft:Math.min(E.value.scrollLeft+he,P.value-Be),scrollTop:Math.min(E.value.scrollTop+J,D.value-ce)})});Zn(S,"wheel",K,{passive:!1});const j=({scrollLeft:he=E.value.scrollLeft,scrollTop:J=E.value.scrollTop})=>{he=Math.max(he,0),J=Math.max(J,0);const te=w(E);J===te.scrollTop&&he===te.scrollLeft||(E.value={...te,xAxisScrollDir:bv(te.scrollLeft,he),yAxisScrollDir:bv(te.scrollTop,J),scrollLeft:he,scrollTop:J,updateRequested:!0},xt(()=>oe()),ae(),W())},ne=(he=0,J=0,te=kl)=>{const xe=w(E);J=Math.max(0,Math.min(J,v.totalColumn-1)),he=Math.max(0,Math.min(he,v.totalRow-1));const Ee=Bre(b.namespace.value),Qe=w(_),Be=i(v,Qe),ce=o(v,Qe);j({scrollLeft:s(v,J,te,xe.scrollLeft,Qe,ce>v.width?Ee:0),scrollTop:l(v,he,te,xe.scrollTop,Qe,Be>v.height?Ee:0)})},Q=(he,J)=>{const{columnWidth:te,direction:xe,rowHeight:Ee}=v,Qe=I.value(t&&te,t&&Ee,t&&xe),Be=`${he},${J}`;if(Dn(Qe,Be))return Qe[Be];{const[,ce]=n(v,J,w(_)),Re=w(_),ct=HG(xe),[It,wt]=u(v,he,Re),[Qt]=n(v,J,Re);return Qe[Be]={position:"absolute",left:ct?void 0:`${ce}px`,right:ct?`${ce}px`:void 0,top:`${wt}px`,height:`${It}px`,width:`${Qt}px`},Qe[Be]}},oe=()=>{E.value.isScrolling=!1,xt(()=>{I.value(-1,null,null)})};zt(()=>{if(!wn)return;const{initScrollLeft:he,initScrollTop:J}=v,te=w(S);te&&(Tt(he)&&(te.scrollLeft=he),Tt(J)&&(te.scrollTop=J)),W()});const ae=()=>{const{direction:he}=v,{scrollLeft:J,scrollTop:te,updateRequested:xe}=w(E),Ee=w(S);if(xe&&Ee){if(he===Em)switch(iI()){case ow:{Ee.scrollLeft=-J;break}case GB:{Ee.scrollLeft=J;break}default:{const{clientWidth:Qe,scrollWidth:Be}=Ee;Ee.scrollLeft=Be-Qe-J;break}}else Ee.scrollLeft=Math.max(0,J);Ee.scrollTop=Math.max(0,te)}},{resetAfterColumnIndex:me,resetAfterRowIndex:ve,resetAfter:B}=x.proxy;m({windowRef:S,innerRef:T,getItemStyleCache:I,scrollTo:j,scrollToItem:ne,states:E,resetAfterColumnIndex:me,resetAfterRowIndex:ve,resetAfter:B});const re=()=>{const{scrollbarAlwaysOn:he,scrollbarStartGap:J,scrollbarEndGap:te,totalColumn:xe,totalRow:Ee}=v,Qe=w(N),Be=w(A),ce=w(P),Re=w(D),{scrollLeft:ct,scrollTop:It}=w(E),wt=Ct(XO,{ref:C,alwaysOn:he,startGap:J,endGap:te,class:b.e("horizontal"),clientSize:Qe,layout:"horizontal",onScroll:H,ratio:Qe*100/ce,scrollFrom:ct/(ce-Qe),total:Ee,visible:!0}),Qt=Ct(XO,{ref:k,alwaysOn:he,startGap:J,endGap:te,class:b.e("vertical"),clientSize:Be,layout:"vertical",onScroll:V,ratio:Be*100/Re,scrollFrom:It/(Re-Be),total:xe,visible:!0});return{horizontalScrollbar:wt,verticalScrollbar:Qt}},ge=()=>{var he;const[J,te]=w(L),[xe,Ee]=w(R),{data:Qe,totalColumn:Be,totalRow:ce,useIsScrolling:Re,itemKey:ct}=v,It=[];if(ce>0&&Be>0)for(let wt=xe;wt<=Ee;wt++)for(let Qt=J;Qt<=te;Qt++){const _t=ct({columnIndex:Qt,data:Qe,rowIndex:wt});It.push(Ct(vt,{key:_t},(he=y.default)==null?void 0:he.call(y,{columnIndex:Qt,data:Qe,isScrolling:Re?w(E).isScrolling:void 0,style:Q(wt,Qt),rowIndex:wt})))}return It},Ie=()=>{const he=tn(v.innerElement),J=ge();return[Ct(he,{style:w(M),ref:T},gt(he)?J:{default:()=>J})]};return()=>{const he=tn(v.containerElement),{horizontalScrollbar:J,verticalScrollbar:te}=re(),xe=Ie();return Ct("div",{key:0,class:b.e("wrapper"),role:v.role},[Ct(he,{class:v.className,style:w(O),onScroll:U,ref:S},gt(he)?xe:{default:()=>xe}),J,te])}}}),{max:lI,min:Doe,floor:Noe}=Math,eWe={column:"columnWidth",row:"rowHeight"},sP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},xf=(e,t,n,r)=>{const[a,i,o]=[n[r],e[eWe[r]],n[sP[r]]];if(t>o){let s=0;if(o>=0){const l=a[o];s=l.offset+l.size}for(let l=o+1;l<=t;l++){const u=i(l);a[l]={offset:s,size:u},s+=u}n[sP[r]]=t}return a[t]},Roe=(e,t,n,r,a,i)=>{for(;n<=r;){const o=n+Noe((r-n)/2),s=xf(e,o,t,i).offset;if(s===a)return o;s<a?n=o+1:r=o-1}return lI(0,n-1)},tWe=(e,t,n,r,a)=>{const i=a==="column"?e.totalColumn:e.totalRow;let o=1;for(;n<i&&xf(e,n,t,a).offset<r;)n+=o,o*=2;return Roe(e,t,Noe(n/2),Doe(n,i-1),r,a)},s9=(e,t,n,r)=>{const[a,i]=[t[r],t[sP[r]]];return(i>0?a[i].offset:0)>=n?Roe(e,t,0,i,n,r):tWe(e,t,lI(0,i),n,r)},Moe=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let a=0;if(n>=e&&(n=e-1),n>=0){const s=r[n];a=s.offset+s.size}const o=(e-n-1)*t;return a+o},$oe=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let a=0;if(r>e&&(r=e-1),r>=0){const s=t[r];a=s.offset+s.size}const o=(e-r-1)*n;return a+o},nWe={column:$oe,row:Moe},l9=(e,t,n,r,a,i,o)=>{const[s,l]=[i==="row"?e.height:e.width,nWe[i]],u=xf(e,t,a,i),c=l(e,a),f=lI(0,Doe(c-s,u.offset)),d=lI(0,u.offset-s+o+u.size);switch(n===RA&&(r>=d-s&&r<=f+s?n=kl:n=yc),n){case aw:return f;case iw:return d;case yc:return Math.round(d+(f-d)/2);case kl:default:return r>=d&&r<=f?r:d>f||r<d?d:f}},rWe=Aoe({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=xf(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=xf(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,a,i)=>l9(e,t,n,r,a,"column",i),getRowOffset:(e,t,n,r,a,i)=>l9(e,t,n,r,a,"row",i),getColumnStartIndexForOffset:(e,t,n)=>s9(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const a=xf(e,t,r,"column"),i=n+e.width;let o=a.offset+a.size,s=t;for(;s<e.totalColumn-1&&o<i;)s++,o+=xf(e,t,r,"column").size;return s},getEstimatedTotalHeight:Moe,getEstimatedTotalWidth:$oe,getRowStartIndexForOffset:(e,t,n)=>s9(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:a,height:i}=e,o=xf(e,t,r,"row"),s=n+i;let l=o.size+o.offset,u=t;for(;u<a-1&&l<s;)u++,l+=xf(e,u,r,"row").size;return u},injectToInstance:(e,t)=>{const n=({columnIndex:i,rowIndex:o},s)=>{var l,u;s=qn(s)?!0:s,Tt(i)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,i-1)),Tt(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),(l=e.exposed)==null||l.getItemStyleCache.value(-1,null,null),s&&((u=e.proxy)==null||u.$forceUpdate())},r=(i,o)=>{n({columnIndex:i},o)},a=(i,o)=>{n({rowIndex:i},o)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:a,resetAfter:n})},initCache:({estimatedColumnWidth:e=HO,estimatedRowHeight:t=HO})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),aWe=Aoe({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,a,i,o,s)=>{n=Number(n);const l=Math.max(0,e*t-n),u=Math.min(l,r*t),c=Math.max(0,r*t-n+s+t);switch(a==="smart"&&(i>=c-n&&i<=u+n?a=kl:a=yc),a){case aw:return u;case iw:return c;case yc:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(n/2)?0:f>l+Math.floor(n/2)?l:f}case kl:default:return i>=c&&i<=u?i:c>u||i<c?c:u}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,a,i,o,s)=>{t=Number(t);const l=Math.max(0,n*e-t),u=Math.min(l,r*e),c=Math.max(0,r*e-t+s+e);switch(a===RA&&(i>=c-t&&i<=u+t?a=kl:a=yc),a){case aw:return u;case iw:return c;case yc:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(t/2)?0:f>l+Math.floor(t/2)?l:f}case kl:default:return i>=c&&i<=u?i:c>u||i<c?c:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,a)=>{const i=r*e,o=Math.ceil((n+a-i)/e);return Math.max(0,Math.min(t-1,r+o-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,a)=>{const i=r*e,o=Math.ceil((n+a-i)/e);return Math.max(0,Math.min(t-1,r+o-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),iWe="ElTableV2Grid",oWe=e=>{const t=Y(),n=Y(),r=Y(0),a=F(()=>{const{data:g,rowHeight:m,estimatedRowHeight:y}=e;if(!y)return g.length*m}),i=F(()=>{const{fixedData:g,rowHeight:m}=e;return((g==null?void 0:g.length)||0)*m}),o=F(()=>JT(e.headerHeight)),s=F(()=>{const{height:g}=e;return Math.max(0,g-w(o)-w(i))}),l=F(()=>w(o)+w(i)>0),u=({data:g,rowIndex:m})=>g[m][e.rowKey];function c({rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:y,rowVisibleEnd:b}){var x;(x=e.onRowsRendered)==null||x.call(e,{rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:y,rowVisibleEnd:b})}function f(g,m){var y;(y=n.value)==null||y.resetAfterRowIndex(g,m)}function d(g,m){const y=w(t),b=w(n);qt(g)?(y==null||y.scrollToLeft(g.scrollLeft),r.value=g.scrollLeft,b==null||b.scrollTo(g)):(y==null||y.scrollToLeft(g),r.value=g,b==null||b.scrollTo({scrollLeft:g,scrollTop:m}))}function h(g){var m;(m=w(n))==null||m.scrollTo({scrollTop:g})}function p(g,m){var y;(y=w(n))==null||y.scrollToItem(g,1,m)}function v(){var g,m;(g=w(n))==null||g.$forceUpdate(),(m=w(t))==null||m.$forceUpdate()}return{bodyRef:n,forceUpdate:v,fixedRowHeight:i,gridHeight:s,hasHeader:l,headerHeight:o,headerRef:t,totalHeight:a,itemKey:u,onItemRendered:c,resetAfterRowIndex:f,scrollTo:d,scrollToTop:h,scrollToRow:p,scrollLeft:r}},sWe=se({name:iWe,props:QT,setup(e,{slots:t,expose:n}){const{ns:r}=ht(qB),{bodyRef:a,fixedRowHeight:i,gridHeight:o,hasHeader:s,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:f,itemKey:d,onItemRendered:h,resetAfterRowIndex:p,scrollTo:v,scrollToTop:g,scrollToRow:m,scrollLeft:y}=oWe(e);hn("tableV2GridScrollLeft",y),n({forceUpdate:f,totalHeight:c,scrollTo:v,scrollToTop:g,scrollToRow:m,resetAfterRowIndex:p});const b=()=>e.bodyWidth;return()=>{const{cache:x,columns:_,data:S,fixedData:C,useIsScrolling:k,scrollbarAlwaysOn:T,scrollbarEndGap:E,scrollbarStartGap:I,style:A,rowHeight:N,bodyWidth:L,estimatedRowHeight:R,headerWidth:D,height:P,width:O,getRowHeight:M,onScroll:W}=e,U=Tt(R),V=U?rWe:aWe,H=w(u);return ie("div",{role:"table",class:[r.e("table"),e.class],style:A},[ie(V,{ref:a,data:S,useIsScrolling:k,itemKey:d,columnCache:0,columnWidth:U?b:L,totalColumn:1,totalRow:S.length,rowCache:x,rowHeight:U?M:N,width:O,height:w(o),class:r.e("body"),role:"rowgroup",scrollbarStartGap:I,scrollbarEndGap:E,scrollbarAlwaysOn:T,onScroll:W,onItemRendered:h,perfMode:!1},{default:K=>{var j;const ne=S[K.rowIndex];return(j=t.row)==null?void 0:j.call(t,{...K,columns:_,rowData:ne})}}),w(s)&&ie(J5e,{ref:l,class:r.e("header-wrapper"),columns:_,headerData:S,headerHeight:e.headerHeight,fixedHeaderData:C,rowWidth:D,rowHeight:N,width:O,height:Math.min(H+w(i),P)},{dynamic:t.header,fixed:t.row})])}}});var QB=sWe;function lWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const uWe=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return ie(QB,rn({ref:n},r),lWe(t)?t:{default:()=>[t]})};var cWe=uWe;function fWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const dWe=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return ie(QB,rn({ref:n},r),fWe(t)?t:{default:()=>[t]})};var hWe=dWe;function pWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const vWe=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return ie(QB,rn({ref:n},r),pWe(t)?t:{default:()=>[t]})};var gWe=vWe;const mWe=e=>{const{isScrolling:t}=ht(qB),n=Y(!1),r=Y(),a=F(()=>Tt(e.estimatedRowHeight)&&e.rowIndex>=0),i=(l=!1)=>{const u=w(r);if(!u)return;const{columns:c,onRowHeightChange:f,rowKey:d,rowIndex:h,style:p}=e,{height:v}=u.getBoundingClientRect();n.value=!0,xt(()=>{if(l||v!==Number.parseInt(p.height)){const g=c[0],m=(g==null?void 0:g.placeholderSign)===cw;f==null||f({rowKey:d,height:v,rowIndex:h},g&&!m&&g.fixed)}})},o=F(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:f}=e,d=e.rowEventHandlers||{},h={};return Object.entries(d).forEach(([p,v])=>{mt(v)&&(h[p]=g=>{v({event:g,rowData:l,rowIndex:u,rowKey:c})})}),f&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:v})=>{const g=h[p];h[p]=m=>{f({event:m,hovered:v,rowData:l,rowIndex:u,rowKey:c}),g==null||g(m)}}),h}),s=l=>{const{onRowExpand:u,rowData:c,rowIndex:f,rowKey:d}=e;u==null||u({expanded:l,rowData:c,rowIndex:f,rowKey:d})};return zt(()=>{w(a)&&i(!0)}),{isScrolling:t,measurable:a,measured:n,rowRef:r,eventHandlers:o,onExpand:s}},yWe="ElTableV2TableRow",bWe=se({name:yWe,props:wv,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:a,isScrolling:i,measurable:o,measured:s,rowRef:l,onExpand:u}=mWe(e);return t({onExpand:u}),()=>{const{columns:c,columnsStyles:f,expandColumnKey:d,depth:h,rowData:p,rowIndex:v,style:g}=e;let m=c.map((y,b)=>{const x=Ke(p.children)&&p.children.length>0&&y.key===d;return n.cell({column:y,columns:c,columnIndex:b,depth:h,style:f[y.key],rowData:p,rowIndex:v,isScrolling:w(i),expandIconProps:x?{rowData:p,rowIndex:v,onExpand:u}:void 0})});if(n.row&&(m=n.row({cells:m.map(y=>Ke(y)&&y.length===1?y[0]:y),style:g,columns:c,depth:h,rowData:p,rowIndex:v,isScrolling:w(i)})),w(o)){const{height:y,...b}=g||{},x=w(s);return ie("div",rn({ref:l,class:e.class,style:x?g:b,role:"row"},r,w(a)),[m])}return ie("div",rn(r,{ref:l,class:e.class,style:g,role:"row"},w(a)),[m])}}});var xWe=bWe;function wWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const _We=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:a,expandColumnKey:i,expandedRowKeys:o,estimatedRowHeight:s,hasFixedColumns:l,rowData:u,rowIndex:c,style:f,isScrolling:d,rowProps:h,rowClass:p,rowKey:v,rowEventHandlers:g,ns:m,onRowHovered:y,onRowExpanded:b}=e,x=sg(p,{columns:n,rowData:u,rowIndex:c},""),_=sg(h,{columns:n,rowData:u,rowIndex:c}),S=u[v],C=a[S]||0,k=!!i,T=c<0,E=[m.e("row"),x,{[m.e(`row-depth-${C}`)]:k&&c>=0,[m.is("expanded")]:k&&o.includes(S),[m.is("fixed")]:!C&&T,[m.is("customized")]:!!t.row}],I=l?y:void 0,A={..._,columns:n,columnsStyles:r,class:E,depth:C,expandColumnKey:i,estimatedRowHeight:T?void 0:s,isScrolling:d,rowIndex:c,rowData:u,rowKey:S,rowEventHandlers:g,style:f};return ie(xWe,rn(A,{onRowExpand:b,onMouseenter:R=>{I==null||I({hovered:!0,rowKey:S,event:R,rowData:u,rowIndex:c})},onMouseleave:R=>{I==null||I({hovered:!1,rowKey:S,event:R,rowData:u,rowIndex:c})},rowkey:S}),wWe(t)?t:{default:()=>[t]})};var SWe=_We;const eV=(e,{slots:t})=>{var n;const{cellData:r,style:a}=e,i=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",o=Se(t,"default",e,()=>[i]);return ie("div",{class:e.class,title:i,style:a},[o])};eV.displayName="ElTableV2Cell";eV.inheritAttrs=!1;var CWe=eV;const TWe=e=>{const{expanded:t,expandable:n,onExpand:r,style:a,size:i}=e,o={onClick:n?()=>r(!t):void 0,class:e.class};return ie(pt,rn(o,{size:i,style:a}),{default:()=>[ie(Yo,null,null)]})};var kWe=TWe;const Loe=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:a,isScrolling:i,rowData:o,rowIndex:s,style:l,expandedRowKeys:u,ns:c,cellProps:f,expandColumnKey:d,indentSize:h,iconSize:p,rowKey:v},{slots:g})=>{const m=jd(l);if(t.placeholderSign===cw)return ie("div",{class:c.em("row-cell","placeholder"),style:m},null);const{cellRenderer:y,dataKey:b,dataGetter:x}=t,_=mt(x)?x({columns:e,column:t,columnIndex:n,rowData:o,rowIndex:s}):ca(o,b??""),S=sg(f,{cellData:_,columns:e,column:t,columnIndex:n,rowIndex:s,rowData:o}),C={class:c.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:_,isScrolling:i,rowData:o,rowIndex:s},k=Toe(y),T=k?k(C):Se(g,"default",C,()=>[ie(CWe,C,null)]),E=[c.e("row-cell"),t.class,t.align===uw.CENTER&&c.is("align-center"),t.align===uw.RIGHT&&c.is("align-right")],I=s>=0&&d&&t.key===d,A=s>=0&&u.includes(o[v]);let N;const L=`margin-inline-start: ${r*h}px;`;return I&&(qt(a)?N=ie(kWe,rn(a,{class:[c.e("expand-icon"),c.is("expanded",A)],size:p,expanded:A,style:L,expandable:!0}),null):N=ie("div",{style:[L,`width: ${p}px; height: ${p}px;`].join(" ")},null)),ie("div",rn({class:E,style:m},S,{role:"cell"}),[N,T])};Loe.inheritAttrs=!1;var u9=Loe;const IWe=je({class:String,columns:D_,columnsStyles:{type:be(Object),required:!0},headerIndex:Number,style:{type:be(Object)}}),EWe=se({name:"ElTableV2HeaderRow",props:IWe,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:a,style:i}=e;let o=n.map((s,l)=>t.cell({columns:n,column:s,columnIndex:l,headerIndex:a,style:r[s.key]}));return t.header&&(o=t.header({cells:o.map(s=>Ke(s)&&s.length===1?s[0]:s),columns:n,headerIndex:a})),ie("div",{class:e.class,style:i,role:"row"},[o])}}});var AWe=EWe;function DWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const NWe=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:a,headerProps:i,ns:o},{slots:s})=>{const l={columns:e,headerIndex:n},u=[o.e("header-row"),sg(a,l,""),{[o.is("customized")]:!!s.header}],c={...sg(i,l),columnsStyles:t,class:u,columns:e,headerIndex:n,style:r};return ie(AWe,c,DWe(s)?s:{default:()=>[s]})};var RWe=NWe;const tV=(e,{slots:t})=>Se(t,"default",e,()=>{var n,r;return[ie("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});tV.displayName="ElTableV2HeaderCell";tV.inheritAttrs=!1;var MWe=tV;const $We=e=>{const{sortOrder:t}=e;return ie(pt,{size:14,class:e.class},{default:()=>[t===lw.ASC?ie(GAe,null,null):ie(HAe,null,null)]})};var LWe=$We;const OWe=(e,{slots:t})=>{const{column:n,ns:r,style:a,onColumnSorted:i}=e,o=jd(a);if(n.placeholderSign===cw)return ie("div",{class:r.em("header-row-cell","placeholder"),style:o},null);const{headerCellRenderer:s,headerClass:l,sortable:u}=n,c={...e,class:r.e("header-cell-text")},f=Toe(s),d=f?f(c):Se(t,"default",c,()=>[ie(MWe,c,null)]),{sortBy:h,sortState:p,headerCellProps:v}=e;let g,m;if(p){const x=p[n.key];g=!!oP[x],m=g?x:lw.ASC}else g=n.key===h.key,m=g?h.order:lw.ASC;const y=[r.e("header-cell"),sg(l,e,""),n.align===uw.CENTER&&r.is("align-center"),n.align===uw.RIGHT&&r.is("align-right"),u&&r.is("sortable")],b={...sg(v,e),onClick:n.sortable?i:void 0,class:y,style:o,"data-key":n.key};return ie("div",rn(b,{role:"columnheader"}),[d,u&&ie(LWe,{class:[r.e("sort-icon"),g&&r.is("sorting")],sortOrder:m},null)])};var c9=OWe;const Ooe=(e,{slots:t})=>{var n;return ie("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};Ooe.displayName="ElTableV2Footer";var PWe=Ooe;const Poe=(e,{slots:t})=>{const n=Se(t,"default",{},()=>[ie(Die,null,null)]);return ie("div",{class:e.class,style:e.style},[n])};Poe.displayName="ElTableV2Empty";var FWe=Poe;const Foe=(e,{slots:t})=>{var n;return ie("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};Foe.displayName="ElTableV2Overlay";var BWe=Foe;function W1(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const VWe="ElTableV2",zWe=se({name:VWe,props:X5e,setup(e,{slots:t,expose:n}){const r=ze("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:i,fixedColumnsOnRight:o,mainColumns:s,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:c,rightTableWidth:f,data:d,depthMap:h,expandedRowKeys:p,hasFixedColumns:v,mainTableRef:g,leftTableRef:m,rightTableRef:y,isDynamic:b,isResetting:x,isScrolling:_,bodyWidth:S,emptyStyle:C,rootStyle:k,headerWidth:T,footerHeight:E,showEmpty:I,scrollTo:A,scrollToLeft:N,scrollToTop:L,scrollToRow:R,getRowHeight:D,onColumnSorted:P,onRowHeightChange:O,onRowHovered:M,onRowExpanded:W,onRowsRendered:U,onScroll:V,onVerticalScroll:H}=j5e(e);return n({scrollTo:A,scrollToLeft:N,scrollToTop:L,scrollToRow:R}),hn(qB,{ns:r,isResetting:x,isScrolling:_}),()=>{const{cache:K,cellProps:j,estimatedRowHeight:ne,expandColumnKey:Q,fixedData:oe,headerHeight:ae,headerClass:me,headerProps:ve,headerCellProps:B,sortBy:re,sortState:ge,rowHeight:Ie,rowClass:Ce,rowEventHandlers:he,rowKey:J,rowProps:te,scrollbarAlwaysOn:xe,indentSize:Ee,iconSize:Qe,useIsScrolling:Be,vScrollbarSize:ce,width:Re}=e,ct=w(d),It={cache:K,class:r.e("main"),columns:w(s),data:ct,fixedData:oe,estimatedRowHeight:ne,bodyWidth:w(S)+ce,headerHeight:ae,headerWidth:w(T),height:w(l),mainTableRef:g,rowKey:J,rowHeight:Ie,scrollbarAlwaysOn:xe,scrollbarStartGap:2,scrollbarEndGap:ce,useIsScrolling:Be,width:Re,getRowHeight:D,onRowsRendered:U,onScroll:V},wt=w(c),Qt=w(u),_t={cache:K,class:r.e("left"),columns:w(i),data:ct,estimatedRowHeight:ne,leftTableRef:m,rowHeight:Ie,bodyWidth:wt,headerWidth:wt,headerHeight:ae,height:Qt,rowKey:J,scrollbarAlwaysOn:xe,scrollbarStartGap:2,scrollbarEndGap:ce,useIsScrolling:Be,width:wt,getRowHeight:D,onScroll:H},Ne=w(f)+ce,nt={cache:K,class:r.e("right"),columns:w(o),data:ct,estimatedRowHeight:ne,rightTableRef:y,rowHeight:Ie,bodyWidth:Ne,headerWidth:Ne,headerHeight:ae,height:Qt,rowKey:J,scrollbarAlwaysOn:xe,scrollbarStartGap:2,scrollbarEndGap:ce,width:Ne,style:`--${w(r.namespace)}-table-scrollbar-size: ${ce}px`,useIsScrolling:Be,getRowHeight:D,onScroll:H},_e=w(a),We={ns:r,depthMap:w(h),columnsStyles:_e,expandColumnKey:Q,expandedRowKeys:w(p),estimatedRowHeight:ne,hasFixedColumns:w(v),rowProps:te,rowClass:Ce,rowKey:J,rowEventHandlers:he,onRowHovered:M,onRowExpanded:W,onRowHeightChange:O},de={cellProps:j,expandColumnKey:Q,indentSize:Ee,iconSize:Qe,rowKey:J,expandedRowKeys:w(p),ns:r},ft={ns:r,headerClass:me,headerProps:ve,columnsStyles:_e},Gt={ns:r,sortBy:re,sortState:ge,headerCellProps:B,onColumnSorted:P},cn={row:ra=>ie(SWe,rn(ra,We),{row:t.row,cell:wr=>{let yn;return t.cell?ie(u9,rn(wr,de,{style:_e[wr.column.key]}),W1(yn=t.cell(wr))?yn:{default:()=>[yn]}):ie(u9,rn(wr,de,{style:_e[wr.column.key]}),null)}}),header:ra=>ie(RWe,rn(ra,ft),{header:t.header,cell:wr=>{let yn;return t["header-cell"]?ie(c9,rn(wr,Gt,{style:_e[wr.column.key]}),W1(yn=t["header-cell"](wr))?yn:{default:()=>[yn]}):ie(c9,rn(wr,Gt,{style:_e[wr.column.key]}),null)}})},ir=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:w(b)}],Eo={class:r.e("footer"),style:w(E)};return ie("div",{class:ir,style:w(k)},[ie(cWe,It,W1(cn)?cn:{default:()=>[cn]}),ie(hWe,_t,W1(cn)?cn:{default:()=>[cn]}),ie(gWe,nt,W1(cn)?cn:{default:()=>[cn]}),t.footer&&ie(PWe,Eo,{default:t.footer}),w(I)&&ie(FWe,{class:r.e("empty"),style:w(C)},{default:t.empty}),t.overlay&&ie(BWe,{class:r.e("overlay")},{default:t.overlay})])}}});var WWe=zWe;const HWe=je({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:be(Function)}}),UWe=e=>{const t=Y(),n=Y(0),r=Y(0);let a;return zt(()=>{a=Mr(t,([i])=>{const{width:o,height:s}=i.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:f}=getComputedStyle(i.target),d=Number.parseInt(l)||0,h=Number.parseInt(u)||0,p=Number.parseInt(c)||0,v=Number.parseInt(f)||0;n.value=o-d-h,r.value=s-p-v}).stop}),ar(()=>{a==null||a()}),Le([n,r],([i,o])=>{var s;(s=e.onResize)==null||s.call(e,{width:i,height:o})}),{sizer:t,width:n,height:r}},GWe=se({name:"ElAutoResizer",props:HWe,setup(e,{slots:t}){const n=ze("auto-resizer"),{height:r,width:a,sizer:i}=UWe(e),o={width:"100%",height:"100%"};return()=>{var s;return ie("div",{ref:i,class:n.b(),style:o},[(s=t.default)==null?void 0:s.call(t,{height:r.value,width:a.value})])}}});var KWe=GWe;const jWe=Bt(WWe),YWe=Bt(KWe),MA=Symbol("tabsRootContextKey"),XWe=je({tabs:{type:be(Array),default:()=>zr([])}}),Boe="ElTabBar",qWe=se({name:Boe}),ZWe=se({...qWe,props:XWe,setup(e,{expose:t}){const n=e,r=jt(),a=ht(MA);a||Na(Boe,"<el-tabs><el-tab-bar /></el-tabs>");const i=ze("tabs"),o=Y(),s=Y(),l=()=>{let h=0,p=0;const v=["top","bottom"].includes(a.props.tabPosition)?"width":"height",g=v==="width"?"x":"y",m=g==="x"?"left":"top";return n.tabs.every(y=>{var b,x;const _=(x=(b=r.parent)==null?void 0:b.refs)==null?void 0:x[`tab-${y.uid}`];if(!_)return!1;if(!y.active)return!0;h=_[`offset${vc(m)}`],p=_[`client${vc(v)}`];const S=window.getComputedStyle(_);return v==="width"&&(p-=Number.parseFloat(S.paddingLeft)+Number.parseFloat(S.paddingRight),h+=Number.parseFloat(S.paddingLeft)),!1}),{[v]:`${p}px`,transform:`translate${vc(g)}(${h}px)`}},u=()=>s.value=l(),c=[],f=()=>{var h;c.forEach(v=>v.stop()),c.length=0;const p=(h=r.parent)==null?void 0:h.refs;if(p){for(const v in p)if(v.startsWith("tab-")){const g=p[v];g&&c.push(Mr(g,u))}}};Le(()=>n.tabs,async()=>{await xt(),u(),f()},{immediate:!0});const d=Mr(o,()=>u());return ar(()=>{c.forEach(h=>h.stop()),c.length=0,d.stop()}),t({ref:o,update:u}),(h,p)=>(z(),q("div",{ref_key:"barRef",ref:o,class:G([w(i).e("active-bar"),w(i).is(w(a).props.tabPosition)]),style:yt(s.value)},null,6))}});var JWe=Ze(ZWe,[["__file","tab-bar.vue"]]);const QWe=je({panes:{type:be(Array),default:()=>zr([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),eHe={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},f9="ElTabNav",tHe=se({name:f9,props:QWe,emits:eHe,setup(e,{expose:t,emit:n}){const r=ht(MA);r||Na(f9,"<el-tabs><tab-nav /></el-tabs>");const a=ze("tabs"),i=iEe(),o=mEe(),s=Y(),l=Y(),u=Y(),c=Y(),f=Y(!1),d=Y(0),h=Y(!1),p=Y(!0),v=F(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),g=F(()=>({transform:`translate${v.value==="width"?"X":"Y"}(-${d.value}px)`})),m=()=>{if(!s.value)return;const k=s.value[`offset${vc(v.value)}`],T=d.value;if(!T)return;const E=T>k?T-k:0;d.value=E},y=()=>{if(!s.value||!l.value)return;const k=l.value[`offset${vc(v.value)}`],T=s.value[`offset${vc(v.value)}`],E=d.value;if(k-E<=T)return;const I=k-E>T*2?E+T:k-T;d.value=I},b=async()=>{const k=l.value;if(!f.value||!u.value||!s.value||!k)return;await xt();const T=u.value.querySelector(".is-active");if(!T)return;const E=s.value,I=["top","bottom"].includes(r.props.tabPosition),A=T.getBoundingClientRect(),N=E.getBoundingClientRect(),L=I?k.offsetWidth-N.width:k.offsetHeight-N.height,R=d.value;let D=R;I?(A.left<N.left&&(D=R-(N.left-A.left)),A.right>N.right&&(D=R+A.right-N.right)):(A.top<N.top&&(D=R-(N.top-A.top)),A.bottom>N.bottom&&(D=R+(A.bottom-N.bottom))),D=Math.max(D,0),d.value=Math.min(D,L)},x=()=>{var k;if(!l.value||!s.value)return;e.stretch&&((k=c.value)==null||k.update());const T=l.value[`offset${vc(v.value)}`],E=s.value[`offset${vc(v.value)}`],I=d.value;E<T?(f.value=f.value||{},f.value.prev=I,f.value.next=I+E<T,T-I<E&&(d.value=T-E)):(f.value=!1,I>0&&(d.value=0))},_=k=>{let T=0;switch(k.code){case lt.left:case lt.up:T=-1;break;case lt.right:case lt.down:T=1;break;default:return}const E=Array.from(k.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let A=E.indexOf(k.target)+T;A<0?A=E.length-1:A>=E.length&&(A=0),E[A].focus({preventScroll:!0}),E[A].click(),S()},S=()=>{p.value&&(h.value=!0)},C=()=>h.value=!1;return Le(i,k=>{k==="hidden"?p.value=!1:k==="visible"&&setTimeout(()=>p.value=!0,50)}),Le(o,k=>{k?setTimeout(()=>p.value=!0,50):p.value=!1}),Mr(u,x),zt(()=>setTimeout(()=>b(),0)),Xc(()=>x()),t({scrollToActiveTab:b,removeFocus:C}),()=>{const k=f.value?[ie("span",{class:[a.e("nav-prev"),a.is("disabled",!f.value.prev)],onClick:m},[ie(pt,null,{default:()=>[ie(Ih,null,null)]})]),ie("span",{class:[a.e("nav-next"),a.is("disabled",!f.value.next)],onClick:y},[ie(pt,null,{default:()=>[ie(Yo,null,null)]})])]:null,T=e.panes.map((E,I)=>{var A,N,L,R;const D=E.uid,P=E.props.disabled,O=(N=(A=E.props.name)!=null?A:E.index)!=null?N:`${I}`,M=!P&&(E.isClosable||e.editable);E.index=`${I}`;const W=M?ie(pt,{class:"is-icon-close",onClick:H=>n("tabRemove",E,H)},{default:()=>[ie(Ru,null,null)]}):null,U=((R=(L=E.slots).label)==null?void 0:R.call(L))||E.props.label,V=!P&&E.active?0:-1;return ie("div",{ref:`tab-${D}`,class:[a.e("item"),a.is(r.props.tabPosition),a.is("active",E.active),a.is("disabled",P),a.is("closable",M),a.is("focus",h.value)],id:`tab-${O}`,key:`tab-${D}`,"aria-controls":`pane-${O}`,role:"tab","aria-selected":E.active,tabindex:V,onFocus:()=>S(),onBlur:()=>C(),onClick:H=>{C(),n("tabClick",E,O,H)},onKeydown:H=>{M&&(H.code===lt.delete||H.code===lt.backspace)&&n("tabRemove",E,H)}},[U,W])});return ie("div",{ref:u,class:[a.e("nav-wrap"),a.is("scrollable",!!f.value),a.is(r.props.tabPosition)]},[k,ie("div",{class:a.e("nav-scroll"),ref:s},[ie("div",{class:[a.e("nav"),a.is(r.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:g.value,role:"tablist",onKeydown:_},[e.type?null:ie(JWe,{ref:c,tabs:[...e.panes]},null),T])])])}}}),nHe=je({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:be(Function),default:()=>!0},stretch:Boolean}),HR=e=>gt(e)||Tt(e),rHe={[Ht]:e=>HR(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>HR(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>HR(e),tabAdd:()=>!0},aHe=se({name:"ElTabs",props:nHe,emits:rHe,setup(e,{emit:t,slots:n,expose:r}){var a;const i=ze("tabs"),o=F(()=>["left","right"].includes(e.tabPosition)),{children:s,addChild:l,removeChild:u}=_B(jt(),"ElTabPane"),c=Y(),f=Y((a=e.modelValue)!=null?a:"0"),d=async(m,y=!1)=>{var b,x,_;if(!(f.value===m||qn(m)))try{await((b=e.beforeLeave)==null?void 0:b.call(e,m,f.value))!==!1&&(f.value=m,y&&(t(Ht,m),t("tabChange",m)),(_=(x=c.value)==null?void 0:x.removeFocus)==null||_.call(x))}catch{}},h=(m,y,b)=>{m.props.disabled||(d(y,!0),t("tabClick",m,b))},p=(m,y)=>{m.props.disabled||qn(m.props.name)||(y.stopPropagation(),t("edit",m.props.name,"remove"),t("tabRemove",m.props.name))},v=()=>{t("edit",void 0,"add"),t("tabAdd")};Le(()=>e.modelValue,m=>d(m)),Le(f,async()=>{var m;await xt(),(m=c.value)==null||m.scrollToActiveTab()}),hn(MA,{props:e,currentName:f,registerPane:m=>{s.value.push(m)},sortPane:l,unregisterPane:u}),r({currentName:f});const g=({render:m})=>m();return()=>{const m=n["add-icon"],y=e.editable||e.addable?ie("div",{class:[i.e("new-tab"),o.value&&i.e("new-tab-vertical")],tabindex:"0",onClick:v,onKeydown:_=>{[lt.enter,lt.numpadEnter].includes(_.code)&&v()}},[m?Se(n,"add-icon"):ie(pt,{class:i.is("icon-plus")},{default:()=>[ie(Gre,null,null)]})]):null,b=ie("div",{class:[i.e("header"),o.value&&i.e("header-vertical"),i.is(e.tabPosition)]},[ie(g,{render:()=>{const _=s.value.some(S=>S.slots.label);return ie(tHe,{ref:c,currentName:f.value,editable:e.editable,type:e.type,panes:s.value,stretch:e.stretch,onTabClick:h,onTabRemove:p},{$stable:!_})}},null),y]),x=ie("div",{class:i.e("content")},[Se(n,"default")]);return ie("div",{class:[i.b(),i.m(e.tabPosition),{[i.m("card")]:e.type==="card",[i.m("border-card")]:e.type==="border-card"}]},[x,b])}}});var iHe=aHe;const oHe=je({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Voe="ElTabPane",sHe=se({name:Voe}),lHe=se({...sHe,props:oHe,setup(e){const t=e,n=jt(),r=Sa(),a=ht(MA);a||Na(Voe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=ze("tab-pane"),o=Y(),s=F(()=>t.closable||a.props.closable),l=mO(()=>{var h;return a.currentName.value===((h=t.name)!=null?h:o.value)}),u=Y(l.value),c=F(()=>{var h;return(h=t.name)!=null?h:o.value}),f=mO(()=>!t.lazy||u.value||l.value);Le(l,h=>{h&&(u.value=!0)});const d=Ln({uid:n.uid,slots:r,props:t,paneName:c,active:l,index:o,isClosable:s});return a.registerPane(d),zt(()=>{a.sortPane(d)}),zu(()=>{a.unregisterPane(d.uid)}),(h,p)=>w(f)?Vt((z(),q("div",{key:0,id:`pane-${w(c)}`,class:G(w(i).b()),role:"tabpanel","aria-hidden":!w(l),"aria-labelledby":`tab-${w(c)}`},[Se(h.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[En,w(l)]]):Te("v-if",!0)}});var zoe=Ze(lHe,[["__file","tab-pane.vue"]]);const uHe=Bt(iHe,{TabPane:zoe}),cHe=Ur(zoe),fHe=je({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:qc,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),dHe=se({name:"ElText"}),hHe=se({...dHe,props:fHe,setup(e){const t=e,n=pa(),r=ze("text"),a=F(()=>[r.b(),r.m(t.type),r.m(n.value),r.is("truncated",t.truncated),r.is("line-clamp",!qn(t.lineClamp))]);return(i,o)=>(z(),Ae(tn(i.tag),{class:G(w(a)),style:yt({"-webkit-line-clamp":i.lineClamp})},{default:fe(()=>[Se(i.$slots,"default")]),_:3},8,["class","style"]))}});var pHe=Ze(hHe,[["__file","text.vue"]]);const vHe=Bt(pHe),gHe=je({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:be(String),default:"light"},clearable:{type:Boolean,default:!0},size:xa,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:be([String,Object]),default:()=>Hre},clearIcon:{type:be([String,Object]),default:()=>ld},...Uy}),Tf=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),a=e.toUpperCase();return a.includes("AM")&&n===12?n=0:a.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},UR=(e,t)=>{const n=Tf(e);if(!n)return-1;const r=Tf(t);if(!r)return-1;const a=n.minutes+n.hours*60,i=r.minutes+r.hours*60;return a===i?0:a>i?1:-1},d9=e=>`${e}`.padStart(2,"0"),Q0=e=>`${d9(e.hours)}:${d9(e.minutes)}`,mHe=(e,t)=>{const n=Tf(e);if(!n)return"";const r=Tf(t);if(!r)return"";const a={hours:n.hours,minutes:n.minutes};return a.minutes+=r.minutes,a.hours+=r.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,Q0(a)},yHe=se({name:"ElTimeSelect"}),bHe=se({...yHe,props:gHe,emits:["change","blur","focus","clear","update:modelValue"],setup(e,{expose:t}){const n=e;Lt.extend(kB);const{Option:r}=og,a=ze("input"),i=Y(),o=qi(),{lang:s}=_n(),l=F(()=>n.modelValue),u=F(()=>{const m=Tf(n.start);return m?Q0(m):null}),c=F(()=>{const m=Tf(n.end);return m?Q0(m):null}),f=F(()=>{const m=Tf(n.step);return m?Q0(m):null}),d=F(()=>{const m=Tf(n.minTime||"");return m?Q0(m):null}),h=F(()=>{const m=Tf(n.maxTime||"");return m?Q0(m):null}),p=F(()=>{const m=[];if(n.start&&n.end&&n.step){let y=u.value,b;for(;y&&c.value&&UR(y,c.value)<=0;)b=Lt(y,"HH:mm").locale(s.value).format(n.format),m.push({value:b,disabled:UR(y,d.value||"-1:-1")<=0||UR(y,h.value||"100:100")>=0}),y=mHe(y,f.value)}return m});return t({blur:()=>{var m,y;(y=(m=i.value)==null?void 0:m.blur)==null||y.call(m)},focus:()=>{var m,y;(y=(m=i.value)==null?void 0:m.focus)==null||y.call(m)}}),(m,y)=>(z(),Ae(w(og),{ref_key:"select",ref:i,"model-value":w(l),disabled:w(o),clearable:m.clearable,"clear-icon":m.clearIcon,size:m.size,effect:m.effect,placeholder:m.placeholder,"default-first-option":"",filterable:m.editable,"empty-values":m.emptyValues,"value-on-clear":m.valueOnClear,"onUpdate:modelValue":b=>m.$emit("update:modelValue",b),onChange:b=>m.$emit("change",b),onBlur:b=>m.$emit("blur",b),onFocus:b=>m.$emit("focus",b),onClear:()=>m.$emit("clear")},{prefix:fe(()=>[m.prefixIcon?(z(),Ae(w(pt),{key:0,class:G(w(a).e("prefix-icon"))},{default:fe(()=>[(z(),Ae(tn(m.prefixIcon)))]),_:1},8,["class"])):Te("v-if",!0)]),default:fe(()=>[(z(!0),q(vt,null,un(w(p),b=>(z(),Ae(w(r),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var xHe=Ze(bHe,[["__file","time-select.vue"]]);const wHe=Bt(xHe),_He=se({name:"ElTimeline",setup(e,{slots:t}){const n=ze("timeline");return hn("timeline",t),()=>Ct("ul",{class:[n.b()]},[Se(t,"default")])}}),SHe=je({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:er},hollow:Boolean}),CHe=se({name:"ElTimelineItem"}),THe=se({...CHe,props:SHe,setup(e){const t=e,n=ze("timeline-item"),r=F(()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]);return(a,i)=>(z(),q("li",{class:G([w(n).b(),{[w(n).e("center")]:a.center}])},[Z("div",{class:G(w(n).e("tail"))},null,2),a.$slots.dot?Te("v-if",!0):(z(),q("div",{key:0,class:G(w(r)),style:yt({backgroundColor:a.color})},[a.icon?(z(),Ae(w(pt),{key:0,class:G(w(n).e("icon"))},{default:fe(()=>[(z(),Ae(tn(a.icon)))]),_:1},8,["class"])):Te("v-if",!0)],6)),a.$slots.dot?(z(),q("div",{key:1,class:G(w(n).e("dot"))},[Se(a.$slots,"dot")],2)):Te("v-if",!0),Z("div",{class:G(w(n).e("wrapper"))},[!a.hideTimestamp&&a.placement==="top"?(z(),q("div",{key:0,class:G([w(n).e("timestamp"),w(n).is("top")])},Ve(a.timestamp),3)):Te("v-if",!0),Z("div",{class:G(w(n).e("content"))},[Se(a.$slots,"default")],2),!a.hideTimestamp&&a.placement==="bottom"?(z(),q("div",{key:1,class:G([w(n).e("timestamp"),w(n).is("bottom")])},Ve(a.timestamp),3)):Te("v-if",!0)],2)],2))}});var Woe=Ze(THe,[["__file","timeline-item.vue"]]);const kHe=Bt(_He,{TimelineItem:Woe}),IHe=Ur(Woe),Hoe=je({nowrap:Boolean});var Uoe=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(Uoe||{});const EHe=Object.values(Uoe),nV=je({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:be(Object),default:null}}),AHe=je({side:{type:be(String),values:EHe,required:!0}}),DHe=["absolute","fixed"],NHe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],rV=je({arrowPadding:{type:be(Number),default:5},effect:{type:be(String),default:"light"},contentClass:String,placement:{type:be(String),values:NHe,default:"bottom"},reference:{type:be(Object),default:null},offset:{type:Number,default:8},strategy:{type:be(String),values:DHe,default:"absolute"},showArrow:Boolean,...Ei(["ariaLabel"])}),aV=je({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:be(Function)},"onUpdate:open":{type:be(Function)}}),_0={type:be(Function)},iV=je({onBlur:_0,onClick:_0,onFocus:_0,onMouseDown:_0,onMouseEnter:_0,onMouseLeave:_0}),RHe=je({...aV,...nV,...iV,...rV,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:be(Object),default:null},teleported:Boolean,to:{type:be(String),default:"body"}}),$A=Symbol("tooltipV2"),Goe=Symbol("tooltipV2Content"),GR="tooltip_v2.open",MHe=se({name:"ElTooltipV2Root"}),$He=se({...MHe,props:aV,setup(e,{expose:t}){const n=e,r=Y(n.defaultOpen),a=Y(null),i=F({get:()=>rg(n.open)?r.value:n.open,set:g=>{var m;r.value=g,(m=n["onUpdate:open"])==null||m.call(n,g)}}),o=F(()=>Tt(n.delayDuration)&&n.delayDuration>0),{start:s,stop:l}=ag(()=>{i.value=!0},F(()=>n.delayDuration),{immediate:!1}),u=ze("tooltip-v2"),c=Ii(),f=()=>{l(),i.value=!0},d=()=>{w(o)?s():f()},h=f,p=()=>{l(),i.value=!1};return Le(i,g=>{var m;g&&(document.dispatchEvent(new CustomEvent(GR)),h()),(m=n.onOpenChange)==null||m.call(n,g)}),zt(()=>{document.addEventListener(GR,p)}),ar(()=>{l(),document.removeEventListener(GR,p)}),hn($A,{contentId:c,triggerRef:a,ns:u,onClose:p,onDelayOpen:d,onOpen:h}),t({onOpen:h,onClose:p}),(g,m)=>Se(g.$slots,"default",{open:w(i)})}});var LHe=Ze($He,[["__file","root.vue"]]);const OHe=se({name:"ElTooltipV2Arrow"}),PHe=se({...OHe,props:{...nV,...AHe},setup(e){const t=e,{ns:n}=ht($A),{arrowRef:r}=ht(Goe),a=F(()=>{const{style:i,width:o,height:s}=t,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${o}px`,[`--${l}-tooltip-v2-arrow-height`]:`${s}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${o/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:o/2-1,...i||{}}});return(i,o)=>(z(),q("span",{ref_key:"arrowRef",ref:r,style:yt(w(a)),class:G(w(n).e("arrow"))},null,6))}});var h9=Ze(PHe,[["__file","arrow.vue"]]);const oy=Math.min,Bv=Math.max,uI=Math.round,XC=Math.floor,Tc=e=>({x:e,y:e}),FHe={left:"right",right:"left",bottom:"top",top:"bottom"},BHe={start:"end",end:"start"};function lP(e,t,n){return Bv(e,oy(t,n))}function N_(e,t){return typeof e=="function"?e(t):e}function lg(e){return e.split("-")[0]}function R_(e){return e.split("-")[1]}function Koe(e){return e==="x"?"y":"x"}function oV(e){return e==="y"?"height":"width"}function sy(e){return["top","bottom"].includes(lg(e))?"y":"x"}function sV(e){return Koe(sy(e))}function VHe(e,t,n){n===void 0&&(n=!1);const r=R_(e),a=sV(e),i=oV(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=cI(o)),[o,cI(o)]}function zHe(e){const t=cI(e);return[uP(e),t,uP(t)]}function uP(e){return e.replace(/start|end/g,t=>BHe[t])}function WHe(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function HHe(e,t,n,r){const a=R_(e);let i=WHe(lg(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(uP)))),i}function cI(e){return e.replace(/left|right|bottom|top/g,t=>FHe[t])}function UHe(e){return{top:0,right:0,bottom:0,left:0,...e}}function joe(e){return typeof e!="number"?UHe(e):{top:e,right:e,bottom:e,left:e}}function fI(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function p9(e,t,n){let{reference:r,floating:a}=e;const i=sy(t),o=sV(t),s=oV(o),l=lg(t),u=i==="y",c=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,d=r[s]/2-a[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-a.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-a.width,y:f};break;default:h={x:r.x,y:r.y}}switch(R_(t)){case"start":h[o]-=d*(n&&u?-1:1);break;case"end":h[o]+=d*(n&&u?-1:1);break}return h}const GHe=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,s=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:f}=p9(u,r,l),d=r,h={},p=0;for(let v=0;v<s.length;v++){const{name:g,fn:m}=s[v],{x:y,y:b,data:x,reset:_}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=y??c,f=b??f,h={...h,[g]:{...h[g],...x}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:c,y:f}=p9(u,d,l)),v=-1)}return{x:c,y:f,placement:d,strategy:a,middlewareData:h}};async function lV(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=N_(t,e),p=joe(h),g=s[d?f==="floating"?"reference":"floating":f],m=fI(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),x=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=fI(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(m.top-_.top+p.top)/x.y,bottom:(_.bottom-m.bottom+p.bottom)/x.y,left:(m.left-_.left+p.left)/x.x,right:(_.right-m.right+p.right)/x.x}}const KHe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=N_(e,t)||{};if(u==null)return{};const f=joe(c),d={x:n,y:r},h=sV(a),p=oV(h),v=await o.getDimensions(u),g=h==="y",m=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",x=i.reference[p]+i.reference[h]-d[h]-i.floating[p],_=d[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[b]||i.floating[p]);const k=x/2-_/2,T=C/2-v[p]/2-1,E=oy(f[m],T),I=oy(f[y],T),A=E,N=C-v[p]-I,L=C/2-v[p]/2+k,R=lP(A,L,N),D=!l.arrow&&R_(a)!=null&&L!==R&&i.reference[p]/2-(L<A?E:I)-v[p]/2<0,P=D?L<A?L-A:L-N:0;return{[h]:d[h]+P,data:{[h]:R,centerOffset:L-R-P,...D&&{alignmentOffset:P}},reset:D}}}),jHe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...g}=N_(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const m=lg(a),y=sy(s),b=lg(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=d||(b||!v?[cI(s)]:zHe(s)),S=p!=="none";!d&&S&&_.push(...HHe(s,v,p,x));const C=[s,..._],k=await lV(t,g),T=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&T.push(k[m]),f){const L=VHe(a,o,x);T.push(k[L[0]],k[L[1]])}if(E=[...E,{placement:a,overflows:T}],!T.every(L=>L<=0)){var I,A;const L=(((I=i.flip)==null?void 0:I.index)||0)+1,R=C[L];if(R)return{data:{index:L,overflows:E},reset:{placement:R}};let D=(A=E.filter(P=>P.overflows[0]<=0).sort((P,O)=>P.overflows[1]-O.overflows[1])[0])==null?void 0:A.placement;if(!D)switch(h){case"bestFit":{var N;const P=(N=E.filter(O=>{if(S){const M=sy(O.placement);return M===y||M==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(M=>M>0).reduce((M,W)=>M+W,0)]).sort((O,M)=>O[1]-M[1])[0])==null?void 0:N[0];P&&(D=P);break}case"initialPlacement":D=s;break}if(a!==D)return{reset:{placement:D}}}return{}}}};async function YHe(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=lg(n),s=R_(n),l=sy(n)==="y",u=["left","top"].includes(o)?-1:1,c=i&&l?-1:1,f=N_(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const XHe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await YHe(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},qHe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:m,y}=g;return{x:m,y}}},...l}=N_(e,t),u={x:n,y:r},c=await lV(t,l),f=sy(lg(a)),d=Koe(f);let h=u[d],p=u[f];if(i){const g=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=h+c[g],b=h-c[m];h=lP(y,h,b)}if(o){const g=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=p+c[g],b=p-c[m];p=lP(y,p,b)}const v=s.fn({...t,[d]:h,[f]:p});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:i,[f]:o}}}}}};function LA(){return typeof window<"u"}function Xy(e){return Yoe(e)?(e.nodeName||"").toLowerCase():"#document"}function Us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tf(e){var t;return(t=(Yoe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Yoe(e){return LA()?e instanceof Node||e instanceof Us(e).Node:!1}function $u(e){return LA()?e instanceof Element||e instanceof Us(e).Element:!1}function Pc(e){return LA()?e instanceof HTMLElement||e instanceof Us(e).HTMLElement:!1}function v9(e){return!LA()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Us(e).ShadowRoot}function M_(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Lu(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function ZHe(e){return["table","td","th"].includes(Xy(e))}function OA(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function uV(e){const t=cV(),n=$u(e)?Lu(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function JHe(e){let t=Nh(e);for(;Pc(t)&&!ly(t);){if(uV(t))return t;if(OA(t))return null;t=Nh(t)}return null}function cV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ly(e){return["html","body","#document"].includes(Xy(e))}function Lu(e){return Us(e).getComputedStyle(e)}function PA(e){return $u(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nh(e){if(Xy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||v9(e)&&e.host||tf(e);return v9(t)?t.host:t}function Xoe(e){const t=Nh(e);return ly(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pc(t)&&M_(t)?t:Xoe(t)}function fw(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=Xoe(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Us(a);if(i){const s=cP(o);return t.concat(o,o.visualViewport||[],M_(a)?a:[],s&&n?fw(s):[])}return t.concat(a,fw(a,[],n))}function cP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qoe(e){const t=Lu(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Pc(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,s=uI(n)!==i||uI(r)!==o;return s&&(n=i,r=o),{width:n,height:r,$:s}}function fV(e){return $u(e)?e:e.contextElement}function Am(e){const t=fV(e);if(!Pc(t))return Tc(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=qoe(t);let o=(i?uI(n.width):n.width)/r,s=(i?uI(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const QHe=Tc(0);function Zoe(e){const t=Us(e);return!cV()||!t.visualViewport?QHe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function eUe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Us(e)?!1:t}function ug(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=fV(e);let o=Tc(1);t&&(r?$u(r)&&(o=Am(r)):o=Am(e));const s=eUe(i,n,r)?Zoe(i):Tc(0);let l=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,c=a.width/o.x,f=a.height/o.y;if(i){const d=Us(i),h=r&&$u(r)?Us(r):r;let p=d,v=cP(p);for(;v&&r&&h!==p;){const g=Am(v),m=v.getBoundingClientRect(),y=Lu(v),b=m.left+(v.clientLeft+parseFloat(y.paddingLeft))*g.x,x=m.top+(v.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,f*=g.y,l+=b,u+=x,p=Us(v),v=cP(p)}}return fI({width:c,height:f,x:l,y:u})}function dV(e,t){const n=PA(e).scrollLeft;return t?t.left+n:ug(tf(e)).left+n}function Joe(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:dV(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function tUe(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=tf(r),s=t?OA(t.floating):!1;if(r===o||s&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Tc(1);const c=Tc(0),f=Pc(r);if((f||!f&&!i)&&((Xy(r)!=="body"||M_(o))&&(l=PA(r)),Pc(r))){const h=ug(r);u=Am(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=o&&!f&&!i?Joe(o,l,!0):Tc(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function nUe(e){return Array.from(e.getClientRects())}function rUe(e){const t=tf(e),n=PA(e),r=e.ownerDocument.body,a=Bv(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Bv(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+dV(e);const s=-n.scrollTop;return Lu(r).direction==="rtl"&&(o+=Bv(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:s}}function aUe(e,t){const n=Us(e),r=tf(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const u=cV();(!u||u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}function iUe(e,t){const n=ug(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Pc(e)?Am(e):Tc(1),o=e.clientWidth*i.x,s=e.clientHeight*i.y,l=a*i.x,u=r*i.y;return{width:o,height:s,x:l,y:u}}function g9(e,t,n){let r;if(t==="viewport")r=aUe(e,n);else if(t==="document")r=rUe(tf(e));else if($u(t))r=iUe(t,n);else{const a=Zoe(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return fI(r)}function Qoe(e,t){const n=Nh(e);return n===t||!$u(n)||ly(n)?!1:Lu(n).position==="fixed"||Qoe(n,t)}function oUe(e,t){const n=t.get(e);if(n)return n;let r=fw(e,[],!1).filter(s=>$u(s)&&Xy(s)!=="body"),a=null;const i=Lu(e).position==="fixed";let o=i?Nh(e):e;for(;$u(o)&&!ly(o);){const s=Lu(o),l=uV(o);!l&&s.position==="fixed"&&(a=null),(i?!l&&!a:!l&&s.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||M_(o)&&!l&&Qoe(e,o))?r=r.filter(c=>c!==o):a=s,o=Nh(o)}return t.set(e,r),r}function sUe(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?OA(t)?[]:oUe(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((u,c)=>{const f=g9(t,c,a);return u.top=Bv(f.top,u.top),u.right=oy(f.right,u.right),u.bottom=oy(f.bottom,u.bottom),u.left=Bv(f.left,u.left),u},g9(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lUe(e){const{width:t,height:n}=qoe(e);return{width:t,height:n}}function uUe(e,t,n){const r=Pc(t),a=tf(t),i=n==="fixed",o=ug(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Tc(0);if(r||!r&&!i)if((Xy(t)!=="body"||M_(a))&&(s=PA(t)),r){const d=ug(t,!0,i,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else a&&(l.x=dV(a));const u=a&&!r&&!i?Joe(a,s):Tc(0),c=o.left+s.scrollLeft-l.x-u.x,f=o.top+s.scrollTop-l.y-u.y;return{x:c,y:f,width:o.width,height:o.height}}function KR(e){return Lu(e).position==="static"}function m9(e,t){if(!Pc(e)||Lu(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return tf(e)===n&&(n=n.ownerDocument.body),n}function ese(e,t){const n=Us(e);if(OA(e))return n;if(!Pc(e)){let a=Nh(e);for(;a&&!ly(a);){if($u(a)&&!KR(a))return a;a=Nh(a)}return n}let r=m9(e,t);for(;r&&ZHe(r)&&KR(r);)r=m9(r,t);return r&&ly(r)&&KR(r)&&!uV(r)?n:r||JHe(e)||n}const cUe=async function(e){const t=this.getOffsetParent||ese,n=this.getDimensions,r=await n(e.floating);return{reference:uUe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fUe(e){return Lu(e).direction==="rtl"}const dUe={convertOffsetParentRelativeRectToViewportRelativeRect:tUe,getDocumentElement:tf,getClippingRect:sUe,getOffsetParent:ese,getElementRects:cUe,getClientRects:nUe,getDimensions:lUe,getScale:Am,isElement:$u,isRTL:fUe};function hUe(e,t){let n=null,r;const a=tf(e);function i(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=XC(c),p=XC(a.clientWidth-(u+f)),v=XC(a.clientHeight-(c+d)),g=XC(u),y={rootMargin:-h+"px "+-p+"px "+-v+"px "+-g+"px",threshold:Bv(0,oy(1,l))||1};let b=!0;function x(_){const S=_[0].intersectionRatio;if(S!==l){if(!b)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(x,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(x,y)}n.observe(e)}return o(!0),i}function pUe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=fV(e),c=a||i?[...u?fw(u):[],...fw(t)]:[];c.forEach(m=>{a&&m.addEventListener("scroll",n,{passive:!0}),i&&m.addEventListener("resize",n)});const f=u&&s?hUe(u,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(m=>{let[y]=m;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,v=l?ug(e):null;l&&g();function g(){const m=ug(e);v&&(m.x!==v.x||m.y!==v.y||m.width!==v.width||m.height!==v.height)&&n(),v=m,p=requestAnimationFrame(g)}return n(),()=>{var m;c.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const vUe=lV,tse=XHe,gUe=qHe,mUe=jHe,nse=KHe,rse=(e,t,n)=>{const r=new Map,a={platform:dUe,...n},i={...a.platform,_c:r};return GHe(e,t,{...a,platform:i})},yUe=je({style:{type:be([String,Object,Array]),default:()=>({})}}),bUe=se({name:"ElVisuallyHidden"}),xUe=se({...bUe,props:yUe,setup(e){const t=e,n=F(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,a)=>(z(),q("span",rn(r.$attrs,{style:w(n)}),[Se(r.$slots,"default")],16))}});var wUe=Ze(xUe,[["__file","visual-hidden.vue"]]);je({});const _Ue=e=>{if(!wn)return;if(!e)return e;const t=Ko(e);return t||(vr(e)?t:e)},SUe=({middleware:e,placement:t,strategy:n})=>{const r=Y(),a=Y(),i=Y(),o=Y(),s=Y({}),l={x:i,y:o,placement:t,strategy:n,middlewareData:s},u=async()=>{if(!wn)return;const c=_Ue(r),f=Ko(a);if(!c||!f)return;const d=await rse(c,f,{placement:w(t),strategy:w(n),middleware:w(e)});qm(l).forEach(h=>{l[h].value=d[h]})};return zt(()=>{Pi(()=>{u()})}),{...l,update:u,referenceRef:r,contentRef:a}},CUe=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const r=w(e);return r?nse({element:r,padding:t}).fn(n):{}}}),TUe=se({name:"ElTooltipV2Content"}),kUe=se({...TUe,props:{...rV,...Hoe},setup(e){const t=e,{triggerRef:n,contentId:r}=ht($A),a=Y(t.placement),i=Y(t.strategy),o=Y(null),{referenceRef:s,contentRef:l,middlewareData:u,x:c,y:f,update:d}=SUe({placement:a,strategy:i,middleware:F(()=>{const b=[tse(t.offset)];return t.showArrow&&b.push(CUe({arrowRef:o})),b})}),h=Hy().nextZIndex(),p=ze("tooltip-v2"),v=F(()=>a.value.split("-")[0]),g=F(()=>({position:w(i),top:`${w(f)||0}px`,left:`${w(c)||0}px`,zIndex:h})),m=F(()=>{if(!t.showArrow)return{};const{arrow:b}=w(u);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),y=F(()=>[p.e("content"),p.is("dark",t.effect==="dark"),p.is(w(i)),t.contentClass]);return Le(o,()=>d()),Le(()=>t.placement,b=>a.value=b),zt(()=>{Le(()=>t.reference||n.value,b=>{s.value=b||void 0},{immediate:!0})}),hn(Goe,{arrowRef:o}),(b,x)=>(z(),q("div",{ref_key:"contentRef",ref:l,style:yt(w(g)),"data-tooltip-v2-root":""},[b.nowrap?Te("v-if",!0):(z(),q("div",{key:0,"data-side":w(v),class:G(w(y))},[Se(b.$slots,"default",{contentStyle:w(g),contentClass:w(y)}),ie(w(wUe),{id:w(r),role:"tooltip"},{default:fe(()=>[b.ariaLabel?(z(),q(vt,{key:0},[Kt(Ve(b.ariaLabel),1)],64)):Se(b.$slots,"default",{key:1})]),_:3},8,["id"]),Se(b.$slots,"arrow",{style:yt(w(m)),side:w(v)})],10,["data-side"]))],4))}});var y9=Ze(kUe,[["__file","content.vue"]]);const IUe=je({setRef:{type:be(Function),required:!0},onlyChild:Boolean});var EUe=se({props:IUe,setup(e,{slots:t}){const n=Y(),r=AA(n,a=>{a?e.setRef(a.nextElementSibling):e.setRef(null)});return()=>{var a;const[i]=((a=t.default)==null?void 0:a.call(t))||[],o=e.onlyChild?O$e(i.children):i.children;return ie(vt,{ref:r},[o])}}});const AUe=se({name:"ElTooltipV2Trigger"}),DUe=se({...AUe,props:{...Hoe,...iV},setup(e){const t=e,{onClose:n,onOpen:r,onDelayOpen:a,triggerRef:i,contentId:o}=ht($A);let s=!1;const l=y=>{i.value=y},u=()=>{s=!1},c=Qr(t.onMouseEnter,a),f=Qr(t.onMouseLeave,n),d=Qr(t.onMouseDown,()=>{n(),s=!0,document.addEventListener("mouseup",u,{once:!0})}),h=Qr(t.onFocus,()=>{s||r()}),p=Qr(t.onBlur,n),v=Qr(t.onClick,y=>{y.detail===0&&n()}),g={blur:p,click:v,focus:h,mousedown:d,mouseenter:c,mouseleave:f},m=(y,b,x)=>{y&&Object.entries(b).forEach(([_,S])=>{y[x](_,S)})};return Le(i,(y,b)=>{m(y,g,"addEventListener"),m(b,g,"removeEventListener"),y&&y.setAttribute("aria-describedby",o.value)}),ar(()=>{m(i.value,g,"removeEventListener"),document.removeEventListener("mouseup",u)}),(y,b)=>y.nowrap?(z(),Ae(w(EUe),{key:0,"set-ref":l,"only-child":""},{default:fe(()=>[Se(y.$slots,"default")]),_:3})):(z(),q("button",rn({key:1,ref_key:"triggerRef",ref:i},y.$attrs),[Se(y.$slots,"default")],16))}});var NUe=Ze(DUe,[["__file","trigger.vue"]]);const RUe=se({name:"ElTooltipV2"}),MUe=se({...RUe,props:RHe,setup(e){const n=di(e),r=Ln(pu(n,Object.keys(nV))),a=Ln(pu(n,Object.keys(rV))),i=Ln(pu(n,Object.keys(aV))),o=Ln(pu(n,Object.keys(iV)));return(s,l)=>(z(),Ae(LHe,hu(Sh(i)),{default:fe(({open:u})=>[ie(NUe,rn(o,{nowrap:""}),{default:fe(()=>[Se(s.$slots,"trigger")]),_:3},16),ie(w(Ky),{to:s.to,disabled:!s.teleported},{default:fe(()=>[s.fullTransition?(z(),Ae(hi,hu(rn({key:0},s.transitionProps)),{default:fe(()=>[s.alwaysOn||u?(z(),Ae(y9,hu(rn({key:0},a)),{arrow:fe(({style:c,side:f})=>[s.showArrow?(z(),Ae(h9,rn({key:0},r,{style:c,side:f}),null,16,["style","side"])):Te("v-if",!0)]),default:fe(()=>[Se(s.$slots,"default")]),_:3},16)):Te("v-if",!0)]),_:2},1040)):(z(),q(vt,{key:1},[s.alwaysOn||u?(z(),Ae(y9,hu(rn({key:0},a)),{arrow:fe(({style:c,side:f})=>[s.showArrow?(z(),Ae(h9,rn({key:0},r,{style:c,side:f}),null,16,["style","side"])):Te("v-if",!0)]),default:fe(()=>[Se(s.$slots,"default")]),_:3},16)):Te("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var $Ue=Ze(MUe,[["__file","tooltip.vue"]]);const LUe=Bt($Ue),ase="left-check-change",ise="right-check-change",em=je({data:{type:be(Array),default:()=>[]},titles:{type:be(Array),default:()=>[]},buttonTexts:{type:be(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:be(Function)},leftDefaultChecked:{type:be(Array),default:()=>[]},rightDefaultChecked:{type:be(Array),default:()=>[]},renderContent:{type:be(Function)},modelValue:{type:be(Array),default:()=>[]},format:{type:be(Object),default:()=>({})},filterable:Boolean,props:{type:be(Object),default:()=>zr({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),fP=(e,t)=>[e,t].every(Ke)||Ke(e)&&Ua(t),OUe={[Qn]:(e,t,n)=>[e,n].every(Ke)&&["left","right"].includes(t),[Ht]:e=>Ke(e),[ase]:fP,[ise]:fP},dP="checked-change",PUe=je({data:em.data,optionRender:{type:be(Function)},placeholder:String,title:String,filterable:Boolean,format:em.format,filterMethod:em.filterMethod,defaultChecked:em.leftDefaultChecked,props:em.props}),FUe={[dP]:fP},$_=e=>{const t={label:"label",key:"key",disabled:"disabled"};return F(()=>({...t,...e.props}))},BUe=(e,t,n)=>{const r=$_(e),a=F(()=>e.data.filter(c=>mt(e.filterMethod)?e.filterMethod(t.query,c):String(c[r.value.label]||c[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),i=F(()=>a.value.filter(c=>!c[r.value.disabled])),o=F(()=>{const c=t.checked.length,f=e.data.length,{noChecked:d,hasChecked:h}=e.format;return d&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,f.toString()):d.replace(/\${total}/g,f.toString()):`${c}/${f}`}),s=F(()=>{const c=t.checked.length;return c>0&&c<i.value.length}),l=()=>{const c=i.value.map(f=>f[r.value.key]);t.allChecked=c.length>0&&c.every(f=>t.checked.includes(f))},u=c=>{t.checked=c?i.value.map(f=>f[r.value.key]):[]};return Le(()=>t.checked,(c,f)=>{if(l(),t.checkChangeByUser){const d=c.concat(f).filter(h=>!c.includes(h)||!f.includes(h));n(dP,c,d)}else n(dP,c),t.checkChangeByUser=!0}),Le(i,()=>{l()}),Le(()=>e.data,()=>{const c=[],f=a.value.map(d=>d[r.value.key]);t.checked.forEach(d=>{f.includes(d)&&c.push(d)}),t.checkChangeByUser=!1,t.checked=c}),Le(()=>e.defaultChecked,(c,f)=>{if(f&&c.length===f.length&&c.every(p=>f.includes(p)))return;const d=[],h=i.value.map(p=>p[r.value.key]);c.forEach(p=>{h.includes(p)&&d.push(p)}),t.checkChangeByUser=!1,t.checked=d},{immediate:!0}),{filteredData:a,checkableData:i,checkedSummary:o,isIndeterminate:s,updateAllChecked:l,handleAllCheckedChange:u}},VUe=se({name:"ElTransferPanel"}),zUe=se({...VUe,props:PUe,emits:FUe,setup(e,{expose:t,emit:n}){const r=e,a=Sa(),i=({option:b})=>b,{t:o}=_n(),s=ze("transfer"),l=Ln({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=$_(r),{filteredData:c,checkedSummary:f,isIndeterminate:d,handleAllCheckedChange:h}=BUe(r,l,n),p=F(()=>!Ms(l.query)&&Ms(c.value)),v=F(()=>!Ms(a.default()[0].children)),{checked:g,allChecked:m,query:y}=di(l);return t({query:y}),(b,x)=>(z(),q("div",{class:G(w(s).b("panel"))},[Z("p",{class:G(w(s).be("panel","header"))},[ie(w(Pl),{modelValue:w(m),"onUpdate:modelValue":_=>vr(m)?m.value=_:null,indeterminate:w(d),"validate-event":!1,onChange:w(h)},{default:fe(()=>[Kt(Ve(b.title)+" ",1),Z("span",null,Ve(w(f)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),Z("div",{class:G([w(s).be("panel","body"),w(s).is("with-footer",w(v))])},[b.filterable?(z(),Ae(w(mo),{key:0,modelValue:w(y),"onUpdate:modelValue":_=>vr(y)?y.value=_:null,class:G(w(s).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":w(zAe),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Te("v-if",!0),Vt(ie(w(Vae),{modelValue:w(g),"onUpdate:modelValue":_=>vr(g)?g.value=_:null,"validate-event":!1,class:G([w(s).is("filterable",b.filterable),w(s).be("panel","list")])},{default:fe(()=>[(z(!0),q(vt,null,un(w(c),_=>(z(),Ae(w(Pl),{key:_[w(u).key],class:G(w(s).be("panel","item")),value:_[w(u).key],disabled:_[w(u).disabled],"validate-event":!1},{default:fe(()=>{var S;return[ie(i,{option:(S=b.optionRender)==null?void 0:S.call(b,_)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[En,!w(p)&&!w(Ms)(b.data)]]),Vt(Z("div",{class:G(w(s).be("panel","empty"))},[Se(b.$slots,"empty",{},()=>[Kt(Ve(w(p)?w(o)("el.transfer.noMatch"):w(o)("el.transfer.noData")),1)])],2),[[En,w(p)||w(Ms)(b.data)]])],2),w(v)?(z(),q("p",{key:0,class:G(w(s).be("panel","footer"))},[Se(b.$slots,"default")],2)):Te("v-if",!0)],2))}});var b9=Ze(zUe,[["__file","transfer-panel.vue"]]);const WUe=e=>{const t=$_(e),n=F(()=>e.data.reduce((i,o)=>(i[o[t.value.key]]=o)&&i,{})),r=F(()=>e.data.filter(i=>!e.modelValue.includes(i[t.value.key]))),a=F(()=>e.targetOrder==="original"?e.data.filter(i=>e.modelValue.includes(i[t.value.key])):e.modelValue.reduce((i,o)=>{const s=n.value[o];return s&&i.push(s),i},[]));return{sourceData:r,targetData:a}},HUe=(e,t,n)=>{const r=$_(e),a=(s,l,u)=>{n(Ht,s),n(Qn,s,l,u)};return{addToLeft:()=>{const s=e.modelValue.slice();t.rightChecked.forEach(l=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)}),a(s,"left",t.rightChecked)},addToRight:()=>{let s=e.modelValue.slice();const l=e.data.filter(u=>{const c=u[r.value.key];return t.leftChecked.includes(c)&&!e.modelValue.includes(c)}).map(u=>u[r.value.key]);s=e.targetOrder==="unshift"?l.concat(s):s.concat(l),e.targetOrder==="original"&&(s=e.data.filter(u=>s.includes(u[r.value.key])).map(u=>u[r.value.key])),a(s,"right",t.leftChecked)}}},UUe=(e,t)=>({onSourceCheckedChange:(a,i)=>{e.leftChecked=a,i&&t(ase,a,i)},onTargetCheckedChange:(a,i)=>{e.rightChecked=a,i&&t(ise,a,i)}}),GUe=se({name:"ElTransfer"}),KUe=se({...GUe,props:em,emits:OUe,setup(e,{expose:t,emit:n}){const r=e,a=Sa(),{t:i}=_n(),o=ze("transfer"),{formItem:s}=Xi(),l=Ln({leftChecked:[],rightChecked:[]}),u=$_(r),{sourceData:c,targetData:f}=WUe(r),{onSourceCheckedChange:d,onTargetCheckedChange:h}=UUe(l,n),{addToLeft:p,addToRight:v}=HUe(r,l,n),g=Y(),m=Y(),y=k=>{switch(k){case"left":g.value.query="";break;case"right":m.value.query="";break}},b=F(()=>r.buttonTexts.length===2),x=F(()=>r.titles[0]||i("el.transfer.titles.0")),_=F(()=>r.titles[1]||i("el.transfer.titles.1")),S=F(()=>r.filterPlaceholder||i("el.transfer.filterPlaceholder"));Le(()=>r.modelValue,()=>{var k;r.validateEvent&&((k=s==null?void 0:s.validate)==null||k.call(s,"change").catch(T=>void 0))});const C=F(()=>k=>{var T;if(r.renderContent)return r.renderContent(Ct,k);const E=(((T=a.default)==null?void 0:T.call(a,{option:k}))||[]).filter(I=>I.type!==ti);return E.length?E:Ct("span",k[u.value.label]||k[u.value.key])});return t({clearQuery:y,leftPanel:g,rightPanel:m}),(k,T)=>(z(),q("div",{class:G(w(o).b())},[ie(b9,{ref_key:"leftPanel",ref:g,data:w(c),"option-render":w(C),placeholder:w(S),title:w(x),filterable:k.filterable,format:k.format,"filter-method":k.filterMethod,"default-checked":k.leftDefaultChecked,props:r.props,onCheckedChange:w(d)},{empty:fe(()=>[Se(k.$slots,"left-empty")]),default:fe(()=>[Se(k.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:G(w(o).e("buttons"))},[ie(w(si),{type:"primary",class:G([w(o).e("button"),w(o).is("with-texts",w(b))]),disabled:w(Ms)(l.rightChecked),onClick:w(p)},{default:fe(()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1}),w(qn)(k.buttonTexts[0])?Te("v-if",!0):(z(),q("span",{key:0},Ve(k.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ie(w(si),{type:"primary",class:G([w(o).e("button"),w(o).is("with-texts",w(b))]),disabled:w(Ms)(l.leftChecked),onClick:w(v)},{default:fe(()=>[w(qn)(k.buttonTexts[1])?Te("v-if",!0):(z(),q("span",{key:0},Ve(k.buttonTexts[1]),1)),ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ie(b9,{ref_key:"rightPanel",ref:m,data:w(f),"option-render":w(C),placeholder:w(S),filterable:k.filterable,format:k.format,"filter-method":k.filterMethod,title:w(_),"default-checked":k.rightDefaultChecked,props:r.props,onCheckedChange:w(h)},{empty:fe(()=>[Se(k.$slots,"right-empty")]),default:fe(()=>[Se(k.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var jUe=Ze(KUe,[["__file","transfer.vue"]]);const YUe=Bt(jUe),Dm="$treeNodeId",x9=function(e,t){!t||t[Dm]||Object.defineProperty(t,Dm,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},hV=function(e,t){return e?t[e]:t[Dm]},hP=(e,t,n)=>{const r=e.value.currentNode;n();const a=e.value.currentNode;r!==a&&t("current-change",a?a.data:null,a)},pP=e=>{let t=!0,n=!0,r=!0;for(let a=0,i=e.length;a<i;a++){const o=e[a];(o.checked!==!0||o.indeterminate)&&(t=!1,o.disabled||(r=!1)),(o.checked!==!1||o.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},Tb=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:r}=pP(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||Tb(a)},qC=function(e,t){const n=e.store.props,r=e.data||{},a=n[t];if(mt(a))return a(r,e);if(gt(a))return r[a];if(qn(a)){const i=r[t];return i===void 0?"":i}};let XUe=0,vP=class ek{constructor(t){this.id=XUe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)Dn(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const i=qC(this,"isLeaf");lr(i)&&(this.isLeafByUser=i)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Ke(this.data)||x9(this,this.data),!this.data)return;const r=t.defaultExpandedKeys,a=t.key;a&&r&&r.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Ke(t)||x9(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Ke(this.data)?n=this.data:n=qC(this,"children")||[];for(let r=0,a=n.length;r<a;r++)this.insertChild({data:n[r]})}get label(){return qC(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return qC(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof ek)){if(!r){const a=this.getChildren(!0);a.includes(t.data)||(qn(n)||n<0?a.push(t.data):a.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ln(new ek(t)),t instanceof ek&&t.initialize()}t.level=this.level+1,qn(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===t){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Ke(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Tb(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,r,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:o,allWithoutDisable:s}=pP(this.childNodes);!this.isLeaf&&!o&&s&&(this.checked=!1,t=!1);const l=()=>{if(n){const u=this.childNodes;for(let d=0,h=u.length;d<h;d++){const p=u[d];a=a||t!==!1;const v=p.disabled?p.checked:a;p.setChecked(v,n,!0,a)}const{half:c,all:f}=pP(u);f||(this.checked=f,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),Tb(this)},{checked:t!==!1});return}else l()}const i=this.parent;!i||i.level===0||r||Tb(i)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let a="children";return r&&(a=r.children||"children"),n[a]===void 0&&(n[a]=null),t&&!n[a]&&(n[a]=[]),n[a]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(i=>i.data),r={},a=[];t.forEach((i,o)=>{const s=i[Dm];!!s&&n.findIndex(u=>u[Dm]===s)>=0?r[s]={index:o,data:i}:a.push({index:o,data:i})}),this.store.lazy||n.forEach(i=>{r[i[Dm]]||this.removeChildByData(i)}),a.forEach(({index:i,data:o})=>{this.insertChild({data:o},i)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=i=>{this.childNodes=[],this.doCreateChildren(i,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,i)},a=()=>{this.loading=!1};this.store.load(this,r,a)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||Tb(this)}};class qUe{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)Dn(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new vP({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,a=function(i){const o=i.root?i.root.childNodes:i.childNodes;if(o.forEach(s=>{s.visible=n.call(s,t,s.data,s),a(s)}),!i.visible&&o.length){let s=!0;s=!o.some(l=>l.visible),i.root?i.root.visible=s===!1:i.visible=s===!1}t&&i.visible&&!i.isLeaf&&(!r||i.loaded)&&i.expand()};a(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof vP)return t;const n=qt(t)?hV(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const r=this.getNode(n);r.parent.insertBefore({data:t},r)}insertAfter(t,n){const r=this.getNode(n);r.parent.insertAfter({data:t},r)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=rg(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const a=n[r];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],a=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(s=>{(s.checked||n&&s.indeterminate)&&(!t||t&&s.isLeaf)&&r.push(s.data),a(s)})};return a(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(i=>{i.indeterminate&&t.push(i.data),n(i)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)Dn(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const a=r.childNodes;for(let i=a.length-1;i>=0;i--){const o=a[i];this.remove(o.data)}for(let i=0,o=n.length;i<o;i++){const s=n[i];this.append(s,r.data)}}_setCheckedKeys(t,n=!1,r){const a=this._getAllNodes().sort((l,u)=>l.level-u.level),i=Object.create(null),o=Object.keys(r);a.forEach(l=>l.setChecked(!1,!1));const s=l=>{l.childNodes.forEach(u=>{var c;i[u.data[t]]=!0,(c=u.childNodes)!=null&&c.length&&s(u)})};for(let l=0,u=a.length;l<u;l++){const c=a[l],f=c.data[t].toString();if(!o.includes(f)){c.checked&&!i[f]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&s(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(g=>{g.isLeaf||g.setChecked(!1,!1),h(g)})};h(c)}}}setCheckedNodes(t,n=!1){const r=this.key,a={};t.forEach(i=>{a[(i||{})[r]]=!0}),this._setCheckedKeys(r,n,a)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,a={};t.forEach(i=>{a[i]=!0}),this._setCheckedKeys(r,n,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const a=this.getNode(t);a&&a.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const r=t[this.key],a=this.nodesMap[r];this.setCurrentNode(a),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(this.currentNodeKey=t,t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(t);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const ZUe=se({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=ze("tree"),n=ht("NodeInstance"),r=ht("RootTree");return()=>{const a=e.node,{data:i,store:o}=a;return e.renderContent?e.renderContent(Ct,{_self:n,node:a,data:i,store:o}):Se(r.ctx.slots,"default",{node:a,data:i},()=>[Ct("span",{class:t.be("node","label")},[a.label])])}}});var JUe=Ze(ZUe,[["__file","tree-node-content.vue"]]);function ose(e){const t=ht("TreeNodeMap",null),n={treeNodeExpand:r=>{e.node!==r&&e.node.collapse()},children:[]};return t&&t.children.push(n),hn("TreeNodeMap",n),{broadcastExpanded:r=>{if(e.accordion)for(const a of n.children)a.treeNodeExpand(r)}}}const sse=Symbol("dragEvents");function QUe({props:e,ctx:t,el$:n,dropIndicator$:r,store:a}){const i=ze("tree"),o=Y({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return hn(sse,{treeNodeDragStart:({event:c,treeNode:f})=>{if(mt(e.allowDrag)&&!e.allowDrag(f.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=f,t.emit("node-drag-start",f.node,c)},treeNodeDragOver:({event:c,treeNode:f})=>{const d=f,h=o.value.dropNode;h&&h.node.id!==d.node.id&&bo(h.$el,i.is("drop-inner"));const p=o.value.draggingNode;if(!p||!d)return;let v=!0,g=!0,m=!0,y=!0;mt(e.allowDrop)&&(v=e.allowDrop(p.node,d.node,"prev"),y=g=e.allowDrop(p.node,d.node,"inner"),m=e.allowDrop(p.node,d.node,"next")),c.dataTransfer.dropEffect=g||v||m?"move":"none",(v||g||m)&&(h==null?void 0:h.node.id)!==d.node.id&&(h&&t.emit("node-drag-leave",p.node,h.node,c),t.emit("node-drag-enter",p.node,d.node,c)),v||g||m?o.value.dropNode=d:o.value.dropNode=null,d.node.nextSibling===p.node&&(m=!1),d.node.previousSibling===p.node&&(v=!1),d.node.contains(p.node,!1)&&(g=!1),(p.node===d.node||p.node.contains(d.node))&&(v=!1,g=!1,m=!1);const b=d.$el.querySelector(`.${i.be("node","content")}`).getBoundingClientRect(),x=n.value.getBoundingClientRect();let _;const S=v?g?.25:m?.45:1:-1,C=m?g?.75:v?.55:0:1;let k=-9999;const T=c.clientY-b.top;T<b.height*S?_="before":T>b.height*C?_="after":g?_="inner":_="none";const E=d.$el.querySelector(`.${i.be("node","expand-icon")}`).getBoundingClientRect(),I=r.value;_==="before"?k=E.top-x.top:_==="after"&&(k=E.bottom-x.top),I.style.top=`${k}px`,I.style.left=`${E.right-x.left}px`,_==="inner"?Tl(d.$el,i.is("drop-inner")):bo(d.$el,i.is("drop-inner")),o.value.showDropIndicator=_==="before"||_==="after",o.value.allowDrop=o.value.showDropIndicator||y,o.value.dropType=_,t.emit("node-drag-over",p.node,d.node,c)},treeNodeDragEnd:c=>{const{draggingNode:f,dropType:d,dropNode:h}=o.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),f&&h){const p={data:f.node.data};d!=="none"&&f.node.remove(),d==="before"?h.node.parent.insertBefore(p,h.node):d==="after"?h.node.parent.insertAfter(p,h.node):d==="inner"&&h.node.insertChild(p),d!=="none"&&(a.value.registerNode(p),a.value.key&&f.node.eachNode(v=>{var g;(g=a.value.nodesMap[v.data[a.value.key]])==null||g.setChecked(v.checked,!a.value.checkStrictly)})),bo(h.$el,i.is("drop-inner")),t.emit("node-drag-end",f.node,h.node,d,c),d!=="none"&&t.emit("node-drop",f.node,h.node,d,c)}f&&!h&&t.emit("node-drag-end",f.node,null,d,c),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}const eGe=se({name:"ElTreeNode",components:{ElCollapseTransition:IA,ElCheckbox:Pl,NodeContent:JUe,ElIcon:pt,Loading:Mu},props:{node:{type:vP,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=ze("tree"),{broadcastExpanded:r}=ose(e),a=ht("RootTree"),i=Y(!1),o=Y(!1),s=Y(null),l=Y(null),u=Y(null),c=ht(sse),f=jt();hn("NodeInstance",f),e.node.expanded&&(i.value=!0,o.value=!0);const d=a.props.props.children||"children";Le(()=>{const T=e.node.data[d];return T&&[...T]},()=>{e.node.updateChildren()}),Le(()=>e.node.indeterminate,T=>{v(e.node.checked,T)}),Le(()=>e.node.checked,T=>{v(T,e.node.indeterminate)}),Le(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),Le(()=>e.node.expanded,T=>{xt(()=>i.value=T),T&&(o.value=!0)});const h=T=>hV(a.props.nodeKey,T.data),p=T=>{const E=e.props.class;if(!E)return{};let I;if(mt(E)){const{data:A}=T;I=E(A,T)}else I=E;return gt(I)?{[I]:!0}:I},v=(T,E)=>{(s.value!==T||l.value!==E)&&a.ctx.emit("check-change",e.node.data,T,E),s.value=T,l.value=E},g=T=>{hP(a.store,a.ctx.emit,()=>{var E;if((E=a==null?void 0:a.props)==null?void 0:E.nodeKey){const A=h(e.node);a.store.value.setCurrentNodeKey(A)}else a.store.value.setCurrentNode(e.node)}),a.currentNode.value=e.node,a.props.expandOnClickNode&&y(),a.props.checkOnClickNode&&!e.node.disabled&&b(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,f,T)},m=T=>{a.instance.vnode.props.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),a.ctx.emit("node-contextmenu",T,e.node.data,e.node,f)},y=()=>{e.node.isLeaf||(i.value?(a.ctx.emit("node-collapse",e.node.data,e.node,f),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,f)}))},b=(T,E)=>{e.node.setChecked(E.target.checked,!a.props.checkStrictly),xt(()=>{const I=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:a,expanded:i,childNodeRendered:o,oldChecked:s,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:v,handleClick:g,handleContextMenu:m,handleExpandIconClick:y,handleCheckChange:b,handleChildNodeExpand:(T,E,I)=>{r(E),a.ctx.emit("node-expand",T,E,I)},handleDragStart:T=>{a.props.draggable&&c.treeNodeDragStart({event:T,treeNode:e})},handleDragOver:T=>{T.preventDefault(),a.props.draggable&&c.treeNodeDragOver({event:T,treeNode:{$el:u.value,node:e.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{a.props.draggable&&c.treeNodeDragEnd(T)},CaretRight:Wre}}});function tGe(e,t,n,r,a,i){const o=Ft("el-icon"),s=Ft("el-checkbox"),l=Ft("loading"),u=Ft("node-content"),c=Ft("el-tree-node"),f=Ft("el-collapse-transition");return Vt((z(),q("div",{ref:"node$",class:G([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:At(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:At(e.handleDragStart,["stop"]),onDragover:At(e.handleDragOver,["stop"]),onDragend:At(e.handleDragEnd,["stop"]),onDrop:At(e.handleDrop,["stop"])},[Z("div",{class:G(e.ns.be("node","content")),style:yt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(z(),Ae(o,{key:0,class:G([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:At(e.handleExpandIconClick,["stop"])},{default:fe(()=>[(z(),Ae(tn(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Te("v-if",!0),e.showCheckbox?(z(),Ae(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:At(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Te("v-if",!0),e.node.loading?(z(),Ae(o,{key:2,class:G([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:fe(()=>[ie(l)]),_:1},8,["class"])):Te("v-if",!0),ie(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ie(f,null,{default:fe(()=>[!e.renderAfterExpand||e.childNodeRendered?Vt((z(),q("div",{key:0,class:G(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(z(!0),q(vt,null,un(e.node.childNodes,d=>(z(),Ae(c,{key:e.getNodeKey(d),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:d,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[En,e.expanded]]):Te("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[En,e.node.visible]])}var nGe=Ze(eGe,[["render",tGe],["__file","tree-node.vue"]]);function rGe({el$:e},t){const n=ze("tree"),r=dr([]),a=dr([]);zt(()=>{o()}),Xc(()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),Le(a,s=>{s.forEach(l=>{l.setAttribute("tabindex","-1")})}),Zn(e,"keydown",s=>{const l=s.target;if(!l.className.includes(n.b("node")))return;const u=s.code;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const c=r.value.indexOf(l);let f;if([lt.up,lt.down].includes(u)){if(s.preventDefault(),u===lt.up){f=c===-1?0:c!==0?c-1:r.value.length-1;const h=f;for(;!t.value.getNode(r.value[f].dataset.key).canFocus;){if(f--,f===h){f=-1;break}f<0&&(f=r.value.length-1)}}else{f=c===-1?0:c<r.value.length-1?c+1:0;const h=f;for(;!t.value.getNode(r.value[f].dataset.key).canFocus;){if(f++,f===h){f=-1;break}f>=r.value.length&&(f=0)}}f!==-1&&r.value[f].focus()}[lt.left,lt.right].includes(u)&&(s.preventDefault(),l.click());const d=l.querySelector('[type="checkbox"]');[lt.enter,lt.numpadEnter,lt.space].includes(u)&&d&&(s.preventDefault(),d.click())});const o=()=>{var s;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const l=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(s=r.value[0])==null||s.setAttribute("tabindex","0")}}const aGe=se({name:"ElTree",components:{ElTreeNode:nGe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:er}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=_n(),r=ze("tree"),a=ht(Yy,null),i=Y(new qUe({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));i.value.initialize();const o=Y(i.value.root),s=Y(null),l=Y(null),u=Y(null),{broadcastExpanded:c}=ose(e),{dragState:f}=QUe({props:e,ctx:t,el$:l,dropIndicator$:u,store:i});rGe({el$:l},i);const d=F(()=>{const{childNodes:O}=o.value,M=a?a.hasFilteredOptions!==0:!1;return(!O||O.length===0||O.every(({visible:W})=>!W))&&!M});Le(()=>e.currentNodeKey,O=>{i.value.setCurrentNodeKey(O)}),Le(()=>e.defaultCheckedKeys,O=>{i.value.setDefaultCheckedKey(O)}),Le(()=>e.defaultExpandedKeys,O=>{i.value.setDefaultExpandedKeys(O)}),Le(()=>e.data,O=>{i.value.setData(O)},{deep:!0}),Le(()=>e.checkStrictly,O=>{i.value.checkStrictly=O});const h=O=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(O)},p=O=>hV(e.nodeKey,O.data),v=O=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const M=i.value.getNode(O);if(!M)return[];const W=[M.data];let U=M.parent;for(;U&&U!==o.value;)W.push(U.data),U=U.parent;return W.reverse()},g=(O,M)=>i.value.getCheckedNodes(O,M),m=O=>i.value.getCheckedKeys(O),y=()=>{const O=i.value.getCurrentNode();return O?O.data:null},b=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const O=y();return O?O[e.nodeKey]:null},x=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(O,M)},_=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(O,M)},S=(O,M,W)=>{i.value.setChecked(O,M,W)},C=()=>i.value.getHalfCheckedNodes(),k=()=>i.value.getHalfCheckedKeys(),T=(O,M=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");hP(i,t.emit,()=>{c(O),i.value.setUserCurrentNode(O,M)})},E=(O,M=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");hP(i,t.emit,()=>{c(),i.value.setCurrentNodeKey(O,M)})},I=O=>i.value.getNode(O),A=O=>{i.value.remove(O)},N=(O,M)=>{i.value.append(O,M)},L=(O,M)=>{i.value.insertBefore(O,M)},R=(O,M)=>{i.value.insertAfter(O,M)},D=(O,M,W)=>{c(M),t.emit("node-expand",O,M,W)},P=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(O,M)};return hn("RootTree",{ctx:t,props:e,store:i,root:o,currentNode:s,instance:jt()}),hn(Lc,void 0),{ns:r,store:i,root:o,currentNode:s,dragState:f,el$:l,dropIndicator$:u,isEmpty:d,filter:h,getNodeKey:p,getNodePath:v,getCheckedNodes:g,getCheckedKeys:m,getCurrentNode:y,getCurrentKey:b,setCheckedNodes:x,setCheckedKeys:_,setChecked:S,getHalfCheckedNodes:C,getHalfCheckedKeys:k,setCurrentNode:T,setCurrentKey:E,t:n,getNode:I,remove:A,append:N,insertBefore:L,insertAfter:R,handleNodeExpand:D,updateKeyChildren:P}}});function iGe(e,t,n,r,a,i){const o=Ft("el-tree-node");return z(),q("div",{ref:"el$",class:G([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(z(!0),q(vt,null,un(e.root.childNodes,s=>(z(),Ae(o,{key:e.getNodeKey(s),node:s,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(z(),q("div",{key:0,class:G(e.ns.e("empty-block"))},[Se(e.$slots,"empty",{},()=>{var s;return[Z("span",{class:G(e.ns.e("empty-text"))},Ve((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)]})],2)):Te("v-if",!0),Vt(Z("div",{ref:"dropIndicator$",class:G(e.ns.e("drop-indicator"))},null,2),[[En,e.dragState.showDropIndicator]])],2)}var oGe=Ze(aGe,[["render",iGe],["__file","tree.vue"]]);const dI=Bt(oGe),sGe=(e,{attrs:t,emit:n},{select:r,tree:a,key:i})=>{const o=ze("tree-select");return Le(()=>e.data,()=>{e.filterable&&xt(()=>{var l,u;(u=a.value)==null||u.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...pu(di(e),Object.keys(og.props)),...t,"onUpdate:modelValue":l=>n(Ht,l),valueKey:i,popperClass:F(()=>{const l=[o.e("popper")];return e.popperClass&&l.push(e.popperClass),l.join(" ")}),filterMethod:(l="")=>{var u;e.filterMethod?e.filterMethod(l):e.remoteMethod?e.remoteMethod(l):(u=a.value)==null||u.filter(l)}}},lGe=se({extends:eI,setup(e,t){const n=eI.setup(e,t);delete n.selectOptionClick;const r=jt().proxy;return xt(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),Le(()=>t.attrs.visible,a=>{n.states.visible=a},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function gP(e){return e||e===0}function pV(e){return Ke(e)&&e.length}function S0(e){return Ke(e)?e:gP(e)?[e]:[]}function tk(e,t,n,r,a){for(let i=0;i<e.length;i++){const o=e[i];if(t(o,i,e,a))return r?r(o,i,e,a):o;{const s=n(o);if(pV(s)){const l=tk(s,t,n,r,o);if(l)return l}}}}function nk(e,t,n,r){for(let a=0;a<e.length;a++){const i=e[a];t(i,a,e,r);const o=n(i);pV(o)&&nk(o,t,n,i)}}const uGe=(e,{attrs:t,slots:n,emit:r},{select:a,tree:i,key:o})=>{Le(()=>e.modelValue,()=>{e.showCheckbox&&xt(()=>{const d=i.value;d&&!Ci(d.getCheckedKeys(),S0(e.modelValue))&&d.setCheckedKeys(S0(e.modelValue))})},{immediate:!0,deep:!0});const s=F(()=>({value:o.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),l=(d,h)=>{var p;const v=s.value[d];return mt(v)?v(h,(p=i.value)==null?void 0:p.getNode(l("value",h))):h[v]},u=S0(e.modelValue).map(d=>tk(e.data||[],h=>l("value",h)===d,h=>l("children",h),(h,p,v,g)=>g&&l("value",g))).filter(d=>gP(d)),c=F(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const d=[];return nk(e.data.concat(e.cacheData),h=>{const p=l("value",h);d.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),d}),f=()=>{var d;return(d=i.value)==null?void 0:d.getCheckedKeys().filter(h=>{var p;const v=(p=i.value)==null?void 0:p.getNode(h);return!Ua(v)&&Ms(v.childNodes)})};return{...pu(di(e),Object.keys(dI.props)),...t,nodeKey:o,expandOnClickNode:F(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:F(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u),renderContent:(d,{node:h,data:p,store:v})=>d(lGe,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},e.renderContent?()=>e.renderContent(d,{node:h,data:p,store:v}):n.default?()=>n.default({node:h,data:p,store:v}):void 0),filterNodeMethod:(d,h,p)=>e.filterNodeMethod?e.filterNodeMethod(d,h,p):d?new RegExp(CB(d),"i").test(l("label",h)||""):!0,onNodeClick:(d,h,p)=>{var v,g,m,y;if((v=t.onNodeClick)==null||v.call(t,d,h,p),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||h.isLeaf)){if(!l("disabled",d)){const b=(g=a.value)==null?void 0:g.states.options.get(l("value",d));(m=a.value)==null||m.handleOptionSelect(b)}}else e.expandOnClickNode&&p.proxy.handleExpandIconClick();(y=a.value)==null||y.focus()}},onCheck:(d,h)=>{var p;if(!e.showCheckbox)return;const v=l("value",d),g={};nk([i.value.store.root],x=>g[x.key]=x,x=>x.childNodes);const m=h.checkedKeys,y=e.multiple?S0(e.modelValue).filter(x=>!(x in g)&&!m.includes(x)):[],b=y.concat(m);if(e.checkStrictly)r(Ht,e.multiple?b:b.includes(v)?v:void 0);else if(e.multiple){const x=f();r(Ht,y.concat(x))}else{const x=tk([d],C=>!pV(l("children",C))&&!l("disabled",C),C=>l("children",C)),_=x?l("value",x):void 0,S=gP(e.modelValue)&&!!tk([d],C=>l("value",C)===e.modelValue,C=>l("children",C));r(Ht,_===e.modelValue||S?void 0:_)}xt(()=>{var x;const _=S0(e.modelValue);i.value.setCheckedKeys(_),(x=t.onCheck)==null||x.call(t,d,{checkedKeys:i.value.getCheckedKeys(),checkedNodes:i.value.getCheckedNodes(),halfCheckedKeys:i.value.getHalfCheckedKeys(),halfCheckedNodes:i.value.getHalfCheckedNodes()})}),(p=a.value)==null||p.focus()},onNodeExpand:(d,h,p)=>{var v;(v=t.onNodeExpand)==null||v.call(t,d,h,p),xt(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&h.checked){const g={},m=i.value.getCheckedKeys();nk([i.value.store.root],x=>g[x.key]=x,x=>x.childNodes);const y=S0(e.modelValue).filter(x=>!(x in g)&&!m.includes(x)),b=f();r(Ht,y.concat(b))}})},cacheOptions:c}};var cGe=se({props:{data:{type:Array,default:()=>[]}},setup(e){const t=ht(Yy);return Le(()=>e.data,()=>{var n;e.data.forEach(a=>{t.states.cachedOptions.has(a.value)||t.states.cachedOptions.set(a.value,a)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];wn&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const fGe=se({name:"ElTreeSelect",inheritAttrs:!1,props:{...og.props,...dI.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,a=Y(),i=Y(),o=F(()=>e.nodeKey||e.valueKey||"value"),s=sGe(e,t,{select:a,tree:i,key:o}),{cacheOptions:l,...u}=uGe(e,t,{select:a,tree:i,key:o}),c=Ln({});return r(c),zt(()=>{Object.assign(c,{...pu(i.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...pu(a.value,["focus","blur","selectedLabel"])})}),()=>Ct(og,Ln({...s,ref:f=>a.value=f}),{...n,default:()=>[Ct(cGe,{data:l.value}),Ct(dI,Ln({...u,ref:f=>i.value=f}))]})}});var dGe=Ze(fGe,[["__file","tree-select.vue"]]);const hGe=Bt(dGe),vV=Symbol(),pGe={key:-1,level:-1,data:{}};var kb=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(kb||{}),mP=(e=>(e.ADD="add",e.DELETE="delete",e))(mP||{});const lse={type:Number,default:26},vGe=je({data:{type:be(Array),default:()=>zr([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:be(Object),default:()=>zr({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:be(Array),default:()=>zr([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:be(Array),default:()=>zr([])},indent:{type:Number,default:16},itemSize:lse,icon:{type:er},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:be([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:be(Function)},perfMode:{type:Boolean,default:!0}}),gGe=je({node:{type:be(Object),default:()=>zr(pGe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:lse}),mGe=je({node:{type:be(Object),required:!0}}),use="node-click",cse="node-drop",fse="node-expand",dse="node-collapse",hse="current-change",pse="check",vse="check-change",gse="node-contextmenu",yGe={[use]:(e,t,n)=>e&&t&&n,[cse]:(e,t,n)=>e&&t&&n,[fse]:(e,t)=>e&&t,[dse]:(e,t)=>e&&t,[hse]:(e,t)=>e&&t,[pse]:(e,t)=>e&&t,[vse]:(e,t)=>e&&lr(t),[gse]:(e,t,n)=>e&&t&&n},bGe={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&lr(t)};function xGe(e,t){const n=Y(new Set),r=Y(new Set),{emit:a}=jt();Le([()=>t.value,()=>e.defaultCheckedKeys],()=>xt(()=>{y(e.defaultCheckedKeys)}),{immediate:!0});const i=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:x}=t.value,_=n.value,S=new Set;for(let C=x-1;C>=1;--C){const k=b.get(C);k&&k.forEach(T=>{const E=T.children;if(E){let I=!0,A=!1;for(const N of E){const L=N.key;if(_.has(L))A=!0;else if(S.has(L)){I=!1,A=!0;break}else I=!1}I?_.add(T.key):A?(S.add(T.key),_.delete(T.key)):(_.delete(T.key),S.delete(T.key))}})}r.value=S},o=b=>n.value.has(b.key),s=b=>r.value.has(b.key),l=(b,x,_=!0,S=!0)=>{const C=n.value,k=(T,E)=>{C[E?mP.ADD:mP.DELETE](T.key);const I=T.children;!e.checkStrictly&&I&&I.forEach(A=>{A.disabled||k(A,E)})};k(b,x),S&&i(),_&&u(b,x)},u=(b,x)=>{const{checkedNodes:_,checkedKeys:S}=p(),{halfCheckedNodes:C,halfCheckedKeys:k}=v();a(pse,b.data,{checkedKeys:S,checkedNodes:_,halfCheckedKeys:k,halfCheckedNodes:C}),a(vse,b.data,x)};function c(b=!1){return p(b).checkedKeys}function f(b=!1){return p(b).checkedNodes}function d(){return v().halfCheckedKeys}function h(){return v().halfCheckedNodes}function p(b=!1){const x=[],_=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:S}=t.value;n.value.forEach(C=>{const k=S.get(C);k&&(!b||b&&k.isLeaf)&&(_.push(C),x.push(k.data))})}return{checkedKeys:_,checkedNodes:x}}function v(){const b=[],x=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:_}=t.value;r.value.forEach(S=>{const C=_.get(S);C&&(x.push(S),b.push(C.data))})}return{halfCheckedNodes:b,halfCheckedKeys:x}}function g(b){n.value.clear(),r.value.clear(),xt(()=>{y(b)})}function m(b,x){if(t!=null&&t.value&&e.showCheckbox){const _=t.value.treeNodeMap.get(b);_&&l(_,x,!1)}}function y(b){if(t!=null&&t.value){const{treeNodeMap:x}=t.value;if(e.showCheckbox&&x&&(b==null?void 0:b.length)>0){for(const _ of b){const S=x.get(_);S&&!o(S)&&l(S,!0,!1,!1)}i()}}}return{updateCheckedKeys:i,toggleCheckbox:l,isChecked:o,isIndeterminate:s,getCheckedKeys:c,getCheckedNodes:f,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:m,setCheckedKeys:g}}function wGe(e,t){const n=Y(new Set([])),r=Y(new Set([])),a=F(()=>mt(e.filterMethod));function i(s){var l;if(!a.value)return;const u=new Set,c=r.value,f=n.value,d=[],h=((l=t.value)==null?void 0:l.treeNodes)||[],p=e.filterMethod;f.clear();function v(g){g.forEach(m=>{d.push(m),p!=null&&p(s,m.data,m)?d.forEach(b=>{u.add(b.key)}):m.isLeaf&&f.add(m.key);const y=m.children;if(y&&v(y),!m.isLeaf){if(!u.has(m.key))f.add(m.key);else if(y){let b=!0;for(const x of y)if(!f.has(x.key)){b=!1;break}b?c.add(m.key):c.delete(m.key)}}d.pop()})}return v(h),u}function o(s){return r.value.has(s.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:i,isForceHiddenExpandIcon:o}}function _Ge(e,t){const n=Y(new Set(e.defaultExpandedKeys)),r=Y(),a=dr(),i=Y();Le(()=>e.currentNodeKey,B=>{r.value=B},{immediate:!0}),Le(()=>e.data,B=>{oe(B)},{immediate:!0});const{isIndeterminate:o,isChecked:s,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p}=xGe(e,a),{doFilter:v,hiddenNodeKeySet:g,isForceHiddenExpandIcon:m}=wGe(e,a),y=F(()=>{var B;return((B=e.props)==null?void 0:B.value)||kb.KEY}),b=F(()=>{var B;return((B=e.props)==null?void 0:B.children)||kb.CHILDREN}),x=F(()=>{var B;return((B=e.props)==null?void 0:B.disabled)||kb.DISABLED}),_=F(()=>{var B;return((B=e.props)==null?void 0:B.label)||kb.LABEL}),S=F(()=>{var B;const re=n.value,ge=g.value,Ie=[],Ce=((B=a.value)==null?void 0:B.treeNodes)||[],he=[];for(let J=Ce.length-1;J>=0;--J)he.push(Ce[J]);for(;he.length;){const J=he.pop();if(!ge.has(J.key)&&(Ie.push(J),J.children&&re.has(J.key)))for(let te=J.children.length-1;te>=0;--te)he.push(J.children[te])}return Ie}),C=F(()=>S.value.length>0);function k(B){const re=new Map,ge=new Map;let Ie=1;function Ce(J,te=1,xe=void 0){var Ee;const Qe=[];for(const Be of J){const ce=I(Be),Re={level:te,key:ce,data:Be};Re.label=N(Be),Re.parent=xe;const ct=E(Be);Re.disabled=A(Be),Re.isLeaf=!ct||ct.length===0,ct&&ct.length&&(Re.children=Ce(ct,te+1,Re)),Qe.push(Re),re.set(ce,Re),ge.has(te)||ge.set(te,[]),(Ee=ge.get(te))==null||Ee.push(Re)}return te>Ie&&(Ie=te),Qe}const he=Ce(B);return{treeNodeMap:re,levelTreeNodeMap:ge,maxLevel:Ie,treeNodes:he}}function T(B){const re=v(B);re&&(n.value=re)}function E(B){return B[b.value]}function I(B){return B?B[y.value]:""}function A(B){return B[x.value]}function N(B){return B[_.value]}function L(B){n.value.has(B.key)?U(B):W(B)}function R(B){const re=new Set,ge=a.value.treeNodeMap;B.forEach(Ie=>{let Ce=ge.get(Ie);for(;Ce&&!re.has(Ce.key);)re.add(Ce.key),Ce=Ce.parent}),n.value=re}function D(B,re){t(use,B.data,B,re),O(B),e.expandOnClickNode&&L(B),e.showCheckbox&&e.checkOnClickNode&&!B.disabled&&l(B,!s(B),!0)}function P(B,re){t(cse,B.data,B,re)}function O(B){K(B)||(r.value=B.key,t(hse,B.data,B))}function M(B,re){l(B,re)}function W(B){const re=n.value;if(a.value&&e.accordion){const{treeNodeMap:ge}=a.value;re.forEach(Ie=>{const Ce=ge.get(Ie);B&&B.level===(Ce==null?void 0:Ce.level)&&re.delete(Ie)})}re.add(B.key),t(fse,B.data,B)}function U(B){n.value.delete(B.key),t(dse,B.data,B)}function V(B){return n.value.has(B.key)}function H(B){return!!B.disabled}function K(B){const re=r.value;return re!==void 0&&re===B.key}function j(){var B,re;if(r.value)return(re=(B=a.value)==null?void 0:B.treeNodeMap.get(r.value))==null?void 0:re.data}function ne(){return r.value}function Q(B){r.value=B}function oe(B){xt(()=>a.value=k(B))}function ae(B){var re;const ge=qt(B)?I(B):B;return(re=a.value)==null?void 0:re.treeNodeMap.get(ge)}function me(B,re="auto"){const ge=ae(B);ge&&i.value&&i.value.scrollToItem(S.value.indexOf(ge),re)}function ve(B){var re;(re=i.value)==null||re.scrollTo(B)}return{tree:a,flattenTree:S,isNotEmpty:C,listRef:i,getKey:I,getChildren:E,toggleExpand:L,toggleCheckbox:l,isExpanded:V,isChecked:s,isIndeterminate:o,isDisabled:H,isCurrent:K,isForceHiddenExpandIcon:m,handleNodeClick:D,handleNodeDrop:P,handleNodeCheck:M,getCurrentNode:j,getCurrentKey:ne,setCurrentKey:Q,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p,filter:T,setData:oe,getNode:ae,expandNode:W,collapseNode:U,setExpandedKeys:R,scrollToNode:me,scrollTo:ve}}var SGe=se({name:"ElTreeNodeContent",props:mGe,setup(e){const t=ht(vV),n=ze("tree");return()=>{const r=e.node,{data:a}=r;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:r,data:a}):Ct("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const CGe=se({name:"ElTreeNode"}),TGe=se({...CGe,props:gGe,emits:bGe,setup(e,{emit:t}){const n=e,r=ht(vV),a=ze("tree"),i=F(()=>{var h;return(h=r==null?void 0:r.props.indent)!=null?h:16}),o=F(()=>{var h;return(h=r==null?void 0:r.props.icon)!=null?h:Wre}),s=h=>{const p=r==null?void 0:r.props.props.class;if(!p)return{};let v;if(mt(p)){const{data:g}=h;v=p(g,h)}else v=p;return gt(v)?{[v]:!0}:v},l=h=>{t("click",n.node,h)},u=h=>{t("drop",n.node,h)},c=()=>{t("toggle",n.node)},f=h=>{t("check",n.node,h)},d=h=>{var p,v,g,m;(g=(v=(p=r==null?void 0:r.instance)==null?void 0:p.vnode)==null?void 0:v.props)!=null&&g.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),r==null||r.ctx.emit(gse,h,(m=n.node)==null?void 0:m.data,n.node)};return(h,p)=>{var v,g,m;return z(),q("div",{ref:"node$",class:G([w(a).b("node"),w(a).is("expanded",h.expanded),w(a).is("current",h.current),w(a).is("focusable",!h.disabled),w(a).is("checked",!h.disabled&&h.checked),s(h.node)]),role:"treeitem",tabindex:"-1","aria-expanded":h.expanded,"aria-disabled":h.disabled,"aria-checked":h.checked,"data-key":(v=h.node)==null?void 0:v.key,onClick:At(l,["stop"]),onContextmenu:d,onDragover:At(()=>{},["prevent"]),onDragenter:At(()=>{},["prevent"]),onDrop:At(u,["stop"])},[Z("div",{class:G(w(a).be("node","content")),style:yt({paddingLeft:`${(h.node.level-1)*w(i)}px`,height:h.itemSize+"px"})},[w(o)?(z(),Ae(w(pt),{key:0,class:G([w(a).is("leaf",!!((g=h.node)!=null&&g.isLeaf)),w(a).is("hidden",h.hiddenExpandIcon),{expanded:!((m=h.node)!=null&&m.isLeaf)&&h.expanded},w(a).be("node","expand-icon")]),onClick:At(c,["stop"])},{default:fe(()=>[(z(),Ae(tn(w(o))))]),_:1},8,["class","onClick"])):Te("v-if",!0),h.showCheckbox?(z(),Ae(w(Pl),{key:1,"model-value":h.checked,indeterminate:h.indeterminate,disabled:h.disabled,onChange:f,onClick:At(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Te("v-if",!0),ie(w(SGe),{node:h.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var kGe=Ze(TGe,[["__file","tree-node.vue"]]);const IGe=se({name:"ElTreeV2"}),EGe=se({...IGe,props:vGe,emits:yGe,setup(e,{expose:t,emit:n}){const r=e,a=Sa(),i=F(()=>r.itemSize);hn(vV,{ctx:{emit:n,slots:a},props:r,instance:jt()}),hn(Lc,void 0);const{t:o}=_n(),s=ze("tree"),{flattenTree:l,isNotEmpty:u,listRef:c,toggleExpand:f,isExpanded:d,isIndeterminate:h,isChecked:p,isDisabled:v,isCurrent:g,isForceHiddenExpandIcon:m,handleNodeClick:y,handleNodeDrop:b,handleNodeCheck:x,toggleCheckbox:_,getCurrentNode:S,getCurrentKey:C,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:E,getHalfCheckedKeys:I,getHalfCheckedNodes:A,setChecked:N,setCheckedKeys:L,filter:R,setData:D,getNode:P,expandNode:O,collapseNode:M,setExpandedKeys:W,scrollToNode:U,scrollTo:V}=_Ge(r,n);return t({toggleCheckbox:_,getCurrentNode:S,getCurrentKey:C,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:E,getHalfCheckedKeys:I,getHalfCheckedNodes:A,setChecked:N,setCheckedKeys:L,filter:R,setData:D,getNode:P,expandNode:O,collapseNode:M,setExpandedKeys:W,scrollToNode:U,scrollTo:V}),(H,K)=>(z(),q("div",{class:G([w(s).b(),{[w(s).m("highlight-current")]:H.highlightCurrent}]),role:"tree"},[w(u)?(z(),Ae(w(Qie),{key:0,ref_key:"listRef",ref:c,"class-name":w(s).b("virtual-list"),data:w(l),total:w(l).length,height:H.height,"item-size":w(i),"perf-mode":H.perfMode},{default:fe(({data:j,index:ne,style:Q})=>[(z(),Ae(kGe,{key:j[ne].key,style:yt(Q),node:j[ne],expanded:w(d)(j[ne]),"show-checkbox":H.showCheckbox,checked:w(p)(j[ne]),indeterminate:w(h)(j[ne]),"item-size":w(i),disabled:w(v)(j[ne]),current:w(g)(j[ne]),"hidden-expand-icon":w(m)(j[ne]),onClick:w(y),onToggle:w(f),onCheck:w(x),onDrop:w(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(z(),q("div",{key:1,class:G(w(s).e("empty-block"))},[Se(H.$slots,"empty",{},()=>{var j;return[Z("span",{class:G(w(s).e("empty-text"))},Ve((j=H.emptyText)!=null?j:w(o)("el.tree.emptyText")),3)]})],2))],2))}});var AGe=Ze(EGe,[["__file","tree.vue"]]);const DGe=Bt(AGe),mse=Symbol("uploadContextKey"),NGe="ElUpload";class RGe extends Error{constructor(t,n,r,a){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=a}}function w9(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new RGe(r,n.status,t.method,e)}function MGe(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const $Ge=e=>{typeof XMLHttpRequest>"u"&&Na(NGe,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",i=>{const o=i;o.percent=i.total>0?i.loaded/i.total*100:0,e.onProgress(o)});const r=new FormData;if(e.data)for(const[i,o]of Object.entries(e.data))Ke(o)&&o.length?r.append(i,...o):r.append(i,o);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(w9(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(w9(n,e,t));e.onSuccess(MGe(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const a=e.headers||{};if(a instanceof Headers)a.forEach((i,o)=>t.setRequestHeader(o,i));else for(const[i,o]of Object.entries(a))Ua(o)||t.setRequestHeader(i,String(o));return t.send(r),t},yse=["text","picture","picture-card"];let LGe=1;const yP=()=>Date.now()+LGe++,bse=je({action:{type:String,default:"#"},headers:{type:be(Object)},method:{type:String,default:"post"},data:{type:be([Object,Function,Promise]),default:()=>zr({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:be(Array),default:()=>zr([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:yse,default:"text"},httpRequest:{type:be(Function),default:$Ge},disabled:Boolean,limit:Number}),OGe=je({...bse,beforeUpload:{type:be(Function),default:zn},beforeRemove:{type:be(Function)},onRemove:{type:be(Function),default:zn},onChange:{type:be(Function),default:zn},onPreview:{type:be(Function),default:zn},onSuccess:{type:be(Function),default:zn},onProgress:{type:be(Function),default:zn},onError:{type:be(Function),default:zn},onExceed:{type:be(Function),default:zn},crossorigin:{type:be(String)}}),PGe=je({files:{type:be(Array),default:()=>zr([])},disabled:{type:Boolean,default:!1},handlePreview:{type:be(Function),default:zn},listType:{type:String,values:yse,default:"text"},crossorigin:{type:be(String)}}),FGe={remove:e=>!!e},BGe=se({name:"ElUploadList"}),VGe=se({...BGe,props:PGe,emits:FGe,setup(e,{emit:t}){const n=e,{t:r}=_n(),a=ze("upload"),i=ze("icon"),o=ze("list"),s=qi(),l=Y(!1),u=F(()=>[a.b("list"),a.bm("list",n.listType),a.is("disabled",n.disabled)]),c=f=>{t("remove",f)};return(f,d)=>(z(),Ae(Ane,{tag:"ul",class:G(w(u)),name:w(o).b()},{default:fe(()=>[(z(!0),q(vt,null,un(f.files,(h,p)=>(z(),q("li",{key:h.uid||h.name,class:G([w(a).be("list","item"),w(a).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:rr(v=>!w(s)&&c(h),["delete"]),onFocus:v=>l.value=!0,onBlur:v=>l.value=!1,onClick:v=>l.value=!1},[Se(f.$slots,"default",{file:h,index:p},()=>[f.listType==="picture"||h.status!=="uploading"&&f.listType==="picture-card"?(z(),q("img",{key:0,class:G(w(a).be("list","item-thumbnail")),src:h.url,crossorigin:f.crossorigin,alt:""},null,10,["src","crossorigin"])):Te("v-if",!0),h.status==="uploading"||f.listType!=="picture-card"?(z(),q("div",{key:1,class:G(w(a).be("list","item-info"))},[Z("a",{class:G(w(a).be("list","item-name")),onClick:At(v=>f.handlePreview(h),["prevent"])},[ie(w(pt),{class:G(w(i).m("document"))},{default:fe(()=>[ie(w(RT))]),_:1},8,["class"]),Z("span",{class:G(w(a).be("list","item-file-name")),title:h.name},Ve(h.name),11,["title"])],10,["onClick"]),h.status==="uploading"?(z(),Ae(w(Hie),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:yt(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Te("v-if",!0)],2)):Te("v-if",!0),Z("label",{class:G(w(a).be("list","item-status-label"))},[f.listType==="text"?(z(),Ae(w(pt),{key:0,class:G([w(i).m("upload-success"),w(i).m("circle-check")])},{default:fe(()=>[ie(w(rB))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(z(),Ae(w(pt),{key:1,class:G([w(i).m("upload-success"),w(i).m("check")])},{default:fe(()=>[ie(w(C_))]),_:1},8,["class"])):Te("v-if",!0)],2),w(s)?Te("v-if",!0):(z(),Ae(w(pt),{key:2,class:G(w(i).m("close")),onClick:v=>c(h)},{default:fe(()=>[ie(w(Ru))]),_:2},1032,["class","onClick"])),Te(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Te(" This is a bug which needs to be fixed "),Te(" TODO: Fix the incorrect navigation interaction "),w(s)?Te("v-if",!0):(z(),q("i",{key:3,class:G(w(i).m("close-tip"))},Ve(w(r)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(z(),q("span",{key:4,class:G(w(a).be("list","item-actions"))},[Z("span",{class:G(w(a).be("list","item-preview")),onClick:v=>f.handlePreview(h)},[ie(w(pt),{class:G(w(i).m("zoom-in"))},{default:fe(()=>[ie(w(jre))]),_:1},8,["class"])],10,["onClick"]),w(s)?Te("v-if",!0):(z(),q("span",{key:0,class:G(w(a).be("list","item-delete")),onClick:v=>c(h)},[ie(w(pt),{class:G(w(i).m("delete"))},{default:fe(()=>[ie(w(hAe))]),_:1},8,["class"])],10,["onClick"]))],2)):Te("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Se(f.$slots,"append")]),_:3},8,["class","name"]))}});var _9=Ze(VGe,[["__file","upload-list.vue"]]);const zGe=je({disabled:{type:Boolean,default:!1}}),WGe={file:e=>Ke(e)},xse="ElUploadDrag",HGe=se({name:xse}),UGe=se({...HGe,props:zGe,emits:WGe,setup(e,{emit:t}){ht(mse)||Na(xse,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=ze("upload"),a=Y(!1),i=qi(),o=l=>{if(i.value)return;a.value=!1,l.stopPropagation();const u=Array.from(l.dataTransfer.files);t("file",u)},s=()=>{i.value||(a.value=!0)};return(l,u)=>(z(),q("div",{class:G([w(r).b("dragger"),w(r).is("dragover",a.value)]),onDrop:At(o,["prevent"]),onDragover:At(s,["prevent"]),onDragleave:At(c=>a.value=!1,["prevent"])},[Se(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var GGe=Ze(UGe,[["__file","upload-dragger.vue"]]);const KGe=je({...bse,beforeUpload:{type:be(Function),default:zn},onRemove:{type:be(Function),default:zn},onStart:{type:be(Function),default:zn},onSuccess:{type:be(Function),default:zn},onProgress:{type:be(Function),default:zn},onError:{type:be(Function),default:zn},onExceed:{type:be(Function),default:zn}}),jGe=se({name:"ElUploadContent",inheritAttrs:!1}),YGe=se({...jGe,props:KGe,setup(e,{expose:t}){const n=e,r=ze("upload"),a=qi(),i=dr({}),o=dr(),s=v=>{if(v.length===0)return;const{autoUpload:g,limit:m,fileList:y,multiple:b,onStart:x,onExceed:_}=n;if(m&&y.length+v.length>m){_(v,y);return}b||(v=v.slice(0,1));for(const S of v){const C=S;C.uid=yP(),x(C),g&&l(C)}},l=async v=>{if(o.value.value="",!n.beforeUpload)return c(v);let g,m={};try{const b=n.data,x=n.beforeUpload(v);m=Bx(n.data)?Yk(n.data):n.data,g=await x,Bx(n.data)&&Ci(b,m)&&(m=Yk(n.data))}catch{g=!1}if(g===!1){n.onRemove(v);return}let y=v;g instanceof Blob&&(g instanceof File?y=g:y=new File([g],v.name,{type:v.type})),c(Object.assign(y,{uid:v.uid}),m)},u=async(v,g)=>mt(v)?v(g):v,c=async(v,g)=>{const{headers:m,data:y,method:b,withCredentials:x,name:_,action:S,onProgress:C,onSuccess:k,onError:T,httpRequest:E}=n;try{g=await u(g??y,v)}catch{n.onRemove(v);return}const{uid:I}=v,A={headers:m||{},withCredentials:x,file:v,data:g,method:b,filename:_,action:S,onProgress:L=>{C(L,v)},onSuccess:L=>{k(L,v),delete i.value[I]},onError:L=>{T(L,v),delete i.value[I]}},N=E(A);i.value[I]=N,N instanceof Promise&&N.then(A.onSuccess,A.onError)},f=v=>{const g=v.target.files;g&&s(Array.from(g))},d=()=>{a.value||(o.value.value="",o.value.click())},h=()=>{d()};return t({abort:v=>{Ore(i.value).filter(v?([m])=>String(v.uid)===m:()=>!0).forEach(([m,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete i.value[m]})},upload:l}),(v,g)=>(z(),q("div",{class:G([w(r).b(),w(r).m(v.listType),w(r).is("drag",v.drag),w(r).is("disabled",w(a))]),tabindex:w(a)?"-1":"0",onClick:d,onKeydown:rr(At(h,["self"]),["enter","space"])},[v.drag?(z(),Ae(GGe,{key:0,disabled:w(a),onFile:s},{default:fe(()=>[Se(v.$slots,"default")]),_:3},8,["disabled"])):Se(v.$slots,"default",{key:1}),Z("input",{ref_key:"inputRef",ref:o,class:G(w(r).e("input")),name:v.name,disabled:w(a),multiple:v.multiple,accept:v.accept,type:"file",onChange:f,onClick:At(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var S9=Ze(YGe,[["__file","upload-content.vue"]]);const C9="ElUpload",T9=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},XGe=(e,t)=>{const n=Ere(e,"fileList",void 0,{passive:!0}),r=h=>n.value.find(p=>p.uid===h.uid);function a(h){var p;(p=t.value)==null||p.abort(h)}function i(h=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!h.includes(p.status))}function o(h){n.value=n.value.filter(p=>p!==h)}const s=(h,p)=>{const v=r(p);v&&(console.error(h),v.status="fail",o(v),e.onError(h,v,n.value),e.onChange(v,n.value))},l=(h,p)=>{const v=r(p);v&&(e.onProgress(h,v,n.value),v.status="uploading",v.percentage=Math.round(h.percent))},u=(h,p)=>{const v=r(p);v&&(v.status="success",v.response=h,e.onSuccess(h,v,n.value),e.onChange(v,n.value))},c=h=>{Ua(h.uid)&&(h.uid=yP());const p={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(e.listType==="picture-card"||e.listType==="picture")try{p.url=URL.createObjectURL(h)}catch(v){v.message,e.onError(v,p,n.value)}n.value=[...n.value,p],e.onChange(p,n.value)},f=async h=>{const p=h instanceof File?r(h):h;p||Na(C9,"file to be removed not found");const v=g=>{a(g),o(g),e.onRemove(g,n.value),T9(g)};e.beforeRemove?await e.beforeRemove(p,n.value)!==!1&&v(p):v(p)};function d(){n.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var p;return h&&((p=t.value)==null?void 0:p.upload(h))})}return Le(()=>e.listType,h=>{h!=="picture-card"&&h!=="picture"||(n.value=n.value.map(p=>{const{raw:v,url:g}=p;if(!g&&v)try{p.url=URL.createObjectURL(v)}catch(m){e.onError(m,p,n.value)}return p}))}),Le(n,h=>{for(const p of h)p.uid||(p.uid=yP()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:a,clearFiles:i,handleError:s,handleProgress:l,handleStart:c,handleSuccess:u,handleRemove:f,submit:d,revokeFileObjectURL:T9}},qGe=se({name:"ElUpload"}),ZGe=se({...qGe,props:OGe,setup(e,{expose:t}){const n=e,r=qi(),a=dr(),{abort:i,submit:o,clearFiles:s,uploadFiles:l,handleStart:u,handleError:c,handleRemove:f,handleSuccess:d,handleProgress:h,revokeFileObjectURL:p}=XGe(n,a),v=F(()=>n.listType==="picture-card"),g=F(()=>({...n,fileList:l.value,onStart:u,onProgress:h,onSuccess:d,onError:c,onRemove:f}));return ar(()=>{l.value.forEach(p)}),hn(mse,{accept:Hn(n,"accept")}),t({abort:i,submit:o,clearFiles:s,handleStart:u,handleRemove:f}),(m,y)=>(z(),q("div",null,[w(v)&&m.showFileList?(z(),Ae(_9,{key:0,disabled:w(r),"list-type":m.listType,files:w(l),crossorigin:m.crossorigin,"handle-preview":m.onPreview,onRemove:w(f)},Ml({append:fe(()=>[ie(S9,rn({ref_key:"uploadRef",ref:a},w(g)),{default:fe(()=>[m.$slots.trigger?Se(m.$slots,"trigger",{key:0}):Te("v-if",!0),!m.$slots.trigger&&m.$slots.default?Se(m.$slots,"default",{key:1}):Te("v-if",!0)]),_:3},16)]),_:2},[m.$slots.file?{name:"default",fn:fe(({file:b,index:x})=>[Se(m.$slots,"file",{file:b,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Te("v-if",!0),!w(v)||w(v)&&!m.showFileList?(z(),Ae(S9,rn({key:1,ref_key:"uploadRef",ref:a},w(g)),{default:fe(()=>[m.$slots.trigger?Se(m.$slots,"trigger",{key:0}):Te("v-if",!0),!m.$slots.trigger&&m.$slots.default?Se(m.$slots,"default",{key:1}):Te("v-if",!0)]),_:3},16)):Te("v-if",!0),m.$slots.trigger?Se(m.$slots,"default",{key:2}):Te("v-if",!0),Se(m.$slots,"tip"),!w(v)&&m.showFileList?(z(),Ae(_9,{key:3,disabled:w(r),"list-type":m.listType,files:w(l),crossorigin:m.crossorigin,"handle-preview":m.onPreview,onRemove:w(f)},Ml({_:2},[m.$slots.file?{name:"default",fn:fe(({file:b,index:x})=>[Se(m.$slots,"file",{file:b,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Te("v-if",!0)]))}});var JGe=Ze(ZGe,[["__file","upload.vue"]]);const QGe=Bt(JGe),e9e=je({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:be([String,Array]),default:"Element Plus"},font:{type:be(Object)},gap:{type:be(Array),default:()=>[100,100]},offset:{type:be(Array)}});function t9e(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function n9e(e){return Object.keys(e).map(t=>`${t9e(t)}: ${e[t]};`).join(" ")}function r9e(){return window.devicePixelRatio||1}const a9e=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},wse=3;function jR(e,t,n=1){const r=document.createElement("canvas"),a=r.getContext("2d"),i=e*n,o=t*n;return r.setAttribute("width",`${i}px`),r.setAttribute("height",`${o}px`),a.save(),[a,r,i,o]}function i9e(){function e(t,n,r,a,i,o,s,l){const[u,c,f,d]=jR(a,i,r);if(t instanceof HTMLImageElement)u.drawImage(t,0,0,f,d);else{const{color:U,fontSize:V,fontStyle:H,fontWeight:K,fontFamily:j,textAlign:ne,textBaseline:Q}=o,oe=Number(V)*r;u.font=`${H} normal ${K} ${oe}px/${i}px ${j}`,u.fillStyle=U,u.textAlign=ne,u.textBaseline=Q;const ae=Ke(t)?t:[t];ae==null||ae.forEach((me,ve)=>{u.fillText(me??"",f/2,ve*(oe+wse*r))})}const h=Math.PI/180*Number(n),p=Math.max(a,i),[v,g,m]=jR(p,p,r);v.translate(m/2,m/2),v.rotate(h),f>0&&d>0&&v.drawImage(c,-f/2,-d/2);function y(U,V){const H=U*Math.cos(h)-V*Math.sin(h),K=U*Math.sin(h)+V*Math.cos(h);return[H,K]}let b=0,x=0,_=0,S=0;const C=f/2,k=d/2;[[0-C,0-k],[0+C,0-k],[0+C,0+k],[0-C,0+k]].forEach(([U,V])=>{const[H,K]=y(U,V);b=Math.min(b,H),x=Math.max(x,H),_=Math.min(_,K),S=Math.max(S,K)});const E=b+m/2,I=_+m/2,A=x-b,N=S-_,L=s*r,R=l*r,D=(A+L)*2,P=N+R,[O,M]=jR(D,P);function W(U=0,V=0){O.drawImage(g,E,I,A,N,U,V,A,N)}return W(),W(A+L,-N/2-R/2),W(A+L,+N/2+R/2),[M.toDataURL(),D/r,P/r]}return e}const o9e=se({name:"ElWatermark"}),s9e=se({...o9e,props:e9e,setup(e){const t=e,n={position:"relative"},r=F(()=>{var E,I;return(I=(E=t.font)==null?void 0:E.color)!=null?I:"rgba(0,0,0,.15)"}),a=F(()=>{var E,I;return(I=(E=t.font)==null?void 0:E.fontSize)!=null?I:16}),i=F(()=>{var E,I;return(I=(E=t.font)==null?void 0:E.fontWeight)!=null?I:"normal"}),o=F(()=>{var E,I;return(I=(E=t.font)==null?void 0:E.fontStyle)!=null?I:"normal"}),s=F(()=>{var E,I;return(I=(E=t.font)==null?void 0:E.fontFamily)!=null?I:"sans-serif"}),l=F(()=>{var E,I;return(I=(E=t.font)==null?void 0:E.textAlign)!=null?I:"center"}),u=F(()=>{var E,I;return(I=(E=t.font)==null?void 0:E.textBaseline)!=null?I:"hanging"}),c=F(()=>t.gap[0]),f=F(()=>t.gap[1]),d=F(()=>c.value/2),h=F(()=>f.value/2),p=F(()=>{var E,I;return(I=(E=t.offset)==null?void 0:E[0])!=null?I:d.value}),v=F(()=>{var E,I;return(I=(E=t.offset)==null?void 0:E[1])!=null?I:h.value}),g=()=>{const E={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let I=p.value-d.value,A=v.value-h.value;return I>0&&(E.left=`${I}px`,E.width=`calc(100% - ${I}px)`,I=0),A>0&&(E.top=`${A}px`,E.height=`calc(100% - ${A}px)`,A=0),E.backgroundPosition=`${I}px ${A}px`,E},m=dr(null),y=dr(),b=Y(!1),x=()=>{y.value&&(y.value.remove(),y.value=void 0)},_=(E,I)=>{var A;m.value&&y.value&&(b.value=!0,y.value.setAttribute("style",n9e({...g(),backgroundImage:`url('${E}')`,backgroundSize:`${Math.floor(I)}px`})),(A=m.value)==null||A.append(y.value),setTimeout(()=>{b.value=!1}))},S=E=>{let I=120,A=64;const N=t.image,L=t.content,R=t.width,D=t.height;if(!N&&E.measureText){E.font=`${Number(a.value)}px ${s.value}`;const P=Ke(L)?L:[L],O=P.map(M=>{const W=E.measureText(M);return[W.width,W.fontBoundingBoxAscent!==void 0?W.fontBoundingBoxAscent+W.fontBoundingBoxDescent:W.actualBoundingBoxAscent+W.actualBoundingBoxDescent]});I=Math.ceil(Math.max(...O.map(M=>M[0]))),A=Math.ceil(Math.max(...O.map(M=>M[1])))*P.length+(P.length-1)*wse}return[R??I,D??A]},C=i9e(),k=()=>{const I=document.createElement("canvas").getContext("2d"),A=t.image,N=t.content,L=t.rotate;if(I){y.value||(y.value=document.createElement("div"));const R=r9e(),[D,P]=S(I),O=M=>{const[W,U]=C(M||"",L,R,D,P,{color:r.value,fontSize:a.value,fontStyle:o.value,fontWeight:i.value,fontFamily:s.value,textAlign:l.value,textBaseline:u.value},c.value,f.value);_(W,U)};if(A){const M=new Image;M.onload=()=>{O(M)},M.onerror=()=>{O(N)},M.crossOrigin="anonymous",M.referrerPolicy="no-referrer",M.src=A}else O(N)}};return zt(()=>{k()}),Le(()=>t,()=>{k()},{deep:!0,flush:"post"}),ar(()=>{x()}),Ire(m,E=>{b.value||E.forEach(I=>{a9e(I,y.value)&&(x(),k())})},{attributes:!0,subtree:!0,childList:!0}),(E,I)=>(z(),q("div",{ref_key:"containerRef",ref:m,style:yt([n])},[Se(E.$slots,"default")],4))}});var l9e=Ze(s9e,[["__file","watermark.vue"]]);const u9e=Bt(l9e),c9e=je({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:be(Object)},targetAreaClickable:{type:Boolean,default:!0}}),f9e=(e,t,n,r,a)=>{const i=Y(null),o=()=>{let f;return gt(e.value)?f=document.querySelector(e.value):mt(e.value)?f=e.value():f=e.value,f},s=()=>{const f=o();if(!f||!t.value){i.value=null;return}d9e(f)||f.scrollIntoView(a.value);const{left:d,top:h,width:p,height:v}=f.getBoundingClientRect();i.value={left:d,top:h,width:p,height:v,radius:0}};zt(()=>{Le([t,e],()=>{s()},{immediate:!0}),window.addEventListener("resize",s)}),ar(()=>{window.removeEventListener("resize",s)});const l=f=>{var d;return(d=Ke(n.value.offset)?n.value.offset[f]:n.value.offset)!=null?d:6},u=F(()=>{var f;if(!i.value)return i.value;const d=l(0),h=l(1),p=((f=n.value)==null?void 0:f.radius)||2;return{left:i.value.left-d,top:i.value.top-h,width:i.value.width+d*2,height:i.value.height+h*2,radius:p}}),c=F(()=>{const f=o();return!r.value||!f||!window.DOMRect?f||void 0:{getBoundingClientRect(){var d,h,p,v;return window.DOMRect.fromRect({width:((d=u.value)==null?void 0:d.width)||0,height:((h=u.value)==null?void 0:h.height)||0,x:((p=u.value)==null?void 0:p.left)||0,y:((v=u.value)==null?void 0:v.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},FA=Symbol("ElTour");function d9e(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:a,bottom:i,left:o}=e.getBoundingClientRect();return r>=0&&o>=0&&a<=t&&i<=n}const h9e=(e,t,n,r,a,i,o,s)=>{const l=Y(),u=Y(),c=Y({}),f={x:l,y:u,placement:r,strategy:a,middlewareData:c},d=F(()=>{const m=[tse(w(i)),mUe(),gUe(),p9e()];return w(s)&&w(n)&&m.push(nse({element:w(n)})),m}),h=async()=>{if(!wn)return;const m=w(e),y=w(t);if(!m||!y)return;const b=await rse(m,y,{placement:w(r),strategy:w(a),middleware:w(d)});qm(f).forEach(x=>{f[x].value=b[x]})},p=F(()=>{if(!w(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:w(o)};const{overflow:m}=w(c);return{position:w(a),zIndex:w(o),top:w(u)!=null?`${w(u)}px`:"",left:w(l)!=null?`${w(l)}px`:"",maxWidth:m!=null&&m.maxWidth?`${m==null?void 0:m.maxWidth}px`:""}}),v=F(()=>{if(!w(s))return{};const{arrow:m}=w(c);return{left:(m==null?void 0:m.x)!=null?`${m==null?void 0:m.x}px`:"",top:(m==null?void 0:m.y)!=null?`${m==null?void 0:m.y}px`:""}});let g;return zt(()=>{const m=w(e),y=w(t);m&&y&&(g=pUe(m,y,h)),Pi(()=>{h()})}),ar(()=>{g&&g()}),{update:h,contentStyle:p,arrowStyle:v}},p9e=()=>({name:"overflow",async fn(e){const t=await vUe(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),v9e=se({name:"ElTourMask",inheritAttrs:!1}),g9e=se({...v9e,props:c9e,setup(e){const t=e,{ns:n}=ht(FA),r=F(()=>{var s,l;return(l=(s=t.pos)==null?void 0:s.radius)!=null?l:2}),a=F(()=>{const s=r.value,l=`a${s},${s} 0 0 1`;return{topRight:`${l} ${s},${s}`,bottomRight:`${l} ${-s},${s}`,bottomLeft:`${l} ${-s},${-s}`,topLeft:`${l} ${s},${-s}`}}),i=F(()=>{const s=window.innerWidth,l=window.innerHeight,u=a.value,c=`M${s},0 L0,0 L0,${l} L${s},${l} L${s},0 Z`,f=r.value;return t.pos?`${c} M${t.pos.left+f},${t.pos.top} h${t.pos.width-f*2} ${u.topRight} v${t.pos.height-f*2} ${u.bottomRight} h${-t.pos.width+f*2} ${u.bottomLeft} v${-t.pos.height+f*2} ${u.topLeft} z`:c}),o=F(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return OB(Hn(t,"visible"),{ns:n}),(s,l)=>s.visible?(z(),q("div",rn({key:0,class:w(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:s.zIndex,pointerEvents:s.pos&&s.targetAreaClickable?"none":"auto"}},s.$attrs),[(z(),q("svg",{style:{width:"100%",height:"100%"}},[Z("path",{class:G(w(n).e("hollow")),style:yt(w(o)),d:w(i)},null,14,["d"])]))],16)):Te("v-if",!0)}});var m9e=Ze(g9e,[["__file","mask.vue"]]);const y9e=["absolute","fixed"],b9e=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],gV=je({placement:{type:be(String),values:b9e,default:"bottom"},reference:{type:be(Object),default:null},strategy:{type:be(String),values:y9e,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),x9e={close:()=>!0},w9e=se({name:"ElTourContent"}),_9e=se({...w9e,props:gV,emits:x9e,setup(e,{emit:t}){const n=e,r=Y(n.placement),a=Y(n.strategy),i=Y(null),o=Y(null);Le(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:s,arrowStyle:l}=h9e(Hn(n,"reference"),i,o,r,a,Hn(n,"offset"),Hn(n,"zIndex"),Hn(n,"showArrow")),u=F(()=>r.value.split("-")[0]),{ns:c}=ht(FA),f=()=>{t("close")},d=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>(z(),q("div",{ref_key:"contentRef",ref:i,style:yt(w(s)),class:G(w(c).e("content")),"data-side":w(u),tabindex:"-1"},[ie(w(Gy),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":i.value||void 0,onReleaseRequested:f,onFocusoutPrevented:d},{default:fe(()=>[Se(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(z(),q("span",{key:0,ref_key:"arrowRef",ref:o,style:yt(w(l)),class:G(w(c).e("arrow"))},null,6)):Te("v-if",!0)],14,["data-side"]))}});var S9e=Ze(_9e,[["__file","content.vue"]]),C9e=se({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var a,i;const o=(a=t.default)==null?void 0:a.call(t),s=[];let l=0;function u(c){Ke(c)&&c.forEach(f=>{var d;((d=(f==null?void 0:f.type)||{})==null?void 0:d.name)==="ElTourStep"&&(s.push(f),l+=1)})}return o.length&&u(dh((i=o[0])==null?void 0:i.children)),r!==l&&(r=l,n("update-total",l)),s.length?s[e.current]:null}}});const T9e=je({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:er},placement:gV.placement,contentStyle:{type:be([Object])},mask:{type:be([Boolean,Object]),default:!0},gap:{type:be(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:be([Boolean,Object]),default:()=>({block:"center"})},type:{type:be(String)},appendTo:{type:be([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),k9e={[Ht]:e=>lr(e),"update:current":e=>Tt(e),close:e=>Tt(e),finish:()=>!0,change:e=>Tt(e)},I9e=se({name:"ElTour"}),E9e=se({...I9e,props:T9e,emits:k9e,setup(e,{emit:t}){const n=e,r=ze("tour"),a=Y(0),i=Y(),o=Ere(n,"current",t,{passive:!0}),s=F(()=>{var T;return(T=i.value)==null?void 0:T.target}),l=F(()=>[r.b(),g.value==="primary"?r.m("primary"):""]),u=F(()=>{var T;return((T=i.value)==null?void 0:T.placement)||n.placement}),c=F(()=>{var T,E;return(E=(T=i.value)==null?void 0:T.contentStyle)!=null?E:n.contentStyle}),f=F(()=>{var T,E;return(E=(T=i.value)==null?void 0:T.mask)!=null?E:n.mask}),d=F(()=>!!f.value&&n.modelValue),h=F(()=>lr(f.value)?void 0:f.value),p=F(()=>{var T,E;return!!s.value&&((E=(T=i.value)==null?void 0:T.showArrow)!=null?E:n.showArrow)}),v=F(()=>{var T,E;return(E=(T=i.value)==null?void 0:T.scrollIntoViewOptions)!=null?E:n.scrollIntoViewOptions}),g=F(()=>{var T,E;return(E=(T=i.value)==null?void 0:T.type)!=null?E:n.type}),{nextZIndex:m}=Hy(),y=m(),b=F(()=>{var T;return(T=n.zIndex)!=null?T:y}),{mergedPosInfo:x,triggerTarget:_}=f9e(s,Hn(n,"modelValue"),Hn(n,"gap"),f,v);Le(()=>n.modelValue,T=>{T||(o.value=0)});const S=()=>{n.closeOnPressEscape&&(t("update:modelValue",!1),t("close",o.value))},C=T=>{a.value=T},k=Sa();return hn(FA,{currentStep:i,current:o,total:a,showClose:Hn(n,"showClose"),closeIcon:Hn(n,"closeIcon"),mergedType:g,ns:r,slots:k,updateModelValue(T){t("update:modelValue",T)},onClose(){t("close",o.value)},onFinish(){t("finish")},onChange(){t("change",o.value)}}),(T,E)=>(z(),q(vt,null,[ie(w(Ky),{to:T.appendTo},{default:fe(()=>{var I,A;return[Z("div",rn({class:w(l)},T.$attrs),[ie(m9e,{visible:w(d),fill:(I=w(h))==null?void 0:I.color,style:yt((A=w(h))==null?void 0:A.style),pos:w(x),"z-index":w(b),"target-area-clickable":T.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),T.modelValue?(z(),Ae(S9e,{key:w(o),reference:w(_),placement:w(u),"show-arrow":w(p),"z-index":w(b),style:yt(w(c)),onClose:S},{default:fe(()=>[ie(w(C9e),{current:w(o),onUpdateTotal:C},{default:fe(()=>[Se(T.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Te("v-if",!0)],16)]}),_:3},8,["to"]),Te(" just for IDE "),Te("v-if",!0)],64))}});var A9e=Ze(E9e,[["__file","tour.vue"]]);const D9e=je({target:{type:be([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:er},showArrow:{type:Boolean,default:void 0},placement:gV.placement,mask:{type:be([Boolean,Object]),default:void 0},contentStyle:{type:be([Object])},prevButtonProps:{type:be(Object)},nextButtonProps:{type:be(Object)},scrollIntoViewOptions:{type:be([Boolean,Object]),default:void 0},type:{type:be(String)}}),N9e={close:()=>!0},R9e=se({name:"ElTourStep"}),M9e=se({...R9e,props:D9e,emits:N9e,setup(e,{emit:t}){const n=e,{Close:r}=iB,{t:a}=_n(),{currentStep:i,current:o,total:s,showClose:l,closeIcon:u,mergedType:c,ns:f,slots:d,updateModelValue:h,onClose:p,onFinish:v,onChange:g}=ht(FA);Le(n,k=>{i.value=k},{immediate:!0});const m=F(()=>{var k;return(k=n.showClose)!=null?k:l.value}),y=F(()=>{var k,T;return(T=(k=n.closeIcon)!=null?k:u.value)!=null?T:r}),b=k=>{if(k)return DIe(k,["children","onClick"])},x=()=>{var k,T;o.value-=1,(k=n.prevButtonProps)!=null&&k.onClick&&((T=n.prevButtonProps)==null||T.onClick()),g()},_=()=>{var k;o.value>=s.value-1?S():o.value+=1,(k=n.nextButtonProps)!=null&&k.onClick&&n.nextButtonProps.onClick(),g()},S=()=>{C(),v()},C=()=>{h(!1),p(),t("close")};return(k,T)=>(z(),q(vt,null,[w(m)?(z(),q("button",{key:0,"aria-label":"Close",class:G(w(f).e("closebtn")),type:"button",onClick:C},[ie(w(pt),{class:G(w(f).e("close"))},{default:fe(()=>[(z(),Ae(tn(w(y))))]),_:1},8,["class"])],2)):Te("v-if",!0),Z("header",{class:G([w(f).e("header"),{"show-close":w(l)}])},[Se(k.$slots,"header",{},()=>[Z("span",{role:"heading",class:G(w(f).e("title"))},Ve(k.title),3)])],2),Z("div",{class:G(w(f).e("body"))},[Se(k.$slots,"default",{},()=>[Z("span",null,Ve(k.description),1)])],2),Z("footer",{class:G(w(f).e("footer"))},[Z("div",{class:G(w(f).b("indicators"))},[w(d).indicators?(z(),Ae(tn(w(d).indicators),{key:0,current:w(o),total:w(s)},null,8,["current","total"])):(z(!0),q(vt,{key:1},un(w(s),(E,I)=>(z(),q("span",{key:E,class:G([w(f).b("indicator"),I===w(o)?"is-active":""])},null,2))),128))],2),Z("div",{class:G(w(f).b("buttons"))},[w(o)>0?(z(),Ae(w(si),rn({key:0,size:"small",type:w(c)},b(k.prevButtonProps),{onClick:x}),{default:fe(()=>{var E,I;return[Kt(Ve((I=(E=k.prevButtonProps)==null?void 0:E.children)!=null?I:w(a)("el.tour.previous")),1)]}),_:1},16,["type"])):Te("v-if",!0),w(o)<=w(s)-1?(z(),Ae(w(si),rn({key:1,size:"small",type:w(c)==="primary"?"default":"primary"},b(k.nextButtonProps),{onClick:_}),{default:fe(()=>{var E,I;return[Kt(Ve((I=(E=k.nextButtonProps)==null?void 0:E.children)!=null?I:w(o)===w(s)-1?w(a)("el.tour.finish"):w(a)("el.tour.next")),1)]}),_:1},16,["type"])):Te("v-if",!0)],2)],2)],64))}});var _se=Ze(M9e,[["__file","step.vue"]]);const $9e=Bt(A9e,{TourStep:_se}),L9e=Ur(_se),O9e=je({container:{type:be([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:be(String),default:"default"},direction:{type:be(String),default:"vertical"}}),P9e={change:e=>gt(e),click:(e,t)=>e instanceof MouseEvent&&(gt(t)||qn(t))},Sse=Symbol("anchor"),ZC=e=>{if(!wn||e==="")return null;if(gt(e))try{return document.querySelector(e)}catch{return null}return e};function F9e(e){let t=0;const n=(...r)=>{t&&ig(t),t=kh(()=>{e(...r),t=0})};return n.cancel=()=>{ig(t),t=0},n}const B9e=se({name:"ElAnchor"}),V9e=se({...B9e,props:O9e,emits:P9e,setup(e,{expose:t,emit:n}){const r=e,a=Y(""),i=Y(null),o=Y(null),s=Y(),l={};let u=!1,c=0;const f=ze("anchor"),d=F(()=>[f.b(),r.type==="underline"?f.m("underline"):"",f.m(r.direction)]),h=k=>{l[k.href]=k.el},p=k=>{delete l[k]},v=k=>{a.value!==k&&(a.value=k,n("change",k))};let g=null;const m=k=>{if(!s.value)return;const T=ZC(k);if(!T)return;g&&g(),u=!0;const E=kU(T,s.value),I=DO(T,E),A=E.scrollHeight-E.clientHeight,N=Math.min(I-r.offset,A);g=MEe(s.value,c,N,r.duration,()=>{setTimeout(()=>{u=!1},20)})},y=k=>{k&&(v(k),m(k))},b=(k,T)=>{n("click",k,T),y(T)},x=F9e(()=>{s.value&&(c=IU(s.value));const k=_();u||qn(k)||v(k)}),_=()=>{if(!s.value)return;const k=IU(s.value),T=[];for(const E of Object.keys(l)){const I=ZC(E);if(!I)continue;const A=kU(I,s.value),N=DO(I,A);T.push({top:N-r.offset-r.bound,href:E})}T.sort((E,I)=>E.top-I.top);for(let E=0;E<T.length;E++){const I=T[E],A=T[E+1];if(E===0&&k===0)return"";if(I.top<=k&&(!A||A.top>k))return I.href}},S=()=>{const k=ZC(r.container);!k||gA(k)?s.value=window:s.value=k};Zn(s,"scroll",x);const C=F(()=>{if(!i.value||!o.value||!a.value)return{};const k=l[a.value];if(!k)return{};const T=i.value.getBoundingClientRect(),E=o.value.getBoundingClientRect(),I=k.getBoundingClientRect();return r.direction==="horizontal"?{left:`${I.left-T.left}px`,width:`${I.width}px`,opacity:1}:{top:`${I.top-T.top+(I.height-E.height)/2}px`,opacity:1}});return zt(()=>{S();const k=decodeURIComponent(window.location.hash);ZC(k)?y(k):x()}),Le(()=>r.container,()=>{S()}),hn(Sse,{ns:f,direction:r.direction,currentAnchor:a,addLink:h,removeLink:p,handleClick:b}),t({scrollTo:y}),(k,T)=>(z(),q("div",{ref_key:"anchorRef",ref:i,class:G(w(d))},[k.marker?(z(),q("div",{key:0,ref_key:"markerRef",ref:o,class:G(w(f).e("marker")),style:yt(w(C))},null,6)):Te("v-if",!0),Z("div",{class:G(w(f).e("list"))},[Se(k.$slots,"default")],2)],2))}});var z9e=Ze(V9e,[["__file","anchor.vue"]]);const W9e=je({title:String,href:String}),H9e=se({name:"ElAnchorLink"}),U9e=se({...H9e,props:W9e,setup(e){const t=e,n=Y(null),{ns:r,direction:a,currentAnchor:i,addLink:o,removeLink:s,handleClick:l}=ht(Sse),u=F(()=>[r.e("link"),r.is("active",i.value===t.href)]),c=f=>{l(f,t.href)};return Le(()=>t.href,(f,d)=>{xt(()=>{d&&s(d),f&&o({href:f,el:n.value})})}),zt(()=>{const{href:f}=t;f&&o({href:f,el:n.value})}),ar(()=>{const{href:f}=t;f&&s(f)}),(f,d)=>(z(),q("div",{class:G(w(r).e("item"))},[Z("a",{ref_key:"linkRef",ref:n,class:G(w(u)),href:f.href,onClick:c},[Se(f.$slots,"default",{},()=>[Kt(Ve(f.title),1)])],10,["href"]),f.$slots["sub-link"]&&w(a)==="vertical"?(z(),q("div",{key:0,class:G(w(r).e("list"))},[Se(f.$slots,"sub-link")],2)):Te("v-if",!0)],2))}});var Cse=Ze(U9e,[["__file","anchor-link.vue"]]);const G9e=Bt(z9e,{AnchorLink:Cse}),K9e=Ur(Cse),j9e=je({direction:{type:be(String),default:"horizontal"},options:{type:be(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:xa,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Ei(["ariaLabel"])}),Y9e={[Ht]:e=>gt(e)||Tt(e)||lr(e),[Qn]:e=>gt(e)||Tt(e)||lr(e)},X9e=se({name:"ElSegmented"}),q9e=se({...X9e,props:j9e,emits:Y9e,setup(e,{emit:t}){const n=e,r=ze("segmented"),a=Ii(),i=pa(),o=qi(),{formItem:s}=Xi(),{inputId:l,isLabeledByFormItem:u}=Wl(n,{formItemContext:s}),c=Y(null),f=nEe(),d=Ln({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),h=T=>{const E=p(T);t(Ht,E),t(Qn,E)},p=T=>qt(T)?T.value:T,v=T=>qt(T)?T.label:T,g=T=>!!(o.value||qt(T)&&T.disabled),m=T=>n.modelValue===p(T),y=T=>n.options.find(E=>p(E)===T),b=T=>[r.e("item"),r.is("selected",m(T)),r.is("disabled",g(T))],x=()=>{if(!c.value)return;const T=c.value.querySelector(".is-selected"),E=c.value.querySelector(".is-selected input");if(!T||!E){d.width=0,d.height=0,d.translateX=0,d.translateY=0,d.focusVisible=!1;return}const I=T.getBoundingClientRect();d.isInit=!0,n.direction==="vertical"?(d.height=I.height,d.translateY=T.offsetTop):(d.width=I.width,d.translateX=T.offsetLeft);try{d.focusVisible=E.matches(":focus-visible")}catch{}},_=F(()=>[r.b(),r.m(i.value),r.is("block",n.block)]),S=F(()=>({width:n.direction==="vertical"?"100%":`${d.width}px`,height:n.direction==="vertical"?`${d.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${d.translateY}px)`:`translateX(${d.translateX}px)`,display:d.isInit?"block":"none"})),C=F(()=>[r.e("item-selected"),r.is("disabled",g(y(n.modelValue))),r.is("focus-visible",d.focusVisible)]),k=F(()=>n.name||a.value);return Mr(c,x),Le(f,x),Le(()=>n.modelValue,()=>{var T;x(),n.validateEvent&&((T=s==null?void 0:s.validate)==null||T.call(s,"change").catch(E=>void 0))},{flush:"post"}),(T,E)=>T.options.length?(z(),q("div",{key:0,id:w(l),ref_key:"segmentedRef",ref:c,class:G(w(_)),role:"radiogroup","aria-label":w(u)?void 0:T.ariaLabel||"segmented","aria-labelledby":w(u)?w(s).labelId:void 0},[Z("div",{class:G([w(r).e("group"),w(r).m(n.direction)])},[Z("div",{style:yt(w(S)),class:G(w(C))},null,6),(z(!0),q(vt,null,un(T.options,(I,A)=>(z(),q("label",{key:A,class:G(b(I))},[Z("input",{class:G(w(r).e("item-input")),type:"radio",name:w(k),disabled:g(I),checked:m(I),onChange:N=>h(I)},null,42,["name","disabled","checked","onChange"]),Z("div",{class:G(w(r).e("item-label"))},[Se(T.$slots,"default",{item:I},()=>[Kt(Ve(v(I)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Te("v-if",!0)}});var Z9e=Ze(q9e,[["__file","segmented.vue"]]);const J9e=Bt(Z9e),Q9e=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(n)},e7e=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const a=e.value,i=ho(t);let o=-1,s;for(let l=r-1;l>=0;--l){const u=a[l];if(u===n||u===`
`||u==="\r"){o=l;continue}if(i.includes(u)){const c=o===-1?r:o;s={pattern:a.slice(l+1,c),start:l+1,end:c,prefix:u,prefixIndex:l,splitIndex:o,selectionEnd:r};break}}return s},t7e=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,a=t.useSelectionEnd?r:n,i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const d=document.querySelector("#input-textarea-caret-position-mirror-div");d!=null&&d.parentNode&&d.parentNode.removeChild(d)}const o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);const s=o.style,l=window.getComputedStyle(e),u=e.nodeName==="INPUT";s.whiteSpace=u?"nowrap":"pre-wrap",u||(s.wordWrap="break-word"),s.position="absolute",t.debug||(s.visibility="hidden"),i.forEach(d=>{if(u&&d==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),v=p+Number.parseInt(l.lineHeight);h>v?s.lineHeight=`${h-p}px`:h===v?s.lineHeight=l.lineHeight:s.lineHeight="0"}else s.lineHeight=l.height;else s[d]=l[d]}),SA()?e.scrollHeight>Number.parseInt(l.height)&&(s.overflowY="scroll"):s.overflow="hidden",o.textContent=e.value.slice(0,Math.max(0,a)),u&&o.textContent&&(o.textContent=o.textContent.replace(/\s/g,""));const c=document.createElement("span");c.textContent=e.value.slice(Math.max(0,a))||".",c.style.position="relative",c.style.left=`${-e.scrollLeft}px`,c.style.top=`${-e.scrollTop}px`,o.appendChild(c);const f={top:c.offsetTop+Number.parseInt(l.borderTopWidth),left:c.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return t.debug?c.style.backgroundColor="#aaa":document.body.removeChild(o),f.left>=e.clientWidth&&(f.left=e.clientWidth),f},n7e=je({...sB,options:{type:be(Array),default:()=>[]},prefix:{type:be([String,Array]),default:"@",validator:e=>gt(e)?e.length===1:e.every(t=>gt(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:be([Boolean,Function]),default:()=>Q9e,validator:e=>e===!1?!0:mt(e)},placement:{type:be(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:be(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:be(Object),default:()=>({})}}),r7e={[Ht]:e=>gt(e),search:(e,t)=>gt(e)&&gt(t),select:(e,t)=>gt(e.value)&&gt(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},a7e=je({options:{type:be(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),i7e={select:e=>gt(e.value)},o7e=se({name:"ElMentionDropdown"}),s7e=se({...o7e,props:a7e,emits:i7e,setup(e,{expose:t,emit:n}){const r=e,a=ze("mention"),{t:i}=_n(),o=Y(-1),s=Y(),l=Y(),u=Y(),c=(b,x)=>[a.be("dropdown","item"),a.is("hovering",o.value===x),a.is("disabled",b.disabled||r.disabled)],f=b=>{b.disabled||r.disabled||n("select",b)},d=b=>{o.value=b},h=F(()=>r.disabled||r.options.every(b=>b.disabled)),p=F(()=>r.options[o.value]),v=()=>{p.value&&n("select",p.value)},g=b=>{const{options:x}=r;if(x.length===0||h.value)return;b==="next"?(o.value++,o.value===x.length&&(o.value=0)):b==="prev"&&(o.value--,o.value<0&&(o.value=x.length-1));const _=x[o.value];if(_.disabled){g(b);return}xt(()=>m(_))},m=b=>{var x,_,S,C;const{options:k}=r,T=k.findIndex(I=>I.value===b.value),E=(x=l.value)==null?void 0:x[T];if(E){const I=(S=(_=u.value)==null?void 0:_.querySelector)==null?void 0:S.call(_,`.${a.be("dropdown","wrap")}`);I&&tB(I,E)}(C=s.value)==null||C.handleScroll()};return Le(()=>r.options,()=>{h.value||r.options.length===0?o.value=-1:o.value=0},{immediate:!0}),t({hoveringIndex:o,navigateOptions:g,selectHoverOption:v,hoverOption:p}),(b,x)=>(z(),q("div",{ref_key:"dropdownRef",ref:u,class:G(w(a).b("dropdown"))},[b.$slots.header?(z(),q("div",{key:0,class:G(w(a).be("dropdown","header"))},[Se(b.$slots,"header")],2)):Te("v-if",!0),Vt(ie(w(Jc),{id:b.contentId,ref_key:"scrollbarRef",ref:s,tag:"ul","wrap-class":w(a).be("dropdown","wrap"),"view-class":w(a).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:fe(()=>[(z(!0),q(vt,null,un(b.options,(_,S)=>(z(),q("li",{id:`${b.contentId}-${S}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:S,class:G(c(_,S)),role:"option","aria-disabled":_.disabled||b.disabled||void 0,"aria-selected":o.value===S,onMousemove:C=>d(S),onClick:At(C=>f(_),["stop"])},[Se(b.$slots,"label",{item:_,index:S},()=>{var C;return[Z("span",null,Ve((C=_.label)!=null?C:_.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[En,b.options.length>0&&!b.loading]]),b.loading?(z(),q("div",{key:1,class:G(w(a).be("dropdown","loading"))},[Se(b.$slots,"loading",{},()=>[Kt(Ve(w(i)("el.mention.loading")),1)])],2)):Te("v-if",!0),b.$slots.footer?(z(),q("div",{key:2,class:G(w(a).be("dropdown","footer"))},[Se(b.$slots,"footer")],2)):Te("v-if",!0)],2))}});var l7e=Ze(s7e,[["__file","mention-dropdown.vue"]]);const u7e=se({name:"ElMention",inheritAttrs:!1}),c7e=se({...u7e,props:n7e,emits:r7e,setup(e,{expose:t,emit:n}){const r=e,a=F(()=>pu(r,Object.keys(sB))),i=ze("mention"),o=qi(),s=Ii(),l=Y(),u=Y(),c=Y(),f=Y(!1),d=Y(),h=Y(),p=F(()=>r.showArrow?r.placement:`${r.placement}-start`),v=F(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),g=F(()=>{const{filterOption:A,options:N}=r;return!h.value||!A?N:N.filter(L=>A(h.value.pattern,L))}),m=F(()=>f.value&&(!!g.value.length||r.loading)),y=F(()=>{var A;return`${s.value}-${(A=c.value)==null?void 0:A.hoveringIndex}`}),b=A=>{n("update:modelValue",A),T()},x=A=>{var N,L,R,D;if(!(!("code"in A)||(N=l.value)!=null&&N.isComposing))switch(A.code){case lt.left:case lt.right:T();break;case lt.up:case lt.down:if(!f.value)return;A.preventDefault(),(L=c.value)==null||L.navigateOptions(A.code===lt.up?"prev":"next");break;case lt.enter:case lt.numpadEnter:if(!f.value)return;A.preventDefault(),(R=c.value)!=null&&R.hoverOption?(D=c.value)==null||D.selectHoverOption():f.value=!1;break;case lt.esc:if(!f.value)return;A.preventDefault(),f.value=!1;break;case lt.backspace:if(r.whole&&h.value){const{splitIndex:P,selectionEnd:O,pattern:M,prefixIndex:W,prefix:U}=h.value,V=k();if(!V)return;const H=V.value,K=r.options.find(ne=>ne.value===M);if((mt(r.checkIsWhole)?r.checkIsWhole(M,U):K)&&P!==-1&&P+1===O){A.preventDefault();const ne=H.slice(0,W)+H.slice(P+1);n(Ht,ne);const Q=W;xt(()=>{V.selectionStart=Q,V.selectionEnd=Q,I()})}}}},{wrapperRef:_}=Jh(l,{beforeFocus(){return o.value},afterFocus(){T()},beforeBlur(A){var N;return(N=u.value)==null?void 0:N.isFocusInsideContent(A)},afterBlur(){f.value=!1}}),S=()=>{T()},C=A=>{if(!h.value)return;const N=k();if(!N)return;const L=N.value,{split:R}=r,D=L.slice(h.value.end),P=D.startsWith(R),O=`${A.value}${P?"":R}`,M=L.slice(0,h.value.start)+O+D;n(Ht,M),n("select",A,h.value.prefix);const W=h.value.start+O.length+(P?1:0);xt(()=>{N.selectionStart=W,N.selectionEnd=W,N.focus(),I()})},k=()=>{var A,N;return r.type==="textarea"?(A=l.value)==null?void 0:A.textarea:(N=l.value)==null?void 0:N.input},T=()=>{setTimeout(()=>{E(),I(),xt(()=>{var A;return(A=u.value)==null?void 0:A.updatePopper()})},0)},E=()=>{const A=k();if(!A)return;const N=t7e(A),L=A.getBoundingClientRect(),R=l.value.$el.getBoundingClientRect();d.value={position:"absolute",width:0,height:`${N.height}px`,left:`${N.left+L.left-R.left}px`,top:`${N.top+L.top-R.top}px`}},I=()=>{const A=k();if(document.activeElement!==A){f.value=!1;return}const{prefix:N,split:L}=r;if(h.value=e7e(A,N,L),h.value&&h.value.splitIndex===-1){f.value=!0,n("search",h.value.pattern,h.value.prefix);return}f.value=!1};return t({input:l,tooltip:u,dropdownVisible:m}),(A,N)=>(z(),q("div",{ref_key:"wrapperRef",ref:_,class:G(w(i).b())},[ie(w(mo),rn(rn(w(a),A.$attrs),{ref_key:"elInputRef",ref:l,"model-value":A.modelValue,disabled:w(o),role:w(m)?"combobox":void 0,"aria-activedescendant":w(m)?w(y)||"":void 0,"aria-controls":w(m)?w(s):void 0,"aria-expanded":w(m)||void 0,"aria-label":A.ariaLabel,"aria-autocomplete":w(m)?"none":void 0,"aria-haspopup":w(m)?"listbox":void 0,onInput:b,onKeydown:x,onMousedown:S}),Ml({_:2},[un(A.$slots,(L,R)=>({name:R,fn:fe(D=>[Se(A.$slots,R,hu(Sh(D)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),ie(w(Hi),{ref_key:"tooltipRef",ref:u,visible:w(m),"popper-class":[w(i).e("popper"),A.popperClass],"popper-options":A.popperOptions,placement:w(p),"fallback-placements":w(v),effect:"light",pure:"",offset:A.offset,"show-arrow":A.showArrow},{default:fe(()=>[Z("div",{style:yt(d.value)},null,4)]),content:fe(()=>{var L;return[ie(l7e,{ref_key:"dropdownRef",ref:c,options:w(g),disabled:w(o),loading:A.loading,"content-id":w(s),"aria-label":A.ariaLabel,onSelect:C,onClick:At((L=l.value)==null?void 0:L.focus,["stop"])},Ml({_:2},[un(A.$slots,(R,D)=>({name:D,fn:fe(P=>[Se(A.$slots,D,hu(Sh(P)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var f7e=Ze(c7e,[["__file","mention.vue"]]);const d7e=Bt(f7e);var h7e=[FEe,cDe,aMe,YWe,cMe,mMe,_ae,AMe,DMe,si,Aae,T$e,D$e,j$e,Y$e,YLe,Xae,eOe,Pl,lLe,Vae,iOe,wOe,_Oe,IA,YOe,ZOe,uPe,cPe,fPe,dPe,hPe,FFe,YFe,XFe,s3e,wie,m3e,o4e,s4e,l4e,Die,sBe,lBe,pt,bBe,Mie,mo,$ie,LBe,zBe,sVe,lVe,uVe,cVe,gVe,sze,hze,_ze,yae,Hie,jae,wLe,xLe,Rze,Pze,Uze,Jc,og,eI,zVe,S8e,R8e,M8e,J8e,r6e,noe,p6e,S6e,C6e,D6e,F5e,B5e,jWe,uHe,cHe,ny,vHe,aFe,wHe,kHe,IHe,Hi,LUe,YUe,dI,hGe,DGe,QGe,u9e,$9e,L9e,G9e,K9e,J9e,d7e];const yl="ElInfiniteScroll",p7e=50,v7e=200,g7e=0,m7e={delay:{type:Number,default:v7e},distance:{type:Number,default:g7e},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},mV=(e,t)=>Object.entries(m7e).reduce((n,[r,a])=>{var i,o;const{type:s,default:l}=a,u=e.getAttribute(`infinite-scroll-${r}`);let c=(o=(i=t[u])!=null?i:u)!=null?o:l;return c=c==="false"?!1:c,c=s(c),n[r]=Number.isNaN(c)?l:c,n},{}),Tse=e=>{const{observer:t}=e[yl];t&&(t.disconnect(),delete e[yl].observer)},y7e=(e,t)=>{const{container:n,containerEl:r,instance:a,observer:i,lastScrollTop:o}=e[yl],{disabled:s,distance:l}=mV(e,a),{clientHeight:u,scrollHeight:c,scrollTop:f}=r,d=f-o;if(e[yl].lastScrollTop=f,i||s||d<0)return;let h=!1;if(n===e)h=c-(u+f)<=l;else{const{clientTop:p,scrollHeight:v}=e,g=DO(e,r);h=f+u>=g+p+v-l}h&&t.call(a)};function YR(e,t){const{containerEl:n,instance:r}=e[yl],{disabled:a}=mV(e,r);a||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):Tse(e))}const b7e={async mounted(e,t){const{instance:n,value:r}=t;mt(r)||Na(yl,"'v-infinite-scroll' binding value must be a function"),await xt();const{delay:a,immediate:i}=mV(e,n),o=eB(e,!0),s=o===window?document.documentElement:o,l=Ov(y7e.bind(null,e,r),a);if(o){if(e[yl]={instance:n,container:o,containerEl:s,delay:a,cb:r,onScroll:l,lastScrollTop:s.scrollTop},i){const u=new MutationObserver(Ov(YR.bind(null,e,r),p7e));e[yl].observer=u,u.observe(e,{childList:!0,subtree:!0}),YR(e,r)}o.addEventListener("scroll",l)}},unmounted(e){if(!e[yl])return;const{container:t,onScroll:n}=e[yl];t==null||t.removeEventListener("scroll",n),Tse(e)},async updated(e){if(!e[yl])await xt();else{const{containerEl:t,cb:n,observer:r}=e[yl];t.clientHeight&&r&&YR(e,n)}}},bP=b7e;bP.install=e=>{e.directive("InfiniteScroll",bP)};const x7e=bP;function w7e(e){let t;const n=Y(!1),r=Ln({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(d){r.text=d}function i(){const d=r.parent,h=f.ns;if(!d.vLoadingAddClassList){let p=d.getAttribute("loading-number");p=Number.parseInt(p)-1,p?d.setAttribute("loading-number",p.toString()):(bo(d,h.bm("parent","relative")),d.removeAttribute("loading-number")),bo(d,h.bm("parent","hidden"))}o(),c.unmount()}function o(){var d,h;(h=(d=f.$el)==null?void 0:d.parentNode)==null||h.removeChild(f.$el)}function s(){var d;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(l,400),r.visible=!1,(d=e.closed)==null||d.call(e))}function l(){if(!n.value)return;const d=r.parent;n.value=!1,d.vLoadingAddClassList=void 0,i()}const c=$ne(se({name:"ElLoading",setup(d,{expose:h}){const{ns:p,zIndex:v}=bA("loading");return h({ns:p,zIndex:v}),()=>{const g=r.spinner||r.svg,m=Ct("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...g?{innerHTML:g}:{}},[Ct("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),y=r.text?Ct("p",{class:p.b("text")},[r.text]):void 0;return Ct(hi,{name:p.b("fade"),onAfterLeave:l},{default:fe(()=>[Vt(ie("div",{style:{backgroundColor:r.background||""},class:[p.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[Ct("div",{class:p.b("spinner")},[m,y])]),[[En,r.visible]])])})}}})),f=c.mount(document.createElement("div"));return{...di(r),setText:a,removeElLoadingChild:o,close:s,handleAfterLeave:l,vm:f,get $el(){return f.$el}}}let JC;const xP=function(e={}){if(!wn)return;const t=_7e(e);if(t.fullscreen&&JC)return JC;const n=w7e({...t,closed:()=>{var a;(a=t.closed)==null||a.call(t),t.fullscreen&&(JC=void 0)}});S7e(t,t.parent,n),k9(t,t.parent,n),t.parent.vLoadingAddClassList=()=>k9(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),xt(()=>n.visible.value=t.visible),t.fullscreen&&(JC=n),n},_7e=e=>{var t,n,r,a;let i;return gt(e.target)?i=(t=document.querySelector(e.target))!=null?t:document.body:i=e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,beforeClose:e.beforeClose,closed:e.closed,target:i}},S7e=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,a={};if(e.fullscreen)n.originalPosition.value=Cf(document.body,"position"),n.originalOverflow.value=Cf(document.body,"overflow"),a.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=Cf(document.body,"position"),await xt();for(const i of["top","left"]){const o=i==="top"?"scrollTop":"scrollLeft";a[i]=`${e.target.getBoundingClientRect()[i]+document.body[o]+document.documentElement[o]-Number.parseInt(Cf(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])a[i]=`${e.target.getBoundingClientRect()[i]}px`}else n.originalPosition.value=Cf(t,"position");for(const[i,o]of Object.entries(a))n.$el.style[i]=o},k9=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?bo(t,r.bm("parent","relative")):Tl(t,r.bm("parent","relative")),e.fullscreen&&e.lock?Tl(t,r.bm("parent","hidden")):bo(t,r.bm("parent","hidden"))},rk=Symbol("ElLoading"),I9=(e,t)=>{var n,r,a,i;const o=t.instance,s=d=>qt(t.value)?t.value[d]:void 0,l=d=>{const h=gt(d)&&(o==null?void 0:o[d])||d;return h&&Y(h)},u=d=>l(s(d)||e.getAttribute(`element-loading-${ad(d)}`)),c=(n=s("fullscreen"))!=null?n:t.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(r=s("target"))!=null?r:c?void 0:e,body:(a=s("body"))!=null?a:t.modifiers.body,lock:(i=s("lock"))!=null?i:t.modifiers.lock};e[rk]={options:f,instance:xP(f)}},C7e=(e,t)=>{for(const n of Object.keys(t))vr(t[n])&&(t[n].value=e[n])},E9={mounted(e,t){t.value&&I9(e,t)},updated(e,t){const n=e[rk];t.oldValue!==t.value&&(t.value&&!t.oldValue?I9(e,t):t.value&&t.oldValue?qt(t.value)&&C7e(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[rk])==null||t.instance.close(),e[rk]=null}},T7e={install(e){e.directive("loading",E9),e.config.globalProperties.$loading=xP},directive:E9,service:xP},kse=["success","info","warning","error"],ao=zr({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:wn?document.body:void 0}),k7e=je({customClass:{type:String,default:ao.customClass},center:{type:Boolean,default:ao.center},dangerouslyUseHTMLString:{type:Boolean,default:ao.dangerouslyUseHTMLString},duration:{type:Number,default:ao.duration},icon:{type:er,default:ao.icon},id:{type:String,default:ao.id},message:{type:be([String,Object,Function]),default:ao.message},onClose:{type:be(Function),default:ao.onClose},showClose:{type:Boolean,default:ao.showClose},type:{type:String,values:kse,default:ao.type},plain:{type:Boolean,default:ao.plain},offset:{type:Number,default:ao.offset},zIndex:{type:Number,default:ao.zIndex},grouping:{type:Boolean,default:ao.grouping},repeatNum:{type:Number,default:ao.repeatNum}}),I7e={destroy:()=>!0},vu=Ete([]),E7e=e=>{const t=vu.findIndex(a=>a.id===e),n=vu[t];let r;return t>0&&(r=vu[t-1]),{current:n,prev:r}},A7e=e=>{const{prev:t}=E7e(e);return t?t.vm.exposed.bottom.value:0},D7e=(e,t)=>vu.findIndex(r=>r.id===e)>0?16:t,N7e=se({name:"ElMessage"}),R7e=se({...N7e,props:k7e,emits:I7e,setup(e,{expose:t}){const n=e,{Close:r}=oB,{ns:a,zIndex:i}=bA("message"),{currentZIndex:o,nextZIndex:s}=i,l=Y(),u=Y(!1),c=Y(0);let f;const d=F(()=>n.type?n.type==="error"?"danger":n.type:"info"),h=F(()=>{const C=n.type;return{[a.bm("icon",C)]:C&&Dh[C]}}),p=F(()=>n.icon||Dh[n.type]||""),v=F(()=>A7e(n.id)),g=F(()=>D7e(n.id,n.offset)+v.value),m=F(()=>c.value+g.value),y=F(()=>({top:`${g.value}px`,zIndex:o.value}));function b(){n.duration!==0&&({stop:f}=ag(()=>{_()},n.duration))}function x(){f==null||f()}function _(){u.value=!1}function S({code:C}){C===lt.esc&&_()}return zt(()=>{b(),s(),u.value=!0}),Le(()=>n.repeatNum,()=>{x(),b()}),Zn(document,"keydown",S),Mr(l,()=>{c.value=l.value.getBoundingClientRect().height}),t({visible:u,bottom:m,close:_}),(C,k)=>(z(),Ae(hi,{name:w(a).b("fade"),onBeforeLeave:C.onClose,onAfterLeave:T=>C.$emit("destroy"),persisted:""},{default:fe(()=>[Vt(Z("div",{id:C.id,ref_key:"messageRef",ref:l,class:G([w(a).b(),{[w(a).m(C.type)]:C.type},w(a).is("center",C.center),w(a).is("closable",C.showClose),w(a).is("plain",C.plain),C.customClass]),style:yt(w(y)),role:"alert",onMouseenter:x,onMouseleave:b},[C.repeatNum>1?(z(),Ae(w(_ae),{key:0,value:C.repeatNum,type:w(d),class:G(w(a).e("badge"))},null,8,["value","type","class"])):Te("v-if",!0),w(p)?(z(),Ae(w(pt),{key:1,class:G([w(a).e("icon"),w(h)])},{default:fe(()=>[(z(),Ae(tn(w(p))))]),_:1},8,["class"])):Te("v-if",!0),Se(C.$slots,"default",{},()=>[C.dangerouslyUseHTMLString?(z(),q(vt,{key:1},[Te(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:G(w(a).e("content")),innerHTML:C.message},null,10,["innerHTML"])],2112)):(z(),q("p",{key:0,class:G(w(a).e("content"))},Ve(C.message),3))]),C.showClose?(z(),Ae(w(pt),{key:2,class:G(w(a).e("closeBtn")),onClick:At(_,["stop"])},{default:fe(()=>[ie(w(r))]),_:1},8,["class","onClick"])):Te("v-if",!0)],46,["id"]),[[En,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var M7e=Ze(R7e,[["__file","message.vue"]]);let $7e=1;const Ise=e=>{const t=!e||gt(e)||$r(e)||mt(e)?{message:e}:e,n={...ao,...t};if(!n.appendTo)n.appendTo=document.body;else if(gt(n.appendTo)){let r=document.querySelector(n.appendTo);Hs(r)||(r=document.body),n.appendTo=r}return lr(su.grouping)&&!n.grouping&&(n.grouping=su.grouping),Tt(su.duration)&&n.duration===3e3&&(n.duration=su.duration),Tt(su.offset)&&n.offset===16&&(n.offset=su.offset),lr(su.showClose)&&!n.showClose&&(n.showClose=su.showClose),n},L7e=e=>{const t=vu.indexOf(e);if(t===-1)return;vu.splice(t,1);const{handler:n}=e;n.close()},O7e=({appendTo:e,...t},n)=>{const r=`message_${$7e++}`,a=t.onClose,i=document.createElement("div"),o={...t,id:r,onClose:()=>{a==null||a(),L7e(c)},onDestroy:()=>{Ch(null,i)}},s=ie(M7e,o,mt(o.message)||$r(o.message)?{default:mt(o.message)?o.message:()=>o.message}:null);s.appContext=n||uy._context,Ch(s,i),e.appendChild(i.firstElementChild);const l=s.component,c={id:r,vnode:s,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:s.component.props};return c},uy=(e={},t)=>{if(!wn)return{close:()=>{}};const n=Ise(e);if(n.grouping&&vu.length){const a=vu.find(({vnode:i})=>{var o;return((o=i.props)==null?void 0:o.message)===n.message});if(a)return a.props.repeatNum+=1,a.props.type=n.type,a.handler}if(Tt(su.max)&&vu.length>=su.max)return{close:()=>{}};const r=O7e(n,t);return vu.push(r),r.handler};kse.forEach(e=>{uy[e]=(t={},n)=>{const r=Ise(t);return uy({...r,type:e},n)}});function P7e(e){for(const t of vu)(!e||e===t.props.type)&&t.handler.close()}uy.closeAll=P7e;uy._context=null;const yi=zre(uy,"$message"),wP="_trap-focus-children",_v=[],A9=e=>{if(_v.length===0)return;const t=_v[_v.length-1][wP];if(t.length>0&&e.code===lt.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,r=e.target===t[0],a=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),a&&!n&&(e.preventDefault(),t[0].focus())}},F7e={beforeMount(e){e[wP]=RU(e),_v.push(e),_v.length<=1&&document.addEventListener("keydown",A9)},updated(e){xt(()=>{e[wP]=RU(e)})},unmounted(){_v.shift(),_v.length===0&&document.removeEventListener("keydown",A9)}},B7e=se({name:"ElMessageBox",directives:{TrapFocus:F7e},components:{ElButton:si,ElFocusTrap:Gy,ElInput:mo,ElOverlay:LB,ElIcon:pt,...oB},inheritAttrs:!1,props:{buttonSize:{type:String,validator:aoe},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:a,size:i}=bA("message-box",F(()=>e.buttonSize)),{t:o}=n,{nextZIndex:s}=r,l=Y(!1),u=Ln({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:uh(Mu),cancelButtonLoadingIcon:uh(Mu),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),c=F(()=>{const D=u.type;return{[a.bm("icon",D)]:D&&Dh[D]}}),f=Ii(),d=Ii(),h=F(()=>u.icon||Dh[u.type]||""),p=F(()=>!!u.message),v=Y(),g=Y(),m=Y(),y=Y(),b=Y(),x=F(()=>u.confirmButtonClass);Le(()=>u.inputValue,async D=>{await xt(),e.boxType==="prompt"&&D!==null&&A()},{immediate:!0}),Le(()=>l.value,D=>{var P,O;D&&(e.boxType!=="prompt"&&(u.autofocus?m.value=(O=(P=b.value)==null?void 0:P.$el)!=null?O:v.value:m.value=v.value),u.zIndex=s()),e.boxType==="prompt"&&(D?xt().then(()=>{var M;y.value&&y.value.$el&&(u.autofocus?m.value=(M=N())!=null?M:v.value:m.value=v.value)}):(u.editorErrorMessage="",u.validateError=!1))});const _=F(()=>e.draggable),S=F(()=>e.overflow);mie(v,g,_,S),zt(async()=>{await xt(),e.closeOnHashChange&&window.addEventListener("hashchange",C)}),ar(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",C)});function C(){l.value&&(l.value=!1,xt(()=>{u.action&&t("action",u.action)}))}const k=()=>{e.closeOnClickModal&&I(u.distinguishCancelAndClose?"close":"cancel")},T=$B(k),E=D=>{if(u.inputType!=="textarea")return D.preventDefault(),I("confirm")},I=D=>{var P;e.boxType==="prompt"&&D==="confirm"&&!A()||(u.action=D,u.beforeClose?(P=u.beforeClose)==null||P.call(u,D,u,C):C())},A=()=>{if(e.boxType==="prompt"){const D=u.inputPattern;if(D&&!D.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;const P=u.inputValidator;if(mt(P)){const O=P(u.inputValue);if(O===!1)return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;if(gt(O))return u.editorErrorMessage=O,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},N=()=>{const D=y.value.$refs;return D.input||D.textarea},L=()=>{I("close")},R=()=>{e.closeOnPressEscape&&L()};return e.lockScroll&&OB(l),{...di(u),ns:a,overlayEvent:T,visible:l,hasMessage:p,typeClass:c,contentId:f,inputId:d,btnSize:i,iconComponent:h,confirmButtonClasses:x,rootRef:v,focusStartRef:m,headerRef:g,inputRef:y,confirmRef:b,doClose:C,handleClose:L,onCloseRequested:R,handleWrapperClick:k,handleInputEnter:E,handleAction:I,t:o}}});function V7e(e,t,n,r,a,i){const o=Ft("el-icon"),s=Ft("close"),l=Ft("el-input"),u=Ft("el-button"),c=Ft("el-focus-trap"),f=Ft("el-overlay");return z(),Ae(hi,{name:"fade-in-linear",onAfterLeave:d=>e.$emit("vanish"),persisted:""},{default:fe(()=>[Vt(ie(f,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:fe(()=>[Z("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:G(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[ie(c,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:fe(()=>[Z("div",{ref:"rootRef",class:G([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:yt(e.customStyle),tabindex:"-1",onClick:At(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(z(),q("div",{key:0,ref:"headerRef",class:G([e.ns.e("header"),{"show-close":e.showClose}])},[Z("div",{class:G(e.ns.e("title"))},[e.iconComponent&&e.center?(z(),Ae(o,{key:0,class:G([e.ns.e("status"),e.typeClass])},{default:fe(()=>[(z(),Ae(tn(e.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),Z("span",null,Ve(e.title),1)],2),e.showClose?(z(),q("button",{key:0,type:"button",class:G(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:rr(At(d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[ie(o,{class:G(e.ns.e("close"))},{default:fe(()=>[ie(s)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Te("v-if",!0)],2)):Te("v-if",!0),Z("div",{id:e.contentId,class:G(e.ns.e("content"))},[Z("div",{class:G(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(z(),Ae(o,{key:0,class:G([e.ns.e("status"),e.typeClass])},{default:fe(()=>[(z(),Ae(tn(e.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),e.hasMessage?(z(),q("div",{key:1,class:G(e.ns.e("message"))},[Se(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(z(),Ae(tn(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(z(),Ae(tn(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:fe(()=>[Kt(Ve(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Te("v-if",!0)],2),Vt(Z("div",{class:G(e.ns.e("input"))},[ie(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":d=>e.inputValue=d,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:G({invalid:e.validateError}),onKeydown:rr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Z("div",{class:G(e.ns.e("errormsg")),style:yt({visibility:e.editorErrorMessage?"visible":"hidden"})},Ve(e.editorErrorMessage),7)],2),[[En,e.showInput]])],10,["id"]),Z("div",{class:G(e.ns.e("btns"))},[e.showCancelButton?(z(),Ae(u,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:G([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:d=>e.handleAction("cancel"),onKeydown:rr(At(d=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:fe(()=>[Kt(Ve(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Te("v-if",!0),Vt(ie(u,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:G([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:d=>e.handleAction("confirm"),onKeydown:rr(At(d=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:fe(()=>[Kt(Ve(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[En,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[En,e.visible]])]),_:3},8,["onAfterLeave"])}var z7e=Ze(B7e,[["render",V7e],["__file","index.vue"]]);const dw=new Map,W7e=e=>{let t=document.body;return e.appendTo&&(gt(e.appendTo)&&(t=document.querySelector(e.appendTo)),Hs(e.appendTo)&&(t=e.appendTo),Hs(t)||(t=document.body)),t},H7e=(e,t,n=null)=>{const r=ie(z7e,e,mt(e.message)||$r(e.message)?{default:mt(e.message)?e.message:()=>e.message}:null);return r.appContext=n,Ch(r,t),W7e(e).appendChild(t.firstElementChild),r.component},U7e=()=>document.createElement("div"),G7e=(e,t)=>{const n=U7e();e.onVanish=()=>{Ch(null,n),dw.delete(a)},e.onAction=i=>{const o=dw.get(a);let s;e.showInput?s={value:a.inputValue,action:i}:s=i,e.callback?e.callback(s,r.proxy):i==="cancel"||i==="close"?e.distinguishCancelAndClose&&i!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(s)};const r=H7e(e,n,t),a=r.proxy;for(const i in e)Dn(e,i)&&!Dn(a.$props,i)&&(a[i]=e[i]);return a.visible=!0,a};function qy(e,t=null){if(!wn)return Promise.reject();let n;return gt(e)||$r(e)?e={message:e}:n=e.callback,new Promise((r,a)=>{const i=G7e(e,t??qy._context);dw.set(i,{options:e,callback:n,resolve:r,reject:a})})}const K7e=["alert","confirm","prompt"],j7e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};K7e.forEach(e=>{qy[e]=Y7e(e)});function Y7e(e){return(t,n,r,a)=>{let i="";return qt(n)?(r=n,i=""):qn(n)?i="":i=n,qy(Object.assign({title:i,message:t,type:"",...j7e[e]},r,{boxType:e}),a)}}qy.close=()=>{dw.forEach((e,t)=>{t.doClose()}),dw.clear()};qy._context=null;const Ld=qy;Ld.install=e=>{Ld._context=e._context,e.config.globalProperties.$msgbox=Ld,e.config.globalProperties.$messageBox=Ld,e.config.globalProperties.$alert=Ld.alert,e.config.globalProperties.$confirm=Ld.confirm,e.config.globalProperties.$prompt=Ld.prompt};const X7e=Ld,Ese=["success","info","warning","error"],q7e=je({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:er},id:{type:String,default:""},message:{type:be([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:be(Function),default:()=>{}},onClose:{type:be(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Ese,""],default:""},zIndex:Number}),Z7e={destroy:()=>!0},J7e=se({name:"ElNotification"}),Q7e=se({...J7e,props:q7e,emits:Z7e,setup(e,{expose:t}){const n=e,{ns:r,zIndex:a}=bA("notification"),{nextZIndex:i,currentZIndex:o}=a,{Close:s}=iB,l=Y(!1);let u;const c=F(()=>{const b=n.type;return b&&Dh[n.type]?r.m(b):""}),f=F(()=>n.type&&Dh[n.type]||n.icon),d=F(()=>n.position.endsWith("right")?"right":"left"),h=F(()=>n.position.startsWith("top")?"top":"bottom"),p=F(()=>{var b;return{[h.value]:`${n.offset}px`,zIndex:(b=n.zIndex)!=null?b:o.value}});function v(){n.duration>0&&({stop:u}=ag(()=>{l.value&&m()},n.duration))}function g(){u==null||u()}function m(){l.value=!1}function y({code:b}){b===lt.delete||b===lt.backspace?g():b===lt.esc?l.value&&m():v()}return zt(()=>{v(),i(),l.value=!0}),Zn(document,"keydown",y),t({visible:l,close:m}),(b,x)=>(z(),Ae(hi,{name:w(r).b("fade"),onBeforeLeave:b.onClose,onAfterLeave:_=>b.$emit("destroy"),persisted:""},{default:fe(()=>[Vt(Z("div",{id:b.id,class:G([w(r).b(),b.customClass,w(d)]),style:yt(w(p)),role:"alert",onMouseenter:g,onMouseleave:v,onClick:b.onClick},[w(f)?(z(),Ae(w(pt),{key:0,class:G([w(r).e("icon"),w(c)])},{default:fe(()=>[(z(),Ae(tn(w(f))))]),_:1},8,["class"])):Te("v-if",!0),Z("div",{class:G(w(r).e("group"))},[Z("h2",{class:G(w(r).e("title")),textContent:Ve(b.title)},null,10,["textContent"]),Vt(Z("div",{class:G(w(r).e("content")),style:yt(b.title?void 0:{margin:0})},[Se(b.$slots,"default",{},()=>[b.dangerouslyUseHTMLString?(z(),q(vt,{key:1},[Te(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{innerHTML:b.message},null,8,["innerHTML"])],2112)):(z(),q("p",{key:0},Ve(b.message),1))])],6),[[En,b.message]]),b.showClose?(z(),Ae(w(pt),{key:0,class:G(w(r).e("closeBtn")),onClick:At(m,["stop"])},{default:fe(()=>[ie(w(s))]),_:1},8,["class","onClick"])):Te("v-if",!0)],2)],46,["id","onClick"]),[[En,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var eKe=Ze(Q7e,[["__file","notification.vue"]]);const hI={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},_P=16;let tKe=1;const cy=function(e={},t){if(!wn)return{close:()=>{}};(gt(e)||$r(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;hI[n].forEach(({vm:c})=>{var f;r+=(((f=c.el)==null?void 0:f.offsetHeight)||0)+_P}),r+=_P;const a=`notification_${tKe++}`,i=e.onClose,o={...e,offset:r,id:a,onClose:()=>{nKe(a,n,i)}};let s=document.body;Hs(e.appendTo)?s=e.appendTo:gt(e.appendTo)&&(s=document.querySelector(e.appendTo)),Hs(s)||(s=document.body);const l=document.createElement("div"),u=ie(eKe,o,mt(o.message)?o.message:$r(o.message)?()=>o.message:null);return u.appContext=qn(t)?cy._context:t,u.props.onDestroy=()=>{Ch(null,l)},Ch(u,l),hI[n].push({vm:u}),s.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};Ese.forEach(e=>{cy[e]=(t={},n)=>((gt(t)||$r(t))&&(t={message:t}),cy({...t,type:e},n))});function nKe(e,t,n){const r=hI[t],a=r.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===e});if(a===-1)return;const{vm:i}=r[a];if(!i)return;n==null||n(i);const o=i.el.offsetHeight,s=t.split("-")[0];r.splice(a,1);const l=r.length;if(!(l<1))for(let u=a;u<l;u++){const{el:c,component:f}=r[u].vm,d=Number.parseInt(c.style[s],10)-o-_P;f.props.offset=d}}function rKe(){for(const e of Object.values(hI))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}cy.closeAll=rKe;cy._context=null;const aKe=zre(cy,"$notify");var iKe=[x7e,T7e,yi,X7e,aKe,Wie],oKe=EEe([...h7e,...iKe]);const sKe="/basalt_tectnoic_setting_discrimination/tectonic.jpg";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lKe=1e-7,uKe=1e-4;class Ase{constructor(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,n){this.dataIdsCount++,this.data.set(t,n)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class yV{refCount(t){return ds("refCount")}incRef(t){return ds("incRef")}timerAvailable(){return!0}time(t){return ds("time")}read(t){return ds("read")}readSync(t){return ds("readSync")}readToGPU(t,n){return ds("readToGPU")}numDataIds(){return ds("numDataIds")}disposeData(t,n){return ds("disposeData")}write(t,n,r){return ds("write")}move(t,n,r,a,i){return ds("move")}createTensorFromGPUData(t,n,r){return ds("createTensorFromGPUData")}memory(){return ds("memory")}floatPrecision(){return ds("floatPrecision")}epsilon(){return this.floatPrecision()===32?lKe:uKe}dispose(){return ds("dispose")}}function ds(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cKe(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,tm(e,t,n)}function cg(e,t,n){return Math.max(e,Math.min(t,n))}function bV(e){return e%2===0?e:e+1}function tm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function fKe(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function pe(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function xV(e,t,n=""){pe(Er(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function wV(e){pe(e!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ot(e){if(e.length===0)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Er(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function fy(e){return e%1===0}function SP(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Nm(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function D9(e,t=a=>0,n,r){return new Promise((a,i)=>{let o=0;const s=()=>{if(e()){a();return}o++;const l=t(o);if(n!=null&&o>=n){i();return}r!=null?r(s,l):setTimeout(s,l)};s()})}function Dse(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(e[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(r===-1){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(n===0)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const a=e.slice();return a[r]=t/n,a}function jn(e,t){const n=t.length;return e=e==null?t.map((r,a)=>a):[].concat(e),pe(e.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),pe(e.every(r=>fy(r)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(r=>r<0?n+r:r)}function ep(e,t){const n=[],r=[],a=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||a?null:jn(t,e).sort();let o=0;for(let s=0;s<e.length;++s){if(i!=null){if(i[o]===s&&e[s]!==1)throw new Error(`Can't squeeze axis ${s} since its dim '${e[s]}' is not 1`);(i[o]==null||i[o]>s)&&e[s]===1&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}e[s]!==1&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function Ui(e,t){return ma(e,t)}function ma(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else if(e==="string")n=new Array(t);else throw new Error(`Unknown data type ${e}`);return n}function dKe(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function hKe(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function Nse(e,t){return!(t==="complex64"||t==="float32"&&e!=="complex64"||t==="int32"&&e!=="float32"&&e!=="complex64"||t==="bool"&&e==="bool")}function pI(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error(`Unknown dtype ${e}`)}function pKe(e){if(e==null)return 0;let t=0;return e.forEach(n=>t+=n.length),t}function L_(e){return typeof e=="string"||e instanceof String}function vKe(e){return typeof e=="boolean"}function CP(e){return typeof e=="number"}function Zy(e){return Array.isArray(e)?Zy(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":CP(e)?"float32":L_(e)?"string":vKe(e)?"bool":"float32"}function TP(e){return!!(e&&e.constructor&&e.call&&e.apply)}function kP(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function dn(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Rse(e,t,n,r=!1){const a=new Array;if(t.length===1){const i=t[0]*(r?2:1);for(let o=0;o<i;o++)a[o]=n[e+o]}else{const i=t[0],o=t.slice(1),s=o.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<i;l++)a[l]=Rse(e+l*s,o,n,r)}return a}function Cu(e,t,n=!1){if(e.length===0)return t[0];const r=e.reduce((a,i)=>a*i)*(n?2:1);if(r===0)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return Rse(0,e,t,n)}function gKe(e,t){if(Array.isArray(e))return e;if(t==="float32")return e instanceof Float32Array?e:new Float32Array(e);if(t==="int32")return e instanceof Int32Array?e:new Int32Array(e);if(t==="bool"||t==="string")return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}function _V(e,t){const n=Gi(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function Gi(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function Mse(e,t){const n=e.reduce((r,a)=>r*a,1);if(t==null||t==="float32")return Cu(e,new Float32Array(n));if(t==="int32")return Cu(e,new Int32Array(n));if(t==="bool")return Cu(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function cd(e){e.forEach(t=>{pe(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function kc(e,t,n){if(t===0)return 0;if(t===1)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function Jy(e,t,n){if(t===0)return[];if(t===1)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function SV(e){return e&&e.then&&typeof e.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N9="tfjsflags";class mKe{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=yKe,this.populateURLFlags()}setPlatform(t,n){this.platform!=null&&(tt().getBool("IS_TEST")||tt().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=n}registerFlag(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){const a=this.urlFlags[t];tt().getBool("IS_TEST")||tt().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${a}.`),this.set(t,a)}}async getAsync(t){return t in this.flags?this.flags[t]:(this.flags[t]=await this.evaluateFlag(t),this.flags[t])}get(t){if(t in this.flags)return this.flags[t];const n=this.evaluateFlag(t);if(SV(n))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=n,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,n){if(this.flagRegistry[t]==null)throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)}evaluateFlag(t){if(this.flagRegistry[t]==null)throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);N9 in t&&t[N9].split(",").forEach(r=>{const[a,i]=r.split(":");this.urlFlags[a]=xKe(a,i)})}}function yKe(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(bKe(t,r[0],r[1]),r.join("="))),t}function bKe(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function xKe(e,t){const n=t.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:t}function tt(){return $se}let $se=null;function wKe(e){$se=e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let XR;function Lse(){if(XR==null){let e;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else if(typeof self<"u")e=self;else throw new Error("Could not find a global object");XR=e}return XR}function _Ke(){const e=Lse();return e._tfGlobals==null&&(e._tfGlobals=new Map),e._tfGlobals}function CV(e,t){const n=_Ke();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const BA="Abs",O_="Acos",P_="Acosh",Qy="Add",TV="AddN",kV="All",IV="Any",VA="ArgMax",zA="ArgMin",F_="Asin",B_="Asinh",V_="Atan",z_="Atanh",W_="Atan2",WA="AvgPool",EV="AvgPoolGrad",HA="AvgPool3D",AV="AvgPool3DGrad",UA="BatchMatMul",GA="BatchToSpaceND",DV="Bincount",NV="BitwiseAnd",SKe="BroadcastTo",Ose="BroadcastArgs",H_="Cast",U_="Ceil",G_="ClipByValue",RV="Complex",KA="ComplexAbs",jA="Concat",YA="Conv2D",MV="Conv2DBackpropFilter",XA="Conv2DBackpropInput",qA="Conv3D",$V="Conv3DBackpropFilterV2",LV="Conv3DBackpropInputV2",K_="Cos",j_="Cosh",OV="Cumprod",ZA="Cumsum",PV="CropAndResize",FV="DenseBincount",BV="DepthToSpace",JA="DepthwiseConv2dNative",VV="DepthwiseConv2dNativeBackpropFilter",zV="DepthwiseConv2dNativeBackpropInput",Pse="Diag",QA="Dilation2D",IP="Dilation2DBackpropInput",EP="Dilation2DBackpropFilter",CKe="Draw",Y_="RealDiv",WV="Einsum",X_="Elu",HV="EluGrad",q_="Erf",eD="Equal",Z_="Exp",tD="ExpandDims",J_="Expm1",UV="FFT",GV="Fill",KV="FlipLeftRight",Q_="Floor",eS="FloorDiv",nD="FusedBatchNorm",rD="GatherV2",Fse="GatherNd",aD="Greater",tS="GreaterEqual",nS="Identity",jV="IFFT",YV="Imag",rS="IsFinite",aS="IsInf",iS="IsNan",iD="LeakyRelu",oD="Less",sD="LessEqual",Bse="LinSpace",oS="Log",sS="Log1p",lD="LogicalAnd",uD="LogicalNot",cD="LogicalOr",TKe="LogSoftmax",fD="LRN",XV="LRNGrad",dD="Max",lS="Maximum",hD="MaxPool",qV="MaxPoolGrad",pD="MaxPool3D",ZV="MaxPool3DGrad",Vse="MaxPoolWithArgmax",vD="Mean",gD="Min",uS="Minimum",mD="MirrorPad",cS="Mod",zse="Multinomial",fS="Multiply",yD="Neg",bD="NotEqual",JV="NonMaxSuppressionV3",QV="NonMaxSuppressionV4",ez="NonMaxSuppressionV5",xD="OnesLike",wD="OneHot",_D="Pack",SD="PadV2",dS="Pow",CD="Prelu",TD="Prod",Wse="RaggedGather",Hse="RaggedRange",Use="RaggedTensorToTensor",tz="Range",nz="Real",hS="Reciprocal",pS="Relu",kD="Reshape",ID="ResizeNearestNeighbor",rz="ResizeNearestNeighborGrad",ED="ResizeBilinear",az="ResizeBilinearGrad",vS="Relu6",AD="Reverse",gS="Round",mS="Rsqrt",Gse="ScatterNd",Kse="TensorScatterUpdate",jse="SearchSorted",DD="Select",yS="Selu",ND="Slice",bS="Sin",xS="Sinh",wS="Sign",_S="Sigmoid",SS="Softplus",CS="Sqrt",RD="Sum",MD="SpaceToBatchND",$D="SplitV",LD="Softmax",Yse="SparseFillEmptyRows",Xse="SparseReshape",qse="SparseSegmentMean",Zse="SparseSegmentSum",Jse="SparseToDense",TS="SquaredDifference",iz="Square",oz="StaticRegexReplace",sz="StridedSlice",Qse="StringNGrams",ele="StringSplit",tle="StringToHashBucketFast",kS="Sub",IS="Tan",ES="Tanh",AS="Tile",lz="TopK",uz="Transform",Rm="Transpose",cz="Unique",OD="Unpack",PD="UnsortedSegmentSum",FD="ZerosLike",DS="Step",kKe="FromPixels",fz="RotateWithOffset",vI="_FusedMatMul",gI="FusedConv2D",nle="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $s(...e){tt().getBool("IS_TEST")||tt().getBool("PROD")||console.warn(...e)}function IKe(...e){tt().getBool("IS_TEST")||tt().getBool("PROD")||console.log(...e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mI=CV("kernelRegistry",()=>new Map),AP=CV("gradRegistry",()=>new Map);function R9(e,t){const n=ale(e,t);return mI.get(n)}function M9(e){return AP.get(e)}function $9(e){const t=mI.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[i,o]=a,[s]=i.split("_");s===e&&n.push(o)}return n}function rle(e){const{kernelName:t,backendName:n}=e,r=ale(t,n);mI.has(r)&&$s(`The kernel '${t}' for backend '${n}' is already registered`),mI.set(r,e)}function EKe(e){const{kernelName:t}=e;AP.has(t)&&tt().getBool("DEBUG")&&$s(`Overriding the gradient for '${t}'`),AP.set(t,e)}function ale(e,t){return`${t}_${e}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ile(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var qR,L9;function AKe(){if(L9)return qR;L9=1,qR=t;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(E,I,A){this.low=E|0,this.high=I|0,this.unsigned=!!A}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function n(E){return(E&&E.__isLong__)===!0}t.isLong=n;var r={},a={};function i(E,I){var A,N,L;return I?(E>>>=0,(L=0<=E&&E<256)&&(N=a[E],N)?N:(A=s(E,(E|0)<0?-1:0,!0),L&&(a[E]=A),A)):(E|=0,(L=-128<=E&&E<128)&&(N=r[E],N)?N:(A=s(E,E<0?-1:0,!1),L&&(r[E]=A),A))}t.fromInt=i;function o(E,I){if(isNaN(E))return I?y:m;if(I){if(E<0)return y;if(E>=p)return C}else{if(E<=-v)return k;if(E+1>=v)return S}return E<0?o(-E,I).neg():s(E%h|0,E/h|0,I)}t.fromNumber=o;function s(E,I,A){return new t(E,I,A)}t.fromBits=s;var l=Math.pow;function u(E,I,A){if(E.length===0)throw Error("empty string");if(E==="NaN"||E==="Infinity"||E==="+Infinity"||E==="-Infinity")return m;if(typeof I=="number"?(A=I,I=!1):I=!!I,A=A||10,A<2||36<A)throw RangeError("radix");var N;if((N=E.indexOf("-"))>0)throw Error("interior hyphen");if(N===0)return u(E.substring(1),I,A).neg();for(var L=o(l(A,8)),R=m,D=0;D<E.length;D+=8){var P=Math.min(8,E.length-D),O=parseInt(E.substring(D,D+P),A);if(P<8){var M=o(l(A,P));R=R.mul(M).add(o(O))}else R=R.mul(L),R=R.add(o(O))}return R.unsigned=I,R}t.fromString=u;function c(E,I){return typeof E=="number"?o(E,I):typeof E=="string"?u(E,I):s(E.low,E.high,typeof I=="boolean"?I:E.unsigned)}t.fromValue=c;var f=65536,d=1<<24,h=f*f,p=h*h,v=p/2,g=i(d),m=i(0);t.ZERO=m;var y=i(0,!0);t.UZERO=y;var b=i(1);t.ONE=b;var x=i(1,!0);t.UONE=x;var _=i(-1);t.NEG_ONE=_;var S=s(-1,2147483647,!1);t.MAX_VALUE=S;var C=s(-1,-1,!0);t.MAX_UNSIGNED_VALUE=C;var k=s(0,-2147483648,!1);t.MIN_VALUE=k;var T=t.prototype;return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(I){if(I=I||10,I<2||36<I)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(k)){var A=o(I),N=this.div(A),L=N.mul(A).sub(this);return N.toString(I)+L.toInt().toString(I)}else return"-"+this.neg().toString(I);for(var R=o(l(I,6),this.unsigned),D=this,P="";;){var O=D.div(R),M=D.sub(O.mul(R)).toInt()>>>0,W=M.toString(I);if(D=O,D.isZero())return W+P;for(;W.length<6;)W="0"+W;P=""+W+P}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var I=this.high!=0?this.high:this.low,A=31;A>0&&!(I&1<<A);A--);return this.high!=0?A+33:A+1},T.isZero=function(){return this.high===0&&this.low===0},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return(this.low&1)===1},T.isEven=function(){return(this.low&1)===0},T.equals=function(I){return n(I)||(I=c(I)),this.unsigned!==I.unsigned&&this.high>>>31===1&&I.high>>>31===1?!1:this.high===I.high&&this.low===I.low},T.eq=T.equals,T.notEquals=function(I){return!this.eq(I)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(I){return this.comp(I)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(I){return this.comp(I)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(I){return this.comp(I)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(I){return this.comp(I)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(I){if(n(I)||(I=c(I)),this.eq(I))return 0;var A=this.isNegative(),N=I.isNegative();return A&&!N?-1:!A&&N?1:this.unsigned?I.high>>>0>this.high>>>0||I.high===this.high&&I.low>>>0>this.low>>>0?-1:1:this.sub(I).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},T.neg=T.negate,T.add=function(I){n(I)||(I=c(I));var A=this.high>>>16,N=this.high&65535,L=this.low>>>16,R=this.low&65535,D=I.high>>>16,P=I.high&65535,O=I.low>>>16,M=I.low&65535,W=0,U=0,V=0,H=0;return H+=R+M,V+=H>>>16,H&=65535,V+=L+O,U+=V>>>16,V&=65535,U+=N+P,W+=U>>>16,U&=65535,W+=A+D,W&=65535,s(V<<16|H,W<<16|U,this.unsigned)},T.subtract=function(I){return n(I)||(I=c(I)),this.add(I.neg())},T.sub=T.subtract,T.multiply=function(I){if(this.isZero())return m;if(n(I)||(I=c(I)),e){var A=e.mul(this.low,this.high,I.low,I.high);return s(A,e.get_high(),this.unsigned)}if(I.isZero())return m;if(this.eq(k))return I.isOdd()?k:m;if(I.eq(k))return this.isOdd()?k:m;if(this.isNegative())return I.isNegative()?this.neg().mul(I.neg()):this.neg().mul(I).neg();if(I.isNegative())return this.mul(I.neg()).neg();if(this.lt(g)&&I.lt(g))return o(this.toNumber()*I.toNumber(),this.unsigned);var N=this.high>>>16,L=this.high&65535,R=this.low>>>16,D=this.low&65535,P=I.high>>>16,O=I.high&65535,M=I.low>>>16,W=I.low&65535,U=0,V=0,H=0,K=0;return K+=D*W,H+=K>>>16,K&=65535,H+=R*W,V+=H>>>16,H&=65535,H+=D*M,V+=H>>>16,H&=65535,V+=L*W,U+=V>>>16,V&=65535,V+=R*M,U+=V>>>16,V&=65535,V+=D*O,U+=V>>>16,V&=65535,U+=N*W+L*M+R*O+D*P,U&=65535,s(H<<16|K,U<<16|V,this.unsigned)},T.mul=T.multiply,T.divide=function(I){if(n(I)||(I=c(I)),I.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&I.low===-1&&I.high===-1)return this;var A=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,I.low,I.high);return s(A,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?y:m;var N,L,R;if(this.unsigned){if(I.unsigned||(I=I.toUnsigned()),I.gt(this))return y;if(I.gt(this.shru(1)))return x;R=y}else{if(this.eq(k)){if(I.eq(b)||I.eq(_))return k;if(I.eq(k))return b;var D=this.shr(1);return N=D.div(I).shl(1),N.eq(m)?I.isNegative()?b:_:(L=this.sub(I.mul(N)),R=N.add(L.div(I)),R)}else if(I.eq(k))return this.unsigned?y:m;if(this.isNegative())return I.isNegative()?this.neg().div(I.neg()):this.neg().div(I).neg();if(I.isNegative())return this.div(I.neg()).neg();R=m}for(L=this;L.gte(I);){N=Math.max(1,Math.floor(L.toNumber()/I.toNumber()));for(var P=Math.ceil(Math.log(N)/Math.LN2),O=P<=48?1:l(2,P-48),M=o(N),W=M.mul(I);W.isNegative()||W.gt(L);)N-=O,M=o(N,this.unsigned),W=M.mul(I);M.isZero()&&(M=b),R=R.add(M),L=L.sub(W)}return R},T.div=T.divide,T.modulo=function(I){if(n(I)||(I=c(I)),e){var A=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,I.low,I.high);return s(A,e.get_high(),this.unsigned)}return this.sub(this.div(I).mul(I))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return s(~this.low,~this.high,this.unsigned)},T.and=function(I){return n(I)||(I=c(I)),s(this.low&I.low,this.high&I.high,this.unsigned)},T.or=function(I){return n(I)||(I=c(I)),s(this.low|I.low,this.high|I.high,this.unsigned)},T.xor=function(I){return n(I)||(I=c(I)),s(this.low^I.low,this.high^I.high,this.unsigned)},T.shiftLeft=function(I){return n(I)&&(I=I.toInt()),(I&=63)===0?this:I<32?s(this.low<<I,this.high<<I|this.low>>>32-I,this.unsigned):s(0,this.low<<I-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(I){return n(I)&&(I=I.toInt()),(I&=63)===0?this:I<32?s(this.low>>>I|this.high<<32-I,this.high>>I,this.unsigned):s(this.high>>I-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(I){if(n(I)&&(I=I.toInt()),I&=63,I===0)return this;var A=this.high;if(I<32){var N=this.low;return s(N>>>I|A<<32-I,A>>>I,this.unsigned)}else return I===32?s(A,0,this.unsigned):s(A>>>I-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},T.toBytes=function(I){return I?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var I=this.high,A=this.low;return[A&255,A>>>8&255,A>>>16&255,A>>>24,I&255,I>>>8&255,I>>>16&255,I>>>24]},T.toBytesBE=function(){var I=this.high,A=this.low;return[I>>>24,I>>>16&255,I>>>8&255,I&255,A>>>24,A>>>16&255,A>>>8&255,A&255]},t.fromBytes=function(I,A,N){return N?t.fromBytesLE(I,A):t.fromBytesBE(I,A)},t.fromBytesLE=function(I,A){return new t(I[0]|I[1]<<8|I[2]<<16|I[3]<<24,I[4]|I[5]<<8|I[6]<<16|I[7]<<24,A)},t.fromBytesBE=function(I,A){return new t(I[4]<<24|I[5]<<16|I[6]<<8|I[7],I[0]<<24|I[1]<<16|I[2]<<8|I[3],A)},qR}var ole=AKe();const sle=Qc(ole),DKe=Gxe({__proto__:null,default:sle},[ole]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uv=sle||DKe;function BD(e){return uv.fromString(e,!0,16)}const lle=BD("c3a5c85c97cb3127"),Qp=BD("b492b66fbe98f273"),fo=BD("9ae16a3b2f90404f");function DP(e){return e.xor(e.shru(47))}function ule(e,t,n){const r=e.slice(t,t+n);return uv.fromBytes(Array.from(r),!0,!0)}function Gr(e,t){return ule(e,t,8)}function O9(e,t){return ule(e,t,4)}function ei(e,t){return t===0?e:e.shru(t).or(e.shl(64-t))}function hh(e,t,n=BD("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function NKe(e,t,n,r,a,i){a=a.add(e),i=ei(i.add(a).add(r),21);const o=a;return a=a.add(t),a=a.add(n),i=i.add(ei(a,44)),[a.add(r),i.add(o)]}function QC(e,t,n,r){return NKe(Gr(e,t),Gr(e,t+8),Gr(e,t+16),Gr(e,t+24),n,r)}function RKe(e,t=e.length){if(t>=8){const n=fo.add(t*2),r=Gr(e,0).add(fo),a=Gr(e,t-8),i=ei(a,37).mul(n).add(r),o=ei(r,25).add(a).mul(n);return hh(i,o,n)}if(t>=4){const n=fo.add(t*2),r=O9(e,0);return hh(r.shl(3).add(t),O9(e,t-4),n)}if(t>0){const n=e[0],r=e[t>>1],a=e[t-1],i=n+(r<<8),o=t+(a<<2);return DP(fo.mul(i).xor(lle.mul(o))).mul(fo)}return fo}function MKe(e,t=e.length){const n=fo.add(t*2),r=Gr(e,0).mul(Qp),a=Gr(e,8),i=Gr(e,t-8).mul(n),o=Gr(e,t-16).mul(fo);return hh(ei(r.add(a),43).add(ei(i,30)).add(o),r.add(ei(a.add(fo),18)).add(i),n)}function $Ke(e,t=e.length){const n=fo.add(t*2),r=Gr(e,0).mul(fo),a=Gr(e,8),i=Gr(e,t-8).mul(n),o=Gr(e,t-16).mul(fo),s=ei(r.add(a),43).add(ei(i,30)).add(o),l=hh(s,r.add(ei(a.add(fo),18)).add(i),n),u=Gr(e,16).mul(n),c=Gr(e,24),f=s.add(Gr(e,t-32)).mul(n),d=l.add(Gr(e,t-24)).mul(n);return hh(ei(u.add(c),43).add(ei(f,30)).add(d),u.add(ei(c.add(r),18)).add(f),n)}function LKe(e,t=e.length){const n=uv.fromNumber(81,!0);if(t<=32)return t<=16?RKe(e,t):MKe(e,t);if(t<=64)return $Ke(e,t);let r=n,a=n.mul(Qp).add(113),i=DP(a.mul(fo).add(113)).mul(fo),o=[uv.UZERO,uv.UZERO],s=[uv.UZERO,uv.UZERO];r=r.mul(fo).add(Gr(e,0));let l=0;const u=(t-1>>6)*64,c=u+(t-1&63)-63;do r=ei(r.add(a).add(o[0]).add(Gr(e,l+8)),37).mul(Qp),a=ei(a.add(o[1]).add(Gr(e,l+48)),42).mul(Qp),r=r.xor(s[1]),a=a.add(o[0]).add(Gr(e,l+40)),i=ei(i.add(s[0]),33).mul(Qp),o=QC(e,l,o[1].mul(Qp),r.add(s[0])),s=QC(e,l+32,i.add(s[1]),a.add(Gr(e,l+16))),[i,r]=[r,i],l+=64;while(l!==u);const f=Qp.add(i.and(255).shl(1));return l=c,s[0]=s[0].add(t-1&63),o[0]=o[0].add(s[0]),s[0]=s[0].add(o[0]),r=ei(r.add(a).add(o[0]).add(Gr(e,l+8)),37).mul(f),a=ei(a.add(o[1]).add(Gr(e,l+48)),42).mul(f),r=r.xor(s[1].mul(9)),a=a.add(o[0].mul(9).add(Gr(e,l+40))),i=ei(i.add(s[0]),33).mul(f),o=QC(e,l,o[1].mul(f),r.add(s[0])),s=QC(e,l+32,i.add(s[1]),a.add(Gr(e,l+16))),[i,r]=[r,i],hh(hh(o[0],s[0],f).add(DP(a).mul(lle)).add(i),hh(o[1],s[1],f).add(r),f)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tp(e,t){return t==="string"?ph(e):Vg([e],t)}function OKe(e,t){return e instanceof Float32Array&&t==="float32"||e instanceof Int32Array&&t==="int32"||e instanceof Uint8Array&&t==="bool"}function Vg(e,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=fg(e)),tt().getBool("DEBUG")&&dKe(e,t),OKe(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){const n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)Math.round(e[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${t}`)}function Bo(){return tt().platform.now()}function ph(e,t="utf-8"){return t=t||"utf-8",tt().platform.encode(e,t)}function Rh(e,t="utf-8"){return t=t||"utf-8",tt().platform.decode(e,t)}function Fl(e){return tt().platform.isTypedArray!=null?tt().platform.isTypedArray(e):ile(e)}function fg(e,t=[],n=!1){if(t==null&&(t=[]),typeof e=="boolean"||typeof e=="number"||typeof e=="string"||SV(e)||e==null||Fl(e)&&n)t.push(e);else if(Array.isArray(e)||Fl(e))for(let r=0;r<e.length;++r)fg(e[r],t,n);else{let r=-1;for(const a of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(a)&&(r=Math.max(r,Number(a)));for(let a=0;a<=r;a++)fg(e[a],t,n)}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PKe{constructor(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new BKe)}profileKernel(t,n,r){let a;const i=()=>{a=r()};let o;const s=Bo();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(i);else{i();for(const u of a)u.dataSync();o=Promise.resolve({kernelMs:Bo()-s})}if(tt().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<a.length;u++){const c=a[u];c.data().then(f=>{FKe(f,c.dtype,t)})}return{kernelName:t,outputs:a,inputs:n,timeMs:o.then(u=>u.kernelMs),extraInfo:o.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:n,outputs:r,timeMs:a,inputs:i,extraInfo:o}=t;r.forEach(s=>{Promise.all([s.data(),a,o]).then(l=>{this.logger.logKernelProfile(n,s,l[0],l[1],i,l[2])})})}}function FKe(e,t,n){if(t!=="float32")return!1;for(let r=0;r<e.length;r++){const a=e[r];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class BKe{logKernelProfile(t,n,r,a,i,o){const s=typeof a=="number"?Nm(`${a}ms`,9):a.error,l=Nm(t,25),u=n.rank,c=n.size,f=Nm(n.shape.toString(),14);let d="";for(const h in i){const p=i[h];if(p!=null){const v=p.shape||n.shape,g=v.length;d+=`${h}: ${g}D ${g>0?v:""} `}}console.log(`%c${l}	%c${s}	%c${u}D ${f}	%c${c}	%c${d}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VKe(e,t,n){const r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const u=e[l],c=u.inputs;for(const f in c){const d=c[f];let h=!1;for(let p=0;p<t.length;p++)if(r[d.id]){u.outputs.forEach(v=>r[v.id]=!0),h=!0,a[u.id]=!0;break}if(h)break}}const i={};i[n.id]=!0;const o={};for(let l=e.length-1;l>=0;l--){const u=e[l],c=u.inputs;for(let f=0;f<u.outputs.length;f++)if(i[u.outputs[f].id]){for(const d in c)i[c[d].id]=!0,o[u.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const u=e[l];if(a[u.id]&&o[u.id]){const c={};for(const d in u.inputs){const h=u.inputs[d];r[h.id]&&(c[d]=h)}const f=Object.assign({},u);f.inputs=c,f.outputs=u.outputs,s.push(f)}}return s}function zKe(e,t,n,r){for(let a=t.length-1;a>=0;a--){const i=t[a],o=[];if(i.outputs.forEach(l=>{const u=e[l.id];u!=null?o.push(u):o.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const s=i.gradient(o);for(const l in i.inputs){if(!(l in s))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(s)}.`);const u=n(()=>s[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=i.inputs[l];if(!Er(u.shape,c.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(e[c.id]==null)e[c.id]=u;else{const f=e[c.id];e[c.id]=r(f,u),f.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P9=20,H1=3,ZR=7;function WKe(e,t,n,r){const a=dn(t),i=HKe(e,t,n,a),o=t.length,s=ak(e,t,n,a,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${o}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(s.map(u=>"    "+u).join(`
`)),l.join(`
`)}function HKe(e,t,n,r){const a=ot(t),i=r[r.length-1],o=new Array(i).fill(0),s=t.length,l=n==="complex64"?Eb(e):e;if(s>1)for(let u=0;u<a/i;u++){const c=u*i;for(let f=0;f<i;f++)o[f]=Math.max(o[f],Ib(l[c+f],0,n).length)}return o}function Ib(e,t,n){let r;return Array.isArray(e)?r=`${parseFloat(e[0].toFixed(ZR))} + ${parseFloat(e[1].toFixed(ZR))}j`:L_(e)?r=`'${e}'`:n==="bool"?r=cle(e):r=parseFloat(e.toFixed(ZR)).toString(),Nm(r,t)}function cle(e){return e===0?"false":"true"}function ak(e,t,n,r,a,i=!0){const o=n==="complex64"?2:1,s=t[0],l=t.length;if(l===0){if(n==="complex64"){const v=Eb(e);return[Ib(v[0],0,n)]}return n==="bool"?[cle(e[0])]:[e[0].toString()]}if(l===1){if(s>P9){const g=H1*o;let m=Array.from(e.slice(0,g)),y=Array.from(e.slice((s-H1)*o,s*o));return n==="complex64"&&(m=Eb(m),y=Eb(y)),["["+m.map((b,x)=>Ib(b,a[x],n)).join(", ")+", ..., "+y.map((b,x)=>Ib(b,a[s-H1+x],n)).join(", ")+"]"]}return["["+(n==="complex64"?Eb(e):Array.from(e)).map((g,m)=>Ib(g,a[m],n)).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),f=r[0]*o,d=[];if(s>P9){for(let v=0;v<H1;v++){const g=v*f,m=g+f;d.push(...ak(e.slice(g,m),u,n,c,a,!1))}d.push("...");for(let v=s-H1;v<s;v++){const g=v*f,m=g+f;d.push(...ak(e.slice(g,m),u,n,c,a,v===s-1))}}else for(let v=0;v<s;v++){const g=v*f,m=g+f;d.push(...ak(e.slice(g,m),u,n,c,a,v===s-1))}const h=l===2?",":"";d[0]="["+(s>0?d[0]+h:"");for(let v=1;v<d.length-1;v++)d[v]=" "+d[v]+h;let p=`,
`;for(let v=2;v<l;v++)p+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":p),d}function Eb(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ti{constructor(t,n,r){if(this.dtype=n,this.shape=t.slice(),this.size=ot(t),r!=null){const a=r.length;pe(a===this.size,()=>`Length of values '${a}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||ma(n,this.size),this.strides=dn(t)}set(t,...n){n.length===0&&(n=[0]),pe(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=t}get(...t){t.length===0&&(t=[0]);let n=0;for(const a of t){if(a<0||a>=this.shape[n]){const i=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=t[t.length-1];for(let a=0;a<t.length-1;++a)r+=this.strides[a]*t[a];return this.values[r]}locToIndex(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n}indexToLoc(t){if(this.rank===0)return[];if(this.rank===1)return[t];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n}get rank(){return this.shape.length}toTensor(){return cu().makeTensor(this.values,this.shape,this.dtype)}}let cu=null,nm=null;function UKe(e){cu=e}function GKe(e){nm=e}class Fa{constructor(t,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=ot(t),this.strides=dn(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const t=await this.data();return nm.buffer(this.shape,this.dtype,t)}bufferSync(){return nm.buffer(this.shape,this.dtype,this.dataSync())}async array(){const t=await this.data();return Cu(this.shape,t,this.dtype==="complex64")}arraySync(){return Cu(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const t=cu().read(this.dataId);if(this.dtype==="string"){const n=await t;try{return n.map(r=>Rh(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t}dataToGPU(t){return this.throwIfDisposed(),cu().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=cu().readSync(this.dataId);if(this.dtype==="string")try{return t.map(n=>Rh(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}async bytes(){this.throwIfDisposed();const t=await cu().read(this.dataId);return this.dtype==="string"?t:new Uint8Array(t.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),cu().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return nm.print(this,t)}clone(){return this.throwIfDisposed(),nm.clone(this)}toString(t=!1){const n=this.dataSync();return WKe(n,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),nm.cast(this,t)}variable(t=!0,n,r){return this.throwIfDisposed(),cu().makeVariable(this,t,n,r)}}Object.defineProperty(Fa,Symbol.hasInstance,{value:e=>!!e&&e.data!=null&&e.dataSync!=null&&e.throwIfDisposed!=null});function it(){return CV("Tensor",()=>Fa)}it();class yI extends Fa{constructor(t,n,r,a){super(t.shape,t.dtype,t.dataId,a),this.trainable=n,this.name=r}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!Er(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);cu().disposeTensor(this),this.dataId=t.dataId,cu().incRef(this,null)}dispose(){cu().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(yI,Symbol.hasInstance,{value:e=>e instanceof Fa&&e.assign!=null&&e.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var F9;(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(F9||(F9={}));var NP;(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(NP||(NP={}));var RP;(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(RP||(RP={}));var MP;(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(MP||(MP={}));var $P;(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})($P||($P={}));const KKe={float32:MP,int32:NP,bool:RP,complex64:$P};function Ts(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return KKe[e][t]}function dz(e){return Ts(e,"int32")}function fle(e){return e!=null&&typeof e=="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function dle(e){return typeof GPUBuffer<"u"&&e!=null&&typeof e=="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wa(e,t){if(e.dtype===t.dtype)return[e,t];const n=Ts(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function hle(e){const t=[];return ple(e,t,new Set),t}function ple(e,t,n){if(e==null)return;if(e instanceof Fa){t.push(e);return}if(!jKe(e))return;const r=e;for(const a in r){const i=r[a];n.has(i)||(n.add(i),ple(i,t,n))}}function jKe(e){return Array.isArray(e)||typeof e=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JR(e){return e.kernelName!=null}class B9{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class dy{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new B9}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:t,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry))if(t in this.registryFactory){const{asyncInit:n}=this.initializeBackend(t);if(n)return null}else return null;return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,n,r=1){return t in this.registryFactory?($s(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:n,priority:r},!0)}async setBackend(t){if(this.registryFactory[t]==null)throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,this.registry[t]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(t);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new PKe(this.backendInstance),!0}setupRegisteredKernels(){$9(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(t){$9(t).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[t])})}initializeBackend(t){const n=this.registryFactory[t];if(n==null)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof yV)&&typeof r.then=="function"){const a=++this.pendingBackendInitId,i=r.then(o=>a<this.pendingBackendInitId?!1:(this.registry[t]=o,this.pendingBackendInit=null,!0)).catch(o=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,$s(`Initialization of backend ${t} failed`),$s(o.stack||o.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(r){return $s(`Initialization of backend ${t} failed`),$s(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((t,n)=>this.registryFactory[n].priority-this.registryFactory[t].priority)}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n],{success:a,asyncInit:i}=this.initializeBackend(r);if(i||a)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,n){const r=this.state.tensorInfo.get(n),a=r.backend,i=this.readSync(n),o=a.refCount(n);a.disposeData(n,!0),r.backend=t,t.move(n,i,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,n){let r=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}let a;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=n(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(t,n,r){t();try{const a=r();return n(),a}catch(a){throw n(),a}}nextTensorId(){return dy.nextTensorId++}nextVariableId(){return dy.nextVariableId++}clone(t){const n=Fe.runKernel(nS,{x:t}),r={x:t},a=o=>({x:()=>{const s="float32",l={x:o},u={dtype:s};return Fe.runKernel(H_,l,u)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],a,i,{}),n}runKernel(t,n,r){if(this.backendName==null&&this.backend,!(R9(t,this.backendName)!=null))throw new Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,n,r){const a=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-n-i-o;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${t}'`)}runKernelFunc(t){let n,r=[];const a=this.isTapeOn(),i=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let s;this.backendName==null&&this.backend;let l;const u=JR(t)?t.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(JR(t)){const{kernelName:p,inputs:v,attrs:g}=t;this.backendName==null&&this.backend;const m=R9(p,this.backendName);pe(m!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),s=()=>{const y=this.backend.numDataIds();l=m.kernelFunc({inputs:v,attrs:g,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,y,b);const x=b.map(_=>_.rank!=null?_:this.makeTensorFromTensorInfo(_));if(a){const _=this.getTensorsForGradient(p,v,x);r=this.saveTensorsForBackwardMode(_)}return x}}else{const{forwardFunc:p}=t,v=g=>{a&&(r=g.map(m=>this.keep(this.clone(m))))};s=()=>{const g=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,v));const m=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,g,m),m}}const{inputs:c,attrs:f}=t,d=JR(t)?null:t.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=s():(h=this.profiler.profileKernel(u,c,()=>s()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),a&&this.addTapeNode(u,c,n,d,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(p=>c[p]!=null?c[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(t){return t.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(t,n,r){const a=M9(t);if(a!=null){const i=a.inputsToSave||[],o=a.outputsToSave||[];let s;a.saveAllInputs?(pe(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),s=Object.keys(n).map(u=>n[u])):s=i.map(u=>n[u]);const l=r.filter((u,c)=>o[c]);return s.concat(l)}return[]}makeTensor(t,n,r,a){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;let i=t;r==="string"&&L_(t[0])&&(i=t.map(l=>ph(l)));const o=a.write(i,n,r),s=new Fa(n,r,o,this.nextTensorId());if(this.trackTensor(s,a),r==="string"){const l=this.state.tensorInfo.get(o),u=pKe(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return s}makeTensorFromDataId(t,n,r,a){r=r||"float32";const i={dataId:t,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,a)}makeTensorFromTensorInfo(t,n){const{dataId:r,shape:a,dtype:i}=t,o=new Fa(a,i,r,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(t,n=!0,r,a){r=r||this.nextVariableId().toString(),a!=null&&a!==t.dtype&&(t=t.cast(a));const i=new yI(t,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(t,n){this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++;let r=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(r=t.size*pI(t.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:r})),t instanceof yI||this.track(t)}incRef(t,n){this.trackTensor(t,n),this.backend.incRef(t.dataId)}removeDataId(t,n){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===n&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;const n=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,t.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),t.dtype!=="complex64"&&t.dtype!=="string"){const r=t.size*pI(t.dtype);this.state.numBytes-=r}n.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,n.backend)}disposeVariables(){for(const t in this.state.registeredVariables){const n=this.state.registeredVariables[t];this.disposeVariable(n)}}disposeVariable(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(t,n,r,a,i,o){const s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:i},l=M9(t);l!=null&&(a=l.gradFunc),a!=null&&(s.gradient=u=>(u=u.map((c,f)=>{if(c==null){const d=r[f],h=Gi(d.size,d.dtype);return this.makeTensor(h,d.shape,d.dtype)}return c}),a(u.length>1?u:u[0],i,o))),this.state.activeTape.push(s)}keep(t){return t.kept=!0,t}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(t){const n=hle(t),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const o=this.state.activeScope.track[i];!o.kept&&!r.has(o.id)&&o.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===a.id&&this.track(i)})}gradients(t,n,r,a=!1){if(pe(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",t));pe(i instanceof Fa,()=>"The result y returned by f() must be a tensor.");const o=VKe(this.state.activeTape,n,i);if(!a&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const s={};s[i.id]=r??YKe(i.shape),zKe(s,o,u=>this.tidy(u),XKe);const l=n.map(u=>s[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(t){return pe(TP(t),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{pe(n.every(s=>s instanceof Fa),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const a={};n.forEach((s,l)=>{a[l]=s});const i=(s,l)=>(r=t(...n,l),pe(r.value instanceof Fa,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),pe(TP(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),o=(s,l)=>{const u=r.gradFunc(s,l),c=Array.isArray(u)?u:[u];pe(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),pe(c.every(d=>d instanceof Fa),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const f={};return c.forEach((d,h)=>{f[h]=()=>d}),f};return this.runKernelFunc({forwardFunc:i,backwardsFunc:o,inputs:a})}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}readToGPU(t,n){return this.state.tensorInfo.get(t).backend.readToGPU(t,n)}async time(t){const n=Bo(),r=await this.backend.time(t);return r.wallMs=Bo()-n,r}track(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new B9;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}dy.nextTensorId=0;dy.nextVariableId=0;function YKe(e){const t=_V(ot(e),"float32");return Fe.makeTensor(t,e,"float32")}function vle(){const e=Lse();if(e._tfengine==null){const t=new mKe(e);e._tfengine=new dy(t)}return wKe(e._tfengine.ENV),UKe(()=>e._tfengine),e._tfengine}const Fe=vle();function XKe(e,t){const n={a:e,b:t};return Fe.runKernel(Qy,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qKe(){return typeof navigator<"u"&&navigator!=null}function gle(e){if(e||qKe()){if(e||(e=navigator),e.product==="ReactNative")return!0;const t=e.userAgent||e.vendor||(typeof window<"u"?window.opera:"");if(!t){const n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function mle(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ns=tt();ns.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});ns.registerFlag("IS_BROWSER",()=>mle());ns.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");ns.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));ns.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));ns.registerFlag("PROD",()=>!1);ns.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>ns.getBool("DEBUG"));ns.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);ns.registerFlag("IS_TEST",()=>!1);ns.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>ns.getBool("DEBUG"));ns.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);ns.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);ns.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NS(e,t){let n=e;if(Fl(e))return t==="string"?[]:[e.length];if(fle(e)){const a=e.channels||"RGBA";return[e.height,e.width*a.length]}else if(dle(e))return[e.buffer.size/(t==null?4:pI(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Fl(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&tt().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&yle(e,r,[]),r}function yle(e,t,n){if(n=n||[],!Array.isArray(e)&&!Fl(e)){pe(t.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}pe(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),pe(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);const r=t.slice(1);for(let a=0;a<e.length;++a)yle(e[a],r,n.concat(a))}function V9(e,t,n,r){if(e!=="string_or_numeric"){if(e==null)throw new Error("Expected dtype cannot be null.");if(e!=="numeric"&&e!==t||e==="numeric"&&t==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function De(e,t,n,r="numeric"){if(e instanceof it())return V9(r,e.dtype,t,n),e;let a=Zy(e);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),V9(r,a,t,n),e==null||!Fl(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){const l=e==null?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const i=NS(e,a);!Fl(e)&&!Array.isArray(e)&&(e=[e]);const s=a!=="string"?Vg(e,a):fg(e,[],!0);return Fe.makeTensor(s,i,a)}function ble(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((i,o)=>De(i,`${t}[${o}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZKe="__op";function Ue(e){const t=Object.keys(e);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+ZKe;const a=(...i)=>{Fe.startScope(n);try{const o=r(...i);return SV(o)&&console.error("Cannot return a Promise inside of tidy."),Fe.endScope(o),o}catch(o){throw Fe.endScope(null),o}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JKe(e,t){const n=De(e,"real","complex"),r=De(t,"imag","complex");xV(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return Fe.runKernel(RV,a)}const dg=Ue({complex_:JKe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RS(e,t,n,r){if(r==null)r=Zy(e);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(dle(e)||fle(e)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return Fe.backend.createTensorFromGPUData(e,t||n,r)}if(!Fl(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){cd(t);const a=ot(t),i=ot(n);pe(a===i,()=>`Based on the provided shape, [${t}], the tensor should have ${a} values but has ${i}`);for(let o=0;o<n.length;++o){const s=n[o],l=o===n.length-1?s!==ot(t.slice(o)):!0;pe(n[o]===t[o]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return!Fl(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e=r!=="string"?Vg(e,r):fg(e,[],!0),Fe.makeTensor(e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ux(e,t,n){const r=NS(e,n);return RS(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bI={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class np{static join(t){return new np(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,t==null||(t instanceof Array||(t=[t]),t=t.map(r=>Fl(r)?r.buffer:r),t.length===0))return;this.bufferUniformSize=t[0].byteLength;let n=0;for(let r=0;r<t.length;r++){const a=t[r];r!==t.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=n+a.byteLength;this.shards.push({buffer:a,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,n=isNaN(Number(n))?0:n,t=Math.max(0,t),n=Math.min(this.byteLength,n),n<=t)return new ArrayBuffer(0);const r=this.findShardForByte(t);if(r===-1)throw new Error(`Could not find start shard for byte ${t}`);const a=n-t,i=new ArrayBuffer(a),o=new Uint8Array(i);let s=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],f=t+s-u.start,d=s,p=Math.min(n,u.end)-u.start,v=new Uint8Array(u.buffer,f,p-f);if(o.set(v,d),s+=v.length,n<u.end)break}return i}findShardForByte(t){if(this.shards.length===0||t<0||t>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function n(a){return t<a.start?-1:t>=a.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=QKe(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function QKe(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,i=t(e[a]);if(i===0)return a;i<0?r=a:n=a+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sc(){return Fe}function z9(){return Fe.memory()}function Xe(e,t){return Fe.tidy(e,t)}function Wn(e){hle(e).forEach(n=>n.dispose())}function Ic(e){return Fe.keep(e)}function eje(){return Fe.ready()}function tje(){return Fe.backendName}function xle(e,t,n=1){return Fe.registerBackend(e,t,n)}function nje(){return Fe.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hy=4;async function W9(e,t){const n=[],r=[],a=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);for(let o=0;o<a.length;++o){const s=a[o],l=Array.isArray(e)?e[o].tensor:e[s];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${s}': ${l.dtype}`);const u={name:s,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async f=>{const d=await l.bytes(),h=d.reduce((g,m)=>g+m.length,0)+hy*d.length,p=new Uint8Array(h);let v=0;for(let g=0;g<d.length;g++){const m=d[g],y=new Uint8Array(new Uint32Array([m.length]).buffer);p.set(y,v),v+=hy,p.set(m,v),v+=m.length}f(p)});r.push(c)}else r.push(l.data());t!=null&&(u.group=t),n.push(u)}const i=await Promise.all(r);return{data:oje(i),specs:n}}function rje(e,t){const n=new np(e),r={};let a=0;for(const i of t){const o=aje(i,(s,l)=>n.slice(a+s,a+l));r[i.name]=ije(i,n.slice(a,a+o)),a+=o}return r}function aje(e,t){const n=ot(e.shape);let r;if("quantization"in e){const a=e.quantization;r=bI[a.dtype]}else if(e.dtype==="string"){let a=0;for(let i=0;i<n;i++)a+=hy+new Uint32Array(t(a,a+hy))[0];return a}else r=bI[e.dtype];return n*r}function ije(e,t){const n=e.name,r=e.dtype,a=e.shape,i=ot(a);let o,s=0;if("quantization"in e){const l=e.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${e.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${e.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${e.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=bI[l.dtype],c=l.dtype==="uint8"?new Uint8Array(t):new Uint16Array(t);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){o=new Float32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];o[f]=d*l.scale+l.min}}else if(l.dtype==="float16")o=gje()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);o=new Int32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];o[f]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);s+=i*u}else if(r==="string"){const l=ot(e.shape);o=[];for(let u=0;u<l;u++){const c=new Uint32Array(t.slice(s,s+hy))[0];s+=hy;const f=new Uint8Array(t.slice(s,s+c));o.push(f),s+=c}}else{const l=bI[r];if(r==="float32")o=new Float32Array(t);else if(r==="int32")o=new Int32Array(t);else if(r==="bool")o=new Uint8Array(t);else if(r==="complex64"){o=new Float32Array(t);const u=new Float32Array(o.length/2),c=new Float32Array(o.length/2);for(let p=0;p<u.length;p++)u[p]=o[p*2],c[p]=o[p*2+1];const f=ux(u,a,"float32"),d=ux(c,a,"float32"),h=dg(f,d);return f.dispose(),d.dispose(),h}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);s+=i*l}return ux(o,a,r)}function oje(e){if(e===null)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(i=>{if(t+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(t);let a=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),a),a+=i.byteLength}),r.buffer}const hz=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function H9(e){return hz?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function sje(e){if(hz)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function lje(e){if(hz){const r=Buffer.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function uje(e){return np.join(e)}function cje(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(n.initializerSignature=e.initializerSignature),e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),n}function fje(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(e.trainingConfig!=null&&(r.trainingConfig=e.trainingConfig),e.weightsManifest!=null){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return e.signature!=null&&(r.signature=e.signature),e.userDefinedMetadata!=null&&(r.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(r.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(r.initializerSignature=e.initializerSignature),r}async function dje(e,t){let n,r;return e.weightsManifest!=null&&([n,r]=await t(e.weightsManifest)),fje(e,n,r)}function pz(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:H9(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:H9(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:new np(e.weightData).byteLength}}function U9(e){const t=[];for(const n of e)t.push(...n.weights);return t}function hje(){const e=n=>{let r=n<<13,a=0;for(;!(r&8388608);)a-=8388608,r<<=1;return r&=-8388609,a+=947912704,r|a},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}function pje(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function vje(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function gje(){const e=hje(),t=pje(),n=vje();return r=>{const a=new ArrayBuffer(4*r.length),i=new Uint32Array(a);for(let o=0;o<r.length;o++){const s=r[o],l=e[n[s>>10]+(s&1023)]+t[s>>10];i[o]=l}return new Float32Array(a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qa{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return qa.instance==null&&(qa.instance=new qa),qa.instance}static registerSaveRouter(t){qa.getInstance().saveRouters.push(t)}static registerLoadRouter(t){qa.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return qa.getHandlers(t,"save")}static getLoadHandlers(t,n){return qa.getHandlers(t,"load",n)}static getHandlers(t,n,r){const a=[];return(n==="load"?qa.getInstance().loadRouters:qa.getInstance().saveRouters).forEach(o=>{const s=o(t,r);s!==null&&a.push(s)}),a}}const mje=e=>qa.getSaveHandlers(e),yje=(e,t)=>qa.getLoadHandlers(e,t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LP="tensorflowjs",OP=1,Sv="models_store",Yd="model_info_store";function wle(){if(!tt().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e=typeof window>"u"?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function PP(e){const t=e.result;t.createObjectStore(Sv,{keyPath:"modelPath"}),t.createObjectStore(Yd,{keyPath:"modelPath"})}class hg{constructor(t){if(this.indexedDB=wle(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,t)}async load(){return this.databaseAction(this.modelPath)}databaseAction(t,n){return new Promise((r,a)=>{const i=this.indexedDB.open(LP,OP);i.onupgradeneeded=()=>PP(i),i.onsuccess=()=>{const o=i.result;if(n==null){const s=o.transaction(Sv,"readonly"),u=s.objectStore(Sv).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return o.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(o.close(),a(u.error)),s.oncomplete=()=>o.close()}else{n.weightData=np.join(n.weightData);const s=pz(n),l=o.transaction(Yd,"readwrite");let u=l.objectStore(Yd),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:s})}catch(d){return a(d)}let f;c.onsuccess=()=>{f=o.transaction(Sv,"readwrite");const d=f.objectStore(Sv);let h;try{h=d.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:s})}catch(p){return a(p)}h.onsuccess=()=>r({modelArtifactsInfo:s}),h.onerror=p=>{u=l.objectStore(Yd);const v=u.delete(this.modelPath);v.onsuccess=()=>(o.close(),a(h.error)),v.onerror=g=>(o.close(),a(h.error))}},c.onerror=d=>(o.close(),a(c.error)),l.oncomplete=()=>{f==null?o.close():f.oncomplete=()=>o.close()}}},i.onerror=o=>a(i.error)})}}hg.URL_SCHEME="indexeddb://";const _le=e=>tt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(hg.URL_SCHEME)?bje(e.slice(hg.URL_SCHEME.length)):null;qa.registerSaveRouter(_le);qa.registerLoadRouter(_le);function bje(e){return new hg(e)}function xje(e){return e.startsWith(hg.URL_SCHEME)?e.slice(hg.URL_SCHEME.length):e}class wje{constructor(){this.indexedDB=wle()}async listModels(){return new Promise((t,n)=>{const r=this.indexedDB.open(LP,OP);r.onupgradeneeded=()=>PP(r),r.onsuccess=()=>{const a=r.result,i=a.transaction(Yd,"readonly"),s=i.objectStore(Yd).getAll();s.onsuccess=()=>{const l={};for(const u of s.result)l[u.modelPath]=u.modelArtifactsInfo;t(l)},s.onerror=l=>(a.close(),n(s.error)),i.oncomplete=()=>a.close()},r.onerror=a=>n(r.error)})}async removeModel(t){return t=xje(t),new Promise((n,r)=>{const a=this.indexedDB.open(LP,OP);a.onupgradeneeded=()=>PP(a),a.onsuccess=()=>{const i=a.result,o=i.transaction(Yd,"readwrite"),s=o.objectStore(Yd),l=s.get(t);let u;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const c=s.delete(t),f=()=>{u=i.transaction(Sv,"readwrite");const h=u.objectStore(Sv).delete(t);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>r(l.error)};c.onsuccess=f,c.onerror=d=>(f(),i.close(),r(l.error))}},l.onerror=c=>(i.close(),r(l.error)),o.oncomplete=()=>{u==null?i.close():u.oncomplete=()=>i.close()}},a.onerror=i=>r(a.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kf="/",rm="tensorflowjs_models",Sle="info",_je="model_topology",Sje="weight_specs",Cje="weight_data",Tje="model_metadata";function Cle(e){return{info:[rm,e,Sle].join(kf),topology:[rm,e,_je].join(kf),weightSpecs:[rm,e,Sje].join(kf),weightData:[rm,e,Cje].join(kf),modelMetadata:[rm,e,Tje].join(kf)}}function Tle(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function kje(e){const t=e.split(kf);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(kf)}function Ije(e){return e.startsWith(pg.URL_SCHEME)?e.slice(pg.URL_SCHEME.length):e}class pg{constructor(t){if(!tt().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=Cle(this.modelPath)}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=pz(t),i=np.join(t.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,sje(i));const o={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:t.signature!=null?t.signature:void 0,userDefinedMetadata:t.userDefinedMetadata!=null?t.userDefinedMetadata:void 0,modelInitializer:t.modelInitializer!=null?t.modelInitializer:void 0,initializerSignature:t.initializerSignature!=null?t.initializerSignature:void 0,trainingConfig:t.trainingConfig!=null?t.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:a}}catch{throw Tle(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const t=JSON.parse(this.LS.getItem(this.keys.info));if(t==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=a;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const s=JSON.parse(i);n.format=s.format,n.generatedBy=s.generatedBy,n.convertedBy=s.convertedBy,s.signature!=null&&(n.signature=s.signature),s.userDefinedMetadata!=null&&(n.userDefinedMetadata=s.userDefinedMetadata),s.modelInitializer!=null&&(n.modelInitializer=s.modelInitializer),s.initializerSignature!=null&&(n.initializerSignature=s.initializerSignature),s.trainingConfig!=null&&(n.trainingConfig=s.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=lje(o),n}}pg.URL_SCHEME="localstorage://";const kle=e=>tt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(pg.URL_SCHEME)?Eje(e.slice(pg.URL_SCHEME.length)):null;qa.registerSaveRouter(kle);qa.registerLoadRouter(kle);function Eje(e){return new pg(e)}class Aje{constructor(){pe(tt().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),pe(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const t={},n=rm+kf,r=kf+Sle;for(let a=0;a<this.LS.length;++a){const i=this.LS.key(a);if(i.startsWith(n)&&i.endsWith(r)){const o=kje(i);t[o]=JSON.parse(this.LS.getItem(i))}}return t}async removeModel(t){t=Ije(t);const n=Cle(t);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(this.LS.getItem(n.info));return Tle(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G9="://";class lc{constructor(){this.managers={}}static getInstance(){return lc.instance==null&&(lc.instance=new lc),lc.instance}static registerManager(t,n){pe(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(G9)&&(t=t.slice(0,t.indexOf(G9))),pe(t.length>0,()=>"scheme must not be an empty string.");const r=lc.getInstance();pe(r.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),r.managers[t]=n}static getManager(t){const n=lc.getInstance().managers[t];if(n==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}static getSchemes(){return Object.keys(lc.getInstance().managers)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dje{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,n){return fetch(t,n)}now(){return performance.now()}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,n){return new TextDecoder(n).decode(t)}setTimeoutCustom(t,n){if(typeof window>"u"||!tt().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(t,n);return}this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const a=this.functionRefs[r.data.index];a(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(t){return ile(t)}}if(tt().get("IS_BROWSER")){tt().setPlatform("browser",new Dje);try{lc.registerManager(pg.URL_SCHEME,new Aje)}catch{}try{lc.registerManager(hg.URL_SCHEME,new wje)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nje={importFetch:()=>require("node-fetch")};let QR;class Rje{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(t,n){return tt().global.fetch!=null?tt().global.fetch(t,n):(QR==null&&(QR=Nje.importFetch()),QR(t,n))}now(){const t=process.hrtime();return t[0]*1e3+t[1]/1e6}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(t)}decode(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}}tt().get("IS_NODE")&&!tt().get("IS_BROWSER")&&tt().setPlatform("node",new Rje);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gn(e,t="float32",n){return t=t||"float32",cd(e),new Ti(e,t,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mje(e,t){const n=De(e,"x","cast");if(!hKe(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return Fe.runKernel(H_,r,a)}const Ut=Ue({cast_:Mje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $je(e){const n={x:De(e,"x","clone","string_or_numeric")};return Fe.runKernel(nS,n)}const Vv=Ue({clone_:$je});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lje(e,t=!1){console.log(e.toString(t))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */vle();const Oje={buffer:Gn,cast:Ut,clone:Vv,print:Lje};GKe(Oje);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pje(e,t){let n=De(e,"a","add"),r=De(t,"b","add");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(Qy,a)}const Et=Ue({add_:Pje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fje(e,t){let n=De(e,"a","floorDiv"),r=De(t,"b","floorDiv");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(eS,a)}const Ile=Ue({floorDiv_:Fje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bje(e,t){let n=De(e,"a","div"),r=De(t,"b","div");if([n,r]=wa(n,r),n.dtype==="int32"&&r.dtype==="int32")return Ile(n,r);const a={a:n,b:r},i={};return Fe.runKernel(Y_,a,i)}const gn=Ue({div_:Bje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vje(e,t){let n=De(e,"a","mul"),r=De(t,"b","mul");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(fS,a)}const Pe=Ue({mul_:Vje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zje(e){const t=De(e,"x","abs");if(t.dtype==="complex64"){const n={x:t};return Fe.runKernel(KA,n)}else{const n={x:t};return Fe.runKernel(BA,n)}}const oo=Ue({abs_:zje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wje(e){const n={x:De(e,"x","acos")};return Fe.runKernel(O_,n)}const Hje=Ue({acos_:Wje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uje(e){const n={x:De(e,"x","acosh")};return Fe.runKernel(P_,n)}const Gje=Ue({acosh_:Uje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kje(e,t=null,n=!1){const a={x:De(e,"x","all","bool")},i={axis:t,keepDims:n};return Fe.runKernel(kV,a,i)}const Ele=Ue({all_:Kje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jje(e,t=null,n=!1){const a={x:De(e,"x","any","bool")},i={axis:t,keepDims:n};return Fe.runKernel(IV,a,i)}const FP=Ue({any_:jje});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yje(e,t=0){const r={x:De(e,"x","argMax")},a={axis:t};return Fe.runKernel(VA,r,a)}const hw=Ue({argMax_:Yje});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xje(e,t=0){const r={x:De(e,"x","argMin")},a={axis:t};return Fe.runKernel(zA,r,a)}const qje=Ue({argMin_:Xje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zje(e){const n={x:De(e,"x","asin")};return Fe.runKernel(F_,n)}const Jje=Ue({asin_:Zje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qje(e){const n={x:De(e,"x","asinh")};return Fe.runKernel(B_,n)}const eYe=Ue({asinh_:Qje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tYe(e){const n={x:De(e,"x","atan")};return Fe.runKernel(V_,n)}const nYe=Ue({atan_:tYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rYe(e,t){let n=De(e,"a","atan2"),r=De(t,"b","atan2");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(W_,a)}const aYe=Ue({atan2_:rYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iYe(e){const n={x:De(e,"x","atanh")};return Fe.runKernel(z_,n)}const oYe=Ue({atanh_:iYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MS(e,t,n,r,a="NHWC",i){const o=e[3],s=[...t,o],l=dd(a);return Ai(e,s,n,i,r,null,null,l)}function Hl(e,t,n,r,a,i,o="channelsLast"){const[s,l]=pw(t);let u;if(o==="channelsLast")u=[s,l,e[3],e[3]];else if(o==="channelsFirst")u=[s,l,e[1],e[1]];else throw new Error(`Unknown dataFormat ${o}`);return Ai(e,u,n,r,a,i,!1,o)}function fd(e,t,n,r,a,i,o="NDHWC"){const[s,l,u]=BP(t);let c,f;if(o==="NDHWC")f="channelsLast",c=[s,l,u,e[4],e[4]];else if(o==="NCDHW")f="channelsFirst",c=[s,l,u,e[1],e[1]];else throw new Error(`Unknown dataFormat ${o}`);return rp(e,c,n,r,a,!1,f,i)}function Ai(e,t,n,r,a,i,o=!1,s="channelsLast"){let[l,u,c,f]=[-1,-1,-1,-1];if(s==="channelsLast")[l,u,c,f]=e;else if(s==="channelsFirst")[l,f,u,c]=e;else throw new Error(`Unknown dataFormat ${s}`);const[d,h,,p]=t,[v,g]=pw(n),[m,y]=pw(r),b=Mm(d,m),x=Mm(h,y),{padInfo:_,outHeight:S,outWidth:C}=uYe(a,u,c,v,g,b,x,i,s),k=o?p*f:p;let T;return s==="channelsFirst"?T=[l,k,S,C]:s==="channelsLast"&&(T=[l,S,C,k]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:f,outHeight:S,outWidth:C,outChannels:k,padInfo:_,strideHeight:v,strideWidth:g,filterHeight:d,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:x,dilationHeight:m,dilationWidth:y,inShape:e,outShape:T,filterShape:t}}function rp(e,t,n,r,a,i=!1,o="channelsLast",s){let[l,u,c,f,d]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[l,u,c,f,d]=e;else if(o==="channelsFirst")[l,d,u,c,f]=e;else throw new Error(`Unknown dataFormat ${o}`);const[h,p,v,,g]=t,[m,y,b]=BP(n),[x,_,S]=BP(r),C=Mm(h,x),k=Mm(p,_),T=Mm(v,S),{padInfo:E,outDepth:I,outHeight:A,outWidth:N}=cYe(a,u,c,f,m,y,b,C,k,T,s),L=i?g*d:g;let R;return o==="channelsFirst"?R=[l,L,I,A,N]:o==="channelsLast"&&(R=[l,I,A,N,L]),{batchSize:l,dataFormat:o,inDepth:u,inHeight:c,inWidth:f,inChannels:d,outDepth:I,outHeight:A,outWidth:N,outChannels:L,padInfo:E,strideDepth:m,strideHeight:y,strideWidth:b,filterDepth:h,filterHeight:p,filterWidth:v,effectiveFilterDepth:C,effectiveFilterHeight:k,effectiveFilterWidth:T,dilationDepth:x,dilationHeight:_,dilationWidth:S,inShape:e,outShape:R,filterShape:t}}function sYe(e,t,n,r,a){r==null&&(r=vz(e,t,n));const i=e[0],o=e[1],s=vw((i-t+2*r)/n+1,a),l=vw((o-t+2*r)/n+1,a);return[s,l]}function lYe(e,t,n,r,a,i){a==null&&(a=vz(e,t[0],r[0]));const o=[0,0,0,n];for(let s=0;s<3;s++)e[s]+2*a>=t[s]&&(o[s]=vw((e[s]-t[s]+2*a)/r[s]+1,i));return o}function vz(e,t,n,r=1){const a=Mm(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function pw(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function BP(e){return typeof e=="number"?[e,e,e]:e}function Mm(e,t){return t<=1?e:e+(e-1)*(t-1)}function uYe(e,t,n,r,a,i,o,s,l){let u,c,f;if(typeof e=="number"){u={top:e,bottom:e,left:e,right:e,type:e===0?"VALID":"NUMBER"};const h=sYe([t,n],i,r,e,s);c=h[0],f=h[1]}else if(e==="same"){c=Math.ceil(t/r),f=Math.ceil(n/a);const d=Math.max(0,(c-1)*r+i-t),h=Math.max(0,(f-1)*a+o-n),p=Math.floor(d/2),v=d-p,g=Math.floor(h/2),m=h-g;u={top:p,bottom:v,left:g,right:m,type:"SAME"}}else if(e==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),f=Math.ceil((n-o+1)/a);else if(typeof e=="object"){const d=l==="channelsLast"?e[1][0]:e[2][0],h=l==="channelsLast"?e[1][1]:e[2][1],p=l==="channelsLast"?e[2][0]:e[3][0],v=l==="channelsLast"?e[2][1]:e[3][1];u={top:d,bottom:h,left:p,right:v,type:d===0&&h===0&&p===0&&v===0?"VALID":"EXPLICIT"},c=vw((t-i+d+h)/r+1,s),f=vw((n-o+p+v)/a+1,s)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:c,outWidth:f}}function cYe(e,t,n,r,a,i,o,s,l,u,c){let f,d,h,p;if(e==="valid"&&(e=0),typeof e=="number"){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:e===0?"VALID":"NUMBER"};const g=lYe([t,n,r,1],[s,l,u],1,[a,i,o],e,c);d=g[0],h=g[1],p=g[2]}else if(e==="same"){d=Math.ceil(t/a),h=Math.ceil(n/i),p=Math.ceil(r/o);const v=(d-1)*a+s-t,g=(h-1)*i+l-n,m=(p-1)*o+u-r,y=Math.floor(v/2),b=v-y,x=Math.floor(g/2),_=g-x,S=Math.floor(m/2),C=m-S;f={top:x,bottom:_,left:S,right:C,front:y,back:b,type:"SAME"}}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:f,outDepth:d,outHeight:h,outWidth:p}}function vw(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function vg(e){const[t,n,r]=pw(e);return t===1&&n===1&&r===1}function Zi(e,t){return vg(e)||vg(t)}function gg(e){return pw(e).every(t=>t>0)}function dd(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function us(e,t,n){if(n!=null){if(typeof t=="string")throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if(typeof t=="number")pe(fy(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else if(typeof t=="object")t.forEach(r=>{r.forEach(a=>{pe(fy(a),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${a}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fYe(e,t){const r={x:De(e,"x","reshape","string_or_numeric")},a={shape:t};return Fe.runKernel(kD,r,a)}const He=Ue({reshape_:fYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dYe(e,t,n,r,a){const i=De(e,"x","avgPool","float32"),o=1;pe(Zi(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let s=i,l=!1;i.rank===3&&(l=!0,s=He(i,[1,i.shape[0],i.shape[1],i.shape[2]])),pe(s.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`),us("avgPool",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let f=Fe.runKernel(WA,u,c);return f=Ut(f,i.dtype),l?He(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const gz=Ue({avgPool_:dYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hYe(e,t,n,r,a,i="NDHWC"){const o=De(e,"x","avgPool3d","float32");let s=o,l=!1;o.rank===4&&(l=!0,s=He(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),pe(s.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`),pe(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),pe(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),us("avgPool3d",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i};let f=Fe.runKernel(HA,u,c);return f=Ut(f,s.dtype),l?He(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const pYe=Ue({avgPool3d_:hYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vYe(e,t=0){pe(e.length>=1,()=>"Pass at least one tensor to concat");const n=ble(e,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return Vv(n[0]);const r=n,a={axis:t};return Fe.runKernel(jA,r,a)}const Xo=Ue({concat_:vYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gYe(e,t,n=!1,r=!1){let a=De(e,"a","matMul"),i=De(t,"b","matMul");[a,i]=wa(a,i);const o={a,b:i},s={transposeA:n,transposeB:r};return Fe.runKernel(UA,o,s)}const Tr=Ue({matMul_:gYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mYe(e){const n={x:De(e,"x","sigmoid","float32")};return Fe.runKernel(_S,n)}const e1=Ue({sigmoid_:mYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yYe(e,t,n){const r=De(e,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const a={x:r},i={begin:t,size:n};return Fe.runKernel(ND,a,i)}const Kr=Ue({slice_:yYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bYe(e){const n={x:De(e,"x","tanh","float32")};return Fe.runKernel(ES,n)}const VD=Ue({tanh_:bYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xYe(e,t,n){const r=De(e,"x","batchToSpaceND"),a=t.reduce((s,l)=>s*l);pe(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),pe(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),pe(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`);const i={x:r},o={blockShape:t,crops:n};return Fe.runKernel(GA,i,o)}const mz=Ue({batchToSpaceND_:xYe});function wYe(e){let t;return e.rank===0||e.rank===1?t=He(e,[1,1,1,e.size]):e.rank===2?t=He(e,[1,1,e.shape[0],e.shape[1]]):e.rank===3?t=He(e,[1,e.shape[0],e.shape[1],e.shape[2]]):t=e,t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ye(e,t,n,r,a,i){i==null&&(i=.001);const o=De(e,"x","batchNorm"),s=De(t,"mean","batchNorm"),l=De(n,"variance","batchNorm");let u;a!=null&&(u=De(a,"scale","batchNorm"));let c;r!=null&&(c=De(r,"offset","batchNorm")),pe(s.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),pe(c==null||s.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),pe(u==null||s.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:wYe(o),scale:u,offset:c,mean:s,variance:l},h={varianceEpsilon:i},p=Fe.runKernel(nD,d,h);return He(p,o.shape)}const zD=Ue({batchNorm_:_Ye});function SYe(e,t,n,r,a,i){const o=De(e,"x","batchNorm"),s=De(t,"mean","batchNorm"),l=De(n,"variance","batchNorm");let u;a!=null&&(u=De(a,"scale","batchNorm"));let c;return r!=null&&(c=De(r,"offset","batchNorm")),pe(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),pe(s.rank===2||s.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`),pe(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&pe(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&pe(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),zD(o,s,l,c,u,i)}const CYe=Ue({batchNorm2d_:SYe});function TYe(e,t,n,r,a,i){const o=De(e,"x","batchNorm"),s=De(t,"mean","batchNorm"),l=De(n,"variance","batchNorm");let u;a!=null&&(u=De(a,"scale","batchNorm"));let c;return r!=null&&(c=De(r,"offset","batchNorm")),pe(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),pe(s.rank===3||s.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`),pe(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&pe(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&pe(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),zD(o,s,l,c,u,i)}const kYe=Ue({batchNorm3d_:TYe});function IYe(e,t,n,r,a,i){const o=De(e,"x","batchNorm"),s=De(t,"mean","batchNorm"),l=De(n,"variance","batchNorm");let u;a!=null&&(u=De(a,"scale","batchNorm"));let c;return r!=null&&(c=De(r,"offset","batchNorm")),pe(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),pe(s.rank===4||s.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`),pe(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&pe(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&pe(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),zD(o,s,l,c,u,i)}const EYe=Ue({batchNorm4d_:IYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AYe(e,t,n){const r=De(e,"x","bincount"),a=De(t,"weights","bincount");pe(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),pe(n>=0,()=>`size must be non-negative, but got ${n}.`),pe(a.size===r.size||a.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);const i={x:r,weights:a},o={size:n};return Fe.runKernel(DV,i,o)}const DYe=Ue({bincount_:AYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NYe(e,t){let n=De(e,"broadcastTo","x");const r=n.shape;if(cd(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const u=n.shape.slice();for(;u.length<t.length;)u.unshift(1);n=He(n,u)}const a=n.shape,i=Array.from(t);for(let u=t.length-1;u>=0;u--)if(a[u]===t[u])i[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(i.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return Vv(n);const s={x:n},l={reps:i};return Fe.runKernel(AS,s,l)}const cx=Ue({broadcastTo_:NYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RYe(e){const n={x:De(e,"x","ceil","float32")};return Fe.runKernel(U_,n)}const MYe=Ue({ceil_:RYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WD(e,t,n){cd(e),n=n||Zy(t);const r={shape:e,value:t,dtype:n};return Fe.runKernel(GV,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ye(e,t,n){const r=De(e,"x","clipByValue");if(pe(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return WD(r.shape,t,r.dtype);const a={x:r},i={clipValueMin:t,clipValueMax:n};return Fe.runKernel(G_,a,i)}const Xs=Ue({clipByValue_:$Ye});function LYe(e){return Xo(e,0)}const OYe=Ue({concat1d_:LYe});function PYe(e,t){return Xo(e,t)}const FYe=Ue({concat2d_:PYe});function BYe(e,t){return Xo(e,t)}const VYe=Ue({concat3d_:BYe});function zYe(e,t){return Xo(e,t)}const WYe=Ue({concat4d_:zYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HYe(e,t,n,r,a="NHWC",i=[1,1],o){const s=De(e,"x","conv2d","float32"),l=De(t,"filter","conv2d","float32");let u=s,c=!1;s.rank===3&&(c=!0,u=He(s,[1,s.shape[0],s.shape[1],s.shape[2]])),pe(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),pe(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),us("conv2d",r,o);const f=a==="NHWC"?u.shape[3]:u.shape[1];pe(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`),pe(Zi(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),pe(gg(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),pe(gg(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},p=Fe.runKernel(YA,d,h);return c?He(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const mg=Ue({conv2d_:HYe});function UYe(e,t,n,r,a="NWC",i=1,o){const s=De(e,"x","conv1d"),l=De(t,"filter","conv1d");let u=s,c=!1;s.rank===2&&(c=!0,u=He(s,[1,s.shape[0],s.shape[1]])),pe(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),pe(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),us("conv1d",r,o),pe(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),pe(Zi(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),pe(gg(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),pe(gg(n),()=>"Error in conv1D: Stride should be larger than 0."),pe(a==="NWC",()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const f=He(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=He(u,[u.shape[0],1,u.shape[1],u.shape[2]]),g=mg(d,f,[1,n],r,"NHWC",[1,i],o);return c?He(g,[g.shape[2],g.shape[3]]):He(g,[g.shape[0],g.shape[2],g.shape[3]])}const Ale=Ue({conv1d_:UYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GYe(e,t,n,r,a,i="NHWC",o){pe(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let s=e,l=t,u=!1;t.rank===3&&(u=!0,l=He(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),pe(s.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${s.length}.`),pe(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),pe(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=i==="NHWC"?s[3]:s[1],f=i==="NHWC"?l.shape[3]:l.shape[1];pe(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),pe(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),us("conv2dDerInput",a,o);const d={dy:l,filter:n},h={strides:r,pad:a,dataFormat:i,dimRoundingMode:o,inputShape:s},p=Fe.runKernel(XA,d,h);return u?He(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const yz=Ue({conv2DBackpropInput_:GYe});function KYe(e,t,n,r,a,i){const o=De(e,"x","conv2dTranspose"),s=De(t,"filter","conv2dTranspose");return yz(n,o,s,r,a,"NHWC",i)}const Dle=Ue({conv2dTranspose_:KYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jYe(e,t,n,r,a="NDHWC",i=[1,1,1]){const o=De(e,"x","conv3d"),s=De(t,"filter","conv3d");let l=o,u=!1;o.rank===4&&(u=!0,l=He(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),pe(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),pe(s.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`),pe(l.shape[4]===s.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${s.shape[3]}.`),pe(Zi(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),pe(a==="NDHWC",()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`),pe(gg(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),pe(gg(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:s},f={strides:n,pad:r,dataFormat:a,dilations:i},d=Fe.runKernel(qA,c,f);return u?He(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const YYe=Ue({conv3d_:jYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XYe(e,t,n,r,a){pe(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let i=e,o=t,s=!1;t.rank===4&&(s=!0,o=He(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const l=i[4],u=o.shape[4];pe(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),pe(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),pe(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),pe(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),pe(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:o,filter:n},f={pad:a,strides:r,inputShape:i},d=Fe.runKernel(LV,c,f);return s?He(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Nle=Ue({conv3DBackpropInput_:XYe});function qYe(e,t,n,r,a){const i=De(e,"x","conv3dTranspose"),o=De(t,"filter","conv3dTranspose");return Nle(n,i,o,r,a)}const ZYe=Ue({conv3dTranspose_:qYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JYe(e){const n={x:De(e,"x","cos","float32")};return Fe.runKernel(K_,n)}const bz=Ue({cos_:JYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QYe(e){const n={x:De(e,"x","cosh","float32")};return Fe.runKernel(j_,n)}const Rle=Ue({cosh_:QYe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eXe(e,t=0,n=!1,r=!1){const i={x:De(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:r};return Fe.runKernel(OV,i,o)}const VP=Ue({cumprod_:eXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tXe(e,t=0,n=!1,r=!1){const i={x:De(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:r};return Fe.runKernel(ZA,i,o)}const Mle=Ue({cumsum_:tXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nXe(e,t,n,r=!1){const a=De(e,"x","denseBincount"),i=De(t,"weights","denseBincount");pe(a.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),pe(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),pe(n>=0,()=>`size must be non-negative, but got ${n}.`),pe(i.size===a.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${i.shape}.`);const o={x:a,weights:i},s={size:n,binaryOutput:r};return Fe.runKernel(FV,o,s)}const K9=Ue({denseBincount_:nXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rXe(e,t,n="NHWC"){const r=De(e,"x","depthToSpace","float32"),a=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];pe(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),pe(a*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${t}  for depthToSpace with input shape
    ${r.shape}`),pe(i*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${t} for depthToSpace with input shape
        ${r.shape}`),pe(o%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${o} for depthToSpace with input shape ${r.shape}`);const s={x:r},l={blockSize:t,dataFormat:n};return Fe.runKernel(BV,s,l)}const aXe=Ue({depthToSpace_:rXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iXe(e,t,n,r,a="NHWC",i=[1,1],o){const s=De(e,"x","depthwiseConv2d","float32"),l=De(t,"filter","depthwiseConv2d","float32");let u=s,c=!1;s.rank===3&&(c=!0,u=He(s,[1,s.shape[0],s.shape[1],s.shape[2]])),pe(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),pe(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const f=a==="NHWC"?u.shape[3]:u.shape[1];pe(f===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`),us("depthwiseConv2d",r,o);const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},p=Fe.runKernel(JA,d,h);return c?He(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const xz=Ue({depthwiseConv2d_:iXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oXe(e,t,n,r,a=[1,1],i="NHWC"){const o=De(e,"x","dilation2d"),s=De(t,"filter","dilation2d");pe(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),pe(s.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${s.rank}.`),pe(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=o,u=!1;o.rank===3&&(l=He(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=!0),pe(l.shape[3]===s.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${s.shape[2]}`);const c={x:l,filter:s},f={strides:n,pad:r,dilations:a},d=Fe.runKernel(QA,c,f);return u?He(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const sXe=Ue({dilation2d_:oXe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function py(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&o===1&&r.unshift(i)}return r}function ja(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],i=t.length-r-1,o=t[i];(a==null||a===1&&o>1)&&n.unshift(i)}return n}function On(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let i=e[e.length-a-1];i==null&&(i=1);let o=t[t.length-a-1];if(o==null&&(o=1),i===1)r[n-a-1]=o;else if(o===1)r[n-a-1]=i;else if(i!==o){const s=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(s)}else r[n-a-1]=i}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lXe(e,t){let n=De(e,"a","equal","string_or_numeric"),r=De(t,"b","equal","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(eD,a)}const Fc=Ue({equal_:lXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uXe(e,t,n){const r=De(t,"a","where"),a=De(n,"b","where"),i=De(e,"condition","where","bool"),o=On(On(i.shape,r.shape),a.shape),s=cx(i,o),l=cx(r,o),u=cx(a,o),c={condition:s,t:l,e:u};return Fe.runKernel(DD,c)}const xo=Ue({where_:uXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cXe(e){const n={x:De(e,"x","zerosLike")};return Fe.runKernel(FD,n)}const gr=Ue({zerosLike_:cXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fXe(e,t){let n=De(e,"a","div"),r=De(t,"b","div");[n,r]=wa(n,r);const a=gn(n,r),i=gr(a),o=Fc(r,i);return xo(o,i,a)}const dXe=Ue({divNoNan_:fXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hXe(e,t){const n=De(e,"t1","dot"),r=De(t,"t2","dot");pe((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const a=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(pe(a===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${i}.`),n.rank===1&&r.rank===1){const o=He(n,[1,-1]),s=He(r,[-1,1]),l=Tr(o,s);return He(l,[])}else if(n.rank===1&&r.rank===2){const o=He(n,[1,-1]),s=He(r,[r.shape[0],r.shape[1]]),l=Tr(o,s);return He(l,[l.size])}else if(n.rank===2&&r.rank===1){const o=He(r,[-1,1]),s=Tr(n,o);return He(s,[s.size])}else{const o=He(r,[r.shape[0],r.shape[1]]);return Tr(n,o)}}const pXe=Ue({dot_:hXe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vXe(e,...t){const n=t.map((a,i)=>De(a,`tensors${i}`,"einsum")),r={equation:e};return Fe.runKernel(WV,n,r)}const U1=Ue({einsum_:vXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gXe(e){const n={x:De(e,"x","elu","float32")};return Fe.runKernel(X_,n)}const HD=Ue({elu_:gXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mXe(e){let t=De(e,"x","erf");pe(t.dtype==="int32"||t.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),t.dtype==="int32"&&(t=Ut(t,"float32"));const n={x:t};return Fe.runKernel(q_,n)}const $le=Ue({erf_:mXe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wz(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Lle(e,t,n){const r=e.length+t.length,a=[];let i=0,o=0;for(let s=0;s<r;s++)n.indexOf(s)===-1?a.push(e[i++]):a.push(t[o++]);return a}function mi(e,t){const n=[],r=e.length;for(let i=0;i<r;i++)t.indexOf(i)===-1&&n.push(e[i]);const a=t.map(i=>e[i]);return[n,a]}function Ra(e,t){const n=t.map(r=>1);return Lle(e,n,t)}function Di(e,t,n){pe(wz(t,n),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`)}function da(e,t){if(wz(e,t))return null;const n=[];for(let r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(r=>n.push(r)),n}function ap(e){return e.map((t,n)=>[n,t]).sort((t,n)=>t[1]-n[1]).map(t=>t[0])}function Ca(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yXe(e,t=null,n=!1){const a={x:De(e,"x","max")},i={reductionIndices:t,keepDims:n};return Fe.runKernel(dD,a,i)}const Tu=Ue({max_:yXe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bXe(e,t=null,n=!1){const a={x:De(e,"x","min")},i={axis:t,keepDims:n};return Fe.runKernel(gD,a,i)}const xI=Ue({min_:bXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xXe(e,t){let n=De(e,"base","pow"),r=De(t,"exp","pow");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(dS,a)}const yg=Ue({pow_:xXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cr(e,t){if((Fl(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Fl(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return RS(e,[],[],t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wXe(e){const n={x:De(e,"x","sqrt","float32")};return Fe.runKernel(CS,n)}const Ki=Ue({sqrt_:wXe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Xe(e){const t=De(e,"x","square"),n={};return Fe.runKernel("Square",{x:t},n)}const Yr=Ue({square_:_Xe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SXe(e,t=null,n=!1){let r=De(e,"x","sum");r.dtype==="bool"&&(r=Ut(r,"int32"));const a={x:r},i={axis:t,keepDims:n};return Fe.runKernel(RD,a,i)}const pn=Ue({sum_:SXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CXe(e,t="euclidean",n=null,r=!1){e=De(e,"x","norm");const a=Ole(e,t,n);let i=a.shape;if(r){const o=jn(n,e.shape);i=Ra(a.shape,o)}return He(a,i)}function Ole(e,t,n=null){if(e.rank===0)return oo(e);if(e.rank!==1&&n===null)return Ole(He(e,[-1]),t,n);if(e.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(t===1)return pn(oo(e),n);if(t===1/0)return Tu(oo(e),n);if(t===-1/0)return xI(oo(e),n);if(t==="euclidean"||t===2)return Ki(pn(yg(oo(e),Cr(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&n.length===2){if(t===1)return Tu(pn(oo(e),n[0]),n[1]-1);if(t===1/0)return Tu(pn(oo(e),n[1]),n[0]);if(t===-1/0)return xI(pn(oo(e),n[1]),n[0]);if(t==="fro"||t==="euclidean")return Ki(pn(Yr(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const UD=Ue({norm_:CXe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TXe(e,t=null,n=!1){return UD(e,"euclidean",t,n)}const kXe=Ue({euclideanNorm_:TXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IXe(e){const n={x:De(e,"x","exp")};return Fe.runKernel(Z_,n)}const Bc=Ue({exp_:IXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EXe(e,t=0){const n=De(e,"x","expandDims","string_or_numeric");pe(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:t};return Fe.runKernel(tD,r,a)}const zo=Ue({expandDims_:EXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AXe(e){const n={x:De(e,"x","expm1")};return Fe.runKernel(J_,n)}const DXe=Ue({expm1_:AXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NXe(e,t){const n=De(e,"x","tile","string_or_numeric");pe(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);const r={x:n},a={reps:t};return Fe.runKernel(AS,r,a)}const gu=Ue({tile_:NXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RXe(e,t,n,r="float32"){t==null&&(t=e);const a=Gn([e,t],r),i=e<=t?e:t;for(let s=0;s<i;++s)a.set(1,s,s);const o=He(a.toTensor(),[e,t]);if(n==null)return o;if(n.length===1)return gu(zo(o,0),[n[0],1,1]);if(n.length===2)return gu(zo(zo(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return gu(zo(zo(zo(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const Ple=Ue({eye_:RXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MXe(e){const n={x:De(e,"x","floor","float32")};return Fe.runKernel(Q_,n)}const GD=Ue({floor_:MXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Xe(e,t,n=0,r=0){const a=De(e,"x","gather"),i=De(t,"indices","gather","int32"),o={x:a,indices:i},s={axis:n,batchDims:r};return Fe.runKernel(rD,o,s)}const _z=Ue({gather_:$Xe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LXe(e,t){let n=De(e,"a","greater","string_or_numeric"),r=De(t,"b","greater","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(aD,a)}const Js=Ue({greater_:LXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OXe(e,t){let n=De(e,"a","greaterEqual","string_or_numeric"),r=De(t,"b","greaterEqual","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(tS,a)}const zg=Ue({greaterEqual_:OXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PXe(e){const n={input:De(e,"input","imag")};return Fe.runKernel(YV,n)}const Sz=Ue({imag_:PXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FXe(e){const n={x:De(e,"x","isFinite")};return Fe.runKernel(rS,n)}const BXe=Ue({isFinite_:FXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VXe(e){const n={x:De(e,"x","isInf")};return Fe.runKernel(aS,n)}const zXe=Ue({isInf_:VXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WXe(e){const n={x:De(e,"x","isNaN")};return Fe.runKernel(iS,n)}const HXe=Ue({isNaN_:WXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UXe(e,t=.2){const r={x:De(e,"x","leakyRelu")},a={alpha:t};return Fe.runKernel(iD,r,a)}const Cz=Ue({leakyRelu_:UXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GXe(e,t){let n=De(e,"a","less","string_or_numeric"),r=De(t,"b","less","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(oD,a)}const wI=Ue({less_:GXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KXe(e,t){let n=De(e,"a","lessEqual","string_or_numeric"),r=De(t,"b","lessEqual","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(sD,a)}const t1=Ue({lessEqual_:KXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jXe(e,t=5,n=1,r=1,a=.5){const i=De(e,"x","localResponseNormalization");pe(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),pe(fy(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let o=i,s=!1;i.rank===3&&(s=!0,o=He(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:o},u={depthRadius:t,bias:n,alpha:r,beta:a},c=Fe.runKernel(fD,l,u);return s?He(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const YXe=Ue({localResponseNormalization_:jXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XXe(e){const n={x:De(e,"x","log","float32")};return Fe.runKernel(oS,n)}const Vc=Ue({log_:XXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qXe(e){const n={x:De(e,"x","log1p")};return Fe.runKernel(sS,n)}const Fle=Ue({log1p_:qXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZXe(e,t){pe(TP(e),()=>"The f passed in variableGrads(f) must be a function"),pe(t==null||Array.isArray(t)&&t.every(u=>u instanceof yI),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=t!=null;if(!n){t=[];for(const u in Fe.registeredVariables)t.push(Fe.registeredVariables[u])}const r=n?t.filter(u=>!u.trainable):null,a=t.length;t=t.filter(u=>u.trainable),pe(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const i=!0,{value:o,grads:s}=Fe.gradients(e,t,null,i);pe(s.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),pe(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const l={};return t.forEach((u,c)=>{s[c]!=null&&(l[u.name]=s[c])}),r!=null&&r.forEach(u=>l[u.name]=null),{value:o,grads:l}}function vy(e){return Fe.customGrad(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JXe(e){const n={x:De(e,"x","neg")};return Fe.runKernel(yD,n)}const ya=Ue({neg_:JXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QXe(e){const n={x:De(e,"x","softplus")};return Fe.runKernel(SS,n)}const $S=Ue({softplus_:QXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eqe(e){const t=De(e,"x","logSigmoid");return vy(r=>({value:ya($S(ya(r))),gradFunc:o=>Pe(o,e1(ya(r)))}))(t)}const tqe=Ue({logSigmoid_:eqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nqe(e,t){let n=De(e,"a","sub"),r=De(t,"b","sub");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(kS,a)}const Sn=Ue({sub_:nqe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rqe(e,t=-1){const n=De(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return vy((a,i)=>{const s=Tu(a,t,!0),l=Sn(a,s),u=Sn(Ut(l,"float32"),Vc(pn(Bc(l),t,!0)));return i([u]),{value:u,gradFunc:(f,d)=>{const[h]=d,p=!0,v=Bc(h);return Sn(f,Pe(pn(f,t,p),v))}}})(n)}const Ble=Ue({logSoftmax_:rqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aqe(e,t=null,n=!1){const r=De(e,"x","logSumExp"),a=jn(t,r.shape),i=Tu(r,a,!0),o=Sn(r,i),s=Bc(o),l=pn(s,a),u=Vc(l),c=Et(He(i,u.shape),u);if(n){const f=Ra(c.shape,a);return He(c,f)}return c}const Vle=Ue({logSumExp_:aqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iqe(e,t){const n=De(e,"a","logicalAnd","bool"),r=De(t,"b","logicalAnd","bool");On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(lD,a)}const Gf=Ue({logicalAnd_:iqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oqe(e){const n={x:De(e,"x","logicalNot","bool")};return Fe.runKernel(uD,n)}const Tz=Ue({logicalNot_:oqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sqe(e,t){const n=De(e,"a","logicalOr","bool"),r=De(t,"b","logicalOr","bool");On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(cD,a)}const zle=Ue({logicalOr_:sqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lqe(e,t){const n=De(e,"a","logicalXor","bool"),r=De(t,"b","logicalXor","bool");return On(n.shape,r.shape),Gf(zle(e,t),Tz(Gf(e,t)))}const uqe=Ue({logicalXor_:lqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cqe(e,t,n,r,a){const i=De(e,"x","maxPool"),o=1;let s=i,l=!1;i.rank===3&&(l=!0,s=He(i,[1,i.shape[0],i.shape[1],i.shape[2]])),pe(s.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`),pe(Zi(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),us("maxPool",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a},f=Fe.runKernel(hD,u,c);return l?He(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const kz=Ue({maxPool_:cqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fqe(e,t=[1,1,1],n,r,a,i="NDHWC"){const o=De(e,"x","maxPool3d");let s=o,l=!1;o.rank===4&&(l=!0,s=He(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),pe(s.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`),pe(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),us("maxPool3d",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},f=Fe.runKernel(pD,u,c);return l?He(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const dqe=Ue({maxPool3d_:fqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hqe(e,t){let n=De(e,"a","maximum"),r=De(t,"b","maximum");[n,r]=wa(n,r),n.dtype==="bool"&&(n=Ut(n,"int32"),r=Ut(r,"int32")),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(lS,a)}const ip=Ue({maximum_:hqe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pqe(e,t=null,n=!1){const a={x:De(e,"x","mean")},i={axis:t,keepDims:n};return Fe.runKernel(vD,a,i)}const Aa=Ue({mean_:pqe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ni(e,t="float32"){if(cd(e),t==="complex64"){const r=ni(e,"float32"),a=ni(e,"float32");return dg(r,a)}const n=Gi(ot(e),t);return Fe.makeTensor(n,e,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function op(e,t="float32"){if(cd(e),t==="complex64"){const r=op(e,"float32"),a=ni(e,"float32");return dg(r,a)}const n=_V(ot(e),t);return Fe.makeTensor(n,e,t)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vqe(e,t){let n=De(e,"a","minimum"),r=De(t,"b","minimum");[n,r]=wa(n,r),n.dtype==="bool"&&(n=Ut(n,"int32"),r=Ut(r,"int32")),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(uS,a)}const gw=Ue({minimum_:vqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gqe(e,t,n){pe(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=De(e,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");pe(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);const a=n==="reflect"?1:0;for(let s=0;s<r.rank;s++)pe(t[s].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),pe(t[s][0]>=0&&t[s][0]<=r.shape[s]-a&&t[s][1]>=0&&t[s][1]<=r.shape[s]-a,()=>`Padding in dimension ${s} cannot be greater than or equal to ${r.shape[s]-a} or less than 0 for input of shape ${r.shape}`);const i={paddings:t,mode:n},o={x:r};return Fe.runKernel(mD,o,i)}const mqe=Ue({mirrorPad_:gqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yqe(e,t){let n=De(e,"a","mod"),r=De(t,"b","mod");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(cS,a)}const bqe=Ue({mod_:yqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xqe(e,t=null,n=!1){e=De(e,"x","moments");const r=jn(t,e.shape),a=Aa(e,r,n);let i=a.shape;n||(i=Ra(a.shape,r));const o=Yr(Sn(Ut(e,"float32"),He(a,i))),s=Aa(o,r,n);return{mean:a,variance:s}}const Iz=Ue({moments_:xqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wqe(e,t){let n=De(e,"a","notEqual","string_or_numeric"),r=De(t,"b","notEqual","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(bD,a)}const _I=Ue({notEqual_:wqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _qe(e,t,n=1,r=0,a="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const o={indices:De(e,"indices","oneHot","int32")},s={dtype:a,depth:t,onValue:n,offValue:r};return Fe.runKernel(wD,o,s)}const Wle=Ue({oneHot_:_qe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sqe(e){const n={x:De(e,"x","onesLike")};return Fe.runKernel(xD,n)}const Bl=Ue({onesLike_:Sqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cqe(e,t,n=0){const r=De(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},i={x:r};return Fe.runKernel(SD,i,a)}const Ez=Ue({pad_:Cqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tqe(e,t,n){const r=De(e,"x","spaceToBatchND");pe(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),pe(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),pe(r.shape.reduce((o,s,l)=>l>0&&l<=t.length?o&&(s+n[l-1][0]+n[l-1][1])%t[l-1]===0:o,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const a={x:r},i={blockShape:t,paddings:n};return Fe.runKernel(MD,a,i)}const Az=Ue({spaceToBatchND_:Tqe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kqe(e,t,n,r,a,i,o){a==null&&(a=[1,1]),i==null&&(i=1),r===0&&(r="valid");const s=De(e,"x","maxPool");let l=s,u=!1;s.rank===3&&(u=!0,l=He(s,[1,s.shape[0],s.shape[1],s.shape[2]])),pe(Zi(i,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${a}'`);const c=Hl(l.shape,t,i,a,r),f=[c.dilationHeight,c.dilationWidth];let d;r==="same"?d=Eqe([c.filterHeight,c.filterWidth],f):d=[[0,0],[0,0]];const h=f[0]===1&&f[1]===1,[p,v]=Iqe([c.inHeight,c.inWidth],f,d),g=h?r:"valid",m=h?l:Az(l,f,p),b=(n==="avg"?()=>gz(m,t,i,g,o):()=>kz(m,t,i,g,o))(),x=h?b:mz(b,f,v);return u?He(x,[x.shape[1],x.shape[2],x.shape[3]]):x}function Iqe(e,t,n){const r=n.map(c=>c[0]),a=n.map(c=>c[1]),i=e.concat(r,a),o=t.map((c,f)=>(c-i[f]%c)%c),s=a.map((c,f)=>c+o[f]),l=t.map((c,f)=>[r[f],s[f]]),u=t.map((c,f)=>[0,o[f]]);return[l,u]}function Eqe(e,t){const r=e.map((o,s)=>o+(o-1)*(t[s]-1)).map(o=>o-1),a=r.map(o=>Math.floor(o/2)),i=r.map((o,s)=>o-a[s]);return r.map((o,s)=>[a[s],i[s]])}const Aqe=Ue({pool_:kqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dqe(e,t){const n=De(e,"x","prelu"),r=De(t,"alpha","prelu"),a={x:n,alpha:r};return Fe.runKernel(CD,a)}const Dz=Ue({prelu_:Dqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nqe(e,t=null,n=!1){let r=De(e,"x","prod");r.dtype==="bool"&&(r=Ut(r,"int32"));const a={x:r},i={axis:t,keepDims:n};return Fe.runKernel(TD,a,i)}const Rqe=Ue({prod_:Nqe});var ik={exports:{}},Mqe=ik.exports,j9;function $qe(){return j9||(j9=1,function(e){(function(t,n,r){function a(l){var u=this,c=s();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var c=new a(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&i(f,c),d.state=function(){return i(c,{})}),d}function s(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n.exports?n.exports=o:this.alea=o})(Mqe,e)}(ik)),ik.exports}var ok={exports:{}},Lqe=ok.exports,Y9;function Oqe(){return Y9||(Y9=1,function(e){(function(t,n,r){function a(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.xor128=o})(Lqe,e)}(ok)),ok.exports}var sk={exports:{}},Pqe=sk.exports,X9;function Fqe(){return X9||(X9=1,function(e){(function(t,n,r){function a(s){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.xorwow=o})(Pqe,e)}(sk)),sk.exports}var lk={exports:{}},Bqe=lk.exports,q9;function Vqe(){return q9||(q9=1,function(e){(function(t,n,r){function a(s){var l=this;l.next=function(){var c=l.x,f=l.i,d,h;return d=c[f],d^=d>>>7,h=d^d<<24,d=c[f+1&7],h^=d^d>>>10,d=c[f+3&7],h^=d^d>>>3,d=c[f+4&7],h^=d^d<<7,d=c[f+7&7],d=d^d<<13,h^=d^d<<9,c[f]=h,l.i=f+1&7,h};function u(c,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}u(l,s)}function i(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.x&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.xorshift7=o})(Bqe,e)}(lk)),lk.exports}var uk={exports:{}},zqe=uk.exports,Z9;function Wqe(){return Z9||(Z9=1,function(e){(function(t,n,r){function a(s){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,h,p;return l.w=c=c+1640531527|0,p=f[d+34&127],h=f[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=f[d]=p^h,l.i=d,p+(c^c>>>16)|0};function u(c,f){var d,h,p,v,g,m=[],y=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,y=Math.max(y,f.length)),p=0,v=-32;v<y;++v)f&&(h^=f.charCodeAt((v+32)%f.length)),v===0&&(g=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,v>=0&&(g=g+1640531527|0,d=m[v&127]^=h+g,p=d==0?p+1:0);for(p>=128&&(m[(f&&f.length||0)&127]=-1),p=127,v=4*128;v>0;--v)h=m[p+34&127],d=m[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,m[p]=h^d;c.w=g,c.X=m,c.i=p}u(l,s)}function i(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.X&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.xor4096=o})(zqe,e)}(uk)),uk.exports}var ck={exports:{}},Hqe=ck.exports,J9;function Uqe(){return J9||(J9=1,function(e){(function(t,n,r){function a(s){var l=this,u="";l.next=function(){var f=l.b,d=l.c,h=l.d,p=l.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^p,l.a=p-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function i(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.tychei=o})(Hqe,e)}(ck)),ck.exports}var fk={exports:{}};const Gqe={},Kqe=Object.freeze(Object.defineProperty({__proto__:null,default:Gqe},Symbol.toStringTag,{value:"Module"})),jqe=QMe(Kqe);var Yqe=fk.exports,Q9;function Xqe(){return Q9||(Q9=1,function(e){(function(t,n,r){var a=256,i=6,o=52,s="random",l=r.pow(a,i),u=r.pow(2,o),c=u*2,f=a-1,d;function h(x,_,S){var C=[];_=_==!0?{entropy:!0}:_||{};var k=m(g(_.entropy?[x,b(n)]:x??y(),3),C),T=new p(C),E=function(){for(var I=T.g(i),A=l,N=0;I<u;)I=(I+N)*a,A*=a,N=T.g(1);for(;I>=c;)I/=2,A/=2,N>>>=1;return(I+N)/A};return E.int32=function(){return T.g(4)|0},E.quick=function(){return T.g(4)/4294967296},E.double=E,m(b(T.S),n),(_.pass||S||function(I,A,N,L){return L&&(L.S&&v(L,T),I.state=function(){return v(T,{})}),N?(r[s]=I,A):I})(E,k,"global"in _?_.global:this==r,_.state)}function p(x){var _,S=x.length,C=this,k=0,T=C.i=C.j=0,E=C.S=[];for(S||(x=[S++]);k<a;)E[k]=k++;for(k=0;k<a;k++)E[k]=E[T=f&T+x[k%S]+(_=E[k])],E[T]=_;(C.g=function(I){for(var A,N=0,L=C.i,R=C.j,D=C.S;I--;)A=D[L=f&L+1],N=N*a+D[f&(D[L]=D[R=f&R+A])+(D[R]=A)];return C.i=L,C.j=R,N})(a)}function v(x,_){return _.i=x.i,_.j=x.j,_.S=x.S.slice(),_}function g(x,_){var S=[],C=typeof x,k;if(_&&C=="object")for(k in x)try{S.push(g(x[k],_-1))}catch{}return S.length?S:C=="string"?x:x+"\0"}function m(x,_){for(var S=x+"",C,k=0;k<S.length;)_[f&k]=f&(C^=_[f&k]*19)+S.charCodeAt(k++);return b(_)}function y(){try{var x;return d&&(x=d.randomBytes)?x=x(a):(x=new Uint8Array(a),(t.crypto||t.msCrypto).getRandomValues(x)),b(x)}catch{var _=t.navigator,S=_&&_.plugins;return[+new Date,t,S,t.screen,b(n)]}}function b(x){return String.fromCharCode.apply(0,x)}if(m(r.random(),n),e.exports){e.exports=h;try{d=jqe}catch{}}else r["seed"+s]=h})(typeof self<"u"?self:Yqe,[],Math)}(fk)),fk.exports}var eM,e7;function qqe(){if(e7)return eM;e7=1;var e=$qe(),t=Oqe(),n=Fqe(),r=Vqe(),a=Wqe(),i=Uqe(),o=Xqe();return o.alea=e,o.xor128=t,o.xorwow=n,o.xorshift7=r,o.xor4096=a,o.tychei=i,eM=o,eM}var Nz=qqe();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hle{constructor(t,n,r,a,i){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=i||Math.random();this.random=Nz.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const a=this.nextVal;return this.nextVal=NaN,a}let t,n,r=!1;for(;!r;){let a,i,o;do a=2*this.random()-1,i=2*this.random()-1,o=a*a+i*i;while(o>=1||o===0);const s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,(!this.truncated||this.isValidTruncated(t))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(t)}convertValue(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class Zqe{constructor(t=0,n=1,r,a){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=t,this.range=n-t,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${n} <= 1 and dtype is not float`);this.random=Nz.alea(a)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jqe(e,t=0,n=1,r,a){if(cd(e),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new Hle(t,n,r,!1,a),o=Gn(e,r);for(let s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}const Qqe=Ue({randomNormal_:Jqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eZe(e,t=0,n=1,r="float32",a){cd(e);const i=Gn(e,r),o=new Zqe(t,n,null,a);for(let s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}const LS=Ue({randomUniform_:eZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mw(e,t,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return Fe.runKernel(tz,{},a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tZe(e){const n={input:De(e,"input","real")};return Fe.runKernel(nz,n)}const SI=Ue({real_:tZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nZe(e){const n={x:De(e,"x","reciprocal")};return Fe.runKernel(hS,n)}const rZe=Ue({reciprocal_:nZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aZe(e){const n={x:De(e,"x","relu")};return Fe.runKernel(pS,n)}const Wg=Ue({relu_:aZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iZe(e){const n={x:De(e,"x","relu6")};return Fe.runKernel(vS,n)}const Ule=Ue({relu6_:iZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oZe(e,t){const r={x:De(e,"x","reverse")},a={dims:t};return Fe.runKernel(AD,r,a)}const bg=Ue({reverse_:oZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sZe(e){const n={x:De(e,"x","round")};return Fe.runKernel(gS,n)}const Gle=Ue({round_:sZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lZe(e){const n={x:De(e,"x","rsqrt","float32")};return Fe.runKernel(mS,n)}const Kle=Ue({rsqrt_:lZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uZe(e){const n={x:De(e,"x","selu")};return Fe.runKernel(yS,n)}const jle=Ue({selu_:uZe});function cZe(e,t,n,r,a,i=[1,1],o="NHWC"){const s=De(e,"x","separableConv2d"),l=De(t,"depthwiseFilter","separableConv2d"),u=De(n,"pointwiseFilter","separableConv2d");let c=s,f=!1;if(s.rank===3&&(f=!0,c=He(s,[1,s.shape[0],s.shape[1],s.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");pe(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),pe(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),pe(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),pe(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),pe(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const d=l.shape[2],h=l.shape[3];pe(u.shape[2]===d*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${u.shape[2]}.`);const p=xz(c,l,r,a,o,i),g=mg(p,u,1,"valid",o);return f?He(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const Yle=Ue({separableConv2d_:cZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fZe(e){const n={x:De(e,"x","sign")};return Fe.runKernel(wS,n)}const dZe=Ue({sign_:fZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hZe(e){const n={x:De(e,"x","sin","float32")};return Fe.runKernel(bS,n)}const Xle=Ue({sin_:hZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pZe(e){const n={x:De(e,"x","sinh")};return Fe.runKernel(xS,n)}const qle=Ue({sinh_:pZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vZe(e,t,n){const r=De(e,"x","slice1d");return pe(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Kr(r,[t],[n])}const Rz=Ue({slice1d_:vZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gZe(e,t,n){const r=De(e,"x","slice2d");return pe(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Kr(r,t,n)}const Zle=Ue({slice2d_:gZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mZe(e,t,n){const r=De(e,"x","slice3d");return pe(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Kr(r,t,n)}const Mz=Ue({slice3d_:mZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yZe(e,t,n){const r=De(e,"x","slice4d");return pe(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Kr(r,t,n)}const CI=Ue({slice4d_:yZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bZe(e,t=-1){const n=De(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return Fe.runKernel(LD,r,a)}const $z=Ue({softmax_:bZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xZe(e){pe(e.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);const t={input:e};return Fe.runKernel(UV,t)}const Jle=Ue({fft_:xZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wZe(e){pe(e.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);const t={input:e};return Fe.runKernel(jV,t)}const zP=Ue({ifft_:wZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ze(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=He(e,[n,t]);r=zP(a)}else{const a=[n,2*(t-1)],i=He(SI(e),[n,t]),o=He(Sz(e),[n,t]),s=bg(Kr(i,[0,1],[n,t-2]),1),l=Pe(bg(Kr(o,[0,1],[n,t-2]),1),Cr(-1)),u=Xo([i,s],1),c=Xo([o,l],1),f=He(dg(u,c),[a[0],a[1]]);r=zP(f)}if(r=SI(r),e.rank===3&&e.shape[0]!==0){const a=r,i=e.shape[0];r=He(r,[i,r.shape[0]/i,r.shape[1]]),a.dispose()}return r}const SZe=Ue({irfft_:_Ze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CZe(e,t,n=0){const a={x:De(e,"x","split")},i={numOrSizeSplits:t,axis:n};return Fe.runKernel($D,a,i)}const Gs=Ue({split_:CZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TZe(e,t){pe(e.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(t!=null&&t<n){const p=e.shape.map(g=>0),v=e.shape.map(g=>g);v[e.shape.length-1]=t,a=Kr(e,p,v),n=t}else if(t!=null&&t>n){const p=e.shape.map(v=>v);p[e.shape.length-1]=t-n,a=Xo([e,ni(p)],e.shape.length-1),n=t}else a=e;const i=gr(a),o=He(dg(a,i),[r,n]),s=Jle(o),l=Math.floor(n/2)+1,u=SI(s),c=Sz(s),f=Gs(u,[l,n-l],u.shape.length-1),d=Gs(c,[l,n-l],c.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=l,He(dg(f[0],d[0]),h)}const kZe=Ue({rfft_:TZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IZe(e,t){let n=De(e,"a","squaredDifference"),r=De(t,"b","squaredDifference");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r},i={};return Fe.runKernel(TS,a,i)}const EZe=Ue({squaredDifference_:IZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AZe(e,t){const n=De(e,"x","squeeze","string_or_numeric");return He(n,ep(n.shape,t).newShape)}const OS=Ue({squeeze_:AZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DZe(e,t=0){const n=ble(e,"tensors","stack","string_or_numeric");pe(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&pe(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:t};return Fe.runKernel(_D,r,a)}const Kf=Ue({stack_:DZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NZe(e,t=0){const r={x:De(e,"x","step")},a={alpha:t};return Fe.runKernel(DS,r,a)}const PS=Ue({step_:NZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RZe(e,t,n,r,a=0,i=0,o=0,s=0,l=0){const c={x:De(e,"x","stridedSlice","string_or_numeric")},f={begin:t,end:n,strides:r,beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l};return Fe.runKernel(sz,c,f)}const MZe=Ue({stridedSlice_:RZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ze(e){const n={x:De(e,"x","tan","float32")};return Fe.runKernel(IS,n)}const LZe=Ue({tan_:$Ze});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ws(e,t){wV(e);const n=NS(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return RS(e,null,n,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tM(e,t,n){if(wV(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=NS(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return RS(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OZe(e,t,n){wV(e);const r=NS(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return RS(e,t,r,n)}function Qle(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(i+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(i+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(i+` update.rank != ${a+e.length-r}`);for(let o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${t.shape[o]}).`);for(let o=0;o<n.rank-a;++o)if(n.shape[o+a]!==e[o+r])throw new Error(i+` updates.shape[${o+a}] (${n.shape[o+a]}) != shape[${o+a}] (${e[o+a]})`)}function PZe(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(e.size===0)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}Qle(n,t,e)}function Hg(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length;let o=1;for(let f=a;f<i;++f)o*=n[f];const s=a<1?1:a,l=ot(t.shape)/s,u=[...dn(n.slice(0,a)),1],c=ot(n);return{sliceRank:a,numUpdates:l,sliceSize:o,strides:u,outputSize:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FZe(e,t=1,n=!0){const r=De(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const i={x:r},o={k:t,sorted:n},[s,l]=Fe.runKernel(lz,i,o);return{values:s,indices:l}}const BZe=Ue({topk_:FZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VZe(e,t=0,n=1,r,a){if(cd(e),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new Hle(t,n,r,!0,a),o=Gn(e,r);for(let s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}const eue=Ue({truncatedNormal_:VZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zZe(e,t=0){const n=De(e,"x","unique","string_or_numeric");pe(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:t},[i,o]=Fe.runKernel(cz,r,a);return{values:i,indices:o}}const WZe=Ue({unique_:zZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HZe(e,t,n){const r=De(e,"x","unsortedSegmentSum"),a=De(t,"segmentIds","unsortedSegmentSum","int32");pe(fy(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:a},o={numSegments:n};return Fe.runKernel(PD,i,o)}const tue=Ue({unsortedSegmentSum_:HZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UZe(e,t=0){const n=De(e,"x","unstack","string_or_numeric");pe(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},a={axis:t};return Fe.runKernel(OD,r,a)}const xg=Ue({unstack_:UZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GZe(e,t=!0,n,r){return Fe.makeVariable(e,t,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nue(e,t){const n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);const r=Gn(e,"int32"),a=Gn([n.length,e.length],"int32");for(let i=0;i<n.length;i++){const o=r.indexToLoc(n[i]),s=i*e.length;a.values.set(o,s)}return a.toTensor()}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KZe(e,t,n){const r=De(e,"x","transpose");if(t==null&&(t=r.shape.map((o,s)=>s).reverse()),pe(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(o=>{pe(o>=0&&o<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();const a={x:r},i={perm:t};return r.dtype==="complex64"?Xe(()=>{let o=SI(r),s=Sz(r);return o=Fe.runKernel(Rm,{x:o},i),s=Fe.runKernel(Rm,{x:s},i),n&&(s=ya(s)),dg(o,s)}):Fe.runKernel(Rm,a,i)}const hr=Ue({transpose_:KZe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jZe(e,t){if(t==null)return e.shape.slice();if(Er(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)t[r]==null&&e.shape[r]!=null?n.push(e.shape[r]):n.push(t[r]);return n}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YZe(e,t,n,r){const a=De(e,"x","dropout");if(pe(a.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),pe(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),t===0)return e instanceof Fa?a.clone():a;const i=jZe(a,n),o=1-t,s=gn(GD(Et(LS(i,0,1,"float32",r),o)),o);return Pe(a,s)}const XZe=Ue({dropout_:YZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qZe(e,t,n,r,a,i="NHWC",o){let s=e;e.rank===3&&(s=He(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=He(t,[1,t.shape[0],t.shape[1],t.shape[2]])),pe(s.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`),pe(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),pe(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=i==="NHWC"?s.shape[3]:s.shape[1],c=i==="NHWC"?l.shape[3]:l.shape[1];pe(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),pe(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),us("conv2dDerFilter",a,o);const f={x:s,dy:l},d={strides:r,pad:a,dataFormat:i,dimRoundingMode:o,filterShape:n};return Fe.runKernel(MV,f,d)}const Lz=Ue({conv2DBackpropFilter_:qZe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oz(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return Pe(e,PS(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function Pz(e,t){let n=t;const r=ja(e.shape,t.shape);return r.length>0&&(n=pn(n,r)),He(n,e.shape)}function Fz(e,t,n,r){if(t==="linear")return e;if(t==="relu")return Wg(e);if(t==="elu")return HD(e);if(t==="relu6")return Ule(e);if(t==="prelu")return Dz(e,n);if(t==="leakyrelu")return Cz(e,r);if(t==="sigmoid")return e1(e);throw new Error(`Unknown fused activation ${t}.`)}const Bz=(e,t)=>!(e>0)||t==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZZe({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:s,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",Bz(Fe.state.gradientDepth,l)===!1){pe(a==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let S=mg(e,t,n,r,a,i,o);return s!=null&&(S=Et(S,s)),Fz(S,l,u,c)}const f=De(e,"x","conv2d","float32"),d=De(t,"filter","conv2d","float32");let h=f,p=!1;f.rank===3&&(p=!0,h=He(f,[1,f.shape[0],f.shape[1],f.shape[2]])),pe(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),pe(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),us("fused conv2d",r,o);const v=a==="NHWC"?h.shape[3]:h.shape[1];pe(d.shape[2]===v,()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${d.shape[2]}.`),pe(Zi(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const g=Ai(h.shape,d.shape,n,i,r,o);let m;s!=null&&(m=De(s,"bias","fused conv2d"),[m]=wa(m,f),a==="NHWC"?On(g.outShape,m.shape):(pe(m.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${m.shape.length}.`),pe(m.shape.length===0||m.shape[0]===g.outChannels||m.shape[0]===1,()=>`Error in fused conv2d: bias shape (${m.shape}) is not compatible with the number of output channels (${g.outChannels})`)));let y;if(u!=null){const S=u.shape;if(pe(S.length<=1||S.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${S.length}.`),S.length===1)pe(S[0]===1||S[0]===g.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the number of output channels (${g.outChannels}).`);else if(S.length===3)try{On(S,g.outShape)}catch{const k=`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(k)}y=De(u,"prelu weights","fused conv2d")}const b=(S,C)=>{pe(a==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`);const[k,T,E,I]=C,A=Oz(S,E,l);pe(vg(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const N=yz(T.shape,A,k,n,r),L=Lz(T,A,k.shape,n,r),R=[N,L];if(I!=null){const D=Pz(I,A);R.push(D)}return R},x={x:h,filter:d,bias:m,preluActivationWeights:y},_={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o,activation:l,leakyreluAlpha:c};return s==null?vy((C,k,T)=>{let E=Fe.runKernel(gI,x,_);return T([k,C,E]),p&&(E=He(E,[E.shape[1],E.shape[2],E.shape[3]])),{value:E,gradFunc:b}})(h,d):vy((C,k,T,E)=>{let I=Fe.runKernel(gI,x,_);return E([k,C,I,T]),p&&(I=He(I,[I.shape[1],I.shape[2],I.shape[3]])),{value:I,gradFunc:b}})(h,d,m)}const JZe=Ue({fusedConv2d_:ZZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QZe(e,t,n,r,a,i=[1,1],o){let s=e;e.rank===3&&(s=He(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=He(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:s,dy:l},c={strides:r,pad:a,dimRoundingMode:o,dilations:i,filterShape:n};return Fe.runKernel(VV,u,c)}const eJe=Ue({depthwiseConv2dNativeBackpropFilter_:QZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tJe(e,t,n,r,a,i=[1,1],o){let s=t,l=!1;t.rank===3&&(l=!0,s=He(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:s,filter:n},c={strides:r,pad:a,dimRoundingMode:o,dilations:i,inputShape:e},f=Fe.runKernel(zV,u,c);return l?He(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const nJe=Ue({depthwiseConv2dNativeBackpropInput_:tJe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rJe({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:a,activation:i="linear",preluActivationWeights:o,leakyreluAlpha:s=.2}){if(Bz(Fe.state.gradientDepth,i)===!1){let I=Tr(e,t,n,r);return a!=null&&(I=Et(I,a)),Fz(I,i,o,s)}let l=De(e,"a","fused matMul"),u=De(t,"b","fused matMul");[l,u]=wa(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=l.shape.slice(0,-2),v=u.shape.slice(0,-2),g=ot(p),m=ot(v);pe(c===f,()=>`Error in fused matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const b=On(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,h]),x=n?He(l,[g,c,d]):He(l,[g,d,c]),_=r?He(u,[m,h,f]):He(u,[m,f,h]);let S;a!=null&&(S=De(a,"bias","fused matMul"),[S]=wa(S,l),On(b,S.shape));let C;o!=null&&(C=De(o,"prelu weights","fused matMul"));const k=(I,A)=>{const[N,L,R,D]=A,P=Oz(He(I,R.shape),R,i);let O,M;if(!n&&!r?(O=Tr(P,L,!1,!0),M=Tr(N,P,!0,!1)):!n&&r?(O=Tr(P,L,!1,!1),M=Tr(P,N,!0,!1)):n&&!r?(O=Tr(L,P,!1,!0),M=Tr(N,P,!1,!1)):(O=Tr(L,P,!0,!0),M=Tr(P,N,!0,!0)),a!=null){const W=Pz(D,P);return[O,M,W]}else return[O,M]},T={a:x,b:_,bias:S,preluActivationWeights:C},E={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:s};return a==null?vy((A,N,L)=>{const R=Fe.runKernel(vI,T,E);return L([A,N,R]),{value:He(R,b),gradFunc:k}})(x,_):vy((A,N,L,R)=>{const D=Fe.runKernel(vI,T,E);return R([A,N,D,L]),{value:He(D,b),gradFunc:k}})(x,_,S)}const t7=Ue({fusedMatMul_:rJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aJe(e,t,n,r,a="bilinear",i=0){const o=De(e,"image","cropAndResize"),s=De(t,"boxes","cropAndResize","float32"),l=De(n,"boxInd","cropAndResize","int32"),u=s.shape[0];pe(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),pe(s.rank===2&&s.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${s.shape}.`),pe(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${s.shape}.`),pe(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),pe(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),pe(a==="bilinear"||a==="nearest",()=>`method must be bilinear or nearest, but was ${a}`);const c={image:o,boxes:s,boxInd:l},f={method:a,extrapolationValue:i,cropSize:r};return Fe.runKernel(PV,c,f)}const iJe=Ue({cropAndResize_:aJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oJe(e){const t=De(e,"image","flipLeftRight","float32");pe(t.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);const n={image:t};return Fe.runKernel(KV,n,{})}const sJe=Ue({flipLeftRight_:oJe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lJe(e){const t=De(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];pe(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),pe(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,gu(t,a)}const uJe=Ue({grayscaleToRGB_:lJe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cJe(e){const t=De(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];pe(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),pe(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const a=t.dtype,i=Ut(t,"float32"),o=ws([.2989,.587,.114]);let s;switch(t.rank){case 2:s=U1("ij,j->i",i,o);break;case 3:s=U1("ijk,k->ij",i,o);break;case 4:s=U1("ijkl,l->ijk",i,o);break;case 5:s=U1("ijklm,m->ijkl",i,o);break;case 6:s=U1("ijklmn,n->ijklm",i,o);break;default:throw new Error("Not a valid tensor rank.")}return s=zo(s,-1),Ut(s,a)}const fJe=Ue({rgbToGrayscale_:cJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dJe(e,t,n=0,r=.5){const a=De(e,"image","rotateWithOffset","float32");pe(a.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const i={image:a},o={radians:t,fillValue:n,center:r};return Fe.runKernel(fz,i,o)}const hJe=Ue({rotateWithOffset_:dJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n1(e,t,n,r,a,i){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);const o=e.shape[0];return n=Math.min(n,o),pe(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),pe(e.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),pe(e.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),pe(t.rank===1,()=>"scores must be a 1D tensor"),pe(t.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${t.shape[0]}`),pe(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const i=De(e,"boxes","nonMaxSuppression","float32"),o=De(t,"scores","nonMaxSuppression","float32"),s=n1(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return Fe.runKernel(JV,{boxes:i,scores:o},l)}const vJe=Ue({nonMaxSuppression_:pJe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gJe(e,t,n){const r=mJe(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function mJe(e,t,n){return yJe(e,t,n)}function yJe(e,t,n){let r=0,a=e.length,i=0,o=!1;for(;r<a;){i=r+(a-r>>>1);const s=n(t,e[i]);s>0?r=i+1:(a=i,o=!s)}return o?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vz(e,t,n,r,a){return Hz(e,t,n,r,a,0)}function zz(e,t,n,r,a,i){return Hz(e,t,n,r,a,0,!1,i,!0)}function Wz(e,t,n,r,a,i){return Hz(e,t,n,r,a,i,!0)}function Hz(e,t,n,r,a,i,o=!1,s=!1,l=!1){const u=[];for(let g=0;g<t.length;g++)t[g]>a&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(n7);const c=i>0?-.5/i:0,f=[],d=[];for(;f.length<n&&u.length>0;){const g=u.pop(),{score:m,boxIndex:y,suppressBeginIndex:b}=g;if(m<a)break;let x=!1;for(let _=f.length-1;_>=b;--_){const S=bJe(e,y,f[_]);if(S>=r){x=!0;break}if(g.score=g.score*xJe(r,c,S),g.score<=a)break}g.suppressBeginIndex=f.length,x||(g.score===m?(f.push(y),d.push(g.score)):g.score>a&&gJe(u,g,n7))}const h=f.length,p=n-h;s&&p>0&&(f.push(...new Array(p).fill(0)),d.push(...new Array(p).fill(0)));const v={selectedIndices:f};return o&&(v.selectedScores=d),l&&(v.validOutputs=h),v}function bJe(e,t,n){const r=e.subarray(t*4,t*4+4),a=e.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),h=(s-i)*(l-o),p=(f-u)*(d-c);if(h<=0||p<=0)return 0;const v=Math.max(i,u),g=Math.max(o,c),m=Math.min(s,f),y=Math.min(l,d),b=Math.max(m-v,0)*Math.max(y-g,0);return b/(h+p-b)}function xJe(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function n7(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function wJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const i=De(e,"boxes","nonMaxSuppressionAsync"),o=De(t,"scores","nonMaxSuppressionAsync"),s=n1(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;const l=await Promise.all([i.data(),o.data()]),u=l[0],c=l[1],{selectedIndices:f}=Vz(u,c,n,r,a);return i!==e&&i.dispose(),o!==t&&o.dispose(),ws(f,"int32")}const _Je=wJe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){const o=De(e,"boxes","nonMaxSuppression"),s=De(t,"scores","nonMaxSuppression"),l=n1(o,s,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const u={boxes:o,scores:s},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i},f=Fe.runKernel(ez,u,c);return{selectedIndices:f[0],selectedScores:f[1]}}const CJe=Ue({nonMaxSuppressionWithScore_:SJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function TJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){const o=De(e,"boxes","nonMaxSuppressionAsync"),s=De(t,"scores","nonMaxSuppressionAsync"),l=n1(o,s,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([o.data(),s.data()]),c=u[0],f=u[1],{selectedIndices:d,selectedScores:h}=Wz(c,f,n,r,a,i);return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:ws(d,"int32"),selectedScores:ws(h)}}const kJe=TJe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){const o=De(e,"boxes","nonMaxSuppression"),s=De(t,"scores","nonMaxSuppression"),l=n1(o,s,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,d={boxes:o,scores:s},h={maxOutputSize:u,iouThreshold:c,scoreThreshold:f,padToMaxOutputSize:i},p=Fe.runKernel(QV,d,h);return{selectedIndices:p[0],validOutputs:p[1]}}const EJe=Ue({nonMaxSuppressionPadded_:IJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function AJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){const o=De(e,"boxes","nonMaxSuppressionAsync"),s=De(t,"scores","nonMaxSuppressionAsync"),l=n1(o,s,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,[d,h]=await Promise.all([o.data(),s.data()]),{selectedIndices:p,validOutputs:v}=zz(d,h,u,c,f,i);return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:ws(p,"int32"),validOutputs:Cr(v,"int32")}}const DJe=AJe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NJe(e,t,n=!1,r=!1){const a=De(e,"images","resizeBilinear");pe(a.rank===3||a.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),pe(t.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),pe(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=a,o=!1;a.rank===3&&(o=!0,i=He(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=Fe.runKernel(ED,s,l);return o?He(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const rue=Ue({resizeBilinear_:NJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RJe(e,t,n=!1,r=!1){const a=De(e,"images","resizeNearestNeighbor");pe(a.rank===3||a.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),pe(t.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),pe(a.dtype==="float32"||a.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),pe(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=a,o=!1;a.rank===3&&(o=!0,i=He(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=Fe.runKernel(ID,s,l);return o?He(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const aue=Ue({resizeNearestNeighbor_:RJe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MJe(e,t="binary",n=!1,r=.5){const a=De(e,"image","threshold"),i=.2989,o=.587,s=.114,l=a.shape[0]*a.shape[1];let u=Pe(ws([r]),255),c,f,d,h;if(pe(a.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),pe(a.shape[2]===3||a.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),pe(a.dtype==="int32"||a.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),pe(t==="otsu"||t==="binary",()=>`Method must be binary or otsu, but was ${t}`),a.shape[2]===3){[c,f,d]=Gs(a,[1,1,1],-1);const g=Pe(c,i),m=Pe(f,o),y=Pe(d,s);h=Et(Et(g,m),y)}else h=e;if(t==="otsu"){const g=DYe(Ut(Gle(h),"int32"),ux([]),256);u=$Je(g,l)}const p=n?t1(h,u):Js(h,u);return Ut(Pe(p,255),"int32")}function $Je(e,t){let n=ws([-1]),r=ws([0]),a=ws([0]),i,o,s,l,u,c;for(let f=0;f<e.size-1;f++){i=Kr(e,0,f+1),o=Kr(e,f+1),u=gn(pn(i),t),c=gn(pn(o),t);const d=pn(Pe(i,mw(0,i.size)));s=gn(d,pn(i));const h=WD(o.shape,i.size),p=Et(mw(0,o.size),h),v=Pe(o,p);l=gn(pn(v),pn(o));const g=Sn(s,l),m=Sn(s,l),y=Pe(u,c);a=Pe(Pe(y,g),m);const b=Js(a,r);r=xo(b,a,r),n=xo(b,ws([f]),n)}return n}const LJe=Ue({threshold_:MJe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OJe(e,t,n="nearest",r="constant",a=0,i){const o=De(e,"image","transform","float32"),s=De(t,"transforms","transform","float32");pe(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),pe(s.rank===2&&(s.shape[0]===o.shape[0]||s.shape[0]===1)&&s.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),pe(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:o,transforms:s},u={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return Fe.runKernel(uz,l,u)}const PJe=Ue({transform_:OJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FJe(e,t,n){const r=De(e,"a","bandPart");pe(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const a=r.shape,[i,o]=r.shape.slice(-2);let s,l;typeof t=="number"?(pe(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),pe(t<=i,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${i}).`),s=De(t<0?i:t,"numLower","bandPart")):(pe(t.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),s=xo(wI(t,0),i,gw(t,i))),typeof n=="number"?(pe(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),pe(n<=o,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`),l=De(n<0?o:n,"numUpper","bandPart")):(pe(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=xo(wI(n,0),o,gw(n,o)));const u=He(mw(0,i,1,"int32"),[-1,1]),c=mw(0,o,1,"int32"),f=Sn(u,c),d=Gf(t1(f,s),zg(f,ya(l))),h=ni([i,o],r.dtype);return He(Kf(xg(He(r,[-1,i,o])).map(p=>xo(d,p,h))),a)}const BJe=Ue({bandPart_:FJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VJe(e){let t;if(Array.isArray(e)){t=!1,pe(e!=null&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const a=e[0].shape[0];for(let i=1;i<e.length;++i)pe(e[i].shape[0]===a,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[i].shape[0]} vs. ${a})`)}else t=!0,e=Gs(e,e.shape[0],0).map(a=>OS(a,[0]));pe(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let a=0;a<e.length;++a)n.push(Fe.tidy(()=>{let i=r[a];if(a>0)for(let o=0;o<a;++o){const s=Pe(pn(Pe(n[o],i)),n[o]);i=Sn(i,s)}return gn(i,UD(i,"euclidean"))}));return t?Kf(n,0):n}const zJe=Ue({gramSchmidt_:VJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WJe(e,t=!1){if(pe(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),e.rank===2)return r7(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((l,u)=>l*u),r=xg(He(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];r.forEach(l=>{const[u,c]=r7(l,t);a.push(u),i.push(c)});const o=He(Kf(a,0),e.shape),s=He(Kf(i,0),e.shape);return[o,s]}}function r7(e,t=!1){return Fe.tidy(()=>{pe(e.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let a=Ple(n),i=Vv(e);const o=tM([[1]],[1,1]);let s=Vv(o);const l=n>=r?r:n;for(let u=0;u<l;++u){const c=i,f=s,d=a;[s,i,a]=Fe.tidy(()=>{const h=Kr(i,[u,u],[n-u,1]),p=UD(h),v=Kr(i,[u,u],[1,1]),g=xo(Js(v,0),tM([[-1]]),tM([[1]])),m=Sn(v,Pe(g,p)),y=gn(h,m);y.shape[0]===1?s=Vv(o):s=Xo([o,Kr(y,[1,0],[y.shape[0]-1,y.shape[1]])],0);const b=ya(gn(Tr(g,m),p)),x=Kr(i,[u,0],[n-u,r]),_=Pe(b,s),S=hr(s);if(u===0)i=Sn(x,Tr(_,Tr(S,x)));else{const T=Sn(x,Tr(_,Tr(S,x)));i=Xo([Kr(i,[0,0],[u,r]),T],0)}const C=hr(_),k=Kr(a,[0,u],[n,a.shape[1]-u]);if(u===0)a=Sn(k,Tr(Tr(k,s),C));else{const T=Sn(k,Tr(Tr(k,s),C));a=Xo([Kr(a,[0,0],[n,u]),T],1)}return[s,i,a]}),Wn([c,f,d])}return!t&&n>r&&(a=Kr(a,[0,0],[n,r]),i=Kr(i,[0,0],[r,r])),[a,i]})}const HJe=Ue({qr_:WJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const If={flipLeftRight:sJe,grayscaleToRGB:uJe,resizeNearestNeighbor:aue,resizeBilinear:rue,rgbToGrayscale:fJe,rotateWithOffset:hJe,cropAndResize:iJe,nonMaxSuppression:vJe,nonMaxSuppressionAsync:_Je,nonMaxSuppressionWithScore:CJe,nonMaxSuppressionWithScoreAsync:kJe,nonMaxSuppressionPadded:EJe,nonMaxSuppressionPaddedAsync:DJe,threshold:LJe,transform:PJe},UJe={bandPart:BJe,gramSchmidt:zJe,qr:HJe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GJe=new Map,KJe=new Map;class Ug{getClassName(){return this.constructor.className}static fromConfig(t,n){return new t(n)}}class _l{constructor(){this.classNameMap={}}static getMap(){return _l.instance==null&&(_l.instance=new _l),_l.instance}static register(t){_l.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function bt(e,t,n){pe(e.className!=null,()=>"Class being registered does not have the static className property defined."),pe(typeof e.className=="string",()=>"className is required to be a string, but got type "+typeof e.className),pe(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof n>"u"&&(n=e.className);const r=n,a=t+">"+r;return _l.register(e),GJe.set(a,e),KJe.set(e,a),e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sp extends Ug{minimize(t,n=!1,r){const{value:a,grads:i}=this.computeGradients(t,r);if(r!=null){const o=r.map(s=>({name:s.name,tensor:i[s.name]}));this.applyGradients(o)}else this.applyGradients(i);return Wn(i),n?a:(a.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,n){return ZXe(t,n)}dispose(){this.iterations_!=null&&Wn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Cr(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(t){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(t){return this.iterations_=(await t[0].tensor.data())[0],t.slice(1)}}Object.defineProperty(sp,Symbol.hasInstance,{value:e=>e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iue extends sp{static get className(){return"Adadelta"}constructor(t,n,r=null){super(),this.learningRate=t,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=Fe.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Fe.registeredVariables[r],o=!1;this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accum_grad`,variable:Xe(()=>gr(i).variable(o))}),this.accumulatedUpdates[a]==null&&(this.accumulatedUpdates[a]={originalName:`${r}/accum_var`,variable:Xe(()=>gr(i).variable(o))});const s=Array.isArray(t)?t[a].tensor:t[r];if(s==null)return;const l=this.accumulatedGrads[a].variable,u=this.accumulatedUpdates[a].variable;Xe(()=>{const c=Et(Pe(l,this.rho),Pe(Yr(s),1-this.rho)),f=Pe(gn(Ki(Et(u,this.epsilon)),Ki(Et(l,this.epsilon))),s),d=Et(Pe(u,this.rho),Pe(Yr(f),1-this.rho));l.assign(c),u.assign(d);const h=Et(Pe(f,-this.learningRate),i);i.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Wn(this.accumulatedGrads.map(t=>t.variable)),Wn(this.accumulatedUpdates.map(t=>t.variable)))}async getWeights(){const t=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=t.length/2,r=!1;this.accumulatedGrads=t.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedUpdates=t.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oue extends sp{static get className(){return"Adagrad"}constructor(t,n=.1){super(),this.learningRate=t,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Fe.registeredVariables[r];this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accumulator`,variable:Xe(()=>WD(i.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(t)?t[a].tensor:t[r];if(o==null)return;const s=this.accumulatedGrads[a].variable;Xe(()=>{const l=Et(s,Yr(o));s.assign(l);const u=Et(Pe(gn(o,Ki(Et(l,Fe.backend.epsilon()))),-this.learningRate),i);i.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Wn(this.accumulatedGrads.map(t=>t.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,n){return new t(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sue extends sp{static get className(){return"Adam"}constructor(t,n,r,a=null){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Xe(()=>{this.accBeta1=Cr(n).variable(),this.accBeta2=Cr(r).variable()}),a==null&&(this.epsilon=Fe.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Xe(()=>{const r=Sn(1,this.accBeta1),a=Sn(1,this.accBeta2);n.forEach((i,o)=>{const s=Fe.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:Xe(()=>gr(s).variable(l))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${i}/v`,variable:Xe(()=>gr(s).variable(l))});const u=Array.isArray(t)?t[o].tensor:t[i];if(u==null)return;const c=this.accumulatedFirstMoment[o].variable,f=this.accumulatedSecondMoment[o].variable,d=Et(Pe(c,this.beta1),Pe(u,1-this.beta1)),h=Et(Pe(f,this.beta2),Pe(Yr(u),1-this.beta2)),p=gn(d,r),v=gn(h,a);c.assign(d),f.assign(h);const g=Et(Pe(gn(p,Et(Ki(v),this.epsilon)),-this.learningRate),s);s.assign(g)}),this.accBeta1.assign(Pe(this.accBeta1,this.beta1)),this.accBeta2.assign(Pe(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Wn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedSecondMoment!=null&&Wn(this.accumulatedSecondMoment.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t),Xe(()=>{this.accBeta1.assign(yg(this.beta1,this.iterations_+1)),this.accBeta2.assign(yg(this.beta2,this.iterations_+1))});const n=t.length/2,r=!1;this.accumulatedFirstMoment=t.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedSecondMoment=t.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lue extends sp{static get className(){return"Adamax"}constructor(t,n,r,a=null,i=0){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=a,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Xe(()=>{this.iteration=Cr(0).variable(),this.accBeta1=Cr(n).variable()}),a==null&&(this.epsilon=Fe.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Xe(()=>{const r=Sn(1,this.accBeta1),a=gn(-this.learningRate,Et(Pe(this.iteration,this.decay),1));n.forEach((i,o)=>{const s=Fe.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:gr(s).variable(l)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${i}/v`,variable:gr(s).variable(l)});const u=Array.isArray(t)?t[o].tensor:t[i];if(u==null)return;const c=this.accumulatedFirstMoment[o].variable,f=this.accumulatedWeightedInfNorm[o].variable,d=Et(Pe(c,this.beta1),Pe(u,1-this.beta1)),h=Pe(f,this.beta2),p=oo(u),v=ip(h,p);c.assign(d),f.assign(v);const g=Et(Pe(gn(a,r),gn(d,Et(v,this.epsilon))),s);s.assign(g)}),this.iteration.assign(Et(this.iteration,1)),this.accBeta1.assign(Pe(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Wn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedWeightedInfNorm!=null&&Wn(this.accumulatedWeightedInfNorm.map(t=>t.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(t){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Uz extends sp{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Array.isArray(t)?t[a].tensor:t[r];if(i==null)return;const o=Fe.registeredVariables[r];Xe(()=>{const s=Et(Pe(this.c,i),o);o.assign(s)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=Ic(Cr(-t))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(t){if(t=await this.extractIterations(t),t.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,n){return new t(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uue extends Uz{static get className(){return"Momentum"}constructor(t,n,r=!1){super(t),this.learningRate=t,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Cr(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Fe.registeredVariables[r];this.accumulations[a]==null&&(this.accumulations[a]={originalName:`${r}/momentum`,variable:Xe(()=>gr(i).variable(!1))});const o=this.accumulations[a].variable,s=Array.isArray(t)?t[a].tensor:t[r];s!=null&&Xe(()=>{let l;const u=Et(Pe(this.m,o),s);this.useNesterov?l=Et(Pe(this.c,Et(s,Pe(u,this.m))),i):l=Et(Pe(this.c,u),i),o.assign(u),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Wn(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cue extends sp{static get className(){return"RMSProp"}constructor(t,n=.9,r=0,a=null,i=!1){if(super(),this.learningRate=t,this.decay=n,this.momentum=r,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,a==null&&(this.epsilon=Fe.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Fe.registeredVariables[r],o=!1;this.accumulatedMeanSquares[a]==null&&(this.accumulatedMeanSquares[a]={originalName:`${r}/rms`,variable:Xe(()=>gr(i).variable(o))}),this.accumulatedMoments[a]==null&&(this.accumulatedMoments[a]={originalName:`${r}/momentum`,variable:Xe(()=>gr(i).variable(o))}),this.accumulatedMeanGrads[a]==null&&this.centered&&(this.accumulatedMeanGrads[a]={originalName:`${r}/mg`,variable:Xe(()=>gr(i).variable(o))});const s=Array.isArray(t)?t[a].tensor:t[r];if(s==null)return;const l=this.accumulatedMeanSquares[a].variable,u=this.accumulatedMoments[a].variable;Xe(()=>{const c=Et(Pe(l,this.decay),Pe(Yr(s),1-this.decay));if(this.centered){const f=this.accumulatedMeanGrads[a].variable,d=Et(Pe(f,this.decay),Pe(s,1-this.decay)),h=gn(Pe(s,this.learningRate),Ki(Sn(c,Et(Yr(d),this.epsilon)))),p=Et(Pe(u,this.momentum),h);l.assign(c),f.assign(d),u.assign(p);const v=Sn(i,p);i.assign(v)}else{const f=Et(Pe(l,this.decay),Pe(Yr(s),1-this.decay)),d=Et(Pe(u,this.momentum),gn(Pe(s,this.learningRate),Ki(Et(f,this.epsilon))));l.assign(f),u.assign(d);const h=Sn(i,d);i.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Wn(this.accumulatedMeanSquares.map(t=>t.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Wn(this.accumulatedMeanGrads.map(t=>t.variable)),this.accumulatedMoments!=null&&Wn(this.accumulatedMoments.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&t.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=this.centered?t.length/3:t.length/2,r=!1;this.accumulatedMeanSquares=t.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedMoments=t.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=t.slice(n*2,n*3).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jJe=[iue,oue,sue,lue,uue,cue,Uz];function YJe(){for(const e of jJe)bt(e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a7(e,t,n,r){o(e),n=n??0,r=r??1,s(n,r);let a=0;const i=l=>(l.then(u=>{const c=n+ ++a/e.length*(r-n);return t(c),u}),l);function o(l){pe(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function s(l,u){pe(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),pe(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),pe(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(e.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function XJe(e,t){t==null&&(t={});const n=t.fetchFunc==null?tt().platform.fetch:t.fetchFunc,r=e.map(f=>n(f,t.requestInit,{isBinary:!0})),s=(t.onProgress==null?await Promise.all(r):await a7(r,t.onProgress,0,.5)).map(f=>f.arrayBuffer());return t.onProgress==null?await Promise.all(s):await a7(s,t.onProgress,.5,1)}function qJe(e,t){var n;const r=t.fetchFunc==null?tt().platform.fetch:t.fetchFunc;let a=0,i;return(n=t.onProgress)===null||n===void 0||n.call(t,0),new ReadableStream({pull:async o=>{for(var s;a<e.length;){i||(i=(await r(e[a],t.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await i.read();if(l){a++,i=void 0,(s=t.onProgress)===null||s===void 0||s.call(t,a/e.length);continue}o.enqueue(u);return}o.close()}})}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZJe="application/octet-stream",JJe="application/json";class Gz{constructor(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(pe(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=tt().platform.fetch,pe(t!=null&&t.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(t)&&pe(t.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${t.length}).`),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=cje(t,r);if(n.body.append("model.json",new Blob([JSON.stringify(a)],{type:JJe}),"model.json"),t.weightData!=null){const o=np.join(t.weightData);n.body.append("model.weights.bin",new Blob([o],{type:ZJe}),"model.weights.bin")}const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:pz(t),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw new Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await t.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const r=n.modelTopology,a=n.weightsManifest;if(r==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const t=await this.loadModelJSON();return dje(t,n=>this.loadWeights(n))}async loadStream(){const t=await this.loadModelJSON(),n=await this.getWeightUrls(t.weightsManifest),r=U9(t.weightsManifest),a=()=>qJe(n,this.loadOptions);return Object.assign(Object.assign({},t),{weightSpecs:r,getWeightStream:a})}async getWeightUrls(t){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,a]=QJe(n),i=this.weightPathPrefix||r,o=[],s=[];for(const l of t)for(const u of l.paths)this.weightUrlConverter!=null?s.push(this.weightUrlConverter(u)):o.push(i+u+a);return this.weightUrlConverter&&o.push(...await Promise.all(s)),o}async loadWeights(t){const n=await this.getWeightUrls(t),r=U9(t),a=await XJe(n,this.loadOptions);return[r,a]}}Gz.URL_SCHEME_REGEX=/^https?:\/\//;function QJe(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}function i7(e){return e.match(Gz.URL_SCHEME_REGEX)!=null}const fue=(e,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let n=!0;if(Array.isArray(e)?n=e.every(r=>i7(r)):n=i7(e),n)return due(e,t)}return null};qa.registerSaveRouter(fue);qa.registerLoadRouter(fue);function due(e,t){return new Gz(e,t)}function eQe(e,t){return due(e,t)}function Kz(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(t.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(ot(e.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const a=t.shape,i=a[a.length-1];let o=1;for(let f=0;f<a.length-1;++f)o*=a[f];const s=e.shape,l=a.slice();l.pop();let u=1;for(let f=i;f<n;++f)u*=s[f],l.push(s[f]);const c=[...dn(e.shape).map(f=>f/u),1].slice(0,i);return[l,o,u,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WP=-2,tQe=-1;function jz(e,t,n){const r=e.shape.length;pe(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),pe(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)pe(t[a]+n[a]<=e.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${t[a]+n[a]}) would overflow input.shape[${a}] (${e.shape[a]})`)}function nQe(e){const t=[];let n=0;for(;e>0;)e&1&&t.push(n),e/=2,n++;return t}function Yz(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function hue(e,t,n,r){const a=[...e];for(let i=a.length;i<r.length;i++)a.push(1);for(let i=0;i<n;i++)i===0?a[t]=1:(a.splice(t,0,1),a.pop());return a}function pue(e,t,n){return n<=e?n:n-(t-1)}function vue(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function rQe(e,t,n,r,a,i,o,s,l){const u=e.length;let c=new Array(u),f=new Array(u),d=new Array(u);if(t.length&&n>0){const h=t[0],p=n+1;c=gue(o,h,p,r,e),f=mue(s,h,p,a,e),d=hue(i,h,p,e)}else for(let h=0;h<u;h++)c[h]=bue(o,r,i,e,h,l),f[h]=xue(s,a,i,e,h,l),d[h]=yue(i,h,l);return{begin:c,end:f,strides:d}}function gue(e,t,n,r,a){const i=[...a],o=vue(n,t);for(let s=0;s<i.length;s++)if(o.indexOf(s)>-1)i[s]=0;else{const l=pue(t,n,s);let u=r[l];e&1<<l&&(u=0),i[s]=u}return i}function mue(e,t,n,r,a){const i=[...a],o=vue(n,t);for(let s=0;s<i.length;s++)if(o.indexOf(s)>-1)i[s]=Number.MAX_SAFE_INTEGER;else{const l=pue(t,n,s);let u=r[l];e&1<<l&&(u=Number.MAX_SAFE_INTEGER),i[s]=u}for(let s=0;s<i.length;s++){const l=a[s];i[s]<0&&(i[s]+=l),i[s]=cg(0,i[s],a[s])}return i}function yue(e,t,n){let r=e[t];return(n&1<<t||r==null)&&(r=1),r}function bue(e,t,n,r,a,i){let o=t[a];const s=n[a]||1;(e&1<<a||i&1<<a||o==null)&&(s>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);const l=r[a];return o<0&&(o+=l),o=cg(0,o,l-1),o}function xue(e,t,n,r,a,i){let o=t[a];const s=n[a]||1;(e&1<<a||i&1<<a||o==null)&&(s>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);const l=r[a];return o<0&&(o+=l),s>0?o=cg(0,o,l):o=cg(-1,o,l-1),o}function Xz(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function qz(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function KD(e,t,n){let r;const a=e.shape.length;typeof t=="number"?r=[t,...new Array(a-1).fill(0)]:t.length<a?r=t.concat(new Array(a-t.length).fill(0)):r=t.slice(),r.forEach(o=>{pe(o!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(a).fill(-1):typeof n=="number"?i=[n,...new Array(a-1).fill(-1)]:n.length<a?i=n.concat(new Array(a-n.length).fill(-1)):i=n,i=i.map((o,s)=>o>=0?o:(pe(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${s}.`),e.shape[s]-r[s])),[r,i]}function Zz(e,t,n,r,a,i,o,s,l){let u;if(r==null?(u=new Array(t.length),u.fill(1)):u=r,o!=null&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const f={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l};for(let b=0;b<f.dims;b++)c&&1<<b&s&&f.numAddAxisAfterEllipsis++,1<<b&o&&(c=!0);c||(f.ellipsisMask|=1<<f.dims,f.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};aQe(f,d);let h=!0,p=!0,v=!0;const g=[],m=[];for(let b=0;b<e.length;++b){if(d.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const x=!!(d.shrinkAxisMask&1<<b),_=e[b];if(_===-1){g.push(x?1:-1);continue}const S=[d.beginMask&1<<b,d.endMask&1<<b],C=[d.strides[b]>0?0:-1,d.strides[b]>0?_:_-1];if(x&&d.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&d.strides[b]===1;const k=!!(d.beginMask&1<<b&&d.endMask&1<<b);if(d.beginValid&&d.endValid){if(x){const A=d.begin[b]<0?_+d.begin[b]:d.begin[b];if(d.begin[b]=A,d.end[b]=d.begin[b]+1,A<0||A>=_)throw Error(`slice index ${d.begin[b]} of dimension ${b} out of bounds.`)}else d.begin[b]=o7(d.begin[b],0,d.strides[b],_,S,C),d.end[b]=o7(d.end[b],1,d.strides[b],_,S,C);const I=d.strides[b]===1&&d.begin[b]===0&&d.end[b]===_;h=h&&I,p=p&&(b===0&&d.strides[b]===1||I)}else h=h&&d.strides[b]===1&&k,p=p&&(b===0&&d.strides[b]===1||k);let T,E=!1;if(d.beginValid&&d.endValid?(T=d.end[b]-d.begin[b],E=!0):x?(T=1,E=!0):k&&_>=0&&(d.strides[b]<0?T=-_:T=_,E=!0),E){let I;T===0||T<0!=d.strides[b]<0?I=0:I=Math.trunc(T/d.strides[b])+(T%d.strides[b]!==0?1:0),g.push(I)}else g.push(-1)}for(let b=0;b<d.finalShapeGatherIndices.length;++b){const x=d.finalShapeGatherIndices[b];x>=0?m.push(g[x]):x===WP&&m.push(1)}return{finalShapeSparse:m.filter((b,x)=>d.finalShapeGatherIndices[x]!==WP),finalShape:m,isIdentity:h,sliceDim0:p,isSimpleSlice:v,begin:d.begin,end:d.end,strides:d.strides}}function aQe(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=e.begin!=null,t.endValid=e.end!=null,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(WP),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);e.begin!=null&&(t.begin[n]=e.begin[r]),e.end!=null&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(tQe),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}function o7(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];{const o=e<0?r+e:e;return o<i[0]?i[0]:o>i[1]?i[1]:o}}const iQe=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:jz,computeFlatOffset:qz,computeOutShape:Yz,getNormalizedAxes:rQe,isSliceContinous:Xz,maskToAxes:nQe,parseSliceParams:KD,sliceInfo:Zz,startForAxis:bue,startIndicesWithElidedDims:gue,stopForAxis:xue,stopIndicesWithElidedDims:mue,stridesForAxis:yue,stridesWithElidedDims:hue},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oQe{static sgd(t){return new Uz(t)}static momentum(t,n,r=!1){return new uue(t,n,r)}static rmsprop(t,n=.9,r=0,a=null,i=!1){return new cue(t,n,r,a,i)}static adam(t=.001,n=.9,r=.999,a=null){return new sue(t,n,r,a)}static adadelta(t=.001,n=.95,r=null){return new iue(t,n,r)}static adamax(t=.002,n=.9,r=.999,a=null,i=0){return new lue(t,n,r,a,i)}static adagrad(t,n=.1){return new oue(t,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C0=oQe;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sQe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:e=>e();function wue(){return new Promise(e=>sQe(()=>e()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jz(e,t){const n=e[0].length;e.forEach((a,i)=>{pe(a.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),pe(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=e[0];e.forEach((a,i)=>{for(let o=0;o<n;o++)pe(o===t||a[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${i}] (${a}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function Ec(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var fu;(function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"})(fu||(fu={}));function _ue(e,t,n){let r=new Array;if(n==null&&t==null)return r;if(t==null)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(n==null)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const i=n[a],o=r[r.length-n.length+a],s=r[o];if(i>=0)if(s>=0){if(s!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${a+e}] = ${i} but shape[${a+e}] = ${s}`)}else r[o]=i}return r}function Sue(e){const t={FIRST_DIM_SIZE:fu.FIRST_DIM_SIZE,VALUE_ROWIDS:fu.VALUE_ROWIDS,ROW_LENGTHS:fu.ROW_LENGTHS,ROW_SPLITS:fu.ROW_SPLITS,ROW_LIMITS:fu.ROW_LIMITS,ROW_STARTS:fu.ROW_STARTS},n=[];for(const r of e)if(r in t)n.push(t[r]);else break;return n}function Cue(e){return e.length===0?0:e[0]===fu.FIRST_DIM_SIZE?e.length-1:e.length}function Tue(e,t){if(e==null||t==null)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const i=e[a],o=t[a+1];if(i>=0&&o>=0&&i!==1&&i!==o)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${a-e.length}] = ${i} but ragged tensor input.flatValues.shape[${a-e.length}] = ${o}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qz=30;function jD(e){return e<=Qz?e:kP(e,Math.floor(Math.sqrt(e)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e8(e,t,n){const r=n*(typeof e=="number"?e:e[0]),a=t*(typeof e=="number"?e:e[1]);return[r,a]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FS(e,t,n,r=!0){let a=[];if(r)a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);const i=t.length;for(let o=0;o<i;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(i+1))}return a}function BS(e,t,n=!0){const r=[];if(n){r.push(t);for(let a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{const a=[],i=[];for(let o=1;o<e;++o)o>=t*2+1||o%2===1?i.push(o):a.push(o);r.push(...a),r.push(0),r.push(...i)}return r}function VS(e,t,n,r=!0){const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function t8(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function n8(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YD=1.7580993408473768,XD=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r8=.3275911,a8=.254829592,i8=-.284496736,o8=1.421413741,s8=-1.453152027,l8=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jf(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(e.length*2);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function kue(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Iue(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function Eue(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function u8(e,t){const n=e[t*2],r=e[t*2+1];return{real:n,imag:r}}function Aue(e,t,n,r){e[r*2]=t,e[r*2+1]=n}function Due(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function Nue(e,t,n){const r=(n?2:-2)*Math.PI*(e/t),a=Math.cos(r),i=Math.sin(r);return{real:a,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nM="->",lQe=/->/g,s7=",",l7="...";function c8(e,t){e=e.replace(/\s/g,"");const n=(e.length-e.replace(lQe,"").length)/nM.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${nM}").`);const[r,a]=e.split(nM);pe(r.indexOf(l7)===-1,()=>`The ellipsis notation ("${l7}") is not supported yet.`);const i=r.split(s7),o=i.length;if(t!==o)throw new Error(`Expected ${o} input tensors, received ${t}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<a.length;++d){const h=a[d];if(!i.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);s.indexOf(h)===-1&&s.push(h)}for(let d=0;d<r.length;++d){const h=r[d];s.indexOf(h)===-1&&h!==s7&&s.push(h)}const l=new Array(i.length);for(let d=0;d<o;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error(`Found duplicate axes in input component ${i[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let h=0;h<i[d].length;++h)l[d].push(s.indexOf(i[d][h]))}const u=s.length,c=a.length,f=[];for(let d=c;d<u;++d)f.push(d);return{allDims:s,summedDims:f,idDims:l}}function f8(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)n[a]===-1&&r.push(a);return n=n.filter(a=>a!==-1),{permutationIndices:n,expandDims:r}}function d8(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const i=n[a].shape;for(let o=0;o<t[a].length;++o)r[t[a][o]]===void 0?r[t[a][o]]=i[o]:pe(r[t[a][o]]===i[o],()=>`Expected dimension ${r[t[a][o]]} at axis ${o} of input shaped ${JSON.stringify(i)}, but got dimension ${i[o]}`)}}function h8(e,t){const n=e,r=[];let a=0;e.length===0&&n.push(-1),a=e.length+1;for(let o=0;o<a;++o)r.push([]);const i=[];for(let o=0;o<n.length;++o){const s=n[o],l=uQe(t,s);for(const u of l)i.indexOf(u)===-1&&(r[o].push(u),i.push(u))}return{path:n,steps:r}}function p8(e){return e.every((t,n)=>t===n)}function uQe(e,t){const n=[];for(let r=0;r<e.length;++r)(e[r].length===0||e[r].indexOf(t)!==-1||t===-1)&&n.push(r);return n}function v8(e,t,n=0){let r=[];if(typeof t=="number")pe(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce((o,s)=>(s===-1&&(o+=1),o),0);pe(a<=1,()=>"There should be only one negative value in split array.");const i=t.indexOf(-1);if(i!==-1){const o=t.reduce((s,l)=>l>0?s+l:s);t[i]=e.shape[n]-o}pe(e.shape[n]===t.reduce((o,s)=>o+s),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rue(e){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${e}`}function Mue(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function $ue(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lue(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Oue(e,t){return`size ${e} must be non-negative, not ${t}`}function Pue(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Fue(e,t){const n=ot(e),r=ot(t);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${e} outputShape= ${t}`}function Bue(e,t){const n=ot(e),r=ot(t);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${e} outputShape=${t}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HP(){return"segment ids must be >= 0"}function Vue(){return"segment ids are not increasing"}function zue(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function Wue(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hue(e,t){let n=!1,r;for(e<=Qz?(r=e,n=!0):r=kP(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=kP(e,r+1);return r}function Uue(e,t,n){const r=[],a=e.length;for(let i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function g8(e,t,n,r){const a=t.shape.length,i=e.shape.length;if(r!==0&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(e.shape[f]!==t.shape[f])throw new Error(`x.shape[${f}]: ${e.shape[f]} should be equal to indices.shape[${f}]: ${t.shape[f]}.`);const o=e.shape[n],s=[];let l=1,u=1,c=1;for(let f=0;f<r;++f)s.push(e.shape[f]),l*=e.shape[f];for(let f=r;f<n;f++)s.push(e.shape[f]),u*=e.shape[f];for(let f=r;f<a;f++)s.push(t.shape[f]);for(let f=n+1;f<i;f++)s.push(e.shape[f]),c*=e.shape[f];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:o,outputShape:s}}const cQe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:g8,computeOutShape:Uue,segOpComputeOptimalWindowSize:Hue},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yf(e){try{return e.map(t=>Rh(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function Gue(e){return e.map(t=>ph(t))}const fQe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:a8,ERF_A2:i8,ERF_A3:o8,ERF_A4:s8,ERF_A5:l8,ERF_P:r8,PARALLELIZE_THRESHOLD:Qz,get RowPartitionType(){return fu},SELU_SCALE:XD,SELU_SCALEALPHA:YD,applyActivation:Fz,assertAndGetBroadcastShape:On,assertAxesAreInnerMostDims:Di,assertParamsConsistent:Jz,assignToTypedArray:Aue,axesAreInnerMostDims:wz,calculateShapes:Hg,checkEinsumDimSizes:d8,checkPadOnDimRoundingMode:us,combineLocations:Lle,combineRaggedTensorToTensorShapes:_ue,complexWithEvenIndex:Iue,complexWithOddIndex:Eue,computeConv2DInfo:Ai,computeConv3DInfo:rp,computeDefaultPad:vz,computeDilation2DInfo:MS,computeOptimalWindowSize:jD,computeOutAndReduceShapes:mi,computeOutShape:Ec,computePool2DInfo:Hl,computePool3DInfo:fd,convertConv2DDataFormat:dd,decodeEinsumEquation:c8,eitherStridesOrDilationsAreOne:Zi,expandShapeToKeepDim:Ra,exponent:Nue,exponents:Due,fromStringArrayToUint8:Gue,fromUint8ToStringArray:Yf,getAxesPermutation:da,getBroadcastDims:py,getComplexWithIndex:u8,getEinsumComputePath:h8,getEinsumPermutation:f8,getFusedBiasGradient:Pz,getFusedDyActivation:Oz,getImageCenter:e8,getInnerMostAxes:Ca,getPermuted:BS,getRaggedRank:Cue,getReductionAxes:ja,getReshaped:FS,getReshapedPermuted:VS,getRowPartitionTypesHelper:Sue,getSliceBeginCoords:t8,getSliceSize:n8,getSparseFillEmptyRowsIndicesDenseShapeMismatch:Rue,getSparseFillEmptyRowsNegativeIndexErrorMessage:Mue,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:$ue,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:Pue,getSparseReshapeInputOutputMismatchErrorMessage:Bue,getSparseReshapeInputOutputMultipleErrorMessage:Fue,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:Lue,getSparseReshapeNegativeOutputDimErrorMessage:Oue,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:Wue,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:HP,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:Vue,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:zue,getUndoAxesPermutation:ap,isIdentityPermutation:p8,log:IKe,mergeRealAndImagArrays:jf,prepareAndValidate:Kz,prepareSplitSize:v8,segment_util:cQe,shouldFuse:Bz,slice_util:iQe,splitRealAndImagArrays:kue,stridesOrDilationsArePositive:gg,tupleValuesAreOne:vg,upcastType:Ts,validateDefaultValueShape:Tue,validateInput:PZe,validateUpdateShape:Qle,warn:$s},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */YJe();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kue={kernelName:BA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,PS(Ut(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dQe={kernelName:O_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Yr(Ut(n,"float32")),a=Ki(Sn(Cr(1),r));return ya(gn(e,a))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hQe={kernelName:P_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Ki(Sn(Yr(Ut(n,"float32")),1));return gn(e,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pQe={kernelName:Qy,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{let s=e;const l=ja(n.shape,a);return l.length>0&&(s=pn(s,l)),He(s,n.shape)},b:()=>{let s=e;const l=ja(r.shape,a);return l.length>0&&(s=pn(s,l)),He(s,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vQe={kernelName:TV,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach((r,a)=>{n[a]=()=>e.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gQe={kernelName:VA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gr(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mQe={kernelName:zA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gr(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yQe={kernelName:F_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Ki(Sn(Cr(1),Yr(Ut(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bQe={kernelName:B_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Ki(Et(Cr(1),Yr(Ut(n,"float32"))));return gn(e,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xQe={kernelName:W_,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=Et(Yr(n),Yr(r));let l=Pe(e,gn(r,s));const u=ja(n.shape,a);return u.length>0&&(l=pn(l,u)),He(l,n.shape)},b:()=>{const s=Et(Yr(n),Yr(r));let l=ya(Pe(e,gn(n,s)));const u=ja(r.shape,a);return u.length>0&&(l=pn(l,u)),He(l,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wQe={kernelName:V_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Et(Yr(Ut(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Qe={kernelName:z_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Sn(Cr(1),Yr(Ut(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SQe(e,t,n,r,a,i){const o=De(e,"dy","avgPool3dGrad"),s=De(t,"input","avgPool3dGrad");let l=o,u=s,c=!1;s.rank===4&&(c=!0,l=He(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),u=He(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),pe(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),pe(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),us("avgPool3dGrad",a,i);const f={dy:l,input:u},d={filterSize:n,strides:r,pad:a,dimRoundingMode:i},h=Fe.runKernel(AV,f,d);return c?He(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const CQe=Ue({avgPool3dGrad_:SQe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TQe={kernelName:HA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:i,pad:o,dimRoundingMode:s}=n;return{x:()=>CQe(e,r,a,i,o,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kQe(e,t,n,r,a){const i=De(e,"dy","avgPoolGrad"),o=De(t,"input","avgPoolGrad");pe(o.rank===i.rank,()=>`Rank of input (${o.rank}) does not match rank of dy (${i.rank})`);let s=o,l=i,u=!1;o.rank===3&&(u=!0,s=He(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=He(i,[1,i.shape[0],i.shape[1],i.shape[2]])),pe(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),pe(s.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${s.rank}.`);const c={dy:l,input:s},f={filterSize:n,strides:r,pad:a},d=Fe.runKernel(EV,c,f);return u?He(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const IQe=Ue({avgPoolGrad_:kQe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EQe={kernelName:WA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:i,pad:o}=n;return{x:()=>IQe(e,r,a,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AQe={kernelName:UA,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:i,transposeB:o}=n;return!i&&!o?{a:()=>Tr(e,a,!1,!0),b:()=>Tr(r,e,!0,!1)}:!i&&o?{a:()=>Tr(e,a,!1,!1),b:()=>Tr(e,r,!0,!1)}:i&&!o?{a:()=>Tr(a,e,!1,!0),b:()=>Tr(r,e,!1,!1)}:{a:()=>Tr(a,e,!0,!0),b:()=>Tr(e,r,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DQe={kernelName:GA,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>Az(e,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NQe={kernelName:SKe,gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,i=r.shape,o=Array.from(i);for(let l=a.length-1;l>=0;l--)if(a[l]===i[l])o[l]=1;else if(a[l]!==1)throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${i}].`);const s=[];for(let l=0;l<o.length;l++)o[l]>1&&s.push(l);return{x:()=>pn(e,s,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RQe={kernelName:H_,gradFunc:e=>({x:()=>e.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MQe={kernelName:U_,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Qe={kernelName:G_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:a,clipValueMax:i}=n;return{x:()=>xo(Gf(zg(r,a),t1(r,i)),e,gr(e))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LQe={kernelName:KA,inputsToSave:["x"],gradFunc:Kue.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OQe={kernelName:jA,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map(l=>l.shape),{axis:a}=n,i=jn(a,t[0].shape)[0],o=r.map(l=>l[i]);return Gs(e,o,i).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PQe={kernelName:YA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{dilations:i,strides:o,pad:s,dataFormat:l}=n;return pe(vg(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>yz(r.shape,e,a,o,s,l),filter:()=>Lz(r,e,a.shape,o,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FQe={kernelName:XA,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{strides:i,pad:o,dataFormat:s,dimRoundingMode:l}=n;return{dy:()=>mg(e,a,i,o,s,1,l),filter:()=>Lz(e,r,a.shape,i,o,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BQe(e,t,n,r,a){let i=e;e.rank===4&&(i=He(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let o=t;o.rank===4&&(o=He(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),pe(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),pe(o.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`),pe(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),pe(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),pe(o.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`);const s={x:i,dy:o},l={strides:r,pad:a,filterShape:n};return Fe.runKernel($V,s,l)}const VQe=Ue({conv3DBackpropFilter_:BQe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zQe={kernelName:qA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:i}=n;pe(vg(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[o,s]=t;return{x:()=>Nle(o.shape,e,s,a,i),filter:()=>VQe(o,e,s.shape,a,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WQe={kernelName:K_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(ya(Xle(Ut(n,"float32"))),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HQe={kernelName:j_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(qle(Ut(n,"float32")),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UQe={kernelName:ZA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a,exclusive:i,reverse:o}=n;return{x:()=>{const s=da([a],r.rank);let l=Mle(e,a,i,!o);return s!=null&&(l=hr(l,s)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GQe={kernelName:JA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:i,dimRoundingMode:o}=n,s=r??[1,1];pe(vg(s),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);const[l,u]=t;return pe(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),pe(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),pe(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),pe(Zi(a,s),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${s}'.`),us("depthwiseConv2d",i,o),{x:()=>nJe(l.shape,e,u,a,i,s,o),filter:()=>eJe(l,e,u.shape,a,i,s,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KQe={kernelName:QA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,i={x:r,filter:a,dy:e},o={x:r,filter:a,dy:e};return{x:()=>Fe.runKernel(IP,i,n),filter:()=>Fe.runKernel(EP,o,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jQe={kernelName:X_,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>Fe.runKernel(HV,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YQe={kernelName:q_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=Pe(Bc(ya(Yr(n))),2/Math.sqrt(Math.PI));return{x:()=>Pe(e,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XQe={kernelName:Z_,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qQe={kernelName:tD,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>He(e,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZQe={kernelName:J_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Bc(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JQe={kernelName:Q_,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QQe={kernelName:eS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=gn(e,Ut(r,"float32")),l=ja(n.shape,a);return l.length>0?He(pn(s,l),n.shape):s},b:()=>{let s=Pe(e,Ut(n,"float32"));const l=ja(r.shape,a);l.length>0&&(s=He(pn(s,l),r.shape));const u=Yr(r);return ya(gn(s,Ut(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eet={kernelName:nD,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[a,i,o,s]=t,l=s??Cr(1),u=ja(i.shape,a.shape),c=[];if(i.rank===1){for(let x=0;x<a.shape.length-1;++x)c.push(a.shape[x]);c.push(1)}const f=Sn(a,i),d=Pe(e,l),h=Kle(Et(o,Cr(r))),p=Pe(Pe(Pe(h,h),h),Cr(-.5));return{x:()=>i.rank===1?He(Pe(Pe(e,gu(He(h,[1,1,1,i.shape[0]]),c)),l),a.shape):He(Pe(Pe(e,h),l),a.shape),mean:()=>{let x=Pe(Pe(h,Cr(-1)),d);return i.rank===1&&(x=pn(x,u)),He(x,i.shape)},variance:()=>{let x=Pe(Pe(p,f),d);return i.rank===1&&(x=pn(x,u)),He(x,i.shape)},scale:()=>{const x=Pe(f,h);let _=Pe(e,x);return i.rank===1&&(_=pn(_,u)),He(_,i.shape)},offset:()=>{let x=e;return i.rank===1&&(x=pn(x,u)),He(x,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tet={kernelName:rD,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,a]=t,{axis:i,batchDims:o}=n,s=jn(i,r.shape)[0],l=(u,c,f)=>()=>{const d=u.shape,h=c.size,p=d.slice(0,s),v=p.length,g=d.slice(i,d.length).slice(1),m=g.length,y=u7(0,v),b=u7(v+1,v+1+m),x=c7([p,[h],g]),_=He(f,x),S=He(c,[h]),C=c7([[v],y,b]),k=hr(_,C);let T=tue(k,S,u.shape[s]);const E=ap(C);return T=hr(T,E),T};if(o===1){const u=r.shape[0],c=r.split(u,0);return{x:()=>Kf(c.map((h,p)=>l(h,a.slice(p,1),e.slice(p,1))())).reshape(r.shape),indices:()=>a}}else return{x:l(r,a,e),indices:()=>a}}};function u7(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function c7(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const net={kernelName:tS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>gr(n),b:()=>gr(r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ret={kernelName:nS,gradFunc:e=>({x:()=>Ut(e,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aet={kernelName:rS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iet={kernelName:aS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oet={kernelName:iS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const set={kernelName:iD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:a}=n,i=Js(r,0);return{x:()=>xo(i,e,Pe(e,a))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uet={kernelName:sS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Et(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cet={kernelName:oS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Ut(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fet={kernelName:TKe,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;return{logits:()=>{const o=Bc(r);return Sn(e,Pe(pn(e,a,!0),o))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function det(e,t,n,r=5,a=1,i=1,o=.5){const s={x:e,y:t,dy:n},l={depthRadius:r,bias:a,alpha:i,beta:o};return Fe.runKernel(XV,s,l)}const het=Ue({localResponseNormalizationBackprop_:det});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pet={kernelName:fD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:i,bias:o,alpha:s,beta:l}=n;return{x:()=>het(r,a,e,i,o,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jue(e,t,n,r){return t.rank<n.rank&&(t=He(t,Ra(t.shape,r))),e.rank<n.rank&&(e=He(e,Ra(e.shape,r))),{x:()=>Pe(e,Ut(Fc(n,t),e.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f7={kernelName:dD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:a}=r,i=t[0],o=t[1],s=jn(a,i.shape),l=jue(e,o,i,s);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vet={kernelName:lS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Pe(e,Ut(zg(n,r),"float32")),b:()=>Pe(e,Ut(wI(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function get(e,t,n,r,a,i,o){const s=De(e,"dy","maxPool3dGrad"),l=De(t,"input","maxPool3dGrad"),u=De(n,"output","maxPool3dGrad");let c=s,f=l,d=u,h=!1;l.rank===4&&(h=!0,c=He(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),f=He(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=He(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),pe(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),pe(f.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`),pe(d.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),us("maxPool3dGrad",i,o);const p={dy:c,input:f,output:d},v={filterSize:r,strides:a,pad:i,dimRoundingMode:o},g=Fe.runKernel(ZV,p,v);return h?He(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const met=Ue({maxPool3dGrad_:get});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yet={kernelName:pD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=n;return{x:()=>met(e,r,a,i,o,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bet(e,t,n,r,a,i,o){const s=De(e,"dy","maxPoolGrad"),l=De(t,"input","maxPoolGrad"),u=De(n,"output","maxPoolGrad");pe(l.rank===s.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${s.rank})`),pe(s.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${s.rank}.`),pe(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),us("maxPoolGrad",i,o);const c={dy:s,input:l,output:u},f={filterSize:r,strides:a,pad:i,dimRoundingMode:o};return Fe.runKernel(qV,c,f)}const xet=Ue({maxPoolGrad_:bet});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wet={kernelName:hD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:i,strides:o,pad:s}=n;return{x:()=>xet(e,r,a,i,o,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _et={kernelName:vD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n,i=jn(a,r.shape),s=mi(r.shape,i)[1],l=ot(s);return{x:()=>{const c=r.shape.slice();i.forEach(h=>{c[h]=1});const f=He(e,c);return gn(Pe(f,op(r.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cet={kernelName:gD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:a}=r,[i,o]=t,s=jn(a,i.shape),l=jue(e,o,i,s);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tet={kernelName:uS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Pe(e,Ut(t1(n,r),"float32")),b:()=>Pe(e,Ut(Js(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ket={kernelName:mD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,i=a.map(o=>o[0]);return{x:()=>Kr(e,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iet={kernelName:cS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=ja(n.shape,a);return s.length>0?He(pn(e,s),n.shape):e},b:()=>{const s=Pe(e,ya(GD(gn(n,r)))),l=ja(r.shape,a);return l.length>0?He(pn(s,l),r.shape):s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eet={kernelName:fS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=Pe(e,Ut(r,"float32")),l=ja(n.shape,a);return l.length>0?He(pn(s,l),n.shape):s},b:()=>{const s=Pe(e,Ut(n,"float32")),l=ja(r.shape,a);return l.length>0?He(pn(s,l),r.shape):s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aet={kernelName:yD,gradFunc:e=>({x:()=>ya(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Det={kernelName:wD,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>ni(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Net={kernelName:xD,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ret={kernelName:_D,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return xg(e,r).map(i=>()=>i)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d7={kernelName:SD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,i=a.map(o=>o[0]);return{x:()=>Kr(e,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Met={kernelName:dS,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,a]=t,i=n,o=r,s=On(i.shape,o.shape);return{a:()=>{const c=Ut(o,"float32");let f=Pe(e,Pe(c,yg(i,Sn(c,Cr(1)))));const d=ja(i.shape,s);return d.length>0&&(f=pn(f,d)),He(f,i.shape)},b:()=>{const c=Js(i,0),f=xo(c,Vc(i),gr(i));let d=Pe(e,Pe(a,f));const h=ja(o.shape,s);return h.length>0&&(d=pn(d,h)),He(d,o.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $et={kernelName:CD,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,a=Js(n,0);return{x:()=>xo(a,e,Pe(e,r)),alpha:()=>{let i=xo(a,gr(e),Pe(e,n));const o=ja(r.shape,e.shape);return o.length>0&&(i=pn(i,o)),He(i,r.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Let(e,t,n){const r=e.shape.slice();r[n]=1;const a=He(t,r),i=VP(e,n,!0,!1),o=VP(e,n,!0,!0),s=Pe(i,o);return Pe(a,s)}function Oet(e,t,n){const r=e.shape.length,a=r-n.length,i=da(n,r);let o=e;i!=null&&(o=hr(e,i));const s=o.shape.slice(),u=s.splice(r-n.length,n.length).reduce((d,h)=>d*h,1);s.push(u);const c=o.reshape(s);let f=Let(c,t,a);if(f=f.reshape(o.shape),i!=null){const d=ap(i);f=hr(f,d)}return f}const Pet={kernelName:TD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;let i=[];return a==null?i=r.shape.map((o,s)=>s):typeof a=="number"?i=[a]:i=a,{x:()=>Oet(r,e,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fet={kernelName:Y_,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=gn(e,Ut(r,"float32")),l=ja(n.shape,a);return l.length>0?He(pn(s,l),n.shape):s},b:()=>{let s=Pe(e,Ut(n,"float32"));const l=ja(r.shape,a);l.length>0&&(s=He(pn(s,l),r.shape));const u=Yr(r);return ya(gn(s,Ut(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bet={kernelName:hS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,ya(Yr(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vet={kernelName:vS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=Pe(t1(n,6),PS(n));return{x:()=>Pe(e,Ut(r,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zet={kernelName:pS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Ut(PS(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wet={kernelName:kD,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>He(e,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Het={kernelName:ED,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>Fe.runKernel(az,a,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uet={kernelName:ID,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>Fe.runKernel(rz,a,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Get={kernelName:AD,gradFunc:(e,t,n)=>{const{dims:r}=n,a=jn(r,e.shape);return{x:()=>bg(e,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ket={kernelName:gS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jet={kernelName:mS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ya(gn(e,Pe(yg(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yet={kernelName:DD,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>Ut(gr(n),"float32"),t:()=>Pe(e,Ut(n,e.dtype)),e:()=>Pe(e,Ut(Tz(n),e.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xet={kernelName:yS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Js(n,Cr(0)),a=Cr(YD),i=Cr(XD),o=Pe(e,i),s=Pe(Pe(e,a),Bc(Ut(n,"float32")));return xo(r,o,s)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qet={kernelName:_S,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Pe(n,Sn(Cr(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zet={kernelName:wS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jet={kernelName:bS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(bz(Ut(n,"float32")),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qet={kernelName:xS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(Rle(Ut(n,"float32")),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ett={kernelName:ND,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:a,size:i}=n,o=r.shape,[s,l]=KD(r,a,i),u=[];for(let c=0;c<e.rank;c++)u.push([s[c],o[c]-s[c]-l[c]]);return{x:()=>Ez(e,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ttt={kernelName:LD,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:a}=n,i=!0,o=Pe(e,r);return{logits:()=>Sn(o,Pe(pn(o,[a],i),r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ntt={kernelName:SS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,e1(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h7={kernelName:MD,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>mz(e,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p7={kernelName:$D,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>Xo(e,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rtt={kernelName:CS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Pe(Ki(Ut(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const att={kernelName:iz,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Pe(Ut(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const itt={kernelName:TS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=Cr(2);return{a:()=>Pe(e,Pe(a,Sn(n,r))),b:()=>Pe(e,Pe(a,Sn(r,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ott={kernelName:DS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const stt={kernelName:kS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{let s=e;const l=ja(n.shape,a);return l.length>0&&(s=pn(s,l)),He(s,n.shape)},b:()=>{let s=e;const l=ja(r.shape,a);return l.length>0&&(s=pn(s,l)),He(ya(s),r.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ltt={kernelName:RD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,a=r.shape.slice(),{axis:i}=n;jn(i,r.shape).forEach(u=>{a[u]=1});const s=He(e,a),l=Pe(s,op(r.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const utt={kernelName:IS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Yr(bz(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ctt={kernelName:ES,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(Sn(Cr(1),Yr(n)),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ftt={kernelName:AS,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:a}=n;return{x:()=>{let o=gr(r);if(r.rank===1)for(let s=0;s<a[0];++s)o=Et(o,Kr(e,[s*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let s=0;s<a[0];++s)for(let l=0;l<a[1];++l)o=Et(o,Kr(e,[s*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let s=0;s<a[0];++s)for(let l=0;l<a[1];++l)for(let u=0;u<a[2];++u)o=Et(o,Kr(e,[s*r.shape[0],l*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let s=0;s<a[0];++s)for(let l=0;l<a[1];++l)for(let u=0;u<a[2];++u)for(let c=0;c<a[3];++c)o=Et(o,Kr(e,[s*r.shape[0],l*r.shape[1],u*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dtt={kernelName:Rm,gradFunc:(e,t,n)=>{const r=n,{perm:a}=r,i=ap(a);return{x:()=>hr(e,i)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const htt={kernelName:OD,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>Kf(e,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ptt={kernelName:PD,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vtt(e,n)}}};function vtt(e,t){const n=ip(t,gr(t)),r=_z(e,n);let a=zg(t,Cr(0,"int32"));const i=r.rank-a.rank;for(let s=0;s<i;++s)a=zo(a,s+1);a=Gf(a,op(r.shape,"bool"));const o=gr(r);return xo(a,r,o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gtt={kernelName:FD,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mtt=[Kue,dQe,hQe,pQe,vQe,gQe,mQe,yQe,bQe,xQe,wQe,_Qe,TQe,EQe,AQe,DQe,NQe,RQe,MQe,$Qe,LQe,OQe,FQe,PQe,zQe,WQe,HQe,UQe,GQe,KQe,Fet,jQe,YQe,XQe,qQe,ZQe,QQe,JQe,eet,tet,net,ret,aet,iet,oet,set,uet,cet,fet,pet,f7,f7,vet,yet,wet,_et,Cet,Tet,ket,Iet,Eet,Aet,Det,Net,Ret,d7,d7,Met,$et,Pet,Bet,Vet,zet,Wet,Het,Uet,Get,Ket,jet,Yet,Xet,qet,Zet,Jet,Qet,ett,ttt,ntt,h7,h7,p7,p7,rtt,itt,att,ott,stt,ltt,utt,ctt,ftt,dtt,htt,ptt,gtt];for(const e of mtt)EKe(e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.abs=function(){return this.throwIfDisposed(),oo(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.acos=function(){return this.throwIfDisposed(),Hje(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.acosh=function(){return this.throwIfDisposed(),Gje(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.add=function(e){return this.throwIfDisposed(),Et(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.all=function(e,t){return this.throwIfDisposed(),Ele(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.any=function(e,t){return this.throwIfDisposed(),FP(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.argMax=function(e){return this.throwIfDisposed(),hw(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.argMin=function(e){return this.throwIfDisposed(),qje(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.asScalar=function(){return this.throwIfDisposed(),pe(this.size===1,()=>"The array must have only 1 element."),He(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.asType=function(e){return this.throwIfDisposed(),Ut(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as1D=function(){return this.throwIfDisposed(),He(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as2D=function(e,t){return this.throwIfDisposed(),He(this,[e,t])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),He(this,[e,t,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),He(this,[e,t,n,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),He(this,[e,t,n,r,a])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.asin=function(){return this.throwIfDisposed(),Jje(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.asinh=function(){return this.throwIfDisposed(),eYe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.atan=function(){return this.throwIfDisposed(),nYe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.atan2=function(e){return this.throwIfDisposed(),aYe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.atanh=function(){return this.throwIfDisposed(),oYe(this)};it().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),gz(this,e,t,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),mz(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),zD(this,e,t,n,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.broadcastTo=function(e){return this.throwIfDisposed(),cx(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cast=function(e){return this.throwIfDisposed(),Ut(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.ceil=function(){return this.throwIfDisposed(),MYe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Xs(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Fa&&(e=[e]),Xo([this,...e],t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Ale(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Dle(this,e,t,n,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),mg(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cos=function(){return this.throwIfDisposed(),bz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cosh=function(){return this.throwIfDisposed(),Rle(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),VP(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Mle(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),aXe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),xz(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),sXe(this,e,t,n,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.divNoNan=function(e){return this.throwIfDisposed(),dXe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.div=function(e){return this.throwIfDisposed(),gn(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.dot=function(e){return this.throwIfDisposed(),pXe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.elu=function(){return this.throwIfDisposed(),HD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.equal=function(e){return this.throwIfDisposed(),Fc(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.erf=function(){return this.throwIfDisposed(),$le(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),kXe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.exp=function(){return this.throwIfDisposed(),Bc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.expandDims=function(e){return this.throwIfDisposed(),zo(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.expm1=function(){return this.throwIfDisposed(),DXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.fft=function(){return this.throwIfDisposed(),Jle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.flatten=function(){return this.throwIfDisposed(),He(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.floor=function(){return this.throwIfDisposed(),GD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.floorDiv=function(e){return this.throwIfDisposed(),Ile(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.gather=function(e,t,n){return this.throwIfDisposed(),_z(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.greaterEqual=function(e){return this.throwIfDisposed(),zg(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.greater=function(e){return this.throwIfDisposed(),Js(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.ifft=function(){return this.throwIfDisposed(),zP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.irfft=function(){return this.throwIfDisposed(),SZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.isFinite=function(){return this.throwIfDisposed(),BXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.isInf=function(){return this.throwIfDisposed(),zXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.isNaN=function(){return this.throwIfDisposed(),HXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Cz(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.lessEqual=function(e){return this.throwIfDisposed(),t1(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.less=function(e){return this.throwIfDisposed(),wI(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),YXe(this,e,t,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logSigmoid=function(){return this.throwIfDisposed(),tqe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Ble(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Vle(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.log=function(){return this.throwIfDisposed(),Vc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.log1p=function(){return this.throwIfDisposed(),Fle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logicalAnd=function(e){return this.throwIfDisposed(),Gf(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logicalNot=function(){return this.throwIfDisposed(),Tz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logicalOr=function(e){return this.throwIfDisposed(),zle(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logicalXor=function(e){return this.throwIfDisposed(),uqe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Tr(this,e,t,n)};it().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),kz(this,e,t,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.max=function(e,t){return this.throwIfDisposed(),Tu(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.maximum=function(e){return this.throwIfDisposed(),ip(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.mean=function(e,t){return this.throwIfDisposed(),Aa(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.min=function(e,t){return this.throwIfDisposed(),xI(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.minimum=function(e){return this.throwIfDisposed(),gw(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),mqe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.mod=function(e){return this.throwIfDisposed(),bqe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.mul=function(e){return this.throwIfDisposed(),Pe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.neg=function(){return this.throwIfDisposed(),ya(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.norm=function(e,t,n){return this.throwIfDisposed(),UD(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.notEqual=function(e){return this.throwIfDisposed(),_I(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),Wle(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.onesLike=function(){return this.throwIfDisposed(),Bl(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.pad=function(e,t){return this.throwIfDisposed(),Ez(this,e,t)};it().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),Aqe(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.pow=function(e){return this.throwIfDisposed(),yg(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.prelu=function(e){return this.throwIfDisposed(),Dz(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.prod=function(e,t){return this.throwIfDisposed(),Rqe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.reciprocal=function(){return this.throwIfDisposed(),rZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.relu=function(){return this.throwIfDisposed(),Wg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.relu6=function(){return this.throwIfDisposed(),Ule(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.reshapeAs=function(e){return this.throwIfDisposed(),He(this,e.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.reshape=function(e){return this.throwIfDisposed(),He(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),rue(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),aue(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.reverse=function(e){return this.throwIfDisposed(),bg(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.rfft=function(){return this.throwIfDisposed(),kZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.round=function(){return this.throwIfDisposed(),Gle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.rsqrt=function(){return this.throwIfDisposed(),Kle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.selu=function(){return this.throwIfDisposed(),jle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Yle(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sigmoid=function(){return this.throwIfDisposed(),e1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sign=function(){return this.throwIfDisposed(),dZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sin=function(){return this.throwIfDisposed(),Xle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sinh=function(){return this.throwIfDisposed(),qle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.slice=function(e,t){return this.throwIfDisposed(),Kr(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.softmax=function(e){return this.throwIfDisposed(),$z(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.softplus=function(){return this.throwIfDisposed(),$S(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Az(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.split=function(e,t){return this.throwIfDisposed(),Gs(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sqrt=function(){return this.throwIfDisposed(),Ki(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.square=function(){return this.throwIfDisposed(),Yr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.squaredDifference=function(e){return this.throwIfDisposed(),EZe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.squeeze=function(e){return this.throwIfDisposed(),OS(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Fa?[this,e]:[this,...e];return Kf(n,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.step=function(e){return this.throwIfDisposed(),PS(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.stridedSlice=function(e,t,n,r,a,i,o,s){return this.throwIfDisposed(),MZe(this,e,t,n,r,a,i,o,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sub=function(e){return this.throwIfDisposed(),Sn(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sum=function(e,t){return this.throwIfDisposed(),pn(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.tan=function(){return this.throwIfDisposed(),LZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.tanh=function(){return this.throwIfDisposed(),VD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.tile=function(e){return this.throwIfDisposed(),gu(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.toBool=function(){return this.throwIfDisposed(),Ut(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.toFloat=function(){return this.throwIfDisposed(),Ut(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.toInt=function(){return this.throwIfDisposed(),Ut(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.topk=function(e,t){return this.throwIfDisposed(),BZe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.transpose=function(e){return this.throwIfDisposed(),hr(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.unique=function(e){return this.throwIfDisposed(),WZe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),tue(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.unstack=function(e){return this.throwIfDisposed(),xg(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.where=function(e,t){return this.throwIfDisposed(),xo(e,this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.zerosLike=function(){return this.throwIfDisposed(),gr(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class dc extends Error{constructor(t){super(t),Object.setPrototypeOf(this,dc.prototype)}}class Il extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Il.prototype)}}class $e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,$e.prototype)}}class Fn extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Fn.prototype)}}class m8 extends Error{constructor(t){super(t),Object.setPrototypeOf(this,m8.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Yue{constructor(t){this.maxEntries=t||100,this.cache=new Map}get(t){let n;return this.cache.has(t)&&(n=this.cache.get(t),this.cache.delete(t),this.cache.set(t,n)),n}put(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(t){if(t<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${t}.`);if(this.maxEntries>t)for(let n=0;n<this.maxEntries-t;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function wg(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}else{const n=new Array(t);return n.fill(e),n}}function hc(e,t){if(!e)throw new m8(t)}function v7(e,t){let n=0;for(const r of e)r===t&&n++;return n}function Wo(e){return e.length===1?e[0]:e}function Rr(e){return Array.isArray(e)?e:[e]}function wf(e){const n=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function cv(e){return e.length<=1||e.indexOf("_")===-1?e:e.replace(/[_]+(\w|$)/g,(t,n)=>n.toUpperCase())}let tl={};function y8(e){if(e==null)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function UP(e){if(!(e==null||typeof e!="object"))if(Array.isArray(e))e.forEach(t=>UP(t));else{const t=Object.keys(e);for(const n of t){const r=e[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?e[n]=r.value:UP(r))}}}function zS(e,t={},n={},r="object",a=!1){if(typeof e=="string"){const i=e;let o;if(i in n)o=n[i];else if(i in tl)o=tl[i];else if(o=t[i],o==null)throw new $e(`Unknown ${r}: ${e}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return o}else{const i=e;if(i.className==null||i.config==null)throw new $e(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const o=i.className;let s,l;if(o in n?[s,l]=n[o]:o in tl?[s,l]=tl.className:o in t&&([s,l]=t[o]),s==null)throw new $e(`Unknown ${r}: ${o}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const h of Object.keys(tl))u[h]=tl[h];for(const h of Object.keys(n))u[h]=n[h];const c=i.config;c.customObjects=u;const f=Object.assign({},tl);for(const h of Object.keys(n))tl[h]=n[h];UP(i.config);const d=l(s,i.config,n,a);return tl=Object.assign({},f),d}else{const u=Object.assign({},tl);for(const f of Object.keys(n))tl[f]=n[f];const c=new s(i.config);return tl=Object.assign({},u),c}}}function ytt(e,t){return e<t?-1:e>t?1:0}function e2(e,t){return-1*ytt(e,t)}function vh(e){if(e==null)return e;const t=[];for(const n of e)t.indexOf(n)===-1&&t.push(n);return t}function btt(e){if(e==null)throw new $e(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function Gg(e,t,n){if(n!=null&&e.indexOf(n)<0)throw new $e(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function b8(e,t,n=0,r=1/0){return hc(n>=0),hc(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(a=>typeof a===t)}function ri(e,t){Array.isArray(e)?(pe(e.length>0,()=>`${t} is unexpectedly an empty array.`),e.forEach((n,r)=>ri(n,`element ${r+1} of ${t}`))):pe(Number.isInteger(e)&&e>0,()=>`Expected ${t} to be a positive integer, but got ${Xue(e)}.`)}function Xue(e){return e===null?"null":Array.isArray(e)?"["+e.map(t=>Xue(t)).join(",")+"]":typeof e=="string"?`"${e}"`:`${e}`}function xtt(e,t,n){let r=n!=null?n():Bo(),a;return(...o)=>{const s=n!=null?n():Bo();return s-r<t||(r=s,a=e(...o)),a}}function que(e){return e==="relu"?"relu":e==="linear"?"linear":e==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let wtt=0;function Zue(){return wtt++}const t2={};function qD(e=""){return e in t2||(t2[e]=0),t2[e]+=1,e+t2[e].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const _tt=["channelsFirst","channelsLast"],Stt=["nearest","bilinear"],Ctt=["valid","same","causal"],Ttt=["max","avg"],ktt=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const T0=new Map;function Ta(e){Gg(_tt,"DataFormat",e)}function Itt(e){Gg(Stt,"InterpolationFormat",e)}function Qs(e){Gg(Ctt,"PaddingMode",e)}function Jue(e){Gg(Ttt,"PoolMode",e)}const fx=[],g7="/";function zv(e,t){fx.push(e);try{const n=t();return fx.pop(),n}catch(n){throw fx.pop(),n}}function Ett(){return fx.length===0?"":fx.join(g7)+g7}function Que(e){if(!tce(e))throw new Error("Not a valid tensor name: '"+e+"'");return Ett()+e}function ece(e){if(!tce(e))throw new Error("Not a valid tensor name: '"+e+"'");T0.has(e)||T0.set(e,0);const t=T0.get(e);if(T0.set(e,T0.get(e)+1),t>0){const n=`${e}_${t}`;return T0.set(n,1),n}else return e}const Att=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function tce(e){return!!e.match(Att)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Dtt(e){return e===parseInt(e.toString(),10)}function gh(e,t,n){t==null&&(t=0),n==null&&(n=e.length);let r=1;for(let a=t;a<n;++a)r*=e[a];return r}function gy(e){if(e.length===0)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function Mh(e){if(e.length===0)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function Ou(e,t){if(t<e)throw new $e(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let rM;function Va(){return rM==null&&(rM=nje().epsilon()),rM}function Pu(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ac(e,t){return Ut(e,t)}function WS(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),He(e,n)}function Ntt(e,t){return Xe(()=>{if(e.shape.length!==2)throw new $e(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);const n=WS(e,1);return GP(n,[1,t,1])})}function Rtt(e){const t=[gh(e.shape)];return He(e,t)}function Mtt(e){if(e.rank<=1)throw new $e(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],gh(e.shape,1)];return He(e,t)}function Wv(e,t,n){return Xe(()=>{switch(e.rank){case 1:return Rz(e,t,n);case 2:return Zle(e,[t,0],[n,e.shape[1]]);case 3:return Mz(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return CI(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Kr(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Kr(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new $e(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}})}function aM(e,t,n){return Xe(()=>{switch(e.rank){case 1:return Rz(e,t,n);case 2:return Zle(e,[0,t],[e.shape[0],n]);case 3:return Mz(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return CI(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new $e(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function n2(e,t,n,r){return Xe(()=>{switch(e.rank){case 1:return Rz(e,t,n);case 2:switch(r){case 1:return Wv(e,t,n);case 2:return aM(e,t,n);default:throw new $e(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Wv(e,t,n);case 2:return Mz(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return aM(e,t,n);default:throw new $e(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Wv(e,t,n);case 2:return CI(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return CI(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return aM(e,t,n);default:throw new $e(`The axis is not within the rank of the tensor ${r}`)}default:throw new $e(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function x8(e,t=-1){let n;return t<0&&(n=e[0].rank,n!==0?t=n:t=0),t===e[0].rank&&(t=-1),Xo(e,t)}function m7(e,t){switch(e.rank){case 1:return OYe([e,t]);case 2:return FYe([e,t],0);case 3:return VYe([e,t],0);case 4:return WYe([e,t],0);default:throw new $e(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function GP(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new $e(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return gu(e,t)}function ZD(e,t=0,n=1,r,a){return Qqe(e,t,n,r,a)}function Dc(e,t,n,r){if(e.rank<2||t.rank<2)throw new Fn(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){const a=e.shape.slice(-1)[0],i=t.shape.slice(-2)[0];if(a!==i)throw new Fn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(e.rank===2&&t.rank===2)return t7({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?KP(e.rank,r,Pu()):null,activation:n});{const a=e.shape.slice(),i=a.pop();e=He(e,[-1,i]);const o=t.shape.slice(),s=o.pop(),l=o.pop(),u=[...o,s],c=Array.from({length:t.rank},(p,v)=>v===0?t.rank-2:v<=t.rank-2?v-1:v);t=He(hr(t,c),[l,-1]);const f=[...a,...u];return He(t7({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?KP(e.rank,r,Pu()):null,activation:n}),f)}}function nce(e,t,n){return Xe(()=>(Array.isArray(t)?t=ws(t,"int32"):t=Ut(t,"int32"),_z(e,t,n)))}function HS(e){return Pe(e,e)}function KP(e,t,n){const r=t.shape;if(t.rank!==1&&t.rank!==e)throw new $e(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(e===5){if(n==="channelsFirst")return r.length===1?He(t,[1,r[0],1,1,1]):He(t,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?He(t,[1,1,1,1,r[0]]):He(t,[1].concat(r))}else if(e===4){if(n==="channelsFirst")return r.length===1?He(t,[1,r[0],1,1]):He(t,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?He(t,[1,1,1,r[0]]):He(t,[1].concat(r))}else if(e===3){if(n==="channelsFirst")return r.length===1?He(t,[1,r[0],1]):He(t,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?He(t,[1,1,r[0]]):He(t,[1].concat(r))}else if(e<3)return t;throw new $e(`Unsupported input rank by biasAdd: ${t.rank}`)}function Gu(e,t,n){return Xe(()=>(n==null&&(n=Pu()),Ta(n),Et(e,KP(e.rank,t,n))))}function $tt(e,t=1){if(t!==1)throw new Fn(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return HD(e)}function Ltt(e){return Xe(()=>gn(e,Et(oo(e),1)))}function rce(e,t,n,r){return Xe(()=>XZe(e,t,n,r))}function Ott(e){return Xe(()=>{const t=Et(.5,Pe(.2,e));return Xs(t,0,1)})}function US(e,t,n=!1){return n?e():t()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Ptt=["fanIn","fanOut","fanAvg"],Ftt=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Btt(e){Gg(Ptt,"FanMode",e)}function Vtt(e){Gg(Ftt,"Distribution",e)}class Ul extends Ug{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class ace extends Ul{apply(t,n){return ni(t,n)}}ace.className="Zeros";bt(ace);class w8 extends Ul{apply(t,n){return op(t,n)}}w8.className="Ones";bt(w8);class ice extends Ul{constructor(t){if(super(),typeof t!="object")throw new $e(`Expected argument of type ConstantConfig but got ${t}`);if(t.value===void 0)throw new $e(`config must have value set but got ${t}`);this.value=t.value}apply(t,n){return Xe(()=>Pe(Cr(this.value),op(t,n)))}getConfig(){return{value:this.value}}}ice.className="Constant";bt(ice);class oce extends Ul{constructor(t){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=t.minval||this.DEFAULT_MINVAL,this.maxval=t.maxval||this.DEFAULT_MAXVAL,this.seed=t.seed}apply(t,n){return LS(t,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}oce.className="RandomUniform";bt(oce);class sce extends Ul{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Fn(`randomNormal does not support dType ${n}.`);return ZD(t,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}sce.className="RandomNormal";bt(sce);class lce extends Ul{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Fn(`truncatedNormal does not support dType ${n}.`);return eue(t,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}lce.className="TruncatedNormal";bt(lce);class uce extends Ul{constructor(t){super(),this.gain=t.gain!=null?t.gain:1}apply(t,n){return Xe(()=>{if(t.length!==2||t[0]!==t[1])throw new $e("Identity matrix initializer can only be used for 2D square matrices.");return Pe(this.gain,Ple(t[0]))})}getConfig(){return{gain:this.gain}}}uce.className="Identity";bt(uce);function ztt(e,t="channelsLast"){let n,r;if(Ta(t),e.length===2)n=e[0],r=e[1];else if([3,4,5].indexOf(e.length)!==-1){if(t==="channelsFirst"){const a=gh(e,2);n=e[1]*a,r=e[0]*a}else if(t==="channelsLast"){const a=gh(e,0,e.length-2);n=e[e.length-2]*a,r=e[e.length-1]*a}}else{const a=gh(e);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}class ks extends Ul{constructor(t){if(super(),t.scale<0)throw new $e(`scale must be a positive float. Got: ${t.scale}`);this.scale=t.scale==null?1:t.scale,this.mode=t.mode==null?"fanIn":t.mode,Btt(this.mode),this.distribution=t.distribution==null?"normal":t.distribution,Vtt(this.distribution),this.seed=t.seed}apply(t,n){const r=ztt(t),a=r[0],i=r[1];let o=this.scale;if(this.mode==="fanIn"?o/=Math.max(1,a):this.mode==="fanOut"?o/=Math.max(1,i):o/=Math.max(1,(a+i)/2),this.distribution==="normal"){const s=Math.sqrt(o);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Fn(`${this.getClassName()} does not support dType ${n}.`);return eue(t,0,s,n,this.seed)}else{const s=Math.sqrt(3*o);return LS(t,-s,s,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}ks.className="VarianceScaling";bt(ks);class _8 extends ks{constructor(t){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return ks.className}}_8.className="GlorotUniform";bt(_8);class S8 extends ks{constructor(t){super({scale:1,mode:"fanAvg",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return ks.className}}S8.className="GlorotNormal";bt(S8);class C8 extends ks{constructor(t){super({scale:2,mode:"fanIn",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return ks.className}}C8.className="HeNormal";bt(C8);class T8 extends ks{constructor(t){super({scale:2,mode:"fanIn",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return ks.className}}T8.className="HeUniform";bt(T8);class k8 extends ks{constructor(t){super({scale:1,mode:"fanIn",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return ks.className}}k8.className="LeCunNormal";bt(k8);class I8 extends ks{constructor(t){super({scale:1,mode:"fanIn",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return ks.className}}I8.className="LeCunUniform";bt(I8);class cce extends Ul{constructor(t){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=t.gain==null?this.DEFAULT_GAIN:t.gain,this.seed=t.seed}apply(t,n){return Xe(()=>{if(t.length<2)throw new Fn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=ot(t.slice(0,-1)),a=t[t.length-1],i=r*a;i>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${i}) elements: Slowness may result.`);const o=[Math.max(a,r),Math.min(a,r)],s=ZD(o,0,1,n,this.seed),l=UJe.qr(s,!1);let u=l[0];const f=l[1].flatten().stridedSlice([0],[Math.min(a,r)*Math.min(a,r)],[Math.min(a,r)+1]);return u=Pe(u,f.sign()),r<a&&(u=u.transpose()),Pe(Cr(this.gain),u.reshape(t))})}getConfig(){return{gain:this.gain,seed:this.seed}}}cce.className="Orthogonal";bt(cce);const y7={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function b7(e,t={}){return zS(e,_l.getMap().classNameMap,t,"initializer")}function fa(e){return y8(e)}function oa(e){if(typeof e=="string"){const t=e in y7?y7[e]:e;if(t==="GlorotNormal")return new S8;if(t==="GlorotUniform")return new _8;if(t==="HeNormal")return new C8;if(t==="HeUniform")return new T8;if(t==="LeCunNormal")return new k8;if(t==="LeCunUniform")return new I8;{const n={};return n.className=t,n.config={},b7(n)}}else return e instanceof Ul?e:b7(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function jP(e){return Array.isArray(e)&&Array.isArray(e[0])}function TI(e){return e.length===0?[]:Array.isArray(e[0])?e:[e]}function Tn(e){let t;if(Array.isArray(e)){if(e.length!==1)throw new $e(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function xr(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(e.length===1)return e=e,e[0];throw new $e(`Expected exactly 1 Shape; got ${e.length}`)}else return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function kI(e){let t=0;for(const n of e)n.shape.length===0?t+=1:t+=n.shape.reduce((r,a)=>r*a);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const x7="Variable";class Wtt{constructor(t,n="float32",r=x7,a=!0,i=null){this.dtype=n??"float32",this.shape=t.shape,this.id=Zue(),r=r??x7,this.originalName=Que(r),this.name=ece(this.originalName),this.trainable_=a,this.constraint=i,this.val=GZe(t,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(t){return this.assertNotDisposed(),Htt(this.val,t),this.val.id!==t.id&&(this.val.assign(t),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(t){this.trainable_=t,this.val.trainable=t}}function Htt(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}function YP(e){return e.map(t=>t.read())}function E8(e){e.forEach(t=>{t[0].write(t[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class za{constructor(t){this.dtype=t.dtype,this.shape=t.shape,t.shape!=null?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}}class zc{constructor(t,n,r,a,i,o,s){this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=s,this.id=Zue(),o!=null&&(this.originalName=Que(o),this.name=ece(this.originalName)),this.rank=n.length}}let Utt=0,JD=class{constructor(t,n){this.callArgs=n,this.id=Utt++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(const r of t.inboundLayers)r!=null&&r.outboundNodes.push(this);t.outboundLayer.inboundNodes.push(this)}getConfig(){const t=[];for(const n of this.inboundLayers)n!=null?t.push(n.name):t.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},Gtt=0,Yn=class extends Ug{constructor(t={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Gtt++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=t.name;if(!n){const r=this.getClassName();n=wf(r)+"_"+qD(r)}if(this.name=n,this.trainable_=t.trainable==null?!0:t.trainable,t.inputShape!=null||t.batchInputShape!=null){let r;if(t.batchInputShape!=null)r=t.batchInputShape;else if(t.inputShape!=null){let i=null;t.batchSize!=null&&(i=t.batchSize),r=[i].concat(t.inputShape)}this.batchInputShape=r;let a=t.dtype;a==null&&(a=t.inputDType),a==null&&(a="float32"),this.dtype=a}t.weights!=null?this.initialWeights=t.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(t,n){return t.name+"_ib-"+n.toString()}getNodeAtIndex(t,n){if(this.inboundNodes.length===0)throw new Il(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=t)throw new $e(`Asked to get ${n} at node ${t}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[t]}getInputAt(t){return Wo(this.getNodeAtIndex(t,"input").inputTensors)}getOutputAt(t){return Wo(this.getNodeAtIndex(t,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new dc(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new dc(`Layer ${this.name} is not connected, no input to return.`);return Wo(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new dc(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new dc(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Wo(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(t=>t())}get updates(){return this._updates}get built(){return this._built}set built(t){this._built=t}get trainable(){return this.trainable_}set trainable(t){this._trainableWeights.forEach(n=>n.trainable=t),this.trainable_=t}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(t=>t.trainable):[]}set trainableWeights(t){this._trainableWeights=t}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(t=>!t.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(t){this._nonTrainableWeights=t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(t){const n=Rr(t);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=Rr(this.inputSpec);if(n.length!==r.length)throw new $e(`Layer ${this.name} expects ${r.length} inputs, but it received ${n.length} input tensors. Input received: ${t}`);for(let a=0;a<n.length;a++){const i=n[a],o=r[a];if(o==null)continue;const s=i.rank;if(o.ndim!=null&&s!==o.ndim)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${s}`);if(o.maxNDim!=null&&s>o.maxNDim)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${s}`);if(o.minNDim!=null&&s<o.minNDim)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${s}.`);if(o.dtype!=null&&i.dtype!==o.dtype)throw new $e(`Input ${a} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${i.dtype}.`);if(o.axes){const l=i.shape;for(const u in o.axes){const c=Number(u),f=o.axes[u],d=c>=0?l[c]:l[l.length+c];if(f!=null&&[f,null].indexOf(d)===-1)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected axis ${c} of input shape to have value ${f} but got shape ${l}.`)}}if(o.shape!=null)for(let l=0;l<o.shape.length;++l){const u=o.shape[l],c=i.shape[l];if(u!=null&&c!=null&&u!==c)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${i.shape}.`)}}}call(t,n){return t}invokeCallHook(t,n){this._callHook!=null&&this._callHook(t,n)}setCallHook(t){this._callHook=t}clearCallHook(){this._callHook=null}apply(t,n){n=n||{},this.assertNotDisposed();const r=Rr(t),a=Ytt(t),i=Xtt(t);if(a===i)throw new $e("Arguments to apply() must be all SymbolicTensors or all Tensors");return zv(this.name,()=>{if(!this.built){this.assertInputCompatibility(t);const o=[];for(const s of Rr(t))o.push(s.shape);this.build(Wo(o)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(t),i){let o=this.call(t,n);this.supportsMasking&&this.setMaskMetadata(t,o);const s=Rr(o),l=[];for(let u of s)r.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(o=Wo(l),this.activityRegularizer!=null)throw new Fn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}else{const o=Ktt(t),s=this.computeOutputShape(o);let l;const u=jtt(t);if(this.warnOnIncompatibleInputShape(Array.isArray(t)?o[0]:o),s!=null&&s.length>0&&Array.isArray(s[0])?l=s.map((c,f)=>new zc(u,c,this,Rr(t),n,this.name,f)):l=new zc(u,s,this,Rr(t),n,this.name),this.addInboundNode(t,l,null,null,o,s,n),this._refCount++,this.activityRegularizer!=null)throw new Fn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(t){if(this.batchInputShape!=null)if(t.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(t)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,a)=>{r!=null&&t[a]!=null&&t[a]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(t)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new dc(`The layer ${this.name} has never been called and thus has no defined output shape.`);const t=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);t.indexOf(r)===-1&&t.push(r)}if(t.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new dc(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Il(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return kI(this.weights)}build(t){this.built=!0}getWeights(t=!1){return YP(t?this.trainableWeights:this.weights)}setWeights(t){Xe(()=>{const n=this.weights;if(n.length!==t.length)throw new $e(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${t.length}, but the layer was expecting ${n.length} weights. Provided weights: ${t}...`);if(n.length===0)return;const r=[],a=YP(n);for(let i=0;i<a.length;++i){const o=a[i],s=n[i],l=t[i];if(!Er(o.shape,l.shape))throw new $e(`Layer weight shape ${o.shape} not compatible with provided weight shape ${l.shape}`);r.push([s,l])}E8(r)})}addWeight(t,n,r,a,i,o,s,l){if(this._addedWeightNames.indexOf(t)!==-1)throw new $e(`Duplicate weight name ${t} for layer ${this.name}`);this._addedWeightNames.push(t),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(a=l!=null?l():oa("zeros"));const u=a.apply(n,r),c=new Wtt(u,r,t,o,s);return u.dispose(),i!=null&&this.addLoss(()=>i.apply(c.read())),o==null&&(o=!0),o?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(t){this.fastWeightInitDuringBuild=t}addLoss(t){t==null||Array.isArray(t)&&t.length===0||(t=Rr(t),this._losses!==void 0&&this._losses!==null&&this.losses.push(...t))}computeOutputShape(t){return t}computeMask(t,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(t,n,r){if(!this.supportsMasking)return;const a=this.computeMask(t,r),i=Rr(n),o=Rr(a);if(i.length!==o.length)throw new Error(`${this.name} outputs ${i.length} tensors but ${i.length} masks for those tensors`);for(let s=0;s<i.length;s++)i[s].kerasMask=o[s]}addInboundNode(t,n,r,a,i,o,s=null){const l=Rr(t);n=Rr(n),r=Rr(r),a=Rr(a),i=TI(i),o=TI(o);const u=[],c=[],f=[];for(const d of l)u.push(d.sourceLayer),c.push(d.nodeIndex),f.push(d.tensorIndex);new JD({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:f,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:a,inputShapes:i,outputShapes:o},s);for(let d=0;d<n.length;d++)n[d].sourceLayer=this,n[d].nodeIndex=this.inboundNodes.length-1,n[d].tensorIndex=d}getConfig(){const t={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(t.batchInputShape=this.batchInputShape),this.dtype!=null&&(t.dtype=this.dtype),t}disposeWeights(){return this.weights.forEach(t=>t.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let t=0;return--this._refCount===0&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}}};function Ktt(e){e=Rr(e);const t=[];for(const n of e)t.push(n.shape);return Wo(t)}function jtt(e){return"float32"}function fce(e,t,n){if((t==null||n!=null&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),t.inboundNodes.length===0)return[e];{const r=t.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const a=[];for(let i=0;i<r.inboundLayers.length;i++){const o=r.inputTensors[i],s=r.inboundLayers[i],l=r.nodeIndices[i],u=fce(o,s,l);for(const c of u)a.indexOf(c)===-1&&a.push(c)}return a}}}function Ytt(e){let t=!0;for(const n of Rr(e))if(!(n instanceof zc)){t=!1;break}return t}function Xtt(e){let t=!0;for(const n of Rr(e))if(n instanceof zc){t=!1;break}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class GS extends Yn{constructor(t){if(super({dtype:t.dtype,name:t.name!=null?t.name:qD("input").toString()}),t.batchSize==null&&(t.batchSize=null),t.sparse==null&&(t.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=t.sparse,t.inputShape!=null&&t.batchInputShape!=null)throw new $e("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=t.batchInputShape;if(n==null){if(t.inputShape==null)throw new $e("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[t.batchSize].concat(t.inputShape)}else if(t.batchSize!=null)throw new $e("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=t.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const a=new zc(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new JD({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(t,n){throw new $e(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}GS.className="InputLayer";bt(GS);function qtt(e){if(e.batchShape==null&&e.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(e.batchShape!=null&&e.shape!=null)throw new $e("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;e.shape!=null&&t==null&&(t=[null].concat(e.shape));let n=e.dtype;return n==null&&(n="float32"),new GS({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ztt(e,t){if(e.dtype==null||e.dtype===t.dtype)return t;try{return Ut(t,e.dtype)}catch{throw new $e(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}class Xd{constructor(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof Xd)for(const n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(t==null)return;for(const n of t)this.add(n.key,n.value)}}add(t,n,r){if(this.id2Value[t.id]==null)this.id2Value[t.id]=Ztt(t,n),this.name2Id[t.name]=t.id,r!=null&&(this.id2Mask[t.id]=r);else throw new $e(`Duplicate key: name=${t.name}, id=${t.id}`);return this}addFeed(t){this.add(t.key,t.value)}hasKey(t){return this.id2Value[t.id]!=null}names(){return Object.keys(this.name2Id)}getValue(t){if(t instanceof zc){if(this.id2Value[t.id]==null)throw new $e(`Nonexistent key: ${t.name}`);return this.id2Value[t.id]}else{const n=this.name2Id[t];if(n==null)throw new $e(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Value[n]}}getMask(t){if(t instanceof zc){if(this.id2Value[t.id]==null)throw new $e(`Nonexistent key: ${t.name}`);return this.id2Mask[t.id]}else{const n=this.name2Id[t];if(n==null)throw new $e(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Wn(this.id2Mask)}}const II=new Yue,EI=new Yue;function Jtt(e){II!=null&&II.setMaxEntries(e),EI!=null&&EI.setMaxEntries(e)}function Ab(e,t,n,r){const a=n==null?!1:n.training,i=Array.isArray(e),o=i?e:[e],s=o.map(p=>p.name),l=[],u=t.names();for(const p of s)u.indexOf(p)!==-1?l.push(t.getValue(p)):l.push(null);const c=s.join(",")+"|"+t.names().sort().join(",");let f=II.get(c),d;if(f==null){const p=Qtt(o,t);f=p.sorted,d=p.recipientCounts,II.put(c,f),EI.put(c,d)}d={},a||Object.assign(d,EI.get(c));const h=new Xd(t);for(let p=0;p<f.length;++p){const v=f[p],g=v.sourceLayer;if(g instanceof GS)continue;const m=[],y=[],b=[];let x=!1;for(const T of v.inputs){const E=h.getValue(T),I=h.getMask(T);m.push(E),y.push(I),I!=null&&(x=!0),a||(d[T.name]--,d[T.name]===0&&!t.hasKey(T)&&s.indexOf(T.name)===-1&&!E.isDisposed&&T.sourceLayer.stateful!==!0&&b.push(E))}x&&(n=n||{},n.mask=y[0]);const _=Rr(g.apply(m,n));let S=null;g.supportsMasking&&(S=g.computeMask(m,y));const C=tnt(v),k=Array.isArray(C)?C:[C];for(let T=0;T<k.length;++T){h.hasKey(k[T])||h.add(k[T],_[T],Array.isArray(S)?S[0]:S);const E=s.indexOf(k[T].name);E!==-1&&(l[E]=_[T])}a||Wn(b)}return h.disposeMasks(),i?l:l[0]}function Qtt(e,t){pe(e!=null&&e.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(e.length===1){const a=w7(e[0],t);n=a.sorted,r=a.recipientMap}else{const a=new Set;for(const i of e){const{sorted:o,recipientMap:s}=w7(i,t);for(const l of o)a.has(l.name)||(n.push(l),a.add(l.name));for(const l in s)r[l]==null&&(r[l]=new Set),s[l].forEach(u=>r[l].add(u))}}return{sorted:n,recipientCounts:ent(r)}}function ent(e){const t={};for(const n in e)t[n]=e[n].size;return t}function w7(e,t){const n=new Set,r=[],a={};for(const s of t.names())n.add(s);const i=[],o=[];for(i.push(e);i.length>0;){const s=i[i.length-1];if(n.has(s.name)){i.pop();continue}const l=o[o.length-1]===i.length-1;if(s.inputs.length===0||l)i.pop(),r.push(s),n.add(s.name),l&&o.pop();else{o.push(i.length-1);for(const u of s.inputs)a[u.name]==null&&(a[u.name]=new Set),a[u.name].add(s.name),!n.has(u.name)&&i.push(u)}}return{sorted:r,recipientMap:a}}function tnt(e){let t;if(e.sourceLayer.inboundNodes.length===1)t=e.sourceLayer.output;else{let n=null;for(let r=0;r<e.sourceLayer.inboundNodes.length;++r)for(const a of e.sourceLayer.inboundNodes[r].outputTensors)if(a.id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nnt=tt();nnt.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,Jtt);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function A8(e,t){return Xe(()=>Ki(pn(Pe(e,e),t,!0)))}class KS extends Ug{getConfig(){return{}}}class dce extends KS{constructor(t){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=t.maxValue!=null?t.maxValue:this.defaultMaxValue,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Xe(()=>{const n=A8(t,this.axis),r=Xs(n,0,this.maxValue);return Pe(t,gn(r,Et(Va(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}dce.className="MaxNorm";bt(dce);class hce extends KS{constructor(t){super(),this.defaultAxis=0,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Xe(()=>gn(t,Et(Va(),A8(t,this.axis))))}getConfig(){return{axis:this.axis}}}hce.className="UnitNorm";bt(hce);class pce extends KS{apply(t){return Wg(t)}}pce.className="NonNeg";bt(pce);class vce extends KS{constructor(t){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=t.minValue!=null?t.minValue:this.defaultMinValue,this.maxValue=t.maxValue!=null?t.maxValue:this.defaultMaxValue,this.rate=t.rate!=null?t.rate:this.defaultRate,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Xe(()=>{const n=A8(t,this.axis),r=Et(Pe(this.rate,Xs(n,this.minValue,this.maxValue)),Pe(1-this.rate,n));return Pe(t,gn(r,Et(Va(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}vce.className="MinMaxNorm";bt(vce);const _7={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Ga(e){return y8(e)}function S7(e,t={}){return zS(e,_l.getMap().classNameMap,t,"constraint")}function Ka(e){if(e==null)return null;if(typeof e=="string"){const n={className:e in _7?_7[e]:e,config:{}};return S7(n)}else return e instanceof KS?e:S7(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function kp(e){if(e==null)return;const t=[],n=[],r=[];for(const a in e){const i=e[a];if(typeof i!="number"){const o=i;t.push(o.data()),n.push(a),r.push(o)}}if(t.length>0){const a=await Promise.all(t);for(let i=0;i<a.length;++i)e[n[i]]=a[i][0];Wn(r)}}function gce(e){if(e!=null)for(const t in e){const n=e[t];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var C7;(function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"})(C7||(C7={}));const rnt=125;class yw{constructor(){this.validationData=null}setParams(t){this.params=t}async onEpochBegin(t,n){}async onEpochEnd(t,n){}async onBatchBegin(t,n){}async onBatchEnd(t,n){}async onTrainBegin(t){}async onTrainEnd(t){}setModel(t){}}class ant{constructor(t,n=10){t==null&&(t=[]),this.callbacks=t,this.queueLength=n}append(t){this.callbacks.push(t)}setParams(t){for(const n of this.callbacks)n.setParams(t)}setModel(t){for(const n of this.callbacks)n.setModel(t)}async onEpochBegin(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(t,n)}async onEpochEnd(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(t,n)}async onBatchBegin(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(t,n)}async onBatchEnd(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(t,n)}async onTrainBegin(t){t==null&&(t={});for(const n of this.callbacks)await n.onTrainBegin(t)}async onTrainEnd(t){t==null&&(t={});for(const n of this.callbacks)await n.onTrainEnd(t)}}class int extends yw{constructor(){super()}async onEpochBegin(t){this.seen=0,this.totals={}}async onBatchEnd(t,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const a in n){const i=n[a];if(typeof i=="number")this.totals.hasOwnProperty(a)||(this.totals[a]=0),this.totals[a]=this.totals[a]+i*r;else{let o;a in this.totals?o=this.totals[a]:this.totals[a]=0;const s=Xe(()=>Et(this.totals[a],Pe(i,r)));this.totals[a]=s,o!=null&&o.dispose()}}}async onEpochEnd(t,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:Xe(()=>{const a=Pe(gn(1,this.seen),this.totals[r]);n[r]=a,this.totals[r].dispose(),Ic(n[r])}))}}class ont extends yw{async onTrainBegin(t){this.epoch=[],this.history={}}async onEpochEnd(t,n){n==null&&(n={}),this.epoch.push(t);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const t=[],n=[],r=[];for(const i in this.history){const o=this.history[i];for(let s=0;s<o.length;++s)if(typeof o[s]!="number"){const l=o[s];t.push(l.data()),n.push(i),r.push(s)}}const a=await Promise.all(t);for(let i=0;i<a.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=a[i][0]}}class snt extends yw{constructor(t,n){if(super(),this.currentEpoch=0,this.nowFunc=t.nowFunc,this.nextFrameFunc=t.nextFrameFunc||wue,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=rnt),this.yieldEvery==="never"&&t.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");CP(this.yieldEvery)&&(this.maybeWait=xtt(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=t.onTrainBegin,this.trainEnd=t.onTrainEnd,this.epochBegin=t.onEpochBegin,this.epochEnd=t.onEpochEnd,this.batchBegin=t.onBatchBegin,this.batchEnd=t.onBatchEnd,this.yield=t.onYield}async maybeWait(t,n,r){const a=[];this.yield!=null&&(await kp(r),a.push(this.yield(t,n,r))),a.push(this.nextFrameFunc()),await Promise.all(a)}async onEpochBegin(t,n){this.currentEpoch=t,this.epochBegin!=null&&(await kp(n),await this.epochBegin(t,n))}async onEpochEnd(t,n){const r=[];this.epochEnd!=null&&(await kp(n),r.push(this.epochEnd(t,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(t,n){this.batchBegin!=null&&(await kp(n),await this.batchBegin(t,n))}async onBatchEnd(t,n){const r=[];this.batchEnd!=null&&(await kp(n),r.push(this.batchEnd(t,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):CP(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),await Promise.all(r)}async onTrainBegin(t){this.trainBegin!=null&&(await kp(t),await this.trainBegin(t))}async onTrainEnd(t){this.trainEnd!=null&&(await kp(t),await this.trainEnd(t))}}function mce(e,t){return e==null&&(e={}),e instanceof yw?[e]:Array.isArray(e)&&e[0]instanceof yw?e:Rr(e).map(r=>new snt(r,t))}class fl{constructor(){}static registerCallbackConstructor(t,n){pe(t>=0&&Number.isInteger(t),()=>`Verbosity level is expected to be an integer >= 0, but got ${t}`),fl.checkForDuplicate(n),fl.constructors[t]==null&&(fl.constructors[t]=[]),fl.constructors[t].push(n)}static checkForDuplicate(t){for(const n in fl.constructors)fl.constructors[+n].forEach(a=>{if(a===t)throw new $e("Duplicate callback constructor.")})}static clear(){fl.constructors={}}static createCallbacks(t){const n=[];for(const r in fl.constructors){const a=+r;t>=a&&n.push(...fl.constructors[a])}return n.map(r=>new r)}}fl.constructors={};function yce(e,t,n,r,a,i,o,s,l){const u=new ont,c=[new int,...fl.createCallbacks(t)];e!=null&&c.push(...e),c.push(u);const f=new ant(c);return f.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:s,metrics:l}),{callbackList:f,history:u}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Nc(e,t={},n=!1){return zS(e,_l.getMap().classNameMap,t,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function AI(e,t){return Xe(()=>{e.dtype!=="float32"&&(e=Ut(e,"float32"));const n=pn(HS(e),t,!0),r=WD(n.shape,Va()),a=Ki(ip(n,r));return gn(e,a)})}function QD(e,t){return Xe(()=>Aa(HS(Sn(t,e)),-1))}function D8(e,t){return Xe(()=>Aa(oo(Sn(t,e)),-1))}function N8(e,t){return Xe(()=>{const n=Sn(e,t),r=Xs(oo(e),Va(),Number.MAX_VALUE),a=oo(gn(n,r));return Pe(100,Aa(a,-1))})}function lnt(e,t){return Xe(()=>{const n=Xs(t,Va(),Number.MAX_VALUE),r=Vc(Et(1,n)),a=Xs(e,Va(),Number.MAX_VALUE),i=Vc(Et(1,a));return Aa(HS(Sn(r,i)),-1)})}function unt(e,t){return Xe(()=>{const n=ip(0,Sn(1,Pe(e,t)));return Aa(HS(n),-1)})}function cnt(e,t){return Xe(()=>{const n=ip(0,Sn(1,Pe(e,t)));return Aa(n,-1)})}function fnt(e,t){return Xe(()=>{const n=pn(Pe(e,t),-1),r=Tu(Pe(Sn(1,e),t),-1);return ip(0,Et(1,Sn(r,n)))})}function dnt(e,t){return Xe(()=>{const n=Math.log(2),r=Sn(t,e),a=Sn(Et(r,$S(Pe(-2,r))),n);return Aa(a,-1)})}function bw(e,t,n=!1){return Xe(()=>{if(n)t=$z(t);else{const r=pn(t,t.shape.length-1,!0);t=gn(t,r)}return t=Xs(t,Va(),1-Va()),ya(pn(Pe(Ut(e,"float32"),Vc(t)),t.shape.length-1))})}function DI(e,t,n=!1){return Xe(()=>{const r=Ut(GD(Rtt(e)),"int32");t=Xs(t,Va(),1-Va());const a=t.shape,i=He(Wle(r,a[a.length-1]),a);return bw(i,t,n)})}function hnt(e,t){if(!Er(e.shape,t.shape))throw new $e(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return Xe(()=>{const n=Wg(t),r=ya(oo(t));return Et(Sn(n,Pe(t,e)),Fle(Bc(r)))})}function eN(e,t){return Xe(()=>{let n;return n=Xs(t,Va(),1-Va()),n=Vc(gn(n,Sn(1,n))),Aa(hnt(e,n),-1)})}function pnt(e,t){return Xe(()=>{const n=Xs(e,Va(),1),r=Xs(t,Va(),1);return pn(Pe(e,Vc(gn(n,r))),-1)})}function vnt(e,t){return Xe(()=>{const n=Vc(Et(Va(),t));return Aa(Sn(t,Pe(e,n)),-1)})}function bce(e,t){return Xe(()=>{const n=AI(e,-1),r=AI(t,-1),a=Pe(n,r);return ya(pn(a,-1))})}const NI={meanSquaredError:QD,meanAbsoluteError:D8,meanAbsolutePercentageError:N8,meanSquaredLogarithmicError:lnt,squaredHinge:unt,hinge:cnt,categoricalHinge:fnt,logcosh:dnt,categoricalCrossentropy:bw,sparseCategoricalCrossentropy:DI,binaryCrossentropy:eN,kullbackLeiblerDivergence:pnt,poisson:vnt,cosineProximity:bce};function iM(e){if(typeof e=="string"){if(e in NI)return NI[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new $e(t)}else return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function xce(e,t){return Xe(()=>{const n=Pe(.5,Bl(t)),r=Ac(Js(t,n),e.dtype);return Aa(Fc(e,r),-1)})}function wce(e,t){return Xe(()=>Ac(Fc(hw(e,-1),hw(t,-1)),"float32"))}function gnt(e,t){return Xe(()=>Ut(pn(Gf(Fc(e,1),Fc(t,1))),"float32"))}function mnt(e,t){return Xe(()=>Ut(pn(Gf(Fc(e,0),Fc(t,1))),"float32"))}function ynt(e,t){return Xe(()=>{const n=gnt(e,t),r=mnt(e,t),a=Et(n,r);return Ut(xo(Js(a,0),gn(n,a),0),"float32")})}function bnt(e,t){return eN(e,t)}function xnt(e,t){return e.rank===t.rank&&(e=OS(e,[e.rank-1])),t=hw(t,-1),t.dtype!==e.dtype&&(t=Ut(t,e.dtype)),Ut(Fc(e,t),"float32")}const wnt=QD,_nt=QD,Snt=D8,Cnt=D8,Tnt=N8,knt=N8,_ce=bw,Int=bce,Sce=DI,RI={binaryAccuracy:xce,categoricalAccuracy:wce,precision:ynt,categoricalCrossentropy:_ce,sparseCategoricalCrossentropy:Sce,mse:wnt,MSE:_nt,mae:Snt,MAE:Cnt,mape:Tnt,MAPE:knt,cosine:Int};function Ent(e){if(typeof e=="string"&&e in RI)return RI[e];if(typeof e!="string"&&e!=null)return e;throw new $e(`Unknown metric ${e}`)}function r2(e){if(hc(e!==null,`Unknown LossOrMetricFn ${e}`),typeof e=="string")return e;{let t;for(const n of Object.keys(NI))if(NI[n]===e){t=n;break}if(t!==void 0)return t;for(const n of Object.keys(RI))if(RI[n]===e){t=n;break}return t!==void 0?t:e.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ant(e){const t={Adagrad:()=>C0.adagrad(.01),Adadelta:()=>C0.adadelta(1,.95,Va()),Adam:()=>C0.adam(.001,.9,.999,Va()),Adamax:()=>C0.adamax(.002,.9,.999,Va(),0),RMSProp:()=>C0.rmsprop(.001,.9,0,Va()),SGD:()=>C0.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new $e(`Unknown Optimizer ${e}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const T7=1*1024*1024;function k7(e,t,n=!1){if(e==null||typeof e!="object"||Object.getPrototypeOf(e)!==Object.prototype||!XP(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(e);r.length>T7&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${T7}.`)}}function XP(e){if(e===null)return!0;if(typeof e=="object")if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t)if(typeof n!="string"||!XP(e[n]))return!1;return!0}else if(Array.isArray(e)){for(const t of e)if(!XP(t))return!1;return!0}else return!1;else{const t=typeof e;return t==="string"||t==="number"||t==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Dnt(e,t,n,r=console.log){const a=Rnt(e),i=["Layer (type)","Input Shape","Output shape","Param #"];a?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(t*c)));let o;if(!a){i.push("Receives inputs"),o=[];for(const c in e.nodesByDepth)o.push(...e.nodesByDepth[c])}r("_".repeat(t)),MI(i,n,r),r("=".repeat(t));const s=e.layers;for(let c=0;c<s.length;++c)a?Mnt(s[c],n,r):$nt(s[c],n,o,r),r((c===s.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=Nnt(e),u=kI(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function Nnt(e){let t;return e.collectedTrainableWeights!=null?t=kI(e.collectedTrainableWeights):t=kI(e.trainableWeights),t}function Rnt(e){let t=!0;const n=[],r=[];for(const a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(const a of n){if(a.length>1||a.length===1&&a[0].inboundLayers.length>1){t=!1;break}r.push(...a)}if(t)for(const a of e.layers){let i=!1;for(const o of a.inboundNodes)if(r.indexOf(o)!==-1)if(i){t=!1;break}else i=!0;if(!t)break}return t}function MI(e,t,n=console.log){let r="";for(let a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r+=e[a],r=r.slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Mnt(e,t,n){let r,a;try{a=e.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{a="multiple"}try{r=JSON.stringify(e.outputShape)}catch{r="multiple"}const i=e.name,o=e.getClassName(),s=[`${i} (${o})`,a,r,e.countParams().toString()];MI(s,t,n)}function $nt(e,t,n,r){let a,i;try{i=e.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{i="multiple"}try{a=JSON.stringify(e.outputShape)}catch{a="multiple"}const o=[];for(const f of e.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(f)===-1))for(let d=0;d<f.inboundLayers.length;++d){const h=f.inboundLayers[d].name,p=f.nodeIndices[d],v=f.tensorIndices[d];o.push(`${h}[${p}][${v}]`)}const s=e.name,l=e.getClassName(),u=o.length===0?"":o[0],c=[`${s} (${l})`,i,a,e.countParams().toString(),u];MI(c,t,r);for(let f=1;f<o.length;++f)MI(["","","","",o[f]],t,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Cce(e,t,n){return(e==="inboundNodes"||e==="outputLayers"||e==="inputLayers")&&t===0&&typeof n=="string"}function $I(e,t){if(e===null)return null;if(typeof e=="string")return cv(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const i=e[a];Cce(t,a,i)?n.push(i):n.push($I(i,t))}return n}else{const n={};for(const r of Object.keys(e)){const a=e[r];if(r==="name"&&typeof a=="string")n[r]=a;else{const i=cv(r);n[i]=$I(a,i)}}return n}}function qP(e,t){if(e==null)return null;if(typeof e=="string")return wf(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const i=e[a];Cce(t,a,i)?n.push(i):n.push(qP(i,t))}return n}else{const n={};for(const r of Object.keys(e)){const a=e[r],i=wf(r);(r==="name"||r==="className")&&typeof a=="string"?n[i]=a:n[i]=qP(a,r)}return n}}/** @license See the LICENSE file. */const Tce="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Lnt=e=>{const t=Object.keys(e);if(t.length===0)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class au extends Yn{constructor(t){if(super({}),this.containerNodes=new Set,this.name=t.name,this.name==null){const y=this.getClassName().toLowerCase();this.name=qD(y)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(t.inputs)?this.inputs=t.inputs.slice():this.inputs=[t.inputs],Array.isArray(t.outputs)?this.outputs=t.outputs.slice():this.outputs=[t.outputs],vh(this.inputs).length!==this.inputs.length)throw new $e(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(y=>y.name)}`);vh(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(y=>y.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const b=y.sourceLayer,x=y.nodeIndex,_=y.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(x),this.outputLayersTensorIndices.push(_)}for(const y of this.inputs){const b=y.sourceLayer,x=y.nodeIndex,_=y.tensorIndex;hc(x===0,"input layer has >1 nodes"),hc(_===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(x),this.inputLayersTensorIndices.push(_)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const b=this.inputLayers[y];if(!(b instanceof GS))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${t.inputs}. Input ${y} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map(y=>y.shape),this.internalOutputShapes=this.outputs.map(y=>y.shape);const n={},r={},a={},i={},o={},s=[],l=(y,b,x,_,S,C)=>{(_==null||S==null||C==null)&&(_=y.sourceLayer,S=y.nodeIndex,C=y.tensorIndex);const k=_.inboundNodes[S];if(x.indexOf(k)!==-1)throw new Il(`The tensor ${y.name} at layer "${_.name}" is part of a cycle.`);if(b.indexOf(k)!==-1)return;this.containerNodes.add(au.nodeKey(_,S)),_.id in o||(o[_.id]=Object.keys(o).length),x.indexOf(k)===-1&&x.push(k);const T=k.inboundLayers.length;for(let E=0;E<T;E++){const I=k.inputTensors[E],A=k.inboundLayers[E],N=k.nodeIndices[E],L=k.tensorIndices[E];l(I,b,x,A,N,L)}for(b.push(k);x.indexOf(k)>=0;)x.splice(x.indexOf(k),1);s.push(k)},u=[],c=[];for(const y of this.outputs)l(y,u,c);const f=s.slice().reverse();for(const y of f){r[y.id]=y,y.id in n||(n[y.id]=0);let b=n[y.id];const x=a[y.outboundLayer.id]==null?0:a[y.outboundLayer.id];b=Math.max(b,x),a[y.outboundLayer.id]=b,i[y.outboundLayer.id]=y.outboundLayer,n[y.id]=b;for(let _=0;_<y.inboundLayers.length;_++){const S=y.inboundLayers[_],C=y.nodeIndices[_],k=S.inboundNodes[C],T=n[k.id]==null?0:n[k.id];n[k.id]=Math.max(b+1,T),r[k.id]=k}}const d={};for(const y in n){const b=n[y];b in d||(d[b]=[]),d[b].push(r[y])}const h={};for(const y in a){const b=a[y];b in h||(h[b]=[]),h[b].push(i[y])}let p=Object.keys(h).map(y=>parseInt(y,10)).sort(e2);this.layers=[];for(const y of p){const b=h[y];b.sort((x,_)=>{const S=o[x.id],C=o[_.id];return S<C?-1:S>C?1:0});for(const x of b)x instanceof au&&this.internalContainerRefs.push(x),this.layers.push(x)}this.layersByDepth=h,p=Object.keys(d).map(y=>parseInt(y,10)).sort(e2);const v=this.inputs.slice(),g=[];for(const y of p)for(const b of d[y]){const x=b.outboundLayer;if(x!=null){for(const _ of b.inputTensors)if(v.indexOf(_)===-1)throw new Il(`Graph disconnected: cannot obtain value for tensor ${_} at layer "${x.name}". The following previous layers were accessed without issue: ${g}`);for(const _ of b.outputTensors)v.push(_);g.push(x.name)}}this.nodesByDepth=d;const m=this.layers.map(y=>y.name);for(const y of m){const b=m.filter(x=>x===y).length;if(b!==1)throw new Il(`The name "${y}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(m))}this.outboundNodes=[],this.inboundNodes=[],new JD({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(y=>null),outputMasks:this.outputs.map(y=>null),inputShapes:this.inputs.map(y=>y.shape),outputShapes:this.outputs.map(y=>y.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const t={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)t.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)t.numDisposedVariables+=n.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t}get trainable(){return this.trainable_}set trainable(t){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=t)}),this.trainable_=t}get trainableWeights(){if(this._trainableWeights.length>0)throw new $e("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let t=[];for(const n of this.layers)t=t.concat(n.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const n of this.layers)t.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(t)}return t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(t,n=!0){const r={};let a=0;const i=Lnt(t);i&&this.parseWeights(t);for(const s of this.layers)for(const[l,u]of s.weights.entries()){const c=i?`${u.name.split("/").slice(0,-1).join("/")+"/"}${l}`:u.originalName;if(r[c]!=null)throw new $e(`Duplicate weight name: ${c}`);r[c]=u,a++}const o=[];for(const s in t){let l=s;if(r[s]==null){const u=s.split("/");l=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[l]!=null)o.push([r[l],t[s]]);else if(n)throw new $e(`Provided weight data has no target variable: ${s}`);delete r[l]}if(n){const s=[];for(const l in r)s.push(l);if(s.length>0)throw new $e(`${s.length} of ${a} weights are not set: ${s}`)}E8(o)}parseWeights(t){for(const n in Object.keys(t)){const r=n.split("/"),a=["vars","layer_checkpoint_dependencies"],i=r.map(o=>o.startsWith("_")?o.slice(1):o).filter(o=>!a.includes(o)).join("/");i!==n&&(t[i]=t[n],delete t[n])}}updatedConfig(){const t=this.getConfig(),n={};return n.className=this.getClassName(),n.config=t,n.kerasVersion=`tfjs-layers ${Tce}`,n.backend="TensorFlow.js",n}toJSON(t,n=!0){const r=qP(this.updatedConfig());return n?JSON.stringify(r):r}call(t,n){return Xe(()=>{t=Rr(t);const r=new Xd;for(let a=0;a<this.inputs.length;++a)r.add(this.inputs[a],t[a]);return Ab(this.outputs,r,n)})}computeMask(t,n){return Xe(()=>{t=Rr(t);let r;return n==null?r=wg(null,t.length):r=Rr(n),this.runInternalGraph(t,r)[1]})}computeOutputShape(t){const n=TI(t);if(n.length!==this.inputLayers.length)throw new $e(`Invalid inputShape argument ${t}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let s=0;s<n.length;s++){const l=this.inputLayers[s],u=n[s],c=l.name+"_0_0";r[c]=u}const a=Object.keys(this.nodesByDepth).map(s=>parseInt(s,10)).sort(e2);if(a.length>1)for(const s of a){const l=this.nodesByDepth[s];for(const u of l){const c=u.outboundLayer;if(this.inputLayers.map(v=>v.id).indexOf(c.id)!==-1)continue;const f=[];for(let v=0;v<u.inboundLayers.length;v++){const g=u.inboundLayers[v],m=u.nodeIndices[v],y=u.tensorIndices[v],b=`${g.name}_${m}_${y}`,x=r[b];f.push(x)}const d=c.computeOutputShape(Wo(f)),h=TI(d),p=c.inboundNodes.indexOf(u);for(let v=0;v<h.length;v++){const g=`${c.name}_${p}_${v}`;r[g]=h[v]}}}const i=[],o=[];for(let s=0;s<this.outputLayers.length;s++){const l=this.outputLayers[s],u=this.outputLayersNodeIndices[s],c=this.outputLayersTensorIndices[s],f=`${l.name}_${u}_${c}`;o.push(f)}for(let s=0;s<o.length;s++){const l=o[s];hc(l in r),i.push(r[l])}return Wo(i)}runInternalGraph(t,n){n==null&&(n=wg(null,t.length));const r={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],c=t[l],f=n[l];r[u.id]=[c,f]}const a=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(e2);for(const l of a){const u=this.nodesByDepth[l];for(const c of u){const f=c.outboundLayer,d=c.inputTensors,h=c.outputTensors,p=new Array;for(const v of d)v.id in r&&p.push(r[v.id]);if(p.length===d.length){let v={},g,m,y,b;if(c.callArgs!=null&&(v=c.callArgs),p.length===1){const[x,_]=p[0];v.mask==null&&(v.mask=_),y=Rr(f.call(x,v)),b=Rr(f.computeMask(x,_)),g=[x],m=[_]}else g=p.map(x=>x[0]),m=p.map(x=>x[1]),v.mask==null&&(v.mask=m),y=Rr(f.call(g,v)),b=Rr(f.computeMask(g,m));if(f.activityRegularizer)throw new Fn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let x=0;x<h.length;++x){const _=h[x],S=y[x],C=b[x];r[_.id]=[S,C]}}}}const i=[],o=[],s=[];for(const l of this.outputs){hc(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[u,c]=r[l.id];s.push(u.shape),i.push(u),o.push(c)}return[i,o,s]}buildNodeConversionMap(t){const n={};let r;for(const a of this.layers){r=a instanceof au?1:0;for(let i=0;i<a.inboundNodes.length;i++){const o=au.nodeKey(a,i);this.containerNodes.has(o)&&(n[o]=r,r+=1)}}return n}getLayer(t,n){if(n!=null)return this.findLayer(n);if(t==null)throw new $e("Provide either a layer name or layer index");if(typeof t=="number")return this.findLayer(t);for(const r of this.layers)if(r.name===t)return r;throw new $e(`No such layer: ${t}`)}findLayer(t){if(this.layers.length<=t)throw new $e(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}calculateLosses(){return Xe(()=>{const t=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const a=au.nodeKey(n,r);this.containerNodes.has(a)&&t.push(...n.calculateLosses())}return t})}getConfig(){const t={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const o of this.layers){const s=o.getClassName(),l=o.getConfig(),u=[];for(let f=0;f<o.inboundNodes.length;f++){const d=o.inboundNodes[f],h=au.nodeKey(o,f);let p={};if(this.containerNodes.has(h)){if(d.callArgs)try{JSON.stringify(d.callArgs),p=d.callArgs}catch{console.warn(`Layer ${o.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(d.inboundLayers.length>0){const v=[];for(let g=0;g<d.inboundLayers.length;g++){const m=d.inboundLayers[g],y=d.nodeIndices[g],b=d.tensorIndices[g],x=au.nodeKey(m,y);let _=n[x];_==null&&(_=0),v.push([m.name,_,b,p])}u.push(v)}}}const c={};c.name=o.name,c.className=s,c.config=l,c.inboundNodes=u,r.push(c)}t.layers=r;const a=[];for(let o=0;o<this.inputLayers.length;o++){const s=this.inputLayers[o],l=this.inputLayersNodeIndices[o],u=au.nodeKey(s,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const f=this.inputLayersTensorIndices[o];a.push([s.name,c,f])}t.inputLayers=a;const i=[];for(let o=0;o<this.outputLayers.length;o++){const s=this.outputLayers[o],l=this.outputLayersNodeIndices[o],u=au.nodeKey(s,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const f=this.outputLayersTensorIndices[o];i.push([s.name,c,f])}return t.outputLayers=i,t}static fromConfig(t,n,r={},a=!1){const i={},o={};function s(g,m){g.name in o?o[g.name].push(m):o[g.name]=[m]}function l(g,m){const y=[];let b;for(const x of m){const _=x[0],S=x[1],C=x[2];if(b=x[3]==null?{}:x[3],!(_ in i)){s(g,m);return}const k=i[_];if(k.inboundNodes.length<=S){s(g,m);return}const T=k.inboundNodes[S];y.push(T.outputTensors[C])}y.length>0&&g.apply(Wo(y),b)}function u(g){const m=g.name,y=Nc(g,n.customObjects!=null?n.customObjects:{});y.setFastWeightInitDuringBuild(a),i[m]=y,g.inboundNodes.forEach(x=>{if(!(x instanceof Array))throw new $e(`Corrupted configuration, expected array for nodeData: ${x}`);s(y,x)})}const c=n.name,f=n.layers;for(const g of f)u(g);for(;!btt(o);)for(const g of f){const m=i[g.name];if(m.name in o){const y=o[m.name];delete o[m.name];for(const b of y)l(m,b)}}const d=[],h=[],p=n.inputLayers;for(const g of p){const m=g[0],y=g[1],b=g[2];hc(m in i);const _=i[m].inboundNodes[y].outputTensors;d.push(_[b])}const v=n.outputLayers;for(const g of v){const m=g[0],y=g[1],b=g[2];hc(m in i);const _=i[m].inboundNodes[y].outputTensors;h.push(_[b])}return new t({inputs:d,outputs:h,name:c})}get stateful(){if(this._stateful)throw new $e("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const t of this.layers)if(t.stateful)return!0;return!1}resetStates(){Xe(()=>{this.layers.forEach(t=>{t.stateful&&t.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ont(e,t,n){const r=t.length;if(e==null||Array.isArray(e)&&e.length===0)return t.map(a=>null);if(r===1)return Array.isArray(e)&&e.length===1?e:typeof e=="object"&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}else if(typeof e=="object"&&Object.keys(e).length>0&&typeof e[Object.keys(e)[0]]=="object"){const a=[];return t.forEach(i=>{i in e?a.push(e[i]):a.push(null)}),a}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function kce(e,t){return Ont(e,t,"classWeight")}async function Ice(e,t,n,r){if(n!=null){const a=Xe(()=>{if(e.shape.length===1)return Vv(e);if(e.shape.length===2){if(e.shape[1]>1)return hw(e,1);if(e.shape[1]===1)return He(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await a.data());Wn(a);const o=[];return i.forEach(s=>{if(n[s]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${s} exists in the data but not in classWeight`);o.push(n[s])}),ws(o,"float32")}else return null}function Pnt(e,t){return Pe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Fnt=32;function Ece(e,t){let n,r;const a=t;n=a.xs,r=a.ys,pe(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);const i=I7("input",e.inputNames,n),o=I7("output",e.outputNames,r),s=i[0].shape[0];pe(i.length===e.inputs.length,()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`),pe(o.length===e.outputs.length,()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`);for(let l=0;l<i.length;l++)pe(i[l].shape[0]===s,()=>`Batch size mismatch: input ${e.inputNames[l]} has ${i[l].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`);for(let l=0;l<o.length;l++)pe(o[l].shape[0]===s,()=>`Batch size mismatch: output ${e.outputNames[l]} has ${o[l].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`);return{xs:i,ys:o}}function I7(e,t,n){if(n instanceof Fa)return[n];if(Array.isArray(n))return pe(n.length===t.length,()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`),n;{const r=[];for(const a of t){if(n[a]==null)throw new $e(`The feature data generated by the dataset lacks the required ${e} key '${a}'.`);r.push(n[a])}return r}}function Bnt(e){if(e.length===3)throw new Fn("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}async function Vnt(e,t,n){const r=n.batchesPerEpoch!=null;if(pe(e.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),pe(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),pe(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),pe(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),pe(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const a=n.validationData!=null;let i,o;if(a)if(E7(n.validationData))pe(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const g=Bnt(n.validationData);i=g.xs,o=g.ys}const s=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;a?u=l.slice().concat(l.map(g=>"val_"+g)):u=l.slice();const c=mce(n.callbacks,n.yieldEvery),f=n.verbose==null?1:n.verbose,{callbackList:d,history:h}=yce(c,f,n.epochs,null,null,znt(t,n),null,a,u);d.setModel(e),e.history=h,await d.onTrainBegin(),e.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,v=await t.iterator();for(;p<n.epochs;){const g={};await d.onEpochBegin(p);let m=0,y=0;for(r||(v=await t.iterator());!r||m<n.batchesPerEpoch;){const b=await v.next();if(r&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${m} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){const{xs:x,ys:_}=Ece(e,b.value),S={};S.batch=y,S.size=x[0].shape[0],await d.onBatchBegin(y,S);const C=[];if(n.classWeight!=null){const E=kce(n.classWeight,e.outputNames);for(let I=0;I<E.length;++I)C.push(await Ice(_[I],null,E[I]))}const k=x.concat(_).concat(C),T=s(k);Wn(k);for(let E=0;E<l.length;++E){const I=l[E],A=T[E];S[I]=A,Ic(A)}await d.onBatchEnd(y,S),gce(S),y++,m++}if(r?m>=n.batchesPerEpoch:b.done){if(a){let x;E7(n.validationData)?x=Rr(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):x=Rr(e.evaluate(i,o,{batchSize:n.validationBatchSize==null?Fnt:n.validationBatchSize,verbose:0}));for(let _=0;_<e.metricsNames.length;++_)g[`val_${e.metricsNames[_]}`]=x[_]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(p,g),p++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function znt(e,t){let n=null;return t.batchesPerEpoch!=null?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function E7(e){return typeof e.iterator=="function"}function Wnt(e){return typeof e.next=="function"}async function Hnt(e,t,n){n=n||{};const r=n.batches!=null,a=e.testFunction;let i=[];if(n.verbose>0)throw new Fn("Verbose mode is not implemented yet.");pe(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const o=Wnt(t)?t:await t.iterator();let s=0,l=0;for(;!r||l<n.batches;){const u=await o.next();if(i=Xe(()=>{if(u.value){const{xs:c,ys:f}=Ece(e,u.value),d=c.concat(f),h=Xe(()=>a(d));if(Wn(d),l===0)for(let v=0;v<h.length;++v)i.push(Cr(0));const p=d[0].shape[0];for(let v=0;v<h.length;++v){const g=h[v],m=i[v];i[v]=Xe(()=>Et(i[v],Pe(p,g))),l>0&&Wn(m)}Wn(h),s+=p,++l}return i}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<i.length;++u){const c=i[u];i[u]=gn(i[u],s),Wn(c)}return Wo(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function oM(e){pe(e>0&&Number.isInteger(e),()=>`batchSize is required to be a positive integer, but got ${e}`)}function G1(e,t,n){return e==null?[null]:Array.isArray(e)?e.map(r=>Wv(r,t,n-t)):Wv(e,t,n-t)}function ZP(e,t){return Xe(()=>e==null?null:Array.isArray(e)?e.map(n=>ZP(n,t)):nce(e,t.dtype==="int32"?t:Ut(t,"int32")))}function sM(e,t){const n=[];let r=0,a=null;for(;r<e;)a=r+t,a>=e&&(a=e),n.push([r,a]),r=a;return n}function Ace(e){const t=[];e instanceof Fa&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(r.rank===1)t.push(WS(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function Zl(e,t){if(e==null)return;const n=[];if(t instanceof Fa)n.push(t.id);else if(Array.isArray(t))t.forEach(a=>n.push(a.id));else if(t!=null)for(const a in t){const i=t[a];n.push(i.id)}const r=[];if(e instanceof Fa)n.indexOf(e.id)===-1&&r.push(e);else if(Array.isArray(e))e.forEach(a=>{n.indexOf(a.id)===-1&&r.push(a)});else if(e!=null)for(const a in e){const i=e[a];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(a=>{a.isDisposed||a.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Unt(e){return e instanceof Fa}function JP(e){return Array.isArray(e)}function A7(e){return!Unt(e)&&!JP(e)}function D7(e,t,n,r=!0,a=""){if(t==null||t.length===0){if(e!=null){let o=!1;if(JP(e)&&e.length>0)o=!0;else if(A7(e)){for(const s in e)if(e.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new $e(`Error when checking model ${a} expected no data, but got ${e}`)}return[]}if(e==null)return t.map(o=>null);let i;if(A7(e)){e=e,i=[];for(const o of t){if(e[o]==null)throw new $e(`No data provided for "${o}". Need data for each key in: ${t}`);i.push(e[o])}}else if(JP(e)){if(e=e,e.length!==t.length)throw new $e(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);i=e}else{if(e=e,t.length>1)throw new $e(`The model ${a} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);i=[e]}if(i=Ace(i),n!=null)for(let o=0;o<t.length;++o){if(n[o]==null)continue;const s=i[o];if(s.shape.length!==n[o].length)throw new $e(`Error when checking ${a}: expected ${t[o]} to have ${n[o].length} dimension(s). but got array with shape ${s.shape}`);for(let l=0;l<n[o].length;++l){if(l===0&&!r)continue;const u=s.shape[l],c=n[o][l];if(c!=null&&c>=0&&u!==c)throw new $e(`${a} expected a batch of elements where each example has shape [${n[o].slice(1,n[o].length)}] (i.e.,tensor shape [*,${n[o].slice(1,n[o].length)}]) but the ${a} received an input with ${s.shape[0]} examples, each with shape [${s.shape.slice(1,s.shape.length)}] (tensor shape [${s.shape}])`)}}return i}function Gnt(e,t,n){const r=vh(e.map(i=>i.shape[0]));r.sort();const a=vh(t.map(i=>i.shape[0]));if(a.sort(),r.length>1)throw new $e(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(a.length>1)throw new $e(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(r.length>0&&a.length>0&&!Er(r,a))throw new $e(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${a[0]} target sample(s).`)}function Knt(e,t,n){const r=[QD,eN,bw];for(let a=0;a<e.length;++a){const i=e[a],o=t[a],s=n[a];if(o!=null){if(o===bw&&i.shape[i.shape.length-1]===1)throw new $e(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(o)!==-1){const l=i.shape.slice(1),u=s.slice(1);for(let c=0;c<l.length;++c){const f=l[c],d=u[c];if(d!=null&&f!==d)throw new $e(`A target Tensor with shape ${i.shape} was passed for an output of shape ${s}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function N7(e,t,n,r=!0,a=""){let i;if(Array.isArray(e)){if(e.length!==t.length)throw new $e(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);i=e}else{if(t.length>1)throw new $e(`The model expects ${t.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);i=[e]}if(n!=null)for(let o=0;o<t.length;++o){if(n[o]==null)continue;const s=i[o];if(s.shape.length!==n[o].length)throw new $e(`Error when checking ${a}: expected ${t[o]} to have ${n[o].length} dimension(s), but got array with shape ${JSON.stringify(s.shape)}`);for(let l=0;l<n[o].length;++l){if(l===0&&!r)continue;const u=s.shape[l],c=n[o][l];if(c!=null&&c!==u)throw new $e(`Error when checking ${a}: expected ${t[o]} to have shape ${JSON.stringify(n[o])} but got array with shape ${JSON.stringify(s.shape)}.`)}}}function jnt(e,t){if(e==null||Array.isArray(e)&&e.length===0)return t.map(r=>[]);let n;if(typeof e=="string"||typeof e=="function")n=[e];else if(Array.isArray(e)||typeof e=="object")n=e;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);if(Array.isArray(n))return t.map(r=>n);{const r=[];for(const a of t){let i=n.hasOwnProperty(a)?n[a]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const Ynt="layers-model";class $m extends au{constructor(t){super(t),this.isTraining=!1}summary(t,n,r=console.log){if(!this.built)throw new $e("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Dnt(this,t,n,r)}compile(t){if(t.loss==null&&(t.loss=[]),this.loss=t.loss,typeof t.optimizer=="string")this.optimizer_=Ant(t.optimizer),this.isOptimizerOwned=!0;else{if(!(t.optimizer instanceof sp))throw new $e("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=t.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(t.loss)&&typeof t.loss!="string"&&typeof t.loss!="function"){t.loss=t.loss;for(const o in t.loss)if(this.outputNames.indexOf(o)===-1)throw new $e(`Unknown entry in loss dictionary: "${o}". Only expected the following keys: ${this.outputNames}`);for(const o of this.outputNames)t.loss[o]==null&&console.warn(`Output "${o}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${o} during training`),n.push(iM(t.loss[o]))}else if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new $e(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${t.loss}.`);n=t.loss.map(s=>iM(s))}else{const o=iM(t.loss);this.outputs.forEach(s=>{n.push(o)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){const s=this.internalOutputShapes[o],l=this.outputNames[o];this.feedOutputNames.push(l),this.feedOutputShapes.push(s),this.feedLossFns.push(this.lossFunctions[o])}const r=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],zv("loss",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const s=this.lossFunctions[o];this.outputs.length>1&&(this.metricsTensors.push([s,o]),this.metricsNames.push(this.outputNames[o]+"_loss"))}});const a=jnt(t.metrics,this.outputNames),i=(o,s,l)=>{this.outputNames.length>1&&(s=this.outputNames[o]+"_"+s),this.metricsNames.push(s),this.metricsTensors.push([l,o])};zv("metric",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const s=a[o];(u=>{const c="";let f,d,h;for(const p of u){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const g=this.internalOutputShapes[o];g[g.length-1]===1||this.lossFunctions[o]===eN?["accuracy","acc"].indexOf(p)!==-1?d=xce:["crossentropy","ce"].indexOf(p)!==-1&&(d=bnt):this.lossFunctions[o]===DI?["accuracy","acc"].indexOf(p)!==-1?d=xnt:["crossentropy","ce"].indexOf(p)!==-1&&(d=Sce):["accuracy","acc"].indexOf(p)!==-1?d=wce:["crossentropy","ce"].indexOf(p)!==-1&&(d=_ce);let m;["accuracy","acc"].indexOf(p)!==-1?m="acc":["crossentropy","ce"].indexOf(p)!==-1&&(m="ce"),h=d,f=c+m}else h=Ent(p),f=c+r2(p);let v;zv(f,()=>{v=h}),i(o,f,v)}})(s)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(t,n,r={}){const a=r.batchSize==null?32:r.batchSize;oM(a);const o=this.standardizeUserDataXY(t,n,!0,a);try{const s=o[0].concat(o[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,s,a,r.verbose,r.steps);return Wo(u)}finally{Zl(o[0],t),Zl(o[1],n)}}async evaluateDataset(t,n){return this.makeTestFunction(),Hnt(this,t,n)}checkNumSamples(t,n,r,a="steps"){let i;if(r!=null){if(i=null,n!=null)throw new $e(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(t!=null)Array.isArray(t)?i=t[0].shape[0]:i=t.shape[0];else throw new $e(`Either the input data should have a defined shape, or ${a} shoud be specified.`);return i}execute(t,n){if(Array.isArray(n)&&n.length===0)throw new $e("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),a=r?n:[n],i=this.retrieveSymbolicTensors(a),o=new Xd;if(t instanceof Fa&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new $e(`The number of inputs provided (${t.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)o.add(this.inputs[l],t[l])}else for(const l of this.inputs){const u=t[l.name];if(u==null)throw new $e(`No value is provided for the model's input ${l.name}`);o.add(l,u)}const s=Ab(i,o);return r?s:s[0]}retrieveSymbolicTensors(t){const n=wg(null,t.length);let r=t.length;for(const a of this.layers){const i=Array.isArray(a.output)?a.output:[a.output],o=i.map(s=>s.name);for(let s=0;s<t.length;++s){const l=o.indexOf(t[s]);if(l!==-1&&(n[s]=i[l],r--),r===0)break}if(r===0)break}if(r>0){const a=[];throw n.forEach((i,o)=>{i==null&&a.push(t[o])}),new $e(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return n}predictLoop(t,n=32,r=!1){return Xe(()=>{const a=this.checkNumSamples(t);if(r)throw new Fn("Verbose predictLoop() is not implemented yet.");const i=sM(a,n),o=this.outputs.map(s=>[]);for(let s=0;s<i.length;++s)Xe(()=>{const u=i[s][0],c=i[s][1],f=G1(t,u,c),d=[];if(Array.isArray(f))for(let p=0;p<f.length;++p)d.push({key:this.inputs[p],value:f[p]});else d.push({key:this.inputs[0],value:f});const h=new Xd(d);return Ab(this.outputs,h)}).forEach((u,c)=>o[c].push(u));return Wo(o.map(s=>Xo(s,0)))})}predict(t,n={}){const r=Ace(t);N7(r,this.inputNames,this.feedInputShapes,!1);try{const a=n.batchSize==null?32:n.batchSize;return oM(a),this.predictLoop(r,a)}finally{Zl(r,t)}}predictOnBatch(t){N7(t,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(t)?t[0]:t).shape[0];return this.predictLoop(t,n)}standardizeUserDataXY(t,n,r=!0,a){if(this.optimizer_==null)throw new Il("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let o=0;o<this.feedOutputShapes.length;++o){const s=this.feedOutputShapes[o];this.feedLossFns[o]===DI?i.push(s.slice(0,s.length-1).concat([1])):i.push(s)}if(t=D7(t,this.feedInputNames,this.feedInputShapes,!1,"input"),n=D7(n,this.feedOutputNames,i,!1,"target"),Gnt(t,n),Knt(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&a!=null&&a>0&&t[0].shape[0]%a!==0)throw new $e(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${t[0].shape[0]} sample(s).`);return[t,n]}async standardizeUserData(t,n,r,a,i=!0,o){const[s,l]=this.standardizeUserDataXY(t,n,i,o);if(r!=null)throw new Error("sample weight is not supported yet.");let u=null;if(a!=null){const c=kce(a,this.outputNames);u=[];for(let f=0;f<c.length;++f)u.push(await Ice(l[f],null,c[f]))}return[s,l,u]}testLoop(t,n,r,a=0,i){return Xe(()=>{const o=this.checkNumSamples(n,r,i,"steps"),s=[];if(a>0)throw new Fn("Verbose mode is not implemented yet.");if(i!=null)throw new Fn("steps mode in testLoop() is not implemented yet");{const l=sM(o,r),u=ws(Ou(0,o));for(let c=0;c<l.length;++c){const f=l[c][0],d=l[c][1],h=Wv(u,f,d-f),p=ZP(n,h),v=t(p);if(c===0)for(let g=0;g<v.length;++g)s.push(Cr(0));for(let g=0;g<v.length;++g){const m=v[g];s[g]=Et(s[g],Pe(d-f,m))}}for(let c=0;c<s.length;++c)s[c]=gn(s[c],o)}return s})}getDedupedMetricsNames(){const t=this.metricsNames,n=[];for(let r=0;r<t.length;++r){const a=t[r];let i=a;if(v7(t,a)>1){const o=v7(t.slice(0,r),a);i+=`_${o}`}n.push(i)}return n}makeTrainFunction(){return t=>{const n=[],r=t.slice(0,this.inputs.length),a=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=t.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),o=[],s=()=>{const f=[];for(let v=0;v<this.inputs.length;++v)f.push({key:this.inputs[v],value:r[v]});const d=new Xd(f),h=Ab(this.outputs,d,{training:!0});let p;for(let v=0;v<this.lossFunctions.length;++v){const g=this.lossFunctions[v];let m=g(a[v],h[v]);i[v]!=null&&(m=Pnt(m,i[v]));const y=Aa(m);n.push(y),v===0?p=m:p=Et(p,m)}for(let v=0;v<this.metricsTensors.length;++v){let g;if(this.outputs.length>1&&v<this.outputs.length)g=n[v];else{const m=this.metricsTensors[v][0],y=this.metricsTensors[v][1];g=Aa(m(a[y],h[y]))}Ic(g),o.push(g)}return p=Aa(p),this.calculateLosses().forEach(v=>{p=Et(p,v)}),p},l=this.collectedTrainableWeights.map(f=>f.read());return[this.optimizer_.minimize(s,!0,l)].concat(o)}}makeTestFunction(){this.testFunction=t=>Xe(()=>{const n=[];let r;const a=t.slice(0,this.inputs.length),i=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let u=0;u<this.inputs.length;++u)o.push({key:this.inputs[u],value:a[u]});const s=new Xd(o),l=Ab(this.outputs,s);for(let u=0;u<this.lossFunctions.length;++u){const c=this.lossFunctions[u],f=Aa(c(i[u],l[u]));u===0?r=f:r=Et(r,f),n.push(r)}for(let u=0;u<this.metricsTensors.length;++u){const c=this.metricsTensors[u][0],f=this.metricsTensors[u][1],d=Aa(c(i[f],l[f]));n.push(d)}return n})}async fit(t,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let a,i,o,s,l,u,c,f,d;try{const h=r.batchSize==null?32:r.batchSize;oM(h);const v=await this.standardizeUserData(t,n,r.sampleWeight,r.classWeight,!1,h);a=v[0],i=v[1],d=v[2];let g=!1,m;if(r.validationData!=null&&r.validationData.length>0){if(g=!0,r.validationData.length===2)l=r.validationData[0],u=r.validationData[1];else throw r.validationData.length===3?new Fn("validationData including sample weights is not supported yet."):new $e(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const E=await this.standardizeUserData(l,u,null,null,!0,h);c=E[0],f=E[1],m=c.concat(f)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){g=!0;const T=Math.floor(a[0].shape[0]*(1-r.validationSplit)),E=a[0].shape[0];c=G1(a,T,E),o=a,a=G1(a,0,T),f=G1(i,T,E),s=i,i=G1(i,0,T),m=c.concat(f)}else r.validationSteps!=null&&(g=!0);const y=a.concat(i).concat(d);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),x=this.getDedupedMetricsNames();let _,S;g?(this.makeTestFunction(),_=this.testFunction,S=x.slice().concat(x.map(T=>"val_"+T))):(_=null,m=[],S=x.slice());const C=mce(r.callbacks,r.yieldEvery);return await this.fitLoop(b,y,x,h,r.epochs,r.verbose,C,_,m,r.shuffle,S,r.initialEpoch,null,null)}finally{this.isTraining=!1,Zl(a,t),Zl(i,n),Zl(o,t),Zl(s,n),Zl(c,l),Zl(f,u),d!=null&&Wn(d)}}async fitLoop(t,n,r,a,i,o,s,l,u,c,f,d,h,p){a==null&&(a=32),i==null&&(i=1),c==null&&(c=!0),d==null&&(d=0);let v=!1;if(l!=null&&u!=null&&(v=!0),p!=null&&(v=!0,h==null))throw new $e("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const g=this.checkNumSamples(n,a,h,"steps_per_epoch");let m;g!=null&&(m=Ou(0,g)),o==null&&(o=1);const{callbackList:y,history:b}=yce(s,o,i,d,g,h,a,v,f);y.setModel(this),this.history=b,await y.onTrainBegin(),this.stopTraining_=!1;for(let x=d;x<i;++x){await y.onEpochBegin(x);const _={};if(h!=null)throw new Fn("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new Fn("batch shuffling is not implemneted yet");c&&cKe(m);const S=ws(m),C=sM(g,a);for(let k=0;k<C.length;++k){const T={};if(await y.onBatchBegin(k,T),Xe(()=>{const E=C[k][0],I=C[k][1],A=Wv(S,E,I-E);T.batch=k,T.size=I-E;const N=ZP(n,A),L=t(N);for(let R=0;R<r.length;++R){const D=r[R],P=L[R];T[D]=P,Ic(P)}if(k===C.length-1&&v){const R=this.testLoop(l,u,a);for(let D=0;D<r.length;++D){const P=r[D],O=R[D];Ic(O),_["val_"+P]=O}}}),await y.onBatchEnd(k,T),gce(T),this.stopTraining_)break}S.dispose()}if(await y.onEpochEnd(x,_),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(t,n){return Vnt(this,t,n)}async trainOnBatch(t,n){const r=await this.standardizeUserData(t,n),a=r[0],i=r[1],s=this.makeTrainFunction()(a.concat(i)),l=[];for(const u of s){const c=await u.data();l.push(c[0])}return Wn(s),Zl(r[0],t),Zl(r[1],n),Wo(l)}getNamedWeights(t){const n=[],r=t!=null&&t.trainableOnly,a=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let o=0;o<a.length;++o)r&&!a[o].trainable||n.push({name:a[o].originalName,tensor:i[o]});return n}set stopTraining(t){this.stopTraining_=t}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(t){this.optimizer_!==t&&(this.optimizer_=t,this.isOptimizerOwned=!1)}dispose(){const t=super.dispose();if(t.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=z9().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-z9().numTensors}return t}getLossIdentifiers(){let t;if(typeof this.loss=="string")t=wf(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");t=this.loss.map(n=>wf(n))}else{const n=Object.keys(this.loss);t={};const r=this.loss;for(const a of n)if(typeof r[a]=="string")t[a]=wf(r[a]);else throw new Error("Serialization of non-string loss is not supported.")}return t}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[wf(r2(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(t=>wf(r2(t)));{const t={};for(const n in this.metrics)t[n]=wf(r2(this.metrics[n]));return t}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(t){if(t.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(t.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(t.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=$I(t.optimizer_config),r=Nc(n);let a;if(typeof t.loss=="string")a=cv(t.loss);else if(Array.isArray(t.loss))a=t.loss.map(o=>cv(o));else if(t.loss!=null){a={};for(const o in t.loss)a[o]=cv(t.loss[o])}let i;if(Array.isArray(t.metrics))i=t.metrics.map(o=>cv(o));else if(t.metrics!=null){i={};for(const o in t.metrics)i[o]=cv(t.metrics[o])}this.compile({loss:a,metrics:i,optimizer:r})}async save(t,n){if(typeof t=="string"){const u=mje(t);if(u.length===0)throw new $e(`Cannot find any save handlers for URL '${t}'`);if(u.length>1)throw new $e(`Found more than one (${u.length}) save handlers for URL '${t}'`);t=u[0]}if(t.save==null)throw new $e("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await W9(this.getNamedWeights(n)),s={modelTopology:this.toJSON(null,!1),format:Ynt,generatedBy:`TensorFlow.js tfjs-layers v${Tce}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){s.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:c,specs:f}=await W9(await this.optimizer.getWeights(),u);r.specs.push(...f),r.data=uje([r.data,c])}return this.userDefinedMetadata!=null&&(k7(this.userDefinedMetadata,this.name,!0),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=r.data,s.weightSpecs=r.specs,t.save(s)}setUserDefinedMetadata(t){k7(t,this.name),this.userDefinedMetadata=t}getUserDefinedMetadata(){return this.userDefinedMetadata}}$m.className="Model";bt($m);class Dce extends $m{}Dce.className="Functional";bt(Dce);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Xnt(e,t){if(t==null&&(t={}),typeof e=="string"){const n=yje(e,t);if(n.length===0)n.push(eQe(e,t));else if(n.length>1)throw new $e(`Found more than one (${n.length}) load handlers for URL '${e}'`);e=n[0]}return qnt(e,void 0,t)}async function qnt(e,t,n){if(n==null&&(n={}),e.load==null)throw new $e("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await e.load();let a=r.modelTopology;a.model_config!=null&&(a=a.model_config);const i=n.strict==null?!0:n.strict,o=r.weightData!=null&&r.weightSpecs!=null&&i,s=Nc($I(a),t,o),l=r.trainingConfig;if(l!=null&&s.loadTrainingConfig(l),r.userDefinedMetadata!=null&&s.setUserDefinedMetadata(r.userDefinedMetadata),r.weightData!=null){if(r.weightSpecs==null)throw new $e("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:u,optimizerWeights:c}=Znt(r.weightData,r.weightSpecs);s.loadWeights(u,i),s.optimizer!=null&&c.length>0&&await s.optimizer.setWeights(c),Wn(u),Wn(c.map(f=>f.tensor))}return s}function Znt(e,t){const n=rje(e,t),r={},a=[];return t.forEach(i=>{i.group==="optimizer"?a.push({name:i.name,tensor:n[i.name]}):r[i.name]=n[i.name]}),{modelWeights:r,optimizerWeights:a}}class xw extends $m{constructor(t){if(super({inputs:[],outputs:[]}),t=t||{},this.trainable=!0,this.built=!1,this.name=t.name!=null?t.name:qD("sequential_"),t.layers!=null)for(const n of t.layers)this.add(n)}checkShape(t){if(t.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new $e(`Negative dimension size caused by adding layer ${t.name} with input shape [${t.inboundNodes[0].inputTensors[0].shape}]`)}add(t){const n=t instanceof xw||t instanceof $m;let r;if(n){if(r=t,r.outputs.length!==1)throw new $e("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new $e("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(t.inboundNodes.length===0){if(t.batchInputShape==null)throw new $e("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const a=qtt({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(a)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(t.inboundNodes.length!==1)throw new $e(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${t.name} which has ${t.inboundNodes.length} pre-existing inbound connections.`);if(t.inboundNodes[0].outputTensors.length!==1)throw new $e("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=fce(this.outputs[0])}this.inboundNodes=[],new JD({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:wg(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{const a=t.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(t,n){return this.model==null&&this.build(),this.model.call(t,n)}build(t){if(xr(t),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new $m({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(t,n,r=console.log){this.built||this.build(),super.summary(t,n,r)}setWeights(t){this.model==null&&this.build(),this.model.setWeights(t)}evaluate(t,n,r={}){if(!this.built)throw new Il("The model needs to be compiled before being used.");return this.model.evaluate(t,n,r)}async evaluateDataset(t,n){if(!this.built)throw new Il("The model needs to be compiled before being used.");return this.model.evaluateDataset(t,n)}predict(t,n={}){return this.model==null&&this.build(),this.model.predict(t,n)}predictOnBatch(t){return this.model==null&&this.build(),this.model.predictOnBatch(t)}compile(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(t){this.model.optimizer=t}async fit(t,n,r={}){if(!this.built)throw new Il("The model needs to be compiled before being used.");return this.model.fit(t,n,r)}async fitDataset(t,n){if(!this.built)throw new Il("The model needs to be compiled before being used.");return this.model.fitDataset(t,n)}async trainOnBatch(t,n){return this.model.trainOnBatch(t,n)}static fromConfig(t,n,r={},a=!1){let i,o={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new $e("Legacy serialization format not supported yet.");i=n}else pe(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,o=n;const s=new t(o);if(!(s instanceof xw))throw new Fn(`Sequential.fromConfig called on non-Sequential input: ${s}`);for(const l of i){const c=Nc(l,void 0,a);a&&c.setFastWeightInitDuringBuild(!0),s.add(c)}return s}set stopTraining(t){if(this.model==null)throw new $e("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t}get stopTraining(){if(this.model==null)throw new $e("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const t=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),t.push(r)}return{name:this.name,layers:t}}}xw.className="Sequential";bt(xw);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Ji=class extends Ug{getConfig(){return{}}};class Nce extends Ji{apply(t,n=1){return $tt(t,n)}}Nce.className="elu";bt(Nce);class Rce extends Ji{apply(t){return jle(t)}}Rce.className="selu";bt(Rce);class Mce extends Ji{apply(t){return Wg(t)}}Mce.className="relu";bt(Mce);class $ce extends Ji{apply(t){return Xe(()=>gw(6,Wg(t)))}}$ce.className="relu6";bt($ce);class Lce extends Ji{apply(t){return t}}Lce.className="linear";bt(Lce);class Oce extends Ji{apply(t){return e1(t)}}Oce.className="sigmoid";bt(Oce);class Pce extends Ji{apply(t){return Ott(t)}}Pce.className="hardSigmoid";bt(Pce);class Fce extends Ji{apply(t){return $S(t)}}Fce.className="softplus";bt(Fce);class Bce extends Ji{apply(t){return Ltt(t)}}Bce.className="softsign";bt(Bce);class Vce extends Ji{apply(t){return VD(t)}}Vce.className="tanh";bt(Vce);let R8=class extends Ji{apply(t,n=-1){return $z(t,n)}};R8.className="softmax";bt(R8);class zce extends Ji{apply(t,n=-1){return Ble(t,n)}}zce.className="logSoftmax";bt(zce);class Wce extends Ji{apply(t){return Xe(()=>Xe(()=>{const n=Math.sqrt(2),r=Pe(.5,Et(1,$le(gn(t,n))));return Pe(t,r)}))}}Wce.className="gelu";bt(Wce);class Hce extends Ji{apply(t){return Xe(()=>Pe(.5,Pe(t,Et(1,VD(Pe(Ki(gn(2,Math.PI)),Et(t,Pe(.044715,yg(t,3)))))))))}}Hce.className="gelu_new";bt(Hce);class Uce extends Ji{apply(t){return Xe(()=>Pe(t,VD($S(t))))}}Uce.className="mish";bt(Uce);class Gce extends Ji{apply(t,n=1){return Xe(()=>Pe(e1(Pe(t,n)),t))}}Gce.className="swish";bt(Gce);function $h(e){return e.getClassName()}function lM(e,t={}){return zS(e,_l.getMap().classNameMap,t,"activation")}function Lh(e){if(e==null){const t={};return t.className="linear",t.config={},lM(t)}if(typeof e=="string"){const t={};return t.className=e,t.config={},lM(t)}else return e instanceof Ji?e:lM(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Jnt(e){if(e!=null&&typeof e!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}class Kce extends Ug{}class jce extends Kce{constructor(t){super(),Jnt(t),this.l1=t==null||t.l1==null?.01:t.l1,this.l2=t==null||t.l2==null?.01:t.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(t){return Xe(()=>{let n=ni([1]);return this.hasL1&&(n=Et(n,pn(Pe(this.l1,oo(t))))),this.hasL2&&(n=Et(n,pn(Pe(this.l2,HS(t))))),He(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(t,n){return new t({l1:n.l1,l2:n.l2})}}jce.className="L1L2";bt(jce);const R7={l1l2:"L1L2"};function Wr(e){return y8(e)}function M7(e,t={}){return zS(e,_l.getMap().classNameMap,t,"regularizer")}function sa(e){if(e==null)return null;if(typeof e=="string"){const n={className:e in R7?R7[e]:e,config:{}};return M7(n)}else return e instanceof Kce?e:M7(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Yce extends Yn{constructor(t){super(t??{}),this.supportsMasking=!0,t!=null&&(this.maxValue=t.maxValue)}call(t,n){t=Tn(t);let r=Wg(t);return this.maxValue!=null&&(r=Xs(r,0,this.maxValue)),r}computeOutputShape(t){return t}getConfig(){const t={maxValue:this.maxValue},n=super.getConfig();return Object.assign(t,n),t}}Yce.className="ReLU";bt(Yce);class Xce extends Yn{constructor(t){super(t??{}),this.DEFAULT_ALPHA=.3,t==null&&(t={}),this.alpha=t.alpha==null?this.DEFAULT_ALPHA:t.alpha}call(t,n){const r=Tn(t);return Cz(r,this.alpha)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},n=super.getConfig();return Object.assign(t,n),t}}Xce.className="LeakyReLU";bt(Xce);class qce extends Yn{constructor(t){if(super(t??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",t==null&&(t={}),this.supportsMasking=!0,this.alphaInitializer=oa(t.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=sa(t.alphaRegularizer),this.alphaConstraint=Ka(t.alphaConstraint),t.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(t.sharedAxes))this.sharedAxes=t.sharedAxes;else if(typeof t.sharedAxes=="number")this.sharedAxes=[t.sharedAxes];else throw new $e(`Expected sharedAxes to be a number or an array of numbers, but got ${t.sharedAxes}`)}build(t){t=xr(t);const n=t.slice(1);if(this.sharedAxes!=null)for(const a of this.sharedAxes)n[a-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let a=1;a<t.length;++a)r[a]=t[a];this.inputSpec=[new za({ndim:t.length,axes:r})],this.built=!0}call(t,n){return t=Tn(t),Dz(t,this.alpha.read())}getConfig(){const t={alphaInitializer:fa(this.alphaInitializer),alphaRegularizer:Wr(this.alphaRegularizer),alphaConstraint:Ga(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(t,n),t}}qce.className="PReLU";bt(qce);let Zce=class extends Yn{constructor(t){if(super(t??{}),this.DEFAULT_ALPHA=1,t==null&&(t={}),t.alpha!=null&&t.alpha!==this.DEFAULT_ALPHA)throw new Fn(`Non-default alpha value (${t.alpha}) is not supported by the ELU layer yet.`);this.alpha=t.alpha==null?this.DEFAULT_ALPHA:t.alpha}call(t,n){const r=Tn(t);return HD(r)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},n=super.getConfig();return Object.assign(t,n),t}};Zce.className="ELU";bt(Zce);class Jce extends Yn{constructor(t){super(t??{}),this.DEFAULT_THETA=1,t==null&&(t={}),this.theta=t.theta==null?this.DEFAULT_THETA:t.theta}call(t,n){const r=Tn(t);return Pe(r,Ut(Js(r,this.theta),"float32"))}computeOutputShape(t){return t}getConfig(){const t={theta:this.theta},n=super.getConfig();return Object.assign(t,n),t}}Jce.className="ThresholdedReLU";bt(Jce);class Qce extends Yn{constructor(t){super(t??{}),this.DEFAULT_AXIS=1,t==null&&(t={}),this.softmax=new R8().apply,this.axis=t.axis==null?this.DEFAULT_AXIS:t.axis}call(t,n){return Xe(()=>{let r=Tn(t);const a=n.mask;if(a!=null){const i=Pe(Sn(op(r.shape),Ut(a,r.dtype)),Cr(-1e9));r=Et(r,i)}return this.axis instanceof Array?this.axis.length>1?Bc(Sn(r,Vle(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(t){return t}getConfig(){const t={axis:this.axis},n=super.getConfig();return Object.assign(t,n),t}}Qce.className="Softmax";bt(Qce);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Lm(e,t,n){if(typeof e=="number")return wg(e,t);if(e.length!==t)throw new $e(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const a=e[r];if(!Dtt(a))throw new $e(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${a}`)}return e}function ku(e,t,n,r,a=1){if(e==null)return e;const i=t+(t-1)*(a-1);let o;return n==="same"?o=e:o=e-i+1,Math.floor((o+r-1)/r)}function pc(e,t,n,r){if(e==null)return null;if(r==="valid")e=e*t+Mh([n-t,0]);else if(r==="same")e=e*t;else throw new $e(`Unsupport padding mode: ${r}.`);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function M8(e,t){return Xe(()=>(Ta(t),t==="channelsFirst"?hr(e,[0,2,3,1]):e))}function efe(e,t){return Xe(()=>(Ta(t),t==="channelsFirst"?hr(e,[0,2,3,4,1]):e))}function Qnt(e,t,n,r=1,a="valid",i,o=1){return Xe(()=>{if(i==null&&(i=Pu()),Ta(i),e.shape.length!==3)throw new $e(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(t.shape.length!==3)throw new $e(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new $e(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(i==="channelsFirst"&&(e=hr(e,[0,2,1])),a==="causal")throw new Fn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let s=Ale(e,t,r,a==="same"?"same":"valid","NWC",o);return n!=null&&(s=Gu(s,n)),s})}function $7(e,t,n,r=[1,1],a="valid",i,o,s=null){return Xe(()=>{if(i==null&&(i=Pu()),Ta(i),e.rank!==3&&e.rank!==4)throw new $e(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(t.rank!==3&&t.rank!==4)throw new $e(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=M8(e,i);if(a==="causal")throw new Fn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=JZe({x:l,filter:t,strides:r,pad:a==="same"?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:s}),i==="channelsFirst"&&(l=hr(l,[0,3,1,2])),l})}function ert(e,t,n,r=[1,1,1],a="valid",i,o){return Xe(()=>{if(i==null&&(i=Pu()),Ta(i),e.rank!==4&&e.rank!==5)throw new $e(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(t.rank!==4&&t.rank!==5)throw new $e(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let s=efe(e,i);if(a==="causal")throw new Fn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=YYe(s,t,r,a==="same"?"same":"valid","NDHWC",o),n!=null&&(s=Gu(s,n)),i==="channelsFirst"&&(s=hr(s,[0,4,1,2,3])),s})}class tN extends Yn{constructor(t,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",tN.verifyArgs(n),this.rank=t,ri(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Fn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Lm(n.kernelSize,t,"kernelSize"),this.strides=Lm(n.strides==null?1:n.strides,t,"strides"),this.padding=n.padding==null?"valid":n.padding,Qs(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Ta(this.dataFormat),this.activation=Lh(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=oa(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Ka(n.biasConstraint),this.biasRegularizer=sa(n.biasRegularizer),this.activityRegularizer=sa(n.activityRegularizer),this.dilationRate=Lm(n.dilationRate==null?1:n.dilationRate,t,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new $e(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new $e(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new $e(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(t){if(hc("kernelSize"in t,"required key 'kernelSize' not in config"),typeof t.kernelSize!="number"&&!b8(t.kernelSize,"number",1,3))throw new $e(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(t.kernelSize)}.`)}getConfig(){const t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:$h(this.activation),useBias:this.useBias,biasInitializer:fa(this.biasInitializer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),biasConstraint:Ga(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}}class r1 extends tN{constructor(t,n){super(t,n),this.kernel=null,r1.verifyArgs(n),this.filters=n.filters,ri(this.filters,"filters"),this.kernelInitializer=oa(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Ka(n.kernelConstraint),this.kernelRegularizer=sa(n.kernelRegularizer)}build(t){t=xr(t);const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new $e(`The channel dimension of the input should be defined. Found ${t[n]}`);const r=t[n],a=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(t,n){return Xe(()=>{t=Tn(t);let r;const a=this.bias==null?null:this.bias.read(),i=que(this.activation.getClassName());if(i!=null&&this.rank===2)r=$7(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=Qnt(t,this.kernel.read(),a,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=$7(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=ert(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Fn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(t){t=xr(t);const n=[],r=this.dataFormat==="channelsLast"?t.slice(1,t.length-1):t.slice(2);for(let i=0;i<r.length;++i){const o=ku(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(o)}let a=[t[0]];return this.dataFormat==="channelsLast"?(a=a.concat(n),a.push(this.filters)):(a.push(this.filters),a=a.concat(n)),a}getConfig(){const t={filters:this.filters,kernelInitializer:fa(this.kernelInitializer),kernelRegularizer:Wr(this.kernelRegularizer),kernelConstraint:Ga(this.kernelConstraint)},n=super.getConfig();return Object.assign(t,n),t}static verifyArgs(t){if(!("filters"in t)||typeof t.filters!="number"||t.filters<1)throw new $e(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(t.filters)}`)}}class jS extends r1{constructor(t){super(2,t),jS.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!b8(t.kernelSize,"number",1,2))throw new $e(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(t.kernelSize)}.`)}}jS.className="Conv2D";bt(jS);class YS extends r1{constructor(t){super(3,t),YS.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!(Array.isArray(t.kernelSize)&&(t.kernelSize.length===1||t.kernelSize.length===3)))throw new $e(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(t.kernelSize)}.`)}}YS.className="Conv3D";bt(YS);class tfe extends jS{constructor(t){if(super(t),this.inputSpec=[new za({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new $e(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(t=xr(t),t.length!==4)throw new $e("Input should have rank 4; Received input shape: "+JSON.stringify(t));const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new $e("The channel dimension of the inputs should be defined. Found `None`.");const r=t[n],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new za({ndim:4,axes:{[n]:r}})],this.built=!0}call(t,n){return Xe(()=>{let r=Tn(t);if(r.shape.length!==4)throw new $e(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape,i=a[0];let o,s;this.dataFormat==="channelsFirst"?(o=2,s=3):(o=1,s=2);const l=a[o],u=a[s],c=this.kernelSize[0],f=this.kernelSize[1],d=this.strides[0],h=this.strides[1],p=pc(l,d,c,this.padding),v=pc(u,h,f,this.padding),g=[i,p,v,this.filters];this.dataFormat!=="channelsLast"&&(r=hr(r,[0,2,3,1]));let m=Dle(r,this.kernel.read(),g,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(m=hr(m,[0,3,1,2])),this.bias!=null&&(m=Gu(m,this.bias.read(),this.dataFormat)),this.activation!=null&&(m=this.activation.apply(m)),m})}computeOutputShape(t){t=xr(t);const n=t.slice();let r,a,i;this.dataFormat==="channelsFirst"?(r=1,a=2,i=3):(r=3,a=1,i=2);const o=this.kernelSize[0],s=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return n[r]=this.filters,n[a]=pc(n[a],l,o,this.padding),n[i]=pc(n[i],u,s,this.padding),n}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}tfe.className="Conv2DTranspose";bt(tfe);class nfe extends YS{constructor(t){if(super(t),this.inputSpec=[new za({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new $e(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(t=xr(t),t.length!==5)throw new $e("Input should have rank 5; Received input shape: "+JSON.stringify(t));const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new $e("The channel dimension of the inputs should be defined. Found `None`.");const r=t[n],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new za({ndim:5,axes:{[n]:r}})],this.built=!0}call(t,n){return Xe(()=>{let r=Tn(t);if(r.shape.length!==5)throw new $e(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape,i=a[0];let o,s,l;this.dataFormat==="channelsFirst"?(l=2,o=3,s=4):(l=1,o=2,s=3);const u=a[l],c=a[o],f=a[s],d=this.kernelSize[0],h=this.kernelSize[1],p=this.kernelSize[2],v=this.strides[0],g=this.strides[1],m=this.strides[2],y=pc(u,v,d,this.padding),b=pc(c,g,h,this.padding),x=pc(f,m,p,this.padding),_=[i,y,b,x,this.filters];this.dataFormat!=="channelsLast"&&(r=hr(r,[0,2,3,4,1]));let S=ZYe(r,this.kernel.read(),_,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(S=hr(S,[0,4,1,2,3])),this.bias!==null&&(S=Gu(S,this.bias.read(),this.dataFormat)),this.activation!==null&&(S=this.activation.apply(S)),S})}computeOutputShape(t){t=xr(t);const n=t.slice();let r,a,i,o;this.dataFormat==="channelsFirst"?(r=1,a=2,i=3,o=4):(r=4,a=1,i=2,o=3);const s=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],f=this.strides[1],d=this.strides[2];return n[r]=this.filters,n[a]=pc(n[a],c,s,this.padding),n[i]=pc(n[i],f,l,this.padding),n[o]=pc(n[o],d,u,this.padding),n}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}nfe.className="Conv3DTranspose";bt(nfe);class rfe extends r1{constructor(t,n){if(super(t,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new $e("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new $e("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new $e(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=oa(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=sa(n.depthwiseRegularizer),this.depthwiseConstraint=Ka(n.depthwiseConstraint),this.pointwiseInitializer=oa(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=sa(n.pointwiseRegularizer),this.pointwiseConstraint=Ka(n.pointwiseConstraint)}build(t){if(t=xr(t),t.length<this.rank+2)throw new $e(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(t)}`);const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null||t[n]<0)throw new $e(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(t[n])}`);const r=t[n],a=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let s=0;s<this.rank;++s)i.push(1);i.push(r*this.depthMultiplier,this.filters);const o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new za({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(t,n){return Xe(()=>{t=Tn(t);let r;if(this.rank===1)throw new Fn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(t=hr(t,[0,2,3,1])),r=Yle(t,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=Gu(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=hr(r,[0,3,1,2])),r})}getConfig(){const t=super.getConfig();return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=fa(this.depthwiseInitializer),t.pointwiseInitializer=fa(this.pointwiseInitializer),t.depthwiseRegularizer=Wr(this.depthwiseRegularizer),t.pointwiseRegularizer=Wr(this.pointwiseRegularizer),t.depthwiseConstraint=Ga(this.depthwiseConstraint),t.pointwiseConstraint=Ga(this.pointwiseConstraint),t}}rfe.className="SeparableConv";class afe extends rfe{constructor(t){super(2,t)}}afe.className="SeparableConv2D";bt(afe);class nN extends r1{constructor(t){super(1,t),nN.verifyArgs(t),this.inputSpec=[{ndim:3}]}getConfig(){const t=super.getConfig();return delete t.rank,delete t.dataFormat,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!b8(t.kernelSize,"number",1,1))throw new $e(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(t.kernelSize)}.`)}}nN.className="Conv1D";bt(nN);class ife extends Yn{constructor(t){super(t),typeof t.cropping=="number"?this.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:typeof t.cropping[0]=="number"?this.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:this.cropping=t.cropping,this.dataFormat=t.dataFormat===void 0?"channelsLast":t.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(t){return this.dataFormat==="channelsFirst"?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[3]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]}call(t,n){return Xe(()=>{if(t=Tn(t),this.dataFormat==="channelsLast"){const r=n2(t,this.cropping[0][0],t.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return n2(r,this.cropping[1][0],t.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=n2(t,this.cropping[0][0],t.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return n2(r,this.cropping[1][0],t.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const t={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}ife.className="Cropping2D";bt(ife);class ofe extends Yn{constructor(t){super(t),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=t.size==null?this.DEFAULT_SIZE:t.size,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Ta(this.dataFormat),this.interpolation=t.interpolation==null?"nearest":t.interpolation,Itt(this.interpolation)}computeOutputShape(t){if(this.dataFormat==="channelsFirst"){const n=t[2]==null?null:this.size[0]*t[2],r=t[3]==null?null:this.size[1]*t[3];return[t[0],t[1],n,r]}else{const n=t[1]==null?null:this.size[0]*t[1],r=t[2]==null?null:this.size[1]*t[2];return[t[0],n,r,t[3]]}}call(t,n){return Xe(()=>{let r=Tn(t);const a=r.shape;if(this.dataFormat==="channelsFirst"){r=hr(r,[0,2,3,1]);const i=this.size[0]*a[2],o=this.size[1]*a[3],s=this.interpolation==="nearest"?If.resizeNearestNeighbor(r,[i,o]):If.resizeBilinear(r,[i,o]);return hr(s,[0,3,1,2])}else{const i=this.size[0]*a[1],o=this.size[1]*a[2];return this.interpolation==="nearest"?If.resizeNearestNeighbor(r,[i,o]):If.resizeBilinear(r,[i,o])}})}getConfig(){const t={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(t,n),t}}ofe.className="UpSampling2D";bt(ofe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function trt(e,t,n=[1,1],r="valid",a,i){return Xe(()=>{a==null&&(a=Pu()),Ta(a);let o=M8(e,a);if(e.rank!==4)throw new $e(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(t.rank!==4)throw new $e(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return o=xz(o,t,n,r==="same"?"same":"valid","NHWC",i),a==="channelsFirst"&&(o=hr(o,[0,3,1,2])),o})}class sfe extends tN{constructor(t){super(2,t),this.depthwiseKernel=null,this.depthMultiplier=t.depthMultiplier==null?1:t.depthMultiplier,this.depthwiseInitializer=oa(t.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Ka(t.depthwiseConstraint),this.depthwiseRegularizer=sa(t.depthwiseRegularizer)}build(t){if(t=xr(t),t.length<4)throw new $e(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(t)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(t[n]==null||t[n]<0)throw new $e(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${t[n]}).`);const r=t[n],a=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",a,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Xe(()=>{t=Tn(t);let r=trt(t,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=Gu(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(t){t=xr(t);const n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2],a=this.dataFormat==="channelsFirst"?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,i=ku(n,this.kernelSize[0],this.padding,this.strides[0]),o=ku(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[t[0],a,i,o]:[t[0],i,o,a]}getConfig(){const t=super.getConfig();return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=fa(this.depthwiseInitializer),t.depthwiseRegularizer=Wr(this.depthwiseRegularizer),t.depthwiseConstraint=Ga(this.depthwiseRegularizer),t}}sfe.className="DepthwiseConv2D";bt(sfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function lfe(e,t,n,r){if(Array.isArray(e)){if(t!=null||n!=null)throw new $e("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(i){return i==null||Array.isArray(i)?i:[i]}return t=a(t),n=a(n),{inputs:e,initialState:t,constants:n}}function ufe(e,t,n,r=!1,a,i,o=!1,s=!1){return Xe(()=>{const l=t.shape.length;if(l<3)throw new $e(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(Ou(2,l));t=hr(t,u),o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),a!=null&&(a=Ut(Ut(a,"bool"),"float32"),a.rank===l-1&&(a=zo(a,-1)),a=hr(a,u)),r&&(t=bg(t,0),a!=null&&(a=bg(a,0)));const c=[];let f,d=n;const h=t.shape[0],p=xg(t);let v;a!=null&&(v=xg(a));for(let m=0;m<h;++m){const y=p[m],b=Xe(()=>e(y,d));if(a==null)f=b[0],d=b[1];else{const x=Xe(()=>{const _=v[m],S=Sn(Bl(_),_),C=Et(Pe(b[0],_),Pe(d[0],S)),k=d.map((T,E)=>Et(Pe(b[1][E],_),Pe(T,S)));return{output:C,newStates:k}});f=x.output,d=x.newStates}s&&c.push(f)}let g;return s&&(g=Kf(c,1)),[f,g,d]})}class lp extends Yn{constructor(t){super(t);let n;if(t.cell==null)throw new $e("cell property is missing for the constructor of RNN.");if(Array.isArray(t.cell)?n=new O8({cells:t.cell}):n=t.cell,n.stateSize==null)throw new $e("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=t.returnSequences==null?!1:t.returnSequences,this.returnState=t.returnState==null?!1:t.returnState,this.goBackwards=t.goBackwards==null?!1:t.goBackwards,this._stateful=t.stateful==null?!1:t.stateful,this.unroll=t.unroll==null?!1:t.unroll,this.supportsMasking=!0,this.inputSpec=[new za({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Ou(0,t).map(n=>null)}else return this.states_}setStates(t){this.states_=t}computeOutputShape(t){jP(t)&&(t=t[0]),t=t;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let a;if(this.returnSequences?a=[t[0],t[1],r]:a=[t[0],r],this.returnState){const i=[];for(const o of n)i.push([t[0],o]);return[a].concat(i)}else return a}computeMask(t,n){return Xe(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const a=this.states.map(i=>null);return[r].concat(a)}else return r})}get states(){if(this.states_==null){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<t;++r)n.push(null);return n}else return this.states_}set states(t){this.states_=t}build(t){if(this.numConstants!=null)throw new Fn("Constants support is not implemented in RNN yet.");jP(t)&&(t=t[0]),t=t;const n=this.stateful?t[0]:null,r=t.slice(2);this.inputSpec[0]=new za({shape:[n,null,...r]});const a=[t[0]].concat(t.slice(2));this.cell.build(a);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!Er(this.stateSpec.map(o=>o.shape[o.shape.length-1]),i))throw new $e(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(o=>new za({shape:[null,o]}));this.stateful&&this.resetStates()}resetStates(t,n=!1){Xe(()=>{if(!this.stateful)throw new dc("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new $e("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>ni([r,a])):this.states_=[ni([r,this.cell.stateSize])];else if(t==null)Wn(this.states_),this.keptStates!=null&&(Wn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>ni([r,a])):this.states_[0]=ni([r,this.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new $e(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n===!0?this.keptStates.push(this.states_.slice()):Wn(this.states_);for(let a=0;a<this.states_.length;++a){const i=t[a],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,s=[r,o];if(!Er(i.shape,s))throw new $e(`State ${a} is incompatible with layer ${this.name}: expected shape=${s}, received shape=${i.shape}`);this.states_[a]=i}}this.states_=this.states_.map(a=>Ic(a.clone()))})}apply(t,n){let r=n==null?null:n.initialState,a=n==null?null:n.constants;n==null&&(n={});const i=lfe(t,r,a,this.numConstants);t=i.inputs,r=i.initialState,a=i.constants;let o=[],s=[];if(r!=null){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(const u of r)this.stateSpec.push(new za({shape:u.shape}));s=s.concat(this.stateSpec)}if(a!=null&&(n.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof zc){const u=[t].concat(o),c=this.inputSpec.concat(s),f=this.inputSpec;this.inputSpec=c;const d=super.apply(u,n);return this.inputSpec=f,d}else return super.apply(t,n)}call(t,n){return Xe(()=>{const r=n==null?null:n.mask,a=n==null?null:n.training;let i=n==null?null:n.initialState;t=Tn(t),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(t));const o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==o)throw new $e(`RNN Layer has ${o} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const s={training:a},u=ufe((p,v)=>{const g=this.cell.call([p].concat(v),s);return[g[0],g.slice(1)]},t,i,this.goBackwards,r,null,this.unroll,this.returnSequences),c=u[0],f=u[1],d=u[2];this.stateful&&this.resetStates(d,a);const h=this.returnSequences?f:c;return this.returnState?[h].concat(d):h})}getInitialState(t){return Xe(()=>{let n=ni(t.shape);return n=pn(n,[1,2]),n=WS(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?GP(n,[1,r]):n):this.cell.stateSize>1?[GP(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(t)}getConfig(){const t=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===lp.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),t),n)}static fromConfig(t,n,r={}){const a=n.cell,i=Nc(a,r);return new t(Object.assign(n,{cell:i}))}}lp.className="RNN";bt(lp);class rN extends Yn{}class $8 extends rN{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,ri(this.units,"units"),this.activation=Lh(t.activation==null?this.DEFAULT_ACTIVATION:t.activation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=oa(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=oa(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=oa(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=sa(t.kernelRegularizer),this.recurrentRegularizer=sa(t.recurrentRegularizer),this.biasRegularizer=sa(t.biasRegularizer),this.kernelConstraint=Ka(t.kernelConstraint),this.recurrentConstraint=Ka(t.recurrentConstraint),this.biasConstraint=Ka(t.biasConstraint),this.dropout=gy([1,Mh([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=gy([1,Mh([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=xr(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Xe(()=>{if(t=t,t.length!==2)throw new $e(`SimpleRNNCell expects 2 input Tensors, got ${t.length}.`);let r=t[1];t=t[0];const a=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Oh({ones:()=>Bl(t),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Oh({ones:()=>Bl(r),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));let i;const o=this.dropoutMask,s=this.recurrentDropoutMask;o!=null?i=Dc(Pe(t,o),this.kernel.read()):i=Dc(t,this.kernel.read()),this.bias!=null&&(i=Gu(i,this.bias.read())),s!=null&&(r=Pe(r,s));let l=Et(i,Dc(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:$h(this.activation),useBias:this.useBias,kernelInitializer:fa(this.kernelInitializer),recurrentInitializer:fa(this.recurrentInitializer),biasInitializer:fa(this.biasInitializer),kernelRegularizer:Wr(this.kernelRegularizer),recurrentRegularizer:Wr(this.recurrentRegularizer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),kernelConstraint:Ga(this.kernelConstraint),recurrentConstraint:Ga(this.recurrentConstraint),biasConstraint:Ga(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},t),n)}}$8.className="SimpleRNNCell";bt($8);class cfe extends lp{constructor(t){t.cell=new $8(t),super(t)}call(t,n){return Xe(()=>{this.cell.dropoutMask!=null&&(Wn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Wn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(t,{mask:r,training:a,initialState:i})})}static fromConfig(t,n){return new t(n)}}cfe.className="SimpleRNN";bt(cfe);class L8 extends rN{constructor(t){if(super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.resetAfter)throw new $e("GRUCell does not support reset_after parameter set to true.");this.units=t.units,ri(this.units,"units"),this.activation=Lh(t.activation===void 0?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=Lh(t.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=oa(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=oa(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=oa(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=sa(t.kernelRegularizer),this.recurrentRegularizer=sa(t.recurrentRegularizer),this.biasRegularizer=sa(t.biasRegularizer),this.kernelConstraint=Ka(t.kernelConstraint),this.recurrentConstraint=Ka(t.recurrentConstraint),this.biasConstraint=Ka(t.biasConstraint),this.dropout=gy([1,Mh([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=gy([1,Mh([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=xr(t);const n=t[t.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Xe(()=>{if(t=t,t.length!==2)throw new $e(`GRUCell expects 2 input Tensors (inputs, h, c), got ${t.length}.`);const r=n.training==null?!1:n.training;let a=t[1];t=t[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Oh({ones:()=>Bl(t),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Oh({ones:()=>Bl(a),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=this.recurrentDropoutMask;let s,l,u;0<this.dropout&&this.dropout<1&&(t=Pe(t,i[0]));let c=Dc(t,this.kernel.read());this.useBias&&(c=Gu(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=Pe(a,o[0]));const f=this.recurrentKernel.read(),[d,h]=Gs(f,[2*this.units,this.units],f.rank-1),p=Dc(a,d),[v,g,m]=Gs(c,3,c.rank-1),[y,b]=Gs(p,2,p.rank-1);s=this.recurrentActivation.apply(Et(v,y)),l=this.recurrentActivation.apply(Et(g,b));const x=Dc(Pe(l,a),h);u=this.activation.apply(Et(m,x));const _=Et(Pe(s,a),Pe(Et(1,ya(s)),u));return[_,_]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:$h(this.activation),recurrentActivation:$h(this.recurrentActivation),useBias:this.useBias,kernelInitializer:fa(this.kernelInitializer),recurrentInitializer:fa(this.recurrentInitializer),biasInitializer:fa(this.biasInitializer),kernelRegularizer:Wr(this.kernelRegularizer),recurrentRegularizer:Wr(this.recurrentRegularizer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),kernelConstraint:Ga(this.kernelConstraint),recurrentConstraint:Ga(this.recurrentConstraint),biasConstraint:Ga(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},t),n)}}L8.className="GRUCell";bt(L8);class ffe extends lp{constructor(t){t.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new L8(t),super(t)}call(t,n){return Xe(()=>{this.cell.dropoutMask!=null&&(Wn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Wn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(t,{mask:r,training:a,initialState:i})})}static fromConfig(t,n){return n.implmentation===0&&(n.implementation=1),new t(n)}}ffe.className="GRU";bt(ffe);class aN extends rN{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,ri(this.units,"units"),this.activation=Lh(t.activation===void 0?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=Lh(t.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=oa(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=oa(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=oa(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=t.unitForgetBias,this.kernelRegularizer=sa(t.kernelRegularizer),this.recurrentRegularizer=sa(t.recurrentRegularizer),this.biasRegularizer=sa(t.biasRegularizer),this.kernelConstraint=Ka(t.kernelConstraint),this.recurrentConstraint=Ka(t.recurrentConstraint),this.biasConstraint=Ka(t.biasConstraint),this.dropout=gy([1,Mh([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=gy([1,Mh([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){var n;t=xr(t);const r=t[t.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let a;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,o=this.units;a=new(n=class extends Ul{apply(l,u){const c=i.apply([o]),f=new w8().apply([o]),d=i.apply([o*2]);return m7(m7(c,f),d)}},n.className="CustomInit",n)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(t,n){return Xe(()=>{const r=n.training==null?!1:n.training;if(t=t,t.length!==3)throw new $e(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);let a=t[1];const i=t[2];t=t[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Oh({ones:()=>Bl(t),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Oh({ones:()=>Bl(a),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,s=this.recurrentDropoutMask;let l,u,c,f;0<this.dropout&&this.dropout<1&&(t=Pe(t,o[0]));let d=Dc(t,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=Pe(a,s[0])),d=Et(d,Dc(a,this.recurrentKernel.read())),this.useBias&&(d=Gu(d,this.bias.read()));const[h,p,v,g]=Gs(d,4,d.rank-1);l=this.recurrentActivation.apply(h),u=this.recurrentActivation.apply(p),c=Et(Pe(u,i),Pe(l,this.activation.apply(v))),f=this.recurrentActivation.apply(g);const m=Pe(f,this.activation.apply(c));return[m,m,c]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:$h(this.activation),recurrentActivation:$h(this.recurrentActivation),useBias:this.useBias,kernelInitializer:fa(this.kernelInitializer),recurrentInitializer:fa(this.recurrentInitializer),biasInitializer:fa(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Wr(this.kernelRegularizer),recurrentRegularizer:Wr(this.recurrentRegularizer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),kernelConstraint:Ga(this.kernelConstraint),recurrentConstraint:Ga(this.recurrentConstraint),biasConstraint:Ga(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},t),n)}}aN.className="LSTMCell";bt(aN);class dfe extends lp{constructor(t){t.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new aN(t),super(t)}call(t,n){return Xe(()=>{this.cell.dropoutMask!=null&&(Wn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Wn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(t,{mask:r,training:a,initialState:i})})}static fromConfig(t,n){return n.implmentation===0&&(n.implementation=1),new t(n)}}dfe.className="LSTM";bt(dfe);class O8 extends rN{constructor(t){super(t),this.cells=t.cells}get stateSize(){const t=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?t.push(...n.stateSize):t.push(n.stateSize);return t}call(t,n){return Xe(()=>{t=t;let r=t.slice(1);const a=[];for(const s of this.cells.slice().reverse())Array.isArray(s.stateSize)?a.push(r.splice(0,s.stateSize.length)):a.push(r.splice(0,1));a.reverse();const i=[];let o;for(let s=0;s<this.cells.length;++s){const l=this.cells[s];r=a[s],s===0?o=[t[0]].concat(r):o=[o[0]].concat(r),o=l.call(o,n),i.push(o.slice(1))}r=[];for(const s of i.slice().reverse())r.push(...s);return[o[0]].concat(r)})}build(t){jP(t)&&(t=t[0]),t=t;let n;this.cells.forEach((r,a)=>{zv(`RNNCell_${a}`,()=>{r.build(t),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,t=[t[0],n]})}),this.built=!0}getConfig(){const t=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),a={cells:this.cells.map(n)};return Object.assign(Object.assign({},t),a)}static fromConfig(t,n,r={}){const a=[];for(const i of n.cells)a.push(Nc(i,r));return new t({cells:a})}get trainableWeights(){if(!this.trainable)return[];const t=[];for(const n of this.cells)t.push(...n.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const n of this.cells)t.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(t)}return t}getWeights(){const t=[];for(const n of this.cells)t.push(...n.weights);return YP(t)}setWeights(t){const n=[];for(const r of this.cells){const a=r.weights.length,i=t.splice(a);for(let o=0;o<r.weights.length;++o)n.push([r.weights[o],i[o]])}E8(n)}}O8.className="StackedRNNCells";bt(O8);function Oh(e){const{ones:t,rate:n,training:r=!1,count:a=1,dropoutFunc:i}=e,o=()=>i!=null?i(t(),n):rce(t(),n),s=()=>US(o,t,r);return!a||a<=1?Ic(s().clone()):Array(a).fill(void 0).map(s).map(u=>Ic(u.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var nrt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class hfe extends lp{constructor(t){if(t.unroll)throw new Fn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(t.cell))throw new Fn("It is not possible at the moment to stack convolutional cells.");super(t),this.inputSpec=[new za({ndim:5})]}call(t,n){return Xe(()=>{if(this.cell.dropoutMask!=null&&(Wn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Wn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new $e("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(t,{mask:r,training:a,initialState:i})})}computeOutputShape(t){let n=this.computeSingleOutputShape(t);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([t[0],...n.slice(-3)])]),n}getInitialState(t){return Xe(()=>{const{stateSize:n}=this.cell,r=t.shape,a=this.computeSingleOutputShape(r),i=[a[0],...a.slice(2)],o=ni(i);return Array.isArray(n)?Array(n.length).fill(o):[o]})}resetStates(t,n=!1){Xe(()=>{if(!this.stateful)throw new dc("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,a=this.computeSingleOutputShape(r),i=[a[0],...a.slice(2)];if(r[0]==null)throw new $e("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>ni(i)):this.states_=[ni(i)];else if(t==null)Wn(this.states_),this.keptStates!=null&&(Wn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>ni(i)):this.states_[0]=ni(i);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new $e(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n?this.keptStates.push(this.states_.slice()):Wn(this.states_);for(let s=0;s<this.states_.length;++s){const l=t[s],u=i;if(!Er(l.shape,u))throw new $e(`State ${s} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[s]=l}}this.states_=this.states_.map(s=>Ic(s.clone()))})}computeSingleOutputShape(t){const{dataFormat:n,filters:r,kernelSize:a,padding:i,strides:o,dilationRate:s}=this.cell,l=n==="channelsFirst",u=t[l?3:2],c=t[l?4:3],f=ku(u,a[0],i,o[0],s[0]),d=ku(c,a[1],i,o[1],s[1]);return[...t.slice(0,2),...l?[r,f,d]:[f,d,r]]}}hfe.className="ConvRNN2D";class P8 extends aN{constructor(t){const{filters:n,kernelSize:r,strides:a,padding:i,dataFormat:o,dilationRate:s}=t;super(Object.assign(Object.assign({},t),{units:n})),this.filters=n,ri(this.filters,"filters"),this.kernelSize=Lm(r,2,"kernelSize"),this.kernelSize.forEach(l=>ri(l,"kernelSize")),this.strides=Lm(a||1,2,"strides"),this.strides.forEach(l=>ri(l,"strides")),this.padding=i||"valid",Qs(this.padding),this.dataFormat=o||"channelsLast",Ta(this.dataFormat),this.dilationRate=Lm(s||1,2,"dilationRate"),this.dilationRate.forEach(l=>ri(l,"dilationRate"))}build(t){var n;t=xr(t);const r=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[r]==null)throw new $e(`The channel dimension of the input should be defined. Found ${t[r]}`);const a=t[r],i=4,o=this.kernelSize.concat([a,this.filters*i]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const s=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",s,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,c=this.filters;l=new(n=class extends Ul{apply(d,h){const p=u.apply([c]),v=op([c]),g=u.apply([c*2]);return x8([p,v,g])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(t,n){return Xe(()=>{if(t.length!==3)throw new $e(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);const r=n.training||!1,a=t[0],i=t[1],o=t[2],s=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Oh({ones:()=>Bl(a),rate:this.dropout,training:r,count:s,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(W,U,V)=>!U||!U[V]?W:Pe(U[V],W);let c=u(a,l,0),f=u(a,l,1),d=u(a,l,2),h=u(a,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Oh({ones:()=>Bl(i),rate:this.recurrentDropout,training:r,count:s,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let v=u(i,p,0),g=u(i,p,1),m=u(i,p,2),y=u(i,p,3);const b=3,[x,_,S,C]=Gs(this.kernel.read(),s,b),[k,T,E,I]=this.useBias?Gs(this.bias.read(),s):[null,null,null,null];c=this.inputConv(c,x,k,this.padding),f=this.inputConv(f,_,T,this.padding),d=this.inputConv(d,S,E,this.padding),h=this.inputConv(h,C,I,this.padding);const[A,N,L,R]=Gs(this.recurrentKernel.read(),s,b);v=this.recurrentConv(v,A),g=this.recurrentConv(g,N),m=this.recurrentConv(m,L),y=this.recurrentConv(y,R);const D=this.recurrentActivation.apply(Et(c,v)),P=this.recurrentActivation.apply(Et(f,g)),O=Et(Pe(P,o),Pe(D,this.activation.apply(Et(d,m)))),M=Pe(this.recurrentActivation.apply(Et(h,y)),this.activation.apply(O));return[M,M,O]})}getConfig(){const t=super.getConfig(),n=nrt(t,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(t,n,r,a){const i=mg(t,n,this.strides,a||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?Gu(i,r,this.dataFormat):i}recurrentConv(t,n){return mg(t,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}P8.className="ConvLSTM2DCell";bt(P8);class pfe extends hfe{constructor(t){const n=new P8(t);super(Object.assign(Object.assign({},t),{cell:n}))}static fromConfig(t,n){return new t(n)}}pfe.className="ConvLSTM2D";bt(pfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class F8 extends Yn{constructor(t){super(t),this.rate=Math.max(Math.min(t.rate,1),0),this.noiseShape=t.noiseShape,this.seed=t.seed,this.supportsMasking=!0}getNoiseShape(t){if(this.noiseShape==null)return this.noiseShape;const n=t.shape,r=[];for(let a=0;a<this.noiseShape.length;++a)r.push(this.noiseShape[a]==null?n[a]:this.noiseShape[a]);return r}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t);if(0<this.rate&&this.rate<1){const a=n.training==null?!1:n.training,i=this.getNoiseShape(r);return US(()=>rce(r,this.rate,i,this.seed),()=>r,a)}return t})}getConfig(){const t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(t,n),t}dispose(){return super.dispose()}}F8.className="Dropout";bt(F8);class vfe extends F8{constructor(t){super(t),this.inputSpec=[{ndim:3}]}getNoiseShape(t){const n=t.shape;return[n[0],1,n[2]]}}vfe.className="SpatialDropout1D";bt(vfe);class gfe extends Yn{constructor(t){if(super(t),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.batchInputShape==null&&t.inputShape==null&&t.inputDim!=null){let n=null;t.batchSize!=null&&(n=t.batchSize),this.batchInputShape=[n,t.inputDim]}this.units=t.units,ri(this.units,"units"),this.activation=Lh(t.activation),t.useBias!=null&&(this.useBias=t.useBias),this.kernelInitializer=oa(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=oa(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Ka(t.kernelConstraint),this.biasConstraint=Ka(t.biasConstraint),this.kernelRegularizer=sa(t.kernelRegularizer),this.biasRegularizer=sa(t.biasRegularizer),this.activityRegularizer=sa(t.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(t){t=xr(t);const n=t[t.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(t){t=xr(t);const n=t.slice();return n[n.length-1]=this.units,n}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t),a=que(this.activation.getClassName());let i;return a!=null?i=Dc(r,this.kernel.read(),a,this.bias?this.bias.read():null):(i=Dc(r,this.kernel.read()),this.bias!=null&&(i=Gu(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const t={units:this.units,activation:$h(this.activation),useBias:this.useBias,kernelInitializer:fa(this.kernelInitializer),biasInitializer:fa(this.biasInitializer),kernelRegularizer:Wr(this.kernelRegularizer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),kernelConstraint:Ga(this.kernelConstraint),biasConstraint:Ga(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}}gfe.className="Dense";bt(gfe);class mfe extends Yn{constructor(t){t=t||{},super(t),this.inputSpec=[{minNDim:3}],this.dataFormat=t.dataFormat}computeOutputShape(t){t=xr(t);for(const n of t.slice(1))if(n==null)throw new $e(`The shape of the input to "Flatten" is not fully defined (got ${t.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[t[0],gh(t,1)]}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);let r=Tn(t);if(this.dataFormat==="channelsFirst"&&r.rank>1){const a=[0];for(let i=2;i<r.rank;++i)a.push(i);a.push(1),r=hr(r,a)}return Mtt(r)})}getConfig(){const t={};this.dataFormat!=null&&(t.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(t,n),t}}mfe.className="Flatten";bt(mfe);class yfe extends Yn{constructor(t){super(t),this.supportsMasking=!0,this.activation=Lh(t.activation)}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t);return this.activation.apply(r)})}getConfig(){const t={activation:$h(this.activation)},n=super.getConfig();return Object.assign(t,n),t}}yfe.className="Activation";bt(yfe);class bfe extends Yn{constructor(t){super(t),this.n=t.n,this.inputSpec=[{ndim:2}]}computeOutputShape(t){return[t[0],this.n,t[1]]}call(t,n){return Xe(()=>(t=Tn(t),Ntt(t,this.n)))}getConfig(){const t={n:this.n},n=super.getConfig();return Object.assign(t,n),t}}bfe.className="RepeatVector";bt(bfe);class xfe extends Yn{constructor(t){super(t),this.targetShape=t.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(t){return t<0||t==null}fixUnknownDimension(t,n){const r="Total size of new array must be unchanged.",a=n.slice();let i=1,o=null;for(let l=0;l<a.length;++l){const u=a[l];if(this.isUnknown(u))if(o===null)o=l;else throw new $e("Can only specifiy one unknown dimension.");else i*=u}const s=gh(t);if(o!==null){if(i===0||s%i!==0)throw new $e(r);a[o]=s/i}else if(s!==i)throw new $e(r);return a}computeOutputShape(t){let n=!1;for(let r=0;r<t.length;++r)if(this.isUnknown(t[r])){n=!0;break}return n?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t),a=r.shape,i=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return He(r,i)})}getConfig(){const t={targetShape:this.targetShape},n=super.getConfig();return Object.assign(t,n),t}}xfe.className="Reshape";bt(xfe);class wfe extends Yn{constructor(t){if(super(t),t.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${t.dims} instead.`);const n=Ou(1,t.dims.length+1);if(!Er(t.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=t.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new za({ndim:this.dims.length+1})]}computeOutputShape(t){t=xr(t);const n=t.slice();return this.dims.forEach((r,a)=>{n[a+1]=t[r]}),n}call(t,n){return hr(Tn(t),this.dimsIncludingBatch)}getConfig(){const t={dims:this.dims},n=super.getConfig();return Object.assign(t,n),t}}wfe.className="Permute";bt(wfe);class _fe extends Yn{constructor(t){super(t??{}),this.supportsMasking=!0,t!=null?this.maskValue=t.maskValue==null?0:t.maskValue:this.maskValue=0}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,t),n}computeMask(t,n){const r=Tn(t);return FP(_I(r,this.maskValue),-1)}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t),o=FP(_I(r,this.maskValue),-1,!0);return Pe(r,Ut(o,r.dtype))})}}_fe.className="Masking";bt(_fe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Sfe extends Yn{constructor(t){if(super(t),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",t.batchInputShape==null&&t.inputShape==null){let n=null;t.batchSize!=null&&(n=t.batchSize),t.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Rr(t.inputLength))}this.inputDim=t.inputDim,ri(this.inputDim,"inputDim"),this.outputDim=t.outputDim,ri(this.outputDim,"outputDim"),this.embeddingsInitializer=oa(t.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=sa(t.embeddingsRegularizer),this.activityRegularizer=sa(t.activityRegularizer),this.embeddingsConstraint=Ka(t.embeddingsConstraint),this.maskZero=t.maskZero,this.supportsMasking=t.maskZero,this.inputLength=t.inputLength}build(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(t){}computeMask(t,n){return Xe(()=>this.maskZero?(t=Tn(t),_I(t,gr(t))):null)}computeOutputShape(t){if(t=xr(t),this.inputLength==null)return[...t,this.outputDim];const n=Rr(this.inputLength);if(n.length!==t.length-1)throw new $e(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);{let r=0;for(let a=0;a<n.length;++a){const i=n[a],o=t[a+1];if(i!=null&&o!=null&&i!==o)throw new $e(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);i==null&&(n[r]=o),r++}}return[t[0],...n,this.outputDim]}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);let r=Tn(t);r.dtype!=="int32"&&(r=Ac(r,"int32"));const a=nce(this.embeddings.read(),He(r,[r.size]));return He(a,xr(this.computeOutputShape(r.shape)))})}getConfig(){const t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:fa(this.embeddingsInitializer),embeddingsRegularizer:Wr(this.embeddingsRegularizer),activityRegularizer:Wr(this.activityRegularizer),embeddingsConstraint:Ga(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(t,n),t}}Sfe.className="Embedding";bt(Sfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Kg extends Yn{constructor(t){super(t||{}),this.supportsMasking=!0}mergeFunction(t){throw new Fn}computeElementwiseOpOutputShape(t,n){if(t==null||n==null)return null;if(t.length<n.length)return this.computeElementwiseOpOutputShape(n,t);if(n.length===0)return t;const r=t.slice(0,t.length-n.length);for(let a=0;a<n.length;++a){const i=t[t.length-n.length+a],o=n[a];if(i==null||o==null||i<0||o<0)r.push(null);else if(i===1)r.push(o);else if(o===1)r.push(i);else{if(i!==o)throw new $e("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(n));r.push(i)}}return r}build(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[xr(t)]),t=t,t.length<2)throw new $e(`A merge layer should be called on an Array of at least 2 inputs. Got ${t.length} input(s).`);let n=[];for(const i of t)i!=null&&i[0]!==null&&n.push(i[0]);if(n=vh(n),n.length>1)throw new $e(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(t)}.`);let r=t[0]==null?null:t[0].slice(1);for(let i=1;i<t.length;++i){const o=t[i]==null?null:t[i].slice(1);r=this.computeElementwiseOpOutputShape(r,o)}const a=t.map(i=>i.length);t.indexOf(null)===-1&&vh(a).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(t,n){return Xe(()=>{if(t=t,this.reshapeRequired){const r=[],a=t.map(i=>i.rank);if(a.indexOf(null)===-1){const i=Mh(a);for(let o of t){const s=o.rank;for(let l=0;l<i-s;++l)o=WS(o,1);r.push(o)}return this.mergeFunction(r)}else{let i=!1;for(const l of t){const u=l.rank;if(u==null){const c=l.shape,f=c[0],d=c.slice(1).concat([f]);let h=He(l,[f].concat(gh(c.slice(1))));h=hr(h,[1,0]),h=He(h,d),r.push(h),i=!0}else if(u>1){const c=Ou(1,u).concat([0]);r.push(hr(l,c)),i=!0}else r.push(l)}let o=this.mergeFunction(r);const s=o.rank;if(i){if(s==null){const l=o.shape,u=l.length,c=l[u-1],f=[c].concat(l.slice(0,l.length-1));o=He(hr(He(o,[-1,c]),[1,0]),f)}else if(s>1){const l=[s-1].concat(Ou(0,s-1));o=hr(o,l)}}return o}}else return this.mergeFunction(t)})}computeOutputShape(t){t=t;let n;t[0]==null?n=null:n=t[0].slice(1);for(let a=1;a<t.length;++a){const i=t[a]==null?null:t[a].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const a of t)a!=null&&a[0]!==null&&r.push(a[0]);return r=vh(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(t,n){return Xe(()=>{if(n==null)return null;if(!Array.isArray(n))throw new $e("`mask` should be an Array");if(!Array.isArray(t))throw new $e("`inputs` should be an Array");if(n.length!==t.length)throw new $e(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${t.length} vs ${n.length})`);if(n.every(a=>a==null))return null;n=n.map(a=>a==null?a:zo(a,0));let r=n[0];for(let a=1;a<n.length-1;++a)r=Gf(r,n[a]);return r})}}class Cfe extends Kg{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=Et(n,t[r]);return n})}}Cfe.className="Add";bt(Cfe);class Tfe extends Kg{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=Pe(n,t[r]);return n})}}Tfe.className="Multiply";bt(Tfe);class kfe extends Kg{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=Et(n,t[r]);return Pe(1/t.length,n)})}}kfe.className="Average";bt(kfe);class Ife extends Kg{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0];for(let r=1;r<t.length;++r)n=ip(n,t[r]);return n})}}Ife.className="Maximum";bt(Ife);class Efe extends Kg{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0];for(let r=1;r<t.length;++r)n=gw(n,t[r]);return n})}}Efe.className="Minimum";bt(Efe);class Afe extends Kg{constructor(t){super(t),this.DEFAULT_AXIS=-1,t==null&&(t={}),this.axis=t.axis==null?this.DEFAULT_AXIS:t.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){if(!(Array.isArray(t)&&Array.isArray(t[0]))||t.length===1)throw new $e("A `Concatenate` layer should be called on a list of at least 2 inputs");t=t;let n=!0;for(const a of t)if(a!=null){n=!1;break}if(n)return;const r=[];for(let a=0;a<t.length;++a){const i=t[a].slice();i.splice(this.axis,1);let o=!1;for(const s of r)if(Er(s,i)){o=!0;break}o||r.push(i)}if(r.length>1)throw new $e("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}mergeFunction(t){return Xe(()=>x8(t,this.axis))}computeOutputShape(t){if(!(Array.isArray(t)&&Array.isArray(t[0])))throw new $e("A `Concatenate` layer should be called on a list of inputs.");const n=t,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[a]==null||i[a]==null){r[a]=null;break}r[a]+=i[a]}return r}computeMask(t,n){if(n==null)return null;if(!Array.isArray(n))throw new $e("`mask` should be an array for Concatenate");if(!Array.isArray(t))throw new $e("`inputs` should be an array for Concatenate");if(n.length!==t.length)throw new $e(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${t.length})`);return Xe(()=>{let r=!0;if(n.forEach(o=>{if(o!=null){r=!1;return}}),r)return null;const a=[];for(let o=0;o<t.length;++o)n[o]==null?a.push(Ut(Bl(t[o]),"bool")):n[o].rank<t[o].rank?a.push(zo(n[o],-1)):a.push(n[o]);const i=Xo(a,this.axis);return Ele(i,-1,!1)})}getConfig(){const t={axis:this.axis},n=super.getConfig();return Object.assign(t,n),t}}Afe.className="Concatenate";bt(Afe);function K1(e,t){for(;e<0;)e+=t;return e}function rrt(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Fn("batchDot is not implemented for tensors of 4D or higher rank yet");if(pe(e.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`),pe(e.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),typeof n=="number"&&(n=[n,n]),e.dtype==="complex64"||t.dtype==="complex64")throw new Fn("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,a=t.shape.length;n==null&&(n=[r-1,a-2]);const i=n;return Xe(()=>{let o;if(r>a){o=r-a;const l=[];for(let u=0;u<o;++u)l.push(1);t=He(t,t.shape.concat(l))}else if(a>r){o=a-r;const l=[];for(let u=0;u<o;++u)l.push(1);e=He(e,e.shape.concat(l))}else o=0;let s;if(e.shape.length===2&&t.shape.length===2)i[0]===i[1]?s=pn(Pe(e,t),i[0]):s=pn(Pe(hr(e,[1,0]),t),i[1]);else{const l=i[0]!==e.shape.length-1,u=i[1]===t.shape.length-1;s=Tr(e,t,l,u)}if(o>0){let l;r>a?l=r+a-3:l=r-1;const u=[];for(let c=l;c<l+o;++c)u.push(c);s=OS(s,u)}return s.shape.length===1&&(s=zo(s,1)),s})}class Dfe extends Kg{constructor(t){super(t),this.axes=t.axes,this.normalize=t.normalize==null?!1:t.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){pe(Array.isArray(t)&&t.length===2&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=t[0],r=t[1];if(n.length>3||r.length>3)throw new Fn("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(n,r);if(n[a[0]]!==r[a[1]])throw new $e(`Dimension incompatibility: ${n[a[0]]} !== ${r[a[1]]}`)}mergeFunction(t){if(t.length!==2)throw new $e(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${t.length} input(s).`);let n=t[0],r=t[1],a;return Array.isArray(this.axes)?a=this.axes.map((i,o)=>K1(i,t[o].shape.length)):a=[K1(this.axes,n.shape.length),K1(this.axes,r.shape.length)],this.normalize&&(n=AI(n,a[0]),r=AI(r,a[1])),rrt(n,r,a)}interpretAxes(t,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[K1(this.axes,t.length),K1(this.axes,n.length)],r}computeOutputShape(t){pe(Array.isArray(t)&&t.length===2&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=t[0].slice(),r=t[1].slice();if(n.length>3||r.length>3)throw new Fn("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(n,r);n.splice(a[0],1),r.splice(a[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(t,n){return null}getConfig(){const t={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(t,n),t}}Dfe.className="Dot";bt(Dfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Nfe extends Yn{constructor(t){super(t),this.supportsMasking=!0,this.stddev=t.stddev}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,t),n}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t);return US(()=>Et(ZD(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}Nfe.className="GaussianNoise";bt(Nfe);class Rfe extends Yn{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={rate:this.rate};return Object.assign(n,t),n}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t);return this.rate>0&&this.rate<1?US(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return Pe(r,ZD(r.shape,1,i))},()=>r,n.training||!1):r})}}Rfe.className="GaussianDropout";bt(Rfe);class Mfe extends Yn{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate,this.noiseShape=t.noiseShape}_getNoiseShape(t){return this.noiseShape||Tn(t).shape}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={rate:this.rate};return Object.assign(n,t),n}call(t,n){return Xe(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(t);return US(()=>{const i=Tn(t),l=-1.6732632423543772*1.0507009873554805;let u=zg(LS(r),this.rate);u=Ac(u,"float32");const c=((1-this.rate)*(1+this.rate*l**2))**-.5,f=-c*l*this.rate,d=Et(Pe(i,u),Pe(Et(u,-1),l));return Et(Pe(d,c),f)},()=>Tn(t),n.training||!1)}return t})}}Mfe.className="AlphaDropout";bt(Mfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ww(e,t,n,r,a,i=.001){let o;if(e.rank===2)o=CYe(e,t,n,r,a,i);else if(e.rank===3)o=kYe(e,t,n,r,a,i);else if(e.rank===4)o=EYe(e,t,n,r,a,i);else throw new Fn(`batchNormalization is not implemented for array of rank ${e.rank} yet`);return o}function art(e,t,n,r,a=.001){return Xe(()=>{const i=Iz(e,r),o=i.mean,s=i.variance;return[ww(e,o,s,n,t,a),o,s]})}function irt(e,t,n,r,a=.001){return Xe(()=>{const i=Iz(e,r),o=i.mean,s=i.variance,l=[];for(const p of Ou(0,e.rank))r.indexOf(p)!==-1?l.push(1):l.push(e.shape[p]);const u=He(o,l),c=He(s,l),f=t==null?null:He(t,l),d=n==null?null:He(n,l);return[ww(e,u,c,d,f,a),o,s]})}function ort(e,t,n,r,a=.001){return Er(r.slice().sort(),Ou(0,e.rank-1))?art(e,t,n,r,a):irt(e,t,n,r,a)}class $fe extends Yn{constructor(t){t==null&&(t={}),super(t),this.supportsMasking=!0,this.axis=t.axis==null?-1:t.axis,this.momentum=t.momentum==null?.99:t.momentum,this.epsilon=t.epsilon==null?.001:t.epsilon,this.center=t.center==null?!0:t.center,this.scale=t.scale==null?!0:t.scale,this.betaInitializer=oa(t.betaInitializer||"zeros"),this.gammaInitializer=oa(t.gammaInitializer||"ones"),this.movingMeanInitializer=oa(t.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=oa(t.movingVarianceInitializer||"ones"),this.betaConstraint=Ka(t.betaConstraint),this.gammaConstraint=Ka(t.gammaConstraint),this.betaRegularizer=sa(t.betaRegularizer),this.gammaRegularizer=sa(t.gammaRegularizer)}build(t){t=xr(t);const n=this.axis>=0?this.axis:this.axis+t.length,r=t[n];if(r==null)throw new $e(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(t)}.`);this.inputSpec=[new za({ndim:t.length,axes:{[n]:r}})];const a=[r];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(t,n){return Xe(()=>{const r=n.training==null?!1:n.training,a=Tn(t),i=a.shape,o=i.length,s=Ou(0,o),l=this.axis>=0?this.axis:this.axis+o;s.splice(l,1);const u=wg(1,o);u[l]=i[l];const c=s.slice();c.sort();const f=!Er(c,Ou(0,o).slice(0,o-1)),d=()=>{if(f){const y=He(this.movingMean.read(),u),b=He(this.movingVariance.read(),u),x=this.center?He(this.beta.read(),u):null,_=this.scale?He(this.gamma.read(),u):null;return ww(a,y,b,x,_,this.epsilon)}else return ww(a,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return d();const[h,p,v]=ort(a,this.gamma.read(),this.beta.read(),s,this.epsilon),g=(y,b,x)=>{Xe(()=>{const _=1-x,S=y.read(),C=Pe(Sn(S,b),_);y.write(Sn(S,C))})};return(()=>{g(this.movingMean,p,this.momentum),g(this.movingVariance,v,this.momentum)})(),h})}getConfig(){const t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:fa(this.betaInitializer),gammaInitializer:fa(this.gammaInitializer),movingMeanInitializer:fa(this.movingMeanInitializer),movingVarianceInitializer:fa(this.movingVarianceInitializer),betaRegularizer:Wr(this.betaRegularizer),gammaRegularizer:Wr(this.gammaRegularizer),betaConstraint:Ga(this.betaConstraint),gammaConstraint:Ga(this.gammaConstraint)},n=super.getConfig();return Object.assign(t,n),t}}$fe.className="BatchNormalization";bt($fe);class Lfe extends Yn{constructor(t){if(t==null&&(t={}),super(t),this.axis=t.axis==null?-1:t.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=t.epsilon==null?.001:t.epsilon,this.center=t.center==null?!0:t.center,this.scale=t.scale==null?!0:t.scale,this.betaInitializer=oa(t.betaInitializer||"zeros"),this.gammaInitializer=oa(t.gammaInitializer||"ones"),this.betaRegularizer=sa(t.betaRegularizer),this.gammaRegularizer=sa(t.gammaRegularizer),this.supportsMasking=!0}build(t){t=xr(t);const n=t.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==vh(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>t[i]),a=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,a):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,a):this.beta=null,this.built=!0}call(t,n){const r=Tn(t),a=r.shape,i=a.length;return Xe(()=>{let{mean:s,variance:l}=Iz(r,this.axis,!0);const u=wg(1,i);for(const v of this.axis)u[v]=a[v];const c=v=>v!=null&&v.shape.length!==i?He(v,u):v;let f=this.scale?c(this.gamma.read()):null,d=this.center?c(this.beta.read()):null;const h=[],p=[];for(let v=0;v<i;++v)this.axis.indexOf(v)!==-1?(h.push(a[v]),p.push(1)):(h.push(1),p.push(a[v]));return s=gu(s,h),l=gu(l,h),f!=null&&(f=gu(f,p)),d!=null&&(d=gu(d,p)),ww(r,s,l,d,f,this.epsilon)})}getConfig(){const t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:fa(this.betaInitializer),gammaInitializer:fa(this.gammaInitializer),betaRegularizer:Wr(this.betaRegularizer),gammaRegularizer:Wr(this.gammaRegularizer)},n=super.getConfig();return Object.assign(t,n),t}}Lfe.className="LayerNormalization";bt(Lfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function srt(e,t,n){return Xe(()=>{if(e.rank!==4)throw new $e(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(t==null&&(t=[[1,1],[1,1]]),t.length!==2||t[0].length!==2||t[1].length!==2)throw new $e("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=Pu()),n!=="channelsLast"&&n!=="channelsFirst")throw new $e(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],t[0],t[1]]:r=[[0,0],t[0],t[1],[0,0]],Ez(e,r)})}class Ofe extends Yn{constructor(t){if(t==null&&(t={}),super(t),this.dataFormat=t.dataFormat==null?Pu():t.dataFormat,t.padding==null)this.padding=[[1,1],[1,1]];else if(typeof t.padding=="number")this.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,t.padding.length!==2)throw new $e(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${t.padding.length} array.`);let n,r;if(typeof t.padding[0]=="number")n=[t.padding[0],t.padding[0]],r=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,t.padding[0].length!==2)throw new $e(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${t.padding[0].length} array.`);if(n=t.padding[0],t.padding[1].length!==2)throw new $e(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${t.padding[1].length} array.`);r=t.padding[1]}this.padding=[n,r]}this.inputSpec=[new za({ndim:4})]}computeOutputShape(t){t=xr(t);let n,r;return this.dataFormat==="channelsFirst"?(t[2]!=null&&t[2]>=0?n=t[2]+this.padding[0][0]+this.padding[0][1]:n=null,t[3]!=null&&t[3]>=0?r=t[3]+this.padding[1][0]+this.padding[1][1]:r=null,[t[0],t[1],n,r]):(t[1]!=null&&t[1]>=0?n=t[1]+this.padding[0][0]+this.padding[0][1]:n=null,t[2]!=null&&t[2]>=0?r=t[2]+this.padding[1][0]+this.padding[1][1]:r=null,[t[0],n,r,t[3]])}call(t,n){return Xe(()=>srt(Tn(t),this.padding,this.dataFormat))}getConfig(){const t={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}Ofe.className="ZeroPadding2D";bt(Ofe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function iN(e,t,n,r,a,i){return Xe(()=>{Ta(a),Jue(i),Qs(r),n==null&&(n=[1,1]),r==null&&(r="valid"),a==null&&(a=Pu()),i==null&&(i="max"),e=M8(e,a);let o;const s=r==="same"?"same":"valid";return i==="max"?o=kz(e,t,n,s):o=gz(e,t,n,s),a==="channelsFirst"&&(o=hr(o,[0,3,1,2])),o})}function Pfe(e,t,n,r,a,i){return Xe(()=>{Ta(a),Jue(i),Qs(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),a==null&&(a=Pu()),i==null&&(i="max"),e=efe(e,a);let o;const s=r==="same"?"same":"valid";return i==="max"?o=dqe(e,t,n,s):o=pYe(e,t,n,s),a==="channelsFirst"&&(o=hr(o,[0,4,1,2,3])),o})}class Ffe extends Yn{constructor(t){if(t.poolSize==null&&(t.poolSize=2),super(t),typeof t.poolSize=="number")this.poolSize=[t.poolSize];else if(Array.isArray(t.poolSize)&&t.poolSize.length===1&&typeof t.poolSize[0]=="number")this.poolSize=t.poolSize;else throw new $e(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.poolSize)}`);if(ri(this.poolSize,"poolSize"),t.strides==null)this.strides=this.poolSize;else if(typeof t.strides=="number")this.strides=[t.strides];else if(Array.isArray(t.strides)&&t.strides.length===1&&typeof t.strides[0]=="number")this.strides=t.strides;else throw new $e(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.strides)}`);ri(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,Qs(this.padding),this.inputSpec=[new za({ndim:3})]}computeOutputShape(t){t=xr(t);const n=ku(t[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],n,t[2]]}call(t,n){return Xe(()=>{this.invokeCallHook(t,n),t=WS(Tn(t),2);const r=this.poolingFunction(Tn(t),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return OS(r,[2])})}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(t,n),t}}class Bfe extends Ffe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Qs(a),iN(t,n,r,a,i,"max")}}Bfe.className="MaxPooling1D";bt(Bfe);class Vfe extends Ffe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Qs(a),iN(t,n,r,a,i,"avg")}}Vfe.className="AveragePooling1D";bt(Vfe);class zfe extends Yn{constructor(t){if(t.poolSize==null&&(t.poolSize=[2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],t.strides==null)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(t.strides.length!==2)throw new $e(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides];ri(this.poolSize,"poolSize"),ri(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Ta(this.dataFormat),Qs(this.padding),this.inputSpec=[new za({ndim:4})]}computeOutputShape(t){t=xr(t);let n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2];return n=ku(n,this.poolSize[0],this.padding,this.strides[0]),r=ku(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[t[0],t[1],n,r]:[t[0],n,r,t[3]]}call(t,n){return Xe(()=>(this.invokeCallHook(t,n),this.poolingFunction(Tn(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class Wfe extends zfe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Qs(a),iN(t,n,r,a,i,"max")}}Wfe.className="MaxPooling2D";bt(Wfe);class Hfe extends zfe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Qs(a),iN(t,n,r,a,i,"avg")}}Hfe.className="AveragePooling2D";bt(Hfe);class Ufe extends Yn{constructor(t){if(t.poolSize==null&&(t.poolSize=[2,2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],t.strides==null)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(t.strides.length!==3)throw new $e(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides,t.strides];ri(this.poolSize,"poolSize"),ri(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Ta(this.dataFormat),Qs(this.padding),this.inputSpec=[new za({ndim:5})]}computeOutputShape(t){t=xr(t);let n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2],a=this.dataFormat==="channelsFirst"?t[4]:t[3];return n=ku(n,this.poolSize[0],this.padding,this.strides[0]),r=ku(r,this.poolSize[1],this.padding,this.strides[1]),a=ku(a,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[t[0],t[1],n,r,a]:[t[0],n,r,a,t[4]]}call(t,n){return Xe(()=>(this.invokeCallHook(t,n),this.poolingFunction(Tn(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class Gfe extends Ufe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Qs(a),Pfe(t,n,r,a,i,"max")}}Gfe.className="MaxPooling3D";bt(Gfe);class Kfe extends Ufe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Qs(a),Pfe(t,n,r,a,i,"avg")}}Kfe.className="AveragePooling3D";bt(Kfe);class jfe extends Yn{constructor(t){super(t),this.inputSpec=[new za({ndim:3})]}computeOutputShape(t){return[t[0],t[2]]}call(t,n){throw new Fn}}class Yfe extends jfe{constructor(t){super(t||{})}call(t,n){return Xe(()=>{const r=Tn(t);return Aa(r,1)})}}Yfe.className="GlobalAveragePooling1D";bt(Yfe);class Xfe extends jfe{constructor(t){super(t||{})}call(t,n){return Xe(()=>{const r=Tn(t);return Tu(r,1)})}}Xfe.className="GlobalMaxPooling1D";bt(Xfe);class qfe extends Yn{constructor(t){super(t),this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Ta(this.dataFormat),this.inputSpec=[new za({ndim:4})]}computeOutputShape(t){return t=t,this.dataFormat==="channelsLast"?[t[0],t[3]]:[t[0],t[1]]}call(t,n){throw new Fn}getConfig(){const t={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class Zfe extends qfe{call(t,n){return Xe(()=>{const r=Tn(t);return this.dataFormat==="channelsLast"?Aa(r,[1,2]):Aa(r,[2,3])})}}Zfe.className="GlobalAveragePooling2D";bt(Zfe);class Jfe extends qfe{call(t,n){return Xe(()=>{const r=Tn(t);return this.dataFormat==="channelsLast"?Tu(r,[1,2]):Tu(r,[2,3])})}}Jfe.className="GlobalMaxPooling2D";bt(Jfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Qfe extends Yn{constructor(t){super(t),this.layer=t.layer}build(t){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(t){this.layer!=null&&(this.layer.trainable=t)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(t){this.layer.setWeights(t)}getConfig(){const t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(t,n),t}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(t)}static fromConfig(t,n,r={}){const a=n.layer,i=Nc(a,r);delete n.layer;const o={layer:i};return Object.assign(o,n),new t(o)}}class ede extends Qfe{constructor(t){super(t),this.supportsMasking=!0}build(t){if(t=xr(t),t.length<3)throw new $e(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(t)}`);this.inputSpec=[{shape:t}];const n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(t)}computeOutputShape(t){t=xr(t);const n=[t[0]].concat(t.slice(2)),r=this.layer.computeOutputShape(n),a=t[1];return[r[0],a].concat(r.slice(1))}call(t,n){return Xe(()=>(t=Tn(t),ufe((o,s)=>[Tn(this.layer.call(o,n)),[]],t,[],!1,null,null,!1,!0)[1]))}}ede.className="TimeDistributed";bt(ede);function lrt(e){Gg(ktt,"BidirectionalMergeMode",e)}const urt="concat";class tde extends Qfe{constructor(t){super(t);const n=t.layer.getConfig(),r={};r.className=t.layer.getClassName(),r.config=n,this.forwardLayer=Nc(r),n.goBackwards=n.goBackwards!==!0;const a={};if(a.className=t.layer.getClassName(),a.config=n,this.backwardLayer=Nc(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=t.mergeMode===void 0?urt:t.mergeMode,lrt(this.mergeMode),t.weights)throw new Fn("weights support is not implemented for Bidirectional layer yet.");this._stateful=t.layer.stateful,this.returnSequences=t.layer.returnSequences,this.returnState=t.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=t.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(t){this._trainable=t,this.forwardLayer!=null&&(this.forwardLayer.trainable=t),this.backwardLayer!=null&&(this.backwardLayer.trainable=t)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(t){const n=t.length,r=Math.floor(n/2);this.forwardLayer.setWeights(t.slice(0,r)),this.backwardLayer.setWeights(t.slice(r))}computeOutputShape(t){let n=this.forwardLayer.computeOutputShape(t);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,a,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,a=[r]):this.mergeMode==null?a=[r,r.slice()]:a=[r],this.returnState?this.mergeMode==null?a.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):Wo(a)}apply(t,n){let r=n==null?null:n.initialState,a=n==null?null:n.constants;n==null&&(n={});const i=lfe(t,r,a,this.numConstants);if(t=i.inputs,r=i.initialState,a=i.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(r==null||r.length===0)&&a==null)return super.apply(t,n);const o=[],s=[];if(r!=null){const u=r.length;if(u%2>0)throw new $e("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push(...r);const c=r.map(f=>new za({shape:f.shape}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),s.push(...c)}if(a!=null)throw new Fn("Support for constants in Bidirectional layers is not implemented yet.");const l=o[0]instanceof zc;for(const u of o)if(u instanceof zc!==l)throw new $e("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[t].concat(o),c=this.inputSpec.concat(s),f=this.inputSpec;this.inputSpec=c;const d=super.apply(u,n);return this.inputSpec=f,d}else return super.apply(t,n)}call(t,n){return Xe(()=>{const r=n.initialState;let a,i;if(r==null)a=this.forwardLayer.call(t,n),i=this.backwardLayer.call(t,n);else{const l=r.slice(0,r.length/2),u=r.slice(r.length/2);a=this.forwardLayer.call(t,Object.assign(n,{initialState:l})),i=this.backwardLayer.call(t,Object.assign(n,{initialState:u}))}let o;this.returnState&&(Array.isArray(a)&&(o=a.slice(1).concat(i.slice(1))),a=a[0],i=i[0]),this.returnSequences&&(i=bg(i,1));let s;return this.mergeMode==="concat"?s=x8([a,i]):this.mergeMode==="sum"?s=Et(a,i):this.mergeMode==="ave"?s=Pe(.5,Et(a,i)):this.mergeMode==="mul"?s=Pe(a,i):this.mergeMode==null&&(s=[a,i]),this.returnState?this.mergeMode==null?s.concat(o):[s].concat(o):s})}resetStates(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(t){zv(this.forwardLayer.name,()=>{this.forwardLayer.build(t)}),zv(this.backwardLayer.name,()=>{this.backwardLayer.build(t)}),this.built=!0}computeMask(t,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(o=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(t),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(t)}getConfig(){const t={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(t,n),t}static fromConfig(t,n){const r=Nc(n.layer);if(delete n.layer,n.numConstants!=null)throw new Fn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=n;return a.layer=r,new t(a)}}tde.className="Bidirectional";bt(tde);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class nde extends Yn{constructor(t){super(t),this.scale=t.scale,t.offset?this.offset=t.offset:this.offset=0}getConfig(){const t={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(t,n),t}call(t,n){return Xe(()=>(t=Tn(t),t.dtype!=="float32"&&(t=Ac(t,"float32")),Et(Pe(t,this.scale),this.offset)))}}nde.className="Rescaling";bt(nde);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:crt,cropAndResize:frt}=If;class rde extends Yn{constructor(t){super(t),this.height=t.height,this.width=t.width}centerCrop(t,n,r,a,i,o,s,l){return Xe(()=>{let u,c=!1;const f=n/o,d=r/s,h=(a+n)/o,p=(i+r)/s,v=[f,d,h,p],g=[];t.rank===3?(c=!0,u=Kf([t])):u=t;for(let _=0;_<u.shape[0];_++)g.push(v);const m=ux(g,[g.length,4]),y=mw(0,g.length,1,"int32"),x=frt(u,m,y,[a,i],"nearest");return Ac(c?Tn(xg(x)):x,l)})}upsize(t,n,r,a){return Xe(()=>{const i=crt(t,[n,r]);return Ac(i,a)})}call(t,n){return Xe(()=>{const r=Tn(t),a=r.dtype,i=r.shape,o=i[i.length-3],s=i[i.length-2];let l=0;o!==this.height&&(l=Math.floor((o-this.height)/2));let u=0;return s!==this.width&&(u=Math.floor((s-this.width)/2),u===0&&(u=1)),l>=0&&u>=0?this.centerCrop(r,l,u,this.height,this.width,o,s,a):this.upsize(t,this.height,this.width,a)})}getConfig(){const t={height:this.height,width:this.width},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){t=xr(t);const n=t.length-3,r=t.length-2;return t[n]=this.height,t[r]=this.width,t}}rde.className="CenterCrop";bt(rde);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function drt(e,t,n,r){let a=Tn(e);if(a.dtype!=="int32"&&(a=Ac(a,"int32")),t==="int")return a;const i=a.shape;if(a.rank===0&&(a=zo(a,-1)),t==="oneHot"&&a.shape[a.shape.length-1]!==1&&(a=zo(a,-1)),a.rank>2)throw new $e(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${i} which would result in output rank ${a.rank}.`);const o=["multiHot","oneHot"].includes(t),s=a;let l;if(typeof r<"u"&&t==="count"?l=K9(s,r,n,o):l=K9(s,[],n,o),t!=="tfIdf")return l;if(r)return Pe(l,r);throw new $e("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ade extends Yn{constructor(t){super(t),this.numTokens=t.numTokens,t.outputMode?this.outputMode=t.outputMode:this.outputMode="multiHot"}getConfig(){const t={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){return t=xr(t),t==null?[this.numTokens]:this.outputMode==="oneHot"&&t[t.length-1]!==1?(t.push(this.numTokens),t):(t[t.length-1]=this.numTokens,t)}call(t,n){return Xe(()=>{t=Tn(t),t.dtype!=="int32"&&(t=Ac(t,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new $e(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=Tn(n.countWeights)}const a=Tu(t),i=xI(t),o=Js(this.numTokens,a).bufferSync().get(0),s=zg(i,0).bufferSync().get(0);if(!(o&&s))throw new $e(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return drt(t,this.outputMode,this.numTokens,r)})}}ade.className="CategoryEncoding";bt(ade);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const hrt=["bilinear","nearest"],L7=new Set(hrt);class ide extends Yn{constructor(t){if(super(t),this.height=t.height,this.width=t.width,t.interpolation)if(L7.has(t.interpolation))this.interpolation=t.interpolation;else throw new $e(`Invalid interpolation parameter: ${t.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!t.cropToAspectRatio}computeOutputShape(t){t=xr(t);const n=t[2];return[this.height,this.width,n]}getConfig(){const t={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(t,n),t}call(t,n){return Xe(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return If.resizeBilinear(t,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return If.resizeNearestNeighbor(t,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...L7]} are supported`)})}}ide.className="Resizing";bt(ide);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ode{constructor(t){this.seed=t}next(){if(this.seed!==void 0)return this.seed++}}ode.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class sde extends Yn{constructor(t){super(t),this.randomGenerator=new ode(t.seed)}getConfig(){const t={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(t,n),t}}sde.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const prt=["bilinear","nearest"],O7=new Set(prt);class lde extends sde{constructor(t){super(t);const{factor:n,interpolation:r="bilinear"}=t;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new $e(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new $e(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new $e(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(O7.has(r))this.interpolation=r;else throw new $e(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const t={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){t=xr(t);const n=t[2];return[this.imgHeight,-1,n]}call(t,n){return Xe(()=>{const r=Tn(t);this.imgHeight=r.shape[r.shape.length-3];const a=r.shape[r.shape.length-2];this.widthFactor=LS([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let i=this.widthFactor.dataSync()[0]*a;i=Math.round(i);const o=[this.imgHeight,i];switch(this.interpolation){case"bilinear":return If.resizeBilinear(t,o);case"nearest":return If.resizeNearestNeighbor(t,o);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...O7]} are supported`)}})}}lde.className="RandomWidth";bt(lde);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vrt=tt();vrt.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var P7;(function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"})(P7||(P7={}));var F7;(function(e){(function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"})(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))})(F7||(F7={}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var B7;(function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"})(B7||(B7={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nn(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&pe(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const grt=nue;class oN extends yV{nextDataId(){return oN.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Ase(this,sc())}write(t,n,r){this.firstUse&&(this.firstUse=!1,tt().get("IS_NODE")&&$s(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const a={id:this.nextDataId()};return this.data.set(a,{values:t,dtype:r,refCount:1}),a}makeTensorInfo(t,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&L_(r[0])){const i=r.map(o=>ph(o));a=this.write(i,t,n)}else a=this.write(r,t,n);return{dataId:a,shape:t,dtype:n}}refCount(t){return this.data.has(t)?this.data.get(t).refCount:0}incRef(t){const n=this.data.get(t);n.refCount++}decRef(t){if(this.data.has(t)){const n=this.data.get(t);n.refCount--}}move(t,n,r,a,i){this.data.set(t,{values:n,dtype:a,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(t){return this.readSync(t)}readSync(t){const{dtype:n,complexTensorInfos:r}=this.data.get(t);if(n==="complex64"){const a=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return jf(a,i)}return gKe(this.data.get(t).values,n)}bufferSync(t){const n=this.readSync(t.dataId);if(t.dtype==="string")try{const r=n.map(a=>Rh(a));return Gn(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Gn(t.shape,t.dtype,n)}makeOutput(t,n,r){return sc().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,t),this)}disposeData(t,n=!1){if(this.data.has(t)){if(this.data.get(t).refCount--,!n&&this.data.get(t).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(t);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(t)}return!0}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}async time(t){const n=Bo();return t(),{kernelMs:Bo()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(t){nn([t],"where");const n=this.readSync(t.dataId);return grt(t.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}oN.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ude(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const mrt=e=>{const{x:t}=e.inputs,n=e.backend;nn(t,"abs");let r=new Float32Array(ot(t.shape));const a=n.data.get(t.dataId).values;return r=ude(a),n.makeOutput(r,t.shape,t.dtype)},yrt={kernelName:BA,backendName:"cpu",kernelFunc:mrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ka(e){return(t,n,r,a,i)=>{const o=On(t,n),s=o.length,l=dn(o),u=ot(o),c=Ui(i,u),f=t.length,d=n.length,h=dn(t),p=dn(n),v=py(t,o),g=py(n,o);if(v.length+g.length===0)for(let m=0;m<c.length;++m)c[m]=e(r[m%r.length],a[m%a.length]);else for(let m=0;m<c.length;++m){const y=Jy(m,s,l),b=y.slice(-f);v.forEach(C=>b[C]=0);const x=kc(b,f,h),_=y.slice(-d);g.forEach(C=>_[C]=0);const S=kc(_,d,p);c[m]=e(r[x],a[S])}return[c,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ys(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(s.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},s}const brt={kernelName:RV,backendName:"cpu",kernelFunc:ys};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LI(e,t,n="float32"){if(n==="complex64"){const a=LI(e,t,"float32"),i=LI(e,t,"float32");return ys({inputs:{real:a,imag:i},backend:e})}const r=Gi(ot(t),n);return e.makeTensorInfo(t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wc(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const xrt={kernelName:nS,backendName:"cpu",kernelFunc:Wc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _g(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}const wrt={kernelName:nz,backendName:"cpu",kernelFunc:_g};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cde(e,t,n,r){if(r==="int32"){const a=Int32Array.from(e);return[t,"int32",a]}if(r==="bool"){const a=Vg([0],n),[i,o]=ka((s,l)=>s!==l?1:0)(t,[],e,a,"bool");return[o,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function Ph(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:i}=r;if(i==="complex64"){if(a.dtype==="complex64")return Wc({inputs:{x:a},backend:n});const c=LI(n,a.shape,a.dtype),f=Ph({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),d=ys({inputs:{real:f,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),d}if(a.dtype==="complex64"){const c=_g({inputs:{input:a},backend:n}),f=Ph({inputs:{x:c},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(c),f}if(!Nse(a.dtype,i)){const c=Wc({inputs:{x:a},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:i}}const o=n.data.get(a.dataId).values,[s,l,u]=cde(o,a.shape,a.dtype,i);return n.makeTensorInfo(s,l,u)}const _rt={kernelName:H_,backendName:"cpu",kernelFunc:Ph};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xa(e,t,n,r){return n==null?({inputs:a,backend:i})=>{const{a:o,b:s}=a,l=i;nn([o,s],e);const u=l.data.get(o.dataId).values,c=l.data.get(s.dataId).values,f=o.dtype==="string"?Yf(u):u,d=o.dtype==="string"?Yf(c):c,h=r||o.dtype,[p,v]=t(o.shape,s.shape,f,d,h);return l.makeTensorInfo(v,h,p)}:({inputs:a,backend:i})=>{const{a:o,b:s}=a,l=i;if(o.dtype==="complex64"||s.dtype==="complex64"){const u=Ph({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),f=c.complexTensorInfos.real,d=c.complexTensorInfos.imag,h=l.data.get(f.dataId).values,p=l.data.get(d.dataId).values,v=Ph({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),g=l.data.get(v.dataId),m=g.complexTensorInfos.real,y=g.complexTensorInfos.imag,b=l.data.get(m.dataId).values,x=l.data.get(y.dataId).values,[_,S,C]=n(o.shape,s.shape,h,p,b,x),k=l.makeTensorInfo(C,"float32",_),T=l.makeTensorInfo(C,"float32",S),E=ys({inputs:{real:k,imag:T},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(v),l.disposeIntermediateTensorInfo(k),l.disposeIntermediateTensorInfo(T),E}else{const u=l.data.get(o.dataId).values,c=l.data.get(s.dataId).values,f=r||o.dtype,[d,h]=t(o.shape,s.shape,u,c,f);return l.makeTensorInfo(h,f,d)}}}function B8(e){return(t,n,r,a,i,o)=>{const s=On(t,n),l=ot(s),u=s.length,c=dn(s),f=Ui("float32",l),d=Ui("float32",l),h=py(t,s),p=py(n,s),v=jf(r,a),g=jf(i,o),m=t.length,y=dn(t),b=n.length,x=dn(n);if(h.length+p.length===0)for(let _=0;_<f.length;_++){const S=_%v.length,C=_%g.length,k=e(v[S*2],v[S*2+1],g[C*2],g[C*2+1]);f[_]=k.real,d[_]=k.imag}else for(let _=0;_<f.length;_++){const S=Jy(_,u,c),C=S.slice(-m);h.forEach(A=>C[A]=0);const k=kc(C,m,y),T=S.slice(-b);p.forEach(A=>T[A]=0);const E=kc(T,b,x),I=e(v[k*2],v[k*2+1],g[E*2],g[E*2+1]);f[_]=I.real,d[_]=I.imag}return[f,d,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fde=ka((e,t)=>e+t),Srt=B8((e,t,n,r)=>({real:e+n,imag:t+r})),my=Xa(Qy,fde,Srt),Crt={kernelName:Qy,backendName:"cpu",kernelFunc:my};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V8(e,t,n,r,a){const i=ot(r),o=Gi(a,n);for(let s=0;s<e.length;s++){const l=e[s];if(l<0)throw new Error("Input x must be non-negative!");l>=a||(i>0?o[l]+=t[s]:o[l]+=1)}return o}function dde(e,t,n,r=!1){const a=e.shape[0],i=e.shape[1],o=Gn([a,n],t.dtype);for(let s=0;s<a;s++)for(let l=0;l<i;l++){const u=e.get(s,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?o.set(1,s,u):t.size>0?o.set(o.get(s,u)+t.get(s,l),s,u):o.set(o.get(s,u)+1,s,u))}return o}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hde=ka((e,t)=>e&t),Trt=Xa(NV,hde),krt={kernelName:NV,backendName:"cpu",kernelFunc:Trt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nf(e){return(t,n,r)=>{const a=ma(n,t.length);for(let i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lr(e,t,n){const r=nf(t);return up(e,r,n)}function up(e,t,n){return({inputs:r,attrs:a,backend:i})=>{const{x:o}=r;nn(o,e);const s=i,l=s.data.get(o.dataId).values;let u;if(o.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=Yf(l)}else u=l;const c=n||o.dtype,f=t(u,c,a);return s.makeTensorInfo(o.shape,c,f)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pde=nf(e=>Math.ceil(e)),Irt=up(U_,pde),Ert={kernelName:U_,backendName:"cpu",kernelFunc:Irt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vde(e,t,n,r){const a=ma(n,ot(t));if(r&&n!=="string"){let i=0;e.forEach(o=>{const s=ot(o.shape);a.set(o.vals,i),i+=s})}else{let i=0;e.forEach(o=>{const s=n==="string"?Yf(o.vals):o.vals;let l=0;for(let u=0;u<o.shape[0];++u){const c=u*t[1]+i;for(let f=0;f<o.shape[1];++f)a[c+f]=s[l++]}i+=o.shape[1]})}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gde=ka((e,t)=>e===t?1:0),mde=Xa(eD,gde,null,"bool"),Art={kernelName:eD,backendName:"cpu",kernelFunc:mde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yde=nf(e=>Math.exp(e)),bde=up(Z_,yde,"float32"),Drt={kernelName:Z_,backendName:"cpu",kernelFunc:bde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xde=nf(e=>Math.expm1(e)),Nrt=up(J_,xde),Rrt={kernelName:J_,backendName:"cpu",kernelFunc:Nrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wde=nf(e=>Math.floor(e)),Mrt=up(Q_,wde),$rt={kernelName:Q_,backendName:"cpu",kernelFunc:Mrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _de=ka((e,t)=>Math.floor(e/t)),Lrt=Xa(eS,_de,null,"int32"),Ort={kernelName:eS,backendName:"cpu",kernelFunc:Lrt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sde(e,t,n,r,a,i,o,s,l){const u=Gn([r,i],n);for(let c=0;c<r;c++){const f=[];let d=0;for(let h=0;h<a;h++){const p=e[c*a+h];d+=p*o[h],f.push(p)}if(d<0||d>=l/i)throw new Error(`Invalid indices: ${f} does not index into ${s}`);for(let h=0;h<i;h++)u.values[c*i+h]=t.get(...t.indexToLoc(d*i+h))}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cde(e,t,n){const r=Gn(n,e.dtype);for(let a=0;a<r.size;++a){const o=r.indexToLoc(a).slice(),s=o[0],l=o[2],u=t.locToIndex([s,l]);o[2]=t.values[u];const c=e.locToIndex(o);0<=c&&c<e.values.length&&(r.values[a]=e.values[c])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tde=ka((e,t)=>e>t?1:0),Prt=Xa(aD,Tde,null,"bool"),Frt={kernelName:aD,backendName:"cpu",kernelFunc:Prt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kde=ka((e,t)=>e>=t?1:0),Brt=Xa(tS,kde,null,"bool"),Vrt={kernelName:tS,backendName:"cpu",kernelFunc:Brt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ide=ka((e,t)=>e<t?1:0),zrt=Xa(oD,Ide,null,"bool"),Wrt={kernelName:oD,backendName:"cpu",kernelFunc:zrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ede=ka((e,t)=>e<=t?1:0),Hrt=Xa(sD,Ede,null,"bool"),Urt={kernelName:sD,backendName:"cpu",kernelFunc:Hrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ade(e,t,n){const r=(t-e)/(n-1),a=Gi(n,"float32");a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dde=nf(e=>Math.log(e)),Grt=up(oS,Dde),Krt={kernelName:oS,backendName:"cpu",kernelFunc:Grt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nde(e,t,n,r){const a=Ui(r,ot(n));for(let i=0;i<a.length;++i){const o=i*t;let s=e[o];for(let l=0;l<t;++l){const u=e[o+l];(Number.isNaN(u)||u>s)&&(s=u)}a[i]=s}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rde=ka((e,t)=>Math.max(e,t)),jrt=Xa(lS,Rde),Yrt={kernelName:lS,backendName:"cpu",kernelFunc:jrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mde=ka((e,t)=>Math.min(e,t)),Xrt=Xa(uS,Mde),qrt={kernelName:uS,backendName:"cpu",kernelFunc:Xrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z8=ka((e,t)=>e*t),Zrt=B8((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})),sN=Xa(fS,z8,Zrt),Jrt={kernelName:fS,backendName:"cpu",kernelFunc:sN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $de(e,t,n){const r=tp(-1,n);return z8([],t,r,e,n)}function Qrt(e){const{inputs:t,backend:n}=e,{x:r}=t;nn(r,"neg");const a=n.data.get(r.dataId).values,[i,o]=$de(a,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,i)}const eat={kernelName:yD,backendName:"cpu",kernelFunc:Qrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lde=ka((e,t)=>e!==t?1:0),tat=Xa(bD,Lde,null,"bool"),nat={kernelName:bD,backendName:"cpu",kernelFunc:tat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W8(e,t,n,r,a){const i=t.length,o=ot(t),s=dn(t),l=dn(a),u=Ui(n,ot(a));for(let c=0;c<o;++c){const f=Jy(c,i,s),d=new Array(f.length);for(let p=0;p<d.length;p++)d[p]=f[r[p]];const h=kc(d,i,l);u[h]=e[c]}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rs(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:i}=n;nn(a,"transpose");const o=a.shape.length,s=new Array(o);for(let f=0;f<s.length;f++)s[f]=a.shape[i[f]];const l=r.data.get(a.dataId).values,u=W8(l,a.shape,a.dtype,i,s);return{dataId:r.write(u,s,a.dtype),shape:s,dtype:a.dtype}}const rat={kernelName:Rm,backendName:"cpu",kernelFunc:rs};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ode(e,t,n,r){const[a,i]=mi(e,r),o=Ts(t,"int32"),s=Gi(ot(a),o),l=ot(i);for(let u=0;u<s.length;++u){const c=u*l;let f=1;for(let d=0;d<l;++d)f*=n[c+d];s[u]=f}return{outVals:s,outShape:a,outDtype:o}}function aat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"prod");const s=a.shape.length,l=jn(i,a.shape),u=da(l,s);let c=l,f=a;const d=[];u!=null&&(f=rs({inputs:{x:a},backend:n,attrs:{perm:u}}),d.push(f),c=Ca(c.length,s));const h=n.data.get(f.dataId).values,{outVals:p,outShape:v,outDtype:g}=Ode(f.shape,f.dtype,h,c);let m=v;return o&&(m=Ra(v,l)),d.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(m,g,p)}const iat={kernelName:TD,backendName:"cpu",kernelFunc:aat};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oat(e,t,n){e.forEach((r,a)=>{if(r<0||r>=n){const i=Jy(a,t.length,dn(t)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function sat(e,t){for(let n=0;n<e.length;++n){const r=e[n],a=n===e.length-1?t:e[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function lat(e,t,n,r){const a=[];let i=0;const o=t.length-1+n.length,s=new Array(o).fill(null).map(()=>[0]);sat(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const c=t[u+1];for(let f=1;f<l+1;++f)s[u].push(f*c)}for(let u=0;u<e.length;++u){let c=e[u],f=e[u]+1;for(let d=0;d<n.length;++d){const h=n[d],p=d+t.length-1;if(p>=0){const v=s[p],g=v[v.length-1]-h[c];for(let m=c;m<f;++m)s[p].push(h[m+1]+g)}c=h[c],f=h[f]}f!==c&&(a.push([c,f]),i+=f-c)}return{outSplits:s,valueSlices:a,numValues:i}}function uat(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n].length,a=ma("int32",r);t.push(a),e[n].forEach((i,o)=>a[o]=i)}return t}function V7(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function cat(e,t,n,r,a,i){const o=V7(t,2)[1],s=V7(i,2)[1];let l=0;for(const u of n)for(let c=u[0];c<u[1];++c){for(let f=0;f<r;++f)a[l*s+f]=e[c*o+f];++l}}function fat(e,t,n,r,a){const i=t.slice();i[0]=a;const o=ma(n,ot(i)),s=e.length,l=s===0?0:s/t[0];return cat(e,t,r,l,o,i),[o,i]}function Pde(e,t,n,r,a,i,o,s){if(e.length===0)throw new Error("paramsNestedSplits must be non empty");if(t[0].length===0)throw new Error("Split tensors must not be scalars");const l=t[0][0]-1;if(oat(i,o,l),r.length===0)throw new Error("params.rank must be nonzero");const u=r[0],{outSplits:c,valueSlices:f,numValues:d}=lat(i,o,e,u),h=uat(c),p=fat(n,r,a,f,d);return[h,p[0],p[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z7=2147483647;function Fde(e,t,n,r,a,i,o){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(o.length>1)throw new Error("deltas must be a scalar or vector");const s=t.length===0,l=a.length===0,u=o.length===0,c=[];s||c.push(t[0]),l||c.push(a[0]),u||c.push(o[0]);for(let g=1;g<c.length;++g)if(c[g]!==c[g-1])throw new Error("starts, limits, and deltas must have the same shape");const f=c.length===0?1:c[0],d=ma("int32",f+1);d[0]=0;for(let g=0;g<f;++g){const m=s?e[0]:e[g],y=l?r[0]:r[g],b=u?i[0]:i[g];if(b===0)throw new Error("Requires delta != 0");let x;if(b>0&&y<m||b<0&&y>m)x=0;else if(x=Math.ceil(Math.abs((y-m)/b)),x>z7)throw new Error(`Requires ((limit - start) / delta) <= ${z7}`);d[g+1]=d[g]+x}const h=d[f],p=ma(n,h);let v=0;for(let g=0;g<f;++g){const m=d[g+1]-d[g];let y=s?e[0]:e[g];const b=u?i[0]:i[g];for(let x=0;x<m;++x)p[v++]=y,y+=b}return[d,p]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var nl=fu;class OI{constructor(t,n,r,a,i,o,s,l,u,c){this.shape=t,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=i,this.defaultValue=o,this.defaultValueShape=s,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=Sue(c),this.raggedRank=Cue(this.rowPartitionTypes)}getRowPartitionTypeByDimension(t){return this.rowPartitionTypes[0]===nl.FIRST_DIM_SIZE?this.rowPartitionTypes[t+1]:this.rowPartitionTypes[t]}getRowPartitionTensor(t){return this.rowPartitionTypes[0]===nl.FIRST_DIM_SIZE?this.rowPartitionValues[t+1]:this.rowPartitionValues[t]}getMaxWidth(t){const n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case nl.VALUE_ROWIDS:return OI.getMaxWidthValueRowID(n);case nl.ROW_SPLITS:return OI.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${nl[this.getRowPartitionTypeByDimension(t-1)]}`)}}static getMaxWidthRowSplit(t){const n=t.length;if(n===0||n===1)return 0;let r=0;for(let a=0;a<n-1;++a){const i=t[a+1]-t[a];i>r&&(r=i)}return r}static getMaxWidthValueRowID(t){const n=t.length;if(n===0)return 0;let r=0,a=t[0],i=0;for(let o=1;o<n;++o){const s=t[o];s!==a&&(a=s,i=Math.max(o-r,i),r=o)}return Math.max(n-r,i)}tensorShapeFromTensor(t,n,r=!0){if(n.length===0){if(t[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return H7(t,r)}calculateOutputSize(t){const n=this.valuesShape,r=this.defaultValueShape;Tue(r,n);const a=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=_ue(this.raggedRank,a,n);o[0]<0&&(o[0]=t);for(let s=1;s<=this.raggedRank;++s)o[s]<0&&(o[s]=this.getMaxWidth(s));return o}calculateFirstParentOutputIndex(t,n,r){const a=Math.min(t,r),i=[];let o=0;for(let s=0;s<a;++s,o+=n)i.push(o);for(let s=a;s<t;++s)i.push(-1);return pe(i.length===t,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(t,n,r,a){const i=t.length,o=[];for(let s=0;s<i-1;++s){const l=t[s+1]-t[s];let u=Math.min(a,l),c=n[s];c===-1&&(u=0);for(let f=0;f<u;++f)o.push(c),c+=r;for(let f=0;f<l-u;++f)o.push(-1)}if(i>0&&o.length!==t[i-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(t,n,r,a){const i=t.length,o=[];if(i===0)return[];let s=0,l=t[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];o.push(u);for(let c=1;c<i;++c){const f=t[c];if(f===l)u>=0&&(++s,s<a?u+=r:u=-1);else{if(s=0,l=f,f>=n.length)throw new Error(`Got nextValueRowId=${f} which is not less than ${n.length}`);u=n[f]}o.push(u)}if(o.length!==t.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(t,n,r,a){const i=this.getRowPartitionTensor(t),o=this.getRowPartitionTypeByDimension(t);switch(o){case nl.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,a);case nl.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,a);default:throw new Error(`Unsupported partition type: ${nl[o]}`)}}getFirstDimensionSize(){const t=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case nl.FIRST_DIM_SIZE:return t[0];case nl.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case nl.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${nl[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),a=new Array(this.raggedRank+1);a[a.length-1]=1;for(let l=a.length-2;l>=0;--l)a[l]=a[l+1]*r[l+1];const i=H7(r,!1),o=ma(this.valuesDType,ot(i));if(a[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,a[0],r[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,a[u],r[u]);this.setOutput(this.raggedRank,l,o,i)}return[i,o]}setOutput(t,n,r,a){if(r.length===0)return;const i=this.values,o=r;let s=a.slice();s=s.slice(t+1);const l=ot(s),u=n.length;let c=this.defaultValue;if(c.length!==l&&c.length!==1){const p=this.defaultValueShape;Xe(()=>{const v=He(c,p);c=cx(v,s).dataSync()})}let f=0,d=0,h=0;for(let p=0;p<=u;++p){let v=p<u?n[p]:-1;if(v===h){++h;continue}if(d<h){const g=i.subarray(f*l),m=o.subarray(d*l),y=(h-d)*l;W7(m,g,y)}if(p>=u){const g=r.length;v=Math.floor(g/l)}if(v>h)if(this.defaultValue.length===1)o.subarray(h*l,v*l).fill(this.defaultValue[0]),h=v;else for(;v>h;){const g=o.slice(h*l);W7(g,c,l),++h}v<0?(f=p+1,d=h):(f=p,d=h,h=d+1)}}}function W7(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function H7(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function Bde(e,t,n,r,a,i,o,s,l,u){return new OI(e,t,n,r,a,i,o,s,l,u).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vde(e,t,n,r){const a=e===t,i=e<t&&n<0,o=t<e&&n>1;if(a||i||o)return Gi(0,r);const s=Math.abs(Math.ceil((t-e)/n)),l=Gi(s,r);t<e&&n===1&&(n=-1),l[0]=e;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zde=nf(e=>1/Math.sqrt(e)),dat=up(mS,zde),hat={kernelName:mS,backendName:"cpu",kernelFunc:dat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cv(e,t,n,r,a,i,o,s,l,u){const c=[r/a,a],f=e.values,d=t.values;if(r===0)return Gn(n,t.dtype);const h=l instanceof Ti?l:Gn(c,t.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let p=0;p<i;p++){const v=[];let g=0;for(let m=0;m<o;m++){const y=f[p*o+m];v.push(y),g+=y*s[m]}if(g<0||g>=r/a)throw new Error(`Invalid indices: ${v} does not index into ${n}`);for(let m=0;m<a;m++)u?h.values[g*a+m]+=d[p*a+m]:h.values[g*a+m]=t.rank===0?d[0]:d[p*a+m]}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pat=nf(e=>1/(1+Math.exp(-e))),Wde=Lr(_S,e=>1/(1+Math.exp(-e))),vat={kernelName:_S,backendName:"cpu",kernelFunc:Wde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hde(e,t,n,r,a){const i=Xz(r,t,n),o=ot(n),s=dn(r);if(i){const f=qz(t,s);return a==="string"?e.slice(f,f+o):e.subarray(f,f+o)}const l=a==="string"?Yf(e):e,u=Gn(r,a,l),c=Gn(n,a);for(let f=0;f<c.size;++f){const d=c.indexToLoc(f),h=d.map((p,v)=>p+t[v]);c.set(u.get(...h),...d)}return a==="string"?Gue(c.values):c.values}function Sg(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:o}=r;nn(a,"slice");const[s,l]=KD(a,i,o);jz(a,s,l);const u=n.data.get(a.dataId).values,c=Hde(u,s,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,c)}const gat={kernelName:ND,backendName:"cpu",kernelFunc:Sg};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ude(e,t,n,r,a,i,o){const s=t[0],l=i[0],u=new Array(l),c=new Array(s),f=t[1];if(l===0){if(s!==0)throw new Error(Rue(s));const g=ma(n,0),m=ma(a,0);return[g,[0,f],m,u,c]}let d=!0,h=0;const p=new Array(l).fill(0);for(let g=0;g<s;++g){const m=e[g*f];if(m<0)throw new Error(Mue(g,m));if(m>=l)throw new Error($ue(g,m,l));++p[m],d=d&&m>=h,h=m}let v=!0;for(let g=0;g<l;++g){const m=p[g]===0;u[g]=m,v=v&&!m,p[g]=Math.max(p[g],1),g>0&&(p[g]+=p[g-1])}if(v&&d){const g=e,m=r;for(let y=0;y<s;++y)c[y]=y;return[g,[s,f],m,u,c]}else{const g=p[l-1],m=ma(n,g*f),y=ma(a,g),b=new Array(l).fill(0);for(let x=0;x<s;++x){const _=e[x*f],S=b[_],C=(_===0?0:p[_-1])+S;b[_]++;for(let k=0;k<f;++k)m[C*f+k]=e[x*f+k];y[C]=r[x],c[x]=C}for(let x=0;x<l;++x)if(b[x]===0){const S=x===0?0:p[x-1];m[S*f+0]=x;for(let C=1;C<f;++C)m[S*f+C]=0;y[S]=o}return[m,[g,f],y,u,c]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gde(e,t,n,r,a){const i=ot(r),o=t[0],s=a.length,l=[];let u=1,c=-1;for(let g=0;g<s;++g){const m=a[g];if(m===-1){if(c!==-1)throw new Error(Lue(c,g));c=g,l.push(1)}else{if(m<0)throw new Error(Oue(g,m));u*=m,l.push(m)}}if(c!==-1){if(u<=0)throw new Error(Pue());const g=Math.trunc(i/u);if(u*g!==i)throw new Error(Fue(r,l));l[c]=g}if(ot(l)!==i)throw new Error(Bue(r,l));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let g=d-2;g>=0;--g)h[g]=h[g+1]*r[g+1]}const p=[];if(s>0){p[s-1]=1;for(let g=s-2;g>=0;--g)p[g]=p[g+1]*l[g+1]}const v=ma(n,o*s);for(let g=0;g<o;++g){let m=0;for(let y=0;y<d;++y)m+=e[g*d+y]*h[y];for(let y=0;y<s;++y)v[g*s+y]=Math.trunc(m/p[y]),m%=p[y]}return[v,[o,s],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H8(e,t,n,r,a,i=!1,o=0){const s=r.length,l=[t[0],e.length/t[0]],u=l[1],f=s>0?a[s-1]+1:0;if(f<0)throw new Error(HP());const d=t.slice();d[0]=f;const h=d.reduce((b,x)=>b*x,1),p=ma(n,h);if(s===0)return f>0&&p.fill(o),[p,d];if(f<=0)throw new Error(HP());let v=0,g=1,m=0,y=a[v];for(;;){let b=0;if(g<s){if(b=a[g],y===b){++g;continue}if(y>=b)throw new Error(Vue())}if(y<0||y>=f)throw new Error(zue(y,f));y>m&&p.fill(o,m*u,y*u);for(let x=v;x<g;++x){const _=r[x];if(_<0||_>=l[0])throw new Error(Wue(x,r[x],l[0]));for(let S=0;S<u;S++)p[y*u+S]+=e[_*u+S]}if(i)for(let x=0;x<u;x++)p[y*u+x]/=g-v;if(v=g,++g,m=y+1,y=b,g>s)break}return m<f&&p.fill(o,m*u,f*u),[p,d]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mat=nf(e=>Math.sqrt(e)),yat=Lr(CS,e=>Math.sqrt(e)),bat={kernelName:CS,backendName:"cpu",kernelFunc:yat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kde=ka((e,t)=>{const n=e-t;return n*n}),xat=Xa(TS,Kde),wat={kernelName:TS,backendName:"cpu",kernelFunc:xat};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jde=nf((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)}),_at=up(oz,jde),Sat={kernelName:oz,backendName:"cpu",kernelFunc:_at};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yde(e,t,n,r){const a=Gn(e,t.dtype);for(let i=0;i<a.size;i++){const o=a.indexToLoc(i),s=new Array(o.length);for(let l=0;l<s.length;l++)s[l]=o[l]*n[l]+r[l];a.set(t.get(...s),...o)}return a}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cat{constructor(t,n,r,a,i,o){this.separator=ph(t),this.nGramWidths=n,this.leftPad=ph(r),this.rightPad=ph(a),this.padWidth=i,this.preserveShort=o}getPadWidth(t){return Math.min(this.padWidth<0?t-1:this.padWidth,t-1)}getNumNGrams(t,n){const r=this.getPadWidth(n);return Math.max(0,t+2*r-n+1)}createNGrams(t,n,r,a,i,o){for(let s=0;s<i;++s){const l=this.getPadWidth(o),u=Math.max(0,l-s),c=Math.max(0,l-(i-(s+1))),f=o-(u+c),d=n+(u>0?0:s-l);let h=0;h+=u*this.leftPad.length;for(let y=0;y<f;++y)h+=t[d+y].length;h+=c*this.rightPad.length;const p=u+c+f-1;h+=p*this.separator.length,r[a+s]=new Uint8Array(h);const v=r[a+s];let g=0;const m=y=>y.forEach(b=>v[g++]=b);for(let y=0;y<u;++y)m(this.leftPad),m(this.separator);for(let y=0;y<f-1;++y)m(t[d+y]),m(this.separator);if(f>0){m(t[d+f-1]);for(let y=0;y<c;++y)m(this.separator),m(this.rightPad)}else{for(let y=0;y<c-1;++y)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(t,n){const r=t.length,a=n.length;if(a>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<a;++u){let c=n[u]>=l;if(c=c&&n[u]<=r,!c)throw new Error(`Invalid split value ${n[u]}, must be in [${l}, ${r}]`);l=n[u]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const i=a-1,o=ma("int32",a);if(r===0||a===0){const l=new Array(r);for(let u=0;u<=i;++u)o[u]=0;return[l,o]}o[0]=0;for(let l=1;l<=i;++l){const u=n[l]-n[l-1];let c=0;this.nGramWidths.forEach(f=>{c+=this.getNumNGrams(u,f)}),this.preserveShort&&u>0&&c===0&&(c=1),o[l]=o[l-1]+c}const s=new Array(o[i]);for(let l=0;l<i;++l){const u=n[l];let c=o[l];if(this.nGramWidths.forEach(f=>{const d=n[l+1]-n[l],h=this.getNumNGrams(d,f);this.createNGrams(t,u,s,c,h,f),c+=h}),this.preserveShort&&c===o[l]){const f=n[l+1]-n[l];if(f===0)continue;const d=f+2*this.padWidth;this.createNGrams(t,u,s,c,1,d)}}return[s,o]}}function Xde(e,t,n,r,a,i,o,s){return new Cat(n,r,a,i,o,s).compute(e,t)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tat(e,t,n,r){if(!e.length)return;if(t.length===0){for(let i=0;i<e.length;++i)r.push(e.subarray(i,i+1));return}if(t.length===1){const i=t[0];let o=e.indexOf(i);for(;o!==-1;){const s=e.subarray(0,o);(!n||s.length!==0)&&r.push(s),e=e.subarray(o+1),o=e.indexOf(i)}(!n||e.length!==0)&&r.push(e);return}let a=0;for(let i=0;i<e.length+1;i++)if(i===e.length||t.indexOf(e[i])!==-1){const o=e.subarray(a,i);(!n||o.length!==0)&&r.push(o),a=i+1}}function qde(e,t,n){const r=e.length,a=[];let i=0,o=0;const s=new Array(r);for(let d=0;d<r;++d){const h=a.length;Tat(e[d],t,n,a);const p=a.length-h;s[d]=p,i+=p,o=Math.max(o,p)}const l=ma("int32",i*2),u=new Array(i),c=[r,o];let f=0;for(let d=0;d<r;++d)for(let h=0;h<s[d];++h)l[f*2]=d,l[f*2+1]=h,u[f]=a[f],++f;return[l,u,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zde(e,t){const n=ma("int32",e.length);for(let r=0;r<e.length;++r)n[r]=LKe(e[r]).modulo(t).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jde=ka((e,t)=>e-t),kat=B8((e,t,n,r)=>({real:e-n,imag:t-r})),U8=Xa(kS,Jde,kat),Iat={kernelName:kS,backendName:"cpu",kernelFunc:U8};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qde(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const r=Gn(n,e.dtype);for(let a=0;a<r.values.length;++a){const i=r.indexToLoc(a),o=new Array(e.rank);for(let l=0;l<o.length;l++)o[l]=i[l]%e.shape[l];const s=e.locToIndex(o);r.values[a]=e.values[s]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Db=(e,t)=>{const n=t.value-e.value;return n===0?e.index-t.index:n};function ehe(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const s=r-n+1,l=t-n+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*Math.sign(l-s/2),d=Math.max(n,Math.floor(t-l*c/s+f)),h=Math.min(r,Math.floor(t+(s-l)*c/s+f));ehe(e,t,d,h)}const a=e[t];let i=n,o=r;for(tm(e,n,t),Db(e[r],a)>0&&tm(e,n,r);i<o;){for(tm(e,i,o),i++,o--;Db(e[i],a)<0;)i=i+1;for(;Db(e[o],a)>0;)o=o-1}Db(e[n],a)===0?tm(e,n,o):(o=o+1,tm(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}}function the(e,t,n,r,a){const i=t[t.length-1],[o,s]=[e.length/i,i],l=Ui(n,o*r),u=Ui("int32",o*r);for(let f=0;f<o;f++){const d=f*s,h=e.subarray(d,d+s);let p=new Array(h.length);h.forEach((y,b)=>p[b]={value:y,index:b}),r<p.length&&(ehe(p,r),p=p.slice(0,r)),a&&p.sort(Db);const v=f*r,g=l.subarray(v,v+r),m=u.subarray(v,v+r);for(let y=0;y<r;y++)g[y]=p[y].value,m[y]=p[y].index}const c=t.slice();return c[c.length-1]=r,[Gn(c,n,l),Gn(c,"int32",u)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nhe(e,t,n,r){const a=jn(t,n)[0],i=[1,n[0],1];for(let p=0;p<a;p++)i[0]*=n[p];i[1]=n[a];for(let p=a+1;p<n.length;p++)i[2]*=n[p];const o=new Map,s=new Int32Array(n[a]),l=new Ti(i,r,e),u=[],c=i[0]===1&&i[2]===1;for(let p=0;p<n[a];p++){let v;if(c)v=e[p].toString();else{const m=[];for(let y=0;y<i[0];y++)for(let b=0;b<i[2];b++)m.push(l.get(y,p,b));v=m.join(",")}const g=o.get(v);if(g!=null)s[p]=g;else{const m=o.size;o.set(v,m),s[p]=m,u.push(p)}}const f=i.slice();f[1]=o.size;const d=new Ti(f,r);u.forEach((p,v)=>{for(let g=0;g<i[0];g++)for(let m=0;m<i[2];m++)d.set(l.get(g,p,m),g,v,m)});const h=n.slice();return h[a]=f[1],{outputValues:d.values,outputShape:h,indices:s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eat=Object.freeze(Object.defineProperty({__proto__:null,addImpl:fde,bincountImpl:V8,bincountReduceImpl:dde,bitwiseAndImpl:hde,castImpl:cde,ceilImpl:pde,concatImpl:vde,equalImpl:gde,expImpl:yde,expm1Impl:xde,floorDivImpl:_de,floorImpl:wde,gatherNdImpl:Sde,gatherV2Impl:Cde,greaterEqualImpl:kde,greaterImpl:Tde,lessEqualImpl:Ede,lessImpl:Ide,linSpaceImpl:Ade,logImpl:Dde,maxImpl:Nde,maximumImpl:Rde,minimumImpl:Mde,multiplyImpl:z8,negImpl:$de,notEqualImpl:Lde,prodImpl:Ode,raggedGatherImpl:Pde,raggedRangeImpl:Fde,raggedTensorToTensorImpl:Bde,rangeImpl:Vde,rsqrtImpl:zde,scatterImpl:Cv,sigmoidImpl:pat,simpleAbsImpl:ude,sliceImpl:Hde,sparseFillEmptyRowsImpl:Ude,sparseReshapeImpl:Gde,sparseSegmentReductionImpl:H8,sqrtImpl:mat,squaredDifferenceImpl:Kde,staticRegexReplaceImpl:jde,stridedSliceImpl:Yde,stringNGramsImpl:Xde,stringSplitImpl:qde,stringToHashBucketFastImpl:Zde,subImpl:Jde,tileImpl:Qde,topKImpl:the,transposeImpl:W8,uniqueImpl:nhe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */xle("cpu",()=>new oN,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rhe=Lr(X_,e=>e>=0?e:Math.exp(e)-1),Aat={kernelName:X_,backendName:"cpu",kernelFunc:rhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ahe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r;nn([a],"leakyRelu");const o=ot(a.shape),s=n.data.get(a.dataId).values,l=Ui("float32",o);for(let u=0;u<s.length;u++)l[u]=s[u]<0?i*s[u]:s[u];return n.makeTensorInfo(a.shape,"float32",l)}const Dat={kernelName:iD,backendName:"cpu",kernelFunc:ahe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nat=ka((e,t)=>e<0?t*e:e);function ihe(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;nn([r,a],"prelu");const i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,[s,l]=Nat(r.shape,a.shape,i,o,"float32");return n.makeTensorInfo(l,"float32",s)}const Rat={kernelName:CD,backendName:"cpu",kernelFunc:ihe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ohe=Lr(pS,e=>Math.max(0,e)),Mat={kernelName:pS,backendName:"cpu",kernelFunc:ohe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const she=Lr(vS,e=>Math.min(Math.max(0,e),6)),$at={kernelName:vS,backendName:"cpu",kernelFunc:she};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PI(e,t,n,r,a){if(n==="linear")return Wc({inputs:{x:t},backend:e});if(n==="relu")return ohe({inputs:{x:t},backend:e});if(n==="elu")return rhe({inputs:{x:t},backend:e});if(n==="relu6")return she({inputs:{x:t},backend:e});if(n==="prelu")return ihe({inputs:{x:t,alpha:r},backend:e});if(n==="leakyrelu")return ahe({inputs:{x:t},backend:e,attrs:{alpha:a}});if(n==="sigmoid")return Wde({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qr(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,o=ot(a.shape),s=Dse(i,o),l=ot(s);pe(o===l,()=>`The new shape (${s}) has ${l} elements and the old shape (${a.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),n.incRef(a.dataId);const u=n.data.get(a.dataId);if(u.complexTensorInfos!=null){const c=u.complexTensorInfos.real,f=u.complexTensorInfos.imag;c.shape=s,f.shape=s}return{dataId:a.dataId,shape:s,dtype:a.dtype}}const Lat={kernelName:kD,backendName:"cpu",kernelFunc:qr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lhe(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:i}=t,{transposeA:o,transposeB:s}=r;nn([a,i],"matMul");const l=a.shape.length,u=i.shape.length,c=o?a.shape[l-2]:a.shape[l-1],f=s?i.shape[u-1]:i.shape[u-2],d=o?a.shape[l-1]:a.shape[l-2],h=s?i.shape[u-2]:i.shape[u-1],p=a.shape.slice(0,-2),v=i.shape.slice(0,-2),g=ot(p),m=ot(v),b=On(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,h]);pe(c===f,()=>`Error in matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${a.shape} and ${i.shape} and transposeA=${o} and transposeB=${s} must match.`);const x=o?[g,c,d]:[g,d,c],_=s?[m,h,f]:[m,f,h],S=qr({inputs:{x:a},backend:n,attrs:{shape:x}}),C=qr({inputs:{x:i},backend:n,attrs:{shape:_}}),k=o?S.shape[1]:S.shape[2],T=o?S.shape[2]:S.shape[1],E=s?C.shape[1]:C.shape[2],I=Math.max(g,m),A=n.data.get(S.dataId).values,N=n.data.get(C.dataId).values,L=dn(S.shape),R=dn(C.shape),[D,P,O]=o?[L[0],1,L[1]]:[L[0],L[1],1],[M,W,U]=s?[1,R[1],R[0]]:[R[1],1,R[0]],V=T*E,H=Gn([I,T,E],S.dtype),K=H.values,j=n.blockSize;for(let ne=0;ne<I;ne++){const Q=ne%g,oe=ne%m;for(let ae=0;ae<T;ae+=j){const me=Math.min(ae+j,T);for(let ve=0;ve<E;ve+=j){const B=Math.min(ve+j,E);for(let re=0;re<k;re+=j){const ge=Math.min(re+j,k);for(let Ie=ae;Ie<me;Ie++)for(let Ce=ve;Ce<B;Ce++){let he=0;for(let J=re;J<ge;J++){const te=A[Q*D+Ie*P+J*O],xe=N[J*M+Ce*W+oe*U];he+=te*xe}K[ne*V+(Ie*E+Ce)]+=he}}}}}return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(C),n.makeTensorInfo(b,H.dtype,H.values)}const Oat={kernelName:UA,backendName:"cpu",kernelFunc:lhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pat(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:i,bias:o,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;let d,h,p;const v=[];d=lhe({inputs:{a,b:i},attrs:{transposeA:l,transposeB:u},backend:n}),o&&(h=my({inputs:{a:d,b:o},backend:n}),v.push(d),d=h),c&&(p=PI(n,d,c,s,f),v.push(d),d=p);for(const m of v)n.disposeIntermediateTensorInfo(m);return d}const Fat={kernelName:vI,backendName:"cpu",kernelFunc:Pat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bat=Lr(O_,e=>Math.acos(e)),Vat={kernelName:O_,backendName:"cpu",kernelFunc:Bat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zat=Lr(P_,e=>Math.acosh(e)),Wat={kernelName:P_,backendName:"cpu",kernelFunc:zat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hat(e){const{inputs:t,backend:n}=e,r=t;nn(t,"addN");const a=r.map(s=>n.data.get(s.dataId).values),i=Gn(r[0].shape,r[0].dtype),o=i.values;for(let s=0;s<r.length;s++){const l=a[s];for(let u=0;u<o.length;u++)o[u]+=l[u]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}const Uat={kernelName:TV,backendName:"cpu",kernelFunc:Hat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"all");const s=jn(i,a.shape);let l=s;const u=da(l,a.shape.length);let c=a;u!=null&&(c=rs({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Ca(l.length,a.shape.length)),Di("all",l,c.shape.length);const[f,d]=mi(c.shape,l),h=ot(d),p=Gi(ot(f),c.dtype),v=n.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*h;let b=v[y];for(let x=0;x<h;++x){const _=v[y+x];b=b&&_}p[m]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(o){const m=Ra(f,s),y=qr({inputs:{x:g},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(g),y}return g}const Kat={kernelName:kV,backendName:"cpu",kernelFunc:Gat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"any");const s=jn(i,a.shape);let l=s;const u=da(l,a.shape.length);let c=a;u!=null&&(c=rs({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Ca(l.length,a.shape.length)),Di("any",l,c.shape.length);const[f,d]=mi(c.shape,l),h=ot(d),p=Gi(ot(f),c.dtype),v=n.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*h;let b=v[y];for(let x=0;x<h;++x){const _=v[y+x];b=b||_}p[m]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(o){const m=Ra(f,s),y=qr({inputs:{x:g},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(g),y}return g}const Yat={kernelName:IV,backendName:"cpu",kernelFunc:jat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;nn(a,"argMax");let o=jn(i,a.shape);const s=da(o,a.shape.length);let l=a;const u=[];s!=null&&(l=rs({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=Ca(o.length,l.shape.length)),o=[o[0]],Di("argMax",o,l.shape.length);const[c,f]=mi(l.shape,o),d=ot(c),h=Gi(d,"int32"),p=ot(f),v=n.data.get(l.dataId).values;for(let g=0;g<h.length;++g){const m=g*p;let y=v[m],b=0;for(let x=0;x<p;++x){const _=v[m+x];_>y&&(y=_,b=x)}h[g]=b}return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(c,"int32",h)}const qat={kernelName:VA,backendName:"cpu",kernelFunc:Xat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;nn(a,"argMin");let o=jn(i,a.shape);const s=da(o,a.shape.length);let l=a;const u=[];s!=null&&(l=rs({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=Ca(o.length,l.shape.length)),o=[o[0]],Di("argMin",o,l.shape.length);const[c,f]=mi(l.shape,o),d=ot(c),h=Gi(d,"int32"),p=ot(f),v=n.data.get(l.dataId).values;for(let g=0;g<h.length;++g){const m=g*p;let y=v[m],b=0;for(let x=0;x<p;++x){const _=v[m+x];_<y&&(y=_,b=x)}h[g]=b}return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(c,"int32",h)}const Jat={kernelName:zA,backendName:"cpu",kernelFunc:Zat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qat=Lr(F_,e=>Math.asin(e)),eit={kernelName:F_,backendName:"cpu",kernelFunc:Qat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tit=Lr(B_,e=>Math.asinh(e)),nit={kernelName:B_,backendName:"cpu",kernelFunc:tit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rit=Lr(V_,e=>Math.atan(e)),ait={kernelName:V_,backendName:"cpu",kernelFunc:rit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iit=ka((e,t)=>Math.atan2(e,t)),oit=Xa(W_,iit),sit={kernelName:W_,backendName:"cpu",kernelFunc:oit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lit=Lr(z_,e=>Math.atanh(e)),uit={kernelName:z_,backendName:"cpu",kernelFunc:lit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G8(e,t,n,r,a,i){const o=a.strideHeight,s=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,f=a.effectiveFilterWidth,d=a.padInfo.top,h=a.padInfo.left,p=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=Gn(a.outShape,n),g=v.values,m=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],b=a.outShape[3];for(let x=0;x<a.batchSize;++x){const _=x*m,S=x*r[0];for(let C=0;C<a.inChannels;++C)for(let k=0;k<a.outHeight;++k){const T=k*o-d,E=Math.max(0,T),I=Math.min(a.inHeight,c+T),A=_+k*y;for(let N=0;N<a.outWidth;++N){const L=N*s-h,R=Math.max(0,L),D=Math.min(a.inWidth,f+L);let P=p,O=0,M=0;for(let U=E;U<I;U+=l){const V=S+U*r[1];for(let H=R;H<D;H+=u){const K=V+H*r[2],j=e[K+C];i==="max"&&j>P?P=j:i==="avg"&&(O+=j,M++)}if(isNaN(P))break}const W=A+N*b+C;g[W]=i==="avg"?O/M:P}}}return v}function uhe(e,t,n,r,a=!1,i=!1){const o=Gn(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,v=Gn(t,n,e);for(let g=0;g<r.batchSize;++g)for(let m=0;m<r.inChannels;++m)for(let y=0;y<r.outHeight;++y){const b=y*s-h;let x=b;for(;x<0;)x+=u;const _=Math.min(r.inHeight,f+b);for(let S=0;S<r.outWidth;++S){const C=S*l-p;let k=C;for(;k<0;)k+=c;const T=Math.min(r.inWidth,d+C);let E=Number.NEGATIVE_INFINITY,I=-1;for(let A=x;A<_;A+=u){const N=A-b;for(let L=k;L<T;L+=c){const R=L-C,D=v.get(g,A,L,m);D>E&&(E=D,a?I=i?((g*r.inHeight+A)*r.inWidth+L)*r.inChannels+m:(A*r.inWidth+L)*r.inChannels+m:I=N*d+R)}}o.set(I,g,y,S,m)}}return o}function che(e,t,n,r,a,i){const o=a.strideDepth,s=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,f=a.dilationWidth,d=a.effectiveFilterDepth,h=a.effectiveFilterHeight,p=a.effectiveFilterWidth,v=a.padInfo.front,g=a.padInfo.top,m=a.padInfo.left,y=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Gn(a.outShape,n),x=b.values,_=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[2]*a.outShape[3]*a.outShape[4],C=a.outShape[3]*a.outShape[4],k=a.outShape[4];for(let T=0;T<a.batchSize;++T){const E=T*_,I=T*r[0];for(let A=0;A<a.inChannels;++A)for(let N=0;N<a.outDepth;++N){const L=N*o-v;let R=L;for(;R<0;)R+=u;const D=Math.min(a.inDepth,d+L),P=E+N*S;for(let O=0;O<a.outHeight;++O){const M=O*s-g;let W=M;for(;W<0;)W+=c;const U=Math.min(a.inHeight,h+M),V=P+O*C;for(let H=0;H<a.outWidth;++H){const K=H*l-m;let j=K;for(;j<0;)j+=f;const ne=Math.min(a.inWidth,p+K),Q=V+H*k;let oe=y,ae=0,me=0;for(let B=R;B<D;B+=u){const re=I+B*r[1];for(let ge=W;ge<U;ge+=c){const Ie=re+ge*r[2];for(let Ce=j;Ce<ne;Ce+=f){const he=Ie+Ce*r[3],J=e[he+A];if(i==="max"&&J>oe?oe=J:i==="avg"&&(ae+=J,me++),isNaN(oe))break}if(isNaN(oe))break}if(isNaN(oe))break}const ve=Q+A;x[ve]=i==="avg"?ae/Math.max(me,1):oe}}}}return b}function cit(e,t){const n=Gn(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left;for(let v=0;v<t.batchSize;++v)for(let g=0;g<t.inChannels;++g)for(let m=0;m<t.outDepth;++m){const y=m*r-d;let b=y;for(;b<0;)b+=o;const x=Math.min(t.inDepth,u+y);for(let _=0;_<t.outHeight;++_){const S=_*a-h;let C=S;for(;C<0;)C+=s;const k=Math.min(t.inHeight,c+S);for(let T=0;T<t.outWidth;++T){const E=T*i-p;let I=E;for(;I<0;)I+=l;const A=Math.min(t.inWidth,f+E);let N=Number.NEGATIVE_INFINITY,L=-1;for(let R=b;R<x;R+=o){const D=R-y;for(let P=C;P<k;P+=s){const O=P-S;for(let M=I;M<A;M+=l){const W=M-E,U=e.get(v,R,P,M,g);U>=N&&(N=U,L=D*c*f+O*c+W)}}}n.set(L,v,m,_,T,g)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;nn(a,"avgPool");const{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=r,u=1;pe(Zi(o,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Hl(a.shape,i,o,u,s,l);let f;if(c.filterWidth===1&&c.filterHeight===1&&Er(c.inShape,c.outShape))f=Wc({inputs:{x:a},backend:n});else{const d=n.data.get(a.dataId).values,h=dn(a.shape),p=G8(d,a.shape,a.dtype,h,c,"avg");f=n.makeTensorInfo(c.outShape,a.dtype,p.values)}return f}const dit={kernelName:WA,backendName:"cpu",kernelFunc:fit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:o,pad:s,dimRoundingMode:l,dataFormat:u}=r;nn(a,"avgPool3d");const c=fd(a.shape,i,o,1,s,l,u),f=n.data.get(a.dataId).values,d=che(f,a.shape,a.dtype,dn(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}const pit={kernelName:HA,backendName:"cpu",kernelFunc:hit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vit(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:o,strides:s,pad:l,dimRoundingMode:u}=r;nn([a,i],"avgPool3DGrad");const c=fd(i.shape,o,s,1,l,u),f=c.strideDepth,d=c.strideHeight,h=c.strideWidth,p=c.filterDepth,v=c.filterHeight,g=c.filterWidth,m=c.dilationDepth,y=c.dilationHeight,b=c.dilationWidth,x=c.effectiveFilterDepth,_=c.effectiveFilterHeight,S=c.effectiveFilterWidth,C=x-1-c.padInfo.front,k=S-1-c.padInfo.left,T=_-1-c.padInfo.top,E=Gn(i.shape,"float32"),I=1/(p*v*g),A=n.bufferSync(a);for(let N=0;N<c.batchSize;++N)for(let L=0;L<c.inChannels;++L)for(let R=0;R<c.inDepth;++R)for(let D=0;D<c.inHeight;++D)for(let P=0;P<c.inWidth;++P){const O=R-C,M=D-T,W=P-k;let U=0;for(let V=0;V<x;V+=m){const H=(O+V)/f;if(!(H<0||H>=c.outDepth||Math.floor(H)!==H))for(let K=0;K<_;K+=y){const j=(M+K)/d;if(!(j<0||j>=c.outHeight||Math.floor(j)!==j))for(let ne=0;ne<S;ne+=b){const Q=(W+ne)/h;if(Q<0||Q>=c.outWidth||Math.floor(Q)!==Q)continue;const oe=A.get(N,H,j,Q,L);U+=oe}}}E.set(U*I,N,R,D,P,L)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}const git={kernelName:AV,backendName:"cpu",kernelFunc:vit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mit(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,o=i;nn([a,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=Hl(o.shape,s,l,1,u),f=c.strideHeight,d=c.strideWidth,h=c.filterHeight,p=c.filterWidth,v=c.dilationHeight,g=c.dilationWidth,m=c.effectiveFilterHeight,y=c.effectiveFilterWidth,b=y-1-c.padInfo.left,x=m-1-c.padInfo.top,_=Gn(o.shape,"float32"),S=1/(h*p),C=n.data.get(a.dataId).values,k=Gn(a.shape,"float32",C);for(let T=0;T<c.batchSize;++T)for(let E=0;E<c.inChannels;++E)for(let I=0;I<c.inHeight;++I)for(let A=0;A<c.inWidth;++A){const N=I-x,L=A-b;let R=0;for(let D=0;D<m;D+=v){const P=(N+D)/f;if(!(P<0||P>=c.outHeight||Math.floor(P)!==P))for(let O=0;O<y;O+=g){const M=(L+O)/d;if(M<0||M>=c.outWidth||Math.floor(M)!==M)continue;const W=k.get(T,P,M,E);R+=W}}_.set(R*S,T,I,A,E)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const yit={kernelName:EV,backendName:"cpu",kernelFunc:mit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:i,offset:o,mean:s,variance:l}=t;pe(s.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),pe(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),pe(i==null||s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),nn([a,s,l,i,o],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);const c=n.data.get(a.dataId).values,f=n.data.get(s.dataId).values,d=n.data.get(l.dataId).values,h=i?n.data.get(i.dataId).values:new Float32Array([1]),p=o?n.data.get(o.dataId).values:new Float32Array([0]),v=new Float32Array(c.length),g=p.length,m=h.length,y=d.length,b=f.length;let x=0,_=0,S=0,C=0;for(let k=0;k<c.length;++k)v[k]=p[x++]+(c[k]-f[_++])*h[S++]/Math.sqrt(d[C++]+u),x>=g&&(x=0),_>=b&&(_=0),S>=m&&(S=0),C>=y&&(C=0);return n.makeTensorInfo(a.shape,a.dtype,v)}const xit={kernelName:nD,backendName:"cpu",kernelFunc:bit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:o}=r;nn([a],"batchToSpaceND");const s=i.reduce((m,y)=>m*y),l=FS(a.shape,i,s),u=BS(l.length,i.length),c=VS(a.shape,i,s),f=t8(o,i.length),d=n8(c,o,i.length),h=qr({inputs:{x:a},backend:n,attrs:{shape:l}}),p=rs({inputs:{x:h},backend:n,attrs:{perm:u}}),v=qr({inputs:{x:p},backend:n,attrs:{shape:c}}),g=Sg({inputs:{x:v},backend:n,attrs:{begin:f,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),g}const _it={kernelName:GA,backendName:"cpu",kernelFunc:wit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:o}=r,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,u=V8(s,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}const Cit={kernelName:DV,backendName:"cpu",kernelFunc:Sit};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tit(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=On(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}const kit={kernelName:Ose,backendName:"cpu",kernelFunc:Tit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iit=Lr(G_,(e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),Eit={kernelName:G_,backendName:"cpu",kernelFunc:Iit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ait=e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(ot(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,o=a.complexTensorInfos.imag,s=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values;for(let u=0;u<s.length;u++){const c=s[u],f=l[u];r[u]=Math.hypot(c,f)}return n.makeOutput(r,t.shape,"float32")},Dit={kernelName:KA,backendName:"cpu",kernelFunc:Ait};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yy(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}const Nit={kernelName:YV,backendName:"cpu",kernelFunc:yy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function by(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=jn(a,t[0].shape)[0],o=t.map(v=>v.shape);Jz(o,i);let s=Ec(t.map(v=>v.shape),i);if(ot(s)===0)return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter(v=>ot(v.shape)>0);if(l.length===1)return Wc({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const v=l.map(x=>_g({inputs:{input:x},backend:n})),g=l.map(x=>yy({inputs:{input:x},backend:n})),m=by({inputs:v,backend:n,attrs:{axis:i}}),y=by({inputs:g,backend:n,attrs:{axis:i}}),b=ys({inputs:{real:m,imag:y},backend:n});return v.forEach(x=>n.disposeIntermediateTensorInfo(x)),g.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),b}const u=l.map(v=>{const m=[-1,ot(v.shape.slice(i))];return qr({inputs:{x:v},backend:n,attrs:{shape:m}})}),c=u.map(v=>({vals:n.data.get(v.dataId).values,shape:v.shape}));s=Ec(u.map(v=>v.shape),1);const f=u[0].shape[0]===1,d=vde(c,s,t[0].dtype,f),h=Ec(l.map(v=>v.shape),i),p=n.makeTensorInfo(h,t[0].dtype,d);return u.forEach(v=>n.disposeIntermediateTensorInfo(v)),p}const Rit={kernelName:jA,backendName:"cpu",kernelFunc:by};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fhe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r;nn([a,i],"conv2d");const f=dd(l),d=Ai(a.shape,i.shape,o,u,s,c,!1,f),h=d.filterHeight,p=d.filterWidth,v=d.dilationHeight,g=d.dilationWidth,m=d.padInfo.left,y=d.padInfo.top,b=d.dataFormat==="channelsLast",x=new Ti(d.outShape,a.dtype),_=dn(a.shape),S=dn(i.shape),C=_[0],k=b?_[1]:_[2],T=b?_[2]:1,E=b?1:_[1],I=x.strides[0],A=b?x.strides[1]:x.strides[2],N=b?x.strides[2]:1,L=b?1:x.strides[1],R=n.data.get(a.dataId).values,D=n.data.get(i.dataId).values,P=x.values;for(let O=0;O<d.batchSize;++O){const M=O*C,W=O*I;for(let U=0;U<d.outHeight;++U){const V=W+U*A,H=U*d.strideHeight-y;for(let K=0;K<h;++K){const j=H+K*v;if(j<0||j>=d.inHeight)continue;const ne=K*S[0],Q=M+j*k;for(let oe=0;oe<d.outWidth;++oe){const ae=V+oe*N,me=oe*d.strideWidth-m;for(let ve=0;ve<p;++ve){const B=me+ve*g;if(B<0||B>=d.inWidth)continue;const re=ne+ve*S[1],ge=Q+B*T;let Ie=re;for(let Ce=0;Ce<d.inChannels;++Ce){const he=R[ge+Ce*E];for(let J=0;J<d.outChannels;++J)P[ae+J*L]+=he*D[Ie+J];Ie+=d.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,P)}const Mit={kernelName:YA,backendName:"cpu",kernelFunc:fhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $it(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;nn([a,i],"conv2dBackpropFilter");const f=dd(l),d=Ai(a.shape,c,o,1,s,u,!1,f),{strideHeight:h,strideWidth:p,filterHeight:v,filterWidth:g}=d,m=d.dataFormat==="channelsLast",y=new Ti(d.filterShape,"float32"),b=d.padInfo.left,x=d.padInfo.top,_=n.data.get(a.dataId).values,S=n.data.get(i.dataId).values,C=new Ti(a.shape,a.dtype,_),k=new Ti(i.shape,i.dtype,S);for(let T=0;T<v;++T){const E=Math.max(0,Math.ceil((x-T)/h)),I=Math.min(d.outHeight,(d.inHeight+x-T)/h);for(let A=0;A<g;++A){const N=Math.max(0,Math.ceil((b-A)/p)),L=Math.min(d.outWidth,(d.inWidth+b-A)/p);for(let R=0;R<d.inChannels;++R)for(let D=0;D<d.outChannels;++D){let P=0;for(let O=0;O<d.batchSize;++O)for(let M=E;M<I;++M){const W=T+M*h-x;for(let U=N;U<L;++U){const V=A+U*p-b;m?P+=C.get(O,W,V,R)*k.get(O,M,U,D):P+=C.get(O,R,W,V)*k.get(O,D,M,U)}}y.set(P,T,A,R,D)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Lit={kernelName:MV,backendName:"cpu",kernelFunc:$it};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oit(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:o,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r;nn([a,i],"conv2dBackpropInput");const f=dn(i.shape),d=dn(a.shape);let h=dd(u);const p=Ai(o,i.shape,s,1,l,c,!1,h),v=new Ti(p.inShape,"float32"),g=v.values,m=n.data.get(a.dataId).values,y=n.data.get(i.dataId).values,[b,x,_]=f,{batchSize:S,filterHeight:C,filterWidth:k,inChannels:T,inHeight:E,inWidth:I,outChannels:A,outHeight:N,outWidth:L,strideHeight:R,strideWidth:D}=p;h=p.dataFormat;const P=C-1-p.padInfo.top,O=k-1-p.padInfo.left,M=h==="channelsLast",W=v.strides[0],U=M?v.strides[1]:v.strides[2],V=M?v.strides[2]:1,H=M?1:v.strides[1],K=d[0],j=M?d[1]:d[2],ne=M?d[2]:1,Q=M?1:d[1];for(let oe=0;oe<S;++oe)for(let ae=0;ae<T;++ae)for(let me=0;me<E;++me){const ve=me-P,B=Math.max(0,Math.ceil(ve/R)),re=Math.min(N,(C+ve)/R);for(let ge=0;ge<I;++ge){const Ie=ge-O,Ce=Math.max(0,Math.ceil(Ie/D)),he=Math.min(L,(k+Ie)/D);let J=0;for(let xe=B;xe<re;++xe){const Ee=xe*R-ve;for(let Qe=Ce;Qe<he;++Qe){const Be=Qe*D-Ie,ce=K*oe+j*xe+ne*Qe,Re=b*(C-1-Ee)+x*(k-1-Be)+_*ae;for(let ct=0;ct<A;++ct){const It=m[ce+Q*ct],wt=y[Re+ct];J+=It*wt}}}const te=W*oe+U*me+V*ge+H*ae;g[te]=J}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const Pit={kernelName:XA,backendName:"cpu",kernelFunc:Oit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l}=r;nn([a,i],"conv3d");const u=rp(a.shape,i.shape,o,l,s),{filterDepth:c,filterHeight:f,filterWidth:d,dilationDepth:h,dilationHeight:p,dilationWidth:v,padInfo:g}=u,m=g.front,y=g.left,b=g.top,x=new Ti(u.outShape,a.dtype),_=n.data.get(a.dataId).values,S=n.data.get(i.dataId).values,C=x.values,k=dn(a.shape),T=dn(i.shape);for(let E=0;E<u.batchSize;++E){const I=E*k[0],A=E*x.strides[0];for(let N=0;N<u.outDepth;++N){const L=A+N*x.strides[1],R=N*u.strideDepth-m;for(let D=0;D<c;++D){const P=R+D*h;if(P<0||P>=u.inDepth)continue;const O=D*T[0],M=I+P*k[1];for(let W=0;W<u.outHeight;++W){const U=L+W*x.strides[2],V=W*u.strideHeight-b;for(let H=0;H<f;++H){const K=V+H*p;if(K<0||K>=u.inHeight)continue;const j=O+H*T[1],ne=M+K*k[2];for(let Q=0;Q<u.outWidth;++Q){const oe=U+Q*u.outChannels,ae=Q*u.strideWidth-y;for(let me=0;me<d;++me){const ve=ae+me*v;if(ve<0||ve>=u.inWidth)continue;const B=j+me*T[2],re=ne+ve*u.inChannels;let ge=B;for(let Ie=0;Ie<u.inChannels;++Ie){const Ce=_[re+Ie];for(let he=0;he<u.outChannels;++he)C[oe+he]+=Ce*S[ge+he];ge+=u.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const Bit={kernelName:qA,backendName:"cpu",kernelFunc:Fit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,pad:s,filterShape:l}=r;nn([a,i],"conv3dBackpropFilterV2");const u=dn(a.shape),c=dn(i.shape),f=rp(a.shape,l,o,1,s),d=f.strideDepth,h=f.strideHeight,p=f.strideWidth,v=f.filterDepth,g=f.filterHeight,m=f.filterWidth,y=new Ti(f.filterShape,"float32"),b=y.values,[x,_,S,C]=y.strides,k=n.data.get(i.dataId).values,[T,E,I,A]=c,N=n.data.get(a.dataId).values,[L,R,D,P]=u,O=f.padInfo.front,M=f.padInfo.left,W=f.padInfo.top;for(let U=0;U<v;++U){const V=Math.max(0,Math.ceil((O-U)/d)),H=Math.min(f.outDepth,(f.inDepth+O-U)/d),K=U*x;for(let j=0;j<g;++j){const ne=Math.max(0,Math.ceil((W-j)/h)),Q=Math.min(f.outHeight,(f.inHeight+W-j)/h),oe=j*_+K;for(let ae=0;ae<m;++ae){const me=Math.max(0,Math.ceil((M-ae)/p)),ve=Math.min(f.outWidth,(f.inWidth+M-ae)/p),B=ae*S+oe;for(let re=0;re<f.inChannels;++re){const ge=re*C+B;for(let Ie=0;Ie<f.outChannels;++Ie){let Ce=0;for(let he=0;he<f.batchSize;++he){const J=he*L,te=he*T;for(let xe=V;xe<H;++xe){const Qe=(U+xe*d-O)*R+J,Be=xe*E+te;for(let ce=ne;ce<Q;++ce){const ct=(j+ce*h-W)*D+Qe,It=ce*I+Be;for(let wt=me;wt<ve;++wt){const _t=(ae+wt*p-M)*P+ct,ln=wt*A+It;Ce+=N[_t+re]*k[ln+Ie]}}}}b[ge+Ie]=Ce}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const zit={kernelName:$V,backendName:"cpu",kernelFunc:Vit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wit(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:o,strides:s,inputShape:l}=r;nn([a],"conv3dBackpropInputV2");const u=dn(a.shape),c=dn(i.shape),f=rp(l,i.shape,s,1,o),d=new Ti(f.inShape,"float32"),h=d.values,[p,v,g,m]=d.strides,y=n.data.get(a.dataId).values,[b,x,_,S]=u,C=n.data.get(i.dataId).values,[k,T,E,I]=c,{batchSize:A,filterDepth:N,filterHeight:L,filterWidth:R,inChannels:D,inDepth:P,inHeight:O,inWidth:M,outChannels:W,outDepth:U,outHeight:V,outWidth:H,strideDepth:K,strideHeight:j,strideWidth:ne}=f,Q=N-1-f.padInfo.front,oe=L-1-f.padInfo.top,ae=R-1-f.padInfo.left;for(let me=0;me<A;++me)for(let ve=0;ve<D;++ve)for(let B=0;B<P;++B){const re=B-Q,ge=Math.max(0,Math.ceil(re/K)),Ie=Math.min(U,(N+re)/K);for(let Ce=0;Ce<O;++Ce){const he=Ce-oe,J=Math.max(0,Math.ceil(he/j)),te=Math.min(V,(L+he)/j);for(let xe=0;xe<M;++xe){const Ee=xe-ae,Qe=Math.max(0,Math.ceil(Ee/ne)),Be=Math.min(H,(R+Ee)/ne);let ce=0;for(let Re=ge;Re<Ie;++Re){const ct=Re*K-re;for(let It=J;It<te;++It){const wt=It*j-he;for(let Qt=Qe;Qt<Be;++Qt){const _t=Qt*ne-Ee,ln=b*me+x*Re+_*It+S*Qt,Ne=k*(N-1-ct)+T*(L-1-wt)+E*(R-1-_t)+I*ve;for(let nt=0;nt<W;++nt){const _e=y[ln+nt],We=C[Ne+nt];ce+=_e*We}}}}h[p*me+v*B+g*Ce+m*xe+ve]=ce}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}const Hit={kernelName:LV,backendName:"cpu",kernelFunc:Wit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uit=Lr(K_,e=>Math.cos(e)),Git={kernelName:K_,backendName:"cpu",kernelFunc:Uit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kit=Lr(j_,e=>Math.cosh(e)),jit={kernelName:j_,backendName:"cpu",kernelFunc:Kit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yit(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:o}=t,{cropSize:s,method:l,extrapolationValue:u}=r,[c,f,d,h]=a.shape,p=i.shape[0],[v,g]=s,m=Gn([p,v,g,h],"float32"),y=n.data.get(i.dataId).values,b=n.data.get(o.dataId).values,x=n.data.get(a.dataId).values,_=dn(a.shape),S=dn(m.shape);for(let C=0;C<p;C++){const k=C*4,T=y[k],E=y[k+1],I=y[k+2],A=y[k+3],N=b[C];if(N>=c)continue;const L=v>1?(I-T)*(f-1)/(v-1):0,R=g>1?(A-E)*(d-1)/(g-1):0;for(let D=0;D<v;D++){const P=v>1?T*(f-1)+D*L:.5*(T+I)*(f-1);if(P<0||P>f-1){for(let O=0;O<g;O++)for(let M=0;M<h;M++){const W=M+O*S[2]+D*S[1]+C*S[0];m.values[W]=u}continue}if(l==="bilinear"){const O=Math.floor(P),M=Math.ceil(P),W=P-O;for(let U=0;U<g;U++){const V=g>1?E*(d-1)+U*R:.5*(E+A)*(d-1);if(V<0||V>d-1){for(let ne=0;ne<h;ne++){const Q=ne+U*S[2]+D*S[1]+C*S[0];m.values[Q]=u}continue}const H=Math.floor(V),K=Math.ceil(V),j=V-H;for(let ne=0;ne<h;ne++){let Q=ne+H*_[2]+O*_[1]+N*_[0];const oe=x[Q];Q=ne+K*_[2]+O*_[1]+N*_[0];const ae=x[Q];Q=ne+H*_[2]+M*_[1]+N*_[0];const me=x[Q];Q=ne+K*_[2]+M*_[1]+N*_[0];const ve=x[Q],B=oe+(ae-oe)*j,re=me+(ve-me)*j;Q=ne+U*S[2]+D*S[1]+C*S[0],m.values[Q]=B+(re-B)*W}}}else for(let O=0;O<g;++O){const M=g>1?E*(d-1)+O*R:.5*(E+A)*(d-1);if(M<0||M>d-1){for(let V=0;V<h;V++){const H=V+O*S[2]+D*S[1]+C*S[0];m.values[H]=u}continue}const W=Math.round(M),U=Math.round(P);for(let V=0;V<h;V++){const H=V+W*_[2]+U*_[1]+N*_[0],K=V+O*S[2]+D*S[1]+C*S[0];m.values[K]=x[H]}}}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const Xit={kernelName:PV,backendName:"cpu",kernelFunc:Yit};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:o,reverse:s}=r;nn(a,"cumprod");const l=da([i],a.shape.length);let u=a;l!=null&&(u=rs({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=Ca(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=Ts(u.dtype,"int32"),d=_V(ot(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],v=s?(m,y)=>m+p-y-1:(m,y)=>m+y;for(let m=0;m<h.length;m+=p)for(let y=0;y<p;y++){const b=v(m,y);if(y===0)d[b]=o?1:h[b];else{const x=v(m,y-1);d[b]=o?h[x]*d[x]:h[b]*d[x]}}const g=n.makeTensorInfo(u.shape,f,d);if(l!=null){const m=ap(l),y=rs({inputs:{x:g},backend:n,attrs:{perm:m}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),y}return g}const Zit={kernelName:OV,backendName:"cpu",kernelFunc:qit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:o,reverse:s}=r;nn(a,"cumsum");const l=da([i],a.shape.length);let u=a;l!=null&&(u=rs({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=Ca(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=Ts(u.dtype,"int32"),d=Gi(ot(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],v=s?(m,y)=>m+p-y-1:(m,y)=>m+y;for(let m=0;m<h.length;m+=p)for(let y=0;y<p;y++){const b=v(m,y);if(y===0)d[b]=o?0:h[b];else{const x=v(m,y-1);d[b]=o?h[x]+d[x]:h[b]+d[x]}}const g=n.makeTensorInfo(u.shape,f,d);if(l!=null){const m=ap(l),y=rs({inputs:{x:g},backend:n,attrs:{perm:m}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),y}return g}const Qit={kernelName:ZA,backendName:"cpu",kernelFunc:Jit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:o,binaryOutput:s}=r;if(a.shape.length===1){const l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=V8(l,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}else if(a.shape.length===2){const l=n.bufferSync(a),u=n.bufferSync(i),c=dde(l,u,o,s);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const tot={kernelName:FV,backendName:"cpu",kernelFunc:eot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function not(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:o}=r;pe(o==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`);const s=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],f=l*i,d=u*i,h=c/(i*i),p=n.data.get(a.dataId).values,v=new Float32Array(s*f*d*h);let g=0;for(let m=0;m<s;++m)for(let y=0;y<f;++y){const b=Math.floor(y/i),x=y%i;for(let _=0;_<d;++_){const S=Math.floor(_/i),C=_%i,k=(x*i+C)*h;for(let T=0;T<h;++T){const I=T+k+c*(S+u*(b+l*m));v[g++]=p[I]}}}return n.makeTensorInfo([s,f,d,h],a.dtype,v)}const rot={kernelName:BV,backendName:"cpu",kernelFunc:not};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dhe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l,dimRoundingMode:u}=r;nn([a,i],"depthwiseConv2DNative");const c=dn(a.shape),f=dn(i.shape);let d=l;d==null&&(d=[1,1]),pe(Zi(o,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`);const h=Ai(a.shape,i.shape,o,d,s,u,!0),{filterHeight:p,filterWidth:v,dilationHeight:g,dilationWidth:m,padInfo:y}=h,b=y.left,x=y.top,_=h.outChannels/h.inChannels,S=new Ti(h.outShape,a.dtype),C=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,T=S.values;for(let E=0;E<h.batchSize;++E){const I=E*c[0],A=E*S.strides[0];for(let N=0;N<h.outHeight;++N){const L=A+N*S.strides[1],R=N*h.strideHeight-x;for(let D=0;D<p;++D){const P=R+D*g;if(P<0||P>=h.inHeight)continue;const O=D*f[0],M=I+P*c[1];for(let W=0;W<h.outWidth;++W){const U=L+W*S.strides[2],V=W*h.strideWidth-b;for(let H=0;H<v;++H){const K=V+H*m;if(K<0||K>=h.inWidth)continue;const j=O+H*f[1],ne=M+K*h.inChannels;let Q=U,oe=j;for(let ae=0;ae<h.inChannels;++ae){const me=C[ne+ae];for(let ve=0;ve<_;++ve)T[Q+ve]+=me*k[oe+ve];Q+=_,oe+=_}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const aot={kernelName:JA,backendName:"cpu",kernelFunc:dhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r;nn([a,i],"depthwiseConv2dNativeBackpropFilter");const f=Ai(a.shape,c,o,s,l,u,!0),{strideHeight:d,strideWidth:h,filterHeight:p,filterWidth:v}=f,g=new Ti(f.filterShape,"float32"),m=f.padInfo.left,y=f.padInfo.top,b=f.outChannels/f.inChannels,x=n.data.get(a.dataId).values,_=new Ti(a.shape,a.dtype,x),S=n.data.get(i.dataId).values,C=new Ti(i.shape,i.dtype,S);for(let k=0;k<p;++k){const T=Math.max(0,Math.ceil((y-k)/d)),E=Math.min(f.outHeight,(f.inHeight+y-k)/d);for(let I=0;I<v;++I){const A=Math.max(0,Math.ceil((m-I)/h)),N=Math.min(f.outWidth,(f.inWidth+m-I)/h);for(let L=0;L<f.outChannels;++L){const R=Math.trunc(L/b),D=L%b;let P=0;for(let O=0;O<f.batchSize;++O)for(let M=T;M<E;++M){const W=k+M*d-y;for(let U=A;U<N;++U){const V=I+U*h-m;P+=_.get(O,W,V,R)*C.get(O,M,U,L)}}g.set(P,k,I,R,D)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const oot={kernelName:VV,backendName:"cpu",kernelFunc:iot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sot(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r;nn([a,i],"depthwiseConv2DNativeBackpropInput");const f=dn(a.shape),d=dn(i.shape),h=Ai(c,i.shape,o,s,l,u,!0),p=new Ti(h.inShape,"float32"),v=p.values,[g,m,y]=p.strides,b=n.data.get(a.dataId).values,[x,_,S]=f,C=n.data.get(i.dataId).values,[k,T,E]=d,{batchSize:I,filterHeight:A,filterWidth:N,inChannels:L,inHeight:R,inWidth:D,outChannels:P,outHeight:O,outWidth:M,strideHeight:W,strideWidth:U}=h,V=A-1-h.padInfo.top,H=N-1-h.padInfo.left,K=P/L;for(let j=0;j<I;++j)for(let ne=0;ne<L;++ne)for(let Q=0;Q<R;++Q){const oe=Q-V,ae=Math.max(0,Math.ceil(oe/W)),me=Math.min(O,(A+oe)/W);for(let ve=0;ve<D;++ve){const B=ve-H,re=Math.max(0,Math.ceil(B/U)),ge=Math.min(M,(N+B)/U);let Ie=0;for(let Ce=ae;Ce<me;++Ce){const he=Ce*W-oe;for(let J=re;J<ge;++J){const te=J*U-B,xe=x*j+_*Ce+S*J,Ee=k*(A-1-he)+T*(N-1-te)+E*ne;for(let Qe=0;Qe<K;++Qe){const Be=ne*K+Qe,ce=b[xe+Be],Re=C[Ee+Qe];Ie+=ce*Re}}}v[g*j+m*Q+y*ve+ne]=Ie}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const lot={kernelName:zV,backendName:"cpu",kernelFunc:sot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uot(e){const{inputs:t,backend:n}=e,{x:r}=t,a=ot(r.shape),i=n.data.get(r.dataId).values,o=Gn([a,a],r.dtype),s=o.values;for(let u=0;u<i.length;u++)s[u*a+u]=i[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,o.dtype,o.values)}const cot={kernelName:Pse,backendName:"cpu",kernelFunc:uot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fot={kernelName:QA,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a}=e,{strides:i,pad:o,dilations:s}=n,l=t,u=l.data.get(r.dataId).values,c=r.shape.length,f=l.data.get(a.dataId).values,d=a.shape.length,{batchSize:h,inHeight:p,inWidth:v,inChannels:g,outHeight:m,outWidth:y,padInfo:b,strideHeight:x,strideWidth:_,filterHeight:S,filterWidth:C,dilationHeight:k,dilationWidth:T,outShape:E}=MS(r.shape,a.shape,i,o,"NHWC",s),I=ot(E),A=E.length,N=ma(r.dtype,I);for(let R=0;R<h;++R)for(let D=0;D<m;++D){const P=D*x-b.top;for(let O=0;O<y;++O){const M=O*_-b.left;for(let W=0;W<g;++W){let U=Number.MIN_SAFE_INTEGER;for(let H=0;H<S;++H){const K=P+H*k;if(K>=0&&K<p)for(let j=0;j<C;++j){const ne=M+j*T;if(ne>=0&&ne<v){const Q=kc([R,K,ne,W],c,dn(r.shape)),oe=kc([H,j,W],d,dn(a.shape)),ae=u[Q]+f[oe];ae>U&&(U=ae)}}}const V=kc([R,D,O,W],A,dn(E));N[V]=U}}}return{dataId:l.write(Vg(N,r.dtype),E,r.dtype),shape:E,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dot={kernelName:EP,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a,dy:i}=e,{strides:o,pad:s,dilations:l}=n,u=t,c=Cu(r.shape,u.data.get(r.dataId).values),f=Cu(a.shape,u.data.get(a.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:v,outHeight:g,outWidth:m,padInfo:y,strideHeight:b,strideWidth:x,filterHeight:_,filterWidth:S,dilationHeight:C,dilationWidth:k,outShape:T}=MS(r.shape,a.shape,o,s,"NHWC",l);pe(i.rank===T.length,()=>`Error in ${EP}, dy must have the same rank as output ${T.length}, but got ${i.rank}`);const E=Cu(T,u.data.get(i.dataId).values),I=Mse(a.shape,a.dtype);for(let N=0;N<d;++N)for(let L=0;L<g;++L){const R=L*b-y.top;for(let D=0;D<m;++D){const P=D*x-y.left;for(let O=0;O<v;++O){let M=Number.MIN_SAFE_INTEGER,W=0,U=0;for(let V=0;V<_;++V){const H=R+V*C;if(H>=0&&H<h)for(let K=0;K<S;++K){const j=P+K*k;if(j>=0&&j<p){const ne=c[N][H][j][O]+f[V][K][O];ne>M&&(M=ne,W=V,U=K)}}}I[W][U][O]+=E[N][L][D][O]}}}return{dataId:u.write(Vg(I,r.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hot={kernelName:IP,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a,dy:i}=e,{strides:o,pad:s,dilations:l}=n,u=t,c=Cu(r.shape,u.data.get(r.dataId).values),f=Cu(a.shape,u.data.get(a.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:v,outHeight:g,outWidth:m,padInfo:y,strideHeight:b,strideWidth:x,filterHeight:_,filterWidth:S,dilationHeight:C,dilationWidth:k,outShape:T}=MS(r.shape,a.shape,o,s,"NHWC",l);pe(i.rank===T.length,()=>`Error in ${IP}, dy must have the same rank as output ${T.length}, but got ${i.rank}`);const E=Cu(T,u.data.get(i.dataId).values),I=Mse(r.shape,r.dtype);for(let N=0;N<d;++N)for(let L=0;L<g;++L){const R=L*b-y.top;for(let D=0;D<m;++D){const P=D*x-y.left;for(let O=0;O<v;++O){let M=Number.MIN_SAFE_INTEGER,W=R<0?0:R,U=P<0?0:P;for(let V=0;V<_;++V){const H=R+V*C;if(H>=0&&H<h)for(let K=0;K<S;++K){const j=P+K*k;if(j>=0&&j<p){const ne=c[N][H][j][O]+f[V][K][O];ne>M&&(M=ne,W=H,U=j)}}}I[N][W][U][O]+=E[N][L][D][O]}}}return{dataId:u.write(Vg(I,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pot(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:i,options:o}=r,{contextOptions:s,imageOptions:l}=o||{},u=(l==null?void 0:l.alpha)||1,c=(s==null?void 0:s.contextType)||"2d";if(c!=="2d")throw new Error(`Context type ${s.contextType} is not supported by the CPU backend.`);const f=i.getContext(c,(s==null?void 0:s.contextAttributes)||{});if(f==null)throw new Error(`Could not get the context with ${c} type.`);const[d,h]=a.shape.slice(0,2),p=a.shape.length===2?1:a.shape[2],v=n.data.get(a.dataId).values,g=a.dtype==="float32"?255:1,m=new Uint8ClampedArray(h*d*4);for(let b=0;b<d*h;++b){const x=[0,0,0,255*u];for(let S=0;S<p;S++){const C=v[b*p+S];if(a.dtype==="float32"){if(C<0||C>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${C}.`)}else if(a.dtype==="int32"&&(C<0||C>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${C}.`);p===1?(x[0]=C*g,x[1]=C*g,x[2]=C*g):x[S]=C*g}const _=b*4;m[_+0]=Math.round(x[0]),m[_+1]=Math.round(x[1]),m[_+2]=Math.round(x[2]),m[_+3]=Math.round(x[3])}i.width=h,i.height=d;const y=new ImageData(m,h,d);return f.putImageData(y,0,0),a}const vot={kernelName:CKe,backendName:"cpu",kernelFunc:pot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XS(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"sum");let s;a.dtype==="bool"?s=Ph({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):s=Wc({inputs:{x:a},backend:n});const l=s.shape.length,u=jn(i,s.shape),c=da(u,l);let f=u,d=s;c!=null&&(d=rs({inputs:{x:s},backend:n,attrs:{perm:c}}),f=Ca(f.length,l)),Di("sum",f,d.shape.length);const[h,p]=mi(d.shape,f),v=Ts(d.dtype,"int32");let g=LI(n,h,v);const m=ot(p),y=n.data.get(g.dataId).values,b=n.data.get(d.dataId).values;for(let x=0;x<y.length;++x){const _=x*m;let S=0;for(let C=0;C<m;++C)S+=b[_+C];y[x]=S}if(o){const x=Ra(g.shape,u),_=g;g=qr({inputs:{x:g},backend:n,attrs:{shape:x}}),n.disposeIntermediateTensorInfo(_)}return n.disposeIntermediateTensorInfo(s),c!=null&&n.disposeIntermediateTensorInfo(d),g}const got={kernelName:RD,backendName:"cpu",kernelFunc:XS};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mot(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:o,summedDims:s,idDims:l}=c8(a,i.length);d8(o.length,l,i);const{path:u,steps:c}=h8(s,l),f=c.length;let d=null,h=o.length;const p=[];for(let v=0;v<f;++v){for(const g of c[v]){const{permutationIndices:m,expandDims:y}=f8(h,l[g]);let b;p8(m)?b=i[g]:(b=rs({inputs:{x:i[g]},backend:n,attrs:{perm:m}}),p.push(b));const x=b.shape.slice();for(let _=0;_<y.length;++_)x.splice(y[_],0,1);Er(b.shape,x)||(b=qr({inputs:{x:b},backend:n,attrs:{shape:x}}),p.push(b)),d===null?d=b:(d=sN({inputs:{a:b,b:d},backend:n}),p.push(d))}v<f-1&&(u[v]>=0&&(d=XS({inputs:{x:d},backend:n,attrs:{axis:u[v]-(o.length-h),keepDims:!1}}),p.push(d)),h--)}for(const v of p)v!==d&&n.disposeIntermediateTensorInfo(v);return d}const yot={kernelName:WV,backendName:"cpu",kernelFunc:mot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bot(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;nn([r,a],"eluGrad");const i=new Float32Array(ot(a.shape)),o=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values;for(let l=0;l<o.length;++l){const u=o[l];u>=0?i[l]=s[l]:i[l]=s[l]*(u+1)}return n.makeTensorInfo(a.shape,"float32",i)}const xot={kernelName:HV,backendName:"cpu",kernelFunc:bot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wot=r8,_ot=a8,Sot=i8,Cot=o8,Tot=s8,kot=l8,Iot=Lr(q_,e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+wot*n);return t*(1-((((kot*r+Tot)*r+Cot)*r+Sot)*r+_ot)*r*Math.exp(-n*n))}),Eot={kernelName:q_,backendName:"cpu",kernelFunc:Iot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FI(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:i}=r,o=a.shape.length,s=a.shape.slice();let l=i;return i<0&&(pe(-(o+1)<=i,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+i+1),s.splice(l,0,1),qr({inputs:{x:a},backend:n,attrs:{shape:s}})}const Aot={kernelName:tD,backendName:"cpu",kernelFunc:FI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dot=ka((e,t)=>e/t),K8=Xa(Y_,Dot),QP={kernelName:Y_,backendName:"cpu",kernelFunc:K8};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hhe(e,t,n){const r=e.shape,a=r[0],i=r[1],o=n.data.get(e.dataId),s=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,u=[a,i],c=ot(u),f=Ui("float32",c),d=Ui("float32",c);for(let g=0;g<a;g++){const m=Sg({inputs:{x:s},backend:n,attrs:{begin:[g,0],size:[1,i]}}),y=Sg({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,i]}}),b=ys({inputs:{real:m,imag:y},backend:n}),{real:x,imag:_}=Not(b,t,n),S=jf(x,_);for(let C=0;C<i;C++){const k=u8(S,C);f[g*i+C]=k.real,d[g*i+C]=k.imag}n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b)}const h=n.makeTensorInfo(u,"float32",f),p=n.makeTensorInfo(u,"float32",d),v=ys({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),v}function Not(e,t,n){const r=ot(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,o=n.data.get(a.complexTensorInfos.imag.dataId).values;if(Rot(r)){const s=eF(i,o,r,t,n),l=[e.shape[0],e.shape[1]];if(t){const u=n.makeTensorInfo(l,"float32",s.real),c=n.makeTensorInfo(l,"float32",s.imag),f=n.makeTensorInfo([],"float32",tp(r,"float32")),d=Wc({inputs:{x:f},backend:n}),h=QP.kernelFunc({inputs:{a:u,b:f},backend:n}),p=QP.kernelFunc({inputs:{a:c,b:d},backend:n}),v=n.data.get(h.dataId).values,g=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:v,imag:g}}return s}else{const s=jf(i,o),l=Mot(s,r,t);return kue(l)}}function Rot(e){return(e&e-1)===0}function eF(e,t,n,r,a){if(n===1)return{real:e,imag:t};const i=jf(e,t),o=n/2,s=Iue(i),l=s.real,u=s.imag,c=[l.length],f=a.makeTensorInfo(c,"float32",l),d=a.makeTensorInfo(c,"float32",u),h=ys({inputs:{real:f,imag:d},backend:a}),p=Eue(i),v=p.real,g=p.imag,m=[v.length],y=a.makeTensorInfo(m,"float32",v),b=a.makeTensorInfo(m,"float32",g),x=ys({inputs:{real:y,imag:b},backend:a}),_=eF(l,u,o,r,a),S=_.real,C=_.imag,k=[S.length],T=a.makeTensorInfo(k,"float32",S),E=a.makeTensorInfo(k,"float32",C),I=ys({inputs:{real:T,imag:E},backend:a}),A=eF(v,g,o,r,a),N=A.real,L=A.imag,R=[N.length],D=a.makeTensorInfo(R,"float32",N),P=a.makeTensorInfo(R,"float32",L),O=ys({inputs:{real:D,imag:P},backend:a}),M=Due(n,r),W=[M.real.length],U=a.makeTensorInfo(W,"float32",M.real),V=a.makeTensorInfo(W,"float32",M.imag),H=ys({inputs:{real:U,imag:V},backend:a}),K=sN({inputs:{a:H,b:O},backend:a}),j=my({inputs:{a:I,b:K},backend:a}),ne=U8({inputs:{a:I,b:K},backend:a}),Q=_g({inputs:{input:j},backend:a}),oe=_g({inputs:{input:ne},backend:a}),ae=yy({inputs:{input:j},backend:a}),me=yy({inputs:{input:ne},backend:a}),ve=by({inputs:[Q,oe],backend:a,attrs:{axis:0}}),B=by({inputs:[ae,me],backend:a,attrs:{axis:0}}),re=a.data.get(ve.dataId).values,ge=a.data.get(B.dataId).values;return a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(P),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(ne),a.disposeIntermediateTensorInfo(Q),a.disposeIntermediateTensorInfo(ae),a.disposeIntermediateTensorInfo(oe),a.disposeIntermediateTensorInfo(me),a.disposeIntermediateTensorInfo(ve),a.disposeIntermediateTensorInfo(B),{real:re,imag:ge}}function Mot(e,t,n){const r=new Float32Array(t*2);for(let a=0;a<t;a++){let i=0,o=0;for(let s=0;s<t;s++){const l=Nue(a*s,t,n),u=u8(e,s);i+=u.real*l.real-u.imag*l.imag,o+=u.real*l.imag+u.imag*l.real}n&&(i/=t,o/=t),Aue(r,i,o,a)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ot(e){const{inputs:t,backend:n}=e,{input:r}=t,a=ot(r.shape),i=r.shape[r.shape.length-1],o=a/i,s=qr({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),l=hhe(s,!1,n),u=qr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),u}const Lot={kernelName:UV,backendName:"cpu",kernelFunc:$ot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j8(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:i}=n,o=i||Zy(a),s=ma(o,ot(r));return Pot(s,a,o),t.makeTensorInfo(r,o,s)}const Oot={kernelName:GV,backendName:"cpu",kernelFunc:j8};function Pot(e,t,n){e.fill(t)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fot={kernelName:KV,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,a=n,i=Ui(r.dtype,ot(r.shape)),[o,s,l,u]=r.shape,c=a.data.get(r.dataId).values;for(let d=0;d<o;d++){const h=d*l*s*u;for(let p=0;p<s;p++){const v=p*(l*u);for(let g=0;g<l;g++){const m=g*u;for(let y=0;y<u;y++){const b=Math.round(l-g-1),x=h+v+m+y;let _=c[x];if(b>=0&&b<l){const S=b*u,C=h+v+S+y;_=c[C]}i[x]=_}}}}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:o,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let v=fhe({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(o){const g=v;if(c==="NCHW"&&o.shape.length===1&&o.shape[0]!==1){const m=qr({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});v=my({inputs:{a:v,b:m},backend:n}),n.disposeIntermediateTensorInfo(m)}else v=my({inputs:{a:v,b:o},backend:n});n.disposeIntermediateTensorInfo(g)}if(h){const g=v;if(c==="NCHW"&&h==="prelu"&&s.shape.length===1&&s.shape[0]!==1){const m=qr({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});v=PI(n,v,h,m,p),n.disposeIntermediateTensorInfo(m)}else v=PI(n,v,h,s,p);n.disposeIntermediateTensorInfo(g)}return v}const Vot={kernelName:gI,backendName:"cpu",kernelFunc:Bot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:o,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let v=dhe({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(o){const g=v;v=my({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(g)}if(h){const g=v;v=PI(n,v,h,s,p),n.disposeIntermediateTensorInfo(g)}return v}const Wot={kernelName:nle,backendName:"cpu",kernelFunc:zot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hot(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=ot(r.shape),o=a.shape,s=o[o.length-1],[l,u,c,f]=Kz(r,a);if(u===0)return n.makeTensorInfo(l,r.dtype,[]);const d=n.data.get(a.dataId).values,h=n.bufferSync(r),p=Sde(d,h,r.dtype,u,s,c,f,r.shape,i);return n.makeTensorInfo(l,r.dtype,p.values)}const Uot={kernelName:Fse,backendName:"cpu",kernelFunc:Hot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Got(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:o,batchDims:s}=r;nn([a,i],"gatherV2");const l=jn(o,a.shape)[0],u=n.data.get(i.dataId).values,c=a.shape[l];for(let x=0;x<u.length;++x){const _=u[x];pe(_<=c-1&&_>=0,()=>`GatherV2: the index value ${_} is not in [0, ${c-1}]`)}let f=s;s==null&&(f=0);const d=ot(i.shape),h=g8(a,i,l,f),p=qr({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),v=qr({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,d/h.batchSize]}}),g=[h.batchSize,h.outerSize,d/h.batchSize,h.sliceSize],m=n.bufferSync(v),y=n.bufferSync(p),b=Cde(y,m,g);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}const Kot={kernelName:rD,backendName:"cpu",kernelFunc:Got};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jot(e){const{inputs:t,backend:n}=e,{input:r}=t,a=ot(r.shape),i=r.shape[r.shape.length-1],o=a/i,s=qr({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),l=hhe(s,!0,n),u=qr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),u}const Yot={kernelName:jV,backendName:"cpu",kernelFunc:jot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xot=Lr(rS,e=>Number.isFinite(e)?1:0,"bool"),qot={kernelName:rS,backendName:"cpu",kernelFunc:Xot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zot=Lr(aS,e=>Math.abs(e)===1/0?1:0,"bool"),Jot={kernelName:aS,backendName:"cpu",kernelFunc:Zot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qot=Lr(iS,e=>Number.isNaN(e)?1:0,"bool"),est={kernelName:iS,backendName:"cpu",kernelFunc:Qot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tst(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,o=Ade(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}const nst={kernelName:Bse,backendName:"cpu",kernelFunc:tst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rst=Lr(sS,e=>Math.log1p(e)),ast={kernelName:sS,backendName:"cpu",kernelFunc:rst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ist=ka((e,t)=>e&&t),ost=Xa(lD,ist,null,"bool"),sst={kernelName:lD,backendName:"cpu",kernelFunc:ost};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lst=Lr(uD,e=>e?0:1,"bool"),ust={kernelName:uD,backendName:"cpu",kernelFunc:lst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cst=ka((e,t)=>e||t),fst=Xa(cD,cst,null,"bool"),dst={kernelName:cD,backendName:"cpu",kernelFunc:fst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:o,alpha:s,beta:l}=r;nn(a,"LRN");const u=a.shape[3],c=u-1,f=n.data.get(a.dataId).values,d=ot(a.shape),h=new Float32Array(d);function p(v){const g=v%u;let m=v-g+Math.max(0,g-i);const y=v-g+Math.min(g+i,c);let b=0;for(;m<=y;m++){const x=f[m];b+=x*x}return b}for(let v=0;v<d;v++){const g=p(v),m=f[v]*Math.pow(o+s*g,-l);h[v]=m}return n.makeTensorInfo(a.shape,a.dtype,h)}const pst={kernelName:fD,backendName:"cpu",kernelFunc:hst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:o}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r;nn(o,"LRNGrad");const f=ot(o.shape),d=o.shape[3],h=n.data.get(o.dataId).values,p=n.data.get(a.dataId).values,v=n.data.get(i.dataId).values,g=new Float32Array(f),m=f;for(let y=0;y<m;y++){const b=y%d,x=y-b+Math.max(0,b-s),_=y-b+Math.min(d,b+s+1);let S=0;for(let C=x;C<_;C++)S+=Math.pow(p[C],2);S=u*S+l;for(let C=x;C<_;C++){let k=-2*u*c*p[C]*v[y]/S;y===C&&(k+=Math.pow(S,-c)),k*=h[y],g[C]+=k}}return n.makeTensorInfo(o.shape,a.dtype,g)}const gst={kernelName:XV,backendName:"cpu",kernelFunc:vst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function phe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:o}=r,s=n;let l=a.shape;const u=l.length,c=jn(i,l);let f=c;const d=da(f,u);let h=s.data.get(a.dataId).values;if(d!=null){const x=new Array(u);for(let _=0;_<x.length;_++)x[_]=l[d[_]];h=W8(h,l,a.dtype,d,x),f=Ca(f.length,u),l=x}nn(a,"max"),Di("max",f,u);const[p,v]=mi(l,f),g=ot(v),m=Nde(h,g,p,a.dtype),y=s.write(m,p,a.dtype);let b=p;return o&&(b=Ra(p,c)),{dataId:y,shape:b,dtype:a.dtype}}const mst={kernelName:dD,backendName:"cpu",kernelFunc:phe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;nn(a,"maxPool");const{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=r,u=1;pe(Zi(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Hl(a.shape,i,o,u,s,l);let f;if(c.filterWidth===1&&c.filterHeight===1&&Er(c.inShape,c.outShape))f=Wc({inputs:{x:a},backend:n});else{const d=n.data.get(a.dataId).values,h=dn(a.shape),p=G8(d,a.shape,a.dtype,h,c,"max");f=n.makeTensorInfo(c.outShape,a.dtype,p.values)}return f}const bst={kernelName:hD,backendName:"cpu",kernelFunc:yst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:o,pad:s,dimRoundingMode:l,dataFormat:u}=r;nn(a,"maxPool3d");const c=fd(a.shape,i,o,1,s,l,u),f=n.data.get(a.dataId).values,d=che(f,a.shape,a.dtype,dn(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}const wst={kernelName:pD,backendName:"cpu",kernelFunc:xst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _st(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:o,strides:s,pad:l,dimRoundingMode:u}=r;nn([a,i],"maxPool3DGrad");const c=fd(i.shape,o,s,1,l,u),f=n.bufferSync(i),d=cit(f,c),h=c.strideDepth,p=c.strideHeight,v=c.strideWidth,g=c.dilationDepth,m=c.dilationHeight,y=c.dilationWidth,b=c.effectiveFilterDepth,x=c.effectiveFilterHeight,_=c.effectiveFilterWidth,S=b-1-c.padInfo.front,C=_-1-c.padInfo.left,k=x-1-c.padInfo.top,T=Gn(i.shape,"float32"),E=n.bufferSync(a);for(let I=0;I<c.batchSize;++I)for(let A=0;A<c.inChannels;++A)for(let N=0;N<c.inDepth;++N)for(let L=0;L<c.inHeight;++L)for(let R=0;R<c.inWidth;++R){const D=N-S,P=L-k,O=R-C;let M=0;for(let W=0;W<b;W+=g){const U=(D+W)/h;if(!(U<0||U>=c.outDepth||Math.floor(U)!==U))for(let V=0;V<x;V+=m){const H=(P+V)/p;if(!(H<0||H>=c.outHeight||Math.floor(H)!==H))for(let K=0;K<_;K+=y){const j=(O+K)/v;if(j<0||j>=c.outWidth||Math.floor(j)!==j)continue;const ne=b*x*_-1-d.get(I,U,H,j,A),Q=W*x*_+V*_+K,oe=ne===Q?1:0;if(oe===0)continue;const ae=E.get(I,U,H,j,A);M+=ae*oe}}}T.set(M,I,N,L,R,A)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const Sst={kernelName:ZV,backendName:"cpu",kernelFunc:_st};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cst(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:o}=t,s=i;nn([i,o],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=Hl(s.shape,l,u,1,c,f),h=n.data.get(s.dataId).values,p=Gn(d.outShape,s.dtype,uhe(h,s.shape,s.dtype,d).values),v=d.strideHeight,g=d.strideWidth,m=d.dilationHeight,y=d.dilationWidth,b=d.effectiveFilterHeight,x=d.effectiveFilterWidth,_=x-1-d.padInfo.left,S=b-1-d.padInfo.top,C=Gn(s.shape,"float32"),k=n.data.get(a.dataId).values,T=Gn(a.shape,"float32",k);for(let E=0;E<d.batchSize;++E)for(let I=0;I<d.inChannels;++I)for(let A=0;A<d.inHeight;++A)for(let N=0;N<d.inWidth;++N){const L=A-S,R=N-_;let D=0;for(let P=0;P<b;P+=m){const O=(L+P)/v;if(!(O<0||O>=d.outHeight||Math.floor(O)!==O))for(let M=0;M<x;M+=y){const W=(R+M)/g;if(W<0||W>=d.outWidth||Math.floor(W)!==W)continue;const U=b*x-1-p.get(E,O,W,I),V=P*x+M,H=U===V?1:0;if(H===0)continue;const K=T.get(E,O,W,I);D+=K*H}}C.set(D,E,A,N,I)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const Tst={kernelName:qV,backendName:"cpu",kernelFunc:Cst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kst(e,t,n,r,a){const i=dn(t),o=G8(e,t,n,i,a,"max"),s=uhe(e,t,n,a,!0,r);return[o.values,s.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ist={kernelName:Vse,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:a,strides:i,pad:o,includeBatchInIndex:s}=t,l=n;nn(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,c=Hl(r.shape,a,i,[1,1],o),[f,d]=kst(u,r.shape,r.dtype,s,c),h=l.write(f,c.outShape,r.dtype),p=l.write(d,c.outShape,r.dtype);return[{dataId:h,shape:c.outShape,dtype:r.dtype},{dataId:p,shape:c.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Est(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=jn(i,a.shape),u=mi(a.shape,s)[1],c=ot(u),f=[],d=n.makeTensorInfo([],"float32",new Float32Array([c]));f.push(d);const h=Ph({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});f.push(h);const p=K8({inputs:{a:h,b:d},backend:n});f.push(p);const v=XS({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:o}});return f.forEach(g=>n.disposeIntermediateTensorInfo(g)),v}const Ast={kernelName:vD,backendName:"cpu",kernelFunc:Est};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"min");const s=jn(i,a.shape);let l=s;const u=da(l,a.shape.length);let c=a;u!=null&&(c=rs({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Ca(l.length,a.shape.length)),Di("min",l,c.shape.length);const[f,d]=mi(c.shape,l),h=ot(d),p=Gi(ot(f),c.dtype),v=n.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*h;let b=v[y];for(let x=0;x<h;++x){const _=v[y+x];(Number.isNaN(_)||_<b)&&(b=_)}p[m]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(o){const m=Ra(f,s),y=qr({inputs:{x:g},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(g),y}return g}const Nst={kernelName:gD,backendName:"cpu",kernelFunc:Dst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,mode:o}=r;nn(a,"mirrorPad");const s=i.map((b,x)=>b[0]+a.shape[x]+b[1]),l=i.map(b=>b[0]),u=i.map((b,x)=>b[0]+a.shape[x]),c=o==="reflect"?0:1,f=n.data.get(a.dataId).values,d=a.shape.length,h=dn(a.shape),p=ot(s),v=s.length,g=dn(s),m=Ui(a.dtype,p);for(let b=0;b<p;b++){let x=Jy(b,v,g);for(let S=0;S<v;S++)x[S]<l[S]?x[S]=l[S]*2-x[S]-c:x[S]>=u[S]&&(x[S]=(u[S]-1)*2-x[S]+c);x=x.map((S,C)=>S-l[C]);const _=kc(x,d,h);m[b]=f[_]}return{dataId:n.write(m,s,a.dtype),shape:s,dtype:a.dtype}}const Mst={kernelName:mD,backendName:"cpu",kernelFunc:Rst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $st=ka((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}),Lst=Xa(cS,$st),Ost={kernelName:cS,backendName:"cpu",kernelFunc:Lst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vhe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,o=a.shape.length;let s=i;if(s===-1&&(s=o-1),s!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${s}`);const l=jn([s],a.shape),u=phe({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=Ra(u.shape,l),f=qr({inputs:{x:u},backend:n,attrs:{shape:c}}),d=U8({inputs:{a,b:f},backend:n}),h=bde({inputs:{x:d},backend:n}),p=XS({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),v=qr({inputs:{x:p},backend:n,attrs:{shape:c}}),g=K8({inputs:{a:h,b:v},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),g}const Pst={kernelName:LD,backendName:"cpu",kernelFunc:vhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fst(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:o,normalized:s}=r;nn(a,"multinomial");const l=s?a:vhe({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],f=n.data.get(l.dataId).values,d=[u,i],h=Gi(ot(d),"int32");for(let p=0;p<u;++p){const v=p*c,g=new Float32Array(c-1);g[0]=f[v];for(let b=1;b<g.length;++b)g[b]=g[b-1]+f[v+b];const m=Nz.alea(o.toString()),y=p*i;for(let b=0;b<i;++b){const x=m();h[y+b]=g.length;for(let _=0;_<g.length;_++)if(x<g[_]){h[y+b]=_;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",h)}const Bst={kernelName:zse,backendName:"cpu",kernelFunc:Fst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vst=Vz;function zst(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l}=r;nn(a,"NonMaxSuppression");const u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,{selectedIndices:f}=Vst(u,c,o,s,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const Wst={kernelName:JV,backendName:"cpu",kernelFunc:zst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hst=zz;function Ust(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r;nn(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:h}=Hst(c,f,o,s,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const Gst={kernelName:QV,backendName:"cpu",kernelFunc:Ust};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kst=Wz;function jst(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r;nn(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,d=o,h=s,p=l,v=u,{selectedIndices:g,selectedScores:m}=Kst(c,f,d,h,p,v);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}const Yst={kernelName:ez,backendName:"cpu",kernelFunc:jst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xst(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:o,onValue:s,offValue:l}=r;nn(a,"oneHot");const u=ot(a.shape),c=new Float32Array(u*o);c.fill(l);const f=n.data.get(a.dataId).values;for(let d=0;d<u;++d)f[d]>=0&&f[d]<o&&(c[d*o+f[d]]=s);return n.makeTensorInfo([...a.shape,o],i,c)}const qst={kernelName:wD,backendName:"cpu",kernelFunc:Xst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BI(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const a=_g({inputs:{input:r},backend:n}),i=BI({inputs:{x:a},backend:n}),o=yy({inputs:{input:r},backend:n}),s=BI({inputs:{x:o},backend:n}),l=ys({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}else return j8({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const Zst={kernelName:FD,backendName:"cpu",kernelFunc:BI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ghe(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const a=_g({inputs:{input:r},backend:n}),i=ghe({inputs:{x:a},backend:n}),o=yy({inputs:{input:r},backend:n}),s=BI({inputs:{x:o},backend:n}),l=ys({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}else return j8({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const Jst={kernelName:xD,backendName:"cpu",kernelFunc:ghe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mhe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(t.length===1)return FI({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const i=t[0].shape,o=t[0].dtype;t.forEach(c=>{xV(i,c.shape,"All tensors passed to stack must have matching shapes"),pe(o===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const s=[],l=t.map(c=>{const f=FI({inputs:{input:c},backend:n,attrs:{dim:a}});return s.push(f),f}),u=by({inputs:l,backend:n,attrs:{axis:a}});return s.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const Qst={kernelName:_D,backendName:"cpu",kernelFunc:mhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function elt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:o}=r;nn(a,"pad");const s=i.map((y,b)=>y[0]+a.shape[b]+y[1]),l=i.map(y=>y[0]),u=n.data.get(a.dataId).values,c=ot(a.shape),f=a.shape.length,d=dn(a.shape),h=ot(s),p=s.length,v=dn(s),g=Ui(a.dtype,h);o!==0&&g.fill(o);for(let y=0;y<c;y++){const x=Jy(y,f,d).map((S,C)=>S+l[C]),_=kc(x,p,v);g[_]=u[y]}return{dataId:n.write(g,s,a.dtype),shape:s,dtype:a.dtype}}const yhe={kernelName:SD,backendName:"cpu",kernelFunc:elt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tlt=ka((e,t)=>Math.pow(e,t)),nlt=Xa(dS,tlt),rlt={kernelName:dS,backendName:"cpu",kernelFunc:nlt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function alt(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:o}=t,s=a.map(g=>n.data.get(g.dataId).values),l=a.map(g=>g.shape),u=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values,[f,d,h]=Pde(s,l,u,i.shape,i.dtype,c,o.shape),p=f.map(g=>n.makeTensorInfo([g.length],"int32",g)),v=n.makeTensorInfo(h,i.dtype,d);return p.concat([v])}const ilt={kernelName:Wse,backendName:"cpu",kernelFunc:alt};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function olt(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=Fde(o,r.shape,r.dtype,s,a.shape,l,i.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}const slt={kernelName:Hse,backendName:"cpu",kernelFunc:olt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function llt(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:o,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,f=n.data.get(o.dataId).values,d=s.map(g=>n.data.get(g.dataId).values),h=s.map(g=>g.shape),[p,v]=Bde(u,a.shape,c,i.shape,i.dtype,f,o.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,v)}const ult={kernelName:Use,backendName:"cpu",kernelFunc:llt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function clt(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:i,step:o}=n,s=Vde(r,a,o,i);return t.makeTensorInfo([s.length],i,s)}const flt={kernelName:tz,backendName:"cpu",kernelFunc:clt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dlt=Lr(hS,e=>1/e),hlt={kernelName:hS,backendName:"cpu",kernelFunc:dlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function plt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:o,size:s}=r;nn(a,"resizeBilinear");const l=dn(a.shape),[u,c]=s,[f,d,h,p]=a.shape,v=n.data.get(a.dataId).values,g=new Float32Array(ot([f,u,c,p])),m=[i&&u>1?d-1:d,i&&c>1?h-1:h],y=[i&&u>1?u-1:u,i&&c>1?c-1:c];let b=0;const x=m[0]/y[0],_=m[1]/y[1];for(let S=0;S<f;S++)for(let C=0;C<u;C++){let k;o?k=x*(C+.5)-.5:k=x*C;const T=Math.max(0,Math.floor(k)),E=k-T,I=Math.min(d-1,Math.ceil(k)),A=S*l[0]+T*l[1],N=S*l[0]+I*l[1];for(let L=0;L<c;L++){let R;o?R=_*(L+.5)-.5:R=_*L;const D=Math.max(0,Math.floor(R)),P=R-D,O=Math.min(h-1,Math.ceil(R)),M=A+D*l[2],W=N+D*l[2],U=A+O*l[2],V=N+O*l[2];for(let H=0;H<p;H++){const K=v[M+H],j=v[W+H],ne=v[U+H],Q=v[V+H],oe=K+(ne-K)*P,ae=j+(Q-j)*P,me=oe+(ae-oe)*E;g[b++]=me}}}return n.makeTensorInfo([f,u,c,p],"float32",g)}const vlt={kernelName:ED,backendName:"cpu",kernelFunc:plt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function glt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:o}=r;nn([i,a],"resizeBilinearGrad");const s=dn(a.shape),[l,u,c,f]=a.shape,[,d,h]=i.shape,p=new Float32Array(l*u*c*f),v=[o&&d>1?u-1:u,o&&h>1?c-1:c],g=[o&&d>1?d-1:d,o&&h>1?h-1:h],m=v[0]/g[0],y=v[1]/g[1],b=n.data.get(i.dataId).values;let x=0;for(let _=0;_<l;_++){const S=_*s[0];for(let C=0;C<d;C++){const k=C*m,T=Math.floor(k),E=Math.min(Math.ceil(k),u-1),I=S+T*s[1],A=S+E*s[1],N=k-T,L=1-N;for(let R=0;R<h;R++){const D=R*y,P=Math.floor(D),O=Math.min(Math.ceil(D),c-1),M=D-P,W=1-M,U=I+P*s[2],V=I+O*s[2],H=A+P*s[2],K=A+O*s[2],j=L*W,ne=L*M,Q=N*W,oe=N*M;for(let ae=0;ae<f;ae++){const me=b[x++];p[U+ae]+=me*j,p[V+ae]+=me*ne,p[H+ae]+=me*Q,p[K+ae]+=me*oe}}}}return n.makeTensorInfo([l,c,u,f],"float32",p)}const mlt={kernelName:az,backendName:"cpu",kernelFunc:glt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ylt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:o,size:s}=r;nn(a,"resizeNearestNeighbor");const l=dn(a.shape),[u,c]=s,[f,d,h,p]=a.shape,v=n.data.get(a.dataId).values,g=new Float32Array(f*u*c*p),m=[i&&u>1?d-1:d,i&&c>1?h-1:h],y=[i&&u>1?u-1:u,i&&c>1?c-1:c],b=m[0]/y[0],x=m[1]/y[1];let _=0;for(let S=0;S<f;S++){const C=S*l[0];for(let k=0;k<u;k++){const T=o?b*(k+.5):b*k;let E=Math.min(d-1,i?Math.round(T):Math.floor(T));o&&(E=Math.max(0,E));const I=C+E*l[1];for(let A=0;A<c;A++){const N=o?x*(A+.5):x*A;let L=Math.min(h-1,i?Math.round(N):Math.floor(N));o&&(L=Math.max(0,L));const R=I+L*l[2];for(let D=0;D<p;D++){const P=v[R+D];g[_++]=P}}}}return n.makeTensorInfo([f,u,c,p],a.dtype,g)}const blt={kernelName:ID,backendName:"cpu",kernelFunc:ylt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xlt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:o}=r;nn([i,a],"resizeNearestNeighborGrad");const s=dn(a.shape),l=dn(i.shape),[u,c,f,d]=a.shape,[,h,p]=i.shape,v=new Float32Array(u*c*f*d),g=n.data.get(i.dataId).values,m=[o&&h>1?c-1:c,o&&p>1?f-1:f],y=[o&&h>1?h-1:h,o&&p>1?p-1:p],b=m[0]/y[0],x=m[1]/y[1],_=1/b,S=1/x,C=Math.ceil(_)*2+2,k=Math.ceil(S)*2+2;for(let T=0;T<u;T++){const E=T*s[0];for(let I=0;I<c;I++){const A=E+I*s[1],N=Math.floor(I*_),L=Math.floor(N-C/2);for(let R=0;R<f;R++){const D=A+R*s[2],P=Math.floor(R*S),O=Math.floor(P-k/2);for(let M=0;M<d;M++){let W=0;for(let U=0;U<C;U++){const V=U+L;if(V<0||V>=h)continue;const H=E+V*l[1],K=V*b,j=Math.min(c-1,o?Math.round(K):Math.floor(K));if(I===j)for(let ne=0;ne<k;ne++){const Q=ne+O;if(Q<0||Q>=p)continue;const oe=H+Q*l[2],ae=Q*x,me=Math.min(f-1,o?Math.round(ae):Math.floor(ae));R===me&&(W+=g[oe+M])}}v[D+M]=W}}}}return n.makeTensorInfo(a.shape,a.dtype,v)}const wlt={kernelName:rz,backendName:"cpu",kernelFunc:xlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _lt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r;nn(a,"reverse");const o=a.shape.length,s=jn(i,a.shape);if(o===0)return Wc({inputs:{x:a},backend:n});const l=new Ti(a.shape,a.dtype),u=n.bufferSync(a);for(let c=0;c<l.size;c++){const f=l.indexToLoc(c),d=f.slice();s.forEach(h=>d[h]=a.shape[h]-1-d[h]),l.set(u.get(...d),...f)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const Slt={kernelName:AD,backendName:"cpu",kernelFunc:_lt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Clt={kernelName:fz,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:a,fillValue:i,center:o}=t,s=n,l=Ui(r.dtype,ot(r.shape)),[u,c,f,d]=r.shape,[h,p]=e8(o,c,f),v=255,g=Math.sin(a),m=Math.cos(a),y=s.data.get(r.dataId).values;for(let x=0;x<u;x++){const _=x*f*c*d;for(let S=0;S<c;S++){const C=S*(f*d);for(let k=0;k<f;k++){const T=k*d;for(let E=0;E<d;E++){const I=[u,S,k,E],A=I[2],N=I[1];let L=(A-h)*m-(N-p)*g,R=(A-h)*g+(N-p)*m;L=Math.round(L+h),R=Math.round(R+p);let D=i;if(typeof i!="number"&&(E===3?D=v:D=i[E]),L>=0&&L<f&&R>=0&&R<c){const O=R*(f*d),M=L*d,W=_+O+M+E;D=y[W]}const P=_+C+T+E;l[P]=D}}}}return{dataId:s.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tlt=Lr(gS,e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),klt={kernelName:gS,backendName:"cpu",kernelFunc:Tlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ilt(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:o}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=Hg(i,a,o),d=!0,h=n.bufferSync(a),p=n.bufferSync(i),v=Cv(h,p,o,f,u,l,s,c,0,d);return n.makeTensorInfo(o,v.dtype,v.values)}const Elt={kernelName:Gse,backendName:"cpu",kernelFunc:Ilt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Alt(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function Dlt(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}function Nlt(e,t,n,r,a,i){const o=ma("int32",n*a);for(let s=0;s<n;++s){const l=e.slice(s*r,(s+1)*r),u=s*a;for(let c=0;c<a;++c)o[u+c]=i==="left"?Alt(l,t[c+u]):Dlt(l,t[c+u])}return o}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rlt(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:o}=r,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,u=Nlt(s,l,a.shape[0],a.shape[1],i.shape[1],o);return n.makeTensorInfo(i.shape,"int32",u)}const Mlt={kernelName:jse,backendName:"cpu",kernelFunc:Rlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $lt(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t;nn([r,a,i],"select");const o=r.shape.length,s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=Ts(a.dtype,i.dtype),f=Gi(ot(a.shape),c);let d=0;const h=o===0||o>1||a.shape.length===1?1:ot(a.shape.slice(1));for(let p=0;p<s.length;p++)for(let v=0;v<h;v++)s[p]===1?f[d++]=l[p]:f[d++]=u[p];return n.makeTensorInfo(a.shape,c,f)}const Llt={kernelName:DD,backendName:"cpu",kernelFunc:$lt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Olt=YD,Plt=XD,Flt=Lr(yS,e=>e>=0?Plt*e:Olt*(Math.exp(e)-1)),Blt={kernelName:yS,backendName:"cpu",kernelFunc:Flt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vlt=Lr(wS,e=>e<0?-1:e>0?1:0),zlt={kernelName:wS,backendName:"cpu",kernelFunc:Vlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wlt=Lr(bS,e=>Math.sin(e)),Hlt={kernelName:bS,backendName:"cpu",kernelFunc:Wlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ult=Lr(xS,e=>Math.sinh(e)),Glt={kernelName:xS,backendName:"cpu",kernelFunc:Ult};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Klt=11920928955078125e-23,U7=Math.log(Klt)+2,jlt=Lr(SS,e=>{const t=e>-U7,n=e<U7,r=Math.exp(e);let a;return n?a=r:t?a=e:a=Math.log(1+r),a}),Ylt={kernelName:SS,backendName:"cpu",kernelFunc:jlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xlt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:o}=r;nn([a],"spaceToBatchND");const s=ot(i),l=[[0,0]];l.push(...o);for(let S=1+i.length;S<a.shape.length;++S)l.push([0,0]);const u=yhe.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=FS(u.shape,i,s,!1),f=BS(c.length,i.length,!1),d=VS(u.shape,i,s,!1),v=qr({inputs:{x:u},backend:n,attrs:{shape:c}}),y=rs({inputs:{x:v},backend:n,attrs:{perm:f}}),_=qr({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(y),_}const qlt={kernelName:MD,backendName:"cpu",kernelFunc:Xlt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zlt(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:o}=t;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${a.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values[0],[f,d,h,p,v]=Ude(s,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],a.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(g=>Number(g)))),n.makeTensorInfo([v.length],r.dtype,new Int32Array(v))]}const Jlt={kernelName:Yse,backendName:"cpu",kernelFunc:Zlt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qlt(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.data.get(a.dataId).values),s=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[u,c,f]=Gde(s,r.shape,r.dtype,o,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}const eut={kernelName:Xse,backendName:"cpu",kernelFunc:Qlt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tut(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=H8(o,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const nut={kernelName:qse,backendName:"cpu",kernelFunc:tut};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rut(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=H8(o,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}const aut={kernelName:Zse,backendName:"cpu",kernelFunc:rut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iut(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:o}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=Hg(i,a,s),h=!1,p=n.bufferSync(a);let v;switch(i.dtype){case"bool":{const g=n.bufferSync(i),m=!!n.data.get(o.dataId).values[0];v=Cv(p,g,s,d,c,u,l,f,m,h);break}case"float32":{const g=n.bufferSync(i),m=n.data.get(o.dataId).values[0];v=Cv(p,g,s,d,c,u,l,f,m,h);break}case"int32":{const g=n.bufferSync(i),m=n.data.get(o.dataId).values[0];v=Cv(p,g,s,d,c,u,l,f,m,h);break}case"string":{const g=n.bufferSync(i),m=Rh(n.data.get(o.dataId).values[0]);v=Cv(p,g,s,d,c,u,l,f,m,h);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(s,v.dtype,v.values)}const out={kernelName:Jse,backendName:"cpu",kernelFunc:iut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sut(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:o}=r,s=jn(o,a.shape)[0],l=v8(a,i,s),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map(f=>{const d=[...c];d[s]=f;const h=Sg({inputs:{x:a},backend:n,attrs:{begin:u,size:d}});return u[s]+=f,h})}const lut={kernelName:$D,backendName:"cpu",kernelFunc:sut};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uut={kernelName:iz,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t;nn(n,"square");const a=r.data.get(n.dataId).values,i=new Float32Array(a.length);for(let s=0;s<a.length;++s){const l=a[s];i[s]=l*l}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cut=Lr(DS,(e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),fut={kernelName:DS,backendName:"cpu",kernelFunc:cut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dut(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:o,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r;nn(a,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:v,sliceDim0:g,isSimpleSlice:m,begin:y,end:b,strides:x}=Zz(a.shape,i,o,s,l,u,c,f,d);let _;if(v)_=qr({inputs:{x:a},backend:n,attrs:{shape:p}});else if(g||m){pe(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const S=Yz(y,b,x),C=Sg({inputs:{x:a},backend:n,attrs:{begin:y,size:S}});_=qr({inputs:{x:C},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(C)}else{const S=n.bufferSync(a),C=Yde(h,S,x,y);_=n.makeTensorInfo(p,C.dtype,C.values)}return _}const hut={kernelName:sz,backendName:"cpu",kernelFunc:dut};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function put(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:o,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.data.get(c.dataId).values,h=n.data.get(f.dataId).values,[p,v]=Xde(d,h,a,i,o,s,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",v)]}const vut={kernelName:Qse,backendName:"cpu",kernelFunc:put};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gut(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:o}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const s=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values[0],[u,c,f]=qde(s,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const mut={kernelName:ele,backendName:"cpu",kernelFunc:gut};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yut(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const o=n.data.get(i.dataId).values,s=Zde(o,a);return n.makeTensorInfo(i.shape,"int32",s)}const but={kernelName:tle,backendName:"cpu",kernelFunc:yut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xut=Lr(IS,e=>Math.tan(e)),wut={kernelName:IS,backendName:"cpu",kernelFunc:xut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ut=Lr(ES,e=>Math.tanh(e)),Sut={kernelName:ES,backendName:"cpu",kernelFunc:_ut};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cut(e){const{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:i}=t,{sliceRank:o,numUpdates:s,sliceSize:l,strides:u,outputSize:c}=Hg(i,a,r.shape),f=!1,d=n.bufferSync(a),h=n.bufferSync(i),p=n.bufferSync(r),v=Cv(d,h,r.shape,c,l,s,o,u,p,f);return n.makeTensorInfo(r.shape,v.dtype,v.values)}const Tut={kernelName:Kse,backendName:"cpu",kernelFunc:Cut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kut(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;nn(a,"tile");const o=Qde(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const Iut={kernelName:AS,backendName:"cpu",kernelFunc:kut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eut(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:o}=r;nn(a,"topk");const s=n.data.get(a.dataId).values,[l,u]=the(s,a.shape,a.dtype,i,o);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}const Aut={kernelName:lz,backendName:"cpu",kernelFunc:Eut};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dut(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:i}=t,{interpolation:o,fillMode:s,fillValue:l,outputShape:u}=n,[c,f,d,h]=a.shape,[p,v]=u??[f,d],g=[c,p,v,h],m=dn(a.shape),y=m[0],b=m[1],x=m[2],_=dn(g),S=_[0],C=_[1],k=_[2],T=Ui(a.dtype,ot(g));T.fill(l);const E=r.data.get(a.dataId).values,I=r.data.get(i.dataId).values;for(let N=0;N<c;++N){const L=i.shape[0]===1?I:I.subarray(N*8,N*8+8);for(let R=0;R<p;++R)for(let D=0;D<v;++D)for(let P=0;P<h;++P){let O;const M=L[6]*D+L[7]*R+1;if(M===0)continue;const W=(L[0]*D+L[1]*R+L[2])/M,U=(L[3]*D+L[4]*R+L[5])/M,V=G7(W,d,s),H=G7(U,f,s);switch(o){case"nearest":O=Out(E,f,d,y,b,x,N,H,V,P,l);break;case"bilinear":O=Put(E,f,d,y,b,x,N,H,V,P,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}const K=N*S+R*C+D*k+P;T[K]=O}return r.makeTensorInfo(g,a.dtype,T)}return{dataId:r.write(T,g,a.dtype),shape:a.shape,dtype:a.dtype}}const Nut={kernelName:uz,backendName:"cpu",kernelFunc:Dut};function G7(e,t,n){switch(n){case"reflect":return Rut(e,t);case"wrap":return Mut(e,t);case"nearest":return Lut(e,t);case"constant":default:return $ut(e)}}function Rut(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{const r=2*t;n-=r*Math.trunc(n/r),n>=t&&(n=r-n-1)}return cg(0,n,t-1)}function Mut(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{const r=t-1;n-=t*Math.trunc(n/r)}return cg(0,n,t-1)}function $ut(e,t){return e}function Lut(e,t){return cg(0,e,t-1)}function Nb(e,t,n,r,a,i,o,s,l,u,c){const f=o*r+s*a+l*i+u;return 0<=s&&s<t&&0<=l&&l<n?e[f]:c}function Out(e,t,n,r,a,i,o,s,l,u,c){const f=Math.round(s),d=Math.round(l);return Nb(e,t,n,r,a,i,o,f,d,u,c)}function Put(e,t,n,r,a,i,o,s,l,u,c){const f=Math.floor(s),d=Math.floor(l),h=f+1,p=d+1,v=(p-l)*Nb(e,t,n,r,a,i,o,f,d,u,c)+(l-d)*Nb(e,t,n,r,a,i,o,f,p,u,c),g=(p-l)*Nb(e,t,n,r,a,i,o,h,d,u,c)+(l-d)*Nb(e,t,n,r,a,i,o,h,p,u,c);return(h-s)*v+(s-f)*g}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fut(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;nn(i,"unique");const o=r.data.get(i.dataId).values,{outputValues:s,outputShape:l,indices:u}=nhe(o,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}const But={kernelName:cz,backendName:"cpu",kernelFunc:Fut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vut(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:i}=r;i<0&&(i+=a.shape.length);const o=a.shape.length,s=a.shape[i],l=new Array(o-1);let u=0;for(let h=0;h<o;h++)h!==i&&(l[u++]=a.shape[h]);const c=new Array(o).fill(0),f=a.shape.slice();f[i]=1;const d=new Array(s);for(let h=0;h<d.length;h++){c[i]=h;const p=Sg({inputs:{x:a},backend:n,attrs:{begin:c,size:f}});d[h]=qr({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return d}const zut={kernelName:OD,backendName:"cpu",kernelFunc:Vut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wut(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:o}=r;nn(a,"unsortedSegmentSum");const s=a.shape.length,l=i.shape.length,u=[],c=[],f=s-l;let d=i;for(let p=0;p<f;++p){const v=FI({inputs:{input:d},backend:n,attrs:{dim:p+1}});d=v,c.push(v)}for(let p=0;p<o;++p){const v=tp(p,"int32"),g=n.makeTensorInfo([],"int32",v),m=mde({inputs:{a:g,b:d},backend:n}),y=Ph({inputs:{x:m},backend:n,attrs:{dtype:"float32"}}),b=sN({inputs:{a:y,b:a},backend:n}),x=XS({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});u.push(x),c.push(g),c.push(m),c.push(y),c.push(b),c.push(x)}const h=mhe({inputs:u,backend:n,attrs:{axis:0}});return c.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const Hut={kernelName:PD,backendName:"cpu",kernelFunc:Wut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uut=[Fat,yrt,Vat,Wat,Crt,Uat,Kat,Yat,qat,Jat,eit,nit,ait,sit,uit,dit,pit,git,yit,Oat,xit,_it,Cit,krt,kit,_rt,Ert,Eit,brt,Dit,Rit,Mit,Lit,Pit,Bit,zit,Hit,Git,jit,Xit,Zit,Qit,tot,rot,aot,oot,lot,cot,fot,dot,hot,vot,yot,Aat,xot,Art,Eot,Drt,Aot,Rrt,Lot,Oot,Fot,$rt,Ort,Vot,Wot,Uot,Kot,Frt,Vrt,xrt,Yot,Nit,qot,Jot,est,Dat,Wrt,Urt,nst,Krt,ast,sst,ust,dst,pst,gst,mst,Yrt,bst,wst,Sst,Tst,Ist,Ast,Nst,qrt,Mst,Ost,Bst,Jrt,eat,Wst,Gst,Yst,nat,qst,Jst,Qst,yhe,rlt,Rat,iat,ilt,slt,ult,flt,wrt,QP,hlt,Mat,$at,Lat,vlt,mlt,blt,wlt,Slt,Clt,klt,hat,Elt,Mlt,Llt,Blt,vat,zlt,Hlt,Glt,gat,Pst,Ylt,qlt,Jlt,eut,nut,aut,out,lut,bat,uut,wat,Sat,fut,hut,vut,mut,but,Iat,got,wut,Sut,Tut,Iut,Aut,Nut,rat,But,zut,Hut,Zst];for(const e of Uut)rle(e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fv={},a2={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Gut(e,t){fv[e]=t}function Fu(e,t){if(!(e in fv)||t!=null){const r=jut(e,t);if(r!==null)fv[e]=r;else return console.log("Could not get context for WebGL version",e),null}const n=fv[e];return n==null||n.isContextLost()?(delete fv[e],Fu(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),fv[e])}function Kut(e){if(!tt().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&e===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function jut(e,t){if(e!==1&&e!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=t??Kut(e);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete fv[e]},!1),tt().getBool("SOFTWARE_WEBGL_ENABLED")&&(a2.failIfMajorPerformanceCaveat=!1),e===1?n.getContext("webgl",a2)||n.getContext("experimental-webgl",a2):n.getContext("webgl2",a2)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var _w;(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(_w||(_w={}));var Bs;(function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"})(Bs||(Bs={}));var wi;(function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(wi||(wi={}));function qS(e,t){return[t,e]}function Yut(e,t){return e*t}function i2(e){const t=ot(e),n=Math.ceil(t/4);return SP(n)}function a1(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Xut(e,t){const[n,r]=a1(e,t);return n*r*4}function Y8(e,t){const n=e;let r,a,i,o,s,l,u,c,f,d;return tt().getNumber("WEBGL_VERSION")===2?(r=n.R32F,a=n.R16F,i=n.RGBA16F,o=n.RGBA32F,s=n.RED,u=4,c=1,f=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,a=e.RGBA,i=e.RGBA,o=n.RGBA,s=e.RGBA,u=4,c=4,f=t!=null?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:d}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wt(e,t){const n=t();return tt().getBool("DEBUG")&&qut(e),n}function qut(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+ect(e,t))}const Zut=596e-10,Jut=65504;function Qut(e){return!!(tt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||Zut<Math.abs(e)&&Math.abs(e)<Jut)}function ect(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function o2(e,t){return hd(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}function tct(e,t){const n=hd(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Wt(e,()=>e.shaderSource(n,t)),Wt(e,()=>e.compileShader(n)),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function nct(e,t){const n=hd(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Wt(e,()=>e.shaderSource(n,t)),Wt(e,()=>e.compileShader(n)),tt().get("ENGINE_COMPILE_ONLY"))return n;if(e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw bhe(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const rct=/ERROR: [0-9]+:([0-9]+):/g;function bhe(e,t){const n=rct.exec(t);if(n==null){console.log(`Couldn't parse line number in error: ${t}`),console.log(e);return}const r=+n[1],a=e.split(`
`),i=a.length.toString().length+2,o=a.map((f,d)=>Nm((d+1).toString(),i)+f);let s=0;for(let f=0;f<o.length;f++)s=Math.max(o[f].length,s);const l=o.slice(0,r-1),u=o.slice(r-1,r),c=o.slice(r);console.log(l.join(`
`)),console.log(t.split(`
`)[0]),console.log(`%c ${Nm(u[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function act(e){return hd(e,()=>e.createProgram(),"Unable to create WebGLProgram.")}function ict(e,t){if(Wt(e,()=>e.linkProgram(t)),!tt().get("ENGINE_COMPILE_ONLY")&&e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function uM(e,t){if(Wt(e,()=>e.validateProgram(t)),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function oct(e,t){const n=hd(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Wt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),Wt(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function sct(e,t){const n=hd(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Wt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)),Wt(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function lct(e){return hd(e,()=>e.createTexture(),"Unable to create WebGLTexture.")}function uct(e,t){const n=tt().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const r=`[${e}x${t}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){const r=`[${e}x${t}]`,a=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+a+".")}}function cct(e){return hd(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function K7(e,t,n,r,a,i,o){const s=e.getAttribLocation(t,n);return s===-1?!1:(Wt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),Wt(e,()=>e.vertexAttribPointer(s,a,e.FLOAT,!1,i,o)),Wt(e,()=>e.enableVertexAttribArray(s)),!0)}function fct(e,t,n){gct(e,n),Wt(e,()=>e.activeTexture(e.TEXTURE0+n)),Wt(e,()=>e.bindTexture(e.TEXTURE_2D,t))}function dct(e,t,n){return hd(e,()=>e.getUniformLocation(t,n),'uniform "'+n+'" not present in program.')}function hct(e,t,n){return e.getUniformLocation(t,n)}function pct(e,t,n,r){Wt(e,()=>fct(e,t,r)),Wt(e,()=>e.uniform1i(n,r))}function cM(e,t,n){Wt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,n)),Wt(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function j7(e,t){Wt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),Wt(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function s2(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+vct(e,t))}function vct(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function hd(e,t,n){const r=Wt(e,()=>t());if(r==null)throw new Error(n);return r}function gct(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){const a=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${a}.`)}}function xy(e,t=2){return ot(e.slice(0,e.length-t))}function wy(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function l2(e){let t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[xy(e),...wy(e)]),t}function mct(e,t=!1){let n=tt().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=tt().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&tt().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n=n*2,r=r*2,e=e.map((s,l)=>l>=e.length-2?bV(e[l]):e[l]),e.length===1&&(e=[2,e[0]])),e.length!==2&&(e=ep(e).newShape);let a=ot(e),i=null;e.length<=1&&a<=n?i=[1,a]:e.length===2&&e[0]<=n&&e[1]<=n?i=e:e.length===3&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:e.length===3&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);const o=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(i==null||o)if(t){const s=xy(e);let l=2,u=2;e.length&&([l,u]=wy(e)),a=s*(l/2)*(u/2),i=SP(a).map(c=>c*2)}else i=SP(a);return i}function u2(e){return e%2===0}function VI(e,t){if(e=e.slice(-2),t=t.slice(-2),Er(e,t)||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r||u2(n)&&u2(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&u2(e[0])&&u2(t[0])}let fM,dM;function yct(e){if(fM==null){const t=Fu(e);fM=t.getParameter(t.MAX_TEXTURE_SIZE)}return fM}function bct(e){if(dM==null){const t=Fu(e);dM=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,dM)}function xct(e){if(e===0)return 0;let t;const n=Fu(e);return El(n,"EXT_disjoint_timer_query_webgl2")&&e===2?t=2:El(n,"EXT_disjoint_timer_query")?t=1:t=0,t}function El(e,t){return e.getExtension(t)!=null}function Y7(e){try{if(Fu(e)!=null)return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function wct(e){if(e===0)return!1;const t=Fu(e);if(e===1){if(!El(t,"OES_texture_float"))return!1}else if(!El(t,"EXT_color_buffer_float"))return!1;return tF(t)}function _ct(e){if(e===0)return!1;const t=Fu(e);if(e===1){if(!El(t,"OES_texture_float")||!El(t,"WEBGL_color_buffer_float"))return!1}else{if(El(t,"EXT_color_buffer_float"))return tF(t);const r="EXT_color_buffer_half_float";if(El(t,r)){const a=t.getExtension(r);return Sct(t,a)}return!1}return tF(t)}function tF(e){const t=Y8(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(i),o}function Sct(e,t){const n=Y8(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}function Cct(e){return e!==2?!1:Fu(e).fenceSync!=null}function ZS(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&pe(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const on=tt();on.registerFlag("HAS_WEBGL",()=>on.getNumber("WEBGL_VERSION")>0);on.registerFlag("WEBGL_VERSION",()=>Y7(2)?2:Y7(1)?1:0);on.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);on.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>on.get("WEBGL_VERSION")===2);on.registerFlag("WEBGL_CPU_FORWARD",()=>!0);on.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);on.registerFlag("WEBGL_PACK",()=>on.getBool("HAS_WEBGL"));on.registerFlag("WEBGL_PACK_NORMALIZATION",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_CLIP",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_REDUCE",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_LAZILY_UNPACK",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_CONV_IM2COL",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>yct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>bct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const e=on.getNumber("WEBGL_VERSION");return e===0?0:xct(e)});on.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>on.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!gle());on.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>wct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>on.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:on.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));on.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>_ct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_FENCE_API_ENABLED",()=>Cct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>on.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);on.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)});on.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>gle()?1:-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)});on.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);on.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);on.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);on.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);on.registerFlag("WEBGL_EXP_CONV",()=>!1);on.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>on.getBool("IS_TEST"));on.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);on.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);on.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);on.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ko(){let e,t,n,r,a,i,o,s,l,u;return tt().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",s=tt().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jg(e,t,n="index"){const r=dn(t);return r.map((a,i)=>{const o=`int ${e[i]} = ${n} / ${a}`,s=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${a}`:`index -= ${e[i]} * ${a}`;return`${o}; ${s};`}).join("")}function lN(e,t,n="index"){const r=dn(t);return r.map((a,i)=>{const o=`int ${e[i]} = ${n} / outShapeStrides[${i}]`,s=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`;return`${o}; ${s};`}).join("")}function Tct(e,t){const n=e.length,r=e.map(i=>`${t}[${i}]`),a=new Array(n-1);a[n-2]=r[n-1];for(let i=n-3;i>=0;--i)a[i]=`(${a[i+1]} * ${r[i+1]})`;return a}function kct(e,t,n="index"){const r=e.map((i,o)=>o),a=Tct(r,t);return a.map((i,o)=>{const s=`int ${e[o]} = ${n} / ${a[o]}`,l=o===a.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${a[o]}`:`index -= ${e[o]} * ${a[o]}`;return`${s}; ${l};`}).join("")}function X8(e){const t=dn(e).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;
  }
`}function q8(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const xhe=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:whe}=fQe;function Ict(e,t,n){const r=[];if(e.forEach(h=>{const p=ot(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?r.push(`uniform float ${h.name}${p>1?`[${p}]`:""};`):(r.push(`uniform sampler2D ${h.name};`),r.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:v}=Z8(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(v.length){case 1:r.push(`uniform int ${h.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${h.name}Shape;`);break}r.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{r.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const a=r.join(`
`),i=e.map(h=>Ect(h,t,n.packedInputs,n.enableShapeUniforms)).join(`
`),o=t.texShape,s=ko(),l=Nct(s);let u,c,f=$ct(s);return t.isPacked?(u=Act(t.logicalShape,o,n.enableShapeUniforms),c=Mct(s)):(u=Dct(t.logicalShape,o,n.enableShapeUniforms),c=Rct(s)),n.packedInputs&&(f+=Fct),[f,l,c,a,u,i,n.userCode].join(`
`)}function i1(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return qct(e,t);case 1:return Jct(e,t);case 2:return eft(e,t);case 3:return nft(e,t);case 4:return aft(e,t);case 5:return ift(e);case 6:return oft(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function _he(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return Xct(e);case 1:return Zct(e,t);case 2:return Qct(e,t);case 3:return tft(e,t);default:return rft(e,t)}}function Ect(e,t,n=!1,r){let a="";n?a+=_he(e,r):a+=i1(e,r);const i=e.shapeInfo.logicalShape,o=t.logicalShape;return i.length<=o.length&&(n?a+=sft(e,t):a+=lft(e,t)),a}function Act(e,t,n){switch(e.length){case 0:return She();case 1:return Bct(e,t,n);case 2:return jct(e,t,n);case 3:return zct(e,t,n);default:return Hct(e,t,n)}}function Dct(e,t,n){switch(e.length){case 0:return She();case 1:return Vct(e,t,n);case 2:return Yct(e,t,n);case 3:return Wct(e,t,n);case 4:return Uct(e,t,n);case 5:return Gct(e,t);case 6:return Kct(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}function Nct(e){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${e.texture2D}(textureSampler, uv).r;
    }
  `}function Rct(e){return`
    void setOutput(float val) {
      ${e.output} = vec4(val, 0, 0, 0);
    }
  `}function Mct(e){return`
    void setOutput(vec4 val) {
      ${e.output} = val;
    }
  `}function $ct(e){return`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFs} vec2 resultUV;
    ${e.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${e.defineSpecialNaN}
    ${e.defineSpecialInf}
    ${e.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${Lct}
    ${Oct}
    ${Pct}
  `}const Lct=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Oct=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Pct=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Fct=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function She(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function Bct(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function Vct(e,t,n){return t[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${t[1]}.0);
      }
    `:t[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${t[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      return resTexRC.x * ${t[1]} + resTexRC.y;
    }
  `}function zct(e,t,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec3(b, r, c);
    }
  `}function Wct(e,t,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${lN(["r","c","d"],e)}
    return ivec3(r, c, d);
  }
`;const r=jg(["r","c","d"],e);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function Hct(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2);let o=i,s="",l="b, r, c";for(let u=2;u<e.length-1;u++)o*=e[e.length-u-1],s=`
      int b${u} = index / ${o};
      index -= b${u} * ${o};
    `+s,l=`b${u}, `+l;return`
    ivec${e.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${s}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec${e.length}(${l});
    }
  `}function Uct(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${lN(["r","c","d","d2"],e)}
      return ivec4(r, c, d, d2);
    }
  `;const r=jg(["r","c","d","d2"],e);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function Gct(e,t){const n=jg(["r","c","d","d2","d3"],e);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},
                             ${t[1]}));

      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function Kct(e,t){const n=jg(["r","c","d","d2","d3","d4"],e);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function jct(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Er(e,t))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const a=Math.ceil(e[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec2(r, c);
    }
  `}function Yct(e,t,n){return Er(e,t)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));
      }
    `:e[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:e[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      int r = index / ${e[1]};
      int c = index - r * ${e[1]};
      return ivec2(r, c);
    }
  `}function Yg(e){return`offset${e}`}function Xct(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=ko();return`
    vec4 ${n}() {
      return ${r.texture2D}(${t}, halfCR);
    }
  `}function qct(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[a,i]=e.shapeInfo.texShape;if(a===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=Yg(n);if(t)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${o});
      return sampleTexture(${n}, uv);
    }
  `;const[s,l]=e.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${s}, ${l}, ${o});
      return sampleTexture(${n}, uv);
    }
  `}function Zct(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=ko();if(t)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${o[0]}, ${o[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function Jct(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${o1(e)}
      }
    `;const a=e.shapeInfo.texShape,i=a[0],o=a[1];if(o===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const s=Yg(n);return o===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${o}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:t?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${o}, index + ${s});
      return sampleTexture(${n}, uv);
    }
  `}function Qct(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=i[0],s=i[1],l=ko();if(i!=null&&Er(n,i))return t?`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${o}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(t)return`
    vec4 ${a}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${a}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function eft(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(i!=null&&Er(n,i)){if(t)return`
      float ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const d=i[0],h=i[1];return`
    float ${a}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:o,keptDims:s}=ep(n),l=o;if(l.length<n.length){const d=s1(e,l),h=["row","col"];return`
      ${i1(d,t)}
      float ${a}(int row, int col) {
        return ${a}(${l1(h,s)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${o1(e)}
      }
    `;const u=i[0],c=i[1],f=Yg(r);return c===1?t?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?t?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:t?`
      float ${a}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${f};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${a}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${f};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${r}, uv);
  }
`}function tft(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const d=n.slice(1),h=[1,2],p=s1(e,d),v=["b","row","col"];return`
        ${_he(p,t)}
        vec4 ${a}(int b, int row, int col) {
          return ${a}(${l1(v,h)});
        }
      `}const s=ko();if(t)return`
    vec4 ${a}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${s.texture2D}(${r}, uv);
    }
  `;const l=o[0],u=o[1],c=Math.ceil(n[2]/2),f=c*Math.ceil(n[1]/2);return`
    vec4 ${a}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${f}, ${c}, b, row, col);
      return ${s.texture2D}(${r}, uv);
    }
  `}function nft(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],o=n[2],{newShape:s,keptDims:l}=ep(n),u=s;if(u.length<n.length){const v=s1(e,u),g=["row","col","depth"];return`
        ${i1(v,t)}
        float ${a}(int row, int col, int depth) {
          return ${a}(${l1(g,l)});
        }
      `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${o}, 1)));
        ${o1(e)}
      }
    `;const c=e.shapeInfo.texShape,f=c[0],d=c[1],h=e.shapeInfo.flatOffset;if(d===i&&h==null)return t?`
      float ${a}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${a}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${o}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${d}.0, ${f}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(d===o&&h==null)return t?`
      float ${a}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `;const p=Yg(r);return t?`
    float ${a}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${a}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${o} + depth + ${p};
        vec2 uv = uvFromFlat(${f}, ${d}, index);
        return sampleTexture(${r}, uv);
      }
  `}function rft(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=ko();if(t)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);
    }
  `;const i=e.shapeInfo.logicalShape,o=i.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],f=Math.ceil(i[o-1]/2);let d=f*Math.ceil(i[o-2]/2),h="int b, int row, int col",p=`b * ${d} + (row / 2) * ${f} + (col / 2)`;for(let v=2;v<o-1;v++)h=`int b${v}, `+h,d*=i[o-v-1],p=`b${v} * ${d} + `+p;return`
    vec4 ${r}(${h}) {
      int index = ${p};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${a.texture2D}(${n}, uv);
    }
  `}function aft(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],o=n[2]*i,s=n[1]*o,{newShape:l,keptDims:u}=ep(n);if(l.length<n.length){const y=s1(e,l),b=["row","col","depth","depth2"];return`
      ${i1(y,t)}
      float ${a}(int row, int col, int depth, int depth2) {
        return ${a}(${l1(b,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${s}, ${o}, ${i}, 1)));
        ${o1(e)}
      }
    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1],p=`int stride2 = ${r}Shape[3];`,v=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(h===s&&c==null)return t?`
      float ${a}(int row, int col, int depth, int depth2) {
        ${p}
        ${v}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${o}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(h===i&&c==null)return t?`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;const m=Yg(r);return t?`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${v}
      ${g}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${m});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${s} + col * ${o} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${d}, ${h}, index + ${m});
      return sampleTexture(${r}, uv);
    }
  `}function ift(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,o=t[2]*i,s=t[1]*o,{newShape:l,keptDims:u}=ep(t);if(l.length<t.length){const v=s1(e,l),g=["row","col","depth","depth2","depth3"];return`
      ${i1(v)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${l1(g,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${s}, ${o}, ${i}, ${a})) +
          depth3;
        ${o1(e)}
      }
    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1];if(h===s&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${o}, ${i}, ${a}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===a&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]},
               ${t[2]*t[3]}, ${t[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=Yg(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${s} + col * ${o} + depth * ${i} +
          depth2 * ${a} + depth3 + ${p};
      vec2 uv = uvFromFlat(${d}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function oft(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:i}=ep(t);if(a.length<t.length){const g=s1(e,a),m=["row","col","depth","depth2","depth3","depth4"];return`
      ${i1(g)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${l1(m,i)});
      }
    `}const o=t[5],s=t[4]*o,l=t[3]*s,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${s})) +
          dot(
            vec2(depth3, depth4),
            vec2(${o}, 1)));
        ${o1(e)}
      }
    `;const f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];if(p===c&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${s}, ${o})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===o&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]*t[4]},
               ${t[2]*t[3]*t[4]},
               ${t[3]*t[4]},
               ${t[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const v=Yg(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${s} + depth3 * ${o} + depth4 + ${v};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function o1(e){const t=e.name,n=ot(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${t}[i];
      }
    }
  `}function sft(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,o=t.logicalShape.length,s=whe(e.shapeInfo.logicalShape,t.logicalShape),l=Br(o),u=o-i;let c;const f=["x","y","z","w","u","v"];i===0?c="":o<2&&s.length>=1?c="coords = 0;":c=s.map(y=>`coords.${f[y+u]} = 0;`).join(`
`);let d="";o<2&&i>0?d="coords":d=e.shapeInfo.logicalShape.map((y,b)=>`coords.${f[b+u]}`).join(", ");let h="return outputValue;";const v=ot(e.shapeInfo.logicalShape)===1,m=ot(t.logicalShape)===1;if(i===1&&!v&&!m)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(v&&!m)o===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(s.length){const y=i-2,b=i-1;s.indexOf(y)>-1&&s.indexOf(b)>-1?h="return vec4(outputValue.x);":s.indexOf(y)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${a}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${r}(${d});
      ${h}
    }
  `}function lft(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&e.shapeInfo.flatOffset==null&&Er(o,i))return`
      float ${a}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=Br(l),c=whe(e.shapeInfo.logicalShape,t.logicalShape),f=l-s;let d;const h=["x","y","z","w","u","v"];s===0?d="":l<2&&c.length>=1?d="coords = 0;":d=c.map(v=>`coords.${h[v+f]} = 0;`).join(`
`);let p="";return l<2&&s>0?p="coords":p=e.shapeInfo.logicalShape.map((v,g)=>`coords.${h[g+f]}`).join(", "),`
    float ${a}() {
      ${u} coords = getOutputCoords();
      ${d}
      return get${r}(${p});
    }
  `}function Br(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function Z8(e,t,n){const{newShape:r,keptDims:a}=ep(t),i=t.length,o=e&&i===3&&t[0]===1,s=o?t.slice(1):r,l=!e&&i>1&&!Er(t,n)&&r.length<i||o;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:a}}function s1(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function l1(e,t){return t.map(n=>e[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uft(e,t,n,r){const a=n.map((c,f)=>{const d={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(d.flatOffset=c.texData.slice.flatOffset),{name:t.variableNames[f],shapeInfo:d}}),i=a.map(c=>c.shapeInfo),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Ict(a,o,t),l=nct(e.gl,s),u=e.createProgram(l);return tt().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:o,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:o},Che(e,t,u)))}function Che(e,t,n){const r=[],a=[];let i,o,s,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),tt().getNumber("WEBGL_VERSION")===1&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const f of t.variableNames){const d={name:f,uniform:e.getUniformLocation(n,f,c),offset:e.getUniformLocation(n,`offset${f}`,c)};t.enableShapeUniforms&&(d.shape=e.getUniformLocation(n,`${f}Shape`,c),d.texShape=e.getUniformLocation(n,`${f}TexShape`,c)),r.push(d)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",c),s=e.getUniformLocation(n,"outShapeStrides",c),o=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const f of t.customUniforms)a.push(e.getUniformLocation(n,f.name,c));return{variablesLocations:r,customUniformLocations:a,infLoc:l,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:o}}function X7(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((n,r)=>{const a=n.logicalShape,i=t[r],o=i.shape;if(!Er(a,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${o} must match`);if(n.isUniform&&i.isUniform)return;const s=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!Er(s,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${l} must match`)})}function cft(e,t,n,r,a){t.program.enableShapeUniforms||(X7(t.inShapeInfos,n),X7([t.outShapeInfo],[r]));const i=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,o[0],o[1]):e.setOutputMatrixTexture(i.texture,o[0],o[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),tt().getNumber("WEBGL_VERSION")===1&&t.infLoc!==null&&e.gl.uniform1f(t.infLoc,1/0),t.nanLoc!==null&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const u=n[l],{uniform:c,offset:f,shape:d,texShape:h}=t.variablesLocations[l];if(d){const{uniformShape:p}=Z8(t.program.packedInputs,u.shape,u.texData.texShape);switch(p.length){case 1:e.gl.uniform1iv(d,new Int32Array(p));break;case 2:e.gl.uniform2iv(d,new Int32Array(p));break;case 3:e.gl.uniform3iv(d,new Int32Array(p));break;case 4:e.gl.uniform4iv(d,new Int32Array(p));break}}if(h&&e.gl.uniform2i(h,u.texData.texShape[0],u.texData.texShape[1]),c!=null){if(u.isUniform){if(ot(u.shape)<2)e.gl.uniform1f(c,u.uniformValues[0]);else{let p=u.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),e.gl.uniform1fv(c,p)}continue}u.texData.slice!=null&&f!=null&&e.gl.uniform1i(f,u.texData.slice.flatOffset),e.setInputMatrixTexture(u.texData.texture.texture,c,l)}}const s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape));break}if(t.outShapeStridesLocation){const l=dn(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(l));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(l));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(l));break}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a)for(let l=0;l<t.program.customUniforms.length;++l){const u=t.program.customUniforms[l],c=t.customUniformLocations[l],f=a[l];if(u.type==="float")e.gl.uniform1fv(c,f);else if(u.type==="vec2")e.gl.uniform2fv(c,f);else if(u.type==="vec3")e.gl.uniform3fv(c,f);else if(u.type==="vec4")e.gl.uniform4fv(c,f);else if(u.type==="int")e.gl.uniform1iv(c,f);else if(u.type==="ivec2")e.gl.uniform2iv(c,f);else if(u.type==="ivec3")e.gl.uniform3iv(c,f);else if(u.type==="ivec4")e.gl.uniform4iv(c,f);else throw Error(`uniform type ${u.type} is not supported yet.`)}e.executeProgram()}function fft(e,t,n){let r="";t.concat(n).forEach(o=>{const s=o.texData!=null&&o.texData.slice!=null&&o.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!o.isUniform){const l=o.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:f}=Z8(e.packedInputs,o.shape,l);let d="",h="",p="";if(c.length===1&&e.packedInputs){const _=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];d=`${_[0]>1}_${_[1]>1}`}else if(c.length===2&&!e.packedInputs)h=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!e.packedInputs){const _=dn(c);p=`${_[0]===l[1]}_${_[_.length-1]===l[1]}`}const v=o.shape.length,g=c.length===2&&Er(o.shape,l),m=ot(o.shape)===1,y=py(o.shape,n.shape),b=!e.packedInputs&&v===n.shape.length&&Er(l,n.texData.texShape),x=e.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${v}_${b}_${u?f:""}_${c.length}_${m}_${y}_${g}_${d}_${h}_${p}_${x}_${s}`}else{const l=o.isUniform?"uniform":o.texData.texShape;r+=`${o.shape}_${l}_${s}`}});const a=e.userCode;let i=e.constructor.name;return i+="_"+r+"_"+a+`${tt().getNumber("WEBGL_VERSION")}`,i}function Qi(e){return tt().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dft{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=_w.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ko();this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?lN(["r","c","d"],t):jg(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hft{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=_w.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ko();this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?lN(["r","c","d"],t):jg(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pft{constructor(t){this.variableNames=["A"],this.outTexUsage=Bs.DOWNLOAD;const n=ko();this.outputShape=t,this.userCode=`
      ${xhe}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vft{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Bs.DOWNLOAD;const n=ko();this.outputShape=t,this.userCode=`
      ${xhe}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gft={R:0,G:1,B:2,A:3};class q7{constructor(t,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=ko();this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);let i="result";n&&(i="floor(result * 255. + 0.5)");let o="";for(let s=0;s<r.length;s++){const l=r[s];o+=`
          if(offset == ${s}) {
            result = values[${gft[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?q8():X8(t)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${a.texture2D}(A, uv);
          ${o}
        }
        ${a.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mft{constructor(t,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ko();this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);let a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let s=0;s<=1;s++){const l=o*2+s;a+=`
          localCoords = coords;
          if(localCoords[2] + ${s} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {
          localCoords[2] += ${s};
          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {
            localCoords[1] += ${o};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?q8():X8(t)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${a}

          ${r.output} = ${i};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yft(e){const t=ko(),n=`${t.version}
    precision highp float;
    ${t.attribute} vec3 clipSpacePos;
    ${t.attribute} vec2 uv;
    ${t.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return tct(e,n)}function bft(e){const t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return oct(e,t)}function xft(e){const t=new Uint16Array([0,1,2,2,1,3]);return sct(e,t)}function JS(e,t,n,r,a,i){uct(t,n);const o=lct(e),s=e.TEXTURE_2D;return Wt(e,()=>e.bindTexture(s,o)),Wt(e,()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),Wt(e,()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),Wt(e,()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)),Wt(e,()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)),tt().getNumber("WEBGL_VERSION")===1?Wt(e,()=>e.texImage2D(s,0,r,t,n,0,a,i,null)):Wt(e,()=>e.texStorage2D(s,1,r,t,n)),Wt(e,()=>e.bindTexture(e.TEXTURE_2D,null)),{texture:o,texShape:[n,t]}}function The(e){return e.internalFormatFloat}function wft(e,t,n,r){const[a,i]=qS(t,n);return JS(e,a,i,The(r),r.textureFormatFloat,e.FLOAT)}function khe(e){return e.internalFormatHalfFloat}function _ft(e,t,n,r){const[a,i]=qS(t,n);return JS(e,a,i,khe(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function Ihe(e){return e.downloadTextureFormat}function Sft(e,t,n,r){const[a,i]=qS(t,n);return JS(e,a,i,Ihe(r),e.RGBA,e.UNSIGNED_BYTE)}function Ehe(e){return e.internalFormatPackedFloat}function Cft(e,t,n,r){const[a,i]=a1(t,n);return JS(e,a,i,Ehe(r),e.RGBA,e.FLOAT)}function Ahe(e){return e.internalFormatPackedHalfFloat}function Tft(e,t,n,r){const[a,i]=a1(t,n);return JS(e,a,i,Ahe(r),e.RGBA,r.textureTypeHalfFloat)}function kft(e,t,n){return Wt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),K7(e,t,"clipSpacePos",n,3,20,0)&&K7(e,t,"uv",n,2,20,12)}function Ift(e,t,n,r,a,i){Wt(e,()=>e.bindTexture(e.TEXTURE_2D,t));let o,s,l;a instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,l=i.internalFormatPackedFloat),o.set(a),tt().getNumber("WEBGL_VERSION")===2?Wt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)):Wt(e,()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,o)),Wt(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Eft(e,t,n){Wt(e,()=>e.bindTexture(e.TEXTURE_2D,t)),n.data instanceof Uint8Array?tt().getNumber("WEBGL_VERSION")===2?Wt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)):Wt(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)):tt().getNumber("WEBGL_VERSION")===2?Wt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)):Wt(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),Wt(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Aft(e,t,n,r){const a=e.createBuffer();Wt(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,a));const s=4*4*t*n;return Wt(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,s,e.STREAM_READ)),Wt(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)),Wt(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),a}function Dft(e,t,n){const r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function Nft(e,t,n,r){const[a,i]=qS(t,n),o=4,s=new Uint8Array(Yut(t*n,o));return Wt(e,()=>e.readPixels(0,0,a,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,s)),new Float32Array(s.buffer)}function Rft(e,t,n,r,a,i,o,s){const l=e,u=new Float32Array(Xut(i,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function Mft(e,t,n){const r=new Float32Array(t*n*4);return Wt(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hM{constructor(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=tt().getNumber("WEBGL_VERSION");if(t!=null?(this.gl=t,Gut(n,t)):this.gl=Fu(n),t=this.gl,tt().getNumber("WEBGL_VERSION")===2){const i=t;this.createVertexArray=()=>Wt(i,()=>i.createVertexArray()),this.bindVertexArray=o=>Wt(i,()=>i.bindVertexArray(o)),this.deleteVertexArray=o=>Wt(i,()=>i.deleteVertexArray(o)),this.getVertexArray=()=>Wt(i,()=>i.getParameter(i.VERTEX_ARRAY_BINDING))}else if(t!=null){const i=t.getExtension("OES_vertex_array_object");if(i==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Wt(t,()=>i.createVertexArrayOES()),this.bindVertexArray=o=>Wt(t,()=>i.bindVertexArrayOES(o)),this.deleteVertexArray=o=>Wt(t,()=>i.deleteVertexArrayOES(o)),this.getVertexArray=()=>Wt(t,()=>t.getParameter(i.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),tt().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",o="OES_texture_half_float";if(this.textureFloatExtension=o2(this.gl,i),El(this.gl,o))this.textureHalfFloatExtension=o2(this.gl,o);else if(tt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),El(this.gl,a))this.colorBufferHalfFloatExtension=o2(this.gl,a);else if(tt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",El(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(El(this.gl,a))this.colorBufferHalfFloatExtension=this.gl.getExtension(a);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=bft(this.gl),this.indexBuffer=xft(this.gl),this.framebuffer=cct(this.gl),this.textureConfig=Y8(this.gl,this.textureHalfFloatExtension)}get debug(){return tt().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const t=this.gl;Wt(t,()=>t.finish()),Wt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),Wt(t,()=>t.deleteFramebuffer(this.framebuffer)),Wt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,null)),Wt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)),Wt(t,()=>t.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(t,n){return this.throwIfDisposed(),wft(this.gl,t,n,this.textureConfig)}createFloat16MatrixTexture(t,n){return this.throwIfDisposed(),_ft(this.gl,t,n,this.textureConfig)}createUnsignedBytesMatrixTexture(t,n){return this.throwIfDisposed(),Sft(this.gl,t,n,this.textureConfig)}uploadPixelDataToTexture(t,n){this.throwIfDisposed(),Eft(this.gl,t,n)}uploadDenseMatrixToTexture(t,n,r,a){this.throwIfDisposed(),Ift(this.gl,t,n,r,a,this.textureConfig)}createFloat16PackedMatrixTexture(t,n){return this.throwIfDisposed(),Tft(this.gl,t,n,this.textureConfig)}createPackedMatrixTexture(t,n){return this.throwIfDisposed(),Cft(this.gl,t,n,this.textureConfig)}deleteMatrixTexture(t){this.throwIfDisposed(),this.outputTexture===t&&(j7(this.gl,this.framebuffer),this.outputTexture=null),Wt(this.gl,()=>this.gl.deleteTexture(t))}downloadByteEncodedFloatMatrixFromOutputTexture(t,n,r){return this.downloadMatrixDriver(t,()=>Nft(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(t,n,r,a,i,o){return Rft(this.gl,t,n,r,a,i,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(t,n){return Dft(this.gl,t,n)}createBufferFromTexture(t,n,r){this.bindTextureToFrameBuffer(t);const a=Aft(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let n,r;if(tt().getBool("WEBGL_FENCE_API_ENABLED")){const a=t,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=()=>{const o=a.clientWaitSync(i,0,0);return o===a.ALREADY_SIGNALED||o===a.CONDITION_SATISFIED},n=i}else tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(t,n,r){return this.downloadMatrixDriver(t,()=>Mft(this.gl,n,r))}createProgram(t){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=yft(n));const r=act(n);Wt(n,()=>n.attachShader(r,this.vertexShader)),Wt(n,()=>n.attachShader(r,t)),ict(n,r);const a=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&uM(n,a),a}buildVao(t){this.setProgram(t),this.bindVertexArray(t.vao);const n=this.gl;Wt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),kft(n,t,this.vertexBuffer)}deleteProgram(t){this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&(Wt(this.gl,()=>this.gl.deleteProgram(t)),this.deleteVertexArray(t.vao))}setProgram(t){this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&uM(this.gl,this.program),Wt(this.gl,()=>this.gl.useProgram(t))}getUniformLocation(t,n,r=!0){return this.throwIfDisposed(),r?dct(this.gl,t,n):hct(this.gl,t,n)}getAttributeLocation(t,n){return this.throwIfDisposed(),Wt(this.gl,()=>this.gl.getAttribLocation(t,n))}getUniformLocationNoThrow(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)}setInputMatrixTexture(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),pct(this.gl,t,n,r)}setOutputMatrixTexture(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)}setOutputPackedMatrixTexture(t,n,r){this.throwIfDisposed();const[a,i]=a1(n,r);this.setOutputMatrixTextureDriver(t,a,i)}setOutputMatrixWriteRegion(t,n,r,a){this.setOutputMatrixWriteRegionDriver(r,t,a,n)}setOutputPackedMatrixWriteRegion(t,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&uM(this.gl,this.program),s2(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const t=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Wt(t,()=>t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Wt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=o2(this.gl,tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(a.TIME_ELAPSED_EXT,i),i}const t=this.getQueryTimerExtensionWebGL1(),n=t.createQueryEXT();return t.beginQueryEXT(t.TIME_ELAPSED_EXT,n),n}endQuery(){if(tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(t){return await D9(()=>this.disposed||this.isQueryAvailable(t,tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(t,tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(t,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(t,n){if(n===0)return!0;if(n===2){const r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),a=r.getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}}pollFence(t){return new Promise(n=>{this.addItemToPoll(()=>t.isFencePassed(),()=>n())})}pollItems(){const t=$ft(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=t;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}addItemToPoll(t,n){if(this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in tt().platform&&(r=tt().platform.setTimeoutCustom.bind(tt().platform)),D9(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(t){this.throwIfDisposed(),cM(this.gl,t,this.framebuffer),this.debug&&s2(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(cM(this.gl,this.outputTexture,this.framebuffer),this.debug&&s2(this.gl)):j7(this.gl,this.framebuffer)}downloadMatrixDriver(t,n){this.bindTextureToFrameBuffer(t);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(t,n,r){this.throwIfDisposed();const a=this.gl;cM(a,t,this.framebuffer),this.debug&&s2(a),this.outputTexture=t,Wt(a,()=>a.viewport(0,0,n,r)),Wt(a,()=>a.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(t,n,r,a){this.throwIfDisposed(),Wt(this.gl,()=>this.gl.scissor(t,n,r,a))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function $ft(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:Lft,bincountImpl:Dhe,bincountReduceImpl:Oft,bitwiseAndImpl:Pft,castImpl:Fft,ceilImpl:Bft,concatImpl:Vft,equalImpl:zft,expImpl:Wft,expm1Impl:Hft,floorImpl:Uft,gatherNdImpl:Gft,gatherV2Impl:Kft,greaterImpl:jft,greaterEqualImpl:Yft,lessImpl:Xft,lessEqualImpl:qft,linSpaceImpl:Zft,logImpl:Jft,maxImpl:Qft,maximumImpl:edt,minimumImpl:tdt,multiplyImpl:ndt,negImpl:rdt,notEqualImpl:adt,prodImpl:idt,raggedGatherImpl:odt,raggedRangeImpl:sdt,raggedTensorToTensorImpl:ldt,rangeImpl:udt,rsqrtImpl:cdt,scatterImpl:fdt,sigmoidImpl:ddt,simpleAbsImpl:Nhe,sliceImpl:hdt,sparseFillEmptyRowsImpl:pdt,sparseReshapeImpl:vdt,sparseSegmentReductionImpl:Rhe,sqrtImpl:gdt,staticRegexReplaceImpl:mdt,stridedSliceImpl:ydt,stringNGramsImpl:bdt,stringSplitImpl:xdt,stringToHashBucketFastImpl:wdt,subImpl:_dt,tileImpl:Sdt,topKImpl:Cdt,transposeImpl:J8,uniqueImpl:Tdt}=Eat;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mhe(e,t){return["x","y","z","w","u","v"].slice(0,t).map(n=>`${e}.${n}`)}function vo(e,t){return t===1?[e]:Mhe(e,t)}function kdt(e,t){if(e===1)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Idt{constructor(t){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=Qi(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=vo("rc",this.rank),r=Br(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${a}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${o}));
          }
        }
      `}}getSourceCoordsArr(t){const n=[];for(let r=0;r<=1;r++)for(let a=0;a<=1;a++){let i=`${r===0?"r":"rp1"}, ${a===0?"c":"cp1"}`;for(let o=2;o<this.rank;o++)i=`${t[t.length-1-o]},`+i;n.push(i)}return n}getOutOfBoundsCondition(t){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${t[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(t){if(this.rank===1)return"";const n=t.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],a=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${a};
    `}getOutput(t){const n=this.getSourceCoordsArr(t);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $he{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);let r="";for(let a=0;a<4;a++){let i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${a}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${a>0?"}":""}
      `}this.userCode=`
      ${Edt(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?q8():X8(t)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};

        ${r}

        setOutput(result);
      }
    `}}function Edt(e,t){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${t?kct(["r","c","d"],"inputShape"):jg(["r","c","d"],e)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Adt{constructor(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(t,n,r){const a=J7(n,r),i=Q7(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const o=Z7(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const l=this.freeTextures[i].pop();return this.usedTextures[i].push(l),l}let s;return a===wi.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):a===wi.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):a===wi.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):a===wi.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):a===wi.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[i].push(s),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),s}releaseTexture(t,n,r,a){if(this.freeTextures==null)return;const i=J7(r,a),o=Q7(n,i,a);o in this.freeTextures||(this.freeTextures[o]=[]);const s=Z7(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,a),l=tt().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(t.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(t),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const u=this.usedTextures[o],c=u&&u.indexOf(t);if(c==null||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u[c]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;const t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${t})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const t in this.freeTextures)this.freeTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const t in this.usedTextures)this.usedTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function Ddt(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}function Z7(e,t,n,r,a){const i=Ndt(t,r);let o;if(a){const[l,u]=a1(e[0],e[1]);o=l*u}else{const[l,u]=qS(e[0],e[1]);o=l*u}const s=Ddt(n,i);return o*s}function Ndt(e,t){switch(e){case wi.PACKED_2X2_FLOAT32:return Ehe(t);case wi.PACKED_2X2_FLOAT16:return Ahe(t);case wi.UNPACKED_FLOAT32:return The(t);case wi.UNPACKED_FLOAT16:return khe(t);case wi.PACKED_4X1_UNSIGNED_BYTE:return Ihe(t);default:throw new Error(`Unknown physical texture type ${e}`)}}function Rdt(e){return tt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?wi.PACKED_2X2_FLOAT32:wi.UNPACKED_FLOAT32:e?wi.PACKED_2X2_FLOAT16:wi.UNPACKED_FLOAT16}function J7(e,t){if(e===Bs.UPLOAD)return wi.PACKED_2X2_FLOAT32;if(e===Bs.RENDER||e==null)return Rdt(t);if(e===Bs.DOWNLOAD||e===Bs.PIXELS)return wi.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function Q7(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bc{constructor(t,n){this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Gl="if (isnan(x)) return x;",Mdt="return x;",eK="return abs(x);",$dt="return (x >= 0.0) ? x : (exp(x) - 1.0);",Ldt=Gl+`
  return (x < 0.0) ? 0.0 : x;
`,Odt=Gl+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,zd="return x;",Pdt="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fdt="return x;",Bdt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Vdt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,zdt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Wdt="return 1.0 / (1.0 + exp(-1.0 * x));";class qd{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hdt{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);const n=t.length,r=vo("rc",n),a=Br(n),i=kdt(n,r),o=r.slice(-2),s=n<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`
      void main() {
        ${a} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${s}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Udt=nue,Gdt=1e-7,Kdt=1e-4,c2={};function jdt(e){return e in c2||(c2[e]={}),c2[e]}const Ydt=tt().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),Xdt=600;function qdt(){return tt().global.screen==null?1024:tt().global.screen.height*tt().global.screen.width*window.devicePixelRatio*Xdt/1024/1024}class uN extends yV{nextDataId(){return uN.nextDataId++}constructor(t){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!tt().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(t!=null){if(t instanceof hM)n=t;else{const r=Fu(tt().getNumber("WEBGL_VERSION"),t);n=new hM(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=Fu(tt().getNumber("WEBGL_VERSION"));n=new hM(r),this.binaryCache=jdt(tt().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Adt(this.gpgpu),this.numMBBeforeWarning=qdt(),this.texData=new Ase(this,sc())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(t,n,r,a,i,o){const s=this.makeTensorInfo(n,r),l=this.texData.get(s.dataId);l.isPacked=!1,l.texture={texture:t,texShape:[a,i]},l.texShape=[a,i];const u=l2(n),c=new q7(u,!1,o),f=this.runWebGLProgram(c,[s],r,[[a,i]]);return f.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(s),f.dataId}write(t,n,r){if((tt().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||tt().getBool("DEBUG"))&&this.checkNumericalProblems(t),r==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:n,dtype:r,values:t,usage:Bs.UPLOAD,refCount:1}),a}refCount(t){return this.texData.has(t)?this.texData.get(t).refCount:0}incRef(t){const n=this.texData.get(t);n.refCount++}decRef(t){if(this.texData.has(t)){const n=this.texData.get(t);n.refCount--}}move(t,n,r,a,i){if(tt().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:r,dtype:a,values:n,usage:Bs.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}readSync(t){const n=this.texData.get(t),{values:r,dtype:a,complexTensorInfos:i,slice:o,shape:s,isPacked:l}=n;if(o!=null){let d;l?d=new qd(s,zd):d=new bc(s,zd);const h=this.runWebGLProgram(d,[{dataId:t,shape:s,dtype:a}],a),p=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),p}if(r!=null)return this.convertAndCacheOnCPU(t);if(a==="string")return r;const u=this.activeTimers!=null;let c;u&&(c=Bo());let f;if(a==="complex64"){const d=this.readSync(i.real.dataId),h=this.readSync(i.imag.dataId);f=jf(d,h)}else f=this.getValuesFromTexture(t);return u&&(this.downloadWaitMs+=Bo()-c),this.convertAndCacheOnCPU(t,f)}async read(t){if(this.pendingRead.has(t)){const p=this.pendingRead.get(t);return new Promise(v=>p.push(v))}const n=this.texData.get(t),{values:r,shape:a,slice:i,dtype:o,complexTensorInfos:s,isPacked:l}=n;if(i!=null){let p;l?p=new qd(a,zd):p=new bc(a,zd);const v=this.runWebGLProgram(p,[{dataId:t,shape:a,dtype:o}],o),g=this.read(v.dataId);return this.disposeIntermediateTensorInfo(v),g}if(r!=null)return this.convertAndCacheOnCPU(t);if(tt().getBool("DEBUG")&&!tt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&tt().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(o!=="complex64"&&tt().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(t);const p=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(p.texture.texture,...i2(a))}this.pendingRead.set(t,[]),o!=="complex64"&&await this.gpgpu.createAndWaitForFence();let f;if(o==="complex64"){const p=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]),v=p[0],g=p[1];f=jf(v,g)}else if(u==null)f=this.getValuesFromTexture(t);else{const p=ot(a);f=this.gpgpu.downloadFloat32MatrixFromBuffer(u,p)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){const p=this.gpgpu.gl;Wt(p,()=>p.deleteBuffer(u))}const d=this.convertAndCacheOnCPU(t,f),h=this.pendingRead.get(t);return this.pendingRead.delete(t),h.forEach(p=>p(d)),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&sc().removeDataId(t,this),this.pendingDeletes--),d}readToGPU(t,n={}){const r=this.texData.get(t),{values:a,shape:i,slice:o,dtype:s,isPacked:l,texture:u}=r;if(s==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(o!=null){let h;l?h=new qd(i,zd):h=new bc(i,zd);const p=this.runWebGLProgram(h,[{dataId:t,shape:i,dtype:s}],s),v=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),v}if(u==null)throw a!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(t,n.customTexShape),f=sc().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:f},d.texture)}bufferSync(t){const n=this.readSync(t.dataId);if(t.dtype==="string")try{const r=n.map(a=>Rh(a));return Gn(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Gn(t.shape,t.dtype,n)}checkNumericalProblems(t){if(t!=null)for(let n=0;n<t.length;n++){const r=t[n];if(!Qut(r))throw tt().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(t){const{shape:n,dtype:r,isPacked:a}=this.texData.get(t),i=ot(n);if(tt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const d=this.decode(t),h=this.texData.get(d.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...i2(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(d),p}const o=tt().getBool("WEBGL_PACK")&&a===!0,s=o?l2(n):n,l=o?new vft(s):new pft(s),u=this.runWebGLProgram(l,[{shape:s,dtype:r,dataId:t}],"float32"),c=this.texData.get(u.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(u),f}timerAvailable(){return tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(t){const n=this.activeTimers,r=[];let a=!1;this.programTimersStack==null?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,t();const i=fg(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),o=fg(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,a&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(i);s.kernelMs=fKe(l),s.getExtraProfileInfo=()=>l.map((u,c)=>({name:o[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Bo(),endMs:null}}endTimer(t){return tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=Bo(),t)}async getQueryTime(t){if(tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(t);const n=t;return n.endMs-n.startMs}disposeData(t,n=!1){if(this.pendingDisposal.has(t))return!1;if(!this.texData.has(t))return!0;if(n?this.texData.get(t).refCount=0:this.texData.get(t).refCount--,!n&&this.texData.get(t).refCount>0)return!1;if(this.pendingRead.has(t))return this.pendingDisposal.add(t),this.pendingDeletes++,!1;this.releaseGPUData(t);const{complexTensorInfos:r}=this.texData.get(t);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(t),!0}releaseGPUData(t){const{texture:n,dtype:r,texShape:a,usage:i,isPacked:o,slice:s}=this.texData.get(t),l=s&&s.origDataId||t,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));const c=this.texData.get(t);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(t){return this.uploadToGPU(t),this.texData.get(t).texture.texture}getDataInfo(t){return this.texData.get(t)}shouldExecuteOnCPU(t,n=Ydt){return tt().getBool("WEBGL_CPU_FORWARD")&&t.every(r=>this.texData.get(r.dataId).texture==null&&ot(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(t){$s("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=t.dataSync();return Udt(t.shape,n)}packedUnaryOp(t,n,r){const a=new qd(t.shape,n),i=this.compileAndRun(a,[t],r);return sc().makeTensorFromTensorInfo(i)}abs(t){if(this.shouldExecuteOnCPU([t])&&t.dtype!=="complex64"){const a=Nhe(this.texData.get(t.dataId).values);return this.makeOutput(t.shape,t.dtype,a)}if(tt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,eK,t.dtype);const n=new bc(t.shape,eK),r=this.compileAndRun(n,[t]);return sc().makeTensorFromTensorInfo(r)}makeTensorInfo(t,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&L_(r[0])){const i=r.map(o=>ph(o));a=this.write(i,t,n)}else a=this.write(r,t,n);return this.texData.get(a).usage=null,{dataId:a,shape:t,dtype:n}}makeOutput(t,n,r){return sc().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,r),this)}unpackTensor(t){const n=new Hdt(t.shape);return this.runWebGLProgram(n,[t],t.dtype)}packTensor(t){const n=new Idt(t.shape);return this.runWebGLProgram(n,[t],t.dtype,null,!0)}packedReshape(t,n){const r=[xy(t.shape),...wy(t.shape)],a={dtype:t.dtype,shape:r,dataId:t.dataId},i=[xy(n),...wy(n)],o=new $he(i,r),s=!0,l=[r],u=this.runWebGLProgram(o,[a],t.dtype,l,s);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(t,n){const r=this.texData.get(t),{isPacked:a,shape:i,dtype:o}=r;if(n!=null){const d=ot(i),h=n[0]*n[1]*4;pe(d<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const s=l2(i);let l;a?l=new hft(s):l=new dft(s);const u=!0,c=[n??i2(s)],f=this.runWebGLProgram(l,[{shape:s,dtype:o,dataId:t}],o,c,u,n);return{dtype:o,shape:i,dataId:f.dataId}}runWebGLProgram(t,n,r,a,i=!1,o){const s=this.makeTensorInfo(t.outputShape,r),l=this.texData.get(s.dataId);if(t.packedOutput&&(l.isPacked=!0),t.outPackingScheme===_w.DENSE){const m=o??i2(t.outputShape);l.texShape=m.map(y=>y*2)}if(t.outTexUsage!=null&&(l.usage=t.outTexUsage),ot(s.shape)===0)return l.values=Ui(s.dtype,0),s;const u=[],c=n.map(m=>{if(m.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let y=this.texData.get(m.dataId);if(y.texture==null){if(!t.packedInputs&&ot(m.shape)<=tt().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:m.shape,texData:null,isUniform:!0,uniformValues:y.values};t.packedInputs&&(y.isPacked=!0,y.shape=m.shape)}if(this.uploadToGPU(m.dataId),!!y.isPacked!=!!t.packedInputs)m=y.isPacked?this.unpackTensor(m):this.packTensor(m),u.push(m),y=this.texData.get(m.dataId);else if(y.isPacked&&!VI(y.shape,m.shape)){const b=m,x=m.shape;m.shape=y.shape,m=this.packedReshape(m,x),u.push(m),y=this.texData.get(m.dataId),b.shape=x}return{shape:m.shape,texData:y,isUniform:!1}});this.uploadToGPU(s.dataId);const f={shape:s.shape,texData:l,isUniform:!1},d=fft(t,c,f),h=this.getAndSaveBinary(d,()=>uft(this.gpgpu,t,c,f)),p=this.activeTimers!=null;let v;p&&(v=this.startTimer()),tt().get("ENGINE_COMPILE_ONLY")||cft(this.gpgpu,h,c,f,a),u.forEach(m=>this.disposeIntermediateTensorInfo(m)),p&&(v=this.endTimer(v),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(v)}));const g=tt().getNumber("WEBGL_FLUSH_THRESHOLD");if(g>0){const m=Bo();m-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=m)}if(!tt().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){const m=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),m}return s}compileAndRun(t,n,r,a,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(t,n,r,a,i)}getAndSaveBinary(t,n){return t in this.binaryCache||(this.binaryCache[t]=n()),this.binaryCache[t]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(tt().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Xe(()=>{if(!tt().get("WEBGL_RENDER_FLOAT32_ENABLED")){const t=tt().getBool("DEBUG");tt().set("DEBUG",!1);const n=this.abs(Cr(1e-8)).dataSync()[0];if(tt().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?Gdt:Kdt}uploadToGPU(t){const n=this.texData.get(t),{shape:r,dtype:a,values:i,texture:o,usage:s,isPacked:l}=n;if(o!=null)return;const u=this.activeTimers!=null;let c;u&&(c=Bo());let f=n.texShape;if(f==null&&(f=mct(r,l),n.texShape=f),i!=null){const d=l2(r);let h,p=f[1],v=f[0];const g=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!g)&&([p,v]=a1(f[0],f[1])),l?h=new mft(d,g):h=new q7(d,g);const m=g?[v,p]:f,y=this.makeTensorInfo(m,a),b=this.texData.get(y.dataId);g?b.usage=Bs.PIXELS:b.usage=Bs.UPLOAD,b.texShape=m,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(y.dataId),p,v,i);const x=[[v,p]],S=this.runWebGLProgram(h,[y],a,x,!0),C=this.texData.get(S.dataId);n.texShape=C.texShape,n.isPacked=C.isPacked,n.usage=C.usage,tt().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(n.texture=C.texture,n.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(y),u&&(this.uploadWaitMs+=Bo()-c)}else{const d=this.acquireTexture(f,s,a,l);n.texture=d}}convertAndCacheOnCPU(t,n){const r=this.texData.get(t),{dtype:a}=r;return n!=null&&(r.values=Zdt(n,a)),r.values}acquireTexture(t,n,r,a){if(this.numBytesInGPU+=this.computeBytes(t,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(t,n,a)}computeBytes(t,n){return t[0]*t[1]*pI(n)}checkCompileCompletion(){for(const[,t]of Object.entries(this.binaryCache))this.checkCompletion_(t)}async checkCompileCompletionAsync(){const t=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))t.push(this.checkCompletionAsync_(n));return Promise.all(t)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(a=>{try{this.checkCompletion_(n),a(!0)}catch(i){throw i}});t.push(r)}return Promise.all(t)}}async checkCompletionAsync_(t){return this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(t):(await wue(),this.checkCompletionAsync_(t))}checkCompletion_(t){if(this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(t.webGLProgram)),this.gpgpu.gl.getShaderParameter(t.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(bhe(t.source,this.gpgpu.gl.getShaderInfoLog(t.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const t of Object.values(this.binaryCache)){this.gpgpu.buildVao(t.webGLProgram);const{variablesLocations:n,customUniformLocations:r,infLoc:a,nanLoc:i,outShapeLocation:o,outShapeStridesLocation:s,outTexShapeLocation:l}=Che(this.gpgpu,t.program,t.webGLProgram);t.variablesLocations=n,t.customUniformLocations=r,t.infLoc=a,t.nanLoc=i,t.outShapeLocation=o,t.outShapeStridesLocation=s,t.outTexShapeLocation=l}}createTensorFromGPUData(t,n,r){t.channels=t.channels||"RGBA";const{texture:a,height:i,width:o,channels:s}=t,l=sc().backend;if(!l.gpgpu.gl.isTexture(a))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=l.writeTexture(a,n,r,i,o,s);return sc().makeTensorFromDataId(u,n,r,l)}}uN.nextDataId=0;function Zdt(e,t){if(t==="float32"||t==="complex64")return e;if(t==="int32"||t==="bool"){const n=t==="int32"?new Int32Array(e.length):new Uint8Array(e.length);for(let r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}else throw new Error(`Unknown dtype ${t}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */mle()&&xle("webgl",()=>new uN,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q8=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class Cg{constructor(t,n,r){this.variableNames=["A","B"],this.outputShape=On(n,r),this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${t}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xg=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class u1{constructor(t,n,r,a=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=On(n,r);const i=this.outputShape.length;this.enableShapeUniforms=Qi(i);let o="";if(a)if(i===0||ot(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          ${Br(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?o+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:o+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=vo("coords",i);this.enableShapeUniforms?o+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:o+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${t}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${o}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Is(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Jdt={kernelName:nS,backendName:"webgl",kernelFunc:Is};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cp(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),s=Is({inputs:{x:r},backend:n}),l=Is({inputs:{x:a},backend:n});return o.complexTensorInfos={real:s,imag:l},i}const Qdt={kernelName:RV,backendName:"webgl",kernelFunc:cp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lhe="return (a < 0.) ? b * a : a;",Ohe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function eht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r,o=n.makeTensorInfo([],"float32",tp(i,"float32")),s=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new u1(Ohe,a.shape,o.shape):new Cg(Lhe,a.shape,o.shape),l=n.runWebGLProgram(s,[a,o],"float32");return n.disposeIntermediateTensorInfo(o),l}const tht={kernelName:iD,backendName:"webgl",kernelFunc:eht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Phe="return (a < 0.) ? b * a : a;",Fhe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function nht(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,i=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new u1(Fhe,r.shape,a.shape):new Cg(Phe,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}const rht={kernelName:CD,backendName:"webgl",kernelFunc:nht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c1="if (isnan(x)) return x;";function mr({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:a,backend:i})=>{const{x:o}=a,s=i,l=r||o.dtype;if(s.shouldExecuteOnCPU([o])&&n!=null){const f=s.texData.get(o.dataId),d=n(f.values,l);return s.makeTensorInfo(o.shape,l,d)}const u=tt().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&t!=null;let c;return u?c=new qd(o.shape,t):c=new bc(o.shape,e),s.runWebGLProgram(c,[o],l)}}function Ni({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:a,dtype:i}){return({inputs:o,backend:s})=>{const{a:l,b:u}=o,c=s;if(r&&l.dtype==="complex64"){const p=c.texData.get(l.dataId),v=c.texData.get(u.dataId),[g,m]=[[p.complexTensorInfos.real,v.complexTensorInfos.real],[p.complexTensorInfos.imag,v.complexTensorInfos.imag]].map(b=>{const[x,_]=b,S={dataId:x.dataId,dtype:x.dtype,shape:l.shape},C={dataId:_.dataId,dtype:_.dtype,shape:u.shape},k=new Cg(e,l.shape,u.shape);return c.runWebGLProgram(k,[S,C],Ts(x.dtype,_.dtype))}),y=cp({inputs:{real:g,imag:m},backend:c});return c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(m),y}const f=i||Ts(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&a!=null){const p=c.texData.get(l.dataId).values,v=c.texData.get(u.dataId).values,g=l.dtype==="string"?Yf(p):p,m=l.dtype==="string"?Yf(v):v,[y,b]=a(l.shape,u.shape,g,m,f),x=c.makeTensorInfo(b,f),_=c.texData.get(x.dataId);return _.values=y,x}const d=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&t!=null;let h;return d?h=new u1(t,l.shape,u.shape,n):h=new Cg(e,l.shape,u.shape),c.runWebGLProgram(h,[l,u],f)}}function Sw(e,t=!1){if(e==="linear")return t?Fdt:Mdt;if(e==="relu")return t?Vdt:Ldt;if(e==="elu")return t?Bdt:$dt;if(e==="relu6")return t?zdt:Odt;if(e==="prelu")return t?Fhe:Phe;if(e==="leakyrelu")return t?Ohe:Lhe;if(e==="sigmoid")return t?Wdt:Pdt;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bhe{constructor(t,n,r,a=!1,i=!1,o=!1,s=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Qi(this.outputShape.length);const c=a?t[1]:t[2],f=Math.ceil(c/2),d=a?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",p=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let g="",m="";s&&(l?g=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:u?g=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:g=`vec4 activation(vec4 x) {
          ${s}
        }`,m="result = activation(result);");const y=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let b="rc.x",x="rc.x";t[0]<n[0]?b=`imod(rc.x, ${t[0]})`:n[0]<t[0]&&(x=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${g}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${f}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${b};
        int batchB = ${x};
        for (int i = 0; i < ${f}; i++) {
          vec4 a = getMatrixA(batchA, ${d});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${v[0]});
          result += (${p[1]} * ${v[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${y}

        ${m}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tK={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class nK{constructor(t,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=On(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${t}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rK="return a * b;";function e6(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,i=Ts(r.dtype,a.dtype);if(r.dtype==="complex64"){const s=n.texData.get(r.dataId),l=n.texData.get(a.dataId),u=new nK(tK.REAL,r.shape,a.shape),c=new nK(tK.IMAG,r.shape,a.shape),f=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:r.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:a.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:a.shape}],d=n.runWebGLProgram(u,f,"float32"),h=n.runWebGLProgram(c,f,"float32"),p=cp({inputs:{real:d,imag:h},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}if(n.shouldExecuteOnCPU([r,a])){const s=n.texData.get(r.dataId),l=n.texData.get(a.dataId),[u,c]=ndt(r.shape,a.shape,s.values,l.values,i),f=n.makeTensorInfo(c,i),d=n.texData.get(f.dataId);return d.values=u,f}let o;return tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?o=new u1(rK,r.shape,a.shape):o=new Cg(rK,r.shape,a.shape),n.runWebGLProgram(o,[r,a],i)}const aht={kernelName:fS,backendName:"webgl",kernelFunc:e6};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iht(e,t,n){const r=[xy(e.shape),...wy(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[xy(t),...wy(t)],o=new $he(i,r),s=!0,l=[r],u=n.runWebGLProgram(o,[a],e.dtype,l,s);return{dataId:u.dataId,shape:t,dtype:u.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,o=n,s=ot(a.shape),l=Dse(i,s),u=ot(l);pe(s===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${a.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`);const c=o.texData.get(a.dataId);return c.isPacked&&!VI(a.shape,l)&&!(c.texture!==null&&VI(c.shape,l))?iht(a,l,o):(o.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype})}const oht={kernelName:kD,backendName:"webgl",kernelFunc:Ot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aK{constructor(t,n){this.variableNames=["x"];const{windowSize:r,batchSize:a,inSize:i,outSize:o}=t;this.outputShape=[a,o];const s=Math.floor(r/4)*4,l=r%4;let u="sumValue += dot(values, ones);";if(n!=null){const f=1/n;u=`sumValue += dot(values * ${fy(f)?f.toPrecision(2):f}, ones);`}let c="";i%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${s}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${s};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sht{constructor(t,n){this.variableNames=["x"];const{windowSize:r,batchSize:a,inSize:i,outSize:o}=t;this.outputShape=[a,o];let s="0.0",l="";n==="prod"?s="1.0":n==="min"?(s="1.0 / 1e-20",l="min"):n==="max"&&(s="-1.0 / 1e-20",l="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const c=Math.floor(r/4)*4,f=r%4;let d=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(s="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(s="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${s};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${s});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${f===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${f===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${f===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${d}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lht(e){const t=[];for(;t.length===0||t[t.length-1].outSize!==1;){const n=t.length?t[t.length-1].outSize:e[1],r=jD(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}function qg(e,t,n,r){const a=lht(e.shape);let i=e;for(let o=0;o<a.length;o++){const{inSize:s,windowSize:l,outSize:u}=a[o];let c,f;n==="mean"?c=o===0?new aK({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},s):new aK({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u}):c=new sht({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},n),f=i,i=r.runWebGLProgram(c,[i],t),f.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(f)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uht{constructor(t,n){this.variableNames=["A"];const r=new Array(t.length);for(let o=0;o<r.length;o++)r[o]=t[n[o]];this.outputShape=r,this.rank=r.length;const a=Br(this.rank),i=cht(n);this.userCode=`
    void main() {
      ${a} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function cht(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fht{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(t.length);for(let c=0;c<r.length;c++)r[c]=t[n[c]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=Br(this.rank),i=Mhe("rc",this.rank),o=new Array(this.rank);for(let c=0;c<n.length;c++)o[n[c]]=i[c];const s=`vec2(${o.slice(-2).join()})`,l=`++${i[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${o.join()}), ${s})`;this.userCode=`
    void main() {
      ${a} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cN(e,t,n){const r=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new fht(e.shape,t):new uht(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dht(e,t,n,r){const a=t,i=e.shape.length,o=jn(a,e.shape);let s=o;const l=da(s,i),u=l!=null;let c=e;u&&(c=cN(e,l,r),s=Ca(s.length,i)),Di("sum",s,i);const[f,d]=mi(c.shape,s);let h=f;n&&(h=Ra(f,o));const p=ot(d),g=ot(e.shape)/p,m=Ot({inputs:{x:c},attrs:{shape:[g,p]},backend:r}),y=dz(e.dtype),b=qg(m,y,"sum",r),x=Ot({inputs:{x:b},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(b),u&&r.disposeIntermediateTensorInfo(c),x}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fN(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;return dht(a,i,o,n)}const hht={kernelName:RD,backendName:"webgl",kernelFunc:fN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _o(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{perm:i}=r,o=n,s=a.shape.length,l=new Array(s);for(let c=0;c<l.length;c++)l[c]=a.shape[i[c]];let u;if(o.shouldExecuteOnCPU([a])){const f=o.texData.get(a.dataId).values,d=J8(f,a.shape,a.dtype,i,l);u=o.makeTensorInfo(l,a.dtype);const h=o.texData.get(u.dataId);h.values=d}else u=cN(a,i,o);return u}const pht={kernelName:Rm,backendName:"webgl",kernelFunc:_o};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vhe=1e3;function zI({a:e,b:t,transposeA:n,transposeB:r,backend:a,bias:i=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}){const u=e.shape.length,c=t.shape.length,f=n?e.shape[u-2]:e.shape[u-1],d=r?t.shape[c-1]:t.shape[c-2],h=n?e.shape[u-1]:e.shape[u-2],p=r?t.shape[c-2]:t.shape[c-1],v=e.shape.slice(0,-2),g=t.shape.slice(0,-2),m=ot(v),y=ot(g),x=On(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([h,p]);pe(f===d,()=>`Error in matMul: inner shapes (${f}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`);const _=n?[m,f,h]:[m,h,f],S=r?[y,p,d]:[y,d,p],C=Ot({inputs:{x:e},backend:a,attrs:{shape:_}}),k=Ot({inputs:{x:t},backend:a,attrs:{shape:S}}),T=[C,k],E=Math.max(m,y),I=n?C.shape[1]:C.shape[2],A=i!=null,N=o!=null,L=l==="leakyrelu",R=l!=null?Sw(l,!0):null,D=A||N||L||R!=null;let P;if((h===1||p===1)&&I>Vhe&&D===!1){let M=C,W=k;n&&(M=_o({inputs:{x:C},backend:a,attrs:{perm:[0,2,1]}}),T.push(M)),r&&(W=_o({inputs:{x:k},backend:a,attrs:{perm:[0,2,1]}}),T.push(W));const U=p!==1,V=p===1;let H=M;U&&(H=Ot({inputs:{x:M},backend:a,attrs:{shape:[E,I,1]}}),T.push(H));const K=p===1?2:1;let j=W;V&&(j=Ot({inputs:{x:W},backend:a,attrs:{shape:[E,1,I]}}),T.push(j));const ne=e6({inputs:{a:H,b:j},backend:a});P=fN({inputs:{x:ne},backend:a,attrs:{axis:K,keepDims:!0}}),T.push(ne)}else{const M=Ts(e.dtype,t.dtype),W=new Bhe(_,S,[E,h,p],n,r,A,R,N,L),U=[C,k];if(i!=null&&U.push(i),N&&U.push(o),L){const V=a.makeTensorInfo([],"float32",tp(s,"float32"));U.push(V),T.push(V)}P=a.runWebGLProgram(W,U,M)}const O=Ot({inputs:{x:P},backend:a,attrs:{shape:x}});T.push(P);for(const M of T)a.disposeIntermediateTensorInfo(M);return O}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vht(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:i,bias:o,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;return zI({a,b:i,transposeA:l,transposeB:u,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:f,activation:c})}const ght={kernelName:vI,backendName:"webgl",kernelFunc:vht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iK="return abs(x);";function mht(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),o=Nhe(i.values);return n.makeTensorInfo(r.shape,r.dtype,o)}let a;return tt().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new qd(r.shape,iK):a=new bc(r.shape,iK),n.runWebGLProgram(a,[r],r.dtype)}const yht={kernelName:BA,backendName:"webgl",kernelFunc:mht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bht=Gl+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,xht=mr({opSnippet:bht}),wht={kernelName:O_,backendName:"webgl",kernelFunc:xht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ht=Gl+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,Sht=mr({opSnippet:_ht}),Cht={kernelName:P_,backendName:"webgl",kernelFunc:Sht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oK="return a + b;",Tht=Ni({opSnippet:oK,packedOpSnippet:oK,supportsComplex:!0,cpuKernelImpl:Lft}),kht={kernelName:Qy,backendName:"webgl",kernelFunc:Tht};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Iht{constructor(t,n){this.outputShape=[],this.outputShape=t,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const a=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${a};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Eht{constructor(t,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const a=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${a};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dk(e){const{inputs:t,backend:n}=e,r=t;if(r.length===1)return Is({inputs:{x:r[0]},backend:n});if(r.length>tt().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),u=dk({inputs:r.slice(0,l),backend:n}),c=dk({inputs:r.slice(l),backend:n});return dk({inputs:[u,c],backend:n})}const a=r.map(l=>l.dtype).reduce((l,u)=>Ts(l,u)),i=r.map(l=>l.shape),s=tt().getBool("WEBGL_PACK")?new Eht(r[0].shape,i):new Iht(r[0].shape,i);return n.runWebGLProgram(s,r,a)}const Aht={kernelName:TV,backendName:"webgl",kernelFunc:dk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=a.shape.length,l=jn(i,a.shape);let u=l;const c=da(u,s);let f=a;c!=null&&(f=_o({inputs:{x:a},backend:n,attrs:{perm:c}}),u=Ca(u.length,s)),Di("all",u,s);const[d,h]=mi(f.shape,u),p=ot(h),v=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),g=qg(v,v.dtype,"all",n);let m;if(o){const y=Ra(d,l);m=Ot({inputs:{x:g},backend:n,attrs:{shape:y}})}else m=Ot({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),m}const Nht={kernelName:kV,backendName:"webgl",kernelFunc:Dht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=a.shape.length,l=jn(i,a.shape);let u=l;const c=da(u,s);let f=a;c!=null&&(f=_o({inputs:{x:a},backend:n,attrs:{perm:c}}),u=Ca(u.length,s)),Di("any",u,s);const[d,h]=mi(f.shape,u),p=ot(h),v=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),g=qg(v,v.dtype,"any",n);let m;if(o){const y=Ra(d,l);m=Ot({inputs:{x:g},backend:n,attrs:{shape:y}})}else m=Ot({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),m}const Mht={kernelName:IV,backendName:"webgl",kernelFunc:Rht};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $ht{constructor(t,n,r){this.variableNames=["A"];const{windowSize:a,batchSize:i,outSize:o}=t;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];const s=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${a};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${a}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${s} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lht{constructor(t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,pe(t.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=t[t.length-1],o=Math.ceil(i/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");const s=this.outputShape,l=s.length,u=Br(l),c=vo("coords",l);let f,d;if(o===1){d=l+1;const k=Br(d);f=`
        ${k} sourceLocR = ${k}(${c.join()}, 0);
        ++${c[l-1]};
        ${k} sourceLocG = ${k}(${c.join()}, 0);
        ++${c[l-2]};
        ${k} sourceLocA = ${k}(${c.join()}, 0);
        --${c[l-1]};
        ${k} sourceLocB = ${k}(${c.join()}, 0);
        --${c[l-2]};`}else d=l,f=`
        ${u} sourceLocR = coords;
        ++${c[l-1]};
        ${u} sourceLocG = coords;
        ++${c[l-2]};
        ${u} sourceLocA = coords;
        --${c[l-1]};
        ${u} sourceLocB = coords;
        --${c[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],v=h.map(k=>"int "+k),g=vo("sourceLocR",d-1).concat("inIdx.r"),m=vo("sourceLocG",d-1).concat("inIdx.g"),y=vo("sourceLocB",d-1).concat("inIdx.b"),b=vo("sourceLocA",d-1).concat("inIdx.a"),x=r==="max"?"greaterThan":"lessThan",_=a?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${b.join()})));`,S=`vec4(
            getAChannel(${g.join()}),
            hasNextCol ? getAChannel(${m.join()}) : 0.,
            hasNextRow ? getAChannel(${y.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,C=a?"":`
      float getBestIndicesAChannel(${v.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${v.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${C}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${c[l-1]} < ${s[l-1]-1};
        bool hasNextRow = ${c[l-2]} < ${s[l-2]-1};
        ${f}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${S};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${_}
          vec4 candidate = ${S};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${x}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zhe(e,t,n,r=null){let a=t.shape[0],i=t.shape[1];r!=null&&(a=r.shape[0],i=r.shape[1]);const o=jD(i),s={windowSize:o,inSize:i,batchSize:a,outSize:Math.ceil(i/o)},l=new $ht(s,n,r==null),u=[t];r!=null&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;const f=zhe(e,t,n,c);return e.disposeIntermediateTensorInfo(c),f}function Whe(e,t,n,r=null){const a=r!=null?r.shape:t.shape,i=a[a.length-1],o=jD(i),s=new Lht(a,o,n,r==null),l=r==null?[t]:[t,r],u=e.runWebGLProgram(s,l,"int32");if(u.shape.length===t.shape.length){const c=Whe(e,t,n,u);return e.disposeIntermediateTensorInfo(u),c}return u}function Hhe(e,t,n,r){const a=[n];if(Di("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!tt().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const i=[],o=e.texData.get(t.dataId),s=o!==null&&o.isPacked;let l=t;s&&(l=e.unpackTensor(t),i.push(l));const[u,c]=mi(l.shape,a),f=ot(c),d=Ot({inputs:{x:l},backend:e,attrs:{shape:[-1,f]}});i.push(d);const h=zhe(e,d,r);i.push(h);const p=Ot({inputs:{x:h},backend:e,attrs:{shape:u}});return i.forEach(v=>e.disposeIntermediateTensorInfo(v)),p}return Whe(e,t,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;let o=jn(i,a.shape);const s=da(o,a.shape.length);let l=a;const u=[];s!=null&&(l=_o({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=Ca(o.length,l.shape.length)),Di("argMax",[o[0]],l.shape.length);const c=Hhe(n,l,o[0],"max");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}const Pht={kernelName:VA,backendName:"webgl",kernelFunc:Oht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;let o=jn(i,a.shape);const s=da(o,a.shape.length);let l=a;const u=[];s!=null&&(l=_o({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=Ca(o.length,l.shape.length)),Di("argMin",[o[0]],l.shape.length);const c=Hhe(n,l,o[0],"min");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}const Bht={kernelName:zA,backendName:"webgl",kernelFunc:Fht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vht=Gl+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,zht=mr({opSnippet:Vht}),Wht={kernelName:F_,backendName:"webgl",kernelFunc:zht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hht=Gl+"return log(x + sqrt(x * x + 1.0));",Uht=mr({opSnippet:Hht}),Ght={kernelName:B_,backendName:"webgl",kernelFunc:Uht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kht=Gl+`
  return atan(x);
`,jht=mr({opSnippet:Kht}),Yht={kernelName:V_,backendName:"webgl",kernelFunc:jht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xht=Q8+`
  return atan(a, b);
`,qht=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Xg+`
  return result;
`,Zht=Ni({opSnippet:Xht,packedOpSnippet:qht}),Jht={kernelName:W_,backendName:"webgl",kernelFunc:Zht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qht=Gl+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,ept=mr({opSnippet:Qht}),tpt={kernelName:z_,backendName:"webgl",kernelFunc:ept};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cw{constructor(t,n,r,a=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=t.filterWidth,s=t.strideHeight,l=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;const v=n==="avg",g=`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`,m=`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`;let y="0.0";if(v||(y="-1.0 / 1e-20"),r){const k=">=";this.userCode=`
        const ivec2 strides = ivec2(${s}, ${l});
        const ivec2 pads = ivec2(${h}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${k} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${a?i?g:m:`wR * ${d} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const b="max";let x=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(x="avgValue / max(count, 1.0)");const _=Math.floor(o/4)*4,S=o%4,C=`
      if (${v}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${b}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${l});
      const ivec2 pads = ivec2(${h}, ${p});
      const float initializationValue = ${y};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${y});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${f};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${_}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${C}
          }

          int xC = xCCorner + ${_};
          if (${S===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${C}
          } else if (${S===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${C}
          } else if (${S===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${C}
          }
        }
        setOutput(${x});
      }
    `}}class t6{constructor(t,n,r,a=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=t.filterWidth,s=t.strideDepth,l=t.strideHeight,u=t.strideWidth,c=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,p=t.effectiveFilterHeight,v=t.effectiveFilterWidth,g=t.padInfo.front,m=t.padInfo.top,y=t.padInfo.left;this.outputShape=t.outShape;const b=n==="avg";let x="0.0";if(b||(x="-1.0 / 1e-20"),r){const E=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${s}, ${l}, ${u});
        const ivec3 pads = ivec3(${g}, ${m}, ${y});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${t.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${f}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${v};
                  wC += ${d}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${E} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${a?i?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${p} * ${v} +
                      wR * ${v} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const _="max";let S=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(S="avgValue / max(count, 1.0)");const C=Math.floor(o/4)*4,k=o%4,T=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${_}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${s}, ${l}, ${u});
      const ivec3 pads = ivec3(${g}, ${m}, ${y});
      const float initializationValue = ${x};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${x});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${f}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${C}; wC += 4) {
              int xC = xCCorner + wC * ${d};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                getValue(batch, xD, xR, xC + 3 * ${d}, ch)
              );

              ${T}
            }

            int xC = xCCorner + ${C};
            if (${k===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${k===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${k===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                initializationValue
              );

              ${T}
            }
          }
        }
        setOutput(${S});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;ZS(a,"avgPool");const{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=r,u=1;pe(Zi(o,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Hl(a.shape,i,o,u,s,l);if(c.filterWidth===1&&c.filterHeight===1&&Er(c.inShape,c.outShape))return Is({inputs:{x:a},backend:n});const f=new Cw(c,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}const rpt={kernelName:WA,backendName:"webgl",kernelFunc:npt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function apt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:o,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=[1,1,1],f=fd(a.shape,i,o,c,s,l,u),d=new t6(f,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}const ipt={kernelName:HA,backendName:"webgl",kernelFunc:apt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class opt{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,l=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=l-1-t.padInfo.top,f=u-1-t.padInfo.left,d=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${f});
      const float avgMultiplier = float(${d});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${s}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class spt{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,p=f-1-t.padInfo.front,v=d-1-t.padInfo.top,g=h-1-t.padInfo.left,m=1/(n*r*a);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${v}, ${g});
      const float avgMultiplier = float(${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${f};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${d};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lpt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,o=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=fd(o.shape,s,l,f,u,c),h=new spt(d);return n.runWebGLProgram(h,[a],o.dtype)}const upt={kernelName:AV,backendName:"webgl",kernelFunc:lpt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cpt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,o=i;ZS([a,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=Hl(o.shape,s,l,1,u),f=new opt(c);return n.runWebGLProgram(f,[a],o.dtype)}const fpt={kernelName:EV,backendName:"webgl",kernelFunc:cpt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dpt(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:i}=t,{transposeA:o,transposeB:s}=r;return zI({a,b:i,transposeA:o,transposeB:s,backend:n})}const hpt={kernelName:UA,backendName:"webgl",kernelFunc:dpt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ppt{constructor(t,n,r,a,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],On(t,n),On(t,r);let s="0.0";a!=null&&(On(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let l="1.0";i!=null&&(On(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${s};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${o}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vpt{constructor(t,n,r,a,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],On(t,n),On(t,r);let s="vec4(0.0)";a!=null&&(On(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let l="vec4(1.0)";i!=null&&(On(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = ${s};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${o}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gpt=({inputs:e,backend:t,attrs:n})=>{const{x:r,mean:a,variance:i,offset:o,scale:s}=e;pe(a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),pe(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),pe(s==null||a.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=[r,a,i];let c=null;o!=null&&(c=o.shape,u.push(o));let f=null;s!=null&&(f=s.shape,u.push(s));const d=tt().getBool("WEBGL_PACK_NORMALIZATION")?new vpt(r.shape,a.shape,i.shape,c,f,l):new ppt(r.shape,a.shape,i.shape,c,f,l);return t.runWebGLProgram(d,u,u[0].dtype)},mpt={kernelName:nD,backendName:"webgl",kernelFunc:gpt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ypt{constructor(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;const n=Br(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=bpt(this.rank);let a;const i=t.map((o,s)=>`sourceLoc.${nF[s]} = start[${s}] + coords.${nF[s]};`);a=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${a}
        setOutput(getSource(${r}));
      }
    `}}const nF=["x","y","z","w","u","v"];function bpt(e){if(e===1)return"sourceLoc";if(e<=6)return nF.slice(0,e).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xpt{constructor(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Br(this.rank),r=vo("coords",this.rank),a=vo("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${a.slice(-2).join()})`,o=`getChannel(getSource(${a.join()}), ${i})`,s=`
      result.x = ${o};
      if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
        ++${a[this.rank-1]};
        result.y = ${o};
        --${a[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${t[this.rank-2]}) {
        ++${a[this.rank-2]};
        result.z = ${o};
        if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
          ++${a[this.rank-1]};
          result.w = ${o};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${t.map((c,f)=>`start[${f}]`).join()});`:t.map((c,f)=>`${a[f]} = ${r[f]} + start[${f}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${s}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wpt(e,t,n,r){const a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),o=r.texData.get(i.dataId);Object.assign(o,a),o.refCount=1,o.shape=n,o.dtype=e.dtype;let s=qz(t,dn(e.shape));a.slice&&(s+=a.slice.flatOffset),o.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};const l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),i}function f1(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:o}=r,[s,l]=KD(a,i,o);if(jz(a,s,l),ot(l)===0)return n.makeTensorInfo(l,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||a.dtype==="string"){const f=n.texData.get(a.dataId),d=hdt(f.values,s,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,d)}const{isPacked:u}=n.texData.get(a.dataId),c=Xz(a.shape,s,l);if(u||!c){const f=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xpt(l):new ypt(l),d=[s];return n.runWebGLProgram(f,[a],a.dtype,d)}return n.uploadToGPU(a.dataId),wpt(a,s,l,n)}const _pt={kernelName:ND,backendName:"webgl",kernelFunc:f1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Spt=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:o}=r;pe(a.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const s=i.reduce((y,b)=>y*b),l=FS(a.shape,i,s),u=BS(l.length,i.length),c=VS(a.shape,i,s),f=t8(o,i.length),d=n8(c,o,i.length),h=[],p=Ot({inputs:{x:a},backend:n,attrs:{shape:l}}),v=_o({inputs:{x:p},backend:n,attrs:{perm:u}}),g=Ot({inputs:{x:v},backend:n,attrs:{shape:c}}),m=f1({inputs:{x:g},backend:n,attrs:{begin:f,size:d}});return h.push(p),h.push(v),h.push(g),h.forEach(y=>n.disposeIntermediateTensorInfo(y)),m},Cpt={kernelName:GA,backendName:"webgl",kernelFunc:Spt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tpt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:o}=r,s=n.readSync(a.dataId),l=n.readSync(i.dataId),u=Dhe(s,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}const kpt={kernelName:DV,backendName:"webgl",kernelFunc:Tpt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ipt=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,Ept=`
  return float(int(a.r) & int(b.r));
`;function Apt(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,i=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS"),o=tt().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,a])||o===1){const l=n.texData.get(r.dataId).values,u=n.texData.get(a.dataId).values,[c,f]=Pft(r.shape,a.shape,l,u,r.dtype),d=n.makeTensorInfo(f,r.dtype),h=n.texData.get(d.dataId);return h.values=c,d}let s;return i?s=new u1(Ipt,r.shape,a.shape,!1):s=new Cg(Ept,r.shape,a.shape),n.runWebGLProgram(s,[r,a],r.dtype)}const Dpt={kernelName:NV,backendName:"webgl",kernelFunc:Apt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npt(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.readSync(r.dataId),o=n.readSync(a.dataId),s=On(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}const Rpt={kernelName:Ose,backendName:"webgl",kernelFunc:Npt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mpt="return float(a != b);",Uhe=Ni({opSnippet:Mpt,cpuKernelImpl:adt,dtype:"bool"}),$pt={kernelName:bD,backendName:"webgl",kernelFunc:Uhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QS(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.texData.get(r.dataId);return Is({inputs:{x:a.complexTensorInfos.real},backend:n})}const Lpt={kernelName:nz,backendName:"webgl",kernelFunc:QS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Opt="return float(int(x));";function Ppt(e,t){const n=new bc(e.shape,Opt),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rF(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:i}=r;if(i==="complex64"){if(a.dtype==="complex64")return Is({inputs:{x:a},backend:n});const o=ni(a.shape),s=rF({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=cp({inputs:{real:s,imag:o},backend:n});return o.dispose(),n.disposeIntermediateTensorInfo(s),l}if(a.dtype==="complex64"){const o=QS({inputs:{input:a},backend:n}),s=rF({inputs:{x:o},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(o),s}if(!Nse(a.dtype,i)){const o=Is({inputs:{x:a},backend:n});return{dataId:o.dataId,shape:o.shape,dtype:i}}if(n.shouldExecuteOnCPU([a])){const o=n.texData.get(a.dataId).values,[s,l,u]=Fft(o,a.shape,a.dtype,i);return n.makeTensorInfo(s,l,u)}if(i==="int32")return Ppt(a,n);if(i==="bool"){const o=n.makeTensorInfo([],"bool",Ui("bool",1)),l=Uhe({inputs:{a,b:o},backend:n});return n.disposeIntermediateTensorInfo(o),l}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${i}`)}const Fpt={kernelName:H_,backendName:"webgl",kernelFunc:rF};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sK="return ceil(x);",Bpt=mr({opSnippet:sK,packedOpSnippet:sK,cpuKernelImpl:Bft}),Vpt={kernelName:U_,backendName:"webgl",kernelFunc:Bpt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zpt{constructor(t){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wpt{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hpt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:i,clipValueMax:o}=r;let s;tt().getBool("WEBGL_PACK_CLIP")?s=new Wpt(a.shape):s=new zpt(a.shape);const l=[[i],[o]];return n.runWebGLProgram(s,[a],a.dtype,l)}const Upt={kernelName:G_,backendName:"webgl",kernelFunc:Hpt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gpt{constructor(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lK(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function Kpt(e){const{inputs:t,backend:n}=e,{x:r}=t,a=n.texData.get(r.dataId),i=new Gpt(r.shape),o=[lK(r,a.complexTensorInfos.real),lK(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}const jpt={kernelName:KA,backendName:"webgl",kernelFunc:Kpt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ypt{constructor(t){this.outputShape=[],this.outputShape=Ec(t,1),this.variableNames=t.map((o,s)=>`T${s}`);const n=new Array(t.length-1);n[0]=t[0][1];for(let o=1;o<n.length;o++)n[o]=n[o-1]+t[o][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let o=1;o<n.length;o++){const s=n[o-1];r.push(`else if (yC < ${n[o]}) setOutput(getT${o}(yR, yC-${s}));`)}const a=n.length,i=n[n.length-1];r.push(`else setOutput(getT${a}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xpt{constructor(t,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Ec(t,n);const r=this.outputShape,a=r.length,i=Br(a),o=vo("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((v,g)=>`T${g}`);const l=new Array(t.length-1);l[0]=t[0][n];for(let v=1;v<l.length;v++)l[v]=l[v-1]+t[v][n];const u=s[n],c=s.slice(-2),f=s.join();let d=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${f}), vec2(${c.join()}));
        }`;for(let v=1;v<l.length;v++){const g=l[v-1];d+=`
        if (${u} < ${l[v]}  && ${u} >= ${l[v-1]}) {
          return getChannel(
            getT${v}(${f2(s,u,g)}),
            vec2(${f2(c,u,g)}));
        }`}const h=l.length,p=l[l.length-1];d+=`
        return getChannel(
          getT${h}(${f2(s,u,p)}),
          vec2(${f2(c,u,p)}));`,this.userCode=`
      float getValue(${s.map(v=>"int "+v)}) {
        ${d}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${o}), 0., 0., 0.);

        ${o[a-1]} = ${o[a-1]} + 1;
        if (${o[a-1]} < ${r[a-1]}) {
          result.g = getValue(${o});
        }

        ${o[a-2]} = ${o[a-2]} + 1;
        if (${o[a-2]} < ${r[a-2]}) {
          result.a = getValue(${o});
        }

        ${o[a-1]} = ${o[a-1]} - 1;
        if (${o[a-2]} < ${r[a-2]} &&
            ${o[a-1]} < ${r[a-1]}) {
          result.b = getValue(${o});
        }
        setOutput(result);
      }
    `}}function f2(e,t,n){const r=e.indexOf(t);return e.map((i,o)=>o===r?`${i} - ${n}`:i).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dN(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.texData.get(r.dataId);return Is({inputs:{x:a.complexTensorInfos.imag},backend:n})}const qpt={kernelName:YV,backendName:"webgl",kernelFunc:dN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rb(e,t,n){const r=e[0].dtype;if(r==="complex64"){const h=e.map(y=>QS({inputs:{input:y},backend:n})),p=e.map(y=>dN({inputs:{input:y},backend:n})),v=Rb(h,t,n),g=Rb(p,t,n),m=cp({inputs:{real:v,imag:g},backend:n});return h.forEach(y=>n.disposeIntermediateTensorInfo(y)),p.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),m}let a=n.shouldExecuteOnCPU(e);if(r==="string"&&(a=!0),a){const h=e.map(x=>{const S=[-1,ot(x.shape.slice(t))];return Ot({inputs:{x},backend:n,attrs:{shape:S}})}),p=h.map(x=>({vals:n.readSync(x.dataId),shape:x.shape})),v=Ec(h.map(x=>x.shape),1),g=h[0].shape[0]===1,m=Vft(p,v,r,g),y=Ec(e.map(x=>x.shape),t),b=n.makeTensorInfo(y,r,m);return h.forEach(x=>n.disposeIntermediateTensorInfo(x)),b}const i=e.filter(h=>ot(h.shape)>0),o=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){const h=o?new bc(e[0].shape,zd):new qd(e[0].shape,zd);return n.runWebGLProgram(h,e,r)}const s=tt().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>s){const h=[];for(let v=0;v<i.length;v+=s){const g=i.slice(v,v+s);h.push(Rb(g,t,n))}const p=Rb(h,t,n);for(const v of h)n.disposeIntermediateTensorInfo(v);return p}if(o){const h=new Xpt(i.map(p=>p.shape),t);return n.runWebGLProgram(h,i,r)}const{tensors2D:l,outShape:u}=Zpt(i,t,n),c=new Ypt(l.map(h=>h.shape)),f=n.runWebGLProgram(c,l,r);l.forEach(h=>n.disposeIntermediateTensorInfo(h));const d=Ot({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),d}function Zpt(e,t,n){const r=Ec(e.map(i=>i.shape),t);return{tensors2D:e.map(i=>Ot({inputs:{x:i},attrs:{shape:[-1,ot(i.shape.slice(t))]},backend:n})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ghe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=jn(a,t[0].shape)[0],o=t.map(u=>u.shape);Jz(o,i);const s=Ec(t.map(u=>u.shape),i);if(ot(s)===0)return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter(u=>ot(u.shape)>0);return l.length===1?Is({inputs:{x:l[0]},backend:n}):Rb(l,i,n)}const Jpt={kernelName:jA,backendName:"webgl",kernelFunc:Ghe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Khe{constructor(t,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.outputShape=t.outShape;const o=t.padInfo.top,s=t.padInfo.left,l=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,p=Math.floor(t.inChannels/4)*4,v=t.inChannels%4,g=t.dataFormat==="channelsLast",m=g?1:2,y=g?2:3,b=g?3:1;let x="",_="";r&&(a?x=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?x=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:x=`
          float activation(float x) {
            ${r}
          }
        `,_="result = activation(result);");const S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${x}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${o}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${b}];

        ivec2 xRCCorner =
            ivec2(coords[${m}], coords[${y}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${d}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${f};

            if (xC < 0 || xC >= ${t.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${g}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${v===1}) {

              if (${g}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${v===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${g}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${v===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${g}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${S}
        ${_}
        setOutput(result);
      }
    `}}class Qpt{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,p=Math.floor(t.inChannels/4)*4,v=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${o}, ${s});
      const ivec3 pads = ivec3(${n}, ${r}, ${a});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${f}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${d}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${v===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${v===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${v===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jhe{constructor(t,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Qi(this.outputShape.length);const o=t.padInfo.left,s=t.strideWidth,l=t.dilationWidth,u=t.filterHeight,c=t.filterWidth,f=c;let d=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<c;g++)d+=`
           vec4 xTexelC${g*2};
           int xTexelC${g*2}Ready;
           vec4 xTexelC${g*2+1};
           int xTexelC${g*2+1}Ready;
           vec4 xC${g};`;d+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${t.inChannels}; d1 += 2) {
       `;for(let g=0;g<c;g++)d+=`
           xTexelC${g*2} = vec4(0.0);
           xTexelC${g*2}Ready = 0;
           xTexelC${g*2+1} = vec4(0.0);
           xTexelC${g*2+1}Ready = 0;
           xC${g} = vec4(0.0);`;d+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let g=0;g<(f+1)/2;g++){const m=g*2;if(d+=`
           xC = xCCorner + ${m*l};
           `,s===1){if(m<c&&(o%2===1?(d+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }
               `,l===1&&m>0?d+=`
                 xC${m} = vec4(xTexelC${m-2}.zw, xTexelC${m}.xy);
                 `:d+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${m} = vec4(previous.zw, xTexelC${m}.xy);
                   } else {
                     xC${m} = vec4(0.0, 0.0, xTexelC${m}.xy);
                   }
                   `):d+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 xC${m} = xTexelC${m};
                 `,m+1<c)){const y=o%2===0?bV(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(d+=`
                   xCOffset = xC + imod(pads[1], 2) + ${y};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                     xTexelC${m+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${m+1}.zw = vec2(0.0);
                     }
                     xTexelC${m+1}Ready = 1;
                   }
                   `,l>1?d+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${m+1} = vec4(previous.zw, xTexelC${m+1}.xy);
                     } else {
                      xC${m+1} = vec4(0.0, 0.0, xTexelC${m+1}.xy);
                     }
                     `:d+=`
                     xC${m+1} = vec4(xTexelC${m}.zw, xTexelC${m+1}.xy);
                     `):y===1?d+=`
                     xC${m+1} = xTexelC${m};
                     `:d+=`
                     xCOffset = xC + ${y};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                       xTexelC${m+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${m+1}.zw = vec2(0.0);
                       }
                       xTexelC${m+1}Ready = 1;
                     }

                     xC${m+1} = xTexelC${m+1};
                     `}}else m<c&&(o%2===1?(d+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${m+1}Ready == 0) {
                   xTexelC${m+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${m+1}.zw = vec2(0.0);
                   }
                   xTexelC${m+1}Ready = 1;
                 }

                 xC${m} = vec4(xTexelC${m}.zw, xTexelC${m+1}.zw);
               `,m+1<c&&(d+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${m+1} = vec4(xTexelC${m+1}.xy, final.xy);
                 `)):(d+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                   xTexelC${m+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m+1}.zw = vec2(0.);
                   }
                   xTexelC${m+1}Ready = 1;
                 }

                 xC${m} = vec4(
                   xTexelC${m}.xy, xTexelC${m+1}.xy);
               `,m+1<c&&(d+=`
                   xC${m+1} = vec4(xTexelC${m}.zw, xTexelC${m+1}.zw);
                 `)));m<c&&(d+=`
             wTexel = getW(r, ${m}, d1, d2);
             dotProd += xC${m}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${t.inChannels}) {
               dotProd += xC${m}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,m+1<c&&(d+=`
               wTexel = getW(r, ${m+1}, d1, d2);
               dotProd += xC${m+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${t.inChannels}) {
                 dotProd += xC${m+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}d+=`
     }
   `,d+=`
     }
   `,d+=`
     }
   `;let h="",p="";r&&(a?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:h=`vec4 activation(vec4 x) {
           ${r}
         }`,p="result = activation(result);");const v=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${d}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${v}
         ${p}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class evt{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);const{dataFormat:r}=n,a=ko(),i=r==="channelsLast",o=i?1:2,s=i?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${t[2]} && pos < ${t[1]}) {`;let u="";for(let c=0;c<=1;c++)for(let f=0;f<=1;f++)u+=`
          blockIndex = rc.z + ${f};
          pos = rc.y + ${c};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${o}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${s}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+f}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+f}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${a.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WI(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&n===1&&e[0]>1?[e[0],1]:null}function Yhe({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:s=null}){const l=e.shape,u=r.texData.get(e.dataId),c=n.inChannels,f=l[0]*l[1]*l[2],d=n.outChannels,h=n.dataFormat==="channelsLast",p=!1,v=!1;let g;const m=[];if(i!=null){const x=WI(i.shape,h);x!=null&&(i=Ot({inputs:{x:i},backend:r,attrs:{shape:x}}),m.push(i))}if(a!=null){const x=WI(a.shape,h);x!=null&&(a=Ot({inputs:{x:a},backend:r,attrs:{shape:x}}),m.push(a))}if(!((f===1||d===1)&&c>Vhe)&&u.isPacked&&h&&u.texture!=null&&l[2]%2!==0&&Er(u.shape.slice(-3),l.slice(-3))){const x=l[0]*l[1]*(l[2]+1),_={dataId:e.dataId,shape:[1,x,n.inChannels],dtype:e.dtype},S=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,pe(VI(u.shape,_.shape),()=>`packed reshape ${u.shape} to ${_.shape} isn't free`);const C=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});m.push(C);const k=zI({a:_,b:C,backend:r,transposeA:p,transposeB:v,bias:a,activation:s,preluActivationWeights:i,leakyreluAlpha:o}),T=r.texData.get(k.dataId);pe(T.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=S,T.shape=n.outShape,g=Is({inputs:{x:k},backend:r}),g.shape=n.outShape,m.push(k)}else{const x=n.outHeight*n.outWidth,_=Ot({inputs:{x:e},backend:r,attrs:{shape:h?[n.batchSize,x,n.inChannels]:[n.batchSize,n.inChannels,x]}}),S=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),C=zI({a:h?_:S,b:h?S:_,transposeA:!h,transposeB:v,backend:r,bias:a,activation:s,preluActivationWeights:i,leakyreluAlpha:o});g=Ot({inputs:{x:C},backend:r,attrs:{shape:n.outShape}}),m.push(_),m.push(S),m.push(C)}for(const x of m)r.disposeIntermediateTensorInfo(x);return g}function Xhe({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:s=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:f,outHeight:d,dataFormat:h}=n,p=h==="channelsLast",v=l*u*c,g=d*f,m=[n.batchSize,v,g],y=!0,b=!1,x=[];if(i!=null){const O=WI(i.shape,p);O!=null&&(i=Ot({inputs:{x:i},backend:r,attrs:{shape:O}}),x.push(i))}if(a!=null){const O=WI(a.shape,p);O!=null&&(a=Ot({inputs:{x:a},backend:r,attrs:{shape:O}}),x.push(a))}const _=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,v,ot(t.shape)/v]}});x.push(_);const S=new evt(m,n),C=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=r.runWebGLProgram(S,[e],"float32",C),T=Ot({inputs:{x:k},backend:r,attrs:{shape:m}});x.push(k),x.push(T);const E=a!=null,I=i!=null,A=s==="leakyrelu",N=s?Sw(s,!0):null,L=new Bhe(p?T.shape:_.shape,p?_.shape:T.shape,p?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],y,b,E,N,I,A),R=p?[T,_]:[_,T];if(a&&R.push(a),I&&R.push(i),A){const O=r.makeTensorInfo([],"float32",tp(o,"float32"));R.push(O),x.push(O)}const D=r.runWebGLProgram(L,R,"float32"),P=Ot({inputs:{x:D},backend:r,attrs:{shape:n.outShape}});x.push(D);for(const O of x)r.disposeIntermediateTensorInfo(O);return P}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r,f=dd(l),d=Ai(a.shape,i.shape,o,u,s,c,!1,f);let h;if(d.filterHeight===1&&d.filterWidth===1&&d.dilationHeight===1&&d.dilationWidth===1&&d.strideHeight===1&&d.strideWidth===1&&(d.padInfo.type==="SAME"||d.padInfo.type==="VALID"))h=Yhe({x:a,filter:i,convInfo:d,backend:n});else if(d.strideWidth<=2&&f==="channelsLast"&&tt().getBool("WEBGL_EXP_CONV")){const v=new jhe(d),g=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];h=n.runWebGLProgram(v,[a,i],"float32",g)}else if(tt().getBool("WEBGL_CONV_IM2COL"))h=Xhe({x:a,filter:i,convInfo:d,backend:n});else{const v=new Khe(d);h=n.runWebGLProgram(v,[a,i],"float32")}const p=Ot({inputs:{x:h},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(h),p}const nvt={kernelName:YA,backendName:"webgl",kernelFunc:tvt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rvt{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${a};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              ${o?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class avt{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dataFormat==="channelsLast",s=n-1-t.padInfo.top,l=r-1-t.padInfo.left,u=o?1:2,c=o?2:3,f=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${f}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {

              if (${o}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class ivt{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yF = 0; yF < ${t.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${t.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${t.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${o};

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${t.outWidth}; yC++) {
                int xC = wC + yC * ${a} - ${s};

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class ovt{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=n-1-t.padInfo.front,u=r-1-t.padInfo.top,c=a-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${a}; wC++) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${a} - 1 - wC;

              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function svt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,f=dd(l),d=Ai(a.shape,c,o,1,s,u,!1,f),h=new rvt(d);return n.runWebGLProgram(h,[a,i],"float32")}const lvt={kernelName:MV,backendName:"webgl",kernelFunc:svt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uvt{constructor(t){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=Qi(this.outputShape.length);const n=t.filterHeight,r=t.filterWidth,a=n-1-t.padInfo.top,i=r-1-t.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${t.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${t.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cvt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:o,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r,f=dd(u),d=Ai(o,i.shape,s,1,l,c,!1,f);if(tt().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&f==="channelsLast"){const h=[[d.strideHeight,d.strideWidth]],p=new uvt(d);return n.runWebGLProgram(p,[a,i],"float32",h)}else{const h=new avt(d);return n.runWebGLProgram(h,[a,i],"float32")}}const fvt={kernelName:XA,backendName:"webgl",kernelFunc:cvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l}=r,u=rp(a.shape,i.shape,o,l,s),c=new Qpt(u);return n.runWebGLProgram(c,[a,i],"float32")}const hvt={kernelName:qA,backendName:"webgl",kernelFunc:dvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,pad:s,filterShape:l}=r,u=rp(a.shape,l,o,1,s),c=new ivt(u);return n.runWebGLProgram(c,[a,i],"float32")}const vvt={kernelName:$V,backendName:"webgl",kernelFunc:pvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gvt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:o,strides:s,inputShape:l}=r,u=rp(l,i.shape,s,1,o),c=new ovt(u);return n.runWebGLProgram(c,[a,i],"float32")}const mvt={kernelName:LV,backendName:"webgl",kernelFunc:gvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yvt=c1+`
  return cos(x);
`,bvt=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${Xg}
  return result;
`,xvt=mr({opSnippet:yvt,packedOpSnippet:bvt}),wvt={kernelName:K_,backendName:"webgl",kernelFunc:xvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _vt=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,Svt=mr({opSnippet:_vt}),Cvt={kernelName:j_,backendName:"webgl",kernelFunc:Svt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tvt{constructor(t,n,r,a,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,s,l,u]=t,[c]=n,[f,d]=r;this.outputShape=[c,f,d,u];const h=a==="bilinear"?1:0,[p,v]=[`${s-1}.0`,`${l-1}.0`],[g,m,y]=f>1?[`${(s-1)/(f-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,x,_]=d>1?[`${(l-1)/(d-1)}`,"(x2-x1) * width_ratio",`x1*${v} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${v}`];this.userCode=`
      const float height_ratio = float(${g});
      const float width_ratio = float(${b});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${o}) {
          return;
        }

        float height_scale = ${m};
        float width_scale = ${x};

        float in_y = ${y};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${_};
        if( in_x < 0.0 || in_x > ${v} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kvt=e=>{const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:o}=t,{cropSize:s,method:l,extrapolationValue:u}=r,c=new Tvt(a.shape,i.shape,s,l,u);return n.runWebGLProgram(c,[a,i,o],"float32")},Ivt={kernelName:PV,backendName:"webgl",kernelFunc:kvt};var Tw;(function(e){e.Prod="*",e.Sum="+"})(Tw||(Tw={}));class uK{constructor(t,n,r,a){this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,o=this.op===Tw.Prod?"1.0":"0.0",s=r?o:`getX(${cK(i,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",c="";r?(u=a?`end != ${l-1}`:"end != 0",c=a?"end + 1":"end - 1"):(u=a?`end + pow2 < ${l}`:"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Br(i)} coords = getOutputCoords();
        int end = ${fK(i,"coords",this.op)};
        float val = ${s};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${fK(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${cK(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function cK(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.x, ${t}.y`;if(e===3)return`${t}.x, ${t}.y, ${t}.z`;if(e===4)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function fK(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.y`;if(e===3)return`${t}.z`;if(e===4)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qhe(e,t,n,r,a,i){const o=t.shape.length,s=da([r],o);let l=t;s!=null&&(l=_o({inputs:{x:t},backend:n,attrs:{perm:s}}));const u=Ca(1,o)[0];if(u!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let f=Is({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(c))-1;d++){const h=new uK(e,l.shape,!1,i),p=[[d]],v=f;f=n.runWebGLProgram(h,[f],f.dtype,p),n.disposeIntermediateTensorInfo(v)}if(a){const d=new uK(e,l.shape,a,i),h=f;f=n.runWebGLProgram(d,[f],f.dtype),n.disposeIntermediateTensorInfo(h)}if(s!=null){const d=ap(s),h=_o({inputs:{x:f},backend:n,attrs:{perm:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),h}return f}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Evt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:o,reverse:s}=r;return qhe(Tw.Prod,a,n,i,o,s)}const Avt={kernelName:OV,backendName:"webgl",kernelFunc:Evt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:o,reverse:s}=r;return qhe(Tw.Sum,a,n,i,o,s)}const Nvt={kernelName:ZA,backendName:"webgl",kernelFunc:Dvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:o,binaryOutput:s}=r;if(a.shape.length===1){const l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=Dhe(l,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}else if(a.shape.length===2){const l=n.bufferSync(a),u=n.bufferSync(i),c=Oft(l,u,o,s);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const Mvt={kernelName:FV,backendName:"webgl",kernelFunc:Rvt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $vt{constructor(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:o}=r,s=a.shape[0],l=o==="NHWC"?a.shape[1]:a.shape[2],u=o==="NHWC"?a.shape[2]:a.shape[3],c=o==="NHWC"?a.shape[3]:a.shape[1],f=l*i,d=u*i,h=c/(i*i),p=o==="NHWC"?[s,f,d,h]:[s,h,f,d],v=new $vt(p,i,o);return n.runWebGLProgram(v,[a],a.dtype)}const Ovt={kernelName:BV,backendName:"webgl",kernelFunc:Lvt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Zhe{constructor(t,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Qi(this.outputShape.length);const o=t.filterHeight,s=t.filterWidth,l=t.outChannels/t.inChannels;let u="",c="";r&&(a?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,c="result = activation(result);");const f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${o}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${s}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${f}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jhe{constructor(t,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Qi(this.outputShape.length);const o=t.outChannels/t.inChannels,s=t.padInfo.left,l=t.strideWidth,u=t.dilationWidth,c=t.filterHeight,f=t.filterWidth,d=f;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let m=0;m<f;m++)h+=`
          vec4 xTexelC${m*2};
          int xTexelC${m*2}Ready;
          vec4 xTexelC${m*2+1};
          int xTexelC${m*2+1}Ready;
          vec4 xC${m};`;h+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let m=0;m<f;m++)h+=`
          xTexelC${m*2} = vec4(0.0);
          xTexelC${m*2}Ready = 0;
          xTexelC${m*2+1} = vec4(0.0);
          xTexelC${m*2+1}Ready = 0;
          xC${m} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let m=0;m<(d+1)/2;m++){const y=m*2;if(h+=`
          xC = xCCorner + ${y*u};
          `,l===1){if(y<f&&(s%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }
              `,u===1&&y>0?h+=`
                xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                  } else {
                    xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xC${y} = xTexelC${y};
                `,y+1<f)){const b=s%2===0?bV(u):u;u%2===0&&s%2===1||u%2!==0&&s%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${b};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                    xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${y+1}.zw = vec2(0.0);
                    }
                    xTexelC${y+1}Ready = 1;
                  }
                  `,u>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                    } else {
                     xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                    }
                    `:h+=`
                    xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                    `):b===1?h+=`
                    xC${y+1} = xTexelC${y};
                    `:h+=`
                    xCOffset = xC + ${b};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                      xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${y+1}.zw = vec2(0.0);
                      }
                      xTexelC${y+1}Ready = 1;
                    }

                    xC${y+1} = xTexelC${y+1};
                    `}}else y<f&&(s%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.0);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
              `,y+1<f&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(
                  xTexelC${y}.xy, xTexelC${y+1}.xy);
              `,y+1<f&&(h+=`
                  xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                `)));y<f&&(h+=`
            wTexel = getW(r, ${y}, d1, q);
            dotProd += xC${y} * vec4(wTexel.xz, wTexel.xz);
          `,y+1<f&&(h+=`
              wTexel = getW(r, ${y+1}, d1, q);
              dotProd += xC${y+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let p="",v="";r&&(a?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:p=`vec4 activation(vec4 x) {
          ${r}
        }`,v="result = activation(result);");const g=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${g}
        ${v}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l,dimRoundingMode:u}=r;let c=l;c==null&&(c=[1,1]),pe(Zi(o,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const f=Ai(a.shape,i.shape,o,c,s,u,!0);let d;tt().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?d=new Jhe(f):d=new Zhe(f);const h=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(d,[a,i],"float32",h)}const Fvt={kernelName:JA,backendName:"webgl",kernelFunc:Pvt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bvt{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${o} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${a};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Vvt{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,l=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r,f=Ai(a.shape,c,o,s,l,u,!0),d=new Bvt(f);return n.runWebGLProgram(d,[a,i],"float32")}const Wvt={kernelName:VV,backendName:"webgl",kernelFunc:zvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hvt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r,f=Ai(c,i.shape,o,s,l,u,!0),d=new Vvt(f);return n.runWebGLProgram(d,[a,i],"float32")}const Uvt={kernelName:zV,backendName:"webgl",kernelFunc:Hvt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gvt{constructor(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kvt(e){const{inputs:t,backend:n}=e,{x:r}=t,a=[...r.shape,...r.shape],i=ot(r.shape),o=Ot({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new Gvt(i),l=n.runWebGLProgram(s,[o],o.dtype),u=Ot({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),u}const jvt={kernelName:Pse,backendName:"webgl",kernelFunc:Kvt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yvt{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const{inHeight:n,inWidth:r,padInfo:a,strideHeight:i,strideWidth:o,filterHeight:s,filterWidth:l,dilationHeight:u,dilationWidth:c}=t,{top:f,left:d}=a;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${o});
      const ivec2 pads = ivec2(${f}, ${d});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${s}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l}=r,u=MS(a.shape,i.shape,o,s,"NHWC",l);let c;const f=new Yvt(u);c=n.runWebGLProgram(f,[a,i],"float32");const d=Ot({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),d}const qvt={kernelName:QA,backendName:"webgl",kernelFunc:Xvt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zvt(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:o,summedDims:s,idDims:l}=c8(a,i.length);d8(o.length,l,i);const{path:u,steps:c}=h8(s,l),f=c.length;let d=null,h=o.length;const p=[];for(let v=0;v<f;++v){for(const g of c[v]){const{permutationIndices:m,expandDims:y}=f8(h,l[g]);let b;p8(m)?b=i[g]:(b=_o({inputs:{x:i[g]},backend:n,attrs:{perm:m}}),p.push(b));const x=b.shape.slice();for(let _=0;_<y.length;++_)x.splice(y[_],0,1);Er(b.shape,x)||(b=Ot({inputs:{x:b},backend:n,attrs:{shape:x}}),p.push(b)),d===null?d=b:(d=e6({inputs:{a:b,b:d},backend:n}),p.push(d))}v<f-1&&(u[v]>=0&&(d=fN({inputs:{x:d},backend:n,attrs:{axis:u[v]-(o.length-h),keepDims:!1}}),p.push(d)),h--)}for(const v of p)v!==d&&n.disposeIntermediateTensorInfo(v);return d}const Jvt={kernelName:WV,backendName:"webgl",kernelFunc:Zvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qvt="return (x >= 0.0) ? x : (exp(x) - 1.0);",egt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,tgt=mr({opSnippet:Qvt,packedOpSnippet:egt}),ngt={kernelName:X_,backendName:"webgl",kernelFunc:tgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rgt="return (b >= 0.0) ? a : a * (b + 1.0);",agt=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,igt=e=>{const{inputs:t,backend:n}=e,{dy:r,y:a}=t,i=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new u1(agt,r.shape,a.shape):new Cg(rgt,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)},ogt={kernelName:HV,backendName:"webgl",kernelFunc:igt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sgt=`
  return vec4(equal(a, b));
`,lgt="return float(a == b);",ugt=Ni({opSnippet:lgt,packedOpSnippet:sgt,dtype:"bool",cpuKernelImpl:zft}),cgt={kernelName:eD,backendName:"webgl",kernelFunc:ugt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fgt=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${r8};
  float a1 = ${a8};
  float a2 = ${i8};
  float a3 = ${o8};
  float a4 = ${s8};
  float a5 = ${l8};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,dgt=mr({opSnippet:fgt}),hgt={kernelName:q_,backendName:"webgl",kernelFunc:dgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pgt=c1+`
  return exp(x);
`,vgt=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Qhe=mr({opSnippet:pgt,packedOpSnippet:vgt,cpuKernelImpl:Wft,dtype:"float32"}),ggt={kernelName:Z_,backendName:"webgl",kernelFunc:Qhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aF(e){const{inputs:t,attrs:n,backend:r}=e,{dim:a}=n,{input:i}=t,o=i.shape.length,s=i.shape.slice();let l=a;return a<0&&(pe(-(o+1)<=a,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+a+1),s.splice(l,0,1),Ot({inputs:{x:i},backend:r,attrs:{shape:s}})}const mgt={kernelName:tD,backendName:"webgl",kernelFunc:aF};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dK="return exp(x) - 1.0;",ygt=mr({opSnippet:dK,packedOpSnippet:dK,cpuKernelImpl:Hft}),bgt={kernelName:J_,backendName:"webgl",kernelFunc:ygt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hK{constructor(t,n,r){this.variableNames=["real","imag"];const a=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=r?`${a}.0`:"1.0";let s;if(t==="real")s="return real * expR - imag * expI;";else if(t==="imag")s="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${s}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${a});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${a}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${o};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function epe(e,t,n){const r=n.texData.get(e.dataId),a=ot(e.shape),i=e.shape[e.shape.length-1],o=a/i,s=Ot({inputs:{x:e},backend:n,attrs:{shape:[o,i]}}),l=s.shape,u=new hK("real",l,t),c=new hK("imag",l,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],d=n.runWebGLProgram(u,f,"float32"),h=n.runWebGLProgram(c,f,"float32"),p=cp({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const v=Ot({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(p),v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xgt(e){const{inputs:t,backend:n}=e,{input:r}=t;return epe(r,!1,n)}const wgt={kernelName:UV,backendName:"webgl",kernelFunc:xgt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _gt{constructor(t,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eC(e){const{backend:t,attrs:n}=e,{shape:r,value:a}=n;let{dtype:i}=n;if(i=i||Zy(a),i==="string"){const o=ma(i,ot(r));return o.fill(a),t.makeTensorInfo(r,i,o)}else{const o=new _gt(r,a),s=[[a]];return t.runWebGLProgram(o,[],i,s)}}const Sgt={kernelName:GV,backendName:"webgl",kernelFunc:eC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cgt{constructor(t){this.variableNames=["Image"],this.outputShape=[];const n=t[2];this.outputShape=t,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tgt={kernelName:KV,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,r=t,a=new Cgt(n.shape);return r.runWebGLProgram(a,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pK="return floor(x);",kgt=mr({opSnippet:pK,packedOpSnippet:pK,cpuKernelImpl:Uft}),Igt={kernelName:Q_,backendName:"webgl",kernelFunc:kgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Egt=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,Agt=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,Dgt=Ni({opSnippet:Egt,packedOpSnippet:Agt,dtype:"int32"}),Ngt={kernelName:eS,backendName:"webgl",kernelFunc:Dgt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rgt{constructor(t){this.variableNames=["A"];const n=ko(),[r,a]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mgt{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=ko(),[r,a]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${a}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $gt={kernelName:kKe,backendName:"webgl",kernelFunc:Lgt};let k0,pM=tt().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function Lgt(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:a}=t;const{numChannels:i}=r,o=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,[l,u]=o?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=[u,l],f=[u,l,i];if(s||o){const v=tt().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(k0==null||v!==pM)&&(pM=v,k0=document.createElement("canvas").getContext("2d",{willReadFrequently:pM})),k0.canvas.width=l,k0.canvas.height=u,k0.drawImage(a,0,0,l,u),a=k0.canvas}const d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=Bs.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),a);const h=tt().getBool("WEBGL_PACK")?new Mgt(f):new Rgt(f),p=n.runWebGLProgram(h,[d],"int32");return n.disposeData(d.dataId),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ogt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:o,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,v=dd(c),g=Ai(a.shape,i.shape,l,f,u,d,!1,v);let m;const y=[],b=o!=null,x=s!=null,_=h==="leakyrelu",S=()=>{const k=[a,i],T=(E,I)=>{if(I==="NCHW"&&E.shape.length===1&&E.shape[0]!==1){const A=Ot({inputs:{x:E},backend:n,attrs:{shape:[E.shape[0],1,1]}});return y.push(A),A}return E};if(b&&k.push(T(o,c)),x&&k.push(T(s,c)),_){const E=n.makeTensorInfo([],"float32",tp(p,"float32"));k.push(E),y.push(E)}return k};if(g.filterHeight===1&&g.filterWidth===1&&g.dilationHeight===1&&g.dilationWidth===1&&g.strideHeight===1&&g.strideWidth===1&&(g.padInfo.type==="SAME"||g.padInfo.type==="VALID"))m=Yhe({x:a,filter:i,convInfo:g,backend:n,bias:o,activation:h,preluActivationWeights:s,leakyreluAlpha:p});else if(g.strideWidth<=2&&v==="channelsLast"&&tt().getBool("WEBGL_EXP_CONV")){const k=h?Sw(h,!0):null,T=new jhe(g,b,k,x,_),E=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],I=S();m=n.runWebGLProgram(T,I,"float32",E)}else if(tt().getBool("WEBGL_CONV_IM2COL"))m=Xhe({x:a,filter:i,convInfo:g,backend:n,bias:o,activation:h,preluActivationWeights:s,leakyreluAlpha:p});else{const k=h?Sw(h,!1):null,T=new Khe(g,b,k,x,_),E=S();m=n.runWebGLProgram(T,E,"float32")}const C=Ot({inputs:{x:m},backend:n,attrs:{shape:g.outShape}});return y.push(m),y.forEach(k=>n.disposeIntermediateTensorInfo(k)),C}const Pgt={kernelName:gI,backendName:"webgl",kernelFunc:Ogt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fgt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:o,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:f,activation:d,leakyreluAlpha:h}=r,p=[];let v=c;v==null&&(v=[1,1]),pe(Zi(l,v),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${v}'`);const g=Ai(a.shape,i.shape,l,v,u,f,!0),m=tt().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,y=d?Sw(d,m):null,b=[a,i],x=o!=null,_=s!=null,S=d==="leakyrelu";if(x&&b.push(o),_&&b.push(s),S){const E=n.makeTensorInfo([],"float32",tp(h,"float32"));b.push(E),p.push(E)}let C;m?C=new Jhe(g,x,y,_,S):C=new Zhe(g,x,y,_,S);const k=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],T=n.runWebGLProgram(C,b,"float32",k);return p.forEach(E=>n.disposeIntermediateTensorInfo(E)),T}const Bgt={kernelName:nle,backendName:"webgl",kernelFunc:Fgt};class Vgt{constructor(t,n,r,a){this.sliceDim=t,this.strides=n,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=r;const i=Br(r.length);let o=`
    int index;`;for(let s=0;s<this.sliceDim;s++)o+=`
          index = round(getIndices(coords[0], ${s}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[s]};
          flattenIndex += index * ${this.strides[s]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${o}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zgt(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=a.shape,o=i[i.length-1],s=ot(r.shape),[l,u,c,f]=Kz(r,a),d=Ot({inputs:{x:a},backend:n,attrs:{shape:[u,o]}}),h=Ot({inputs:{x:r},backend:n,attrs:{shape:[ot(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,a])||r.dtype==="string"){const m=n.readSync(a.dataId),y=n.bufferSync(r),b=Gft(m,y,r.dtype,u,o,c,f,r.shape,s);return n.makeTensorInfo(l,r.dtype,b.values)}const p=new Vgt(o,f,[u,c],r.shape),v=n.runWebGLProgram(p,[h,d],h.dtype),g=Ot({inputs:{x:v},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),g}const Wgt={kernelName:Fse,backendName:"webgl",kernelFunc:zgt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hgt{constructor(t,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Br(this.rank),a=Ugt(t);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${t[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${a}));
      }
    `}}function Ugt(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let a=0;a<e.length;a++)a===2?r.push("index"):r.push(`${n[a]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tpe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:o,batchDims:s}=r,l=jn(o,a.shape)[0];if(tt().get("DEBUG")){const y=n.readSync(i.dataId),b=a.shape[l];for(let x=0;x<y.length;++x){const _=y[x];pe(_<=b-1&&_>=0,()=>`GatherV2: the index value ${_} is not in [0, ${b-1}]`)}}const u=g8(a,i,l,s),c=ot(i.shape),f=[],d=Ot({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=Ot({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});f.push(d),f.push(h);const p=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([a,i])||a.dtype==="string"){const y=n.bufferSync(h),b=n.bufferSync(d),x=Kft(b,y,p);return f.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.makeTensorInfo(u.outputShape,x.dtype,x.values)}const v=new Hgt(d.shape,p),g=n.runWebGLProgram(v,[d,h],d.dtype);f.push(g);const m=Ot({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return f.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const Ggt={kernelName:rD,backendName:"webgl",kernelFunc:tpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kgt="return float(a > b);",jgt=`
  return vec4(greaterThan(a, b));
`,Ygt=Ni({opSnippet:Kgt,packedOpSnippet:jgt,cpuKernelImpl:jft,dtype:"bool"}),Xgt={kernelName:aD,backendName:"webgl",kernelFunc:Ygt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qgt="return float(a >= b);",Zgt=`
  return vec4(greaterThanEqual(a, b));
`,Jgt=Ni({opSnippet:qgt,packedOpSnippet:Zgt,dtype:"bool",cpuKernelImpl:Yft}),Qgt={kernelName:tS,backendName:"webgl",kernelFunc:Jgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e0t(e){const{inputs:t,backend:n}=e,{input:r}=t;return epe(r,!0,n)}const t0t={kernelName:jV,backendName:"webgl",kernelFunc:e0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n0t="return float(!isnan(x) && !isinf(x));",r0t=mr({opSnippet:n0t,dtype:"bool"}),a0t={kernelName:rS,backendName:"webgl",kernelFunc:r0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i0t="return float(isinf(x));",o0t=mr({opSnippet:i0t,dtype:"bool"}),s0t={kernelName:aS,backendName:"webgl",kernelFunc:o0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l0t="return float(isnan(x));",u0t=mr({opSnippet:l0t,dtype:"bool"}),c0t={kernelName:iS,backendName:"webgl",kernelFunc:u0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f0t="return float(a < b);",d0t=`
  return vec4(lessThan(a, b));
`,h0t=Ni({opSnippet:f0t,packedOpSnippet:d0t,cpuKernelImpl:Xft,dtype:"bool"}),p0t={kernelName:oD,backendName:"webgl",kernelFunc:h0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v0t="return float(a <= b);",g0t=`
  return vec4(lessThanEqual(a, b));
`,m0t=Ni({opSnippet:v0t,packedOpSnippet:g0t,cpuKernelImpl:qft,dtype:"bool"}),y0t={kernelName:sD,backendName:"webgl",kernelFunc:m0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b0t(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,o=Zft(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}const x0t={kernelName:Bse,backendName:"webgl",kernelFunc:b0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w0t=c1+`
  return x < 0.0 ? 0./0. : log(x);
`,_0t=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,S0t=mr({opSnippet:w0t,packedOpSnippet:_0t,cpuKernelImpl:Jft}),C0t={kernelName:oS,backendName:"webgl",kernelFunc:S0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T0t=c1+`
  return log(1.0 + x);
`,k0t=mr({opSnippet:T0t}),I0t={kernelName:sS,backendName:"webgl",kernelFunc:k0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E0t="return float(a >= 1.0 && b >= 1.0);",A0t=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,D0t=Ni({opSnippet:E0t,packedOpSnippet:A0t,dtype:"bool"}),N0t={kernelName:lD,backendName:"webgl",kernelFunc:D0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R0t="return float(!(x >= 1.0));",M0t=mr({opSnippet:R0t}),$0t={kernelName:uD,backendName:"webgl",kernelFunc:M0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L0t="return float(a >= 1.0 || b >= 1.0);",O0t=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,P0t=Ni({opSnippet:L0t,packedOpSnippet:O0t,dtype:"bool"}),F0t={kernelName:cD,backendName:"webgl",kernelFunc:P0t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B0t{constructor(t,n,r,a,i){this.variableNames=["x"],this.outputShape=[];const o=n,s=t[3]-1;this.outputShape=t;let l;const u=`float(${r}) + float(${a}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${o}; j <= ${o}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${s}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class V0t{constructor(t,n,r,a,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=n,s=t[3]-1;this.outputShape=t;let l;const u=`float(${r}) + float(${a}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${o};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${o}; j <= ${o}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z0t=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:o,alpha:s,beta:l}=r,u=tt().getBool("WEBGL_PACK_NORMALIZATION")?new V0t(a.shape,i,o,s,l):new B0t(a.shape,i,o,s,l);return n.runWebGLProgram(u,[a],a.dtype)},W0t={kernelName:fD,backendName:"webgl",kernelFunc:z0t};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class H0t{constructor(t,n,r,a,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${a}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${a})
                * float(${i})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U0t=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:o}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r,f=new H0t(a.shape,s,l,u,c);return n.runWebGLProgram(f,[a,i,o],a.dtype)},G0t={kernelName:XV,backendName:"webgl",kernelFunc:U0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K0t(e,t,n,r){const a=ot(t),o=ot(e.shape)/a,s=Ot({inputs:{x:e},attrs:{shape:[o,a]},backend:r}),l=qg(s,e.dtype,"max",r),u=Ot({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:o}=r,s=a.shape.length,l=jn(i,a.shape);let u=l;const c=da(u,s),f=c!=null,d=n.shouldExecuteOnCPU([a]);let h=a;if(f){if(d){const b=n.texData.get(h.dataId).values,x=new Array(s);for(let C=0;C<x.length;C++)x[C]=a.shape[c[C]];const _=J8(b,a.shape,a.dtype,c,x);h=n.makeTensorInfo(x,a.dtype);const S=n.texData.get(h.dataId);S.values=_}else h=cN(a,c,n);u=Ca(u.length,s)}Di("max",u,s);const[p,v]=mi(h.shape,u);let g=p;o&&(g=Ra(p,l));let m;if(d){const b=n.texData.get(h.dataId).values,x=Qft(b,ot(v),g,a.dtype);m=n.makeTensorInfo(g,a.dtype);const _=n.texData.get(m.dataId);_.values=x}else m=K0t(h,v,g,n);return f&&n.disposeIntermediateTensorInfo(h),m}const j0t={kernelName:dD,backendName:"webgl",kernelFunc:npe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y0t=Q8+`
  return max(a, b);
`,X0t=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Xg+`
  return result;
`,q0t=Ni({opSnippet:Y0t,packedOpSnippet:X0t,cpuKernelImpl:edt}),Z0t={kernelName:lS,backendName:"webgl",kernelFunc:q0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J0t(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;ZS(a,"maxPool");const{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=r,u=1;pe(Zi(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Hl(a.shape,i,o,u,s,l);if(c.filterWidth===1&&c.filterHeight===1&&Er(c.inShape,c.outShape))return Is({inputs:{x:a},backend:n});const f=new Cw(c,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}const Q0t={kernelName:hD,backendName:"webgl",kernelFunc:J0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function emt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:o,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=[1,1,1],f=fd(a.shape,i,o,c,s,u,l),d=new t6(f,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}const tmt={kernelName:pD,backendName:"webgl",kernelFunc:emt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nmt{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=i-1-t.padInfo.top,l=o-1-t.padInfo.left,u=i*o-1;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${o} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class rmt{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,l=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,f=l-1-t.padInfo.front,d=u-1-t.padInfo.top,h=c-1-t.padInfo.left,p=l*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(${f}, ${d}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${o}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${s}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function amt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,o=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=fd(o.shape,s,l,f,u,c),h=new t6(d,"max",!0),p=n.runWebGLProgram(h,[o],o.dtype),v=new rmt(d),g=n.runWebGLProgram(v,[a,p],o.dtype);return n.disposeIntermediateTensorInfo(p),g}const imt={kernelName:ZV,backendName:"webgl",kernelFunc:amt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function omt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:o}=t,s=i;ZS([i,o],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=Hl(s.shape,l,u,1,c,f),h=!0,p=new Cw(d,"max",h),v=n.runWebGLProgram(p,[s],s.dtype),g=new nmt(d),m=n.runWebGLProgram(g,[a,v],s.dtype);return n.disposeIntermediateTensorInfo(v),m}const smt={kernelName:qV,backendName:"webgl",kernelFunc:omt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lmt(e,t,n,r){let a=new Cw(n,"max",!1);const i=r.runWebGLProgram(a,[e],"float32");a=new Cw(n,"max",!0,!0,t);const o=r.runWebGLProgram(a,[e],"float32");return[i,o]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const umt={kernelName:Vse,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:a,strides:i,pad:o,includeBatchInIndex:s}=t,l=n;pe(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];pe(Zi(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=Hl(r.shape,a,i,u,o),[f,d]=lmt(r,s,c,l);return[f,d]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cmt(e,t,n,r){const a=ot(t),o=ot(e.shape)/a,s=Ot({inputs:{x:e},attrs:{shape:[o,a]},backend:r}),l=qg(s,"float32","mean",r),u=Ot({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fmt={kernelName:vD,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{keepDims:a,axis:i}=t,o=n,s=r.shape.length,l=jn(i,r.shape);let u=l;const c=da(u,s),f=c!=null,d=o.shouldExecuteOnCPU([r]),h=[];let p=r;if(f){if(d){const x=o.texData.get(p.dataId).values,_=new Array(s);for(let k=0;k<_.length;k++)_[k]=r.shape[c[k]];const S=J8(x,r.shape,r.dtype,c,_);p=o.makeTensorInfo(_,r.dtype);const C=o.texData.get(p.dataId);C.values=S}else p=cN(r,c,o);h.push(p),u=Ca(u.length,s)}Di("sum",u,s);const[v,g]=mi(p.shape,u);let m=v;a&&(m=Ra(v,l));const y=cmt(p,g,m,o);for(const b of h)o.disposeIntermediateTensorInfo(b);return y}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dmt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=a.shape.length,l=jn(i,a.shape);let u=l;const c=da(u,s);let f=a;c!=null&&(f=_o({inputs:{x:a},backend:n,attrs:{perm:c}}),u=Ca(u.length,a.shape.length)),Di("min",u,s);const[d,h]=mi(f.shape,u),p=ot(h),v=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),g=qg(v,v.dtype,"min",n);let m;if(o){const y=Ra(d,l);m=Ot({inputs:{x:g},backend:n,attrs:{shape:y}})}else m=Ot({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),m}const hmt={kernelName:gD,backendName:"webgl",kernelFunc:dmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pmt=Q8+`
  return min(a, b);
`,vmt=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Xg+`
  return result;
`,gmt=Ni({opSnippet:pmt,packedOpSnippet:vmt,cpuKernelImpl:tdt}),mmt={kernelName:uS,backendName:"webgl",kernelFunc:gmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ymt{constructor(t,n,r){this.variableNames=["x"],this.outputShape=n.map((c,f)=>c[0]+t[f]+c[1]);const a=t.length,i=Br(a),o=n.map(c=>c[0]).join(","),s=n.map((c,f)=>c[0]+t[f]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),u=r==="reflect"?0:1;if(a===1){this.userCode=`
        int start = ${o};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${s});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${a}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bmt{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,v)=>p[0]+t[v]+p[1]);const a=t.length,i=Br(a),o=n.map(p=>p[0]).join(","),s=n.map((p,v)=>p[0]+t[v]).join(","),l=vo("rc",a),u=vo("source",a),c=`${l[a-1]} < ${this.outputShape[a-1]}`,f=a===1?"source":`vec2(${u.slice(-2).join()})`,d=r==="reflect"?0:1;let h="";if(a===1){const p=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${d};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${d};
        }
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[a-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
      `}else{const p=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${d}) +
                gte * ((end - 1) * 2 - source + ${d});
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[a-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
        rc = outputLoc;
        ${l[a-2]} += 1;
        if(${l[a-2]} < ${this.outputShape[a-2]}) {
          ${p}
          result[2] = getChannel(getX(${u.join()}), ${f});
          ${l[a-1]} += 1;
          if(${c}) {
            ${p}
            result[3] = getChannel(getX(${u.join()}), ${f});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${s});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xmt=({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{paddings:a,mode:i}=n,o=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bmt(r.shape,a,i):new ymt(r.shape,a,i);return t.runWebGLProgram(o,[r],r.dtype)},wmt={kernelName:mD,backendName:"webgl",kernelFunc:xmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _mt=`if (b == 0.0) return NAN;
  return mod(a, b);`,Smt=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+Xg+`
  return result;
`,Cmt=Ni({opSnippet:_mt,packedOpSnippet:Smt}),Tmt={kernelName:cS,backendName:"webgl",kernelFunc:Cmt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kmt{constructor(t,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Imt=`
if (a == b) {
  return 1.0;
};
return a / b;`,Emt=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,rpe=Ni({opSnippet:Imt,packedOpSnippet:Emt,checkOutOfBounds:!0}),Amt={kernelName:Y_,backendName:"webgl",kernelFunc:rpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vK="return a - b;",ape=Ni({opSnippet:vK,packedOpSnippet:vK,supportsComplex:!0,cpuKernelImpl:_dt}),Dmt={kernelName:kS,backendName:"webgl",kernelFunc:ape};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ipe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,o=jn([i],a.shape),s=npe({inputs:{x:a},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=Ra(s.shape,o),u=Ot({inputs:{x:s},backend:n,attrs:{shape:l}}),c=ape({inputs:{a,b:u},backend:n}),f=Qhe({inputs:{x:c},backend:n}),d=fN({inputs:{x:f},backend:n,attrs:{axis:o,keepDims:!1}}),h=Ot({inputs:{x:d},backend:n,attrs:{shape:l}}),p=rpe({inputs:{a:f,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}const Nmt={kernelName:LD,backendName:"webgl",kernelFunc:ipe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rmt(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:o,normalized:s}=r,l=s?a:ipe({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),u=l.shape[0],c=l.shape[1],f=new kmt(u,c,i),d=[[o]],h=n.runWebGLProgram(f,[l],"int32",d);return s||n.disposeIntermediateTensorInfo(l),h}const Mmt={kernelName:zse,backendName:"webgl",kernelFunc:Rmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $mt=Gl+`
  return -x;
`,Lmt=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function Omt(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[o,s]=rdt(i.values,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,o)}let a;return tt().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new qd(r.shape,Lmt):a=new bc(r.shape,$mt),n.runWebGLProgram(a,[r],r.dtype)}const Pmt={kernelName:yD,backendName:"webgl",kernelFunc:Omt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fmt=Vz;function Bmt(e){$s("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),{selectedIndices:f}=Fmt(u,c,o,s,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const Vmt={kernelName:JV,backendName:"webgl",kernelFunc:Bmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zmt=zz;function Wmt(e){$s("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(a.dataId),f=n.readSync(i.dataId),{selectedIndices:d,validOutputs:h}=zmt(c,f,o,s,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const Hmt={kernelName:QV,backendName:"webgl",kernelFunc:Wmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Umt=Wz;function Gmt(e){$s("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(a.dataId),f=n.readSync(i.dataId),d=o,h=s,p=l,v=u,{selectedIndices:g,selectedScores:m}=Umt(c,f,d,h,p,v);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}const Kmt={kernelName:ez,backendName:"webgl",kernelFunc:Gmt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jmt{constructor(t,n,r,a){this.variableNames=["indices"],this.outputShape=[t,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${a}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ymt=e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:o,onValue:s,offValue:l}=r,u=ot(a.shape),c=new jmt(u,o,s,l),f=Ot({inputs:{x:a},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(c,[f],i);n.disposeIntermediateTensorInfo(f);const h=[...a.shape,o],p=Ot({inputs:{x:d},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),p},Xmt={kernelName:wD,backendName:"webgl",kernelFunc:Ymt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HI(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="complex64"){const a=QS({inputs:{input:r},backend:n}),i=HI({inputs:{x:a},backend:n}),o=dN({inputs:{input:r},backend:n}),s=HI({inputs:{x:o},backend:n}),l=cp({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}else return eC({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const qmt={kernelName:FD,backendName:"webgl",kernelFunc:HI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ope(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const a=QS({inputs:{input:r},backend:n}),i=ope({inputs:{x:a},backend:n}),o=dN({inputs:{input:r},backend:n}),s=HI({inputs:{x:o},backend:n}),l=cp({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}else return eC({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const Zmt={kernelName:xD,backendName:"webgl",kernelFunc:ope};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jmt(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(t.length===1)return aF({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const i=t[0].shape,o=t[0].dtype;t.forEach(c=>{xV(i,c.shape,"All tensors passed to stack must have matching shapes"),pe(o===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const s=[],l=t.map(c=>{const f=aF({inputs:{input:c},backend:n,attrs:{dim:a}});return s.push(f),f}),u=Ghe({inputs:l,backend:n,attrs:{axis:a}});return s.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const Qmt={kernelName:_D,backendName:"webgl",kernelFunc:Jmt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eyt{constructor(t,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,c)=>u[0]+t[c]+u[1]);const a=t.length,i=Br(a),o=n.map(u=>u[0]).join(","),s=n.map((u,c)=>u[0]+t[c]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);if(a===1){this.userCode=`
        int start = ${o};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${s});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tyt{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((v,g)=>v[0]+t[g]+v[1]);const a=t.length,i=Br(a),o=n.map(v=>v[0]).join(","),s=n.map((v,g)=>v[0]+t[g]).join(","),l=vo("rc",a),u=vo("source",a),c=`${l[a-1]} < ${this.outputShape[a-1]}`,f=a===1?"source":`vec2(${u.slice(-2).join()})`,d=[`${i} rc = outputLoc;`,`${l[a-1]} += 1;
       if(${c}) {
      `,a===1?"":`}
       rc = outputLoc;
       ${l[a-2]} += 1;
       if(${l[a-2]} < ${this.outputShape[a-2]}) {`,a===1?"":`  ${l[a-1]} += 1;
         if(${c}) {`],h=a===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let v=0,g=a===1?2:4;v<g;v++)p+=`
        ${d[v]}
        if (${h}) {
          result[${v}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${v}] = getChannel(getX(${u.join()}), ${f});
        }
      `;p+=a===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${s});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const spe=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:o}=r;if(ot(a.shape)===0){const u=i.map((c,f)=>c[0]+a.shape[f]+c[1]);return eC({backend:n,attrs:{shape:u,value:o,dtype:a.dtype}})}const s=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new tyt(a.shape,i,o):new eyt(a.shape,i,o),l=[[o]];return n.runWebGLProgram(s,[a],a.dtype,l)},nyt={kernelName:SD,backendName:"webgl",kernelFunc:spe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ryt=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,ayt=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+Xg+`
  return result;
`,iyt=Ni({opSnippet:ryt,packedOpSnippet:ayt}),oyt={kernelName:dS,backendName:"webgl",kernelFunc:iyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function syt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=a.shape.length,l=[],u=jn(i,a.shape);let c=u;const f=da(c,s);let d=a;f!=null&&(d=_o({inputs:{x:a},backend:n,attrs:{perm:f}}),c=Ca(c.length,s),l.push(d)),Di("prod",c,s);let h;if(n.shouldExecuteOnCPU([d])){const p=n.texData.get(d.dataId).values,{outVals:v,outShape:g,outDtype:m}=idt(d.shape,d.dtype,p,c);h=n.makeTensorInfo(g,m,v)}else{const[p,v]=mi(d.shape,c),g=ot(v),m=Ot({inputs:{x:d},backend:n,attrs:{shape:[-1,g]}}),y=dz(a.dtype),b=qg(m,y,"prod",n);h=Ot({inputs:{x:b},backend:n,attrs:{shape:p}}),l.push(m),l.push(b)}if(o){l.push(h);const p=Ra(h.shape,u);h=Ot({inputs:{x:h},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const lyt={kernelName:TD,backendName:"webgl",kernelFunc:syt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uyt(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:o}=t,{outputRaggedRank:s}=r,l=a.map(m=>n.readSync(m.dataId)),u=a.map(m=>m.shape),c=n.readSync(i.dataId),f=n.readSync(o.dataId),[d,h,p]=odt(l,u,c,i.shape,i.dtype,f,o.shape,s),v=d.map(m=>n.makeTensorInfo([m.length],"int32",m)),g=n.makeTensorInfo(p,i.dtype,h);return v.concat([g])}const cyt={kernelName:Wse,backendName:"webgl",kernelFunc:uyt};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fyt(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,o=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=sdt(o,r.shape,r.dtype,s,a.shape,l,i.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}const dyt={kernelName:Hse,backendName:"webgl",kernelFunc:fyt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hyt(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:o,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),f=n.readSync(o.dataId),d=s.map(g=>n.readSync(g.dataId)),h=s.map(g=>g.shape),[p,v]=ldt(u,a.shape,c,i.shape,i.dtype,f,o.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,v)}const pyt={kernelName:Use,backendName:"webgl",kernelFunc:hyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lpe=e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:i,dtype:o}=n,s=udt(r,a,i,o);return t.makeTensorInfo([s.length],o,s)},vyt={kernelName:tz,backendName:"webgl",kernelFunc:lpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gyt="return 1.0 / x;",myt=mr({opSnippet:gyt}),yyt={kernelName:hS,backendName:"webgl",kernelFunc:myt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const byt=Gl+`
  return (x < 0.0) ? 0.0 : x;
`,xyt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,wyt=mr({opSnippet:byt,packedOpSnippet:xyt}),_yt={kernelName:pS,backendName:"webgl",kernelFunc:wyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Syt=Gl+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Cyt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Tyt=mr({opSnippet:Syt,packedOpSnippet:Cyt}),kyt={kernelName:vS,backendName:"webgl",kernelFunc:Tyt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Iyt{constructor(t,n,r,a,i){this.variableNames=["A"],this.outputShape=[];const[o,s,l,u]=t;this.outputShape=[o,n,r,u];const c=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];let d;i?d="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/f[0]},
          ${c[1]/f[1]});
      const vec2 inputShapeRC = vec2(${s}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Eyt{constructor(t,n,r,a,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,l,u]=t;this.outputShape=[o,n,r,u];const c=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];let d;i?d="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/f[0]},
          ${c[1]/f[1]},
          ${c[1]/f[1]});
      const vec3 inputShapeRC = vec3(${s}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ayt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:o,size:s}=r,[l,u]=s,c=tt().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Eyt(a.shape,l,u,i,o):new Iyt(a.shape,l,u,i,o);return n.runWebGLProgram(c,[a],"float32")}const Dyt={kernelName:ED,backendName:"webgl",kernelFunc:Ayt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nyt{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,i]=n,[,o,s]=t,l=[r&&o>1?a-1:a,r&&s>1?i-1:i],u=[r&&o>1?o-1:o,r&&s>1?s-1:s],c=l[0]/u[0],f=l[1]/u[1],d=1/c,h=1/f,p=Math.ceil(d)*2+2,v=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${f});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${v});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${a-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ryt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:o}=r,s=new Nyt(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}const Myt={kernelName:az,backendName:"webgl",kernelFunc:Ryt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $yt{constructor(t,n,r,a,i){this.variableNames=["A"],this.outputShape=[];const[o,s,l,u]=t;this.outputShape=[o,n,r,u];const c=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],d=a?"0.5":"0.0";let h;i?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/f[0]},
          ${c[1]/f[1]});
      const vec2 inputShapeRC = vec2(${s}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lyt{constructor(t,n,r,a,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,l,u]=t;this.outputShape=[o,n,r,u];const c=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],d=a?"0.5":"0.0";let h;i?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/f[0]},
          ${c[1]/f[1]},
          ${c[1]/f[1]});
      const vec3 inputShapeRC = vec3(${s}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oyt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:o,size:s}=r,[l,u]=s,c=tt().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Lyt(a.shape,l,u,i,o):new $yt(a.shape,l,u,i,o);return n.runWebGLProgram(c,[a],a.dtype)}const Pyt={kernelName:ID,backendName:"webgl",kernelFunc:Oyt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fyt{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,i]=n,[,o,s]=t,l=[r&&o>1?a-1:a,r&&s>1?i-1:i],u=[r&&o>1?o-1:o,r&&s>1?s-1:s],c=l[0]/u[0],f=l[1]/u[1],d=1/c,h=1/f,p=Math.ceil(d)*2+2,v=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${f});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${v});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${a}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Byt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:o}=r,s=new Fyt(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}const Vyt={kernelName:rz,backendName:"webgl",kernelFunc:Byt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zyt{constructor(t,n){this.variableNames=["x"];const r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=t,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${t[0]} - coord - 1));
        }
      `;return}const a=s=>n.indexOf(s)!==-1&&t[s]!==1?`${t[s]} - coords[${s}] - 1`:`coords[${s}]`,i=t.map((s,l)=>a(l)).join(","),o=Br(r);this.userCode=`
      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wyt{constructor(t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=t;const a=vo("rc",r),i=`${a[r-1]} + 1 < ${this.outputShape[r-1]}`,o=`${a[r-2]} + 1 < ${this.outputShape[r-2]}`,s=Br(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${t[0]} - rc - 1),
            ${t[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),
                ${t[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${s} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(a.slice())};
          if(${i}){
            result.g = ${u(a.slice())};
          }
          if(${o}) {
            result.b = ${c(a.slice())};
            if(${i}) {
              result.a = ${f(a.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return d(p)}function u(p){return p[r-1]="("+p[r-1]+" + 1)",d(p)}function c(p){return p[r-2]="("+p[r-2]+" + 1)",d(p)}function f(p){return p[r-1]="("+p[r-1]+" + 1)",p[r-2]="("+p[r-2]+" + 1)",d(p)}function d(p){const v=t.map((y,b)=>h(b,p)),g=v.join(","),m=v.slice(-2).join(",");return`getChannel(getX(${g}), vec2(${m}))`}function h(p,v){return n.indexOf(p)!==-1&&t[p]!==1?`${t[p]} - ${v[p]} - 1`:`${v[p]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hyt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r,o=a.shape.length,s=jn(i,a.shape);if(o===0)return Is({inputs:{x:a},backend:n});const l=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Wyt(a.shape,s):new zyt(a.shape,s);return n.runWebGLProgram(l,[a],a.dtype)}const Uyt={kernelName:AD,backendName:"webgl",kernelFunc:Hyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gyt{constructor(t,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=t[1],a=t[2];this.outputShape=t;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${a} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kyt={kernelName:fz,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:a,fillValue:i,center:o}=t,s=n,l=new Gyt(r.shape,i),[u,c]=e8(o,r.shape[1],r.shape[2]),f=[[u,c,Math.sin(a),Math.cos(a)]];return s.runWebGLProgram(l,[r],r.dtype,f)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jyt=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,Yyt=mr({opSnippet:jyt}),Xyt={kernelName:gS,backendName:"webgl",kernelFunc:Yyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qyt="return inversesqrt(x);",Zyt=mr({opSnippet:qyt,cpuKernelImpl:cdt}),Jyt={kernelName:mS,backendName:"webgl",kernelFunc:Zyt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n6{constructor(t,n,r,a,i,o,s=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const u=Br(i.length),c=Br(o.length);let f="";r===1?f="i":r===2&&(f="i, j");const d=`getIndices(${f})`;let h="";a===1?h="i":a===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let v="";l&&(v="coords[0], coords[1]");const g=`getDefaultValue(${v})`,m=n>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${c} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${t}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${m};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${g}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Qyt{constructor(t,n,r,a,i,o,s=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;const u=Br(i.length),c=Br(o.length);let f="";r===1?f="i":r===2&&(f="i, j");const d=`getIndices(${f})`;let h="";a===1?h="i":a===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let v="";l&&(v="coords[0], coords[1]");const g=`getDefaultValue(${v})`,m=n>1?"strides[j]":"strides",y=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${c} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${t}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${d});
              flattenedIndex += index.xz * ${m};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${y};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${g}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e1t(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:o}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=Hg(i,a,o),d=[f/u,u];if(f===0)return n.makeTensorInfo(o,a.dtype);const h=Ot({inputs:{x:a},backend:n,attrs:{shape:[l,s]}}),p=Ot({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),v=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;tt().getBool("WEBGL_PACK")?g=new Qyt(l,s,h.shape.length,p.shape.length,c,d):g=new n6(l,s,h.shape.length,p.shape.length,c,d);const m=n.runWebGLProgram(g,[p,h,v],p.dtype),y=Ot({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),y}const t1t={kernelName:Gse,backendName:"webgl",kernelFunc:e1t};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n1t{constructor(t,n,r,a){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];const i="while (left < right) {",o=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,s=tt().getNumber("WEBGL_VERSION")===2?i:o,l=a==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${s}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r1t(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:o}=r,s=new n1t(a.shape[0],a.shape[1],i.shape[1],o),l=[[a.shape[1]]];return n.runWebGLProgram(s,[a,i],"int32",l)}const a1t={kernelName:jse,backendName:"webgl",kernelFunc:r1t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i1t{constructor(t,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let a,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",a="resRC";else{const s=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let c=0;c<n.length;c++)u.push(`${s[c]}`),c<t&&l.push(`${s[c]}`);a=l.join(),i=u.join()}const o=Br(r);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        float cVal = getC(${a});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o1t(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t,o=new i1t(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(o,[r,a,i],Ts(a.dtype,i.dtype))}const s1t={kernelName:DD,backendName:"webgl",kernelFunc:o1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l1t=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${YD};
  float scale = ${XD};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,u1t=mr({opSnippet:l1t}),c1t={kernelName:yS,backendName:"webgl",kernelFunc:u1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f1t=c1+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,d1t=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,h1t=mr({opSnippet:f1t,packedOpSnippet:d1t,cpuKernelImpl:ddt}),p1t={kernelName:_S,backendName:"webgl",kernelFunc:h1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v1t=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,g1t=mr({opSnippet:v1t}),m1t={kernelName:wS,backendName:"webgl",kernelFunc:g1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y1t=c1+`
  return sin(x);
`,b1t=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${Xg}
  return result;
`,x1t=mr({opSnippet:y1t,packedOpSnippet:b1t}),w1t={kernelName:bS,backendName:"webgl",kernelFunc:x1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _1t=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,S1t=mr({opSnippet:_1t}),C1t={kernelName:xS,backendName:"webgl",kernelFunc:S1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T1t=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,k1t=mr({opSnippet:T1t}),I1t={kernelName:SS,backendName:"webgl",kernelFunc:k1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E1t=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:o}=r;pe(a.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const s=i.reduce((m,y)=>m*y),l=[[0,0]];l.push(...o);for(let m=1+i.length;m<a.shape.length;++m)l.push([0,0]);const u=[],c=spe({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),f=FS(c.shape,i,s,!1),d=BS(f.length,i.length,!1),h=VS(c.shape,i,s,!1),p=Ot({inputs:{x:c},backend:n,attrs:{shape:f}}),v=_o({inputs:{x:p},backend:n,attrs:{perm:d}}),g=Ot({inputs:{x:v},backend:n,attrs:{shape:h}});return u.push(c),u.push(p),u.push(v),u.forEach(m=>n.disposeIntermediateTensorInfo(m)),g},A1t={kernelName:MD,backendName:"webgl",kernelFunc:E1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D1t(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:o}=t;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${a.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const s=n.readSync(r.dataId),l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=n.readSync(o.dataId)[0],[f,d,h,p,v]=pdt(s,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],a.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(g=>Number(g)))),n.makeTensorInfo([v.length],r.dtype,new Int32Array(v))]}const N1t={kernelName:Yse,backendName:"webgl",kernelFunc:D1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R1t(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.readSync(a.dataId)),s=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[u,c,f]=vdt(s,r.shape,r.dtype,o,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}const M1t={kernelName:Xse,backendName:"webgl",kernelFunc:R1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $1t(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const o=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=Rhe(o,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const L1t={kernelName:qse,backendName:"webgl",kernelFunc:$1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O1t(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const o=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=Rhe(o,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}const P1t={kernelName:Zse,backendName:"webgl",kernelFunc:O1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F1t(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:o}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=Hg(i,a,s),h=!1;if(i.dtype==="string"){const m=n.bufferSync(a),y=n.bufferSync(i),b=Rh(n.readSync(o.dataId)[0]),x=fdt(m,y,s,d,c,u,l,f,b,h);return n.makeTensorInfo(s,x.dtype,x.values)}const p=new n6(u,l,a.shape.length,i.shape.length,f,[d,1],h),v=n.runWebGLProgram(p,[i,a,o],i.dtype),g=Ot({inputs:{x:v},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(v),g}const B1t={kernelName:Jse,backendName:"webgl",kernelFunc:F1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V1t(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:o}=r,s=jn(o,a.shape)[0],l=v8(a,i,s),u=a.shape.length,c=new Array(u).fill(0),f=a.shape.slice();return l.map(d=>{const h=[...f];h[s]=d;const p=f1({inputs:{x:a},backend:n,attrs:{begin:c,size:h}});return c[s]+=d,p})}const z1t={kernelName:$D,backendName:"webgl",kernelFunc:V1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gK="return sqrt(x);",W1t=mr({opSnippet:gK,packedOpSnippet:gK,cpuKernelImpl:gdt}),H1t={kernelName:CS,backendName:"webgl",kernelFunc:W1t};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U1t="return x * x;",G1t=mr({opSnippet:U1t}),K1t={kernelName:iz,backendName:"webgl",kernelFunc:G1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mK="return (a - b) * (a - b);",j1t=Ni({opSnippet:mK,packedOpSnippet:mK}),Y1t={kernelName:TS,backendName:"webgl",kernelFunc:j1t};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X1t(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;if(a.dtype!=="string")throw new Error("Input must be of datatype string");const i=n.readSync(a.dataId),o=Yf(i),s=mdt(o,"string",r);return n.makeTensorInfo(a.shape,"string",s)}const q1t={kernelName:oz,backendName:"webgl",kernelFunc:X1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z1t({inputs:e,attrs:t,backend:n}){const{x:r}=e,a=Gl+`
    return x > 0.0 ? 1.0 : float(${t.alpha});
  `,i=new bc(r.shape,a);return n.runWebGLProgram(i,[r],r.dtype)}const J1t={kernelName:DS,backendName:"webgl",kernelFunc:Z1t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Q1t{constructor(t,n,r){this.variableNames=["x"],this.outputShape=r;const a=r.length,i=Br(r.length),o=Br(r.length);let s="";if(a===1)s="coords * strides + begin";else{let l=0;s=r.map((u,c)=>(l++,r.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${l-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${t});
      ${i} strides = ${i}(${n});

      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ebt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:o,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r,{finalShapeSparse:h,finalShape:p,isIdentity:v,sliceDim0:g,isSimpleSlice:m,begin:y,end:b,strides:x}=Zz(a.shape,i,o,s,l,u,c,f,d);let _;if(v)_=Ot({inputs:{x:a},backend:n,attrs:{shape:p}});else if(g||m){pe(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const C=Yz(y,b,x),k=f1({inputs:{x:a},backend:n,attrs:{begin:y,size:C}});_=Ot({inputs:{x:k},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(k)}else if(n.shouldExecuteOnCPU([a])){const k=n.readSync(a.dataId),T=Gn(a.shape,a.dtype,k),E=ydt(h,T,x,y);_=n.makeTensorInfo(p,a.dtype,E.values)}else{const k=new Q1t(y,x,h);_=n.runWebGLProgram(k,[a],a.dtype)}const S=Ot({inputs:{x:_},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(_),S}const tbt={kernelName:sz,backendName:"webgl",kernelFunc:ebt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nbt(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:o,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.readSync(c.dataId),h=n.readSync(f.dataId),[p,v]=bdt(d,h,a,i,o,s,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",v)]}const rbt={kernelName:Qse,backendName:"webgl",kernelFunc:nbt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function abt(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:o}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const s=n.readSync(i.dataId),l=n.readSync(o.dataId)[0],[u,c,f]=xdt(s,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const ibt={kernelName:ele,backendName:"webgl",kernelFunc:abt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function obt(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(i.dataId),s=wdt(o,a);return n.makeTensorInfo(i.shape,"int32",s)}const sbt={kernelName:tle,backendName:"webgl",kernelFunc:obt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lbt="return tan(x);",ubt=mr({opSnippet:lbt}),cbt={kernelName:IS,backendName:"webgl",kernelFunc:ubt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fbt=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,dbt=mr({opSnippet:fbt}),hbt={kernelName:ES,backendName:"webgl",kernelFunc:dbt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pbt(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:a,indices:i,updates:o}=t,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=Hg(o,i,a.shape),d=[f/u,u];if(f===0)return n.makeTensorInfo(a.shape,i.dtype);const h=Ot({inputs:{x:i},backend:n,attrs:{shape:[l,s]}}),p=Ot({inputs:{x:o},backend:n,attrs:{shape:[l,u]}}),v=Ot({inputs:{x:a},backend:n,attrs:{shape:d}}),g=new n6(l,s,h.shape.length,p.shape.length,c,d,!1,!0),m=n.runWebGLProgram(g,[p,h,v],v.dtype),y=Ot({inputs:{x:m},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),y}const vbt={kernelName:Kse,backendName:"webgl",kernelFunc:pbt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gbt{constructor(t,n){this.variableNames=["A"];const r=new Array(t.length);for(let o=0;o<r.length;o++)r[o]=t[o]*n[o];this.outputShape=r,this.rank=r.length;const a=Br(this.rank),i=mbt(t);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function mbt(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(t===1)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let a=0;a<e.length;a++)r.push(`imod(${n[a]}, ${e[a]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function upe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;if(a.dtype==="string"||a.shape.length>5){const l=n.readSync(a.dataId),u=a.dtype==="string"?l.map(d=>Rh(d)):l,c=Gn(a.shape,a.dtype,u),f=Sdt(c,i);return n.makeTensorInfo(f.shape,f.dtype,f.values)}const o=new gbt(a.shape,i);return n.runWebGLProgram(o,[a],a.dtype)}const ybt={kernelName:AS,backendName:"webgl",kernelFunc:upe};class bbt{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class xbt{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ip(e,t){t!==null&&e.disposeIntermediateTensorInfo(t)}function yK(e){let t=1;for(;t<e;)t*=2;return t}function wbt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:o}=r,s=tt().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=tt().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=a.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([a])||c<s||i>l){const E=n.readSync(a.dataId),[I,A]=Cdt(E,u,a.dtype,i,o);return[n.makeTensorInfo(I.shape,I.dtype,I.values),n.makeTensorInfo(A.shape,A.dtype,A.values)]}if(i===0)return u[u.length-1]=0,[n.makeTensorInfo(u,a.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(c===1)return[a,eC({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const f=n.texData.get(a.dataId),d=f!==null&&f.isPacked,h=d?n.unpackTensor(a):a,v=ot(u)/c,g=Ot({inputs:{x:h},attrs:{shape:[v,c]},backend:n});d&&Ip(n,h);const m=yK(i),y=yK(c);let b=null;const x=()=>b===null?[g,g]:[g,b],_=(E,I,A)=>{const N=x(),L=new bbt(A),D=[[c],[b===null?1:0],[Number.NEGATIVE_INFINITY],[E],[I]],P=b;b=n.runWebGLProgram(L,N,"int32",D),Ip(n,P)};for(let E=1;E<m;E*=2){const I=E*2;for(let A=E;A>=1;A/=2)_(I,A,[v,y])}for(let E=y;E>m;E/=2){const I=x(),A=new xbt([v,E/2]),L=[[c],[b===null?1:0],[m]],R=b;b=n.runWebGLProgram(A,I,"int32",L),Ip(n,R);const D=m/2,P=D*2;for(let O=D;O>=1;O/=2)_(P,O,b.shape)}let S=b;b=f1({inputs:{x:b},backend:n,attrs:{begin:0,size:[v,i]}}),Ip(n,S);let C=tpe({inputs:{x:g,indices:b},backend:n,attrs:{axis:1,batchDims:1}});Ip(n,g);const k=u.slice(0,-1);k.push(i),S=b,b=Ot({inputs:{x:b},attrs:{shape:k},backend:n}),Ip(n,S);const T=C;return C=Ot({inputs:{x:C},attrs:{shape:k},backend:n}),Ip(n,T),[C,b]}const _bt={kernelName:lz,backendName:"webgl",kernelFunc:wbt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sbt{constructor(t,n,r,a,i,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const s=r==="nearest"?1:2;let l;switch(a){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${t}));

                if (${s} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cbt(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,transforms:i}=t,{interpolation:o,fillMode:s,fillValue:l,outputShape:u}=r,[c,f,d,h]=a.shape,[p,v]=u??[f,d],g=[c,p,v,h],m=new Sbt(f,d,o,s,l,g);return n.runWebGLProgram(m,[a,i],"float32")}const Tbt={kernelName:uz,backendName:"webgl",kernelFunc:Cbt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kbt(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;ZS(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=r.readSync(i.dataId),{outputValues:s,outputShape:l,indices:u}=Tdt(o,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}const Ibt={kernelName:cz,backendName:"webgl",kernelFunc:kbt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ebt(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:i}=r;i<0&&(i+=a.shape.length);const o=a,s=o.shape.length,l=a.shape[i],u=new Array(s-1);let c=0;for(let v=0;v<s;v++)v!==i&&(u[c++]=o.shape[v]);const f=[],d=new Array(s).fill(0),h=o.shape.slice();h[i]=1;const p=new Array(l);for(let v=0;v<p.length;v++){d[i]=v;const g=f1({inputs:{x:o},backend:n,attrs:{begin:d,size:h}}),m=Ot({inputs:{x:g},backend:n,attrs:{shape:u}});p[v]=m,f.push(g)}return f.forEach(v=>n.disposeIntermediateTensorInfo(v)),p}const Abt={kernelName:OD,backendName:"webgl",kernelFunc:Ebt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dbt{constructor(t,n){this.variableNames=["x","segmentIds"];const r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,s=o*Math.ceil(i/r);this.outputShape=[a,s];const l="0.0",u="sumValue",c=Math.floor(r/4)*4,f=r%4,d=`
        sumValue += dot(values, segFilter);
    `;let h="";i%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${o})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${o})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${f===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${d}
        } else if (${f===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${d}
        } else if (${f===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${d}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nbt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:o}=r,s=a.shape.length,l=[];let u=0;const c=da([u],s);let f=a;c!=null&&(f=_o({inputs:{x:a},backend:n,attrs:{perm:c}}),l.push(f),u=Ca(1,s)[0]);const d=Uue(f.shape,u,o),h=ot([f.shape[u]]),p=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}});l.push(p);const v=dz(a.dtype),g=(x,_,S,C,k)=>{const T=x.shape[0],E=x.shape[1],I=Hue(E,k),A={windowSize:I,inSize:E,batchSize:T,numSegments:k},N=new Dbt(A,_),L=n.compileAndRun(N,[x,S],C);if(l.push(L),L.shape[1]===k)return L;const R=lpe({backend:n,attrs:{start:0,stop:k,step:1,dtype:"float32"}}),D=upe({inputs:{x:R},backend:n,attrs:{reps:[E/I]}});return l.push(R),l.push(D),g(L,_,D,C,k)},m=g(p,"unsortedSegmentSum",i,v,o),y=Ot({inputs:{x:m},backend:n,attrs:{shape:d}});let b=y;if(c!=null){l.push(y);const x=ap(c);b=_o({inputs:{x:b},backend:n,attrs:{perm:x}})}return l.forEach(x=>n.disposeIntermediateTensorInfo(x)),b}const Rbt={kernelName:PD,backendName:"webgl",kernelFunc:Nbt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mbt=[ght,yht,wht,Cht,kht,Aht,Nht,Mht,Pht,Bht,Wht,Ght,Yht,Jht,tpt,rpt,ipt,upt,fpt,hpt,mpt,Cpt,kpt,Dpt,Rpt,Fpt,Vpt,Upt,Qdt,jpt,Jpt,nvt,lvt,fvt,hvt,vvt,mvt,wvt,Cvt,Ivt,Avt,Nvt,Mvt,Ovt,Fvt,Wvt,Uvt,jvt,qvt,Jvt,ngt,ogt,cgt,hgt,ggt,mgt,bgt,wgt,Sgt,Tgt,Igt,Ngt,$gt,Pgt,Bgt,Wgt,Ggt,Xgt,Qgt,Jdt,t0t,qpt,a0t,s0t,c0t,tht,p0t,y0t,x0t,C0t,I0t,N0t,$0t,F0t,W0t,G0t,j0t,Z0t,Q0t,tmt,imt,smt,umt,fmt,hmt,mmt,wmt,Tmt,Mmt,aht,Pmt,Vmt,Hmt,Kmt,$pt,Xmt,Zmt,Qmt,nyt,oyt,rht,lyt,cyt,dyt,pyt,vyt,Lpt,Amt,yyt,_yt,kyt,oht,Dyt,Myt,Pyt,Vyt,Uyt,Kyt,Xyt,Jyt,t1t,a1t,s1t,c1t,p1t,m1t,w1t,C1t,_pt,Nmt,I1t,A1t,N1t,M1t,L1t,P1t,B1t,z1t,H1t,K1t,Y1t,q1t,J1t,tbt,rbt,ibt,sbt,Dmt,hht,cbt,hbt,vbt,ybt,_bt,Tbt,pht,Ibt,Abt,Rbt,qmt];for(const e of Mbt)rle(e);function $bt(e,t){if(isNaN(e))return 0;if(e<=t[0])return 1;if(e>t[t.length-1])return 255;for(let n=1;n<254;n++)if(t[n-1]<e&&e<=t[n])return n+1;return 254}async function Lbt(e,t){try{const r=await(await fetch("./model/saved_quantiles.json")).json();return e.map(i=>i.map((o,s)=>{const l=t[s];return r[l]?$bt(o,r[l]):(console.error(` ${l} `),o)}))}catch(n){throw console.error(":",n),n}}/*!
  * shared v11.0.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const UI=typeof window<"u",fp=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Obt=(e,t,n)=>Pbt({l:e,k:t,s:n}),Pbt=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ba=e=>typeof e=="number"&&isFinite(e),Fbt=e=>r6(e)==="[object Date]",_y=e=>r6(e)==="[object RegExp]",hN=e=>nr(e)&&Object.keys(e).length===0,li=Object.assign,Bbt=Object.create,Hr=(e=null)=>Bbt(e);let bK;const Tv=()=>bK||(bK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Hr());function xK(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Vbt=Object.prototype.hasOwnProperty;function mu(e,t){return Vbt.call(e,t)}const Wa=Array.isArray,ia=e=>typeof e=="function",Zt=e=>typeof e=="string",kr=e=>typeof e=="boolean",Ar=e=>e!==null&&typeof e=="object",zbt=e=>Ar(e)&&ia(e.then)&&ia(e.catch),cpe=Object.prototype.toString,r6=e=>cpe.call(e),nr=e=>r6(e)==="[object Object]",Wbt=e=>e==null?"":Wa(e)||nr(e)&&e.toString===cpe?JSON.stringify(e,null,2):String(e);function a6(e,t=""){return e.reduce((n,r,a)=>a===0?n+r:n+t+r,"")}function Hbt(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const d2=e=>!Ar(e)||Wa(e);function hk(e,t){if(d2(e)||d2(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:a}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(Ar(r[i])&&!Ar(a[i])&&(a[i]=Array.isArray(r[i])?[]:Hr()),d2(a[i])||d2(r[i])?a[i]=r[i]:n.push({src:r[i],des:a[i]}))})}}/*!
  * message-compiler v11.0.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Ubt(e,t,n){return{line:e,column:t,offset:n}}function iF(e,t,n){return{start:e,end:t}}const Or={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},Gbt=17;function pN(e,t,n={}){const{domain:r,messages:a,args:i}=n,o=e,s=new SyntaxError(String(o));return s.code=e,t&&(s.location=t),s.domain=r,s}function Kbt(e){throw e}const hf=" ",jbt="\r",Ro=`
`,Ybt="\u2028",Xbt="\u2029";function qbt(e){const t=e;let n=0,r=1,a=1,i=0;const o=C=>t[C]===jbt&&t[C+1]===Ro,s=C=>t[C]===Ro,l=C=>t[C]===Xbt,u=C=>t[C]===Ybt,c=C=>o(C)||s(C)||l(C)||u(C),f=()=>n,d=()=>r,h=()=>a,p=()=>i,v=C=>o(C)||l(C)||u(C)?Ro:t[C],g=()=>v(n),m=()=>v(n+i);function y(){return i=0,c(n)&&(r++,a=0),o(n)&&n++,n++,a++,t[n]}function b(){return o(n+i)&&i++,i++,t[n+i]}function x(){n=0,r=1,a=1,i=0}function _(C=0){i=C}function S(){const C=n+i;for(;C!==n;)y();i=0}return{index:f,line:d,column:h,peekOffset:p,charAt:v,currentChar:g,currentPeek:m,next:y,peek:b,reset:x,resetPeek:_,skipToPeek:S}}const wd=void 0,Zbt=".",wK="'",Jbt="tokenizer";function Qbt(e,t={}){const n=t.location!==!1,r=qbt(e),a=()=>r.index(),i=()=>Ubt(r.line(),r.column(),r.index()),o=i(),s=a(),l={currentType:13,offset:s,startLoc:o,endLoc:o,lastType:13,lastOffset:s,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function f(J,te,xe,...Ee){const Qe=u();if(te.column+=xe,te.offset+=xe,c){const Be=n?iF(Qe.startLoc,te):null,ce=pN(J,Be,{domain:Jbt,args:Ee});c(ce)}}function d(J,te,xe){J.endLoc=i(),J.currentType=te;const Ee={type:te};return n&&(Ee.loc=iF(J.startLoc,J.endLoc)),xe!=null&&(Ee.value=xe),Ee}const h=J=>d(J,13);function p(J,te){return J.currentChar()===te?(J.next(),te):(f(Or.EXPECTED_TOKEN,i(),0,te),"")}function v(J){let te="";for(;J.currentPeek()===hf||J.currentPeek()===Ro;)te+=J.currentPeek(),J.peek();return te}function g(J){const te=v(J);return J.skipToPeek(),te}function m(J){if(J===wd)return!1;const te=J.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te===95}function y(J){if(J===wd)return!1;const te=J.charCodeAt(0);return te>=48&&te<=57}function b(J,te){const{currentType:xe}=te;if(xe!==2)return!1;v(J);const Ee=m(J.currentPeek());return J.resetPeek(),Ee}function x(J,te){const{currentType:xe}=te;if(xe!==2)return!1;v(J);const Ee=J.currentPeek()==="-"?J.peek():J.currentPeek(),Qe=y(Ee);return J.resetPeek(),Qe}function _(J,te){const{currentType:xe}=te;if(xe!==2)return!1;v(J);const Ee=J.currentPeek()===wK;return J.resetPeek(),Ee}function S(J,te){const{currentType:xe}=te;if(xe!==7)return!1;v(J);const Ee=J.currentPeek()===".";return J.resetPeek(),Ee}function C(J,te){const{currentType:xe}=te;if(xe!==8)return!1;v(J);const Ee=m(J.currentPeek());return J.resetPeek(),Ee}function k(J,te){const{currentType:xe}=te;if(!(xe===7||xe===11))return!1;v(J);const Ee=J.currentPeek()===":";return J.resetPeek(),Ee}function T(J,te){const{currentType:xe}=te;if(xe!==9)return!1;const Ee=()=>{const Be=J.currentPeek();return Be==="{"?m(J.peek()):Be==="@"||Be==="|"||Be===":"||Be==="."||Be===hf||!Be?!1:Be===Ro?(J.peek(),Ee()):I(J,!1)},Qe=Ee();return J.resetPeek(),Qe}function E(J){v(J);const te=J.currentPeek()==="|";return J.resetPeek(),te}function I(J,te=!0){const xe=(Qe=!1,Be="")=>{const ce=J.currentPeek();return ce==="{"||ce==="@"||!ce?Qe:ce==="|"?!(Be===hf||Be===Ro):ce===hf?(J.peek(),xe(!0,hf)):ce===Ro?(J.peek(),xe(!0,Ro)):!0},Ee=xe();return te&&J.resetPeek(),Ee}function A(J,te){const xe=J.currentChar();return xe===wd?wd:te(xe)?(J.next(),xe):null}function N(J){const te=J.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te>=48&&te<=57||te===95||te===36}function L(J){return A(J,N)}function R(J){const te=J.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te>=48&&te<=57||te===95||te===36||te===45}function D(J){return A(J,R)}function P(J){const te=J.charCodeAt(0);return te>=48&&te<=57}function O(J){return A(J,P)}function M(J){const te=J.charCodeAt(0);return te>=48&&te<=57||te>=65&&te<=70||te>=97&&te<=102}function W(J){return A(J,M)}function U(J){let te="",xe="";for(;te=O(J);)xe+=te;return xe}function V(J){let te="";for(;;){const xe=J.currentChar();if(xe==="{"||xe==="}"||xe==="@"||xe==="|"||!xe)break;if(xe===hf||xe===Ro)if(I(J))te+=xe,J.next();else{if(E(J))break;te+=xe,J.next()}else te+=xe,J.next()}return te}function H(J){g(J);let te="",xe="";for(;te=D(J);)xe+=te;return J.currentChar()===wd&&f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),xe}function K(J){g(J);let te="";return J.currentChar()==="-"?(J.next(),te+=`-${U(J)}`):te+=U(J),J.currentChar()===wd&&f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),te}function j(J){return J!==wK&&J!==Ro}function ne(J){g(J),p(J,"'");let te="",xe="";for(;te=A(J,j);)te==="\\"?xe+=Q(J):xe+=te;const Ee=J.currentChar();return Ee===Ro||Ee===wd?(f(Or.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),Ee===Ro&&(J.next(),p(J,"'")),xe):(p(J,"'"),xe)}function Q(J){const te=J.currentChar();switch(te){case"\\":case"'":return J.next(),`\\${te}`;case"u":return oe(J,te,4);case"U":return oe(J,te,6);default:return f(Or.UNKNOWN_ESCAPE_SEQUENCE,i(),0,te),""}}function oe(J,te,xe){p(J,te);let Ee="";for(let Qe=0;Qe<xe;Qe++){const Be=W(J);if(!Be){f(Or.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${te}${Ee}${J.currentChar()}`);break}Ee+=Be}return`\\${te}${Ee}`}function ae(J){return J!=="{"&&J!=="}"&&J!==hf&&J!==Ro}function me(J){g(J);let te="",xe="";for(;te=A(J,ae);)xe+=te;return xe}function ve(J){let te="",xe="";for(;te=L(J);)xe+=te;return xe}function B(J){const te=xe=>{const Ee=J.currentChar();return Ee==="{"||Ee==="@"||Ee==="|"||Ee==="("||Ee===")"||!Ee||Ee===hf?xe:(xe+=Ee,J.next(),te(xe))};return te("")}function re(J){g(J);const te=p(J,"|");return g(J),te}function ge(J,te){let xe=null;switch(J.currentChar()){case"{":return te.braceNest>=1&&f(Or.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),J.next(),xe=d(te,2,"{"),g(J),te.braceNest++,xe;case"}":return te.braceNest>0&&te.currentType===2&&f(Or.EMPTY_PLACEHOLDER,i(),0),J.next(),xe=d(te,3,"}"),te.braceNest--,te.braceNest>0&&g(J),te.inLinked&&te.braceNest===0&&(te.inLinked=!1),xe;case"@":return te.braceNest>0&&f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),xe=Ie(J,te)||h(te),te.braceNest=0,xe;default:{let Qe=!0,Be=!0,ce=!0;if(E(J))return te.braceNest>0&&f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),xe=d(te,1,re(J)),te.braceNest=0,te.inLinked=!1,xe;if(te.braceNest>0&&(te.currentType===4||te.currentType===5||te.currentType===6))return f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),te.braceNest=0,Ce(J,te);if(Qe=b(J,te))return xe=d(te,4,H(J)),g(J),xe;if(Be=x(J,te))return xe=d(te,5,K(J)),g(J),xe;if(ce=_(J,te))return xe=d(te,6,ne(J)),g(J),xe;if(!Qe&&!Be&&!ce)return xe=d(te,12,me(J)),f(Or.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,xe.value),g(J),xe;break}}return xe}function Ie(J,te){const{currentType:xe}=te;let Ee=null;const Qe=J.currentChar();switch((xe===7||xe===8||xe===11||xe===9)&&(Qe===Ro||Qe===hf)&&f(Or.INVALID_LINKED_FORMAT,i(),0),Qe){case"@":return J.next(),Ee=d(te,7,"@"),te.inLinked=!0,Ee;case".":return g(J),J.next(),d(te,8,".");case":":return g(J),J.next(),d(te,9,":");default:return E(J)?(Ee=d(te,1,re(J)),te.braceNest=0,te.inLinked=!1,Ee):S(J,te)||k(J,te)?(g(J),Ie(J,te)):C(J,te)?(g(J),d(te,11,ve(J))):T(J,te)?(g(J),Qe==="{"?ge(J,te)||Ee:d(te,10,B(J))):(xe===7&&f(Or.INVALID_LINKED_FORMAT,i(),0),te.braceNest=0,te.inLinked=!1,Ce(J,te))}}function Ce(J,te){let xe={type:13};if(te.braceNest>0)return ge(J,te)||h(te);if(te.inLinked)return Ie(J,te)||h(te);switch(J.currentChar()){case"{":return ge(J,te)||h(te);case"}":return f(Or.UNBALANCED_CLOSING_BRACE,i(),0),J.next(),d(te,3,"}");case"@":return Ie(J,te)||h(te);default:{if(E(J))return xe=d(te,1,re(J)),te.braceNest=0,te.inLinked=!1,xe;if(I(J))return d(te,0,V(J));break}}return xe}function he(){const{currentType:J,offset:te,startLoc:xe,endLoc:Ee}=l;return l.lastType=J,l.lastOffset=te,l.lastStartLoc=xe,l.lastEndLoc=Ee,l.offset=a(),l.startLoc=i(),r.currentChar()===wd?d(l,13):Ce(r,l)}return{nextToken:he,currentOffset:a,currentPosition:i,context:u}}const ext="parser",txt=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function nxt(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function rxt(e={}){const t=e.location!==!1,{onError:n}=e;function r(m,y,b,x,..._){const S=m.currentPosition();if(S.offset+=x,S.column+=x,n){const C=t?iF(b,S):null,k=pN(y,C,{domain:ext,args:_});n(k)}}function a(m,y,b){const x={type:m};return t&&(x.start=y,x.end=y,x.loc={start:b,end:b}),x}function i(m,y,b,x){t&&(m.end=y,m.loc&&(m.loc.end=b))}function o(m,y){const b=m.context(),x=a(3,b.offset,b.startLoc);return x.value=y,i(x,m.currentOffset(),m.currentPosition()),x}function s(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:_}=b,S=a(5,x,_);return S.index=parseInt(y,10),m.nextToken(),i(S,m.currentOffset(),m.currentPosition()),S}function l(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:_}=b,S=a(4,x,_);return S.key=y,m.nextToken(),i(S,m.currentOffset(),m.currentPosition()),S}function u(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:_}=b,S=a(9,x,_);return S.value=y.replace(txt,nxt),m.nextToken(),i(S,m.currentOffset(),m.currentPosition()),S}function c(m){const y=m.nextToken(),b=m.context(),{lastOffset:x,lastStartLoc:_}=b,S=a(8,x,_);return y.type!==11?(r(m,Or.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),S.value="",i(S,x,_),{nextConsumeToken:y,node:S}):(y.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Xu(y)),S.value=y.value||"",i(S,m.currentOffset(),m.currentPosition()),{node:S})}function f(m,y){const b=m.context(),x=a(7,b.offset,b.startLoc);return x.value=y,i(x,m.currentOffset(),m.currentPosition()),x}function d(m){const y=m.context(),b=a(6,y.offset,y.startLoc);let x=m.nextToken();if(x.type===8){const _=c(m);b.modifier=_.node,x=_.nextConsumeToken||m.nextToken()}switch(x.type!==9&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(x)),x=m.nextToken(),x.type===2&&(x=m.nextToken()),x.type){case 10:x.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(x)),b.key=f(m,x.value||"");break;case 4:x.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(x)),b.key=l(m,x.value||"");break;case 5:x.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(x)),b.key=s(m,x.value||"");break;case 6:x.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(x)),b.key=u(m,x.value||"");break;default:{r(m,Or.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const _=m.context(),S=a(7,_.offset,_.startLoc);return S.value="",i(S,_.offset,_.startLoc),b.key=S,i(b,_.offset,_.startLoc),{nextConsumeToken:x,node:b}}}return i(b,m.currentOffset(),m.currentPosition()),{node:b}}function h(m){const y=m.context(),b=y.currentType===1?m.currentOffset():y.offset,x=y.currentType===1?y.endLoc:y.startLoc,_=a(2,b,x);_.items=[];let S=null;do{const T=S||m.nextToken();switch(S=null,T.type){case 0:T.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(T)),_.items.push(o(m,T.value||""));break;case 5:T.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(T)),_.items.push(s(m,T.value||""));break;case 4:T.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(T)),_.items.push(l(m,T.value||""));break;case 6:T.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Xu(T)),_.items.push(u(m,T.value||""));break;case 7:{const E=d(m);_.items.push(E.node),S=E.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const C=y.currentType===1?y.lastOffset:m.currentOffset(),k=y.currentType===1?y.lastEndLoc:m.currentPosition();return i(_,C,k),_}function p(m,y,b,x){const _=m.context();let S=x.items.length===0;const C=a(1,y,b);C.cases=[],C.cases.push(x);do{const k=h(m);S||(S=k.items.length===0),C.cases.push(k)}while(_.currentType!==13);return S&&r(m,Or.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),i(C,m.currentOffset(),m.currentPosition()),C}function v(m){const y=m.context(),{offset:b,startLoc:x}=y,_=h(m);return y.currentType===13?_:p(m,b,x,_)}function g(m){const y=Qbt(m,li({},e)),b=y.context(),x=a(0,b.offset,b.startLoc);return t&&x.loc&&(x.loc.source=m),x.body=v(y),e.onCacheKey&&(x.cacheKey=e.onCacheKey(m)),b.currentType!==13&&r(y,Or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,m[b.offset]||""),i(x,y.currentOffset(),y.currentPosition()),x}return{parse:g}}function Xu(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function axt(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function _K(e,t){for(let n=0;n<e.length;n++)i6(e[n],t)}function i6(e,t){switch(e.type){case 1:_K(e.cases,t),t.helper("plural");break;case 2:_K(e.items,t);break;case 6:{i6(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function ixt(e,t={}){const n=axt(e);n.helper("normalize"),e.body&&i6(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function oxt(e){const t=e.body;return t.type===2?SK(t):t.cases.forEach(n=>SK(n)),e}function SK(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=a6(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function am(e){switch(e.t=e.type,e.type){case 0:{const t=e;am(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)am(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)am(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;am(t.key),t.k=t.key,delete t.key,t.modifier&&(am(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function sxt(e,t){const{sourceMap:n,filename:r,breakLineCode:a,needIndent:i}=t,o=t.location!==!1,s={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:i,indentLevel:0};o&&e.loc&&(s.source=e.loc.source);const l=()=>s;function u(g,m){s.code+=g}function c(g,m=!0){const y=m?a:"";u(i?y+"  ".repeat(g):y)}function f(g=!0){const m=++s.indentLevel;g&&c(m)}function d(g=!0){const m=--s.indentLevel;g&&c(m)}function h(){c(s.indentLevel)}return{context:l,push:u,indent:f,deindent:d,newline:h,helper:g=>`_${g}`,needIndent:()=>s.needIndent}}function lxt(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Sy(e,t.key),t.modifier?(e.push(", "),Sy(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function uxt(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const a=t.items.length;for(let i=0;i<a&&(Sy(e,t.items[i]),i!==a-1);i++)e.push(", ");e.deindent(r()),e.push("])")}function cxt(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const a=t.cases.length;for(let i=0;i<a&&(Sy(e,t.cases[i]),i!==a-1);i++)e.push(", ");e.deindent(r()),e.push("])")}}function fxt(e,t){t.body?Sy(e,t.body):e.push("null")}function Sy(e,t){const{helper:n}=e;switch(t.type){case 0:fxt(e,t);break;case 1:cxt(e,t);break;case 2:uxt(e,t);break;case 6:lxt(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const dxt=(e,t={})=>{const n=Zt(t.mode)?t.mode:"normal",r=Zt(t.filename)?t.filename:"message.intl",a=!!t.sourceMap,i=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,o=t.needIndent?t.needIndent:n!=="arrow",s=e.helpers||[],l=sxt(e,{mode:n,filename:r,sourceMap:a,breakLineCode:i,needIndent:o});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),s.length>0&&(l.push(`const { ${a6(s.map(f=>`${f}: _${f}`),", ")} } = ctx`),l.newline()),l.push("return "),Sy(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:u,map:c}=l.context();return{ast:e,code:u,map:c?c.toJSON():void 0}};function hxt(e,t={}){const n=li({},t),r=!!n.jit,a=!!n.minify,i=n.optimize==null?!0:n.optimize,s=rxt(n).parse(e);return r?(i&&oxt(s),a&&am(s),{ast:s,code:""}):(ixt(s,n),dxt(s,n))}/*!
  * core-base v11.0.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function pxt(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Tv().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Tv().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function vM(e){return n=>vxt(n,e)}function vxt(e,t){const n=mxt(t);if(n==null)throw kw(0);if(o6(n)===1){const i=bxt(n);return e.plural(i.reduce((o,s)=>[...o,CK(e,s)],[]))}else return CK(e,n)}const gxt=["b","body"];function mxt(e){return dp(e,gxt)}const yxt=["c","cases"];function bxt(e){return dp(e,yxt,[])}function CK(e,t){const n=wxt(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const r=Sxt(t).reduce((a,i)=>[...a,oF(e,i)],[]);return e.normalize(r)}}const xxt=["s","static"];function wxt(e){return dp(e,xxt)}const _xt=["i","items"];function Sxt(e){return dp(e,_xt,[])}function oF(e,t){const n=o6(t);switch(n){case 3:return h2(t,n);case 9:return h2(t,n);case 4:{const r=t;if(mu(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(mu(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw kw(n)}case 5:{const r=t;if(mu(r,"i")&&Ba(r.i))return e.interpolate(e.list(r.i));if(mu(r,"index")&&Ba(r.index))return e.interpolate(e.list(r.index));throw kw(n)}case 6:{const r=t,a=Ixt(r),i=Axt(r);return e.linked(oF(e,i),a?oF(e,a):void 0,e.type)}case 7:return h2(t,n);case 8:return h2(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const Cxt=["t","type"];function o6(e){return dp(e,Cxt)}const Txt=["v","value"];function h2(e,t){const n=dp(e,Txt);if(n)return n;throw kw(t)}const kxt=["m","modifier"];function Ixt(e){return dp(e,kxt)}const Ext=["k","key"];function Axt(e){const t=dp(e,Ext);if(t)return t;throw kw(6)}function dp(e,t,n){for(let r=0;r<t.length;r++){const a=t[r];if(mu(e,a)&&e[a]!=null)return e[a]}return n}function kw(e){return new Error(`unhandled node type: ${e}`)}const Dxt=e=>e;let p2=Hr();function Cy(e){return Ar(e)&&o6(e)===0&&(mu(e,"b")||mu(e,"body"))}function Nxt(e,t={}){let n=!1;const r=t.onError||Kbt;return t.onError=a=>{n=!0,r(a)},{...hxt(e,t),detectError:n}}function Rxt(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Zt(e)){kr(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||Dxt)(e),a=p2[r];if(a)return a;const{ast:i,detectError:o}=Nxt(e,{...t,location:!1,jit:!0}),s=vM(i);return o?s:p2[r]=s}else{const n=e.cacheKey;if(n){const r=p2[n];return r||(p2[n]=vM(e))}else return vM(e)}}let Iw=null;function Mxt(e){Iw=e}function $xt(e,t,n){Iw&&Iw.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const Lxt=Oxt("function:translate");function Oxt(e){return t=>Iw&&Iw.emit(e,t)}const Ef={INVALID_ARGUMENT:Gbt,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Pxt=24;function Af(e){return pN(e,null,void 0)}function s6(e,t){return t.locale!=null?TK(t.locale):TK(e.locale)}let gM;function TK(e){if(Zt(e))return e;if(ia(e)){if(e.resolvedOnce&&gM!=null)return gM;if(e.constructor.name==="Function"){const t=e();if(zbt(t))throw Af(Ef.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return gM=t}else throw Af(Ef.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Af(Ef.NOT_SUPPORT_LOCALE_TYPE)}function Fxt(e,t,n){return[...new Set([n,...Wa(t)?t:Ar(t)?Object.keys(t):Zt(t)?[t]:[n]])]}function fpe(e,t,n){const r=Zt(n)?n:Ew,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let i=a.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Wa(o);)o=kK(i,o,t);const s=Wa(t)||!nr(t)?t:t.default?t.default:null;o=Zt(s)?[s]:s,Wa(o)&&kK(i,o,!1),a.__localeChainCache.set(r,i)}return i}function kK(e,t,n){let r=!0;for(let a=0;a<t.length&&kr(r);a++){const i=t[a];Zt(i)&&(r=Bxt(e,t[a],n))}return r}function Bxt(e,t,n){let r;const a=t.split("-");do{const i=a.join("-");r=Vxt(e,i,n),a.splice(-1,1)}while(a.length&&r===!0);return r}function Vxt(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const a=t.replace(/!/g,"");e.push(a),(Wa(n)||nr(n))&&n[a]&&(r=n[a])}return r}const hp=[];hp[0]={w:[0],i:[3,0],"[":[4],o:[7]};hp[1]={w:[1],".":[2],"[":[4],o:[7]};hp[2]={w:[2],i:[3,0],0:[3,0]};hp[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};hp[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};hp[5]={"'":[4,0],o:8,l:[5,0]};hp[6]={'"':[4,0],o:8,l:[6,0]};const zxt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Wxt(e){return zxt.test(e)}function Hxt(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function Uxt(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Gxt(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Wxt(t)?Hxt(t):"*"+t}function Kxt(e){const t=[];let n=-1,r=0,a=0,i,o,s,l,u,c,f;const d=[];d[0]=()=>{o===void 0?o=s:o+=s},d[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},d[2]=()=>{d[0](),a++},d[3]=()=>{if(a>0)a--,r=4,d[0]();else{if(a=0,o===void 0||(o=Gxt(o),o===!1))return!1;d[1]()}};function h(){const p=e[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,s="\\"+p,d[0](),!0}for(;r!==null;)if(n++,i=e[n],!(i==="\\"&&h())){if(l=Uxt(i),f=hp[r],u=f[l]||f.l||8,u===8||(r=u[0],u[1]!==void 0&&(c=d[u[1]],c&&(s=i,c()===!1))))return;if(r===7)return t}}const IK=new Map;function jxt(e,t){return Ar(e)?e[t]:null}function Yxt(e,t){if(!Ar(e))return null;let n=IK.get(t);if(n||(n=Kxt(t),n&&IK.set(t,n)),!n)return null;const r=n.length;let a=e,i=0;for(;i<r;){const o=a[n[i]];if(o===void 0||ia(a))return null;a=o,i++}return a}const Xxt="11.0.1",vN=-1,Ew="en-US",EK="",AK=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function qxt(){return{upper:(e,t)=>t==="text"&&Zt(e)?e.toUpperCase():t==="vnode"&&Ar(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Zt(e)?e.toLowerCase():t==="vnode"&&Ar(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Zt(e)?AK(e):t==="vnode"&&Ar(e)&&"__v_isVNode"in e?AK(e.children):e}}let dpe;function Zxt(e){dpe=e}let hpe;function Jxt(e){hpe=e}let ppe;function Qxt(e){ppe=e}let vpe=null;const ewt=e=>{vpe=e},twt=()=>vpe;let gpe=null;const DK=e=>{gpe=e},nwt=()=>gpe;let NK=0;function rwt(e={}){const t=ia(e.onWarn)?e.onWarn:Hbt,n=Zt(e.version)?e.version:Xxt,r=Zt(e.locale)||ia(e.locale)?e.locale:Ew,a=ia(r)?Ew:r,i=Wa(e.fallbackLocale)||nr(e.fallbackLocale)||Zt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,o=nr(e.messages)?e.messages:mM(a),s=nr(e.datetimeFormats)?e.datetimeFormats:mM(a),l=nr(e.numberFormats)?e.numberFormats:mM(a),u=li(Hr(),e.modifiers,qxt()),c=e.pluralRules||Hr(),f=ia(e.missing)?e.missing:null,d=kr(e.missingWarn)||_y(e.missingWarn)?e.missingWarn:!0,h=kr(e.fallbackWarn)||_y(e.fallbackWarn)?e.fallbackWarn:!0,p=!!e.fallbackFormat,v=!!e.unresolving,g=ia(e.postTranslation)?e.postTranslation:null,m=nr(e.processor)?e.processor:null,y=kr(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,x=ia(e.messageCompiler)?e.messageCompiler:dpe,_=ia(e.messageResolver)?e.messageResolver:hpe||jxt,S=ia(e.localeFallbacker)?e.localeFallbacker:ppe||Fxt,C=Ar(e.fallbackContext)?e.fallbackContext:void 0,k=e,T=Ar(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,E=Ar(k.__numberFormatters)?k.__numberFormatters:new Map,I=Ar(k.__meta)?k.__meta:{};NK++;const A={version:n,cid:NK,locale:r,fallbackLocale:i,messages:o,modifiers:u,pluralRules:c,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:p,unresolving:v,postTranslation:g,processor:m,warnHtmlMessage:y,escapeParameter:b,messageCompiler:x,messageResolver:_,localeFallbacker:S,fallbackContext:C,onWarn:t,__meta:I};return A.datetimeFormats=s,A.numberFormats=l,A.__datetimeFormatters=T,A.__numberFormatters=E,__INTLIFY_PROD_DEVTOOLS__&&$xt(A,n,I),A}const mM=e=>({[e]:Hr()});function l6(e,t,n,r,a){const{missing:i,onWarn:o}=e;if(i!==null){const s=i(e,n,t,a);return Zt(s)?s:t}else return t}function j1(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function awt(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function iwt(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(awt(e,t[r]))return!0;return!1}function RK(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,onWarn:i,localeFallbacker:o}=e,{__datetimeFormatters:s}=e,[l,u,c,f]=sF(...t),d=kr(c.missingWarn)?c.missingWarn:e.missingWarn;kr(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const h=!!c.part,p=s6(e,c),v=o(e,a,p);if(!Zt(l)||l==="")return new Intl.DateTimeFormat(p,f).format(u);let g={},m,y=null;const b="datetime format";for(let S=0;S<v.length&&(m=v[S],g=n[m]||{},y=g[l],!nr(y));S++)l6(e,l,m,d,b);if(!nr(y)||!Zt(m))return r?vN:l;let x=`${m}__${l}`;hN(f)||(x=`${x}__${JSON.stringify(f)}`);let _=s.get(x);return _||(_=new Intl.DateTimeFormat(m,li({},y,f)),s.set(x,_)),h?_.formatToParts(u):_.format(u)}const mpe=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function sF(...e){const[t,n,r,a]=e,i=Hr();let o=Hr(),s;if(Zt(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Af(Ef.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();s=new Date(u);try{s.toISOString()}catch{throw Af(Ef.INVALID_ISO_DATE_ARGUMENT)}}else if(Fbt(t)){if(isNaN(t.getTime()))throw Af(Ef.INVALID_DATE_ARGUMENT);s=t}else if(Ba(t))s=t;else throw Af(Ef.INVALID_ARGUMENT);return Zt(n)?i.key=n:nr(n)&&Object.keys(n).forEach(l=>{mpe.includes(l)?o[l]=n[l]:i[l]=n[l]}),Zt(r)?i.locale=r:nr(r)&&(o=r),nr(a)&&(o=a),[i.key||"",s,i,o]}function MK(e,t,n){const r=e;for(const a in n){const i=`${t}__${a}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function $K(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,onWarn:i,localeFallbacker:o}=e,{__numberFormatters:s}=e,[l,u,c,f]=lF(...t),d=kr(c.missingWarn)?c.missingWarn:e.missingWarn;kr(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const h=!!c.part,p=s6(e,c),v=o(e,a,p);if(!Zt(l)||l==="")return new Intl.NumberFormat(p,f).format(u);let g={},m,y=null;const b="number format";for(let S=0;S<v.length&&(m=v[S],g=n[m]||{},y=g[l],!nr(y));S++)l6(e,l,m,d,b);if(!nr(y)||!Zt(m))return r?vN:l;let x=`${m}__${l}`;hN(f)||(x=`${x}__${JSON.stringify(f)}`);let _=s.get(x);return _||(_=new Intl.NumberFormat(m,li({},y,f)),s.set(x,_)),h?_.formatToParts(u):_.format(u)}const ype=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function lF(...e){const[t,n,r,a]=e,i=Hr();let o=Hr();if(!Ba(t))throw Af(Ef.INVALID_ARGUMENT);const s=t;return Zt(n)?i.key=n:nr(n)&&Object.keys(n).forEach(l=>{ype.includes(l)?o[l]=n[l]:i[l]=n[l]}),Zt(r)?i.locale=r:nr(r)&&(o=r),nr(a)&&(o=a),[i.key||"",s,i,o]}function LK(e,t,n){const r=e;for(const a in n){const i=`${t}__${a}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const owt=e=>e,swt=e=>"",lwt="text",uwt=e=>e.length===0?"":a6(e),cwt=Wbt;function OK(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function fwt(e){const t=Ba(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ba(e.named.count)||Ba(e.named.n))?Ba(e.named.count)?e.named.count:Ba(e.named.n)?e.named.n:t:t}function dwt(e,t){t.count||(t.count=e),t.n||(t.n=e)}function hwt(e={}){const t=e.locale,n=fwt(e),r=Ar(e.pluralRules)&&Zt(t)&&ia(e.pluralRules[t])?e.pluralRules[t]:OK,a=Ar(e.pluralRules)&&Zt(t)&&ia(e.pluralRules[t])?OK:void 0,i=m=>m[r(n,m.length,a)],o=e.list||[],s=m=>o[m],l=e.named||Hr();Ba(e.pluralIndex)&&dwt(n,l);const u=m=>l[m];function c(m,y){const b=ia(e.messages)?e.messages(m,!!y):Ar(e.messages)?e.messages[m]:!1;return b||(e.parent?e.parent.message(m):swt)}const f=m=>e.modifiers?e.modifiers[m]:owt,d=nr(e.processor)&&ia(e.processor.normalize)?e.processor.normalize:uwt,h=nr(e.processor)&&ia(e.processor.interpolate)?e.processor.interpolate:cwt,p=nr(e.processor)&&Zt(e.processor.type)?e.processor.type:lwt,g={list:s,named:u,plural:i,linked:(m,...y)=>{const[b,x]=y;let _="text",S="";y.length===1?Ar(b)?(S=b.modifier||S,_=b.type||_):Zt(b)&&(S=b||S):y.length===2&&(Zt(b)&&(S=b||S),Zt(x)&&(_=x||_));const C=c(m,!0)(g),k=_==="vnode"&&Wa(C)&&S?C[0]:C;return S?f(S)(k,_):k},message:c,type:p,interpolate:h,normalize:d,values:li(Hr(),o,l)};return g}const PK=()=>"",bl=e=>ia(e);function FK(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:i,fallbackLocale:o,messages:s}=e,[l,u]=uF(...t),c=kr(u.missingWarn)?u.missingWarn:e.missingWarn,f=kr(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,d=kr(u.escapeParameter)?u.escapeParameter:e.escapeParameter,h=!!u.resolvedMessage,p=Zt(u.default)||kr(u.default)?kr(u.default)?i?l:()=>l:u.default:n?i?l:()=>l:null,v=n||p!=null&&(Zt(p)||ia(p)),g=s6(e,u);d&&pwt(u);let[m,y,b]=h?[l,g,s[g]||Hr()]:bpe(e,l,g,o,f,c),x=m,_=l;if(!h&&!(Zt(x)||Cy(x)||bl(x))&&v&&(x=p,_=x),!h&&(!(Zt(x)||Cy(x)||bl(x))||!Zt(y)))return a?vN:l;let S=!1;const C=()=>{S=!0},k=bl(x)?x:xpe(e,l,y,x,_,C);if(S)return x;const T=mwt(e,y,b,u),E=hwt(T),I=vwt(e,k,E),A=r?r(I,l):I;if(__INTLIFY_PROD_DEVTOOLS__){const N={timestamp:Date.now(),key:Zt(l)?l:bl(x)?x.key:"",locale:y||(bl(x)?x.locale:""),format:Zt(x)?x:bl(x)?x.source:"",message:A};N.meta=li({},e.__meta,twt()||{}),Lxt(N)}return A}function pwt(e){Wa(e.list)?e.list=e.list.map(t=>Zt(t)?xK(t):t):Ar(e.named)&&Object.keys(e.named).forEach(t=>{Zt(e.named[t])&&(e.named[t]=xK(e.named[t]))})}function bpe(e,t,n,r,a,i){const{messages:o,onWarn:s,messageResolver:l,localeFallbacker:u}=e,c=u(e,r,n);let f=Hr(),d,h=null;const p="translate";for(let v=0;v<c.length&&(d=c[v],f=o[d]||Hr(),(h=l(f,t))===null&&(h=f[t]),!(Zt(h)||Cy(h)||bl(h)));v++)if(!iwt(d,c)){const g=l6(e,t,d,i,p);g!==t&&(h=g)}return[h,d,f]}function xpe(e,t,n,r,a,i){const{messageCompiler:o,warnHtmlMessage:s}=e;if(bl(r)){const u=r;return u.locale=u.locale||n,u.key=u.key||t,u}if(o==null){const u=()=>r;return u.locale=n,u.key=t,u}const l=o(r,gwt(e,n,a,r,s,i));return l.locale=n,l.key=t,l.source=r,l}function vwt(e,t,n){return t(n)}function uF(...e){const[t,n,r]=e,a=Hr();if(!Zt(t)&&!Ba(t)&&!bl(t)&&!Cy(t))throw Af(Ef.INVALID_ARGUMENT);const i=Ba(t)?String(t):(bl(t),t);return Ba(n)?a.plural=n:Zt(n)?a.default=n:nr(n)&&!hN(n)?a.named=n:Wa(n)&&(a.list=n),Ba(r)?a.plural=r:Zt(r)?a.default=r:nr(r)&&li(a,r),[i,a]}function gwt(e,t,n,r,a,i){return{locale:t,key:n,warnHtmlMessage:a,onError:o=>{throw i&&i(o),o},onCacheKey:o=>Obt(t,n,o)}}function mwt(e,t,n,r){const{modifiers:a,pluralRules:i,messageResolver:o,fallbackLocale:s,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,d={locale:t,modifiers:a,pluralRules:i,messages:(h,p)=>{let v=o(n,h);if(v==null&&(c||p)){const[,,g]=bpe(c||e,h,t,s,l,u);v=o(g,h)}if(Zt(v)||Cy(v)){let g=!1;const y=xpe(e,h,t,v,h,()=>{g=!0});return g?PK:y}else return bl(v)?v:PK}};return e.processor&&(d.processor=e.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),Ba(r.plural)&&(d.pluralIndex=r.plural),d}pxt();/*!
  * vue-i18n v11.0.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const ywt="11.0.1";function bwt(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Tv().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Tv().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Tv().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Tv().__INTLIFY_PROD_DEVTOOLS__=!1)}const Es={UNEXPECTED_RETURN_TYPE:Pxt,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function qs(e,...t){return pN(e,null,void 0)}const cF=fp("__translateVNode"),fF=fp("__datetimeParts"),dF=fp("__numberParts"),wpe=fp("__setPluralRules"),_pe=fp("__injectWithOption"),hF=fp("__dispose");function Aw(e){if(!Ar(e))return e;for(const t in e)if(mu(e,t))if(!t.includes("."))Ar(e[t])&&Aw(e[t]);else{const n=t.split("."),r=n.length-1;let a=e,i=!1;for(let o=0;o<r;o++){if(n[o]in a||(a[n[o]]=Hr()),!Ar(a[n[o]])){i=!0;break}a=a[n[o]]}i||(a[n[r]]=e[t],delete e[t]),Ar(a[n[r]])&&Aw(a[n[r]])}return e}function u6(e,t){const{messages:n,__i18n:r,messageResolver:a,flatJson:i}=t,o=nr(n)?n:Wa(r)?Hr():{[e]:Hr()};if(Wa(r)&&r.forEach(s=>{if("locale"in s&&"resource"in s){const{locale:l,resource:u}=s;l?(o[l]=o[l]||Hr(),hk(u,o[l])):hk(u,o)}else Zt(s)&&hk(JSON.parse(s),o)}),a==null&&i)for(const s in o)mu(o,s)&&Aw(o[s]);return o}function Spe(e){return e.type}function Cpe(e,t,n){let r=Ar(t.messages)?t.messages:Hr();"__i18nGlobal"in n&&(r=u6(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const a=Object.keys(r);a.length&&a.forEach(i=>{e.mergeLocaleMessage(i,r[i])});{if(Ar(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(Ar(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function BK(e){return ie(Lg,null,e,0)}const VK="__INTLIFY_META__",zK=()=>[],xwt=()=>!1;let WK=0;function HK(e){return(t,n,r,a)=>e(n,r,jt()||void 0,a)}const wwt=()=>{const e=jt();let t=null;return e&&(t=Spe(e)[VK])?{[VK]:t}:null};function c6(e={}){const{__root:t,__injectWithOption:n}=e,r=t===void 0,a=e.flatJson,i=UI?Y:dr;let o=kr(e.inheritLocale)?e.inheritLocale:!0;const s=i(t&&o?t.locale.value:Zt(e.locale)?e.locale:Ew),l=i(t&&o?t.fallbackLocale.value:Zt(e.fallbackLocale)||Wa(e.fallbackLocale)||nr(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s.value),u=i(u6(s.value,e)),c=i(nr(e.datetimeFormats)?e.datetimeFormats:{[s.value]:{}}),f=i(nr(e.numberFormats)?e.numberFormats:{[s.value]:{}});let d=t?t.missingWarn:kr(e.missingWarn)||_y(e.missingWarn)?e.missingWarn:!0,h=t?t.fallbackWarn:kr(e.fallbackWarn)||_y(e.fallbackWarn)?e.fallbackWarn:!0,p=t?t.fallbackRoot:kr(e.fallbackRoot)?e.fallbackRoot:!0,v=!!e.fallbackFormat,g=ia(e.missing)?e.missing:null,m=ia(e.missing)?HK(e.missing):null,y=ia(e.postTranslation)?e.postTranslation:null,b=t?t.warnHtmlMessage:kr(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter;const _=t?t.modifiers:nr(e.modifiers)?e.modifiers:{};let S=e.pluralRules||t&&t.pluralRules,C;C=(()=>{r&&DK(null);const ce={version:ywt,locale:s.value,fallbackLocale:l.value,messages:u.value,modifiers:_,pluralRules:S,missing:m===null?void 0:m,missingWarn:d,fallbackWarn:h,fallbackFormat:v,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:b,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};ce.datetimeFormats=c.value,ce.numberFormats=f.value,ce.__datetimeFormatters=nr(C)?C.__datetimeFormatters:void 0,ce.__numberFormatters=nr(C)?C.__numberFormatters:void 0;const Re=rwt(ce);return r&&DK(Re),Re})(),j1(C,s.value,l.value);function T(){return[s.value,l.value,u.value,c.value,f.value]}const E=F({get:()=>s.value,set:ce=>{s.value=ce,C.locale=s.value}}),I=F({get:()=>l.value,set:ce=>{l.value=ce,C.fallbackLocale=l.value,j1(C,s.value,ce)}}),A=F(()=>u.value),N=F(()=>c.value),L=F(()=>f.value);function R(){return ia(y)?y:null}function D(ce){y=ce,C.postTranslation=ce}function P(){return g}function O(ce){ce!==null&&(m=HK(ce)),g=ce,C.missing=m}const M=(ce,Re,ct,It,wt,Qt)=>{T();let _t;try{__INTLIFY_PROD_DEVTOOLS__,r||(C.fallbackContext=t?nwt():void 0),_t=ce(C)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(C.fallbackContext=void 0)}if(ct!=="translate exists"&&Ba(_t)&&_t===vN||ct==="translate exists"&&!_t){const[ln,Ne]=Re();return t&&p?It(t):wt(ln)}else{if(Qt(_t))return _t;throw qs(Es.UNEXPECTED_RETURN_TYPE)}};function W(...ce){return M(Re=>Reflect.apply(FK,null,[Re,...ce]),()=>uF(...ce),"translate",Re=>Reflect.apply(Re.t,Re,[...ce]),Re=>Re,Re=>Zt(Re))}function U(...ce){const[Re,ct,It]=ce;if(It&&!Ar(It))throw qs(Es.INVALID_ARGUMENT);return W(Re,ct,li({resolvedMessage:!0},It||{}))}function V(...ce){return M(Re=>Reflect.apply(RK,null,[Re,...ce]),()=>sF(...ce),"datetime format",Re=>Reflect.apply(Re.d,Re,[...ce]),()=>EK,Re=>Zt(Re))}function H(...ce){return M(Re=>Reflect.apply($K,null,[Re,...ce]),()=>lF(...ce),"number format",Re=>Reflect.apply(Re.n,Re,[...ce]),()=>EK,Re=>Zt(Re))}function K(ce){return ce.map(Re=>Zt(Re)||Ba(Re)||kr(Re)?BK(String(Re)):Re)}const ne={normalize:K,interpolate:ce=>ce,type:"vnode"};function Q(...ce){return M(Re=>{let ct;const It=Re;try{It.processor=ne,ct=Reflect.apply(FK,null,[It,...ce])}finally{It.processor=null}return ct},()=>uF(...ce),"translate",Re=>Re[cF](...ce),Re=>[BK(Re)],Re=>Wa(Re))}function oe(...ce){return M(Re=>Reflect.apply($K,null,[Re,...ce]),()=>lF(...ce),"number format",Re=>Re[dF](...ce),zK,Re=>Zt(Re)||Wa(Re))}function ae(...ce){return M(Re=>Reflect.apply(RK,null,[Re,...ce]),()=>sF(...ce),"datetime format",Re=>Re[fF](...ce),zK,Re=>Zt(Re)||Wa(Re))}function me(ce){S=ce,C.pluralRules=S}function ve(ce,Re){return M(()=>{if(!ce)return!1;const ct=Zt(Re)?Re:s.value,It=ge(ct),wt=C.messageResolver(It,ce);return Cy(wt)||bl(wt)||Zt(wt)},()=>[ce],"translate exists",ct=>Reflect.apply(ct.te,ct,[ce,Re]),xwt,ct=>kr(ct))}function B(ce){let Re=null;const ct=fpe(C,l.value,s.value);for(let It=0;It<ct.length;It++){const wt=u.value[ct[It]]||{},Qt=C.messageResolver(wt,ce);if(Qt!=null){Re=Qt;break}}return Re}function re(ce){const Re=B(ce);return Re??(t?t.tm(ce)||{}:{})}function ge(ce){return u.value[ce]||{}}function Ie(ce,Re){if(a){const ct={[ce]:Re};for(const It in ct)mu(ct,It)&&Aw(ct[It]);Re=ct[ce]}u.value[ce]=Re,C.messages=u.value}function Ce(ce,Re){u.value[ce]=u.value[ce]||{};const ct={[ce]:Re};if(a)for(const It in ct)mu(ct,It)&&Aw(ct[It]);Re=ct[ce],hk(Re,u.value[ce]),C.messages=u.value}function he(ce){return c.value[ce]||{}}function J(ce,Re){c.value[ce]=Re,C.datetimeFormats=c.value,MK(C,ce,Re)}function te(ce,Re){c.value[ce]=li(c.value[ce]||{},Re),C.datetimeFormats=c.value,MK(C,ce,Re)}function xe(ce){return f.value[ce]||{}}function Ee(ce,Re){f.value[ce]=Re,C.numberFormats=f.value,LK(C,ce,Re)}function Qe(ce,Re){f.value[ce]=li(f.value[ce]||{},Re),C.numberFormats=f.value,LK(C,ce,Re)}WK++,t&&UI&&(Le(t.locale,ce=>{o&&(s.value=ce,C.locale=ce,j1(C,s.value,l.value))}),Le(t.fallbackLocale,ce=>{o&&(l.value=ce,C.fallbackLocale=ce,j1(C,s.value,l.value))}));const Be={id:WK,locale:E,fallbackLocale:I,get inheritLocale(){return o},set inheritLocale(ce){o=ce,ce&&t&&(s.value=t.locale.value,l.value=t.fallbackLocale.value,j1(C,s.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:A,get modifiers(){return _},get pluralRules(){return S||{}},get isGlobal(){return r},get missingWarn(){return d},set missingWarn(ce){d=ce,C.missingWarn=d},get fallbackWarn(){return h},set fallbackWarn(ce){h=ce,C.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(ce){p=ce},get fallbackFormat(){return v},set fallbackFormat(ce){v=ce,C.fallbackFormat=v},get warnHtmlMessage(){return b},set warnHtmlMessage(ce){b=ce,C.warnHtmlMessage=ce},get escapeParameter(){return x},set escapeParameter(ce){x=ce,C.escapeParameter=ce},t:W,getLocaleMessage:ge,setLocaleMessage:Ie,mergeLocaleMessage:Ce,getPostTranslationHandler:R,setPostTranslationHandler:D,getMissingHandler:P,setMissingHandler:O,[wpe]:me};return Be.datetimeFormats=N,Be.numberFormats=L,Be.rt=U,Be.te=ve,Be.tm=re,Be.d=V,Be.n=H,Be.getDateTimeFormat=he,Be.setDateTimeFormat=J,Be.mergeDateTimeFormat=te,Be.getNumberFormat=xe,Be.setNumberFormat=Ee,Be.mergeNumberFormat=Qe,Be[_pe]=n,Be[cF]=Q,Be[fF]=ae,Be[dF]=oe,Be}function _wt(e){const t=Zt(e.locale)?e.locale:Ew,n=Zt(e.fallbackLocale)||Wa(e.fallbackLocale)||nr(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=ia(e.missing)?e.missing:void 0,a=kr(e.silentTranslationWarn)||_y(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,i=kr(e.silentFallbackWarn)||_y(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=kr(e.fallbackRoot)?e.fallbackRoot:!0,s=!!e.formatFallbackMessages,l=nr(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=ia(e.postTranslation)?e.postTranslation:void 0,f=Zt(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,d=!!e.escapeParameterHtml,h=kr(e.sync)?e.sync:!0;let p=e.messages;if(nr(e.sharedMessages)){const _=e.sharedMessages;p=Object.keys(_).reduce((C,k)=>{const T=C[k]||(C[k]={});return li(T,_[k]),C},p||{})}const{__i18n:v,__root:g,__injectWithOption:m}=e,y=e.datetimeFormats,b=e.numberFormats,x=e.flatJson;return{locale:t,fallbackLocale:n,messages:p,flatJson:x,datetimeFormats:y,numberFormats:b,missing:r,missingWarn:a,fallbackWarn:i,fallbackRoot:o,fallbackFormat:s,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:f,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:h,__i18n:v,__root:g,__injectWithOption:m}}function pF(e={}){const t=c6(_wt(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(a){t.locale.value=a},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(a){t.fallbackLocale.value=a},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(a){t.setMissingHandler(a)},get silentTranslationWarn(){return kr(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(a){t.missingWarn=kr(a)?!a:a},get silentFallbackWarn(){return kr(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(a){t.fallbackWarn=kr(a)?!a:a},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(a){t.fallbackFormat=a},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(a){t.setPostTranslationHandler(a)},get sync(){return t.inheritLocale},set sync(a){t.inheritLocale=a},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(a){t.warnHtmlMessage=a!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(a){t.escapeParameter=a},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...a){return Reflect.apply(t.t,t,[...a])},rt(...a){return Reflect.apply(t.rt,t,[...a])},te(a,i){return t.te(a,i)},tm(a){return t.tm(a)},getLocaleMessage(a){return t.getLocaleMessage(a)},setLocaleMessage(a,i){t.setLocaleMessage(a,i)},mergeLocaleMessage(a,i){t.mergeLocaleMessage(a,i)},d(...a){return Reflect.apply(t.d,t,[...a])},getDateTimeFormat(a){return t.getDateTimeFormat(a)},setDateTimeFormat(a,i){t.setDateTimeFormat(a,i)},mergeDateTimeFormat(a,i){t.mergeDateTimeFormat(a,i)},n(...a){return Reflect.apply(t.n,t,[...a])},getNumberFormat(a){return t.getNumberFormat(a)},setNumberFormat(a,i){t.setNumberFormat(a,i)},mergeNumberFormat(a,i){t.mergeNumberFormat(a,i)}};return r.__extender=n,r}function Swt(e,t,n){return{beforeCreate(){const r=jt();if(!r)throw qs(Es.UNEXPECTED_ERROR);const a=this.$options;if(a.i18n){const i=a.i18n;if(a.__i18n&&(i.__i18n=a.__i18n),i.__root=t,this===this.$root)this.$i18n=UK(e,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=pF(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(a.__i18n)if(this===this.$root)this.$i18n=UK(e,a);else{this.$i18n=pF({__i18n:a.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=e;a.__i18nGlobal&&Cpe(t,a,a),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=jt();if(!r)throw qs(Es.UNEXPECTED_ERROR);const a=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,a.__disposer&&(a.__disposer(),delete a.__disposer,delete a.__extender),n.__deleteInstance(r),delete this.$i18n}}}function UK(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[wpe](t.pluralizationRules||e.pluralizationRules);const n=u6(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const f6={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Cwt({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,a)=>[...r,...a.type===vt?a.children:[a]],[]):t.reduce((n,r)=>{const a=e[r];return a&&(n[r]=a()),n},Hr())}function Tpe(){return vt}const Twt=se({name:"i18n-t",props:li({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ba(e)||!isNaN(e)}},f6),setup(e,t){const{slots:n,attrs:r}=t,a=e.i18n||pp({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(f=>f!=="_"),o=Hr();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=Zt(e.plural)?+e.plural:e.plural);const s=Cwt(t,i),l=a[cF](e.keypath,s,o),u=li(Hr(),r),c=Zt(e.tag)||Ar(e.tag)?e.tag:Tpe();return Ct(c,u,l)}}}),GK=Twt;function kwt(e){return Wa(e)&&!Zt(e[0])}function kpe(e,t,n,r){const{slots:a,attrs:i}=t;return()=>{const o={part:!0};let s=Hr();e.locale&&(o.locale=e.locale),Zt(e.format)?o.key=e.format:Ar(e.format)&&(Zt(e.format.key)&&(o.key=e.format.key),s=Object.keys(e.format).reduce((d,h)=>n.includes(h)?li(Hr(),d,{[h]:e.format[h]}):d,Hr()));const l=r(e.value,o,s);let u=[o.key];Wa(l)?u=l.map((d,h)=>{const p=a[d.type],v=p?p({[d.type]:d.value,index:h,parts:l}):[d.value];return kwt(v)&&(v[0].key=`${d.type}-${h}`),v}):Zt(l)&&(u=[l]);const c=li(Hr(),i),f=Zt(e.tag)||Ar(e.tag)?e.tag:Tpe();return Ct(f,c,u)}}const Iwt=se({name:"i18n-n",props:li({value:{type:Number,required:!0},format:{type:[String,Object]}},f6),setup(e,t){const n=e.i18n||pp({useScope:e.scope,__useComponent:!0});return kpe(e,t,ype,(...r)=>n[dF](...r))}}),KK=Iwt;function Ewt(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Awt(e){const t=o=>{const{instance:s,value:l}=o;if(!s||!s.$)throw qs(Es.UNEXPECTED_ERROR);const u=Ewt(e,s.$),c=jK(l);return[Reflect.apply(u.t,u,[...YK(c)]),u]};return{created:(o,s)=>{const[l,u]=t(s);UI&&e.global===u&&(o.__i18nWatcher=Le(u.locale,()=>{s.instance&&s.instance.$forceUpdate()})),o.__composer=u,o.textContent=l},unmounted:o=>{UI&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:s})=>{if(o.__composer){const l=o.__composer,u=jK(s);o.textContent=Reflect.apply(l.t,l,[...YK(u)])}},getSSRProps:o=>{const[s]=t(o);return{textContent:s}}}}function jK(e){if(Zt(e))return{path:e};if(nr(e)){if(!("path"in e))throw qs(Es.REQUIRED_VALUE,"path");return e}else throw qs(Es.INVALID_VALUE)}function YK(e){const{path:t,locale:n,args:r,choice:a,plural:i}=e,o={},s=r||{};return Zt(n)&&(o.locale=n),Ba(a)&&(o.plural=a),Ba(i)&&(o.plural=i),[t,s,o]}function Dwt(e,t,...n){const r=nr(n[0])?n[0]:{};(kr(r.globalInstall)?r.globalInstall:!0)&&([GK.name,"I18nT"].forEach(i=>e.component(i,GK)),[KK.name,"I18nN"].forEach(i=>e.component(i,KK)),[qK.name,"I18nD"].forEach(i=>e.component(i,qK))),e.directive("t",Awt(t))}const Nwt=fp("global-vue-i18n");function Rwt(e={}){const t=__VUE_I18N_LEGACY_API__&&kr(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=kr(e.globalInjection)?e.globalInjection:!0,r=new Map,[a,i]=Mwt(e,t),o=fp("");function s(f){return r.get(f)||null}function l(f,d){r.set(f,d)}function u(f){r.delete(f)}const c={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(f,...d){if(f.__VUE_I18N_SYMBOL__=o,f.provide(f.__VUE_I18N_SYMBOL__,c),nr(d[0])){const v=d[0];c.__composerExtend=v.__composerExtend,c.__vueI18nExtend=v.__vueI18nExtend}let h=null;!t&&n&&(h=zwt(f,c.global)),__VUE_I18N_FULL_INSTALL__&&Dwt(f,c,...d),__VUE_I18N_LEGACY_API__&&t&&f.mixin(Swt(i,i.__composer,c));const p=f.unmount;f.unmount=()=>{h&&h(),c.dispose(),p()}},get global(){return i},dispose(){a.stop()},__instances:r,__getInstance:s,__setInstance:l,__deleteInstance:u};return c}function pp(e={}){const t=jt();if(t==null)throw qs(Es.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw qs(Es.NOT_INSTALLED);const n=$wt(t),r=Owt(n),a=Spe(t),i=Lwt(e,a);if(i==="global")return Cpe(r,e,a),r;if(i==="parent"){let l=Pwt(n,t,e.__useComponent);return l==null&&(l=r),l}const o=n;let s=o.__getInstance(t);if(s==null){const l=li({},e);"__i18n"in a&&(l.__i18n=a.__i18n),r&&(l.__root=r),s=c6(l),o.__composerExtend&&(s[hF]=o.__composerExtend(s)),Bwt(o,t,s),o.__setInstance(t,s)}return s}function Mwt(e,t){const n=fte(),r=__VUE_I18N_LEGACY_API__&&t?n.run(()=>pF(e)):n.run(()=>c6(e));if(r==null)throw qs(Es.UNEXPECTED_ERROR);return[n,r]}function $wt(e){const t=ht(e.isCE?Nwt:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw qs(e.isCE?Es.NOT_INSTALLED_WITH_PROVIDE:Es.UNEXPECTED_ERROR);return t}function Lwt(e,t){return hN(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Owt(e){return e.mode==="composition"?e.global:e.global.__composer}function Pwt(e,t,n=!1){let r=null;const a=t.root;let i=Fwt(t,n);for(;i!=null;){const o=e;if(e.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const s=o.__getInstance(i);s!=null&&(r=s.__composer,n&&r&&!r[_pe]&&(r=null))}if(r!=null||a===i)break;i=i.parent}return r}function Fwt(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Bwt(e,t,n){zt(()=>{},t),zu(()=>{const r=n;e.__deleteInstance(t);const a=r[hF];a&&(a(),delete r[hF])},t)}const Vwt=["locale","fallbackLocale","availableLocales"],XK=["t","rt","d","n","tm","te"];function zwt(e,t){const n=Object.create(null);return Vwt.forEach(a=>{const i=Object.getOwnPropertyDescriptor(t,a);if(!i)throw qs(Es.UNEXPECTED_ERROR);const o=vr(i.value)?{get(){return i.value.value},set(s){i.value.value=s}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,a,o)}),e.config.globalProperties.$i18n=n,XK.forEach(a=>{const i=Object.getOwnPropertyDescriptor(t,a);if(!i||!i.value)throw qs(Es.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${a}`,i)}),()=>{delete e.config.globalProperties.$i18n,XK.forEach(a=>{delete e.config.globalProperties[`$${a}`]})}}const Wwt=se({name:"i18n-d",props:li({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},f6),setup(e,t){const n=e.i18n||pp({useScope:e.scope,__useComponent:!0});return kpe(e,t,mpe,(...r)=>n[fF](...r))}}),qK=Wwt;bwt();Zxt(Rxt);Jxt(Yxt);Qxt(fpe);if(__INTLIFY_PROD_DEVTOOLS__){const e=Tv();e.__INTLIFY__=!0,Mxt(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const uc=["NA2O(WT%)","MGO(WT%)","AL2O3(WT%)","SIO2(WT%)","P2O5(WT%)","K2O(WT%)","CAO(WT%)","TIO2(WT%)","MNO(WT%)","FEOT(WT%)","RB(PPM)","V(PPM)","CR(PPM)","CO(PPM)","NI(PPM)","BA(PPM)","SR(PPM)","Y(PPM)","ZR(PPM)","NB(PPM)","LA(PPM)","CE(PPM)","PR(PPM)","ND(PPM)","SM(PPM)","EU(PPM)","GD(PPM)","TB(PPM)","DY(PPM)","HO(PPM)","ER(PPM)","YB(PPM)","LU(PPM)","HF(PPM)","TA(PPM)","TH(PPM)"],Hwt=["BACK-ARC_BASIN","CONTINENTAL FLOOD BASALT","CONTINENTAL_RIFT","Continental arc","Intra-oceanic arc","Island arc","OCEAN ISLAND","OCEANIC PLATEAU","Mid-Oceanic Ridge"],Uwt={"BACK-ARC_BASIN":"","CONTINENTAL FLOOD BASALT":"",CONTINENTAL_RIFT:"","Continental arc":"","Intra-oceanic arc":"","Island arc":"","OCEAN ISLAND":"","OCEANIC PLATEAU":"","Mid-Oceanic Ridge":""};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ipe=1252,Gwt=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],d6={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},h6=function(e){Gwt.indexOf(e)!=-1&&(Ipe=d6[0]=e)};function Kwt(){h6(1252)}var yu=function(e){h6(e)};function Epe(){yu(1200),Kwt()}function ZK(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function jwt(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function Ape(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Mb=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?jwt(e.slice(2)):t==254&&n==255?Ape(e.slice(2)):t==65279?e.slice(1):e},v2=function(t){return String.fromCharCode(t)},JK=function(t){return String.fromCharCode(t)},Dw,Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function QK(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0,u=0;u<e.length;)n=e.charCodeAt(u++),i=n>>2,r=e.charCodeAt(u++),o=(n&3)<<4|r>>4,a=e.charCodeAt(u++),s=(r&15)<<2|a>>6,l=a&63,isNaN(r)?s=l=64:isNaN(a)&&(l=64),t+=Zd.charAt(i)+Zd.charAt(o)+Zd.charAt(s)+Zd.charAt(l);return t}function Zs(e){var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Zd.indexOf(e.charAt(u++)),o=Zd.indexOf(e.charAt(u++)),n=i<<2|o>>4,t+=String.fromCharCode(n),s=Zd.indexOf(e.charAt(u++)),r=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(r)),l=Zd.indexOf(e.charAt(u++)),a=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var fr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Zg=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Fh(e){return fr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ej(e){return fr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var du=function(t){return fr?Zg(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function Jg(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function p6(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return p6(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Gd=fr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Zg(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Ywt(e){for(var t=[],n=0,r=e.length+250,a=Fh(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|s>>6&15|(o&3)<<4,a[n++]=128|s&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>r&&(t.push(a.slice(0,n)),n=0,a=Fh(65535),r=65530)}return t.push(a.slice(0,n)),Gd(t)}var qo=/\u0000/g,$b=/[\u0001-\u0006]/g;function Om(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function bu(e,t){var n=""+e;return n.length>=t?n:ga("0",t-n.length)+n}function v6(e,t){var n=""+e;return n.length>=t?n:ga(" ",t-n.length)+n}function GI(e,t){var n=""+e;return n.length>=t?n:n+ga(" ",t-n.length)}function Xwt(e,t){var n=""+Math.round(e);return n.length>=t?n:ga("0",t-n.length)+n}function qwt(e,t){var n=""+e;return n.length>=t?n:ga("0",t-n.length)+n}var tj=Math.pow(2,32);function I0(e,t){if(e>tj||e<-tj)return Xwt(e,t);var n=Math.round(e);return qwt(n,t)}function KI(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var nj=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yM=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Zwt(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Pn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},rj={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Jwt={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jI(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,s=0,l=1,u=0,c=0,f=Math.floor(a);u<t&&(f=Math.floor(a),s=f*o+i,c=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=o,o=s,l=u,u=c;if(c>t&&(u>t?(c=l,s=i):(c=u,s=o)),!n)return[0,r*s,c];var d=Math.floor(r*s/c);return[d,r*s-d*c,c]}function kv(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),i=0,o=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++r,++s.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=a_t(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var Dpe=new Date(1899,11,31,0,0,0),Qwt=Dpe.getTime(),e_t=new Date(1900,2,1,0,0,0);function Npe(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=e_t&&(n+=24*60*60*1e3),(n-(Qwt+(e.getTimezoneOffset()-Dpe.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function g6(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function t_t(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function n_t(e){var t=e<0?12:11,n=g6(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function r_t(e){var t=g6(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Nw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=n_t(e):t===10?n=e.toFixed(10).substr(0,12):n=r_t(e),g6(t_t(n.toUpperCase()))}function Tg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Nw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Vl(14,Npe(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function a_t(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function i_t(e,t,n,r){var a="",i=0,o=0,s=n.y,l,u=0;switch(e){case 98:s=n.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,u=t.length;break;case 3:return yM[n.m-1][1];case 5:return yM[n.m-1][0];default:return yM[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,u=t.length;break;case 3:return nj[n.q][0];default:return nj[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?bu(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=bu(i,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=s,u=1;break}var c=u>0?bu(l,u):"";return c}function Jd(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var Rpe=/%/g;function o_t(e,t,n){var r=t.replace(Rpe,""),a=t.length-r.length;return $f(e,r,n*Math.pow(10,2*a))+ga("%",a)}function s_t(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return $f(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function Mpe(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Mpe(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,c){return l+u+c.substr(0,(a+i)%a)+"."+c.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var $pe=/# (\?+)( ?)\/( ?)(\d+)/;function l_t(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,s=r;return n+(i===0?"":""+i)+" "+(o===0?ga(" ",e[1].length+1+e[4].length):v6(o,e[1].length)+e[2]+"/"+e[3]+bu(s,e[4].length))}function u_t(e,t,n){return n+(t===0?"":""+t)+ga(" ",e[1].length+2+e[4].length)}var Lpe=/^#*0*\.([0#]+)/,Ope=/\).*[0#]/,Ppe=/\(###\) ###\\?-####/;function Oo(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function aj(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function ij(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function c_t(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function f_t(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ul(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Ope)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ul("n",r,n):"("+ul("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return s_t(e,t,n);if(t.indexOf("%")!==-1)return o_t(e,t,n);if(t.indexOf("E")!==-1)return Mpe(t,n);if(t.charCodeAt(0)===36)return"$"+ul(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+I0(l,t.length);if(t.match(/^[#?]+$/))return a=I0(n,0),a==="0"&&(a=""),a.length>t.length?a:Oo(t.substr(0,t.length-a.length))+a;if(i=t.match($pe))return l_t(i,l,u);if(t.match(/^#+0+$/))return u+I0(l,t.length-t.indexOf("0"));if(i=t.match(Lpe))return a=aj(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Oo(i[1])).replace(/\.$/,"."+Oo(i[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+ga("0",Oo(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+aj(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Jd(I0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ul(e,t,-n):Jd(""+(Math.floor(n)+c_t(n,i[1].length)))+"."+bu(ij(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ul(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Om(ul(e,t.replace(/[\\-]/g,""),n)),o=0,Om(Om(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(Ppe))return a=ul(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var c="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=jI(l,Math.pow(10,o)-1,!1),a=""+u,c=$f("n",i[1],s[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),a+=c+i[2]+"/"+i[3],c=GI(s[2],o),c.length<i[4].length&&(c=Oo(i[4].substr(i[4].length-c.length))+c),a+=c,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=jI(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?v6(s[1],o)+i[2]+"/"+i[3]+GI(s[2],o):ga(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=I0(n,0),t.length<=a.length?a:Oo(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,d=t.length-a.length-f;return Oo(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=ij(n,i[1].length),n<0?"-"+ul(e,t,-n):Jd(f_t(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?bu(0,3-p.length):"")+p})+"."+bu(o,i[1].length);switch(t){case"###,##0.00":return ul(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var h=Jd(I0(l,0));return h!=="0"?u+h:"";case"###,###.00":return ul(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ul(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function d_t(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return $f(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function h_t(e,t,n){var r=t.replace(Rpe,""),a=t.length-r.length;return $f(e,r,n*Math.pow(10,2*a))+ga("%",a)}function Fpe(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Fpe(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,c){return l+u+c.substr(0,(a+i)%a)+"."+c.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function rc(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Ope)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?rc("n",r,n):"("+rc("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return d_t(e,t,n);if(t.indexOf("%")!==-1)return h_t(e,t,n);if(t.indexOf("E")!==-1)return Fpe(t,n);if(t.charCodeAt(0)===36)return"$"+rc(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+bu(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:Oo(t.substr(0,t.length-a.length))+a;if(i=t.match($pe))return u_t(i,l,u);if(t.match(/^#+0+$/))return u+bu(l,t.length-t.indexOf("0"));if(i=t.match(Lpe))return a=(""+n).replace(/^([^\.]+)$/,"$1."+Oo(i[1])).replace(/\.$/,"."+Oo(i[1])),a=a.replace(/\.(\d*)$/,function(p,v){return"."+v+ga("0",Oo(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Jd(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+rc(e,t,-n):Jd(""+n)+"."+ga("0",i[1].length);if(i=t.match(/^#,#*,#0/))return rc(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Om(rc(e,t.replace(/[\\-]/g,""),n)),o=0,Om(Om(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(Ppe))return a=rc(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var c="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=jI(l,Math.pow(10,o)-1,!1),a=""+u,c=$f("n",i[1],s[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),a+=c+i[2]+"/"+i[3],c=GI(s[2],o),c.length<i[4].length&&(c=Oo(i[4].substr(i[4].length-c.length))+c),a+=c,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=jI(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?v6(s[1],o)+i[2]+"/"+i[3]+GI(s[2],o):ga(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Oo(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,d=t.length-a.length-f;return Oo(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+rc(e,t,-n):Jd(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?bu(0,3-p.length):"")+p})+"."+bu(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Jd(""+l);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return rc(e,t.slice(0,t.lastIndexOf(".")),n)+Oo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function $f(e,t,n){return(n|0)===n?rc(e,t,n):ul(e,t,n)}function p_t(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Bpe=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function d1(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":KI(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(Bpe))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function v_t(e,t,n,r){for(var a=[],i="",o=0,s="",l="t",u,c,f,d="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!KI(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),p=h==="("||h===")"?h:"t";a[a.length]={t:p,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=kv(t,n,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=kv(t,n),u==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=d),a[a.length]={t:s,v:i},l=s;break;case"A":case"a":case"":var v={t:s,v:s};if(u==null&&(u=kv(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",d="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,d="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",o+=5,d="h"):(v.t="t",++o),u==null&&v.t==="T")return"";a[a.length]=v,l=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Bpe)){if(u==null&&(u=kv(t,n),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",d1(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:r===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var g=0,m=0,y;for(o=a.length-1,l="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=d,l="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(m=Math.max(m,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[o].t;break;case"m":l==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",x;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=i_t(a[o].t.charCodeAt(0),a[o].v,u,m),a[o].t="t";break;case"n":case"?":for(x=o+1;a[x]!=null&&((s=a[x].t)==="?"||s==="D"||(s===" "||s==="t")&&a[x+1]!=null&&(a[x+1].t==="?"||a[x+1].t==="t"&&a[x+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[x].v==="/"||a[x].v===" "&&a[x+1]!=null&&a[x+1].t=="?"));)a[o].v+=a[x].v,a[x]={v:"",t:";"},++x;b+=a[o].v,o=x-1;break;case"G":a[o].t="t",a[o].v=Tg(t,n);break}var _="",S,C;if(b.length>0){b.charCodeAt(0)==40?(S=t<0&&b.charCodeAt(0)===45?-t:t,C=$f("n",b,S)):(S=t<0&&r>1?-t:t,C=$f("n",b,S),S<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),x=C.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var T=a.length;if(k===a.length&&C.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(x>=a[o].v.length-1?(x-=a[o].v.length,a[o].v=C.substr(x+1,a[o].v.length)):x<0?a[o].v="":(a[o].v=C.substr(0,x+1),x=-1),a[o].t="t",T=o);x>=0&&T<a.length&&(a[T].v=C.substr(0,x+1)+a[T].v)}else if(k!==a.length&&C.indexOf("E")===-1){for(x=C.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(c=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(c+1);c>=0;--c)x>=0&&(a[o].v.charAt(c)==="0"||a[o].v.charAt(c)==="#")&&(_=C.charAt(x--)+_);a[o].v=_,a[o].t="t",T=o}for(x>=0&&T<a.length&&(a[T].v=C.substr(0,x+1)+a[T].v),x=C.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(c=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,c);c<a[o].v.length;++c)x<C.length&&(_+=C.charAt(x++));a[o].v=_,a[o].t="t",T=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=r>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=$f(a[o].t,a[o].v,S),a[o].t="t");var E="";for(o=0;o!==a.length;++o)a[o]!=null&&(E+=a[o].v);return E}var oj=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function sj(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function g_t(e,t){var n=p_t(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(oj),s=n[1].match(oj);return sj(t,o)?[r,n[0]]:sj(t,s)?[r,n[1]]:[r,n[o!=null&&s!=null?2:1]]}return[r,i]}function Vl(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Pn)[e],r==null&&(r=n.table&&n.table[rj[e]]||Pn[rj[e]]),r==null&&(r=Jwt[e]||"General");break}if(KI(r,0))return Tg(t,n);t instanceof Date&&(t=Npe(t,n.date1904));var a=g_t(r,t);if(KI(a[1]))return Tg(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return v_t(a[1],t,n,a[0])}function Hv(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Pn[n]==null){t<0&&(t=n);continue}if(Pn[n]==e){t=n;break}}t<0&&(t=391)}return Pn[t]=e,t}function Vpe(){Pn=Zwt()}var m_t={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},zpe=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function y_t(e){var t=typeof e=="number"?Pn[e]:e;return t=t.replace(zpe,"(\\d+)"),new RegExp("^"+t+"$")}function b_t(e,t,n){var r=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(zpe)||[]).forEach(function(f,d){var h=parseInt(n[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=h;break;case"d":i=h;break;case"h":o=h;break;case"s":l=h;break;case"m":o>=0?s=h:a=h;break}}),l>=0&&s==-1&&a>=0&&(s=a,a=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?u:r==-1&&a==-1&&i==-1?c:u+"T"+c}var x_t=function(){var e={};e.version="1.2.0";function t(){for(var C=0,k=new Array(256),T=0;T!=256;++T)C=T,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,k[T]=C;return typeof Int32Array<"u"?new Int32Array(k):k}var n=t();function r(C){var k=0,T=0,E=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(E=0;E!=256;++E)I[E]=C[E];for(E=0;E!=256;++E)for(T=C[E],k=256+E;k<4096;k+=256)T=I[k]=T>>>8^C[T&255];var A=[];for(E=1;E!=16;++E)A[E-1]=typeof Int32Array<"u"?I.subarray(E*256,E*256+256):I.slice(E*256,E*256+256);return A}var a=r(n),i=a[0],o=a[1],s=a[2],l=a[3],u=a[4],c=a[5],f=a[6],d=a[7],h=a[8],p=a[9],v=a[10],g=a[11],m=a[12],y=a[13],b=a[14];function x(C,k){for(var T=k^-1,E=0,I=C.length;E<I;)T=T>>>8^n[(T^C.charCodeAt(E++))&255];return~T}function _(C,k){for(var T=k^-1,E=C.length-15,I=0;I<E;)T=b[C[I++]^T&255]^y[C[I++]^T>>8&255]^m[C[I++]^T>>16&255]^g[C[I++]^T>>>24]^v[C[I++]]^p[C[I++]]^h[C[I++]]^d[C[I++]]^f[C[I++]]^c[C[I++]]^u[C[I++]]^l[C[I++]]^s[C[I++]]^o[C[I++]]^i[C[I++]]^n[C[I++]];for(E+=15;I<E;)T=T>>>8^n[(T^C[I++])&255];return~T}function S(C,k){for(var T=k^-1,E=0,I=C.length,A=0,N=0;E<I;)A=C.charCodeAt(E++),A<128?T=T>>>8^n[(T^A)&255]:A<2048?(T=T>>>8^n[(T^(192|A>>6&31))&255],T=T>>>8^n[(T^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,N=C.charCodeAt(E++)&1023,T=T>>>8^n[(T^(240|A>>8&7))&255],T=T>>>8^n[(T^(128|A>>2&63))&255],T=T>>>8^n[(T^(128|N>>6&15|(A&3)<<4))&255],T=T>>>8^n[(T^(128|N&63))&255]):(T=T>>>8^n[(T^(224|A>>12&15))&255],T=T>>>8^n[(T^(128|A>>6&63))&255],T=T>>>8^n[(T^(128|A&63))&255]);return~T}return e.table=n,e.bstr=x,e.buf=_,e.str=S,e}(),yr=function(){var t={};t.version="1.2.1";function n(le,ke){for(var ye=le.split("/"),ee=ke.split("/"),ue=0,we=0,Ge=Math.min(ye.length,ee.length);ue<Ge;++ue){if(we=ye[ue].length-ee[ue].length)return we;if(ye[ue]!=ee[ue])return ye[ue]<ee[ue]?-1:1}return ye.length-ee.length}function r(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:r(le.slice(0,-1));var ke=le.lastIndexOf("/");return ke===-1?le:le.slice(0,ke+1)}function a(le){if(le.charAt(le.length-1)=="/")return a(le.slice(0,-1));var ke=le.lastIndexOf("/");return ke===-1?le:le.slice(ke+1)}function i(le,ke){typeof ke=="string"&&(ke=new Date(ke));var ye=ke.getHours();ye=ye<<6|ke.getMinutes(),ye=ye<<5|ke.getSeconds()>>>1,le.write_shift(2,ye);var ee=ke.getFullYear()-1980;ee=ee<<4|ke.getMonth()+1,ee=ee<<5|ke.getDate(),le.write_shift(2,ee)}function o(le){var ke=le.read_shift(2)&65535,ye=le.read_shift(2)&65535,ee=new Date,ue=ye&31;ye>>>=5;var we=ye&15;ye>>>=4,ee.setMilliseconds(0),ee.setFullYear(ye+1980),ee.setMonth(we-1),ee.setDate(ue);var Ge=ke&31;ke>>>=5;var at=ke&63;return ke>>>=6,ee.setHours(ke),ee.setMinutes(at),ee.setSeconds(Ge<<1),ee}function s(le){Li(le,0);for(var ke={},ye=0;le.l<=le.length-4;){var ee=le.read_shift(2),ue=le.read_shift(2),we=le.l+ue,Ge={};switch(ee){case 21589:ye=le.read_shift(1),ye&1&&(Ge.mtime=le.read_shift(4)),ue>5&&(ye&2&&(Ge.atime=le.read_shift(4)),ye&4&&(Ge.ctime=le.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}le.l=we,ke[ee]=Ge}return ke}var l;function u(){return l||(l={})}function c(le,ke){if(le[0]==80&&le[1]==75)return ir(le,ke);if((le[0]|32)==109&&(le[1]|32)==105)return yp(le,ke);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var ye=3,ee=512,ue=0,we=0,Ge=0,at=0,qe=0,Je=[],et=le.slice(0,512);Li(et,0);var kt=f(et);switch(ye=kt[0],ye){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(kt[1]==0)return ir(le,ke);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}ee!==512&&(et=le.slice(0,ee),Li(et,28));var $t=le.slice(0,ee);d(et,ye);var Me=et.read_shift(4,"i");if(ye===3&&Me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Me);et.l+=4,Ge=et.read_shift(4,"i"),et.l+=4,et.chk("00100000","Mini Stream Cutoff Size: "),at=et.read_shift(4,"i"),ue=et.read_shift(4,"i"),qe=et.read_shift(4,"i"),we=et.read_shift(4,"i");for(var Ye=-1,dt=0;dt<109&&(Ye=et.read_shift(4,"i"),!(Ye<0));++dt)Je[dt]=Ye;var Rt=h(le,ee);g(qe,we,Rt,ee,Je);var Xn=y(Rt,Ge,Je,ee);Xn[Ge].name="!Directory",ue>0&&at!==N&&(Xn[at].name="!MiniFAT"),Xn[Je[0]].name="!FAT",Xn.fat_addrs=Je,Xn.ssz=ee;var _r={},eo=[],R1=[],M1=[];b(Ge,Xn,Rt,eo,ue,_r,R1,at),p(R1,M1,eo),eo.shift();var $1={FileIndex:R1,FullPaths:M1};return ke&&ke.raw&&($1.raw={header:$t,sectors:Rt}),$1}function f(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(L,"Header Signature: "),le.l+=16;var ke=le.read_shift(2,"u");return[le.read_shift(2,"u"),ke]}function d(le,ke){var ye=9;switch(le.l+=2,ye=le.read_shift(2)){case 9:if(ke!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(ke!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function h(le,ke){for(var ye=Math.ceil(le.length/ke)-1,ee=[],ue=1;ue<ye;++ue)ee[ue-1]=le.slice(ue*ke,(ue+1)*ke);return ee[ye-1]=le.slice(ye*ke),ee}function p(le,ke,ye){for(var ee=0,ue=0,we=0,Ge=0,at=0,qe=ye.length,Je=[],et=[];ee<qe;++ee)Je[ee]=et[ee]=ee,ke[ee]=ye[ee];for(;at<et.length;++at)ee=et[at],ue=le[ee].L,we=le[ee].R,Ge=le[ee].C,Je[ee]===ee&&(ue!==-1&&Je[ue]!==ue&&(Je[ee]=Je[ue]),we!==-1&&Je[we]!==we&&(Je[ee]=Je[we])),Ge!==-1&&(Je[Ge]=ee),ue!==-1&&ee!=Je[ee]&&(Je[ue]=Je[ee],et.lastIndexOf(ue)<at&&et.push(ue)),we!==-1&&ee!=Je[ee]&&(Je[we]=Je[ee],et.lastIndexOf(we)<at&&et.push(we));for(ee=1;ee<qe;++ee)Je[ee]===ee&&(we!==-1&&Je[we]!==we?Je[ee]=Je[we]:ue!==-1&&Je[ue]!==ue&&(Je[ee]=Je[ue]));for(ee=1;ee<qe;++ee)if(le[ee].type!==0){if(at=ee,at!=Je[at])do at=Je[at],ke[ee]=ke[at]+"/"+ke[ee];while(at!==0&&Je[at]!==-1&&at!=Je[at]);Je[ee]=-1}for(ke[0]+="/",ee=1;ee<qe;++ee)le[ee].type!==2&&(ke[ee]+="/")}function v(le,ke,ye){for(var ee=le.start,ue=le.size,we=[],Ge=ee;ye&&ue>0&&Ge>=0;)we.push(ke.slice(Ge*A,Ge*A+A)),ue-=A,Ge=dv(ye,Ge*4);return we.length===0?Za(0):Gd(we).slice(0,le.size)}function g(le,ke,ye,ee,ue){var we=N;if(le===N){if(ke!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Ge=ye[le],at=(ee>>>2)-1;if(!Ge)return;for(var qe=0;qe<at&&(we=dv(Ge,qe*4))!==N;++qe)ue.push(we);g(dv(Ge,ee-4),ke-1,ye,ee,ue)}}function m(le,ke,ye,ee,ue){var we=[],Ge=[];ue||(ue=[]);var at=ee-1,qe=0,Je=0;for(qe=ke;qe>=0;){ue[qe]=!0,we[we.length]=qe,Ge.push(le[qe]);var et=ye[Math.floor(qe*4/ee)];if(Je=qe*4&at,ee<4+Je)throw new Error("FAT boundary crossed: "+qe+" 4 "+ee);if(!le[et])break;qe=dv(le[et],Je)}return{nodes:we,data:mj([Ge])}}function y(le,ke,ye,ee){var ue=le.length,we=[],Ge=[],at=[],qe=[],Je=ee-1,et=0,kt=0,$t=0,Me=0;for(et=0;et<ue;++et)if(at=[],$t=et+ke,$t>=ue&&($t-=ue),!Ge[$t]){qe=[];var Ye=[];for(kt=$t;kt>=0;){Ye[kt]=!0,Ge[kt]=!0,at[at.length]=kt,qe.push(le[kt]);var dt=ye[Math.floor(kt*4/ee)];if(Me=kt*4&Je,ee<4+Me)throw new Error("FAT boundary crossed: "+kt+" 4 "+ee);if(!le[dt]||(kt=dv(le[dt],Me),Ye[kt]))break}we[$t]={nodes:at,data:mj([qe])}}return we}function b(le,ke,ye,ee,ue,we,Ge,at){for(var qe=0,Je=ee.length?2:0,et=ke[le].data,kt=0,$t=0,Me;kt<et.length;kt+=128){var Ye=et.slice(kt,kt+128);Li(Ye,64),$t=Ye.read_shift(2),Me=w6(Ye,0,$t-Je),ee.push(Me);var dt={name:Me,type:Ye.read_shift(1),color:Ye.read_shift(1),L:Ye.read_shift(4,"i"),R:Ye.read_shift(4,"i"),C:Ye.read_shift(4,"i"),clsid:Ye.read_shift(16),state:Ye.read_shift(4,"i"),start:0,size:0},Rt=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Rt!==0&&(dt.ct=x(Ye,Ye.l-8));var Xn=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Xn!==0&&(dt.mt=x(Ye,Ye.l-8)),dt.start=Ye.read_shift(4,"i"),dt.size=Ye.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=N,dt.name=""),dt.type===5?(qe=dt.start,ue>0&&qe!==N&&(ke[qe].name="!StreamData")):dt.size>=4096?(dt.storage="fat",ke[dt.start]===void 0&&(ke[dt.start]=m(ye,dt.start,ke.fat_addrs,ke.ssz)),ke[dt.start].name=dt.name,dt.content=ke[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:qe!==N&&dt.start!==N&&ke[qe]&&(dt.content=v(dt,ke[qe].data,(ke[at]||{}).data))),dt.content&&Li(dt.content,0),we[Me]=dt,Ge.push(dt)}}function x(le,ke){return new Date((Rs(le,ke+4)/1e7*Math.pow(2,32)+Rs(le,ke)/1e7-11644473600)*1e3)}function _(le,ke){return u(),c(l.readFileSync(le),ke)}function S(le,ke){var ye=ke&&ke.type;switch(ye||fr&&Buffer.isBuffer(le)&&(ye="buffer"),ye||"base64"){case"file":return _(le,ke);case"base64":return c(du(Zs(le)),ke);case"binary":return c(du(le),ke)}return c(le,ke)}function C(le,ke){var ye=ke||{},ee=ye.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=ee+"/",le.FileIndex[0]={name:ee,type:5}),ye.CLSID&&(le.FileIndex[0].clsid=ye.CLSID),k(le)}function k(le){var ke="Sh33tJ5";if(!yr.find(le,"/"+ke)){var ye=Za(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,le.FileIndex.push({name:ke,type:2,content:ye,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+ke),T(le)}}function T(le,ke){C(le);for(var ye=!1,ee=!1,ue=le.FullPaths.length-1;ue>=0;--ue){var we=le.FileIndex[ue];switch(we.type){case 0:ee?ye=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(we.R*we.L*we.C)&&(ye=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!ke)){var Ge=new Date(1987,1,19),at=0,qe=Object.create?Object.create(null):{},Je=[];for(ue=0;ue<le.FullPaths.length;++ue)qe[le.FullPaths[ue]]=!0,le.FileIndex[ue].type!==0&&Je.push([le.FullPaths[ue],le.FileIndex[ue]]);for(ue=0;ue<Je.length;++ue){var et=r(Je[ue][0]);ee=qe[et],ee||(Je.push([et,{name:a(et).replace("/",""),type:1,clsid:D,ct:Ge,mt:Ge,content:null}]),qe[et]=!0)}for(Je.sort(function(Me,Ye){return n(Me[0],Ye[0])}),le.FullPaths=[],le.FileIndex=[],ue=0;ue<Je.length;++ue)le.FullPaths[ue]=Je[ue][0],le.FileIndex[ue]=Je[ue][1];for(ue=0;ue<Je.length;++ue){var kt=le.FileIndex[ue],$t=le.FullPaths[ue];if(kt.name=a($t).replace("/",""),kt.L=kt.R=kt.C=-(kt.color=1),kt.size=kt.content?kt.content.length:0,kt.start=0,kt.clsid=kt.clsid||D,ue===0)kt.C=Je.length>1?1:-1,kt.size=0,kt.type=5;else if($t.slice(-1)=="/"){for(at=ue+1;at<Je.length&&r(le.FullPaths[at])!=$t;++at);for(kt.C=at>=Je.length?-1:at,at=ue+1;at<Je.length&&r(le.FullPaths[at])!=r($t);++at);kt.R=at>=Je.length?-1:at,kt.type=1}else r(le.FullPaths[ue+1]||"")==r($t)&&(kt.R=ue+1),kt.type=2}}}function E(le,ke){var ye=ke||{};if(ye.fileType=="mad")return uf(le,ye);switch(T(le),ye.fileType){case"zip":return ra(le,ye)}var ee=function(Me){for(var Ye=0,dt=0,Rt=0;Rt<Me.FileIndex.length;++Rt){var Xn=Me.FileIndex[Rt];if(Xn.content){var _r=Xn.content.length;_r>0&&(_r<4096?Ye+=_r+63>>6:dt+=_r+511>>9)}}for(var eo=Me.FullPaths.length+3>>2,R1=Ye+7>>3,M1=Ye+127>>7,$1=R1+dt+eo+M1,xp=$1+127>>7,lR=xp<=109?0:Math.ceil((xp-109)/127);$1+xp+lR+127>>7>xp;)lR=++xp<=109?0:Math.ceil((xp-109)/127);var cf=[1,lR,xp,M1,eo,dt,Ye,0];return Me.FileIndex[0].size=Ye<<6,cf[7]=(Me.FileIndex[0].start=cf[0]+cf[1]+cf[2]+cf[3]+cf[4]+cf[5])+(cf[6]+7>>3),cf}(le),ue=Za(ee[7]<<9),we=0,Ge=0;{for(we=0;we<8;++we)ue.write_shift(1,R[we]);for(we=0;we<8;++we)ue.write_shift(2,0);for(ue.write_shift(2,62),ue.write_shift(2,3),ue.write_shift(2,65534),ue.write_shift(2,9),ue.write_shift(2,6),we=0;we<3;++we)ue.write_shift(2,0);for(ue.write_shift(4,0),ue.write_shift(4,ee[2]),ue.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),ue.write_shift(4,0),ue.write_shift(4,4096),ue.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:N),ue.write_shift(4,ee[3]),ue.write_shift(-4,ee[1]?ee[0]-1:N),ue.write_shift(4,ee[1]),we=0;we<109;++we)ue.write_shift(-4,we<ee[2]?ee[1]+we:-1)}if(ee[1])for(Ge=0;Ge<ee[1];++Ge){for(;we<236+Ge*127;++we)ue.write_shift(-4,we<ee[2]?ee[1]+we:-1);ue.write_shift(-4,Ge===ee[1]-1?N:Ge+1)}var at=function(Me){for(Ge+=Me;we<Ge-1;++we)ue.write_shift(-4,we+1);Me&&(++we,ue.write_shift(-4,N))};for(Ge=we=0,Ge+=ee[1];we<Ge;++we)ue.write_shift(-4,P.DIFSECT);for(Ge+=ee[2];we<Ge;++we)ue.write_shift(-4,P.FATSECT);at(ee[3]),at(ee[4]);for(var qe=0,Je=0,et=le.FileIndex[0];qe<le.FileIndex.length;++qe)et=le.FileIndex[qe],et.content&&(Je=et.content.length,!(Je<4096)&&(et.start=Ge,at(Je+511>>9)));for(at(ee[6]+7>>3);ue.l&511;)ue.write_shift(-4,P.ENDOFCHAIN);for(Ge=we=0,qe=0;qe<le.FileIndex.length;++qe)et=le.FileIndex[qe],et.content&&(Je=et.content.length,!(!Je||Je>=4096)&&(et.start=Ge,at(Je+63>>6)));for(;ue.l&511;)ue.write_shift(-4,P.ENDOFCHAIN);for(we=0;we<ee[4]<<2;++we){var kt=le.FullPaths[we];if(!kt||kt.length===0){for(qe=0;qe<17;++qe)ue.write_shift(4,0);for(qe=0;qe<3;++qe)ue.write_shift(4,-1);for(qe=0;qe<12;++qe)ue.write_shift(4,0);continue}et=le.FileIndex[we],we===0&&(et.start=et.size?et.start-1:N);var $t=we===0&&ye.root||et.name;if(Je=2*($t.length+1),ue.write_shift(64,$t,"utf16le"),ue.write_shift(2,Je),ue.write_shift(1,et.type),ue.write_shift(1,et.color),ue.write_shift(-4,et.L),ue.write_shift(-4,et.R),ue.write_shift(-4,et.C),et.clsid)ue.write_shift(16,et.clsid,"hex");else for(qe=0;qe<4;++qe)ue.write_shift(4,0);ue.write_shift(4,et.state||0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,et.start),ue.write_shift(4,et.size),ue.write_shift(4,0)}for(we=1;we<le.FileIndex.length;++we)if(et=le.FileIndex[we],et.size>=4096)if(ue.l=et.start+1<<9,fr&&Buffer.isBuffer(et.content))et.content.copy(ue,ue.l,0,et.size),ue.l+=et.size+511&-512;else{for(qe=0;qe<et.size;++qe)ue.write_shift(1,et.content[qe]);for(;qe&511;++qe)ue.write_shift(1,0)}for(we=1;we<le.FileIndex.length;++we)if(et=le.FileIndex[we],et.size>0&&et.size<4096)if(fr&&Buffer.isBuffer(et.content))et.content.copy(ue,ue.l,0,et.size),ue.l+=et.size+63&-64;else{for(qe=0;qe<et.size;++qe)ue.write_shift(1,et.content[qe]);for(;qe&63;++qe)ue.write_shift(1,0)}if(fr)ue.l=ue.length;else for(;ue.l<ue.length;)ue.write_shift(1,0);return ue}function I(le,ke){var ye=le.FullPaths.map(function(qe){return qe.toUpperCase()}),ee=ye.map(function(qe){var Je=qe.split("/");return Je[Je.length-(qe.slice(-1)=="/"?2:1)]}),ue=!1;ke.charCodeAt(0)===47?(ue=!0,ke=ye[0].slice(0,-1)+ke):ue=ke.indexOf("/")!==-1;var we=ke.toUpperCase(),Ge=ue===!0?ye.indexOf(we):ee.indexOf(we);if(Ge!==-1)return le.FileIndex[Ge];var at=!we.match($b);for(we=we.replace(qo,""),at&&(we=we.replace($b,"!")),Ge=0;Ge<ye.length;++Ge)if((at?ye[Ge].replace($b,"!"):ye[Ge]).replace(qo,"")==we||(at?ee[Ge].replace($b,"!"):ee[Ge]).replace(qo,"")==we)return le.FileIndex[Ge];return null}var A=64,N=-2,L="d0cf11e0a1b11ae1",R=[208,207,17,224,161,177,26,225],D="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:D,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function O(le,ke,ye){u();var ee=E(le,ye);l.writeFileSync(ke,ee)}function M(le){for(var ke=new Array(le.length),ye=0;ye<le.length;++ye)ke[ye]=String.fromCharCode(le[ye]);return ke.join("")}function W(le,ke){var ye=E(le,ke);switch(ke&&ke.type||"buffer"){case"file":return u(),l.writeFileSync(ke.filename,ye),ye;case"binary":return typeof ye=="string"?ye:M(ye);case"base64":return QK(typeof ye=="string"?ye:M(ye));case"buffer":if(fr)return Buffer.isBuffer(ye)?ye:Zg(ye);case"array":return typeof ye=="string"?du(ye):ye}return ye}var U;function V(le){try{var ke=le.InflateRaw,ye=new ke;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)U=le;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function H(le,ke){if(!U)return Gt(le,ke);var ye=U.InflateRaw,ee=new ye,ue=ee._processChunk(le.slice(le.l),ee._finishFlushFlag);return le.l+=ee.bytesRead,ue}function K(le){return U?U.deflateRawSync(le):_t(le)}var j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function oe(le){var ke=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(ke>>16|ke>>8|ke)&255}for(var ae=typeof Uint8Array<"u",me=ae?new Uint8Array(256):[],ve=0;ve<256;++ve)me[ve]=oe(ve);function B(le,ke){var ye=me[le&255];return ke<=8?ye>>>8-ke:(ye=ye<<8|me[le>>8&255],ke<=16?ye>>>16-ke:(ye=ye<<8|me[le>>16&255],ye>>>24-ke))}function re(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=6?0:le[ee+1]<<8))>>>ye&3}function ge(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=5?0:le[ee+1]<<8))>>>ye&7}function Ie(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=4?0:le[ee+1]<<8))>>>ye&15}function Ce(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=3?0:le[ee+1]<<8))>>>ye&31}function he(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=1?0:le[ee+1]<<8))>>>ye&127}function J(le,ke,ye){var ee=ke&7,ue=ke>>>3,we=(1<<ye)-1,Ge=le[ue]>>>ee;return ye<8-ee||(Ge|=le[ue+1]<<8-ee,ye<16-ee)||(Ge|=le[ue+2]<<16-ee,ye<24-ee)||(Ge|=le[ue+3]<<24-ee),Ge&we}function te(le,ke,ye){var ee=ke&7,ue=ke>>>3;return ee<=5?le[ue]|=(ye&7)<<ee:(le[ue]|=ye<<ee&255,le[ue+1]=(ye&7)>>8-ee),ke+3}function xe(le,ke,ye){var ee=ke&7,ue=ke>>>3;return ye=(ye&1)<<ee,le[ue]|=ye,ke+1}function Ee(le,ke,ye){var ee=ke&7,ue=ke>>>3;return ye<<=ee,le[ue]|=ye&255,ye>>>=8,le[ue+1]=ye,ke+8}function Qe(le,ke,ye){var ee=ke&7,ue=ke>>>3;return ye<<=ee,le[ue]|=ye&255,ye>>>=8,le[ue+1]=ye&255,le[ue+2]=ye>>>8,ke+16}function Be(le,ke){var ye=le.length,ee=2*ye>ke?2*ye:ke+5,ue=0;if(ye>=ke)return le;if(fr){var we=ej(ee);if(le.copy)le.copy(we);else for(;ue<le.length;++ue)we[ue]=le[ue];return we}else if(ae){var Ge=new Uint8Array(ee);if(Ge.set)Ge.set(le);else for(;ue<ye;++ue)Ge[ue]=le[ue];return Ge}return le.length=ee,le}function ce(le){for(var ke=new Array(le),ye=0;ye<le;++ye)ke[ye]=0;return ke}function Re(le,ke,ye){var ee=1,ue=0,we=0,Ge=0,at=0,qe=le.length,Je=ae?new Uint16Array(32):ce(32);for(we=0;we<32;++we)Je[we]=0;for(we=qe;we<ye;++we)le[we]=0;qe=le.length;var et=ae?new Uint16Array(qe):ce(qe);for(we=0;we<qe;++we)Je[ue=le[we]]++,ee<ue&&(ee=ue),et[we]=0;for(Je[0]=0,we=1;we<=ee;++we)Je[we+16]=at=at+Je[we-1]<<1;for(we=0;we<qe;++we)at=le[we],at!=0&&(et[we]=Je[at+16]++);var kt=0;for(we=0;we<qe;++we)if(kt=le[we],kt!=0)for(at=B(et[we],ee)>>ee-kt,Ge=(1<<ee+4-kt)-1;Ge>=0;--Ge)ke[at|Ge<<kt]=kt&15|we<<4;return ee}var ct=ae?new Uint16Array(512):ce(512),It=ae?new Uint16Array(32):ce(32);if(!ae){for(var wt=0;wt<512;++wt)ct[wt]=0;for(wt=0;wt<32;++wt)It[wt]=0}(function(){for(var le=[],ke=0;ke<32;ke++)le.push(5);Re(le,It,32);var ye=[];for(ke=0;ke<=143;ke++)ye.push(8);for(;ke<=255;ke++)ye.push(9);for(;ke<=279;ke++)ye.push(7);for(;ke<=287;ke++)ye.push(8);Re(ye,ct,288)})();var Qt=function(){for(var ke=ae?new Uint8Array(32768):[],ye=0,ee=0;ye<Q.length-1;++ye)for(;ee<Q[ye+1];++ee)ke[ee]=ye;for(;ee<32768;++ee)ke[ee]=29;var ue=ae?new Uint8Array(259):[];for(ye=0,ee=0;ye<ne.length-1;++ye)for(;ee<ne[ye+1];++ee)ue[ee]=ye;function we(at,qe){for(var Je=0;Je<at.length;){var et=Math.min(65535,at.length-Je),kt=Je+et==at.length;for(qe.write_shift(1,+kt),qe.write_shift(2,et),qe.write_shift(2,~et&65535);et-- >0;)qe[qe.l++]=at[Je++]}return qe.l}function Ge(at,qe){for(var Je=0,et=0,kt=ae?new Uint16Array(32768):[];et<at.length;){var $t=Math.min(65535,at.length-et);if($t<10){for(Je=te(qe,Je,+(et+$t==at.length)),Je&7&&(Je+=8-(Je&7)),qe.l=Je/8|0,qe.write_shift(2,$t),qe.write_shift(2,~$t&65535);$t-- >0;)qe[qe.l++]=at[et++];Je=qe.l*8;continue}Je=te(qe,Je,+(et+$t==at.length)+2);for(var Me=0;$t-- >0;){var Ye=at[et];Me=(Me<<5^Ye)&32767;var dt=-1,Rt=0;if((dt=kt[Me])&&(dt|=et&-32768,dt>et&&(dt-=32768),dt<et))for(;at[dt+Rt]==at[et+Rt]&&Rt<250;)++Rt;if(Rt>2){Ye=ue[Rt],Ye<=22?Je=Ee(qe,Je,me[Ye+1]>>1)-1:(Ee(qe,Je,3),Je+=5,Ee(qe,Je,me[Ye-23]>>5),Je+=3);var Xn=Ye<8?0:Ye-4>>2;Xn>0&&(Qe(qe,Je,Rt-ne[Ye]),Je+=Xn),Ye=ke[et-dt],Je=Ee(qe,Je,me[Ye]>>3),Je-=3;var _r=Ye<4?0:Ye-2>>1;_r>0&&(Qe(qe,Je,et-dt-Q[Ye]),Je+=_r);for(var eo=0;eo<Rt;++eo)kt[Me]=et&32767,Me=(Me<<5^at[et])&32767,++et;$t-=Rt-1}else Ye<=143?Ye=Ye+48:Je=xe(qe,Je,1),Je=Ee(qe,Je,me[Ye]),kt[Me]=et&32767,++et}Je=Ee(qe,Je,0)-1}return qe.l=(Je+7)/8|0,qe.l}return function(qe,Je){return qe.length<8?we(qe,Je):Ge(qe,Je)}}();function _t(le){var ke=Za(50+Math.floor(le.length*1.1)),ye=Qt(le,ke);return ke.slice(0,ye)}var ln=ae?new Uint16Array(32768):ce(32768),Ne=ae?new Uint16Array(32768):ce(32768),nt=ae?new Uint16Array(128):ce(128),_e=1,We=1;function de(le,ke){var ye=Ce(le,ke)+257;ke+=5;var ee=Ce(le,ke)+1;ke+=5;var ue=Ie(le,ke)+4;ke+=4;for(var we=0,Ge=ae?new Uint8Array(19):ce(19),at=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe=1,Je=ae?new Uint8Array(8):ce(8),et=ae?new Uint8Array(8):ce(8),kt=Ge.length,$t=0;$t<ue;++$t)Ge[j[$t]]=we=ge(le,ke),qe<we&&(qe=we),Je[we]++,ke+=3;var Me=0;for(Je[0]=0,$t=1;$t<=qe;++$t)et[$t]=Me=Me+Je[$t-1]<<1;for($t=0;$t<kt;++$t)(Me=Ge[$t])!=0&&(at[$t]=et[Me]++);var Ye=0;for($t=0;$t<kt;++$t)if(Ye=Ge[$t],Ye!=0){Me=me[at[$t]]>>8-Ye;for(var dt=(1<<7-Ye)-1;dt>=0;--dt)nt[Me|dt<<Ye]=Ye&7|$t<<3}var Rt=[];for(qe=1;Rt.length<ye+ee;)switch(Me=nt[he(le,ke)],ke+=Me&7,Me>>>=3){case 16:for(we=3+re(le,ke),ke+=2,Me=Rt[Rt.length-1];we-- >0;)Rt.push(Me);break;case 17:for(we=3+ge(le,ke),ke+=3;we-- >0;)Rt.push(0);break;case 18:for(we=11+he(le,ke),ke+=7;we-- >0;)Rt.push(0);break;default:Rt.push(Me),qe<Me&&(qe=Me);break}var Xn=Rt.slice(0,ye),_r=Rt.slice(ye);for($t=ye;$t<286;++$t)Xn[$t]=0;for($t=ee;$t<30;++$t)_r[$t]=0;return _e=Re(Xn,ln,286),We=Re(_r,Ne,30),ke}function ft(le,ke){if(le[0]==3&&!(le[1]&3))return[Fh(ke),2];for(var ye=0,ee=0,ue=ej(ke||1<<18),we=0,Ge=ue.length>>>0,at=0,qe=0;!(ee&1);){if(ee=ge(le,ye),ye+=3,ee>>>1)ee>>1==1?(at=9,qe=5):(ye=de(le,ye),at=_e,qe=We);else{ye&7&&(ye+=8-(ye&7));var Je=le[ye>>>3]|le[(ye>>>3)+1]<<8;if(ye+=32,Je>0)for(!ke&&Ge<we+Je&&(ue=Be(ue,we+Je),Ge=ue.length);Je-- >0;)ue[we++]=le[ye>>>3],ye+=8;continue}for(;;){!ke&&Ge<we+32767&&(ue=Be(ue,we+32767),Ge=ue.length);var et=J(le,ye,at),kt=ee>>>1==1?ct[et]:ln[et];if(ye+=kt&15,kt>>>=4,!(kt>>>8&255))ue[we++]=kt;else{if(kt==256)break;kt-=257;var $t=kt<8?0:kt-4>>2;$t>5&&($t=0);var Me=we+ne[kt];$t>0&&(Me+=J(le,ye,$t),ye+=$t),et=J(le,ye,qe),kt=ee>>>1==1?It[et]:Ne[et],ye+=kt&15,kt>>>=4;var Ye=kt<4?0:kt-2>>1,dt=Q[kt];for(Ye>0&&(dt+=J(le,ye,Ye),ye+=Ye),!ke&&Ge<Me&&(ue=Be(ue,Me+100),Ge=ue.length);we<Me;)ue[we]=ue[we-dt],++we}}}return ke?[ue,ye+7>>>3]:[ue.slice(0,we),ye+7>>>3]}function Gt(le,ke){var ye=le.slice(le.l||0),ee=ft(ye,ke);return le.l+=ee[1],ee[0]}function cn(le,ke){if(le)typeof console<"u"&&console.error(ke);else throw new Error(ke)}function ir(le,ke){var ye=le;Li(ye,0);var ee=[],ue=[],we={FileIndex:ee,FullPaths:ue};C(we,{root:ke.root});for(var Ge=ye.length-4;(ye[Ge]!=80||ye[Ge+1]!=75||ye[Ge+2]!=5||ye[Ge+3]!=6)&&Ge>=0;)--Ge;ye.l=Ge+4,ye.l+=4;var at=ye.read_shift(2);ye.l+=6;var qe=ye.read_shift(4);for(ye.l=qe,Ge=0;Ge<at;++Ge){ye.l+=20;var Je=ye.read_shift(4),et=ye.read_shift(4),kt=ye.read_shift(2),$t=ye.read_shift(2),Me=ye.read_shift(2);ye.l+=8;var Ye=ye.read_shift(4),dt=s(ye.slice(ye.l+kt,ye.l+kt+$t));ye.l+=kt+$t+Me;var Rt=ye.l;ye.l=Ye+4,Eo(ye,Je,et,we,dt),ye.l=Rt}return we}function Eo(le,ke,ye,ee,ue){le.l+=2;var we=le.read_shift(2),Ge=le.read_shift(2),at=o(le);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var qe=le.read_shift(4),Je=le.read_shift(4),et=le.read_shift(4),kt=le.read_shift(2),$t=le.read_shift(2),Me="",Ye=0;Ye<kt;++Ye)Me+=String.fromCharCode(le[le.l++]);if($t){var dt=s(le.slice(le.l,le.l+$t));(dt[21589]||{}).mt&&(at=dt[21589].mt),((ue||{})[21589]||{}).mt&&(at=ue[21589].mt)}le.l+=$t;var Rt=le.slice(le.l,le.l+Je);switch(Ge){case 8:Rt=H(le,et);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var Xn=!1;we&8&&(qe=le.read_shift(4),qe==134695760&&(qe=le.read_shift(4),Xn=!0),Je=le.read_shift(4),et=le.read_shift(4)),Je!=ke&&cn(Xn,"Bad compressed size: "+ke+" != "+Je),et!=ye&&cn(Xn,"Bad uncompressed size: "+ye+" != "+et),bp(ee,Me,Rt,{unsafe:!0,mt:at})}function ra(le,ke){var ye=ke||{},ee=[],ue=[],we=Za(1),Ge=ye.compression?8:0,at=0,qe=0,Je=0,et=0,kt=0,$t=le.FullPaths[0],Me=$t,Ye=le.FileIndex[0],dt=[],Rt=0;for(qe=1;qe<le.FullPaths.length;++qe)if(Me=le.FullPaths[qe].slice($t.length),Ye=le.FileIndex[qe],!(!Ye.size||!Ye.content||Me=="Sh33tJ5")){var Xn=et,_r=Za(Me.length);for(Je=0;Je<Me.length;++Je)_r.write_shift(1,Me.charCodeAt(Je)&127);_r=_r.slice(0,_r.l),dt[kt]=x_t.buf(Ye.content,0);var eo=Ye.content;Ge==8&&(eo=K(eo)),we=Za(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,at),we.write_shift(2,Ge),Ye.mt?i(we,Ye.mt):we.write_shift(4,0),we.write_shift(-4,dt[kt]),we.write_shift(4,eo.length),we.write_shift(4,Ye.content.length),we.write_shift(2,_r.length),we.write_shift(2,0),et+=we.length,ee.push(we),et+=_r.length,ee.push(_r),et+=eo.length,ee.push(eo),we=Za(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,at),we.write_shift(2,Ge),we.write_shift(4,0),we.write_shift(-4,dt[kt]),we.write_shift(4,eo.length),we.write_shift(4,Ye.content.length),we.write_shift(2,_r.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Xn),Rt+=we.l,ue.push(we),Rt+=_r.length,ue.push(_r),++kt}return we=Za(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,kt),we.write_shift(2,kt),we.write_shift(4,Rt),we.write_shift(4,et),we.write_shift(2,0),Gd([Gd(ee),Gd(ue),we])}var wr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function yn(le,ke){if(le.ctype)return le.ctype;var ye=le.name||"",ee=ye.match(/\.([^\.]+)$/);return ee&&wr[ee[1]]||ke&&(ee=(ye=ke).match(/[\.\\]([^\.\\])+$/),ee&&wr[ee[1]])?wr[ee[1]]:"application/octet-stream"}function Mi(le){for(var ke=QK(le),ye=[],ee=0;ee<ke.length;ee+=76)ye.push(ke.slice(ee,ee+76));return ye.join(`\r
`)+`\r
`}function d0(le){var ke=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Je){var et=Je.charCodeAt(0).toString(16).toUpperCase();return"="+(et.length==1?"0"+et:et)});ke=ke.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ke.charAt(0)==`
`&&(ke="=0D"+ke.slice(1)),ke=ke.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],ee=ke.split(`\r
`),ue=0;ue<ee.length;++ue){var we=ee[ue];if(we.length==0){ye.push("");continue}for(var Ge=0;Ge<we.length;){var at=76,qe=we.slice(Ge,Ge+at);qe.charAt(at-1)=="="?at--:qe.charAt(at-2)=="="?at-=2:qe.charAt(at-3)=="="&&(at-=3),qe=we.slice(Ge,Ge+at),Ge+=at,Ge<we.length&&(qe+="="),ye.push(qe)}}return ye.join(`\r
`)}function h0(le){for(var ke=[],ye=0;ye<le.length;++ye){for(var ee=le[ye];ye<=le.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+le[++ye];ke.push(ee)}for(var ue=0;ue<ke.length;++ue)ke[ue]=ke[ue].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return du(ke.join(`\r
`))}function p0(le,ke,ye){for(var ee="",ue="",we="",Ge,at=0;at<10;++at){var qe=ke[at];if(!qe||qe.match(/^\s*$/))break;var Je=qe.match(/^(.*?):\s*([^\s].*)$/);if(Je)switch(Je[1].toLowerCase()){case"content-location":ee=Je[2].trim();break;case"content-type":we=Je[2].trim();break;case"content-transfer-encoding":ue=Je[2].trim();break}}switch(++at,ue.toLowerCase()){case"base64":Ge=du(Zs(ke.slice(at).join("")));break;case"quoted-printable":Ge=h0(ke.slice(at));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ue)}var et=bp(le,ee.slice(ye.length),Ge,{unsafe:!0});we&&(et.ctype=we)}function yp(le,ke){if(M(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=ke&&ke.root||"",ee=(fr&&Buffer.isBuffer(le)?le.toString("binary"):M(le)).split(`\r
`),ue=0,we="";for(ue=0;ue<ee.length;++ue)if(we=ee[ue],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),ye||(ye=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),we.slice(0,ye.length)!=ye););var Ge=(ee[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var at="--"+(Ge[1]||""),qe=[],Je=[],et={FileIndex:qe,FullPaths:Je};C(et);var kt,$t=0;for(ue=0;ue<ee.length;++ue){var Me=ee[ue];Me!==at&&Me!==at+"--"||($t++&&p0(et,ee.slice(kt,ue),ye),kt=ue)}return et}function uf(le,ke){var ye=ke||{},ee=ye.boundary||"SheetJS";ee="------="+ee;for(var ue=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],we=le.FullPaths[0],Ge=we,at=le.FileIndex[0],qe=1;qe<le.FullPaths.length;++qe)if(Ge=le.FullPaths[qe].slice(we.length),at=le.FileIndex[qe],!(!at.size||!at.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Rt){return"_x"+Rt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Rt){return"_u"+Rt.charCodeAt(0).toString(16)+"_"});for(var Je=at.content,et=fr&&Buffer.isBuffer(Je)?Je.toString("binary"):M(Je),kt=0,$t=Math.min(1024,et.length),Me=0,Ye=0;Ye<=$t;++Ye)(Me=et.charCodeAt(Ye))>=32&&Me<128&&++kt;var dt=kt>=$t*4/5;ue.push(ee),ue.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+Ge),ue.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),ue.push("Content-Type: "+yn(at,Ge)),ue.push(""),ue.push(dt?d0(et):Mi(et))}return ue.push(ee+`--\r
`),ue.join(`\r
`)}function v0(le){var ke={};return C(ke,le),ke}function bp(le,ke,ye,ee){var ue=ee&&ee.unsafe;ue||C(le);var we=!ue&&yr.find(le,ke);if(!we){var Ge=le.FullPaths[0];ke.slice(0,Ge.length)==Ge?Ge=ke:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+ke).replace("//","/")),we={name:a(ke),type:2},le.FileIndex.push(we),le.FullPaths.push(Ge),ue||yr.utils.cfb_gc(le)}return we.content=ye,we.size=ye?ye.length:0,ee&&(ee.CLSID&&(we.clsid=ee.CLSID),ee.mt&&(we.mt=ee.mt),ee.ct&&(we.ct=ee.ct)),we}function yd(le,ke){C(le);var ye=yr.find(le,ke);if(ye){for(var ee=0;ee<le.FileIndex.length;++ee)if(le.FileIndex[ee]==ye)return le.FileIndex.splice(ee,1),le.FullPaths.splice(ee,1),!0}return!1}function g0(le,ke,ye){C(le);var ee=yr.find(le,ke);if(ee){for(var ue=0;ue<le.FileIndex.length;++ue)if(le.FileIndex[ue]==ee)return le.FileIndex[ue].name=a(ye),le.FullPaths[ue]=ye,!0}return!1}function N1(le){T(le,!0)}return t.find=I,t.read=S,t.parse=c,t.write=W,t.writeFile=O,t.utils={cfb_new:v0,cfb_add:bp,cfb_del:yd,cfb_mov:g0,cfb_gc:N1,ReadShift:dx,CheckField:uve,prep_blob:Li,bconcat:Gd,use_zlib:V,_deflateRaw:_t,_inflateRaw:Gt,consts:P},t}();function w_t(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Hc(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function m6(e){for(var t=[],n=Hc(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var YI=new Date(1899,11,30,0,0,0);function as(e,t){var n=e.getTime(),r=YI.getTime()+(e.getTimezoneOffset()-YI.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var Wpe=new Date,__t=YI.getTime()+(Wpe.getTimezoneOffset()-YI.getTimezoneOffset())*6e4,lj=Wpe.getTimezoneOffset();function gN(e){var t=new Date;return t.setTime(e*24*60*60*1e3+__t),t.getTimezoneOffset()!==lj&&t.setTime(t.getTime()+(t.getTimezoneOffset()-lj)*6e4),t}function S_t(e){var t=0,n=0,r=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(n=1,i>3&&(r=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(a[i],10)}return t}var uj=new Date("2017-02-19T19:06:09.000Z"),Hpe=isNaN(uj.getFullYear())?new Date("2/19/17"):uj,C_t=Hpe.getFullYear()==2017;function ki(e,t){var n=new Date(e);if(C_t)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(Hpe.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function kg(e,t){if(fr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Ob(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Ob(Ape(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Ob(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Ob(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function Vi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Vi(e[n]));return t}function ga(e,t){for(var n="";n.length<t;)n+=e;return n}function Iu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,i){return n=-n,i}),!isNaN(t=Number(r)))?t/n:t}var T_t=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ty(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&T_t.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var k_t=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,a){if(e||typeof r=="string")return n.split(r);for(var i=n.split(r),o=[i[0]],s=1;s<i.length;++s)o.push(a),o.push(i[s]);return o}}();function Upe(e){return e?e.content&&e.type?kg(e.content,!0):e.data?Mb(e.data):e.asNodeBuffer&&fr?Mb(e.asNodeBuffer().toString("binary")):e.asBinary?Mb(e.asBinary()):e._data&&e._data.getContent?Mb(kg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Gpe(e){if(!e)return null;if(e.data)return ZK(e.data);if(e.asNodeBuffer&&fr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?ZK(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function I_t(e){return e&&e.name.slice(-4)===".bin"?Gpe(e):Upe(e)}function dl(e,t){for(var n=e.FullPaths||Hc(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),a=r.replace(/\\/g,"/"),i=0;i<n.length;++i){var o=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||a==o)return e.files?e.files[n[i]]:e.FileIndex[i]}return null}function y6(e,t){var n=dl(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Oa(e,t,n){if(!n)return I_t(y6(e,t));if(!t)return null;try{return Oa(e,t)}catch{return null}}function Ls(e,t,n){if(!n)return Upe(y6(e,t));if(!t)return null;try{return Ls(e,t)}catch{return null}}function E_t(e,t,n){return Gpe(y6(e,t))}function cj(e){for(var t=e.FullPaths||Hc(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function A_t(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return fr?r=Zg(n):r=Ywt(n),yr.utils.cfb_add(e,t,r)}yr.utils.cfb_add(e,t,n)}else e.file(t,n)}function Kpe(e,t){switch(t.type){case"base64":return yr.read(e,{type:"base64"});case"binary":return yr.read(e,{type:"binary"});case"buffer":case"array":return yr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Lb(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var a=r.shift();a===".."?n.pop():a!=="."&&n.push(a)}return n.join("/")}var jpe=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,D_t=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,fj=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,N_t=/<[^>]*>/g,Io=jpe.match(fj)?fj:N_t,R_t=/<\w*:/,M_t=/<(\/?)\w+:/;function In(e,t,n){for(var r={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(r[0]=e.slice(0,a)),a===e.length)return r;var o=e.match(D_t),s=0,l="",u=0,c="",f="",d=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(c=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(d=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+d,f.length-d),s=0;s!=c.length&&c.charCodeAt(s)!==58;++s);if(s===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),r[c]=l,r[c.toLowerCase()]=l;else{var h=(s===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(s+1);if(r[h]&&c.slice(s-3,s)=="ext")continue;r[h]=l,r[h.toLowerCase()]=l}}return r}function rf(e){return e.replace(M_t,"<$1")}var Ype={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},$_t=m6(Ype),Sr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var a=r+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(s,l){return Ype[s]||String.fromCharCode(parseInt(l,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,l){return String.fromCharCode(parseInt(l,16))});var o=a.indexOf("]]>");return n(a.slice(0,i))+a.slice(i+9,o)+n(a.slice(o+3))}}(),L_t=/[&<>'"]/g,O_t=/[\u0000-\u001f]/g;function b6(e){var t=e+"";return t.replace(L_t,function(n){return $_t[n]}).replace(/\n/g,"<br/>").replace(O_t,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var dj=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function ua(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function bM(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(n++),s=((r&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function hj(e){var t=Fh(2*e.length),n,r,a=1,i=0,o=0,s;for(r=0;r<e.length;r+=a)a=1,(s=e.charCodeAt(r))<128?n=s:s<224?(n=(s&31)*64+(e.charCodeAt(r+1)&63),a=2):s<240?(n=(s&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(s&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function pj(e){return Zg(e,"binary").toString("utf8")}var g2="foo bar baz",ea=fr&&(pj(g2)==bM(g2)&&pj||hj(g2)==bM(g2)&&hj)||bM,Ob=fr?function(e){return Zg(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Rw=function(){var e={};return function(n,r){var a=n+"|"+(r||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),Xpe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}}(),P_t=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),F_t=/<\/?(?:vt:)?variant>/g,B_t=/<(?:vt:)([^>]*)>([\s\S]*)</;function vj(e,t){var n=In(e),r=e.match(P_t(n.baseType))||[],a=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return a}return r.forEach(function(i){var o=i.replace(F_t,"").match(B_t);o&&a.push({v:ea(o[2]),t:o[1]})}),a}var V_t=/(^\s|\s$|\n)/;function z_t(e){return Hc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function W_t(e,t,n){return"<"+e+(n!=null?z_t(n):"")+(t!=null?(t.match(V_t)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function x6(e){if(fr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ea(Jg(p6(e)));throw new Error("Bad input format: expected Buffer or string")}var Mw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,H_t={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},U_t=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function G_t(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function K_t(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[n+s]=i&255;e[n+6]=(a&15)<<4|i&15,e[n+7]=a>>4|r}var gj=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,i=e[0][r].length;a<i;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},mj=fr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Zg(t)})):gj(e)}:gj,yj=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(Df(e,a)));return r.join("").replace(qo,"")},w6=fr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(qo,""):yj(e,t,n)}:yj,bj=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},qpe=fr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):bj(e,t,n)}:bj,xj=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(im(e,a)));return r.join("")},tC=fr?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):xj(t,n,r)}:xj,Zpe=function(e,t){var n=Rs(e,t);return n>0?tC(e,t+4,t+4+n-1):""},Jpe=Zpe,Qpe=function(e,t){var n=Rs(e,t);return n>0?tC(e,t+4,t+4+n-1):""},eve=Qpe,tve=function(e,t){var n=2*Rs(e,t);return n>0?tC(e,t+4,t+4+n-1):""},nve=tve,rve=function(t,n){var r=Rs(t,n);return r>0?w6(t,n+4,n+4+r):""},ave=rve,ive=function(e,t){var n=Rs(e,t);return n>0?tC(e,t+4,t+4+n):""},ove=ive,sve=function(e,t){return G_t(e,t)},XI=sve,lve=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};fr&&(Jpe=function(t,n){if(!Buffer.isBuffer(t))return Zpe(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},eve=function(t,n){if(!Buffer.isBuffer(t))return Qpe(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},nve=function(t,n){if(!Buffer.isBuffer(t))return tve(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},ave=function(t,n){if(!Buffer.isBuffer(t))return rve(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},ove=function(t,n){if(!Buffer.isBuffer(t))return ive(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},XI=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):sve(t,n)},lve=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var im=function(e,t){return e[t]},Df=function(e,t){return e[t+1]*256+e[t]},j_t=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Rs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},dv=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Y_t=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function dx(e,t){var n="",r,a,i=[],o,s,l,u;switch(t){case"dbcs":if(u=this.l,fr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Df(this,u)),u+=2;e*=2;break;case"utf8":n=tC(this,this.l,this.l+e);break;case"utf16le":e*=2,n=w6(this,this.l,this.l+e);break;case"wstr":return dx.call(this,e,"dbcs");case"lpstr-ansi":n=Jpe(this,this.l),e=4+Rs(this,this.l);break;case"lpstr-cp":n=eve(this,this.l),e=4+Rs(this,this.l);break;case"lpwstr":n=nve(this,this.l),e=4+2*Rs(this,this.l);break;case"lpp4":e=4+Rs(this,this.l),n=ave(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Rs(this,this.l),n=ove(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=im(this,this.l+e++))!==0;)i.push(v2(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=Df(this,this.l+e))!==0;)i.push(v2(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=im(this,u),this.l=u+1,s=dx.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(v2(Df(this,u))),u+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=im(this,u),this.l=u+1,s=dx.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(v2(im(this,u))),u+=1}n=i.join("");break;default:switch(e){case 1:return r=im(this,this.l),this.l++,r;case 2:return r=(t==="i"?j_t:Df)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(e>0?dv:Y_t)(this,this.l),this.l+=4,r):(a=Rs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=XI(this,this.l):a=XI([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=qpe(this,this.l,e);break}}return this.l+=e,n}var X_t=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},q_t=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Z_t=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function J_t(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)Z_t(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,X_t(this,t,this.l);break;case 8:if(r=8,n==="f"){K_t(this,t,this.l);break}case 16:break;case-4:r=4,q_t(this,t,this.l);break}return this.l+=r,this}function uve(e,t){var n=qpe(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Li(e,t){e.l=t,e.read_shift=dx,e.chk=uve,e.write_shift=J_t}function So(e,t){e.l+=t}function Za(e){var t=Fh(e);return Li(t,0),t}function pd(e,t,n){if(e){var r,a,i;Li(e,e.l||0);for(var o=e.length,s=0,l=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var u=tE[s]||tE[65535];for(r=e.read_shift(1),i=r&127,a=1;a<4&&r&128;++a)i+=((r=e.read_shift(1))&127)<<7*a;l=e.l+i;var c=u.f&&u.f(e,i,n);if(e.l=l,t(c,u,s))return}}}function vF(){var e=[],t=fr?256:2048,n=function(u){var c=Za(u);return Li(c,0),c},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(u){return r&&u<r.length-r.l?r:(a(),r=n(Math.max(u+1,t)))},o=function(){return a(),Gd(e)},s=function(u){a(),r=u,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function hx(e,t,n){var r=Vi(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function wj(e,t,n){var r=Vi(e);return r.s=hx(r.s,t.s,n),r.e=hx(r.e,t.s,n),r}function px(e,t){if(e.cRel&&e.c<0)for(e=Vi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Vi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=$n(e);return!e.cRel&&e.cRel!=null&&(n=tSt(n)),!e.rRel&&e.rRel!=null&&(n=Q_t(n)),n}function xM(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ai(e.s.c)+":"+(e.e.cRel?"":"$")+ai(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+zi(e.s.r)+":"+(e.e.rRel?"":"$")+zi(e.e.r):px(e.s,t.biff)+":"+px(e.e,t.biff)}function _6(e){return parseInt(eSt(e),10)-1}function zi(e){return""+(e+1)}function Q_t(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eSt(e){return e.replace(/\$(\d+)$/,"$1")}function S6(e){for(var t=nSt(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function ai(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function tSt(e){return e.replace(/^([A-Z])/,"$$$1")}function nSt(e){return e.replace(/^\$([A-Z])/,"$1")}function rSt(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jo(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function $n(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function h1(e){var t=e.indexOf(":");return t==-1?{s:jo(e),e:jo(e)}:{s:jo(e.slice(0,t)),e:jo(e.slice(t+1))}}function br(e,t){return typeof t>"u"||typeof t=="number"?br(e.s,e.e):(typeof e!="string"&&(e=$n(e)),typeof t!="string"&&(t=$n(t)),e==t?e:e+":"+t)}function _a(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function _j(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Vl(e.z,n?as(t):t)}catch{}try{return e.w=Vl((e.XF||{}).numFmtId||(n?14:0),n?as(t):t)}catch{return""+t}}function Xf(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?t0[e.v]||e.v:t==null?_j(e,e.v):_j(e,t))}function vp(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function cve(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?jo(r.origin):r.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var c=_a(i["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),o==-1&&(u.e.r=o=c.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[f].length;++d)if(!(typeof t[f][d]>"u")){var h={v:t[f][d]},p=o+f,v=s+d;if(u.s.r>p&&(u.s.r=p),u.s.c>v&&(u.s.c=v),u.e.r<p&&(u.e.r=p),u.e.c<v&&(u.e.c=v),t[f][d]&&typeof t[f][d]=="object"&&!Array.isArray(t[f][d])&&!(t[f][d]instanceof Date))h=t[f][d];else if(Array.isArray(h.v)&&(h.f=t[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else if(r.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=r.dateNF||Pn[14],r.cellDates?(h.t="d",h.w=Vl(h.z,as(h.v))):(h.t="n",h.v=as(h.v),h.w=Vl(h.z,h.v))):h.t="s";if(a)i[p]||(i[p]=[]),i[p][v]&&i[p][v].z&&(h.z=i[p][v].z),i[p][v]=h;else{var g=$n({c:v,r:p});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return u.s.c<1e7&&(i["!ref"]=br(u)),i}function p1(e,t){return cve(null,e,t)}function aSt(e){return e.read_shift(4,"i")}function wo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function iSt(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function C6(e,t){var n=e.l,r=e.read_shift(1),a=wo(e),i=[],o={t:a,h:a};if(r&1){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(iSt(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var oSt=C6;function Kl(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Qg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var sSt=wo;function T6(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var lSt=wo,gF=T6;function k6(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?XI([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):dv(t,0)>>2;return n?a/100:a}function fve(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var e0=fve;function go(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function uSt(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var u=Uv[a];u&&(t.rgb=Lw(u));break;case 2:t.rgb=Lw([o,s,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function cSt(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function dve(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function fSt(e){return dve(e,1)}function dSt(e){return dve(e,2)}var I6=2,vs=3,m2=11,Sj=12,qI=19,y2=64,hSt=65,pSt=71,vSt=4108,gSt=4126,bi=80,hve=81,mSt=[bi,hve],ySt={1:{n:"CodePage",t:I6},2:{n:"Category",t:bi},3:{n:"PresentationFormat",t:bi},4:{n:"ByteCount",t:vs},5:{n:"LineCount",t:vs},6:{n:"ParagraphCount",t:vs},7:{n:"SlideCount",t:vs},8:{n:"NoteCount",t:vs},9:{n:"HiddenCount",t:vs},10:{n:"MultimediaClipCount",t:vs},11:{n:"ScaleCrop",t:m2},12:{n:"HeadingPairs",t:vSt},13:{n:"TitlesOfParts",t:gSt},14:{n:"Manager",t:bi},15:{n:"Company",t:bi},16:{n:"LinksUpToDate",t:m2},17:{n:"CharacterCount",t:vs},19:{n:"SharedDoc",t:m2},22:{n:"HyperlinksChanged",t:m2},23:{n:"AppVersion",t:vs,p:"version"},24:{n:"DigSig",t:hSt},26:{n:"ContentType",t:bi},27:{n:"ContentStatus",t:bi},28:{n:"Language",t:bi},29:{n:"Version",t:bi},255:{},2147483648:{n:"Locale",t:qI},2147483651:{n:"Behavior",t:qI},1919054434:{}},bSt={1:{n:"CodePage",t:I6},2:{n:"Title",t:bi},3:{n:"Subject",t:bi},4:{n:"Author",t:bi},5:{n:"Keywords",t:bi},6:{n:"Comments",t:bi},7:{n:"Template",t:bi},8:{n:"LastAuthor",t:bi},9:{n:"RevNumber",t:bi},10:{n:"EditTime",t:y2},11:{n:"LastPrinted",t:y2},12:{n:"CreatedDate",t:y2},13:{n:"ModifiedDate",t:y2},14:{n:"PageCount",t:vs},15:{n:"WordCount",t:vs},16:{n:"CharCount",t:vs},17:{n:"Thumbnail",t:pSt},18:{n:"Application",t:bi},19:{n:"DocSecurity",t:vs},255:{},2147483648:{n:"Locale",t:qI},2147483651:{n:"Behavior",t:qI},1919054434:{}},Cj={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},xSt=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function wSt(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var _St=wSt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uv=Vi(_St),t0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},pve={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Tj={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function SSt(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function CSt(e){var t=SSt();if(!e||!e.match)return t;var n={};if((e.match(Io)||[]).forEach(function(r){var a=In(r);switch(a[0].replace(R_t,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[a.Extension]=a.ContentType;break;case"<Override":t[Tj[a.ContentType]]!==void 0&&t[Tj[a.ContentType]].push(a.PartName);break}}),t.xmlns!==H_t.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var pm={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function mF(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function vx(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Io)||[]).forEach(function(a){var i=In(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var s=i.TargetMode==="External"?i.Target:Lb(i.Target,t);n[s]=o,r[i.Id]=o}}),n["!id"]=r,n}var TSt="application/vnd.oasis.opendocument.spreadsheet";function kSt(e,t){for(var n=x6(e),r,a;r=Mw.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(a=In(r[0],!1),a.path=="/"&&a.type!==TSt)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var gx=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ISt=function(){for(var e=new Array(gx.length),t=0;t<gx.length;++t){var n=gx[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function vve(e){var t={};e=ea(e);for(var n=0;n<gx.length;++n){var r=gx[n],a=e.match(ISt[n]);a!=null&&a.length>0&&(t[r[1]]=Sr(a[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=ki(t[r[1]]))}return t}var ESt=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function gve(e,t,n,r){var a=[];if(typeof e=="string")a=vj(e,r);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(c){return{v:c}}));var o=typeof t=="string"?vj(t,r).map(function(c){return c.v}):t,s=0,l=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(s,s+l);break}s+=l}}function ASt(e,t,n){var r={};return t||(t={}),e=ea(e),ESt.forEach(function(a){var i=(e.match(Rw(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Sr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(r[a[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&gve(r.HeadingPairs,r.TitlesOfParts,t,n),t}var DSt=/<[^>]+>[^<]*/g;function NSt(e,t){var n={},r="",a=e.match(DSt);if(a)for(var i=0;i!=a.length;++i){var o=a[i],s=In(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Sr(s.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":n[r]=Sr(c);break;case"bool":n[r]=ua(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(c,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(c);break;case"filetime":case"date":n[r]=ki(c);break;case"cy":case"error":n[r]=Sr(c);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}var RSt={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},wM;function MSt(e,t,n){wM||(wM=m6(RSt)),t=wM[t]||t,e[t]=n}function E6(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function mve(e,t,n){var r=e.l,a=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return a}function yve(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function bve(e,t,n){return t===31?yve(e):mve(e,t,n)}function yF(e,t,n){return bve(e,t,n===!1?0:4)}function $St(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return bve(e,t,0)}function LSt(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var a=e.l;n[r]=e.read_shift(0,"lpwstr").replace(qo,""),e.l-a&2&&(e.l+=2)}return n}function OSt(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(qo,"");return n}function PSt(e){var t=e.l,n=ZI(e,hve);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=ZI(e,vs);return[n,r]}function FSt(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(PSt(e));return n}function kj(e,t){for(var n=e.read_shift(4),r={},a=0;a!=n;++a){var i=e.read_shift(4),o=e.read_shift(4);r[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(qo,"").replace($b,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function xve(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function BSt(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ZI(e,t,n){var r=e.read_shift(2),a,i=n||{};if(e.l+=2,t!==Sj&&r!==t&&mSt.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===Sj?r:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return mve(e,r,4).replace(qo,"");case 31:return yve(e);case 64:return E6(e);case 65:return xve(e);case 71:return BSt(e);case 80:return yF(e,r,!i.raw).replace(qo,"");case 81:return $St(e,r).replace(qo,"");case 4108:return FSt(e);case 4126:case 4127:return r==4127?LSt(e):OSt(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function Ij(e,t){var n=e.l,r=e.read_shift(4),a=e.read_shift(4),i=[],o=0,s=0,l=-1,u={};for(o=0;o!=a;++o){var c=e.read_shift(4),f=e.read_shift(4);i[o]=[c,f+n]}i.sort(function(y,b){return y[1]-b[1]});var d={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var h=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,h=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],h=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],h=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(h=!1,e.l=i[o][1]),h)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[i[o][0]];if(d[p.n]=ZI(e,p.t,{raw:!0}),p.p==="version"&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yu(s=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(i[o][0]===1){if(s=d.CodePage=ZI(e,I6),yu(s),l!==-1){var v=e.l;e.l=i[l][1],u=kj(e,s),e.l=v}}else if(i[o][0]===0){if(s===0){l=o,e.l=i[o+1][1];continue}u=kj(e,s)}else{var g=u[i[o][0]],m;switch(e[e.l]){case 65:e.l+=4,m=xve(e);break;case 30:e.l+=4,m=yF(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,m=yF(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=Ia(e,4);break;case 64:e.l+=4,m=ki(E6(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[g]=m}}return e.l=n+r,d}function Ej(e,t,n){var r=e.content;if(!r)return{};Li(r,0);var a,i,o,s,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),c=r.read_shift(16);if(c!==yr.utils.consts.HEADER_CLSID&&c!==n)throw new Error("Bad PropertySet CLSID "+c);if(a=r.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=r.read_shift(16),s=r.read_shift(4),a===1&&s!==r.l)throw new Error("Length mismatch: "+s+" !== "+r.l);a===2&&(o=r.read_shift(16),l=r.read_shift(4));var f=Ij(r,t),d={SystemIdentifier:u};for(var h in f)d[h]=f[h];if(d.FMTID=i,a===1)return d;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var p;try{p=Ij(r,null)}catch{}for(h in p)d[h]=p[h];return d.FMTID=[i,o],d}function _d(e,t){return e.read_shift(t),null}function VSt(e,t,n){for(var r=[],a=e.l+t;e.l<a;)r.push(n(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return r}function Ia(e,t){return e.read_shift(t)===1}function Pa(e){return e.read_shift(2,"u")}function wve(e,t){return VSt(e,t,Pa)}function zSt(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function nC(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return o}function WSt(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,a=n&8,i=1+(n&1),o=0,s,l={};a&&(o=e.read_shift(2)),r&&(s=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",c=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),r&&(e.l+=s),l.t=c,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Ig(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function rC(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Ig(e,r,n)}function n0(e,t,n){if(n.biff>5)return rC(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function HSt(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function USt(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var a=e.read_shift((r?t-24:t)>>1,"utf16le").replace(qo,"");return r&&(e.l+=24),a}function GSt(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return n+r.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(qo,"");return n+o}function KSt(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return USt(e);case"0303000000000000c000000000000046":return GSt(e);default:throw new Error("Unsupported Moniker "+n)}}function b2(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(qo,""):"";return n}function jSt(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var a=e.read_shift(2);e.l+=2;var i,o,s,l,u="",c,f;a&16&&(i=b2(e,n-e.l)),a&128&&(o=b2(e,n-e.l)),(a&257)===257&&(s=b2(e,n-e.l)),(a&257)===1&&(l=KSt(e,n-e.l)),a&8&&(u=b2(e,n-e.l)),a&32&&(c=e.read_shift(16)),a&64&&(f=E6(e)),e.l=n;var d=o||s||l||"";d&&u&&(d+="#"+u),d||(d="#"+u),a&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return c&&(h.guid=c),f&&(h.time=f),i&&(h.Tooltip=i),h}function _ve(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1);return[t,n,r,a]}function Sve(e,t){var n=_ve(e);return n[3]=0,n}function af(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function YSt(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function XSt(e,t,n){return t===0?"":n0(e,t,n)}function qSt(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),i=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[a,i,o]}function Cve(e){var t=e.read_shift(2),n=k6(e);return[t,n]}function ZSt(e,t,n){e.l+=4,t-=4;var r=e.l+t,a=nC(e,t,n),i=e.read_shift(2);if(r-=e.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return e.l+=i,a}function mN(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function Tve(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),a=e.read_shift(1);return{s:{c:r,r:t},e:{c:a,r:n}}}var JSt=Tve;function kve(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function QSt(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function eCt(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function to(e){e.l+=2,e.l+=e.read_shift(2)}var tCt={0:to,4:to,5:to,6:to,7:eCt,8:to,9:to,10:to,11:to,12:to,13:QSt,14:to,15:to,16:to,17:to,18:to,19:to,20:to,21:kve};function nCt(e,t){for(var n=e.l+t,r=[];e.l<n;){var a=e.read_shift(2);e.l-=2;try{r.push(tCt[a](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function x2(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function rCt(e,t){return t===0||e.read_shift(2),1200}function aCt(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,a=n0(e,0,n);return e.read_shift(t+r-e.l),a}function iCt(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function oCt(e,t,n){var r=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=nC(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:a,dt:i,name:o}}function sCt(e,t){for(var n=e.l+t,r=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<n;++o)i.push(WSt(e));return i.Count=r,i.Unique=a,i}function lCt(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function uCt(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function cCt(e){var t=YSt(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function fCt(e){return e.read_shift(2),e.read_shift(4)}function Aj(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var a=e.read_shift(2);n&&n.biff==2&&(r=1-(a>>15),a&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,a]}function dCt(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,n],Dim:[r,a],Flags:i,CurTab:o,FirstTab:s,Selected:l,TabRatio:u}}function hCt(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function pCt(){}function vCt(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=nC(e,0,n),r}function gCt(e){var t=af(e);return t.isst=e.read_shift(4),t}function mCt(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,a=af(e);n.biff==2&&e.l++;var i=rC(e,r-e.l,n);return a.val=i,a}function yCt(e,t,n){var r=e.read_shift(2),a=n0(e,0,n);return[r,a]}var bCt=n0;function Dj(e,t,n){var r=e.l+t,a=n.biff==8||!n.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),s=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:i,c:s},e:{r:o,c:l}}}function xCt(e){var t=e.read_shift(2),n=e.read_shift(2),r=Cve(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function wCt(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(Cve(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r,c:a,C:o,rkrec:i}}function _Ct(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r,c:a,C:o,ixfe:i}}function SCt(e,t,n,r){var a={},i=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return a.patternType=xSt[s>>26],r.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=s&127,a.icvBottom=s>>7&127,a.icvDiag=s>>14&127,a.dgDiag=s>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function CCt(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=SCt(e,t,r.fStyle,n),r}function TCt(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Nj(e,t,n){var r=af(e);(n.biff==2||t==9)&&++e.l;var a=zSt(e);return r.val=a,r.t=a===!0||a===!1?"b":"e",r}function kCt(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=af(e),a=go(e);return r.val=a,r}var Rj=XSt;function ICt(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Ig(e,i),s=[];r>e.l;)s.push(rC(e));return[i,a,o,s]}function Mj(e,t,n){var r=e.read_shift(2),a,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(a=ZSt(e,t-2,n)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var ECt=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function $j(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var u=Ig(e,o,n);a&32&&(u=ECt[u.charCodeAt(0)]);var c=r-e.l;n&&n.biff==2&&--c;var f=r==e.l||s===0||!(c>0)?[]:uIt(e,c,n,s);return{chKey:i,Name:u,itab:l,rgce:f}}function Ive(e,t,n){if(n.biff<8)return ACt(e,t,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)r.push(qSt(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function ACt(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=nC(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function DCt(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),a=e.read_shift(2),i=Ig(e,r,n),o=Ig(e,a,n);return[i,o]}function NCt(e,t,n){var r=Tve(e);e.l++;var a=e.read_shift(1);return t-=8,[cIt(e,t,n),a,r]}function Lj(e,t,n){var r=JSt(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,sIt(e,t,n)]}function RCt(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function MCt(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=n0(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:a},s,o,i]}}function $Ct(e,t,n){return MCt(e,t,n)}function LCt(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(mN(e));return n}function OCt(e,t,n){if(n&&n.biff<8)return FCt(e,t,n);var r=kve(e),a=nCt(e,t-22,r[1]);return{cmo:r,ft:a}}var PCt={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=n,{fmt:r}}};function FCt(e,t,n){e.l+=4;var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((PCt[r]||So)(e,t,n)),{cmo:[a,r,i],ft:o}}function BCt(e,t,n){var r=e.l,a="";try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=HSt(e,6,n);var s=e.read_shift(2);e.read_shift(2),Pa(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-r!=e.lens[u])throw new Error("TxO: bad continue record");var c=e[e.l],f=Ig(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(c?s:2*s))break}if(a.length!==s&&a.length!==s*2)throw new Error("cchText: "+s+" != "+a.length);return e.l=r+t,{t:a}}catch{return e.l=r+t,{t:a}}}function VCt(e,t){var n=mN(e);e.l+=16;var r=jSt(e,t-24);return[n,r]}function zCt(e,t){e.read_shift(2);var n=mN(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(qo,""),[n,r]}function WCt(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=Cj[n]||n,n=e.read_shift(2),t[1]=Cj[n]||n,t}function HCt(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Sve(e));return n}function UCt(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Sve(e));return n}function GCt(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Eve(e,t,n){if(!n.cellStyles)return So(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function KCt(e,t){var n={};return t<32||(e.l+=16,n.header=go(e),n.footer=go(e),e.l+=2),n}function jCt(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var a=e.read_shift(1);return e.l+=3,a&16&&(r.area=!0),r}var YCt=af,XCt=wve,qCt=rC;function ZCt(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,a}function JCt(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=af(e);++e.l;var a=n0(e,t-7,n);return r.t="str",r.val=a,r}function QCt(e){var t=af(e);++e.l;var n=go(e);return t.t="n",t.val=n,t}function e2t(e){var t=af(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function t2t(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function n2t(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function r2t(e,t,n){var r=e.l+t,a=af(e),i=e.read_shift(2),o=Ig(e,i,n);return e.l=r,a.t="str",a.val=o,a}var a2t=[2,3,48,49,131,139,140,245],Oj=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=m6({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(s,l){var u=[],c=Fh(1);switch(l.type){case"base64":c=du(Zs(s));break;case"binary":c=du(s);break;case"buffer":case"array":c=s;break}Li(c,0);var f=c.read_shift(1),d=!!(f&136),h=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=c.read_shift(2)),c.l+=3,f!=2&&(v=c.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=c.read_shift(2));var m=c.read_shift(2),y=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(y=e[c[c.l]]),c.l+=1,c.l+=2),p&&(c.l+=36);for(var b=[],x={},_=Math.min(c.length,f==2?521:g-10-(h?264:0)),S=p?32:11;c.l<_&&c[c.l]!=13;)switch(x={},x.name=Dw.utils.decode(y,c.slice(c.l,c.l+S)).replace(/[\u0000\r\n].*$/g,""),c.l+=S,x.type=String.fromCharCode(c.read_shift(1)),f!=2&&!p&&(x.offset=c.read_shift(4)),x.len=c.read_shift(1),f==2&&(x.offset=c.read_shift(2)),x.dec=c.read_shift(1),x.name.length&&b.push(x),f!=2&&(c.l+=p?13:14),x.type){case"B":(!h||x.len!=8)&&l.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+x.type)}if(c[c.l]!==13&&(c.l=g-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=g;var C=0,k=0;for(u[0]=[],k=0;k!=b.length;++k)u[0][k]=b[k].name;for(;v-- >0;){if(c[c.l]===42){c.l+=m;continue}for(++c.l,u[++C]=[],k=0,k=0;k!=b.length;++k){var T=c.slice(c.l,c.l+b[k].len);c.l+=b[k].len,Li(T,0);var E=Dw.utils.decode(y,T);switch(b[k].type){case"C":E.trim().length&&(u[C][k]=E.replace(/\s+$/,""));break;case"D":E.length===8?u[C][k]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):u[C][k]=E;break;case"F":u[C][k]=parseFloat(E.trim());break;case"+":case"I":u[C][k]=p?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":u[C][k]=!0;break;case"N":case"F":u[C][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[C][k]="##MEMO##"+(p?parseInt(E.trim(),10):T.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&E!="."&&(u[C][k]=+E||0);break;case"@":u[C][k]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[C][k]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[C][k]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[C][k]=-T.read_shift(-8,"f");break;case"B":if(h&&b[k].len==8){u[C][k]=T.read_shift(8,"f");break}case"G":case"P":T.l+=b[k].len;break;case"0":if(b[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[k].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=b,u}function r(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=p1(n(s,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function a(s,l){try{return vp(r(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var u=l||{};if(+u.codepage>=0&&yu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=vF(),f=TF(s,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),p=s["!cols"]||[],v=0,g=0,m=0,y=1;for(v=0;v<d.length;++v){if(((p[v]||{}).DBF||{}).name){d[v]=p[v].DBF.name,++m;continue}if(d[v]!=null){if(++m,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(g=0;g<1024;++g)if(d.indexOf(d[v]+"_"+g)==-1){d[v]+="_"+g;break}}}}var b=_a(s["!ref"]),x=[],_=[],S=[];for(v=0;v<=b.e.c-b.s.c;++v){var C="",k="",T=0,E=[];for(g=0;g<h.length;++g)h[g][v]!=null&&E.push(h[g][v]);if(E.length==0||d[v]==null){x[v]="?";continue}for(g=0;g<E.length;++g){switch(typeof E[g]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=E[g]instanceof Date?"D":"C";break;default:k="C"}T=Math.max(T,String(E[g]).length),C=C&&C!=k?"C":k}T>250&&(T=250),k=((p[v]||{}).DBF||{}).type,k=="C"&&p[v].DBF.len>T&&(T=p[v].DBF.len),C=="B"&&k=="N"&&(C="N",S[v]=p[v].DBF.dec,T=p[v].DBF.len),_[v]=C=="C"||k=="N"?T:i[C]||0,y+=_[v],x[v]=C}var I=c.next(32);for(I.write_shift(4,318902576),I.write_shift(4,h.length),I.write_shift(2,296+32*m),I.write_shift(2,y),v=0;v<4;++v)I.write_shift(4,0);for(I.write_shift(4,0|(+t[Ipe]||3)<<8),v=0,g=0;v<d.length;++v)if(d[v]!=null){var A=c.next(32),N=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,N,"sbcs"),A.write_shift(1,x[v]=="?"?"C":x[v],"sbcs"),A.write_shift(4,g),A.write_shift(1,_[v]||i[x[v]]||0),A.write_shift(1,S[v]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),g+=_[v]||i[x[v]]||0}var L=c.next(264);for(L.write_shift(4,13),v=0;v<65;++v)L.write_shift(4,0);for(v=0;v<h.length;++v){var R=c.next(y);for(R.write_shift(1,0),g=0;g<d.length;++g)if(d[g]!=null)switch(x[g]){case"L":R.write_shift(1,h[v][g]==null?63:h[v][g]?84:70);break;case"B":R.write_shift(8,h[v][g]||0,"f");break;case"N":var D="0";for(typeof h[v][g]=="number"&&(D=h[v][g].toFixed(S[g]||0)),m=0;m<_[g]-D.length;++m)R.write_shift(1,32);R.write_shift(1,D,"sbcs");break;case"D":h[v][g]?(R.write_shift(4,("0000"+h[v][g].getFullYear()).slice(-4),"sbcs"),R.write_shift(2,("00"+(h[v][g].getMonth()+1)).slice(-2),"sbcs"),R.write_shift(2,("00"+h[v][g].getDate()).slice(-2),"sbcs")):R.write_shift(8,"00000000","sbcs");break;case"C":var P=String(h[v][g]!=null?h[v][g]:"").slice(0,_[g]);for(R.write_shift(1,P,"sbcs"),m=0;m<_[g]-P.length;++m)R.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:a,to_sheet:r,from_sheet:o}}(),i2t=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Hc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(d,h){var p=e[h];return typeof p=="number"?JK(p):p},r=function(d,h,p){var v=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?d:JK(v)};e["|"]=254;function a(d,h){switch(h.type){case"base64":return i(Zs(d),h);case"binary":return i(d,h);case"buffer":return i(fr&&Buffer.isBuffer(d)?d.toString("binary"):Jg(d),h);case"array":return i(kg(d),h)}throw new Error("Unrecognized type "+h.type)}function i(d,h){var p=d.split(/[\n\r]+/),v=-1,g=-1,m=0,y=0,b=[],x=[],_=null,S={},C=[],k=[],T=[],E=0,I;for(+h.codepage>=0&&yu(+h.codepage);m!==p.length;++m){E=0;var A=p[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),N=A.replace(/;;/g,"\0").split(";").map(function(j){return j.replace(/\u0000/g,";")}),L=N[0],R;if(A.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&x.push(A.slice(3).replace(/;;/g,";"));break;case"C":var D=!1,P=!1,O=!1,M=!1,W=-1,U=-1;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"A":break;case"X":g=parseInt(N[y].slice(1))-1,P=!0;break;case"Y":for(v=parseInt(N[y].slice(1))-1,P||(g=0),I=b.length;I<=v;++I)b[I]=[];break;case"K":R=N[y].slice(1),R.charAt(0)==='"'?R=R.slice(1,R.length-1):R==="TRUE"?R=!0:R==="FALSE"?R=!1:isNaN(Iu(R))?isNaN(Ty(R).getDate())||(R=ki(R)):(R=Iu(R),_!==null&&d1(_)&&(R=gN(R))),D=!0;break;case"E":M=!0;var V=Pm(N[y].slice(1),{r:v,c:g});b[v][g]=[b[v][g],V];break;case"S":O=!0,b[v][g]=[b[v][g],"S5S"];break;case"G":break;case"R":W=parseInt(N[y].slice(1))-1;break;case"C":U=parseInt(N[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+A)}if(D&&(b[v][g]&&b[v][g].length==2?b[v][g][0]=R:b[v][g]=R,_=null),O){if(M)throw new Error("SYLK shared formula cannot have own formula");var H=W>-1&&b[W][U];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");b[v][g][1]=Fve(H[1],{r:v-W,c:g-U})}break;case"F":var K=0;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"X":g=parseInt(N[y].slice(1))-1,++K;break;case"Y":for(v=parseInt(N[y].slice(1))-1,I=b.length;I<=v;++I)b[I]=[];break;case"M":E=parseInt(N[y].slice(1))/20;break;case"F":break;case"G":break;case"P":_=x[parseInt(N[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=N[y].slice(1).split(" "),I=parseInt(T[0],10);I<=parseInt(T[1],10);++I)E=parseInt(T[2],10),k[I-1]=E===0?{hidden:!0}:{wch:E},ky(k[I-1]);break;case"C":g=parseInt(N[y].slice(1))-1,k[g]||(k[g]={});break;case"R":v=parseInt(N[y].slice(1))-1,C[v]||(C[v]={}),E>0?(C[v].hpt=E,C[v].hpx=Ow(E)):E===0&&(C[v].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+A)}K<1&&(_=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+A)}}return C.length>0&&(S["!rows"]=C),k.length>0&&(S["!cols"]=k),h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),[b,S]}function o(d,h){var p=a(d,h),v=p[0],g=p[1],m=p1(v,h);return Hc(g).forEach(function(y){m[y]=g[y]}),m}function s(d,h){return vp(o(d,h),h)}function l(d,h,p,v){var g="C;Y"+(p+1)+";X"+(v+1)+";K";switch(d.t){case"n":g+=d.v||0,d.f&&!d.F&&(g+=";E"+GTt(d.f,{r:p,c:v}));break;case"b":g+=d.v?"TRUE":"FALSE";break;case"e":g+=d.w||d.v;break;case"d":g+='"'+(d.w||d.v)+'"';break;case"s":g+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(d,h){h.forEach(function(p,v){var g="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=QI(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=eE(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&d.push(g)})}function c(d,h){h.forEach(function(p,v){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*Lve(p.hpx)+";"),g.length>2&&d.push(g+"R"+(v+1))})}function f(d,h){var p=["ID;PWXL;N;E"],v=[],g=_a(d["!ref"]),m,y=Array.isArray(d),b=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),d["!cols"]&&u(p,d["!cols"]),d["!rows"]&&c(p,d["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var x=g.s.r;x<=g.e.r;++x)for(var _=g.s.c;_<=g.e.c;++_){var S=$n({r:x,c:_});m=y?(d[x]||[])[_]:d[S],!(!m||m.v==null&&(!m.f||m.F))&&v.push(l(m,d,x,_))}return p.join(b)+b+v.join(b)+b+"E"+b}return{to_workbook:s,to_sheet:o,from_sheet:f}}(),o2t=function(){function e(i,o){switch(o.type){case"base64":return t(Zs(i),o);case"binary":return t(i,o);case"buffer":return t(fr&&Buffer.isBuffer(i)?i.toString("binary"):Jg(i),o);case"array":return t(kg(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),l=-1,u=-1,c=0,f=[];c!==s.length;++c){if(s[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var d=s[c].trim().split(","),h=d[0],p=d[1];++c;for(var v=s[c]||"";(v.match(/["]/g)||[]).length&1&&c<s.length-1;)v+=`
`+s[++c];switch(v=v.trim(),+h){case-1:if(v==="BOT"){f[++l]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][u]=!0:v==="FALSE"?f[l][u]=!1:isNaN(Iu(p))?isNaN(Ty(p).getDate())?f[l][u]=p:f[l][u]=ki(p):f[l][u]=Iu(p),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][u++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(i,o){return p1(e(i,o),o)}function r(i,o){return vp(n(i,o),o)}var a=function(){var i=function(l,u,c,f,d){l.push(u),l.push(c+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},o=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=_a(l["!ref"]),f,d=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,c.e.r-c.s.r+1,""),i(u,"TUPLES",0,c.e.c-c.s.c+1,""),i(u,"DATA",0,0,"");for(var h=c.s.r;h<=c.e.r;++h){o(u,-1,0,"BOT");for(var p=c.s.c;p<=c.e.c;++p){var v=$n({r:h,c:p});if(f=d?(l[h]||[])[p]:l[v],!f){o(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Vl(f.z||Pn[14],as(ki(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var m=`\r
`,y=u.join(m);return y}}();return{to_workbook:r,to_sheet:n,from_sheet:a}}(),s2t=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,d){for(var h=f.split(`
`),p=-1,v=-1,g=0,m=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var b=jo(y[1]);if(m.length<=b.r)for(p=m.length;p<=b.r;++p)m[p]||(m[p]=[]);switch(p=b.r,v=b.c,y[2]){case"t":m[p][v]=e(y[3]);break;case"v":m[p][v]=+y[3];break;case"vtf":var x=y[y.length-1];case"vtc":switch(y[3]){case"nl":m[p][v]=!!+y[4];break;default:m[p][v]=+y[4];break}y[2]=="vtf"&&(m[p][v]=[m[p][v],x])}}}return d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}function r(f,d){return p1(n(f,d),d)}function a(f,d){return vp(r(f,d),d)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],p,v="",g=h1(f["!ref"]),m=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var b=g.s.c;b<=g.e.c;++b)if(v=$n({r:y,c:b}),p=m?(f[y]||[])[b]:f[v],!(!p||p.v==null||p.t==="z")){switch(h=["cell",v,"t"],p.t){case"s":case"str":h.push(t(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=t(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var x=as(ki(p.v));h[2]="vtc",h[3]="nd",h[4]=""+x,h[5]=p.w||Vl(p.z||Pn[14],x);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function c(f){return[i,o,s,o,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:c}}(),$w=function(){function e(c,f,d,h,p){p.raw?f[d][h]=c:c===""||(c==="TRUE"?f[d][h]=!0:c==="FALSE"?f[d][h]=!1:isNaN(Iu(c))?isNaN(Ty(c).getDate())?f[d][h]=c:f[d][h]=ki(c):f[d][h]=Iu(c))}function t(c,f){var d=f||{},h=[];if(!c||c.length===0)return h;for(var p=c.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var g=10,m=0,y=0;y<=v;++y)m=p[y].indexOf(" "),m==-1?m=p[y].length:m++,g=Math.max(g,m);for(y=0;y<=v;++y){h[y]=[];var b=0;for(e(p[y].slice(0,g).trim(),h,y,b,d),b=1;b<=(p[y].length-g)/10+1;++b)e(p[y].slice(g+(b-1)*10,g+b*10).trim(),h,y,b,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(c){for(var f={},d=!1,h=0,p=0;h<c.length;++h)(p=c.charCodeAt(h))==34?d=!d:!d&&p in n&&(f[p]=(f[p]||0)+1);p=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h]);if(!p.length){f=r;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h])}return p.sort(function(v,g){return v[0]-g[0]||r[v[1]]-r[g[1]]}),n[p.pop()[1]]||44}function i(c,f){var d=f||{},h="",p=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(h=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(h=c.charAt(4),c=c.slice(6)):h=a(c.slice(0,1024)):d.FS?h=d.FS:h=a(c.slice(0,1024));var g=0,m=0,y=0,b=0,x=0,_=h.charCodeAt(0),S=!1,C=0,k=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var T=d.dateNF!=null?y_t(d.dateNF):null;function E(){var I=c.slice(b,x),A={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)A.t="z";else if(d.raw)A.t="s",A.v=I;else if(I.trim().length===0)A.t="s",A.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(A.t="s",A.v=I.slice(2,-1).replace(/""/g,'"')):jTt(I)?(A.t="n",A.f=I.slice(1)):(A.t="s",A.v=I);else if(I=="TRUE")A.t="b",A.v=!0;else if(I=="FALSE")A.t="b",A.v=!1;else if(!isNaN(y=Iu(I)))A.t="n",d.cellText!==!1&&(A.w=I),A.v=y;else if(!isNaN(Ty(I).getDate())||T&&I.match(T)){A.z=d.dateNF||Pn[14];var N=0;T&&I.match(T)&&(I=b_t(I,d.dateNF,I.match(T)||[]),N=1),d.cellDates?(A.t="d",A.v=ki(I,N)):(A.t="n",A.v=as(ki(I,N))),d.cellText!==!1&&(A.w=Vl(A.z,A.v instanceof Date?as(A.v):A.v)),d.cellNF||delete A.z}else A.t="s",A.v=I;if(A.t=="z"||(d.dense?(p[g]||(p[g]=[]),p[g][m]=A):p[$n({c:m,r:g})]=A),b=x+1,k=c.charCodeAt(b),v.e.c<m&&(v.e.c=m),v.e.r<g&&(v.e.r=g),C==_)++m;else if(m=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;x<c.length;++x)switch(C=c.charCodeAt(x)){case 34:k===34&&(S=!S);break;case _:case 10:case 13:if(!S&&E())break e;break}return x-b>0&&E(),p["!ref"]=br(v),p}function o(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?i(c,f):p1(t(c,f),f)}function s(c,f){var d="",h=f.type=="string"?[0,0,0,0]:O6(c,f);switch(f.type){case"base64":d=Zs(c);break;case"binary":d=c;break;case"buffer":f.codepage==65001?d=c.toString("utf8"):f.codepage&&typeof Dw<"u"||(d=fr&&Buffer.isBuffer(c)?c.toString("binary"):Jg(c));break;case"array":d=kg(c);break;case"string":d=c;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=ea(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=ea(d):f.type=="binary"&&typeof Dw<"u",d.slice(0,19)=="socialcalc:version:"?s2t.to_sheet(f.type=="string"?d:ea(d),f):o(d,f)}function l(c,f){return vp(s(c,f),f)}function u(c){for(var f=[],d=_a(c["!ref"]),h,p=Array.isArray(c),v=d.s.r;v<=d.e.r;++v){for(var g=[],m=d.s.c;m<=d.e.c;++m){var y=$n({r:v,c:m});if(h=p?(c[v]||[])[m]:c[y],!h||h.v==null){g.push("          ");continue}for(var b=(h.w||(Xf(h),h.w)||"").slice(0,10);b.length<10;)b+=" ";g.push(b+(m===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:u}}();function l2t(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var a=i2t.to_workbook(e,n);return n.WTF=r,a}catch(i){if(n.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return $w.to_workbook(e,t)}}var mx=function(){function e(V,H,K){if(V){Li(V,V.l||0);for(var j=K.Enum||W;V.l<V.length;){var ne=V.read_shift(2),Q=j[ne]||j[65535],oe=V.read_shift(2),ae=V.l+oe,me=Q.f&&Q.f(V,oe,K);if(V.l=ae,H(me,Q,ne))return}}}function t(V,H){switch(H.type){case"base64":return n(du(Zs(V)),H);case"binary":return n(du(V),H);case"buffer":case"array":return n(V,H)}throw"Unsupported type "+H.type}function n(V,H){if(!V)return V;var K=H||{},j=K.dense?[]:{},ne="Sheet1",Q="",oe=0,ae={},me=[],ve=[],B={s:{r:0,c:0},e:{r:0,c:0}},re=K.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)K.Enum=W,e(V,function(he,J,te){switch(te){case 0:K.vers=he,he>=4096&&(K.qpro=!0);break;case 6:B=he;break;case 204:he&&(Q=he);break;case 222:Q=he;break;case 15:case 51:K.qpro||(he[1].v=he[1].v.slice(1));case 13:case 14:case 16:te==14&&(he[2]&112)==112&&(he[2]&15)>1&&(he[2]&15)<15&&(he[1].z=K.dateNF||Pn[14],K.cellDates&&(he[1].t="d",he[1].v=gN(he[1].v))),K.qpro&&he[3]>oe&&(j["!ref"]=br(B),ae[ne]=j,me.push(ne),j=K.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},oe=he[3],ne=Q||"Sheet"+(oe+1),Q="");var xe=K.dense?(j[he[0].r]||[])[he[0].c]:j[$n(he[0])];if(xe){xe.t=he[1].t,xe.v=he[1].v,he[1].z!=null&&(xe.z=he[1].z),he[1].f!=null&&(xe.f=he[1].f);break}K.dense?(j[he[0].r]||(j[he[0].r]=[]),j[he[0].r][he[0].c]=he[1]):j[$n(he[0])]=he[1];break}},K);else if(V[2]==26||V[2]==14)K.Enum=U,V[2]==14&&(K.qpro=!0,V.l=0),e(V,function(he,J,te){switch(te){case 204:ne=he;break;case 22:he[1].v=he[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(he[3]>oe&&(j["!ref"]=br(B),ae[ne]=j,me.push(ne),j=K.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},oe=he[3],ne="Sheet"+(oe+1)),re>0&&he[0].r>=re)break;K.dense?(j[he[0].r]||(j[he[0].r]=[]),j[he[0].r][he[0].c]=he[1]):j[$n(he[0])]=he[1],B.e.c<he[0].c&&(B.e.c=he[0].c),B.e.r<he[0].r&&(B.e.r=he[0].r);break;case 27:he[14e3]&&(ve[he[14e3][0]]=he[14e3][1]);break;case 1537:ve[he[0]]=he[1],he[0]==oe&&(ne=he[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(j["!ref"]=br(B),ae[Q||ne]=j,me.push(Q||ne),!ve.length)return{SheetNames:me,Sheets:ae};for(var ge={},Ie=[],Ce=0;Ce<ve.length;++Ce)ae[me[Ce]]?(Ie.push(ve[Ce]||me[Ce]),ge[ve[Ce]]=ae[ve[Ce]]||ae[me[Ce]]):(Ie.push(ve[Ce]),ge[ve[Ce]]={"!ref":"A1"});return{SheetNames:Ie,Sheets:ge}}function r(V,H){var K=H||{};if(+K.codepage>=0&&yu(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var j=vF(),ne=_a(V["!ref"]),Q=Array.isArray(V),oe=[];Ql(j,0,i(1030)),Ql(j,6,l(ne));for(var ae=Math.min(ne.e.r,8191),me=ne.s.r;me<=ae;++me)for(var ve=zi(me),B=ne.s.c;B<=ne.e.c;++B){me===ne.s.r&&(oe[B]=ai(B));var re=oe[B]+ve,ge=Q?(V[me]||[])[B]:V[re];if(!(!ge||ge.t=="z"))if(ge.t=="n")(ge.v|0)==ge.v&&ge.v>=-32768&&ge.v<=32767?Ql(j,13,h(me,B,ge.v)):Ql(j,14,v(me,B,ge.v));else{var Ie=Xf(ge);Ql(j,15,f(me,B,Ie.slice(0,239)))}}return Ql(j,1),j.end()}function a(V,H){var K=H||{};if(+K.codepage>=0&&yu(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var j=vF();Ql(j,0,o(V));for(var ne=0,Q=0;ne<V.SheetNames.length;++ne)(V.Sheets[V.SheetNames[ne]]||{})["!ref"]&&Ql(j,27,M(V.SheetNames[ne],Q++));var oe=0;for(ne=0;ne<V.SheetNames.length;++ne){var ae=V.Sheets[V.SheetNames[ne]];if(!(!ae||!ae["!ref"])){for(var me=_a(ae["!ref"]),ve=Array.isArray(ae),B=[],re=Math.min(me.e.r,8191),ge=me.s.r;ge<=re;++ge)for(var Ie=zi(ge),Ce=me.s.c;Ce<=me.e.c;++Ce){ge===me.s.r&&(B[Ce]=ai(Ce));var he=B[Ce]+Ie,J=ve?(ae[ge]||[])[Ce]:ae[he];if(!(!J||J.t=="z"))if(J.t=="n")Ql(j,23,E(ge,Ce,oe,J.v));else{var te=Xf(J);Ql(j,22,C(ge,Ce,oe,te.slice(0,239)))}}++oe}}return Ql(j,1),j.end()}function i(V){var H=Za(2);return H.write_shift(2,V),H}function o(V){var H=Za(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var K=0,j=0,ne=0,Q=0;Q<V.SheetNames.length;++Q){var oe=V.SheetNames[Q],ae=V.Sheets[oe];if(!(!ae||!ae["!ref"])){++ne;var me=h1(ae["!ref"]);K<me.e.r&&(K=me.e.r),j<me.e.c&&(j=me.e.c)}}return K>8191&&(K=8191),H.write_shift(2,K),H.write_shift(1,ne),H.write_shift(1,j),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function s(V,H,K){var j={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&K.qpro?(j.s.c=V.read_shift(1),V.l++,j.s.r=V.read_shift(2),j.e.c=V.read_shift(1),V.l++,j.e.r=V.read_shift(2),j):(j.s.c=V.read_shift(2),j.s.r=V.read_shift(2),H==12&&K.qpro&&(V.l+=2),j.e.c=V.read_shift(2),j.e.r=V.read_shift(2),H==12&&K.qpro&&(V.l+=2),j.s.c==65535&&(j.s.c=j.e.c=j.s.r=j.e.r=0),j)}function l(V){var H=Za(8);return H.write_shift(2,V.s.c),H.write_shift(2,V.s.r),H.write_shift(2,V.e.c),H.write_shift(2,V.e.r),H}function u(V,H,K){var j=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(j[0].c=V.read_shift(1),j[3]=V.read_shift(1),j[0].r=V.read_shift(2),V.l+=2):(j[2]=V.read_shift(1),j[0].c=V.read_shift(2),j[0].r=V.read_shift(2)),j}function c(V,H,K){var j=V.l+H,ne=u(V,H,K);if(ne[1].t="s",K.vers==20768){V.l++;var Q=V.read_shift(1);return ne[1].v=V.read_shift(Q,"utf8"),ne}return K.qpro&&V.l++,ne[1].v=V.read_shift(j-V.l,"cstr"),ne}function f(V,H,K){var j=Za(7+K.length);j.write_shift(1,255),j.write_shift(2,H),j.write_shift(2,V),j.write_shift(1,39);for(var ne=0;ne<j.length;++ne){var Q=K.charCodeAt(ne);j.write_shift(1,Q>=128?95:Q)}return j.write_shift(1,0),j}function d(V,H,K){var j=u(V,H,K);return j[1].v=V.read_shift(2,"i"),j}function h(V,H,K){var j=Za(7);return j.write_shift(1,255),j.write_shift(2,H),j.write_shift(2,V),j.write_shift(2,K,"i"),j}function p(V,H,K){var j=u(V,H,K);return j[1].v=V.read_shift(8,"f"),j}function v(V,H,K){var j=Za(13);return j.write_shift(1,255),j.write_shift(2,H),j.write_shift(2,V),j.write_shift(8,K,"f"),j}function g(V,H,K){var j=V.l+H,ne=u(V,H,K);if(ne[1].v=V.read_shift(8,"f"),K.qpro)V.l=j;else{var Q=V.read_shift(2);x(V.slice(V.l,V.l+Q),ne),V.l+=Q}return ne}function m(V,H,K){var j=H&32768;return H&=-32769,H=(j?V:0)+(H>=8192?H-16384:H),(j?"":"$")+(K?ai(H):zi(H))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function x(V,H){Li(V,0);for(var K=[],j=0,ne="",Q="",oe="",ae="";V.l<V.length;){var me=V[V.l++];switch(me){case 0:K.push(V.read_shift(8,"f"));break;case 1:Q=m(H[0].c,V.read_shift(2),!0),ne=m(H[0].r,V.read_shift(2),!1),K.push(Q+ne);break;case 2:{var ve=m(H[0].c,V.read_shift(2),!0),B=m(H[0].r,V.read_shift(2),!1);Q=m(H[0].c,V.read_shift(2),!0),ne=m(H[0].r,V.read_shift(2),!1),K.push(ve+B+":"+Q+ne)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(V.read_shift(2));break;case 6:{for(var re="";me=V[V.l++];)re+=String.fromCharCode(me);K.push('"'+re.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ae=K.pop(),oe=K.pop(),K.push(["AND","OR"][me-20]+"("+oe+","+ae+")");break;default:if(me<32&&b[me])ae=K.pop(),oe=K.pop(),K.push(oe+b[me]+ae);else if(y[me]){if(j=y[me][1],j==69&&(j=V[V.l++]),j>K.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+K.join("|")+"|");return}var ge=K.slice(-j);K.length-=j,K.push(y[me][0]+"("+ge.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}K.length==1?H[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function _(V){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=V.read_shift(2),H[3]=V[V.l++],H[0].c=V[V.l++],H}function S(V,H){var K=_(V);return K[1].t="s",K[1].v=V.read_shift(H-4,"cstr"),K}function C(V,H,K,j){var ne=Za(6+j.length);ne.write_shift(2,V),ne.write_shift(1,K),ne.write_shift(1,H),ne.write_shift(1,39);for(var Q=0;Q<j.length;++Q){var oe=j.charCodeAt(Q);ne.write_shift(1,oe>=128?95:oe)}return ne.write_shift(1,0),ne}function k(V,H){var K=_(V);K[1].v=V.read_shift(2);var j=K[1].v>>1;if(K[1].v&1)switch(j&7){case 0:j=(j>>3)*5e3;break;case 1:j=(j>>3)*500;break;case 2:j=(j>>3)/20;break;case 3:j=(j>>3)/200;break;case 4:j=(j>>3)/2e3;break;case 5:j=(j>>3)/2e4;break;case 6:j=(j>>3)/16;break;case 7:j=(j>>3)/64;break}return K[1].v=j,K}function T(V,H){var K=_(V),j=V.read_shift(4),ne=V.read_shift(4),Q=V.read_shift(2);if(Q==65535)return j===0&&ne===3221225472?(K[1].t="e",K[1].v=15):j===0&&ne===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var oe=Q&32768;return Q=(Q&32767)-16446,K[1].v=(1-oe*2)*(ne*Math.pow(2,Q+32)+j*Math.pow(2,Q)),K}function E(V,H,K,j){var ne=Za(14);if(ne.write_shift(2,V),ne.write_shift(1,K),ne.write_shift(1,H),j==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var Q=0,oe=0,ae=0,me=0;return j<0&&(Q=1,j=-j),oe=Math.log2(j)|0,j/=Math.pow(2,oe-31),me=j>>>0,me&2147483648||(j/=2,++oe,me=j>>>0),j-=me,me|=2147483648,me>>>=0,j*=Math.pow(2,32),ae=j>>>0,ne.write_shift(4,ae),ne.write_shift(4,me),oe+=16383+(Q?32768:0),ne.write_shift(2,oe),ne}function I(V,H){var K=T(V);return V.l+=H-14,K}function A(V,H){var K=_(V),j=V.read_shift(4);return K[1].v=j>>6,K}function N(V,H){var K=_(V),j=V.read_shift(8,"f");return K[1].v=j,K}function L(V,H){var K=N(V);return V.l+=H-10,K}function R(V,H){return V[V.l+H-1]==0?V.read_shift(H,"cstr"):""}function D(V,H){var K=V[V.l++];K>H-1&&(K=H-1);for(var j="";j.length<K;)j+=String.fromCharCode(V[V.l++]);return j}function P(V,H,K){if(!(!K.qpro||H<21)){var j=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var ne=V.read_shift(H-21,"cstr");return[j,ne]}}function O(V,H){for(var K={},j=V.l+H;V.l<j;){var ne=V.read_shift(2);if(ne==14e3){for(K[ne]=[0,""],K[ne][0]=V.read_shift(2);V[V.l];)K[ne][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return K}function M(V,H){var K=Za(5+V.length);K.write_shift(2,14e3),K.write_shift(2,H);for(var j=0;j<V.length;++j){var ne=V.charCodeAt(j);K[K.l++]=ne>127?95:ne}return K[K.l++]=0,K}var W={0:{n:"BOF",f:Pa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:R},222:{n:"SHEETNAMELP",f:D},65535:{n:""}},U={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:O},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:R},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}}();function u2t(e){var t={},n=e.match(Io),r=0,a=!1;if(n)for(;r!=n.length;++r){var i=In(n[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=d6[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var c2t=function(){var e=Rw("t"),t=Rw("rPr");function n(i){var o=i.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:Sr(o[1])},l=i.match(t);return l&&(s.s=u2t(l[1])),s}var r=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(a).map(n).filter(function(s){return s.v})}}(),f2t=function(){var t=/(\r\n|\n)/g;function n(a,i,o){var s=[];a.u&&s.push("text-decoration: underline;"),a.uval&&s.push("text-underline-style:"+a.uval+";"),a.sz&&s.push("font-size:"+a.sz+"pt;"),a.outline&&s.push("text-effect: outline;"),a.shadow&&s.push("text-shadow: auto;"),i.push('<span style="'+s.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),a}function r(a){var i=[[],a.v,[]];return a.v?(a.s&&n(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}}(),d2t=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,h2t=/<(?:\w+:)?r>/,p2t=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function A6(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Sr(ea(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=ea(e),n&&(r.h=b6(r.t))):e.match(h2t)&&(r.r=ea(e),r.t=Sr(ea((e.replace(p2t,"").match(d2t)||[]).join("").replace(Io,""))),n&&(r.h=f2t(c2t(r.r)))),r):{t:""}}var v2t=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,g2t=/<(?:\w+:)?(?:si|sstItem)>/g,m2t=/<\/(?:\w+:)?(?:si|sstItem)>/;function y2t(e,t){var n=[],r="";if(!e)return n;var a=e.match(v2t);if(a){r=a[2].replace(g2t,"").split(m2t);for(var i=0;i!=r.length;++i){var o=A6(r[i].trim(),t);o!=null&&(n[n.length]=o)}a=In(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n}function b2t(e){return[e.read_shift(4),e.read_shift(4)]}function x2t(e,t){var n=[],r=!1;return pd(e,function(i,o,s){switch(s){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}function Ave(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Lf(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function w2t(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Lf(e,4),t.U=Lf(e,4),t.W=Lf(e,4),t}function _2t(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=i,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function S2t(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(_2t(e));return t}function C2t(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function T2t(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Lf(e,4),t.U=Lf(e,4),t.W=Lf(e,4),t}function k2t(e){var t=T2t(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Dve(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var a=!1;switch(r.AlgID){case 26126:case 26127:case 26128:a=r.Flags==36;break;case 26625:a=r.Flags==4;break;case 0:a=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function Nve(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function I2t(e){var t=Lf(e);switch(t.Minor){case 2:return[t.Minor,E2t(e)];case 3:return[t.Minor,A2t()];case 4:return[t.Minor,D2t(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function E2t(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=Dve(e,n),a=Nve(e,e.length-e.l);return{t:"Std",h:r,v:a}}function A2t(){throw new Error("File is password-protected: ECMA-376 Extensible")}function D2t(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Io,function(i){var o=In(i);switch(rf(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){r[s]=o[s]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function N2t(e,t){var n={},r=n.EncryptionVersionInfo=Lf(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,n.EncryptionHeader=Dve(e,a),t-=a,n.EncryptionVerifier=Nve(e,t),n}function R2t(e){var t={},n=t.EncryptionVersionInfo=Lf(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function M2t(e){var t=0,n,r=Ave(e),a=r.length+1,i,o,s,l,u;for(n=Fh(a),n[0]=r.length,i=1;i!=a;++i)n[i]=r[i-1];for(i=a-1;i>=0;--i)o=n[i],s=t&16384?1:0,l=t<<1&32767,u=s|l,t=u^o;return t^52811}var Rve=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},a=function(o,s){return r(o^s)},i=function(o){for(var s=t[o.length-1],l=104,u=o.length-1;u>=0;--u)for(var c=o[u],f=0;f!=7;++f)c&64&&(s^=n[l]),c*=2,--l;return s};return function(o){for(var s=Ave(o),l=i(s),u=s.length,c=Fh(16),f=0;f!=16;++f)c[f]=0;var d,h,p;for((u&1)===1&&(d=l>>8,c[u]=a(e[0],d),--u,d=l&255,h=s[s.length-1],c[u]=a(h,d));u>0;)--u,d=l>>8,c[u]=a(s[u],d),--u,d=l&255,c[u]=a(s[u],d);for(u=15,p=15-s.length;p>0;)d=l>>8,c[u]=a(e[p],d),--u,--p,d=l&255,c[u]=a(s[u],d),--u,--p;return c}}(),$2t=function(e,t,n,r,a){a||(a=t),r||(r=Rve(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=r[n],o=(o>>5|o<<3)&255,a[i]=o,++n;return[a,n,r]},L2t=function(e){var t=0,n=Rve(e);return function(r){var a=$2t("",r,t,n);return t=a[1],a[0]}};function O2t(e,t,n,r){var a={key:Pa(e),verificationBytes:Pa(e)};return n.password&&(a.verifier=M2t(n.password)),r.valid=a.verificationBytes===a.verifier,r.valid&&(r.insitu=L2t(n.password)),a}function P2t(e,t,n){var r=n;return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=R2t(e):r.Data=N2t(e,t),r}function F2t(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?P2t(e,t-2,r):O2t(e,n.biff>=8?t:t-2,n,r),r}var B2t=function(){function e(a,i){switch(i.type){case"base64":return t(Zs(a),i);case"binary":return t(a,i);case"buffer":return t(fr&&Buffer.isBuffer(a)?a.toString("binary"):Jg(a),i);case"array":return t(kg(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(s)&&(s[f]=[]);for(var d=/\\\w+\b/g,h=0,p,v=-1;p=d.exec(c);){switch(p[0]){case"\\cell":var g=c.slice(h,d.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var m={v:g,t:"s"};Array.isArray(s)?s[f][v]=m:s[$n({r:f,c:v})]=m}break}h=d.lastIndex}v>u.e.c&&(u.e.c=v)}),s["!ref"]=br(u),s}function n(a,i){return vp(e(a,i),i)}function r(a){for(var i=["{\\rtf1\\ansi"],o=_a(a["!ref"]),s,l=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var c=o.s.c;c<=o.e.c;++c)i.push("\\cellx"+(c+1));for(i.push("\\pard\\intbl"),c=o.s.c;c<=o.e.c;++c){var f=$n({r:u,c});s=l?(a[u]||[])[c]:a[f],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(Xf(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function V2t(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Lw(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function z2t(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(t,n,r),i=Math.min(t,n,r),o=a-i;if(o===0)return[0,0,t];var s=0,l=0,u=a+i;switch(l=o/(u>1?2-u:u),a){case t:s=((n-r)/o+6)%6;break;case n:s=(r-t)/o+2;break;case r:s=(t-n)/o+4;break}return[s/6,l,u/2]}function W2t(e){var t=e[0],n=e[1],r=e[2],a=n*2*(r<.5?r:1-r),i=r-a/2,o=[i,i,i],s=6*t,l;if(n!==0)switch(s|0){case 0:case 6:l=a*s,o[0]+=a,o[1]+=l;break;case 1:l=a*(2-s),o[0]+=l,o[1]+=a;break;case 2:l=a*(s-2),o[1]+=a,o[2]+=l;break;case 3:l=a*(4-s),o[1]+=l,o[2]+=a;break;case 4:l=a*(s-4),o[2]+=a,o[0]+=l;break;case 5:l=a*(6-s),o[2]+=l,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function JI(e,t){if(t===0)return e;var n=z2t(V2t(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Lw(W2t(n))}var Mve=6,H2t=15,U2t=1,Ho=Mve;function QI(e){return Math.floor((e+Math.round(128/Ho)/256)*Ho)}function eE(e){return Math.floor((e-5)/Ho*100+.5)/100}function bF(e){return Math.round((e*Ho+5)/Ho*256)/256}function _M(e){return bF(eE(QI(e)))}function D6(e){var t=Math.abs(e-_M(e)),n=Ho;if(t>.005)for(Ho=U2t;Ho<H2t;++Ho)Math.abs(e-_M(e))<=t&&(t=Math.abs(e-_M(e)),n=Ho);Ho=n}function ky(e){e.width?(e.wpx=QI(e.width),e.wch=eE(e.wpx),e.MDW=Ho):e.wpx?(e.wch=eE(e.wpx),e.width=bF(e.wch),e.MDW=Ho):typeof e.wch=="number"&&(e.width=bF(e.wch),e.wpx=QI(e.width),e.MDW=Ho),e.customWidth&&delete e.customWidth}var G2t=96,$ve=G2t;function Lve(e){return e*96/$ve}function Ow(e){return e*$ve/96}var K2t={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function j2t(e,t,n,r){t.Borders=[];var a={},i=!1;(e[0].match(Io)||[]).forEach(function(o){var s=In(o);switch(rf(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},s.diagonalUp&&(a.diagonalUp=ua(s.diagonalUp)),s.diagonalDown&&(a.diagonalDown=ua(s.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in borders")}})}function Y2t(e,t,n,r){t.Fills=[];var a={},i=!1;(e[0].match(Io)||[]).forEach(function(o){var s=In(o);switch(rf(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":s.patternType&&(a.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),s.indexed&&(a.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(a.bgColor.theme=parseInt(s.theme,10)),s.tint&&(a.bgColor.tint=parseFloat(s.tint)),s.rgb&&(a.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),s.theme&&(a.fgColor.theme=parseInt(s.theme,10)),s.tint&&(a.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(a.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fills")}})}function X2t(e,t,n,r){t.Fonts=[];var a={},i=!1;(e[0].match(Io)||[]).forEach(function(o){var s=In(o);switch(rf(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=ea(s.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=s.val?ua(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?ua(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?ua(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?ua(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?ua(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?ua(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?ua(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=d6[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=ua(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var l=Uv[a.color.index];a.color.index==81&&(l=Uv[1]),l||(l=Uv[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&n.themeElements&&n.themeElements.clrScheme&&(a.color.rgb=JI(n.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}})}function q2t(e,t,n){t.NumberFmt=[];for(var r=Hc(Pn),a=0;a<r.length;++a)t.NumberFmt[r[a]]=Pn[r[a]];var i=e[0].match(Io);if(i)for(a=0;a<i.length;++a){var o=In(i[a]);switch(rf(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=Sr(ea(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=s}Hv(s,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var w2=["numFmtId","fillId","fontId","borderId","xfId"],_2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Z2t(e,t,n){t.CellXf=[];var r,a=!1;(e[0].match(Io)||[]).forEach(function(i){var o=In(i),s=0;switch(rf(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],s=0;s<w2.length;++s)r[w2[s]]&&(r[w2[s]]=parseInt(r[w2[s]],10));for(s=0;s<_2.length;++s)r[_2[s]]&&(r[_2[s]]=ua(r[_2[s]]));if(t.NumberFmt&&r.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[s]){r.numFmtId=s;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=ua(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var J2t=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,l,u){var c={};if(!s)return c;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&q2t(f,c,u),(f=s.match(a))&&X2t(f,c,l,u),(f=s.match(r))&&Y2t(f,c,l,u),(f=s.match(i))&&j2t(f,c,l,u),(f=s.match(n))&&Z2t(f,c,u),c}}();function Q2t(e,t){var n=e.read_shift(2),r=wo(e);return[n,r]}function eTt(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=cSt(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var s=e.read_shift(1);s>0&&(r.family=s);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=uSt(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=wo(e),r}var tTt=So;function nTt(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}var rTt=So;function aTt(e,t,n){var r={};r.NumberFmt=[];for(var a in Pn)r.NumberFmt[a]=Pn[a];r.CellXf=[],r.Fonts=[];var i=[],o=!1;return pd(e,function(l,u,c){switch(c){case 44:r.NumberFmt[l[0]]=l[1],Hv(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=JI(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(c),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(c);else if(u.T<0)i.pop();else if(!o||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}var iTt=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function oTt(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Io)||[]).forEach(function(a){var i=In(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[iTt.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function sTt(){}function lTt(){}var uTt=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,cTt=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fTt=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function dTt(e,t,n){t.themeElements={};var r;[["clrScheme",uTt,oTt],["fontScheme",cTt,sTt],["fmtScheme",fTt,lTt]].forEach(function(a){if(!(r=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](r,t,n)})}var hTt=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Ove(e,t){(!e||e.length===0)&&(e=pTt());var n,r={};if(!(n=e.match(hTt)))throw new Error("themeElements not found in theme");return dTt(n[0],r,t),r.raw=e,r}function pTt(e,t){var n=[jpe];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function vTt(e,t,n){var r=e.l+t,a=e.read_shift(4);if(a!==124226){if(!n.cellStyles){e.l=r;return}var i=e.slice(e.l);e.l=r;var o;try{o=Kpe(i,{type:"array"})}catch{return}var s=Ls(o,"theme/theme/theme1.xml",!0);if(s)return Ove(s,n)}}function gTt(e){return e.read_shift(4)}function mTt(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=yTt(e,4);break;case 2:t.xclrValue=_ve(e);break;case 3:t.xclrValue=gTt(e);break;case 4:e.l+=4;break}return e.l+=8,t}function yTt(e,t){return So(e,t)}function bTt(e,t){return So(e,t)}function xTt(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=mTt(e);break;case 6:r[1]=bTt(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function wTt(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(xTt(e,n-e.l));return{ixfe:r,ext:i}}function _Tt(e,t){t.forEach(function(n){switch(n[0]){}})}function STt(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:wo(e)}}function CTt(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function TTt(e){return e.l+=4,e.read_shift(4)!=0}function kTt(e,t,n){var r={Types:[],Cell:[],Value:[]},a=n||{},i=[],o=!1,s=2;return pd(e,function(l,u,c){switch(c){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){s==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):s==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:s=l?1:0;break;case 338:s=2;break;case 35:i.push(c),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function ITt(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var a=!1,i=2,o;return e.replace(Io,function(s){var l=In(s);switch(rf(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==l.name&&(o=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):i==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!a&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return s}),r}function ETt(e){var t=[];if(!e)return t;var n=1;return(e.match(Io)||[]).forEach(function(r){var a=In(r);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?n=a.i:a.i=n,t.push(a);break}}),t}function ATt(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=$n(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function DTt(e,t,n){var r=[];return pd(e,function(i,o,s){switch(s){case 63:r.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function NTt(e,t,n,r){if(!e)return e;var a=r||{},i=!1;pd(e,function(s,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function RTt(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function Pj(e,t,n,r){var a=Array.isArray(e),i;t.forEach(function(o){var s=jo(o.ref);if(a?(e[s.r]||(e[s.r]=[]),i=e[s.r][s.c]):i=e[o.ref],!i){i={t:"z"},a?e[s.r][s.c]=i:e[o.ref]=i;var l=_a(e["!ref"]||"BDWGO1000001:A1");l.s.r>s.r&&(l.s.r=s.r),l.e.r<s.r&&(l.e.r=s.r),l.s.c>s.c&&(l.s.c=s.c),l.e.c<s.c&&(l.e.c=s.c);var u=br(l);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var c={a:o.author,t:o.t,r:o.r,T:n};o.h&&(c.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!n&&i.c[f].T)return;n&&!i.c[f].T&&i.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(c.a==r[f].id){c.a=r[f].name||c.a;break}}i.c.push(c)})}function MTt(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&n.push(s[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var l=In(s[0]),u={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=jo(l.ref);if(!(t.sheetRows&&t.sheetRows<=c.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&A6(f[1])||{r:"",t:"",h:""};u.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),u.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=d.h),r.push(u)}}}}),r}function $Tt(e,t){var n=[],r=!1,a={},i=0;return e.replace(Io,function(s,l){var u=In(s);switch(rf(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&n.push(a);break;case"<text>":case"<text":i=l+s.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return s}),n}function LTt(e,t){var n=[],r=!1;return e.replace(Io,function(i){var o=In(i);switch(rf(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),n}function OTt(e){var t={};t.iauthor=e.read_shift(4);var n=e0(e);return t.rfx=n.s,t.ref=$n(n.s),e.l+=16,t}var PTt=wo;function FTt(e,t){var n=[],r=[],a={},i=!1;return pd(e,function(s,l,u){switch(u){case 632:r.push(s);break;case 635:a=s;break;case 637:a.t=s.t,a.h=s.h,a.r=s.r;break;case 636:if(a.author=r[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,n.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}var BTt="application/vnd.ms-office.vbaProject";function VTt(e){var t=yr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var a=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");yr.utils.cfb_add(t,a,e.FileIndex[r].content)}}),yr.write(t)}function zTt(){return{"!type":"dialog"}}function WTt(){return{"!type":"dialog"}}function HTt(){return{"!type":"macro"}}function UTt(){return{"!type":"macro"}}var Pm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,i,o){var s=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,c=o.length>0?parseInt(o,10)|0:0;return s?c+=t.c:--c,l?u+=t.r:--u,a+(s?"":"$")+ai(c)+(l?"":"$")+zi(u)}return function(a,i){return t=i,a.replace(e,n)}}(),Pve=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,GTt=function(){return function(t,n){return t.replace(Pve,function(r,a,i,o,s,l){var u=S6(o)-(i?0:n.c),c=_6(l)-(s?0:n.r),f=c==0?"":s?c+1:"["+c+"]",d=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+d})}}();function Fve(e,t){return e.replace(Pve,function(n,r,a,i,o,s){return r+(a=="$"?a+i:ai(S6(i)+t.c))+(o=="$"?o+s:zi(_6(s)+t.r))})}function KTt(e,t,n){var r=h1(t),a=r.s,i=jo(n),o={r:i.r-a.r,c:i.c-a.c};return Fve(e,o)}function jTt(e){return e.length!=1}function Fj(e){return e.replace(/_xlfn\./g,"")}function La(e){e.l+=1}function Bh(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function Bve(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return Vve(e);n.biff==12&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=Bh(e),s=Bh(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Vve(e){var t=Bh(e),n=Bh(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function YTt(e,t,n){if(n.biff<8)return Vve(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),i=Bh(e),o=Bh(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function zve(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return XTt(e);var r=e.read_shift(n&&n.biff==12?4:2),a=Bh(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function XTt(e){var t=Bh(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function qTt(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function ZTt(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return JTt(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function JTt(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function QTt(e,t,n){var r=(e[e.l++]&96)>>5,a=Bve(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function ekt(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Bve(e,i,n);return[r,a,o]}function tkt(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function nkt(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,a]}function rkt(e,t,n){var r=(e[e.l++]&96)>>5,a=YTt(e,t-1,n);return[r,a]}function akt(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function Bj(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function ikt(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function okt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function skt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function lkt(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ukt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function Wve(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function ckt(e){return e.read_shift(2),Wve(e)}function fkt(e){return e.read_shift(2),Wve(e)}function dkt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=zve(e,0,n);return[r,a]}function hkt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=ZTt(e,0,n);return[r,a]}function pkt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=zve(e,0,n);return[r,a,i]}function vkt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[gIt[a],Gve[a],r]}function gkt(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:mkt(e);return[a,(i[0]===0?Gve:vIt)[i[1]]]}function mkt(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ykt(e,t,n){e.l+=n&&n.biff==2?3:4}function bkt(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function xkt(e){return e.l++,t0[e.read_shift(1)]}function wkt(e){return e.l++,e.read_shift(2)}function _kt(e){return e.l++,e.read_shift(1)!==0}function Skt(e){return e.l++,go(e)}function Ckt(e,t,n){return e.l++,nC(e,t-1,n)}function Tkt(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Ia(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=t0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=go(e);break;case 2:n[1]=n0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function kkt(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],i=0;i!=r;++i)a.push((n.biff==12?e0:mN)(e));return a}function Ikt(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=Tkt(e,n.biff);return o}function Ekt(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function Akt(e,t,n){if(n.biff==5)return Dkt(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[r,a,i]}function Dkt(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function Nkt(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function Rkt(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function Mkt(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function $kt(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,a]}var Lkt=So,Okt=So,Pkt=So;function aC(e,t,n){return e.l+=2,[qTt(e)]}function N6(e){return e.l+=6,[]}var Fkt=aC,Bkt=N6,Vkt=N6,zkt=aC;function Hve(e){return e.l+=2,[Pa(e),e.read_shift(2)&1]}var Wkt=aC,Hkt=Hve,Ukt=N6,Gkt=aC,Kkt=aC,jkt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ykt(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=jkt[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:a,C:i}}function Xkt(e){return e.l+=2,[e.read_shift(4)]}function qkt(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function Zkt(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Jkt(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Qkt(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function eIt(e){return e.l+=4,[0,0]}var Vj={1:{n:"PtgExp",f:bkt},2:{n:"PtgTbl",f:Pkt},3:{n:"PtgAdd",f:La},4:{n:"PtgSub",f:La},5:{n:"PtgMul",f:La},6:{n:"PtgDiv",f:La},7:{n:"PtgPower",f:La},8:{n:"PtgConcat",f:La},9:{n:"PtgLt",f:La},10:{n:"PtgLe",f:La},11:{n:"PtgEq",f:La},12:{n:"PtgGe",f:La},13:{n:"PtgGt",f:La},14:{n:"PtgNe",f:La},15:{n:"PtgIsect",f:La},16:{n:"PtgUnion",f:La},17:{n:"PtgRange",f:La},18:{n:"PtgUplus",f:La},19:{n:"PtgUminus",f:La},20:{n:"PtgPercent",f:La},21:{n:"PtgParen",f:La},22:{n:"PtgMissArg",f:La},23:{n:"PtgStr",f:Ckt},26:{n:"PtgSheet",f:qkt},27:{n:"PtgEndSheet",f:Zkt},28:{n:"PtgErr",f:xkt},29:{n:"PtgBool",f:_kt},30:{n:"PtgInt",f:wkt},31:{n:"PtgNum",f:Skt},32:{n:"PtgArray",f:akt},33:{n:"PtgFunc",f:vkt},34:{n:"PtgFuncVar",f:gkt},35:{n:"PtgName",f:Ekt},36:{n:"PtgRef",f:dkt},37:{n:"PtgArea",f:QTt},38:{n:"PtgMemArea",f:Nkt},39:{n:"PtgMemErr",f:Lkt},40:{n:"PtgMemNoMem",f:Okt},41:{n:"PtgMemFunc",f:Rkt},42:{n:"PtgRefErr",f:Mkt},43:{n:"PtgAreaErr",f:tkt},44:{n:"PtgRefN",f:hkt},45:{n:"PtgAreaN",f:rkt},46:{n:"PtgMemAreaN",f:Jkt},47:{n:"PtgMemNoMemN",f:Qkt},57:{n:"PtgNameX",f:Akt},58:{n:"PtgRef3d",f:pkt},59:{n:"PtgArea3d",f:ekt},60:{n:"PtgRefErr3d",f:$kt},61:{n:"PtgAreaErr3d",f:nkt},255:{}},tIt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},nIt={1:{n:"PtgElfLel",f:Hve},2:{n:"PtgElfRw",f:Gkt},3:{n:"PtgElfCol",f:Fkt},6:{n:"PtgElfRwV",f:Kkt},7:{n:"PtgElfColV",f:zkt},10:{n:"PtgElfRadical",f:Wkt},11:{n:"PtgElfRadicalS",f:Ukt},13:{n:"PtgElfColS",f:Bkt},15:{n:"PtgElfColSV",f:Vkt},16:{n:"PtgElfRadicalLel",f:Hkt},25:{n:"PtgList",f:Ykt},29:{n:"PtgSxName",f:Xkt},255:{}},rIt={0:{n:"PtgAttrNoop",f:eIt},1:{n:"PtgAttrSemi",f:ukt},2:{n:"PtgAttrIf",f:skt},4:{n:"PtgAttrChoose",f:ikt},8:{n:"PtgAttrGoto",f:okt},16:{n:"PtgAttrSum",f:ykt},32:{n:"PtgAttrBaxcel",f:Bj},33:{n:"PtgAttrBaxcel",f:Bj},64:{n:"PtgAttrSpace",f:ckt},65:{n:"PtgAttrSpaceSemi",f:fkt},128:{n:"PtgAttrIfError",f:lkt},255:{}};function iC(e,t,n,r){if(r.biff<8)return So(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Ikt(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=kkt(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&i.push(So(e,t)),i}function oC(e,t,n){for(var r=e.l+t,a,i,o=[];r!=e.l;)t=r-e.l,i=e[e.l],a=Vj[i]||Vj[tIt[i]],(i===24||i===25)&&(a=(i===24?nIt:rIt)[e[e.l+1]]),!a||!a.f?So(e,t):o.push([a.n,a.f(e,t,n)]);return o}function aIt(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var iIt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function oIt(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Uve(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function zj(e,t,n){var r=Uve(e,t,n);return r=="#REF"?r:oIt(r,n)}function lo(e,t,n,r,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},s=[],l,u,c,f=0,d=0,h,p="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",m=0,y=e[0].length;m<y;++m){var b=e[0][m];switch(b[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=ga(" ",e[0][v][1][1]);break;case 1:g=ga("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+g,v=-1}s.push(u+iIt[b[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=hx(b[1][1],o,a),s.push(px(c,i));break;case"PtgRefN":c=n?hx(b[1][1],n,a):b[1][1],s.push(px(c,i));break;case"PtgRef3d":f=b[1][1],c=hx(b[1][2],o,a),p=zj(r,f,a),s.push(p+"!"+px(c,i));break;case"PtgFunc":case"PtgFuncVar":var x=b[1][0],_=b[1][1];x||(x=0),x&=127;var S=x==0?[]:s.slice(-x);s.length-=x,_==="User"&&(_=S.shift()),s.push(_+"("+S.join(",")+")");break;case"PtgBool":s.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(b[1]);break;case"PtgNum":s.push(String(b[1]));break;case"PtgStr":s.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(b[1]);break;case"PtgAreaN":h=wj(b[1][1],n?{s:n}:o,a),s.push(xM(h,a));break;case"PtgArea":h=wj(b[1][1],o,a),s.push(xM(h,a));break;case"PtgArea3d":f=b[1][1],h=b[1][2],p=zj(r,f,a),s.push(p+"!"+xM(h,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=b[1][2];var C=(r.names||[])[d-1]||(r[0]||[])[d],k=C?C.Name:"SH33TJSNAME"+String(d);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),s.push(k);break;case"PtgNameX":var T=b[1][1];d=b[1][2];var E;if(a.biff<=5)T<0&&(T=-T),r[T]&&(E=r[T][d]);else{var I="";if(((r[T]||[])[0]||[])[0]==14849||(((r[T]||[])[0]||[])[0]==1025?r[T][d]&&r[T][d].itab>0&&(I=r.SheetNames[r[T][d].itab-1]+"!"):I=r.SheetNames[d-1]+"!"),r[T]&&r[T][d])I+=r[T][d].Name;else if(r[0]&&r[0][d])I+=r[0][d].Name;else{var A=(Uve(r,T,a)||"").split(";;");A[d-1]?I=A[d-1]:I+="SH33TJSERRX"}s.push(I);break}E||(E={Name:"SH33TJSERRY"}),s.push(E.Name);break;case"PtgParen":var N="(",L=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:N=ga(" ",e[0][v][1][1])+N;break;case 3:N=ga("\r",e[0][v][1][1])+N;break;case 4:L=ga(" ",e[0][v][1][1])+L;break;case 5:L=ga("\r",e[0][v][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}s.push(N+s.pop()+L);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":c={c:b[1][1],r:b[1][0]};var R={c:n.c,r:n.r};if(r.sharedf[$n(c)]){var D=r.sharedf[$n(c)];s.push(lo(D,o,R,r,a))}else{var P=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){s.push(lo(u[1],o,R,r,a)),P=!0;break}P||s.push(b[1])}break;case"PtgArray":s.push("{"+aIt(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var O=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&O.indexOf(e[0][m][0])==-1){b=e[0][v];var M=!0;switch(b[1][0]){case 4:M=!1;case 0:g=ga(" ",b[1][1]);break;case 5:M=!1;case 1:g=ga("\r",b[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}s.push((M?g:"")+s.pop()+(M?"":g)),v=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function sIt(e,t,n){var r=e.l+t,a=n.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],So(e,t-2)];var s=oC(e,o,n);return t!==o+a&&(i=iC(e,t-o-a,s,n)),e.l=r,[s,i]}function lIt(e,t,n){var r=e.l+t,a=n.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],So(e,t-2)];var s=oC(e,o,n);return t!==o+a&&(i=iC(e,t-o-a,s,n)),e.l=r,[s,i]}function uIt(e,t,n,r){var a=e.l+t,i=oC(e,r,n),o;return a!==e.l&&(o=iC(e,a-e.l,i,n)),[i,o]}function cIt(e,t,n){var r=e.l+t,a,i=e.read_shift(2),o=oC(e,i,n);return i==65535?[[],So(e,t-2)]:(t!==i+2&&(a=iC(e,r-i-2,o,n)),[o,a])}function fIt(e){var t;if(Df(e,e.l+6)!==65535)return[go(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function SM(e,t,n){var r=e.l+t,a=af(e);n.biff==2&&++e.l;var i=fIt(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var s=lIt(e,r-e.l,n);return{cell:a,val:i[0],formula:s,shared:o>>3&1,tt:i[1]}}function yN(e,t,n){var r=e.read_shift(4),a=oC(e,r,n),i=e.read_shift(4),o=i>0?iC(e,i,a,n):null;return[a,o]}var dIt=yN,bN=yN,hIt=yN,pIt=yN,vIt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Gve={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},gIt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Wj(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function CM(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var yx={},Fm={};function bx(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Kve(e,t,n,r,a,i){try{r.cellNF&&(e.z=Pn[t])}catch(s){if(r.WTF)throw s}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ki(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Pn[t]==null&&Hv(m_t[t]||"General",t),e.t==="e")e.w=e.w||t0[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nw(e.v);else if(e.t==="d"){var o=as(e.v);(o|0)===o?e.w=o.toString(10):e.w=Nw(o)}else{if(e.v===void 0)return"";e.w=Tg(e.v,Fm)}else e.t==="d"?e.w=Vl(t,as(e.v),Fm):e.w=Vl(t,e.v,Fm)}catch(s){if(r.WTF)throw s}if(r.cellStyles&&n!=null)try{e.s=i.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=JI(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=JI(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(r.WTF&&i.Fills)throw s}}}function mIt(e,t){var n=_a(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=br(n))}var yIt=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,bIt=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,xIt=/<(?:\w:)?hyperlink [^>]*>/mg,wIt=/"(\w*:\w*)"/,_It=/<(?:\w:)?col\b[^>]*[\/]?>/g,SIt=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,CIt=/<(?:\w:)?pageMargins[^>]*\/>/g,jve=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,TIt=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,kIt=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function IIt(e,t,n,r,a,i,o){if(!e)return e;r||(r={"!id":{}});var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",f=e.match(bIt);f?(u=e.slice(0,f.index),c=e.slice(f.index+f[0].length)):u=c=e;var d=u.match(jve);d?R6(d[0],s,a,n):(d=u.match(TIt))&&EIt(d[0],d[1]||"",s,a,n);var h=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p=u.slice(h,h+50).match(wIt);p&&mIt(s,p[1])}var v=u.match(kIt);v&&v[1]&&$It(v[1],a);var g=[];if(t.cellStyles){var m=u.match(_It);m&&NIt(g,m)}f&&LIt(f[1],s,t,l,i,o);var y=c.match(SIt);y&&(s["!autofilter"]=RIt(y[0]));var b=[],x=c.match(yIt);if(x)for(h=0;h!=x.length;++h)b[h]=_a(x[h].slice(x[h].indexOf('"')+1));var _=c.match(xIt);_&&AIt(s,_,r);var S=c.match(CIt);if(S&&(s["!margins"]=DIt(In(S[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=br(l)),t.sheetRows>0&&s["!ref"]){var C=_a(s["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>l.e.r&&(C.e.r=l.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>l.e.c&&(C.e.c=l.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),s["!fullref"]=s["!ref"],s["!ref"]=br(C))}return g.length>0&&(s["!cols"]=g),b.length>0&&(s["!merges"]=b),s}function R6(e,t,n,r){var a=In(e);n.Sheets[r]||(n.Sheets[r]={}),a.codeName&&(n.Sheets[r].CodeName=Sr(ea(a.codeName)))}function EIt(e,t,n,r,a){R6(e.slice(0,e.indexOf(">")),n,r,a)}function AIt(e,t,n){for(var r=Array.isArray(e),a=0;a!=t.length;++a){var i=In(ea(t[a]),!0);if(!i.ref)return;var o=((n||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Sr(i.location))):(i.Target="#"+Sr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var s=_a(i.ref),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var c=$n({c:u,r:l});r?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=i):(e[c]||(e[c]={t:"z",v:void 0}),e[c].l=i)}}}function DIt(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function NIt(e,t){for(var n=!1,r=0;r!=t.length;++r){var a=In(t[r],!0);a.hidden&&(a.hidden=ua(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!n&&a.width&&(n=!0,D6(a.width)),ky(a);i<=o;)e[i++]=Vi(a)}}function RIt(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var MIt=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function $It(e,t){t.Views||(t.Views=[{}]),(e.match(MIt)||[]).forEach(function(n,r){var a=In(n);t.Views[r]||(t.Views[r]={}),+a.zoomScale&&(t.Views[r].zoom=+a.zoomScale),ua(a.rightToLeft)&&(t.Views[r].RTL=!0)})}var LIt=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Rw("v"),o=Rw("f");return function(l,u,c,f,d,h){for(var p=0,v="",g=[],m=[],y=0,b=0,x=0,_="",S,C,k=0,T=0,E,I,A=0,N=0,L=Array.isArray(h.CellXf),R,D=[],P=[],O=Array.isArray(u),M=[],W={},U=!1,V=!!c.sheetStubs,H=l.split(t),K=0,j=H.length;K!=j;++K){v=H[K].trim();var ne=v.length;if(ne!==0){var Q=0;e:for(p=0;p<ne;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(c&&c.cellStyles){if(C=In(v.slice(Q,p),!0),k=C.r!=null?parseInt(C.r,10):k+1,T=-1,c.sheetRows&&c.sheetRows<k)continue;W={},U=!1,C.ht&&(U=!0,W.hpt=parseFloat(C.ht),W.hpx=Ow(W.hpt)),C.hidden=="1"&&(U=!0,W.hidden=!0),C.outlineLevel!=null&&(U=!0,W.level=+C.outlineLevel),U&&(M[k-1]=W)}break;case"<":Q=p;break}if(Q>=p)break;if(C=In(v.slice(Q,p),!0),k=C.r!=null?parseInt(C.r,10):k+1,T=-1,!(c.sheetRows&&c.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),c&&c.cellStyles&&(W={},U=!1,C.ht&&(U=!0,W.hpt=parseFloat(C.ht),W.hpx=Ow(W.hpt)),C.hidden=="1"&&(U=!0,W.hidden=!0),C.outlineLevel!=null&&(U=!0,W.level=+C.outlineLevel),U&&(M[k-1]=W)),g=v.slice(p).split(e);for(var oe=0;oe!=g.length&&g[oe].trim().charAt(0)=="<";++oe);for(g=g.slice(oe),p=0;p!=g.length;++p)if(v=g[p].trim(),v.length!==0){if(m=v.match(n),y=p,b=0,x=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,m!=null&&m.length===2){for(y=0,_=m[1],b=0;b!=_.length&&!((x=_.charCodeAt(b)-64)<1||x>26);++b)y=26*y+x;--y,T=y}else++T;for(b=0;b!=v.length&&v.charCodeAt(b)!==62;++b);if(++b,C=In(v.slice(0,b),!0),C.r||(C.r=$n({r:k-1,c:T})),_=v.slice(b),S={t:""},(m=_.match(i))!=null&&m[1]!==""&&(S.v=Sr(m[1])),c.cellFormula){if((m=_.match(o))!=null&&m[1]!==""){if(S.f=Sr(ea(m[1])).replace(/\r\n/g,`
`),c.xlfn||(S.f=Fj(S.f)),m[0].indexOf('t="array"')>-1)S.F=(_.match(a)||[])[1],S.F.indexOf(":")>-1&&D.push([_a(S.F),S.F]);else if(m[0].indexOf('t="shared"')>-1){I=In(m[0]);var ae=Sr(ea(m[1]));c.xlfn||(ae=Fj(ae)),P[parseInt(I.si,10)]=[I,ae,C.r]}}else(m=_.match(/<f[^>]*\/>/))&&(I=In(m[0]),P[I.si]&&(S.f=KTt(P[I.si][1],P[I.si][2],C.r)));var me=jo(C.r);for(b=0;b<D.length;++b)me.r>=D[b][0].s.r&&me.r<=D[b][0].e.r&&me.c>=D[b][0].s.c&&me.c<=D[b][0].e.c&&(S.F=D[b][1])}if(C.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(V)S.t="z";else continue;else S.t=C.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),S.t){case"n":if(S.v==""||S.v==null){if(!V)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!V)continue;S.t="z"}else E=yx[parseInt(S.v,10)],S.v=E.t,S.r=E.r,c.cellHTML&&(S.h=E.h);break;case"str":S.t="s",S.v=S.v!=null?ea(S.v):"",c.cellHTML&&(S.h=b6(S.v));break;case"inlineStr":m=_.match(r),S.t="s",m!=null&&(E=A6(m[1]))?(S.v=E.t,c.cellHTML&&(S.h=E.h)):S.v="";break;case"b":S.v=ua(S.v);break;case"d":c.cellDates?S.v=ki(S.v,1):(S.v=as(ki(S.v,1)),S.t="n");break;case"e":(!c||c.cellText!==!1)&&(S.w=S.v),S.v=pve[S.v];break}if(A=N=0,R=null,L&&C.s!==void 0&&(R=h.CellXf[C.s],R!=null&&(R.numFmtId!=null&&(A=R.numFmtId),c.cellStyles&&R.fillId!=null&&(N=R.fillId))),Kve(S,A,N,c,d,h),c.cellDates&&L&&S.t=="n"&&d1(Pn[A])&&(S.t="d",S.v=gN(S.v)),C.cm&&c.xlmeta){var ve=(c.xlmeta.Cell||[])[+C.cm-1];ve&&ve.type=="XLDAPR"&&(S.D=!0)}if(O){var B=jo(C.r);u[B.r]||(u[B.r]=[]),u[B.r][B.c]=S}else u[C.r]=S}}}}M.length>0&&(u["!rows"]=M)}}();function OIt(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=a/20),n}var PIt=e0;function FIt(){}function BIt(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=sSt(e),n}function VIt(e){var t=Kl(e);return[t]}function zIt(e){var t=Qg(e);return[t]}function WIt(e){var t=Kl(e),n=e.read_shift(1);return[t,n,"b"]}function HIt(e){var t=Qg(e),n=e.read_shift(1);return[t,n,"b"]}function UIt(e){var t=Kl(e),n=e.read_shift(1);return[t,n,"e"]}function GIt(e){var t=Qg(e),n=e.read_shift(1);return[t,n,"e"]}function KIt(e){var t=Kl(e),n=e.read_shift(4);return[t,n,"s"]}function jIt(e){var t=Qg(e),n=e.read_shift(4);return[t,n,"s"]}function YIt(e){var t=Kl(e),n=go(e);return[t,n,"n"]}function Yve(e){var t=Qg(e),n=go(e);return[t,n,"n"]}function XIt(e){var t=Kl(e),n=k6(e);return[t,n,"n"]}function qIt(e){var t=Qg(e),n=k6(e);return[t,n,"n"]}function ZIt(e){var t=Kl(e),n=C6(e);return[t,n,"is"]}function JIt(e){var t=Kl(e),n=wo(e);return[t,n,"str"]}function QIt(e){var t=Qg(e),n=wo(e);return[t,n,"str"]}function eEt(e,t,n){var r=e.l+t,a=Kl(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(n.cellFormula){e.l+=2;var s=bN(e,r-e.l,n);o[3]=lo(s,null,a,n.supbooks,n)}else e.l=r;return o}function tEt(e,t,n){var r=e.l+t,a=Kl(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(n.cellFormula){e.l+=2;var s=bN(e,r-e.l,n);o[3]=lo(s,null,a,n.supbooks,n)}else e.l=r;return o}function nEt(e,t,n){var r=e.l+t,a=Kl(e);a.r=n["!row"];var i=go(e),o=[a,i,"n"];if(n.cellFormula){e.l+=2;var s=bN(e,r-e.l,n);o[3]=lo(s,null,a,n.supbooks,n)}else e.l=r;return o}function rEt(e,t,n){var r=e.l+t,a=Kl(e);a.r=n["!row"];var i=wo(e),o=[a,i,"str"];if(n.cellFormula){e.l+=2;var s=bN(e,r-e.l,n);o[3]=lo(s,null,a,n.supbooks,n)}else e.l=r;return o}var aEt=e0;function iEt(e,t){var n=e.l+t,r=e0(e),a=T6(e),i=wo(e),o=wo(e),s=wo(e);e.l=n;var l={rfx:r,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}function oEt(){}function sEt(e,t,n){var r=e.l+t,a=fve(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var s=dIt(e,r-e.l,n);o[1]=s}else e.l=r;return o}function lEt(e,t,n){var r=e.l+t,a=e0(e),i=[a];if(n.cellFormula){var o=pIt(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}var uEt=["left","right","top","bottom","header","footer"];function cEt(e){var t={};return uEt.forEach(function(n){t[n]=go(e)}),t}function fEt(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function dEt(){}function hEt(){}function pEt(e,t,n,r,a,i,o){if(!e)return e;var s=t||{};r||(r={"!id":{}});var l=s.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,p,v,g,m,y,b,x,_,S=[];s.biff=12,s["!row"]=0;var C=0,k=!1,T=[],E={},I=s.supbooks||a.supbooks||[[]];if(I.sharedf=E,I.arrayf=T,I.SheetNames=a.SheetNames||a.Sheets.map(function(O){return O.name}),!s.supbooks&&(s.supbooks=I,a.Names))for(var A=0;A<a.Names.length;++A)I[0][A+1]=a.Names[A];var N=[],L=[],R=!1;tE[16]={n:"BrtShortReal",f:Yve};var D;if(pd(e,function(M,W,U){if(!d)switch(U){case 148:u=M;break;case 0:h=M,s.sheetRows&&s.sheetRows<=h.r&&(d=!0),x=zi(g=h.r),s["!row"]=h.r,(M.hidden||M.hpt||M.level!=null)&&(M.hpt&&(M.hpx=Ow(M.hpt)),L[M.r]=M);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:M[2]},M[2]){case"n":p.v=M[1];break;case"s":b=yx[M[1]],p.v=b.t,p.r=b.r;break;case"b":p.v=!!M[1];break;case"e":p.v=M[1],s.cellText!==!1&&(p.w=t0[p.v]);break;case"str":p.t="s",p.v=M[1];break;case"is":p.t="s",p.v=M[1].t;break}if((v=o.CellXf[M[0].iStyleRef])&&Kve(p,v.numFmtId,null,s,i,o),m=M[0].c==-1?m+1:M[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[ai(m)+x]=p,s.cellFormula){for(k=!1,C=0;C<T.length;++C){var V=T[C];h.r>=V[0].s.r&&h.r<=V[0].e.r&&m>=V[0].s.c&&m<=V[0].e.c&&(p.F=br(V[0]),k=!0)}!k&&M.length>3&&(p.f=M[3])}if(c.s.r>h.r&&(c.s.r=h.r),c.s.c>m&&(c.s.c=m),c.e.r<h.r&&(c.e.r=h.r),c.e.c<m&&(c.e.c=m),s.cellDates&&v&&p.t=="n"&&d1(Pn[v.numFmtId])){var H=kv(p.v);H&&(p.t="d",p.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}D&&(D.type=="XLDAPR"&&(p.D=!0),D=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;p={t:"z",v:void 0},m=M[0].c==-1?m+1:M[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[ai(m)+x]=p,c.s.r>h.r&&(c.s.r=h.r),c.s.c>m&&(c.s.c=m),c.e.r<h.r&&(c.e.r=h.r),c.e.c<m&&(c.e.c=m),D&&(D.type=="XLDAPR"&&(p.D=!0),D=void 0);break;case 176:S.push(M);break;case 49:D=((s.xlmeta||{}).Cell||[])[M-1];break;case 494:var K=r["!id"][M.relId];for(K?(M.Target=K.Target,M.loc&&(M.Target+="#"+M.loc),M.Rel=K):M.relId==""&&(M.Target="#"+M.loc),g=M.rfx.s.r;g<=M.rfx.e.r;++g)for(m=M.rfx.s.c;m<=M.rfx.e.c;++m)s.dense?(l[g]||(l[g]=[]),l[g][m]||(l[g][m]={t:"z",v:void 0}),l[g][m].l=M):(y=$n({c:m,r:g}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=M);break;case 426:if(!s.cellFormula)break;T.push(M),_=s.dense?l[g][m]:l[ai(m)+x],_.f=lo(M[1],c,{r:h.r,c:m},I,s),_.F=br(M[0]);break;case 427:if(!s.cellFormula)break;E[$n(M[0].s)]=M[1],_=s.dense?l[g][m]:l[ai(m)+x],_.f=lo(M[1],c,{r:h.r,c:m},I,s);break;case 60:if(!s.cellStyles)break;for(;M.e>=M.s;)N[M.e--]={width:M.w/256,hidden:!!(M.flags&1),level:M.level},R||(R=!0,D6(M.w/256)),ky(N[M.e+1]);break;case 161:l["!autofilter"]={ref:br(M)};break;case 476:l["!margins"]=M;break;case 147:a.Sheets[n]||(a.Sheets[n]={}),M.name&&(a.Sheets[n].CodeName=M.name),(M.above||M.left)&&(l["!outline"]={above:M.above,left:M.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),M.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!W.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+U.toString(16))}}},s),delete s.supbooks,delete s["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=br(u||c)),s.sheetRows&&l["!ref"]){var P=_a(l["!ref"]);s.sheetRows<=+P.e.r&&(P.e.r=s.sheetRows-1,P.e.r>c.e.r&&(P.e.r=c.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>c.e.c&&(P.e.c=c.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),l["!fullref"]=l["!ref"],l["!ref"]=br(P))}return S.length>0&&(l["!merges"]=S),N.length>0&&(l["!cols"]=N),L.length>0&&(l["!rows"]=L),l}function vEt(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var a=Sr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[t,a,r]}function gEt(e,t,n,r,a,i){var o=i||{"!type":"chart"};if(!e)return i;var s=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=vEt(f);c.s.r=c.s.c=0,c.e.c=s,u=ai(s),d[0].forEach(function(h,p){o[u+zi(p)]={t:"n",v:h,z:d[1]},l=p}),c.e.r<l&&(c.e.r=l),++s}),s>0&&(o["!ref"]=br(c)),o}function mEt(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(jve);return s&&R6(s[0],i,a,n),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function yEt(e,t){e.l+=10;var n=wo(e);return{name:n}}function bEt(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return pd(e,function(l,u,c){switch(c){case 550:i["!rel"]=l;break;case 651:a.Sheets[n]||(a.Sheets[n]={}),l.name&&(a.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},t),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var Xve=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],xEt=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],wEt=[],_Et=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Hj(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],a=0;a!=t.length;++a){var i=t[a];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=ua(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function Uj(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=ua(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function qve(e){Uj(e.WBProps,Xve),Uj(e.CalcPr,_Et),Hj(e.WBView,xEt),Hj(e.Sheets,wEt),Fm.date1904=ua(e.WBProps.date1904)}var SEt="][*?/\\".split("");function CEt(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return SEt.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var TEt=/<\w+:workbook/;function kEt(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,a="xmlns",i={},o=0;if(e.replace(Io,function(l,u){var c=In(l);switch(rf(c[0])){case"<?xml":break;case"<workbook":l.match(TEt)&&(a="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=c[a];break;case"</workbook>":break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Xve.forEach(function(f){if(c[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=ua(c[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(c[f[0]],10);break;default:n.WBProps[f[0]]=c[f[0]]}}),c.codeName&&(n.WBProps.CodeName=ea(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Sr(ea(c.name)),delete c[0],n.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=ea(c.name),c.comment&&(i.Comment=c.comment),c.localSheetId&&(i.Sheet=+c.localSheetId),ua(c.hidden||"0")&&(i.Hidden=!0),o=u+l.length;break;case"</definedName>":i.Ref=Sr(ea(e.slice(o,u))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete c[0],n.CalcPr=c;break;case"<calcPr/>":delete c[0],n.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),U_t.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return qve(n),n}function IEt(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=gF(e),n.name=wo(e),n}function EEt(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?wo(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function AEt(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function DEt(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=lSt(e),o=hIt(e,0,n),s=T6(e);e.l=r;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function NEt(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],tE[16]={n:"BrtFRTArchID$",f:AEt},pd(e,function(l,u,c){switch(c){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=lo(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([c,l]):o[0]=[c,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(c),a=!0;break;case 36:r.pop(),a=!1;break;case 37:r.push(c),a=!0;break;case 38:r.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},t),qve(n),n.Names=i,n.supbooks=o,n}function REt(e,t,n){return t.slice(-4)===".bin"?NEt(e,n):kEt(e,n)}function MEt(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?pEt(e,r,n,a,i,o,s):IIt(e,r,n,a,i,o,s)}function $Et(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?bEt(e,r,n,a,i):mEt(e,r,n,a,i)}function LEt(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?HTt():UTt()}function OEt(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?zTt():WTt()}function PEt(e,t,n,r){return t.slice(-4)===".bin"?aTt(e,n,r):J2t(e,n,r)}function FEt(e,t,n){return Ove(e,n)}function BEt(e,t,n){return t.slice(-4)===".bin"?x2t(e,n):y2t(e,n)}function VEt(e,t,n){return t.slice(-4)===".bin"?FTt(e,n):MTt(e,n)}function zEt(e,t,n){return t.slice(-4)===".bin"?DTt(e):ETt(e)}function WEt(e,t,n,r){return n.slice(-4)===".bin"?NTt(e,t,n,r):void 0}function HEt(e,t,n){return t.slice(-4)===".bin"?kTt(e,t,n):ITt(e,t,n)}var Zve=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Jve=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Jl(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var a=e.match(Zve),i,o,s,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(Jve),(o=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(o+1),r[s]=i[2].slice(1,i[2].length-1));return r}function UEt(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(Zve),a,i,o,s;if(r)for(s=0;s!=r.length;++s)a=r[s].match(Jve),(i=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),n[o]=a[2].slice(1,a[2].length-1));return n}var xx;function GEt(e,t){var n=xx[e]||Sr(e);return n==="General"?Tg(t):Vl(n,t)}function KEt(e,t,n,r){var a=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ua(r);break;case"i2":case"int":a=parseInt(r,10);break;case"r4":case"float":a=parseFloat(r);break;case"date":case"dateTime.tz":a=ki(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Sr(t)]=a}function jEt(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||t0[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nw(e.v):e.w=Tg(e.v):e.w=GEt(t||"General",e.v)}catch(i){if(n.WTF)throw i}try{var r=xx[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&d1(r)){var a=kv(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(n.WTF)throw i}}}function YEt(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=K2t[r.Pattern]||r.Pattern)}e[t.ID]=t}function XEt(e,t,n,r,a,i,o,s,l,u){var c="General",f=r.StyleID,d={};u=u||{};var h=[],p=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(c=i[f].nf),i[f].Interior&&h.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=ua(e);break;case"String":r.t="s",r.r=dj(Sr(e)),r.v=e.indexOf("<")>-1?Sr(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(ki(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=Sr(e):r.v<60&&(r.v=r.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=pve[e],u.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=dj(t||e));break}if(jEt(r,c,u),u.cellFormula!==!1)if(r.Formula){var v=Sr(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=Pm(v,a),delete r.Formula,r.ArrayRange=="RC"?r.F=Pm("RC:RC",a):r.ArrayRange&&(r.F=Pm(r.ArrayRange,a),l.push([_a(r.F),r.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(r.F=l[p][1]);u.cellStyles&&(h.forEach(function(g){!d.patternType&&g.patternType&&(d.patternType=g.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function qEt(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function TM(e,t){var n=t||{};Vpe();var r=Mb(x6(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=ea(r));var a=r.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Vi(n);return o.type="string",$w.to_workbook(r,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(J){a.indexOf("<"+J)>=0&&(i=!0)}),i)return iAt(r,n);xx={"General Number":"General","General Date":Pn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Pn[15],"Short Date":Pn[14],"Long Time":Pn[19],"Medium Time":Pn[18],"Short Time":Pn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Pn[2],Standard:Pn[4],Percent:Pn[10],Scientific:Pn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,l=[],u,c={},f=[],d=n.dense?[]:{},h="",p={},v={},g=Jl('<Data ss:Type="String">'),m=0,y=0,b=0,x={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},S={},C="",k=0,T=[],E={},I={},A=0,N=[],L=[],R={},D=[],P,O=!1,M=[],W=[],U={},V=0,H=0,K={Sheets:[],WBProps:{date1904:!1}},j={};Mw.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";s=Mw.exec(r);)switch(s[3]=(ne=s[3]).toLowerCase()){case"data":if(ne=="data"){if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break}if(l[l.length-1][1])break;s[1]==="/"?XEt(r.slice(m,s.index),C,g,l[l.length-1][0]=="comment"?R:p,{c:y,r:b},_,D[y],v,M,n):(C="",g=Jl(s[0]),m=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(L.length>0&&(p.c=L),(!n.sheetRows||n.sheetRows>b)&&p.v!==void 0&&(n.dense?(d[b]||(d[b]=[]),d[b][y]=p):d[ai(y)+zi(b)]=p),p.HRef&&(p.l={Target:Sr(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(V=y+(parseInt(p.MergeAcross,10)|0),H=b+(parseInt(p.MergeDown,10)|0),T.push({s:{c:y,r:b},e:{c:V,r:H}})),!n.sheetStubs)p.MergeAcross?y=V+1:++y;else if(p.MergeAcross||p.MergeDown){for(var Q=y;Q<=V;++Q)for(var oe=b;oe<=H;++oe)(Q>y||oe>b)&&(n.dense?(d[oe]||(d[oe]=[]),d[oe][Q]={t:"z"}):d[ai(Q)+zi(oe)]={t:"z"});y=V+1}else++y;else p=UEt(s[0]),p.Index&&(y=+p.Index-1),y<x.s.c&&(x.s.c=y),y>x.e.c&&(x.e.c=y),s[0].slice(-2)==="/>"&&++y,L=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(b<x.s.r&&(x.s.r=b),b>x.e.r&&(x.e.r=b),s[0].slice(-2)==="/>"&&(v=Jl(s[0]),v.Index&&(b=+v.Index-1)),y=0,++b):(v=Jl(s[0]),v.Index&&(b=+v.Index-1),U={},(v.AutoFitHeight=="0"||v.Height)&&(U.hpx=parseInt(v.Height,10),U.hpt=Lve(U.hpx),W[b]=U),v.Hidden=="1"&&(U.hidden=!0,W[b]=U));break;case"worksheet":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));f.push(h),x.s.r<=x.e.r&&x.s.c<=x.e.c&&(d["!ref"]=br(x),n.sheetRows&&n.sheetRows<=x.e.r&&(d["!fullref"]=d["!ref"],x.e.r=n.sheetRows-1,d["!ref"]=br(x))),T.length&&(d["!merges"]=T),D.length>0&&(d["!cols"]=D),W.length>0&&(d["!rows"]=W),c[h]=d}else x={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,l.push([s[3],!1]),u=Jl(s[0]),h=Sr(u.Name),d=n.dense?[]:{},T=[],M=[],W=[],j={name:h,Hidden:0},K.Sheets.push(j);break;case"table":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else{if(s[0].slice(-2)=="/>")break;l.push([s[3],!1]),D=[],O=!1}break;case"style":s[1]==="/"?YEt(_,S,n):S=Jl(s[0]);break;case"numberformat":S.nf=Sr(Jl(s[0]).Format||"General"),xx[S.nf]&&(S.nf=xx[S.nf]);for(var ae=0;ae!=392&&Pn[ae]!=S.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Pn[ae]==null){Hv(S.nf,ae);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(P=Jl(s[0]),P.Hidden&&(P.hidden=!0,delete P.Hidden),P.Width&&(P.wpx=parseInt(P.Width,10)),!O&&P.wpx>10){O=!0,Ho=Mve;for(var me=0;me<D.length;++me)D[me]&&ky(D[me])}O&&ky(P),D[P.Index-1||D.length]=P;for(var ve=0;ve<+P.Span;++ve)D[D.length]=Vi(P);break;case"namedrange":if(s[1]==="/")break;K.Names||(K.Names=[]);var B=In(s[0]),re={Name:B.Name,Ref:Pm(B.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(re.Sheet=K.Sheets.length-1),K.Names.push(re);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?C+=r.slice(k,s.index):k=s.index+s[0].length;break;case"interior":if(!n.cellStyles)break;S.Interior=Jl(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?MSt(E,ne,r.slice(A,s.index)):A=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else l.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));qEt(R),L.push(R)}else l.push([s[3],!1]),u=Jl(s[0]),R={a:u.Author};break;case"autofilter":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var ge=Jl(s[0]);d["!autofilter"]={ref:Pm(ge.Range).replace(/\$/g,"")},l.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"null":break;default:if(l.length==0&&s[3]=="document"||l.length==0&&s[3]=="uof")return qj(r,n);var Ie=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ie=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ie=!1}break;case"excelworkbook":switch(s[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ie=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:Ie=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(r.slice(A,s.index)){case"SheetHidden":j.Hidden=1;break;case"SheetVeryHidden":j.Hidden=2;break}else A=s.index+s[0].length;break;case"header":d["!margins"]||bx(d["!margins"]={},"xlml"),isNaN(+In(s[0]).Margin)||(d["!margins"].header=+In(s[0]).Margin);break;case"footer":d["!margins"]||bx(d["!margins"]={},"xlml"),isNaN(+In(s[0]).Margin)||(d["!margins"].footer=+In(s[0]).Margin);break;case"pagemargins":var Ce=In(s[0]);d["!margins"]||bx(d["!margins"]={},"xlml"),isNaN(+Ce.Top)||(d["!margins"].top=+Ce.Top),isNaN(+Ce.Left)||(d["!margins"].left=+Ce.Left),isNaN(+Ce.Right)||(d["!margins"].right=+Ce.Right),isNaN(+Ce.Bottom)||(d["!margins"].bottom=+Ce.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ie=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ie=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ie=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ie=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ie=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ie=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ie=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ie=!1}break;case"smarttags":break;default:Ie=!1;break}if(Ie||s[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?KEt(I,ne,N,r.slice(A,s.index)):(N=s,A=s.index+s[0].length);break}if(n.WTF)throw"Unrecognized tag: "+s[3]+"|"+l.join("|")}var he={};return!n.bookSheets&&!n.bookProps&&(he.Sheets=c),he.SheetNames=f,he.Workbook=K,he.SSF=Vi(Pn),he.Props=E,he.Custprops=I,he}function xF(e,t){switch(L6(t=t||{}),t.type||"base64"){case"base64":return TM(Zs(e),t);case"binary":case"buffer":case"file":return TM(e,t);case"array":return TM(Jg(e),t)}}function ZEt(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=fSt(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=dSt(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var JEt=[60,1084,2066,2165,2175];function QEt(e,t,n,r,a){var i=r,o=[],s=n.slice(n.l,n.l+i);if(a.enc&&a.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(s)}o.push(s),n.l+=i;for(var l=Df(n,n.l),u=wF[l],c=0;u!=null&&JEt.indexOf(l)>-1;)i=Df(n,n.l+2),c=n.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),s=n.slice(c,n.l+4+i),o.push(s),n.l+=4+i,u=wF[l=Df(n,n.l)];var f=Gd(o);Li(f,0);var d=0;f.lens=[];for(var h=0;h<o.length;++h)f.lens.push(d),d+=o[h].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,a)}function qu(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Pn[r])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||t0[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Nw(e.v):e.w=Tg(e.v):e.w=Vl(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&r&&e.t=="n"&&d1(Pn[r]||String(r))){var a=kv(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function S2(e,t,n){return{v:e,ixfe:t,t:n}}function eAt(e,t){var n={opts:{}},r={},a=t.dense?[]:{},i={},o={},s=null,l=[],u="",c={},f,d="",h,p,v,g,m={},y=[],b,x,_=[],S=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},T=function(_t){return _t<8?Uv[_t]:_t<64&&S[_t-8]||Uv[_t]},E=function(_t,ln,Ne){var nt=ln.XF.data;if(!(!nt||!nt.patternType||!Ne||!Ne.cellStyles)){ln.s={},ln.s.patternType=nt.patternType;var _e;(_e=Lw(T(nt.icvFore)))&&(ln.s.fgColor={rgb:_e}),(_e=Lw(T(nt.icvBack)))&&(ln.s.bgColor={rgb:_e})}},I=function(_t,ln,Ne){if(!(U>1)&&!(Ne.sheetRows&&_t.r>=Ne.sheetRows)){if(Ne.cellStyles&&ln.XF&&ln.XF.data&&E(_t,ln,Ne),delete ln.ixfe,delete ln.XF,f=_t,d=$n(_t),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),_t.r<o.s.r&&(o.s.r=_t.r),_t.c<o.s.c&&(o.s.c=_t.c),_t.r+1>o.e.r&&(o.e.r=_t.r+1),_t.c+1>o.e.c&&(o.e.c=_t.c+1),Ne.cellFormula&&ln.f){for(var nt=0;nt<y.length;++nt)if(!(y[nt][0].s.c>_t.c||y[nt][0].s.r>_t.r)&&!(y[nt][0].e.c<_t.c||y[nt][0].e.r<_t.r)){ln.F=br(y[nt][0]),(y[nt][0].s.c!=_t.c||y[nt][0].s.r!=_t.r)&&delete ln.f,ln.f&&(ln.f=""+lo(y[nt][1],o,_t,M,A));break}}Ne.dense?(a[_t.r]||(a[_t.r]=[]),a[_t.r][_t.c]=ln):a[d]=ln}},A={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(A.password=t.password);var N,L=[],R=[],D=[],P=[],O=!1,M=[];M.SheetNames=A.snames,M.sharedf=A.sharedf,M.arrayf=A.arrayf,M.names=[],M.XTI=[];var W=0,U=0,V=0,H=[],K=[],j;A.codepage=1200,yu(1200);for(var ne=!1;e.l<e.length-1;){var Q=e.l,oe=e.read_shift(2);if(oe===0&&W===10)break;var ae=e.l===e.length?0:e.read_shift(2),me=wF[oe];if(me&&me.f){if(t.bookSheets&&W===133&&oe!==133)break;if(W=oe,me.r===2||me.r==12){var ve=e.read_shift(2);if(ae-=2,!A.enc&&ve!==oe&&((ve&255)<<8|ve>>8)!==oe)throw new Error("rt mismatch: "+ve+"!="+oe);me.r==12&&(e.l+=10,ae-=10)}var B={};if(oe===10?B=me.f(e,ae,A):B=QEt(oe,me,e,ae,A),U==0&&[9,521,1033,2057].indexOf(W)===-1)continue;switch(oe){case 34:n.opts.Date1904=C.WBProps.date1904=B;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(A.enc||(e.l=0),A.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=B;break;case 66:var re=Number(B);switch(re){case 21010:re=1200;break;case 32768:re=1e4;break;case 32769:re=1252;break}yu(A.codepage=re),ne=!0;break;case 317:A.rrtabid=B;break;case 25:A.winlocked=B;break;case 439:n.opts.RefreshAll=B;break;case 12:n.opts.CalcCount=B;break;case 16:n.opts.CalcDelta=B;break;case 17:n.opts.CalcIter=B;break;case 13:n.opts.CalcMode=B;break;case 14:n.opts.CalcPrecision=B;break;case 95:n.opts.CalcSaveRecalc=B;break;case 15:A.CalcRefMode=B;break;case 2211:n.opts.FullCalc=B;break;case 129:B.fDialog&&(a["!type"]="dialog"),B.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),B.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(B);break;case 430:M.push([B]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(B);break;case 24:case 536:j={Name:B.Name,Ref:lo(B.rgce,o,null,M,A)},B.itab>0&&(j.Sheet=B.itab-1),M.names.push(j),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(K[B.itab-1]={ref:br(B.rgce[0][0][1][2])});break;case 22:A.ExternCount=B;break;case 23:M.length==0&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(B),M.XTI=M.XTI.concat(B);break;case 2196:if(A.biff<8)break;j!=null&&(j.Comment=B[1]);break;case 18:a["!protect"]=B;break;case 19:B!==0&&A.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,A.snames.push(B.name);break;case 10:{if(--U)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=br(o),t.sheetRows&&t.sheetRows<=o.e.r){var ge=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=br(o),o.e.r=ge}o.e.r++,o.e.c++}L.length>0&&(a["!merges"]=L),R.length>0&&(a["!objects"]=R),D.length>0&&(a["!cols"]=D),P.length>0&&(a["!rows"]=P),C.Sheets.push(k)}u===""?c=a:r[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[oe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),A.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(A.biff=5,ne=!0,yu(A.codepage=28591)),A.biff==8&&B.BIFFVer==0&&B.dt==16&&(A.biff=2),U++)break;if(a=t.dense?[]:{},A.biff<8&&!ne&&(ne=!0,yu(A.codepage=t.codepage||1252)),A.biff<5||B.BIFFVer==0&&B.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ie={pos:e.l-ae,name:u};i[Ie.pos]=Ie,A.snames.push(u)}else u=(i[Q]||{name:""}).name;B.dt==32&&(a["!type"]="chart"),B.dt==64&&(a["!type"]="macro"),L=[],R=[],A.arrayf=y=[],D=[],P=[],O=!1,k={Hidden:(i[Q]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[B.r]||[])[B.c]:a[$n({c:B.c,r:B.r})])&&++B.c,b={ixfe:B.ixfe,XF:_[B.ixfe]||{},v:B.val,t:"n"},V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I({c:B.c,r:B.r},b,t);break;case 5:case 517:b={ixfe:B.ixfe,XF:_[B.ixfe],v:B.val,t:B.t},V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I({c:B.c,r:B.r},b,t);break;case 638:b={ixfe:B.ixfe,XF:_[B.ixfe],v:B.rknum,t:"n"},V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I({c:B.c,r:B.r},b,t);break;case 189:for(var Ce=B.c;Ce<=B.C;++Ce){var he=B.rkrec[Ce-B.c][0];b={ixfe:he,XF:_[he],v:B.rkrec[Ce-B.c][1],t:"n"},V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I({c:Ce,r:B.r},b,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){s=B;break}if(b=S2(B.val,B.cell.ixfe,B.tt),b.XF=_[b.ixfe],t.cellFormula){var J=B.formula;if(J&&J[0]&&J[0][0]&&J[0][0][0]=="PtgExp"){var te=J[0][0][1][0],xe=J[0][0][1][1],Ee=$n({r:te,c:xe});m[Ee]?b.f=""+lo(B.formula,o,B.cell,M,A):b.F=((t.dense?(a[te]||[])[xe]:a[Ee])||{}).F}else b.f=""+lo(B.formula,o,B.cell,M,A)}V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I(B.cell,b,t),s=B}break;case 7:case 519:if(s)s.val=B,b=S2(B,s.cell.ixfe,"s"),b.XF=_[b.ixfe],t.cellFormula&&(b.f=""+lo(s.formula,o,s.cell,M,A)),V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I(s.cell,b,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(B);var Qe=$n(B[0].s);if(h=t.dense?(a[B[0].s.r]||[])[B[0].s.c]:a[Qe],t.cellFormula&&h){if(!s||!Qe||!h)break;h.f=""+lo(B[1],o,B[0],M,A),h.F=br(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(d){if(!s)break;m[$n(s.cell)]=B[0],h=t.dense?(a[s.cell.r]||[])[s.cell.c]:a[$n(s.cell)],(h||{}).f=""+lo(B[0],o,f,M,A)}}break;case 253:b=S2(l[B.isst].t,B.ixfe,"s"),l[B.isst].h&&(b.h=l[B.isst].h),b.XF=_[b.ixfe],V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I({c:B.c,r:B.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:B.ixfe,XF:_[B.ixfe],t:"z"},V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I({c:B.c,r:B.r},b,t));break;case 190:if(t.sheetStubs)for(var Be=B.c;Be<=B.C;++Be){var ce=B.ixfe[Be-B.c];b={ixfe:ce,XF:_[ce],t:"z"},V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I({c:Be,r:B.r},b,t)}break;case 214:case 516:case 4:b=S2(B.val,B.ixfe,"s"),b.XF=_[b.ixfe],V>0&&(b.z=H[b.ixfe>>8&63]),qu(b,t,n.opts.Date1904),I({c:B.c,r:B.r},b,t);break;case 0:case 512:U===1&&(o=B);break;case 252:l=B;break;case 1054:if(A.biff==4){H[V++]=B[1];for(var Re=0;Re<V+163&&Pn[Re]!=B[1];++Re);Re>=163&&Hv(B[1],V+163)}else Hv(B[1],B[0]);break;case 30:{H[V++]=B;for(var ct=0;ct<V+163&&Pn[ct]!=B;++ct);ct>=163&&Hv(B,V+163)}break;case 229:L=L.concat(B);break;case 93:R[B.cmo[0]]=A.lastobj=B;break;case 438:A.lastobj.TxO=B;break;case 127:A.lastobj.ImData=B;break;case 440:for(g=B[0].s.r;g<=B[0].e.r;++g)for(v=B[0].s.c;v<=B[0].e.c;++v)h=t.dense?(a[g]||[])[v]:a[$n({c:v,r:g})],h&&(h.l=B[1]);break;case 2048:for(g=B[0].s.r;g<=B[0].e.r;++g)for(v=B[0].s.c;v<=B[0].e.c;++v)h=t.dense?(a[g]||[])[v]:a[$n({c:v,r:g})],h&&h.l&&(h.l.Tooltip=B[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;h=t.dense?(a[B[0].r]||[])[B[0].c]:a[$n(B[0])];var It=R[B[2]];h||(t.dense?(a[B[0].r]||(a[B[0].r]=[]),h=a[B[0].r][B[0].c]={t:"z"}):h=a[$n(B[0])]={t:"z"},o.e.r=Math.max(o.e.r,B[0].r),o.s.r=Math.min(o.s.r,B[0].r),o.e.c=Math.max(o.e.c,B[0].c),o.s.c=Math.min(o.s.c,B[0].c)),h.c||(h.c=[]),p={a:B[1],t:It.TxO.t},h.c.push(p)}break;case 2173:_Tt(_[B.ixfe],B.ext);break;case 125:{if(!A.cellStyles)break;for(;B.e>=B.s;)D[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},O||(O=!0,D6(B.w/256)),ky(D[B.e+1])}break;case 520:{var wt={};B.level!=null&&(P[B.r]=wt,wt.level=B.level),B.hidden&&(P[B.r]=wt,wt.hidden=!0),B.hpt&&(P[B.r]=wt,wt.hpt=B.hpt,wt.hpx=Ow(B.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||bx(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[oe]]=B;break;case 161:a["!margins"]||bx(a["!margins"]={}),a["!margins"].header=B.header,a["!margins"].footer=B.footer;break;case 574:B.RTL&&(C.Views[0].RTL=!0);break;case 146:S=B;break;case 2198:N=B;break;case 140:x=B;break;case 442:u?k.CodeName=B||k.name:C.WBProps.CodeName=B||"ThisWorkbook";break}}else me||console.error("Missing Info for XLS Record 0x"+oe.toString(16)),e.l+=ae}return n.SheetNames=Hc(i).sort(function(Qt,_t){return Number(Qt)-Number(_t)}).map(function(Qt){return i[Qt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&c["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=c)):n.Preamble=c,n.Sheets&&K.forEach(function(Qt,_t){n.Sheets[n.SheetNames[_t]]["!autofilter"]=Qt}),n.Strings=l,n.SSF=Vi(Pn),A.enc&&(n.Encryption=A.enc),N&&(n.Themes=N),n.Metadata={},x!==void 0&&(n.Metadata.Country=x),M.names.length>0&&(C.Names=M.names),n.Workbook=C,n}var Gj={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function tAt(e,t,n){var r=yr.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var a=Ej(r,ySt,Gj.DSI);for(var i in a)t[i]=a[i]}catch(u){if(n.WTF)throw u}var o=yr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=Ej(o,bSt,Gj.SI);for(var l in s)t[l]==null&&(t[l]=s[l])}catch(u){if(n.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(gve(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function Qve(e,t){t||(t={}),L6(t),Epe(),t.codepage&&h6(t.codepage);var n,r;if(e.FullPaths){if(yr.find(e,"/encryption"))throw new Error("File is password-protected");n=yr.find(e,"!CompObj"),r=yr.find(e,"/Workbook")||yr.find(e,"/Book")}else{switch(t.type){case"base64":e=du(Zs(e));break;case"binary":e=du(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Li(e,0),r={content:e}}var a,i;if(n&&ZEt(n),t.bookProps&&!t.bookSheets)a={};else{var o=fr?"buffer":"array";if(r&&r.content)a=eAt(r.content,t);else if((i=yr.find(e,"PerfectOffice_MAIN"))&&i.content)a=mx.to_workbook(i.content,(t.type=o,t));else if((i=yr.find(e,"NativeContent_MAIN"))&&i.content)a=mx.to_workbook(i.content,(t.type=o,t));else throw(i=yr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&yr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=VTt(e))}var s={};return e.FullPaths&&tAt(e,s,t),a.Props=a.Custprops=s,t.bookFiles&&(a.cfb=e),a}var tE={0:{f:OIt},1:{f:VIt},2:{f:XIt},3:{f:UIt},4:{f:WIt},5:{f:YIt},6:{f:JIt},7:{f:KIt},8:{f:rEt},9:{f:nEt},10:{f:eEt},11:{f:tEt},12:{f:zIt},13:{f:qIt},14:{f:GIt},15:{f:HIt},16:{f:Yve},17:{f:QIt},18:{f:jIt},19:{f:C6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:DEt},40:{},42:{},43:{f:eTt},44:{f:Q2t},45:{f:tTt},46:{f:rTt},47:{f:nTt},48:{},49:{f:aSt},50:{},51:{f:CTt},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Eve},62:{f:ZIt},63:{f:ATt},64:{f:dEt},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:So,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:fEt},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:BIt},148:{f:PIt,p:16},151:{f:oEt},152:{},153:{f:EEt},154:{},155:{},156:{f:IEt},157:{},158:{},159:{T:1,f:b2t},160:{T:-1},161:{T:1,f:e0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:aEt},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:STt},336:{T:-1},337:{f:TTt,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:gF},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Ive},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:sEt},427:{f:lEt},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:cEt},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:FIt},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:iEt},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:gF},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:PTt},633:{T:1},634:{T:-1},635:{T:1,f:OTt},636:{T:-1},637:{f:oSt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:yEt},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:hEt},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},wF={6:{f:SM},10:{f:_d},12:{f:Pa},13:{f:Pa},14:{f:Ia},15:{f:Ia},16:{f:go},17:{f:Ia},18:{f:Ia},19:{f:Pa},20:{f:Rj},21:{f:Rj},23:{f:Ive},24:{f:$j},25:{f:Ia},26:{},27:{},28:{f:$Ct},29:{},34:{f:Ia},35:{f:Mj},38:{f:go},39:{f:go},40:{f:go},41:{f:go},42:{f:Ia},43:{f:Ia},47:{f:F2t},49:{f:vCt},51:{f:Pa},60:{},61:{f:dCt},64:{f:Ia},65:{f:pCt},66:{f:Pa},77:{},80:{},81:{},82:{},85:{f:Pa},89:{},90:{},91:{},92:{f:aCt},93:{f:OCt},94:{},95:{f:Ia},96:{},97:{},99:{f:Ia},125:{f:Eve},128:{f:TCt},129:{f:iCt},130:{f:Pa},131:{f:Ia},132:{f:Ia},133:{f:oCt},134:{},140:{f:WCt},141:{f:Pa},144:{},146:{f:UCt},151:{},152:{},153:{},154:{},155:{},156:{f:Pa},157:{},158:{},160:{f:XCt},161:{f:KCt},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:wCt},190:{f:_Ct},193:{f:_d},197:{},198:{},199:{},200:{},201:{},202:{f:Ia},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Pa},220:{},221:{f:Ia},222:{},224:{f:CCt},225:{f:rCt},226:{f:_d},227:{},229:{f:LCt},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:sCt},253:{f:gCt},255:{f:lCt},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:wve},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ia},353:{f:_d},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:ICt},431:{f:Ia},432:{},433:{},434:{},437:{},438:{f:BCt},439:{f:Ia},440:{f:VCt},441:{},442:{f:rC},443:{},444:{f:Pa},445:{},446:{},448:{f:_d},449:{f:fCt,r:2},450:{f:_d},512:{f:Dj},513:{f:YCt},515:{f:kCt},516:{f:mCt},517:{f:Nj},519:{f:qCt},520:{f:uCt},523:{},545:{f:Lj},549:{f:Aj},566:{},574:{f:hCt},638:{f:xCt},659:{},1048:{},1054:{f:yCt},1084:{},1212:{f:NCt},2048:{f:zCt},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:x2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:_d},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:GCt,r:12},2173:{f:wTt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ia,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:DCt,r:12},2197:{},2198:{f:vTt,r:12},2199:{},2200:{},2201:{},2202:{f:RCt,r:12},2203:{f:_d},2204:{},2205:{},2206:{},2207:{},2211:{f:cCt},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Pa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:jCt},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:HCt},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Dj},1:{},2:{f:e2t},3:{f:QCt},4:{f:JCt},5:{f:Nj},7:{f:t2t},8:{},9:{f:x2},11:{},22:{f:Pa},30:{f:bCt},31:{},32:{},33:{f:Lj},36:{},37:{f:Aj},50:{f:n2t},62:{},52:{},67:{},68:{f:Pa},69:{},86:{},126:{},127:{f:ZCt},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:r2t},223:{},234:{},354:{},421:{},518:{f:SM},521:{f:x2},536:{f:$j},547:{f:Mj},561:{},579:{},1030:{f:SM},1033:{f:x2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ql(e,t,n,r){var a=t;if(!isNaN(a)){var i=(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&lve(n)&&e.push(n)}}function Kj(e,t){var n=t,r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,s=i&&i.index||e.length,l=k_t(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<l.length;++o){var v=l[o].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}c=0;continue}if(!(g!="<td"&&g!="<th")){var m=v.split(/<\/t[dh]>/i);for(s=0;s<m.length;++s){var y=m[s].trim();if(y.match(/<t[dh]/i)){for(var b=y,x=0;b.charAt(0)=="<"&&(x=b.indexOf(">"))>-1;)b=b.slice(x+1);for(var _=0;_<p.length;++_){var S=p[_];S.s.c==c&&S.s.r<u&&u<=S.e.r&&(c=S.e.c+1,_=-1)}var C=In(y.slice(0,y.indexOf(">")));d=C.colspan?+C.colspan:1,((f=+C.rowspan)>1||d>1)&&p.push({s:{r:u,c},e:{r:u+(f||1)-1,c:c+d-1}});var k=C.t||C["data-t"]||"";if(!b.length){c+=d;continue}if(b=Xpe(b),h.s.r>u&&(h.s.r=u),h.e.r<u&&(h.e.r=u),h.s.c>c&&(h.s.c=c),h.e.c<c&&(h.e.c=c),!b.length){c+=d;continue}var T={t:"s",v:b};n.raw||!b.trim().length||k=="s"||(b==="TRUE"?T={t:"b",v:!0}:b==="FALSE"?T={t:"b",v:!1}:isNaN(Iu(b))?isNaN(Ty(b).getDate())||(T={t:"d",v:ki(b)},n.cellDates||(T={t:"n",v:as(T.v)}),T.z=n.dateNF||Pn[14]):T={t:"n",v:Iu(b)}),n.dense?(r[u]||(r[u]=[]),r[u][c]=T):r[$n({r:u,c})]=T,c+=d}}}}return r["!ref"]=br(h),p.length&&(r["!merges"]=p),r}function nAt(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>n||a[u].s.c>o)&&!(a[u].e.r<n||a[u].e.c<o)){if(a[u].s.r<n||a[u].s.c<o){s=-1;break}s=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(s<0)){var c=$n({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[c],d=f&&f.v!=null&&(f.h||b6(f.w||(Xf(f),f.w)||""))||"",h={};s>1&&(h.rowspan=s),l>1&&(h.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(r.id||"sjs")+"-"+c,i.push(W_t("td",d,h))}}var p="<tr>";return p+i.join("")+"</tr>"}var rAt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',aAt="</body></html>";function iAt(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return vp(Kj(n[0],t),t);var r=P6();return n.forEach(function(a,i){F6(r,Kj(a,t),"Sheet"+(i+1))}),r}function oAt(e,t,n){var r=[];return r.join("")+"<table"+(n.id?' id="'+n.id+'"':"")+">"}function sAt(e,t){var n=t||{},r=n.header!=null?n.header:rAt,a=n.footer!=null?n.footer:aAt,i=[r],o=h1(e["!ref"]);n.dense=Array.isArray(e),i.push(oAt(e,o,n));for(var s=o.s.r;s<=o.e.r;++s)i.push(nAt(e,o,s,n));return i.push("</table>"+a),i.join("")}function ege(e,t,n){var r=n||{},a=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?jo(r.origin):r.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var c=h1(e["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),a==-1&&(u.e.r=a=c.e.r+1)}var f=[],d=0,h=e["!rows"]||(e["!rows"]=[]),p=0,v=0,g=0,m=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&v<l;++p){var x=s[p];if(jj(x)){if(r.display)continue;h[v]={hidden:!0}}var _=x.children;for(g=m=0;g<_.length;++g){var S=_[g];if(!(r.display&&jj(S))){var C=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):Xpe(S.innerHTML),k=S.getAttribute("data-z")||S.getAttribute("z");for(d=0;d<f.length;++d){var T=f[d];T.s.c==m+i&&T.s.r<v+a&&v+a<=T.e.r&&(m=T.e.c+1-i,d=-1)}b=+S.getAttribute("colspan")||1,((y=+S.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:v+a,c:m+i},e:{r:v+a+(y||1)-1,c:m+i+(b||1)-1}});var E={t:"s",v:C},I=S.getAttribute("data-t")||S.getAttribute("t")||"";C!=null&&(C.length==0?E.t=I||"z":r.raw||C.trim().length==0||I=="s"||(C==="TRUE"?E={t:"b",v:!0}:C==="FALSE"?E={t:"b",v:!1}:isNaN(Iu(C))?isNaN(Ty(C).getDate())||(E={t:"d",v:ki(C)},r.cellDates||(E={t:"n",v:as(E.v)}),E.z=r.dateNF||Pn[14]):E={t:"n",v:Iu(C)})),E.z===void 0&&k!=null&&(E.z=k);var A="",N=S.getElementsByTagName("A");if(N&&N.length)for(var L=0;L<N.length&&!(N[L].hasAttribute("href")&&(A=N[L].getAttribute("href"),A.charAt(0)!="#"));++L);A&&A.charAt(0)!="#"&&(E.l={Target:A}),r.dense?(e[v+a]||(e[v+a]=[]),e[v+a][m+i]=E):e[$n({c:m+i,r:v+a})]=E,u.e.c<m+i&&(u.e.c=m+i),m+=b}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,v-1+a),e["!ref"]=br(u),v>=l&&(e["!fullref"]=br((u.e.r=s.length-p+v-1+a,u))),e}function tge(e,t){var n=t||{},r=n.dense?[]:{};return ege(r,e,t)}function lAt(e,t){return vp(tge(e,t),t)}function jj(e){var t="",n=uAt(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function uAt(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function cAt(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Sr(t.replace(/<[^>]*>/g,""));return[n]}var Yj={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function nge(e,t){var n=t||{},r=x6(e),a=[],i,o,s={name:""},l="",u=0,c,f,d={},h=[],p=n.dense?[]:{},v,g,m={value:""},y="",b=0,x=[],_=-1,S=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,T={},E=[],I={},A=0,N=0,L=[],R=1,D=1,P=[],O={Names:[]},M={},W=["",""],U=[],V={},H="",K=0,j=!1,ne=!1,Q=0;for(Mw.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Mw.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?p["!ref"]=br(C):p["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=C.e.r&&(p["!fullref"]=p["!ref"],C.e.r=n.sheetRows-1,p["!ref"]=br(C)),E.length&&(p["!merges"]=E),L.length&&(p["!rows"]=L),c.name=c.||c.name,typeof JSON<"u"&&JSON.stringify(c),h.push(c.name),d[c.name]=p,ne=!1):v[0].charAt(v[0].length-2)!=="/"&&(c=In(v[0],!1),_=S=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,p=n.dense?[]:{},E=[],L=[],ne=!0);break;case"table-row-group":v[1]==="/"?--k:++k;break;case"table-row":case"":if(v[1]==="/"){_+=R,R=1;break}if(f=In(v[0],!1),f.?_=f.-1:_==-1&&(_=0),R=+f["number-rows-repeated"]||1,R<10)for(Q=0;Q<R;++Q)k>0&&(L[_+Q]={level:k});S=-1;break;case"covered-table-cell":v[1]!=="/"&&++S,n.sheetStubs&&(n.dense?(p[_]||(p[_]=[]),p[_][S]={t:"z"}):p[$n({r:_,c:S})]={t:"z"}),y="",x=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++S,m=In(v[0],!1),D=parseInt(m["number-columns-repeated"]||"1",10),g={t:"z",v:null},m.formula&&n.cellFormula!=!1&&(g.f=Wj(Sr(m.formula))),(m.||m["value-type"])=="string"&&(g.t="s",g.v=Sr(m["string-value"]||""),n.dense?(p[_]||(p[_]=[]),p[_][S]=g):p[$n({r:_,c:S})]=g),S+=D-1;else if(v[1]!=="/"){++S,y="",b=0,x=[],D=1;var oe=R?_+R-1:_;if(S>C.e.c&&(C.e.c=S),S<C.s.c&&(C.s.c=S),_<C.s.r&&(C.s.r=_),oe>C.e.r&&(C.e.r=oe),m=In(v[0],!1),U=[],V={},g={t:m.||m["value-type"],v:null},n.cellFormula)if(m.formula&&(m.formula=Sr(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(A=parseInt(m["number-matrix-rows-spanned"],10)||0,N=parseInt(m["number-matrix-columns-spanned"],10)||0,I={s:{r:_,c:S},e:{r:_+A-1,c:S+N-1}},g.F=br(I),P.push([I,g.F])),m.formula)g.f=Wj(m.formula);else for(Q=0;Q<P.length;++Q)_>=P[Q][0].s.r&&_<=P[Q][0].e.r&&S>=P[Q][0].s.c&&S<=P[Q][0].e.c&&(g.F=P[Q][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(A=parseInt(m["number-rows-spanned"],10)||0,N=parseInt(m["number-columns-spanned"],10)||0,I={s:{r:_,c:S},e:{r:_+A-1,c:S+N-1}},E.push(I)),m["number-columns-repeated"]&&(D=parseInt(m["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=ua(m["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(m.value);break;case"percentage":g.t="n",g.v=parseFloat(m.value);break;case"currency":g.t="n",g.v=parseFloat(m.value);break;case"date":g.t="d",g.v=ki(m["date-value"]),n.cellDates||(g.t="n",g.v=as(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=S_t(m["time-value"])/86400,n.cellDates&&(g.t="d",g.v=gN(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(m.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",m["string-value"]!=null&&(y=Sr(m["string-value"]),x=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(j=!1,g.t==="s"&&(g.v=y||"",x.length&&(g.R=x),j=b==0),M.Target&&(g.l=M),U.length>0&&(g.c=U,U=[]),y&&n.cellText!==!1&&(g.w=y),j&&(g.t="z",delete g.v),(!j||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=_))for(var ae=0;ae<R;++ae){if(D=parseInt(m["number-columns-repeated"]||"1",10),n.dense)for(p[_+ae]||(p[_+ae]=[]),p[_+ae][S]=ae==0?g:Vi(g);--D>0;)p[_+ae][S+D]=Vi(g);else for(p[$n({r:_+ae,c:S})]=g;--D>0;)p[$n({r:_+ae,c:S+D})]=Vi(g);C.e.c<=S&&(C.e.c=S)}D=parseInt(m["number-columns-repeated"]||"1",10),S+=D-1,D=0,g={},y="",x=[]}M={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;V.t=y,x.length&&(V.R=x),V.a=H,U.push(V)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);H="",K=0,y="",b=0,x=[];break;case"creator":v[1]==="/"?H=r.slice(K,v.index):K=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);y="",b=0,x=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(T[s.name]=l,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(l="",s=In(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=In(v[0],!1),l+=Yj[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=In(v[0],!1),l+=Yj[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(u,v.index);break}else u=v.index+v[0].length;break;case"named-range":o=In(v[0],!1),W=CM(o["cell-range-address"]);var me={Name:o.name,Ref:W[0]+"!"+W[1]};ne&&(me.Sheet=h.length),O.Names.push(me);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!m||!m["string-value"])){var ve=cAt(r.slice(b,v.index));y=(y.length>0?y+`
`:"")+ve[0]}else In(v[0],!1),b=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{W=CM(In(v[0])["target-range-address"]),d[W[0]]["!autofilter"]={ref:W[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(M=In(v[0],!1),!M.href)break;M.Target=Sr(M.href),delete M.href,M.Target.charAt(0)=="#"&&M.Target.indexOf(".")>-1?(W=CM(M.Target.slice(1)),M.Target="#"+W[0]+"!"+W[1]):M.Target.match(/^\.\.[\\\/]/)&&(M.Target=M.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(v)}}var B={Sheets:d,SheetNames:h,Workbook:O};return n.bookSheets&&delete B.Sheets,B}function Xj(e,t){t=t||{},dl(e,"META-INF/manifest.xml")&&kSt(Oa(e,"META-INF/manifest.xml"),t);var n=Ls(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=nge(ea(n),t);return dl(e,"meta.xml")&&(r.Props=vve(Oa(e,"meta.xml"))),r}function qj(e,t){return nge(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function M6(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _F(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ea(Jg(e))}function SF(e){var t=e.reduce(function(a,i){return a+i.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function Zj(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function fAt(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,a=t+13;a>=t;--a)r=r*256+e[a];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Pw(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function ui(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function yo(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=Pw(e,n),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var l=n[0];e[n[0]++]>=128;);s=e.slice(l,n[0])}break;case 5:o=4,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Pw(e,n),s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(r))}var u={data:s,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function $6(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function dAt(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=Pw(e,r),i=yo(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:ui(i[1][0].data),messages:[]};i[2].forEach(function(s){var l=yo(s.data),u=ui(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+u)}),r[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=ui(i[3][0].data)>>>0>0),n.push(o)}return n}function hAt(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Pw(t,n),a=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[n[0]],s>1&&(o|=t[n[0]+1]<<8),s>2&&(o|=t[n[0]+2]<<16),s>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=s}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,i==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[SF(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var c=SF(a);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function pAt(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(hAt(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return SF(t)}function vAt(e,t,n,r){var a=M6(e),i=a.getUint32(4,!0),o=(r>1?12:8)+Zj(i&(r>1?3470:398))*4,s=-1,l=-1,u=NaN,c=new Date(2001,0,1);i&512&&(s=a.getUint32(o,!0),o+=4),o+=Zj(i&(r>1?12288:4096))*4,i&16&&(l=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(c.setTime(c.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:n[s]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function gAt(e,t,n){var r=M6(e),a=r.getUint32(8,!0),i=12,o=-1,s=-1,l=NaN,u=NaN,c=new Date(2001,0,1);a&1&&(l=fAt(e,i),i+=16),a&2&&(u=r.getFloat64(i,!0),i+=8),a&4&&(c.setTime(c.getTime()+r.getFloat64(i,!0)*1e3),i+=8),a&8&&(s=r.getUint32(i,!0),i+=4),a&16&&(o=r.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function mAt(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return vAt(e,t,n,e[0]);case 5:return gAt(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function mh(e){var t=yo(e);return Pw(t[1][0].data)}function Jj(e,t){var n=yo(t.data),r=ui(n[1][0].data),a=n[3],i=[];return(a||[]).forEach(function(o){var s=yo(o.data),l=ui(s[1][0].data)>>>0;switch(r){case 1:i[l]=_F(s[3][0].data);break;case 8:{var u=e[mh(s[9][0].data)][0],c=yo(u.data),f=e[mh(c[1][0].data)][0],d=ui(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=yo(f.data);i[l]=h[3].map(function(p){return _F(p.data)}).join("")}break}}),i}function yAt(e,t){var n,r,a,i,o,s,l,u,c,f,d,h,p,v,g=yo(e),m=ui(g[1][0].data)>>>0,y=ui(g[2][0].data)>>>0,b=((r=(n=g[8])==null?void 0:n[0])==null?void 0:r.data)&&ui(g[8][0].data)>0||!1,x,_;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&t!=0)x=(s=(o=g[7])==null?void 0:o[0])==null?void 0:s.data,_=(u=(l=g[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(c=g[4])==null?void 0:c[0])!=null&&f.data&&t!=1)x=(h=(d=g[4])==null?void 0:d[0])==null?void 0:h.data,_=(v=(p=g[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=b?4:1,C=M6(x),k=[],T=0;T<x.length/2;++T){var E=C.getUint16(T*2,!0);E<65535&&k.push([T,E])}if(k.length!=y)throw"Expected ".concat(y," cells, found ").concat(k.length);var I=[];for(T=0;T<k.length-1;++T)I[k[T][0]]=_.subarray(k[T][1]*S,k[T+1][1]*S);return k.length>=1&&(I[k[k.length-1][0]]=_.subarray(k[k.length-1][1]*S)),{R:m,cells:I}}function bAt(e,t){var n,r=yo(t.data),a=(n=r==null?void 0:r[7])!=null&&n[0]?ui(r[7][0].data)>>>0>0?1:0:-1,i=$6(r[5],function(o){return yAt(o,a)});return{nrows:ui(r[4][0].data)>>>0,data:i.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(l,u){if(o[s.R][u])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(u));o[s.R][u]=l}),o},[])}}function xAt(e,t,n){var r,a=yo(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ui(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ui(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));n["!ref"]=br(i);var o=yo(a[4][0].data),s=Jj(e,e[mh(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?Jj(e,e[mh(o[17][0].data)][0]):[],u=yo(o[3][0].data),c=0;u[1].forEach(function(f){var d=yo(f.data),h=e[mh(d[2][0].data)][0],p=ui(h.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=bAt(e,h);v.data.forEach(function(g,m){g.forEach(function(y,b){var x=$n({r:c+m,c:b}),_=mAt(y,s,l);_&&(n[x]=_)})}),c+=v.nrows})}function wAt(e,t){var n=yo(t.data),r={"!ref":"A1"},a=e[mh(n[2][0].data)],i=ui(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return xAt(e,a[0],r),r}function _At(e,t){var n,r=yo(t.data),a={name:(n=r[1])!=null&&n[0]?_F(r[1][0].data):"",sheets:[]},i=$6(r[2],mh);return i.forEach(function(o){e[o].forEach(function(s){var l=ui(s.meta[1][0].data);l==6e3&&a.sheets.push(wAt(e,s))})}),a}function SAt(e,t){var n=P6(),r=yo(t.data),a=$6(r[1],mh);if(a.forEach(function(i){e[i].forEach(function(o){var s=ui(o.meta[1][0].data);if(s==2){var l=_At(e,o);l.sheets.forEach(function(u,c){F6(n,u,c==0?l.name:l.name+"_"+c,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function kM(e){var t,n,r,a,i={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=pAt(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var c;try{c=dAt(u)}catch(f){return console.log("## "+(f.message||f))}c.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((a=(r=(n=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:a[0].data)&&ui(i[1][0].meta[1][0].data)==1&&i[1][0];if(s||o.forEach(function(l){i[l].forEach(function(u){var c=ui(u.meta[1][0].data)>>>0;if(c==1)if(!s)s=u;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return SAt(i,s)}function CAt(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function L6(e){CAt([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function TAt(e){return pm.WS.indexOf(e)>-1?"sheet":e==pm.CS?"chart":e==pm.DS?"dialog":e==pm.MS?"macro":e&&e.length?e:"sheet"}function kAt(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,TAt(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function IAt(e,t,n,r,a,i,o,s,l,u,c,f){try{i[r]=vx(Ls(e,n,!0),t);var d=Oa(e,t),h;switch(s){case"sheet":h=MEt(d,t,a,l,i[r],u,c,f);break;case"chart":if(h=$Et(d,t,a,l,i[r],u,c,f),!h||!h["!drawel"])break;var p=Lb(h["!drawel"].Target,t),v=mF(p),g=RTt(Ls(e,p,!0),vx(Ls(e,v,!0),p)),m=Lb(g,p),y=mF(m);h=gEt(Ls(e,m,!0),m,l,vx(Ls(e,y,!0),m),u,h);break;case"macro":h=LEt(d,t,a,l,i[r],u,c,f);break;case"dialog":h=OEt(d,t,a,l,i[r],u,c,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[r]=h;var b=[];i&&i[r]&&Hc(i[r]).forEach(function(x){var _="";if(i[r][x].Type==pm.CMNT){_=Lb(i[r][x].Target,t);var S=VEt(Oa(e,_,!0),_,l);if(!S||!S.length)return;Pj(h,S,!1)}i[r][x].Type==pm.TCMNT&&(_=Lb(i[r][x].Target,t),b=b.concat($Tt(Oa(e,_,!0),l)))}),b&&b.length&&Pj(h,b,!0,l.people||[])}catch(x){if(l.WTF)throw x}}function rl(e){return e.charAt(0)=="/"?e.slice(1):e}function EAt(e,t){if(Vpe(),t=t||{},L6(t),dl(e,"META-INF/manifest.xml")||dl(e,"objectdata.xml"))return Xj(e,t);if(dl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof kM<"u"){if(e.FileIndex)return kM(e);var n=yr.utils.cfb_new();return cj(e).forEach(function(L){A_t(n,L,E_t(e,L))}),kM(n)}throw new Error("Unsupported NUMBERS file")}if(!dl(e,"[Content_Types].xml"))throw dl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):dl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=cj(e),a=CSt(Ls(e,"[Content_Types].xml")),i=!1,o,s;if(a.workbooks.length===0&&(s="xl/workbook.xml",Oa(e,s,!0)&&a.workbooks.push(s)),a.workbooks.length===0){if(s="xl/workbook.bin",!Oa(e,s,!0))throw new Error("Could not find workbook");a.workbooks.push(s),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(yx=[],a.sst)try{yx=BEt(Oa(e,rl(a.sst)),a.sst,t)}catch(L){if(t.WTF)throw L}t.cellStyles&&a.themes.length&&(l=FEt(Ls(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=PEt(Oa(e,rl(a.style)),a.style,l,t))}a.links.map(function(L){try{var R=vx(Ls(e,mF(rl(L))),L);return WEt(Oa(e,rl(L)),R,L,t)}catch{}});var c=REt(Oa(e,rl(a.workbooks[0])),a.workbooks[0],t),f={},d="";a.coreprops.length&&(d=Oa(e,rl(a.coreprops[0]),!0),d&&(f=vve(d)),a.extprops.length!==0&&(d=Oa(e,rl(a.extprops[0]),!0),d&&ASt(d,f,t)));var h={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(d=Ls(e,rl(a.custprops[0]),!0),d&&(h=NSt(d,t)));var p={};if((t.bookSheets||t.bookProps)&&(c.Sheets?o=c.Sheets.map(function(R){return R.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=h),t.bookSheets&&typeof o<"u"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var v={};t.bookDeps&&a.calcchain&&(v=zEt(Oa(e,rl(a.calcchain)),a.calcchain));var g=0,m={},y,b;{var x=c.Sheets;f.Worksheets=x.length,f.SheetNames=[];for(var _=0;_!=x.length;++_)f.SheetNames[_]=x[_].name}var S=i?"bin":"xml",C=a.workbooks[0].lastIndexOf("/"),k=(a.workbooks[0].slice(0,C+1)+"_rels/"+a.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");dl(e,k)||(k="xl/_rels/workbook."+S+".rels");var T=vx(Ls(e,k,!0),k.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=HEt(Oa(e,rl(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=LTt(Oa(e,rl(a.people[0])),t)),T&&(T=kAt(T,c.Sheets));var E=Oa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var I="sheet";if(T&&T[g]?(y="xl/"+T[g][1].replace(/[\/]?xl\//,""),dl(e,y)||(y=T[g][1]),dl(e,y)||(y=k.replace(/_rels\/.*$/,"")+T[g][1]),I=T[g][2]):(y="xl/worksheets/sheet"+(g+1-E)+"."+S,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,N=0;N!=t.sheets.length;++N)typeof t.sheets[N]=="number"&&t.sheets[N]==g&&(A=1),typeof t.sheets[N]=="string"&&t.sheets[N].toLowerCase()==f.SheetNames[g].toLowerCase()&&(A=1);if(!A)continue e}}IAt(e,y,b,f.SheetNames[g],g,m,o,I,t,c,l,u)}return p={Directory:a,Workbook:c,Props:f,Custprops:h,Deps:v,Sheets:o,SheetNames:f.SheetNames,Strings:yx,Styles:u,Themes:l,SSF:Vi(Pn)},t&&t.bookFiles&&(e.files?(p.keys=r,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(L,R){L=L.replace(/^Root Entry[\/]/,""),p.keys.push(L),p.files[L]=e.FileIndex[R]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=Oa(e,rl(a.vba[0]),!0):a.defaults&&a.defaults.bin===BTt&&(p.vbaraw=Oa(e,"xl/vbaProject.bin",!0))),p}function AAt(e,t){var n=t||{},r="Workbook",a=yr.find(e,r);try{if(r="/!DataSpaces/Version",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(w2t(a.content),r="/!DataSpaces/DataSpaceMap",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=S2t(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=C2t(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);k2t(a.content)}catch{}if(r="/EncryptionInfo",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=I2t(a.content);if(r="/EncryptedPackage",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],a.content,n.password||"",n);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],a.content,n.password||"",n);throw new Error("File is password-protected")}function O6(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Zs(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function DAt(e,t){return yr.find(e,"EncryptedPackage")?AAt(e,t):Qve(e,t)}function NAt(e,t){var n,r=e,a=t||{};return a.type||(a.type=fr&&Buffer.isBuffer(e)?"buffer":"base64"),n=Kpe(r,a),EAt(n,a)}function rge(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return xF(e.slice(n),t);default:break e}return $w.to_workbook(e,t)}function RAt(e,t){var n="",r=O6(e,t);switch(t.type){case"base64":n=Zs(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=kg(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=ea(n)),t.type="binary",rge(n,t)}function MAt(e,t){var n=e;return t.type=="base64"&&(n=Zs(n)),n=Dw.utils.decode(1200,n.slice(2),"str"),t.type="binary",rge(n,t)}function $At(e){return e.match(/[^\x00-\x7F]/)?Ob(e):e}function IM(e,t,n,r){return r?(n.type="string",$w.to_workbook(e,n)):$w.to_workbook(t,n)}function CF(e,t){Epe();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return CF(new Uint8Array(e),(n=Vi(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,a=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Fm={},n.dateNF&&(Fm.dateNF=n.dateNF),n.type||(n.type=fr&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=fr?"buffer":"binary",r=w_t(e),typeof Uint8Array<"u"&&!fr&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,r=$At(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return n=Vi(n),n.type="array",CF(p6(r),n)}switch((a=O6(r,n))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return DAt(yr.read(r,n),n);break;case 9:if(a[1]<=8)return Qve(r,n);break;case 60:return xF(r,n);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return l2t(r,n);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return o2t.to_workbook(r,n);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?NAt(r,n):IM(e,r,n,i);case 239:return a[3]===60?xF(r,n):IM(e,r,n,i);case 255:if(a[1]===254)return MAt(r,n);if(a[1]===0&&a[2]===2&&a[3]===0)return mx.to_workbook(r,n);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return mx.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return Oj.to_workbook(r,n);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return B2t.to_workbook(r,n);break;case 10:case 13:case 32:return RAt(r,n);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return a2t.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?Oj.to_workbook(r,n):IM(e,r,n,i)}function LAt(e,t,n,r,a,i,o,s){var l=zi(n),u=s.defval,c=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,d=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch{d.__rowNum__=n}else d.__rowNum__=n;if(!o||e[n])for(var h=t.s.c;h<=t.e.c;++h){var p=o?e[n][h]:e[r[h]+l];if(p===void 0||p.t===void 0){if(u===void 0)continue;i[h]!=null&&(d[i[h]]=u);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[h]!=null){if(v==null)if(p.t=="e"&&v===null)d[i[h]]=null;else if(u!==void 0)d[i[h]]=u;else if(c&&v===null)d[i[h]]=null;else continue;else d[i[h]]=c&&(p.t!=="n"||p.t==="n"&&s.rawNumbers!==!1)?v:Xf(p,v,s);v!=null&&(f=!1)}}return{row:d,isempty:f}}function TF(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=u.range!=null?u.range:e["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof c){case"string":l=_a(c);break;case"number":l=_a(e["!ref"]),l.s.r=c;break;default:l=c}r>0&&(a=0);var f=zi(l.s.r),d=[],h=[],p=0,v=0,g=Array.isArray(e),m=l.s.r,y=0,b={};g&&!e[m]&&(e[m]=[]);var x=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(x[y]||{}).hidden)switch(d[y]=ai(y),n=g?e[m][y]:e[d[y]+f],r){case 1:i[y]=y-l.s.c;break;case 2:i[y]=d[y];break;case 3:i[y]=u.header[y-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),s=o=Xf(n,null,u),v=b[o]||0,!v)b[o]=1;else{do s=o+"_"+v++;while(b[s]);b[o]=v,b[s]=1}i[y]=s}for(m=l.s.r+a;m<=l.e.r;++m)if(!(_[m]||{}).hidden){var S=LAt(e,l,m,d,r,i,g,u);(S.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(h[p++]=S.row)}return h.length=p,h}var Qj=/"/g;function OAt(e,t,n,r,a,i,o,s){for(var l=!0,u=[],c="",f=zi(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var h=s.dense?(e[n]||[])[d]:e[r[d]+f];if(h==null)c="";else if(h.v!=null){l=!1,c=""+(s.rawNumbers&&h.t=="n"?h.v:Xf(h,null,s));for(var p=0,v=0;p!==c.length;++p)if((v=c.charCodeAt(p))===a||v===i||v===34||s.forceQuotes){c='"'+c.replace(Qj,'""')+'"';break}c=="ID"&&(c='"ID"')}else h.f!=null&&!h.F?(l=!1,c="="+h.f,c.indexOf(",")>=0&&(c='"'+c.replace(Qj,'""')+'"')):c="";u.push(c)}return s.blankrows===!1&&l?null:u.join(o)}function age(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=_a(e["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),s=r.RS!==void 0?r.RS:`
`,l=s.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),c="",f=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],h=r.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(d[p]||{}).hidden||(f[p]=ai(p));for(var v=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(c=OAt(e,a,g,f,o,l,i,r),c!=null&&(r.strip&&(c=c.replace(u,"")),(c||r.blankrows!==!1)&&n.push((v++?s:"")+c)));return delete r.dense,n.join("")}function PAt(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=age(e,t);return n}function FAt(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=_a(e["!ref"]),i="",o=[],s,l=[],u=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=ai(s);for(var c=a.s.r;c<=a.e.r;++c)for(i=zi(c),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,n=u?(e[c]||[])[s]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function ige(e,t,n){var r=n||{},a=+!r.skipHeader,i=e||{},o=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?jo(r.origin):r.origin;o=l.r,s=l.c}var u,c={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var f=_a(i["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),o==-1&&(o=f.e.r+1,c.e.r=o+t.length-1+a)}else o==-1&&(o=0,c.e.r=t.length-1+a);var d=r.header||[],h=0;t.forEach(function(v,g){Hc(v).forEach(function(m){(h=d.indexOf(m))==-1&&(d[h=d.length]=m);var y=v[m],b="z",x="",_=$n({c:s+h,r:o+g+a});u=Fw(i,_),y&&typeof y=="object"&&!(y instanceof Date)?i[_]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",r.cellDates||(b="n",y=as(y)),x=r.dateNF||Pn[14]):y===null&&r.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,x&&(u.z=x)):i[_]=u={t:b,v:y},x&&(u.z=x))})}),c.e.c=Math.max(c.e.c,s+d.length-1);var p=zi(o);if(a)for(h=0;h<d.length;++h)i[ai(h+s)+p]={t:"s",v:d[h]};return i["!ref"]=br(c),i}function BAt(e,t){return ige(null,e,t)}function Fw(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=jo(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Fw(e,$n(t)):Fw(e,$n({r:t,c:n||0}))}function VAt(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function P6(){return{SheetNames:[],Sheets:{}}}function F6(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(CEt(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function zAt(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=VAt(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function WAt(e,t){return e.z=t,e}function oge(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function HAt(e,t,n){return oge(e,"#"+t,n)}function UAt(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function GAt(e,t,n,r){for(var a=typeof t!="string"?t:_a(t),i=typeof t=="string"?t:br(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=Fw(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=n,r&&(l.D=!0))}return e}var KAt={encode_col:ai,encode_row:zi,encode_cell:$n,encode_range:br,decode_col:S6,decode_row:_6,split_cell:rSt,decode_cell:jo,decode_range:h1,format_cell:Xf,sheet_add_aoa:cve,sheet_add_json:ige,sheet_add_dom:ege,aoa_to_sheet:p1,json_to_sheet:BAt,table_to_sheet:tge,table_to_book:lAt,sheet_to_csv:age,sheet_to_txt:PAt,sheet_to_json:TF,sheet_to_html:sAt,sheet_to_formulae:FAt,sheet_to_row_object_array:TF,sheet_get_cell:Fw,book_new:P6,book_append_sheet:F6,book_set_sheet_visibility:zAt,cell_set_number_format:WAt,cell_set_hyperlink:oge,cell_set_internal_link:HAt,cell_add_comment:UAt,sheet_set_array_formula:GAt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const xN=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},jAt={class:"el-upload__text"},YAt={class:"el-upload__tip"},XAt={__name:"UploadDialog",props:{visible:{type:Boolean,required:!0}},emits:["update:visible","file-processed"],setup(e,{emit:t}){const n=t,{t:r}=pp(),a=Y(!1),i=Y(null),o=()=>{n("update:visible",!1)},s=d=>new Promise((h,p)=>{const v=new FileReader;v.onload=g=>h(g.target.result),v.onerror=g=>p(g),v.readAsText(d)}),l=d=>new Promise((h,p)=>{const v=new FileReader;v.onload=g=>h(g.target.result),v.onerror=g=>p(g),v.readAsArrayBuffer(d)}),u=d=>!d||!d.length?!1:d.every(p=>!p||!Array.isArray(p)?!1:p.length>=uc.length),c=async d=>{if(a.value||i.value===d)return!1;i.value=d,a.value=!0;try{const h=d.raw.name.toLowerCase().split(".").pop();let p=[];if(h==="csv")p=(await s(d.raw)).split(`
`).filter(b=>b.trim()).map(b=>b.split(",").map(x=>x.trim()));else if(h==="xlsx"||h==="xls"){const y=await l(d.raw),b=CF(y,{type:"array"}),x=b.Sheets[b.SheetNames[0]];p=KAt.sheet_to_json(x,{header:1})}const v=p[0],g=[],m=uc.map(y=>v.indexOf(y));if(m.some(y=>y===-1))throw new Error("");for(let y=1;y<p.length;y++){const b=p[y];if(b&&b.length){const x=m.map(_=>{const S=parseFloat(b[_]);return isNaN(S)?0:S});g.push(x)}}if(!u(g)){yi.error(r("message.uploadFail"));return}n("file-processed",g,d.raw.name),n("update:visible",!1),yi.success(r("message.uploadSuccess"))}catch(h){console.error(":",h),yi.error(r("message.uploadError"))}finally{a.value=!1,setTimeout(()=>{i.value=null},1e3)}},f=d=>(c(d),!1);return(d,h)=>{const p=Ft("el-icon"),v=Ft("el-upload"),g=Ft("el-dialog");return z(),Ae(g,{"model-value":e.visible,title:w(r)("upload.title"),onClose:o,width:"30%"},{default:fe(()=>[ie(v,{class:"upload-demo",drag:"","auto-upload":!1,"show-file-list":!1,"on-change":f,accept:".csv,.xlsx,.xls"},{tip:fe(()=>[Z("div",YAt,Ve(w(r)("upload.tip")),1)]),default:fe(()=>[ie(p,{class:"el-icon--upload"},{default:fe(()=>[ie(w(ZAe))]),_:1}),Z("div",jAt,[Kt(Ve(w(r)("upload.drag"))+" ",1),Z("em",null,Ve(w(r)("upload.or"))+Ve(w(r)("upload.click")),1)])]),_:1})]),_:1},8,["model-value","title"])}}},qAt=xN(XAt,[["__scopeId","data-v-9196b71a"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kF=function(e,t){return kF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},kF(e,t)};function Oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kF(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ZAt=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),JAt=function(){function e(){this.browser=new ZAt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Nn=new JAt;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Nn.wxa=!0,Nn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Nn.worker=!0:!Nn.hasGlobalWindow||"Deno"in window?(Nn.node=!0,Nn.svgSupported=!0):QAt(navigator.userAgent,Nn);function QAt(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]),a&&(n.ie=!0,n.version=a[1]),i&&(n.edge=!0,n.version=i[1],n.newEdge=+i[1].split(".")[0]>18),o&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}var B6=12,sge="sans-serif",Vh=B6+"px "+sge,eDt=20,tDt=100,nDt="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function rDt(e){var t={};if(typeof JSON>"u")return t;for(var n=0;n<e.length;n++){var r=String.fromCharCode(n+32),a=(e.charCodeAt(n)-eDt)/tDt;t[r]=a}return t}var aDt=rDt(nDt),zh={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,r){if(!e){var a=zh.createCanvas();e=a&&a.getContext("2d")}if(e)return t!==r&&(t=e.font=r||Vh),e.measureText(n);n=n||"",r=r||Vh;var i=/((?:\d+)?\.?\d*)px/.exec(r),o=i&&+i[1]||B6,s=0;if(r.indexOf("mono")>=0)s=o*n.length;else for(var l=0;l<n.length;l++){var u=aDt[n[l]];s+=u==null?o:u*o}return{width:s}}}(),loadImage:function(e,t,n){var r=new Image;return r.onload=t,r.onerror=n,r.src=e,r}},lge=Uc(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),uge=Uc(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),v1=Object.prototype.toString,wN=Array.prototype,iDt=wN.forEach,oDt=wN.filter,V6=wN.slice,sDt=wN.map,eY=(function(){}).constructor,C2=eY?eY.prototype:null,z6="__proto__",lDt=2311;function cge(){return lDt++}function W6(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function en(e){if(e==null||typeof e!="object")return e;var t=e,n=v1.call(e);if(n==="[object Array]"){if(!_x(e)){t=[];for(var r=0,a=e.length;r<a;r++)t[r]=en(e[r])}}else if(uge[n]){if(!_x(e)){var i=e.constructor;if(i.from)t=i.from(e);else{t=new i(e.length);for(var r=0,a=e.length;r<a;r++)t[r]=e[r]}}}else if(!lge[n]&&!_x(e)&&!Iy(e)){t={};for(var o in e)e.hasOwnProperty(o)&&o!==z6&&(t[o]=en(e[o]))}return t}function mn(e,t,n){if(!Jt(t)||!Jt(e))return n?en(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==z6){var a=e[r],i=t[r];Jt(i)&&Jt(a)&&!st(i)&&!st(a)&&!Iy(i)&&!Iy(a)&&!tY(i)&&!tY(a)&&!_x(i)&&!_x(a)?mn(a,i,n):(n||!(r in e))&&(e[r]=en(t[r]))}return e}function H6(e,t){for(var n=e[0],r=1,a=e.length;r<a;r++)n=mn(n,e[r],t);return n}function rt(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==z6&&(e[n]=t[n]);return e}function Xt(e,t,n){for(var r=Mn(t),a=0,i=r.length;a<i;a++){var o=r[a];(n?t[o]!=null:e[o]==null)&&(e[o]=t[o])}return e}function Cn(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function uDt(e,t){var n=e.prototype;function r(){}r.prototype=t.prototype,e.prototype=new r;for(var a in n)n.hasOwnProperty(a)&&(e.prototype[a]=n[a]);e.prototype.constructor=e,e.superClass=t}function $a(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a];i!=="constructor"&&(n?t[i]!=null:e[i]==null)&&(e[i]=t[i])}else Xt(e,t,n)}function Co(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function X(e,t,n){if(e&&t)if(e.forEach&&e.forEach===iDt)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function ut(e,t,n){if(!e)return[];if(!t)return U6(e);if(e.map&&e.map===sDt)return e.map(t,n);for(var r=[],a=0,i=e.length;a<i;a++)r.push(t.call(n,e[a],a,e));return r}function Uc(e,t,n,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)n=t.call(r,n,e[a],a,e);return n}}function sr(e,t,n){if(!e)return[];if(!t)return U6(e);if(e.filter&&e.filter===oDt)return e.filter(t,n);for(var r=[],a=0,i=e.length;a<i;a++)t.call(n,e[a],a,e)&&r.push(e[a]);return r}function cDt(e,t,n){if(e&&t){for(var r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return e[r]}}function Mn(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function fDt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(V6.call(arguments)))}}var Nt=C2&&Yt(C2.bind)?C2.call.bind(C2.bind):fDt;function vn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(V6.call(arguments)))}}function st(e){return Array.isArray?Array.isArray(e):v1.call(e)==="[object Array]"}function Yt(e){return typeof e=="function"}function Dt(e){return typeof e=="string"}function IF(e){return v1.call(e)==="[object String]"}function Kn(e){return typeof e=="number"}function Jt(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function tY(e){return!!lge[v1.call(e)]}function As(e){return!!uge[v1.call(e)]}function Iy(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function _N(e){return e.colorStops!=null}function dDt(e){return e.image!=null}function hDt(e){return v1.call(e)==="[object RegExp]"}function Bw(e){return e!==e}function Si(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(e[n]!=null)return e[n]}function fn(e,t){return e??t}function Rc(e,t,n){return e??t??n}function U6(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return V6.apply(e,t)}function G6(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function is(e,t){if(!e)throw new Error(t)}function xu(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var fge="__ec_primitive__";function nE(e){e[fge]=!0}function _x(e){return e[fge]}var pDt=function(){function e(){this.data={}}return e.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,n){return this.data[t]=n,this},e.prototype.keys=function(){return Mn(this.data)},e.prototype.forEach=function(t){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)},e}(),dge=typeof Map=="function";function vDt(){return dge?new Map:new pDt}var gDt=function(){function e(t){var n=st(t);this.data=vDt();var r=this;t instanceof e?t.each(a):t&&X(t,a);function a(i,o){n?r.set(i,o):r.set(o,i)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,n){return this.data.set(t,n),n},e.prototype.each=function(t,n){this.data.forEach(function(r,a){t.call(n,r,a)})},e.prototype.keys=function(){var t=this.data.keys();return dge?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Pt(e){return new gDt(e)}function Vw(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];for(var a=e.length,r=0;r<t.length;r++)n[r+a]=t[r];return n}function SN(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&rt(n,t),n}function hge(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Mt(e,t){return e.hasOwnProperty(t)}function ba(){}var pk=180/Math.PI;function r0(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function $o(e,t){return e[0]=t[0],e[1]=t[1],e}function Of(e){return[e[0],e[1]]}function mDt(e,t,n){return e[0]=t,e[1]=n,e}function nY(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function EF(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function Iv(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function AF(e){return Math.sqrt(yDt(e))}function yDt(e){return e[0]*e[0]+e[1]*e[1]}function vk(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function g1(e,t){var n=AF(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function DF(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Qd=DF;function bDt(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Gv=bDt;function gk(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function Wi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function eh(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function th(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var E0=function(){function e(t,n){this.target=t,this.topTarget=n&&n.topTarget}return e}(),xDt=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new E0(n,t),"dragstart",t.event))},e.prototype._drag=function(t){var n=this._draggingTarget;if(n){var r=t.offsetX,a=t.offsetY,i=r-this._x,o=a-this._y;this._x=r,this._y=a,n.drift(i,o,t),this.handler.dispatchToElement(new E0(n,t),"drag",t.event);var s=this.handler.findHover(r,a,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new E0(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new E0(s,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new E0(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new E0(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),jl=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,n,r,a){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof n=="function"&&(a=r,r=n,n=null),!r||!t)return this;var o=this._$eventProcessor;n!=null&&o&&o.normalizeQuery&&(n=o.normalizeQuery(n)),i[t]||(i[t]=[]);for(var s=0;s<i[t].length;s++)if(i[t][s].h===r)return this;var l={h:r,query:n,ctx:a||this,callAtLast:r.zrEventfulCallAtLast},u=i[t].length-1,c=i[t][u];return c&&c.callAtLast?i[t].splice(u,0,l):i[t].push(l),this},e.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},e.prototype.off=function(t,n){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(n){if(r[t]){for(var a=[],i=0,o=r[t].length;i<o;i++)r[t][i].h!==n&&a.push(r[t][i]);r[t]=a}r[t]&&r[t].length===0&&delete r[t]}else delete r[t];return this},e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var o=n.length,s=a.length,l=0;l<s;l++){var u=a[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,n[0]);break;case 2:u.h.call(u.ctx,n[0],n[1]);break;default:u.h.apply(u.ctx,n);break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var o=n.length,s=n[o-1],l=a.length,u=0;u<l;u++){var c=a[u];if(!(i&&i.filter&&c.query!=null&&!i.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,n[0]);break;case 2:c.h.call(s,n[0],n[1]);break;default:c.h.apply(s,n.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e}(),wDt=Math.log(2);function NF(e,t,n,r,a,i){var o=r+"-"+a,s=e.length;if(i.hasOwnProperty(o))return i[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~a)/wDt);return e[n][l]}for(var u=r|1<<n,c=n+1;r&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var p=1<<d;p&a||(f+=(h%2?-1:1)*e[n][d]*NF(e,t-1,c,u,a|p,i),h++)}return i[o]=f,f}function rY(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},a=NF(n,8,0,0,0,r);if(a!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*NF(n,7,o===0?1:0,1<<o,1<<s,r)/a*t[o];return function(l,u,c){var f=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/f,l[1]=(u*i[3]+c*i[4]+i[5])/f}}}var aY="___zrEVENTSAVED",EM=[];function _Dt(e,t,n,r,a){return RF(EM,t,r,a,!0)&&RF(e,n,EM[0],EM[1])}function RF(e,t,n,r,a){if(t.getBoundingClientRect&&Nn.domSupported&&!pge(t)){var i=t[aY]||(t[aY]={}),o=SDt(t,i),s=CDt(o,i,a);if(s)return s(e,n,r),!0}return!1}function SDt(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],a=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",a[u]+":0",r[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function CDt(e,t,n){for(var r=n?"invTrans":"trans",a=t[r],i=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;o.push(d,h),l=l&&i&&d===i[f]&&h===i[f+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&a?a:(t.srcCoords=o,t[r]=n?rY(s,o):rY(o,s))}function pge(e){return e.nodeName.toUpperCase()==="CANVAS"}var TDt=/([&<>"'])/g,kDt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Uo(e){return e==null?"":(e+"").replace(TDt,function(t,n){return kDt[n]})}var IDt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,AM=[],EDt=Nn.browser.firefox&&+Nn.browser.version.split(".")[0]<39;function MF(e,t,n,r){return n=n||{},r?iY(e,t,n):EDt&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):iY(e,t,n),n}function iY(e,t,n){if(Nn.domSupported&&e.getBoundingClientRect){var r=t.clientX,a=t.clientY;if(pge(e)){var i=e.getBoundingClientRect();n.zrX=r-i.left,n.zrY=a-i.top;return}else if(RF(AM,e,r,a)){n.zrX=AM[0],n.zrY=AM[1];return}}n.zrX=n.zrY=0}function K6(e){return e||window.event}function hl(e,t,n){if(t=K6(t),t.zrX!=null)return t;var r=t.type,a=r&&r.indexOf("touch")>=0;if(a){var o=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&MF(e,o,t,n)}else{MF(e,t,t,n);var i=ADt(t);t.zrDelta=i?i/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&IDt.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function ADt(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(n==null||r==null)return t;var a=Math.abs(r!==0?r:n),i=r>0?-1:r<0?1:n>0?-1:1;return 3*a*i}function $F(e,t,n,r){e.addEventListener(t,n,r)}function DDt(e,t,n,r){e.removeEventListener(t,n,r)}var qf=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function oY(e){return e.which===2||e.which===3}var NDt=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,n,r){return this._doTrack(t,n,r),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,n,r){var a=t.touches;if(a){for(var i={points:[],touches:[],target:n,event:t},o=0,s=a.length;o<s;o++){var l=a[o],u=MF(r,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},e.prototype._recognize=function(t){for(var n in DM)if(DM.hasOwnProperty(n)){var r=DM[n](this._track,t);if(r)return r}},e}();function sY(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function RDt(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var DM={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,a=(e[n-2]||{}).points||r;if(a&&a.length>1&&r&&r.length>1){var i=sY(r)/sY(a);!isFinite(i)&&(i=1),t.pinchScale=i;var o=RDt(r);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}};function Ks(){return[1,0,0,1,0,0]}function CN(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function j6(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Pf(e,t,n){var r=t[0]*n[0]+t[2]*n[1],a=t[1]*n[0]+t[3]*n[1],i=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e}function Gc(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function a0(e,t,n,r){r===void 0&&(r=[0,0]);var a=t[0],i=t[2],o=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(n),f=Math.cos(n);return e[0]=a*f+s*c,e[1]=-a*c+s*f,e[2]=i*f+l*c,e[3]=-i*c+f*l,e[4]=f*(o-r[0])+c*(u-r[1])+r[0],e[5]=f*(u-r[1])-c*(o-r[0])+r[1],e}function Y6(e,t,n){var r=n[0],a=n[1];return e[0]=t[0]*r,e[1]=t[1]*a,e[2]=t[2]*r,e[3]=t[3]*a,e[4]=t[4]*r,e[5]=t[5]*a,e}function m1(e,t){var n=t[0],r=t[2],a=t[4],i=t[1],o=t[3],s=t[5],l=n*o-i*r;return l?(l=1/l,e[0]=o*l,e[1]=-i*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-o*a)*l,e[5]=(i*a-n*s)*l,e):null}function MDt(e){var t=Ks();return j6(t,e),t}var bn=function(){function e(t,n){this.x=t||0,this.y=n||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,n){return this.x=t,this.y=n,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)},e.prototype.distanceSquare=function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var n=this.x,r=this.y;return this.x=t[0]*n+t[2]*r+t[4],this.y=t[1]*n+t[3]*r+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,n,r){t.x=n,t.y=r},e.copy=function(t,n){t.x=n.x,t.y=n.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,n){return t.x*n.x+t.y*n.y},e.add=function(t,n,r){t.x=n.x+r.x,t.y=n.y+r.y},e.sub=function(t,n,r){t.x=n.x-r.x,t.y=n.y-r.y},e.scale=function(t,n,r){t.x=n.x*r,t.y=n.y*r},e.scaleAndAdd=function(t,n,r,a){t.x=n.x+r.x*a,t.y=n.y+r.y*a},e.lerp=function(t,n,r,a){var i=1-a;t.x=i*n.x+a*r.x,t.y=i*n.y+a*r.y},e}(),T2=Math.min,k2=Math.max,Ep=new bn,Ap=new bn,Dp=new bn,Np=new bn,Y1=new bn,X1=new bn,xn=function(){function e(t,n,r,a){r<0&&(t=t+r,r=-r),a<0&&(n=n+a,a=-a),this.x=t,this.y=n,this.width=r,this.height=a}return e.prototype.union=function(t){var n=T2(t.x,this.x),r=T2(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=k2(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=k2(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=n,this.y=r},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var n=this,r=t.width/n.width,a=t.height/n.height,i=Ks();return Gc(i,i,[-n.x,-n.y]),Y6(i,i,[r,a]),Gc(i,i,[t.x,t.y]),i},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,a=r.x,i=r.x+r.width,o=r.y,s=r.y+r.height,l=t.x,u=t.x+t.width,c=t.y,f=t.y+t.height,d=!(i<l||u<a||s<c||f<o);if(n){var h=1/0,p=0,v=Math.abs(i-l),g=Math.abs(u-a),m=Math.abs(s-c),y=Math.abs(f-o),b=Math.min(v,g),x=Math.min(m,y);i<l||u<a?b>p&&(p=b,v<g?bn.set(X1,-v,0):bn.set(X1,g,0)):b<h&&(h=b,v<g?bn.set(Y1,v,0):bn.set(Y1,-g,0)),s<c||f<o?x>p&&(p=x,m<y?bn.set(X1,0,-m):bn.set(X1,0,y)):b<h&&(h=b,m<y?bn.set(Y1,0,m):bn.set(Y1,0,-y))}return n&&bn.copy(n,d?Y1:X1),d},e.prototype.contain=function(t,n){var r=this;return t>=r.x&&t<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},e.applyTransform=function(t,n,r){if(!r){t!==n&&e.copy(t,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var a=r[0],i=r[3],o=r[4],s=r[5];t.x=n.x*a+o,t.y=n.y*i+s,t.width=n.width*a,t.height=n.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Ep.x=Dp.x=n.x,Ep.y=Np.y=n.y,Ap.x=Np.x=n.x+n.width,Ap.y=Dp.y=n.y+n.height,Ep.transform(r),Np.transform(r),Ap.transform(r),Dp.transform(r),t.x=T2(Ep.x,Ap.x,Dp.x,Np.x),t.y=T2(Ep.y,Ap.y,Dp.y,Np.y);var l=k2(Ep.x,Ap.x,Dp.x,Np.x),u=k2(Ep.y,Ap.y,Dp.y,Np.y);t.width=l-t.x,t.height=u-t.y},e}(),vge="silent";function $Dt(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:LDt}}function LDt(){qf(this.event)}var ODt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(jl),q1=function(){function e(t,n){this.x=t,this.y=n}return e}(),PDt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],NM=new xn(0,0,0,0),gge=function(e){Oe(t,e);function t(n,r,a,i,o){var s=e.call(this)||this;return s._hovered=new q1(0,0),s.storage=n,s.painter=r,s.painterRoot=i,s._pointerSize=o,a=a||new ODt,s.proxy=null,s.setHandlerProxy(a),s._draggingMgr=new xDt(s),s}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(X(PDt,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var r=n.zrX,a=n.zrY,i=mge(this,r,a),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=i?new q1(r,a):this.findHover(r,a),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",n),this.dispatchToElement(l,"mousemove",n),u&&u!==s&&this.dispatchToElement(l,"mouseover",n)},t.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new q1(0,0)},t.prototype.dispatch=function(n,r){var a=this[n];a&&a.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},t.prototype.dispatchToElement=function(n,r,a){n=n||{};var i=n.target;if(!(i&&i.silent)){for(var o="on"+r,s=$Dt(r,n,a);i&&(i[o]&&(s.cancelBubble=!!i[o].call(i,s)),i.trigger(r,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},t.prototype.findHover=function(n,r,a){var i=this.storage.getDisplayList(),o=new q1(n,r);if(lY(i,o,n,r,a),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new xn(n-u,r-u,l,l),f=i.length-1;f>=0;f--){var d=i[f];d!==a&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(NM.copy(d.getBoundingRect()),d.transform&&NM.applyTransform(d.transform),NM.intersect(c)&&s.push(d))}if(s.length)for(var h=4,p=Math.PI/12,v=Math.PI*2,g=0;g<u;g+=h)for(var m=0;m<v;m+=p){var y=n+g*Math.cos(m),b=r+g*Math.sin(m);if(lY(s,o,y,b,a),o.target)return o}}return o},t.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new NDt);var a=this._gestureMgr;r==="start"&&a.clear();var i=a.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&a.clear(),i){var o=i.type;n.gestureEvent=o;var s=new q1;s.target=i.target,this.dispatchToElement(s,o,i.event)}},t}(jl);X(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){gge.prototype[e]=function(t){var n=t.zrX,r=t.zrY,a=mge(this,n,r),i,o;if((e!=="mouseup"||!a)&&(i=this.findHover(n,r),o=i.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||Qd(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});function FDt(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,a=void 0,i=!1;r;){if(r.ignoreClip&&(i=!0),!i){var o=r.getClipPath();if(o&&!o.contain(t,n))return!1}r.silent&&(a=!0);var s=r.__hostTarget;r=s||r.parent}return a?vge:!0}return!1}function lY(e,t,n,r,a){for(var i=e.length-1;i>=0;i--){var o=e[i],s=void 0;if(o!==a&&!o.ignore&&(s=FDt(o,n,r))&&(!t.topTarget&&(t.topTarget=o),s!==vge)){t.target=o;break}}}function mge(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var yge=32,Z1=7;function BDt(e){for(var t=0;e>=yge;)t|=e&1,e>>=1;return e+t}function uY(e,t,n,r){var a=t+1;if(a===n)return 1;if(r(e[a++],e[t])<0){for(;a<n&&r(e[a],e[a-1])<0;)a++;VDt(e,t,a)}else for(;a<n&&r(e[a],e[a-1])>=0;)a++;return a-t}function VDt(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function cY(e,t,n,r,a){for(r===t&&r++;r<n;r++){for(var i=e[r],o=t,s=r,l;o<s;)l=o+s>>>1,a(i,e[l])<0?s=l:o=l+1;var u=r-o;switch(u){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;u>0;)e[o+u]=e[o+u-1],u--}e[o]=i}}function RM(e,t,n,r,a,i){var o=0,s=0,l=1;if(i(e,t[n+a])>0){for(s=r-a;l<s&&i(e,t[n+a+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}else{for(s=a+1;l<s&&i(e,t[n+a-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])>0?o=c+1:l=c}return l}function MM(e,t,n,r,a,i){var o=0,s=0,l=1;if(i(e,t[n+a])<0){for(s=a+1;l<s&&i(e,t[n+a-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}else{for(s=r-a;l<s&&i(e,t[n+a+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])<0?l=c:o=c+1}return l}function zDt(e,t){var n=Z1,r,a,i=0,o=[];r=[],a=[];function s(h,p){r[i]=h,a[i]=p,i+=1}function l(){for(;i>1;){var h=i-2;if(h>=1&&a[h-1]<=a[h]+a[h+1]||h>=2&&a[h-2]<=a[h]+a[h-1])a[h-1]<a[h+1]&&h--;else if(a[h]>a[h+1])break;c(h)}}function u(){for(;i>1;){var h=i-2;h>0&&a[h-1]<a[h+1]&&h--,c(h)}}function c(h){var p=r[h],v=a[h],g=r[h+1],m=a[h+1];a[h]=v+m,h===i-3&&(r[h+1]=r[h+2],a[h+1]=a[h+2]),i--;var y=MM(e[g],e,p,v,0,t);p+=y,v-=y,v!==0&&(m=RM(e[p+v-1],e,g,m,m-1,t),m!==0&&(v<=m?f(p,v,g,m):d(p,v,g,m)))}function f(h,p,v,g){var m=0;for(m=0;m<p;m++)o[m]=e[h+m];var y=0,b=v,x=h;if(e[x++]=e[b++],--g===0){for(m=0;m<p;m++)e[x+m]=o[y+m];return}if(p===1){for(m=0;m<g;m++)e[x+m]=e[b+m];e[x+g]=o[y];return}for(var _=n,S,C,k;;){S=0,C=0,k=!1;do if(t(e[b],o[y])<0){if(e[x++]=e[b++],C++,S=0,--g===0){k=!0;break}}else if(e[x++]=o[y++],S++,C=0,--p===1){k=!0;break}while((S|C)<_);if(k)break;do{if(S=MM(e[b],o,y,p,0,t),S!==0){for(m=0;m<S;m++)e[x+m]=o[y+m];if(x+=S,y+=S,p-=S,p<=1){k=!0;break}}if(e[x++]=e[b++],--g===0){k=!0;break}if(C=RM(o[y],e,b,g,0,t),C!==0){for(m=0;m<C;m++)e[x+m]=e[b+m];if(x+=C,b+=C,g-=C,g===0){k=!0;break}}if(e[x++]=o[y++],--p===1){k=!0;break}_--}while(S>=Z1||C>=Z1);if(k)break;_<0&&(_=0),_+=2}if(n=_,n<1&&(n=1),p===1){for(m=0;m<g;m++)e[x+m]=e[b+m];e[x+g]=o[y]}else{if(p===0)throw new Error;for(m=0;m<p;m++)e[x+m]=o[y+m]}}function d(h,p,v,g){var m=0;for(m=0;m<g;m++)o[m]=e[v+m];var y=h+p-1,b=g-1,x=v+g-1,_=0,S=0;if(e[x--]=e[y--],--p===0){for(_=x-(g-1),m=0;m<g;m++)e[_+m]=o[m];return}if(g===1){for(x-=p,y-=p,S=x+1,_=y+1,m=p-1;m>=0;m--)e[S+m]=e[_+m];e[x]=o[b];return}for(var C=n;;){var k=0,T=0,E=!1;do if(t(o[b],e[y])<0){if(e[x--]=e[y--],k++,T=0,--p===0){E=!0;break}}else if(e[x--]=o[b--],T++,k=0,--g===1){E=!0;break}while((k|T)<C);if(E)break;do{if(k=p-MM(o[b],e,h,p,p-1,t),k!==0){for(x-=k,y-=k,p-=k,S=x+1,_=y+1,m=k-1;m>=0;m--)e[S+m]=e[_+m];if(p===0){E=!0;break}}if(e[x--]=o[b--],--g===1){E=!0;break}if(T=g-RM(e[y],o,0,g,g-1,t),T!==0){for(x-=T,b-=T,g-=T,S=x+1,_=b+1,m=0;m<T;m++)e[S+m]=o[_+m];if(g<=1){E=!0;break}}if(e[x--]=e[y--],--p===0){E=!0;break}C--}while(k>=Z1||T>=Z1);if(E)break;C<0&&(C=0),C+=2}if(n=C,n<1&&(n=1),g===1){for(x-=p,y-=p,S=x+1,_=y+1,m=p-1;m>=0;m--)e[S+m]=e[_+m];e[x]=o[b]}else{if(g===0)throw new Error;for(_=x-(g-1),m=0;m<g;m++)e[_+m]=o[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function mk(e,t,n,r){n||(n=0),r||(r=e.length);var a=r-n;if(!(a<2)){var i=0;if(a<yge){i=uY(e,n,r,t),cY(e,n,r,n+i,t);return}var o=zDt(e,t),s=BDt(a);do{if(i=uY(e,n,r,t),i<s){var l=a;l>s&&(l=s),cY(e,n,n+l,n+i,t),i=l}o.pushRun(n,i),o.mergeRuns(),a-=i,n+=i}while(a!==0);o.forceMergeRuns()}}var Os=1,Pb=2,om=4,fY=!1;function $M(){fY||(fY=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function dY(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var WDt=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=dY}return e.prototype.traverse=function(t,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,n)},e.prototype.getDisplayList=function(t,n){n=n||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(n),r},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,r=this._displayList,a=0,i=n.length;a<i;a++)this._updateAndAddDisplayable(n[a],null,t);r.length=this._displayListLen,mk(r,dY)},e.prototype._updateAndAddDisplayable=function(t,n,r){if(!(t.ignore&&!r)){t.beforeUpdate(),t.update(),t.afterUpdate();var a=t.getClipPath();if(t.ignoreClip)n=null;else if(a){n?n=n.slice():n=[];for(var i=a,o=t;i;)i.parent=o,i.updateTransform(),n.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=Os),this._updateAndAddDisplayable(u,n,r)}t.__dirty=0}else{var c=t;n&&n.length?c.__clipPaths=n:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&($M(),c.z=0),isNaN(c.z2)&&($M(),c.z2=0),isNaN(c.zlevel)&&($M(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=t.getDecalElement&&t.getDecalElement();f&&this._updateAndAddDisplayable(f,n,r);var d=t.getTextGuideLine();d&&this._updateAndAddDisplayable(d,n,r);var h=t.getTextContent();h&&this._updateAndAddDisplayable(h,n,r)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);return}var a=Cn(this._roots,t);a>=0&&this._roots.splice(a,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),rE;rE=Nn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var Sx={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},elasticOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Sx.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Sx.bounceIn(e*2)*.5:Sx.bounceOut(e*2-1)*.5+.5}},I2=Math.pow,yh=Math.sqrt,aE=1e-8,bge=1e-4,hY=yh(3),E2=1/3,gc=r0(),xl=r0(),Bm=r0();function nh(e){return e>-aE&&e<aE}function xge(e){return e>aE||e<-aE}function Qa(e,t,n,r,a){var i=1-a;return i*i*(i*e+3*a*t)+a*a*(a*r+3*i*n)}function pY(e,t,n,r,a){var i=1-a;return 3*(((t-e)*i+2*(n-t)*a)*i+(r-n)*a*a)}function iE(e,t,n,r,a,i){var o=r+3*(t-n)-e,s=3*(n-t*2+e),l=3*(t-e),u=e-a,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(nh(c)&&nh(f))if(nh(s))i[0]=0;else{var p=-l/s;p>=0&&p<=1&&(i[h++]=p)}else{var v=f*f-4*c*d;if(nh(v)){var g=f/c,p=-s/o+g,m=-g/2;p>=0&&p<=1&&(i[h++]=p),m>=0&&m<=1&&(i[h++]=m)}else if(v>0){var y=yh(v),b=c*s+1.5*o*(-f+y),x=c*s+1.5*o*(-f-y);b<0?b=-I2(-b,E2):b=I2(b,E2),x<0?x=-I2(-x,E2):x=I2(x,E2);var p=(-s-(b+x))/(3*o);p>=0&&p<=1&&(i[h++]=p)}else{var _=(2*c*s-3*o*f)/(2*yh(c*c*c)),S=Math.acos(_)/3,C=yh(c),k=Math.cos(S),p=(-s-2*C*k)/(3*o),m=(-s+C*(k+hY*Math.sin(S)))/(3*o),T=(-s+C*(k-hY*Math.sin(S)))/(3*o);p>=0&&p<=1&&(i[h++]=p),m>=0&&m<=1&&(i[h++]=m),T>=0&&T<=1&&(i[h++]=T)}}return h}function wge(e,t,n,r,a){var i=6*n-12*t+6*e,o=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(nh(o)){if(xge(i)){var u=-s/i;u>=0&&u<=1&&(a[l++]=u)}}else{var c=i*i-4*o*s;if(nh(c))a[0]=-i/(2*o);else if(c>0){var f=yh(c),u=(-i+f)/(2*o),d=(-i-f)/(2*o);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function Wh(e,t,n,r,a,i){var o=(t-e)*a+e,s=(n-t)*a+t,l=(r-n)*a+n,u=(s-o)*a+o,c=(l-s)*a+s,f=(c-u)*a+u;i[0]=e,i[1]=o,i[2]=u,i[3]=f,i[4]=f,i[5]=c,i[6]=l,i[7]=r}function _ge(e,t,n,r,a,i,o,s,l,u,c){var f,d=.005,h=1/0,p,v,g,m;gc[0]=l,gc[1]=u;for(var y=0;y<1;y+=.05)xl[0]=Qa(e,n,a,o,y),xl[1]=Qa(t,r,i,s,y),g=Gv(gc,xl),g<h&&(f=y,h=g);h=1/0;for(var b=0;b<32&&!(d<bge);b++)p=f-d,v=f+d,xl[0]=Qa(e,n,a,o,p),xl[1]=Qa(t,r,i,s,p),g=Gv(xl,gc),p>=0&&g<h?(f=p,h=g):(Bm[0]=Qa(e,n,a,o,v),Bm[1]=Qa(t,r,i,s,v),m=Gv(Bm,gc),v<=1&&m<h?(f=v,h=m):d*=.5);return c&&(c[0]=Qa(e,n,a,o,f),c[1]=Qa(t,r,i,s,f)),yh(h)}function HDt(e,t,n,r,a,i,o,s,l){for(var u=e,c=t,f=0,d=1/l,h=1;h<=l;h++){var p=h*d,v=Qa(e,n,a,o,p),g=Qa(t,r,i,s,p),m=v-u,y=g-c;f+=Math.sqrt(m*m+y*y),u=v,c=g}return f}function xi(e,t,n,r){var a=1-r;return a*(a*e+2*r*t)+r*r*n}function LF(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function UDt(e,t,n,r,a){var i=e-2*t+n,o=2*(t-e),s=e-r,l=0;if(nh(i)){if(xge(o)){var u=-s/o;u>=0&&u<=1&&(a[l++]=u)}}else{var c=o*o-4*i*s;if(nh(c)){var u=-o/(2*i);u>=0&&u<=1&&(a[l++]=u)}else if(c>0){var f=yh(c),u=(-o+f)/(2*i),d=(-o-f)/(2*i);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function Sge(e,t,n){var r=e+n-2*t;return r===0?.5:(e-t)/r}function zw(e,t,n,r,a){var i=(t-e)*r+e,o=(n-t)*r+t,s=(o-i)*r+i;a[0]=e,a[1]=i,a[2]=s,a[3]=s,a[4]=o,a[5]=n}function Cge(e,t,n,r,a,i,o,s,l){var u,c=.005,f=1/0;gc[0]=o,gc[1]=s;for(var d=0;d<1;d+=.05){xl[0]=xi(e,n,a,d),xl[1]=xi(t,r,i,d);var h=Gv(gc,xl);h<f&&(u=d,f=h)}f=1/0;for(var p=0;p<32&&!(c<bge);p++){var v=u-c,g=u+c;xl[0]=xi(e,n,a,v),xl[1]=xi(t,r,i,v);var h=Gv(xl,gc);if(v>=0&&h<f)u=v,f=h;else{Bm[0]=xi(e,n,a,g),Bm[1]=xi(t,r,i,g);var m=Gv(Bm,gc);g<=1&&m<f?(u=g,f=m):c*=.5}}return l&&(l[0]=xi(e,n,a,u),l[1]=xi(t,r,i,u)),yh(f)}function GDt(e,t,n,r,a,i,o){for(var s=e,l=t,u=0,c=1/o,f=1;f<=o;f++){var d=f*c,h=xi(e,n,a,d),p=xi(t,r,i,d),v=h-s,g=p-l;u+=Math.sqrt(v*v+g*g),s=h,l=p}return u}var KDt=/cubic-bezier\(([0-9,\.e ]+)\)/;function X6(e){var t=e&&KDt.exec(e);if(t){var n=t[1].split(","),r=+xu(n[0]),a=+xu(n[1]),i=+xu(n[2]),o=+xu(n[3]);if(isNaN(r+a+i+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:iE(0,r,i,1,l,s)&&Qa(0,a,o,1,s[0])}}}var jDt=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||ba,this.ondestroy=t.ondestroy||ba,this.onrestart=t.onrestart||ba,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,a=t-this._startTime-this._pausedTime,i=a/r;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,s=o?o(i):i;if(this.onframe(s),i===1)if(this.loop){var l=a%r;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Yt(t)?t:Sx[t]||X6(t)},e}(),Tge=function(){function e(t){this.value=t}return e}(),YDt=function(){function e(){this._len=0}return e.prototype.insert=function(t){var n=new Tge(t);return this.insertEntry(n),n},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var n=t.prev,r=t.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),sC=function(){function e(t){this._list=new YDt,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,n){var r=this._list,a=this._map,i=null;if(a[t]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete a[l.key],i=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new Tge(n),s.key=t,r.insertEntry(s),a[t]=s}return i},e.prototype.get=function(t){var n=this._map[t],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),vY={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Eu(e){return e=Math.round(e),e<0?0:e>255?255:e}function XDt(e){return e=Math.round(e),e<0?0:e>360?360:e}function Ww(e){return e<0?0:e>1?1:e}function LM(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Eu(parseFloat(t)/100*255):Eu(parseInt(t,10))}function Kv(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Ww(parseFloat(t)/100):Ww(parseFloat(t))}function OM(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function rh(e,t,n){return e+(t-e)*n}function cl(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function OF(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var kge=new sC(20),A2=null;function A0(e,t){A2&&OF(A2,t),A2=kge.put(e,A2||t.slice())}function js(e,t){if(e){t=t||[];var n=kge.get(e);if(n)return OF(t,n);e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in vY)return OF(t,vY[r]),A0(e,t),t;var a=r.length;if(r.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(r.slice(1,4),16);if(!(i>=0&&i<=4095)){cl(t,0,0,0,1);return}return cl(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(r.slice(4),16)/15:1),A0(e,t),t}else if(a===7||a===9){var i=parseInt(r.slice(1,7),16);if(!(i>=0&&i<=16777215)){cl(t,0,0,0,1);return}return cl(t,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(r.slice(7),16)/255:1),A0(e,t),t}return}var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===a){var l=r.substr(0,o),u=r.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?cl(t,+u[0],+u[1],+u[2],1):cl(t,0,0,0,1);c=Kv(u.pop());case"rgb":if(u.length>=3)return cl(t,LM(u[0]),LM(u[1]),LM(u[2]),u.length===3?c:Kv(u[3])),A0(e,t),t;cl(t,0,0,0,1);return;case"hsla":if(u.length!==4){cl(t,0,0,0,1);return}return u[3]=Kv(u[3]),PF(u,t),A0(e,t),t;case"hsl":if(u.length!==3){cl(t,0,0,0,1);return}return PF(u,t),A0(e,t),t;default:return}}cl(t,0,0,0,1)}}function PF(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=Kv(e[1]),a=Kv(e[2]),i=a<=.5?a*(r+1):a+r-a*r,o=a*2-i;return t=t||[],cl(t,Eu(OM(o,i,n+1/3)*255),Eu(OM(o,i,n)*255),Eu(OM(o,i,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function qDt(e){if(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=i-a,s=(i+a)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(i+a):u=o/(2-i-a);var c=((i-t)/6+o/2)/o,f=((i-n)/6+o/2)/o,d=((i-r)/6+o/2)/o;t===i?l=d-f:n===i?l=1/3+c-d:r===i&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return e[3]!=null&&h.push(e[3]),h}}function FF(e,t){var n=js(e);if(n){for(var r=0;r<3;r++)t<0?n[r]=n[r]*(1-t)|0:n[r]=(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return Ff(n,n.length===4?"rgba":"rgb")}}function PM(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){n=n||[];var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=t[a],s=t[i],l=r-a;return n[0]=Eu(rh(o[0],s[0],l)),n[1]=Eu(rh(o[1],s[1],l)),n[2]=Eu(rh(o[2],s[2],l)),n[3]=Ww(rh(o[3],s[3],l)),n}}function ZDt(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=js(t[a]),s=js(t[i]),l=r-a,u=Ff([Eu(rh(o[0],s[0],l)),Eu(rh(o[1],s[1],l)),Eu(rh(o[2],s[2],l)),Ww(rh(o[3],s[3],l))],"rgba");return n?{color:u,leftIndex:a,rightIndex:i,value:r}:u}}function Cx(e,t,n,r){var a=js(e);if(e)return a=qDt(a),t!=null&&(a[0]=XDt(t)),n!=null&&(a[1]=Kv(n)),r!=null&&(a[2]=Kv(r)),Ff(PF(a),"rgba")}function oE(e,t){var n=js(e);if(n&&t!=null)return n[3]=Ww(t),Ff(n,"rgba")}function Ff(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}}function sE(e,t){var n=js(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var gY=new sC(100);function BF(e){if(Dt(e)){var t=gY.get(e);return t||(t=FF(e,-.1),gY.put(e,t)),t}else if(_N(e)){var n=rt({},e);return n.colorStops=ut(e.colorStops,function(r){return{offset:r.offset,color:FF(r.color,-.1)}}),n}return e}var lE=Math.round;function Hw(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var n=js(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}return{color:e,opacity:t??1}}var mY=1e-4;function ah(e){return e<mY&&e>-mY}function D2(e){return lE(e*1e3)/1e3}function VF(e){return lE(e*1e4)/1e4}function JDt(e){return"matrix("+D2(e[0])+","+D2(e[1])+","+D2(e[2])+","+D2(e[3])+","+VF(e[4])+","+VF(e[5])+")"}var QDt={left:"start",right:"end",center:"middle",middle:"middle"};function eNt(e,t,n){return n==="top"?e+=t/2:n==="bottom"&&(e-=t/2),e}function tNt(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function nNt(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function Ige(e){return e&&!!e.image}function rNt(e){return e&&!!e.svgElement}function q6(e){return Ige(e)||rNt(e)}function Ege(e){return e.type==="linear"}function Age(e){return e.type==="radial"}function Dge(e){return e&&(e.type==="linear"||e.type==="radial")}function TN(e){return"url(#"+e+")"}function Nge(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function Rge(e){var t=e.x||0,n=e.y||0,r=(e.rotation||0)*pk,a=fn(e.scaleX,1),i=fn(e.scaleY,1),o=e.skewX||0,s=e.skewY||0,l=[];return(t||n)&&l.push("translate("+t+"px,"+n+"px)"),r&&l.push("rotate("+r+")"),(a!==1||i!==1)&&l.push("scale("+a+","+i+")"),(o||s)&&l.push("skew("+lE(o*pk)+"deg, "+lE(s*pk)+"deg)"),l.join(" ")}var aNt=function(){return Nn.hasGlobalWindow&&Yt(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),zF=Array.prototype.slice;function yf(e,t,n){return(t-e)*n+e}function FM(e,t,n,r){for(var a=t.length,i=0;i<a;i++)e[i]=yf(t[i],n[i],r);return e}function iNt(e,t,n,r){for(var a=t.length,i=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=yf(t[o][s],n[o][s],r)}return e}function N2(e,t,n,r){for(var a=t.length,i=0;i<a;i++)e[i]=t[i]+n[i]*r;return e}function yY(e,t,n,r){for(var a=t.length,i=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=t[o][s]+n[o][s]*r}return e}function oNt(e,t){for(var n=e.length,r=t.length,a=n>r?t:e,i=Math.min(n,r),o=a[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(n,r);s++)a.push({offset:o.offset,color:o.color.slice()})}function sNt(e,t,n){var r=e,a=t;if(!(!r.push||!a.push)){var i=r.length,o=a.length;if(i!==o){var s=i>o;if(s)r.length=o;else for(var l=i;l<o;l++)r.push(n===1?a[l]:zF.call(a[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(n===1)isNaN(r[l])&&(r[l]=a[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=a[l][c])}}function Tx(e){if(Co(e)){var t=e.length;if(Co(e[0])){for(var n=[],r=0;r<t;r++)n.push(zF.call(e[r]));return n}return zF.call(e)}return e}function yk(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function lNt(e){return Co(e&&e[0])?2:1}var R2=0,bk=1,Mge=2,Fb=3,WF=4,HF=5,bY=6;function xY(e){return e===WF||e===HF}function M2(e){return e===bk||e===Mge}var J1=[0,0,0,0],uNt=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,n,r){this._needsSort=!0;var a=this.keyframes,i=a.length,o=!1,s=bY,l=n;if(Co(n)){var u=lNt(n);s=u,(u===1&&!Kn(n[0])||u===2&&!Kn(n[0][0]))&&(o=!0)}else if(Kn(n)&&!Bw(n))s=R2;else if(Dt(n))if(!isNaN(+n))s=R2;else{var c=js(n);c&&(l=c,s=Fb)}else if(_N(n)){var f=rt({},l);f.colorStops=ut(n.colorStops,function(h){return{offset:h.offset,color:js(h.color)}}),Ege(n)?s=WF:Age(n)&&(s=HF),l=f}i===0?this.valType=s:(s!==this.valType||s===bY)&&(o=!0),this.discrete=this.discrete||o;var d={time:t,value:l,rawValue:n,percent:0};return r&&(d.easing=r,d.easingFunc=Yt(r)?r:Sx[r]||X6(r)),a.push(d),d},e.prototype.prepare=function(t,n){var r=this.keyframes;this._needsSort&&r.sort(function(v,g){return v.time-g.time});for(var a=this.valType,i=r.length,o=r[i-1],s=this.discrete,l=M2(a),u=xY(a),c=0;c<i;c++){var f=r[c],d=f.value,h=o.value;f.percent=f.time/t,s||(l&&c!==i-1?sNt(d,h,a):u&&oNt(d.colorStops,h.colorStops))}if(!s&&a!==HF&&n&&this.needsAnimate()&&n.needsAnimate()&&a===n.valType&&!n._finished){this._additiveTrack=n;for(var p=r[0].value,c=0;c<i;c++)a===R2?r[c].additiveValue=r[c].value-p:a===Fb?r[c].additiveValue=N2([],r[c].value,p,-1):M2(a)&&(r[c].additiveValue=a===bk?N2([],r[c].value,p,-1):yY([],r[c].value,p,-1))}},e.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,a=r?"additiveValue":"value",i=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=i===Fb,c,f=this._lastFr,d=Math.min,h,p;if(s===1)h=p=o[0];else{if(n<0)c=0;else if(n<this._lastFrP){var v=d(f+1,s-1);for(c=v;c>=0&&!(o[c].percent<=n);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>n);c++);c=d(c-1,s-2)}p=o[c+1],h=o[c]}if(h&&p){this._lastFr=c,this._lastFrP=n;var g=p.percent-h.percent,m=g===0?1:d((n-h.percent)/g,1);p.easingFunc&&(m=p.easingFunc(m));var y=r?this._additiveValue:u?J1:t[l];if((M2(i)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)t[l]=m<1?h.rawValue:p.rawValue;else if(M2(i))i===bk?FM(y,h[a],p[a],m):iNt(y,h[a],p[a],m);else if(xY(i)){var b=h[a],x=p[a],_=i===WF;t[l]={type:_?"linear":"radial",x:yf(b.x,x.x,m),y:yf(b.y,x.y,m),colorStops:ut(b.colorStops,function(C,k){var T=x.colorStops[k];return{offset:yf(C.offset,T.offset,m),color:yk(FM([],C.color,T.color,m))}}),global:x.global},_?(t[l].x2=yf(b.x2,x.x2,m),t[l].y2=yf(b.y2,x.y2,m)):t[l].r=yf(b.r,x.r,m)}else if(u)FM(y,h[a],p[a],m),r||(t[l]=yk(y));else{var S=yf(h[a],p[a],m);r?this._additiveValue=S:t[l]=S}r&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var n=this.valType,r=this.propName,a=this._additiveValue;n===R2?t[r]=t[r]+a:n===Fb?(js(t[r],J1),N2(J1,J1,a,1),t[r]=yk(J1)):n===bk?N2(t[r],t[r],a,1):n===Mge&&yY(t[r],t[r],a,1)},e}(),Z6=function(){function e(t,n,r,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&a){W6("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=r}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,n,r){return this.whenWithKeys(t,n,Mn(n),r)},e.prototype.whenWithKeys=function(t,n,r,a){for(var i=this._tracks,o=0;o<r.length;o++){var s=r[o],l=i[s];if(!l){l=i[s]=new uNt(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===Fb&&u&&(u=yk(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,Tx(u),a),this._trackKeys.push(s)}l.addKeyframe(t,Tx(n[s]),a)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,r=0;r<n;r++)t[r].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)t[n[r]].setFinished()},e.prototype._getAdditiveTrack=function(t){var n,r=this._additiveAnimators;if(r)for(var a=0;a<r.length;a++){var i=r[a].getTrack(t);i&&(n=i)}return n},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],a=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(a,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(n._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var d=new jDt({life:a,loop:this._loop,delay:this._delay||0,onframe:function(h){n._started=2;var p=n._additiveAnimators;if(p){for(var v=!1,g=0;g<p.length;g++)if(p[g]._clip){v=!0;break}v||(n._additiveAnimators=null)}for(var g=0;g<r.length;g++)r[g].step(n._target,h);var m=n._onframeCbs;if(m)for(var g=0;g<m.length;g++)m[g](n._target,h)},ondestroy:function(){n._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return ut(this._trackKeys,function(n){return t._tracks[n]})},e.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var r=this._tracks,a=this._trackKeys,i=0;i<t.length;i++){var o=r[t[i]];o&&!o.isFinished()&&(n?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,i=0;i<a.length;i++)if(!r[a[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,n,r){if(t){n=n||this._trackKeys;for(var a=0;a<n.length;a++){var i=n[a],o=this._tracks[i];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[r?0:s.length-1];l&&(t[i]=Tx(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,n){n=n||Mn(t);for(var r=0;r<n.length;r++){var a=n[r],i=this._tracks[a];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,t[a]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},e}();function vm(){return new Date().getTime()}var cNt=function(e){Oe(t,e);function t(n){var r=e.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(n){if(n.animation){var r=n.prev,a=n.next;r?r.next=a:this._head=a,a?a.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},t.prototype.update=function(n){for(var r=vm()-this._pausedTime,a=r-this._time,i=this._head;i;){var o=i.next,s=i.step(r,a);s&&(i.ondestroy(),this.removeClip(i)),i=o}this._time=r,n||(this.trigger("frame",a),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(rE(r),!n._paused&&n.update())}rE(r)},t.prototype.start=function(){this._running||(this._time=vm(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=vm(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=vm()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,r){r=r||{},this.start();var a=new Z6(n,r.loop);return this.addAnimator(a),a},t}(jl),fNt=300,BM=Nn.domSupported,VM=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=ut(e,function(a){var i=a.replace("mouse","pointer");return n.hasOwnProperty(i)?i:a});return{mouse:e,touch:t,pointer:r}}(),wY={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},_Y=!1;function UF(e){var t=e.pointerType;return t==="pen"||t==="touch"}function dNt(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function zM(e){e&&(e.zrByTouch=!0)}function hNt(e,t){return hl(e.dom,new pNt(e,t),!0)}function $ge(e,t){for(var n=t,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}var pNt=function(){function e(t,n){this.stopPropagation=ba,this.stopImmediatePropagation=ba,this.preventDefault=ba,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return e}(),iu={mousedown:function(e){e=hl(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=hl(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=hl(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=hl(this.dom,e);var t=e.toElement||e.relatedTarget;$ge(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){_Y=!0,e=hl(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){_Y||(e=hl(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=hl(this.dom,e),zM(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),iu.mousemove.call(this,e),iu.mousedown.call(this,e)},touchmove:function(e){e=hl(this.dom,e),zM(e),this.handler.processGesture(e,"change"),iu.mousemove.call(this,e)},touchend:function(e){e=hl(this.dom,e),zM(e),this.handler.processGesture(e,"end"),iu.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<fNt&&iu.click.call(this,e)},pointerdown:function(e){iu.mousedown.call(this,e)},pointermove:function(e){UF(e)||iu.mousemove.call(this,e)},pointerup:function(e){iu.mouseup.call(this,e)},pointerout:function(e){UF(e)||iu.mouseout.call(this,e)}};X(["click","dblclick","contextmenu"],function(e){iu[e]=function(t){t=hl(this.dom,t),this.trigger(e,t)}});var GF={pointermove:function(e){UF(e)||GF.mousemove.call(this,e)},pointerup:function(e){GF.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function vNt(e,t){var n=t.domHandlers;Nn.pointerEventsSupported?X(VM.pointer,function(r){xk(t,r,function(a){n[r].call(e,a)})}):(Nn.touchEventsSupported&&X(VM.touch,function(r){xk(t,r,function(a){n[r].call(e,a),dNt(t)})}),X(VM.mouse,function(r){xk(t,r,function(a){a=K6(a),t.touching||n[r].call(e,a)})}))}function gNt(e,t){Nn.pointerEventsSupported?X(wY.pointer,n):Nn.touchEventsSupported||X(wY.mouse,n);function n(r){function a(i){i=K6(i),$ge(e,i.target)||(i=hNt(e,i),t.domHandlers[r].call(e,i))}xk(t,r,a,{capture:!0})}}function xk(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,$F(e.domTarget,t,n,r)}function WM(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&DDt(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var SY=function(){function e(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return e}(),mNt=function(e){Oe(t,e);function t(n,r){var a=e.call(this)||this;return a.__pointerCapturing=!1,a.dom=n,a.painterRoot=r,a._localHandlerScope=new SY(n,iu),BM&&(a._globalHandlerScope=new SY(document,GF)),vNt(a,a._localHandlerScope),a}return t.prototype.dispose=function(){WM(this._localHandlerScope),BM&&WM(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,BM&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?gNt(this,r):WM(r)}},t}(jl),Lge=1;Nn.hasGlobalWindow&&(Lge=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var uE=Lge,KF=.4,jF="#333",YF="#ccc",yNt="#eee",CY=CN,TY=5e-5;function Rp(e){return e>TY||e<-TY}var Mp=[],D0=[],HM=Ks(),UM=Math.abs,Nf=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Rp(this.rotation)||Rp(this.x)||Rp(this.y)||Rp(this.scaleX-1)||Rp(this.scaleY-1)||Rp(this.skewX)||Rp(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||t)){r&&(CY(r),this.invTransform=null);return}r=r||Ks(),n?this.getLocalTransform(r):CY(r),t&&(n?Pf(r,t,r):j6(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)},e.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(Mp);var r=Mp[0]<0?-1:1,a=Mp[1]<0?-1:1,i=((Mp[0]-r)*n+r)/Mp[0]||0,o=((Mp[1]-a)*n+a)/Mp[1]||0;t[0]*=i,t[1]*=i,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||Ks(),m1(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],a=Math.atan2(t[1],t[0]),i=Math.PI/2+a-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(i),n=Math.sqrt(n),this.skewX=i,this.skewY=0,this.rotation=-a,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||Ks(),Pf(D0,t.invTransform,n),n=D0);var r=this.originX,a=this.originY;(r||a)&&(HM[4]=r,HM[5]=a,Pf(D0,n,HM),D0[4]-=r,D0[5]-=a,n=D0),this.setLocalTransform(n)}},e.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,n){var r=[t,n],a=this.invTransform;return a&&Wi(r,r,a),r},e.prototype.transformCoordToGlobal=function(t,n){var r=[t,n],a=this.transform;return a&&Wi(r,r,a),r},e.prototype.getLineScale=function(){var t=this.transform;return t&&UM(t[0]-1)>1e-10&&UM(t[3]-1)>1e-10?Math.sqrt(UM(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){Oge(this,t)},e.getLocalTransform=function(t,n){n=n||[];var r=t.originX||0,a=t.originY||0,i=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,d=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;if(r||a||s||l){var p=r+s,v=a+l;n[4]=-p*i-d*v*o,n[5]=-v*o-h*p*i}else n[4]=n[5]=0;return n[0]=i,n[3]=o,n[1]=h*i,n[2]=d*o,u&&a0(n,n,u),n[4]+=r+c,n[5]+=a+f,n},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),Kc=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Oge(e,t){for(var n=0;n<Kc.length;n++){var r=Kc[n];e[r]=t[r]}}var kY={};function Ys(e,t){t=t||Vh;var n=kY[t];n||(n=kY[t]=new sC(500));var r=n.get(e);return r==null&&(r=zh.measureText(e,t).width,n.put(e,r)),r}function IY(e,t,n,r){var a=Ys(e,t),i=kN(t),o=Bb(0,a,n),s=sm(0,i,r),l=new xn(o,s,a,i);return l}function lC(e,t,n,r){var a=((e||"")+"").split(`
`),i=a.length;if(i===1)return IY(a[0],t,n,r);for(var o=new xn(0,0,0,0),s=0;s<a.length;s++){var l=IY(a[s],t,n,r);s===0?o.copy(l):o.union(l)}return o}function Bb(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function sm(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function kN(e){return Ys("",e)}function Bu(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function cE(e,t,n){var r=t.position||"inside",a=t.distance!=null?t.distance:5,i=n.height,o=n.width,s=i/2,l=n.x,u=n.y,c="left",f="top";if(r instanceof Array)l+=Bu(r[0],n.width),u+=Bu(r[1],n.height),c=null,f=null;else switch(r){case"left":l-=a,u+=s,c="right",f="middle";break;case"right":l+=a+o,u+=s,f="middle";break;case"top":l+=o/2,u-=a,c="center",f="bottom";break;case"bottom":l+=o/2,u+=i+a,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=a,u+=s,f="middle";break;case"insideRight":l+=o-a,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=a,c="center";break;case"insideBottom":l+=o/2,u+=i-a,c="center",f="bottom";break;case"insideTopLeft":l+=a,u+=a;break;case"insideTopRight":l+=o-a,u+=a,c="right";break;case"insideBottomLeft":l+=a,u+=i-a,f="bottom";break;case"insideBottomRight":l+=o-a,u+=i-a,c="right",f="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=f,e}var GM="__zr_normal__",KM=Kc.concat(["ignore"]),bNt=Uc(Kc,function(e,t){return e[t]=!0,e},{ignore:!1}),N0={},xNt=new xn(0,0,0,0),IN=function(){function e(t){this.id=cge(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=n,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,a=r.local,i=n.innerTransformable,o=void 0,s=void 0,l=!1;i.parent=a?this:null;var u=!1;if(i.copyTransform(n),r.position!=null){var c=xNt;r.layoutRect?c.copy(r.layoutRect):c.copy(this.getBoundingRect()),a||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(N0,r,c):cE(N0,r,c),i.x=N0.x,i.y=N0.y,o=N0.align,s=N0.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var d=void 0,h=void 0;f==="center"?(d=c.width*.5,h=c.height*.5):(d=Bu(f[0],c.width),h=Bu(f[1],c.height)),u=!0,i.originX=-i.x+d+(a?0:c.x),i.originY=-i.y+h+(a?0:c.y)}}r.rotation!=null&&(i.rotation=r.rotation);var p=r.offset;p&&(i.x+=p[0],i.y+=p[1],u||(i.originX=-p[0],i.originY=-p[1]));var v=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,b=void 0;v&&this.canBeInsideText()?(m=r.insideFill,y=r.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),b=!0)):(m=r.outsideFill,y=r.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),b=!0)),m=m||"#000",(m!==g.fill||y!==g.stroke||b!==g.autoStroke||o!==g.align||s!==g.verticalAlign)&&(l=!0,g.fill=m,g.stroke=y,g.autoStroke=b,g.align=o,g.verticalAlign=s,n.setDefaultTextStyle(g)),n.__dirty|=Os,l&&n.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?YF:jF},e.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&js(n);r||(r=[255,255,255,1]);for(var a=r[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*a+(i?0:255)*(1-a);return r[3]=1,Ff(r,"rgba")},e.prototype.traverse=function(t,n){},e.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},rt(this.extra,n)):this[t]=n},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(Jt(t))for(var r=t,a=Mn(r),i=0;i<a.length;i++){var o=a[i];this.attrKV(o,t[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,r=0;r<this.animators.length;r++){var a=this.animators[r],i=a.__fromStateTransition;if(!(a.getLoop()||i&&i!==GM)){var o=a.targetName,s=o?n[o]:n;a.saveTo(s)}}},e.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,KM)},e.prototype._savePrimaryToNormal=function(t,n,r){for(var a=0;a<r.length;a++){var i=r[a];t[i]!=null&&!(i in n)&&(n[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},e.prototype.clearStates=function(t){this.useState(GM,!1,t)},e.prototype.useState=function(t,n,r,a){var i=t===GM,o=this.hasState();if(!(!o&&i)){var s=this.currentStates,l=this.stateTransition;if(!(Cn(s,t)>=0&&(n||s.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!i){W6("State "+t+" not exists.");return}i||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||a);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,n,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(t,n,r,c),d&&d.useState(t,n,r,c),i?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Os),u}}},e.prototype.useStates=function(t,n,r){if(!t.length)this.clearStates();else{var a=[],i=this.currentStates,o=t.length,s=o===i.length;if(s){for(var l=0;l<o;l++)if(t[l]!==i[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&a.push(c)}var f=a[o-1],d=!!(f&&f.hoverLayer||r);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(a),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!n&&!this.__inHover&&p&&p.duration>0,p);var v=this._textContent,g=this._textGuide;v&&v.useStates(t,n,d),g&&g.useStates(t,n,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Os)}},e.prototype.isSilent=function(){for(var t=this.silent,n=this.parent;!t&&n;){if(n.silent){t=!0;break}n=n.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},e.prototype.removeState=function(t){var n=Cn(this.currentStates,t);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},e.prototype.replaceState=function(t,n,r){var a=this.currentStates.slice(),i=Cn(a,t),o=Cn(a,n)>=0;i>=0?o?a.splice(i,1):a[i]=n:r&&!o&&a.push(n),this.useStates(a)},e.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var n={},r,a=0;a<t.length;a++){var i=t[a];rt(n,i),i.textConfig&&(r=r||{},rt(r,i.textConfig))}return r&&(n.textConfig=r),n},e.prototype._applyStateObj=function(t,n,r,a,i,o){var s=!(n&&a);n&&n.textConfig?(this.textConfig=rt({},a?this.textConfig:r.textConfig),rt(this.textConfig,n.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<KM.length;c++){var f=KM[c],d=i&&bNt[f];n&&n[f]!=null?d?(u=!0,l[f]=n[f]):this[f]=n[f]:s&&r[f]!=null&&(d?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!i)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(n||r)[p]:n||r)}u&&this._transitionState(t,l,o)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new Nf,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),rt(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=Os;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=t),r&&(r.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,n,r){var a=t?this[t]:this,i=new Z6(a,n,r);return t&&(i.targetName=t),this.addAnimator(i,t),i},e.prototype.addAnimator=function(t,n){var r=this.__zr,a=this;t.during(function(){a.updateDuringAnimation(n)}).done(function(){var i=a.animators,o=Cn(i,t);o>=0&&i.splice(o,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,n){for(var r=this.animators,a=r.length,i=[],o=0;o<a;o++){var s=r[o];!t||t===s.scope?s.stop(n):i.push(s)}return this.animators=i,this},e.prototype.animateTo=function(t,n,r){jM(this,t,n,r)},e.prototype.animateFrom=function(t,n,r){jM(this,t,n,r,!0)},e.prototype._transitionState=function(t,n,r,a){for(var i=jM(this,n,r,a),o=0;o<i.length;o++)i[o].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Os;function n(r,a,i,o){Object.defineProperty(t,r,{get:function(){if(!this[a]){var l=this[a]=[];s(this,l)}return this[a]},set:function(l){this[i]=l[0],this[o]=l[1],this[a]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[i]},set:function(c){l[i]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();$a(IN,jl);$a(IN,Nf);function jM(e,t,n,r,a){n=n||{};var i=[];Pge(e,"",e,t,n,r,i,a);var o=i.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),i.length>0&&n.during&&i[0].during(function(p,v){n.during(v)});for(var d=0;d<i.length;d++){var h=i[d];h.done(c),h.aborted(f),n.force&&h.duration(n.duration),h.start(n.easing)}return i}function YM(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function wNt(e){return Co(e[0])}function _Nt(e,t,n){if(Co(t[n]))if(Co(e[n])||(e[n]=[]),As(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),YM(e[n],t[n],r))}else{var a=t[n],i=e[n],o=a.length;if(wNt(a))for(var s=a[0].length,l=0;l<o;l++)i[l]?YM(i[l],a[l],s):i[l]=Array.prototype.slice.call(a[l]);else YM(i,a,o);i.length=a.length}else e[n]=t[n]}function SNt(e,t){return e===t||Co(e)&&Co(t)&&CNt(e,t)}function CNt(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Pge(e,t,n,r,a,i,o,s){for(var l=Mn(r),u=a.duration,c=a.delay,f=a.additive,d=a.setToFinal,h=!Jt(i),p=e.animators,v=[],g=0;g<l.length;g++){var m=l[g],y=r[m];if(y!=null&&n[m]!=null&&(h||i[m]))if(Jt(y)&&!Co(y)&&!_N(y)){if(t){s||(n[m]=y,e.updateDuringAnimation(t));continue}Pge(e,m,n[m],y,a,i&&i[m],o,s)}else v.push(m);else s||(n[m]=y,e.updateDuringAnimation(t),v.push(m))}var b=v.length;if(!f&&b)for(var x=0;x<p.length;x++){var _=p[x];if(_.targetName===t){var S=_.stopTracks(v);if(S){var C=Cn(p,_);p.splice(C,1)}}}if(a.force||(v=sr(v,function(I){return!SNt(r[I],n[I])}),b=v.length),b>0||a.force&&!o.length){var k=void 0,T=void 0,E=void 0;if(s){T={},d&&(k={});for(var x=0;x<b;x++){var m=v[x];T[m]=n[m],d?k[m]=r[m]:n[m]=r[m]}}else if(d){E={};for(var x=0;x<b;x++){var m=v[x];E[m]=Tx(n[m]),_Nt(n,r,m)}}var _=new Z6(n,!1,!1,f?sr(p,function(A){return A.targetName===t}):null);_.targetName=t,a.scope&&(_.scope=a.scope),d&&k&&_.whenWithKeys(0,k,v),E&&_.whenWithKeys(0,E,v),_.whenWithKeys(u??500,s?T:r,v).delay(c||0),e.addAnimator(_,t),o.push(_)}}var an=function(e){Oe(t,e);function t(n){var r=e.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var r=this._children,a=0;a<r.length;a++)if(r[a].name===n)return r[a]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var a=this._children,i=a.indexOf(r);i>=0&&(a.splice(i,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,r){var a=Cn(this._children,n);return a>=0&&this.replaceAt(r,a),this},t.prototype.replaceAt=function(n,r){var a=this._children,i=a[r];if(n&&n!==this&&n.parent!==this&&n!==i){a[r]=n,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(n){var r=this.__zr,a=this._children,i=Cn(a,n);return i<0?this:(a.splice(i,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,a=0;a<n.length;a++){var i=n[a];r&&i.removeSelfFromZr(r),i.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,r){for(var a=this._children,i=0;i<a.length;i++){var o=a[i];n.call(r,o,i)}return this},t.prototype.traverse=function(n,r){for(var a=0;a<this._children.length;a++){var i=this._children[a],o=n.call(r,i);i.isGroup&&!o&&i.traverse(n,r)}return this},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var a=this._children[r];a.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var a=this._children[r];a.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var r=new xn(0,0,0,0),a=n||this._children,i=[],o=null,s=0;s<a.length;s++){var l=a[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(i);c?(xn.applyTransform(r,u,c),o=o||r.clone(),o.union(r)):(o=o||u.clone(),o.union(u))}}return o||r},t}(IN);an.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var wk={},Fge={};function TNt(e){delete Fge[e]}function kNt(e){if(!e)return!1;if(typeof e=="string")return sE(e,1)<KF;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,a=0;a<r;a++)n+=sE(t[a].color,1);return n/=r,n<KF}return!1}var INt=function(){function e(t,n,r){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=t;var i=new WDt,o=r.renderer||"canvas";wk[o]||(o=Mn(wk)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new wk[o](n,i,r,t),l=r.ssr||s.ssrOnly;this.storage=i,this.painter=s;var u=!Nn.node&&!Nn.worker&&!l?new mNt(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,f=c==null||c==="auto"?Nn.touchEventsSupported:!!c,d=44,h;f&&(h=fn(r.pointerSize,d)),this.handler=new gge(i,s,u,s.root,h),this.animation=new cNt({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=kNt(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var n,r=vm();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var a=vm();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,n){if(!this._disposed)return this.handler.findHover(t,n)},e.prototype.on=function(t,n,r){return this._disposed||this.handler.on(t,n,r),this},e.prototype.off=function(t,n){this._disposed||this.handler.off(t,n)},e.prototype.trigger=function(t,n){this._disposed||this.handler.trigger(t,n)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof an&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,TNt(this.id))},e}();function EY(e,t){var n=new INt(cge(),e,t);return Fge[n.id]=n,n}function ENt(e,t){wk[e]=t}var XF;function ANt(e){if(typeof XF=="function")return XF(e)}function DNt(e){XF=e}var AY=1e-4,Bge=20;function NNt(e){return e.replace(/^\s+|\s+$/g,"")}function cr(e,t,n,r){var a=t[0],i=t[1],o=n[0],s=n[1],l=i-a,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(r)if(l>0){if(e<=a)return o;if(e>=i)return s}else{if(e>=a)return o;if(e<=i)return s}else{if(e===a)return o;if(e===i)return s}return(e-a)/l*u+o}function St(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return Dt(e)?NNt(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function ha(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),Bge),e=(+e).toFixed(t),n?e:+e}function Al(e){return e.sort(function(t,n){return t-n}),e}function xc(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n}return RNt(e)}function RNt(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),r=n>0?+t.slice(n+1):0,a=n>0?n:t.length,i=t.indexOf("."),o=i<0?0:a-1-i;return Math.max(0,o-r)}function Vge(e,t){var n=Math.log,r=Math.LN10,a=Math.floor(n(e[1]-e[0])/r),i=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-a+i,0),20);return isFinite(o)?o:20}function MNt(e,t){var n=Uc(e,function(h,p){return h+(isNaN(p)?0:p)},0);if(n===0)return[];for(var r=Math.pow(10,t),a=ut(e,function(h){return(isNaN(h)?0:h)/n*r*100}),i=r*100,o=ut(a,function(h){return Math.floor(h)}),s=Uc(o,function(h,p){return h+p},0),l=ut(a,function(h,p){return h-o[p]});s<i;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return ut(o,function(h){return h/r})}function $Nt(e,t){var n=Math.max(xc(e),xc(t)),r=e+t;return n>Bge?r:ha(r,n)}var DY=9007199254740991;function zge(e){var t=Math.PI*2;return(e%t+t)%t}function Uw(e){return e>-AY&&e<AY}var LNt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function jc(e){if(e instanceof Date)return e;if(Dt(e)){var t=LNt.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function ONt(e){return Math.pow(10,J6(e))}function J6(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Wge(e,t){var n=J6(e),r=Math.pow(10,n),a=e/r,i;return a<1.5?i=1:a<2.5?i=2:a<4?i=3:a<7?i=5:i=10,e=i*r,n>=-20?+e.toFixed(n<0?-n:0):e}function XM(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),a=+e[r-1],i=n-r;return i?a+i*(e[r]-a):a}function NY(e){e.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,n=1,r=0;r<e.length;){for(var a=e[r].interval,i=e[r].close,o=0;o<2;o++)a[o]<=t&&(a[o]=t,i[o]=o?1:1-n),t=a[o],n=i[o];a[0]===a[1]&&i[0]*i[1]!==1?e.splice(r,1):r++}return e;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function Zf(e){var t=parseFloat(e);return t==e&&(t!==0||!Dt(e)||e.indexOf("x")<=0)?t:NaN}function Hge(e){return!isNaN(Zf(e))}function Uge(){return Math.round(Math.random()*9)}function Gge(e,t){return t===0?e:Gge(t,e%t)}function RY(e,t){return e==null?t:t==null?e:e*t/Gge(e,t)}function or(e){throw new Error(e)}function MY(e,t,n){return(t-e)*n+e}var Kge="series\0",jge="\0_ec_\0";function Ir(e){return e instanceof Array?e:e==null?[]:[e]}function Eg(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,a=n.length;r<a;r++){var i=n[r];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var $Y=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function y1(e){return Jt(e)&&!st(e)&&!(e instanceof Date)?e.value:e}function PNt(e){return Jt(e)&&!(e instanceof Array)}function Yge(e,t,n){var r=n==="normalMerge",a=n==="replaceMerge",i=n==="replaceAll";e=e||[],t=(t||[]).slice();var o=Pt();X(t,function(l,u){if(!Jt(l)){t[u]=null;return}});var s=FNt(e,o,n);return(r||a)&&BNt(s,e,o,t),r&&VNt(s,t),r||a?zNt(s,t,a):i&&WNt(s,t),HNt(s),s}function FNt(e,t,n){var r=[];if(n==="replaceAll")return r;for(var a=0;a<e.length;a++){var i=e[a];i&&i.id!=null&&t.set(i.id,a),r.push({existing:n==="replaceMerge"||Gw(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return r}function BNt(e,t,n,r){X(r,function(a,i){if(!(!a||a.id==null)){var o=kx(a.id),s=n.get(o);if(s!=null){var l=e[s];is(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=a,l.existing=t[s],r[i]=null}}})}function VNt(e,t){X(t,function(n,r){if(!(!n||n.name==null))for(var a=0;a<e.length;a++){var i=e[a].existing;if(!e[a].newOption&&i&&(i.id==null||n.id==null)&&!Gw(n)&&!Gw(i)&&Xge("name",i,n)){e[a].newOption=n,t[r]=null;return}}})}function zNt(e,t,n){X(t,function(r){if(r){for(var a,i=0;(a=e[i])&&(a.newOption||Gw(a.existing)||a.existing&&r.id!=null&&!Xge("id",r,a.existing));)i++;a?(a.newOption=r,a.brandNew=n):e.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),i++}})}function WNt(e,t){X(t,function(n){e.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function HNt(e){var t=Pt();X(e,function(n){var r=n.existing;r&&t.set(r.id,n)}),X(e,function(n){var r=n.newOption;is(!r||r.id==null||!t.get(r.id)||t.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&t.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),X(e,function(n,r){var a=n.existing,i=n.newOption,o=n.keyInfo;if(Jt(i)){if(o.name=i.name!=null?kx(i.name):a?a.name:Kge+r,a)o.id=kx(a.id);else if(i.id!=null)o.id=kx(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,n)}})}function Xge(e,t,n){var r=Ha(t[e],null),a=Ha(n[e],null);return r!=null&&a!=null&&r===a}function kx(e){return Ha(e,"")}function Ha(e,t){return e==null?t:Dt(e)?e:Kn(e)||IF(e)?e+"":t}function Q6(e){var t=e.name;return!!(t&&t.indexOf(Kge))}function Gw(e){return e&&e.id!=null&&kx(e.id).indexOf(jge)===0}function UNt(e){return jge+e}function GNt(e,t,n){X(e,function(r){var a=r.newOption;Jt(a)&&(r.keyInfo.mainType=t,r.keyInfo.subType=KNt(t,a,r.existing,n))})}function KNt(e,t,n,r){var a=t.type?t.type:n?n.subType:r.determineSubType(e,t);return a}function jNt(e,t){var n={},r={};return a(e||[],n),a(t||[],r,n),[i(n),i(r)];function a(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=Ha(o[u].seriesId,null);if(f==null)return;for(var d=Ir(o[u].dataIndex),h=l&&l[f],p=0,v=d.length;p<v;p++){var g=d[p];h&&h[g]?h[g]=null:(s[f]||(s[f]={}))[g]=1}}}function i(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=i(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Ag(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return st(t.dataIndex)?ut(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return st(t.name)?ut(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}function Vn(){var e="__ec_inner_"+YNt++;return function(t){return t[e]||(t[e]={})}}var YNt=Uge();function Ix(e,t,n){var r=e5(t,n),a=r.mainTypeSpecified,i=r.queryOptionMap,o=r.others,s=o,l=n?n.defaultMainType:null;return!a&&l&&i.set(l,{}),i.each(function(u,c){var f=uC(e,c,u,{useDefault:l===c,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function e5(e,t){var n;if(Dt(e)){var r={};r[e+"Index"]=0,n=r}else n=e;var a=Pt(),i={},o=!1;return X(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&Cn(t.includeMainTypes,c)<0)){o=o||!!c;var d=a.get(c)||a.set(c,{});d[f]=s}}),{mainTypeSpecified:o,queryOptionMap:a,others:i}}var Da={useDefault:!0,enableAll:!1,enableNone:!1},XNt={useDefault:!1,enableAll:!0,enableNone:!0};function uC(e,t,n,r){r=r||Da;var a=n.index,i=n.id,o=n.name,s={models:null,specified:a!=null||i!=null||o!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=e.getComponent(t))?[l]:[],s}return a==="none"||a===!1?(is(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(a==="all"&&(is(r.enableAll,'`"all"` is not a valid value on index option.'),a=i=o=null),s.models=e.queryComponents({mainType:t,index:a,id:i,name:o}),s)}function qge(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function qNt(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function ZNt(e){return e==="auto"?Nn.domSupported?"html":"richText":e||"html"}function qF(e,t){var n=Pt(),r=[];return X(e,function(a){var i=t(a);(n.get(i)||(r.push(i),n.set(i,[]))).push(a)}),{keys:r,buckets:n}}function Zge(e,t,n,r,a){var i=t==null||t==="auto";if(r==null)return r;if(Kn(r)){var o=MY(n||0,r,a);return ha(o,i?Math.max(xc(n||0),xc(r)):t)}else{if(Dt(r))return a<1?n:r;for(var s=[],l=n,u=r,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=e.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(a<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,p=u[f],o=MY(h,p,a);s[f]=ha(o,i?Math.max(xc(h),xc(p)):t)}}return s}}var JNt=".",$p="___EC__COMPONENT__CONTAINER___",Jge="___EC__EXTENDED_CLASS___";function wc(e){var t={main:"",sub:""};if(e){var n=e.split(JNt);t.main=n[0]||"",t.sub=n[1]||""}return t}function QNt(e){is(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function eRt(e){return!!(e&&e[Jge])}function t5(e,t){e.$constructor=e,e.extend=function(n){var r=this,a;return tRt(r)?a=function(i){Oe(o,i);function o(){return i.apply(this,arguments)||this}return o}(r):(a=function(){(n.$constructor||r).apply(this,arguments)},uDt(a,this)),rt(a.prototype,n),a[Jge]=!0,a.extend=this.extend,a.superCall=aRt,a.superApply=iRt,a.superClass=r,a}}function tRt(e){return Yt(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function Qge(e,t){e.extend=t.extend}var nRt=Math.round(Math.random()*10);function rRt(e){var t=["__\0is_clz",nRt++].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!!(n&&n[t])}}function aRt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function iRt(e,t,n){return this.superClass.prototype[t].apply(e,n)}function EN(e){var t={};e.registerClass=function(r){var a=r.type||r.prototype.type;if(a){QNt(a),r.prototype.type=a;var i=wc(a);if(!i.sub)t[i.main]=r;else if(i.sub!==$p){var o=n(i);o[i.sub]=r}}return r},e.getClass=function(r,a,i){var o=t[r];if(o&&o[$p]&&(o=a?o[a]:null),i&&!o)throw new Error(a?"Component "+r+"."+(a||"")+" is used but not imported.":r+".type should be specified.");return o},e.getClassesByMainType=function(r){var a=wc(r),i=[],o=t[a.main];return o&&o[$p]?X(o,function(s,l){l!==$p&&i.push(s)}):i.push(o),i},e.hasClass=function(r){var a=wc(r);return!!t[a.main]},e.getAllClassMainTypes=function(){var r=[];return X(t,function(a,i){r.push(i)}),r},e.hasSubTypes=function(r){var a=wc(r),i=t[a.main];return i&&i[$p]};function n(r){var a=t[r.main];return(!a||!a[$p])&&(a=t[r.main]={},a[$p]=!0),a}}function Dg(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(r,a,i){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(a&&Cn(a,l)>=0||i&&Cn(i,l)<0)){var u=r.getShallow(l,t);u!=null&&(o[e[s][0]]=u)}}return o}}var oRt=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],sRt=Dg(oRt),lRt=function(){function e(){}return e.prototype.getAreaStyle=function(t,n){return sRt(this,t,n)},e}(),ZF=new sC(50);function uRt(e){if(typeof e=="string"){var t=ZF.get(e);return t&&t.image}else return e}function n5(e,t,n,r,a){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var i=ZF.get(e),o={hostEl:n,cb:r,cbPayload:a};return i?(t=i.image,!AN(t)&&i.pending.push(o)):(t=zh.loadImage(e,LY,LY),t.__zrImageSrc=e,ZF.put(e,t.__cachedImgObj={image:t,pending:[o]})),t}else return e;else return t}function LY(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function AN(e){return e&&e.width&&e.height}var qM=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function cRt(e,t,n,r,a,i){if(!n){e.text="",e.isTruncated=!1;return}var o=(t+"").split(`
`);i=e0e(n,r,a,i);for(var s=!1,l={},u=0,c=o.length;u<c;u++)t0e(l,o[u],i),o[u]=l.textLine,s=s||l.isTruncated;e.text=o.join(`
`),e.isTruncated=s}function e0e(e,t,n,r){r=r||{};var a=rt({},r);a.font=t,n=fn(n,"..."),a.maxIterations=fn(r.maxIterations,2);var i=a.minChar=fn(r.minChar,0);a.cnCharWidth=Ys("",t);var o=a.ascCharWidth=Ys("a",t);a.placeholder=fn(r.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<i&&s>=o;l++)s-=o;var u=Ys(n,t);return u>s&&(n="",u=0),s=e-u,a.ellipsis=n,a.ellipsisWidth=u,a.contentWidth=s,a.containerWidth=e,a}function t0e(e,t,n){var r=n.containerWidth,a=n.font,i=n.contentWidth;if(!r){e.textLine="",e.isTruncated=!1;return}var o=Ys(t,a);if(o<=r){e.textLine=t,e.isTruncated=!1;return}for(var s=0;;s++){if(o<=i||s>=n.maxIterations){t+=n.ellipsis;break}var l=s===0?fRt(t,i,n.ascCharWidth,n.cnCharWidth):o>0?Math.floor(t.length*i/o):0;t=t.substr(0,l),o=Ys(t,a)}t===""&&(t=n.placeholder),e.textLine=t,e.isTruncated=!0}function fRt(e,t,n,r){for(var a=0,i=0,o=e.length;i<o&&a<t;i++){var s=e.charCodeAt(i);a+=0<=s&&s<=127?n:r}return i}function dRt(e,t){e!=null&&(e+="");var n=t.overflow,r=t.padding,a=t.font,i=n==="truncate",o=kN(a),s=fn(t.lineHeight,o),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",c=!1,f=t.width,d;f!=null&&(n==="break"||n==="breakAll")?d=e?n0e(e,t.font,f,n==="breakAll",0).lines:[]:d=e?e.split(`
`):[];var h=d.length*s,p=fn(t.height,h);if(h>p&&u){var v=Math.floor(p/s);c=c||d.length>v,d=d.slice(0,v)}if(e&&i&&f!=null)for(var g=e0e(f,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m={},y=0;y<d.length;y++)t0e(m,d[y],g),d[y]=m.textLine,c=c||m.isTruncated;for(var b=p,x=0,y=0;y<d.length;y++)x=Math.max(Ys(d[y],a),x);f==null&&(f=x);var _=x;return r&&(b+=r[0]+r[2],_+=r[1]+r[3],f+=r[1]+r[3]),l&&(_=f),{lines:d,height:p,outerWidth:_,outerHeight:b,lineHeight:s,calculatedLineHeight:o,contentWidth:x,contentHeight:h,width:f,isTruncated:c}}var hRt=function(){function e(){}return e}(),OY=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),pRt=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e}();function vRt(e,t){var n=new pRt;if(e!=null&&(e+=""),!e)return n;for(var r=t.width,a=t.height,i=t.overflow,o=(i==="break"||i==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:i==="breakAll"}:null,s=qM.lastIndex=0,l;(l=qM.exec(e))!=null;){var u=l.index;u>s&&ZM(n,e.substring(s,u),t,o),ZM(n,l[2],t,o,l[1]),s=qM.lastIndex}s<e.length&&ZM(n,e.substring(s,e.length),t,o);var c=[],f=0,d=0,h=t.padding,p=i==="truncate",v=t.lineOverflow==="truncate",g={};function m(W,U,V){W.width=U,W.lineHeight=V,f+=V,d=Math.max(d,U)}e:for(var y=0;y<n.lines.length;y++){for(var b=n.lines[y],x=0,_=0,S=0;S<b.tokens.length;S++){var C=b.tokens[S],k=C.styleName&&t.rich[C.styleName]||{},T=C.textPadding=k.padding,E=T?T[1]+T[3]:0,I=C.font=k.font||t.font;C.contentHeight=kN(I);var A=fn(k.height,C.contentHeight);if(C.innerHeight=A,T&&(A+=T[0]+T[2]),C.height=A,C.lineHeight=Rc(k.lineHeight,t.lineHeight,A),C.align=k&&k.align||t.align,C.verticalAlign=k&&k.verticalAlign||"middle",v&&a!=null&&f+C.lineHeight>a){var N=n.lines.length;S>0?(b.tokens=b.tokens.slice(0,S),m(b,_,x),n.lines=n.lines.slice(0,y+1)):n.lines=n.lines.slice(0,y),n.isTruncated=n.isTruncated||n.lines.length<N;break e}var L=k.width,R=L==null||L==="auto";if(typeof L=="string"&&L.charAt(L.length-1)==="%")C.percentWidth=L,c.push(C),C.contentWidth=Ys(C.text,I);else{if(R){var D=k.backgroundColor,P=D&&D.image;P&&(P=uRt(P),AN(P)&&(C.width=Math.max(C.width,P.width*A/P.height)))}var O=p&&r!=null?r-_:null;O!=null&&O<C.width?!R||O<E?(C.text="",C.width=C.contentWidth=0):(cRt(g,C.text,O-E,I,t.ellipsis,{minChar:t.truncateMinChar}),C.text=g.text,n.isTruncated=n.isTruncated||g.isTruncated,C.width=C.contentWidth=Ys(C.text,I)):C.contentWidth=Ys(C.text,I)}C.width+=E,_+=C.width,k&&(x=Math.max(x,C.lineHeight))}m(b,_,x)}n.outerWidth=n.width=fn(r,d),n.outerHeight=n.height=fn(a,f),n.contentHeight=f,n.contentWidth=d,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var y=0;y<c.length;y++){var C=c[y],M=C.percentWidth;C.width=parseInt(M,10)/100*n.width}return n}function ZM(e,t,n,r,a){var i=t==="",o=a&&n.rich[a]||{},s=e.lines,l=o.font||n.font,u=!1,c,f;if(r){var d=o.padding,h=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var p=Bu(o.width,r.width)+h;s.length>0&&p+r.accumWidth>r.width&&(c=t.split(`
`),u=!0),r.accumWidth=p}else{var v=n0e(t,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=v.accumWidth+h,f=v.linesWidths,c=v.lines}}else c=t.split(`
`);for(var g=0;g<c.length;g++){var m=c[g],y=new hRt;if(y.styleName=a,y.text=m,y.isLineHolder=!m&&!i,typeof o.width=="number"?y.width=o.width:y.width=f?f[g]:Ys(m,l),!g&&!u){var b=(s[s.length-1]||(s[0]=new OY)).tokens,x=b.length;x===1&&b[0].isLineHolder?b[0]=y:(m||!x||i)&&b.push(y)}else s.push(new OY([y]))}}function gRt(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var mRt=Uc(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function yRt(e){return gRt(e)?!!mRt[e]:!0}function n0e(e,t,n,r,a){for(var i=[],o=[],s="",l="",u=0,c=0,f=0;f<e.length;f++){var d=e.charAt(f);if(d===`
`){l&&(s+=l,c+=u),i.push(s),o.push(c),s="",l="",u=0,c=0;continue}var h=Ys(d,t),p=r?!1:!yRt(d);if(i.length?c+h>n:a+c+h>n){c?(s||l)&&(p?(s||(s=l,l="",u=0,c=u),i.push(s),o.push(c-u),l+=d,u+=h,s="",c=u):(l&&(s+=l,l="",u=0),i.push(s),o.push(c),s=d,c=h)):p?(i.push(l),o.push(u),l=d,u=h):(i.push(d),o.push(h));continue}c+=h,p?(l+=d,u+=h):(l&&(s+=l,l="",u=0),s+=d)}return!i.length&&!s&&(s=e,l="",u=0),l&&(s+=l),s&&(i.push(s),o.push(c)),i.length===1&&(c+=a),{accumWidth:c,lines:i,linesWidths:o}}var JF="__zr_style_"+Math.round(Math.random()*10),jv={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DN={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};jv[JF]=!0;var PY=["z","z2","invisible"],bRt=["invisible"],zl=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype._init=function(n){for(var r=Mn(n),a=0;a<r.length;a++){var i=r[a];i==="style"?this.useStyle(n[i]):e.prototype.attrKV.call(this,i,n[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,r,a,i){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&xRt(this,n,r)||o&&!o[0]&&!o[3])return!1;if(a&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(n,r){return this.rectContain(n,r)},t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.rectContain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();return i.contain(a[0],a[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,a=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,s=i.shadowOffsetX||0,l=i.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new xn(0,0,0,0)),r?xn.applyTransform(n,a,r):n.copy(a),(o||s||l)&&(n.width+=o*2+Math.abs(s),n.height+=o*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-o),n.y=Math.min(n.y,n.y+l-o));var u=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-u),n.y=Math.floor(n.y-u),n.width=Math.ceil(n.width+1+u*2),n.height=Math.ceil(n.height+1+u*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new xn(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,r){n!=="style"?e.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:rt(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=Pb,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Pb)},t.prototype.styleUpdated=function(){this.__dirty&=~Pb},t.prototype.createStyle=function(n){return SN(jv,n)},t.prototype.useStyle=function(n){n[JF]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[JF]},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,PY)},t.prototype._applyStateObj=function(n,r,a,i,o,s){e.prototype._applyStateObj.call(this,n,r,a,i,o,s);var l=!(r&&i),u;if(r&&r.style?o?i?u=r.style:(u=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:a.style),this._mergeStyle(u,r.style)):l&&(u=a.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Mn(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var p=Mn(u),d=0;d<p.length;d++){var h=p[d];this.style[h]=this.style[h]}this._transitionState(n,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var v=this.__inHover?bRt:PY,d=0;d<v.length;d++){var h=v[d];r&&r[h]!=null?this[h]=r[h]:l&&a[h]!=null&&(this[h]=a[h])}},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),a,i=0;i<n.length;i++){var o=n[i];o.style&&(a=a||{},this._mergeStyle(a,o.style))}return a&&(r.style=a),r},t.prototype._mergeStyle=function(n,r){return rt(n,r),n},t.prototype.getAnimationStyleProps=function(){return DN},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=Os|Pb}(),t}(IN),JM=new xn(0,0,0,0),QM=new xn(0,0,0,0);function xRt(e,t,n){return JM.copy(e.getBoundingRect()),e.transform&&JM.applyTransform(e.transform),QM.width=t,QM.height=n,!JM.intersect(QM)}var gs=Math.min,ms=Math.max,e$=Math.sin,t$=Math.cos,Lp=Math.PI*2,$2=r0(),L2=r0(),O2=r0();function NN(e,t,n){if(e.length!==0){for(var r=e[0],a=r[0],i=r[0],o=r[1],s=r[1],l=1;l<e.length;l++)r=e[l],a=gs(a,r[0]),i=ms(i,r[0]),o=gs(o,r[1]),s=ms(s,r[1]);t[0]=a,t[1]=o,n[0]=i,n[1]=s}}function FY(e,t,n,r,a,i){a[0]=gs(e,n),a[1]=gs(t,r),i[0]=ms(e,n),i[1]=ms(t,r)}var BY=[],VY=[];function wRt(e,t,n,r,a,i,o,s,l,u){var c=wge,f=Qa,d=c(e,n,a,o,BY);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var p=f(e,n,a,o,BY[h]);l[0]=gs(p,l[0]),u[0]=ms(p,u[0])}d=c(t,r,i,s,VY);for(var h=0;h<d;h++){var v=f(t,r,i,s,VY[h]);l[1]=gs(v,l[1]),u[1]=ms(v,u[1])}l[0]=gs(e,l[0]),u[0]=ms(e,u[0]),l[0]=gs(o,l[0]),u[0]=ms(o,u[0]),l[1]=gs(t,l[1]),u[1]=ms(t,u[1]),l[1]=gs(s,l[1]),u[1]=ms(s,u[1])}function _Rt(e,t,n,r,a,i,o,s){var l=Sge,u=xi,c=ms(gs(l(e,n,a),1),0),f=ms(gs(l(t,r,i),1),0),d=u(e,n,a,c),h=u(t,r,i,f);o[0]=gs(e,a,d),o[1]=gs(t,i,h),s[0]=ms(e,a,d),s[1]=ms(t,i,h)}function SRt(e,t,n,r,a,i,o,s,l){var u=eh,c=th,f=Math.abs(a-i);if(f%Lp<1e-4&&f>1e-4){s[0]=e-n,s[1]=t-r,l[0]=e+n,l[1]=t+r;return}if($2[0]=t$(a)*n+e,$2[1]=e$(a)*r+t,L2[0]=t$(i)*n+e,L2[1]=e$(i)*r+t,u(s,$2,L2),c(l,$2,L2),a=a%Lp,a<0&&(a=a+Lp),i=i%Lp,i<0&&(i=i+Lp),a>i&&!o?i+=Lp:a<i&&o&&(a+=Lp),o){var d=i;i=a,a=d}for(var h=0;h<i;h+=Math.PI/2)h>a&&(O2[0]=t$(h)*n+e,O2[1]=e$(h)*r+t,u(s,O2,s),c(l,O2,l))}var Nr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Op=[],Pp=[],Zu=[],Sd=[],Ju=[],Qu=[],n$=Math.min,r$=Math.max,Fp=Math.cos,Bp=Math.sin,pf=Math.abs,QF=Math.PI,Od=QF*2,a$=typeof Float32Array<"u",Q1=[];function i$(e){var t=Math.round(e/QF*1e8)/1e8;return t%2*QF}function r5(e,t){var n=i$(e[0]);n<0&&(n+=Od);var r=n-e[0],a=e[1];a+=r,!t&&a-n>=Od?a=n+Od:t&&n-a>=Od?a=n-Od:!t&&n>a?a=n+(Od-i$(n-a)):t&&n<a&&(a=n-(Od-i$(a-n))),e[0]=n,e[1]=a}var Yc=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,n,r){r=r||0,r>0&&(this._ux=pf(r/uE/t)||0,this._uy=pf(r/uE/n)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(Nr.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},e.prototype.lineTo=function(t,n){var r=pf(t-this._xi),a=pf(n-this._yi),i=r>this._ux||a>this._uy;if(this.addData(Nr.L,t,n),this._ctx&&i&&this._ctx.lineTo(t,n),i)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var o=r*r+a*a;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(t,n,r,a,i,o){return this._drawPendingPt(),this.addData(Nr.C,t,n,r,a,i,o),this._ctx&&this._ctx.bezierCurveTo(t,n,r,a,i,o),this._xi=i,this._yi=o,this},e.prototype.quadraticCurveTo=function(t,n,r,a){return this._drawPendingPt(),this.addData(Nr.Q,t,n,r,a),this._ctx&&this._ctx.quadraticCurveTo(t,n,r,a),this._xi=r,this._yi=a,this},e.prototype.arc=function(t,n,r,a,i,o){this._drawPendingPt(),Q1[0]=a,Q1[1]=i,r5(Q1,o),a=Q1[0],i=Q1[1];var s=i-a;return this.addData(Nr.A,t,n,r,r,a,s,0,o?0:1),this._ctx&&this._ctx.arc(t,n,r,a,i,o),this._xi=Fp(i)*r+t,this._yi=Bp(i)*r+n,this},e.prototype.arcTo=function(t,n,r,a,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,r,a,i),this},e.prototype.rect=function(t,n,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,r,a),this.addData(Nr.R,t,n,r,a),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(Nr.Z);var t=this._ctx,n=this._x0,r=this._y0;return t&&t.closePath(),this._xi=n,this._yi=r,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&a$&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=t[r];this._len=n},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,r=0,a=this._len,i=0;i<n;i++)r+=t[i].len();a$&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<n;i++)for(var o=t[i].data,s=0;s<o.length;s++)this.data[a++]=o[s];this._len=a},e.prototype.addData=function(t,n,r,a,i,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,a$&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Zu[0]=Zu[1]=Ju[0]=Ju[1]=Number.MAX_VALUE,Sd[0]=Sd[1]=Qu[0]=Qu[1]=-Number.MAX_VALUE;var t=this.data,n=0,r=0,a=0,i=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(n=t[o],r=t[o+1],a=n,i=r),s){case Nr.M:n=a=t[o++],r=i=t[o++],Ju[0]=a,Ju[1]=i,Qu[0]=a,Qu[1]=i;break;case Nr.L:FY(n,r,t[o],t[o+1],Ju,Qu),n=t[o++],r=t[o++];break;case Nr.C:wRt(n,r,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],Ju,Qu),n=t[o++],r=t[o++];break;case Nr.Q:_Rt(n,r,t[o++],t[o++],t[o],t[o+1],Ju,Qu),n=t[o++],r=t[o++];break;case Nr.A:var u=t[o++],c=t[o++],f=t[o++],d=t[o++],h=t[o++],p=t[o++]+h;o+=1;var v=!t[o++];l&&(a=Fp(h)*f+u,i=Bp(h)*d+c),SRt(u,c,f,d,h,p,v,Ju,Qu),n=Fp(p)*f+u,r=Bp(p)*d+c;break;case Nr.R:a=n=t[o++],i=r=t[o++];var g=t[o++],m=t[o++];FY(a,i,a+g,i+m,Ju,Qu);break;case Nr.Z:n=a,r=i;break}eh(Zu,Zu,Ju),th(Sd,Sd,Qu)}return o===0&&(Zu[0]=Zu[1]=Sd[0]=Sd[1]=0),new xn(Zu[0],Zu[1],Sd[0]-Zu[0],Sd[1]-Zu[1])},e.prototype._calculateLength=function(){var t=this.data,n=this._len,r=this._ux,a=this._uy,i=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<n;){var h=t[d++],p=d===1;p&&(i=t[d],o=t[d+1],s=i,l=o);var v=-1;switch(h){case Nr.M:i=s=t[d++],o=l=t[d++];break;case Nr.L:{var g=t[d++],m=t[d++],y=g-i,b=m-o;(pf(y)>r||pf(b)>a||d===n-1)&&(v=Math.sqrt(y*y+b*b),i=g,o=m);break}case Nr.C:{var x=t[d++],_=t[d++],g=t[d++],m=t[d++],S=t[d++],C=t[d++];v=HDt(i,o,x,_,g,m,S,C,10),i=S,o=C;break}case Nr.Q:{var x=t[d++],_=t[d++],g=t[d++],m=t[d++];v=GDt(i,o,x,_,g,m,10),i=g,o=m;break}case Nr.A:var k=t[d++],T=t[d++],E=t[d++],I=t[d++],A=t[d++],N=t[d++],L=N+A;d+=1,p&&(s=Fp(A)*E+k,l=Bp(A)*I+T),v=r$(E,I)*n$(Od,Math.abs(N)),i=Fp(L)*E+k,o=Bp(L)*I+T;break;case Nr.R:{s=i=t[d++],l=o=t[d++];var R=t[d++],D=t[d++];v=R*2+D*2;break}case Nr.Z:{var y=s-i,b=l-o;v=Math.sqrt(y*y+b*b),i=s,o=l;break}}v>=0&&(u[f++]=v,c+=v)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,n){var r=this.data,a=this._ux,i=this._uy,o=this._len,s,l,u,c,f,d,h=n<1,p,v,g=0,m=0,y,b=0,x,_;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,v=this._pathLen,y=n*v,!y)))e:for(var S=0;S<o;){var C=r[S++],k=S===1;switch(k&&(u=r[S],c=r[S+1],s=u,l=c),C!==Nr.L&&b>0&&(t.lineTo(x,_),b=0),C){case Nr.M:s=u=r[S++],l=c=r[S++],t.moveTo(u,c);break;case Nr.L:{f=r[S++],d=r[S++];var T=pf(f-u),E=pf(d-c);if(T>a||E>i){if(h){var I=p[m++];if(g+I>y){var A=(y-g)/I;t.lineTo(u*(1-A)+f*A,c*(1-A)+d*A);break e}g+=I}t.lineTo(f,d),u=f,c=d,b=0}else{var N=T*T+E*E;N>b&&(x=f,_=d,b=N)}break}case Nr.C:{var L=r[S++],R=r[S++],D=r[S++],P=r[S++],O=r[S++],M=r[S++];if(h){var I=p[m++];if(g+I>y){var A=(y-g)/I;Wh(u,L,D,O,A,Op),Wh(c,R,P,M,A,Pp),t.bezierCurveTo(Op[1],Pp[1],Op[2],Pp[2],Op[3],Pp[3]);break e}g+=I}t.bezierCurveTo(L,R,D,P,O,M),u=O,c=M;break}case Nr.Q:{var L=r[S++],R=r[S++],D=r[S++],P=r[S++];if(h){var I=p[m++];if(g+I>y){var A=(y-g)/I;zw(u,L,D,A,Op),zw(c,R,P,A,Pp),t.quadraticCurveTo(Op[1],Pp[1],Op[2],Pp[2]);break e}g+=I}t.quadraticCurveTo(L,R,D,P),u=D,c=P;break}case Nr.A:var W=r[S++],U=r[S++],V=r[S++],H=r[S++],K=r[S++],j=r[S++],ne=r[S++],Q=!r[S++],oe=V>H?V:H,ae=pf(V-H)>.001,me=K+j,ve=!1;if(h){var I=p[m++];g+I>y&&(me=K+j*(y-g)/I,ve=!0),g+=I}if(ae&&t.ellipse?t.ellipse(W,U,V,H,ne,K,me,Q):t.arc(W,U,oe,K,me,Q),ve)break e;k&&(s=Fp(K)*V+W,l=Bp(K)*H+U),u=Fp(me)*V+W,c=Bp(me)*H+U;break;case Nr.R:s=u=r[S],l=c=r[S+1],f=r[S++],d=r[S++];var B=r[S++],re=r[S++];if(h){var I=p[m++];if(g+I>y){var ge=y-g;t.moveTo(f,d),t.lineTo(f+n$(ge,B),d),ge-=B,ge>0&&t.lineTo(f+B,d+n$(ge,re)),ge-=re,ge>0&&t.lineTo(f+r$(B-ge,0),d+re),ge-=B,ge>0&&t.lineTo(f,d+r$(re-ge,0));break e}g+=I}t.rect(f,d,B,re);break;case Nr.Z:if(h){var I=p[m++];if(g+I>y){var A=(y-g)/I;t.lineTo(u*(1-A)+s*A,c*(1-A)+l*A);break e}g+=I}t.closePath(),u=s,c=l}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=Nr,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function Wd(e,t,n,r,a,i,o){if(a===0)return!1;var s=a,l=0,u=e;if(o>t+s&&o>r+s||o<t-s&&o<r-s||i>e+s&&i>n+s||i<e-s&&i<n-s)return!1;if(e!==n)l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);else return Math.abs(i-e)<=s/2;var c=l*i-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function CRt(e,t,n,r,a,i,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>r+f&&c>i+f&&c>s+f||c<t-f&&c<r-f&&c<i-f&&c<s-f||u>e+f&&u>n+f&&u>a+f&&u>o+f||u<e-f&&u<n-f&&u<a-f&&u<o-f)return!1;var d=_ge(e,t,n,r,a,i,o,s,u,c,null);return d<=f/2}function r0e(e,t,n,r,a,i,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>r+u&&l>i+u||l<t-u&&l<r-u&&l<i-u||s>e+u&&s>n+u&&s>a+u||s<e-u&&s<n-u&&s<a-u)return!1;var c=Cge(e,t,n,r,a,i,s,l,null);return c<=u/2}var zY=Math.PI*2;function Vs(e){return e%=zY,e<0&&(e+=zY),e}var eb=Math.PI*2;function TRt(e,t,n,r,a,i,o,s,l){if(o===0)return!1;var u=o;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(r-a)%eb<1e-4)return!0;if(i){var f=r;r=Vs(a),a=Vs(f)}else r=Vs(r),a=Vs(a);r>a&&(a+=eb);var d=Math.atan2(l,s);return d<0&&(d+=eb),d>=r&&d<=a||d+eb>=r&&d+eb<=a}function bf(e,t,n,r,a,i){if(i>t&&i>r||i<t&&i<r||r===t)return 0;var o=(i-t)/(r-t),s=r<t?1:-1;(o===1||o===0)&&(s=r<t?.5:-.5);var l=o*(n-e)+e;return l===a?1/0:l>a?s:0}var Cd=Yc.CMD,Vp=Math.PI*2,kRt=1e-4;function IRt(e,t){return Math.abs(e-t)<kRt}var Po=[-1,-1,-1],gl=[-1,-1];function ERt(){var e=gl[0];gl[0]=gl[1],gl[1]=e}function ARt(e,t,n,r,a,i,o,s,l,u){if(u>t&&u>r&&u>i&&u>s||u<t&&u<r&&u<i&&u<s)return 0;var c=iE(t,r,i,s,u,Po);if(c===0)return 0;for(var f=0,d=-1,h=void 0,p=void 0,v=0;v<c;v++){var g=Po[v],m=g===0||g===1?.5:1,y=Qa(e,n,a,o,g);y<l||(d<0&&(d=wge(t,r,i,s,gl),gl[1]<gl[0]&&d>1&&ERt(),h=Qa(t,r,i,s,gl[0]),d>1&&(p=Qa(t,r,i,s,gl[1]))),d===2?g<gl[0]?f+=h<t?m:-m:g<gl[1]?f+=p<h?m:-m:f+=s<p?m:-m:g<gl[0]?f+=h<t?m:-m:f+=s<h?m:-m)}return f}function DRt(e,t,n,r,a,i,o,s){if(s>t&&s>r&&s>i||s<t&&s<r&&s<i)return 0;var l=UDt(t,r,i,s,Po);if(l===0)return 0;var u=Sge(t,r,i);if(u>=0&&u<=1){for(var c=0,f=xi(t,r,i,u),d=0;d<l;d++){var h=Po[d]===0||Po[d]===1?.5:1,p=xi(e,n,a,Po[d]);p<o||(Po[d]<u?c+=f<t?h:-h:c+=i<f?h:-h)}return c}else{var h=Po[0]===0||Po[0]===1?.5:1,p=xi(e,n,a,Po[0]);return p<o?0:i<t?h:-h}}function NRt(e,t,n,r,a,i,o,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Po[0]=-l,Po[1]=l;var u=Math.abs(r-a);if(u<1e-4)return 0;if(u>=Vp-1e-4){r=0,a=Vp;var c=i?1:-1;return o>=Po[0]+e&&o<=Po[1]+e?c:0}if(r>a){var f=r;r=a,a=f}r<0&&(r+=Vp,a+=Vp);for(var d=0,h=0;h<2;h++){var p=Po[h];if(p+e>o){var v=Math.atan2(s,p),c=i?1:-1;v<0&&(v=Vp+v),(v>=r&&v<=a||v+Vp>=r&&v+Vp<=a)&&(v>Math.PI/2&&v<Math.PI*1.5&&(c=-c),d+=c)}}return d}function a0e(e,t,n,r,a){for(var i=e.data,o=e.len(),s=0,l=0,u=0,c=0,f=0,d,h,p=0;p<o;){var v=i[p++],g=p===1;switch(v===Cd.M&&p>1&&(n||(s+=bf(l,u,c,f,r,a))),g&&(l=i[p],u=i[p+1],c=l,f=u),v){case Cd.M:c=i[p++],f=i[p++],l=c,u=f;break;case Cd.L:if(n){if(Wd(l,u,i[p],i[p+1],t,r,a))return!0}else s+=bf(l,u,i[p],i[p+1],r,a)||0;l=i[p++],u=i[p++];break;case Cd.C:if(n){if(CRt(l,u,i[p++],i[p++],i[p++],i[p++],i[p],i[p+1],t,r,a))return!0}else s+=ARt(l,u,i[p++],i[p++],i[p++],i[p++],i[p],i[p+1],r,a)||0;l=i[p++],u=i[p++];break;case Cd.Q:if(n){if(r0e(l,u,i[p++],i[p++],i[p],i[p+1],t,r,a))return!0}else s+=DRt(l,u,i[p++],i[p++],i[p],i[p+1],r,a)||0;l=i[p++],u=i[p++];break;case Cd.A:var m=i[p++],y=i[p++],b=i[p++],x=i[p++],_=i[p++],S=i[p++];p+=1;var C=!!(1-i[p++]);d=Math.cos(_)*b+m,h=Math.sin(_)*x+y,g?(c=d,f=h):s+=bf(l,u,d,h,r,a);var k=(r-m)*x/b+m;if(n){if(TRt(m,y,x,_,_+S,C,t,k,a))return!0}else s+=NRt(m,y,x,_,_+S,C,k,a);l=Math.cos(_+S)*b+m,u=Math.sin(_+S)*x+y;break;case Cd.R:c=l=i[p++],f=u=i[p++];var T=i[p++],E=i[p++];if(d=c+T,h=f+E,n){if(Wd(c,f,d,f,t,r,a)||Wd(d,f,d,h,t,r,a)||Wd(d,h,c,h,t,r,a)||Wd(c,h,c,f,t,r,a))return!0}else s+=bf(d,f,d,h,r,a),s+=bf(c,h,c,f,r,a);break;case Cd.Z:if(n){if(Wd(l,u,c,f,t,r,a))return!0}else s+=bf(l,u,c,f,r,a);l=c,u=f;break}}return!n&&!IRt(u,f)&&(s+=bf(l,u,c,f,r,a)||0),s!==0}function RRt(e,t,n){return a0e(e,0,!1,t,n)}function MRt(e,t,n,r){return a0e(e,t,!0,n,r)}var fE=Xt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},jv),$Rt={style:Xt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DN.style)},o$=Kc.concat(["invisible","culling","z","z2","zlevel","parent"]),An=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var a=this._decalEl=this._decalEl||new t;a.buildPath===t.prototype.buildPath&&(a.buildPath=function(l){n.buildPath(l,n.shape)}),a.silent=!0;var i=a.style;for(var o in r)i[o]!==r[o]&&(i[o]=r[o]);i.fill=r.fill?r.decal:null,i.decal=null,i.shadowColor=null,r.strokeFirst&&(i.stroke=null);for(var s=0;s<o$.length;++s)a[o$[s]]=this[o$[s]];a.__dirty|=Os}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var r=Mn(n);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var i=0;i<r.length;i++){var o=r[i],s=n[o];o==="style"?this.style?rt(this.style,s):this.useStyle(s):o==="shape"?rt(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(Dt(n)){var r=sE(n,0);return r>.5?jF:r>.2?yNt:YF}else if(n)return YF}return jF},t.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(Dt(r)){var a=this.__zr,i=!!(a&&a.isDarkMode()),o=sE(n,0)<KF;if(i===o)return r}},t.prototype.buildPath=function(n,r,a){},t.prototype.pathUpdated=function(){this.__dirty&=~om},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new Yc(!1)},t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,a=!n;if(a){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||this.__dirty&om)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),n=o.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||a){s.copy(n);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return n},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect(),o=this.style;if(n=a[0],r=a[1],i.contain(n,r)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),MRt(s,l/u,n,r)))return!0}if(this.hasFill())return RRt(s,n,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=om,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):e.prototype.attrKV.call(this,n,r)},t.prototype.setShape=function(n,r){var a=this.shape;return a||(a=this.shape={}),typeof n=="string"?a[n]=r:rt(a,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&om)},t.prototype.createStyle=function(n){return SN(fE,n)},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=rt({},this.shape))},t.prototype._applyStateObj=function(n,r,a,i,o,s){e.prototype._applyStateObj.call(this,n,r,a,i,o,s);var l=!(r&&i),u;if(r&&r.shape?o?i?u=r.shape:(u=rt({},a.shape),rt(u,r.shape)):(u=rt({},i?this.shape:a.shape),rt(u,r.shape)):l&&(u=a.shape),u)if(o){this.shape=rt({},this.shape);for(var c={},f=Mn(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(n,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),a,i=0;i<n.length;i++){var o=n[i];o.shape&&(a=a||{},this._mergeStyle(a,o.shape))}return a&&(r.shape=a),r},t.prototype.getAnimationStyleProps=function(){return $Rt},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var r=function(i){Oe(o,i);function o(s){var l=i.call(this,s)||this;return n.init&&n.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return en(n.style)},o.prototype.getDefaultShape=function(){return en(n.shape)},o}(t);for(var a in n)typeof n[a]=="function"&&(r.prototype[a]=n[a]);return r},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=Os|Pb|om}(),t}(zl),LRt=Xt({strokeFirst:!0,font:Vh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},fE),Ey=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.createStyle=function(n){return SN(LRt,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var a=lC(r,n.font,n.textAlign,n.textBaseline);if(a.x+=n.x||0,a.y+=n.y||0,this.hasStroke()){var i=n.lineWidth;a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i}this._rect=a}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(zl);Ey.prototype.type="tspan";var ORt=Xt({x:0,y:0},jv),PRt={style:Xt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DN.style)};function FRt(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Ri=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return SN(ORt,n)},t.prototype._getSize=function(n){var r=this.style,a=r[n];if(a!=null)return a;var i=FRt(r.image)?r.image:this.__image;if(!i)return 0;var o=n==="width"?"height":"width",s=r[o];return s==null?i[n]:i[n]/i[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return PRt},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new xn(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(zl);Ri.prototype.type="image";function BRt(e,t){var n=t.x,r=t.y,a=t.width,i=t.height,o=t.r,s,l,u,c;a<0&&(n=n+a,a=-a),i<0&&(r=r+i,i=-i),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>a&&(f=s+l,s*=a/f,l*=a/f),u+c>a&&(f=u+c,u*=a/f,c*=a/f),l+u>i&&(f=l+u,l*=i/f,u*=i/f),s+c>i&&(f=s+c,s*=i/f,c*=i/f),e.moveTo(n+s,r),e.lineTo(n+a-l,r),l!==0&&e.arc(n+a-l,r+l,l,-Math.PI/2,0),e.lineTo(n+a,r+i-u),u!==0&&e.arc(n+a-u,r+i-u,u,0,Math.PI/2),e.lineTo(n+c,r+i),c!==0&&e.arc(n+c,r+i-c,c,Math.PI/2,Math.PI),e.lineTo(n,r+s),s!==0&&e.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var gm=Math.round;function i0e(e,t,n){if(t){var r=t.x1,a=t.x2,i=t.y1,o=t.y2;e.x1=r,e.x2=a,e.y1=i,e.y2=o;var s=n&&n.lineWidth;return s&&(gm(r*2)===gm(a*2)&&(e.x1=e.x2=Ev(r,s,!0)),gm(i*2)===gm(o*2)&&(e.y1=e.y2=Ev(i,s,!0))),e}}function o0e(e,t,n){if(t){var r=t.x,a=t.y,i=t.width,o=t.height;e.x=r,e.y=a,e.width=i,e.height=o;var s=n&&n.lineWidth;return s&&(e.x=Ev(r,s,!0),e.y=Ev(a,s,!0),e.width=Math.max(Ev(r+i,s,!1)-e.x,i===0?0:1),e.height=Math.max(Ev(a+o,s,!1)-e.y,o===0?0:1)),e}}function Ev(e,t,n){if(!t)return e;var r=gm(e*2);return(r+gm(t))%2===0?r/2:(r+(n?1:-1))/2}var VRt=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),zRt={},Bn=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new VRt},t.prototype.buildPath=function(n,r){var a,i,o,s;if(this.subPixelOptimize){var l=o0e(zRt,r,this.style);a=l.x,i=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else a=r.x,i=r.y,o=r.width,s=r.height;r.r?BRt(n,r):n.rect(a,i,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(An);Bn.prototype.type="rect";var WY={fill:"#000"},HY=2,WRt={style:Xt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DN.style)},Un=function(e){Oe(t,e);function t(n){var r=e.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=WY,r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):e.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,GRt(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new xn(0,0,0,0),r=this._children,a=[],i=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),u=s.getLocalTransform(a);u?(n.copy(l),n.applyTransform(u),i=i||n.clone(),i.union(n)):(i=i||l.clone(),i.union(l))}this._rect=i||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||WY},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,r){if(!r)return n;var a=r.rich,i=n.rich||a&&{};return rt(n,r),a&&i?(this._mergeRich(i,a),n.rich=i):i&&(n.rich=i),n},t.prototype._mergeRich=function(n,r){for(var a=Mn(r),i=0;i<a.length;i++){var o=a[i];n[o]=n[o]||{},rt(n[o],r[o])}},t.prototype.getAnimationStyleProps=function(){return WRt},t.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||Vh,a=n.padding,i=qY(n),o=dRt(i,n),s=s$(n),l=!!n.backgroundColor,u=o.outerHeight,c=o.outerWidth,f=o.contentWidth,d=o.lines,h=o.lineHeight,p=this._defaultStyle;this.isTruncated=!!o.isTruncated;var v=n.x||0,g=n.y||0,m=n.align||p.align||"left",y=n.verticalAlign||p.verticalAlign||"top",b=v,x=sm(g,o.contentHeight,y);if(s||a){var _=Bb(v,c,m),S=sm(g,u,y);s&&this._renderBackground(n,n,_,S,c,u)}x+=h/2,a&&(b=XY(v,m,a),y==="top"?x+=a[0]:y==="bottom"&&(x-=a[2]));for(var C=0,k=!1,T=YY("fill"in n?n.fill:(k=!0,p.fill)),E=jY("stroke"in n?n.stroke:!l&&(!p.autoStroke||k)?(C=HY,p.stroke):null),I=n.textShadowBlur>0,A=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),N=o.calculatedLineHeight,L=0;L<d.length;L++){var R=this._getOrCreateChild(Ey),D=R.createStyle();R.useStyle(D),D.text=d[L],D.x=b,D.y=x,D.textAlign=m,D.textBaseline="middle",D.opacity=n.opacity,D.strokeFirst=!0,I&&(D.shadowBlur=n.textShadowBlur||0,D.shadowColor=n.textShadowColor||"transparent",D.shadowOffsetX=n.textShadowOffsetX||0,D.shadowOffsetY=n.textShadowOffsetY||0),D.stroke=E,D.fill=T,E&&(D.lineWidth=n.lineWidth||C,D.lineDash=n.lineDash,D.lineDashOffset=n.lineDashOffset||0),D.font=r,GY(D,n),x+=h,A&&R.setBoundingRect(new xn(Bb(D.x,f,D.textAlign),sm(D.y,N,D.textBaseline),f,N))}},t.prototype._updateRichTexts=function(){var n=this.style,r=qY(n),a=vRt(r,n),i=a.width,o=a.outerWidth,s=a.outerHeight,l=n.padding,u=n.x||0,c=n.y||0,f=this._defaultStyle,d=n.align||f.align,h=n.verticalAlign||f.verticalAlign;this.isTruncated=!!a.isTruncated;var p=Bb(u,o,d),v=sm(c,s,h),g=p,m=v;l&&(g+=l[3],m+=l[0]);var y=g+i;s$(n)&&this._renderBackground(n,n,p,v,o,s);for(var b=!!n.backgroundColor,x=0;x<a.lines.length;x++){for(var _=a.lines[x],S=_.tokens,C=S.length,k=_.lineHeight,T=_.width,E=0,I=g,A=y,N=C-1,L=void 0;E<C&&(L=S[E],!L.align||L.align==="left");)this._placeToken(L,n,k,m,I,"left",b),T-=L.width,I+=L.width,E++;for(;N>=0&&(L=S[N],L.align==="right");)this._placeToken(L,n,k,m,A,"right",b),T-=L.width,A-=L.width,N--;for(I+=(i-(I-g)-(y-A)-T)/2;E<=N;)L=S[E],this._placeToken(L,n,k,m,I+L.width/2,"center",b),I+=L.width,E++;m+=k}},t.prototype._placeToken=function(n,r,a,i,o,s,l){var u=r.rich[n.styleName]||{};u.text=n.text;var c=n.verticalAlign,f=i+a/2;c==="top"?f=i+n.height/2:c==="bottom"&&(f=i+a-n.height/2);var d=!n.isLineHolder&&s$(u);d&&this._renderBackground(u,r,s==="right"?o-n.width:s==="center"?o-n.width/2:o,f-n.height/2,n.width,n.height);var h=!!u.backgroundColor,p=n.textPadding;p&&(o=XY(o,s,p),f-=n.height/2-p[0]-n.innerHeight/2);var v=this._getOrCreateChild(Ey),g=v.createStyle();v.useStyle(g);var m=this._defaultStyle,y=!1,b=0,x=YY("fill"in u?u.fill:"fill"in r?r.fill:(y=!0,m.fill)),_=jY("stroke"in u?u.stroke:"stroke"in r?r.stroke:!h&&!l&&(!m.autoStroke||y)?(b=HY,m.stroke):null),S=u.textShadowBlur>0||r.textShadowBlur>0;g.text=n.text,g.x=o,g.y=f,S&&(g.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,g.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),g.textAlign=s,g.textBaseline="middle",g.font=n.font||Vh,g.opacity=Rc(u.opacity,r.opacity,1),GY(g,u),_&&(g.lineWidth=Rc(u.lineWidth,r.lineWidth,b),g.lineDash=fn(u.lineDash,r.lineDash),g.lineDashOffset=r.lineDashOffset||0,g.stroke=_),x&&(g.fill=x);var C=n.contentWidth,k=n.contentHeight;v.setBoundingRect(new xn(Bb(g.x,C,g.textAlign),sm(g.y,k,g.textBaseline),C,k))},t.prototype._renderBackground=function(n,r,a,i,o,s){var l=n.backgroundColor,u=n.borderWidth,c=n.borderColor,f=l&&l.image,d=l&&!f,h=n.borderRadius,p=this,v,g;if(d||n.lineHeight||u&&c){v=this._getOrCreateChild(Bn),v.useStyle(v.createStyle()),v.style.fill=null;var m=v.shape;m.x=a,m.y=i,m.width=o,m.height=s,m.r=h,v.dirtyShape()}if(d){var y=v.style;y.fill=l||null,y.fillOpacity=fn(n.fillOpacity,1)}else if(f){g=this._getOrCreateChild(Ri),g.onload=function(){p.dirtyStyle()};var b=g.style;b.image=l.image,b.x=a,b.y=i,b.width=o,b.height=s}if(u&&c){var y=v.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=fn(n.strokeOpacity,1),y.lineDash=n.borderDash,y.lineDashOffset=n.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var x=(v||g).style;x.shadowBlur=n.shadowBlur||0,x.shadowColor=n.shadowColor||"transparent",x.shadowOffsetX=n.shadowOffsetX||0,x.shadowOffsetY=n.shadowOffsetY||0,x.opacity=Rc(n.opacity,r.opacity,1)},t.makeFont=function(n){var r="";return l0e(n)&&(r=[n.fontStyle,n.fontWeight,s0e(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&xu(r)||n.textFont||n.font},t}(zl),HRt={left:!0,right:1,center:1},URt={top:1,bottom:1,middle:1},UY=["fontStyle","fontWeight","fontSize","fontFamily"];function s0e(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?B6+"px":e+"px"}function GY(e,t){for(var n=0;n<UY.length;n++){var r=UY[n],a=t[r];a!=null&&(e[r]=a)}}function l0e(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function GRt(e){return KY(e),X(e.rich,KY),e}function KY(e){if(e){e.font=Un.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||HRt[t]?t:"left";var n=e.verticalAlign;n==="center"&&(n="middle"),e.verticalAlign=n==null||URt[n]?n:"top";var r=e.padding;r&&(e.padding=G6(e.padding))}}function jY(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function YY(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function XY(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function qY(e){var t=e.text;return t!=null&&(t+=""),t}function s$(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var sn=Vn(),e3=function(e,t,n,r){if(r){var a=sn(r);a.dataIndex=n,a.dataType=t,a.seriesIndex=e,a.ssrType="chart",r.type==="group"&&r.traverse(function(i){var o=sn(i);o.seriesIndex=e,o.dataIndex=n,o.dataType=t,o.ssrType="chart"})}},ZY=1,JY={},u0e=Vn(),a5=Vn(),i5=0,cC=1,RN=2,os=["emphasis","blur","select"],Kw=["normal","emphasis","blur","select"],b1=10,KRt=9,Yv="highlight",_k="downplay",Ex="select",Sk="unselect",Ax="toggleSelect";function R0(e){return e!=null&&e!=="none"}function MN(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function c0e(e){MN(e,"emphasis",RN)}function f0e(e){e.hoverState===RN&&MN(e,"normal",i5)}function o5(e){MN(e,"blur",cC)}function d0e(e){e.hoverState===cC&&MN(e,"normal",i5)}function jRt(e){e.selected=!0}function YRt(e){e.selected=!1}function QY(e,t,n){t(e,n)}function vd(e,t,n){QY(e,t,n),e.isGroup&&e.traverse(function(r){QY(r,t,n)})}function dE(e,t){switch(t){case"emphasis":e.hoverState=RN;break;case"normal":e.hoverState=i5;break;case"blur":e.hoverState=cC;break;case"select":e.selected=!0}}function XRt(e,t,n,r){for(var a=e.style,i={},o=0;o<t.length;o++){var s=t[o],l=a[s];i[s]=l??r[s]}for(var o=0;o<e.animators.length;o++){var u=e.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&u.targetName==="style"&&u.saveTo(i,t)}return i}function qRt(e,t,n,r){var a=n&&Cn(n,"select")>=0,i=!1;if(e instanceof An){var o=u0e(e),s=a&&o.selectFill||o.normalFill,l=a&&o.selectStroke||o.normalStroke;if(R0(s)||R0(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(i=!0,r=rt({},r),u=rt({},u),u.fill=s):!R0(u.fill)&&R0(s)?(i=!0,r=rt({},r),u=rt({},u),u.fill=BF(s)):!R0(u.stroke)&&R0(l)&&(i||(r=rt({},r),u=rt({},u)),u.stroke=BF(l)),r.style=u}}if(r&&r.z2==null){i||(r=rt({},r));var c=e.z2EmphasisLift;r.z2=e.z2+(c??b1)}return r}function ZRt(e,t,n){if(n&&n.z2==null){n=rt({},n);var r=e.z2SelectLift;n.z2=e.z2+(r??KRt)}return n}function JRt(e,t,n){var r=Cn(e.currentStates,t)>=0,a=e.style.opacity,i=r?null:XRt(e,["opacity"],t,{opacity:1});n=n||{};var o=n.style||{};return o.opacity==null&&(n=rt({},n),o=rt({opacity:r?a:i.opacity*.1},o),n.style=o),n}function l$(e,t){var n=this.states[e];if(this.style){if(e==="emphasis")return qRt(this,e,t,n);if(e==="blur")return JRt(this,e,n);if(e==="select")return ZRt(this,e,n)}return n}function Ng(e){e.stateProxy=l$;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=l$),n&&(n.stateProxy=l$)}function eX(e,t){!g0e(e,t)&&!e.__highByOuter&&vd(e,c0e)}function tX(e,t){!g0e(e,t)&&!e.__highByOuter&&vd(e,f0e)}function Jf(e,t){e.__highByOuter|=1<<(t||0),vd(e,c0e)}function Qf(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&vd(e,f0e)}function h0e(e){vd(e,o5)}function s5(e){vd(e,d0e)}function p0e(e){vd(e,jRt)}function v0e(e){vd(e,YRt)}function g0e(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function m0e(e){var t=e.getModel(),n=[],r=[];t.eachComponent(function(a,i){var o=a5(i),s=a==="series",l=s?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(u){d0e(u)}),s&&n.push(i)),o.isBlured=!1}),X(r,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(n,!1,t)})}function t3(e,t,n,r){var a=r.getModel();n=n||"coordinateSystem";function i(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&s5(d)}}if(e!=null&&!(!t||t==="none")){var o=a.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];a.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(n==="series"&&!c||n==="coordinateSystem"&&!d||t==="series"&&c)){var h=r.getViewOfSeriesModel(u);if(h.group.traverse(function(g){g.__highByOuter&&c&&t==="self"||o5(g)}),Co(t))i(u.getData(),t);else if(Jt(t))for(var p=Mn(t),v=0;v<p.length;v++)i(u.getData(p[v]),t[p[v]]);l.push(u),a5(u).isBlured=!0}}),a.eachComponent(function(u,c){if(u!=="series"){var f=r.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,a)}})}}function n3(e,t,n){if(!(e==null||t==null)){var r=n.getModel().getComponent(e,t);if(r){a5(r).isBlured=!0;var a=n.getViewOfComponentModel(r);!a||!a.focusBlurEnabled||a.group.traverse(function(i){o5(i)})}}}function QRt(e,t,n){var r=e.seriesIndex,a=e.getData(t.dataType);if(a){var i=Ag(a,t);i=(st(i)?i[0]:i)||0;var o=a.getItemGraphicEl(i);if(!o)for(var s=a.count(),l=0;!o&&l<s;)o=a.getItemGraphicEl(l++);if(o){var u=sn(o);t3(r,u.focus,u.blurScope,n)}else{var c=e.get(["emphasis","focus"]),f=e.get(["emphasis","blurScope"]);c!=null&&t3(r,c,f,n)}}}function l5(e,t,n,r){var a={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||n==null)return a;var i=r.getModel().getComponent(e,t);if(!i)return a;var o=r.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return a;for(var s=o.findHighDownDispatchers(n),l,u=0;u<s.length;u++)if(sn(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function eMt(e,t,n){var r=sn(e),a=l5(r.componentMainType,r.componentIndex,r.componentHighDownName,n),i=a.dispatchers,o=a.focusSelf;i?(o&&n3(r.componentMainType,r.componentIndex,n),X(i,function(s){return eX(s,t)})):(t3(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&n3(r.componentMainType,r.componentIndex,n),eX(e,t))}function tMt(e,t,n){m0e(n);var r=sn(e),a=l5(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;a?X(a,function(i){return tX(i,t)}):tX(e,t)}function nMt(e,t,n){if(a3(t)){var r=t.dataType,a=e.getData(r),i=Ag(a,t);st(i)||(i=[i]),e[t.type===Ax?"toggleSelect":t.type===Ex?"select":"unselect"](i,r)}}function nX(e){var t=e.getAllData();X(t,function(n){var r=n.data,a=n.type;r.eachItemGraphicEl(function(i,o){e.isSelected(o,a)?p0e(i):v0e(i)})})}function rMt(e){var t=[];return e.eachSeries(function(n){var r=n.getAllData();X(r,function(a){a.data;var i=a.type,o=n.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:n.seriesIndex};i!=null&&(s.dataType=i),t.push(s)}})}),t}function Xv(e,t,n){Av(e,!0),vd(e,Ng),r3(e,t,n)}function aMt(e){Av(e,!1)}function la(e,t,n,r){r?aMt(e):Xv(e,t,n)}function r3(e,t,n){var r=sn(e);t!=null?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var rX=["emphasis","blur","select"],iMt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ji(e,t,n,r){n=n||"itemStyle";for(var a=0;a<rX.length;a++){var i=rX[a],o=t.getModel([i,n]),s=e.ensureState(i);s.style=r?r(o):o[iMt[n]]()}}function Av(e,t){var n=t===!1,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function jw(e){return!!(e&&e.__highDownDispatcher)}function oMt(e,t,n){var r=sn(e);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=n}function sMt(e){var t=JY[e];return t==null&&ZY<=32&&(t=JY[e]=ZY++),t}function a3(e){var t=e.type;return t===Ex||t===Sk||t===Ax}function aX(e){var t=e.type;return t===Yv||t===_k}function lMt(e){var t=u0e(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var M0=Yc.CMD,uMt=[[],[],[]],iX=Math.sqrt,cMt=Math.atan2;function y0e(e,t){if(t){var n=e.data,r=e.len(),a,i,o,s,l,u,c=M0.M,f=M0.C,d=M0.L,h=M0.R,p=M0.A,v=M0.Q;for(o=0,s=0;o<r;){switch(a=n[o++],s=o,i=0,a){case c:i=1;break;case d:i=1;break;case f:i=3;break;case v:i=2;break;case p:var g=t[4],m=t[5],y=iX(t[0]*t[0]+t[1]*t[1]),b=iX(t[2]*t[2]+t[3]*t[3]),x=cMt(-t[1]/b,t[0]/y);n[o]*=y,n[o++]+=g,n[o]*=b,n[o++]+=m,n[o++]*=y,n[o++]*=b,n[o++]+=x,n[o++]+=x,o+=2,s=o;break;case h:u[0]=n[o++],u[1]=n[o++],Wi(u,u,t),n[s++]=u[0],n[s++]=u[1],u[0]+=n[o++],u[1]+=n[o++],Wi(u,u,t),n[s++]=u[0],n[s++]=u[1]}for(l=0;l<i;l++){var _=uMt[l];_[0]=n[o++],_[1]=n[o++],Wi(_,_,t),n[s++]=_[0],n[s++]=_[1]}}e.increaseVersion()}}var u$=Math.sqrt,P2=Math.sin,F2=Math.cos,tb=Math.PI;function oX(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function i3(e,t){return(e[0]*t[0]+e[1]*t[1])/(oX(e)*oX(t))}function sX(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(i3(e,t))}function lX(e,t,n,r,a,i,o,s,l,u,c){var f=l*(tb/180),d=F2(f)*(e-n)/2+P2(f)*(t-r)/2,h=-1*P2(f)*(e-n)/2+F2(f)*(t-r)/2,p=d*d/(o*o)+h*h/(s*s);p>1&&(o*=u$(p),s*=u$(p));var v=(a===i?-1:1)*u$((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)))||0,g=v*o*h/s,m=v*-s*d/o,y=(e+n)/2+F2(f)*g-P2(f)*m,b=(t+r)/2+P2(f)*g+F2(f)*m,x=sX([1,0],[(d-g)/o,(h-m)/s]),_=[(d-g)/o,(h-m)/s],S=[(-1*d-g)/o,(-1*h-m)/s],C=sX(_,S);if(i3(_,S)<=-1&&(C=tb),i3(_,S)>=1&&(C=0),C<0){var k=Math.round(C/tb*1e6)/1e6;C=tb*2+k%2*tb}c.addData(u,y,b,o,s,x,C,f,i)}var fMt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,dMt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function hMt(e){var t=new Yc;if(!e)return t;var n=0,r=0,a=n,i=r,o,s=Yc.CMD,l=e.match(fMt);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(dMt)||[],p=h.length,v=0;v<p;v++)h[v]=parseFloat(h[v]);for(var g=0;g<p;){var m=void 0,y=void 0,b=void 0,x=void 0,_=void 0,S=void 0,C=void 0,k=n,T=r,E=void 0,I=void 0;switch(f){case"l":n+=h[g++],r+=h[g++],d=s.L,t.addData(d,n,r);break;case"L":n=h[g++],r=h[g++],d=s.L,t.addData(d,n,r);break;case"m":n+=h[g++],r+=h[g++],d=s.M,t.addData(d,n,r),a=n,i=r,f="l";break;case"M":n=h[g++],r=h[g++],d=s.M,t.addData(d,n,r),a=n,i=r,f="L";break;case"h":n+=h[g++],d=s.L,t.addData(d,n,r);break;case"H":n=h[g++],d=s.L,t.addData(d,n,r);break;case"v":r+=h[g++],d=s.L,t.addData(d,n,r);break;case"V":r=h[g++],d=s.L,t.addData(d,n,r);break;case"C":d=s.C,t.addData(d,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),n=h[g-2],r=h[g-1];break;case"c":d=s.C,t.addData(d,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r),n+=h[g-2],r+=h[g-1];break;case"S":m=n,y=r,E=t.len(),I=t.data,o===s.C&&(m+=n-I[E-4],y+=r-I[E-3]),d=s.C,k=h[g++],T=h[g++],n=h[g++],r=h[g++],t.addData(d,m,y,k,T,n,r);break;case"s":m=n,y=r,E=t.len(),I=t.data,o===s.C&&(m+=n-I[E-4],y+=r-I[E-3]),d=s.C,k=n+h[g++],T=r+h[g++],n+=h[g++],r+=h[g++],t.addData(d,m,y,k,T,n,r);break;case"Q":k=h[g++],T=h[g++],n=h[g++],r=h[g++],d=s.Q,t.addData(d,k,T,n,r);break;case"q":k=h[g++]+n,T=h[g++]+r,n+=h[g++],r+=h[g++],d=s.Q,t.addData(d,k,T,n,r);break;case"T":m=n,y=r,E=t.len(),I=t.data,o===s.Q&&(m+=n-I[E-4],y+=r-I[E-3]),n=h[g++],r=h[g++],d=s.Q,t.addData(d,m,y,n,r);break;case"t":m=n,y=r,E=t.len(),I=t.data,o===s.Q&&(m+=n-I[E-4],y+=r-I[E-3]),n+=h[g++],r+=h[g++],d=s.Q,t.addData(d,m,y,n,r);break;case"A":b=h[g++],x=h[g++],_=h[g++],S=h[g++],C=h[g++],k=n,T=r,n=h[g++],r=h[g++],d=s.A,lX(k,T,n,r,S,C,b,x,_,d,t);break;case"a":b=h[g++],x=h[g++],_=h[g++],S=h[g++],C=h[g++],k=n,T=r,n+=h[g++],r+=h[g++],d=s.A,lX(k,T,n,r,S,C,b,x,_,d,t);break}}(f==="z"||f==="Z")&&(d=s.Z,t.addData(d),n=a,r=i),o=d}return t.toStatic(),t}var b0e=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(An);function x0e(e){return e.setData!=null}function w0e(e,t){var n=hMt(e),r=rt({},t);return r.buildPath=function(a){if(x0e(a)){a.setData(n.data);var i=a.getContext();i&&a.rebuildPath(i,1)}else{var i=a;n.rebuildPath(i,1)}},r.applyTransform=function(a){y0e(n,a),this.dirtyShape()},r}function _0e(e,t){return new b0e(w0e(e,t))}function pMt(e,t){var n=w0e(e,t),r=function(a){Oe(i,a);function i(o){var s=a.call(this,o)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return i}(b0e);return r}function vMt(e,t){for(var n=[],r=e.length,a=0;a<r;a++){var i=e[a];n.push(i.getUpdatedPathProxy(!0))}var o=new An(t);return o.createPathProxy(),o.buildPath=function(s){if(x0e(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function u5(e,t){t=t||{};var n=new An;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?y0e(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var gMt=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),gd=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new gMt},t.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},t}(An);gd.prototype.type="circle";var mMt=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),$N=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new mMt},t.prototype.buildPath=function(n,r){var a=.5522848,i=r.cx,o=r.cy,s=r.rx,l=r.ry,u=s*a,c=l*a;n.moveTo(i-s,o),n.bezierCurveTo(i-s,o-c,i-u,o-l,i,o-l),n.bezierCurveTo(i+u,o-l,i+s,o-c,i+s,o),n.bezierCurveTo(i+s,o+c,i+u,o+l,i,o+l),n.bezierCurveTo(i-u,o+l,i-s,o+c,i-s,o),n.closePath()},t}(An);$N.prototype.type="ellipse";var S0e=Math.PI,c$=S0e*2,zp=Math.sin,$0=Math.cos,yMt=Math.acos,no=Math.atan2,uX=Math.abs,Dx=Math.sqrt,Vb=Math.max,ec=Math.min,ru=1e-4;function bMt(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=f*l-c*u;if(!(d*d<ru))return d=(c*(t-i)-f*(e-a))/d,[e+d*l,t+d*u]}function B2(e,t,n,r,a,i,o){var s=e-n,l=t-r,u=(o?i:-i)/Dx(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,p=n+c,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,b=v-h,x=y*y+b*b,_=a-i,S=d*v-p*h,C=(b<0?-1:1)*Dx(Vb(0,_*_*x-S*S)),k=(S*b-y*C)/x,T=(-S*y-b*C)/x,E=(S*b+y*C)/x,I=(-S*y+b*C)/x,A=k-g,N=T-m,L=E-g,R=I-m;return A*A+N*N>L*L+R*R&&(k=E,T=I),{cx:k,cy:T,x0:-c,y0:-f,x1:k*(a/_-1),y1:T*(a/_-1)}}function xMt(e){var t;if(st(e)){var n=e.length;if(!n)return e;n===1?t=[e[0],e[0],0,0]:n===2?t=[e[0],e[0],e[1],e[1]]:n===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function wMt(e,t){var n,r=Vb(t.r,0),a=Vb(t.r0||0,0),i=r>0,o=a>0;if(!(!i&&!o)){if(i||(r=a,a=0),a>r){var s=r;r=a,a=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,d=!!t.clockwise,h=uX(u-l),p=h>c$&&h%c$;if(p>ru&&(h=p),!(r>ru))e.moveTo(c,f);else if(h>c$-ru)e.moveTo(c+r*$0(l),f+r*zp(l)),e.arc(c,f,r,l,u,!d),a>ru&&(e.moveTo(c+a*$0(u),f+a*zp(u)),e.arc(c,f,a,u,l,d));else{var v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,x=void 0,_=void 0,S=void 0,C=void 0,k=void 0,T=void 0,E=void 0,I=void 0,A=void 0,N=void 0,L=void 0,R=r*$0(l),D=r*zp(l),P=a*$0(u),O=a*zp(u),M=h>ru;if(M){var W=t.cornerRadius;W&&(n=xMt(W),v=n[0],g=n[1],m=n[2],y=n[3]);var U=uX(r-a)/2;if(b=ec(U,m),x=ec(U,y),_=ec(U,v),S=ec(U,g),T=C=Vb(b,x),E=k=Vb(_,S),(C>ru||k>ru)&&(I=r*$0(u),A=r*zp(u),N=a*$0(l),L=a*zp(l),h<S0e)){var V=bMt(R,D,N,L,I,A,P,O);if(V){var H=R-V[0],K=D-V[1],j=I-V[0],ne=A-V[1],Q=1/zp(yMt((H*j+K*ne)/(Dx(H*H+K*K)*Dx(j*j+ne*ne)))/2),oe=Dx(V[0]*V[0]+V[1]*V[1]);T=ec(C,(r-oe)/(Q+1)),E=ec(k,(a-oe)/(Q-1))}}}if(!M)e.moveTo(c+R,f+D);else if(T>ru){var ae=ec(m,T),me=ec(y,T),ve=B2(N,L,R,D,r,ae,d),B=B2(I,A,P,O,r,me,d);e.moveTo(c+ve.cx+ve.x0,f+ve.cy+ve.y0),T<C&&ae===me?e.arc(c+ve.cx,f+ve.cy,T,no(ve.y0,ve.x0),no(B.y0,B.x0),!d):(ae>0&&e.arc(c+ve.cx,f+ve.cy,ae,no(ve.y0,ve.x0),no(ve.y1,ve.x1),!d),e.arc(c,f,r,no(ve.cy+ve.y1,ve.cx+ve.x1),no(B.cy+B.y1,B.cx+B.x1),!d),me>0&&e.arc(c+B.cx,f+B.cy,me,no(B.y1,B.x1),no(B.y0,B.x0),!d))}else e.moveTo(c+R,f+D),e.arc(c,f,r,l,u,!d);if(!(a>ru)||!M)e.lineTo(c+P,f+O);else if(E>ru){var ae=ec(v,E),me=ec(g,E),ve=B2(P,O,I,A,a,-me,d),B=B2(R,D,N,L,a,-ae,d);e.lineTo(c+ve.cx+ve.x0,f+ve.cy+ve.y0),E<k&&ae===me?e.arc(c+ve.cx,f+ve.cy,E,no(ve.y0,ve.x0),no(B.y0,B.x0),!d):(me>0&&e.arc(c+ve.cx,f+ve.cy,me,no(ve.y0,ve.x0),no(ve.y1,ve.x1),!d),e.arc(c,f,a,no(ve.cy+ve.y1,ve.cx+ve.x1),no(B.cy+B.y1,B.cx+B.x1),d),ae>0&&e.arc(c+B.cx,f+B.cy,ae,no(B.y1,B.x1),no(B.y0,B.x0),!d))}else e.lineTo(c+P,f+O),e.arc(c,f,a,u,l,d)}e.closePath()}}}var _Mt=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),ss=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new _Mt},t.prototype.buildPath=function(n,r){wMt(n,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(An);ss.prototype.type="sector";var SMt=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),fC=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new SMt},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.PI*2;n.moveTo(a+r.r,i),n.arc(a,i,r.r,0,o,!1),n.moveTo(a+r.r0,i),n.arc(a,i,r.r0,0,o,!0)},t}(An);fC.prototype.type="ring";function CMt(e,t,n,r){var a=[],i=[],o=[],s=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=e.length;d<h;d++)eh(c,c,e[d]),th(f,f,e[d]);eh(c,c,r[0]),th(f,f,r[1])}for(var d=0,h=e.length;d<h;d++){var p=e[d];if(n)l=e[d?d-1:h-1],u=e[(d+1)%h];else if(d===0||d===h-1){a.push(Of(e[d]));continue}else l=e[d-1],u=e[d+1];Iv(i,u,l),vk(i,i,t);var v=DF(p,l),g=DF(p,u),m=v+g;m!==0&&(v/=m,g/=m),vk(o,i,-v),vk(s,i,g);var y=nY([],p,o),b=nY([],p,s);r&&(th(y,y,c),eh(y,y,f),th(b,b,c),eh(b,b,f)),a.push(y),a.push(b)}return n&&a.push(a.shift()),a}function C0e(e,t,n){var r=t.smooth,a=t.points;if(a&&a.length>=2){if(r){var i=CMt(a,r,n,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var o=a.length,s=0;s<(n?o:o-1);s++){var l=i[s*2],u=i[s*2+1],c=a[(s+1)%o];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(a[0][0],a[0][1]);for(var s=1,f=a.length;s<f;s++)e.lineTo(a[s][0],a[s][1])}n&&e.closePath()}}var TMt=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),ls=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new TMt},t.prototype.buildPath=function(n,r){C0e(n,r,!0)},t}(An);ls.prototype.type="polygon";var kMt=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),cs=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kMt},t.prototype.buildPath=function(n,r){C0e(n,r,!1)},t}(An);cs.prototype.type="polyline";var IMt={},EMt=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),ii=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new EMt},t.prototype.buildPath=function(n,r){var a,i,o,s;if(this.subPixelOptimize){var l=i0e(IMt,r,this.style);a=l.x1,i=l.y1,o=l.x2,s=l.y2}else a=r.x1,i=r.y1,o=r.x2,s=r.y2;var u=r.percent;u!==0&&(n.moveTo(a,i),u<1&&(o=a*(1-u)+o*u,s=i*(1-u)+s*u),n.lineTo(o,s))},t.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},t}(An);ii.prototype.type="line";var hs=[],AMt=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function cX(e,t,n){var r=e.cpx2,a=e.cpy2;return r!=null||a!=null?[(n?pY:Qa)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?pY:Qa)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?LF:xi)(e.x1,e.cpx1,e.x2,t),(n?LF:xi)(e.y1,e.cpy1,e.y2,t)]}var dC=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new AMt},t.prototype.buildPath=function(n,r){var a=r.x1,i=r.y1,o=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,f=r.cpy2,d=r.percent;d!==0&&(n.moveTo(a,i),c==null||f==null?(d<1&&(zw(a,l,o,d,hs),l=hs[1],o=hs[2],zw(i,u,s,d,hs),u=hs[1],s=hs[2]),n.quadraticCurveTo(l,u,o,s)):(d<1&&(Wh(a,l,c,o,d,hs),l=hs[1],c=hs[2],o=hs[3],Wh(i,u,f,s,d,hs),u=hs[1],f=hs[2],s=hs[3]),n.bezierCurveTo(l,u,c,f,o,s)))},t.prototype.pointAt=function(n){return cX(this.shape,n,!1)},t.prototype.tangentAt=function(n){var r=cX(this.shape,n,!0);return g1(r,r)},t}(An);dC.prototype.type="bezier-curve";var DMt=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),LN=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new DMt},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),f=Math.sin(s);n.moveTo(c*o+a,f*o+i),n.arc(a,i,o,s,l,!u)},t}(An);LN.prototype.type="arc";var c5=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),a=0;a<n.length;a++)r=r||n[a].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),a=0;a<n.length;a++)n[a].path||n[a].createPathProxy(),n[a].path.setScale(r[0],r[1],n[a].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,r){for(var a=r.paths||[],i=0;i<a.length;i++)a[i].buildPath(n,a[i].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),An.prototype.getBoundingRect.call(this)},t}(An),T0e=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},e}(),hC=function(e){Oe(t,e);function t(n,r,a,i,o,s){var l=e.call(this,o)||this;return l.x=n??0,l.y=r??0,l.x2=a??1,l.y2=i??0,l.type="linear",l.global=s||!1,l}return t}(T0e),k0e=function(e){Oe(t,e);function t(n,r,a,i,o){var s=e.call(this,i)||this;return s.x=n??.5,s.y=r??.5,s.r=a??.5,s.type="radial",s.global=o||!1,s}return t}(T0e),Wp=[0,0],Hp=[0,0],V2=new bn,z2=new bn,hE=function(){function e(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new bn;for(var r=0;r<2;r++)this._axes[r]=new bn;t&&this.fromBoundingRect(t,n)}return e.prototype.fromBoundingRect=function(t,n){var r=this._corners,a=this._axes,i=t.x,o=t.y,s=i+t.width,l=o+t.height;if(r[0].set(i,o),r[1].set(s,o),r[2].set(s,l),r[3].set(i,l),n)for(var u=0;u<4;u++)r[u].transform(n);bn.sub(a[0],r[1],r[0]),bn.sub(a[1],r[3],r[0]),a[0].normalize(),a[1].normalize();for(var u=0;u<2;u++)this._origin[u]=a[u].dot(r[0])},e.prototype.intersect=function(t,n){var r=!0,a=!n;return V2.set(1/0,1/0),z2.set(0,0),!this._intersectCheckOneSide(this,t,V2,z2,a,1)&&(r=!1,a)||!this._intersectCheckOneSide(t,this,V2,z2,a,-1)&&(r=!1,a)||a||bn.copy(n,r?V2:z2),r},e.prototype._intersectCheckOneSide=function(t,n,r,a,i,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Wp),this._getProjMinMaxOnAxis(l,n._corners,Hp),Wp[1]<Hp[0]||Wp[0]>Hp[1]){if(s=!1,i)return s;var c=Math.abs(Hp[0]-Wp[1]),f=Math.abs(Wp[0]-Hp[1]);Math.min(c,f)>a.len()&&(c<f?bn.scale(a,u,-c*o):bn.scale(a,u,f*o))}else if(r){var c=Math.abs(Hp[0]-Wp[1]),f=Math.abs(Wp[0]-Hp[1]);Math.min(c,f)<r.len()&&(c<f?bn.scale(r,u,c*o):bn.scale(r,u,-f*o))}}return s},e.prototype._getProjMinMaxOnAxis=function(t,n,r){for(var a=this._axes[t],i=this._origin,o=n[0].dot(a)+i[t],s=o,l=o,u=1;u<n.length;u++){var c=n[u].dot(a)+i[t];s=Math.min(c,s),l=Math.max(c,l)}r[0]=s,r[1]=l},e}(),NMt=[],RMt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,r){r=r||!1;for(var a=0;a<n.length;a++)this.addDisplayable(n[a],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new xn(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var a=this._displayables[r],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(NMt)),n.union(i)}this._rect=n}return this._rect},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();if(i.contain(a[0],a[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(n,r))return!0}return!1},t}(zl),I0e=Vn();function x1(e,t,n,r,a){var i;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();i=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=e==="update";if(s){var u=void 0,c=void 0,f=void 0;r?(u=fn(r.duration,200),c=fn(r.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(f=i.delay)),Yt(f)&&(f=f(n,a)),Yt(u)&&(u=u(n));var d={duration:u||0,delay:f,easing:c};return d}else return null}function f5(e,t,n,r,a,i,o){var s=!1,l;Yt(a)?(o=i,i=a,a=null):Jt(a)&&(i=a.cb,o=a.during,s=a.isFrom,l=a.removeOpt,a=a.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=x1(e,r,a,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,a):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,p={duration:f,delay:d||0,easing:h,done:i,force:!!i||!!o,setToFinal:!u,scope:e,during:o};s?t.animateFrom(n,p):t.animateTo(n,p)}else t.stopAnimation(),!s&&t.attr(n),o&&o(1),i&&i()}function Jn(e,t,n,r,a,i){f5("update",e,t,n,r,a,i)}function Xr(e,t,n,r,a,i){f5("enter",e,t,n,r,a,i)}function Vm(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if(n.scope==="leave")return!0}return!1}function Hh(e,t,n,r,a,i){Vm(e)||f5("leave",e,t,n,r,a,i)}function fX(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),Hh(e,{style:{opacity:0}},t,n,r)}function Yw(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(a){a.isGroup||fX(a,t,n,r)}):fX(e,t,n,r)}function Vu(e){I0e(e).oldStyle=e.style}function MMt(e){return I0e(e).oldStyle}var pE=Math.max,vE=Math.min,o3={};function $Mt(e){return An.extend(e)}var LMt=pMt;function OMt(e,t){return LMt(e,t)}function Ku(e,t){o3[e]=t}function d5(e){if(o3.hasOwnProperty(e))return o3[e]}function ON(e,t,n,r){var a=_0e(e,t);return n&&(r==="center"&&(n=A0e(n,a.getBoundingRect())),D0e(a,n)),a}function E0e(e,t,n){var r=new Ri({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(n==="center"){var i={width:a.width,height:a.height};r.setStyle(A0e(t,i))}}});return r}function A0e(e,t){var n=t.width/t.height,r=e.height*n,a;r<=e.width?a=e.height:(r=e.width,a=r/n);var i=e.x+e.width/2,o=e.y+e.height/2;return{x:i-r/2,y:o-a/2,width:r,height:a}}var Sl=vMt;function D0e(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function Ay(e,t){return i0e(e,e,{lineWidth:t}),e}function PMt(e){return o0e(e.shape,e.shape,e.style),e}var Ck=Ev;function qv(e,t){for(var n=CN([]);e&&e!==t;)Pf(n,e.getLocalTransform(),n),e=e.parent;return n}function Au(e,t,n){return t&&!Co(t)&&(t=Nf.getLocalTransform(t)),n&&(t=m1([],t)),Wi([],e,t)}function PN(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),i=[e==="left"?-r:e==="right"?r:0,e==="top"?-a:e==="bottom"?a:0];return i=Au(i,t,n),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function dX(e){return!e.isGroup}function FMt(e){return e.shape!=null}function pC(e,t,n){if(!e||!t)return;function r(o){var s={};return o.traverse(function(l){dX(l)&&l.anid&&(s[l.anid]=l)}),s}function a(o){var s={x:o.x,y:o.y,rotation:o.rotation};return FMt(o)&&(s.shape=rt({},o.shape)),s}var i=r(e);t.traverse(function(o){if(dX(o)&&o.anid){var s=i[o.anid];if(s){var l=a(o);o.attr(a(s)),Jn(o,l,n,sn(o).dataIndex)}}})}function N0e(e,t){return ut(e,function(n){var r=n[0];r=pE(r,t.x),r=vE(r,t.x+t.width);var a=n[1];return a=pE(a,t.y),a=vE(a,t.y+t.height),[r,a]})}function BMt(e,t){var n=pE(e.x,t.x),r=vE(e.x+e.width,t.x+t.width),a=pE(e.y,t.y),i=vE(e.y+e.height,t.y+t.height);if(r>=n&&i>=a)return{x:n,y:a,width:r-n,height:i-a}}function vC(e,t,n){var r=rt({rectHover:!0},t),a=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Xt(a,n),new Ri(r)):ON(e.replace("path://",""),r,n,"center")}function zb(e,t,n,r,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var s=a[i];if(R0e(e,t,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function R0e(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=f$(c,f,l,u);if(VMt(d))return!1;var h=e-a,p=t-i,v=f$(h,p,l,u)/d;if(v<0||v>1)return!1;var g=f$(h,p,c,f)/d;return!(g<0||g>1)}function f$(e,t,n,r){return e*r-n*t}function VMt(e){return e<=1e-6&&e>=-1e-6}function i0(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,a=Dt(t)?{formatter:t}:t,i=n.mainType,o=n.componentIndex,s={componentType:i,name:r,$vars:["name"]};s[i+"Index"]=o;var l=e.formatterParamsExtra;l&&X(Mn(l),function(c){Mt(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=sn(e.el);u.componentMainType=i,u.componentIndex=o,u.tooltipConfig={name:r,option:Xt({content:r,encodeHTMLContent:!0,formatterParams:s},a)}}function hX(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function gp(e,t){if(e)if(st(e))for(var n=0;n<e.length;n++)hX(e[n],t);else hX(e,t)}Ku("circle",gd);Ku("ellipse",$N);Ku("sector",ss);Ku("ring",fC);Ku("polygon",ls);Ku("polyline",cs);Ku("rect",Bn);Ku("line",ii);Ku("bezierCurve",dC);Ku("arc",LN);const o0=Object.freeze(Object.defineProperty({__proto__:null,Arc:LN,BezierCurve:dC,BoundingRect:xn,Circle:gd,CompoundPath:c5,Ellipse:$N,Group:an,Image:Ri,IncrementalDisplayable:RMt,Line:ii,LinearGradient:hC,OrientedBoundingRect:hE,Path:An,Point:bn,Polygon:ls,Polyline:cs,RadialGradient:k0e,Rect:Bn,Ring:fC,Sector:ss,Text:Un,applyTransform:Au,clipPointsByRect:N0e,clipRectByRect:BMt,createIcon:vC,extendPath:OMt,extendShape:$Mt,getShapeClass:d5,getTransform:qv,groupTransition:pC,initProps:Xr,isElementRemoved:Vm,lineLineIntersect:R0e,linePolygonIntersect:zb,makeImage:E0e,makePath:ON,mergePath:Sl,registerShape:Ku,removeElement:Hh,removeElementWithFadeOut:Yw,resizePath:D0e,setTooltipConfig:i0,subPixelOptimize:Ck,subPixelOptimizeLine:Ay,subPixelOptimizeRect:PMt,transformDirection:PN,traverseElements:gp,updateProps:Jn},Symbol.toStringTag,{value:"Module"}));var FN={};function M0e(e,t){for(var n=0;n<os.length;n++){var r=os[n],a=t[r],i=e.ensureState(r);i.style=i.style||{},i.style.text=a}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function s3(e,t,n){var r=e.labelFetcher,a=e.labelDataIndex,i=e.labelDimIndex,o=t.normal,s;r&&(s=r.getFormattedLabel(a,"normal",null,i,o&&o.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=Yt(e.defaultText)?e.defaultText(a,e,n):e.defaultText);for(var l={normal:s},u=0;u<os.length;u++){var c=os[u],f=t[c];l[c]=fn(r?r.getFormattedLabel(a,c,null,i,f&&f.get("formatter")):null,s)}return l}function Yi(e,t,n,r){n=n||FN;for(var a=e instanceof Un,i=!1,o=0;o<Kw.length;o++){var s=t[Kw[o]];if(s&&s.getShallow("show")){i=!0;break}}var l=a?e:e.getTextContent();if(i){a||(l||(l=new Un,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=s3(n,t),c=t.normal,f=!!c.getShallow("show"),d=Fr(c,r&&r.normal,n,!1,!a);d.text=u.normal,a||e.setTextConfig(gE(c,n,!1));for(var o=0;o<os.length;o++){var h=os[o],s=t[h];if(s){var p=l.ensureState(h),v=!!fn(s.getShallow("show"),f);if(v!==f&&(p.ignore=!v),p.style=Fr(s,r&&r[h],n,!0,!a),p.style.text=u[h],!a){var g=e.ensureState(h);g.textConfig=gE(s,n,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),n.enableTextSetter&&(w1(l).setLabelText=function(m){var y=s3(n,t,m);M0e(l,y)})}else l&&(l.ignore=!0);e.dirty()}function vi(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<os.length;r++){var a=os[r];n[a]=e.getModel([a,t])}return n}function Fr(e,t,n,r,a){var i={};return zMt(i,e,n,r,a),t&&rt(i,t),i}function gE(e,t,n){t=t||{};var r={},a,i=e.getShallow("rotate"),o=fn(e.getShallow("distance"),n?null:5),s=e.getShallow("offset");return a=e.getShallow("position")||(n?null:"inside"),a==="outside"&&(a=t.defaultOutsidePosition||"top"),a!=null&&(r.position=a),s!=null&&(r.offset=s),i!=null&&(i*=Math.PI/180,r.rotation=i),o!=null&&(r.distance=o),r.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",r}function zMt(e,t,n,r,a){n=n||FN;var i=t.ecModel,o=i&&i.option.textStyle,s=WMt(t),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);mX(l[u]={},c,o,n,r,a,!1,!0)}}l&&(e.rich=l);var f=t.get("overflow");f&&(e.overflow=f);var d=t.get("minMargin");d!=null&&(e.margin=d),mX(e,t,o,n,r,a,!0,!1)}function WMt(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||FN).rich;if(n){t=t||{};for(var r=Mn(n),a=0;a<r.length;a++){var i=r[a];t[i]=1}}e=e.parentModel}return t}var pX=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],vX=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],gX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function mX(e,t,n,r,a,i,o,s){n=!a&&n||FN;var l=r&&r.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),f=fn(t.getShallow("opacity"),n.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),i||(u=u||n.color,c=c||n.textBorderColor),u!=null&&(e.fill=u),c!=null&&(e.stroke=c);var d=fn(t.getShallow("textBorderWidth"),n.textBorderWidth);d!=null&&(e.lineWidth=d);var h=fn(t.getShallow("textBorderType"),n.textBorderType);h!=null&&(e.lineDash=h);var p=fn(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);p!=null&&(e.lineDashOffset=p),!a&&f==null&&!s&&(f=r&&r.defaultOpacity),f!=null&&(e.opacity=f),!a&&!i&&e.fill==null&&r.inheritColor&&(e.fill=r.inheritColor);for(var v=0;v<pX.length;v++){var g=pX[v],m=fn(t.getShallow(g),n[g]);m!=null&&(e[g]=m)}for(var v=0;v<vX.length;v++){var g=vX[v],m=t.getShallow(g);m!=null&&(e[g]=m)}if(e.verticalAlign==null){var y=t.getShallow("baseline");y!=null&&(e.verticalAlign=y)}if(!o||!r.disableBox){for(var v=0;v<gX.length;v++){var g=gX[v],m=t.getShallow(g);m!=null&&(e[g]=m)}var b=t.getShallow("borderType");b!=null&&(e.borderDash=b),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function h5(e,t){var n=t&&t.getModel("textStyle");return xu([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var w1=Vn();function $0e(e,t,n,r){if(e){var a=w1(e);a.prevValue=a.value,a.value=n;var i=t.normal;a.valueAnimation=i.get("valueAnimation"),a.valueAnimation&&(a.precision=i.get("precision"),a.defaultInterpolatedText=r,a.statesModels=t)}}function L0e(e,t,n,r,a){var i=w1(e);if(!i.valueAnimation||i.prevValue===i.value)return;var o=i.defaultInterpolatedText,s=fn(i.interpolatedValue,i.prevValue),l=i.value;function u(c){var f=Zge(n,i.precision,s,l,c);i.interpolatedValue=c===1?null:f;var d=s3({labelDataIndex:t,labelFetcher:a,defaultText:o?o(f):f+""},i.statesModels,f);M0e(e,d)}e.percent=0,(i.prevValue==null?Xr:Jn)(e,{percent:1},r,t,null,u)}var HMt=["textStyle","color"],d$=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],h$=new Un,UMt=function(){function e(){}return e.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(HMt):null)},e.prototype.getFont=function(){return h5({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<d$.length;r++)n[d$[r]]=this.getShallow(d$[r]);return h$.useStyle(n),h$.update(),h$.getBoundingRect()},e}(),O0e=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],GMt=Dg(O0e),KMt=function(){function e(){}return e.prototype.getLineStyle=function(t){return GMt(this,t)},e}(),P0e=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],jMt=Dg(P0e),YMt=function(){function e(){}return e.prototype.getItemStyle=function(t,n){return jMt(this,t,n)},e}(),pr=function(){function e(t,n,r){this.parentModel=n,this.ecModel=r,this.option=t}return e.prototype.init=function(t,n,r){},e.prototype.mergeOption=function(t,n){mn(this.option,t,!0)},e.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},e.prototype.getShallow=function(t,n){var r=this.option,a=r==null?r:r[t];if(a==null&&!n){var i=this.parentModel;i&&(a=i.getShallow(t))}return a},e.prototype.getModel=function(t,n){var r=t!=null,a=r?this.parsePath(t):null,i=r?this._doGet(a):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new e(i,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(en(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Nn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,n){var r=this.option;if(!t)return r;for(var a=0;a<t.length&&!(t[a]&&(r=r&&typeof r=="object"?r[t[a]]:null,r==null));a++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(t),n.parentModel)),r},e}();t5(pr);rRt(pr);$a(pr,KMt);$a(pr,YMt);$a(pr,lRt);$a(pr,UMt);var XMt=Math.round(Math.random()*10);function _1(e){return[e||"",XMt++].join("_")}function qMt(e){var t={};e.registerSubTypeDefaulter=function(n,r){var a=wc(n);t[a.main]=r},e.determineSubType=function(n,r){var a=r.type;if(!a){var i=wc(n).main;e.hasSubTypes(n)&&t[i]&&(a=t[i](r))}return a}}function ZMt(e,t){e.topologicalTravel=function(i,o,s,l){if(!i.length)return;var u=n(o),c=u.graph,f=u.noEntryList,d={};for(X(i,function(y){d[y]=!0});f.length;){var h=f.pop(),p=c[h],v=!!d[h];v&&(s.call(l,h,p.originalDeps.slice()),delete d[h]),X(p.successor,v?m:g)}X(d,function(){var y="";throw new Error(y)});function g(y){c[y].entryCount--,c[y].entryCount===0&&f.push(y)}function m(y){d[y]=!0,g(y)}};function n(i){var o={},s=[];return X(i,function(l){var u=r(o,l),c=u.originalDeps=t(l),f=a(c,i);u.entryCount=f.length,u.entryCount===0&&s.push(l),X(f,function(d){Cn(u.predecessor,d)<0&&u.predecessor.push(d);var h=r(o,d);Cn(h.successor,d)<0&&h.successor.push(l)})}),{graph:o,noEntryList:s}}function r(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var s=[];return X(i,function(l){Cn(o,l)>=0&&s.push(l)}),s}}function mp(e,t){return mn(mn({},e,!0),t,!0)}const JMt={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},QMt={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var mE="ZH",p5="EN",zm=p5,Tk={},v5={},F0e=Nn.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||zm).toUpperCase();return e.indexOf(mE)>-1?mE:zm}():zm;function B0e(e,t){e=e.toUpperCase(),v5[e]=new pr(t),Tk[e]=t}function e$t(e){if(Dt(e)){var t=Tk[e.toUpperCase()]||{};return e===mE||e===p5?en(t):mn(en(t),en(Tk[zm]),!1)}else return mn(en(e),en(Tk[zm]),!1)}function l3(e){return v5[e]}function t$t(){return v5[zm]}B0e(p5,JMt);B0e(mE,QMt);var g5=1e3,m5=g5*60,Nx=m5*60,Cl=Nx*24,yX=Cl*365,Wb={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},W2="{yyyy}-{MM}-{dd}",bX={year:"{yyyy}",month:"{yyyy}-{MM}",day:W2,hour:W2+" "+Wb.hour,minute:W2+" "+Wb.minute,second:W2+" "+Wb.second,millisecond:Wb.none},p$=["year","month","day","hour","minute","second","millisecond"],V0e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Td(e,t){return e+="","0000".substr(0,t-e.length)+e}function Wm(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function n$t(e){return e===Wm(e)}function r$t(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function BN(e,t,n,r){var a=jc(e),i=a[y5(n)](),o=a[Hm(n)]()+1,s=Math.floor((o-1)/3)+1,l=a[VN(n)](),u=a["get"+(n?"UTC":"")+"Day"](),c=a[Xw(n)](),f=(c-1)%12+1,d=a[zN(n)](),h=a[WN(n)](),p=a[HN(n)](),v=c>=12?"pm":"am",g=v.toUpperCase(),m=r instanceof pr?r:l3(r||F0e)||t$t(),y=m.getModel("time"),b=y.get("month"),x=y.get("monthAbbr"),_=y.get("dayOfWeek"),S=y.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,v+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,Td(i%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,b[o-1]).replace(/{MMM}/g,x[o-1]).replace(/{MM}/g,Td(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Td(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,S[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Td(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Td(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Td(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Td(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Td(p,3)).replace(/{S}/g,p+"")}function a$t(e,t,n,r,a){var i=null;if(Dt(n))i=n;else if(Yt(n))i=n(e.value,t,{level:e.level});else{var o=rt({},Wb);if(e.level>0)for(var s=0;s<p$.length;++s)o[p$[s]]="{primary|"+o[p$[s]]+"}";var l=n?n.inherit===!1?n:Xt(n,o):o,u=z0e(e.value,a);if(l[u])i=l[u];else if(l.inherit){for(var c=V0e.indexOf(u),s=c-1;s>=0;--s)if(l[u]){i=l[u];break}i=i||o.none}if(st(i)){var f=e.level==null?0:e.level>=0?e.level:i.length+e.level;f=Math.min(f,i.length-1),i=i[f]}}return BN(new Date(e.value),i,a,r)}function z0e(e,t){var n=jc(e),r=n[Hm(t)]()+1,a=n[VN(t)](),i=n[Xw(t)](),o=n[zN(t)](),s=n[WN(t)](),l=n[HN(t)](),u=l===0,c=u&&s===0,f=c&&o===0,d=f&&i===0,h=d&&a===1,p=h&&r===1;return p?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function xX(e,t,n){var r=Kn(e)?jc(e):e;switch(t=t||z0e(e,n),t){case"year":return r[y5(n)]();case"half-year":return r[Hm(n)]()>=6?1:0;case"quarter":return Math.floor((r[Hm(n)]()+1)/4);case"month":return r[Hm(n)]();case"day":return r[VN(n)]();case"half-day":return r[Xw(n)]()/24;case"hour":return r[Xw(n)]();case"minute":return r[zN(n)]();case"second":return r[WN(n)]();case"millisecond":return r[HN(n)]()}}function y5(e){return e?"getUTCFullYear":"getFullYear"}function Hm(e){return e?"getUTCMonth":"getMonth"}function VN(e){return e?"getUTCDate":"getDate"}function Xw(e){return e?"getUTCHours":"getHours"}function zN(e){return e?"getUTCMinutes":"getMinutes"}function WN(e){return e?"getUTCSeconds":"getSeconds"}function HN(e){return e?"getUTCMilliseconds":"getMilliseconds"}function i$t(e){return e?"setUTCFullYear":"setFullYear"}function W0e(e){return e?"setUTCMonth":"setMonth"}function H0e(e){return e?"setUTCDate":"setDate"}function U0e(e){return e?"setUTCHours":"setHours"}function G0e(e){return e?"setUTCMinutes":"setMinutes"}function K0e(e){return e?"setUTCSeconds":"setSeconds"}function j0e(e){return e?"setUTCMilliseconds":"setMilliseconds"}function Y0e(e){if(!Hge(e))return Dt(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function X0e(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var S1=G6;function u3(e,t,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(c){return c&&xu(c)?c:"-"}function i(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=e instanceof Date;if(o||s){var l=o?jc(e):e;if(isNaN(+l)){if(s)return"-"}else return BN(l,r,n)}if(t==="ordinal")return IF(e)?a(e):Kn(e)&&i(e)?e+"":"-";var u=Zf(e);return i(u)?Y0e(u):IF(e)?a(e):typeof e=="boolean"?e+"":"-"}var wX=["a","b","c","d","e","f","g"],v$=function(e,t){return"{"+e+(t??"")+"}"};function q0e(e,t,n){st(t)||(t=[t]);var r=t.length;if(!r)return"";for(var a=t[0].$vars||[],i=0;i<a.length;i++){var o=wX[i];e=e.replace(v$(o),v$(o,0))}for(var s=0;s<r;s++)for(var l=0;l<a.length;l++){var u=t[s][a[l]];e=e.replace(v$(wX[l],s),n?Uo(u):u)}return e}function o$t(e,t,n){return X(t,function(r,a){e=e.replace("{"+a+"}",r)}),e}function s$t(e,t){var n=Dt(e)?{color:e,extraCssText:t}:e||{},r=n.color,a=n.type;t=n.extraCssText;var i=n.renderMode||"html";if(!r)return"";if(i==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Uo(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Uo(r)+";"+(t||"")+'"></span>';var o=n.markerId||"markerX";return{renderMode:i,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Rg(e,t){return t=t||"transparent",Dt(e)?e:Jt(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function yE(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var kk=X,Z0e=["left","right","top","bottom","width","height"],Dv=[["width","left","right"],["height","top","bottom"]];function b5(e,t,n,r,a){var i=0,o=0;r==null&&(r=1/0),a==null&&(a=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),d=f&&f.getBoundingRect(),h,p;if(e==="horizontal"){var v=c.width+(d?-d.x+c.x:0);h=i+v,h>r||l.newline?(i=0,h=v,o+=s+n,s=c.height):s=Math.max(s,c.height)}else{var g=c.height+(d?-d.y+c.y:0);p=o+g,p>a||l.newline?(i+=s+n,o=0,p=g,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=i,l.y=o,l.markRedraw(),e==="horizontal"?i=h+n:o=p+n)})}var Zv=b5;vn(b5,"vertical");vn(b5,"horizontal");function l$t(e,t,n){var r=t.width,a=t.height,i=St(e.left,r),o=St(e.top,a),s=St(e.right,r),l=St(e.bottom,a);return(isNaN(i)||isNaN(parseFloat(e.left)))&&(i=0),(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=r),(isNaN(o)||isNaN(parseFloat(e.top)))&&(o=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=a),n=S1(n||0),{width:Math.max(s-i-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}}function Ya(e,t,n){n=S1(n||0);var r=t.width,a=t.height,i=St(e.left,r),o=St(e.top,a),s=St(e.right,r),l=St(e.bottom,a),u=St(e.width,r),c=St(e.height,a),f=n[2]+n[0],d=n[1]+n[3],h=e.aspect;switch(isNaN(u)&&(u=r-s-d-i),isNaN(c)&&(c=a-l-f-o),h!=null&&(isNaN(u)&&isNaN(c)&&(h>r/a?u=r*.8:c=a*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(i)&&(i=r-s-u-d),isNaN(o)&&(o=a-l-c-f),e.left||e.right){case"center":i=r/2-u/2-n[3];break;case"right":i=r-u-d;break}switch(e.top||e.bottom){case"middle":case"center":o=a/2-c/2-n[0];break;case"bottom":o=a-c-f;break}i=i||0,o=o||0,isNaN(u)&&(u=r-d-i-(s||0)),isNaN(c)&&(c=a-f-o-(l||0));var p=new xn(i+n[3],o+n[0],u,c);return p.margin=n,p}function UN(e,t,n,r,a,i){var o=!a||!a.hv||a.hv[0],s=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all";if(i=i||e,i.x=e.x,i.y=e.y,!o&&!s)return!1;var u;if(l==="raw")u=e.type==="group"?new xn(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Ya(Xt({width:u.width,height:u.height},t),n,r),d=o?f.x-u.x:0,h=s?f.y-u.y:0;return l==="raw"?(i.x=d,i.y=h):(i.x+=d,i.y+=h),i===e&&e.markRedraw(),!0}function u$t(e,t){return e[Dv[t][0]]!=null||e[Dv[t][1]]!=null&&e[Dv[t][2]]!=null}function qw(e){var t=e.layoutMode||e.constructor.layoutMode;return Jt(t)?t:t?{type:t}:null}function Uh(e,t,n){var r=n&&n.ignoreSize;!st(r)&&(r=[r,r]);var a=o(Dv[0],0),i=o(Dv[1],1);u(Dv[0],e,a),u(Dv[1],e,i);function o(c,f){var d={},h=0,p={},v=0,g=2;if(kk(c,function(b){p[b]=e[b]}),kk(c,function(b){s(t,b)&&(d[b]=p[b]=t[b]),l(d,b)&&h++,l(p,b)&&v++}),r[f])return l(t,c[1])?p[c[2]]=null:l(t,c[2])&&(p[c[1]]=null),p;if(v===g||!h)return p;if(h>=g)return d;for(var m=0;m<c.length;m++){var y=c[m];if(!s(d,y)&&s(e,y)){d[y]=e[y];break}}return d}function s(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,d){kk(c,function(h){f[h]=d[h]})}}function C1(e){return J0e({},e)}function J0e(e,t){return t&&e&&kk(Z0e,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var c$t=Vn(),Rn=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this,n,r,a)||this;return i.uid=_1("ec_cpt_model"),i}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a)},t.prototype.mergeDefaultAndTheme=function(n,r){var a=qw(this),i=a?C1(n):{},o=r.getTheme();mn(n,o.get(this.mainType)),mn(n,this.getDefaultOption()),a&&Uh(n,i,a)},t.prototype.mergeOption=function(n,r){mn(this.option,n,!0);var a=qw(this);a&&Uh(this.option,n,a)},t.prototype.optionUpdated=function(n,r){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!eRt(n))return n.defaultOption;var r=c$t(this);if(!r.defaultOption){for(var a=[],i=n;i;){var o=i.prototype.defaultOption;o&&a.push(o),i=i.superClass}for(var s={},l=a.length-1;l>=0;l--)s=mn(s,a[l],!0);r.defaultOption=s}return r.defaultOption},t.prototype.getReferringComponents=function(n,r){var a=n+"Index",i=n+"Id";return uC(this.ecModel,n,{index:this.get(a,!0),id:this.get(i,!0)},r)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(pr);Qge(Rn,pr);EN(Rn);qMt(Rn);ZMt(Rn,f$t);function f$t(e){var t=[];return X(Rn.getClassesByMainType(e),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=ut(t,function(n){return wc(n).main}),e!=="dataset"&&Cn(t,"dataset")<=0&&t.unshift("dataset"),t}var Q0e="";typeof navigator<"u"&&(Q0e=navigator.platform||"");var L0="rgba(0, 0, 0, 0.2)";const d$t={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:L0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:L0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:L0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:L0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:L0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:L0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Q0e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var eme=Pt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Yl="original",To="arrayRows",Xl="objectRows",of="keyedColumns",bh="typedArray",tme="unknown",Mc="column",T1="row",$i={Must:1,Might:2,Not:3},nme=Vn();function h$t(e){nme(e).datasetMap=Pt()}function rme(e,t,n){var r={},a=w5(t);if(!a||!e)return r;var i=[],o=[],s=t.ecModel,l=nme(s).datasetMap,u=a.uid+"_"+n.seriesLayoutBy,c,f;e=e.slice(),X(e,function(v,g){var m=Jt(v)?v:e[g]={name:v};m.type==="ordinal"&&c==null&&(c=g,f=p(m)),r[m.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});X(e,function(v,g){var m=v.name,y=p(v);if(c==null){var b=d.valueWayDim;h(r[m],b,y),h(o,b,y),d.valueWayDim+=y}else if(c===g)h(r[m],0,y),h(i,0,y);else{var b=d.categoryWayDim;h(r[m],b,y),h(o,b,y),d.categoryWayDim+=y}});function h(v,g,m){for(var y=0;y<m;y++)v.push(g+y)}function p(v){var g=v.dimsDef;return g?g.length:1}return i.length&&(r.itemName=i),o.length&&(r.seriesName=o),r}function x5(e,t,n){var r={},a=w5(e);if(!a)return r;var i=t.sourceFormat,o=t.dimensionsDefine,s;(i===Xl||i===of)&&X(o,function(c,f){(Jt(c)?c.name:c)==="name"&&(s=f)});var l=function(){for(var c={},f={},d=[],h=0,p=Math.min(5,n);h<p;h++){var v=ime(t.data,i,t.seriesLayoutBy,o,t.startIndex,h);d.push(v);var g=v===$i.Not;if(g&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!g&&d[c.n]===$i.Not)&&(c.n=h),m(c)&&d[c.n]!==$i.Not)return c;g||(v===$i.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function m(y){return y.v!=null&&y.n!=null}return m(c)?c:m(f)?f:null}();if(l){r.value=[l.v];var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function w5(e){var t=e.get("data",!0);if(!t)return uC(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Da).models[0]}function p$t(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:uC(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Da).models}function ame(e,t){return ime(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function ime(e,t,n,r,a,i){var o,s=5;if(As(e))return $i.Not;var l,u;if(r){var c=r[i];Jt(c)?(l=c.name,u=c.type):Dt(c)&&(l=c)}if(u!=null)return u==="ordinal"?$i.Must:$i.Not;if(t===To){var f=e;if(n===T1){for(var d=f[i],h=0;h<(d||[]).length&&h<s;h++)if((o=x(d[a+h]))!=null)return o}else for(var h=0;h<f.length&&h<s;h++){var p=f[a+h];if(p&&(o=x(p[i]))!=null)return o}}else if(t===Xl){var v=e;if(!l)return $i.Not;for(var h=0;h<v.length&&h<s;h++){var g=v[h];if(g&&(o=x(g[l]))!=null)return o}}else if(t===of){var m=e;if(!l)return $i.Not;var d=m[l];if(!d||As(d))return $i.Not;for(var h=0;h<d.length&&h<s;h++)if((o=x(d[h]))!=null)return o}else if(t===Yl)for(var y=e,h=0;h<y.length&&h<s;h++){var g=y[h],b=y1(g);if(!st(b))return $i.Not;if((o=x(b[i]))!=null)return o}function x(_){var S=Dt(_);if(_!=null&&Number.isFinite(Number(_))&&_!=="")return S?$i.Might:$i.Not;if(S&&_!=="-")return $i.Must}return $i.Not}var c3=Pt();function v$t(e,t){is(c3.get(e)==null&&t),c3.set(e,t)}function g$t(e,t,n){var r=c3.get(t);if(!r)return n;var a=r(e);return a?n.concat(a):n}var _X=Vn(),m$t=Vn(),_5=function(){function e(){}return e.prototype.getColorFromPalette=function(t,n,r){var a=Ir(this.get("color",!0)),i=this.get("colorLayer",!0);return ome(this,_X,a,i,t,n,r)},e.prototype.clearColorPalette=function(){b$t(this,_X)},e}();function f3(e,t,n,r){var a=Ir(e.get(["aria","decal","decals"]));return ome(e,m$t,a,null,t,n,r)}function y$t(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function ome(e,t,n,r,a,i,o){i=i||e;var s=t(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a))return u[a];var c=o==null||!r?n:y$t(r,o);if(c=c||n,!(!c||!c.length)){var f=c[l];return a&&(u[a]=f),s.paletteIdx=(l+1)%c.length,f}}function b$t(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var H2,nb,SX,CX="\0_ec_inner",x$t=1,S5=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n,r,a,i,o,s){i=i||{},this.option=null,this._theme=new pr(i),this._locale=new pr(o),this._optionManager=s},t.prototype.setOption=function(n,r,a){var i=IX(r);this._optionManager.setOption(n,a,i),this._resetOption(null,i)},t.prototype.resetOption=function(n,r){return this._resetOption(n,IX(r))},t.prototype._resetOption=function(n,r){var a=!1,i=this._optionManager;if(!n||n==="recreate"){var o=i.mountOption(n==="recreate");!this.option||n==="recreate"?SX(this,o):(this.restoreData(),this._mergeOption(o,r)),a=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=i.getTimelineOption(this);s&&(a=!0,this._mergeOption(s,r))}if(!n||n==="recreate"||n==="media"){var l=i.getMediaOption(this);l.length&&X(l,function(u){a=!0,this._mergeOption(u,r)},this)}return a},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,r){var a=this.option,i=this._componentsMap,o=this._componentsCount,s=[],l=Pt(),u=r&&r.replaceMergeMainTypeMap;h$t(this),X(n,function(f,d){f!=null&&(Rn.hasClass(d)?d&&(s.push(d),l.set(d,!0)):a[d]=a[d]==null?en(f):mn(a[d],f,!0))}),u&&u.each(function(f,d){Rn.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),Rn.topologicalTravel(s,Rn.getAllClassMainTypes(),c,this);function c(f){var d=g$t(this,f,Ir(n[f])),h=i.get(f),p=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",v=Yge(h,d,p);GNt(v,f,Rn),a[f]=null,i.set(f,null),o.set(f,0);var g=[],m=[],y=0,b;X(v,function(x,_){var S=x.existing,C=x.newOption;if(!C)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var k=f==="series",T=Rn.getClass(f,x.keyInfo.subType,!k);if(!T)return;if(f==="tooltip"){if(b)return;b=!0}if(S&&S.constructor===T)S.name=x.keyInfo.name,S.mergeOption(C,this),S.optionUpdated(C,!1);else{var E=rt({componentIndex:_},x.keyInfo);S=new T(C,this,this,E),rt(S,E),x.brandNew&&(S.__requireNewView=!0),S.init(C,this,this),S.optionUpdated(null,!0)}}S?(g.push(S.option),m.push(S),y++):(g.push(void 0),m.push(void 0))},this),a[f]=g,i.set(f,m),o.set(f,y),f==="series"&&H2(this)}this._seriesIndices||H2(this)},t.prototype.getOption=function(){var n=en(this.option);return X(n,function(r,a){if(Rn.hasClass(a)){for(var i=Ir(r),o=i.length,s=!1,l=o-1;l>=0;l--)i[l]&&!Gw(i[l])?s=!0:(i[l]=null,!s&&o--);i.length=o,n[a]=i}}),delete n[CX],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,r){var a=this._componentsMap.get(n);if(a){var i=a[r||0];if(i)return i;if(r==null){for(var o=0;o<a.length;o++)if(a[o])return a[o]}}},t.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var a=n.index,i=n.id,o=n.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return a!=null?(l=[],X(Ir(a),function(u){s[u]&&l.push(s[u])})):i!=null?l=TX("id",i,s):o!=null?l=TX("name",o,s):l=sr(s,function(u){return!!u}),kX(l,n)},t.prototype.findComponents=function(n){var r=n.query,a=n.mainType,i=s(r),o=i?this.queryComponents(i):sr(this._componentsMap.get(a),function(u){return!!u});return l(kX(o,n));function s(u){var c=a+"Index",f=a+"Id",d=a+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:a,index:u[c],id:u[f],name:u[d]}:null}function l(u){return n.filter?sr(u,n.filter):u}},t.prototype.eachComponent=function(n,r,a){var i=this._componentsMap;if(Yt(n)){var o=r,s=n;i.each(function(f,d){for(var h=0;f&&h<f.length;h++){var p=f[h];p&&s.call(o,d,p,p.componentIndex)}})}else for(var l=Dt(n)?i.get(n):Jt(n)?this.findComponents(n):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(a,c,c.componentIndex)}},t.prototype.getSeriesByName=function(n){var r=Ha(n,null);return sr(this._componentsMap.get("series"),function(a){return!!a&&r!=null&&a.name===r})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return sr(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},t.prototype.getSeries=function(){return sr(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,r){nb(this),X(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];n.call(r,i,a)},this)},t.prototype.eachRawSeries=function(n,r){X(this._componentsMap.get("series"),function(a){a&&n.call(r,a,a.componentIndex)})},t.prototype.eachSeriesByType=function(n,r,a){nb(this),X(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===n&&r.call(a,o,i)},this)},t.prototype.eachRawSeriesByType=function(n,r,a){return X(this.getSeriesByType(n),r,a)},t.prototype.isSeriesFiltered=function(n){return nb(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,r){nb(this);var a=[];X(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];n.call(r,o,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=Pt(a)},t.prototype.restoreData=function(n){H2(this);var r=this._componentsMap,a=[];r.each(function(i,o){Rn.hasClass(o)&&a.push(o)}),Rn.topologicalTravel(a,Rn.getAllClassMainTypes(),function(i){X(r.get(i),function(o){o&&(i!=="series"||!w$t(o,n))&&o.restoreData()})})},t.internalField=function(){H2=function(n){var r=n._seriesIndices=[];X(n._componentsMap.get("series"),function(a){a&&r.push(a.componentIndex)}),n._seriesIndicesMap=Pt(r)},nb=function(n){},SX=function(n,r){n.option={},n.option[CX]=x$t,n._componentsMap=Pt({series:[]}),n._componentsCount=Pt();var a=r.aria;Jt(a)&&a.enabled==null&&(a.enabled=!0),_$t(r,n._theme.option),mn(r,d$t,!1),n._mergeOption(r,null)}}(),t}(pr);function w$t(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,a=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||a!=null&&e.name!==a}}function _$t(e,t){var n=e.color&&!e.colorLayer;X(t,function(r,a){a==="colorLayer"&&n||Rn.hasClass(a)||(typeof r=="object"?e[a]=e[a]?mn(e[a],r,!1):en(r):e[a]==null&&(e[a]=r))})}function TX(e,t,n){if(st(t)){var r=Pt();return X(t,function(i){if(i!=null){var o=Ha(i,null);o!=null&&r.set(i,!0)}}),sr(n,function(i){return i&&r.get(i[e])})}else{var a=Ha(t,null);return sr(n,function(i){return i&&a!=null&&i[e]===a})}}function kX(e,t){return t.hasOwnProperty("subType")?sr(e,function(n){return n&&n.subType===t.subType}):e}function IX(e){var t=Pt();return e&&X(Ir(e.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}$a(S5,_5);var S$t=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],sme=function(){function e(t){X(S$t,function(n){this[n]=Nt(t[n],t)},this)}return e}(),g$={},gC=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,n){var r=[];X(g$,function(a,i){var o=a.create(t,n);r=r.concat(o||[])}),this._coordinateSystems=r},e.prototype.update=function(t,n){X(this._coordinateSystems,function(r){r.update&&r.update(t,n)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,n){g$[t]=n},e.get=function(t){return g$[t]},e}(),C$t=/^(min|max)?(.+)$/,T$t=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,n,r){t&&(X(Ir(t.series),function(o){o&&o.data&&As(o.data)&&nE(o.data)}),X(Ir(t.dataset),function(o){o&&o.source&&As(o.source)&&nE(o.source)})),t=en(t);var a=this._optionBackup,i=k$t(t,n,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],en(t?n.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var n,r=this._timelineOptions;if(r.length){var a=t.getComponent("timeline");a&&(n=en(r[a.getCurrentIndex()]))}return n},e.prototype.getMediaOption=function(t){var n=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!a.length&&!i)return s;for(var l=0,u=a.length;l<u;l++)I$t(a[l].query,n,r)&&o.push(l);return!o.length&&i&&(o=[-1]),o.length&&!A$t(o,this._currentMediaIndices)&&(s=ut(o,function(c){return en(c===-1?i.option:a[c].option)})),this._currentMediaIndices=o,s},e}();function k$t(e,t,n){var r=[],a,i,o=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,f=!!(l||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((f||c)&&(e.options=e.media=null),i=e),c&&st(u)&&X(u,function(h){h&&h.option&&(h.query?r.push(h):a||(a=h))}),d(i),X(l,function(h){return d(h)}),X(r,function(h){return d(h.option)});function d(h){X(t,function(p){p(h,n)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:a,mediaList:r}}function I$t(e,t,n){var r={width:t,height:n,aspectratio:t/n},a=!0;return X(e,function(i,o){var s=o.match(C$t);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();E$t(r[u],i,l)||(a=!1)}}),a}function E$t(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function A$t(e,t){return e.join(",")===t.join(",")}var eu=X,Zw=Jt,EX=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function m$(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=EX.length;n<r;n++){var a=EX[n],i=t.normal,o=t.emphasis;i&&i[a]&&(e[a]=e[a]||{},e[a].normal?mn(e[a].normal,i[a]):e[a].normal=i[a],i[a]=null),o&&o[a]&&(e[a]=e[a]||{},e[a].emphasis?mn(e[a].emphasis,o[a]):e[a].emphasis=o[a],o[a]=null)}}function so(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,a=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,Xt(e[t],r)):e[t]=r),a&&(e.emphasis=e.emphasis||{},e.emphasis[t]=a,a.focus&&(e.emphasis.focus=a.focus),a.blurScope&&(e.emphasis.blurScope=a.blurScope))}}function Hb(e){so(e,"itemStyle"),so(e,"lineStyle"),so(e,"areaStyle"),so(e,"label"),so(e,"labelLine"),so(e,"upperLabel"),so(e,"edgeLabel")}function Ea(e,t){var n=Zw(e)&&e[t],r=Zw(n)&&n.textStyle;if(r)for(var a=0,i=$Y.length;a<i;a++){var o=$Y[a];r.hasOwnProperty(o)&&(n[o]=r[o])}}function pl(e){e&&(Hb(e),Ea(e,"label"),e.emphasis&&Ea(e.emphasis,"label"))}function D$t(e){if(Zw(e)){m$(e),Hb(e),Ea(e,"label"),Ea(e,"upperLabel"),Ea(e,"edgeLabel"),e.emphasis&&(Ea(e.emphasis,"label"),Ea(e.emphasis,"upperLabel"),Ea(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(m$(t),pl(t));var n=e.markLine;n&&(m$(n),pl(n));var r=e.markArea;r&&pl(r);var a=e.data;if(e.type==="graph"){a=a||e.nodes;var i=e.links||e.edges;if(i&&!As(i))for(var o=0;o<i.length;o++)pl(i[o]);X(e.categories,function(u){Hb(u)})}if(a&&!As(a))for(var o=0;o<a.length;o++)pl(a[o]);if(t=e.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)pl(s[o]);if(n=e.markLine,n&&n.data)for(var l=n.data,o=0;o<l.length;o++)st(l[o])?(pl(l[o][0]),pl(l[o][1])):pl(l[o]);e.type==="gauge"?(Ea(e,"axisLabel"),Ea(e,"title"),Ea(e,"detail")):e.type==="treemap"?(so(e.breadcrumb,"itemStyle"),X(e.levels,function(u){Hb(u)})):e.type==="tree"&&Hb(e.leaves)}}function vf(e){return st(e)?e:e?[e]:[]}function AX(e){return(st(e)?e[0]:e)||{}}function N$t(e,t){eu(vf(e.series),function(r){Zw(r)&&D$t(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),eu(n,function(r){eu(vf(e[r]),function(a){a&&(Ea(a,"axisLabel"),Ea(a.axisPointer,"label"))})}),eu(vf(e.parallel),function(r){var a=r&&r.parallelAxisDefault;Ea(a,"axisLabel"),Ea(a&&a.axisPointer,"label")}),eu(vf(e.calendar),function(r){so(r,"itemStyle"),Ea(r,"dayLabel"),Ea(r,"monthLabel"),Ea(r,"yearLabel")}),eu(vf(e.radar),function(r){Ea(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),eu(vf(e.geo),function(r){Zw(r)&&(pl(r),eu(vf(r.regions),function(a){pl(a)}))}),eu(vf(e.timeline),function(r){pl(r),so(r,"label"),so(r,"itemStyle"),so(r,"controlStyle",!0);var a=r.data;st(a)&&X(a,function(i){Jt(i)&&(so(i,"label"),so(i,"itemStyle"))})}),eu(vf(e.toolbox),function(r){so(r,"iconStyle"),eu(r.feature,function(a){so(a,"iconStyle")})}),Ea(AX(e.axisPointer),"label"),Ea(AX(e.tooltip).axisPointer,"label")}function R$t(e,t){for(var n=t.split(","),r=e,a=0;a<n.length&&(r=r&&r[n[a]],r!=null);a++);return r}function M$t(e,t,n,r){for(var a=t.split(","),i=e,o,s=0;s<a.length-1;s++)o=a[s],i[o]==null&&(i[o]={}),i=i[o];i[a[s]]==null&&(i[a[s]]=n)}function DX(e){e&&X($$t,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var $$t=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],L$t=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],y$=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function rb(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<y$.length;n++){var r=y$[n][1],a=y$[n][0];t[r]!=null&&(t[a]=t[r])}}function NX(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function RX(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function O$t(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function lme(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&lme(e[n].children,t)}function ume(e,t){N$t(e,t),e.series=Ir(e.series),X(e.series,function(n){if(Jt(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),NX(n.label);var a=n.data;if(a&&!As(a))for(var i=0;i<a.length;i++)NX(a[i]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var o=R$t(n,"pointer.color");o!=null&&M$t(n,"itemStyle.color",o)}else if(r==="bar"){rb(n),rb(n.backgroundStyle),rb(n.emphasis);var a=n.data;if(a&&!As(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(rb(a[i]),rb(a[i]&&a[i].emphasis))}else if(r==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),RX(n),lme(n.data,RX)}else r==="graph"||r==="sankey"?O$t(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&Xt(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),DX(n)}}),e.dataRange&&(e.visualMap=e.dataRange),X(L$t,function(n){var r=e[n];r&&(st(r)||(r=[r]),X(r,function(a){DX(a)}))})}function P$t(e){var t=Pt();e.eachSeries(function(n){var r=n.get("stack");if(r){var a=t.get(r)||t.set(r,[]),i=n.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:n};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),t.each(F$t)}function F$t(e){X(e,function(t,n){var r=[],a=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(u,c,f){var d=o.get(t.stackedDimension,f);if(isNaN(d))return a;var h,p;s?p=o.getRawIndex(f):h=o.get(t.stackedByDimension,f);for(var v=NaN,g=n-1;g>=0;g--){var m=e[g];if(s||(p=m.data.rawIndexOf(m.stackedByDimension,h)),p>=0){var y=m.data.getByRawIndex(m.stackResultDimension,p);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&d>=0&&y>0||l==="samesign"&&d<=0&&y<0){d=$Nt(d,y),v=y;break}}}return r[0]=d,r[1]=v,r})})}var GN=function(){function e(t){this.data=t.data||(t.sourceFormat===of?{}:[]),this.sourceFormat=t.sourceFormat||tme,this.seriesLayoutBy=t.seriesLayoutBy||Mc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var a=n[r];a.type==null&&ame(this,r)===$i.Must&&(a.type="ordinal")}}return e}();function C5(e){return e instanceof GN}function d3(e,t,n){n=n||cme(e);var r=t.seriesLayoutBy,a=V$t(e,n,r,t.sourceHeader,t.dimensions),i=new GN({data:e,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:en(t)});return i}function T5(e){return new GN({data:e,sourceFormat:As(e)?bh:Yl})}function B$t(e){return new GN({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:en(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function cme(e){var t=tme;if(As(e))t=bh;else if(st(e)){e.length===0&&(t=To);for(var n=0,r=e.length;n<r;n++){var a=e[n];if(a!=null){if(st(a)||As(a)){t=To;break}else if(Jt(a)){t=Xl;break}}}}else if(Jt(e)){for(var i in e)if(Mt(e,i)&&Co(e[i])){t=of;break}}return t}function V$t(e,t,n,r,a){var i,o;if(!e)return{dimensionsDefine:MX(a),startIndex:o,dimensionsDetectedCount:i};if(t===To){var s=e;r==="auto"||r==null?$X(function(u){u!=null&&u!=="-"&&(Dt(u)?o==null&&(o=1):o=0)},n,s,10):o=Kn(r)?r:r?1:0,!a&&o===1&&(a=[],$X(function(u,c){a[c]=u!=null?u+"":""},n,s,1/0)),i=a?a.length:n===T1?s.length:s[0]?s[0].length:null}else if(t===Xl)a||(a=z$t(e));else if(t===of)a||(a=[],X(e,function(u,c){a.push(c)}));else if(t===Yl){var l=y1(e[0]);i=st(l)&&l.length||1}return{startIndex:o,dimensionsDefine:MX(a),dimensionsDetectedCount:i}}function z$t(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n)return Mn(n)}function MX(e){if(e){var t=Pt();return ut(e,function(n,r){n=Jt(n)?n:{name:n};var a={name:n.name,displayName:n.displayName,type:n.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=t.get(a.name);return i?a.name+="-"+i.count++:t.set(a.name,{count:1}),a})}}function $X(e,t,n,r){if(t===T1)for(var a=0;a<n.length&&a<r;a++)e(n[a]?n[a][0]:null,a);else for(var i=n[0]||[],a=0;a<i.length&&a<r;a++)e(i[a],a)}function fme(e){var t=e.sourceFormat;return t===Xl||t===of}var Up,Gp,Kp,LX,OX,dme=function(){function e(t,n){var r=C5(t)?t:T5(t);this._source=r;var a=this._data=r.data;r.sourceFormat===bh&&(this._offset=0,this._dimSize=n,this._data=a),OX(this,a,r)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,n){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;OX=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=LX[k5(u,c)];if(rt(o,h),u===bh)o.getItem=n,o.count=a,o.fillStorage=r;else{var p=hme(u,c);o.getItem=Nt(p,null,s,f,d);var v=pme(u,c);o.count=Nt(v,null,s,f,d)}};var n=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},r=function(o,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],p=h[0]==null?1/0:h[0],v=h[1]==null?-1/0:h[1],g=s-o,m=l[d],y=0;y<g;y++){var b=c[y*f+d];m[o+y]=b,b<p&&(p=b),b>v&&(v=b)}h[0]=p,h[1]=v}},a=function(){return this._data?this._data.length/this._dimSize:0};LX=(t={},t[To+"_"+Mc]={pure:!0,appendData:i},t[To+"_"+T1]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Xl]={pure:!0,appendData:i},t[of]={pure:!0,appendData:function(o){var s=this._data;X(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[Yl]={appendData:i},t[bh]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),e}(),PX=function(e,t,n,r){return e[r]},W$t=(Up={},Up[To+"_"+Mc]=function(e,t,n,r){return e[r+t]},Up[To+"_"+T1]=function(e,t,n,r,a){r+=t;for(var i=a||[],o=e,s=0;s<o.length;s++){var l=o[s];i[s]=l?l[r]:null}return i},Up[Xl]=PX,Up[of]=function(e,t,n,r,a){for(var i=a||[],o=0;o<n.length;o++){var s=n[o].name,l=e[s];i[o]=l?l[r]:null}return i},Up[Yl]=PX,Up);function hme(e,t){var n=W$t[k5(e,t)];return n}var FX=function(e,t,n){return e.length},H$t=(Gp={},Gp[To+"_"+Mc]=function(e,t,n){return Math.max(0,e.length-t)},Gp[To+"_"+T1]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},Gp[Xl]=FX,Gp[of]=function(e,t,n){var r=n[0].name,a=e[r];return a?a.length:0},Gp[Yl]=FX,Gp);function pme(e,t){var n=H$t[k5(e,t)];return n}var b$=function(e,t,n){return e[t]},U$t=(Kp={},Kp[To]=b$,Kp[Xl]=function(e,t,n){return e[n]},Kp[of]=b$,Kp[Yl]=function(e,t,n){var r=y1(e);return r instanceof Array?r[t]:r},Kp[bh]=b$,Kp);function vme(e){var t=U$t[e];return t}function k5(e,t){return e===To?e+"_"+t:e}function Dy(e,t,n){if(e){var r=e.getRawDataItem(t);if(r!=null){var a=e.getStore(),i=a.getSource().sourceFormat;if(n!=null){var o=e.getDimensionIndex(n),s=a.getDimensionProperty(o);return vme(i)(r,o,s)}else{var l=r;return i===Yl&&(l=y1(r)),l}}}}var G$t=/\{@(.+?)\}/g,KN=function(){function e(){}return e.prototype.getDataParams=function(t,n){var r=this.getData(n),a=this.getRawValue(t,n),i=r.getRawIndex(t),o=r.getName(t),s=r.getRawDataItem(t),l=r.getItemVisual(t,"style"),u=l&&l[r.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:i,data:s,dataType:n,value:a,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,n,r,a,i,o){n=n||"normal";var s=this.getData(r),l=this.getDataParams(t,r);if(o&&(l.value=o.interpolatedValue),a!=null&&st(l.value)&&(l.value=l.value[a]),!i){var u=s.getItemModel(t);i=u.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(Yt(i))return l.status=n,l.dimensionIndex=a,i(l);if(Dt(i)){var c=q0e(i,l);return c.replace(G$t,function(f,d){var h=d.length,p=d;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var v=Dy(s,t,p);if(o&&st(o.interpolatedValue)){var g=s.getDimensionIndex(p);g>=0&&(v=o.interpolatedValue[g])}return v!=null?v+"":""})}},e.prototype.getRawValue=function(t,n){return Dy(this.getData(n),t)},e.prototype.formatTooltip=function(t,n,r){},e}();function BX(e){var t,n;return Jt(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function Rx(e){return new K$t(e)}var K$t=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(i="reset");function c(y){return!(y>=1)&&(y=1),y}var f;(this._dirty||i==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var d=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(f||h<p)){var v=this._progress;if(st(v))for(var g=0;g<v.length;g++)this._doProgress(v[g],h,p,l,u);else this._doProgress(v,h,p,l,u)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,n,r,a,i){VX.reset(n,r,a,i),this._callingProgress=t,this._callingProgress({start:n,end:r,count:r-n,next:VX.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),st(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),r},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),VX=function(){var e,t,n,r,a,i={reset:function(l,u,c,f){t=l,e=u,n=c,r=f,a=Math.ceil(r/n),i.next=n>1&&r>0?s:o}};return i;function o(){return t<e?t++:null}function s(){var l=t%a*n+Math.ceil(t/a),u=t>=e?null:l<r?l:t;return t++,u}}();function xh(e,t){var n=t&&t.type;return n==="ordinal"?e:(n==="time"&&!Kn(e)&&e!=null&&e!=="-"&&(e=+jc(e)),e==null||e===""?NaN:Number(e))}var j$t=Pt({number:function(e){return parseFloat(e)},time:function(e){return+jc(e)},trim:function(e){return Dt(e)?xu(e):e}});function gme(e){return j$t.get(e)}var mme={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},Y$t=function(){function e(t,n){if(!Kn(n)){var r="";or(r)}this._opFn=mme[t],this._rvalFloat=Zf(n)}return e.prototype.evaluate=function(t){return Kn(t)?this._opFn(t,this._rvalFloat):this._opFn(Zf(t),this._rvalFloat)},e}(),yme=function(){function e(t,n){var r=t==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,n){var r=Kn(t)?t:Zf(t),a=Kn(n)?n:Zf(n),i=isNaN(r),o=isNaN(a);if(i&&(r=this._incomparable),o&&(a=this._incomparable),i&&o){var s=Dt(t),l=Dt(n);s&&(r=l?t:0),l&&(a=s?n:0)}return r<a?this._resultLT:r>a?-this._resultLT:0},e}(),X$t=function(){function e(t,n){this._rval=n,this._isEQ=t,this._rvalTypeof=typeof n,this._rvalFloat=Zf(n)}return e.prototype.evaluate=function(t){var n=t===this._rval;if(!n){var r=typeof t;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(n=Zf(t)===this._rvalFloat)}return this._isEQ?n:!n},e}();function q$t(e,t){return e==="eq"||e==="ne"?new X$t(e==="eq",t):Mt(mme,e)?new Y$t(e,t):null}var Z$t=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,n){},e.prototype.retrieveValueFromItem=function(t,n){},e.prototype.convertValue=function(t,n){return xh(t,n)},e}();function J$t(e,t){var n=new Z$t,r=e.data,a=n.sourceFormat=e.sourceFormat,i=e.startIndex,o="";e.seriesLayoutBy!==Mc&&or(o);var s=[],l={},u=e.dimensionsDefine;if(u)X(u,function(v,g){var m=v.name,y={index:g,name:m,displayName:v.displayName};if(s.push(y),m!=null){var b="";Mt(l,m)&&or(b),l[m]=y}});else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var f=hme(a,Mc);t.__isBuiltIn&&(n.getRawDataItem=function(v){return f(r,i,s,v)},n.getRawData=Nt(Q$t,null,e)),n.cloneRawData=Nt(eLt,null,e);var d=pme(a,Mc);n.count=Nt(d,null,r,i,s);var h=vme(a);n.retrieveValue=function(v,g){var m=f(r,i,s,v);return p(m,g)};var p=n.retrieveValueFromItem=function(v,g){if(v!=null){var m=s[g];if(m)return h(v,g,m.name)}};return n.getDimensionInfo=Nt(tLt,null,s,l),n.cloneAllDimensionInfo=Nt(nLt,null,s),n}function Q$t(e){var t=e.sourceFormat;if(!I5(t)){var n="";or(n)}return e.data}function eLt(e){var t=e.sourceFormat,n=e.data;if(!I5(t)){var r="";or(r)}if(t===To){for(var a=[],i=0,o=n.length;i<o;i++)a.push(n[i].slice());return a}else if(t===Xl){for(var a=[],i=0,o=n.length;i<o;i++)a.push(rt({},n[i]));return a}}function tLt(e,t,n){if(n!=null){if(Kn(n)||!isNaN(n)&&!Mt(t,n))return e[n];if(Mt(t,n))return t[n]}}function nLt(e){return en(e)}var bme=Pt();function rLt(e){e=en(e);var t=e.type,n="";t||or(n);var r=t.split(":");r.length!==2&&or(n);var a=!1;r[0]==="echarts"&&(t=r[1],a=!0),e.__isBuiltIn=a,bme.set(t,e)}function aLt(e,t,n){var r=Ir(e),a=r.length,i="";a||or(i);for(var o=0,s=a;o<s;o++){var l=r[o];t=iLt(l,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function iLt(e,t,n,r){var a="";t.length||or(a),Jt(e)||or(a);var i=e.type,o=bme.get(i);o||or(a);var s=ut(t,function(u){return J$t(u,o)}),l=Ir(o.transform({upstream:s[0],upstreamList:s,config:en(e.config)}));return ut(l,function(u,c){var f="";Jt(u)||or(f),u.data||or(f);var d=cme(u.data);I5(d)||or(f);var h,p=t[0];if(p&&c===0&&!u.dimensions){var v=p.startIndex;v&&(u.data=p.data.slice(0,v).concat(u.data)),h={seriesLayoutBy:Mc,sourceHeader:v,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:Mc,sourceHeader:0,dimensions:u.dimensions};return d3(u.data,h,null)})}function I5(e){return e===To||e===Xl}var jN="undefined",oLt=typeof Uint32Array===jN?Array:Uint32Array,sLt=typeof Uint16Array===jN?Array:Uint16Array,xme=typeof Int32Array===jN?Array:Int32Array,zX=typeof Float64Array===jN?Array:Float64Array,wme={float:zX,int:xme,ordinal:Array,number:Array,time:zX},x$;function O0(e){return e>65535?oLt:sLt}function P0(){return[1/0,-1/0]}function lLt(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function WX(e,t,n,r,a){var i=wme[n||"float"];if(a){var o=e[t],s=o&&o.length;if(s!==r){for(var l=new i(r),u=0;u<s;u++)l[u]=o[u];e[t]=l}}else e[t]=new i(r)}var h3=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Pt()}return e.prototype.initData=function(t,n,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=t.getSource(),i=this.defaultDimValueGetter=x$[a.sourceFormat];this._dimValueGetter=r||i,this._rawExtent=[],fme(a),this._dimensions=ut(n,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,n){var r=this._calcDimNameToIdx,a=this._dimensions,i=r.get(t);if(i!=null){if(a[i].type===n)return i}else i=a.length;return a[i]={type:n},r.set(t,i),this._chunks[i]=new wme[n||"float"](this._rawCount),this._rawExtent[i]=P0(),i},e.prototype.collectOrdinalMeta=function(t,n){var r=this._chunks[t],a=this._dimensions[t],i=this._rawExtent,o=a.ordinalOffset||0,s=r.length;o===0&&(i[t]=P0());for(var l=i[t],u=o;u<s;u++){var c=r[u]=n.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}a.ordinalMeta=n,a.ordinalOffset=s,a.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],r=n.ordinalMeta;return r},e.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},e.prototype.appendData=function(t){var n=this._provider,r=this.count();n.appendData(t);var a=n.count();return n.persistent||(a+=r),r<a&&this._initDataFromProvider(r,a,!0),[r,a]},e.prototype.appendValues=function(t,n){for(var r=this._chunks,a=this._dimensions,i=a.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,n||0),u=0;u<i;u++){var c=a[u];WX(r,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,p=0;p<i;p++){var c=a[p],v=x$.arrayRows.call(this,t[h]||f,c.property,h,p);r[p][d]=v;var g=o[p];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(t,n,r){for(var a=this._provider,i=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=ut(o,function(y){return y.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=P0()),WX(i,c,f.type,n,r)}if(a.fillStorage)a.fillStorage(t,n,i,l);else for(var d=[],h=t;h<n;h++){d=a.getItem(h,d);for(var p=0;p<s;p++){var v=i[p],g=this._dimValueGetter(d,u[p],h,p);v[h]=g;var m=l[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=n,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(n)]:NaN},e.prototype.getValues=function(t,n){var r=[],a=[];if(n==null){n=t,t=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=t;for(var i=0,o=a.length;i<o;i++)r.push(this.get(a[i],n));return r},e.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[t];return r?r[n]:NaN},e.prototype.getSum=function(t){var n=this._chunks[t],r=0;if(n)for(var a=0,i=this.count();a<i;a++){var o=this.get(t,a);isNaN(o)||(r+=o)}return r},e.prototype.getMedian=function(t){var n=[];this.each([t],function(i){isNaN(i)||n.push(i)});var r=n.sort(function(i,o){return i-o}),a=this.count();return a===0?0:a%2===1?r[(a-1)/2]:(r[a/2]+r[a/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,r=n[t];if(r!=null&&r<this._count&&r===t)return t;for(var a=0,i=this._count-1;a<=i;){var o=(a+i)/2|0;if(n[o]<t)a=o+1;else if(n[o]>t)i=o-1;else return o}return-1},e.prototype.indicesOfNearest=function(t,n,r){var a=this._chunks,i=a[t],o=[];if(!i)return o;r==null&&(r=1/0);for(var s=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var d=this.getRawIndex(c),h=n-i[d],p=Math.abs(h);p<=r&&((p<s||p===s&&h>=0&&l<0)&&(s=p,l=h,u=0),h===l&&(o[u++]=c))}return o.length=u,o},e.prototype.getIndices=function(){var t,n=this._indices;if(n){var r=n.constructor,a=this._count;if(r===Array){t=new r(a);for(var i=0;i<a;i++)t[i]=n[i]}else t=new r(n.buffer,0,a)}else{var r=O0(this._rawCount);t=new r(this.count());for(var i=0;i<t.length;i++)t[i]=i}return t},e.prototype.filter=function(t,n){if(!this._count)return this;for(var r=this.clone(),a=r.count(),i=O0(r._rawCount),o=new i(a),s=[],l=t.length,u=0,c=t[0],f=r._chunks,d=0;d<a;d++){var h=void 0,p=r.getRawIndex(d);if(l===0)h=n(d);else if(l===1){var v=f[c][p];h=n(v,d)}else{for(var g=0;g<l;g++)s[g]=f[t[g]][p];s[g]=d,h=n.apply(null,s)}h&&(o[u++]=p)}return u<a&&(r._indices=o),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.selectRange=function(t){var n=this.clone(),r=n._count;if(!r)return this;var a=Mn(t),i=a.length;if(!i)return this;var o=n.count(),s=O0(n._rawCount),l=new s(o),u=0,c=a[0],f=t[c][0],d=t[c][1],h=n._chunks,p=!1;if(!n._indices){var v=0;if(i===1){for(var g=h[a[0]],m=0;m<r;m++){var y=g[m];(y>=f&&y<=d||isNaN(y))&&(l[u++]=v),v++}p=!0}else if(i===2){for(var g=h[a[0]],b=h[a[1]],x=t[a[1]][0],_=t[a[1]][1],m=0;m<r;m++){var y=g[m],S=b[m];(y>=f&&y<=d||isNaN(y))&&(S>=x&&S<=_||isNaN(S))&&(l[u++]=v),v++}p=!0}}if(!p)if(i===1)for(var m=0;m<o;m++){var C=n.getRawIndex(m),y=h[a[0]][C];(y>=f&&y<=d||isNaN(y))&&(l[u++]=C)}else for(var m=0;m<o;m++){for(var k=!0,C=n.getRawIndex(m),T=0;T<i;T++){var E=a[T],y=h[E][C];(y<t[E][0]||y>t[E][1])&&(k=!1)}k&&(l[u++]=n.getRawIndex(m))}return u<o&&(n._indices=l),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.map=function(t,n){var r=this.clone(t);return this._updateDims(r,t,n),r},e.prototype.modify=function(t,n){this._updateDims(this,t,n)},e.prototype._updateDims=function(t,n,r){for(var a=t._chunks,i=[],o=n.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<n.length;c++)u[n[c]]=P0();for(var f=0;f<s;f++){for(var d=t.getRawIndex(f),h=0;h<o;h++)l[h]=a[n[h]][d];l[o]=f;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(i[0]=p,p=i);for(var c=0;c<p.length;c++){var v=n[c],g=p[c],m=u[v],y=a[v];y&&(y[d]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},e.prototype.lttbDownSample=function(t,n){var r=this.clone([t],!0),a=r._chunks,i=a[t],o=this.count(),s=0,l=Math.floor(1/n),u=this.getRawIndex(0),c,f,d,h=new(O0(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));h[s++]=u;for(var p=1;p<o-1;p+=l){for(var v=Math.min(p+l,o-1),g=Math.min(p+l*2,o),m=(g+v)/2,y=0,b=v;b<g;b++){var x=this.getRawIndex(b),_=i[x];isNaN(_)||(y+=_)}y/=g-v;var S=p,C=Math.min(p+l,o),k=p-1,T=i[u];c=-1,d=S;for(var E=-1,I=0,b=S;b<C;b++){var x=this.getRawIndex(b),_=i[x];if(isNaN(_)){I++,E<0&&(E=x);continue}f=Math.abs((k-m)*(_-T)-(k-b)*(y-T)),f>c&&(c=f,d=x)}I>0&&I<C-S&&(h[s++]=Math.min(E,d),d=Math.max(E,d)),h[s++]=d,u=d}return h[s++]=this.getRawIndex(o-1),r._count=s,r._indices=h,r.getRawIndex=this._getRawIdx,r},e.prototype.minmaxDownSample=function(t,n){for(var r=this.clone([t],!0),a=r._chunks,i=Math.floor(1/n),o=a[t],s=this.count(),l=new(O0(this._rawCount))(Math.ceil(s/i)*2),u=0,c=0;c<s;c+=i){var f=c,d=o[this.getRawIndex(f)],h=c,p=o[this.getRawIndex(h)],v=i;c+i>s&&(v=s-c);for(var g=0;g<v;g++){var m=this.getRawIndex(c+g),y=o[m];y<d&&(d=y,f=c+g),y>p&&(p=y,h=c+g)}var b=this.getRawIndex(f),x=this.getRawIndex(h);f<h?(l[u++]=b,l[u++]=x):(l[u++]=x,l[u++]=b)}return r._count=u,r._indices=l,r._updateGetRawIdx(),r},e.prototype.downSample=function(t,n,r,a){for(var i=this.clone([t],!0),o=i._chunks,s=[],l=Math.floor(1/n),u=o[t],c=this.count(),f=i._rawExtent[t]=P0(),d=new(O0(this._rawCount))(Math.ceil(c/l)),h=0,p=0;p<c;p+=l){l>c-p&&(l=c-p,s.length=l);for(var v=0;v<l;v++){var g=this.getRawIndex(p+v);s[v]=u[g]}var m=r(s),y=this.getRawIndex(Math.min(p+a(s,m)||0,c-1));u[y]=m,m<f[0]&&(f[0]=m),m>f[1]&&(f[1]=m),d[h++]=y}return i._count=h,i._indices=d,i._updateGetRawIdx(),i},e.prototype.each=function(t,n){if(this._count)for(var r=t.length,a=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(r){case 0:n(i);break;case 1:n(a[t[0]][s],i);break;case 2:n(a[t[0]][s],a[t[1]][s],i);break;default:for(var l=0,u=[];l<r;l++)u[l]=a[t[l]][s];u[l]=i,n.apply(null,u)}}},e.prototype.getDataExtent=function(t){var n=this._chunks[t],r=P0();if(!n)return r;var a=this.count(),i=!this._indices,o;if(i)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=r;for(var s=o[0],l=o[1],u=0;u<a;u++){var c=this.getRawIndex(u),f=n[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[t]=o,o},e.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],a=this._chunks,i=0;i<a.length;i++)r.push(a[i][n]);return r},e.prototype.clone=function(t,n){var r=new e,a=this._chunks,i=t&&Uc(t,function(s,l){return s[l]=!0,s},{});if(i)for(var o=0;o<a.length;o++)r._chunks[o]=i[o]?lLt(a[o]):a[o];else r._chunks=a;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=en(this._extent),t._rawExtent=en(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var r=this._indices.length;n=new t(r);for(var a=0;a<r;a++)n[a]=this._indices[a]}else n=new t(this._indices);return n}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(n,r,a,i){return xh(n[i],this._dimensions[i])}x$={arrayRows:t,objectRows:function(n,r,a,i){return xh(n[r],this._dimensions[i])},keyedColumns:t,original:function(n,r,a,i){var o=n&&(n.value==null?n:n.value);return xh(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(n,r,a,i){return n[i]}}}(),e}(),_me=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,a,i;if(U2(t)){var o=t,s=void 0,l=void 0,u=void 0;if(r){var c=n[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,i=[c._getVersionSign()]}else s=o.get("data",!0),l=As(s)?bh:Yl,i=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=fn(f.seriesLayoutBy,d.seriesLayoutBy)||null,p=fn(f.sourceHeader,d.sourceHeader),v=fn(f.dimensions,d.dimensions),g=h!==d.seriesLayoutBy||!!p!=!!d.sourceHeader||v;a=g?[d3(s,{seriesLayoutBy:h,sourceHeader:p,dimensions:v},l)]:[]}else{var m=t;if(r){var y=this._applyTransform(n);a=y.sourceList,i=y.upstreamSignList}else{var b=m.get("source",!0);a=[d3(b,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(a,i)},e.prototype._applyTransform=function(t){var n=this._sourceHost,r=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(a!=null){var i="";t.length!==1&&UX(i)}var o,s=[],l=[];return X(t,function(u){u.prepareSource();var c=u.getSource(a||0),f="";a!=null&&!c&&UX(f),s.push(c),l.push(u._getVersionSign())}),r?o=aLt(r,s,{datasetIndex:n.componentIndex}):a!=null&&(o=[B$t(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return n},e.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},e.prototype._innerGetDataStore=function(t,n,r){var a=0,i=this._storeList,o=i[a];o||(o=i[a]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];U2(this._sourceHost)&&l?s=l._innerGetDataStore(t,n,r):(s=new h3,s.initData(new dme(n,t.length),t)),o[r]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(U2(t)){var n=w5(t);return n?[n.getSourceManager()]:[]}else return ut(p$t(t),function(r){return r.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,r,a;if(U2(t))n=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),a=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=t;n=i.get("seriesLayoutBy",!0),r=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:a}},e}();function HX(e){var t=e.option.transform;t&&nE(e.option.transform)}function U2(e){return e.mainType==="series"}function UX(e){throw new Error(e)}var uLt="line-height:1";function Sme(e){var t=e.lineHeight;return t==null?uLt:"line-height:"+Uo(t+"")+"px"}function Cme(e,t){var n=e.color||"#6e7079",r=e.fontSize||12,a=e.fontWeight||"400",i=e.color||"#464646",o=e.fontSize||14,s=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Uo(r+"")+"px;color:"+Uo(n)+";font-weight:"+Uo(a+""),valueStyle:"font-size:"+Uo(o+"")+"px;color:"+Uo(i)+";font-weight:"+Uo(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:a},valueStyle:{fontSize:o,fill:i,fontWeight:s}}}var cLt=[0,10,20,30],fLt=["",`
`,`

`,`


`];function gi(e,t){return t.type=e,t}function p3(e){return e.type==="section"}function Tme(e){return p3(e)?dLt:hLt}function kme(e){if(p3(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return X(e.blocks,function(a){var i=kme(a);i>=t&&(t=i+ +(r&&(!i||p3(a)&&!a.noHeader)))}),t}return 0}function dLt(e,t,n,r){var a=t.noHeader,i=pLt(kme(t)),o=[],s=t.blocks||[];is(!s||st(s)),s=s||[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Mt(u,l)){var c=new yme(u[l],null);s.sort(function(v,g){return c.evaluate(v.sortParam,g.sortParam)})}else l==="seriesDesc"&&s.reverse()}X(s,function(v,g){var m=t.valueFormatter,y=Tme(v)(m?rt(rt({},e),{valueFormatter:m}):e,v,g>0?i.html:0,r);y!=null&&o.push(y)});var f=e.renderMode==="richText"?o.join(i.richText):v3(r,o.join(""),a?n:i.html);if(a)return f;var d=u3(t.header,"ordinal",e.useUTC),h=Cme(r,e.renderMode).nameStyle,p=Sme(r);return e.renderMode==="richText"?Ime(e,d,h)+i.richText+f:v3(r,'<div style="'+h+";"+p+';">'+Uo(d)+"</div>"+f,n)}function hLt(e,t,n,r){var a=e.renderMode,i=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(x){return x=st(x)?x:[x],ut(x,function(_,S){return u3(_,st(h)?h[S]:h,u)})};if(!(i&&o)){var f=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",a),d=i?"":u3(l,"ordinal",u),h=t.valueType,p=o?[]:c(t.value,t.dataIndex),v=!s||!i,g=!s&&i,m=Cme(r,a),y=m.nameStyle,b=m.valueStyle;return a==="richText"?(s?"":f)+(i?"":Ime(e,d,y))+(o?"":mLt(e,p,v,g,b)):v3(r,(s?"":f)+(i?"":vLt(d,!s,y))+(o?"":gLt(p,v,g,b)),n)}}function GX(e,t,n,r,a,i){if(e){var o=Tme(e),s={useUTC:a,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter};return o(s,e,0,i)}}function pLt(e){return{html:cLt[e],richText:fLt[e]}}function v3(e,t,n){var r='<div style="clear:both"></div>',a="margin: "+n+"px 0 0",i=Sme(e);return'<div style="'+a+";"+i+';">'+t+r+"</div>"}function vLt(e,t,n){var r=t?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+Uo(e)+"</span>"}function gLt(e,t,n,r){var a=n?"10px":"20px",i=t?"float:right;margin-left:"+a:"";return e=st(e)?e:[e],'<span style="'+i+";"+r+'">'+ut(e,function(o){return Uo(o)}).join("&nbsp;&nbsp;")+"</span>"}function Ime(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function mLt(e,t,n,r,a){var i=[a],o=r?10:20;return n&&i.push({padding:[0,0,0,o],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(st(t)?t.join("  "):t,i)}function Eme(e,t){var n=e.getData().getItemVisual(t,"style"),r=n[e.visualDrawType];return Rg(r)}function Ame(e,t){var n=e.get("padding");return n??(t==="richText"?[8,10]:10)}var w$=function(){function e(){this.richTextStyles={},this._nextStyleNameId=Uge()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,n,r){var a=r==="richText"?this._generateStyleName():null,i=s$t({color:n,type:t,renderMode:r,markerId:a});return Dt(i)?i:(this.richTextStyles[a]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(t,n){var r={};st(n)?X(n,function(i){return rt(r,i)}):rt(r,n);var a=this._generateStyleName();return this.richTextStyles[a]=r,"{"+a+"|"+t+"}"},e}();function Dme(e){var t=e.series,n=e.dataIndex,r=e.multipleSeries,a=t.getData(),i=a.mapDimensionsAll("defaultedTooltip"),o=i.length,s=t.getRawValue(n),l=st(s),u=Eme(t,n),c,f,d,h;if(o>1||l&&!o){var p=yLt(s,t,n,i,u);c=p.inlineValues,f=p.inlineValueTypes,d=p.blocks,h=p.inlineValues[0]}else if(o){var v=a.getDimensionInfo(i[0]);h=c=Dy(a,n,i[0]),f=v.type}else h=c=l?s[0]:s;var g=Q6(t),m=g&&t.name||"",y=a.getName(n),b=r?m:y;return gi("section",{header:m,noHeader:r||!g,sortParam:h,blocks:[gi("nameValue",{markerType:"item",markerColor:u,name:b,noName:!xu(b),value:c,valueType:f,dataIndex:n})].concat(d||[])})}function yLt(e,t,n,r,a){var i=t.getData(),o=Uc(e,function(f,d,h){var p=i.getDimensionInfo(h);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],l=[],u=[];r.length?X(r,function(f){c(Dy(i,n,f),f)}):X(e,c);function c(f,d){var h=i.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(o?u.push(gi("nameValue",{markerType:"subItem",markerColor:a,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var kd=Vn();function G2(e,t){return e.getName(t)||e.getId(t)}var Ik="__universalTransitionEnabled",Vr=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,r,a){this.seriesIndex=this.componentIndex,this.dataTask=Rx({count:xLt,reset:wLt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,a);var i=kd(this).sourceManager=new _me(this);i.prepareSource();var o=this.getInitialData(n,a);jX(o,this),this.dataTask.context.data=o,kd(this).dataBeforeProcessed=o,KX(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(n,r){var a=qw(this),i=a?C1(n):{},o=this.subType;Rn.hasClass(o)&&(o+="Series"),mn(n,r.getTheme().get(this.subType)),mn(n,this.getDefaultOption()),Eg(n,"label",["show"]),this.fillDataTextStyle(n.data),a&&Uh(n,i,a)},t.prototype.mergeOption=function(n,r){n=mn(this.option,n,!0),this.fillDataTextStyle(n.data);var a=qw(this);a&&Uh(this.option,n,a);var i=kd(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(n,r);jX(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,kd(this).dataBeforeProcessed=o,KX(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(n){if(n&&!As(n))for(var r=["show"],a=0;a<n.length;a++)n[a]&&n[a].label&&Eg(n[a],"label",r)},t.prototype.getInitialData=function(n,r){},t.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},t.prototype.getData=function(n){var r=g3(this);if(r){var a=r.context.data;return n==null||!a.getLinkedData?a:a.getLinkedData(n)}else return kd(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var r=g3(this);if(r){var a=r.context;a.outputData=n,r!==this.dataTask&&(a.data=n)}kd(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return Pt(n)},t.prototype.getSourceManager=function(){return kd(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return kd(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,r,a){return Dme({series:this,dataIndex:n,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(Nn.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,r,a){var i=this.ecModel,o=_5.prototype.getColorFromPalette.call(this,n,r,a);return o||(o=i.getColorFromPalette(n,r,a)),o},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},t.prototype.unselect=function(n,r){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,o=this.getData(r);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],u=G2(o,l);a[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(n,r){for(var a=[],i=0;i<n.length;i++)a[0]=n[i],this.isSelected(n[i],r)?this.unselect(a,r):this.select(a,r)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=Mn(n),a=[],i=0;i<r.length;i++){var o=n[r[i]];o>=0&&a.push(o)}return a},t.prototype.isSelected=function(n,r){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(r);return(a==="all"||a[G2(i,n)])&&!i.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[Ik])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,r){var a,i,o=this.option,s=o.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Jt(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=r[c],d=G2(n,f);u[d]=!0,this._selectedDataIndicesMap[d]=n.getRawIndex(f)}}else if(s==="single"||s===!0){var h=r[l-1],d=G2(n,h);o.selectedMap=(a={},a[d]=!0,a),this._selectedDataIndicesMap=(i={},i[d]=n.getRawIndex(h),i)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(a){var i=n.getRawDataItem(a);i&&i.selected&&r.push(a)}),r.length>0&&this._innerSelect(n,r)}},t.registerClass=function(n){return Rn.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(Rn);$a(Vr,KN);$a(Vr,_5);Qge(Vr,Rn);function KX(e){var t=e.name;Q6(e)||(e.name=bLt(e)||t)}function bLt(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return X(n,function(a){var i=t.getDimensionInfo(a);i.displayName&&r.push(i.displayName)}),r.join(" ")}function xLt(e){return e.model.getRawData().count()}function wLt(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),_Lt}function _Lt(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function jX(e,t){X(Vw(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,vn(SLt,t))})}function SLt(e,t){var n=g3(e);return n&&n.setOutputEnd((t||this).count()),t}function g3(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var a=r.agentStubMap;a&&(r=a.get(e.uid))}return r}}var na=function(){function e(){this.group=new an,this.uid=_1("viewComponent")}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,a){},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,a){},e.prototype.updateLayout=function(t,n,r,a){},e.prototype.updateVisual=function(t,n,r,a){},e.prototype.toggleBlurSeries=function(t,n,r){},e.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},e}();t5(na);EN(na);function k1(){var e=Vn();return function(t){var n=e(t),r=t.pipelineContext,a=!!n.large,i=!!n.progressiveRender,o=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(a!==o||i!==s)&&"reset"}}var Nme=Vn(),CLt=k1(),Dr=function(){function e(){this.group=new an,this.uid=_1("viewChart"),this.renderTask=Rx({plan:TLt,reset:kLt}),this.renderTask.context={view:this}}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,a){},e.prototype.highlight=function(t,n,r,a){var i=t.getData(a&&a.dataType);i&&XX(i,a,"emphasis")},e.prototype.downplay=function(t,n,r,a){var i=t.getData(a&&a.dataType);i&&XX(i,a,"normal")},e.prototype.remove=function(t,n){this.group.removeAll()},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.updateLayout=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.updateVisual=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.eachRendered=function(t){gp(this.group,t)},e.markUpdateMethod=function(t,n){Nme(t).updateMethod=n},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function YX(e,t,n){e&&jw(e)&&(t==="emphasis"?Jf:Qf)(e,n)}function XX(e,t,n){var r=Ag(e,t),a=t&&t.highlightKey!=null?sMt(t.highlightKey):null;r!=null?X(Ir(r),function(i){YX(e.getItemGraphicEl(i),n,a)}):e.eachItemGraphicEl(function(i){YX(i,n,a)})}t5(Dr);EN(Dr);function TLt(e){return CLt(e.model)}function kLt(e){var t=e.model,n=e.ecModel,r=e.api,a=e.payload,i=t.pipelineContext.progressiveRender,o=e.view,s=a&&Nme(a).updateMethod,l=i?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,n,r,a),ILt[l]}var ILt={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},bE="\0__throttleOriginMethod",qX="\0__throttleRate",ZX="\0__throttleType";function E5(e,t,n){var r,a=0,i=0,o=null,s,l,u,c;t=t||0;function f(){i=new Date().getTime(),o=null,e.apply(l,u||[])}var d=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];r=new Date().getTime(),l=this,u=h;var v=c||t,g=c||n;c=null,s=r-(g?a:i)-v,clearTimeout(o),g?o=setTimeout(f,v):s>=0?f():o=setTimeout(f,-s),a=r};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(h){c=h},d}function I1(e,t,n,r){var a=e[t];if(a){var i=a[bE]||a,o=a[ZX],s=a[qX];if(s!==n||o!==r){if(n==null||!r)return e[t]=i;a=e[t]=E5(i,n,r==="debounce"),a[bE]=i,a[ZX]=r,a[qX]=n}return a}}function Jw(e,t){var n=e[t];n&&n[bE]&&(n.clear&&n.clear(),e[t]=n[bE])}var JX=Vn(),QX={itemStyle:Dg(P0e,!0),lineStyle:Dg(O0e,!0)},ELt={lineStyle:"stroke",itemStyle:"fill"};function Rme(e,t){var n=e.visualStyleMapper||QX[t];return n||(console.warn("Unknown style type '"+t+"'."),QX.itemStyle)}function Mme(e,t){var n=e.visualDrawType||ELt[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var ALt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",a=e.getModel(r),i=Rme(e,r),o=i(a),s=a.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=Mme(e,r),u=o[l],c=Yt(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var d=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[l]||(o[l]=d,n.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Yt(o.fill)?d:o.fill,o.stroke=o.stroke==="auto"||Yt(o.stroke)?d:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var v=e.getDataParams(p),g=rt({},o);g[l]=c(v),h.setItemVisual(p,"style",g)}}}},ab=new pr,DLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",a=Rme(e,r),i=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){ab.option=l[r];var u=a(ab),c=o.ensureUniqueItemVisual(s,"style");rt(c,u),ab.option.decal&&(o.setItemVisual(s,"decal",ab.option.decal),ab.option.decal.dirty=!0),i in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},NLt={performRawSeries:!0,overallReset:function(e){var t=Pt();e.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var a=n.type+"-"+r,i=t.get(a);i||(i={},t.set(a,i)),JX(n).scope=i}}),e.eachSeries(function(n){if(!(n.isColorBySeries()||e.isSeriesFiltered(n))){var r=n.getRawData(),a={},i=n.getData(),o=JX(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=Mme(n,s);i.each(function(u){var c=i.getRawIndex(u);a[c]=u}),r.each(function(u){var c=a[u],f=i.getItemVisual(c,"colorFromPalette");if(f){var d=i.ensureUniqueItemVisual(c,"style"),h=r.getName(u)||u+"",p=r.count();d[l]=n.getColorFromPalette(h,o,p)}})}})}},K2=Math.PI;function RLt(e,t){t=t||{},Xt(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new an,r=new Bn({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var a=new Un({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),i=new Bn({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(i);var o;return t.showSpinner&&(o=new LN({shape:{startAngle:-K2/2,endAngle:-K2/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:K2*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:K2*3/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var s=a.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=e.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var $me=function(){function e(t,n,r,a){this._stageTaskMap=Pt(),this.ecInstance=t,this.api=n,r=this._dataProcessorHandlers=r.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=r.concat(a)}return e.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})},e.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),a=r.context,i=!n&&r.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>r.blockIndex,o=i?r.step:null,s=a&&a.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,n){var r=this._pipelineMap.get(t.uid),a=t.getData(),i=a.count(),o=r.progressiveEnabled&&n.incrementalPrepareRender&&i>=r.threshold,s=t.get("large")&&i>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?i:null;t.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(t){var n=this,r=n._pipelineMap=Pt();t.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;r.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),n._pipe(a,a.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),r=this.api;X(this._allHandlers,function(a){var i=t.get(a.uid)||t.set(a.uid,{}),o="";is(!(a.reset&&a.overallReset),o),a.reset&&this._createSeriesStageTask(a,i,n,r),a.overallReset&&this._createOverallStageTask(a,i,n,r)},this)},e.prototype.prepareView=function(t,n,r,a){var i=t.renderTask,o=i.context;o.model=n,o.ecModel=r,o.api=a,i.__block=!t.incrementalPrepareRender,this._pipe(n,i)},e.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},e.prototype.performVisualTasks=function(t,n,r){this._performStageTasks(this._visualHandlers,t,n,r)},e.prototype._performStageTasks=function(t,n,r,a){a=a||{};var i=!1,o=this;X(t,function(l,u){if(!(a.visualType&&a.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,p=d.agentStubMap;p.each(function(g){s(a,g)&&(g.dirty(),h=!0)}),h&&d.dirty(),o.updatePayload(d,r);var v=o.getPerformArgs(d,a.block);p.each(function(g){g.perform(v)}),d.perform(v)&&(i=!0)}else f&&f.each(function(g,m){s(a,g)&&g.dirty();var y=o.getPerformArgs(g,a.block);y.skip=!l.performRawSeries&&n.isSeriesFiltered(g.context.model),o.updatePayload(g,r),g.perform(y)&&(i=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},e.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},e.prototype._createSeriesStageTask=function(t,n,r,a){var i=this,o=n.seriesTaskMap,s=n.seriesTaskMap=Pt(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,a).each(c);function c(f){var d=f.uid,h=s.set(d,o&&o.get(d)||Rx({plan:PLt,reset:FLt,count:VLt}));h.context={model:f,ecModel:r,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(f,h)}},e.prototype._createOverallStageTask=function(t,n,r,a){var i=this,o=n.overallTask=n.overallTask||Rx({reset:MLt});o.context={ecModel:r,api:a,overallReset:t.overallReset,scheduler:i};var s=o.agentStubMap,l=o.agentStubMap=Pt(),u=t.seriesType,c=t.getTargetSeries,f=!0,d=!1,h="";is(!t.createOnAllSeries,h),u?r.eachRawSeriesByType(u,p):c?c(r,a).each(p):(f=!1,X(r.getSeries(),p));function p(v){var g=v.uid,m=l.set(g,s&&s.get(g)||(d=!0,Rx({reset:$Lt,onDirty:OLt})));m.context={model:v,overallProgress:f},m.agent=o,m.__block=f,i._pipe(v,m)}d&&o.dirty()},e.prototype._pipe=function(t,n){var r=t.uid,a=this._pipelineMap.get(r);!a.head&&(a.head=n),a.tail&&a.tail.pipe(n),a.tail=n,n.__idxInPipeline=a.count++,n.__pipeline=a},e.wrapStageHandler=function(t,n){return Yt(t)&&(t={overallReset:t,seriesType:zLt(t)}),t.uid=_1("stageHandler"),n&&(t.visualType=n),t},e}();function MLt(e){e.overallReset(e.ecModel,e.api,e.payload)}function $Lt(e){return e.overallProgress&&LLt}function LLt(){this.agent.dirty(),this.getDownstream().dirty()}function OLt(){this.agent&&this.agent.dirty()}function PLt(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function FLt(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Ir(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?ut(t,function(n,r){return Lme(r)}):BLt}var BLt=Lme(0);function Lme(e){return function(t,n){var r=n.data,a=n.resetDefines[e];if(a&&a.dataEach)for(var i=t.start;i<t.end;i++)a.dataEach(r,i);else a&&a.progress&&a.progress(t,r)}}function VLt(e){return e.data.count()}function zLt(e){xE=null;try{e(Qw,Ome)}catch{}return xE}var Qw={},Ome={},xE;Pme(Qw,S5);Pme(Ome,sme);Qw.eachSeriesByType=Qw.eachRawSeriesByType=function(e){xE=e};Qw.eachComponent=function(e){e.mainType==="series"&&e.subType&&(xE=e.subType)};function Pme(e,t){for(var n in t.prototype)e[n]=ba}var eq=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const WLt={color:eq,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],eq]};var io="#B9B8CE",tq="#100C2A",j2=function(){return{axisLine:{lineStyle:{color:io}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},nq=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Fme={darkMode:!0,color:nq,backgroundColor:tq,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:io},pageTextStyle:{color:io}},textStyle:{color:io},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:io}},dataZoom:{borderColor:"#71708A",textStyle:{color:io},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:io}},timeline:{lineStyle:{color:io},label:{color:io},controlStyle:{color:io,borderColor:io}},calendar:{itemStyle:{color:tq},dayLabel:{color:io},monthLabel:{color:io},yearLabel:{color:io}},timeAxis:j2(),logAxis:j2(),valueAxis:j2(),categoryAxis:j2(),line:{symbol:"circle"},graph:{color:nq},gauge:{title:{color:io},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:io},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Fme.categoryAxis.splitLine.show=!1;var HLt=function(){function e(){}return e.prototype.normalizeQuery=function(t){var n={},r={},a={};if(Dt(t)){var i=wc(t);n.mainType=i.main||null,n.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};X(t,function(l,u){for(var c=!1,f=0;f<o.length;f++){var d=o[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var p=u.slice(0,h);p!=="data"&&(n.mainType=p,n[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(a[u]=l)})}return{cptQuery:n,dataQuery:r,otherQuery:a}},e.prototype.filter=function(t,n){var r=this.eventInfo;if(!r)return!0;var a=r.targetEl,i=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=n.cptQuery,u=n.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,n.otherQuery,a,i));function c(f,d,h,p){return f[h]==null||d[p||h]===f[h]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),m3=["symbol","symbolSize","symbolRotate","symbolOffset"],rq=m3.concat(["symbolKeepAspect"]),ULt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var r={},a={},i=!1,o=0;o<m3.length;o++){var s=m3[o],l=e.get(s);Yt(l)?(i=!0,a[s]=l):r[s]=l}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(rt({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),t.isSeriesFiltered(e))return;var u=Mn(a);function c(f,d){for(var h=e.getRawValue(d),p=e.getDataParams(d),v=0;v<u.length;v++){var g=u[v];f.setItemVisual(d,g,a[g](h,p))}}return{dataEach:i?c:null}}},GLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var n=e.getData();function r(a,i){for(var o=a.getItemModel(i),s=0;s<rq.length;s++){var l=rq[s],u=o.getShallow(l,!0);u!=null&&a.setItemVisual(i,l,u)}}return{dataEach:n.hasItemOption?r:null}}};function A5(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function mC(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function Bme(e,t,n,r){switch(n){case"color":var a=e.ensureUniqueItemVisual(t,"style");a[e.getVisual("drawType")]=r,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,r);break}}function Vme(e,t){function n(r,a){var i=[];return r.eachComponent({mainType:"series",subType:e,query:a},function(o){i.push(o.seriesIndex)}),i}X([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(r){t(r[0],function(a,i,o){a=rt({},a),o.dispatchAction(rt(a,{type:r[1],seriesIndex:n(i,a)}))})})}function F0(e,t,n,r,a){var i=e+t;n.isSilent(i)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=a.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),d=Ag(f,a.fromActionPayload);n.trigger(i,{type:i,seriesId:o.id,name:st(d)?f.getName(d[0]):f.getName(d),selected:Dt(l)?l:rt({},l)})}})}function KLt(e,t,n){e.on("selectchanged",function(r){var a=n.getModel();r.isFromClick?(F0("map","selectchanged",t,a,r),F0("pie","selectchanged",t,a,r)):r.fromAction==="select"?(F0("map","selected",t,a,r),F0("pie","selected",t,a,r)):r.fromAction==="unselect"&&(F0("map","unselected",t,a,r),F0("pie","unselected",t,a,r))})}function Nv(e,t,n){for(var r;e&&!(t(e)&&(r=e,n));)e=e.__hostTarget||e.parent;return r}var jLt=Math.round(Math.random()*9),YLt=typeof Object.defineProperty=="function",XLt=function(){function e(){this._id="__ec_inner_"+jLt++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,n){var r=this._guard(t);return YLt?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),qLt=An.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,a=t.width/2,i=t.height/2;e.moveTo(n,r-i),e.lineTo(n+a,r+i),e.lineTo(n-a,r+i),e.closePath()}}),ZLt=An.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,a=t.width/2,i=t.height/2;e.moveTo(n,r-i),e.lineTo(n+a,r),e.lineTo(n,r+i),e.lineTo(n-a,r),e.closePath()}}),JLt=An.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,a=t.width/5*3,i=Math.max(a,t.height),o=a/2,s=o*o/(i-o),l=r-i+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),d=Math.cos(u),h=o*.6,p=o*.7;e.moveTo(n-c,l+s),e.arc(n,l,o,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(n+c-f*h,l+s+d*h,n,r-p,n,r),e.bezierCurveTo(n,r-p,n-c+f*h,l+s+d*h,n-c,l+s),e.closePath()}}),QLt=An.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,a=t.x,i=t.y,o=r/3*2;e.moveTo(a,i),e.lineTo(a+o,i+n),e.lineTo(a,i+n/4*3),e.lineTo(a-o,i+n),e.lineTo(a,i),e.closePath()}}),eOt={line:ii,rect:Bn,roundRect:Bn,square:Bn,circle:gd,diamond:ZLt,pin:JLt,arrow:QLt,triangle:qLt},tOt={line:function(e,t,n,r,a){a.x1=e,a.y1=t+r/2,a.x2=e+n,a.y2=t+r/2},rect:function(e,t,n,r,a){a.x=e,a.y=t,a.width=n,a.height=r},roundRect:function(e,t,n,r,a){a.x=e,a.y=t,a.width=n,a.height=r,a.r=Math.min(n,r)/4},square:function(e,t,n,r,a){var i=Math.min(n,r);a.x=e,a.y=t,a.width=i,a.height=i},circle:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.r=Math.min(n,r)/2},diamond:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.width=n,a.height=r},pin:function(e,t,n,r,a){a.x=e+n/2,a.y=t+r/2,a.width=n,a.height=r},arrow:function(e,t,n,r,a){a.x=e+n/2,a.y=t+r/2,a.width=n,a.height=r},triangle:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.width=n,a.height=r}},wE={};X(eOt,function(e,t){wE[t]=new e});var nOt=An.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=cE(e,t,n),a=this.shape;return a&&a.symbolType==="pin"&&t.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(e,t,n){var r=t.symbolType;if(r!=="none"){var a=wE[r];a||(r="rect",a=wE[r]),tOt[r](t.x,t.y,t.width,t.height,a.shape),a.buildPath(e,a.shape,n)}}});function rOt(e,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=e:n.fill=e,this.markRedraw()}}function Ma(e,t,n,r,a,i,o){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=E0e(e.slice(8),new xn(t,n,r,a),o?"center":"cover"):e.indexOf("path://")===0?l=ON(e.slice(7),{},new xn(t,n,r,a),o?"center":"cover"):l=new nOt({shape:{symbolType:e,x:t,y:n,width:r,height:a}}),l.__isEmptyBrush=s,l.setColor=rOt,i&&l.setColor(i),l}function E1(e){return st(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function s0(e,t){if(e!=null)return st(e)||(e=[e,e]),[St(e[0],t[0])||0,St(fn(e[1],e[0]),t[1])||0]}function Rv(e){return isFinite(e)}function aOt(e,t,n){var r=t.x==null?0:t.x,a=t.x2==null?1:t.x2,i=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(r=r*n.width+n.x,a=a*n.width+n.x,i=i*n.height+n.y,o=o*n.height+n.y),r=Rv(r)?r:0,a=Rv(a)?a:1,i=Rv(i)?i:0,o=Rv(o)?o:0;var s=e.createLinearGradient(r,i,a,o);return s}function iOt(e,t,n){var r=n.width,a=n.height,i=Math.min(r,a),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*r+n.x,s=s*a+n.y,l=l*i),o=Rv(o)?o:.5,s=Rv(s)?s:.5,l=l>=0&&Rv(l)?l:.5;var u=e.createRadialGradient(o,s,0,o,s,l);return u}function y3(e,t,n){for(var r=t.type==="radial"?iOt(e,t,n):aOt(e,t,n),a=t.colorStops,i=0;i<a.length;i++)r.addColorStop(a[i].offset,a[i].color);return r}function oOt(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function Y2(e){return parseInt(e,10)}function mm(e,t,n){var r=["width","height"][t],a=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(e);return(e[a]||Y2(s[r])||Y2(e.style[r]))-(Y2(s[i])||0)-(Y2(s[o])||0)|0}function sOt(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:Kn(e)?[e]:st(e)?e:null}function D5(e){var t=e.style,n=t.lineDash&&t.lineWidth>0&&sOt(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(n){var a=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;a&&a!==1&&(n=ut(n,function(i){return i/a}),r/=a)}return[n,r]}var lOt=new Yc(!0);function _E(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function aq(e){return typeof e=="string"&&e!=="none"}function SE(e){var t=e.fill;return t!=null&&t!=="none"}function iq(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function oq(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function b3(e,t,n){var r=n5(t.image,t.__image,n);if(AN(r)){var a=e.createPattern(r,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var i=new DOMMatrix;i.translateSelf(t.x||0,t.y||0),i.rotateSelf(0,0,(t.rotation||0)*pk),i.scaleSelf(t.scaleX||1,t.scaleY||1),a.setTransform(i)}return a}}function uOt(e,t,n,r){var a,i=_E(n),o=SE(n),s=n.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||lOt,f=t.__dirty;if(!r){var d=n.fill,h=n.stroke,p=o&&!!d.colorStops,v=i&&!!h.colorStops,g=o&&!!d.image,m=i&&!!h.image,y=void 0,b=void 0,x=void 0,_=void 0,S=void 0;(p||v)&&(S=t.getBoundingRect()),p&&(y=f?y3(e,d,S):t.__canvasFillGradient,t.__canvasFillGradient=y),v&&(b=f?y3(e,h,S):t.__canvasStrokeGradient,t.__canvasStrokeGradient=b),g&&(x=f||!t.__canvasFillPattern?b3(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=x),m&&(_=f||!t.__canvasStrokePattern?b3(e,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=x),p?e.fillStyle=y:g&&(x?e.fillStyle=x:o=!1),v?e.strokeStyle=b:m&&(_?e.strokeStyle=_:i=!1)}var C=t.getGlobalScale();c.setScale(C[0],C[1],t.segmentIgnoreThreshold);var k,T;e.setLineDash&&n.lineDash&&(a=D5(t),k=a[0],T=a[1]);var E=!0;(u||f&om)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),E=!1),c.reset(),t.buildPath(c,t.shape,r),c.toStatic(),t.pathUpdated()),E&&c.rebuildPath(e,l?s:1),k&&(e.setLineDash(k),e.lineDashOffset=T),r||(n.strokeFirst?(i&&oq(e,n),o&&iq(e,n)):(o&&iq(e,n),i&&oq(e,n))),k&&e.setLineDash([])}function cOt(e,t,n){var r=t.__image=n5(n.image,t.__image,t,t.onload);if(!(!r||!AN(r))){var a=n.x||0,i=n.y||0,o=t.getWidth(),s=t.getHeight(),l=r.width/r.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=r.width,s=r.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;e.drawImage(r,u,c,n.sWidth,n.sHeight,a,i,o,s)}else if(n.sx&&n.sy){var u=n.sx,c=n.sy,f=o-u,d=s-c;e.drawImage(r,u,c,f,d,a,i,o,s)}else e.drawImage(r,a,i,o,s)}}function fOt(e,t,n){var r,a=n.text;if(a!=null&&(a+=""),a){e.font=n.font||Vh,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var i=void 0,o=void 0;e.setLineDash&&n.lineDash&&(r=D5(t),i=r[0],o=r[1]),i&&(e.setLineDash(i),e.lineDashOffset=o),n.strokeFirst?(_E(n)&&e.strokeText(a,n.x,n.y),SE(n)&&e.fillText(a,n.x,n.y)):(SE(n)&&e.fillText(a,n.x,n.y),_E(n)&&e.strokeText(a,n.x,n.y)),i&&e.setLineDash([])}}var sq=["shadowBlur","shadowOffsetX","shadowOffsetY"],lq=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function zme(e,t,n,r,a){var i=!1;if(!r&&(n=n||{},t===n))return!1;if(r||t.opacity!==n.opacity){bs(e,a),i=!0;var o=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(o)?jv.opacity:o}(r||t.blend!==n.blend)&&(i||(bs(e,a),i=!0),e.globalCompositeOperation=t.blend||jv.blend);for(var s=0;s<sq.length;s++){var l=sq[s];(r||t[l]!==n[l])&&(i||(bs(e,a),i=!0),e[l]=e.dpr*(t[l]||0))}return(r||t.shadowColor!==n.shadowColor)&&(i||(bs(e,a),i=!0),e.shadowColor=t.shadowColor||jv.shadowColor),i}function uq(e,t,n,r,a){var i=e_(t,a.inHover),o=r?null:n&&e_(n,a.inHover)||{};if(i===o)return!1;var s=zme(e,i,o,r,a);if((r||i.fill!==o.fill)&&(s||(bs(e,a),s=!0),aq(i.fill)&&(e.fillStyle=i.fill)),(r||i.stroke!==o.stroke)&&(s||(bs(e,a),s=!0),aq(i.stroke)&&(e.strokeStyle=i.stroke)),(r||i.opacity!==o.opacity)&&(s||(bs(e,a),s=!0),e.globalAlpha=i.opacity==null?1:i.opacity),t.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(bs(e,a),s=!0),e.lineWidth=u)}for(var c=0;c<lq.length;c++){var f=lq[c],d=f[0];(r||i[d]!==o[d])&&(s||(bs(e,a),s=!0),e[d]=i[d]||f[1])}return s}function dOt(e,t,n,r,a){return zme(e,e_(t,a.inHover),n&&e_(n,a.inHover),r,a)}function Wme(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function hOt(e,t,n){for(var r=!1,a=0;a<e.length;a++){var i=e[a];r=r||i.isZeroArea(),Wme(t,i),t.beginPath(),i.buildPath(t,i.shape),t.clip()}n.allClipped=r}function pOt(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var cq=1,fq=2,dq=3,hq=4;function vOt(e){var t=SE(e),n=_E(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!="string"||n&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function bs(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function e_(e,t){return t&&e.__hoverStyle||e.style}function Hme(e,t){Mv(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Mv(e,t,n,r){var a=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~Os,t.__isRendered=!1;return}var i=t.__clipPaths,o=n.prevElClipPaths,s=!1,l=!1;if((!o||oOt(i,o))&&(o&&o.length&&(bs(e,n),e.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),i&&i.length&&(bs(e,n),e.save(),hOt(i,e,n),s=!0),n.prevElClipPaths=i),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var c=t instanceof An&&t.autoBatch&&vOt(t.style);s||pOt(a,u.transform)?(bs(e,n),Wme(e,t)):c||bs(e,n);var f=e_(t,n.inHover);t instanceof An?(n.lastDrawType!==cq&&(l=!0,n.lastDrawType=cq),uq(e,t,u,l,n),(!c||!n.batchFill&&!n.batchStroke)&&e.beginPath(),uOt(e,t,f,c),c&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):t instanceof Ey?(n.lastDrawType!==dq&&(l=!0,n.lastDrawType=dq),uq(e,t,u,l,n),fOt(e,t,f)):t instanceof Ri?(n.lastDrawType!==fq&&(l=!0,n.lastDrawType=fq),dOt(e,t,u,l,n),cOt(e,t,f)):t.getTemporalDisplayables&&(n.lastDrawType!==hq&&(l=!0,n.lastDrawType=hq),gOt(e,t,n)),c&&r&&bs(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function gOt(e,t,n){var r=t.getDisplayables(),a=t.getTemporalDisplayables();e.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},o,s;for(o=t.getCursor(),s=r.length;o<s;o++){var l=r[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Mv(e,l,i,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,c=a.length;u<c;u++){var l=a[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Mv(e,l,i,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var _$=new XLt,pq=new sC(100),vq=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Ny(e,t){if(e==="none")return null;var n=t.getDevicePixelRatio(),r=t.getZr(),a=r.painter.type==="svg";e.dirty&&_$.delete(e);var i=_$.get(e);if(i)return i;var o=Xt(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=a?1:1/n,_$.set(e,s),e.dirty=!1,s;function l(u){for(var c=[n],f=!0,d=0;d<vq.length;++d){var h=o[vq[d]];if(h!=null&&!st(h)&&!Dt(h)&&!Kn(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var p;if(f){p=c.join(",")+(a?"-svg":"");var v=pq.get(p);v&&(a?u.svgElement=v:u.image=v)}var g=Gme(o.dashArrayX),m=mOt(o.dashArrayY),y=Ume(o.symbol),b=yOt(g),x=Kme(m),_=!a&&zh.createCanvas(),S=a&&{tag:"g",attrs:{},key:"dcl",children:[]},C=T(),k;_&&(_.width=C.width*n,_.height=C.height*n,k=_.getContext("2d")),E(),f&&pq.put(p,_||S),u.image=_,u.svgElement=S,u.svgWidth=C.width,u.svgHeight=C.height;function T(){for(var I=1,A=0,N=b.length;A<N;++A)I=RY(I,b[A]);for(var L=1,A=0,N=y.length;A<N;++A)L=RY(L,y[A].length);I*=L;var R=x*b.length*y.length;return{width:Math.max(1,Math.min(I,o.maxTileWidth)),height:Math.max(1,Math.min(R,o.maxTileHeight))}}function E(){k&&(k.clearRect(0,0,_.width,_.height),o.backgroundColor&&(k.fillStyle=o.backgroundColor,k.fillRect(0,0,_.width,_.height)));for(var I=0,A=0;A<m.length;++A)I+=m[A];if(I<=0)return;for(var N=-x,L=0,R=0,D=0;N<C.height;){if(L%2===0){for(var P=R/2%y.length,O=0,M=0,W=0;O<C.width*2;){for(var U=0,A=0;A<g[D].length;++A)U+=g[D][A];if(U<=0)break;if(M%2===0){var V=(1-o.symbolSize)*.5,H=O+g[D][M]*V,K=N+m[L]*V,j=g[D][M]*o.symbolSize,ne=m[L]*o.symbolSize,Q=W/2%y[P].length;oe(H,K,j,ne,y[P][Q])}O+=g[D][M],++W,++M,M===g[D].length&&(M=0)}++D,D===g.length&&(D=0)}N+=m[L],++R,++L,L===m.length&&(L=0)}function oe(ae,me,ve,B,re){var ge=a?1:n,Ie=Ma(re,ae*ge,me*ge,ve*ge,B*ge,o.color,o.symbolKeepAspect);if(a){var Ce=r.painter.renderOneToVNode(Ie);Ce&&S.children.push(Ce)}else Hme(k,Ie)}}}}function Ume(e){if(!e||e.length===0)return[["rect"]];if(Dt(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!Dt(e[n])){t=!1;break}if(t)return Ume([e]);for(var r=[],n=0;n<e.length;++n)Dt(e[n])?r.push([e[n]]):r.push(e[n]);return r}function Gme(e){if(!e||e.length===0)return[[0,0]];if(Kn(e)){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if(!Kn(e[r])){n=!1;break}if(n)return Gme([e]);for(var a=[],r=0;r<e.length;++r)if(Kn(e[r])){var t=Math.ceil(e[r]);a.push([t,t])}else{var t=ut(e[r],function(s){return Math.ceil(s)});t.length%2===1?a.push(t.concat(t)):a.push(t)}return a}function mOt(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(Kn(e)){var t=Math.ceil(e);return[t,t]}var n=ut(e,function(r){return Math.ceil(r)});return e.length%2?n.concat(n):n}function yOt(e){return ut(e,function(t){return Kme(t)})}function Kme(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?t*2:t}function bOt(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");if(s){var l=r.ensureUniqueItemVisual(o,"style");l.decal=Ny(s,t)}});var a=r.getVisual("decal");if(a){var i=r.getVisual("style");i.decal=Ny(a,t)}}})}var ou=new jl,jme={};function xOt(e,t){jme[e]=t}function wOt(e){return jme[e]}var _Ot=1,SOt=800,COt=900,TOt=1e3,kOt=2e3,IOt=5e3,Yme=1e3,EOt=1100,N5=2e3,Xme=3e3,AOt=4e3,YN=4500,DOt=4600,NOt=5e3,ROt=6e3,qme=7e3,MOt={PROCESSOR:{FILTER:TOt,SERIES_FILTER:SOt,STATISTIC:IOt},VISUAL:{LAYOUT:Yme,PROGRESSIVE_LAYOUT:EOt,GLOBAL:N5,CHART:Xme,POST_CHART_LAYOUT:DOt,COMPONENT:AOt,BRUSH:NOt,CHART_ITEM:YN,ARIA:ROt,DECAL:qme}},ro="__flagInMainProcess",ps="__pendingUpdate",S$="__needsUpdateStatus",gq=/^[a-zA-Z0-9_]+$/,C$="__connectUpdateStatus",mq=0,$Ot=1,LOt=2;function Zme(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return Qme(this,e,t)}}function Jme(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Qme(this,e,t)}}function Qme(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),jl.prototype[t].apply(e,n)}var eye=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(jl),tye=eye.prototype;tye.on=Jme("on");tye.off=Jme("off");var B0,T$,X2,Id,k$,I$,E$,ib,ob,yq,bq,A$,xq,q2,wq,nye,al,_q,rye=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this,new HLt)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},Dt(r)&&(r=aye[r]),i._dom=n;var o="canvas",s="auto",l=!1;a.ssr&&DNt(function(d){var h=sn(d),p=h.dataIndex;if(p!=null){var v=Pt();return v.set("series_index",h.seriesIndex),v.set("data_index",p),h.ssrType&&v.set("ssr_type",h.ssrType),v}});var u=i._zr=EY(n,{renderer:a.renderer||o,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:fn(a.useDirtyRect,l),useCoarsePointer:fn(a.useCoarsePointer,s),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=E5(Nt(u.flush,u),17),r=en(r),r&&ume(r,!0),i._theme=r,i._locale=e$t(a.locale||F0e),i._coordSysMgr=new gC;var c=i._api=wq(i);function f(d,h){return d.__prio-h.__prio}return mk(TE,f),mk(x3,f),i._scheduler=new $me(i,c,x3,TE),i._messageCenter=new eye,i._initEvents(),i.resize=Nt(i.resize,i),u.animation.on("frame",i._onframe,i),yq(u,i),bq(u,i),nE(i),i}return t.prototype._onframe=function(){if(!this._disposed){_q(this);var n=this._scheduler;if(this[ps]){var r=this[ps].silent;this[ro]=!0;try{B0(this),Id.update.call(this,null,this[ps].updateParams)}catch(l){throw this[ro]=!1,this[ps]=null,l}this._zr.flush(),this[ro]=!1,this[ps]=null,ib.call(this,r),ob.call(this,r)}else if(n.unfinished){var a=_Ot,i=this._model,o=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(i),n.performDataProcessorTasks(i),I$(this,i),n.performVisualTasks(i),q2(this,this._model,o,"remain",{}),a-=+new Date-s}while(a>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,r,a){if(!this[ro]){if(this._disposed){this.id;return}var i,o,s;if(Jt(r)&&(a=r.lazyUpdate,i=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[ro]=!0,!this._model||r){var l=new T$t(this._api),u=this._theme,c=this._model=new S5;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(n,{replaceMerge:o},w3);var f={seriesTransition:s,optionChanged:!0};if(a)this[ps]={silent:i,updateParams:f},this[ro]=!1,this.getZr().wakeUp();else{try{B0(this),Id.update.call(this,null,f)}catch(d){throw this[ps]=null,this[ro]=!1,d}this._ssr||this._zr.flush(),this[ps]=null,this[ro]=!1,ib.call(this,i),ob.call(this,i)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Nn.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(Nn.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return X(r,function(a){a.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,a=this._model,i=[],o=this;X(r,function(l){a.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(i.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return X(i,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",a=this.group,i=Math.min,o=Math.max,s=1/0;if(Sq[a]){var l=s,u=s,c=-s,f=-s,d=[],h=n&&n.pixelRatio||this.getDevicePixelRatio();X($x,function(b,x){if(b.group===a){var _=r?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(en(n)),S=b.getDom().getBoundingClientRect();l=i(S.left,l),u=i(S.top,u),c=o(S.right,c),f=o(S.bottom,f),d.push({dom:_,left:S.left,top:S.top})}}),l*=h,u*=h,c*=h,f*=h;var p=c-l,v=f-u,g=zh.createCanvas(),m=EY(g,{renderer:r?"svg":"canvas"});if(m.resize({width:p,height:v}),r){var y="";return X(d,function(b){var x=b.left-l,_=b.top-u;y+='<g transform="translate('+x+","+_+')">'+b.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=y,n.connectedBackgroundColor&&m.painter.setBackgroundColor(n.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return n.connectedBackgroundColor&&m.add(new Bn({shape:{x:0,y:0,width:p,height:v},style:{fill:n.connectedBackgroundColor}})),X(d,function(b){var x=new Ri({style:{x:b.left*h-l,y:b.top*h-u,image:b.dom}});m.add(x)}),m.refreshImmediately(),g.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,r){return k$(this,"convertToPixel",n,r)},t.prototype.convertFromPixel=function(n,r){return k$(this,"convertFromPixel",n,r)},t.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var a=this._model,i,o=Ix(a,n);return X(o,function(s,l){l.indexOf("Models")>=0&&X(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)i=i||!!c.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(i=i||f.containPoint(r,u))}},this)},this),!!i},t.prototype.getVisual=function(n,r){var a=this._model,i=Ix(a,n,{defaultMainType:"series"}),o=i.seriesModel,s=o.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return l!=null?A5(s,l,r):mC(s,r)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;X(OOt,function(r){var a=function(i){var o=n.getModel(),s=i.target,l,u=r==="globalout";if(u?l={}:s&&Nv(s,function(p){var v=sn(p);if(v&&v.dataIndex!=null){var g=v.dataModel||o.getSeriesByIndex(v.seriesIndex);return l=g&&g.getDataParams(v.dataIndex,v.dataType,s)||{},!0}else if(v.eventData)return l=rt({},v.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var d=c&&f!=null&&o.getComponent(c,f),h=d&&n[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];l.event=i,l.type=r,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:d,view:h},n.trigger(r,l)}};a.zrEventfulCallAtLast=!0,n._zr.on(r,a,n)}),X(Mx,function(r,a){n._messageCenter.on(a,function(i){this.trigger(a,i)},n)}),X(["selectchanged"],function(r){n._messageCenter.on(r,function(a){this.trigger(r,a)},n)}),KLt(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&qge(this.getDom(),M5,"");var r=this,a=r._api,i=r._model;X(r._componentsViews,function(o){o.dispose(i,a)}),X(r._chartsViews,function(o){o.dispose(i,a)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete $x[r.id]},t.prototype.resize=function(n){if(!this[ro]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var a=r.resetOption("media"),i=n&&n.silent;this[ps]&&(i==null&&(i=this[ps].silent),a=!0,this[ps]=null),this[ro]=!0;try{a&&B0(this),Id.update.call(this,{type:"resize",animation:rt({duration:0},n&&n.animation)})}catch(o){throw this[ro]=!1,o}this[ro]=!1,ib.call(this,i),ob.call(this,i)}}},t.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(Jt(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!_3[n]){var a=_3[n](this._api,r),i=this._zr;this._loadingFX=a,i.add(a)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var r=rt({},n);return r.type=Mx[n.type],r},t.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(Jt(r)||(r={silent:!!r}),!!CE[n.type]&&this._model){if(this[ro]){this._pendingActions.push(n);return}var a=r.silent;E$.call(this,n,a);var i=r.flush;i?this._zr.flush():i!==!1&&Nn.browser.weChat&&this._throttledZrFlush(),ib.call(this,a),ob.call(this,a)}},t.prototype.updateLabelLayout=function(){ou.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(r);i.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){B0=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),T$(f,!0),T$(f,!1),d.plan()},T$=function(f,d){for(var h=f._model,p=f._scheduler,v=d?f._componentsViews:f._chartsViews,g=d?f._componentsMap:f._chartsMap,m=f._zr,y=f._api,b=0;b<v.length;b++)v[b].__alive=!1;d?h.eachComponent(function(S,C){S!=="series"&&x(C)}):h.eachSeries(x);function x(S){var C=S.__requireNewView;S.__requireNewView=!1;var k="_ec_"+S.id+"_"+S.type,T=!C&&g[k];if(!T){var E=wc(S.type),I=d?na.getClass(E.main,E.sub):Dr.getClass(E.sub);T=new I,T.init(h,y),g[k]=T,v.push(T),m.add(T.group)}S.__viewId=T.__id=k,T.__alive=!0,T.__model=S,T.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!d&&p.prepareView(T,S,h,y)}for(var b=0;b<v.length;){var _=v[b];_.__alive?b++:(!d&&_.renderTask.dispose(),m.remove(_.group),_.dispose(h,y),v.splice(b,1),g[_.__id]===_&&delete g[_.__id],_.__id=_.group.__ecComponentInfo=null)}},X2=function(f,d,h,p,v){var g=f._model;if(g.setUpdatePayload(h),!p){X([].concat(f._componentsViews).concat(f._chartsViews),_);return}var m={};m[p+"Id"]=h[p+"Id"],m[p+"Index"]=h[p+"Index"],m[p+"Name"]=h[p+"Name"];var y={mainType:p,query:m};v&&(y.subType=v);var b=h.excludeSeriesId,x;b!=null&&(x=Pt(),X(Ir(b),function(S){var C=Ha(S,null);C!=null&&x.set(C,!0)})),g&&g.eachComponent(y,function(S){var C=x&&x.get(S.id)!=null;if(!C)if(aX(h))if(S instanceof Vr)h.type===Yv&&!h.notBlur&&!S.get(["emphasis","disabled"])&&QRt(S,h,f._api);else{var k=l5(S.mainType,S.componentIndex,h.name,f._api),T=k.focusSelf,E=k.dispatchers;h.type===Yv&&T&&!h.notBlur&&n3(S.mainType,S.componentIndex,f._api),E&&X(E,function(I){h.type===Yv?Jf(I):Qf(I)})}else a3(h)&&S instanceof Vr&&(nMt(S,h,f._api),nX(S),al(f))},f),g&&g.eachComponent(y,function(S){var C=x&&x.get(S.id)!=null;C||_(f[p==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},f);function _(S){S&&S.__alive&&S[d]&&S[d](S.__model,g,f._api,h)}},Id={prepareAndUpdate:function(f){B0(this),Id.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,p=this._api,v=this._zr,g=this._coordSysMgr,m=this._scheduler;if(h){h.setUpdatePayload(f),m.restoreData(h,f),m.performSeriesTasks(h),g.create(h,p),m.performDataProcessorTasks(h,f),I$(this,h),g.update(h,p),n(h),m.performVisualTasks(h,f),A$(this,h,p,f,d);var y=h.get("backgroundColor")||"transparent",b=h.get("darkMode");v.setBackgroundColor(y),b!=null&&b!=="auto"&&v.setDarkMode(b),ou.trigger("afterupdate",h,p)}},updateTransform:function(f){var d=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(f);var v=[];h.eachComponent(function(m,y){if(m!=="series"){var b=d.getViewOfComponentModel(y);if(b&&b.__alive)if(b.updateTransform){var x=b.updateTransform(y,h,p,f);x&&x.update&&v.push(b)}else v.push(b)}});var g=Pt();h.eachSeries(function(m){var y=d._chartsMap[m.__viewId];if(y.updateTransform){var b=y.updateTransform(m,h,p,f);b&&b.update&&g.set(m.uid,1)}else g.set(m.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:g}),q2(this,h,p,f,{},g),ou.trigger("afterupdate",h,p)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),Dr.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),A$(this,d,this._api,f,{}),ou.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(p){p.getData().clearAllVisual()}),Dr.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,v){if(p!=="series"){var g=d.getViewOfComponentModel(v);g&&g.__alive&&g.updateVisual(v,h,d._api,f)}}),h.eachSeries(function(p){var v=d._chartsMap[p.__viewId];v.updateVisual(p,h,d._api,f)}),ou.trigger("afterupdate",h,this._api))},updateLayout:function(f){Id.update.call(this,f)}},k$=function(f,d,h,p){if(f._disposed){f.id;return}for(var v=f._model,g=f._coordSysMgr.getCoordinateSystems(),m,y=Ix(v,h),b=0;b<g.length;b++){var x=g[b];if(x[d]&&(m=x[d](v,y,p))!=null)return m}},I$=function(f,d){var h=f._chartsMap,p=f._scheduler;d.eachSeries(function(v){p.updateStreamModes(v,h[v.__viewId])})},E$=function(f,d){var h=this,p=this.getModel(),v=f.type,g=f.escapeConnect,m=CE[v],y=m.actionInfo,b=(y.update||"update").split(":"),x=b.pop(),_=b[0]!=null&&wc(b[0]);this[ro]=!0;var S=[f],C=!1;f.batch&&(C=!0,S=ut(f.batch,function(L){return L=Xt(rt({},L),f),L.batch=null,L}));var k=[],T,E=a3(f),I=aX(f);if(I&&m0e(this._api),X(S,function(L){if(T=m.action(L,h._model,h._api),T=T||rt({},L),T.type=y.event||T.type,k.push(T),I){var R=e5(f),D=R.queryOptionMap,P=R.mainTypeSpecified,O=P?D.keys()[0]:"series";X2(h,x,L,O),al(h)}else E?(X2(h,x,L,"series"),al(h)):_&&X2(h,x,L,_.main,_.sub)}),x!=="none"&&!I&&!E&&!_)try{this[ps]?(B0(this),Id.update.call(this,f),this[ps]=null):Id[x].call(this,f)}catch(L){throw this[ro]=!1,L}if(C?T={type:y.event||v,escapeConnect:g,batch:k}:T=k[0],this[ro]=!1,!d){var A=this._messageCenter;if(A.trigger(T.type,T),E){var N={type:"selectchanged",escapeConnect:g,selected:rMt(p),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};A.trigger(N.type,N)}}},ib=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();E$.call(this,h,f)}},ob=function(f){!f&&this.trigger("updated")},yq=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[ps]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},bq=function(f,d){f.on("mouseover",function(h){var p=h.target,v=Nv(p,jw);v&&(eMt(v,h,d._api),al(d))}).on("mouseout",function(h){var p=h.target,v=Nv(p,jw);v&&(tMt(v,h,d._api),al(d))}).on("click",function(h){var p=h.target,v=Nv(p,function(y){return sn(y).dataIndex!=null},!0);if(v){var g=v.selected?"unselect":"select",m=sn(v);d._api.dispatchAction({type:g,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function r(f){var d=[],h=[],p=!1;if(f.eachComponent(function(y,b){var x=b.get("zlevel")||0,_=b.get("z")||0,S=b.getZLevelKey();p=p||!!S,(y==="series"?h:d).push({zlevel:x,z:_,idx:b.componentIndex,type:y,key:S})}),p){var v=d.concat(h),g,m;mk(v,function(y,b){return y.zlevel===b.zlevel?y.z-b.z:y.zlevel-b.zlevel}),X(v,function(y){var b=f.getComponent(y.type,y.idx),x=y.zlevel,_=y.key;g!=null&&(x=Math.max(g,x)),_?(x===g&&_!==m&&x++,m=_):m&&(x===g&&x++,m=""),g=x,b.setZLevel(x)})}}A$=function(f,d,h,p,v){r(d),xq(f,d,h,p,v),X(f._chartsViews,function(g){g.__alive=!1}),q2(f,d,h,p,v),X(f._chartsViews,function(g){g.__alive||g.remove(d,h)})},xq=function(f,d,h,p,v,g){X(g||f._componentsViews,function(m){var y=m.__model;u(y,m),m.render(y,d,h,p),s(y,m),c(y,m)})},q2=function(f,d,h,p,v,g){var m=f._scheduler;v=rt(v||{},{updatedSeries:d.getSeries()}),ou.trigger("series:beforeupdate",d,h,v);var y=!1;d.eachSeries(function(b){var x=f._chartsMap[b.__viewId];x.__alive=!0;var _=x.renderTask;m.updatePayload(_,p),u(b,x),g&&g.get(b.uid)&&_.dirty(),_.perform(m.getPerformArgs(_))&&(y=!0),x.group.silent=!!b.get("silent"),o(b,x),nX(b)}),m.unfinished=y||m.unfinished,ou.trigger("series:layoutlabels",d,h,v),ou.trigger("series:transition",d,h,v),d.eachSeries(function(b){var x=f._chartsMap[b.__viewId];s(b,x),c(b,x)}),i(f,d),ou.trigger("series:afterupdate",d,h,v)},al=function(f){f[S$]=!0,f.getZr().wakeUp()},_q=function(f){f[S$]&&(f.getZr().storage.traverse(function(d){Vm(d)||a(d)}),f[S$]=!1)};function a(f){for(var d=[],h=f.currentStates,p=0;p<h.length;p++){var v=h[p];v==="emphasis"||v==="blur"||v==="select"||d.push(v)}f.selected&&f.states.select&&d.push("select"),f.hoverState===RN&&f.states.emphasis?d.push("emphasis"):f.hoverState===cC&&f.states.blur&&d.push("blur"),f.useStates(d)}function i(f,d){var h=f._zr,p=h.storage,v=0;p.traverse(function(g){g.isGroup||v++}),v>d.get("hoverLayerThreshold")&&!Nn.node&&!Nn.worker&&d.eachSeries(function(g){if(!g.preventUsingHoverLayer){var m=f._chartsMap[g.__viewId];m.__alive&&m.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function o(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function s(f,d){if(!f.preventAutoZ){var h=f.get("z")||0,p=f.get("zlevel")||0;d.eachRendered(function(v){return l(v,h,p,-1/0),!0})}}function l(f,d,h,p){var v=f.getTextContent(),g=f.getTextGuideLine(),m=f.isGroup;if(m)for(var y=f.childrenRef(),b=0;b<y.length;b++)p=Math.max(l(y[b],d,h,p),p);else f.z=d,f.zlevel=h,p=Math.max(f.z2,p);if(v&&(v.z=d,v.zlevel=h,isFinite(p)&&(v.z2=p+2)),g){var x=f.textGuideLineConfig;g.z=d,g.zlevel=h,isFinite(p)&&(g.z2=p+(x&&x.showAbove?1:-1))}return p}function u(f,d){d.eachRendered(function(h){if(!Vm(h)){var p=h.getTextContent(),v=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),v=h.get("duration"),g=v>0?{duration:v,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Vm(m))return;if(m instanceof An&&lMt(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(p){m.stateTransition=g;var b=m.getTextContent(),x=m.getTextGuideLine();b&&(b.stateTransition=g),x&&(x.stateTransition=g)}m.__dirty&&a(m)}})}wq=function(f){return new(function(d){Oe(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var v=p.__ecComponentInfo;if(v!=null)return f._model.getComponent(v.mainType,v.index);p=p.parent}},h.prototype.enterEmphasis=function(p,v){Jf(p,v),al(f)},h.prototype.leaveEmphasis=function(p,v){Qf(p,v),al(f)},h.prototype.enterBlur=function(p){h0e(p),al(f)},h.prototype.leaveBlur=function(p){s5(p),al(f)},h.prototype.enterSelect=function(p){p0e(p),al(f)},h.prototype.leaveSelect=function(p){v0e(p),al(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},h}(sme))(f)},nye=function(f){function d(h,p){for(var v=0;v<h.length;v++){var g=h[v];g[C$]=p}}X(Mx,function(h,p){f._messageCenter.on(p,function(v){if(Sq[f.group]&&f[C$]!==mq){if(v&&v.escapeConnect)return;var g=f.makeActionFromEvent(v),m=[];X($x,function(y){y!==f&&y.group===f.group&&m.push(y)}),d(m,mq),X(m,function(y){y[C$]!==$Ot&&y.dispatchAction(g)}),d(m,LOt)}})})}}(),t}(jl),R5=rye.prototype;R5.on=Zme("on");R5.off=Zme("off");R5.one=function(e,t,n){var r=this;function a(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t&&t.apply&&t.apply(this,i),r.off(e,a)}this.on.call(this,e,a,n)};var OOt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],CE={},Mx={},x3=[],w3=[],TE=[],aye={},_3={},$x={},Sq={},POt=+new Date-0,M5="_echarts_instance_";function Cq(e,t,n){{var r=FOt(e);if(r)return r}var a=new rye(e,t,n);return a.id="ec_"+POt++,$x[a.id]=a,qge(e,M5,a.id),nye(a),ou.trigger("afterinit",a),a}function FOt(e){return $x[qNt(e,M5)]}function iye(e,t){aye[e]=t}function oye(e){Cn(w3,e)<0&&w3.push(e)}function sye(e,t){L5(x3,e,t,kOt)}function BOt(e){$5("afterinit",e)}function VOt(e){$5("afterupdate",e)}function $5(e,t){ou.on(e,t)}function sf(e,t,n){Yt(t)&&(n=t,t="");var r=Jt(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,!Mx[t]&&(is(gq.test(r)&&gq.test(t)),CE[r]||(CE[r]={action:n,actionInfo:e}),Mx[t]=r)}function zOt(e,t){gC.register(e,t)}function WOt(e,t){L5(TE,e,t,Yme,"layout")}function l0(e,t){L5(TE,e,t,Xme,"visual")}var Tq=[];function L5(e,t,n,r,a){if((Yt(t)||Jt(t))&&(n=t,t=r),!(Cn(Tq,n)>=0)){Tq.push(n);var i=$me.wrapStageHandler(n,a);i.__prio=t,i.__raw=n,e.push(i)}}function lye(e,t){_3[e]=t}function HOt(e,t,n){var r=wOt("registerMap");r&&r(e,t,n)}var UOt=rLt;l0(N5,ALt);l0(YN,DLt);l0(YN,NLt);l0(N5,ULt);l0(YN,GLt);l0(qme,bOt);oye(ume);sye(COt,P$t);lye("default",RLt);sf({type:Yv,event:Yv,update:Yv},ba);sf({type:_k,event:_k,update:_k},ba);sf({type:Ex,event:Ex,update:Ex},ba);sf({type:Sk,event:Sk,update:Sk},ba);sf({type:Ax,event:Ax,update:Ax},ba);iye("light",WLt);iye("dark",Fme);var kq=[],GOt={registerPreprocessor:oye,registerProcessor:sye,registerPostInit:BOt,registerPostUpdate:VOt,registerUpdateLifecycle:$5,registerAction:sf,registerCoordinateSystem:zOt,registerLayout:WOt,registerVisual:l0,registerTransform:UOt,registerLoading:lye,registerMap:HOt,registerImpl:xOt,PRIORITY:MOt,ComponentModel:Rn,ComponentView:na,SeriesModel:Vr,ChartView:Dr,registerComponentModel:function(e){Rn.registerClass(e)},registerComponentView:function(e){na.registerClass(e)},registerSeriesModel:function(e){Vr.registerClass(e)},registerChartView:function(e){Dr.registerClass(e)},registerSubTypeDefaulter:function(e,t){Rn.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){ENt(e,t)}};function kn(e){if(st(e)){X(e,function(t){kn(t)});return}Cn(kq,e)>=0||(kq.push(e),Yt(e)&&(e={install:e}),e.install(GOt))}function sb(e){return e==null?0:e.length||1}function Iq(e){return e}var ed=function(){function e(t,n,r,a,i,o){this._old=t,this._new=n,this._oldKeyGetter=r||Iq,this._newKeyGetter=a||Iq,this.context=i,this._diffModeMultiple=o==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,n=this._new,r={},a=new Array(t.length),i=new Array(n.length);this._initIndexMap(t,null,a,"_oldKeyGetter"),this._initIndexMap(n,r,i,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=a[o],l=r[s],u=sb(l);if(u>1){var c=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(c,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(i,r)},e.prototype._executeMultiple=function(){var t=this._old,n=this._new,r={},a={},i=[],o=[];this._initIndexMap(t,r,i,"_oldKeyGetter"),this._initIndexMap(n,a,o,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=i[s],u=r[l],c=a[l],f=sb(u),d=sb(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),a[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),a[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),a[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),a[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,a)},e.prototype._performRestAdd=function(t,n){for(var r=0;r<t.length;r++){var a=t[r],i=n[a],o=sb(i);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(i[s]);else o===1&&this._add&&this._add(i);n[a]=null}},e.prototype._initIndexMap=function(t,n,r,a){for(var i=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[a](t[o],o);if(i||(r[o]=s),!!n){var l=n[s],u=sb(l);u===0?(n[s]=o,i&&r.push(s)):u===1?n[s]=[l,o]:l.push(o)}}},e}(),KOt=function(){function e(t,n){this._encode=t,this._schema=n}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function jOt(e,t){var n={},r=n.encode={},a=Pt(),i=[],o=[],s={};X(e.dimensions,function(d){var h=e.getDimensionInfo(d),p=h.coordDim;if(p){var v=h.coordDimIndex;D$(r,p)[v]=d,h.isExtraCoord||(a.set(p,1),YOt(h.type)&&(i[0]=d),D$(s,p)[v]=e.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(d)}eme.each(function(g,m){var y=D$(r,m),b=h.otherDims[m];b!=null&&b!==!1&&(y[b]=h.name)})});var l=[],u={};a.each(function(d,h){var p=r[h];u[h]=p[0],l=l.concat(p)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=ut(l,function(d){return e.getDimensionInfo(d).storeDimIndex}),n.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(i=c.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=i.slice()),r.defaultedLabel=i,r.defaultedTooltip=o,n.userOutput=new KOt(s,t),n}function D$(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function kE(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function YOt(e){return!(e==="ordinal"||e==="time")}var Ek=function(){function e(t){this.otherDims={},t!=null&&rt(this,t)}return e}(),XOt=Vn(),qOt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},uye=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=dye(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return fn(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=fme(this.source),r=!hye(t),a="",i=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=n?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=n?d.name:null,u=d.type)}i.push({property:l,type:u,ordinalMeta:c}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(a+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=qOt[u]||"f",c&&(a+=c.uid),a+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,a].join("$$");return{dimensions:i,hash:p}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,r=0;n<this._fullDimCount;n++){var a=void 0,i=this.dimensions[r];if(i&&i.storeDimIndex===n)i.isCalculationCoord||(a=i.name),r++;else{var o=this.getSourceDimension(n);o&&(a=o.name)}t.push(a)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function cye(e){return e instanceof uye}function fye(e){for(var t=Pt(),n=0;n<(e||[]).length;n++){var r=e[n],a=Jt(r)?r.name:r;a!=null&&t.get(a)==null&&t.set(a,n)}return t}function dye(e){var t=XOt(e);return t.dimNameMap||(t.dimNameMap=fye(e.dimensionsDefine))}function hye(e){return e>30}var lb=Jt,Ed=ut,ZOt=typeof Int32Array>"u"?Array:Int32Array,JOt="e\0\0",Eq=-1,QOt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ePt=["_approximateExtent"],Aq,Z2,ub,cb,N$,fb,R$,Zo=function(){function e(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,a=!1;cye(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(a=!0,r=t),r=r||["x","y"];for(var i={},o=[],s={},l=!1,u={},c=0;c<r.length;c++){var f=r[c],d=Dt(f)?new Ek({name:f}):f instanceof Ek?f:new Ek(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};o.push(h),i[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),a&&(d.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var v=this._dimIdxToName=Pt();X(o,function(g){v.set(i[g].storeDimIndex,g)})}}return e.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var a=this._schema.getSourceDimension(n);if(a)return a.name},e.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(Kn(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[t];var a=r.encode[t];return a?a[n]:null},e.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,r=n.encode[t];return(r||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,n,r){var a=this,i;if(t instanceof h3&&(i=t),!i){var o=this.dimensions,s=C5(t)||Co(t)?new dme(t,o.length):t;i=new h3;var l=Ed(o,function(u){return{type:a._dimInfos[u].type,property:u}});i.initData(s,l,r)}this._store=i,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=jOt(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},e.prototype.appendValues=function(t,n){var r=this._store.appendValues(t,n&&n.length),a=r.start,i=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=a;s<i;s++){var l=s-a;this._nameList[s]=n[l],o&&R$(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,r=0;r<n.length;r++){var a=this._dimInfos[n[r]];a.ordinalMeta&&t.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==bh&&!t.fillStorage},e.prototype._doInit=function(t,n){if(!(t>=n)){var r=this._store,a=r.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList,s=a.getSource().sourceFormat,l=s===Yl;if(l&&!a.pure)for(var u=[],c=t;c<n;c++){var f=a.getItem(c,u);if(!this.hasItemOption&&PNt(f)&&(this.hasItemOption=!0),f){var d=f.name;i[c]==null&&d!=null&&(i[c]=Ha(d,null));var h=f.id;o[c]==null&&h!=null&&(o[c]=Ha(h,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<n;c++)R$(this,c);Aq(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,n){lb(t)?rt(this._calculationInfo,t):this._calculationInfo[t]=n},e.prototype.getName=function(t){var n=this.getRawIndex(t),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=ub(this,this._nameDimIdx,n)),r==null&&(r=""),r},e.prototype._getCategory=function(t,n){var r=this._store.get(t,n),a=this._store.getOrdinalMeta(t);return a?a.categories[r]:r},e.prototype.getId=function(t){return Z2(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,n){var r=this._store,a=this._dimInfos[t];if(a)return r.get(a.storeDimIndex,n)},e.prototype.getByRawIndex=function(t,n){var r=this._store,a=this._dimInfos[t];if(a)return r.getByRawIndex(a.storeDimIndex,n)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,n){var r=this,a=this._store;return st(t)?a.getValues(Ed(t,function(i){return r._getStoreDimIndex(i)}),n):a.getValues(t)},e.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,a=n.length;r<a;r++)if(isNaN(this._store.get(n[r],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===t)return n;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,n){var r=t&&this._invertedIndicesMap[t],a=r&&r[n];return a==null||isNaN(a)?Eq:a},e.prototype.indicesOfNearest=function(t,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,r)},e.prototype.each=function(t,n,r){Yt(t)&&(r=n,n=t,t=[]);var a=r||this,i=Ed(cb(t),this._getStoreDimIndex,this);this._store.each(i,a?Nt(n,a):n)},e.prototype.filterSelf=function(t,n,r){Yt(t)&&(r=n,n=t,t=[]);var a=r||this,i=Ed(cb(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?Nt(n,a):n),this},e.prototype.selectRange=function(t){var n=this,r={},a=Mn(t);return X(a,function(i){var o=n._getStoreDimIndex(i);r[o]=t[i]}),this._store=this._store.selectRange(r),this},e.prototype.mapArray=function(t,n,r){Yt(t)&&(r=n,n=t,t=[]),r=r||this;var a=[];return this.each(t,function(){a.push(n&&n.apply(this,arguments))},r),a},e.prototype.map=function(t,n,r,a){var i=r||a||this,o=Ed(cb(t),this._getStoreDimIndex,this),s=fb(this);return s._store=this._store.map(o,i?Nt(n,i):n),s},e.prototype.modify=function(t,n,r,a){var i=r||a||this,o=Ed(cb(t),this._getStoreDimIndex,this);this._store.modify(o,i?Nt(n,i):n)},e.prototype.downSample=function(t,n,r,a){var i=fb(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),n,r,a),i},e.prototype.minmaxDownSample=function(t,n){var r=fb(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),n),r},e.prototype.lttbDownSample=function(t,n){var r=fb(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),r},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var n=this.hostModel,r=this.getRawDataItem(t);return new pr(r,n,n&&n.ecModel)},e.prototype.diff=function(t){var n=this;return new ed(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return Z2(t,r)},function(r){return Z2(n,r)})},e.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},e.prototype.setVisual=function(t,n){this._visual=this._visual||{},lb(t)?rt(this._visual,t):this._visual[t]=n},e.prototype.getItemVisual=function(t,n){var r=this._itemVisuals[t],a=r&&r[n];return a??this.getVisual(n)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,n){var r=this._itemVisuals,a=r[t];a||(a=r[t]={});var i=a[n];return i==null&&(i=this.getVisual(n),st(i)?i=i.slice():lb(i)&&(i=rt({},i)),a[n]=i),i},e.prototype.setItemVisual=function(t,n,r){var a=this._itemVisuals[t]||{};this._itemVisuals[t]=a,lb(n)?rt(a,n):a[n]=r},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,n){lb(t)?rt(this._layout,t):this._layout[t]=n},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,n,r){this._itemLayouts[t]=r?rt(this._itemLayouts[t]||{},n):n},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,n){var r=this.hostModel&&this.hostModel.seriesIndex;e3(r,this.dataType,t,n),this._graphicEls[t]=n},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,n){X(this._graphicEls,function(r,a){r&&t&&t.call(n,r,a)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Ed(this.dimensions,this._getDimInfo,this),this.hostModel)),N$(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,n){var r=this[t];Yt(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var a=r.apply(this,arguments);return n.apply(this,[a].concat(U6(arguments)))})},e.internalField=function(){Aq=function(t){var n=t._invertedIndicesMap;X(n,function(r,a){var i=t._dimInfos[a],o=i.ordinalMeta,s=t._store;if(o){r=n[a]=new ZOt(o.categories.length);for(var l=0;l<r.length;l++)r[l]=Eq;for(var l=0;l<s.count();l++)r[s.get(i.storeDimIndex,l)]=l}})},ub=function(t,n,r){return Ha(t._getCategory(n,r),null)},Z2=function(t,n){var r=t._idList[n];return r==null&&t._idDimIdx!=null&&(r=ub(t,t._idDimIdx,n)),r==null&&(r=JOt+n),r},cb=function(t){return st(t)||(t=t!=null?[t]:[]),t},fb=function(t){var n=new e(t._schema?t._schema:Ed(t.dimensions,t._getDimInfo,t),t.hostModel);return N$(n,t),n},N$=function(t,n){X(QOt.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t.__wrappedMethods=n.__wrappedMethods,X(ePt,function(r){t[r]=en(n[r])}),t._calculationInfo=rt({},n._calculationInfo)},R$=function(t,n){var r=t._nameList,a=t._idList,i=t._nameDimIdx,o=t._idDimIdx,s=r[n],l=a[n];if(s==null&&i!=null&&(r[n]=s=ub(t,i,n)),l==null&&o!=null&&(a[n]=l=ub(t,o,n)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),a[n]=l}}}(),e}();function yC(e,t){C5(e)||(e=T5(e)),t=t||{};var n=t.coordDimensions||[],r=t.dimensionsDefine||e.dimensionsDefine||[],a=Pt(),i=[],o=nPt(e,n,r,t.dimensionsCount),s=t.canOmitUnusedDimensions&&hye(o),l=r===e.dimensionsDefine,u=l?dye(e):fye(r),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,o));for(var f=Pt(c),d=new xme(o),h=0;h<d.length;h++)d[h]=-1;function p(T){var E=d[T];if(E<0){var I=r[T],A=Jt(I)?I:{name:I},N=new Ek,L=A.name;L!=null&&u.get(L)!=null&&(N.name=N.displayName=L),A.type!=null&&(N.type=A.type),A.displayName!=null&&(N.displayName=A.displayName);var R=i.length;return d[T]=R,N.storeDimIndex=T,i.push(N),N}return i[E]}if(!s)for(var h=0;h<o;h++)p(h);f.each(function(T,E){var I=Ir(T).slice();if(I.length===1&&!Dt(I[0])&&I[0]<0){f.set(E,!1);return}var A=f.set(E,[]);X(I,function(N,L){var R=Dt(N)?u.get(N):N;R!=null&&R<o&&(A[L]=R,g(p(R),E,L))})});var v=0;X(n,function(T){var E,I,A,N;if(Dt(T))E=T,N={};else{N=T,E=N.name;var L=N.ordinalMeta;N.ordinalMeta=null,N=rt({},N),N.ordinalMeta=L,I=N.dimsDef,A=N.otherDims,N.name=N.coordDim=N.coordDimIndex=N.dimsDef=N.otherDims=null}var R=f.get(E);if(R!==!1){if(R=Ir(R),!R.length)for(var D=0;D<(I&&I.length||1);D++){for(;v<o&&p(v).coordDim!=null;)v++;v<o&&R.push(v++)}X(R,function(P,O){var M=p(P);if(l&&N.type!=null&&(M.type=N.type),g(Xt(M,N),E,O),M.name==null&&I){var W=I[O];!Jt(W)&&(W={name:W}),M.name=M.displayName=W.name,M.defaultTooltip=W.defaultTooltip}A&&Xt(M.otherDims,A)})}});function g(T,E,I){eme.get(E)!=null?T.otherDims[E]=I:(T.coordDim=E,T.coordDimIndex=I,a.set(E,!0))}var m=t.generateCoord,y=t.generateCoordCount,b=y!=null;y=m?y||1:0;var x=m||"value";function _(T){T.name==null&&(T.name=T.coordDim)}if(s)X(i,function(T){_(T)}),i.sort(function(T,E){return T.storeDimIndex-E.storeDimIndex});else for(var S=0;S<o;S++){var C=p(S),k=C.coordDim;k==null&&(C.coordDim=rPt(x,a,b),C.coordDimIndex=0,(!m||y<=0)&&(C.isExtraCoord=!0),y--),_(C),C.type==null&&(ame(e,S)===$i.Must||C.isExtraCoord&&(C.otherDims.itemName!=null||C.otherDims.seriesName!=null))&&(C.type="ordinal")}return tPt(i),new uye({source:e,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function tPt(e){for(var t=Pt(),n=0;n<e.length;n++){var r=e[n],a=r.name,i=t.get(a)||0;i>0&&(r.name=a+(i-1)),i++,t.set(a,i)}}function nPt(e,t,n,r){var a=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return X(t,function(i){var o;Jt(i)&&(o=i.dimsDef)&&(a=Math.max(a,o.length))}),a}function rPt(e,t,n){if(n||t.hasKey(e)){for(var r=0;t.hasKey(e+r);)r++;e+=r}return t.set(e,!0),e}var aPt=function(){function e(t){this.coordSysDims=[],this.axisMap=Pt(),this.categoryAxisMap=Pt(),this.coordSysName=t}return e}();function iPt(e){var t=e.get("coordinateSystem"),n=new aPt(t),r=oPt[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var oPt={cartesian2d:function(e,t,n,r){var a=e.getReferringComponents("xAxis",Da).models[0],i=e.getReferringComponents("yAxis",Da).models[0];t.coordSysDims=["x","y"],n.set("x",a),n.set("y",i),V0(a)&&(r.set("x",a),t.firstCategoryDimIndex=0),V0(i)&&(r.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var a=e.getReferringComponents("singleAxis",Da).models[0];t.coordSysDims=["single"],n.set("single",a),V0(a)&&(r.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var a=e.getReferringComponents("polar",Da).models[0],i=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",i),n.set("angle",o),V0(i)&&(r.set("radius",i),t.firstCategoryDimIndex=0),V0(o)&&(r.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var a=e.ecModel,i=a.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();X(i.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),c=o[l];n.set(c,u),V0(u)&&(r.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function V0(e){return e.get("type")==="category"}function sPt(e,t,n){n=n||{};var r=n.byIndex,a=n.stackedCoordDimension,i,o,s;lPt(t)?i=t:(o=t.schema,i=o.dimensions,s=t.store);var l=!!(e&&e.get("stack")),u,c,f,d;if(X(i,function(y,b){Dt(y)&&(i[b]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!a||a===y.coordDim)&&(c=y))}),c&&!r&&!u&&(r=!0),c){f="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,p=c.type,v=0;X(i,function(y){y.coordDim===h&&v++});var g={name:f,coordDim:h,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},m={name:d,coordDim:d,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(g.storeDimIndex=s.ensureCalculationDimension(d,p),m.storeDimIndex=s.ensureCalculationDimension(f,p)),o.appendCalculationDimension(g),o.appendCalculationDimension(m)):(i.push(g),i.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:d,stackResultDimension:f}}function lPt(e){return!cye(e.schema)}function Gh(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function pye(e,t){return Gh(e,t)?e.getCalculationInfo("stackResultDimension"):t}function uPt(e,t){var n=e.get("coordinateSystem"),r=gC.get(n),a;return t&&t.coordSysDims&&(a=ut(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var l=s.get("type");o.type=kE(l)}return o})),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),a}function cPt(e,t,n){var r,a;return n&&X(e,function(i,o){var s=i.coordDim,l=n.categoryAxisMap.get(s);l&&(r==null&&(r=o),i.ordinalMeta=l.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&r!=null&&(e[r].otherDims.itemName=0),r}function md(e,t,n){n=n||{};var r=t.getSourceManager(),a,i=!1;e?(i=!0,a=T5(e)):(a=r.getSource(),i=a.sourceFormat===Yl);var o=iPt(t),s=uPt(t,o),l=n.useEncodeDefaulter,u=Yt(l)?l:l?vn(rme,s,t):null,c={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},f=yC(a,c),d=cPt(f.dimensions,n.createInvertedIndices,o),h=i?null:r.getSharedDataStore(f),p=sPt(t,{schema:f,store:h}),v=new Zo(f,t);v.setCalculationInfo(p);var g=d!=null&&fPt(a)?function(m,y,b,x){return x===d?b:this.defaultDimValueGetter(m,y,b,x)}:null;return v.hasItemOption=!1,v.initData(i?a:h,null,g),v}function fPt(e){if(e.sourceFormat===Yl){var t=dPt(e.data||[]);return!st(y1(t))}}function dPt(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var lf=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(n)||(r[1]=n)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();EN(lf);var hPt=0,S3=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++hPt}return e.createByAxisModel=function(t){var n=t.option,r=n.data,a=r&&ut(r,pPt);return new e({categories:a,needCollect:!a,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var n,r=this._needCollect;if(!Dt(t)&&!r)return t;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var a=this._getOrCreateMap();return n=a.get(t),n==null&&(r?(n=this.categories.length,this.categories[n]=t,a.set(t,n)):n=NaN),n},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Pt(this.categories))},e}();function pPt(e){return Jt(e)&&e.value!=null?e.value:e+""}function C3(e){return e.type==="interval"||e.type==="log"}function vPt(e,t,n,r){var a={},i=e[1]-e[0],o=a.interval=Wge(i/t);n!=null&&o<n&&(o=a.interval=n),r!=null&&o>r&&(o=a.interval=r);var s=a.intervalPrecision=vye(o),l=a.niceTickExtent=[ha(Math.ceil(e[0]/o)*o,s),ha(Math.floor(e[1]/o)*o,s)];return gPt(l,e),a}function M$(e){var t=Math.pow(10,J6(e)),n=e/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,ha(n*t)}function vye(e){return xc(e)+2}function Dq(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function gPt(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Dq(e,0,t),Dq(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function XN(e,t){return e>=t[0]&&e<=t[1]}function qN(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function ZN(e,t){return e*(t[1]-t[0])+t[0]}var JN=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;r.type="ordinal";var a=r.getSetting("ordinalMeta");return a||(a=new S3({})),st(a)&&(a=new S3({categories:ut(a,function(i){return Jt(i)?i.value:i})})),r._ordinalMeta=a,r._extent=r.getSetting("extent")||[0,a.categories.length-1],r}return t.prototype.parse=function(n){return n==null?NaN:Dt(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),XN(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),qN(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(ZN(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],r=this._extent,a=r[0];a<=r[1];)n.push({value:a}),a++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];a[o]=u,i[u]=o}for(var c=0;o<s;++o){for(;i[c]!=null;)c++;a.push(c),i[c]=o}},t.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),a=this._ordinalMeta.categories[r];return a==null?"":a+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(lf);lf.registerClass(JN);var jp=ha,td=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return XN(n,this._extent)},t.prototype.normalize=function(n){return qN(n,this._extent)},t.prototype.scale=function(n){return ZN(n,this._extent)},t.prototype.setExtent=function(n,r){var a=this._extent;isNaN(n)||(a[0]=parseFloat(n)),isNaN(r)||(a[1]=parseFloat(r))},t.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=vye(n)},t.prototype.getTicks=function(n){var r=this._interval,a=this._extent,i=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;a[0]<i[0]&&(n?s.push({value:jp(i[0]-r,o)}):s.push({value:a[0]}));for(var u=i[0];u<=i[1]&&(s.push({value:u}),u=jp(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:i[1];return a[1]>c&&(n?s.push({value:jp(c+r,o)}):s.push({value:a[1]})),s},t.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),a=[],i=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,c=[],f=s.value-l.value,d=f/n;u<n-1;){var h=jp(l.value+(u+1)*d);h>i[0]&&h<i[1]&&c.push(h),u++}a.push(c)}return a},t.prototype.getLabel=function(n,r){if(n==null)return"";var a=r&&r.precision;a==null?a=xc(n.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=jp(n.value,a,!0);return Y0e(i)},t.prototype.calcNiceTicks=function(n,r,a){n=n||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var s=vPt(i,n,r,a);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var a=Math.abs(r[0]);n.fixMax||(r[1]+=a/2),r[0]-=a/2}else r[1]=1;var i=r[1]-r[0];isFinite(i)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var o=this._interval;n.fixMin||(r[0]=jp(Math.floor(r[0]/o)*o)),n.fixMax||(r[1]=jp(Math.ceil(r[1]/o)*o))},t.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},t.type="interval",t}(lf);lf.registerClass(td);var gye=typeof Float32Array<"u",mPt=gye?Float32Array:Array;function _c(e){return st(e)?gye?new Float32Array(e):e:new mPt(e)}var T3="__ec_stack_";function mye(e){return e.get("stack")||T3+e.seriesIndex}function O5(e){return e.dim+e.index}function yPt(e){var t=[],n=e.axis,r="axis0";if(n.type==="category"){for(var a=n.getBandWidth(),i=0;i<e.count;i++)t.push(Xt({bandWidth:a,axisKey:r,stackId:T3+i},e));for(var o=xye(t),s=[],i=0;i<e.count;i++){var l=o[r][T3+i];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function yye(e,t){var n=[];return t.eachSeriesByType(e,function(r){Sye(r)&&n.push(r)}),n}function bPt(e){var t={};X(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),p=f.getStore(),v=0,g=p.count();v<g;++v){var m=p.get(h,v);t[d]?t[d].push(m):t[d]=[m]}});var n={};for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(a){a.sort(function(l,u){return l-u});for(var i=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(i=i===null?s:Math.min(i,s))}n[r]=i}}return n}function bye(e){var t=bPt(e),n=[];return X(e,function(r){var a=r.coordinateSystem,i=a.getBaseAxis(),o=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=t[l],c=Math.abs(o[1]-o[0]),f=i.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var h=r.getData();s=Math.abs(o[1]-o[0])/h.count()}var p=St(r.get("barWidth"),s),v=St(r.get("barMaxWidth"),s),g=St(r.get("barMinWidth")||(Cye(r)?.5:1),s),m=r.get("barGap"),y=r.get("barCategoryGap");n.push({bandWidth:s,barWidth:p,barMaxWidth:v,barMinWidth:g,barGap:m,barCategoryGap:y,axisKey:O5(i),stackId:mye(r)})}),xye(n)}function xye(e){var t={};X(e,function(r,a){var i=r.axisKey,o=r.bandWidth,s=t[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[i]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var d=r.barMinWidth;d&&(l[u].minWidth=d);var h=r.barGap;h!=null&&(s.gap=h);var p=r.barCategoryGap;p!=null&&(s.categoryGap=p)});var n={};return X(t,function(r,a){n[a]={};var i=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=Mn(i).length;s=Math.max(35-l*4,15)+"%"}var u=St(s,o),c=St(r.gap,1),f=r.remainedWidth,d=r.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),X(i,function(m){var y=m.maxWidth,b=m.minWidth;if(m.width){var x=m.width;y&&(x=Math.min(x,y)),b&&(x=Math.max(x,b)),m.width=x,f-=x+c*x,d--}else{var x=h;y&&y<x&&(x=Math.min(y,f)),b&&b>x&&(x=b),x!==h&&(m.width=x,f-=x+c*x,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var p=0,v;X(i,function(m,y){m.width||(m.width=h),v=m,p+=m.width*(1+c)}),v&&(p-=v.width*c);var g=-p/2;X(i,function(m,y){n[a][y]=n[a][y]||{bandWidth:o,offset:g,width:m.width},g+=m.width*(1+c)})}),n}function xPt(e,t,n){if(e&&t){var r=e[O5(t)];return r}}function wye(e,t){var n=yye(e,t),r=bye(n);X(n,function(a){var i=a.getData(),o=a.coordinateSystem,s=o.getBaseAxis(),l=mye(a),u=r[O5(s)][l],c=u.offset,f=u.width;i.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function _ye(e){return{seriesType:e,plan:k1(),reset:function(t){if(Sye(t)){var n=t.getData(),r=t.coordinateSystem,a=r.getBaseAxis(),i=r.getOtherAxis(a),o=n.getDimensionIndex(n.mapDimension(i.dim)),s=n.getDimensionIndex(n.mapDimension(a.dim)),l=t.get("showBackground",!0),u=n.mapDimension(i.dim),c=n.getCalculationInfo("stackResultDimension"),f=Gh(n,u)&&!!n.getCalculationInfo("stackedOnSeries"),d=i.isHorizontal(),h=wPt(a,i),p=Cye(t),v=t.get("barMinHeight")||0,g=c&&n.getDimensionIndex(c),m=n.getLayout("size"),y=n.getLayout("offset");return{progress:function(b,x){for(var _=b.count,S=p&&_c(_*3),C=p&&l&&_c(_*3),k=p&&_c(_),T=r.master.getRect(),E=d?T.width:T.height,I,A=x.getStore(),N=0;(I=b.next())!=null;){var L=A.get(f?g:o,I),R=A.get(s,I),D=h,P=void 0;f&&(P=+L-A.get(o,I));var O=void 0,M=void 0,W=void 0,U=void 0;if(d){var V=r.dataToPoint([L,R]);if(f){var H=r.dataToPoint([P,R]);D=H[0]}O=D,M=V[1]+y,W=V[0]-D,U=m,Math.abs(W)<v&&(W=(W<0?-1:1)*v)}else{var V=r.dataToPoint([R,L]);if(f){var H=r.dataToPoint([R,P]);D=H[1]}O=V[0]+y,M=D,W=m,U=V[1]-D,Math.abs(U)<v&&(U=(U<=0?-1:1)*v)}p?(S[N]=O,S[N+1]=M,S[N+2]=d?W:U,C&&(C[N]=d?T.x:O,C[N+1]=d?M:T.y,C[N+2]=E),k[I]=I):x.setItemLayout(I,{x:O,y:M,width:W,height:U}),N+=3}p&&x.setLayout({largePoints:S,largeDataIndices:k,largeBackgroundPoints:C,valueAxisHorizontal:d})}}}}}}function Sye(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function Cye(e){return e.pipelineContext&&e.pipelineContext.large}function wPt(e,t){var n=t.model.get("startValue");return n||(n=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?n>0?n:1:n))}var _Pt=function(e,t,n,r){for(;n<r;){var a=n+r>>>1;e[a][1]<t?n=a+1:r=a}return n},P5=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="time",r}return t.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return BN(n.value,bX[r$t(Wm(this._minLevelUnit))]||bX.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,r,a){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return a$t(n,r,a,o,i)},t.prototype.getTicks=function(){var n=this._interval,r=this._extent,a=[];if(!n)return a;a.push({value:r[0],level:0});var i=this.getSetting("useUTC"),o=APt(this._minLevelUnit,this._approxInterval,i,r);return a=a.concat(o),a.push({value:r[1],level:0}),a},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Cl,r[1]+=Cl),r[1]===-1/0&&r[0]===1/0){var a=new Date;r[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),r[0]=r[1]-Cl}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,r,a){n=n||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=J2.length,l=Math.min(_Pt(J2,this._approxInterval,0,s),s-1);this._interval=J2[l][1],this._minLevelUnit=J2[Math.max(l-1,0)][0]},t.prototype.parse=function(n){return Kn(n)?n:+jc(n)},t.prototype.contain=function(n){return XN(this.parse(n),this._extent)},t.prototype.normalize=function(n){return qN(this.parse(n),this._extent)},t.prototype.scale=function(n){return ZN(n,this._extent)},t.type="time",t}(td),J2=[["second",g5],["minute",m5],["hour",Nx],["quarter-day",Nx*6],["half-day",Nx*12],["day",Cl*1.2],["half-week",Cl*3.5],["week",Cl*7],["month",Cl*31],["quarter",Cl*95],["half-year",yX/2],["year",yX]];function SPt(e,t,n,r){var a=jc(t),i=jc(n),o=function(p){return xX(a,p,r)===xX(i,p,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},f=function(){return c()&&o("minute")},d=function(){return f()&&o("second")},h=function(){return d()&&o("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return d();case"millisecond":return h()}}function CPt(e,t){return e/=Cl,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function TPt(e){var t=30*Cl;return e/=t,e>6?6:e>3?3:e>2?2:1}function kPt(e){return e/=Nx,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function Nq(e,t){return e/=t?m5:g5,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function IPt(e){return Wge(e)}function EPt(e,t,n){var r=new Date(e);switch(Wm(t)){case"year":case"month":r[W0e(n)](0);case"day":r[H0e(n)](1);case"hour":r[U0e(n)](0);case"minute":r[G0e(n)](0);case"second":r[K0e(n)](0),r[j0e(n)](0)}return r.getTime()}function APt(e,t,n,r){var a=1e4,i=V0e,o=0;function s(E,I,A,N,L,R,D){for(var P=new Date(I),O=I,M=P[N]();O<A&&O<=r[1];)D.push({value:O}),M+=E,P[L](M),O=P.getTime();D.push({value:O,notAdd:!0})}function l(E,I,A){var N=[],L=!I.length;if(!SPt(Wm(E),r[0],r[1],n)){L&&(I=[{value:EPt(new Date(r[0]),E,n)},{value:r[1]}]);for(var R=0;R<I.length-1;R++){var D=I[R].value,P=I[R+1].value;if(D!==P){var O=void 0,M=void 0,W=void 0,U=!1;switch(E){case"year":O=Math.max(1,Math.round(t/Cl/365)),M=y5(n),W=i$t(n);break;case"half-year":case"quarter":case"month":O=TPt(t),M=Hm(n),W=W0e(n);break;case"week":case"half-week":case"day":O=CPt(t),M=VN(n),W=H0e(n),U=!0;break;case"half-day":case"quarter-day":case"hour":O=kPt(t),M=Xw(n),W=U0e(n);break;case"minute":O=Nq(t,!0),M=zN(n),W=G0e(n);break;case"second":O=Nq(t,!1),M=WN(n),W=K0e(n);break;case"millisecond":O=IPt(t),M=HN(n),W=j0e(n);break}s(O,D,P,M,W,U,N),E==="year"&&A.length>1&&R===0&&A.unshift({value:A[0].value-O})}}for(var R=0;R<N.length;R++)A.push(N[R]);return N}}for(var u=[],c=[],f=0,d=0,h=0;h<i.length&&o++<a;++h){var p=Wm(i[h]);if(n$t(i[h])){l(i[h],u[u.length-1]||[],c);var v=i[h+1]?Wm(i[h+1]):null;if(p!==v){if(c.length){d=f,c.sort(function(E,I){return E.value-I.value});for(var g=[],m=0;m<c.length;++m){var y=c[m].value;(m===0||c[m-1].value!==y)&&(g.push(c[m]),y>=r[0]&&y<=r[1]&&f++)}var b=(r[1]-r[0])/t;if(f>b*1.5&&d>b/1.5||(u.push(g),f>b||e===i[h]))break}c=[]}}}for(var x=sr(ut(u,function(E){return sr(E,function(I){return I.value>=r[0]&&I.value<=r[1]&&!I.notAdd})}),function(E){return E.length>0}),_=[],S=x.length-1,h=0;h<x.length;++h)for(var C=x[h],k=0;k<C.length;++k)_.push({value:C[k].value,level:S-h});_.sort(function(E,I){return E.value-I.value});for(var T=[],h=0;h<_.length;++h)(h===0||_[h].value!==_[h-1].value)&&T.push(_[h]);return T}lf.registerClass(P5);var Rq=lf.prototype,Lx=td.prototype,DPt=ha,NPt=Math.floor,RPt=Math.ceil,Q2=Math.pow,tu=Math.log,F5=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new td,n._interval=0,n}return t.prototype.getTicks=function(n){var r=this._originalScale,a=this._extent,i=r.getExtent(),o=Lx.getTicks.call(this,n);return ut(o,function(s){var l=s.value,u=ha(Q2(this.base,l));return u=l===a[0]&&this._fixMin?eT(u,i[0]):u,u=l===a[1]&&this._fixMax?eT(u,i[1]):u,{value:u}},this)},t.prototype.setExtent=function(n,r){var a=tu(this.base);n=tu(Math.max(0,n))/a,r=tu(Math.max(0,r))/a,Lx.setExtent.call(this,n,r)},t.prototype.getExtent=function(){var n=this.base,r=Rq.getExtent.call(this);r[0]=Q2(n,r[0]),r[1]=Q2(n,r[1]);var a=this._originalScale,i=a.getExtent();return this._fixMin&&(r[0]=eT(r[0],i[0])),this._fixMax&&(r[1]=eT(r[1],i[1])),r},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=tu(n[0])/tu(r),n[1]=tu(n[1])/tu(r),Rq.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,a=r[1]-r[0];if(!(a===1/0||a<=0)){var i=ONt(a),o=n/a*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[ha(RPt(r[0]/i)*i),ha(NPt(r[1]/i)*i)];this._interval=i,this._niceExtent=s}},t.prototype.calcNiceExtent=function(n){Lx.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=tu(n)/tu(this.base),XN(n,this._extent)},t.prototype.normalize=function(n){return n=tu(n)/tu(this.base),qN(n,this._extent)},t.prototype.scale=function(n){return n=ZN(n,this._extent),Q2(this.base,n)},t.type="log",t}(lf),Tye=F5.prototype;Tye.getMinorTicks=Lx.getMinorTicks;Tye.getLabel=Lx.getLabel;function eT(e,t){return DPt(e,xc(t))}lf.registerClass(F5);var MPt=function(){function e(t,n,r){this._prepareParams(t,n,r)}return e.prototype._prepareParams=function(t,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var a=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var i=n.get("min",!0);i==null&&(i=n.get("startValue",!0));var o=this._modelMinRaw=i;Yt(o)?this._modelMinNum=tT(t,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=tT(t,o));var s=this._modelMaxRaw=n.get("max",!0);if(Yt(s)?this._modelMaxNum=tT(t,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=tT(t,s)),a)this._axisDataLen=n.getCategories().length;else{var l=n.get("boundaryGap"),u=st(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Bu(u[0],1),Bu(u[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,r=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,o=t?null:r-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?a?0:NaN:n-i[0]*o),l==null&&(l=t?a?a-1:NaN:r+i[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Bw(s)||Bw(l)||t&&!a;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(s=d,u=!0),h!=null&&(l=h,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},e.prototype.modifyDataMinMax=function(t,n){this[LPt[t]]=n},e.prototype.setDeterminedMinMax=function(t,n){var r=$Pt[t];this[r]=n},e.prototype.freeze=function(){this.frozen=!0},e}(),$Pt={min:"_determinedMin",max:"_determinedMax"},LPt={min:"_dataMin",max:"_dataMax"};function kye(e,t,n){var r=e.rawExtentInfo;return r||(r=new MPt(e,t,n),e.rawExtentInfo=r,r)}function tT(e,t){return t==null?null:Bw(t)?NaN:e.parse(t)}function Iye(e,t){var n=e.type,r=kye(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var a=r.min,i=r.max,o=t.ecModel;if(o&&n==="time"){var s=yye("bar",o),l=!1;if(X(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=bye(s),c=OPt(a,i,t,u);a=c.min,i=c.max}}return{extent:[a,i],fixMin:r.minFixed,fixMax:r.maxFixed}}function OPt(e,t,n,r){var a=n.axis.getExtent(),i=Math.abs(a[1]-a[0]),o=xPt(r,n.axis);if(o===void 0)return{min:e,max:t};var s=1/0;X(o,function(h){s=Math.min(h.offset,s)});var l=-1/0;X(o,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,f=1-(s+l)/i,d=c/f-c;return t+=d*(l/u),e-=d*(s/u),{min:e,max:t}}function Ry(e,t){var n=t,r=Iye(e,n),a=r.extent,i=n.get("splitNumber");e instanceof F5&&(e.base=n.get("logBase"));var o=e.type,s=n.get("interval"),l=o==="interval"||o==="time";e.setExtent(a[0],a[1]),e.calcNiceExtent({splitNumber:i,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),s!=null&&e.setInterval&&e.setInterval(s)}function QN(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new JN({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new P5({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(lf.getClass(t)||td)}}function PPt(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function A1(e){var t=e.getLabelModel().get("formatter"),n=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(r){return function(a,i){return e.scale.getFormattedLabel(a,i,r)}}(t):Dt(t)?function(r){return function(a){var i=e.scale.getLabel(a),o=r.replace("{value}",i??"");return o}}(t):Yt(t)?function(r){return function(a,i){return n!=null&&(i=a.value-n),r(B5(e,a),i,a.level!=null?{level:a.level}:null)}}(t):function(r){return e.scale.getLabel(r)}}function B5(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function FPt(e){var t=e.model,n=e.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var r,a,i=n.getExtent();n instanceof JN?a=n.count():(r=n.getTicks(),a=r.length);var o=e.getLabelModel(),s=A1(e),l,u=1;a>40&&(u=Math.ceil(a/40));for(var c=0;c<a;c+=u){var f=r?r[c]:{value:i[0]+c},d=s(f,c),h=o.getTextRect(d),p=BPt(h,o.get("rotate")||0);l?l.union(p):l=p}return l}}function BPt(e,t){var n=t*Math.PI/180,r=e.width,a=e.height,i=r*Math.abs(Math.cos(n))+Math.abs(a*Math.sin(n)),o=r*Math.abs(Math.sin(n))+Math.abs(a*Math.cos(n)),s=new xn(e.x,e.y,i,o);return s}function V5(e){var t=e.get("interval");return t??"auto"}function Eye(e){return e.type==="category"&&V5(e.getLabelModel())===0}function IE(e,t){var n={};return X(e.mapDimensionsAll(t),function(r){n[pye(e,r)]=!0}),Mn(n)}function VPt(e,t,n){t&&X(IE(t,n),function(r){var a=t.getApproximateExtent(r);a[0]<e[0]&&(e[0]=a[0]),a[1]>e[1]&&(e[1]=a[1])})}var bC=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),zPt=1e-8;function Mq(e,t){return Math.abs(e-t)<zPt}function hv(e,t,n){var r=0,a=e[0];if(!a)return!1;for(var i=1;i<e.length;i++){var o=e[i];r+=bf(a[0],a[1],o[0],o[1],t,n),a=o}var s=e[0];return(!Mq(a[0],s[0])||!Mq(a[1],s[1]))&&(r+=bf(a[0],a[1],s[0],s[1],t,n)),r!==0}var WPt=[];function $$(e,t){for(var n=0;n<e.length;n++)Wi(e[n],e[n],t)}function $q(e,t,n,r){for(var a=0;a<e.length;a++){var i=e[a];r&&(i=r.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(eh(t,t,i),th(n,n,i))}}function HPt(e){for(var t=0,n=0,r=0,a=e.length,i=e[a-1][0],o=e[a-1][1],s=0;s<a;s++){var l=e[s][0],u=e[s][1],c=i*u-l*o;t+=c,n+=(i+l)*c,r+=(o+u)*c,i=l,o=u}return t?[n/t/3,r/t/3,t]:[e[0][0]||0,e[0][1]||0]}var Aye=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),Lq=function(){function e(t,n){this.type="polygon",this.exterior=t,this.interiors=n}return e}(),Oq=function(){function e(t){this.type="linestring",this.points=t}return e}(),Dye=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this,n)||this;return i.type="geoJSON",i.geometries=r,i._center=a&&[a[0],a[1]],i}return t.prototype.calcCenter=function(){for(var n=this.geometries,r,a=0,i=0;i<n.length;i++){var o=n[i],s=o.exterior,l=s&&s.length;l>a&&(r=o,a=l)}if(r)return HPt(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(n){var r=this._rect;if(r&&!n)return r;var a=[1/0,1/0],i=[-1/0,-1/0],o=this.geometries;return X(o,function(s){s.type==="polygon"?$q(s.exterior,a,i,n):X(s.points,function(l){$q(l,a,i,n)})}),isFinite(a[0])&&isFinite(a[1])&&isFinite(i[0])&&isFinite(i[1])||(a[0]=a[1]=i[0]=i[1]=0),r=new xn(a[0],a[1],i[0]-a[0],i[1]-a[1]),n||(this._rect=r),r},t.prototype.contain=function(n){var r=this.getBoundingRect(),a=this.geometries;if(!r.contain(n[0],n[1]))return!1;e:for(var i=0,o=a.length;i<o;i++){var s=a[i];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(hv(l,n[0],n[1])){for(var c=0;c<(u?u.length:0);c++)if(hv(u[c],n[0],n[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(n,r,a,i){var o=this.getBoundingRect(),s=o.width/o.height;a?i||(i=a/s):a=s*i;for(var l=new xn(n,r,a,i),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?($$(d.exterior,u),X(d.interiors,function(h){$$(h,u)})):X(d.points,function(h){$$(h,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(n){n==null&&(n=this.name);var r=new t(n,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(Aye),UPt=function(e){Oe(t,e);function t(n,r){var a=e.call(this,n)||this;return a.type="geoSVG",a._elOnlyForCalculate=r,a}return t.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,r=n.getBoundingRect(),a=[r.x+r.width/2,r.y+r.height/2],i=CN(WPt),o=n;o&&!o.isGeoSVGGraphicRoot;)Pf(i,o.getLocalTransform(),i),o=o.parent;return m1(i,i),Wi(a,a,i),a},t}(Aye);function GPt(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;n==null&&(n=1024);var r=t.features;return X(r,function(a){var i=a.geometry,o=i.encodeOffsets,s=i.coordinates;if(o)switch(i.type){case"LineString":i.coordinates=Nye(s,o,n);break;case"Polygon":L$(s,o,n);break;case"MultiLineString":L$(s,o,n);break;case"MultiPolygon":X(s,function(l,u){return L$(l,o[u],n)})}}),t.UTF8Encoding=!1,t}function L$(e,t,n){for(var r=0;r<e.length;r++)e[r]=Nye(e[r],t[r],n)}function Nye(e,t,n){for(var r=[],a=t[0],i=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=a,l+=i,a=s,i=l,r.push([s/n,l/n])}return r}function KPt(e,t){return e=GPt(e),ut(sr(e.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var r=n.properties,a=n.geometry,i=[];switch(a.type){case"Polygon":var o=a.coordinates;i.push(new Lq(o[0],o.slice(1)));break;case"MultiPolygon":X(a.coordinates,function(l){l[0]&&i.push(new Lq(l[0],l.slice(1)))});break;case"LineString":i.push(new Oq([a.coordinates]));break;case"MultiLineString":i.push(new Oq(a.coordinates))}var s=new Dye(r[t||"name"],i,r.cp);return s.properties=r,s})}var t_=Vn();function Rye(e,t){var n=ut(t,function(r){return e.scale.parse(r)});return e.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function jPt(e){var t=e.getLabelModel().get("customValues");if(t){var n=A1(e),r=e.scale.getExtent(),a=Rye(e,t),i=sr(a,function(o){return o>=r[0]&&o<=r[1]});return{labels:ut(i,function(o){var s={value:o};return{formattedLabel:n(s),rawLabel:e.scale.getLabel(s),tickValue:o}})}}return e.type==="category"?XPt(e):ZPt(e)}function YPt(e,t){var n=e.getTickModel().get("customValues");if(n){var r=e.scale.getExtent(),a=Rye(e,n);return{ticks:sr(a,function(i){return i>=r[0]&&i<=r[1]})}}return e.type==="category"?qPt(e,t):{ticks:ut(e.scale.getTicks(),function(i){return i.value})}}function XPt(e){var t=e.getLabelModel(),n=Mye(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function Mye(e,t){var n=$ye(e,"labels"),r=V5(t),a=Lye(n,r);if(a)return a;var i,o;return Yt(r)?i=Fye(e,r):(o=r==="auto"?JPt(e):r,i=Pye(e,o)),Oye(n,r,{labels:i,labelCategoryInterval:o})}function qPt(e,t){var n=$ye(e,"ticks"),r=V5(t),a=Lye(n,r);if(a)return a;var i,o;if((!t.get("show")||e.scale.isBlank())&&(i=[]),Yt(r))i=Fye(e,r,!0);else if(r==="auto"){var s=Mye(e,e.getLabelModel());o=s.labelCategoryInterval,i=ut(s.labels,function(l){return l.tickValue})}else o=r,i=Pye(e,o,!0);return Oye(n,r,{ticks:i,tickCategoryInterval:o})}function ZPt(e){var t=e.scale.getTicks(),n=A1(e);return{labels:ut(t,function(r,a){return{level:r.level,formattedLabel:n(r,a),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}function $ye(e,t){return t_(e)[t]||(t_(e)[t]=[])}function Lye(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Oye(e,t,n){return e.push({key:t,value:n}),n}function JPt(e){var t=t_(e).autoInterval;return t??(t_(e).autoInterval=e.calculateCategoryInterval())}function QPt(e){var t=eFt(e),n=A1(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,a=e.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=i[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(r)),f=Math.abs(u*Math.sin(r)),d=0,h=0;l<=i[1];l+=s){var p=0,v=0,g=lC(n({value:l}),t.font,"center","top");p=g.width*1.3,v=g.height*1.3,d=Math.max(d,p,7),h=Math.max(h,v,7)}var m=d/c,y=h/f;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(m,y))),x=t_(e.model),_=e.getExtent(),S=x.lastAutoInterval,C=x.lastTickCount;return S!=null&&C!=null&&Math.abs(S-b)<=1&&Math.abs(C-o)<=1&&S>b&&x.axisExtent0===_[0]&&x.axisExtent1===_[1]?b=S:(x.lastTickCount=o,x.lastAutoInterval=b,x.axisExtent0=_[0],x.axisExtent1=_[1]),b}function eFt(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Pye(e,t,n){var r=A1(e),a=e.scale,i=a.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=i[0],c=a.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=Eye(e),d=o.get("showMinLabel")||f,h=o.get("showMaxLabel")||f;d&&u!==i[0]&&v(i[0]);for(var p=u;p<=i[1];p+=l)v(p);h&&p-l!==i[1]&&v(i[1]);function v(g){var m={value:g};s.push(n?g:{formattedLabel:r(m),rawLabel:a.getLabel(m),tickValue:g})}return s}function Fye(e,t,n){var r=e.scale,a=A1(e),i=[];return X(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;t(o.value,s)&&i.push(n?l:{formattedLabel:a(o),rawLabel:s,tickValue:l})}),i}var Pq=[0,1],ju=function(){function e(t,n,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=r||[0,0]}return e.prototype.contain=function(t){var n=this._extent,r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return t>=r&&t<=a},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return Vge(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,n){var r=this._extent;r[0]=t,r[1]=n},e.prototype.dataToCoord=function(t,n){var r=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type==="ordinal"&&(r=r.slice(),Fq(r,a.count())),cr(t,Pq,r,n)},e.prototype.coordToData=function(t,n){var r=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(r=r.slice(),Fq(r,a.count()));var i=cr(t,r,Pq,n);return this.scale.scale(i)},e.prototype.pointToData=function(t,n){},e.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),r=YPt(this,n),a=r.ticks,i=ut(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=n.get("alignWithLabel");return tFt(this,i,o,t.clamp),i},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),a=ut(r,function(i){return ut(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},e.prototype.getViewLabels=function(){return jPt(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/r},e.prototype.calculateCategoryInterval=function(){return QPt(this)},e}();function Fq(e,t){var n=e[1]-e[0],r=t,a=n/r/2;e[0]+=a,e[1]-=a}function tFt(e,t,n,r){var a=t.length;if(!e.onBand||n||!a)return;var i=e.getExtent(),o,s;if(a===1)t[0].coord=i[0],o=t[1]={coord:i[1],tickValue:t[0].tickValue};else{var l=t[a-1].tickValue-t[0].tickValue,u=(t[a-1].coord-t[0].coord)/l;X(t,function(h){h.coord-=u/2});var c=e.scale.getExtent();s=1+c[1]-t[a-1].tickValue,o={coord:t[a-1].coord+u*s,tickValue:c[1]+1},t.push(o)}var f=i[0]>i[1];d(t[0].coord,i[0])&&(r?t[0].coord=i[0]:t.shift()),r&&d(i[0],t[0].coord)&&t.unshift({coord:i[0]}),d(i[1],o.coord)&&(r?o.coord=i[1]:t.pop()),r&&d(o.coord,i[1])&&t.push({coord:i[1]});function d(h,p){return h=ha(h),p=ha(p),f?h>p:h<p}}var db=Math.PI*2,Yp=Yc.CMD,nFt=["top","right","bottom","left"];function rFt(e,t,n,r,a){var i=n.width,o=n.height;switch(e){case"top":r.set(n.x+i/2,n.y-t),a.set(0,-1);break;case"bottom":r.set(n.x+i/2,n.y+o+t),a.set(0,1);break;case"left":r.set(n.x-t,n.y+o/2),a.set(-1,0);break;case"right":r.set(n.x+i+t,n.y+o/2),a.set(1,0);break}}function aFt(e,t,n,r,a,i,o,s,l){o-=e,s-=t;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*n+e,f=s*n+t;if(Math.abs(r-a)%db<1e-4)return l[0]=c,l[1]=f,u-n;if(i){var d=r;r=Vs(a),a=Vs(d)}else r=Vs(r),a=Vs(a);r>a&&(a+=db);var h=Math.atan2(s,o);if(h<0&&(h+=db),h>=r&&h<=a||h+db>=r&&h+db<=a)return l[0]=c,l[1]=f,u-n;var p=n*Math.cos(r)+e,v=n*Math.sin(r)+t,g=n*Math.cos(a)+e,m=n*Math.sin(a)+t,y=(p-o)*(p-o)+(v-s)*(v-s),b=(g-o)*(g-o)+(m-s)*(m-s);return y<b?(l[0]=p,l[1]=v,Math.sqrt(y)):(l[0]=g,l[1]=m,Math.sqrt(b))}function EE(e,t,n,r,a,i,o,s){var l=a-e,u=i-t,c=n-e,f=r-t,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,p=h/d;s&&(p=Math.min(Math.max(p,0),1)),p*=d;var v=o[0]=e+p*c,g=o[1]=t+p*f;return Math.sqrt((v-a)*(v-a)+(g-i)*(g-i))}function Bye(e,t,n,r,a,i,o){n<0&&(e=e+n,n=-n),r<0&&(t=t+r,r=-r);var s=e+n,l=t+r,u=o[0]=Math.min(Math.max(a,e),s),c=o[1]=Math.min(Math.max(i,t),l);return Math.sqrt((u-a)*(u-a)+(c-i)*(c-i))}var lu=[];function iFt(e,t,n){var r=Bye(t.x,t.y,t.width,t.height,e.x,e.y,lu);return n.set(lu[0],lu[1]),r}function oFt(e,t,n){for(var r=0,a=0,i=0,o=0,s,l,u=1/0,c=t.data,f=e.x,d=e.y,h=0;h<c.length;){var p=c[h++];h===1&&(r=c[h],a=c[h+1],i=r,o=a);var v=u;switch(p){case Yp.M:i=c[h++],o=c[h++],r=i,a=o;break;case Yp.L:v=EE(r,a,c[h],c[h+1],f,d,lu,!0),r=c[h++],a=c[h++];break;case Yp.C:v=_ge(r,a,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,lu),r=c[h++],a=c[h++];break;case Yp.Q:v=Cge(r,a,c[h++],c[h++],c[h],c[h+1],f,d,lu),r=c[h++],a=c[h++];break;case Yp.A:var g=c[h++],m=c[h++],y=c[h++],b=c[h++],x=c[h++],_=c[h++];h+=1;var S=!!(1-c[h++]);s=Math.cos(x)*y+g,l=Math.sin(x)*b+m,h<=1&&(i=s,o=l);var C=(f-g)*b/y+g;v=aFt(g,m,b,x,x+_,S,C,d,lu),r=Math.cos(x+_)*y+g,a=Math.sin(x+_)*b+m;break;case Yp.R:i=r=c[h++],o=a=c[h++];var k=c[h++],T=c[h++];v=Bye(i,o,k,T,f,d,lu);break;case Yp.Z:v=EE(r,a,i,o,f,d,lu,!0),r=i,a=o;break}v<u&&(u=v,n.set(lu[0],lu[1]))}return u}var wu=new bn,Pr=new bn,va=new bn,Sc=new bn,mc=new bn;function Bq(e,t){if(e){var n=e.getTextGuideLine(),r=e.getTextContent();if(r&&n){var a=e.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],o=a.candidates||nFt,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=a.anchor,c=e.getComputedTransform(),f=c&&m1([],c),d=t.get("length2")||0;u&&va.copy(u);for(var h=0;h<o.length;h++){var p=o[h];rFt(p,0,s,wu,Sc),bn.scaleAndAdd(Pr,wu,Sc,d),Pr.transform(f);var v=e.getBoundingRect(),g=u?u.distance(Pr):e instanceof An?oFt(Pr,e.path,va):iFt(Pr,v,va);g<l&&(l=g,Pr.transform(c),va.transform(c),va.toArray(i[0]),Pr.toArray(i[1]),wu.toArray(i[2]))}Vye(i,t.get("minTurnAngle")),n.setShape({points:i})}}}var AE=[],Fo=new bn;function Vye(e,t){if(t<=180&&t>0){t=t/180*Math.PI,wu.fromArray(e[0]),Pr.fromArray(e[1]),va.fromArray(e[2]),bn.sub(Sc,wu,Pr),bn.sub(mc,va,Pr);var n=Sc.len(),r=mc.len();if(!(n<.001||r<.001)){Sc.scale(1/n),mc.scale(1/r);var a=Sc.dot(mc),i=Math.cos(t);if(i<a){var o=EE(Pr.x,Pr.y,va.x,va.y,wu.x,wu.y,AE,!1);Fo.fromArray(AE),Fo.scaleAndAdd(mc,o/Math.tan(Math.PI-t));var s=va.x!==Pr.x?(Fo.x-Pr.x)/(va.x-Pr.x):(Fo.y-Pr.y)/(va.y-Pr.y);if(isNaN(s))return;s<0?bn.copy(Fo,Pr):s>1&&bn.copy(Fo,va),Fo.toArray(e[1])}}}}function sFt(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,wu.fromArray(e[0]),Pr.fromArray(e[1]),va.fromArray(e[2]),bn.sub(Sc,Pr,wu),bn.sub(mc,va,Pr);var r=Sc.len(),a=mc.len();if(!(r<.001||a<.001)){Sc.scale(1/r),mc.scale(1/a);var i=Sc.dot(t),o=Math.cos(n);if(i<o){var s=EE(Pr.x,Pr.y,va.x,va.y,wu.x,wu.y,AE,!1);Fo.fromArray(AE);var l=Math.PI/2,u=Math.acos(mc.dot(t)),c=l+u-n;if(c>=l)bn.copy(Fo,va);else{Fo.scaleAndAdd(mc,s/Math.tan(Math.PI/2-c));var f=va.x!==Pr.x?(Fo.x-Pr.x)/(va.x-Pr.x):(Fo.y-Pr.y)/(va.y-Pr.y);if(isNaN(f))return;f<0?bn.copy(Fo,Pr):f>1&&bn.copy(Fo,va)}Fo.toArray(e[1])}}}}function O$(e,t,n,r){var a=n==="normal",i=a?e:e.ensureState(n);i.ignore=t;var o=r.get("smooth");o&&o===!0&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();a?e.useStyle(s):i.style=s}function lFt(e,t){var n=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var a=Qd(r[0],r[1]),i=Qd(r[1],r[2]);if(!a||!i){e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]);return}var o=Math.min(a,i)*n,s=gk([],r[1],r[0],o/a),l=gk([],r[1],r[2],o/i),u=gk([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function z5(e,t,n){var r=e.getTextGuideLine(),a=e.getTextContent();if(!a){r&&e.removeTextGuideLine();return}for(var i=t.normal,o=i.get("show"),s=a.ignore,l=0;l<Kw.length;l++){var u=Kw[l],c=t[u],f=u==="normal";if(c){var d=c.get("show"),h=f?s:fn(a.states[u]&&a.states[u].ignore,s);if(h||!fn(d,o)){var p=f?r:r&&r.states[u];p&&(p.ignore=!0),r&&O$(r,!0,u,c);continue}r||(r=new cs,e.setTextGuideLine(r),!f&&(s||!o)&&O$(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),O$(r,!1,u,c)}}if(r){Xt(r.style,n),r.style.fill=null;var v=i.get("showAbove"),g=e.textGuideLineConfig=e.textGuideLineConfig||{};g.showAbove=v||!1,r.buildPath=lFt}}function W5(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},r=0;r<os.length;r++){var a=os[r];n[a]=e.getModel([a,t])}return n}function zye(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var a=r.label,i=a.getComputedTransform(),o=a.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,l=a.style.margin||0,u=o.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new hE(o,i):null;t.push({label:a,labelLine:r.labelLine,rect:u,localRect:o,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:i})}}return t}function Wye(e,t,n,r,a,i){var o=e.length;if(o<2)return;e.sort(function(S,C){return S.rect[t]-C.rect[t]});for(var s=0,l,u=!1,c=0;c<o;c++){var f=e[c],d=f.rect;l=d[t]-s,l<0&&(d[t]-=l,f.label[t]-=l,u=!0),s=d[t]+d[n]}var h=e[0],p=e[o-1],v,g;m(),v<0&&x(-v,.8),g<0&&x(g,.8),m(),y(v,g,1),y(g,v,-1),m(),v<0&&_(-v),g<0&&_(g);function m(){v=h.rect[t]-r,g=a-p.rect[t]-p.rect[n]}function y(S,C,k){if(S<0){var T=Math.min(C,-S);if(T>0){b(T*k,0,o);var E=T+S;E<0&&x(-E*k,1)}else x(-S*k,1)}}function b(S,C,k){S!==0&&(u=!0);for(var T=C;T<k;T++){var E=e[T],I=E.rect;I[t]+=S,E.label[t]+=S}}function x(S,C){for(var k=[],T=0,E=1;E<o;E++){var I=e[E-1].rect,A=Math.max(e[E].rect[t]-I[t]-I[n],0);k.push(A),T+=A}if(T){var N=Math.min(Math.abs(S)/T,C);if(S>0)for(var E=0;E<o-1;E++){var L=k[E]*N;b(L,0,E+1)}else for(var E=o-1;E>0;E--){var L=k[E-1]*N;b(-L,E,o)}}}function _(S){var C=S<0?-1:1;S=Math.abs(S);for(var k=Math.ceil(S/(o-1)),T=0;T<o-1;T++)if(C>0?b(k,0,T+1):b(-k,o-T-1,o),S-=k,S<=0)return}return u}function uFt(e,t,n,r){return Wye(e,"x","width",t,n)}function Hye(e,t,n,r){return Wye(e,"y","height",t,n)}function Uye(e){var t=[];e.sort(function(v,g){return g.priority-v.priority});var n=new xn(0,0,0,0);function r(v){if(!v.ignore){var g=v.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}v.ignore=!0}for(var a=0;a<e.length;a++){var i=e[a],o=i.axisAligned,s=i.localRect,l=i.transform,u=i.label,c=i.labelLine;n.copy(i.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=i.obb,d=!1,h=0;h<t.length;h++){var p=t[h];if(n.intersect(p.rect)){if(o&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new hE(p.localRect,p.transform)),f||(f=new hE(s,l)),f.intersect(p.obb)){d=!0;break}}}d?(r(u),c&&r(c)):(u.attr("ignore",i.defaultAttr.ignore),c&&c.attr("ignore",i.defaultAttr.labelGuideIgnore),t.push(i))}}function cFt(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function fFt(e,t){var n=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:cFt(r&&r.shape.points)}}var Vq=["align","verticalAlign","width","height","fontSize"],Do=new Nf,P$=Vn(),dFt=Vn();function nT(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];t[a]!=null&&(e[a]=t[a])}}var rT=["x","y","rotation"],hFt=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,n,r,a,i){var o=a.style,s=a.__hostTarget,l=s.textConfig||{},u=a.getComputedTransform(),c=a.getBoundingRect().plain();xn.applyTransform(c,c,u),u?Do.setLocalTransform(u):(Do.x=Do.y=Do.rotation=Do.originX=Do.originY=0,Do.scaleX=Do.scaleY=1),Do.rotation=Vs(Do.rotation);var f=a.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();xn.applyTransform(d,d,h)}var p=d&&f.getTextGuideLine();this._labelList.push({label:a,labelLine:p,seriesModel:r,dataIndex:t,dataType:n,layoutOption:i,computedLayoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:p&&p.ignore,x:Do.x,y:Do.y,scaleX:Do.scaleX,scaleY:Do.scaleY,rotation:Do.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:a.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var n=this;this._chartViewList.push(t);var r=t.__model,a=r.get("labelLayout");(Yt(a)||Mn(a).length)&&t.group.traverse(function(i){if(i.ignore)return!0;var o=i.getTextContent(),s=sn(i);o&&!o.disableLabelLayout&&n._addLabel(s.dataIndex,s.dataType,r,o,a)})},e.prototype.updateLayoutConfig=function(t){var n=t.getWidth(),r=t.getHeight();function a(b,x){return function(){Bq(b,x)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;Yt(o.layoutOption)?c=o.layoutOption(fFt(o,l)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=St(c.x,n),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=St(c.y,r),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var p=P$(s);p.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var v=0;v<Vq.length;v++){var g=Vq[v];s.setStyle(g,c[g]!=null?c[g]:u.style[g])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var m=o.seriesModel;if(o.dataIndex!=null){var y=o.seriesModel.getData(o.dataType);m=y.getItemModel(o.dataIndex)}s.on("drag",a(l,m.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},e.prototype.layout=function(t){var n=t.getWidth(),r=t.getHeight(),a=zye(this._labelList),i=sr(a,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=sr(a,function(l){return l.layoutOption.moveOverlap==="shiftY"});uFt(i,0,n),Hye(o,0,r);var s=sr(a,function(l){return l.layoutOption.hideOverlap});Uye(s)},e.prototype.processLabelsOverall=function(){var t=this;X(this._chartViewList,function(n){var r=n.__model,a=n.ignoreLabelLineUpdate,i=r.isAnimationEnabled();n.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!a,l=o.getTextContent();!s&&l&&(s=P$(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,r),i&&t._animateLabels(o,r)})})},e.prototype._updateLabelLine=function(t,n){var r=t.getTextContent(),a=sn(t),i=a.dataIndex;if(r&&i!=null){var o=n.getData(a.dataType),s=o.getItemModel(i),l={},u=o.getItemVisual(i,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");z5(t,W5(s),l),Bq(t,f)}},e.prototype._animateLabels=function(t,n){var r=t.getTextContent(),a=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!Vm(t))){var i=P$(r),o=i.oldLayout,s=sn(t),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=n.getData(s.dataType);if(o){r.attr(o);var d=t.prevStates;d&&(Cn(d,"select")>=0&&r.attr(i.oldLayoutSelect),Cn(d,"emphasis")>=0&&r.attr(i.oldLayoutEmphasis)),Jn(r,u,n,l)}else if(r.attr(u),!w1(r).valueAnimation){var f=fn(r.style.opacity,1);r.style.opacity=0,Xr(r,{style:{opacity:f}},n,l)}if(i.oldLayout=u,r.states.select){var h=i.oldLayoutSelect={};nT(h,u,rT),nT(h,r.states.select,rT)}if(r.states.emphasis){var p=i.oldLayoutEmphasis={};nT(p,u,rT),nT(p,r.states.emphasis,rT)}L0e(r,l,c,n,n)}if(a&&!a.ignore&&!a.invisible){var i=dFt(a),o=i.oldLayout,v={points:a.shape.points};o?(a.attr({shape:o}),Jn(a,{shape:v},n)):(a.setShape(v),a.style.strokePercent=0,Xr(a,{style:{strokePercent:1}},n)),i.oldLayout=v}},e}(),F$=Vn();function pFt(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,n,r){var a=F$(n).labelManager;a||(a=F$(n).labelManager=new hFt),a.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,n,r){var a=F$(n).labelManager;r.updatedSeries.forEach(function(i){a.addLabelsOfSeries(n.getViewOfSeriesModel(i))}),a.updateLayoutConfig(n),a.layout(n),a.processLabelsOverall()})}var B$=Math.sin,V$=Math.cos,Gye=Math.PI,Xp=Math.PI*2,vFt=180/Gye,Kye=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,n){this._add("M",t,n)},e.prototype.lineTo=function(t,n){this._add("L",t,n)},e.prototype.bezierCurveTo=function(t,n,r,a,i,o){this._add("C",t,n,r,a,i,o)},e.prototype.quadraticCurveTo=function(t,n,r,a){this._add("Q",t,n,r,a)},e.prototype.arc=function(t,n,r,a,i,o){this.ellipse(t,n,r,r,0,a,i,o)},e.prototype.ellipse=function(t,n,r,a,i,o,s,l){var u=s-o,c=!l,f=Math.abs(u),d=ah(f-Xp)||(c?u>=Xp:-u>=Xp),h=u>0?u%Xp:u%Xp+Xp,p=!1;d?p=!0:ah(f)?p=!1:p=h>=Gye==!!c;var v=t+r*V$(o),g=n+a*B$(o);this._start&&this._add("M",v,g);var m=Math.round(i*vFt);if(d){var y=1/this._p,b=(c?1:-1)*(Xp-y);this._add("A",r,a,m,1,+c,t+r*V$(o+b),n+a*B$(o+b)),y>.01&&this._add("A",r,a,m,0,+c,v,g)}else{var x=t+r*V$(s),_=n+a*B$(s);this._add("A",r,a,m,+p,+c,x,_)}},e.prototype.rect=function(t,n,r,a){this._add("M",t,n),this._add("l",r,0),this._add("l",0,a),this._add("l",-r,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,n,r,a,i,o,s,l,u){for(var c=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}c.push(Math.round(h*f)/f)}this._d.push(t+c.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),H5="none",gFt=Math.round;function mFt(e){var t=e.fill;return t!=null&&t!==H5}function yFt(e){var t=e.stroke;return t!=null&&t!==H5}var k3=["lineCap","miterLimit","lineJoin"],bFt=ut(k3,function(e){return"stroke-"+e.toLowerCase()});function xFt(e,t,n,r){var a=t.opacity==null?1:t.opacity;if(n instanceof Ri){e("opacity",a);return}if(mFt(t)){var i=Hw(t.fill);e("fill",i.color);var o=t.fillOpacity!=null?t.fillOpacity*i.opacity*a:i.opacity*a;o<1&&e("fill-opacity",o)}else e("fill",H5);if(yFt(t)){var s=Hw(t.stroke);e("stroke",s.color);var l=t.strokeNoScale?n.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*a:s.opacity*a,f=t.strokeFirst;if(u!==1&&e("stroke-width",u),f&&e("paint-order",f?"stroke":"fill"),c<1&&e("stroke-opacity",c),t.lineDash){var d=D5(n),h=d[0],p=d[1];h&&(p=gFt(p||0),e("stroke-dasharray",h.join(",")),(p||r)&&e("stroke-dashoffset",p))}for(var v=0;v<k3.length;v++){var g=k3[v];if(t[g]!==fE[g]){var m=t[g]||fE[g];m&&e(bFt[v],m)}}}}var jye="http://www.w3.org/2000/svg",Yye="http://www.w3.org/1999/xlink",wFt="http://www.w3.org/2000/xmlns/",_Ft="http://www.w3.org/XML/1998/namespace",zq="ecmeta_";function Xye(e){return document.createElementNS(jye,e)}function oi(e,t,n,r,a){return{tag:e,attrs:n||{},children:r,text:a,key:t}}function SFt(e,t){var n=[];if(t)for(var r in t){var a=t[r],i=r;a!==!1&&(a!==!0&&a!=null&&(i+='="'+a+'"'),n.push(i))}return"<"+e+" "+n.join(" ")+">"}function CFt(e){return"</"+e+">"}function U5(e,t){t=t||{};var n=t.newline?`
`:"";function r(a){var i=a.children,o=a.tag,s=a.attrs,l=a.text;return SFt(o,s)+(o!=="style"?Uo(l):l||"")+(i?""+n+ut(i,function(u){return r(u)}).join(n)+n:"")+CFt(o)}return r(e)}function TFt(e,t,n){n=n||{};var r=n.newline?`
`:"",a=" {"+r,i=r+"}",o=ut(Mn(e),function(l){return l+a+ut(Mn(e[l]),function(u){return u+":"+e[l][u]+";"}).join(r)+i}).join(r),s=ut(Mn(t),function(l){return"@keyframes "+l+a+ut(Mn(t[l]),function(u){return u+a+ut(Mn(t[l][u]),function(c){var f=t[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(r)+i}).join(r)+i}).join(r);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(r)}function I3(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Wq(e,t,n,r){return oi("svg","root",{width:e,height:t,xmlns:jye,"xmlns:xlink":Yye,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+e+" "+t:!1},n)}var kFt=0;function qye(){return kFt++}var Hq={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},ev="transform-origin";function IFt(e,t,n){var r=rt({},e.shape);rt(r,t),e.buildPath(n,r);var a=new Kye;return a.reset(Nge(e)),n.rebuildPath(a,1),a.generateStr(),a.getStr()}function EFt(e,t){var n=t.originX,r=t.originY;(n||r)&&(e[ev]=n+"px "+r+"px")}var AFt={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Zye(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function DFt(e,t,n){var r=e.shape.paths,a={},i,o;if(X(r,function(l){var u=I3(n.zrId);u.animation=!0,eR(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,d=Mn(c),h=d.length;if(h){o=d[h-1];var p=c[o];for(var v in p){var g=p[v];a[v]=a[v]||{d:""},a[v].d+=g.d||""}for(var m in f){var y=f[m].animation;y.indexOf(o)>=0&&(i=y)}}}),!!i){t.d=!1;var s=Zye(a,n);return i.replace(o,s)}}function Uq(e){return Dt(e)?Hq[e]?"cubic-bezier("+Hq[e]+")":X6(e)?e:"":""}function eR(e,t,n,r){var a=e.animators,i=a.length,o=[];if(e instanceof c5){var s=DFt(e,t,n);if(s)o.push(s);else if(!i)return}else if(!i)return;for(var l={},u=0;u<i;u++){var c=a[u],f=[c.getMaxTime()/1e3+"s"],d=Uq(c.getClip().easing),h=c.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),c.getLoop()&&f.push("infinite");var p=f.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function v(y){var b=y[1],x=b.length,_={},S={},C={},k="animation-timing-function";function T(oe,ae,me){for(var ve=oe.getTracks(),B=oe.getMaxTime(),re=0;re<ve.length;re++){var ge=ve[re];if(ge.needsAnimate()){var Ie=ge.keyframes,Ce=ge.propName;if(me&&(Ce=me(Ce)),Ce)for(var he=0;he<Ie.length;he++){var J=Ie[he],te=Math.round(J.time/B*100)+"%",xe=Uq(J.easing),Ee=J.rawValue;(Dt(Ee)||Kn(Ee))&&(ae[te]=ae[te]||{},ae[te][Ce]=J.rawValue,xe&&(ae[te][k]=xe))}}}}for(var E=0;E<x;E++){var I=b[E],A=I.targetName;A?A==="shape"&&T(I,S):!r&&T(I,_)}for(var N in _){var L={};Oge(L,e),rt(L,_[N]);var R=Rge(L),D=_[N][k];C[N]=R?{transform:R}:{},EFt(C[N],L),D&&(C[N][k]=D)}var P,O=!0;for(var N in S){C[N]=C[N]||{};var M=!P,D=S[N][k];M&&(P=new Yc);var W=P.len();P.reset(),C[N].d=IFt(e,S[N],P);var U=P.len();if(!M&&W!==U){O=!1;break}D&&(C[N][k]=D)}if(!O)for(var N in C)delete C[N].d;if(!r)for(var E=0;E<x;E++){var I=b[E],A=I.targetName;A==="style"&&T(I,C,function(ve){return AFt[ve]})}for(var V=Mn(C),H=!0,K,E=1;E<V.length;E++){var j=V[E-1],ne=V[E];if(C[j][ev]!==C[ne][ev]){H=!1;break}K=C[j][ev]}if(H&&K){for(var N in C)C[N][ev]&&delete C[N][ev];t[ev]=K}if(sr(V,function(oe){return Mn(C[oe]).length>0}).length){var Q=Zye(C,n);return Q+" "+y[0]+" both"}}for(var g in l){var s=v(l[g]);s&&o.push(s)}if(o.length){var m=n.zrId+"-cls-"+qye();n.cssNodes["."+m]={animation:o.join(",")},t.class=m}}function NFt(e,t,n){if(!e.ignore)if(e.isSilent()){var r={"pointer-events":"none"};Gq(r,t,n)}else{var a=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},i=a.fill;if(!i){var o=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&s||o;l&&(i=BF(l))}var u=a.lineWidth;if(u){var c=!a.strokeNoScale&&e.transform?e.transform[0]:1;u=u/c}var r={cursor:"pointer"};i&&(r.fill=i),a.stroke&&(r.stroke=a.stroke),u&&(r["stroke-width"]=u),Gq(r,t,n)}}function Gq(e,t,n,r){var a=JSON.stringify(e),i=n.cssStyleCache[a];i||(i=n.zrId+"-cls-"+qye(),n.cssStyleCache[a]=i,n.cssNodes["."+i+":hover"]=e),t.class=t.class?t.class+" "+i:i}var n_=Math.round;function Jye(e){return e&&Dt(e.src)}function Qye(e){return e&&Yt(e.toDataURL)}function G5(e,t,n,r){xFt(function(a,i){var o=a==="fill"||a==="stroke";o&&Dge(i)?t1e(t,e,a,r):o&&q6(i)?n1e(n,e,a,r):e[a]=i,o&&r.ssr&&i==="none"&&(e["pointer-events"]="visible")},t,n,!1),FFt(n,e,r)}function K5(e,t){var n=ANt(t);n&&(n.each(function(r,a){r!=null&&(e[(zq+a).toLowerCase()]=r+"")}),t.isSilent()&&(e[zq+"silent"]="true"))}function Kq(e){return ah(e[0]-1)&&ah(e[1])&&ah(e[2])&&ah(e[3]-1)}function RFt(e){return ah(e[4])&&ah(e[5])}function j5(e,t,n){if(t&&!(RFt(t)&&Kq(t))){var r=1e4;e.transform=Kq(t)?"translate("+n_(t[4]*r)/r+" "+n_(t[5]*r)/r+")":JDt(t)}}function jq(e,t,n){for(var r=e.points,a=[],i=0;i<r.length;i++)a.push(n_(r[i][0]*n)/n),a.push(n_(r[i][1]*n)/n);t.points=a.join(" ")}function Yq(e){return!e.smooth}function MFt(e){var t=ut(e,function(n){return typeof n=="string"?[n,n]:n});return function(n,r,a){for(var i=0;i<t.length;i++){var o=t[i],s=n[o[0]];s!=null&&(r[o[1]]=n_(s*a)/a)}}}var $Ft={circle:[MFt(["cx","cy","r"])],polyline:[jq,Yq],polygon:[jq,Yq]};function LFt(e){for(var t=e.animators,n=0;n<t.length;n++)if(t[n].targetName==="shape")return!0;return!1}function e1e(e,t){var n=e.style,r=e.shape,a=$Ft[e.type],i={},o=t.animation,s="path",l=e.style.strokePercent,u=t.compress&&Nge(e)||4;if(a&&!t.willUpdate&&!(a[1]&&!a[1](r))&&!(o&&LFt(e))&&!(l<1)){s=e.type;var c=Math.pow(10,u);a[0](r,i,c)}else{var f=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;f&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var h=d.getVersion(),p=e,v=p.__svgPathBuilder;(p.__svgPathVersion!==h||!v||l!==p.__svgPathStrokePercent)&&(v||(v=p.__svgPathBuilder=new Kye),v.reset(u),d.rebuildPath(v,l),v.generateStr(),p.__svgPathVersion=h,p.__svgPathStrokePercent=l),i.d=v.getStr()}return j5(i,e.transform),G5(i,n,e,t),K5(i,e),t.animation&&eR(e,i,t),t.emphasis&&NFt(e,i,t),oi(s,e.id+"",i)}function OFt(e,t){var n=e.style,r=n.image;if(r&&!Dt(r)&&(Jye(r)?r=r.src:Qye(r)&&(r=r.toDataURL())),!!r){var a=n.x||0,i=n.y||0,o=n.width,s=n.height,l={href:r,width:o,height:s};return a&&(l.x=a),i&&(l.y=i),j5(l,e.transform),G5(l,n,e,t),K5(l,e),t.animation&&eR(e,l,t),oi("image",e.id+"",l)}}function PFt(e,t){var n=e.style,r=n.text;if(r!=null&&(r+=""),!(!r||isNaN(n.x)||isNaN(n.y))){var a=n.font||Vh,i=n.x||0,o=eNt(n.y||0,kN(a),n.textBaseline),s=QDt[n.textAlign]||n.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(l0e(n)){var u="",c=n.fontStyle,f=s0e(n.fontSize);if(!parseFloat(f))return;var d=n.fontFamily||sge,h=n.fontWeight;u+="font-size:"+f+";font-family:"+d+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),h&&h!=="normal"&&(u+="font-weight:"+h+";"),l.style=u}else l.style="font: "+a;return r.match(/\s/)&&(l["xml:space"]="preserve"),i&&(l.x=i),o&&(l.y=o),j5(l,e.transform),G5(l,n,e,t),K5(l,e),t.animation&&eR(e,l,t),oi("text",e.id+"",l,void 0,r)}}function Xq(e,t){if(e instanceof An)return e1e(e,t);if(e instanceof Ri)return OFt(e,t);if(e instanceof Ey)return PFt(e,t)}function FFt(e,t,n){var r=e.style;if(tNt(r)){var a=nNt(e),i=n.shadowCache,o=i[a];if(!o){var s=e.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,f=r.shadowOffsetY||0,d=r.shadowBlur,h=Hw(r.shadowColor),p=h.opacity,v=h.color,g=d/2/l,m=d/2/u,y=g+" "+m;o=n.zrId+"-s"+n.shadowIdx++,n.defs[o]=oi("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[oi("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:y,"flood-color":v,"flood-opacity":p})]),i[a]=o}t.filter=TN(o)}}function t1e(e,t,n,r){var a=e[n],i,o={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Ege(a))i="linearGradient",o.x1=a.x,o.y1=a.y,o.x2=a.x2,o.y2=a.y2;else if(Age(a))i="radialGradient",o.cx=fn(a.x,.5),o.cy=fn(a.y,.5),o.r=fn(a.r,.5);else return;for(var s=a.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=VF(s[u].offset)*100+"%",d=s[u].color,h=Hw(d),p=h.color,v=h.opacity,g={offset:f};g["stop-color"]=p,v<1&&(g["stop-opacity"]=v),l.push(oi("stop",u+"",g))}var m=oi(i,"",o,l),y=U5(m),b=r.gradientCache,x=b[y];x||(x=r.zrId+"-g"+r.gradientIdx++,b[y]=x,o.id=x,r.defs[x]=oi(i,x,o,l)),t[n]=TN(x)}function n1e(e,t,n,r){var a=e.style[n],i=e.getBoundingRect(),o={},s=a.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(Ige(a)){var d=a.imageWidth,h=a.imageHeight,p=void 0,v=a.image;if(Dt(v)?p=v:Jye(v)?p=v.src:Qye(v)&&(p=v.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";is(d,g),is(h,g)}else if(d==null||h==null){var m=function(E,I){if(E){var A=E.elm,N=d||I.width,L=h||I.height;E.tag==="pattern"&&(u?(L=1,N/=i.width):c&&(N=1,L/=i.height)),E.attrs.width=N,E.attrs.height=L,A&&(A.setAttribute("width",N),A.setAttribute("height",L))}},y=n5(p,null,e,function(E){l||m(S,E),m(f,E)});y&&y.width&&y.height&&(d=d||y.width,h=h||y.height)}f=oi("image","img",{href:p,width:d,height:h}),o.width=d,o.height=h}else a.svgElement&&(f=en(a.svgElement),o.width=a.svgWidth,o.height=a.svgHeight);if(f){var b,x;l?b=x=1:u?(x=1,b=o.width/i.width):c?(b=1,x=o.height/i.height):o.patternUnits="userSpaceOnUse",b!=null&&!isNaN(b)&&(o.width=b),x!=null&&!isNaN(x)&&(o.height=x);var _=Rge(a);_&&(o.patternTransform=_);var S=oi("pattern","",o,[f]),C=U5(S),k=r.patternCache,T=k[C];T||(T=r.zrId+"-p"+r.patternIdx++,k[C]=T,o.id=T,S=r.defs[T]=oi("pattern",T,o,[f])),t[n]=TN(T)}}function BFt(e,t,n){var r=n.clipPathCache,a=n.defs,i=r[e.id];if(!i){i=n.zrId+"-c"+n.clipPathIdx++;var o={id:i};r[e.id]=i,a[i]=oi("clipPath",i,o,[e1e(e,n)])}t["clip-path"]=TN(i)}function qq(e){return document.createTextNode(e)}function pv(e,t,n){e.insertBefore(t,n)}function Zq(e,t){e.removeChild(t)}function Jq(e,t){e.appendChild(t)}function r1e(e){return e.parentNode}function a1e(e){return e.nextSibling}function z$(e,t){e.textContent=t}var Qq=58,VFt=120,zFt=oi("","");function E3(e){return e===void 0}function cc(e){return e!==void 0}function WFt(e,t,n){for(var r={},a=t;a<=n;++a){var i=e[a].key;i!==void 0&&(r[i]=a)}return r}function Ub(e,t){var n=e.key===t.key,r=e.tag===t.tag;return r&&n}function r_(e){var t,n=e.children,r=e.tag;if(cc(r)){var a=e.elm=Xye(r);if(Y5(zFt,e),st(n))for(t=0;t<n.length;++t){var i=n[t];i!=null&&Jq(a,r_(i))}else cc(e.text)&&!Jt(e.text)&&Jq(a,qq(e.text))}else e.elm=qq(e.text);return e.elm}function i1e(e,t,n,r,a){for(;r<=a;++r){var i=n[r];i!=null&&pv(e,r_(i),t)}}function DE(e,t,n,r){for(;n<=r;++n){var a=t[n];if(a!=null)if(cc(a.tag)){var i=r1e(a.elm);Zq(i,a.elm)}else Zq(e,a.elm)}}function Y5(e,t){var n,r=t.elm,a=e&&e.attrs||{},i=t.attrs||{};if(a!==i){for(n in i){var o=i[n],s=a[n];s!==o&&(o===!0?r.setAttribute(n,""):o===!1?r.removeAttribute(n):n==="style"?r.style.cssText=o:n.charCodeAt(0)!==VFt?r.setAttribute(n,o):n==="xmlns:xlink"||n==="xmlns"?r.setAttributeNS(wFt,n,o):n.charCodeAt(3)===Qq?r.setAttributeNS(_Ft,n,o):n.charCodeAt(5)===Qq?r.setAttributeNS(Yye,n,o):r.setAttribute(n,o))}for(n in a)n in i||r.removeAttribute(n)}}function HFt(e,t,n){for(var r=0,a=0,i=t.length-1,o=t[0],s=t[i],l=n.length-1,u=n[0],c=n[l],f,d,h,p;r<=i&&a<=l;)o==null?o=t[++r]:s==null?s=t[--i]:u==null?u=n[++a]:c==null?c=n[--l]:Ub(o,u)?(lm(o,u),o=t[++r],u=n[++a]):Ub(s,c)?(lm(s,c),s=t[--i],c=n[--l]):Ub(o,c)?(lm(o,c),pv(e,o.elm,a1e(s.elm)),o=t[++r],c=n[--l]):Ub(s,u)?(lm(s,u),pv(e,s.elm,o.elm),s=t[--i],u=n[++a]):(E3(f)&&(f=WFt(t,r,i)),d=f[u.key],E3(d)?pv(e,r_(u),o.elm):(h=t[d],h.tag!==u.tag?pv(e,r_(u),o.elm):(lm(h,u),t[d]=void 0,pv(e,h.elm,o.elm))),u=n[++a]);(r<=i||a<=l)&&(r>i?(p=n[l+1]==null?null:n[l+1].elm,i1e(e,p,n,a,l)):DE(e,t,r,i))}function lm(e,t){var n=t.elm=e.elm,r=e.children,a=t.children;e!==t&&(Y5(e,t),E3(t.text)?cc(r)&&cc(a)?r!==a&&HFt(n,r,a):cc(a)?(cc(e.text)&&z$(n,""),i1e(n,null,a,0,a.length-1)):cc(r)?DE(n,r,0,r.length-1):cc(e.text)&&z$(n,""):e.text!==t.text&&(cc(r)&&DE(n,r,0,r.length-1),z$(n,t.text)))}function UFt(e,t){if(Ub(e,t))lm(e,t);else{var n=e.elm,r=r1e(n);r_(t),r!==null&&(pv(r,t.elm,a1e(n)),DE(r,[e],0,0))}return t}var GFt=0,KFt=function(){function e(t,n,r){if(this.type="svg",this.refreshHover=eZ(),this.configLayer=eZ(),this.storage=n,this._opts=r=rt({},r),this.root=t,this._id="zr"+GFt++,this._oldVNode=Wq(r.width,r.height),t&&!r.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=Xye("svg");Y5(null,this._oldVNode),a.appendChild(i),t.appendChild(a)}this.resize(r.width,r.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",UFt(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return Xq(t,I3(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var n=this.storage.getDisplayList(!0),r=this._width,a=this._height,i=I3(this._id);i.animation=t.animation,i.willUpdate=t.willUpdate,i.compress=t.compress,i.emphasis=t.emphasis,i.ssr=this._opts.ssr;var o=[],s=this._bgVNode=jFt(r,a,this._backgroundColor,i);s&&o.push(s);var l=t.compress?null:this._mainVNode=oi("g","main",{},[]);this._paintList(n,i,l?l.children:o),l&&o.push(l);var u=ut(Mn(i.defs),function(d){return i.defs[d]});if(u.length&&o.push(oi("defs","defs",{},u)),t.animation){var c=TFt(i.cssNodes,i.cssAnims,{newline:!0});if(c){var f=oi("style","stl",{},[],c);o.push(f)}}return Wq(r,a,o,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},U5(this.renderToVNode({animation:fn(t.cssAnimation,!0),emphasis:fn(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:fn(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,n,r){for(var a=t.length,i=[],o=0,s,l,u=0,c=0;c<a;c++){var f=t[c];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,p=l&&l.length||0,v=void 0;for(v=Math.max(h-1,p-1);v>=0&&!(d&&l&&d[v]===l[v]);v--);for(var g=p-1;g>v;g--)o--,s=i[o-1];for(var m=v+1;m<h;m++){var y={};BFt(d[m],y,n);var b=oi("g","clip-g-"+u++,y,[]);(s?s.children:r).push(b),i[o++]=b,s=b}l=d;var x=Xq(f,n);x&&(s?s.children:r).push(x)}}},e.prototype.resize=function(t,n){var r=this._opts,a=this.root,i=this._viewport;if(t!=null&&(r.width=t),n!=null&&(r.height=n),a&&i&&(i.style.display="none",t=mm(a,0,r),n=mm(a,1,r),i.style.display=""),this._width!==t||this._height!==n){if(this._width=t,this._height=n,i){var o=i.style;o.width=t+"px",o.height=n+"px"}if(q6(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",n));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",n))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var n=this.renderToString(),r="data:image/svg+xml;";return t?(n=aNt(n),n&&r+"base64,"+n):r+"charset=UTF-8,"+encodeURIComponent(n)},e}();function eZ(e){return function(){}}function jFt(e,t,n,r){var a;if(n&&n!=="none")if(a=oi("rect","bg",{width:e,height:t,x:"0",y:"0"}),Dge(n))t1e({fill:n},a.attrs,"fill",r);else if(q6(n))n1e({style:{fill:n},dirty:ba,getBoundingRect:function(){return{width:e,height:t}}},a.attrs,"fill",r);else{var i=Hw(n),o=i.color,s=i.opacity;a.attrs.fill=o,s<1&&(a.attrs["fill-opacity"]=s)}return a}function YFt(e){e.registerPainter("svg",KFt)}function tZ(e,t,n){var r=zh.createCanvas(),a=t.getWidth(),i=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=i+"px",r.setAttribute("data-zr-dom-id",e)),r.width=a*n,r.height=i*n,r}var W$=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var o;a=a||uE,typeof n=="string"?o=tZ(n,r,a):Jt(n)&&(o=n,n=o.id),i.id=n,i.dom=o;var s=o.style;return s&&(hge(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=r,i.dpr=a,i}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=tZ("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,r,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new xn(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var b=new xn(0,0,0,0);b.copy(y),o.push(b)}else{for(var x=!1,_=1/0,S=0,C=0;C<o.length;++C){var k=o[C];if(k.intersect(y)){var T=new xn(0,0,0,0);T.copy(k),T.union(y),o[C]=T,x=!0;break}else if(l){u.copy(y),u.union(k);var E=y.width*y.height,I=k.width*k.height,A=u.width*u.height,N=A-E-I;N<_&&(_=N,S=C)}}if(l&&(o[S].union(y),x=!0),!x){var b=new xn(0,0,0,0);b.copy(y),o.push(b)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=n[f];if(d){var h=d.shouldBePainted(a,i,!0,!0),p=d.__isRendered&&(d.__dirty&Os||!h)?d.getPrevPaintRect():null;p&&c(p);var v=h&&(d.__dirty&Os||!d.__isRendered)?d.getPaintRect():null;v&&c(v)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=r[f],h=d&&d.shouldBePainted(a,i,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var p=d.getPrevPaintRect();p&&c(p)}}var g;do{g=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var m=f+1;m<o.length;)o[f].intersect(o[m])?(g=!0,o[f].union(o[m]),o.splice(m,1)):m++;f++}}while(g);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,r){var a=this.dpr,i=this.dom,o=i.style,s=this.domBack;o&&(o.width=n+"px",o.height=r+"px"),i.width=n*a,i.height=r*a,s&&(s.width=n*a,s.height=r*a,a!==1&&this.ctxBack.scale(a,a))},t.prototype.clear=function(n,r,a){var i=this.dom,o=this.ctx,s=i.width,l=i.height;r=r||this.clearColor;var u=this.motionBlur&&!n,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/f,l/f));var h=this.domBack;function p(v,g,m,y){if(o.clearRect(v,g,m,y),r&&r!=="transparent"){var b=void 0;if(_N(r)){var x=r.global||r.__width===m&&r.__height===y;b=x&&r.__canvasGradient||y3(o,r,{x:0,y:0,width:m,height:y}),r.__canvasGradient=b,r.__width=m,r.__height=y}else dDt(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,b=b3(o,r,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));o.save(),o.fillStyle=b||r,o.fillRect(v,g,m,y),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(h,v,g,m,y),o.restore())}!a||u?p(0,0,s,l):a.length&&X(a,function(v){p(v.x*f,v.y*f,v.width*f,v.height*f)})},t}(jl),nZ=1e5,qp=314159,aT=.01,XFt=.001;function qFt(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function ZFt(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var JFt=function(){function e(t,n,r,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=rt({},r||{}),this.dpr=r.devicePixelRatio||uE,this._singleCanvas=i,this.root=t;var o=t.style;o&&(hge(t),t.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=t,f=c.width,d=c.height;r.width!=null&&(f=r.width),r.height!=null&&(d=r.height),this.dpr=r.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new W$(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[qp]=h,h.zlevel=qp,s.push(qp),this._domRoot=t}else{this._width=mm(t,0,r),this._height=mm(t,1,r);var u=this._domRoot=ZFt(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,t,this._redrawId);for(var i=0;i<a.length;i++){var o=a[i],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=i===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var n=t.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,o=0;o<n;o++){var s=t[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(nZ)),i||(i=r.ctx,i.save()),Mv(i,s,a,o===n-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(nZ)},e.prototype.paintOne=function(t,n){Hme(t,n)},e.prototype._paintList=function(t,n,r,a){if(this._redrawId===a){r=r||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,n,r),o=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;rE(function(){l._paintList(t,n,r,a)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(qp).ctx,n=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,n,r),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,n,r)})},e.prototype._doPaintList=function(t,n,r){for(var a=this,i=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&i.push(u)}for(var c=!0,f=!1,d=function(v){var g=i[v],m=g.ctx,y=o&&g.createRepaintRects(t,n,h._width,h._height),b=r?g.__startIndex:g.__drawIndex,x=!r&&g.incremental&&Date.now,_=x&&Date.now(),S=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,S,y);else if(b===g.__startIndex){var C=t[b];(!C.incremental||!C.notClear||r)&&g.clear(!1,S,y)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=g.__startIndex);var k,T=function(N){var L={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(k=b;k<g.__endIndex;k++){var R=t[k];if(R.__inHover&&(f=!0),a._doPaintEl(R,g,o,N,L,k===g.__endIndex-1),x){var D=Date.now()-_;if(D>15)break}}L.prevElClipPaths&&m.restore()};if(y)if(y.length===0)k=g.__endIndex;else for(var E=h.dpr,I=0;I<y.length;++I){var A=y[I];m.save(),m.beginPath(),m.rect(A.x*E,A.y*E,A.width*E,A.height*E),m.clip(),T(A),m.restore()}else m.save(),T(),m.restore();g.__drawIndex=k,g.__drawIndex<g.__endIndex&&(c=!1)},h=this,p=0;p<i.length;p++)d(p);return Nn.wxa&&X(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:c,needsRefreshHover:f}},e.prototype._doPaintEl=function(t,n,r,a,i,o){var s=n.ctx;if(r){var l=t.getPaintRect();(!a||l&&l.intersect(a))&&(Mv(s,t,i,o),t.setPrevPaintRect(l))}else Mv(s,t,i,o)},e.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=qp);var r=this._layers[t];return r||(r=new W$("zr_"+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?mn(r,this._layerConfig[t],!0):this._layerConfig[t-aT]&&mn(r,this._layerConfig[t-aT],!0),n&&(r.virtual=n),this.insertLayer(t,r),r.initContext()),r},e.prototype.insertLayer=function(t,n){var r=this._layers,a=this._zlevelList,i=a.length,o=this._domRoot,s=null,l=-1;if(!r[t]&&qFt(n)){if(i>0&&t>a[0]){for(l=0;l<i-1&&!(a[l]<t&&a[l+1]>t);l++);s=r[a[l]]}if(a.splice(l+1,0,t),r[t]=n,!n.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(n.dom,u.nextSibling):o.appendChild(n.dom)}else o.firstChild?o.insertBefore(n.dom,o.firstChild):o.appendChild(n.dom);n.painter||(n.painter=this)}},e.prototype.eachLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a];t.call(n,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a],o=this._layers[i];o.__builtin__&&t.call(n,o,i)}},e.prototype.eachOtherLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a],o=this._layers[i];o.__builtin__||t.call(n,o,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function n(f){i&&(i.__endIndex!==f&&(i.__dirty=!0),i.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var a=t[r];if(a.zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,o=0,s,l;for(l=0;l<t.length;l++){var a=t[l],u=a.zlevel,c=void 0;s!==u&&(s=u,o=0),a.incremental?(c=this.getLayer(u+XFt,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?aT:0),this._needsManuallyCompositing),c.__builtin__||W6("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,n(l),i=c),a.__dirty&Os&&!a.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,X(this._layers,function(n){n.setUnpainted()})},e.prototype.configLayer=function(t,n){if(n){var r=this._layerConfig;r[t]?mn(r[t],n,!0):r[t]=n;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===t||i===t+aT){var o=this._layers[i];mn(o,r[t],!0)}}}},e.prototype.delLayer=function(t){var n=this._layers,r=this._zlevelList,a=n[t];a&&(a.dom.parentNode.removeChild(a.dom),delete n[t],r.splice(Cn(r,t),1))},e.prototype.resize=function(t,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts,i=this.root;if(t!=null&&(a.width=t),n!=null&&(a.height=n),t=mm(i,0,a),n=mm(i,1,a),r.style.display="",this._width!==t||n!==this._height){r.style.width=t+"px",r.style.height=n+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(qp).resize(t,n)}return this},e.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[qp].dom;var n=new W$("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var r=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=n.dom.width,i=n.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,a,i):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Mv(r,c,o,l===u-1)}return n.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function QFt(e){e.registerPainter("canvas",JFt)}var e3t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return md(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var r=new an,a=Ma("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(a),a.setStyle(n.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=n.itemHeight*.8,u=Ma(s,(n.itemWidth-l)/2,(n.itemHeight-l)/2,l,l,n.itemStyle.fill);r.add(u),u.setStyle(n.itemStyle);var c=n.iconRotate==="inherit"?o:n.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([n.itemWidth/2,n.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Vr);function My(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var a=Dy(e,t,n[0]);return a!=null?a+"":null}else if(r){for(var i=[],o=0;o<n.length;o++)i.push(Dy(e,t,n[o]));return i.join(" ")}}function o1e(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!st(t))return t+"";for(var r=[],a=0;a<n.length;a++){var i=e.getDimensionIndex(n[a]);i>=0&&r.push(t[i])}return r.join(" ")}var xC=function(e){Oe(t,e);function t(n,r,a,i){var o=e.call(this)||this;return o.updateData(n,r,a,i),o}return t.prototype._createSymbol=function(n,r,a,i,o){this.removeAll();var s=Ma(n,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=t3t,this._symbolType=n,this.add(s)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Jf(this.childAt(0))},t.prototype.downplay=function(){Qf(this.childAt(0))},t.prototype.setZ=function(n,r){var a=this.childAt(0);a.zlevel=n,a.z=r},t.prototype.setDraggable=function(n,r){var a=this.childAt(0);a.draggable=n,a.cursor=!r&&n?"move":a.cursor},t.prototype.updateData=function(n,r,a,i){this.silent=!1;var o=n.getItemVisual(r,"symbol")||"circle",s=n.hostModel,l=t.getSymbolSize(n,r),u=o!==this._symbolType,c=i&&i.disableAnimation;if(u){var f=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,n,r,l,f)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};c?d.attr(h):Jn(d,h,s,r),Vu(d)}if(this._updateCommon(n,r,l,a,i),u){var d=this.childAt(0);if(!c){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Xr(d,h,s,r)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,r,a,i,o){var s=this.childAt(0),l=n.hostModel,u,c,f,d,h,p,v,g,m;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,f=i.selectItemStyle,d=i.focus,h=i.blurScope,v=i.labelStatesModels,g=i.hoverScale,m=i.cursorStyle,p=i.emphasisDisabled),!i||n.hasItemOption){var y=i&&i.itemModel?i.itemModel:n.getItemModel(r),b=y.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),d=b.get("focus"),h=b.get("blurScope"),p=b.get("disabled"),v=vi(y),g=b.getShallow("scale"),m=y.getShallow("cursor")}var x=n.getItemVisual(r,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var _=s0(n.getItemVisual(r,"symbolOffset"),a);_&&(s.x=_[0],s.y=_[1]),m&&s.attr("cursor",m);var S=n.getItemVisual(r,"style"),C=S.fill;if(s instanceof Ri){var k=s.style;s.useStyle(rt({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},S))}else s.__isEmptyBrush?s.useStyle(rt({},S)):s.useStyle(S),s.style.decal=null,s.setColor(C,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var T=n.getItemVisual(r,"liftZ"),E=this._z2;T!=null?E==null&&(this._z2=s.z2,s.z2+=T):E!=null&&(s.z2=E,this._z2=null);var I=o&&o.useNameLabel;Yi(s,v,{labelFetcher:l,labelDataIndex:r,defaultText:A,inheritColor:C,defaultOpacity:S.opacity});function A(R){return I?n.getName(R):My(n,R)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var N=s.ensureState("emphasis");N.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var L=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;N.scaleX=this._sizeX*L,N.scaleY=this._sizeY*L,this.setSymbolScale(1),la(this,d,h,p)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,r,a){var i=this.childAt(0),o=sn(this).dataIndex,s=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var l=i.getTextContent();l&&Hh(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Hh(i,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:n,removeOpt:s})},t.getSymbolSize=function(n,r){return E1(n.getItemVisual(r,"symbolSize"))},t}(an);function t3t(e,t){this.parent.drift(e,t)}function H$(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function rZ(e){return e!=null&&!Jt(e)&&(e={isIgnore:e}),e||{}}function aZ(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:vi(t),cursorStyle:t.get("cursor")}}var wC=function(){function e(t){this.group=new an,this._SymbolCtor=t||xC}return e.prototype.updateData=function(t,n){this._progressiveEls=null,n=rZ(n);var r=this.group,a=t.hostModel,i=this._data,o=this._SymbolCtor,s=n.disableAnimation,l=aZ(t),u={disableAnimation:s},c=n.getSymbolPoint||function(f){return t.getItemLayout(f)};i||r.removeAll(),t.diff(i).add(function(f){var d=c(f);if(H$(t,d,f,n)){var h=new o(t,f,l,u);h.setPosition(d),t.setItemGraphicEl(f,h),r.add(h)}}).update(function(f,d){var h=i.getItemGraphicEl(d),p=c(f);if(!H$(t,p,f,n)){r.remove(h);return}var v=t.getItemVisual(f,"symbol")||"circle",g=h&&h.getSymbolType&&h.getSymbolType();if(!h||g&&g!==v)r.remove(h),h=new o(t,f,l,u),h.setPosition(p);else{h.updateData(t,f,l,u);var m={x:p[0],y:p[1]};s?h.attr(m):Jn(h,m,a)}r.add(h),t.setItemGraphicEl(f,h)}).remove(function(f){var d=i.getItemGraphicEl(f);d&&d.fadeOut(function(){r.remove(d)},a)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(r,a){var i=t._getSymbolPoint(a);r.setPosition(i),r.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=aZ(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n,r){this._progressiveEls=[],r=rZ(r);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=n.getItemLayout(i);if(H$(n,o,i,r)){var s=new this._SymbolCtor(n,i,this._seriesScope);s.traverse(a),s.setPosition(o),this.group.add(s),n.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(t){gp(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var n=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(a){a.fadeOut(function(){n.remove(a)},r.hostModel)}):n.removeAll()},e}();function s1e(e,t,n){var r=e.getBaseAxis(),a=e.getOtherAxis(r),i=n3t(a,n),o=r.dim,s=a.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=ut(e.dimensions,function(p){return t.mapDimension(p)}),d=!1,h=t.getCalculationInfo("stackResultDimension");return Gh(t,f[0])&&(d=!0,f[0]=h),Gh(t,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function n3t(e,t){var n=0,r=e.scale.getExtent();return t==="start"?n=r[0]:t==="end"?n=r[1]:Kn(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function l1e(e,t,n,r){var a=NaN;e.stacked&&(a=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(a)&&(a=e.valueStart);var i=e.baseDataOffset,o=[];return o[i]=n.get(e.baseDim,r),o[1-i]=a,t.dataToPoint(o)}function r3t(e,t){var n=[];return t.diff(e).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,a){n.push({cmd:"=",idx:a,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function a3t(e,t,n,r,a,i,o,s){for(var l=r3t(e,t),u=[],c=[],f=[],d=[],h=[],p=[],v=[],g=s1e(a,t,o),m=e.getLayout("points")||[],y=t.getLayout("points")||[],b=0;b<l.length;b++){var x=l[b],_=!0,S=void 0,C=void 0;switch(x.cmd){case"=":S=x.idx*2,C=x.idx1*2;var k=m[S],T=m[S+1],E=y[C],I=y[C+1];(isNaN(k)||isNaN(T))&&(k=E,T=I),u.push(k,T),c.push(E,I),f.push(n[S],n[S+1]),d.push(r[C],r[C+1]),v.push(t.getRawIndex(x.idx1));break;case"+":var A=x.idx,N=g.dataDimsForPoint,L=a.dataToPoint([t.get(N[0],A),t.get(N[1],A)]);C=A*2,u.push(L[0],L[1]),c.push(y[C],y[C+1]);var R=l1e(g,a,t,A);f.push(R[0],R[1]),d.push(r[C],r[C+1]),v.push(t.getRawIndex(A));break;case"-":_=!1}_&&(h.push(x),p.push(p.length))}p.sort(function(j,ne){return v[j]-v[ne]});for(var D=u.length,P=_c(D),O=_c(D),M=_c(D),W=_c(D),U=[],b=0;b<p.length;b++){var V=p[b],H=b*2,K=V*2;P[H]=u[K],P[H+1]=u[K+1],O[H]=c[K],O[H+1]=c[K+1],M[H]=f[K],M[H+1]=f[K+1],W[H]=d[K],W[H+1]=d[K+1],U[b]=h[V]}return{current:P,next:O,stackedOnCurrent:M,stackedOnNext:W,status:U}}var Ad=Math.min,Dd=Math.max;function Jv(e,t){return isNaN(e)||isNaN(t)}function A3(e,t,n,r,a,i,o,s,l){for(var u,c,f,d,h,p,v=n,g=0;g<r;g++){var m=t[v*2],y=t[v*2+1];if(v>=a||v<0)break;if(Jv(m,y)){if(l){v+=i;continue}break}if(v===n)e[i>0?"moveTo":"lineTo"](m,y),f=m,d=y;else{var b=m-u,x=y-c;if(b*b+x*x<.5){v+=i;continue}if(o>0){for(var _=v+i,S=t[_*2],C=t[_*2+1];S===m&&C===y&&g<r;)g++,_+=i,v+=i,S=t[_*2],C=t[_*2+1],m=t[v*2],y=t[v*2+1],b=m-u,x=y-c;var k=g+1;if(l)for(;Jv(S,C)&&k<r;)k++,_+=i,S=t[_*2],C=t[_*2+1];var T=.5,E=0,I=0,A=void 0,N=void 0;if(k>=r||Jv(S,C))h=m,p=y;else{E=S-u,I=C-c;var L=m-u,R=S-m,D=y-c,P=C-y,O=void 0,M=void 0;if(s==="x"){O=Math.abs(L),M=Math.abs(R);var W=E>0?1:-1;h=m-W*O*o,p=y,A=m+W*M*o,N=y}else if(s==="y"){O=Math.abs(D),M=Math.abs(P);var U=I>0?1:-1;h=m,p=y-U*O*o,A=m,N=y+U*M*o}else O=Math.sqrt(L*L+D*D),M=Math.sqrt(R*R+P*P),T=M/(M+O),h=m-E*o*(1-T),p=y-I*o*(1-T),A=m+E*o*T,N=y+I*o*T,A=Ad(A,Dd(S,m)),N=Ad(N,Dd(C,y)),A=Dd(A,Ad(S,m)),N=Dd(N,Ad(C,y)),E=A-m,I=N-y,h=m-E*O/M,p=y-I*O/M,h=Ad(h,Dd(u,m)),p=Ad(p,Dd(c,y)),h=Dd(h,Ad(u,m)),p=Dd(p,Ad(c,y)),E=m-h,I=y-p,A=m+E*M/O,N=y+I*M/O}e.bezierCurveTo(f,d,h,p,m,y),f=A,d=N}else e.lineTo(m,y)}u=m,c=y,v+=i}return g}var u1e=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),i3t=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new u1e},t.prototype.buildPath=function(n,r){var a=r.points,i=0,o=a.length/2;if(r.connectNulls){for(;o>0&&Jv(a[o*2-2],a[o*2-1]);o--);for(;i<o&&Jv(a[i*2],a[i*2+1]);i++);}for(;i<o;)i+=A3(n,a,i,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,o=Yc.CMD,s,l,u=r==="x",c=[],f=0;f<i.length;){var d=i[f++],h=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0;switch(d){case o.M:s=i[f++],l=i[f++];break;case o.L:if(h=i[f++],p=i[f++],b=u?(n-s)/(h-s):(n-l)/(p-l),b<=1&&b>=0){var x=u?(p-l)*b+l:(h-s)*b+s;return u?[n,x]:[x,n]}s=h,l=p;break;case o.C:h=i[f++],p=i[f++],v=i[f++],g=i[f++],m=i[f++],y=i[f++];var _=u?iE(s,h,v,m,n,c):iE(l,p,g,y,n,c);if(_>0)for(var S=0;S<_;S++){var C=c[S];if(C<=1&&C>=0){var x=u?Qa(l,p,g,y,C):Qa(s,h,v,m,C);return u?[n,x]:[x,n]}}s=m,l=y;break}}},t}(An),o3t=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(u1e),c1e=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new o3t},t.prototype.buildPath=function(n,r){var a=r.points,i=r.stackedOnPoints,o=0,s=a.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&Jv(a[s*2-2],a[s*2-1]);s--);for(;o<s&&Jv(a[o*2],a[o*2+1]);o++);}for(;o<s;){var u=A3(n,a,o,s,s,1,r.smooth,l,r.connectNulls);A3(n,i,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,n.closePath()}},t}(An);function f1e(e,t,n,r,a){var i=e.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,c=n.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new Bn({shape:{x:o,y:s,width:l,height:u}});if(t){var d=e.getBaseAxis(),h=d.isHorizontal(),p=d.inverse;h?(p&&(f.shape.x+=l),f.shape.width=0):(p||(f.shape.y+=u),f.shape.height=0);var v=Yt(a)?function(g){a(g,f)}:null;Xr(f,{shape:{width:l,height:u,x:o,y:s}},n,null,r,v)}return f}function d1e(e,t,n){var r=e.getArea(),a=ha(r.r0,1),i=ha(r.r,1),o=new ss({shape:{cx:ha(e.cx,1),cy:ha(e.cy,1),r0:a,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=a,Xr(o,{shape:{endAngle:r.endAngle,r:i}},n)}return o}function _C(e,t,n,r,a){if(e){if(e.type==="polar")return d1e(e,t,n);if(e.type==="cartesian2d")return f1e(e,t,n,r,a)}else return null;return null}function u0(e,t){return e.type===t}function iZ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function oZ(e){for(var t=1/0,n=1/0,r=-1/0,a=-1/0,i=0;i<e.length;){var o=e[i++],s=e[i++];isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r)),isNaN(s)||(n=Math.min(s,n),a=Math.max(s,a))}return[[t,n],[r,a]]}function sZ(e,t){var n=oZ(e),r=n[0],a=n[1],i=oZ(t),o=i[0],s=i[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function lZ(e){return Kn(e)?e:e?.5:0}function s3t(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),a=_c(r*2),i=0;i<r;i++){var o=l1e(n,e,t,i);a[i*2]=o[0],a[i*2+1]=o[1]}return a}function Nd(e,t,n,r,a){var i=n.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],d=[];if(a){for(l=0;l<e.length;l+=2){var h=t||e;!isNaN(h[l])&&!isNaN(h[l+1])&&d.push(e[l],e[l+1])}e=d}for(l=0;l<e.length-2;l+=2)switch(f[0]=e[l+2],f[1]=e[l+3],c[0]=e[l],c[1]=e[l+1],s.push(c[0],c[1]),r){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var p=(c[o]+f[o])/2,v=[];u[o]=v[o]=p,u[1-o]=c[1-o],v[1-o]=f[1-o],s.push(u[0],u[1]),s.push(v[0],v[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(e[l++],e[l++]),s}function l3t(e,t){var n=[],r=e.length,a,i;function o(c,f,d){var h=c.coord,p=(d-h)/(f.coord-h),v=ZDt(p,[c.color,f.color]);return{coord:d,color:v}}for(var s=0;s<r;s++){var l=e[s],u=l.coord;if(u<0)a=l;else if(u>t){i?n.push(o(i,l,t)):a&&n.push(o(a,l,0),o(a,l,t));break}else a&&(n.push(o(a,l,0)),a=null),n.push(l),i=l}return n}function u3t(e,t,n){var r=e.getVisual("visualMeta");if(!(!r||!r.length||!e.count())&&t.type==="cartesian2d"){for(var a,i,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o].dimension);if(a=s&&s.coordDim,a==="x"||a==="y"){i=r[o];break}}if(i){var l=t.getAxis(a),u=ut(i.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,f=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=l3t(u,a==="x"?n.getWidth():n.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var p=10,v=d[0].coord-p,g=d[h-1].coord+p,m=g-v;if(m<.001)return"transparent";X(d,function(b){b.offset=(b.coord-v)/m}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var y=new hC(0,0,0,0,d,!0);return y[a]=v,y[a+"2"]=g,y}}}function c3t(e,t,n){var r=e.get("showAllSymbol"),a=r==="auto";if(!(r&&!a)){var i=n.getAxesByScale("ordinal")[0];if(i&&!(a&&f3t(i,t))){var o=t.mapDimension(i.dim),s={};return X(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function f3t(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var a=t.count(),i=Math.max(1,Math.round(a/5)),o=0;o<a;o+=i)if(xC.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>r)return!1;return!0}function d3t(e,t){return isNaN(e)||isNaN(t)}function h3t(e){for(var t=e.length/2;t>0&&d3t(e[t*2-2],e[t*2-1]);t--);return t-1}function uZ(e,t){return[e[t*2],e[t*2+1]]}function p3t(e,t,n){for(var r=e.length/2,a=n==="x"?0:1,i,o,s=0,l=-1,u=0;u<r;u++)if(o=e[u*2+a],!(isNaN(o)||isNaN(e[u*2+1-a]))){if(u===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){l=u;break}s=u,i=o}return{range:[s,l],t:(t-i)/(o-i)}}function h1e(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<os.length;t++)if(e.get([os[t],"endLabel","show"]))return!0;return!1}function U$(e,t,n,r){if(u0(t,"cartesian2d")){var a=r.getModel("endLabel"),i=a.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=h1e(r)?function(h,p){e._endLabelOnDuring(h,p,o,s,i,a,t)}:null,u=t.getBaseAxis().isHorizontal(),c=f1e(t,n,r,function(){var h=e._endLabel;h&&n&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return d1e(t,n,r)}function v3t(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),a=n.inverse,i=r?a?"right":"left":"center",o=r?"middle":a?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||o}}}var g3t=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var n=new an,r=new wC;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n,this._changePolyState=Nt(this._changePolyState,this)},t.prototype.render=function(n,r,a){var i=n.coordinateSystem,o=this.group,s=n.getData(),l=n.getModel("lineStyle"),u=n.getModel("areaStyle"),c=s.getLayout("points")||[],f=i.type==="polar",d=this._coordSys,h=this._symbolDraw,p=this._polyline,v=this._polygon,g=this._lineGroup,m=!r.ssr&&n.get("animation"),y=!u.isEmpty(),b=u.get("origin"),x=s1e(i,s,b),_=y&&s3t(i,s,x),S=n.get("showSymbol"),C=n.get("connectNulls"),k=S&&!f&&c3t(n,s,i),T=this._data;T&&T.eachItemGraphicEl(function(j,ne){j.__temp&&(o.remove(j),T.setItemGraphicEl(ne,null))}),S||h.remove(),o.add(g);var E=f?!1:n.get("step"),I;i&&i.getArea&&n.get("clip",!0)&&(I=i.getArea(),I.width!=null?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var A=u3t(s,i,a)||s.getVisual("style")[s.getVisual("drawType")];if(!(p&&d.type===i.type&&E===this._step))S&&h.updateData(s,{isIgnore:k,clipShape:I,disableAnimation:!0,getSymbolPoint:function(j){return[c[j*2],c[j*2+1]]}}),m&&this._initSymbolLabelAnimation(s,i,I),E&&(_&&(_=Nd(_,c,i,E,C)),c=Nd(c,null,i,E,C)),p=this._newPolyline(c),y?v=this._newPolygon(c,_):v&&(g.remove(v),v=this._polygon=null),f||this._initOrUpdateEndLabel(n,i,Rg(A)),g.setClipPath(U$(this,i,!0,n));else{y&&!v?v=this._newPolygon(c,_):v&&!y&&(g.remove(v),v=this._polygon=null),f||this._initOrUpdateEndLabel(n,i,Rg(A));var N=g.getClipPath();if(N){var L=U$(this,i,!1,n);Xr(N,{shape:L.shape},n)}else g.setClipPath(U$(this,i,!0,n));S&&h.updateData(s,{isIgnore:k,clipShape:I,disableAnimation:!0,getSymbolPoint:function(j){return[c[j*2],c[j*2+1]]}}),(!iZ(this._stackedOnPoints,_)||!iZ(this._points,c))&&(m?this._doUpdateAnimation(s,_,i,a,E,b,C):(E&&(_&&(_=Nd(_,c,i,E,C)),c=Nd(c,null,i,E,C)),p.setShape({points:c}),v&&v.setShape({points:c,stackedOnPoints:_})))}var R=n.getModel("emphasis"),D=R.get("focus"),P=R.get("blurScope"),O=R.get("disabled");if(p.useStyle(Xt(l.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"})),ji(p,n,"lineStyle"),p.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var M=p.getState("emphasis").style;M.lineWidth=+p.style.lineWidth+1}sn(p).seriesIndex=n.seriesIndex,la(p,D,P,O);var W=lZ(n.get("smooth")),U=n.get("smoothMonotone");if(p.setShape({smooth:W,smoothMonotone:U,connectNulls:C}),v){var V=s.getCalculationInfo("stackedOnSeries"),H=0;v.useStyle(Xt(u.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),V&&(H=lZ(V.get("smooth"))),v.setShape({smooth:W,stackedOnSmooth:H,smoothMonotone:U,connectNulls:C}),ji(v,n,"areaStyle"),sn(v).seriesIndex=n.seriesIndex,la(v,D,P,O)}var K=this._changePolyState;s.eachItemGraphicEl(function(j){j&&(j.onHoverStateChange=K)}),this._polyline.onHoverStateChange=K,this._data=s,this._coordSys=i,this._stackedOnPoints=_,this._points=c,this._step=E,this._valueOrigin=b,n.get("triggerLineEvent")&&(this.packEventData(n,p),v&&this.packEventData(n,v))},t.prototype.packEventData=function(n,r){sn(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,r,a,i){var o=n.getData(),s=Ag(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=n.get("zlevel")||0,h=n.get("z")||0;u=new xC(o,s),u.x=c,u.y=f,u.setZ(d,h);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Dr.prototype.highlight.call(this,n,r,a,i)},t.prototype.downplay=function(n,r,a,i){var o=n.getData(),s=Ag(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Dr.prototype.downplay.call(this,n,r,a,i)},t.prototype._changePolyState=function(n){var r=this._polygon;dE(this._polyline,n),r&&dE(r,n)},t.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new i3t({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(n,r){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new c1e({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(n,r,a){var i,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):r.type==="polar"&&(i=s.dim==="angle",o=!0);var u=n.hostModel,c=u.get("animationDuration");Yt(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=Yt(f)?f(null):f;n.eachItemGraphicEl(function(h,p){var v=h;if(v){var g=[h.x,h.y],m=void 0,y=void 0,b=void 0;if(a)if(o){var x=a,_=r.pointToCoord(g);i?(m=x.startAngle,y=x.endAngle,b=-_[1]/180*Math.PI):(m=x.r0,y=x.r,b=_[0])}else{var S=a;i?(m=S.x,y=S.x+S.width,b=h.x):(m=S.y+S.height,y=S.y,b=h.y)}var C=y===m?0:(b-m)/(y-m);l&&(C=1-C);var k=Yt(f)?f(p):c*C+d,T=v.getSymbolPath(),E=T.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:k}),E&&E.animateFrom({style:{opacity:0}},{duration:300,delay:k}),T.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,r,a){var i=n.getModel("endLabel");if(h1e(n)){var o=n.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Un({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=h3t(l);c>=0&&(Yi(s,vi(n,"endLabel"),{inheritColor:a,labelFetcher:n,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?o1e(o,h):My(o,f)},enableTextSetter:!0},v3t(i,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,r,a,i,o,s,l){var u=this._endLabel,c=this._polyline;if(u){n<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var f=a.getLayout("points"),d=a.hostModel,h=d.get("connectNulls"),p=s.get("precision"),v=s.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),y=g.inverse,b=r.shape,x=y?m?b.x:b.y+b.height:m?b.x+b.width:b.y,_=(m?v:0)*(y?-1:1),S=(m?0:-v)*(y?-1:1),C=m?"x":"y",k=p3t(f,x,C),T=k.range,E=T[1]-T[0],I=void 0;if(E>=1){if(E>1&&!h){var A=uZ(f,T[0]);u.attr({x:A[0]+_,y:A[1]+S}),o&&(I=d.getRawValue(T[0]))}else{var A=c.getPointOn(x,C);A&&u.attr({x:A[0]+_,y:A[1]+S});var N=d.getRawValue(T[0]),L=d.getRawValue(T[1]);o&&(I=Zge(a,p,N,L,k.t))}i.lastFrameIndex=T[0]}else{var R=n===1||i.lastFrameIndex>0?T[0]:0,A=uZ(f,R);o&&(I=d.getRawValue(R)),u.attr({x:A[0]+_,y:A[1]+S})}if(o){var D=w1(u);typeof D.setLabelText=="function"&&D.setLabelText(I)}}},t.prototype._doUpdateAnimation=function(n,r,a,i,o,s,l){var u=this._polyline,c=this._polygon,f=n.hostModel,d=a3t(this._data,n,this._stackedOnPoints,r,this._coordSys,a,this._valueOrigin),h=d.current,p=d.stackedOnCurrent,v=d.next,g=d.stackedOnNext;if(o&&(p=Nd(d.stackedOnCurrent,d.current,a,o,l),h=Nd(d.current,null,a,o,l),g=Nd(d.stackedOnNext,d.next,a,o,l),v=Nd(d.next,null,a,o,l)),sZ(h,v)>3e3||c&&sZ(p,g)>3e3){u.stopAnimation(),u.setShape({points:v}),c&&(c.stopAnimation(),c.setShape({points:v,stackedOnPoints:g}));return}u.shape.__points=d.current,u.shape.points=h;var m={shape:{points:v}};d.current!==h&&(m.shape.__points=d.next),u.stopAnimation(),Jn(u,m,f),c&&(c.setShape({points:h,stackedOnPoints:p}),c.stopAnimation(),Jn(c,{shape:{stackedOnPoints:g}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],b=d.status,x=0;x<b.length;x++){var _=b[x].cmd;if(_==="="){var S=n.getItemGraphicEl(b[x].idx1);S&&y.push({el:S,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var C=u.shape.__points,k=0;k<y.length;k++){var T=y[k].el,E=y[k].ptIdx*2;T.x=C[E],T.y=C[E+1],T.markRedraw()}})},t.prototype.remove=function(n){var r=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,o){i.__temp&&(r.remove(i),a.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Dr);function SC(e,t){return{seriesType:e,plan:k1(),reset:function(n){var r=n.getData(),a=n.coordinateSystem,i=n.pipelineContext,o=t||i.large;if(a){var s=ut(a.dimensions,function(h){return r.mapDimension(h)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");Gh(r,s[0])&&(s[0]=u),Gh(r,s[1])&&(s[1]=u);var c=r.getStore(),f=r.getDimensionIndex(s[0]),d=r.getDimensionIndex(s[1]);return l&&{progress:function(h,p){for(var v=h.end-h.start,g=o&&_c(v*l),m=[],y=[],b=h.start,x=0;b<h.end;b++){var _=void 0;if(l===1){var S=c.get(f,b);_=a.dataToPoint(S,null,y)}else m[0]=c.get(f,b),m[1]=c.get(d,b),_=a.dataToPoint(m,null,y);o?(g[x++]=_[0],g[x++]=_[1]):p.setItemLayout(b,_.slice())}o&&p.setLayout("points",g)}}}}}}var m3t={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return n===0?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},y3t=function(e){return Math.round(e.length/2)};function p1e(e){return{seriesType:e,reset:function(t,n,r){var a=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=r.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(s/d);if(isFinite(h)&&h>1){i==="lttb"?t.setData(a.lttbDownSample(a.mapDimension(u.dim),1/h)):i==="minmax"&&t.setData(a.minmaxDownSample(a.mapDimension(u.dim),1/h));var p=void 0;Dt(i)?p=m3t[i]:Yt(i)&&(p=i),p&&t.setData(a.downSample(a.mapDimension(u.dim),1/h,p,y3t))}}}}}function b3t(e){e.registerChartView(g3t),e.registerSeriesModel(e3t),e.registerLayout(SC("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,p1e("line"))}var a_=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){return md(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(n,r,a){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(n),s=i.dataToPoint(o);if(a)X(i.getAxes(),function(d,h){if(d.type==="category"&&r!=null){var p=d.getTicksCoords(),v=d.getTickModel().get("alignWithLabel"),g=o[h],m=r[h]==="x1"||r[h]==="y1";if(m&&!v&&(g+=1),p.length<2)return;if(p.length===2){s[h]=d.toGlobalCoord(d.getExtent()[m?1:0]);return}for(var y=void 0,b=void 0,x=1,_=0;_<p.length;_++){var S=p[_].coord,C=_===p.length-1?p[_-1].tickValue+x:p[_].tickValue;if(C===g){b=S;break}else if(C<g)y=S;else if(y!=null&&C>g){b=(S+y)/2;break}_===1&&(x=C-p[0].tickValue)}b==null&&(y?y&&(b=p[p.length-1].coord):b=p[0].coord),s[h]=d.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=i.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Vr);Vr.registerClass(a_);var x3t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return md(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},t.prototype.brushSelector=function(n,r,a){return a.rect(r.getItemLayout(n))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=mp(a_.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(a_),w3t=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),NE=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new w3t},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,f=r.endAngle,d=r.clockwise,h=Math.PI*2,p=d?f-c<h:c-f<h;p||(c=f-(d?h:-h));var v=Math.cos(c),g=Math.sin(c),m=Math.cos(f),y=Math.sin(f);p?(n.moveTo(v*o+a,g*o+i),n.arc(v*u+a,g*u+i,l,-Math.PI+c,c,!d)):n.moveTo(v*s+a,g*s+i),n.arc(a,i,s,c,f,!d),n.arc(m*u+a,y*u+i,l,f-Math.PI*2,f-Math.PI,!d),o!==0&&n.arc(a,i,o,f,c,d)},t}(An);function _3t(e,t){t=t||{};var n=t.isRoundCap;return function(r,a,i){var o=a.position;if(!o||o instanceof Array)return cE(r,a,i);var s=e(o),l=a.distance!=null?a.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,p=(d+h)/2,v=u.startAngle,g=u.endAngle,m=(v+g)/2,y=n?Math.abs(d-h)/2:0,b=Math.cos,x=Math.sin,_=c+d*b(v),S=f+d*x(v),C="left",k="top";switch(s){case"startArc":_=c+(h-l)*b(m),S=f+(h-l)*x(m),C="center",k="top";break;case"insideStartArc":_=c+(h+l)*b(m),S=f+(h+l)*x(m),C="center",k="bottom";break;case"startAngle":_=c+p*b(v)+iT(v,l+y,!1),S=f+p*x(v)+oT(v,l+y,!1),C="right",k="middle";break;case"insideStartAngle":_=c+p*b(v)+iT(v,-l+y,!1),S=f+p*x(v)+oT(v,-l+y,!1),C="left",k="middle";break;case"middle":_=c+p*b(m),S=f+p*x(m),C="center",k="middle";break;case"endArc":_=c+(d+l)*b(m),S=f+(d+l)*x(m),C="center",k="bottom";break;case"insideEndArc":_=c+(d-l)*b(m),S=f+(d-l)*x(m),C="center",k="top";break;case"endAngle":_=c+p*b(g)+iT(g,l+y,!0),S=f+p*x(g)+oT(g,l+y,!0),C="left",k="middle";break;case"insideEndAngle":_=c+p*b(g)+iT(g,-l+y,!0),S=f+p*x(g)+oT(g,-l+y,!0),C="right",k="middle";break;default:return cE(r,a,i)}return r=r||{},r.x=_,r.y=S,r.align=C,r.verticalAlign=k,r}}function S3t(e,t,n,r){if(Kn(r)){e.setTextConfig({rotation:r});return}else if(st(t)){e.setTextConfig({rotation:0});return}var a=e.shape,i=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(i+o)/2,l,u=n(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function iT(e,t,n){return t*Math.sin(e)*(n?-1:1)}function oT(e,t,n){return t*Math.cos(e)*(n?1:-1)}function $v(e,t,n){var r=e.get("borderRadius");if(r==null)return n?{cornerRadius:0}:null;st(r)||(r=[r,r,r,r]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:ut(r,function(i){return Bu(i,a)})}}var G$=Math.max,K$=Math.min;function C3t(e,t){var n=e.getArea&&e.getArea();if(u0(e,"cartesian2d")){var r=e.getBaseAxis();if(r.type!=="category"||!r.onBand){var a=t.getLayout("bandWidth");r.isHorizontal()?(n.x-=a,n.width+=a*2):(n.y-=a,n.height+=a*2)}}return n}var T3t=function(e){Oe(t,e);function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return t.prototype.render=function(n,r,a,i){this._model=n,this._removeOnRenderedListener(a),this._updateDrawMode(n);var o=n.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,r,a):this._renderNormal(n,r,a,i))},t.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},t.prototype.incrementalRender=function(n,r){this._progressiveEls=[],this._incrementalRenderLarge(n,r)},t.prototype.eachRendered=function(n){gp(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(n,r,a,i){var o=this.group,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=n.isAnimationEnabled()?n:null,h=k3t(n,u);h&&this._enableRealtimeSort(h,s,a);var p=n.get("clip",!0)||h,v=C3t(u,s);o.removeClipPath();var g=n.get("roundCap",!0),m=n.get("showBackground",!0),y=n.getModel("backgroundStyle"),b=y.get("borderRadius")||0,x=[],_=this._backgroundEls,S=i&&i.isInitSort,C=i&&i.type==="changeAxisOrder";function k(I){var A=sT[u.type](s,I),N=M3t(u,f,A);return N.useStyle(y.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",b):N.setShape("cornerRadius",b),x[I]=N,N}s.diff(l).add(function(I){var A=s.getItemModel(I),N=sT[u.type](s,I,A);if(m&&k(I),!(!s.hasValue(I)||!pZ[u.type](N))){var L=!1;p&&(L=cZ[u.type](v,N));var R=fZ[u.type](n,s,I,N,f,d,c.model,!1,g);h&&(R.forceLabelAnimation=!0),vZ(R,s,I,A,N,n,f,u.type==="polar"),S?R.attr({shape:N}):h?dZ(h,d,R,N,I,f,!1,!1):Xr(R,{shape:N},n,I),s.setItemGraphicEl(I,R),o.add(R),R.ignore=L}}).update(function(I,A){var N=s.getItemModel(I),L=sT[u.type](s,I,N);if(m){var R=void 0;_.length===0?R=k(A):(R=_[A],R.useStyle(y.getItemStyle()),u.type==="cartesian2d"?R.setShape("r",b):R.setShape("cornerRadius",b),x[I]=R);var D=sT[u.type](s,I),P=g1e(f,D,u);Jn(R,{shape:P},d,I)}var O=l.getItemGraphicEl(A);if(!s.hasValue(I)||!pZ[u.type](L)){o.remove(O);return}var M=!1;if(p&&(M=cZ[u.type](v,L),M&&o.remove(O)),O?Vu(O):O=fZ[u.type](n,s,I,L,f,d,c.model,!!O,g),h&&(O.forceLabelAnimation=!0),C){var W=O.getTextContent();if(W){var U=w1(W);U.prevValue!=null&&(U.prevValue=U.value)}}else vZ(O,s,I,N,L,n,f,u.type==="polar");S?O.attr({shape:L}):h?dZ(h,d,O,L,I,f,!0,C):Jn(O,{shape:L},n,I,null),s.setItemGraphicEl(I,O),O.ignore=M,o.add(O)}).remove(function(I){var A=l.getItemGraphicEl(I);A&&Yw(A,n,I)}).execute();var T=this._backgroundGroup||(this._backgroundGroup=new an);T.removeAll();for(var E=0;E<x.length;++E)T.add(x[E]);o.add(T),this._backgroundEls=x,this._data=s},t.prototype._renderLarge=function(n,r,a){this._clear(),mZ(n,this.group),this._updateLargeClip(n)},t.prototype._incrementalRenderLarge=function(n,r){this._removeBackground(),mZ(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(n){var r=n.get("clip",!0)&&_C(n.coordinateSystem,!1,n),a=this.group;r?a.setClipPath(r):a.removeClipPath()},t.prototype._enableRealtimeSort=function(n,r,a){var i=this;if(r.count()){var o=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,n,a),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(n,r,a){var i=[];return n.each(n.mapDimension(r.dim),function(o,s){var l=a(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:ut(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(n,r,a){for(var i=a.scale,o=n.mapDimension(a.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=n.rawIndexOf(o,i.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:r(n.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(n,r){for(var a=r.scale,i=a.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(n.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(n,r,a,i){if(this._isOrderChangedWithinSameData(n,r,a)){var o=this._dataSort(n,a,r);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(n,r,a){var i=r.baseAxis,o=this._dataSort(n,i,function(s){return n.get(n.mapDimension(r.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(n,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(n,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(n){var r=this.group,a=this._data;n&&n.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){Yw(i,n,sn(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Dr),cZ={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var a=e.x+e.width,i=e.y+e.height,o=G$(t.x,e.x),s=K$(t.x+t.width,a),l=G$(t.y,e.y),u=K$(t.y+t.height,i),c=s<o,f=u<l;return t.x=c&&o>a?s:o,t.y=f&&l>i?u:l,t.width=c?0:s-o,t.height=f?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}var a=K$(t.r,e.r),i=G$(t.r0,e.r0);t.r=a,t.r0=i;var o=a-i<0;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},fZ={cartesian2d:function(e,t,n,r,a,i,o,s,l){var u=new Bn({shape:rt({},r),z2:1});if(u.__dataIndex=n,u.name="item",i){var c=u.shape,f=a?"height":"width";c[f]=0}return u},polar:function(e,t,n,r,a,i,o,s,l){var u=!a&&l?NE:ss,c=new u({shape:r,z2:1});c.name="item";var f=v1e(a);if(c.calculateTextPosition=_3t(f,{isRoundCap:u===NE}),i){var d=c.shape,h=a?"r":"endAngle",p={};d[h]=a?r.r0:r.startAngle,p[h]=r[h],(s?Jn:Xr)(c,{shape:p},i)}return c}};function k3t(e,t){var n=e.get("realtimeSort",!0),r=t.getBaseAxis();if(n&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function dZ(e,t,n,r,a,i,o,s){var l,u;i?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Jn:Xr)(n,{shape:l},t,a,null);var c=t?e.baseAxis.model:null;(o?Jn:Xr)(n,{shape:u},c,a)}function hZ(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var I3t=["x","y","width","height"],E3t=["cx","cy","r","startAngle","endAngle"],pZ={cartesian2d:function(e){return!hZ(e,I3t)},polar:function(e){return!hZ(e,E3t)}},sT={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),a=n?D3t(n,r):0,i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*a/2,y:r.y+o*a/2,width:r.width-i*a,height:r.height-o*a}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function A3t(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function v1e(e){return function(t){var n=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+n;default:return r}}}(e)}function vZ(e,t,n,r,a,i,o,s){var l=t.getItemVisual(n,"style");if(s){if(!i.get("roundCap")){var c=e.shape,f=$v(r.getModel("itemStyle"),c,!0);rt(c,f),e.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var d=r.getShallow("cursor");d&&e.attr("cursor",d);var h=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",p=vi(r);Yi(e,p,{labelFetcher:i,labelDataIndex:n,defaultText:My(i.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var v=e.getTextContent();if(s&&v){var g=r.get(["label","position"]);e.textConfig.inside=g==="middle"?!0:null,S3t(e,g==="outside"?h:g,v1e(o),r.get(["label","rotate"]))}$0e(v,p,i.getRawValue(n),function(y){return o1e(t,y)});var m=r.getModel(["emphasis"]);la(e,m.get("focus"),m.get("blurScope"),m.get("disabled")),ji(e,r),A3t(a)&&(e.style.fill="none",e.style.stroke="none",X(e.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function D3t(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var r=e.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,a,i)}var N3t=function(){function e(){}return e}(),gZ=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new N3t},t.prototype.buildPath=function(n,r){for(var a=r.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<a.length;c+=3)l[i]=u,l[o]=a[c+2],s[i]=a[c+i],s[o]=a[c+o],n.rect(s[0],s[1],l[0],l[1])},t}(An);function mZ(e,t,n,r){var a=e.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),l=e.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var c=new gZ({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),n&&n.push(c)}var f=new gZ({shape:{points:a.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(a.getVisual("style")),f.style.stroke=null,sn(f).seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",yZ),f.on("mousemove",yZ)),n&&n.push(f)}var yZ=E5(function(e){var t=this,n=R3t(t,e.offsetX,e.offsetY);sn(t).dataIndex=n>=0?n:null},30,!1);function R3t(e,t,n){for(var r=e.baseDimIdx,a=1-r,i=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,f=i.length/3;c<f;c++){var d=c*3;if(l[r]=u,l[a]=i[d+2],s[r]=i[d+r],s[a]=i[d+a],l[a]<0&&(s[a]+=l[a],l[a]=-l[a]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[c]}return-1}function g1e(e,t,n){if(u0(n,"cartesian2d")){var r=t,a=n.getArea();return{x:e?r.x:a.x,y:e?a.y:r.y,width:e?r.width:a.width,height:e?a.height:r.height}}else{var a=n.getArea(),i=t;return{cx:a.cx,cy:a.cy,r0:e?a.r0:i.r0,r:e?a.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:Math.PI*2}}}function M3t(e,t,n){var r=e.type==="polar"?ss:Bn;return new r({shape:g1e(t,n,e),silent:!0,z2:0})}function $3t(e){e.registerChartView(T3t),e.registerSeriesModel(x3t),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,vn(wye,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,_ye("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,p1e("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,n){var r=t.componentType||"series";n.eachComponent({mainType:r,query:t},function(a){t.sortInfo&&a.axis.setCategorySortInfo(t.sortInfo)})})}var bZ=Math.PI*2,lT=Math.PI/180;function m1e(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function y1e(e,t){var n=m1e(e,t),r=e.get("center"),a=e.get("radius");st(a)||(a=[0,a]);var i=St(n.width,t.getWidth()),o=St(n.height,t.getHeight()),s=Math.min(i,o),l=St(a[0],s/2),u=St(a[1],s/2),c,f,d=e.coordinateSystem;if(d){var h=d.dataToPoint(r);c=h[0]||0,f=h[1]||0}else st(r)||(r=[r,r]),c=St(r[0],i)+n.x,f=St(r[1],o)+n.y;return{cx:c,cy:f,r0:l,r:u}}function L3t(e,t,n){t.eachSeriesByType(e,function(r){var a=r.getData(),i=a.mapDimension("value"),o=m1e(r,n),s=y1e(r,n),l=s.cx,u=s.cy,c=s.r,f=s.r0,d=-r.get("startAngle")*lT,h=r.get("endAngle"),p=r.get("padAngle")*lT;h=h==="auto"?d-bZ:-h*lT;var v=r.get("minAngle")*lT,g=v+p,m=0;a.each(i,function(P){!isNaN(P)&&m++});var y=a.getSum(i),b=Math.PI/(y||m)*2,x=r.get("clockwise"),_=r.get("roseType"),S=r.get("stillShowZeroSum"),C=a.getDataExtent(i);C[0]=0;var k=x?1:-1,T=[d,h],E=k*p/2;r5(T,!x),d=T[0],h=T[1];var I=b1e(r);I.startAngle=d,I.endAngle=h,I.clockwise=x;var A=Math.abs(h-d),N=A,L=0,R=d;if(a.setLayout({viewRect:o,r:c}),a.each(i,function(P,O){var M;if(isNaN(P)){a.setItemLayout(O,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:l,cy:u,r0:f,r:_?NaN:c});return}_!=="area"?M=y===0&&S?b:P*b:M=A/m,M<g?(M=g,N-=g):L+=P;var W=R+k*M,U=0,V=0;p>M?(U=R+k*M/2,V=U):(U=R+E,V=W-E),a.setItemLayout(O,{angle:M,startAngle:U,endAngle:V,clockwise:x,cx:l,cy:u,r0:f,r:_?cr(P,C,[f,c]):c}),R=W}),N<bZ&&m)if(N<=.001){var D=A/m;a.each(i,function(P,O){if(!isNaN(P)){var M=a.getItemLayout(O);M.angle=D;var W=0,U=0;D<p?(W=d+k*(O+1/2)*D,U=W):(W=d+k*O*D+E,U=d+k*(O+1)*D-E),M.startAngle=W,M.endAngle=U}})}else b=N/L,R=d,a.each(i,function(P,O){if(!isNaN(P)){var M=a.getItemLayout(O),W=M.angle===g?g:P*b,U=0,V=0;W<p?(U=R+k*W/2,V=U):(U=R+E,V=R+k*W-E),M.startAngle=U,M.endAngle=V,R+=k*W}})})}var b1e=Vn();function CC(e){return{seriesType:e,reset:function(t,n){var r=n.findComponents({mainType:"legend"});if(!(!r||!r.length)){var a=t.getData();a.filterSelf(function(i){for(var o=a.getName(i),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var O3t=Math.PI/180;function xZ(e,t,n,r,a,i,o,s,l,u){if(e.length<2)return;function c(v){for(var g=v.rB,m=g*g,y=0;y<v.list.length;y++){var b=v.list[y],x=Math.abs(b.label.y-n),_=r+b.len,S=_*_,C=Math.sqrt(Math.abs((1-x*x/m)*S)),k=t+(C+b.len2)*a,T=k-b.label.x,E=b.targetTextWidth-T*a;x1e(b,E,!0),b.label.x=k}}function f(v){for(var g={list:[],maxY:0},m={list:[],maxY:0},y=0;y<v.length;y++)if(v[y].labelAlignTo==="none"){var b=v[y],x=b.label.y>n?m:g,_=Math.abs(b.label.y-n);if(_>=x.maxY){var S=b.label.x-t-b.len2*a,C=r+b.len,k=Math.abs(S)<C?Math.sqrt(_*_/(1-S*S/C/C)):C;x.rB=k,x.maxY=_}x.list.push(b)}c(g),c(m)}for(var d=e.length,h=0;h<d;h++)if(e[h].position==="outer"&&e[h].labelAlignTo==="labelLine"){var p=e[h].label.x-u;e[h].linePoints[1][0]+=p,e[h].label.x=u}Hye(e,l,l+o)&&f(e)}function P3t(e,t,n,r,a,i,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;j$(e[d])||(h.x<t?(c=Math.min(c,h.x),l.push(e[d])):(f=Math.max(f,h.x),u.push(e[d])))}for(var d=0;d<e.length;d++){var p=e[d];if(!j$(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,v=p.linePoints,g=void 0;p.labelAlignTo==="edge"?h.x<t?g=v[2][0]-p.labelDistance-o-p.edgeDistance:g=o+a-p.edgeDistance-v[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<t?g=c-o-p.bleedMargin:g=o+a-f-p.bleedMargin:h.x<t?g=h.x-o-p.bleedMargin:g=o+a-h.x-p.bleedMargin,p.targetTextWidth=g,x1e(p,g)}}xZ(u,t,n,r,1,a,i,o,s,f),xZ(l,t,n,r,-1,a,i,o,s,c);for(var d=0;d<e.length;d++){var p=e[d];if(!j$(p)&&p.linePoints){var h=p.label,v=p.linePoints,m=p.labelAlignTo==="edge",y=h.style.padding,b=y?y[1]+y[3]:0,x=h.style.backgroundColor?0:b,_=p.rect.width+x,S=v[1][0]-v[2][0];m?h.x<t?v[2][0]=o+p.edgeDistance+_+p.labelDistance:v[2][0]=o+a-p.edgeDistance-_-p.labelDistance:(h.x<t?v[2][0]=h.x+p.labelDistance:v[2][0]=h.x-p.labelDistance,v[1][0]=v[2][0]+S),v[1][1]=v[2][1]=h.y}}}function x1e(e,t,n){if(n===void 0&&(n=!1),e.labelStyleWidth==null){var r=e.label,a=r.style,i=e.rect,o=a.backgroundColor,s=a.padding,l=s?s[1]+s[3]:0,u=a.overflow,c=i.width+(o?0:l);if(t<c||n){var f=i.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",o)}else{var h=t-l,p=t<c?h:n?h>e.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var v=r.getBoundingRect();i.width=v.width;var g=(r.style.margin||0)+2.1;i.height=v.height+g,i.y-=(i.height-f)/2}}}function j$(e){return e.position==="center"}function F3t(e){var t=e.getData(),n=[],r,a,i=!1,o=(e.get("minShowLabelAngle")||0)*O3t,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function h(S){S.ignore=!0}function p(S){if(!S.ignore)return!0;for(var C in S.states)if(S.states[C].ignore===!1)return!0;return!1}t.each(function(S){var C=t.getItemGraphicEl(S),k=C.shape,T=C.getTextContent(),E=C.getTextGuideLine(),I=t.getItemModel(S),A=I.getModel("label"),N=A.get("position")||I.get(["emphasis","label","position"]),L=A.get("distanceToLabelLine"),R=A.get("alignTo"),D=St(A.get("edgeDistance"),u),P=A.get("bleedMargin"),O=I.getModel("labelLine"),M=O.get("length");M=St(M,u);var W=O.get("length2");if(W=St(W,u),Math.abs(k.endAngle-k.startAngle)<o){X(T.states,h),T.ignore=!0,E&&(X(E.states,h),E.ignore=!0);return}if(p(T)){var U=(k.startAngle+k.endAngle)/2,V=Math.cos(U),H=Math.sin(U),K,j,ne,Q;r=k.cx,a=k.cy;var oe=N==="inside"||N==="inner";if(N==="center")K=k.cx,j=k.cy,Q="center";else{var ae=(oe?(k.r+k.r0)/2*V:k.r*V)+r,me=(oe?(k.r+k.r0)/2*H:k.r*H)+a;if(K=ae+V*3,j=me+H*3,!oe){var ve=ae+V*(M+l-k.r),B=me+H*(M+l-k.r),re=ve+(V<0?-1:1)*W,ge=B;R==="edge"?K=V<0?c+D:c+u-D:K=re+(V<0?-L:L),j=ge,ne=[[ae,me],[ve,B],[re,ge]]}Q=oe?"center":R==="edge"?V>0?"right":"left":V>0?"left":"right"}var Ie=Math.PI,Ce=0,he=A.get("rotate");if(Kn(he))Ce=he*(Ie/180);else if(N==="center")Ce=0;else if(he==="radial"||he===!0){var J=V<0?-U+Ie:-U;Ce=J}else if(he==="tangential"&&N!=="outside"&&N!=="outer"){var te=Math.atan2(V,H);te<0&&(te=Ie*2+te);var xe=H>0;xe&&(te=Ie+te),Ce=te-Ie}if(i=!!Ce,T.x=K,T.y=j,T.rotation=Ce,T.setStyle({verticalAlign:"middle"}),oe){T.setStyle({align:Q});var Be=T.states.select;Be&&(Be.x+=T.x,Be.y+=T.y)}else{var Ee=T.getBoundingRect().clone();Ee.applyTransform(T.getComputedTransform());var Qe=(T.style.margin||0)+2.1;Ee.y-=Qe/2,Ee.height+=Qe,n.push({label:T,labelLine:E,position:N,len:M,len2:W,minTurnAngle:O.get("minTurnAngle"),maxSurfaceAngle:O.get("maxSurfaceAngle"),surfaceNormal:new bn(V,H),linePoints:ne,textAlign:Q,labelDistance:L,labelAlignTo:R,edgeDistance:D,bleedMargin:P,rect:Ee,unconstrainedWidth:Ee.width,labelStyleWidth:T.style.width})}C.setTextConfig({inside:oe})}}),!i&&e.get("avoidLabelOverlap")&&P3t(n,r,a,l,u,d,c,f);for(var v=0;v<n.length;v++){var g=n[v],m=g.label,y=g.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),b&&(X(m.states,h),m.ignore=!0);var x=m.states.select;x&&(x.x+=m.x,x.y+=m.y)}if(y){var _=g.linePoints;b||!_?(X(y.states,h),y.ignore=!0):(Vye(_,g.minTurnAngle),sFt(_,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:_}),m.__hostTarget.textGuideLineConfig={anchor:new bn(_[0][0],_[0][1])})}}}var B3t=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this)||this;i.z2=2;var o=new Un;return i.setTextContent(o),i.updateData(n,r,a,!0),i}return t.prototype.updateData=function(n,r,a,i){var o=this,s=n.hostModel,l=n.getItemModel(r),u=l.getModel("emphasis"),c=n.getItemLayout(r),f=rt($v(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(i){o.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(Xr(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):d==="scale"?(o.shape.r=c.r0,Xr(o,{shape:{r:c.r}},s,r)):a!=null?(o.setShape({startAngle:a,endAngle:a}),Xr(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,Jn(o,{shape:{endAngle:c.endAngle}},s,r))}else Vu(o),Jn(o,{shape:f},s,r);o.useStyle(n.getItemVisual(r,"style")),ji(o,l);var h=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),v=Math.cos(h)*p,g=Math.sin(h)*p,m=l.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(s,n,r),o.ensureState("emphasis").shape=rt({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},$v(u.getModel("itemStyle"),c)),rt(o.ensureState("select"),{x:v,y:g,shape:$v(l.getModel(["select","itemStyle"]),c)}),rt(o.ensureState("blur"),{shape:$v(l.getModel(["blur","itemStyle"]),c)});var y=o.getTextGuideLine(),b=o.getTextContent();y&&rt(y.ensureState("select"),{x:v,y:g}),rt(b.ensureState("select"),{x:v,y:g}),la(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n,r,a){var i=this,o=r.getItemModel(a),s=o.getModel("labelLine"),l=r.getItemVisual(a,"style"),u=l&&l.fill,c=l&&l.opacity;Yi(i,vi(o),{labelFetcher:r.hostModel,labelDataIndex:a,inheritColor:u,defaultOpacity:c,defaultText:n.getFormattedLabel(a,"normal")||r.getName(a)});var f=i.getTextContent();i.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=n.get(["label","position"]);if(d!=="outside"&&d!=="outer")i.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new cs,this.setTextGuideLine(h)),z5(this,W5(o),{stroke:u,opacity:Rc(s.get(["lineStyle","opacity"]),c,1)})}},t}(ss),V3t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,r,a,i){var o=n.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&n.get("showEmptyCircle")){var d=b1e(n),h=new ss({shape:rt(y1e(n,a),d)});h.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}o.diff(s).add(function(p){var v=new B3t(o,p,u);o.setItemGraphicEl(p,v),l.add(v)}).update(function(p,v){var g=s.getItemGraphicEl(v);g.updateData(o,p,u),g.off("click"),l.add(g),o.setItemGraphicEl(p,g)}).remove(function(p){var v=s.getItemGraphicEl(p);Yw(v,n,p)}).execute(),F3t(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(n,r){var a=r.getData(),i=a.getItemLayout(0);if(i){var o=n[0]-i.cx,s=n[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="pie",t}(Dr);function D1(e,t,n){t=st(t)&&{coordDimensions:t}||rt({encodeDefine:e.getEncode()},t);var r=e.getSource(),a=yC(r,t).dimensions,i=new Zo(a,e);return i.initData(r,n),i}var TC=function(){function e(t,n){this._getDataWithEncodedVisual=t,this._getRawData=n}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var n=this._getRawData();return n.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var n=this._getDataWithEncodedVisual();return n.indexOfName(t)},e.prototype.getItemVisual=function(t,n){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,n)},e}(),z3t=Vn(),W3t=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new TC(Nt(this.getData,this),Nt(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return D1(this,{coordDimensions:["value"],encodeDefaulter:vn(x5,this)})},t.prototype.getDataParams=function(n){var r=this.getData(),a=z3t(r),i=a.seats;if(!i){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),i=a.seats=MNt(o,r.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,n);return s.percent=i[n]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(n){Eg(n,"labelLine",["show"]);var r=n.labelLine,a=n.emphasis.labelLine;r.show=r.show&&n.label.show,a.show=a.show&&n.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Vr);function H3t(e){return{seriesType:e,reset:function(t,n){var r=t.getData();r.filterSelf(function(a){var i=r.mapDimension("value"),o=r.get(i,a);return!(Kn(o)&&!isNaN(o)&&o<0)})}}}function U3t(e){e.registerChartView(V3t),e.registerSeriesModel(W3t),Vme("pie",e.registerAction),e.registerLayout(vn(L3t,"pie")),e.registerProcessor(CC("pie")),e.registerProcessor(H3t("pie"))}var G3t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,r){return md(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(n,r,a){return a.point(r.getItemLayout(n))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Vr),w1e=4,K3t=function(){function e(){}return e}(),j3t=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.getDefaultShape=function(){return new K3t},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(n,r){var a=r.points,i=r.size,o=this.symbolProxy,s=o.shape,l=n.getContext?n.getContext():n,u=l&&i[0]<w1e,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<a.length;){var d=a[f++],h=a[f++];isNaN(d)||isNaN(h)||c&&!c.contain(d,h)||(s.x=d-i[0]/2,s.y=h-i[1]/2,s.width=i[0],s.height=i[1],o.buildPath(n,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},t.prototype.afterBrush=function(){var n=this.shape,r=n.points,a=n.size,i=this._ctx,o=this.softClipShape,s;if(i){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||i.fillRect(l-a[0]/2,u-a[1]/2,a[0],a[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(n,r){for(var a=this.shape,i=a.points,o=a.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=i.length/2-1;u>=0;u--){var c=u*2,f=i[c]-s/2,d=i[c+1]-l/2;if(n>=f&&r>=d&&n<=f+s&&r<=d+l)return u}return-1},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();if(n=a[0],r=a[1],i.contain(n,r)){var o=this.hoverDataIdx=this.findDataIndex(n,r);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,a=r.points,i=r.size,o=i[0],s=i[1],l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<a.length;){var h=a[d++],p=a[d++];l=Math.min(h,l),c=Math.max(h,c),u=Math.min(p,u),f=Math.max(p,f)}n=this._rect=new xn(l-o/2,u-s/2,c-l+o,f-u+s)}return n},t}(An),Y3t=function(){function e(){this.group=new an}return e.prototype.updateData=function(t,n){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,n)},e.prototype.updateLayout=function(t){var n=t.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var a=(r.endIndex-r.startIndex)*2,i=r.startIndex*4*2;n=new Float32Array(n.buffer,i,a)}r.setShape("points",n),r.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,n,r){var a=this._newAdded[0],i=n.getLayout("points"),o=a&&a.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+i.length);l.set(o),l.set(i,s),a.endIndex=t.end,a.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,n,r)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new j3t({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,n,r){var a=n.hostModel;r=r||{};var i=n.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.softClipShape=r.clipShape||null,t.symbolProxy=Ma(n.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<w1e;t.useStyle(a.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=n.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=sn(t);u.seriesIndex=a.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>=0&&(u.dataIndex=f+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),X3t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this._updateSymbolDraw(i,n);o.updateData(i,{clipShape:this._getClipShape(n)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(n,r,a){var i=n.getData(),o=this._updateSymbolDraw(i,n);o.incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(n,r,a){this._symbolDraw.incrementalUpdate(n,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=n.end===r.getData().count()},t.prototype.updateTransform=function(n,r,a){var i=n.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var o=SC("").reset(n,r,a);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},t.prototype._getClipShape=function(n){if(n.get("clip",!0)){var r=n.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},t.prototype._updateSymbolDraw=function(n,r){var a=this._symbolDraw,i=r.pipelineContext,o=i.large;return(!a||o!==this._isLargeDraw)&&(a&&a.remove(),a=this._symbolDraw=o?new Y3t:new wC,this._isLargeDraw=o,this.group.removeAll()),this.group.add(a.group),a},t.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Dr),q3t=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Rn),D3=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Da).models[0]},t.type="cartesian2dAxis",t}(Rn);$a(D3,bC);var _1e={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Z3t=mn({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},_1e),X5=mn({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},_1e),J3t=mn({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},X5),Q3t=Xt({logBase:10},X5);const S1e={category:Z3t,value:X5,time:J3t,log:Q3t};var e4t={value:1,category:1,time:1,log:1};function $y(e,t,n,r){X(e4t,function(a,i){var o=mn(mn({},S1e[i],!0),r,!0),s=function(l){Oe(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=qw(this),h=d?C1(c):{},p=f.getTheme();mn(c,p.get(i+"Axis")),mn(c,this.getDefaultOption()),c.type=wZ(c),d&&Uh(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=S3.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+i,u.defaultOption=o,u}(n);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",wZ)}function wZ(e){return e.type||(e.data?"category":"value")}var t4t=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return ut(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),sr(this.getAxes(),function(n){return n.scale.type===t})},e.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},e}(),N3=["x","y"];function _Z(e){return e.type==="interval"||e.type==="time"}var n4t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=N3,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!_Z(n)||!_Z(r))){var a=n.getExtent(),i=r.getExtent(),o=this.dataToPoint([a[0],i[0]]),s=this.dataToPoint([a[1],i[1]]),l=a[1]-a[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,d=o[0]-a[0]*c,h=o[1]-i[0]*f,p=this._transform=[c,0,0,f,d,h];this._invTransform=m1([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var r=this.getAxis("x"),a=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&a.contain(a.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,r){var a=this.dataToPoint(n),i=this.dataToPoint(r),o=this.getArea(),s=new xn(a[0],a[1],i[0]-a[0],i[1]-a[1]);return o.intersect(s)},t.prototype.dataToPoint=function(n,r,a){a=a||[];var i=n[0],o=n[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return Wi(a,n,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(i,r)),a[1]=l.toGlobalCoord(l.dataToCoord(o,r)),a},t.prototype.clampData=function(n,r){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,o=a.getExtent(),s=i.getExtent(),l=a.parse(n[0]),u=i.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(n,r){var a=[];if(this._invTransform)return Wi(a,n,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(n[0]),r),a[1]=o.coordToData(o.toLocalCoord(n[1]),r),a},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(n){n=n||0;var r=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(r[0],r[1])-n,o=Math.min(a[0],a[1])-n,s=Math.max(r[0],r[1])-i+n,l=Math.max(a[0],a[1])-o+n;return new xn(i,o,s,l)},t}(t4t),r4t=function(e){Oe(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(ju);function R3(e,t,n){n=n||{};var r=e.coordinateSystem,a=t.axis,i={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,u=a.dim,c=r.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,p=u==="x"?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(o){var v=o.toGlobalCoord(o.dataToCoord(0));p[d.onZero]=Math.max(Math.min(v,p[1]),p[0])}i.position=[u==="y"?p[d[l]]:f[0],u==="x"?p[d[l]]:f[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=g[s],i.labelOffset=o?p[d[s]]-p[d.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Si(n.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=t.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-m:m,i.z2=1,i}function SZ(e){return e.get("coordinateSystem")==="cartesian2d"}function CZ(e){var t={xAxisModel:null,yAxisModel:null};return X(t,function(n,r){var a=r.replace(/Model$/,""),i=e.getReferringComponents(a,Da).models[0];t[r]=i}),t}var Y$=Math.log;function C1e(e,t,n){var r=td.prototype,a=r.getTicks.call(n),i=r.getTicks.call(n,!0),o=a.length-1,s=r.getInterval.call(n),l=Iye(e,t),u=l.extent,c=l.fixMin,f=l.fixMax;if(e.type==="log"){var d=Y$(e.base);u=[Y$(u[0])/d,Y$(u[1])/d]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var h=r.getExtent.call(e);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var p=r.getInterval.call(e),v=u[0],g=u[1];if(c&&f)p=(g-v)/o;else if(c)for(g=u[0]+p*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)p=M$(p),g=u[0]+p*o;else if(f)for(v=u[1]-p*o;v>u[0]&&isFinite(v)&&isFinite(u[0]);)p=M$(p),v=u[1]-p*o;else{var m=e.getTicks().length-1;m>o&&(p=M$(p));var y=p*o;g=Math.ceil(u[1]/p)*p,v=ha(g-y),v<0&&u[0]>=0?(v=0,g=ha(y)):g>0&&u[1]<=0&&(g=0,v=-ha(y))}var b=(a[0].value-i[0].value)/s,x=(a[o].value-i[o].value)/s;r.setExtent.call(e,v+p*b,g+p*x),r.setInterval.call(e,p),(b||x)&&r.setNiceExtent.call(e,v+p,g-p)}var a4t=function(){function e(t,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=N3,this._initCartesian(t,n,r),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,n){var r=this._axesMap;this._updateScale(t,this.model);function a(o){var s,l=Mn(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=o[d],p=h.model,v=h.scale;C3(v)&&p.get("alignTicks")&&p.get("interval")==null?c.push(h):(Ry(v,p),C3(v)&&(s=h))}c.length&&(s||(s=c.pop(),Ry(s.scale,s.model)),X(c,function(g){C1e(g.scale,g.model,s.scale)}))}}a(r.x),a(r.y);var i={};X(r.x,function(o){TZ(r,"y",o,i)}),X(r.y,function(o){TZ(r,"x",o,i)}),this.resize(this.model,n)},e.prototype.resize=function(t,n,r){var a=t.getBoxLayoutParams(),i=!r&&t.get("containLabel"),o=Ya(a,{width:n.getWidth(),height:n.getHeight()});this._rect=o;var s=this._axesList;l(),i&&(X(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=FPt(u);if(c){var f=u.isHorizontal()?"height":"width",d=u.model.get(["axisLabel","margin"]);o[f]-=c[f]+d,u.position==="top"?o.y+=c.height+d:u.position==="left"&&(o.x+=c.width+d)}}}),l()),X(this._coordsList,function(u){u.calcAffineTransform()});function l(){X(s,function(u){var c=u.isHorizontal(),f=c?[0,o.width]:[0,o.height],d=u.inverse?1:0;u.setExtent(f[d],f[1-d]),i4t(u,c?o.x:o.y)})}},e.prototype.getAxis=function(t,n){var r=this._axesMap[t];if(r!=null)return r[n||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var r="x"+t+"y"+n;return this._coordsMap[r]}Jt(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===t||i[a].getAxis("y").index===n)return i[a]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,n,r){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null},e.prototype.convertFromPixel=function(t,n,r){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null},e.prototype._findConvertTarget=function(t){var n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis",Da).models[0],a=t.yAxisModel||n&&n.getReferringComponents("yAxis",Da).models[0],i=t.gridModel,o=this._coordsList,s,l;if(n)s=n.coordinateSystem,Cn(o,s)<0&&(s=null);else if(r&&a)s=this.getCartesian(r.componentIndex,a.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},e.prototype._initCartesian=function(t,n,r){var a=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",u("x"),this),n.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,X(s.x,function(c,f){X(s.y,function(d,h){var p="x"+f+"y"+h,v=new n4t(p);v.master=a,v.model=t,a._coordsMap[p]=v,a._coordsList.push(v),v.addAxis(c),v.addAxis(d)})});function u(c){return function(f,d){if(X$(f,t)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var p=new r4t(c,QN(f),[0,0],f.get("type"),h),v=p.type==="category";p.onBand=v&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=i,p.index=d,i._axesList.push(p),s[c][d]=p,l[c]++}}}},e.prototype._updateScale=function(t,n){X(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),t.eachSeries(function(a){if(SZ(a)){var i=CZ(a),o=i.xAxisModel,s=i.yAxisModel;if(!X$(o,n)||!X$(s,n))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),c=l.getAxis("x"),f=l.getAxis("y");r(u,c),r(u,f)}},this);function r(a,i){X(IE(a,i.dim),function(o){i.scale.unionExtentFromData(a,o)})}},e.prototype.getTooltipAxes=function(t){var n=[],r=[];return X(this.getCartesians(),function(a){var i=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),o=a.getOtherAxis(i);Cn(n,i)<0&&n.push(i),Cn(r,o)<0&&r.push(o)}),{baseAxes:n,otherAxes:r}},e.create=function(t,n){var r=[];return t.eachComponent("grid",function(a,i){var o=new e(a,t,n);o.name="grid_"+i,o.resize(a,n,!0),a.coordinateSystem=o,r.push(o)}),t.eachSeries(function(a){if(SZ(a)){var i=CZ(a),o=i.xAxisModel,s=i.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},e.dimensions=N3,e}();function X$(e,t){return e.getCoordSysModel()===t}function TZ(e,t,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var a=e[t],i,o=n.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)kZ(a[l])&&(i=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&kZ(a[u])&&!r[c(a[u])]){i=a[u];break}i&&(r[c(i)]=!0);function c(f){return f.dim+"_"+f.index}}function kZ(e){return e&&e.type!=="category"&&e.type!=="time"&&PPt(e)}function i4t(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(a){return a+t}:function(a){return r-a+t},e.toLocalCoord=e.dim==="x"?function(a){return a-t}:function(a){return r-a+t}}var ih=Math.PI,Jo=function(){function e(t,n){this.group=new an,this.opt=n,this.axisModel=t,Xt(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new an({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return e.prototype.hasBuilder=function(t){return!!IZ[t]},e.prototype.add=function(t){IZ[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,n,r){var a=zge(n-t),i,o;return Uw(a)?(o=r>0?"top":"bottom",i="center"):Uw(a-ih)?(o=r>0?"bottom":"top",i="center"):(o="middle",a>0&&a<ih?i=r>0?"right":"left":i=r>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},e.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},e.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},e}(),IZ={axisLine:function(e,t,n,r){var a=t.get(["axisLine","show"]);if(a==="auto"&&e.handleAutoShown&&(a=e.handleAutoShown("axisLine")),!!a){var i=t.axis.getExtent(),o=r.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];o&&(Wi(s,s,o),Wi(l,l,o));var c=rt({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new ii({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Ay(f.shape,f.style.lineWidth),f.anid="line",n.add(f);var d=t.get(["axisLine","symbol"]);if(d!=null){var h=t.get(["axisLine","symbolSize"]);Dt(d)&&(d=[d,d]),(Dt(h)||Kn(h))&&(h=[h,h]);var p=s0(t.get(["axisLine","symbolOffset"])||0,h),v=h[0],g=h[1];X([{rotate:e.rotation+Math.PI/2,offset:p[0],r:0},{rotate:e.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,y){if(d[y]!=="none"&&d[y]!=null){var b=Ma(d[y],-v/2,-g/2,v,g,c.stroke,!0),x=m.r+m.offset,_=u?l:s;b.attr({rotation:m.rotate,x:_[0]+x*Math.cos(e.rotation),y:_[1]-x*Math.sin(e.rotation),silent:!0,z2:11}),n.add(b)}})}}},axisTickLabel:function(e,t,n,r){var a=l4t(n,r,t,e),i=c4t(n,r,t,e);if(s4t(t,i,a),u4t(n,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=zye(ut(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Uye(o)}},axisName:function(e,t,n,r){var a=Si(e.axisName,t.get("name"));if(a){var i=t.get("nameLocation"),o=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[i==="start"?u[0]-c*l:i==="end"?u[1]+c*l:(u[0]+u[1])/2,AZ(i)?e.labelOffset+o*l:0],d,h=t.get("nameRotate");h!=null&&(h=h*ih/180);var p;AZ(i)?d=Jo.innerTextLayout(e.rotation,h??e.rotation,o):(d=o4t(e.rotation,i,h||0,u),p=e.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(d.rotation)),!isFinite(p)&&(p=null)));var v=s.getFont(),g=t.get("nameTruncate",!0)||{},m=g.ellipsis,y=Si(e.nameTruncateMaxWidth,g.maxWidth,p),b=new Un({x:f[0],y:f[1],rotation:d.rotation,silent:Jo.isLabelSilent(t),style:Fr(s,{text:a,font:v,overflow:"truncate",width:y,ellipsis:m,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(i0({el:b,componentModel:t,itemName:a}),b.__fullText=a,b.anid="name",t.get("triggerEvent")){var x=Jo.makeAxisEventDataBase(t);x.targetType="axisName",x.name=a,sn(b).eventData=x}r.add(b),b.updateTransform(),n.add(b),b.decomposeTransform()}}};function o4t(e,t,n,r){var a=zge(n-e),i,o,s=r[0]>r[1],l=t==="start"&&!s||t!=="start"&&s;return Uw(a-ih/2)?(o=l?"bottom":"top",i="center"):Uw(a-ih*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",a<ih*1.5&&a>ih/2?i=l?"left":"right":i=l?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:o}}function s4t(e,t,n){if(!Eye(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),a=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var i=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2];r===!1?(il(i),il(u)):EZ(i,o)&&(r?(il(o),il(c)):(il(i),il(u))),a===!1?(il(s),il(f)):EZ(l,s)&&(a?(il(l),il(d)):(il(s),il(f)))}}function il(e){e&&(e.ignore=!0)}function EZ(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!n||!r)){var a=CN([]);return a0(a,a,-e.rotation),n.applyTransform(Pf([],a,e.getLocalTransform())),r.applyTransform(Pf([],a,t.getLocalTransform())),n.intersect(r)}}function AZ(e){return e==="middle"||e==="center"}function T1e(e,t,n,r,a){for(var i=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=n,t&&(Wi(o,o,t),Wi(s,s,t));var c=new ii({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Ay(c.shape,c.style.lineWidth),c.anid=a+"_"+e[l].tickValue,i.push(c)}return i}function l4t(e,t,n,r){var a=n.axis,i=n.getModel("axisTick"),o=i.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||a.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=r.tickDirection*i.get("length"),u=a.getTicksCoords(),c=T1e(u,t.transform,l,Xt(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}}function u4t(e,t,n,r){var a=n.axis,i=n.getModel("minorTick");if(!(!i.get("show")||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=r*i.get("length"),u=Xt(s.getLineStyle(),Xt(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var f=T1e(o[c],t.transform,l,u,"minorticks_"+c),d=0;d<f.length;d++)e.add(f[d])}}function c4t(e,t,n,r){var a=n.axis,i=Si(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!i||a.scale.isBlank())){var o=n.getModel("axisLabel"),s=o.get("margin"),l=a.getViewLabels(),u=(Si(r.labelRotate,o.get("rotate"))||0)*ih/180,c=Jo.innerTextLayout(r.rotation,u,r.labelDirection),f=n.getCategories&&n.getCategories(!0),d=[],h=Jo.isLabelSilent(n),p=n.get("triggerEvent");return X(l,function(v,g){var m=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,y=v.formattedLabel,b=v.rawLabel,x=o;if(f&&f[m]){var _=f[m];Jt(_)&&_.textStyle&&(x=new pr(_.textStyle,o,n.ecModel))}var S=x.getTextColor()||n.get(["axisLine","lineStyle","color"]),C=a.dataToCoord(m),k=x.getShallow("align",!0)||c.textAlign,T=fn(x.getShallow("alignMinLabel",!0),k),E=fn(x.getShallow("alignMaxLabel",!0),k),I=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,A=fn(x.getShallow("verticalAlignMinLabel",!0),I),N=fn(x.getShallow("verticalAlignMaxLabel",!0),I),L=new Un({x:C,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:h,z2:10+(v.level||0),style:Fr(x,{text:y,align:g===0?T:g===l.length-1?E:k,verticalAlign:g===0?A:g===l.length-1?N:I,fill:Yt(S)?S(a.type==="category"?b:a.type==="value"?m+"":m,g):S})});if(L.anid="label_"+m,i0({el:L,componentModel:n,itemName:y,formatterParamsExtra:{isTruncated:function(){return L.isTruncated},value:b,tickIndex:g}}),p){var R=Jo.makeAxisEventDataBase(n);R.targetType="axisLabel",R.value=b,R.tickIndex=g,a.type==="category"&&(R.dataIndex=m),sn(L).eventData=R}t.add(L),L.updateTransform(),d.push(L),e.add(L),L.decomposeTransform()}),d}}function f4t(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return d4t(n,e,t),n.seriesInvolved&&p4t(n,e),n}function d4t(e,t,n){var r=t.getComponent("tooltip"),a=t.getComponent("axisPointer"),i=a.get("link",!0)||[],o=[];X(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=i_(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",r);if(X(s.getAxes(),vn(v,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&X(p.baseAxes,vn(v,h?"cross":!0,d)),h&&X(p.otherAxes,vn(v,"cross",!1))}function v(g,m,y){var b=y.model.getModel("axisPointer",a),x=b.get("show");if(!(!x||x==="auto"&&!g&&!M3(b))){m==null&&(m=b.get("triggerTooltip")),b=g?h4t(y,f,a,t,g,m):b;var _=b.get("snap"),S=b.get("triggerEmphasis"),C=i_(y.model),k=m||_||y.type==="category",T=e.axesInfo[C]={key:C,axis:y,coordSys:s,axisPointerModel:b,triggerTooltip:m,triggerEmphasis:S,involveSeries:k,snap:_,useHandle:M3(b),seriesModels:[],linkGroup:null};u[C]=T,e.seriesInvolved=e.seriesInvolved||k;var E=v4t(i,y);if(E!=null){var I=o[E]||(o[E]={axesInfo:{}});I.axesInfo[C]=T,I.mapper=i[E].mapper,T.linkGroup=I}}}})}function h4t(e,t,n,r,a,i){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};X(s,function(d){l[d]=en(o.get(d))}),l.snap=e.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!i){var f=l.lineStyle=o.get("crossStyle");f&&Xt(u,f.textStyle)}}return e.model.getModel("axisPointer",new pr(l,n,r))}function p4t(e,t){t.eachSeries(function(n){var r=n.coordinateSystem,a=n.get(["tooltip","trigger"],!0),i=n.get(["tooltip","show"],!0);!r||a==="none"||a===!1||a==="item"||i===!1||n.get(["axisPointer","show"],!0)===!1||X(e.coordSysAxesInfo[i_(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(n),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=n.getData().count())})})}function v4t(e,t){for(var n=t.model,r=t.dim,a=0;a<e.length;a++){var i=e[a]||{};if(q$(i[r+"AxisId"],n.id)||q$(i[r+"AxisIndex"],n.componentIndex)||q$(i[r+"AxisName"],n.name))return a}}function q$(e,t){return e==="all"||st(e)&&Cn(e,t)>=0||e===t}function g4t(e){var t=q5(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,a=n.option,i=n.get("status"),o=n.get("value");o!=null&&(o=r.parse(o));var s=M3(n);i==null&&(a.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=t.axis.scale.isBlank()?"hide":"show")}}function q5(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[i_(e)]}function m4t(e){var t=q5(e);return t&&t.axisPointerModel}function M3(e){return!!e.get(["handle","show"])}function i_(e){return e.type+"||"+e.id}var DZ={},c0=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){this.axisPointerClass&&g4t(n),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,a,!0)},t.prototype.updateAxisPointer=function(n,r,a,i){this._doUpdateAxisPointerClass(n,a,!1)},t.prototype.remove=function(n,r){var a=this._axisPointer;a&&a.remove(r)},t.prototype.dispose=function(n,r){this._disposeAxisPointer(r),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,r,a){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var o=m4t(n);o?(this._axisPointer||(this._axisPointer=new i)).render(n,o,r,a):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,r){DZ[n]=r},t.getAxisPointerClass=function(n){return n&&DZ[n]},t.type="axis",t}(na),$3=Vn();function k1e(e,t,n,r){var a=n.axis;if(!a.scale.isBlank()){var i=n.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,f=$3(e).splitAreaColors,d=Pt(),h=0;if(f)for(var p=0;p<u.length;p++){var v=f.get(u[p].tickValue);if(v!=null){h=(v+(c-1)*p)%c;break}}var g=a.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=st(s)?s:[s];for(var p=1;p<u.length;p++){var y=a.toGlobalCoord(u[p].coord),b=void 0,x=void 0,_=void 0,S=void 0;a.isHorizontal()?(b=g,x=l.y,_=y-b,S=l.height,g=b+_):(b=l.x,x=g,_=l.width,S=y-x,g=x+S);var C=u[p-1].tickValue;C!=null&&d.set(C,h),t.add(new Bn({anid:C!=null?"area_"+C:null,shape:{x:b,y:x,width:_,height:S},style:Xt({fill:s[h]},m),autoBatch:!0,silent:!0})),h=(h+1)%c}$3(e).splitAreaColors=d}}}function I1e(e){$3(e).splitAreaColors=null}var y4t=["axisLine","axisTickLabel","axisName"],b4t=["splitArea","splitLine","minorSplitLine"],E1e=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,r,a,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new an,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),l=R3(s,n),u=new Jo(n,rt({handleAutoShown:function(f){for(var d=s.coordinateSystem.getCartesians(),h=0;h<d.length;h++)if(C3(d[h].getOtherAxis(n.axis).scale))return!0;return!1}},l));X(y4t,u.add,u),this._axisGroup.add(u.getGroup()),X(b4t,function(f){n.get([f,"show"])&&x4t[f](this,this._axisGroup,n,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||pC(o,this._axisGroup,n),e.prototype.render.call(this,n,r,a,i)}},t.prototype.remove=function(){I1e(this)},t.type="cartesianAxis",t}(c0),x4t={splitLine:function(e,t,n,r){var a=n.axis;if(!a.scale.isBlank()){var i=n.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color"),l=i.get("showMinLine")!==!1,u=i.get("showMaxLine")!==!1;s=st(s)?s:[s];for(var c=r.coordinateSystem.getRect(),f=a.isHorizontal(),d=0,h=a.getTicksCoords({tickModel:i}),p=[],v=[],g=o.getLineStyle(),m=0;m<h.length;m++){var y=a.toGlobalCoord(h[m].coord);if(!(m===0&&!l||m===h.length-1&&!u)){var b=h[m].tickValue;f?(p[0]=y,p[1]=c.y,v[0]=y,v[1]=c.y+c.height):(p[0]=c.x,p[1]=y,v[0]=c.x+c.width,v[1]=y);var x=d++%s.length,_=new ii({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},style:Xt({stroke:s[x]},g),silent:!0});Ay(_.shape,g.lineWidth),t.add(_)}}}},minorSplitLine:function(e,t,n,r){var a=n.axis,i=n.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var c=[],f=[],d=o.getLineStyle(),h=0;h<u.length;h++)for(var p=0;p<u[h].length;p++){var v=a.toGlobalCoord(u[h][p].coord);l?(c[0]=v,c[1]=s.y,f[0]=v,f[1]=s.y+s.height):(c[0]=s.x,c[1]=v,f[0]=s.x+s.width,f[1]=v);var g=new ii({anid:"minor_line_"+u[h][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:d,silent:!0});Ay(g.shape,d.lineWidth),t.add(g)}},splitArea:function(e,t,n,r){k1e(e,t,n,r)}},A1e=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(E1e),w4t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=A1e.type,n}return t.type="yAxis",t}(E1e),_4t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new Bn({shape:n.coordinateSystem.getRect(),style:Xt({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(na),NZ={offset:0};function D1e(e){e.registerComponentView(_4t),e.registerComponentModel(q3t),e.registerCoordinateSystem("cartesian2d",a4t),$y(e,"x",D3,NZ),$y(e,"y",D3,NZ),e.registerComponentView(A1e),e.registerComponentView(w4t),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function S4t(e){kn(D1e),e.registerSeriesModel(G3t),e.registerChartView(X3t),e.registerLayout(SC("scatter"))}function C4t(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),r=[],a=t.coordinateSystem;if(a){var i=a.getIndicatorAxes();X(i,function(o,s){n.each(n.mapDimension(i[s].dim),function(l,u){r[u]=r[u]||[];var c=a.dataToPoint(l,s);r[u][s]=RZ(c)?c:MZ(a)})}),n.each(function(o){var s=cDt(r[o],function(l){return RZ(l)})||MZ(a);r[o].push(s.slice()),n.setItemLayout(o,r[o])})}})}function RZ(e){return!isNaN(e[0])&&!isNaN(e[1])}function MZ(e){return[e.cx,e.cy]}function T4t(e){var t=e.polar;if(t){st(t)||(t=[t]);var n=[];X(t,function(r,a){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),e.radar=e.radar||[],st(e.radar)||(e.radar=[e.radar]),e.radar.push(r)):n.push(r)}),e.polar=n}X(e.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var k4t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=n.coordinateSystem,o=this.group,s=n.getData(),l=this._data;function u(d,h){var p=d.getItemVisual(h,"symbol")||"circle";if(p!=="none"){var v=E1(d.getItemVisual(h,"symbolSize")),g=Ma(p,-1,-1,2,2),m=d.getItemVisual(h,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:m*Math.PI/180||0}),g}}function c(d,h,p,v,g,m){p.removeAll();for(var y=0;y<h.length-1;y++){var b=u(v,g);b&&(b.__dimIdx=y,d[y]?(b.setPosition(d[y]),o0[m?"initProps":"updateProps"](b,{x:h[y][0],y:h[y][1]},n,g)):b.setPosition(h[y]),p.add(b))}}function f(d){return ut(d,function(h){return[i.cx,i.cy]})}s.diff(l).add(function(d){var h=s.getItemLayout(d);if(h){var p=new ls,v=new cs,g={shape:{points:h}};p.shape.points=f(h),v.shape.points=f(h),Xr(p,g,n,d),Xr(v,g,n,d);var m=new an,y=new an;m.add(v),m.add(p),m.add(y),c(v.shape.points,h,y,s,d,!0),s.setItemGraphicEl(d,m)}}).update(function(d,h){var p=l.getItemGraphicEl(h),v=p.childAt(0),g=p.childAt(1),m=p.childAt(2),y={shape:{points:s.getItemLayout(d)}};y.shape.points&&(c(v.shape.points,y.shape.points,m,s,d,!1),Vu(g),Vu(v),Jn(v,y,n),Jn(g,y,n),s.setItemGraphicEl(d,p))}).remove(function(d){o.remove(l.getItemGraphicEl(d))}).execute(),s.eachItemGraphicEl(function(d,h){var p=s.getItemModel(h),v=d.childAt(0),g=d.childAt(1),m=d.childAt(2),y=s.getItemVisual(h,"style"),b=y.fill;o.add(d),v.useStyle(Xt(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),ji(v,p,"lineStyle"),ji(g,p,"areaStyle");var x=p.getModel("areaStyle"),_=x.isEmpty()&&x.parentModel.isEmpty();g.ignore=_,X(["emphasis","select","blur"],function(k){var T=p.getModel([k,"areaStyle"]),E=T.isEmpty()&&T.parentModel.isEmpty();g.ensureState(k).ignore=E&&_}),g.useStyle(Xt(x.getAreaStyle(),{fill:b,opacity:.7,decal:y.decal}));var S=p.getModel("emphasis"),C=S.getModel("itemStyle").getItemStyle();m.eachChild(function(k){if(k instanceof Ri){var T=k.style;k.useStyle(rt({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},y))}else k.useStyle(y),k.setColor(b),k.style.strokeNoScale=!0;var E=k.ensureState("emphasis");E.style=en(C);var I=s.getStore().get(s.getDimensionIndex(k.__dimIdx),h);(I==null||isNaN(I))&&(I=""),Yi(k,vi(p),{labelFetcher:s.hostModel,labelDataIndex:h,labelDimIndex:k.__dimIdx,defaultText:I,inheritColor:b,defaultOpacity:y.opacity})}),la(d,S.get("focus"),S.get("blurScope"),S.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Dr),I4t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new TC(Nt(this.getData,this),Nt(this.getRawData,this))},t.prototype.getInitialData=function(n,r){return D1(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(n),u=l===""?this.name:l,c=Eme(this,n);return gi("section",{header:u,sortBlocks:!0,blocks:ut(s,function(f){var d=i.get(i.mapDimension(f.dim),n);return gi("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:d,sortParam:d})})})},t.prototype.getTooltipPosition=function(n){if(n!=null){for(var r=this.getData(),a=this.coordinateSystem,i=r.getValues(ut(a.dimensions,function(u){return r.mapDimension(u)}),n),o=0,s=i.length;o<s;o++)if(!isNaN(i[o])){var l=a.getIndicatorAxes();return a.coordToPoint(l[o].dataToCoord(i[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Vr),hb=S1e.value;function uT(e,t){return Xt({show:t},e)}var E4t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){var n=this.get("boundaryGap"),r=this.get("splitNumber"),a=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),h=ut(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var v=l;p.color!=null&&(v=Xt({color:p.color},l));var g=mn(en(p),{boundaryGap:n,splitNumber:r,scale:a,axisLine:i,axisTick:o,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:v,triggerEvent:d},!1);if(Dt(c)){var m=g.name;g.name=c.replace("{value}",m??"")}else Yt(c)&&(g.name=c(g.name,g));var y=new pr(g,null,this.ecModel);return $a(y,bC.prototype),y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:mn({lineStyle:{color:"#bbb"}},hb.axisLine),axisLabel:uT(hb.axisLabel,!1),axisTick:uT(hb.axisTick,!1),splitLine:uT(hb.splitLine,!0),splitArea:uT(hb.splitArea,!0),indicator:[]},t}(Rn),A4t=["axisLine","axisTickLabel","axisName"],D4t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=this.group;i.removeAll(),this._buildAxes(n),this._buildSplitLineAndArea(n)},t.prototype._buildAxes=function(n){var r=n.coordinateSystem,a=r.getIndicatorAxes(),i=ut(a,function(o){var s=o.model.get("showName")?o.name:"",l=new Jo(o.model,{axisName:s,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});X(i,function(o){X(A4t,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(n){var r=n.coordinateSystem,a=r.getIndicatorAxes();if(!a.length)return;var i=n.get("shape"),o=n.getModel("splitLine"),s=n.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),d=l.get("color"),h=u.get("color"),p=st(d)?d:[d],v=st(h)?h:[h],g=[],m=[];function y(R,D,P){var O=P%D.length;return R[O]=R[O]||[],O}if(i==="circle")for(var b=a[0].getTicksCoords(),x=r.cx,_=r.cy,S=0;S<b.length;S++){if(c){var C=y(g,p,S);g[C].push(new gd({shape:{cx:x,cy:_,r:b[S].coord}}))}if(f&&S<b.length-1){var C=y(m,v,S);m[C].push(new fC({shape:{cx:x,cy:_,r0:b[S].coord,r:b[S+1].coord}}))}}else for(var k,T=ut(a,function(R,D){var P=R.getTicksCoords();return k=k==null?P.length-1:Math.min(P.length-1,k),ut(P,function(O){return r.coordToPoint(O.coord,D)})}),E=[],S=0;S<=k;S++){for(var I=[],A=0;A<a.length;A++)I.push(T[A][S]);if(I[0]&&I.push(I[0].slice()),c){var C=y(g,p,S);g[C].push(new cs({shape:{points:I}}))}if(f&&E){var C=y(m,v,S-1);m[C].push(new ls({shape:{points:I.concat(E)}}))}E=I.slice().reverse()}var N=l.getLineStyle(),L=u.getAreaStyle();X(m,function(R,D){this.group.add(Sl(R,{style:Xt({stroke:"none",fill:v[D%v.length]},L),silent:!0}))},this),X(g,function(R,D){this.group.add(Sl(R,{style:Xt({fill:"none",stroke:p[D%p.length]},N),silent:!0}))},this)},t.type="radar",t}(na),N4t=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this,n,r,a)||this;return i.type="value",i.angle=0,i.name="",i}return t}(ju),R4t=function(){function e(t,n,r){this.dimensions=[],this._model=t,this._indicatorAxes=ut(t.getIndicatorModels(),function(a,i){var o="indicator_"+i,s=new N4t(o,new td);return s.name=a.get("name"),s.model=a,a.axis=s,this.dimensions.push(o),s},this),this.resize(t,r)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,n){var r=this._indicatorAxes[n];return this.coordToPoint(r.dataToCoord(t),n)},e.prototype.coordToPoint=function(t,n){var r=this._indicatorAxes[n],a=r.angle,i=this.cx+t*Math.cos(a),o=this.cy-t*Math.sin(a);return[i,o]},e.prototype.pointToData=function(t){var n=t[0]-this.cx,r=t[1]-this.cy,a=Math.sqrt(n*n+r*r);n/=a,r/=a;for(var i=Math.atan2(-r,n),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(i-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(a))]},e.prototype.resize=function(t,n){var r=t.get("center"),a=n.getWidth(),i=n.getHeight(),o=Math.min(a,i)/2;this.cx=St(r[0],a),this.cy=St(r[1],i),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(Dt(s)||Kn(s))&&(s=[0,s]),this.r0=St(s[0],o),this.r=St(s[1],o),X(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},e.prototype.update=function(t,n){var r=this._indicatorAxes,a=this._model;X(r,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==a)){var u=s.getData();X(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var i=a.get("splitNumber"),o=new td;o.setExtent(0,i),o.setInterval(1),X(r,function(s,l){C1e(s.scale,s.model,o)})},e.prototype.convertToPixel=function(t,n,r){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,n,r){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,n){var r=[];return t.eachComponent("radar",function(a){var i=new e(a,t,n);r.push(i),a.coordinateSystem=i}),t.eachSeriesByType("radar",function(a){a.get("coordinateSystem")==="radar"&&(a.coordinateSystem=r[a.get("radarIndex")||0])}),r},e.dimensions=[],e}();function M4t(e){e.registerCoordinateSystem("radar",R4t),e.registerComponentModel(E4t),e.registerComponentView(D4t),e.registerVisual({seriesType:"radar",reset:function(t){var n=t.getData();n.each(function(r){n.setItemVisual(r,"legendIcon","roundRect")}),n.setVisual("legendIcon","roundRect")}})}function $4t(e){kn(M4t),e.registerChartView(k4t),e.registerSeriesModel(I4t),e.registerLayout(C4t),e.registerProcessor(CC("radar")),e.registerPreprocessor(T4t)}var $Z="\0_ec_interaction_mutex";function L4t(e,t,n){var r=Z5(e);r[t]=n}function O4t(e,t,n){var r=Z5(e),a=r[t];a===n&&(r[t]=null)}function LZ(e,t){return!!Z5(e)[t]}function Z5(e){return e[$Z]||(e[$Z]={})}sf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ba);var kC=function(e){Oe(t,e);function t(n){var r=e.call(this)||this;r._zr=n;var a=Nt(r._mousedownHandler,r),i=Nt(r._mousemoveHandler,r),o=Nt(r._mouseupHandler,r),s=Nt(r._mousewheelHandler,r),l=Nt(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=Xt(en(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(n.on("mousedown",a),n.on("mousemove",i),n.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(n.on("mousewheel",s),n.on("pinch",l))},r.disable=function(){n.off("mousedown",a),n.off("mousemove",i),n.off("mouseup",o),n.off("mousewheel",s),n.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(n){this.pointerChecker=n},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(n){if(!oY(n)){for(var r=n.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var a=n.offsetX,i=n.offsetY;this.pointerChecker&&this.pointerChecker(n,a,i)&&(this._x=a,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!Ak("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||LZ(this._zr,"globalPan"))){var r=n.offsetX,a=n.offsetY,i=this._x,o=this._y,s=r-i,l=a-o;this._x=r,this._y=a,this._opt.preventDefaultMouseMove&&qf(n.event),N1e(this,"pan","moveOnMouseMove",n,{dx:s,dy:l,oldX:i,oldY:o,newX:r,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(n){oY(n)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(n){var r=Ak("zoomOnMouseWheel",n,this._opt),a=Ak("moveOnMouseWheel",n,this._opt),i=n.wheelDelta,o=Math.abs(i),s=n.offsetX,l=n.offsetY;if(!(i===0||!r&&!a)){if(r){var u=o>3?1.4:o>1?1.2:1.1,c=i>0?u:1/u;Z$(this,"zoom","zoomOnMouseWheel",n,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(a){var f=Math.abs(i),d=(i>0?1:-1)*(f>3?.4:f>1?.15:.05);Z$(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(n){if(!LZ(this._zr,"globalPan")){var r=n.pinchScale>1?1.1:1/1.1;Z$(this,"zoom",null,n,{scale:r,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},t}(jl);function Z$(e,t,n,r,a){e.pointerChecker&&e.pointerChecker(r,a.originX,a.originY)&&(qf(r.event),N1e(e,t,n,r,a))}function N1e(e,t,n,r,a){a.isAvailableBehavior=Nt(Ak,null,n,r),e.trigger(t,a)}function Ak(e,t,n){var r=n[e];return!e||r&&(!Dt(r)||t.event[r+"Key"])}function J5(e,t,n){var r=e.target;r.x+=t,r.y+=n,r.dirty()}function Q5(e,t,n,r){var a=e.target,i=e.zoomLimit,o=e.zoom=e.zoom||1;if(o*=t,i){var s=i.min||0,l=i.max||1/0;o=Math.max(Math.min(l,o),s)}var u=o/e.zoom;e.zoom=o,a.x-=(n-a.x)*(u-1),a.y-=(r-a.y)*(u-1),a.scaleX*=u,a.scaleY*=u,a.dirty()}var P4t={axisPointer:1,tooltip:1,brush:1};function tR(e,t,n){var r=t.getComponentByElement(e.topTarget),a=r&&r.coordinateSystem;return r&&r!==n&&!P4t.hasOwnProperty(r.mainType)&&a&&a.model!==n}function R1e(e){if(Dt(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var n=e;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}var J$,RE={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},OZ=Mn(RE),ME={"alignment-baseline":"textBaseline","stop-color":"stopColor"},PZ=Mn(ME),F4t=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,n){n=n||{};var r=R1e(t);this._defsUsePending=[];var a=new an;this._root=a;var i=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||n.width),l=parseFloat(r.getAttribute("height")||n.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Ds(r,a,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,a,i,null,!1,!1),u=u.nextSibling;z4t(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var d=nR(o);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&s!=null&&l!=null&&(f=$1e(c,{x:0,y:0,width:s,height:l}),!n.ignoreViewBox)){var h=a;a=new an,a.add(h),h.scaleX=h.scaleY=f.scale,h.x=f.x,h.y=f.y}return!n.ignoreRootClip&&s!=null&&l!=null&&a.setClipPath(new Bn({shape:{x:0,y:0,width:s,height:l}})),{root:a,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:i}},e.prototype._parseNode=function(t,n,r,a,i,o){var s=t.nodeName.toLowerCase(),l,u=a;if(s==="defs"&&(i=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=n;else{if(!i){var c=J$[s];if(c&&Mt(J$,s)){l=c.call(this,t,n);var f=t.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:s,el:l};r.push(d),s==="g"&&(u=d)}else a&&r.push({name:a.name,namedFrom:a,svgNodeTagLower:s,el:l});n.add(l)}}var h=FZ[s];if(h&&Mt(FZ,s)){var p=h.call(this,t),v=t.getAttribute("id");v&&(this._defs[v]=p)}}if(l&&l.isGroup)for(var g=t.firstChild;g;)g.nodeType===1?this._parseNode(g,l,r,u,i,o):g.nodeType===3&&o&&this._parseText(g,l),g=g.nextSibling},e.prototype._parseText=function(t,n){var r=new Ey({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ol(n,r),Ds(t,r,this._defsUsePending,!1,!1),B4t(r,n);var a=r.style,i=a.fontSize;i&&i<9&&(a.fontSize=9,r.scaleX*=i/9,r.scaleY*=i/9);var o=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");a.font=o;var s=r.getBoundingRect();return this._textX+=s.width,n.add(r),r},e.internalField=function(){J$={g:function(t,n){var r=new an;return ol(n,r),Ds(t,r,this._defsUsePending,!1,!1),r},rect:function(t,n){var r=new Bn;return ol(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,n){var r=new gd;return ol(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,n){var r=new ii;return ol(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,n){var r=new $N;return ol(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,n){var r=t.getAttribute("points"),a;r&&(a=zZ(r));var i=new ls({shape:{points:a||[]},silent:!0});return ol(n,i),Ds(t,i,this._defsUsePending,!1,!1),i},polyline:function(t,n){var r=t.getAttribute("points"),a;r&&(a=zZ(r));var i=new cs({shape:{points:a||[]},silent:!0});return ol(n,i),Ds(t,i,this._defsUsePending,!1,!1),i},image:function(t,n){var r=new Ri;return ol(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,n){var r=t.getAttribute("x")||"0",a=t.getAttribute("y")||"0",i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(o);var s=new an;return ol(n,s),Ds(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,n){var r=t.getAttribute("x"),a=t.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),a!=null&&(this._textY=parseFloat(a));var i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new an;return ol(n,s),Ds(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(o),s},path:function(t,n){var r=t.getAttribute("d")||"",a=_0e(r);return ol(n,a),Ds(t,a,this._defsUsePending,!1,!1),a.silent=!0,a}}}(),e}(),FZ={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),r=parseInt(e.getAttribute("x2")||"10",10),a=parseInt(e.getAttribute("y2")||"0",10),i=new hC(t,n,r,a);return BZ(e,i),VZ(e,i),i},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),r=parseInt(e.getAttribute("r")||"0",10),a=new k0e(t,n,r);return BZ(e,a),VZ(e,a),a}};function BZ(e,t){var n=e.getAttribute("gradientUnits");n==="userSpaceOnUse"&&(t.global=!0)}function VZ(e,t){for(var n=e.firstChild;n;){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var r=n.getAttribute("offset"),a=void 0;r&&r.indexOf("%")>0?a=parseInt(r,10)/100:r?a=parseFloat(r):a=0;var i={};M1e(n,i,i);var o=i.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:a,color:o})}n=n.nextSibling}}function ol(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Xt(t.__inheritedStyle,e.__inheritedStyle))}function zZ(e){for(var t=nR(e),n=[],r=0;r<t.length;r+=2){var a=parseFloat(t[r]),i=parseFloat(t[r+1]);n.push([a,i])}return n}function Ds(e,t,n,r,a){var i=t,o=i.__inheritedStyle=i.__inheritedStyle||{},s={};e.nodeType===1&&(U4t(e,t),M1e(e,o,s),r||G4t(e,o,s)),i.style=i.style||{},o.fill!=null&&(i.style.fill=WZ(i,"fill",o.fill,n)),o.stroke!=null&&(i.style.stroke=WZ(i,"stroke",o.stroke,n)),X(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(i.style[l]=parseFloat(o[l]))}),X(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(i.style[l]=o[l])}),a&&(i.__selfStyle=s),o.lineDash&&(i.style.lineDash=ut(nR(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(i.invisible=!0),o.display==="none"&&(i.ignore=!0)}function B4t(e,t){var n=t.__selfStyle;if(n){var r=n.textBaseline,a=r;!r||r==="auto"||r==="baseline"?a="alphabetic":r==="before-edge"||r==="text-before-edge"?a="top":r==="after-edge"||r==="text-after-edge"?a="bottom":(r==="central"||r==="mathematical")&&(a="middle"),e.style.textBaseline=a}var i=t.__inheritedStyle;if(i){var o=i.textAlign,s=o;o&&(o==="middle"&&(s="center"),e.style.textAlign=s)}}var V4t=/^url\(\s*#(.*?)\)/;function WZ(e,t,n,r){var a=n&&n.match(V4t);if(a){var i=xu(a[1]);r.push([e,t,i]);return}return n==="none"&&(n=null),n}function z4t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r[0].style[r[1]]=e[r[2]]}}var W4t=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function nR(e){return e.match(W4t)||[]}var H4t=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Q$=Math.PI/180;function U4t(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],a=null;n.replace(H4t,function(f,d,h){return r.push(d,h),""});for(var i=r.length-1;i>0;i-=2){var o=r[i],s=r[i-1],l=nR(o);switch(a=a||Ks(),s){case"translate":Gc(a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Y6(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":a0(a,a,-parseFloat(l[0])*Q$,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*Q$);Pf(a,[1,0,u,1,0,0],a);break;case"skewY":var c=Math.tan(parseFloat(l[0])*Q$);Pf(a,[1,c,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(l[0]),a[1]=parseFloat(l[1]),a[2]=parseFloat(l[2]),a[3]=parseFloat(l[3]),a[4]=parseFloat(l[4]),a[5]=parseFloat(l[5]);break}}t.setLocalTransform(a)}}var HZ=/([^\s:;]+)\s*:\s*([^:;]+)/g;function M1e(e,t,n){var r=e.getAttribute("style");if(r){HZ.lastIndex=0;for(var a;(a=HZ.exec(r))!=null;){var i=a[1],o=Mt(RE,i)?RE[i]:null;o&&(t[o]=a[2]);var s=Mt(ME,i)?ME[i]:null;s&&(n[s]=a[2])}}}function G4t(e,t,n){for(var r=0;r<OZ.length;r++){var a=OZ[r],i=e.getAttribute(a);i!=null&&(t[RE[a]]=i)}for(var r=0;r<PZ.length;r++){var a=PZ[r],i=e.getAttribute(a);i!=null&&(n[ME[a]]=i)}}function $1e(e,t){var n=t.width/e.width,r=t.height/e.height,a=Math.min(n,r);return{scale:a,x:-(e.x+e.width/2)*a+(t.x+t.width/2),y:-(e.y+e.height/2)*a+(t.y+t.height/2)}}function K4t(e,t){var n=new F4t;return n.parse(e,t)}var j4t=Pt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Y4t=function(){function e(t,n){this.type="geoSVG",this._usedGraphicMap=Pt(),this._freedGraphics=[],this._mapName=t,this._parsedXML=R1e(n)}return e.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=q4t(t.named),r=n.regions,a=n.regionsMap;this._regions=r,this._regionsMap=a}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(t){var n,r;try{n=t&&K4t(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=n.root,is(r!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var a=new an;a.add(r),a.isGeoSVGGraphicRoot=!0;var i=n.width,o=n.height,s=n.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,d=void 0;if(i!=null?(u=0,f=i):s&&(u=s.x,f=s.width),o!=null?(c=0,d=o):s&&(c=s.y,d=s.height),u==null||c==null){var h=r.getBoundingRect();u==null&&(u=h.x,f=h.width),c==null&&(c=h.y,d=h.height)}l=this._boundingRect=new xn(u,c,f,d)}if(s){var p=$1e(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}a.setClipPath(new Bn({shape:l.plain()}));var v=[];return X(n.named,function(g){j4t.get(g.svgNodeTagLower)!=null&&(v.push(g),X4t(g.el))}),{root:a,boundingRect:l,named:v}},e.prototype.useGraphic=function(t){var n=this._usedGraphicMap,r=n.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(t,r),r)},e.prototype.freeGraphic=function(t){var n=this._usedGraphicMap,r=n.get(t);r&&(n.removeKey(t),this._freedGraphics.push(r))},e}();function X4t(e){e.silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1})}function q4t(e){var t=[],n=Pt();return X(e,function(r){if(r.namedFrom==null){var a=new UPt(r.name,r.el);t.push(a),n.set(r.name,a)}}),{regions:t,regionsMap:n}}var L3=[126,25],UZ="",tv=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Zp=0;Zp<tv.length;Zp++)for(var z0=0;z0<tv[Zp].length;z0++)tv[Zp][z0][0]/=10.5,tv[Zp][z0][1]/=-10.5/.75,tv[Zp][z0][0]+=L3[0],tv[Zp][z0][1]+=L3[1];function Z4t(e,t){if(e==="china"){for(var n=0;n<t.length;n++)if(t[n].name===UZ)return;t.push(new Dye(UZ,ut(tv,function(r){return{type:"polygon",exterior:r}}),L3))}}var J4t={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Q4t(e,t){if(e==="china"){var n=J4t[t.name];if(n){var r=t.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/(10.5/.75),t.setCenter(r)}}}var eBt=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function tBt(e,t){e==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:eBt[0]})}var nBt="name",rBt=function(){function e(t,n,r){this.type="geoJSON",this._parsedMap=Pt(),this._mapName=t,this._specialAreas=r,this._geoJSON=iBt(n)}return e.prototype.load=function(t,n){n=n||nBt;var r=this._parsedMap.get(n);if(!r){var a=this._parseToRegions(n);r=this._parsedMap.set(n,{regions:a,boundingRect:aBt(a)})}var i=Pt(),o=[];return X(r.regions,function(s){var l=s.name;t&&Mt(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),i.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new xn(0,0,0,0),regionsMap:i}},e.prototype._parseToRegions=function(t){var n=this._mapName,r=this._geoJSON,a;try{a=r?KPt(r,t):[]}catch(i){throw new Error(`Invalid geoJson format
`+i.message)}return Z4t(n,a),X(a,function(i){var o=i.name;Q4t(n,i),tBt(n,i);var s=this._specialAreas&&this._specialAreas[o];s&&i.transformTo(s.left,s.top,s.width,s.height)},this),a},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function aBt(e){for(var t,n=0;n<e.length;n++){var r=e[n].getBoundingRect();t=t||r.clone(),t.union(r)}return t}function iBt(e){return Dt(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var pb=Pt();const nd={registerMap:function(e,t,n){if(t.svg){var r=new Y4t(e,t.svg);pb.set(e,r)}else{var a=t.geoJson||t.geoJSON;a&&!t.features?n=t.specialAreas:a=t;var r=new rBt(e,a,n);pb.set(e,r)}},getGeoResource:function(e){return pb.get(e)},getMapForUser:function(e){var t=pb.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,n){var r=pb.get(e);if(r)return r.load(t,n)}};var eW=["rect","circle","line","ellipse","polygon","polyline","path"],oBt=Pt(eW),sBt=Pt(eW.concat(["g"])),lBt=Pt(eW.concat(["g"])),L1e=Vn();function cT(e){var t=e.getItemStyle(),n=e.get("areaColor");return n!=null&&(t.fill=n),t}function GZ(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var O1e=function(){function e(t){var n=new an;this.uid=_1("ec_map_draw"),this._controller=new kC(t.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new an),n.add(this._svgGroup=new an)}return e.prototype.draw=function(t,n,r,a,i){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&n.eachComponent({mainType:"series",subType:"map"},function(m){!s&&m.getHostGeoModel()===t&&(s=m.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this.group,f=l.getTransformInfo(),d=f.raw,h=f.roam,p=!u.childAt(0)||i;p?(c.x=h.x,c.y=h.y,c.scaleX=h.scaleX,c.scaleY=h.scaleY,c.dirty()):Jn(c,h,t);var v=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,g={api:r,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:v,isGeo:o,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(g):l.resourceType==="geoSVG"&&this._buildSVG(g),this._updateController(t,n,r),this._updateMapSelectHandler(t,u,r,a)},e.prototype._buildGeoJSON=function(t){var n=this._regionsGroupByName=Pt(),r=Pt(),a=this._regionsGroup,i=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(h,p){return p&&(h=p(h)),h&&[h[0]*i.scaleX+i.x,h[1]*i.scaleY+i.y]}function f(h){for(var p=[],v=!u&&l&&l.project,g=0;g<h.length;++g){var m=c(h[g],v);m&&p.push(m)}return p}function d(h){return{shape:{points:f(h)}}}a.removeAll(),X(t.geo.regions,function(h){var p=h.name,v=n.get(p),g=r.get(p)||{},m=g.dataIdx,y=g.regionModel;if(!v){v=n.set(p,new an),a.add(v),m=s?s.indexOfName(p):null,y=t.isGeo?o.getRegionModel(p):s?s.getItemModel(m):null;var b=y.get("silent",!0);b!=null&&(v.silent=b),r.set(p,{dataIdx:m,regionModel:y})}var x=[],_=[];X(h.geometries,function(k){if(k.type==="polygon"){var T=[k.exterior].concat(k.interiors||[]);u&&(T=ZZ(T,u)),X(T,function(I){x.push(new ls(d(I)))})}else{var E=k.points;u&&(E=ZZ(E,u,!0)),X(E,function(I){_.push(new cs(d(I)))})}});var S=c(h.getCenter(),l&&l.project);function C(k,T){if(k.length){var E=new c5({culling:!0,segmentIgnoreThreshold:1,shape:{paths:k}});v.add(E),KZ(t,E,m,y),jZ(t,E,p,y,o,m,S),T&&(GZ(E),X(E.states,GZ))}}C(x),C(_,!0)}),n.each(function(h,p){var v=r.get(p),g=v.dataIdx,m=v.regionModel;YZ(t,h,p,m,o,g),XZ(t,h,p,m,o),qZ(t,h,p,m,o)},this)},e.prototype._buildSVG=function(t){var n=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var a=this._svgDispatcherMap=Pt(),i=!1;X(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,c=o.svgNodeTagLower,f=o.el,d=u?u.indexOfName(s):null,h=l.getRegionModel(s);oBt.get(c)!=null&&f instanceof zl&&KZ(t,f,d,h),f instanceof zl&&(f.culling=!0);var p=h.get("silent",!0);if(p!=null&&(f.silent=p),f.z2EmphasisLift=0,!o.namedFrom&&(lBt.get(c)!=null&&jZ(t,f,s,h,l,d,null),YZ(t,f,s,h,l,d),XZ(t,f,s,h,l),sBt.get(c)!=null)){var v=qZ(t,f,s,h,l);v==="self"&&(i=!0);var g=a.get(s)||a.set(s,[]);g.push(f)}},this),this._enableBlurEntireSVG(i,t)},e.prototype._enableBlurEntireSVG=function(t,n){if(t&&n.isGeo){var r=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),a=r.opacity;this._svgGraphicRecord.root.traverse(function(i){if(!i.isGroup){Ng(i);var o=i.ensureState("blur").style||{};o.opacity==null&&a!=null&&(o.opacity=a),i.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(t,n){if(t==null)return[];var r=n.coordinateSystem;if(r.resourceType==="geoJSON"){var a=this._regionsGroupByName;if(a){var i=a.get(t);return i?[i]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},e.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},e.prototype._useSVG=function(t){var n=nd.getGeoResource(t);if(n&&n.type==="geoSVG"){var r=n.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},e.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var n=nd.getGeoResource(t);n&&n.type==="geoSVG"&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(t,n,r){var a=t.coordinateSystem,i=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=a.getZoom(),i.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}i.off("pan").on("pan",function(u){this._mouseDownFlag=!1,J5(o,u.dx,u.dy),r.dispatchAction(rt(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),i.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,Q5(o,u.scale,u.originX,u.originY),r.dispatchAction(rt(l(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),i.setPointerChecker(function(u,c,f){return a.containPoint([c,f])&&!tR(u,r,t)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var n=t.getTextContent();n&&(n.ignore=L1e(n).ignore)})},e.prototype._updateMapSelectHandler=function(t,n,r,a){var i=this;n.off("mousedown"),n.off("click"),t.get("selectedMode")&&(n.on("mousedown",function(){i._mouseDownFlag=!0}),n.on("click",function(o){i._mouseDownFlag&&(i._mouseDownFlag=!1)}))},e}();function KZ(e,t,n,r){var a=r.getModel("itemStyle"),i=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=cT(a),u=cT(i),c=cT(s),f=cT(o),d=e.data;if(d){var h=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),p&&(l.decal=Ny(p,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=f,Ng(t)}function jZ(e,t,n,r,a,i,o){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),i)),c=s&&s.getItemLayout(i);if(l||u||c&&c.showLabel){var f=l?n:i,d=void 0;(!s||i>=0)&&(d=a);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Yi(t,vi(r),{labelFetcher:d,labelDataIndex:f,defaultText:n},h);var p=t.getTextContent();if(p&&(L1e(p).ignore=p.ignore,t.textConfig&&o)){var v=t.getBoundingRect().clone();t.textConfig.layoutRect=v,t.textConfig.position=[(o[0]-v.x)/v.width*100+"%",(o[1]-v.y)/v.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function YZ(e,t,n,r,a,i){e.data?e.data.setItemGraphicEl(i,t):sn(t).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:n,region:r&&r.option||{}}}function XZ(e,t,n,r,a){e.data||i0({el:t,componentModel:a,itemName:n,itemTooltipOption:r.get("tooltip")})}function qZ(e,t,n,r,a){t.highDownSilentOnTouch=!!a.get("selectedMode");var i=r.getModel("emphasis"),o=i.get("focus");return la(t,o,i.get("blurScope"),i.get("disabled")),e.isGeo&&oMt(t,a,n),o}function ZZ(e,t,n){var r=[],a;function i(){a=[]}function o(){a.length&&(r.push(a),a=[])}var s=t({polygonStart:i,polygonEnd:o,lineStart:i,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&a.push([l,u])},sphere:function(){}});return!n&&s.polygonStart(),X(e,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!n&&s.polygonEnd(),r}var uBt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){if(!(i&&i.type==="mapToggleSelect"&&i.from===this.uid)){var o=this.group;if(o.removeAll(),!n.getHostGeoModel()){if(this._mapDraw&&i&&i.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===n.id){var s=this._mapDraw;s&&o.add(s.group)}else if(n.needsDrawMap){var s=this._mapDraw||new O1e(a);o.add(s.group),s.draw(n,r,a,this,i),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(n,r,a)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(n,r,a){var i=n.originalData,o=this.group;i.each(i.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=i.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,d=new gd({style:{fill:n.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:b1+1)});if(!f){var h=n.mainSeries.getData(),p=i.getName(l),v=h.indexOfName(p),g=i.getItemModel(l),m=g.getModel("label"),y=h.getItemGraphicEl(v);Yi(d,vi(g),{labelFetcher:{getFormattedLabel:function(b,x){return n.getFormattedLabel(v,x)}},defaultText:p}),d.disableLabelAnimation=!0,m.get("position")||d.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(b){dE(d,b)}}o.add(d)}}})},t.type="map",t}(Dr),cBt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(r){if(r!=null){var a=this.getData().getName(r),i=this.coordinateSystem,o=i.getRegion(a);return o&&i.dataToPoint(o.getCenter())}},n}return t.prototype.getInitialData=function(n){for(var r=D1(this,{coordDimensions:["value"],encodeDefaulter:vn(x5,this)}),a=Pt(),i=[],o=0,s=r.count();o<s;o++){var l=r.getName(o);a.set(l,o)}var u=nd.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return X(u.regions,function(c){var f=c.name,d=a.get(f),h=c.properties&&c.properties.echartsStyle,p;d==null?(p={name:f},i.push(p)):p=r.getRawDataItem(d),h&&mn(p,h)}),r.appendData(i),r},t.prototype.getHostGeoModel=function(){var n=this.option.geoIndex;return n!=null?this.ecModel.getComponent("geo",n):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(n){var r=this.getData();return r.get(r.mapDimension("value"),n)},t.prototype.getRegionModel=function(n){var r=this.getData();return r.getItemModel(r.indexOfName(n))},t.prototype.formatTooltip=function(n,r,a){for(var i=this.getData(),o=this.getRawValue(n),s=i.getName(n),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),d=i.mapDimension("value");isNaN(l[c].originalData.get(d,f))||u.push(l[c].name)}return gi("section",{header:u.join(", "),noHeader:!u.length,blocks:[gi("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.getLegendIcon=function(n){var r=n.icon||"roundRect",a=Ma(r,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return a.setStyle(n.itemStyle),a.style.stroke="none",r.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),a},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Vr);function fBt(e,t){var n={};return X(e,function(r){r.each(r.mapDimension("value"),function(a,i){var o="ec-"+r.getName(i);n[o]=n[o]||[],isNaN(a)||n[o].push(a)})}),e[0].map(e[0].mapDimension("value"),function(r,a){for(var i="ec-"+e[0].getName(a),o=0,s=1/0,l=-1/0,u=n[i].length,c=0;c<u;c++)s=Math.min(s,n[i][c]),l=Math.max(l,n[i][c]),o+=n[i][c];var f;return t==="min"?f=s:t==="max"?f=l:t==="average"?f=o/u:f=o,u===0?NaN:f})}function dBt(e){var t={};e.eachSeriesByType("map",function(n){var r=n.getHostGeoModel(),a=r?"o"+r.id:"i"+n.getMapType();(t[a]=t[a]||[]).push(n)}),X(t,function(n,r){for(var a=fBt(ut(n,function(o){return o.getData()}),n[0].get("mapValueCalculation")),i=0;i<n.length;i++)n[i].originalData=n[i].getData();for(var i=0;i<n.length;i++)n[i].seriesGroup=n,n[i].needsDrawMap=i===0&&!n[i].getHostGeoModel(),n[i].setData(a.cloneShallow()),n[i].mainSeries=n[0]})}function hBt(e){var t={};e.eachSeriesByType("map",function(n){var r=n.getMapType();if(!(n.getHostGeoModel()||t[r])){var a={};X(n.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),d=s.getRegion(f);if(!(!d||isNaN(u))){var h=a[f]||0,p=s.dataToPoint(d.getCenter());a[f]=h+1,l.setItemLayout(c,{point:p,offset:h})}})});var i=n.getData();i.each(function(o){var s=i.getName(o),l=i.getItemLayout(o)||{};l.showLabel=!a[s],i.setItemLayout(o,l)}),t[r]=!0}})}var JZ=Wi,IC=function(e){Oe(t,e);function t(n){var r=e.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Nf,r._rawTransformable=new Nf,r.name=n,r}return t.prototype.setBoundingRect=function(n,r,a,i){return this._rect=new xn(n,r,a,i),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(n,r,a,i){this._transformTo(n,r,a,i),this._viewRect=new xn(n,r,a,i)},t.prototype._transformTo=function(n,r,a,i){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new xn(n,r,a,i));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(n,r){n&&(this._center=[St(n[0],r.getWidth()),St(n[1],r.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(n){n=n||1;var r=this.zoomLimit;r&&(r.max!=null&&(n=Math.min(r.max,n)),r.min!=null&&(n=Math.max(r.min,n))),this._zoom=n,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var n=this.getBoundingRect(),r=n.x+n.width/2,a=n.y+n.height/2;return[r,a]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var n=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,a=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=Wi([],i,n),a=Wi([],a,n),r.originX=i[0],r.originY=i[1],r.x=a[0]-i[0],r.y=a[1]-i[1],r.scaleX=r.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var n=this._roamTransformable,r=this._rawTransformable;r.parent=n,n.updateTransform(),r.updateTransform(),j6(this.transform||(this.transform=[]),r.transform||Ks()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],m1(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var n=this._rawTransformable,r=this._roamTransformable,a=new Nf;return a.transform=r.transform,a.decomposeTransform(),{roam:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY},raw:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},t.prototype.dataToPoint=function(n,r,a){var i=r?this._rawTransform:this.transform;return a=a||[],i?JZ(a,n,i):$o(a,n)},t.prototype.pointToData=function(n){var r=this.invTransform;return r?JZ([],n,r):[n[0],n[1]]},t.prototype.convertToPixel=function(n,r,a){var i=QZ(r);return i===this?i.dataToPoint(a):null},t.prototype.convertFromPixel=function(n,r,a){var i=QZ(r);return i===this?i.pointToData(a):null},t.prototype.containPoint=function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])},t.dimensions=["x","y"],t}(Nf);function QZ(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var pBt={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},P1e=["lng","lat"],O3=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this,n)||this;i.dimensions=P1e,i.type="geo",i._nameCoordMap=Pt(),i.map=r;var o=a.projection,s=nd.load(r,a.nameMap,a.nameProperty),l=nd.getGeoResource(r);i.resourceType=l?l.type:null;var u=i.regions=s.regions,c=pBt[l.type];i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=o;var f;if(o)for(var d=0;d<u.length;d++){var h=u[d].getBoundingRect(o);f=f||h.clone(),f.union(h)}else f=s.boundingRect;return i.setBoundingRect(f.x,f.y,f.width,f.height),i.aspectScale=o?1:fn(a.aspectScale,c.aspectScale),i._invertLongitute=o?!1:c.invertLongitute,i}return t.prototype._transformTo=function(n,r,a,i){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new xn(n,r,a,i));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(n){return this._regionsMap.get(n)},t.prototype.getRegionByCoord=function(n){for(var r=this.regions,a=0;a<r.length;a++){var i=r[a];if(i.type==="geoJSON"&&i.contain(n))return r[a]}},t.prototype.addGeoCoord=function(n,r){this._nameCoordMap.set(n,r)},t.prototype.getGeoCoord=function(n){var r=this._regionsMap.get(n);return this._nameCoordMap.get(n)||r&&r.getCenter()},t.prototype.dataToPoint=function(n,r,a){if(Dt(n)&&(n=this.getGeoCoord(n)),n){var i=this.projection;return i&&(n=i.project(n)),n&&this.projectedToPoint(n,r,a)}},t.prototype.pointToData=function(n){var r=this.projection;return r&&(n=r.unproject(n)),n&&this.pointToProjected(n)},t.prototype.pointToProjected=function(n){return e.prototype.pointToData.call(this,n)},t.prototype.projectedToPoint=function(n,r,a){return e.prototype.dataToPoint.call(this,n,r,a)},t.prototype.convertToPixel=function(n,r,a){var i=eJ(r);return i===this?i.dataToPoint(a):null},t.prototype.convertFromPixel=function(n,r,a){var i=eJ(r);return i===this?i.pointToData(a):null},t}(IC);$a(O3,IC);function eJ(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Da).models[0]||{}).coordinateSystem:null}function tJ(e,t){var n=e.get("boundingCoords");if(n!=null){var r=n[0],a=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])){var i=this.projection;if(i){var o=r[0],s=r[1],l=a[0],u=a[1];r=[1/0,1/0],a=[-1/0,-1/0];var c=function(S,C,k,T){for(var E=k-S,I=T-C,A=0;A<=100;A++){var N=A/100,L=i.project([S+E*N,C+I*N]);eh(r,r,L),th(a,a,L)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(r[0],r[1],a[0]-r[0],a[1]-r[1])}}var f=this.getBoundingRect(),d=e.get("layoutCenter"),h=e.get("layoutSize"),p=t.getWidth(),v=t.getHeight(),g=f.width/f.height*this.aspectScale,m=!1,y,b;d&&h&&(y=[St(d[0],p),St(d[1],v)],b=St(h,Math.min(p,v)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(b)&&(m=!0));var x;if(m)x={},g>1?(x.width=b,x.height=b/g):(x.height=b,x.width=b*g),x.y=y[1]-x.height/2,x.x=y[0]-x.width/2;else{var _=e.getBoxLayoutParams();_.aspect=g,x=Ya(_,{width:p,height:v})}this.setViewRect(x.x,x.y,x.width,x.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function vBt(e,t){X(t.get("geoCoord"),function(n,r){e.addGeoCoord(r,n)})}var gBt=function(){function e(){this.dimensions=P1e}return e.prototype.create=function(t,n){var r=[];function a(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new O3(l+s,l,rt({nameMap:o.get("nameMap")},a(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=tJ,u.resize(o,n)}),t.eachSeries(function(o){var s=o.get("coordinateSystem");if(s==="geo"){var l=o.get("geoIndex")||0;o.coordinateSystem=r[l]}});var i={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();i[s]=i[s]||[],i[s].push(o)}}),X(i,function(o,s){var l=ut(o,function(c){return c.get("nameMap")}),u=new O3(s,s,rt({nameMap:H6(l)},a(o[0])));u.zoomLimit=Si.apply(null,ut(o,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=tJ,u.resize(o[0],n),X(o,function(c){c.coordinateSystem=u,vBt(u,c)})}),r},e.prototype.getFilledRegions=function(t,n,r,a){for(var i=(t||[]).slice(),o=Pt(),s=0;s<i.length;s++)o.set(i[s].name,i[s]);var l=nd.load(n,r,a);return X(l.regions,function(u){var c=u.name,f=o.get(c),d=u.properties&&u.properties.echartsStyle;f||(f={name:c},i.push(f)),d&&mn(f,d)}),i},e}(),F1e=new gBt,mBt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r,a){var i=nd.getGeoResource(n.map);if(i&&i.type==="geoJSON"){var o=n.itemStyle=n.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(n,a),Eg(n,"label",["show"])},t.prototype.optionUpdated=function(){var n=this,r=this.option;r.regions=F1e.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var a={};this._optionModelMap=Uc(r.regions||[],function(i,o){var s=o.name;return s&&(i.set(s,new pr(o,n,n.ecModel)),o.selected&&(a[s]=!0)),i},Pt()),r.selectedMap||(r.selectedMap=a)},t.prototype.getRegionModel=function(n){return this._optionModelMap.get(n)||new pr(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(n,r){var a=this.getRegionModel(n),i=r==="normal"?a.get(["label","formatter"]):a.get(["emphasis","label","formatter"]),o={name:n};if(Yt(i))return o.status=r,i(o);if(Dt(i))return i.replace("{a}",n??"")},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.select=function(n){var r=this.option,a=r.selectedMode;if(a){a!=="multiple"&&(r.selectedMap=null);var i=r.selectedMap||(r.selectedMap={});i[n]=!0}},t.prototype.unSelect=function(n){var r=this.option.selectedMap;r&&(r[n]=!1)},t.prototype.toggleSelected=function(n){this[this.isSelected(n)?"unSelect":"select"](n)},t.prototype.isSelected=function(n){var r=this.option.selectedMap;return!!(r&&r[n])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Rn);function nJ(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function tW(e,t,n,r){var a=e.getZoom(),i=e.getCenter(),o=t.zoom,s=e.projectedToPoint?e.projectedToPoint(i):e.dataToPoint(i);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(nJ(e,s),r)),o!=null){if(n){var l=n.min||0,u=n.max||1/0;o=Math.max(Math.min(a*o,u),l)/a}e.scaleX*=o,e.scaleY*=o;var c=(t.originX-e.x)*(o-1),f=(t.originY-e.y)*(o-1);e.x-=c,e.y-=f,e.updateTransform(),e.setCenter(nJ(e,s),r),e.setZoom(o*a)}return{center:e.getCenter(),zoom:e.getZoom()}}var yBt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return t.prototype.init=function(n,r){this._api=r},t.prototype.render=function(n,r,a,i){if(this._model=n,!n.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new O1e(a));var o=this._mapDraw;o.draw(n,r,a,this,i),o.group.on("click",this._handleRegionClick,this),o.group.silent=n.get("silent"),this.group.add(o.group),this.updateSelectStatus(n,r,a)},t.prototype._handleRegionClick=function(n){var r;Nv(n.target,function(a){return(r=sn(a).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(n,r,a){var i=this;this._mapDraw.group.traverse(function(o){var s=sn(o).eventData;if(s)return i._model.isSelected(s.name)?a.enterSelect(o):a.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(n){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(n,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(na);function bBt(e,t,n){nd.registerMap(e,t,n)}function B1e(e){e.registerCoordinateSystem("geo",F1e),e.registerComponentModel(mBt),e.registerComponentView(yBt),e.registerImpl("registerMap",bBt),e.registerImpl("getMap",function(n){return nd.getMapForUser(n)});function t(n,r){r.update="geo:updateSelectStatus",e.registerAction(r,function(a,i){var o={},s=[];return i.eachComponent({mainType:"geo",query:a},function(l){l[n](a.name);var u=l.coordinateSystem;X(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];X(o,function(f,d){o[d]&&c.push(d)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:a.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,r,a){var i=n.componentType||"series";r.eachComponent({mainType:i,query:n},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=tW(s,n,o.get("scaleLimit"),a);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),i==="series"&&X(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function xBt(e){kn(B1e),e.registerChartView(uBt),e.registerSeriesModel(cBt),e.registerLayout(hBt),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,dBt),Vme("map",e.registerAction)}function wBt(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n=[t],r,a;r=n.pop();)if(a=r.children,r.isExpand&&a.length)for(var i=a.length,o=i-1;o>=0;o--){var s=a[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},n.push(s)}}function _Bt(e,t){var n=e.isExpand?e.children:[],r=e.parentNode.children,a=e.hierNode.i?r[e.hierNode.i-1]:null;if(n.length){TBt(e);var i=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;a?(e.hierNode.prelim=a.hierNode.prelim+t(e,a),e.hierNode.modifier=e.hierNode.prelim-i):e.hierNode.prelim=i}else a&&(e.hierNode.prelim=a.hierNode.prelim+t(e,a));e.parentNode.hierNode.defaultAncestor=kBt(e,a,e.parentNode.hierNode.defaultAncestor||r[0],t)}function SBt(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function rJ(e){return arguments.length?e:ABt}function Gb(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function CBt(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function TBt(e){for(var t=e.children,n=t.length,r=0,a=0;--n>=0;){var i=t[n];i.hierNode.prelim+=r,i.hierNode.modifier+=r,a+=i.hierNode.change,r+=i.hierNode.shift+a}}function kBt(e,t,n,r){if(t){for(var a=e,i=e,o=i.parentNode.children[0],s=t,l=a.hierNode.modifier,u=i.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=eL(s),i=tL(i),s&&i;){a=eL(a),o=tL(o),a.hierNode.ancestor=e;var d=s.hierNode.prelim+f-i.hierNode.prelim-u+r(s,i);d>0&&(EBt(IBt(s,e,n),e,d),u+=d,l+=d),f+=s.hierNode.modifier,u+=i.hierNode.modifier,l+=a.hierNode.modifier,c+=o.hierNode.modifier}s&&!eL(a)&&(a.hierNode.thread=s,a.hierNode.modifier+=f-l),i&&!tL(o)&&(o.hierNode.thread=i,o.hierNode.modifier+=u-c,n=e)}return n}function eL(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function tL(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function IBt(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function EBt(e,t,n){var r=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=r}function ABt(e,t){return e.parentNode===t.parentNode?1:2}var DBt=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),NBt=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new DBt},t.prototype.buildPath=function(n,r){var a=r.childPoints,i=a.length,o=r.parentPoint,s=a[0],l=a[i-1];if(i===1){n.moveTo(o[0],o[1]),n.lineTo(s[0],s[1]);return}var u=r.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,d=St(r.forkPosition,1),h=[];h[c]=o[c],h[f]=o[f]+(l[f]-o[f])*d,n.moveTo(o[0],o[1]),n.lineTo(h[0],h[1]),n.moveTo(s[0],s[1]),h[c]=s[c],n.lineTo(h[0],h[1]),h[c]=l[c],n.lineTo(h[0],h[1]),n.lineTo(l[0],l[1]);for(var p=1;p<i-1;p++){var v=a[p];n.moveTo(v[0],v[1]),h[c]=v[c],n.lineTo(h[0],h[1])}},t}(An),RBt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new an,n}return t.prototype.init=function(n,r){this._controller=new kC(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(n,r,a){var i=n.getData(),o=n.layoutInfo,s=this._mainGroup,l=n.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(n,a),this._updateController(n,r,a);var u=this._data;i.diff(u).add(function(c){aJ(i,c)&&iJ(i,c,null,s,n)}).update(function(c,f){var d=u.getItemGraphicEl(f);if(!aJ(i,c)){d&&sJ(u,f,d,s,n);return}iJ(i,c,d,s,n)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&sJ(u,c,f,s,n)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),n.get("expandAndCollapse")===!0&&i.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){a.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:f})})}),this._data=i},t.prototype._updateViewCoordSys=function(n,r){var a=n.getData(),i=[];a.each(function(f){var d=a.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&i.push([+d.x,+d.y])});var o=[],s=[];NN(i,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=n.coordinateSystem=new IC;c.zoomLimit=n.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(n.get("center"),r),c.setZoom(n.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},t.prototype._updateController=function(n,r,a){var i=this,o=this._controller,s=this._controllerHost,l=this.group;o.setPointerChecker(function(u,c,f){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(c,f)&&!tR(u,a,n)}),o.enable(n.get("roam")),s.zoomLimit=n.get("scaleLimit"),s.zoom=n.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){J5(s,u.dx,u.dy),a.dispatchAction({seriesId:n.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Q5(s,u.scale,u.originX,u.originY),a.dispatchAction({seriesId:n.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(n),a.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(n){var r=n.getData(),a=this._getNodeGlobalScale(n);r.eachItemGraphicEl(function(i,o){i.setSymbolScale(a)})},t.prototype._getNodeGlobalScale=function(n){var r=n.coordinateSystem;if(r.type!=="view")return 1;var a=this._nodeScaleRatio,i=r.scaleX||1,o=r.getZoom(),s=(o-1)*a+1;return s/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Dr);function aJ(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function iJ(e,t,n,r,a){var i=!n,o=e.tree.getNodeByDataIndex(t),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:"#fff",c=e.tree.root,f=o.parentNode===c?o:o.parentNode||o,d=e.getItemGraphicEl(f.dataIndex),h=f.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,v=o.getLayout();i?(n=new xC(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.x=p.x,n.y=p.y):n.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=v.rawX,n.__radialRawY=v.rawY,r.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,Jn(n,{x:v.x,y:v.y},a);var g=n.getSymbolPath();if(a.get("layout")==="radial"){var m=c.children[0],y=m.getLayout(),b=m.children.length,x=void 0,_=void 0;if(v.x===y.x&&o.isExpand===!0&&m.children.length){var S={x:(m.children[0].getLayout().x+m.children[b-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[b-1].getLayout().y)/2};x=Math.atan2(S.y-y.y,S.x-y.x),x<0&&(x=Math.PI*2+x),_=S.x<y.x,_&&(x=x-Math.PI)}else x=Math.atan2(v.y-y.y,v.x-y.x),x<0&&(x=Math.PI*2+x),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(_=v.x<y.x,_&&(x=x-Math.PI)):(_=v.x>y.x,_||(x=x-Math.PI));var C=_?"left":"right",k=s.getModel("label"),T=k.get("rotate"),E=T*(Math.PI/180),I=g.getTextContent();I&&(g.setTextConfig({position:k.get("position")||C,rotation:T==null?-x:E,origin:"center"}),I.setStyle("verticalAlign","middle"))}var A=s.get(["emphasis","focus"]),N=A==="relative"?Vw(o.getAncestorsIndices(),o.getDescendantIndices()):A==="ancestor"?o.getAncestorsIndices():A==="descendant"?o.getDescendantIndices():null;N&&(sn(n).focus=N),MBt(a,o,c,n,p,h,v,r),n.__edge&&(n.onHoverStateChange=function(L){if(L!=="blur"){var R=o.parentNode&&e.getItemGraphicEl(o.parentNode.dataIndex);R&&R.hoverState===cC||dE(n.__edge,L)}})}function MBt(e,t,n,r,a,i,o,s){var l=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),f=e.getOrient(),d=e.get(["lineStyle","curveness"]),h=e.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),v=r.__edge;if(u==="curve")t.parentNode&&t.parentNode!==n&&(v||(v=r.__edge=new dC({shape:P3(c,f,d,a,a)})),Jn(v,{shape:P3(c,f,d,i,o)},e));else if(u==="polyline"&&c==="orthogonal"&&t!==n&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var g=t.children,m=[],y=0;y<g.length;y++){var b=g[y].getLayout();m.push([b.x,b.y])}v||(v=r.__edge=new NBt({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:h}})),Jn(v,{shape:{parentPoint:[o.x,o.y],childPoints:m}},e)}v&&!(u==="polyline"&&!t.isExpand)&&(v.useStyle(Xt({strokeNoScale:!0,fill:null},p)),ji(v,l,"lineStyle"),Ng(v),s.add(v))}function oJ(e,t,n,r,a){var i=t.tree.root,o=V1e(i,e),s=o.source,l=o.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),f=c.__edge,d=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),h=r.get("edgeShape"),p=r.get("layout"),v=r.get("orient"),g=r.get(["lineStyle","curveness"]);d&&(h==="curve"?Hh(d,{shape:P3(p,v,g,l,l),style:{opacity:0}},r,{cb:function(){n.remove(d)},removeOpt:a}):h==="polyline"&&r.get("layout")==="orthogonal"&&Hh(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){n.remove(d)},removeOpt:a}))}}function V1e(e,t){for(var n=t.parentNode===e?t:t.parentNode||t,r;r=n.getLayout(),r==null;)n=n.parentNode===e?n:n.parentNode||n;return{source:n,sourceLayout:r}}function sJ(e,t,n,r,a){var i=e.tree.getNodeByDataIndex(t),o=e.tree.root,s=V1e(o,i).sourceLayout,l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};Hh(n,{x:s.x+1,y:s.y+1},a,{cb:function(){r.remove(n),e.setItemGraphicEl(t,null)},removeOpt:l}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),i.children.forEach(function(u){oJ(u,e,r,a,l)}),oJ(i,e,r,a,l)}function P3(e,t,n,r,a){var i,o,s,l,u,c,f,d;if(e==="radial"){u=r.rawX,f=r.rawY,c=a.rawX,d=a.rawY;var h=Gb(u,f),p=Gb(u,f+(d-f)*n),v=Gb(c,d+(f-d)*n),g=Gb(c,d);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:v.x||0,cpy2:v.y||0}}else u=r.x,f=r.y,c=a.x,d=a.y,(t==="LR"||t==="RL")&&(i=u+(c-u)*n,o=f,s=c+(u-c)*n,l=d),(t==="TB"||t==="BT")&&(i=u,o=f+(d-f)*n,s=c,l=d+(f-d)*n);return{x1:u,y1:f,x2:c,y2:d,cpx1:i,cpy1:o,cpx2:s,cpy2:l}}var Rl=Vn();function z1e(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,W1e(t,n,e),X(n,function(r){X(t.TRANSFERABLE_METHODS,function(a){r.wrapMethod(a,vn($Bt,e))})}),t.wrapMethod("cloneShallow",vn(OBt,e)),X(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,vn(LBt,e))}),is(n[t.dataType]===t)}function $Bt(e,t){if(BBt(this)){var n=rt({},Rl(this).datas);n[this.dataType]=t,W1e(t,n,e)}else nW(t,this.dataType,Rl(this).mainData,e);return t}function LBt(e,t){return e.struct&&e.struct.update(),t}function OBt(e,t){return X(Rl(t).datas,function(n,r){n!==t&&nW(n.cloneShallow(),r,t,e)}),t}function PBt(e){var t=Rl(this).mainData;return e==null||t==null?t:Rl(t).datas[e]}function FBt(){var e=Rl(this).mainData;return e==null?[{data:e}]:ut(Mn(Rl(e).datas),function(t){return{type:t,data:Rl(e).datas[t]}})}function BBt(e){return Rl(e).mainData===e}function W1e(e,t,n){Rl(e).datas={},X(t,function(r,a){nW(r,a,e,n)})}function nW(e,t,n,r){Rl(n).datas[t]=e,Rl(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=PBt,e.getLinkedDataAll=FBt}var VBt=function(){function e(t,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=n}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(t,n,r){Yt(t)&&(r=n,n=t,t=null),t=t||{},Dt(t)&&(t={order:t});var a=t.order||"preorder",i=this[t.attr||"children"],o;a==="preorder"&&(o=n.call(r,this));for(var s=0;!o&&s<i.length;s++)i[s].eachNode(t,n,r);a==="postorder"&&n.call(r,this)},e.prototype.updateDepthAndHeight=function(t){var n=0;this.depth=t;for(var r=0;r<this.children.length;r++){var a=this.children[r];a.updateDepthAndHeight(t+1),a.height>n&&(n=a.height)}this.height=n+1},e.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var n=0,r=this.children,a=r.length;n<a;n++){var i=r[n].getNodeById(t);if(i)return i}},e.prototype.contains=function(t){if(t===this)return!0;for(var n=0,r=this.children,a=r.length;n<a;n++){var i=r[n].contains(t);if(i)return i}},e.prototype.getAncestors=function(t){for(var n=[],r=t?this:this.parentNode;r;)n.push(r),r=r.parentNode;return n.reverse(),n},e.prototype.getAncestorsIndices=function(){for(var t=[],n=this;n;)t.push(n.dataIndex),n=n.parentNode;return t.reverse(),t},e.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(n){t.push(n.dataIndex)}),t},e.prototype.getValue=function(t){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},e.prototype.setLayout=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,n)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostTree,r=n.data.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,n)},e.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,n=0;n<t.length;++n)if(t[n]===this)return n;return-1}return-1},e.prototype.isAncestorOf=function(t){for(var n=t.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},e.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},e}(),rW=function(){function e(t){this.type="tree",this._nodes=[],this.hostModel=t}return e.prototype.eachNode=function(t,n,r){this.root.eachNode(t,n,r)},e.prototype.getNodeByDataIndex=function(t){var n=this.data.getRawIndex(t);return this._nodes[n]},e.prototype.getNodeById=function(t){return this.root.getNodeById(t)},e.prototype.update=function(){for(var t=this.data,n=this._nodes,r=0,a=n.length;r<a;r++)n[r].dataIndex=-1;for(var r=0,a=t.count();r<a;r++)n[t.getRawIndex(r)].dataIndex=r},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,r){var a=new e(n),i=[],o=1;s(t);function s(c,f){var d=c.value;o=Math.max(o,st(d)?d.length:1),i.push(c);var h=new VBt(Ha(c.name,""),a);f?zBt(h,f):a.root=h,a._nodes.push(h);var p=c.children;if(p)for(var v=0;v<p.length;v++)s(p[v],h)}a.root.updateDepthAndHeight(0);var l=yC(i,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Zo(l,n);return u.initData(i),r&&r(u),z1e({mainData:u,struct:a,structAttr:"tree"}),a.update(),a},e}();function zBt(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}function o_(e,t,n){if(e&&Cn(t,e.type)>=0){var r=n.getData().tree.root,a=e.targetNode;if(Dt(a)&&(a=r.getNodeById(a)),a&&r.contains(a))return{node:a};var i=e.targetNodeId;if(i!=null&&(a=r.getNodeById(i)))return{node:a}}}function H1e(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()}function aW(e,t){var n=H1e(e);return Cn(n,t)>=0}function rR(e,t){for(var n=[];e;){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return n.reverse(),n}var WBt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n){var r={name:n.name,children:n.data},a=n.leaves||{},i=new pr(a,this,this.ecModel),o=rW.createTree(r,this,s);function s(f){f.wrapMethod("getItemModel",function(d,h){var p=o.getNodeByDataIndex(h);return p&&p.children.length&&p.isExpand||(d.parentModel=i),d})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=n.expandAndCollapse,c=u&&n.initialTreeDepth>=0?n.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=c}),o.data},t.prototype.getOrient=function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.formatTooltip=function(n,r,a){for(var i=this.getData().tree,o=i.root.children[0],s=i.getNodeByDataIndex(n),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return gi("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=rR(a,this),r.collapsed=!a.isExpand,r},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Vr);function HBt(e,t,n){for(var r=[e],a=[],i;i=r.pop();)if(a.push(i),i.isExpand){var o=i.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}for(;i=a.pop();)t(i,n)}function vb(e,t){for(var n=[e],r;r=n.pop();)if(t(r),r.isExpand){var a=r.children;if(a.length)for(var i=a.length-1;i>=0;i--)n.push(a[i])}}function UBt(e,t){e.eachSeriesByType("tree",function(n){GBt(n,t)})}function GBt(e,t){var n=CBt(e,t);e.layoutInfo=n;var r=e.get("layout"),a=0,i=0,o=null;r==="radial"?(a=2*Math.PI,i=Math.min(n.height,n.width)/2,o=rJ(function(b,x){return(b.parentNode===x.parentNode?1:2)/b.depth})):(a=n.width,i=n.height,o=rJ());var s=e.getData().tree.root,l=s.children[0];if(l){wBt(s),HBt(l,_Bt,o),s.hierNode.modifier=-l.hierNode.prelim,vb(l,SBt);var u=l,c=l,f=l;vb(l,function(b){var x=b.getLayout().x;x<u.getLayout().x&&(u=b),x>c.getLayout().x&&(c=b),b.depth>f.depth&&(f=b)});var d=u===c?1:o(u,c)/2,h=d-u.getLayout().x,p=0,v=0,g=0,m=0;if(r==="radial")p=a/(c.getLayout().x+d+h),v=i/(f.depth-1||1),vb(l,function(b){g=(b.getLayout().x+h)*p,m=(b.depth-1)*v;var x=Gb(g,m);b.setLayout({x:x.x,y:x.y,rawX:g,rawY:m},!0)});else{var y=e.getOrient();y==="RL"||y==="LR"?(v=i/(c.getLayout().x+d+h),p=a/(f.depth-1||1),vb(l,function(b){m=(b.getLayout().x+h)*v,g=y==="LR"?(b.depth-1)*p:a-(b.depth-1)*p,b.setLayout({x:g,y:m},!0)})):(y==="TB"||y==="BT")&&(p=a/(c.getLayout().x+d+h),v=i/(f.depth-1||1),vb(l,function(b){g=(b.getLayout().x+h)*p,m=y==="TB"?(b.depth-1)*v:i-(b.depth-1)*v,b.setLayout({x:g,y:m},!0)}))}}}function KBt(e){e.eachSeriesByType("tree",function(t){var n=t.getData(),r=n.tree;r.eachNode(function(a){var i=a.getModel(),o=i.getModel("itemStyle").getItemStyle(),s=n.ensureUniqueItemVisual(a.dataIndex,"style");rt(s,o)})})}function jBt(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var a=t.dataIndex,i=r.getData().tree,o=i.getNodeByDataIndex(a);o.isExpand=!o.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,n,r){n.eachComponent({mainType:"series",subType:"tree",query:t},function(a){var i=a.coordinateSystem,o=tW(i,t,void 0,r);a.setCenter&&a.setCenter(o.center),a.setZoom&&a.setZoom(o.zoom)})})}function YBt(e){e.registerChartView(RBt),e.registerSeriesModel(WBt),e.registerLayout(UBt),e.registerVisual(KBt),jBt(e)}var lJ=["treemapZoomToNode","treemapRender","treemapMove"];function XBt(e){for(var t=0;t<lJ.length;t++)e.registerAction({type:lJ[t],update:"updateView"},ba);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"treemap",query:n},a);function a(i,o){var s=["treemapZoomToNode","treemapRootToNode"],l=o_(n,s,i);if(l){var u=i.getViewRoot();u&&(n.direction=aW(u,l.node)?"rollUp":"drillDown"),i.resetViewRoot(l.node)}}})}function U1e(e){var t=e.getData(),n=t.tree,r={};n.eachNode(function(a){for(var i=a;i&&i.depth>1;)i=i.parentNode;var o=f3(e.ecModel,i.name||i.dataIndex+"",r);a.setVisual("decal",o)})}var qBt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return t.prototype.getInitialData=function(n,r){var a={name:n.name,children:n.data};G1e(a);var i=n.levels||[],o=this.designatedVisualItemStyle={},s=new pr({itemStyle:o},this,r);i=n.levels=ZBt(i,r);var l=ut(i||[],function(f){return new pr(f,s,r)},this),u=rW.createTree(a,this,c);function c(f){f.wrapMethod("getItemModel",function(d,h){var p=u.getNodeByDataIndex(h),v=p?l[p.depth]:null;return d.parentModel=v||s,d})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=this.getRawValue(n),s=i.getName(n);return gi("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=rR(a,this),r.treePathInfo=r.treeAncestors,r},t.prototype.setLayoutInfo=function(n){this.layoutInfo=this.layoutInfo||{},rt(this.layoutInfo,n)},t.prototype.mapIdToIndex=function(n){var r=this._idIndexMap;r||(r=this._idIndexMap=Pt(),this._idIndexMapCount=0);var a=r.get(n);return a==null&&r.set(n,a=this._idIndexMapCount++),a},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){U1e(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Vr);function G1e(e){var t=0;X(e.children,function(r){G1e(r);var a=r.value;st(a)&&(a=a[0]),t+=a});var n=e.value;st(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),st(e.value)?e.value[0]=n:e.value=n}function ZBt(e,t){var n=Ir(t.get("color")),r=Ir(t.get(["aria","decal","decals"]));if(n){e=e||[];var a,i;X(e,function(s){var l=new pr(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(a=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(i=!0)});var o=e[0]||(e[0]={});return a||(o.color=n.slice()),!i&&r&&(o.decal=r.slice()),e}}var JBt=8,uJ=8,nL=5,QBt=function(){function e(t){this.group=new an,t.add(this.group)}return e.prototype.render=function(t,n,r,a){var i=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!i.get("show")||!r)){var s=i.getModel("itemStyle"),l=i.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,u),this._renderContent(t,f,s,l,u,c,a),UN(o,f.pos,f.box)}},e.prototype._prepare=function(t,n,r){for(var a=t;a;a=a.parentNode){var i=Ha(a.getModel().get("name"),""),o=r.getTextRect(i),s=Math.max(o.width+JBt*2,n.emptyItemWidth);n.totalWidth+=s+uJ,n.renderList.push({node:a,text:i,width:s})}},e.prototype._renderContent=function(t,n,r,a,i,o,s){for(var l=0,u=n.emptyItemWidth,c=t.get(["breadcrumb","height"]),f=l$t(n.pos,n.box),d=n.totalWidth,h=n.renderList,p=a.getModel("itemStyle").getItemStyle(),v=h.length-1;v>=0;v--){var g=h[v],m=g.node,y=g.width,b=g.text;d>f.width&&(d-=y-u,y=u,b=null);var x=new ls({shape:{points:eVt(l,0,y,c,v===h.length-1,v===0)},style:Xt(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Un({style:Fr(i,{text:b})}),textConfig:{position:"inside"},z2:b1*1e4,onclick:vn(s,m)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=Fr(o,{text:b}),x.ensureState("emphasis").style=p,la(x,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(x),tVt(x,t,m),l+=y+uJ}},e.prototype.remove=function(){this.group.removeAll()},e}();function eVt(e,t,n,r,a,i){var o=[[a?e:e-nL,t],[e+n,t],[e+n,t+r],[a?e:e-nL,t+r]];return!i&&o.splice(2,0,[e+n+nL,t+r/2]),!a&&o.push([e,t+r/2]),o}function tVt(e,t,n){sn(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&rR(n,t)}}var nVt=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(t,n,r,a,i){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:n,duration:r,delay:a,easing:i}),!0)},e.prototype.finished=function(t){return this._finishedCallback=t,this},e.prototype.start=function(){for(var t=this,n=this._storage.length,r=function(){n--,n<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},a=0,i=this._storage.length;a<i;a++){var o=this._storage[a];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:r,aborted:r})}return this},e}();function rVt(){return new nVt}var F3=an,cJ=Bn,fJ=3,dJ="label",hJ="upperLabel",aVt=b1*10,iVt=b1*2,oVt=b1*3,nv=Dg([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),pJ=function(e){var t=nv(e);return t.stroke=t.fill=t.lineWidth=null,t},$E=Vn(),sVt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage=gb(),n}return t.prototype.render=function(n,r,a,i){var o=r.findComponents({mainType:"series",subType:"treemap",query:i});if(!(Cn(o,n)<0)){this.seriesModel=n,this.api=a,this.ecModel=r;var s=["treemapZoomToNode","treemapRootToNode"],l=o_(i,s,n),u=i&&i.type,c=n.layoutInfo,f=!this._oldTree,d=this._storage,h=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:i.direction}:null,p=this._giveContainerGroup(c),v=n.get("animation"),g=this._doRender(p,n,h);v&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(p,g,n,h):g.renderFinally(),this._resetController(a),this._renderBreadcrumb(n,a,l)}},t.prototype._giveContainerGroup=function(n){var r=this._containerGroup;return r||(r=this._containerGroup=new F3,this._initEvents(r),this.group.add(r)),r.x=n.x,r.y=n.y,r},t.prototype._doRender=function(n,r,a){var i=r.getData().tree,o=this._oldTree,s=gb(),l=gb(),u=this._storage,c=[];function f(y,b,x,_){return lVt(r,l,u,a,s,c,y,b,x,_)}v(i.root?[i.root]:[],o&&o.root?[o.root]:[],n,i===o||!o,0);var d=g(u);if(this._oldTree=i,this._storage=l,this._controllerHost){var h=this.seriesModel.layoutInfo,p=i.root.getLayout();p.width===h.width&&p.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:d,renderFinally:m};function v(y,b,x,_,S){_?(b=y,X(y,function(T,E){!T.isRemoved()&&k(E,E)})):new ed(b,y,C,C).add(k).update(k).remove(vn(k,null)).execute();function C(T){return T.getId()}function k(T,E){var I=T!=null?y[T]:null,A=E!=null?b[E]:null,N=f(I,A,x,S);N&&v(I&&I.viewChildren||[],A&&A.viewChildren||[],N,_,S+1)}}function g(y){var b=gb();return y&&X(y,function(x,_){var S=b[_];X(x,function(C){C&&(S.push(C),$E(C).willDelete=!0)})}),b}function m(){X(d,function(y){X(y,function(b){b.parent&&b.parent.remove(b)})}),X(c,function(y){y.invisible=!0,y.dirty()})}},t.prototype._doAnimation=function(n,r,a,i){var o=a.get("animationDurationUpdate"),s=a.get("animationEasing"),l=(Yt(o)?0:o)||0,u=(Yt(s)?null:s)||"cubicOut",c=rVt();X(r.willDeleteEls,function(f,d){X(f,function(h,p){if(!h.invisible){var v=h.parent,g,m=$E(v);if(i&&i.direction==="drillDown")g=v===i.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,b=0;m.willDelete||(y=m.nodeWidth/2,b=m.nodeHeight/2),g=d==="nodeGroup"?{x:y,y:b,style:{opacity:0}}:{shape:{x:y,y:b,width:0,height:0},style:{opacity:0}}}g&&c.add(h,g,l,0,u)}})}),X(this._storage,function(f,d){X(f,function(h,p){var v=r.lastsForAnimation[d][p],g={};v&&(h instanceof an?v.oldX!=null&&(g.x=h.x,g.y=h.y,h.x=v.oldX,h.y=v.oldY):(v.oldShape&&(g.shape=rt({},h.shape),h.setShape(v.oldShape)),v.fadein?(h.setStyle("opacity",0),g.style={opacity:1}):h.style.opacity!==1&&(g.style={opacity:1})),c.add(h,g,l,0,u))})},this),this._state="animating",c.finished(Nt(function(){this._state="ready",r.renderFinally()},this)).start()},t.prototype._resetController=function(n){var r=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost),r||(r=this._controller=new kC(n.getZr()),r.enable(this.seriesModel.get("roam")),a.zoomLimit=this.seriesModel.get("scaleLimit"),a.zoom=this.seriesModel.get("zoom"),r.on("pan",Nt(this._onPan,this)),r.on("zoom",Nt(this._onZoom,this)));var i=new xn(0,0,n.getWidth(),n.getHeight());r.setPointerChecker(function(o,s,l){return i.contain(s,l)})},t.prototype._clearController=function(){var n=this._controller;this._controllerHost=null,n&&(n.dispose(),n=null)},t.prototype._onPan=function(n){if(this._state!=="animating"&&(Math.abs(n.dx)>fJ||Math.abs(n.dy)>fJ)){var r=this.seriesModel.getData().tree.root;if(!r)return;var a=r.getLayout();if(!a)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+n.dx,y:a.y+n.dy,width:a.width,height:a.height}})}},t.prototype._onZoom=function(n){var r=n.originX,a=n.originY,i=n.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new xn(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=i,u){var d=u.min||0,h=u.max||1/0;f=Math.max(Math.min(h,f),d)}var p=f/c.zoom;c.zoom=f;var v=this.seriesModel.layoutInfo;r-=v.x,a-=v.y;var g=Ks();Gc(g,g,[-r,-a]),Y6(g,g,[p,p]),Gc(g,g,[r,a]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(n){var r=this;n.on("click",function(a){if(r._state==="ready"){var i=r.seriesModel.get("nodeClick",!0);if(i){var o=r.findTarget(a.offsetX,a.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)r._rootToNode(o);else if(i==="zoomToNode")r._zoomToNode(o);else if(i==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&yE(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(n,r,a){var i=this;a||(a=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),a||(a={node:n.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new QBt(this.group))).render(n,r,a.node,function(o){i._state!=="animating"&&(aW(n.getViewRoot(),o)?i._rootToNode({node:o}):i._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=gb(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype._rootToNode=function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype.findTarget=function(n,r){var a,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(n,r),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)a={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),a},t.type="treemap",t}(Dr);function gb(){return{nodeGroup:[],background:[],content:[]}}function lVt(e,t,n,r,a,i,o,s,l,u){if(!o)return;var c=o.getLayout(),f=e.getData(),d=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var h=c.width,p=c.height,v=c.borderWidth,g=c.invisible,m=o.getRawIndex(),y=s&&s.getRawIndex(),b=o.viewChildren,x=c.upperHeight,_=b&&b.length,S=d.getModel("itemStyle"),C=d.getModel(["emphasis","itemStyle"]),k=d.getModel(["blur","itemStyle"]),T=d.getModel(["select","itemStyle"]),E=S.get("borderRadius")||0,I=j("nodeGroup",F3);if(!I)return;if(l.add(I),I.x=c.x||0,I.y=c.y||0,I.markRedraw(),$E(I).nodeWidth=h,$E(I).nodeHeight=p,c.isAboveViewRoot)return I;var A=j("background",cJ,u,iVt);A&&W(I,A,_&&c.upperLabelHeight);var N=d.getModel("emphasis"),L=N.get("focus"),R=N.get("blurScope"),D=N.get("disabled"),P=L==="ancestor"?o.getAncestorsIndices():L==="descendant"?o.getDescendantIndices():L;if(_)jw(I)&&Av(I,!1),A&&(Av(A,!D),f.setItemGraphicEl(o.dataIndex,A),r3(A,P,R));else{var O=j("content",cJ,u,oVt);O&&U(I,O),A.disableMorphing=!0,A&&jw(A)&&Av(A,!1),Av(I,!D),f.setItemGraphicEl(o.dataIndex,I);var M=d.getShallow("cursor");M&&O.attr("cursor",M),r3(I,P,R)}return I;function W(oe,ae,me){var ve=sn(ae);if(ve.dataIndex=o.dataIndex,ve.seriesIndex=e.seriesIndex,ae.setShape({x:0,y:0,width:h,height:p,r:E}),g)V(ae);else{ae.invisible=!1;var B=o.getVisual("style"),re=B.stroke,ge=pJ(S);ge.fill=re;var Ie=nv(C);Ie.fill=C.get("borderColor");var Ce=nv(k);Ce.fill=k.get("borderColor");var he=nv(T);if(he.fill=T.get("borderColor"),me){var J=h-2*v;H(ae,re,B.opacity,{x:v,y:0,width:J,height:x})}else ae.removeTextContent();ae.setStyle(ge),ae.ensureState("emphasis").style=Ie,ae.ensureState("blur").style=Ce,ae.ensureState("select").style=he,Ng(ae)}oe.add(ae)}function U(oe,ae){var me=sn(ae);me.dataIndex=o.dataIndex,me.seriesIndex=e.seriesIndex;var ve=Math.max(h-2*v,0),B=Math.max(p-2*v,0);if(ae.culling=!0,ae.setShape({x:v,y:v,width:ve,height:B,r:E}),g)V(ae);else{ae.invisible=!1;var re=o.getVisual("style"),ge=re.fill,Ie=pJ(S);Ie.fill=ge,Ie.decal=re.decal;var Ce=nv(C),he=nv(k),J=nv(T);H(ae,ge,re.opacity,null),ae.setStyle(Ie),ae.ensureState("emphasis").style=Ce,ae.ensureState("blur").style=he,ae.ensureState("select").style=J,Ng(ae)}oe.add(ae)}function V(oe){!oe.invisible&&i.push(oe)}function H(oe,ae,me,ve){var B=d.getModel(ve?hJ:dJ),re=Ha(d.get("name"),null),ge=B.getShallow("show");Yi(oe,vi(d,ve?hJ:dJ),{defaultText:ge?re:null,inheritColor:ae,defaultOpacity:me,labelFetcher:e,labelDataIndex:o.dataIndex});var Ie=oe.getTextContent();if(Ie){var Ce=Ie.style,he=G6(Ce.padding||0);ve&&(oe.setTextConfig({layoutRect:ve}),Ie.disableLabelLayout=!0),Ie.beforeUpdate=function(){var te=Math.max((ve?ve.width:oe.shape.width)-he[1]-he[3],0),xe=Math.max((ve?ve.height:oe.shape.height)-he[0]-he[2],0);(Ce.width!==te||Ce.height!==xe)&&Ie.setStyle({width:te,height:xe})},Ce.truncateMinChar=2,Ce.lineOverflow="truncate",K(Ce,ve,c);var J=Ie.getState("emphasis");K(J?J.style:null,ve,c)}}function K(oe,ae,me){var ve=oe?oe.text:null;if(!ae&&me.isLeafRoot&&ve!=null){var B=e.get("drillDownIcon",!0);oe.text=B?B+" "+ve:ve}}function j(oe,ae,me,ve){var B=y!=null&&n[oe][y],re=a[oe];return B?(n[oe][y]=null,ne(re,B)):g||(B=new ae,B instanceof zl&&(B.z2=uVt(me,ve)),Q(re,B)),t[oe][m]=B}function ne(oe,ae){var me=oe[m]={};ae instanceof F3?(me.oldX=ae.x,me.oldY=ae.y):me.oldShape=rt({},ae.shape)}function Q(oe,ae){var me=oe[m]={},ve=o.parentNode,B=ae instanceof an;if(ve&&(!r||r.direction==="drillDown")){var re=0,ge=0,Ie=a.background[ve.getRawIndex()];!r&&Ie&&Ie.oldShape&&(re=Ie.oldShape.width,ge=Ie.oldShape.height),B?(me.oldX=0,me.oldY=ge):me.oldShape={x:re,y:ge,width:0,height:0}}me.fadein=!B}}function uVt(e,t){return e*aVt+t}var s_=X,cVt=Jt,LE=-1,ci=function(){function e(t){var n=t.mappingMethod,r=t.type,a=this.option=en(t);this.type=r,this.mappingMethod=n,this._normalizeData=hVt[n];var i=e.visualHandlers[r];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[n],n==="piecewise"?(rL(a),fVt(a)):n==="category"?a.categories?dVt(a):rL(a,!0):(is(n!=="linear"||a.dataExtent),rL(a))}return e.prototype.mapValueToVisual=function(t){var n=this._normalizeData(t);return this._normalizedToVisual(n,t)},e.prototype.getNormalizer=function(){return Nt(this._normalizeData,this)},e.listVisualTypes=function(){return Mn(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(t,n,r){Jt(t)?X(t,n,r):n.call(r,t)},e.mapVisual=function(t,n,r){var a,i=st(t)?[]:Jt(t)?{}:(a=!0,null);return e.eachVisual(t,function(o,s){var l=n.call(r,o,s);a?i=l:i[s]=l}),i},e.retrieveVisuals=function(t){var n={},r;return t&&s_(e.visualHandlers,function(a,i){t.hasOwnProperty(i)&&(n[i]=t[i],r=!0)}),r?n:null},e.prepareVisualTypes=function(t){if(st(t))t=t.slice();else if(cVt(t)){var n=[];s_(t,function(r,a){n.push(a)}),t=n}else return[];return t.sort(function(r,a){return a==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),t},e.dependsOn=function(t,n){return n==="color"?!!(t&&t.indexOf(n)===0):t===n},e.findPieceIndex=function(t,n,r){for(var a,i=1/0,o=0,s=n.length;o<s;o++){var l=n[o].value;if(l!=null){if(l===t||Dt(l)&&l===t+"")return o;r&&d(l,o)}}for(var o=0,s=n.length;o<s;o++){var u=n[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(dT(f[1],t,c[1]))return o}else if(c[1]===1/0){if(dT(f[0],c[0],t))return o}else if(dT(f[0],c[0],t)&&dT(f[1],t,c[1]))return o;r&&d(c[0],o),r&&d(c[1],o)}}if(r)return t===1/0?n.length-1:t===-1/0?0:a;function d(h,p){var v=Math.abs(h-t);v<i&&(i=v,a=p)}},e.visualHandlers={color:{applyVisual:mb("color"),getColorMapper:function(){var t=this.option;return Nt(t.mappingMethod==="category"?function(n,r){return!r&&(n=this._normalizeData(n)),Kb.call(this,n)}:function(n,r,a){var i=!!a;return!r&&(n=this._normalizeData(n)),a=PM(n,t.parsedVisual,a),i?a:Ff(a,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Ff(PM(t,this.option.parsedVisual),"rgba")},category:Kb,piecewise:function(t,n){var r=V3.call(this,n);return r==null&&(r=Ff(PM(t,this.option.parsedVisual),"rgba")),r},fixed:rv}},colorHue:fT(function(t,n){return Cx(t,n)}),colorSaturation:fT(function(t,n){return Cx(t,null,n)}),colorLightness:fT(function(t,n){return Cx(t,null,null,n)}),colorAlpha:fT(function(t,n){return oE(t,n)}),decal:{applyVisual:mb("decal"),_normalizedToVisual:{linear:null,category:Kb,piecewise:null,fixed:null}},opacity:{applyVisual:mb("opacity"),_normalizedToVisual:B3([0,1])},liftZ:{applyVisual:mb("liftZ"),_normalizedToVisual:{linear:rv,category:rv,piecewise:rv,fixed:rv}},symbol:{applyVisual:function(t,n,r){var a=this.mapValueToVisual(t);r("symbol",a)},_normalizedToVisual:{linear:vJ,category:Kb,piecewise:function(t,n){var r=V3.call(this,n);return r==null&&(r=vJ.call(this,t)),r},fixed:rv}},symbolSize:{applyVisual:mb("symbolSize"),_normalizedToVisual:B3([0,1])}},e}();function fVt(e){var t=e.pieceList;e.hasSpecialVisual=!1,X(t,function(n,r){n.originIndex=r,n.visual!=null&&(e.hasSpecialVisual=!0)})}function dVt(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(s_(t,function(o,s){n[o]=s}),!st(r)){var a=[];Jt(r)?s_(r,function(o,s){var l=n[s];a[l??LE]=o}):a[LE]=r,r=K1e(e,a)}for(var i=t.length-1;i>=0;i--)r[i]==null&&(delete n[t[i]],t.pop())}function rL(e,t){var n=e.visual,r=[];Jt(n)?s_(n,function(i){r.push(i)}):n!=null&&r.push(n);var a={color:1,symbol:1};!t&&r.length===1&&!a.hasOwnProperty(e.type)&&(r[1]=r[0]),K1e(e,r)}function fT(e){return{applyVisual:function(t,n,r){var a=this.mapValueToVisual(t);r("color",e(n("color"),a))},_normalizedToVisual:B3([0,1])}}function vJ(e){var t=this.option.visual;return t[Math.round(cr(e,[0,1],[0,t.length-1],!0))]||{}}function mb(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function Kb(e){var t=this.option.visual;return t[this.option.loop&&e!==LE?e%t.length:e]}function rv(){return this.option.visual[0]}function B3(e){return{linear:function(t){return cr(t,e,this.option.visual,!0)},category:Kb,piecewise:function(t,n){var r=V3.call(this,n);return r==null&&(r=cr(t,e,this.option.visual,!0)),r},fixed:rv}}function V3(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=ci.findPieceIndex(e,n),a=n[r];if(a&&a.visual)return a.visual[this.type]}}function K1e(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=ut(t,function(n){var r=js(n);return r||[0,0,0,1]})),t}var hVt={linear:function(e){return cr(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=ci.findPieceIndex(e,t,!0);if(n!=null)return cr(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??LE},fixed:ba};function dT(e,t,n){return e?t<=n:t<n}var pVt="itemStyle",j1e=Vn();const vVt={seriesType:"treemap",reset:function(e){var t=e.getData().tree,n=t.root;n.isRemoved()||Y1e(n,{},e.getViewRoot().getAncestors(),e)}};function Y1e(e,t,n,r){var a=e.getModel(),i=e.getLayout(),o=e.hostTree.data;if(!(!i||i.invisible||!i.isInView)){var s=a.getModel(pVt),l=gVt(s,t,r),u=o.ensureUniqueItemVisual(e.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),d;f!=null&&(d=gJ(l),c=mVt(f,d)),u.stroke=c;var h=e.viewChildren;if(!h||!h.length)d=gJ(l),u.fill=d;else{var p=yVt(e,a,i,s,l,h);X(h,function(v,g){if(v.depth>=n.length||v===n[v.depth]){var m=bVt(a,l,v,g,p,r);Y1e(v,m,n,r)}})}}}function gVt(e,t,n){var r=rt({},t),a=n.designatedVisualItemStyle;return X(["color","colorAlpha","colorSaturation"],function(i){a[i]=t[i];var o=e.get(i);a[i]=null,o!=null&&(r[i]=o)}),r}function gJ(e){var t=aL(e,"color");if(t){var n=aL(e,"colorAlpha"),r=aL(e,"colorSaturation");return r&&(t=Cx(t,null,null,r)),n&&(t=oE(t,n)),t}}function mVt(e,t){return t!=null?Cx(t,null,null,e):null}function aL(e,t){var n=e[t];if(n!=null&&n!=="none")return n}function yVt(e,t,n,r,a,i){if(!(!i||!i.length)){var o=iL(t,"color")||a.color!=null&&a.color!=="none"&&(iL(t,"colorAlpha")||iL(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new ci(f);return j1e(d).drColorMappingBy=c,d}}}function iL(e,t){var n=e.get(t);return st(n)&&n.length?{name:t,range:n}:null}function bVt(e,t,n,r,a,i){var o=rt({},t);if(a){var s=a.type,l=s==="color"&&j1e(a).drColorMappingBy,u=l==="index"?r:l==="id"?i.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));o[s]=a.mapValueToVisual(u)}return o}var l_=Math.max,OE=Math.min,mJ=Si,iW=X,X1e=["itemStyle","borderWidth"],xVt=["itemStyle","gapWidth"],wVt=["upperLabel","show"],_Vt=["upperLabel","height"];const SVt={seriesType:"treemap",reset:function(e,t,n,r){var a=n.getWidth(),i=n.getHeight(),o=e.option,s=Ya(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=o.size||[],u=St(mJ(s.width,l[0]),a),c=St(mJ(s.height,l[1]),i),f=r&&r.type,d=["treemapZoomToNode","treemapRootToNode"],h=o_(r,d,e),p=f==="treemapRender"||f==="treemapMove"?r.rootRect:null,v=e.getViewRoot(),g=H1e(v);if(f!=="treemapMove"){var m=f==="treemapZoomToNode"?AVt(e,h,v,u,c):p?[p.width,p.height]:[u,c],y=o.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var b={squareRatio:o.squareRatio,sort:y,leafDepth:o.leafDepth};v.hostTree.clearLayouts();var x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};v.setLayout(x),q1e(v,b,!1,0),x=v.getLayout(),iW(g,function(S,C){var k=(g[C+1]||v).getValue();S.setLayout(rt({dataExtent:[k,k],borderWidth:0,upperHeight:0},x))})}var _=e.getData().tree.root;_.setLayout(DVt(s,p,h),!0),e.setLayoutInfo(s),Z1e(_,new xn(-s.x,-s.y,a,i),g,v,0)}};function q1e(e,t,n,r){var a,i;if(!e.isRemoved()){var o=e.getLayout();a=o.width,i=o.height;var s=e.getModel(),l=s.get(X1e),u=s.get(xVt)/2,c=J1e(s),f=Math.max(l,c),d=l-u,h=f-u;e.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),a=l_(a-2*d,0),i=l_(i-d-h,0);var p=a*i,v=CVt(e,s,p,t,n,r);if(v.length){var g={x:d,y:h,width:a,height:i},m=OE(a,i),y=1/0,b=[];b.area=0;for(var x=0,_=v.length;x<_;){var S=v[x];b.push(S),b.area+=S.getLayout().area;var C=EVt(b,m,t.squareRatio);C<=y?(x++,y=C):(b.area-=b.pop().getLayout().area,yJ(b,m,g,u,!1),m=OE(g.width,g.height),b.length=b.area=0,y=1/0)}if(b.length&&yJ(b,m,g,u,!0),!n){var k=s.get("childrenVisibleMin");k!=null&&p<k&&(n=!0)}for(var x=0,_=v.length;x<_;x++)q1e(v[x],t,n,r+1)}}}function CVt(e,t,n,r,a,i){var o=e.children||[],s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=r.leafDepth!=null&&r.leafDepth<=i;if(a&&!l)return e.viewChildren=[];o=sr(o,function(h){return!h.isRemoved()}),kVt(o,s);var u=IVt(t,o,s);if(u.sum===0)return e.viewChildren=[];if(u.sum=TVt(t,n,u.sum,s,o),u.sum===0)return e.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var d=o[c].getValue()/u.sum*n;o[c].setLayout({area:d})}return l&&(o.length&&e.setLayout({isLeafRoot:!0},!0),o.length=0),e.viewChildren=o,e.setLayout({dataExtent:u.dataExtent},!0),o}function TVt(e,t,n,r,a){if(!r)return n;for(var i=e.get("visibleMin"),o=a.length,s=o,l=o-1;l>=0;l--){var u=a[r==="asc"?o-l-1:l].getValue();u/n*t<i&&(s=l,n-=u)}return r==="asc"?a.splice(0,o-s):a.splice(s,o-s),n}function kVt(e,t){return t&&e.sort(function(n,r){var a=t==="asc"?n.getValue()-r.getValue():r.getValue()-n.getValue();return a===0?t==="asc"?n.dataIndex-r.dataIndex:r.dataIndex-n.dataIndex:a}),e}function IVt(e,t,n){for(var r=0,a=0,i=t.length;a<i;a++)r+=t[a].getValue();var o=e.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&n?(s=[t[t.length-1].getValue(),t[0].getValue()],n==="asc"&&s.reverse()):(s=[1/0,-1/0],iW(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:r,dataExtent:s}}function EVt(e,t,n){for(var r=0,a=1/0,i=0,o=void 0,s=e.length;i<s;i++)o=e[i].getLayout().area,o&&(o<a&&(a=o),o>r&&(r=o));var l=e.area*e.area,u=t*t*n;return l?l_(u*r/l,l/(u*a)):1/0}function yJ(e,t,n,r,a){var i=t===n.width?0:1,o=1-i,s=["x","y"],l=["width","height"],u=n[s[i]],c=t?e.area/t:0;(a||c>n[l[o]])&&(c=n[l[o]]);for(var f=0,d=e.length;f<d;f++){var h=e[f],p={},v=c?h.getLayout().area/c:0,g=p[l[o]]=l_(c-2*r,0),m=n[s[i]]+n[l[i]]-u,y=f===d-1||m<v?m:v,b=p[l[i]]=l_(y-2*r,0);p[s[o]]=n[s[o]]+OE(r,g/2),p[s[i]]=u+OE(r,b/2),u+=y,h.setLayout(p,!0)}n[s[o]]+=c,n[l[o]]-=c}function AVt(e,t,n,r,a){var i=(t||{}).node,o=[r,a];if(!i||i===n)return o;for(var s,l=r*a,u=l*e.option.zoomToNodeRatio;s=i.parentNode;){for(var c=0,f=s.children,d=0,h=f.length;d<h;d++)c+=f[d].getValue();var p=i.getValue();if(p===0)return o;u*=c/p;var v=s.getModel(),g=v.get(X1e),m=Math.max(g,J1e(v));u+=4*g*g+(3*g+m)*Math.pow(u,.5),u>DY&&(u=DY),i=s}u<l&&(u=l);var y=Math.pow(u/l,.5);return[r*y,a*y]}function DVt(e,t,n){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!n)return r;var a=n.node,i=a.getLayout();if(!i)return r;for(var o=[i.width/2,i.height/2],s=a;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}function Z1e(e,t,n,r,a){var i=e.getLayout(),o=n[a],s=o&&o===e;if(!(o&&!s||a===n.length&&e!==r)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(i),isAboveViewRoot:s},!0);var l=new xn(t.x-i.x,t.y-i.y,t.width,t.height);iW(e.viewChildren||[],function(u){Z1e(u,l,n,r,a+1)})}}function J1e(e){return e.get(wVt)?e.get(_Vt):0}function NVt(e){e.registerSeriesModel(qBt),e.registerChartView(sVt),e.registerVisual(vVt),e.registerLayout(SVt),XBt(e)}function RVt(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),a=n.getGraph(),i=a.data,o=r.mapArray(r.getName);i.filterSelf(function(s){var l=i.getItemModel(s),u=l.getShallow("category");if(u!=null){Kn(u)&&(u=o[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function MVt(e){var t={};e.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),a=n.getData(),i={};r.each(function(o){var s=r.getName(o);i["ec-"+s]=o;var l=r.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=n.getColorFromPalette(s,t)),r.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var d=l.getShallow(c[f],!0);d!=null&&r.setItemVisual(o,c[f],d)}}),r.count()&&a.each(function(o){var s=a.getItemModel(o),l=s.getShallow("category");if(l!=null){Dt(l)&&(l=i["ec-"+l]);var u=r.getItemVisual(l,"style"),c=a.ensureUniqueItemVisual(o,"style");rt(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)a.setItemVisual(o,f[d],r.getItemVisual(l,f[d]))}})})}function hT(e){return e instanceof Array||(e=[e,e]),e}function $Vt(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),r=t.getEdgeData(),a=hT(t.get("edgeSymbol")),i=hT(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",a&&a[0]),r.setVisual("toSymbol",a&&a[1]),r.setVisual("fromSymbolSize",i&&i[0]),r.setVisual("toSymbolSize",i&&i[1]),r.setVisual("style",t.getModel("lineStyle").getLineStyle()),r.each(function(o){var s=r.getItemModel(o),l=n.getEdgeByIndex(o),u=hT(s.getShallow("symbol",!0)),c=hT(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),d=r.ensureUniqueItemVisual(o,"style");switch(rt(d,f),d.stroke){case"source":{var h=l.node1.getVisual("style");d.stroke=h&&h.fill;break}case"target":{var h=l.node2.getVisual("style");d.stroke=h&&h.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var z3="-->",aR=function(e){return e.get("autoCurveness")||null},Q1e=function(e,t){var n=aR(e),r=20,a=[];if(Kn(n))r=n;else if(st(n)){e.__curvenessList=n;return}t>r&&(r=t);var i=r%2?r+2:r+3;a=[];for(var o=0;o<i;o++)a.push((o%2?o+1:o)/10*(o%2?-1:1));e.__curvenessList=a},u_=function(e,t,n){var r=[e.id,e.dataIndex].join("."),a=[t.id,t.dataIndex].join(".");return[n.uid,r,a].join(z3)},ebe=function(e){var t=e.split(z3);return[t[0],t[2],t[1]].join(z3)},LVt=function(e,t){var n=u_(e.node1,e.node2,t);return t.__edgeMap[n]},OVt=function(e,t){var n=W3(u_(e.node1,e.node2,t),t),r=W3(u_(e.node2,e.node1,t),t);return n+r},W3=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function PVt(e){aR(e)&&(e.__curvenessList=[],e.__edgeMap={},Q1e(e))}function FVt(e,t,n,r){if(aR(n)){var a=u_(e,t,n),i=n.__edgeMap,o=i[ebe(a)];i[a]&&!o?i[a].isForward=!0:o&&i[a]&&(o.isForward=!0,i[a].isForward=!1),i[a]=i[a]||[],i[a].push(r)}}function oW(e,t,n,r){var a=aR(t),i=st(a);if(!a)return null;var o=LVt(e,t);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===n){s=l;break}var u=OVt(e,t);Q1e(t,u),e.lineStyle=e.lineStyle||{};var c=u_(e.node1,e.node2,t),f=t.__curvenessList,d=i||u%2?0:1;if(o.isForward)return f[d+s];var h=ebe(c),p=W3(h,t),v=f[s+p+d];return r?i?a&&a[0]===0?(p+d)%2?v:-v:((p%2?0:1)+d)%2?v:-v:(p+d)%2?v:-v:f[s+p+d]}function tbe(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view")){var n=e.getGraph();n.eachNode(function(r){var a=r.getModel();r.setLayout([+a.get("x"),+a.get("y")])}),sW(n,e)}}function sW(e,t){e.eachEdge(function(n,r){var a=Rc(n.getModel().get(["lineStyle","curveness"]),-oW(n,t,r,!0),0),i=Of(n.node1.getLayout()),o=Of(n.node2.getLayout()),s=[i,o];+a&&s.push([(i[0]+o[0])/2-(i[1]-o[1])*a,(i[1]+o[1])/2-(o[0]-i[0])*a]),n.setLayout(s)})}function BVt(e,t){e.eachSeriesByType("graph",function(n){var r=n.get("layout"),a=n.coordinateSystem;if(a&&a.type!=="view"){var i=n.getData(),o=[];X(a.dimensions,function(d){o=o.concat(i.mapDimensionsAll(d))});for(var s=0;s<i.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=i.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?i.setItemLayout(s,a.dataToPoint(l)):i.setItemLayout(s,[NaN,NaN])}sW(i.graph,n)}else(!r||r==="none")&&tbe(n)})}function jb(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var n=e.option.nodeScaleRatio,r=t.scaleX,a=t.getZoom(),i=(a-1)*n+1;return i/r}function Yb(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var bJ=Math.PI,oL=[];function lW(e,t,n,r){var a=e.coordinateSystem;if(!(a&&a.type!=="view")){var i=a.getBoundingRect(),o=e.getData(),s=o.graph,l=i.width/2+i.x,u=i.height/2+i.y,c=Math.min(i.width,i.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(n){var d=a.pointToData(r),h=d[0],p=d[1],v=[h-l,p-u];g1(v,v),vk(v,v,c),n.setLayout([l+v[0],u+v[1]],!0);var g=e.get(["circular","rotateLabel"]);nbe(n,g,l,u)}VVt[t](e,s,o,c,l,u,f),s.eachEdge(function(m,y){var b=Rc(m.getModel().get(["lineStyle","curveness"]),oW(m,e,y),0),x=Of(m.node1.getLayout()),_=Of(m.node2.getLayout()),S,C=(x[0]+_[0])/2,k=(x[1]+_[1])/2;+b&&(b*=3,S=[l*b+C*(1-b),u*b+k*(1-b)]),m.setLayout([x,_,S])})}}}var VVt={value:function(e,t,n,r,a,i,o){var s=0,l=n.getSum("value"),u=Math.PI*2/(l||o);t.eachNode(function(c){var f=c.getValue("value"),d=u*(l?f:1)/2;s+=d,c.setLayout([r*Math.cos(s)+a,r*Math.sin(s)+i]),s+=d})},symbolSize:function(e,t,n,r,a,i,o){var s=0;oL.length=o;var l=jb(e);t.eachNode(function(f){var d=Yb(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var h=Math.asin(d/2/r);isNaN(h)&&(h=bJ/2),oL[f.dataIndex]=h,s+=h*2});var u=(2*bJ-s)/o/2,c=0;t.eachNode(function(f){var d=u+oL[f.dataIndex];c+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([r*Math.cos(c)+a,r*Math.sin(c)+i]),c+=d})}};function nbe(e,t,n,r){var a=e.getGraphicEl();if(a){var i=e.getModel(),o=i.get(["label","rotate"])||0,s=a.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-r,l[0]-n);u<0&&(u=Math.PI*2+u);var c=l[0]<n;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var d=s.ensureState("emphasis");rt(d.textConfig||(d.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function zVt(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&lW(t,"symbolSize")})}var W0=EF;function WVt(e,t,n){for(var r=e,a=t,i=n.rect,o=i.width,s=i.height,l=[i.x+o/2,i.y+s/2],u=n.gravity==null?.1:n.gravity,c=0;c<r.length;c++){var f=r[c];f.p||(f.p=r0(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=Of(f.p),f.edges=null}var d=n.friction==null?.6:n.friction,h=d,p,v;return{warmUp:function(){h=d*.8},setFixed:function(g){r[g].fixed=!0},setUnfixed:function(g){r[g].fixed=!1},beforeStep:function(g){p=g},afterStep:function(g){v=g},step:function(g){p&&p(r,a);for(var m=[],y=r.length,b=0;b<a.length;b++){var x=a[b];if(!x.ignoreForceLayout){var _=x.n1,S=x.n2;Iv(m,S.p,_.p);var C=AF(m)-x.d,k=S.w/(_.w+S.w);isNaN(k)&&(k=0),g1(m,m),!_.fixed&&W0(_.p,_.p,m,k*C*h),!S.fixed&&W0(S.p,S.p,m,-(1-k)*C*h)}}for(var b=0;b<y;b++){var T=r[b];T.fixed||(Iv(m,l,T.p),W0(T.p,T.p,m,u*h))}for(var b=0;b<y;b++)for(var _=r[b],E=b+1;E<y;E++){var S=r[E];Iv(m,S.p,_.p);var C=AF(m);C===0&&(mDt(m,Math.random()-.5,Math.random()-.5),C=1);var I=(_.rep+S.rep)/C/C;!_.fixed&&W0(_.pp,_.pp,m,I),!S.fixed&&W0(S.pp,S.pp,m,-I)}for(var A=[],b=0;b<y;b++){var T=r[b];T.fixed||(Iv(A,T.p,T.pp),W0(T.p,T.p,A,h),$o(T.pp,T.p))}h=h*.992;var N=h<.01;v&&v(r,a,N),g&&g(N)}}}function HVt(e){e.eachSeriesByType("graph",function(t){var n=t.coordinateSystem;if(!(n&&n.type!=="view"))if(t.get("layout")==="force"){var r=t.preservedPoints||{},a=t.getGraph(),i=a.data,o=a.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?i.each(function(b){var x=i.getId(b);i.setItemLayout(b,r[x]||[NaN,NaN])}):!l||l==="none"?tbe(t):l==="circular"&&lW(t,"value");var u=i.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),d=s.get("edgeLength"),h=st(f)?f:[f,f],p=st(d)?d:[d,d];p=[p[1],p[0]];var v=i.mapArray("value",function(b,x){var _=i.getItemLayout(x),S=cr(b,u,h);return isNaN(S)&&(S=(h[0]+h[1])/2),{w:S,rep:S,fixed:i.getItemModel(x).get("fixed"),p:!_||isNaN(_[0])||isNaN(_[1])?null:_}}),g=o.mapArray("value",function(b,x){var _=a.getEdgeByIndex(x),S=cr(b,c,p);isNaN(S)&&(S=(p[0]+p[1])/2);var C=_.getModel(),k=Rc(_.getModel().get(["lineStyle","curveness"]),-oW(_,t,x,!0),0);return{n1:v[_.node1.dataIndex],n2:v[_.node2.dataIndex],d:S,curveness:k,ignoreForceLayout:C.get("ignoreForceLayout")}}),m=n.getBoundingRect(),y=WVt(v,g,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});y.beforeStep(function(b,x){for(var _=0,S=b.length;_<S;_++)b[_].fixed&&$o(b[_].p,a.getNodeByIndex(_).getLayout())}),y.afterStep(function(b,x,_){for(var S=0,C=b.length;S<C;S++)b[S].fixed||a.getNodeByIndex(S).setLayout(b[S].p),r[i.getId(S)]=b[S].p;for(var S=0,C=x.length;S<C;S++){var k=x[S],T=a.getEdgeByIndex(S),E=k.n1.p,I=k.n2.p,A=T.getLayout();A=A?A.slice():[],A[0]=A[0]||[],A[1]=A[1]||[],$o(A[0],E),$o(A[1],I),+k.curveness&&(A[2]=[(E[0]+I[0])/2-(E[1]-I[1])*k.curveness,(E[1]+I[1])/2-(I[0]-E[0])*k.curveness]),T.setLayout(A)}}),t.forceLayout=y,t.preservedPoints=r,y.step()}else t.forceLayout=null})}function UVt(e,t,n){var r=rt(e.getBoxLayoutParams(),{aspect:n});return Ya(r,{width:t.getWidth(),height:t.getHeight()})}function GVt(e,t){var n=[];return e.eachSeriesByType("graph",function(r){var a=r.get("coordinateSystem");if(!a||a==="view"){var i=r.getData(),o=i.mapArray(function(g){var m=i.getItemModel(g);return[+m.get("x"),+m.get("y")]}),s=[],l=[];NN(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=UVt(r,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],d=l[1]-s[1],h=c.width,p=c.height,v=r.coordinateSystem=new IC;v.zoomLimit=r.get("scaleLimit"),v.setBoundingRect(s[0],s[1],f,d),v.setViewRect(c.x,c.y,h,p),v.setCenter(r.get("center"),t),v.setZoom(r.get("zoom")),n.push(v)}}),n}var xJ=ii.prototype,sL=dC.prototype,rbe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(rbe);function lL(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var KVt=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-line",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rbe},t.prototype.buildPath=function(n,r){lL(r)?xJ.buildPath.call(this,n,r):sL.buildPath.call(this,n,r)},t.prototype.pointAt=function(n){return lL(this.shape)?xJ.pointAt.call(this,n):sL.pointAt.call(this,n)},t.prototype.tangentAt=function(n){var r=this.shape,a=lL(r)?[r.x2-r.x1,r.y2-r.y1]:sL.tangentAt.call(this,n);return g1(a,a)},t}(An),uL=["fromSymbol","toSymbol"];function wJ(e){return"_"+e+"Type"}function _J(e,t,n){var r=t.getItemVisual(n,e);if(!r||r==="none")return r;var a=t.getItemVisual(n,e+"Size"),i=t.getItemVisual(n,e+"Rotate"),o=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),l=E1(a),u=s0(o||0,l);return r+l+u+(i||"")+(s||"")}function SJ(e,t,n){var r=t.getItemVisual(n,e);if(!(!r||r==="none")){var a=t.getItemVisual(n,e+"Size"),i=t.getItemVisual(n,e+"Rotate"),o=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),l=E1(a),u=s0(o||0,l),c=Ma(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=i==null||isNaN(i)?void 0:+i*Math.PI/180||0,c.name=e,c}}function jVt(e){var t=new KVt({name:"line",subPixelOptimize:!0});return H3(t.shape,e),t}function H3(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var uW=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this)||this;return i._createLine(n,r,a),i}return t.prototype._createLine=function(n,r,a){var i=n.hostModel,o=n.getItemLayout(r),s=jVt(o);s.shape.percent=0,Xr(s,{shape:{percent:1}},i,r),this.add(s),X(uL,function(l){var u=SJ(l,n,r);this.add(u),this[wJ(l)]=_J(l,n,r)},this),this._updateCommonStl(n,r,a)},t.prototype.updateData=function(n,r,a){var i=n.hostModel,o=this.childOfName("line"),s=n.getItemLayout(r),l={shape:{}};H3(l.shape,s),Jn(o,l,i,r),X(uL,function(u){var c=_J(u,n,r),f=wJ(u);if(this[f]!==c){this.remove(this.childOfName(u));var d=SJ(u,n,r);this.add(d)}this[f]=c},this),this._updateCommonStl(n,r,a)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(n,r,a){var i=n.hostModel,o=this.childOfName("line"),s=a&&a.emphasisLineStyle,l=a&&a.blurLineStyle,u=a&&a.selectLineStyle,c=a&&a.labelStatesModels,f=a&&a.emphasisDisabled,d=a&&a.focus,h=a&&a.blurScope;if(!a||n.hasItemOption){var p=n.getItemModel(r),v=p.getModel("emphasis");s=v.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),f=v.get("disabled"),d=v.get("focus"),h=v.get("blurScope"),c=vi(p)}var g=n.getItemVisual(r,"style"),m=g.stroke;o.useStyle(g),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,X(uL,function(S){var C=this.childOfName(S);if(C){C.setColor(m),C.style.opacity=g.opacity;for(var k=0;k<os.length;k++){var T=os[k],E=o.getState(T);if(E){var I=E.style||{},A=C.ensureState(T),N=A.style||(A.style={});I.stroke!=null&&(N[C.__isEmptyBrush?"stroke":"fill"]=I.stroke),I.opacity!=null&&(N.opacity=I.opacity)}}C.markRedraw()}},this);var y=i.getRawValue(r);Yi(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(S,C){return i.getFormattedLabel(S,C,n.dataType)}},inheritColor:m||"#000",defaultOpacity:g.opacity,defaultText:(y==null?n.getName(r):isFinite(y)?ha(y):y)+""});var b=this.getTextContent();if(b){var x=c.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=x.get("position")||"middle";var _=x.get("distance");st(_)||(_=[_,_]),b.__labelDistance=_}this.setTextConfig({position:null,local:!0,inside:!1}),la(this,d,h,f)},t.prototype.highlight=function(){Jf(this)},t.prototype.downplay=function(){Qf(this)},t.prototype.updateLayout=function(n,r){this.setLinePoints(n.getItemLayout(r))},t.prototype.setLinePoints=function(n){var r=this.childOfName("line");H3(r.shape,n),r.dirty()},t.prototype.beforeUpdate=function(){var n=this,r=n.childOfName("fromSymbol"),a=n.childOfName("toSymbol"),i=n.getTextContent();if(!r&&!a&&(!i||i.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=n.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),d=Iv([],f,c);g1(d,d);function h(E,I){var A=E.__specifiedRotation;if(A==null){var N=l.tangentAt(I);E.attr("rotation",(I===1?-1:1)*Math.PI/2-Math.atan2(N[1],N[0]))}else E.attr("rotation",A)}if(r&&(r.setPosition(c),h(r,0),r.scaleX=r.scaleY=o*u,r.markRedraw()),a&&(a.setPosition(f),h(a,1),a.scaleX=a.scaleY=o*u,a.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var p=void 0,v=void 0,g=i.__labelDistance,m=g[0]*o,y=g[1]*o,b=u/2,x=l.tangentAt(b),_=[x[1],-x[0]],S=l.pointAt(b);_[1]>0&&(_[0]=-_[0],_[1]=-_[1]);var C=x[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var k=-Math.atan2(x[1],x[0]);f[0]<c[0]&&(k=Math.PI+k),i.rotation=k}var T=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":T=-y,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":T=y,v="top";break;default:T=0,v="middle"}switch(i.__position){case"end":i.x=d[0]*m+f[0],i.y=d[1]*y+f[1],p=d[0]>.8?"left":d[0]<-.8?"right":"center",v=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":i.x=-d[0]*m+c[0],i.y=-d[1]*y+c[1],p=d[0]>.8?"right":d[0]<-.8?"left":"center",v=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=m*C+c[0],i.y=c[1]+T,p=x[0]<0?"right":"left",i.originX=-m*C,i.originY=-T;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=S[0],i.y=S[1]+T,p="center",i.originY=-T;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-m*C+f[0],i.y=f[1]+T,p=x[0]>=0?"right":"left",i.originX=m*C,i.originY=-T;break}i.scaleX=i.scaleY=o,i.setStyle({verticalAlign:i.__verticalAlign||v,align:i.__align||p})}},t}(an),cW=function(){function e(t){this.group=new an,this._LineCtor=t||uW}return e.prototype.updateData=function(t){var n=this;this._progressiveEls=null;var r=this,a=r.group,i=r._lineData;r._lineData=t,i||a.removeAll();var o=CJ(t);t.diff(i).add(function(s){n._doAdd(t,s,o)}).update(function(s,l){n._doUpdate(i,t,l,s,o)}).remove(function(s){a.remove(i.getItemGraphicEl(s))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(n,r){n.updateLayout(t,r)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=CJ(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n){this._progressiveEls=[];function r(s){!s.isGroup&&!YVt(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var i=n.getItemLayout(a);if(cL(i)){var o=new this._LineCtor(n,a,this._seriesScope);o.traverse(r),this.group.add(o),n.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){gp(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,n,r){var a=t.getItemLayout(n);if(cL(a)){var i=new this._LineCtor(t,n,r);t.setItemGraphicEl(n,i),this.group.add(i)}},e.prototype._doUpdate=function(t,n,r,a,i){var o=t.getItemGraphicEl(r);if(!cL(n.getItemLayout(a))){this.group.remove(o);return}o?o.updateData(n,a,i):o=new this._LineCtor(n,a,i),n.setItemGraphicEl(a,o),this.group.add(o)},e}();function YVt(e){return e.animators&&e.animators.length>0}function CJ(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:vi(t)}}function TJ(e){return isNaN(e[0])||isNaN(e[1])}function cL(e){return e&&!TJ(e[0])&&!TJ(e[1])}var fL=[],dL=[],hL=[],H0=xi,pL=Gv,kJ=Math.abs;function IJ(e,t,n){for(var r=e[0],a=e[1],i=e[2],o=1/0,s,l=n*n,u=.1,c=.1;c<=.9;c+=.1){fL[0]=H0(r[0],a[0],i[0],c),fL[1]=H0(r[1],a[1],i[1],c);var f=kJ(pL(fL,t)-l);f<o&&(o=f,s=c)}for(var d=0;d<32;d++){var h=s+u;dL[0]=H0(r[0],a[0],i[0],s),dL[1]=H0(r[1],a[1],i[1],s),hL[0]=H0(r[0],a[0],i[0],h),hL[1]=H0(r[1],a[1],i[1],h);var f=pL(dL,t)-l;if(kJ(f)<.01)break;var p=pL(hL,t)-l;u/=2,f<0?p>=0?s=s+u:s=s-u:p>=0?s=s-u:s=s+u}return s}function vL(e,t){var n=[],r=zw,a=[[],[],[]],i=[[],[]],o=[];t/=2,e.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[Of(u[0]),Of(u[1])],u[2]&&u.__original.push(Of(u[2])));var d=u.__original;if(u[2]!=null){if($o(a[0],d[0]),$o(a[1],d[2]),$o(a[2],d[1]),c&&c!=="none"){var h=Yb(s.node1),p=IJ(a,d[0],h*t);r(a[0][0],a[1][0],a[2][0],p,n),a[0][0]=n[3],a[1][0]=n[4],r(a[0][1],a[1][1],a[2][1],p,n),a[0][1]=n[3],a[1][1]=n[4]}if(f&&f!=="none"){var h=Yb(s.node2),p=IJ(a,d[1],h*t);r(a[0][0],a[1][0],a[2][0],p,n),a[1][0]=n[1],a[2][0]=n[2],r(a[0][1],a[1][1],a[2][1],p,n),a[1][1]=n[1],a[2][1]=n[2]}$o(u[0],a[0]),$o(u[1],a[2]),$o(u[2],a[1])}else{if($o(i[0],d[0]),$o(i[1],d[1]),Iv(o,i[1],i[0]),g1(o,o),c&&c!=="none"){var h=Yb(s.node1);EF(i[0],i[0],o,h*t)}if(f&&f!=="none"){var h=Yb(s.node2);EF(i[1],i[1],o,-h*t)}$o(u[0],i[0]),$o(u[1],i[1])}})}function EJ(e){return e.type==="view"}var XVt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){var a=new wC,i=new cW,o=this.group;this._controller=new kC(r.getZr()),this._controllerHost={target:o},o.add(a.group),o.add(i.group),this._symbolDraw=a,this._lineDraw=i,this._firstRender=!0},t.prototype.render=function(n,r,a){var i=this,o=n.coordinateSystem;this._model=n;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(EJ(o)){var c={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(c):Jn(u,c,n)}vL(n.getGraph(),jb(n));var f=n.getData();s.updateData(f);var d=n.getEdgeData();l.updateData(d),this._updateNodeAndLinkScale(),this._updateController(n,r,a),clearTimeout(this._layoutTimeout);var h=n.forceLayout,p=n.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,p);var v=n.get("layout");f.graph.eachNode(function(b){var x=b.dataIndex,_=b.getGraphicEl(),S=b.getModel();if(_){_.off("drag").off("dragend");var C=S.get("draggable");C&&_.on("drag",function(T){switch(v){case"force":h.warmUp(),!i._layouting&&i._startForceLayoutIteration(h,p),h.setFixed(x),f.setItemLayout(x,[_.x,_.y]);break;case"circular":f.setItemLayout(x,[_.x,_.y]),b.setLayout({fixed:!0},!0),lW(n,"symbolSize",b,[T.offsetX,T.offsetY]),i.updateLayout(n);break;case"none":default:f.setItemLayout(x,[_.x,_.y]),sW(n.getGraph(),n),i.updateLayout(n);break}}).on("dragend",function(){h&&h.setUnfixed(x)}),_.setDraggable(C,!!S.get("cursor"));var k=S.get(["emphasis","focus"]);k==="adjacency"&&(sn(_).focus=b.getAdjacentDataIndices())}}),f.graph.eachEdge(function(b){var x=b.getGraphicEl(),_=b.getModel().get(["emphasis","focus"]);x&&_==="adjacency"&&(sn(x).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var g=n.get("layout")==="circular"&&n.get(["circular","rotateLabel"]),m=f.getLayout("cx"),y=f.getLayout("cy");f.graph.eachNode(function(b){nbe(b,g,m,y)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(n,r){var a=this;(function i(){n.step(function(o){a.updateLayout(a._model),(a._layouting=!o)&&(r?a._layoutTimeout=setTimeout(i,16):i())})})()},t.prototype._updateController=function(n,r,a){var i=this,o=this._controller,s=this._controllerHost,l=this.group;if(o.setPointerChecker(function(u,c,f){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(c,f)&&!tR(u,a,n)}),!EJ(n.coordinateSystem)){o.disable();return}o.enable(n.get("roam")),s.zoomLimit=n.get("scaleLimit"),s.zoom=n.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){J5(s,u.dx,u.dy),a.dispatchAction({seriesId:n.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Q5(s,u.scale,u.originX,u.originY),a.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(),vL(n.getGraph(),jb(n)),i._lineDraw.updateLayout(),a.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var n=this._model,r=n.getData(),a=jb(n);r.eachItemGraphicEl(function(i,o){i&&i.setSymbolScale(a)})},t.prototype.updateLayout=function(n){vL(n.getGraph(),jb(n)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Dr);function U0(e){return"_EC_"+e}var qVt=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,n){t=t==null?""+n:""+t;var r=this._nodesMap;if(!r[U0(t)]){var a=new av(t,n);return a.hostGraph=this,this.nodes.push(a),r[U0(t)]=a,a}},e.prototype.getNodeByIndex=function(t){var n=this.data.getRawIndex(t);return this.nodes[n]},e.prototype.getNodeById=function(t){return this._nodesMap[U0(t)]},e.prototype.addEdge=function(t,n,r){var a=this._nodesMap,i=this._edgesMap;if(Kn(t)&&(t=this.nodes[t]),Kn(n)&&(n=this.nodes[n]),t instanceof av||(t=a[U0(t)]),n instanceof av||(n=a[U0(n)]),!(!t||!n)){var o=t.id+"-"+n.id,s=new abe(t,n,r);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),n.inEdges.push(s)),t.edges.push(s),t!==n&&n.edges.push(s),this.edges.push(s),i[o]=s,s}},e.prototype.getEdgeByIndex=function(t){var n=this.edgeData.getRawIndex(t);return this.edges[n]},e.prototype.getEdge=function(t,n){t instanceof av&&(t=t.id),n instanceof av&&(n=n.id);var r=this._edgesMap;return this._directed?r[t+"-"+n]:r[t+"-"+n]||r[n+"-"+t]},e.prototype.eachNode=function(t,n){for(var r=this.nodes,a=r.length,i=0;i<a;i++)r[i].dataIndex>=0&&t.call(n,r[i],i)},e.prototype.eachEdge=function(t,n){for(var r=this.edges,a=r.length,i=0;i<a;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&t.call(n,r[i],i)},e.prototype.breadthFirstTraverse=function(t,n,r,a){if(n instanceof av||(n=this._nodesMap[U0(n)]),!!n){for(var i=r==="out"?"outEdges":r==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(a,n,null))for(var s=[n];s.length;)for(var l=s.shift(),u=l[i],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(a,f,l))return;s.push(f),f.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,n=this.edgeData,r=this.nodes,a=this.edges,i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(var i=0,o=t.count();i<o;i++)r[t.getRawIndex(i)].dataIndex=i;n.filterSelf(function(s){var l=a[n.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(var i=0,o=n.count();i<o;i++)a[n.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,a=0;a<n.length;a++)t.addNode(n[a].id,n[a].dataIndex);for(var a=0;a<r.length;a++){var i=r[a];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},e}(),av=function(){function e(t,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=n??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.data.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},n=0;n<this.edges.length;n++){var r=this.edges[n];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=Pt(),n=Pt(),r=0;r<this.edges.length;r++){var a=this.edges[r];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var i=[a.node1],o=[a.node2],s=0;s<i.length;){var l=i[s];s++,n.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),i.push(l.inEdges[u].node1)}for(s=0;s<o.length;){var c=o[s];s++,n.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),o.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:n.keys()}},e}(),abe=function(){function e(t,n,r){this.dataIndex=-1,this.node1=t,this.node2=n,this.dataIndex=r??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.edgeData.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=Pt(),n=Pt();t.set(this.dataIndex,!0);for(var r=[this.node1],a=[this.node2],i=0;i<r.length;){var o=r[i];i++,n.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)t.set(o.inEdges[s].dataIndex,!0),r.push(o.inEdges[s].node1)}for(i=0;i<a.length;){var l=a[i];i++,n.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),a.push(l.outEdges[s].node2)}return{edge:t.keys(),node:n.keys()}},e}();function ibe(e,t){return{getValue:function(n){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}$a(av,ibe("hostGraph","data"));$a(abe,ibe("hostGraph","edgeData"));function obe(e,t,n,r,a){for(var i=new qVt(r),o=0;o<e.length;o++)i.addNode(Si(e[o].id,e[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,d=c.target;i.addEdge(f,d,u)&&(l.push(c),s.push(Si(Ha(c.id,null),f+" > "+d)),u++)}var h=n.get("coordinateSystem"),p;if(h==="cartesian2d"||h==="polar")p=md(e,n);else{var v=gC.get(h),g=v?v.dimensions||[]:[];Cn(g,"value")<0&&g.concat(["value"]);var m=yC(e,{coordDimensions:g,encodeDefine:n.getEncode()}).dimensions;p=new Zo(m,n),p.initData(e)}var y=new Zo(["value"],n);return y.initData(l,s),a&&a(p,y),z1e({mainData:p,struct:i,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var ZVt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments);var r=this;function a(){return r._categoriesData}this.legendVisualProvider=new TC(a,a),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(n){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Eg(n,"edgeLabel",["show"])},t.prototype.getInitialData=function(n,r){var a=n.edges||n.links||[],i=n.data||n.nodes||[],o=this;{PVt(this);var s=obe(i,a,this,!0,l);return X(s.edges,function(u){FVt(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(p){var v=o._categoriesModels,g=p.getShallow("category"),m=v[g];return m&&(m.parentModel=p.parentModel,p.parentModel=m),p});var f=pr.prototype.getModel;function d(p,v){var g=f.call(this,p,v);return g.resolveParentPath=h,g}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=h,p.getModel=d,p});function h(p){if(p&&(p[0]==="label"||p[1]==="label")){var v=p.slice();return p[0]==="label"?v[0]="edgeLabel":p[1]==="label"&&(v[1]="edgeLabel"),v}return p}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(n,r,a){if(a==="edge"){var i=this.getData(),o=this.getDataParams(n,a),s=i.graph.getEdgeByIndex(n),l=i.getName(s.node1.dataIndex),u=i.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),gi("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=Dme({series:this,dataIndex:n,multipleSeries:r});return f},t.prototype._updateCategoriesData=function(){var n=ut(this.option.categories||[],function(a){return a.value!=null?a:rt({value:0},a)}),r=new Zo(["value"],this);r.initData(n),this._categoriesData=r,this._categoriesModels=r.mapArray(function(a){return r.getItemModel(a)})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Vr),JVt={type:"graphRoam",event:"graphRoam",update:"none"};function QVt(e){e.registerChartView(XVt),e.registerSeriesModel(ZVt),e.registerProcessor(RVt),e.registerVisual(MVt),e.registerVisual($Vt),e.registerLayout(BVt),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,zVt),e.registerLayout(HVt),e.registerCoordinateSystem("graphView",{dimensions:IC.dimensions,create:GVt}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ba),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ba),e.registerAction(JVt,function(t,n,r){n.eachComponent({mainType:"series",query:t},function(a){var i=a.coordinateSystem,o=tW(i,t,void 0,r);a.setCenter&&a.setCenter(o.center),a.setZoom&&a.setZoom(o.zoom)})})}var ezt=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),tzt=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="pointer",r}return t.prototype.getDefaultShape=function(){return new ezt},t.prototype.buildPath=function(n,r){var a=Math.cos,i=Math.sin,o=r.r,s=r.width,l=r.angle,u=r.x-a(l)*s*(s>=o/3?1:2),c=r.y-i(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,n.moveTo(u,c),n.lineTo(r.x+a(l)*s,r.y+i(l)*s),n.lineTo(r.x+a(r.angle)*o,r.y+i(r.angle)*o),n.lineTo(r.x-a(l)*s,r.y-i(l)*s),n.lineTo(u,c)},t}(An);function nzt(e,t){var n=e.get("center"),r=t.getWidth(),a=t.getHeight(),i=Math.min(r,a),o=St(n[0],t.getWidth()),s=St(n[1],t.getHeight()),l=St(e.get("radius"),i/2);return{cx:o,cy:s,r:l}}function pT(e,t){var n=e==null?"":e+"";return t&&(Dt(t)?n=t.replace("{value}",n):Yt(t)&&(n=t(e))),n}var rzt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){this.group.removeAll();var i=n.get(["axisLine","lineStyle","color"]),o=nzt(n,a);this._renderMain(n,r,a,i,o),this._data=n.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(n,r,a,i,o){var s=this.group,l=n.get("clockwise"),u=-n.get("startAngle")/180*Math.PI,c=-n.get("endAngle")/180*Math.PI,f=n.getModel("axisLine"),d=f.get("roundCap"),h=d?NE:ss,p=f.get("show"),v=f.getModel("lineStyle"),g=v.get("width"),m=[u,c];r5(m,!l),u=m[0],c=m[1];for(var y=c-u,b=u,x=[],_=0;p&&_<i.length;_++){var S=Math.min(Math.max(i[_][0],0),1);c=u+y*S;var C=new h({shape:{startAngle:b,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-g,r:o.r},silent:!0});C.setStyle({fill:i[_][1]}),C.setStyle(v.getLineStyle(["color","width"])),x.push(C),b=c}x.reverse(),X(x,function(T){return s.add(T)});var k=function(T){if(T<=0)return i[0][1];var E;for(E=0;E<i.length;E++)if(i[E][0]>=T&&(E===0?0:i[E-1][0])<T)return i[E][1];return i[E-1][1]};this._renderTicks(n,r,a,k,o,u,c,l,g),this._renderTitleAndDetail(n,r,a,k,o),this._renderAnchor(n,o),this._renderPointer(n,r,a,k,o,u,c,l,g)},t.prototype._renderTicks=function(n,r,a,i,o,s,l,u,c){for(var f=this.group,d=o.cx,h=o.cy,p=o.r,v=+n.get("min"),g=+n.get("max"),m=n.getModel("splitLine"),y=n.getModel("axisTick"),b=n.getModel("axisLabel"),x=n.get("splitNumber"),_=y.get("splitNumber"),S=St(m.get("length"),p),C=St(y.get("length"),p),k=s,T=(l-s)/x,E=T/_,I=m.getModel("lineStyle").getLineStyle(),A=y.getModel("lineStyle").getLineStyle(),N=m.get("distance"),L,R,D=0;D<=x;D++){if(L=Math.cos(k),R=Math.sin(k),m.get("show")){var P=N?N+c:c,O=new ii({shape:{x1:L*(p-P)+d,y1:R*(p-P)+h,x2:L*(p-S-P)+d,y2:R*(p-S-P)+h},style:I,silent:!0});I.stroke==="auto"&&O.setStyle({stroke:i(D/x)}),f.add(O)}if(b.get("show")){var P=b.get("distance")+N,M=pT(ha(D/x*(g-v)+v),b.get("formatter")),W=i(D/x),U=L*(p-S-P)+d,V=R*(p-S-P)+h,H=b.get("rotate"),K=0;H==="radial"?(K=-k+2*Math.PI,K>Math.PI/2&&(K+=Math.PI)):H==="tangential"?K=-k-Math.PI/2:Kn(H)&&(K=H*Math.PI/180),K===0?f.add(new Un({style:Fr(b,{text:M,x:U,y:V,verticalAlign:R<-.8?"top":R>.8?"bottom":"middle",align:L<-.4?"left":L>.4?"right":"center"},{inheritColor:W}),silent:!0})):f.add(new Un({style:Fr(b,{text:M,x:U,y:V,verticalAlign:"middle",align:"center"},{inheritColor:W}),silent:!0,originX:U,originY:V,rotation:K}))}if(y.get("show")&&D!==x){var P=y.get("distance");P=P?P+c:c;for(var j=0;j<=_;j++){L=Math.cos(k),R=Math.sin(k);var ne=new ii({shape:{x1:L*(p-P)+d,y1:R*(p-P)+h,x2:L*(p-C-P)+d,y2:R*(p-C-P)+h},silent:!0,style:A});A.stroke==="auto"&&ne.setStyle({stroke:i((D+j/_)/x)}),f.add(ne),k+=E}k-=E}else k+=T}},t.prototype._renderPointer=function(n,r,a,i,o,s,l,u,c){var f=this.group,d=this._data,h=this._progressEls,p=[],v=n.get(["pointer","show"]),g=n.getModel("progress"),m=g.get("show"),y=n.getData(),b=y.mapDimension("value"),x=+n.get("min"),_=+n.get("max"),S=[x,_],C=[s,l];function k(E,I){var A=y.getItemModel(E),N=A.getModel("pointer"),L=St(N.get("width"),o.r),R=St(N.get("length"),o.r),D=n.get(["pointer","icon"]),P=N.get("offsetCenter"),O=St(P[0],o.r),M=St(P[1],o.r),W=N.get("keepAspect"),U;return D?U=Ma(D,O-L/2,M-R,L,R,null,W):U=new tzt({shape:{angle:-Math.PI/2,width:L,r:R,x:O,y:M}}),U.rotation=-(I+Math.PI/2),U.x=o.cx,U.y=o.cy,U}function T(E,I){var A=g.get("roundCap"),N=A?NE:ss,L=g.get("overlap"),R=L?g.get("width"):c/y.count(),D=L?o.r-R:o.r-(E+1)*R,P=L?o.r:o.r-E*R,O=new N({shape:{startAngle:s,endAngle:I,cx:o.cx,cy:o.cy,clockwise:u,r0:D,r:P}});return L&&(O.z2=cr(y.get(b,E),[x,_],[100,0],!0)),O}(m||v)&&(y.diff(d).add(function(E){var I=y.get(b,E);if(v){var A=k(E,s);Xr(A,{rotation:-((isNaN(+I)?C[0]:cr(I,S,C,!0))+Math.PI/2)},n),f.add(A),y.setItemGraphicEl(E,A)}if(m){var N=T(E,s),L=g.get("clip");Xr(N,{shape:{endAngle:cr(I,S,C,L)}},n),f.add(N),e3(n.seriesIndex,y.dataType,E,N),p[E]=N}}).update(function(E,I){var A=y.get(b,E);if(v){var N=d.getItemGraphicEl(I),L=N?N.rotation:s,R=k(E,L);R.rotation=L,Jn(R,{rotation:-((isNaN(+A)?C[0]:cr(A,S,C,!0))+Math.PI/2)},n),f.add(R),y.setItemGraphicEl(E,R)}if(m){var D=h[I],P=D?D.shape.endAngle:s,O=T(E,P),M=g.get("clip");Jn(O,{shape:{endAngle:cr(A,S,C,M)}},n),f.add(O),e3(n.seriesIndex,y.dataType,E,O),p[E]=O}}).execute(),y.each(function(E){var I=y.getItemModel(E),A=I.getModel("emphasis"),N=A.get("focus"),L=A.get("blurScope"),R=A.get("disabled");if(v){var D=y.getItemGraphicEl(E),P=y.getItemVisual(E,"style"),O=P.fill;if(D instanceof Ri){var M=D.style;D.useStyle(rt({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},P))}else D.useStyle(P),D.type!=="pointer"&&D.setColor(O);D.setStyle(I.getModel(["pointer","itemStyle"]).getItemStyle()),D.style.fill==="auto"&&D.setStyle("fill",i(cr(y.get(b,E),S,[0,1],!0))),D.z2EmphasisLift=0,ji(D,I),la(D,N,L,R)}if(m){var W=p[E];W.useStyle(y.getItemVisual(E,"style")),W.setStyle(I.getModel(["progress","itemStyle"]).getItemStyle()),W.z2EmphasisLift=0,ji(W,I),la(W,N,L,R)}}),this._progressEls=p)},t.prototype._renderAnchor=function(n,r){var a=n.getModel("anchor"),i=a.get("show");if(i){var o=a.get("size"),s=a.get("icon"),l=a.get("offsetCenter"),u=a.get("keepAspect"),c=Ma(s,r.cx-o/2+St(l[0],r.r),r.cy-o/2+St(l[1],r.r),o,o,null,u);c.z2=a.get("showAbove")?1:0,c.setStyle(a.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(n,r,a,i,o){var s=this,l=n.getData(),u=l.mapDimension("value"),c=+n.get("min"),f=+n.get("max"),d=new an,h=[],p=[],v=n.isAnimationEnabled(),g=n.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){h[m]=new Un({silent:!0}),p[m]=new Un({silent:!0})}).update(function(m,y){h[m]=s._titleEls[y],p[m]=s._detailEls[y]}).execute(),l.each(function(m){var y=l.getItemModel(m),b=l.get(u,m),x=new an,_=i(cr(b,[c,f],[0,1],!0)),S=y.getModel("title");if(S.get("show")){var C=S.get("offsetCenter"),k=o.cx+St(C[0],o.r),T=o.cy+St(C[1],o.r),E=h[m];E.attr({z2:g?0:2,style:Fr(S,{x:k,y:T,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:_})}),x.add(E)}var I=y.getModel("detail");if(I.get("show")){var A=I.get("offsetCenter"),N=o.cx+St(A[0],o.r),L=o.cy+St(A[1],o.r),R=St(I.get("width"),o.r),D=St(I.get("height"),o.r),P=n.get(["progress","show"])?l.getItemVisual(m,"style").fill:_,E=p[m],O=I.get("formatter");E.attr({z2:g?0:2,style:Fr(I,{x:N,y:L,text:pT(b,O),width:isNaN(R)?null:R,height:isNaN(D)?null:D,align:"center",verticalAlign:"middle"},{inheritColor:P})}),$0e(E,{normal:I},b,function(W){return pT(W,O)}),v&&L0e(E,m,l,n,{getFormattedLabel:function(W,U,V,H,K,j){return pT(j?j.interpolatedValue:b,O)}}),x.add(E)}d.add(x)}),this.group.add(d),this._titleEls=h,this._detailEls=p},t.type="gauge",t}(Dr),azt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return t.prototype.getInitialData=function(n,r){return D1(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Vr);function izt(e){e.registerChartView(rzt),e.registerSeriesModel(azt)}var ozt=["itemStyle","opacity"],szt=function(e){Oe(t,e);function t(n,r){var a=e.call(this)||this,i=a,o=new cs,s=new Un;return i.setTextContent(s),a.setTextGuideLine(o),a.updateData(n,r,!0),a}return t.prototype.updateData=function(n,r,a){var i=this,o=n.hostModel,s=n.getItemModel(r),l=n.getItemLayout(r),u=s.getModel("emphasis"),c=s.get(ozt);c=c??1,a||Vu(i),i.useStyle(n.getItemVisual(r,"style")),i.style.lineJoin="round",a?(i.setShape({points:l.points}),i.style.opacity=0,Xr(i,{style:{opacity:c}},o,r)):Jn(i,{style:{opacity:c},shape:{points:l.points}},o,r),ji(i,s),this._updateLabel(n,r),la(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n,r){var a=this,i=this.getTextGuideLine(),o=a.getTextContent(),s=n.hostModel,l=n.getItemModel(r),u=n.getItemLayout(r),c=u.label,f=n.getItemVisual(r,"style"),d=f.fill;Yi(o,vi(l),{labelFetcher:n.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:n.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),a.setTextConfig({local:!0,inside:!!c.inside,insideStroke:d,outsideFill:d});var h=c.linePoints;i.setShape({points:h}),a.textGuideLineConfig={anchor:h?new bn(h[0][0],h[0][1]):null},Jn(o,{style:{x:c.x,y:c.y}},s,r),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),z5(a,W5(l),{stroke:d})},t}(ls),lzt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this._data,s=this.group;i.diff(o).add(function(l){var u=new szt(i,l);i.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(i,l),s.add(c),i.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);Yw(u,n,l)}).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Dr),uzt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new TC(Nt(this.getData,this),Nt(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.getInitialData=function(n,r){return D1(this,{coordDimensions:["value"],encodeDefaulter:vn(x5,this)})},t.prototype._defaultLabelLine=function(n){Eg(n,"labelLine",["show"]);var r=n.labelLine,a=n.emphasis.labelLine;r.show=r.show&&n.label.show,a.show=a.show&&n.emphasis.label.show},t.prototype.getDataParams=function(n){var r=this.getData(),a=e.prototype.getDataParams.call(this,n),i=r.mapDimension("value"),o=r.getSum(i);return a.percent=o?+(r.get(i,n)/o*100).toFixed(2):0,a.$vars.push("percent"),a},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Vr);function czt(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function fzt(e,t){for(var n=e.mapDimension("value"),r=e.mapArray(n,function(l){return l}),a=[],i=t==="ascending",o=0,s=e.count();o<s;o++)a[o]=o;return Yt(t)?a.sort(t):t!=="none"&&a.sort(function(l,u){return i?r[l]-r[u]:r[u]-r[l]}),a}function dzt(e){var t=e.hostModel,n=t.get("orient");e.each(function(r){var a=e.getItemModel(r),i=a.getModel("label"),o=i.get("position"),s=a.getModel("labelLine"),l=e.getItemLayout(r),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,d,h,p;if(c)o==="insideLeft"?(d=(u[0][0]+u[3][0])/2+5,h=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(d=(u[1][0]+u[2][0])/2-5,h=(u[1][1]+u[2][1])/2,f="right"):(d=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,h=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),p=[[d,h],[d,h]];else{var v=void 0,g=void 0,m=void 0,y=void 0,b=s.get("length");o==="left"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,m=v-b,d=m-5,f="right"):o==="right"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,m=v+b,d=m+5,f="left"):o==="top"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,y=g-b,h=y-5,f="center"):o==="bottom"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,y=g+b,h=y+5,f="center"):o==="rightTop"?(v=n==="horizontal"?u[3][0]:u[1][0],g=n==="horizontal"?u[3][1]:u[1][1],n==="horizontal"?(y=g-b,h=y-5,f="center"):(m=v+b,d=m+5,f="top")):o==="rightBottom"?(v=u[2][0],g=u[2][1],n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v+b,d=m+5,f="bottom")):o==="leftTop"?(v=u[0][0],g=n==="horizontal"?u[0][1]:u[1][1],n==="horizontal"?(y=g-b,h=y-5,f="center"):(m=v-b,d=m-5,f="right")):o==="leftBottom"?(v=n==="horizontal"?u[1][0]:u[3][0],g=n==="horizontal"?u[1][1]:u[2][1],n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v-b,d=m-5,f="right")):(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v+b,d=m+5,f="left")),n==="horizontal"?(m=v,d=m):(y=g,h=y),p=[[v,g],[m,y]]}l.label={linePoints:p,x:d,y:h,verticalAlign:"middle",textAlign:f,inside:c}})}function hzt(e,t){e.eachSeriesByType("funnel",function(n){var r=n.getData(),a=r.mapDimension("value"),i=n.get("sort"),o=czt(n,t),s=n.get("orient"),l=o.width,u=o.height,c=fzt(r,i),f=o.x,d=o.y,h=s==="horizontal"?[St(n.get("minSize"),u),St(n.get("maxSize"),u)]:[St(n.get("minSize"),l),St(n.get("maxSize"),l)],p=r.getDataExtent(a),v=n.get("min"),g=n.get("max");v==null&&(v=Math.min(p[0],0)),g==null&&(g=p[1]);var m=n.get("funnelAlign"),y=n.get("gap"),b=s==="horizontal"?l:u,x=(b-y*(r.count()-1))/r.count(),_=function(L,R){if(s==="horizontal"){var D=r.get(a,L)||0,P=cr(D,[v,g],h,!0),O=void 0;switch(m){case"top":O=d;break;case"center":O=d+(u-P)/2;break;case"bottom":O=d+(u-P);break}return[[R,O],[R,O+P]]}var M=r.get(a,L)||0,W=cr(M,[v,g],h,!0),U;switch(m){case"left":U=f;break;case"center":U=f+(l-W)/2;break;case"right":U=f+l-W;break}return[[U,R],[U+W,R]]};i==="ascending"&&(x=-x,y=-y,s==="horizontal"?f+=l:d+=u,c=c.reverse());for(var S=0;S<c.length;S++){var C=c[S],k=c[S+1],T=r.getItemModel(C);if(s==="horizontal"){var E=T.get(["itemStyle","width"]);E==null?E=x:(E=St(E,l),i==="ascending"&&(E=-E));var I=_(C,f),A=_(k,f+E);f+=E+y,r.setItemLayout(C,{points:I.concat(A.slice().reverse())})}else{var N=T.get(["itemStyle","height"]);N==null?N=x:(N=St(N,u),i==="ascending"&&(N=-N));var I=_(C,d),A=_(k,d+N);d+=N+y,r.setItemLayout(C,{points:I.concat(A.slice().reverse())})}}dzt(r)})}function pzt(e){e.registerChartView(lzt),e.registerSeriesModel(uzt),e.registerLayout(hzt),e.registerProcessor(CC("funnel"))}var vzt=.3,gzt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new an,n._initialized=!1,n}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(n,r,a,i){this._progressiveEls=null;var o=this._dataGroup,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.dimensions,f=DJ(n);s.diff(l).add(d).update(h).remove(p).execute();function d(g){var m=AJ(s,o,g,c,u);gL(m,s,g,f)}function h(g,m){var y=l.getItemGraphicEl(m),b=sbe(s,g,c,u);s.setItemGraphicEl(g,y),Jn(y,{shape:{points:b}},n,g),Vu(y),gL(y,s,g,f)}function p(g){var m=l.getItemGraphicEl(g);o.remove(m)}if(!this._initialized){this._initialized=!0;var v=mzt(u,n,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(v)}this._data=s},t.prototype.incrementalPrepareRender=function(n,r,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(n,r,a){for(var i=r.getData(),o=r.coordinateSystem,s=o.dimensions,l=DJ(r),u=this._progressiveEls=[],c=n.start;c<n.end;c++){var f=AJ(i,this._dataGroup,c,s,o);f.incremental=!0,gL(f,i,c,l),u.push(f)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Dr);function mzt(e,t,n){var r=e.model,a=e.getRect(),i=new Bn({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),o=r.get("layout")==="horizontal"?"width":"height";return i.setShape(o,0),Xr(i,{shape:{width:a.width,height:a.height}},t,n),i}function sbe(e,t,n,r){for(var a=[],i=0;i<n.length;i++){var o=n[i],s=e.get(e.mapDimension(o),t);yzt(s,r.getAxis(o).type)||a.push(r.dataToPoint(s,o))}return a}function AJ(e,t,n,r,a){var i=sbe(e,n,r,a),o=new cs({shape:{points:i},z2:10});return t.add(o),e.setItemGraphicEl(n,o),o}function DJ(e){var t=e.get("smooth",!0);return t===!0&&(t=vzt),t=Zf(t),Bw(t)&&(t=0),{smooth:t}}function gL(e,t,n,r){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",r.smooth);var a=t.getItemModel(n),i=a.getModel("emphasis");ji(e,a,"lineStyle"),la(e,i.get("focus"),i.get("blurScope"),i.get("disabled"))}function yzt(e,t){return t==="category"?e==null:e==null||isNaN(e)}var bzt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.getInitialData=function(n,r){return md(null,this,{useEncodeDefaulter:Nt(xzt,null,this)})},t.prototype.getRawIndicesByActiveState=function(n){var r=this.coordinateSystem,a=this.getData(),i=[];return r.eachActiveState(a,function(o,s){n===o&&i.push(a.getRawIndex(s))}),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Vr);function xzt(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return X(t.dimensions,function(r){var a=wzt(r);n[r]=a}),n}}function wzt(e){return+e.replace("dim","")}var _zt=["lineStyle","opacity"],Szt={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,r={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(a,i){n.eachActiveState(i,function(o,s){var l=r[o];if(o==="normal"&&i.hasItemOption){var u=i.getItemModel(s).get(_zt,!0);u!=null&&(l=u)}var c=i.ensureUniqueItemVisual(s,"style");c.opacity=l},a.start,a.end)}}}};function Czt(e){Tzt(e),kzt(e)}function Tzt(e){if(!e.parallel){var t=!1;X(e.series,function(n){n&&n.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function kzt(e){var t=Ir(e.parallelAxis);X(t,function(n){if(Jt(n)){var r=n.parallelIndex||0,a=Ir(e.parallel)[r];a&&a.parallelAxisDefault&&mn(n,a.parallelAxisDefault,!1)}})}var Izt=5,Ezt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){this._model=n,this._api=a,this._handlers||(this._handlers={},X(Azt,function(i,o){a.getZr().on(o,this._handlers[o]=Nt(i,this))},this)),I1(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(n,r){Jw(this,"_throttledDispatchExpand"),X(this._handlers,function(a,i){r.getZr().off(i,a)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(n){this._dispatchExpand(n)},t.prototype._dispatchExpand=function(n){n&&this._api.dispatchAction(rt({type:"parallelAxisExpand"},n))},t.type="parallel",t}(na),Azt={mousedown:function(e){mL(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(mL(this,"click")&&t){var n=[e.offsetX,e.offsetY],r=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2);if(r>Izt)return;var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!(this._mouseDownPoint||!mL(this,"mousemove"))){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=n.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function mL(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var Dzt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(n){var r=this.option;n&&mn(r,n,!0),this._initDimensions()},t.prototype.contains=function(n,r){var a=n.get("parallelIndex");return a!=null&&r.getComponent("parallel",a)===this},t.prototype.setAxisExpand=function(n){X(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){n.hasOwnProperty(r)&&(this.option[r]=n[r])},this)},t.prototype._initDimensions=function(){var n=this.dimensions=[],r=this.parallelAxisIndex=[],a=sr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(i){return(i.get("parallelIndex")||0)===this.componentIndex},this);X(a,function(i){n.push("dim"+i.get("dim")),r.push(i.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Rn),Nzt=function(e){Oe(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.type=i||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(ju);function f0(e,t,n,r,a,i){e=e||0;var o=n[1]-n[0];if(a!=null&&(a=G0(a,[0,o])),i!=null&&(i=Math.max(i,a??0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=G0(s,[0,o]),a=i=G0(s,[a,i]),r=0}t[0]=G0(t[0],n),t[1]=G0(t[1],n);var l=yL(t,r);t[r]+=e;var u=a||0,c=n.slice();l.sign<0?c[0]+=u:c[1]-=u,t[r]=G0(t[r],c);var f;return f=yL(t,r),a!=null&&(f.sign!==l.sign||f.span<a)&&(t[1-r]=t[r]+l.sign*a),f=yL(t,r),i!=null&&f.span>i&&(t[1-r]=t[r]+f.sign*i),t}function yL(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function G0(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var bL=X,lbe=Math.min,ube=Math.max,NJ=Math.floor,Rzt=Math.ceil,RJ=ha,Mzt=Math.PI,$zt=function(){function e(t,n,r){this.type="parallel",this._axesMap=Pt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,n,r)}return e.prototype._init=function(t,n,r){var a=t.dimensions,i=t.parallelAxisIndex;bL(a,function(o,s){var l=i[s],u=n.getComponent("parallelAxis",l),c=this._axesMap.set(o,new Nzt(o,QN(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},e.prototype.update=function(t,n){this._updateAxesFromSeries(this._model,t)},e.prototype.containPoint=function(t){var n=this._makeLayoutInfo(),r=n.axisBase,a=n.layoutBase,i=n.pixelDimIndex,o=t[1-i],s=t[i];return o>=r&&o<=r+n.axisLength&&s>=a&&s<=a+n.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(t,n){n.eachSeries(function(r){if(t.contains(r,n)){var a=r.getData();bL(this.dimensions,function(i){var o=this._axesMap.get(i);o.scale.unionExtentFromData(a,a.mapDimension(i)),Ry(o.scale,o.model)},this)}},this)},e.prototype.resize=function(t,n){this._rect=Ya(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var t=this._model,n=this._rect,r=["x","y"],a=["width","height"],i=t.get("layout"),o=i==="horizontal"?0:1,s=n[a[o]],l=[0,s],u=this.dimensions.length,c=vT(t.get("axisExpandWidth"),l),f=vT(t.get("axisExpandCount")||0,[0,u]),d=t.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,h=t.get("axisExpandWindow"),p;if(h)p=vT(h[1]-h[0],l),h[1]=h[0]+p;else{p=vT(c*(f-1),l);var v=t.get("axisExpandCenter")||NJ(u/2);h=[c*v-p/2],h[1]=h[0]+p}var g=(s-p)/(u-f);g<3&&(g=0);var m=[NJ(RJ(h[0]/c,1))+1,Rzt(RJ(h[1]/c,1))-1],y=g/c*h[0];return{layout:i,pixelDimIndex:o,layoutBase:n[r[o]],layoutLength:s,axisBase:n[r[1-o]],axisLength:n[a[1-o]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:h,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:y}},e.prototype._layoutAxes=function(){var t=this._rect,n=this._axesMap,r=this.dimensions,a=this._makeLayoutInfo(),i=a.layout;n.each(function(o){var s=[0,a.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),bL(r,function(o,s){var l=(a.axisExpandable?Ozt:Lzt)(s,a),u={horizontal:{x:l.position,y:a.axisLength},vertical:{x:0,y:l.position}},c={horizontal:Mzt/2,vertical:0},f=[u[i].x+t.x,u[i].y+t.y],d=c[i],h=Ks();a0(h,h,d),Gc(h,h,f),this._axesLayout[o]={position:f,rotation:d,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(t){return this._axesMap.get(t)},e.prototype.dataToPoint=function(t,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(t),n)},e.prototype.eachActiveState=function(t,n,r,a){r==null&&(r=0),a==null&&(a=t.count());var i=this._axesMap,o=this.dimensions,s=[],l=[];X(o,function(g){s.push(t.mapDimension(g)),l.push(i.get(g).model)});for(var u=this.hasAxisBrushed(),c=r;c<a;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var d=t.getValues(s,c),h=0,p=o.length;h<p;h++){var v=l[h].getActiveState(d[h]);if(v==="inactive"){f="inactive";break}}}n(f,c)}},e.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,n=this._axesMap,r=!1,a=0,i=t.length;a<i;a++)n.get(t[a]).model.getActiveState()!=="normal"&&(r=!0);return r},e.prototype.axisCoordToPoint=function(t,n){var r=this._axesLayout[n];return Au([t,0],r.transform)},e.prototype.getAxisLayout=function(t){return en(this._axesLayout[t])},e.prototype.getSlidedAxisExpandWindow=function(t){var n=this._makeLayoutInfo(),r=n.pixelDimIndex,a=n.axisExpandWindow.slice(),i=a[1]-a[0],o=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:a};var s=t[r]-n.layoutBase-n.axisExpandWindow0Pos,l,u="slide",c=n.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(c)d&&c&&s<i*f[0]?(u="jump",l=s-i*f[2]):d&&c&&s>i*(1-f[0])?(u="jump",l=s-i*(1-f[2])):(l=s-i*f[1])>=0&&(l=s-i*(1-f[1]))<=0&&(l=0),l*=n.axisExpandWidth/c,l?f0(l,a,o,"all"):u="none";else{var h=a[1]-a[0],p=o[1]*s/h;a=[ube(0,p-h/2)],a[1]=lbe(o[1],a[0]+h),a[0]=a[1]-h}return{axisExpandWindow:a,behavior:u}},e}();function vT(e,t){return lbe(ube(e,t[0]),t[1])}function Lzt(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function Ozt(e,t){var n=t.layoutLength,r=t.axisExpandWidth,a=t.axisCount,i=t.axisCollapseWidth,o=t.winInnerIndices,s,l=i,u=!1,c;return e<o[0]?(s=e*i,c=i):e<=o[1]?(s=t.axisExpandWindow0Pos+e*r-t.axisExpandWindow[0],l=r,u=!0):(s=n-(a-1-e)*i,c=i),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function Pzt(e,t){var n=[];return e.eachComponent("parallel",function(r,a){var i=new $zt(r,e,t);i.name="parallel_"+a,i.resize(r,t),r.coordinateSystem=i,i.model=r,n.push(i)}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var a=r.getReferringComponents("parallel",Da).models[0];r.coordinateSystem=a.coordinateSystem}}),n}var Fzt={create:Pzt},U3=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return t.prototype.getAreaSelectStyle=function(){return Dg([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(n){var r=this.activeIntervals=en(n);if(r)for(var a=r.length-1;a>=0;a--)Al(r[a])},t.prototype.getActiveState=function(n){var r=this.activeIntervals;if(!r.length)return"normal";if(n==null||isNaN(+n))return"inactive";if(r.length===1){var a=r[0];if(a[0]<=n&&n<=a[1])return"active"}else for(var i=0,o=r.length;i<o;i++)if(r[i][0]<=n&&n<=r[i][1])return"active";return"inactive"},t}(Rn);$a(U3,bC);var Mg=!0,c_=Math.min,Ly=Math.max,Bzt=Math.pow,Vzt=1e4,zzt=6,Wzt=6,MJ="globalPan",Hzt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Uzt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},$J={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Gzt=0,fW=function(e){Oe(t,e);function t(n){var r=e.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=n,r.group=new an,r._uid="brushController_"+Gzt++,X(Jzt,function(a,i){this._handlers[i]=Nt(a,this)},r),r}return t.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},t.prototype._doEnableBrush=function(n){var r=this._zr;this._enableGlobalPan||L4t(r,MJ,this._uid),X(this._handlers,function(a,i){r.on(i,a)}),this._brushType=n.brushType,this._brushOption=mn(en($J),n,!0)},t.prototype._doDisableBrush=function(){var n=this._zr;O4t(n,MJ,this._uid),X(this._handlers,function(r,a){n.off(a,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(n){if(n&&n.length){var r=this._panels={};X(n,function(a){r[a.panelId]=en(a)})}else this._panels=null;return this},t.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(n){n=ut(n,function(d){return mn(en($J),d,!0)});var r="\0-brush-index-",a=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new ed(a,n,u,l).add(c).update(c).remove(f).execute(),this;function l(d,h){return(d.id!=null?d.id:r+h)+"-"+d.brushType}function u(d,h){return l(d.__brushOption,h)}function c(d,h){var p=n[d];if(h!=null&&a[h]===s)i[d]=a[h];else{var v=i[d]=h!=null?(a[h].__brushOption=p,a[h]):fbe(o,cbe(o,p));dW(o,v)}}function f(d){a[d]!==s&&o.group.remove(a[d])}},t.prototype.unmount=function(){return this.enableBrush(!1),G3(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(jl);function cbe(e,t){var n=iR[t.brushType].createCover(e,t);return n.__brushOption=t,hbe(n,t),e.group.add(n),n}function fbe(e,t){var n=hW(t);return n.endCreating&&(n.endCreating(e,t),hbe(t,t.__brushOption)),t}function dbe(e,t){var n=t.__brushOption;hW(t).updateCoverShape(e,t,n.range,n)}function hbe(e,t){var n=t.z;n==null&&(n=Vzt),e.traverse(function(r){r.z=n,r.z2=n})}function dW(e,t){hW(t).updateCommon(e,t),dbe(e,t)}function hW(e){return iR[e.__brushOption.brushType]}function pW(e,t,n){var r=e._panels;if(!r)return Mg;var a,i=e._transform;return X(r,function(o){o.isTargetByCursor(t,n,i)&&(a=o)}),a}function pbe(e,t){var n=e._panels;if(!n)return Mg;var r=t.__brushOption.panelId;return r!=null?n[r]:Mg}function G3(e){var t=e._covers,n=t.length;return X(t,function(r){e.group.remove(r)},e),t.length=0,!!n}function $g(e,t){var n=ut(e._covers,function(r){var a=r.__brushOption,i=en(a.range);return{brushType:a.brushType,panelId:a.panelId,range:i}});e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Kzt(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],a=n[0]-r[0],i=n[1]-r[1],o=Bzt(a*a+i*i,.5);return o>zzt}function vbe(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function gbe(e,t,n,r){var a=new an;return a.add(new Bn({name:"main",style:vW(n),silent:!0,draggable:!0,cursor:"move",drift:vn(LJ,e,t,a,["n","s","w","e"]),ondragend:vn($g,t,{isEnd:!0})})),X(r,function(i){a.add(new Bn({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:vn(LJ,e,t,a,i),ondragend:vn($g,t,{isEnd:!0})}))}),a}function mbe(e,t,n,r){var a=r.brushStyle.lineWidth||0,i=Ly(a,Wzt),o=n[0][0],s=n[1][0],l=o-a/2,u=s-a/2,c=n[0][1],f=n[1][1],d=c-i+a/2,h=f-i+a/2,p=c-o,v=f-s,g=p+a,m=v+a;gf(e,t,"main",o,s,p,v),r.transformable&&(gf(e,t,"w",l,u,i,m),gf(e,t,"e",d,u,i,m),gf(e,t,"n",l,u,g,i),gf(e,t,"s",l,h,g,i),gf(e,t,"nw",l,u,i,i),gf(e,t,"ne",d,u,i,i),gf(e,t,"sw",l,h,i,i),gf(e,t,"se",d,h,i,i))}function K3(e,t){var n=t.__brushOption,r=n.transformable,a=t.childAt(0);a.useStyle(vW(n)),a.attr({silent:!r,cursor:r?"move":"default"}),X([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=t.childOfName(i.join("")),s=i.length===1?j3(e,i[0]):Yzt(e,i);o&&o.attr({silent:!r,invisible:!r,cursor:r?Uzt[s]+"-resize":null})})}function gf(e,t,n,r,a,i,o){var s=t.childOfName(n);s&&s.setShape(qzt(gW(e,t,[[r,a],[r+i,a+o]])))}function vW(e){return Xt({strokeNoScale:!0},e.brushStyle)}function ybe(e,t,n,r){var a=[c_(e,n),c_(t,r)],i=[Ly(e,n),Ly(t,r)];return[[a[0],i[0]],[a[1],i[1]]]}function jzt(e){return qv(e.group)}function j3(e,t){var n={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},a=PN(n[t],jzt(e));return r[a]}function Yzt(e,t){var n=[j3(e,t[0]),j3(e,t[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function LJ(e,t,n,r,a,i){var o=n.__brushOption,s=e.toRectRange(o.range),l=bbe(t,a,i);X(r,function(u){var c=Hzt[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=e.fromRectRange(ybe(s[0][0],s[1][0],s[0][1],s[1][1])),dW(t,n),$g(t,{isEnd:!1})}function Xzt(e,t,n,r){var a=t.__brushOption.range,i=bbe(e,n,r);X(a,function(o){o[0]+=i[0],o[1]+=i[1]}),dW(e,t),$g(e,{isEnd:!1})}function bbe(e,t,n){var r=e.group,a=r.transformCoordToLocal(t,n),i=r.transformCoordToLocal(0,0);return[a[0]-i[0],a[1]-i[1]]}function gW(e,t,n){var r=pbe(e,t);return r&&r!==Mg?r.clipPath(n,e._transform):en(n)}function qzt(e){var t=c_(e[0][0],e[1][0]),n=c_(e[0][1],e[1][1]),r=Ly(e[0][0],e[1][0]),a=Ly(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:a-n}}function Zzt(e,t,n){if(!(!e._brushType||Qzt(e,t.offsetX,t.offsetY))){var r=e._zr,a=e._covers,i=pW(e,t,n);if(!e._dragging)for(var o=0;o<a.length;o++){var s=a[o].__brushOption;if(i&&(i===Mg||s.panelId===i.panelId)&&iR[s.brushType].contain(a[o],n[0],n[1]))return}i&&r.setCursorStyle("crosshair")}}function Y3(e){var t=e.event;t.preventDefault&&t.preventDefault()}function X3(e,t,n){return e.childOfName("main").contain(t,n)}function xbe(e,t,n,r){var a=e._creatingCover,i=e._creatingPanel,o=e._brushOption,s;if(e._track.push(n.slice()),Kzt(e)||a){if(i&&!a){o.brushMode==="single"&&G3(e);var l=en(o);l.brushType=OJ(l.brushType,i),l.panelId=i===Mg?null:i.panelId,a=e._creatingCover=cbe(e,l),e._covers.push(a)}if(a){var u=iR[OJ(e._brushType,i)],c=a.__brushOption;c.range=u.getCreatingRange(gW(e,a,e._track)),r&&(fbe(e,a),u.updateCommon(e,a)),dbe(e,a),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&pW(e,t,n)&&G3(e)&&(s={isEnd:r,removeOnClick:!0});return s}function OJ(e,t){return e==="auto"?t.defaultBrushType:e}var Jzt={mousedown:function(e){if(this._dragging)PJ(this,e);else if(!e.target||!e.target.draggable){Y3(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=pW(this,e,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(Zzt(this,e,r),this._dragging){Y3(e);var a=xbe(this,e,r,!1);a&&$g(this,a)}},mouseup:function(e){PJ(this,e)}};function PJ(e,t){if(e._dragging){Y3(t);var n=t.offsetX,r=t.offsetY,a=e.group.transformCoordToLocal(n,r),i=xbe(e,t,a,!0);e._dragging=!1,e._track=[],e._creatingCover=null,i&&$g(e,i)}}function Qzt(e,t,n){var r=e._zr;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var iR={lineX:FJ(0),lineY:FJ(1),rect:{createCover:function(e,t){function n(r){return r}return gbe({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=vbe(e);return ybe(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){mbe(e,t,n,r)},updateCommon:K3,contain:X3},polygon:{createCover:function(e,t){var n=new an;return n.add(new cs({name:"main",style:vW(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new ls({name:"main",draggable:!0,drift:vn(Xzt,e,t),ondragend:vn($g,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:gW(e,t,n)})},updateCommon:K3,contain:X3}};function FJ(e){return{createCover:function(t,n){return gbe({toRectRange:function(r){var a=[r,[0,100]];return e&&a.reverse(),a},fromRectRange:function(r){return r[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=vbe(t),r=c_(n[0][e],n[1][e]),a=Ly(n[0][e],n[1][e]);return[r,a]},updateCoverShape:function(t,n,r,a){var i,o=pbe(t,n);if(o!==Mg&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(e);else{var s=t._zr;i=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[r,i];e&&l.reverse(),mbe(t,n,l,a)},updateCommon:K3,contain:X3}}function wbe(e){return e=mW(e),function(t){return N0e(t,e)}}function _be(e,t){return e=mW(e),function(n){var r=t??n,a=r?e.width:e.height,i=r?e.x:e.y;return[i,i+(a||0)]}}function Sbe(e,t,n){var r=mW(e);return function(a,i){return r.contain(i[0],i[1])&&!tR(a,t,n)}}function mW(e){return xn.create(e)}var e8t=["axisLine","axisTickLabel","axisName"],t8t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){e.prototype.init.apply(this,arguments),(this._brushController=new fW(r.getZr())).on("brush",Nt(this._onBrush,this))},t.prototype.render=function(n,r,a,i){if(!n8t(n,r,i)){this.axisModel=n,this.api=a,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new an,this.group.add(this._axisGroup),!!n.get("show")){var s=a8t(n,r),l=s.coordinateSystem,u=n.getAreaSelectStyle(),c=u.width,f=n.axis.dim,d=l.getAxisLayout(f),h=rt({strokeContainThreshold:c},d),p=new Jo(n,h);X(e8t,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(h,u,n,s,c,a),pC(o,this._axisGroup,n)}}},t.prototype._refreshBrushController=function(n,r,a,i,o,s){var l=a.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=xn.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,x:n.position[0],y:n.position[1]}).setPanels([{panelId:"pl",clipPath:wbe(f),isTargetByCursor:Sbe(f,s,i),getLinearBrushOtherExtent:_be(f,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(r8t(a))},t.prototype._onBrush=function(n){var r=n.areas,a=this.axisModel,i=a.axis,o=ut(r,function(s){return[i.coordToData(s.range[0],!0),i.coordToData(s.range[1],!0)]});(!a.option.realtime===n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:a.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(na);function n8t(e,t,n){return n&&n.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}function r8t(e){var t=e.axis;return ut(e.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}function a8t(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var i8t={type:"axisAreaSelect",event:"axisAreaSelected"};function o8t(e){e.registerAction(i8t,function(t,n){n.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,n){n.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}var s8t={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Cbe(e){e.registerComponentView(Ezt),e.registerComponentModel(Dzt),e.registerCoordinateSystem("parallel",Fzt),e.registerPreprocessor(Czt),e.registerComponentModel(U3),e.registerComponentView(t8t),$y(e,"parallel",U3,s8t),o8t(e)}function l8t(e){kn(Cbe),e.registerChartView(gzt),e.registerSeriesModel(bzt),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Szt)}var u8t=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),c8t=function(e){Oe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new u8t},t.prototype.buildPath=function(n,r){var a=r.extent;n.moveTo(r.x1,r.y1),n.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(n.lineTo(r.x2+a,r.y2),n.bezierCurveTo(r.cpx2+a,r.cpy2,r.cpx1+a,r.cpy1,r.x1+a,r.y1)):(n.lineTo(r.x2,r.y2+a),n.bezierCurveTo(r.cpx2,r.cpy2+a,r.cpx1,r.cpy1+a,r.x1,r.y1+a)),n.closePath()},t.prototype.highlight=function(){Jf(this)},t.prototype.downplay=function(){Qf(this)},t}(An),f8t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return t.prototype.render=function(n,r,a){var i=this,o=n.getGraph(),s=this.group,l=n.layoutInfo,u=l.width,c=l.height,f=n.getData(),d=n.getData("edge"),h=n.get("orient");this._model=n,s.removeAll(),s.x=l.x,s.y=l.y,o.eachEdge(function(p){var v=new c8t,g=sn(v);g.dataIndex=p.dataIndex,g.seriesIndex=n.seriesIndex,g.dataType="edge";var m=p.getModel(),y=m.getModel("lineStyle"),b=y.get("curveness"),x=p.node1.getLayout(),_=p.node1.getModel(),S=_.get("localX"),C=_.get("localY"),k=p.node2.getLayout(),T=p.node2.getModel(),E=T.get("localX"),I=T.get("localY"),A=p.getLayout(),N,L,R,D,P,O,M,W;v.shape.extent=Math.max(1,A.dy),v.shape.orient=h,h==="vertical"?(N=(S!=null?S*u:x.x)+A.sy,L=(C!=null?C*c:x.y)+x.dy,R=(E!=null?E*u:k.x)+A.ty,D=I!=null?I*c:k.y,P=N,O=L*(1-b)+D*b,M=R,W=L*b+D*(1-b)):(N=(S!=null?S*u:x.x)+x.dx,L=(C!=null?C*c:x.y)+A.sy,R=E!=null?E*u:k.x,D=(I!=null?I*c:k.y)+A.ty,P=N*(1-b)+R*b,O=L,M=N*b+R*(1-b),W=D),v.setShape({x1:N,y1:L,x2:R,y2:D,cpx1:P,cpy1:O,cpx2:M,cpy2:W}),v.useStyle(y.getItemStyle()),BJ(v.style,h,p);var U=""+m.get("value"),V=vi(m,"edgeLabel");Yi(v,V,{labelFetcher:{getFormattedLabel:function(j,ne,Q,oe,ae,me){return n.getFormattedLabel(j,ne,"edge",oe,Rc(ae,V.normal&&V.normal.get("formatter"),U),me)}},labelDataIndex:p.dataIndex,defaultText:U}),v.setTextConfig({position:"inside"});var H=m.getModel("emphasis");ji(v,m,"lineStyle",function(j){var ne=j.getItemStyle();return BJ(ne,h,p),ne}),s.add(v),d.setItemGraphicEl(p.dataIndex,v);var K=H.get("focus");la(v,K==="adjacency"?p.getAdjacentDataIndices():K==="trajectory"?p.getTrajectoryDataIndices():K,H.get("blurScope"),H.get("disabled"))}),o.eachNode(function(p){var v=p.getLayout(),g=p.getModel(),m=g.get("localX"),y=g.get("localY"),b=g.getModel("emphasis"),x=g.get(["itemStyle","borderRadius"])||0,_=new Bn({shape:{x:m!=null?m*u:v.x,y:y!=null?y*c:v.y,width:v.dx,height:v.dy,r:x},style:g.getModel("itemStyle").getItemStyle(),z2:10});Yi(_,vi(g),{labelFetcher:{getFormattedLabel:function(C,k){return n.getFormattedLabel(C,k,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),_.disableLabelAnimation=!0,_.setStyle("fill",p.getVisual("color")),_.setStyle("decal",p.getVisual("style").decal),ji(_,g),s.add(_),f.setItemGraphicEl(p.dataIndex,_),sn(_).dataType="node";var S=b.get("focus");la(_,S==="adjacency"?p.getAdjacentDataIndices():S==="trajectory"?p.getTrajectoryDataIndices():S,b.get("blurScope"),b.get("disabled"))}),f.eachItemGraphicEl(function(p,v){var g=f.getItemModel(v);g.get("draggable")&&(p.drift=function(m,y){i._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=y,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:f.getRawIndex(v),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){i._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&n.isAnimationEnabled()&&s.setClipPath(d8t(s.getBoundingRect(),n,function(){s.removeClipPath()})),this._data=n.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Dr);function BJ(e,t,n){switch(e.fill){case"source":e.fill=n.node1.getVisual("color"),e.decal=n.node1.getVisual("style").decal;break;case"target":e.fill=n.node2.getVisual("color"),e.decal=n.node2.getVisual("style").decal;break;case"gradient":var r=n.node1.getVisual("color"),a=n.node2.getVisual("color");Dt(r)&&Dt(a)&&(e.fill=new hC(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:r,offset:0},{color:a,offset:1}]))}}function d8t(e,t,n){var r=new Bn({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Xr(r,{shape:{width:e.width+20}},t,n),r}var h8t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){var a=n.edges||n.links||[],i=n.data||n.nodes||[],o=n.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new pr(o[l],this,r));var u=obe(i,a,this,!0,c);return u.data;function c(f,d){f.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,g=v.getData().getItemLayout(p);if(g){var m=g.depth,y=v.levelModels[m];y&&(h.parentModel=y)}return h}),d.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,g=v.getGraph().getEdgeByIndex(p),m=g.node1.getLayout();if(m){var y=m.depth,b=v.levelModels[y];b&&(h.parentModel=b)}return h})}},t.prototype.setNodePosition=function(n,r){var a=this.option.data||this.option.nodes,i=a[n];i.localX=r[0],i.localY=r[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(n,r,a){function i(h){return isNaN(h)||h==null}if(a==="edge"){var o=this.getDataParams(n,a),s=o.data,l=o.value,u=s.source+" -- "+s.target;return gi("nameValue",{name:u,value:l,noValue:i(l)})}else{var c=this.getGraph().getNodeByIndex(n),f=c.getLayout().value,d=this.getDataParams(n,a).data.name;return gi("nameValue",{name:d!=null?d+"":null,value:f,noValue:i(f)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(n,r){var a=e.prototype.getDataParams.call(this,n,r);if(a.value==null&&r==="node"){var i=this.getGraph().getNodeByIndex(n),o=i.getLayout().value;a.value=o}return a},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Vr);function p8t(e,t){e.eachSeriesByType("sankey",function(n){var r=n.get("nodeWidth"),a=n.get("nodeGap"),i=v8t(n,t);n.layoutInfo=i;var o=i.width,s=i.height,l=n.getGraph(),u=l.nodes,c=l.edges;m8t(u);var f=sr(u,function(v){return v.getLayout().value===0}),d=f.length!==0?0:n.get("layoutIterations"),h=n.get("orient"),p=n.get("nodeAlign");g8t(u,c,r,a,o,s,d,h,p)})}function v8t(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function g8t(e,t,n,r,a,i,o,s,l){y8t(e,t,n,a,i,s,l),_8t(e,t,i,a,r,o,s),N8t(e,s)}function m8t(e){X(e,function(t){var n=wh(t.outEdges,PE),r=wh(t.inEdges,PE),a=t.getValue()||0,i=Math.max(n,r,a);t.setLayout({value:i},!0)})}function y8t(e,t,n,r,a,i,o){for(var s=[],l=[],u=[],c=[],f=0,d=0;d<t.length;d++)s[d]=1;for(var d=0;d<e.length;d++)l[d]=e[d].inEdges.length,l[d]===0&&u.push(e[d]);for(var h=-1;u.length;){for(var p=0;p<u.length;p++){var v=u[p],g=v.hostGraph.data.getRawDataItem(v.dataIndex),m=g.depth!=null&&g.depth>=0;m&&g.depth>h&&(h=g.depth),v.setLayout({depth:m?g.depth:f},!0),i==="vertical"?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var y=0;y<v.outEdges.length;y++){var b=v.outEdges[y],x=t.indexOf(b);s[x]=0;var _=b.node2,S=e.indexOf(_);--l[S]===0&&c.indexOf(_)<0&&c.push(_)}}++f,u=c,c=[]}for(var d=0;d<s.length;d++)if(s[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var C=h>f-1?h:f-1;o&&o!=="left"&&b8t(e,o,i,C);var k=i==="vertical"?(a-n)/C:(r-n)/C;w8t(e,k,i)}function Tbe(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function b8t(e,t,n,r){if(t==="right"){for(var a=[],i=e,o=0;i.length;){for(var s=0;s<i.length;s++){var l=i[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];a.indexOf(c.node1)<0&&a.push(c.node1)}}i=a,a=[],++o}X(e,function(f){Tbe(f)||f.setLayout({depth:Math.max(0,r-f.getLayout().skNodeHeight)},!0)})}else t==="justify"&&x8t(e,r)}function x8t(e,t){X(e,function(n){!Tbe(n)&&!n.outEdges.length&&n.setLayout({depth:t},!0)})}function w8t(e,t,n){X(e,function(r){var a=r.getLayout().depth*t;n==="vertical"?r.setLayout({y:a},!0):r.setLayout({x:a},!0)})}function _8t(e,t,n,r,a,i,o){var s=S8t(e,o);C8t(s,t,n,r,a,o),xL(s,a,n,r,o);for(var l=1;i>0;i--)l*=.99,T8t(s,l,o),xL(s,a,n,r,o),D8t(s,l,o),xL(s,a,n,r,o)}function S8t(e,t){var n=[],r=t==="vertical"?"y":"x",a=qF(e,function(i){return i.getLayout()[r]});return a.keys.sort(function(i,o){return i-o}),X(a.keys,function(i){n.push(a.buckets.get(i))}),n}function C8t(e,t,n,r,a,i){var o=1/0;X(e,function(s){var l=s.length,u=0;X(s,function(f){u+=f.getLayout().value});var c=i==="vertical"?(r-(l-1)*a)/u:(n-(l-1)*a)/u;c<o&&(o=c)}),X(e,function(s){X(s,function(l,u){var c=l.getLayout().value*o;i==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),X(t,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function xL(e,t,n,r,a){var i=a==="vertical"?"x":"y";X(e,function(o){o.sort(function(v,g){return v.getLayout()[i]-g.getLayout()[i]});for(var s,l,u,c=0,f=o.length,d=a==="vertical"?"dx":"dy",h=0;h<f;h++)l=o[h],u=c-l.getLayout()[i],u>0&&(s=l.getLayout()[i]+u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[i]+l.getLayout()[d]+t;var p=a==="vertical"?r:n;if(u=c-t-p,u>0){s=l.getLayout()[i]-u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var h=f-2;h>=0;--h)l=o[h],u=l.getLayout()[i]+l.getLayout()[d]+t-c,u>0&&(s=l.getLayout()[i]-u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[i]}})}function T8t(e,t,n){X(e.slice().reverse(),function(r){X(r,function(a){if(a.outEdges.length){var i=wh(a.outEdges,k8t,n)/wh(a.outEdges,PE);if(isNaN(i)){var o=a.outEdges.length;i=o?wh(a.outEdges,I8t,n)/o:0}if(n==="vertical"){var s=a.getLayout().x+(i-Kh(a,n))*t;a.setLayout({x:s},!0)}else{var l=a.getLayout().y+(i-Kh(a,n))*t;a.setLayout({y:l},!0)}}})})}function k8t(e,t){return Kh(e.node2,t)*e.getValue()}function I8t(e,t){return Kh(e.node2,t)}function E8t(e,t){return Kh(e.node1,t)*e.getValue()}function A8t(e,t){return Kh(e.node1,t)}function Kh(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function PE(e){return e.getValue()}function wh(e,t,n){for(var r=0,a=e.length,i=-1;++i<a;){var o=+t(e[i],n);isNaN(o)||(r+=o)}return r}function D8t(e,t,n){X(e,function(r){X(r,function(a){if(a.inEdges.length){var i=wh(a.inEdges,E8t,n)/wh(a.inEdges,PE);if(isNaN(i)){var o=a.inEdges.length;i=o?wh(a.inEdges,A8t,n)/o:0}if(n==="vertical"){var s=a.getLayout().x+(i-Kh(a,n))*t;a.setLayout({x:s},!0)}else{var l=a.getLayout().y+(i-Kh(a,n))*t;a.setLayout({y:l},!0)}}})})}function N8t(e,t){var n=t==="vertical"?"x":"y";X(e,function(r){r.outEdges.sort(function(a,i){return a.node2.getLayout()[n]-i.node2.getLayout()[n]}),r.inEdges.sort(function(a,i){return a.node1.getLayout()[n]-i.node1.getLayout()[n]})}),X(e,function(r){var a=0,i=0;X(r.outEdges,function(o){o.setLayout({sy:a},!0),a+=o.getLayout().dy}),X(r.inEdges,function(o){o.setLayout({ty:i},!0),i+=o.getLayout().dy})})}function R8t(e){e.eachSeriesByType("sankey",function(t){var n=t.getGraph(),r=n.nodes,a=n.edges;if(r.length){var i=1/0,o=-1/0;X(r,function(s){var l=s.getLayout().value;l<i&&(i=l),l>o&&(o=l)}),X(r,function(s){var l=new ci({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:t.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}a.length&&X(a,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function M8t(e){e.registerChartView(f8t),e.registerSeriesModel(h8t),e.registerLayout(p8t),e.registerVisual(R8t),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var kbe=function(){function e(){}return e.prototype._hasEncodeRule=function(t){var n=this.getEncode();return n&&n.get(t)!=null},e.prototype.getInitialData=function(t,n){var r,a=n.getComponent("xAxis",this.get("xAxisIndex")),i=n.getComponent("yAxis",this.get("yAxisIndex")),o=a.get("type"),s=i.get("type"),l;o==="category"?(t.layout="horizontal",r=a.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(t.layout="vertical",r=i.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],d=u[1-c],h=[a,i],p=h[c].get("type"),v=h[1-c].get("type"),g=t.data;if(g&&l){var m=[];X(g,function(x,_){var S;st(x)?(S=x.slice(),x.unshift(_)):st(x.value)?(S=rt({},x),S.value=S.value.slice(),x.value.unshift(_)):S=x,m.push(S)}),t.data=m}var y=this.defaultValueDimensions,b=[{name:f,type:kE(p),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:kE(v),dimsDef:y.slice()}];return D1(this,{coordDimensions:b,dimensionsCount:y.length+1,encodeDefaulter:vn(rme,b,this)})},e.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},e}(),Ibe=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Vr);$a(Ibe,kbe,!0);var $8t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=n.get("layout")==="horizontal"?1:0;i.diff(s).add(function(u){if(i.hasValue(u)){var c=i.getItemLayout(u),f=VJ(c,i,u,l,!0);i.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!i.hasValue(u)){o.remove(f);return}var d=i.getItemLayout(u);f?(Vu(f),Ebe(d,f,i,u)):f=VJ(d,i,u,l),o.add(f),i.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=i},t.prototype.remove=function(n){var r=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl(function(i){i&&r.remove(i)})},t.type="boxplot",t}(Dr),L8t=function(){function e(){}return e}(),O8t=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="boxplotBoxPath",r}return t.prototype.getDefaultShape=function(){return new L8t},t.prototype.buildPath=function(n,r){var a=r.points,i=0;for(n.moveTo(a[i][0],a[i][1]),i++;i<4;i++)n.lineTo(a[i][0],a[i][1]);for(n.closePath();i<a.length;i++)n.moveTo(a[i][0],a[i][1]),i++,n.lineTo(a[i][0],a[i][1])},t}(An);function VJ(e,t,n,r,a){var i=e.ends,o=new O8t({shape:{points:a?P8t(i,r,e):i}});return Ebe(e,o,t,n,a),o}function Ebe(e,t,n,r,a){var i=n.hostModel,o=o0[a?"initProps":"updateProps"];o(t,{shape:{points:e.ends}},i,r),t.useStyle(n.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=n.getItemModel(r),l=s.getModel("emphasis");ji(t,s),la(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function P8t(e,t,n){return ut(e,function(r){return r=r.slice(),r[t]=n.initBaseline,r})}var Ox=X;function F8t(e){var t=B8t(e);Ox(t,function(n){var r=n.seriesModels;r.length&&(V8t(n),Ox(r,function(a,i){z8t(a,n.boxOffsetList[i],n.boxWidthList[i])}))})}function B8t(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(r){var a=r.getBaseAxis(),i=Cn(n,a);i<0&&(i=n.length,n[i]=a,t[i]={axis:a,seriesModels:[]}),t[i].seriesModels.push(r)}),t}function V8t(e){var t=e.axis,n=e.seriesModels,r=n.length,a=e.boxWidthList=[],i=e.boxOffsetList=[],o=[],s;if(t.type==="category")s=t.getBandWidth();else{var l=0;Ox(n,function(p){l=Math.max(l,p.getData().count())});var u=t.getExtent();s=Math.abs(u[1]-u[0])/l}Ox(n,function(p){var v=p.get("boxWidth");st(v)||(v=[v,v]),o.push([St(v[0],s)||0,St(v[1],s)||0])});var c=s*.8-2,f=c/r*.3,d=(c-f*(r-1))/r,h=d/2-c/2;Ox(n,function(p,v){i.push(h),h+=f+d,a.push(Math.min(Math.max(d,o[v][0]),o[v][1]))})}function z8t(e,t,n){var r=e.coordinateSystem,a=e.getData(),i=n/2,o=e.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=a.mapDimension(l[o]),c=a.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<a.count();f++){var d=a.get(u,f),h=b(d,c[2],f),p=b(d,c[0],f),v=b(d,c[1],f),g=b(d,c[3],f),m=b(d,c[4],f),y=[];x(y,v,!1),x(y,g,!0),y.push(p,v,m,g),_(y,p),_(y,m),_(y,h),a.setItemLayout(f,{initBaseline:h[s],ends:y})}function b(S,C,k){var T=a.get(C,k),E=[];E[o]=S,E[s]=T;var I;return isNaN(S)||isNaN(T)?I=[NaN,NaN]:(I=r.dataToPoint(E),I[o]+=t),I}function x(S,C,k){var T=C.slice(),E=C.slice();T[o]+=i,E[o]-=i,k?S.push(T,E):S.push(E,T)}function _(S,C){var k=C.slice(),T=C.slice();k[o]-=i,T[o]+=i,S.push(k,T)}}function W8t(e,t){t=t||{};for(var n=[],r=[],a=t.boundIQR,i=a==="none"||a===0,o=0;o<e.length;o++){var s=Al(e[o].slice()),l=XM(s,.25),u=XM(s,.5),c=XM(s,.75),f=s[0],d=s[s.length-1],h=(a??1.5)*(c-l),p=i?f:Math.max(f,l-h),v=i?d:Math.min(d,c+h),g=t.itemNameFormatter,m=Yt(g)?g({value:o}):Dt(g)?g.replace("{value}",o+""):o+"";n.push([m,p,l,u,c,v]);for(var y=0;y<s.length;y++){var b=s[y];if(b<p||b>v){var x=[m,b];r.push(x)}}}return{boxData:n,outliers:r}}var H8t={type:"echarts:boxplot",transform:function(t){var n=t.upstream;if(n.sourceFormat!==To){var r="";or(r)}var a=W8t(n.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function U8t(e){e.registerSeriesModel(Ibe),e.registerChartView($8t),e.registerLayout(F8t),e.registerTransform(H8t)}var G8t=["itemStyle","borderColor"],K8t=["itemStyle","borderColor0"],j8t=["itemStyle","borderColorDoji"],Y8t=["itemStyle","color"],X8t=["itemStyle","color0"];function yW(e,t){return t.get(e>0?Y8t:X8t)}function bW(e,t){return t.get(e===0?j8t:e>0?G8t:K8t)}var q8t={seriesType:"candlestick",plan:k1(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e)){var n=e.pipelineContext.large;return!n&&{progress:function(r,a){for(var i;(i=r.next())!=null;){var o=a.getItemModel(i),s=a.getItemLayout(i).sign,l=o.getItemStyle();l.fill=yW(s,o),l.stroke=bW(s,o)||l.fill;var u=a.ensureUniqueItemVisual(i,"style");rt(u,l)}}}}}},Z8t=["color","borderColor"],J8t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(n),this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},t.prototype.incrementalPrepareRender=function(n,r,a){this._clear(),this._updateDrawMode(n)},t.prototype.incrementalRender=function(n,r,a,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(n,r):this._incrementalRenderNormal(n,r)},t.prototype.eachRendered=function(n){gp(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(n){var r=n.getData(),a=this._data,i=this.group,o=r.getLayout("isSimpleBox"),s=n.get("clip",!0),l=n.coordinateSystem,u=l.getArea&&l.getArea();this._data||i.removeAll(),r.diff(a).add(function(c){if(r.hasValue(c)){var f=r.getItemLayout(c);if(s&&zJ(u,f))return;var d=wL(f,c,!0);Xr(d,{shape:{points:f.ends}},n,c),_L(d,r,c,o),i.add(d),r.setItemGraphicEl(c,d)}}).update(function(c,f){var d=a.getItemGraphicEl(f);if(!r.hasValue(c)){i.remove(d);return}var h=r.getItemLayout(c);if(s&&zJ(u,h)){i.remove(d);return}d?(Jn(d,{shape:{points:h.ends}},n,c),Vu(d)):d=wL(h),_L(d,r,c,o),i.add(d),r.setItemGraphicEl(c,d)}).remove(function(c){var f=a.getItemGraphicEl(c);f&&i.remove(f)}).execute(),this._data=r},t.prototype._renderLarge=function(n){this._clear(),WJ(n,this.group);var r=n.get("clip",!0)?_C(n.coordinateSystem,!1,n):null;r?this.group.setClipPath(r):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(n,r){for(var a=r.getData(),i=a.getLayout("isSimpleBox"),o;(o=n.next())!=null;){var s=a.getItemLayout(o),l=wL(s);_L(l,a,o,i),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(n,r){WJ(r,this.group,this._progressiveEls,!0)},t.prototype.remove=function(n){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Dr),Q8t=function(){function e(){}return e}(),e6t=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="normalCandlestickBox",r}return t.prototype.getDefaultShape=function(){return new Q8t},t.prototype.buildPath=function(n,r){var a=r.points;this.__simpleBox?(n.moveTo(a[4][0],a[4][1]),n.lineTo(a[6][0],a[6][1])):(n.moveTo(a[0][0],a[0][1]),n.lineTo(a[1][0],a[1][1]),n.lineTo(a[2][0],a[2][1]),n.lineTo(a[3][0],a[3][1]),n.closePath(),n.moveTo(a[4][0],a[4][1]),n.lineTo(a[5][0],a[5][1]),n.moveTo(a[6][0],a[6][1]),n.lineTo(a[7][0],a[7][1]))},t}(An);function wL(e,t,n){var r=e.ends;return new e6t({shape:{points:n?t6t(r,e):r},z2:100})}function zJ(e,t){for(var n=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){n=!1;break}return n}function _L(e,t,n,r){var a=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=r,ji(e,a);var i=t.getItemLayout(n).sign;X(e.states,function(s,l){var u=a.getModel(l),c=yW(i,u),f=bW(i,u)||c,d=s.style||(s.style={});c&&(d.fill=c),f&&(d.stroke=f)});var o=a.getModel("emphasis");la(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function t6t(e,t){return ut(e,function(n){return n=n.slice(),n[1]=t.initBaseline,n})}var n6t=function(){function e(){}return e}(),SL=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r.type="largeCandlestickBox",r}return t.prototype.getDefaultShape=function(){return new n6t},t.prototype.buildPath=function(n,r){for(var a=r.points,i=0;i<a.length;)if(this.__sign===a[i++]){var o=a[i++];n.moveTo(o,a[i++]),n.lineTo(o,a[i++])}else i+=3},t}(An);function WJ(e,t,n,r){var a=e.getData(),i=a.getLayout("largePoints"),o=new SL({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new SL({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new SL({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});t.add(l),CL(1,o,e),CL(-1,s,e),CL(0,l,e),r&&(o.incremental=!0,s.incremental=!0),n&&n.push(o,s)}function CL(e,t,n,r){var a=bW(e,n)||yW(e,n),i=n.getModel("itemStyle").getItemStyle(Z8t);t.useStyle(i),t.style.fill=null,t.style.stroke=a}var Abe=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(n,r,a){var i=r.getItemLayout(n);return i&&a.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Vr);$a(Abe,kbe,!0);function r6t(e){!e||!st(e.series)||X(e.series,function(t){Jt(t)&&t.type==="k"&&(t.type="candlestick")})}var a6t={seriesType:"candlestick",plan:k1(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),r=i6t(e,n),a=0,i=1,o=["x","y"],s=n.getDimensionIndex(n.mapDimension(o[a])),l=ut(n.mapDimensionsAll(o[i]),n.getDimensionIndex,n),u=l[0],c=l[1],f=l[2],d=l[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),s<0||l.length<4)return;return{progress:e.pipelineContext.large?p:h};function h(v,g){for(var m,y=g.getStore();(m=v.next())!=null;){var b=y.get(s,m),x=y.get(u,m),_=y.get(c,m),S=y.get(f,m),C=y.get(d,m),k=Math.min(x,_),T=Math.max(x,_),E=P(k,b),I=P(T,b),A=P(S,b),N=P(C,b),L=[];O(L,I,0),O(L,E,1),L.push(W(N),W(I),W(A),W(E));var R=g.getItemModel(m),D=!!R.get(["itemStyle","borderColorDoji"]);g.setItemLayout(m,{sign:HJ(y,m,x,_,c,D),initBaseline:x>_?I[i]:E[i],ends:L,brushRect:M(S,C,b)})}function P(U,V){var H=[];return H[a]=V,H[i]=U,isNaN(V)||isNaN(U)?[NaN,NaN]:t.dataToPoint(H)}function O(U,V,H){var K=V.slice(),j=V.slice();K[a]=Ck(K[a]+r/2,1,!1),j[a]=Ck(j[a]-r/2,1,!0),H?U.push(K,j):U.push(j,K)}function M(U,V,H){var K=P(U,H),j=P(V,H);return K[a]-=r/2,j[a]-=r/2,{x:K[0],y:K[1],width:r,height:j[1]-K[1]}}function W(U){return U[a]=Ck(U[a],1),U}}function p(v,g){for(var m=_c(v.count*4),y=0,b,x=[],_=[],S,C=g.getStore(),k=!!e.get(["itemStyle","borderColorDoji"]);(S=v.next())!=null;){var T=C.get(s,S),E=C.get(u,S),I=C.get(c,S),A=C.get(f,S),N=C.get(d,S);if(isNaN(T)||isNaN(A)||isNaN(N)){m[y++]=NaN,y+=3;continue}m[y++]=HJ(C,S,E,I,c,k),x[a]=T,x[i]=A,b=t.dataToPoint(x,null,_),m[y++]=b?b[0]:NaN,m[y++]=b?b[1]:NaN,x[i]=N,b=t.dataToPoint(x,null,_),m[y++]=b?b[1]:NaN}g.setLayout("largePoints",m)}}};function HJ(e,t,n,r,a,i){var o;return n>r?o=-1:n<r?o=1:o=i?0:t>0?e.get(a,t-1)<=r?1:-1:1,o}function i6t(e,t){var n=e.getBaseAxis(),r,a=n.type==="category"?n.getBandWidth():(r=n.getExtent(),Math.abs(r[1]-r[0])/t.count()),i=St(fn(e.get("barMaxWidth"),a),a),o=St(fn(e.get("barMinWidth"),1),a),s=e.get("barWidth");return s!=null?St(s,a):Math.max(Math.min(a/2,i),o)}function o6t(e){e.registerChartView(J8t),e.registerSeriesModel(Abe),e.registerPreprocessor(r6t),e.registerVisual(q8t),e.registerLayout(a6t)}function UJ(e,t){var n=t.rippleEffectColor||t.color;e.eachChild(function(r){r.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?n:null,fill:t.brushType==="fill"?n:null}})})}var s6t=function(e){Oe(t,e);function t(n,r){var a=e.call(this)||this,i=new xC(n,r),o=new an;return a.add(i),a.add(o),a.updateData(n,r),a}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(n){for(var r=n.symbolType,a=n.color,i=n.rippleNumber,o=this.childAt(1),s=0;s<i;s++){var l=Ma(r,-1,-1,2,2,a);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/i*n.period+n.effectOffset;l.animate("",!0).when(n.period,{scaleX:n.rippleScale/2,scaleY:n.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(n.period,{opacity:0}).delay(u).start(),o.add(l)}UJ(o,n)},t.prototype.updateEffectAnimation=function(n){for(var r=this._effectCfg,a=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],o=0;o<i.length;o++){var s=i[o];if(r[s]!==n[s]){this.stopEffectAnimation(),this.startEffectAnimation(n);return}}UJ(a,n)},t.prototype.highlight=function(){Jf(this)},t.prototype.downplay=function(){Qf(this)},t.prototype.getSymbolType=function(){var n=this.childAt(0);return n&&n.getSymbolType()},t.prototype.updateData=function(n,r){var a=this,i=n.hostModel;this.childAt(0).updateData(n,r);var o=this.childAt(1),s=n.getItemModel(r),l=n.getItemVisual(r,"symbol"),u=E1(n.getItemVisual(r,"symbolSize")),c=n.getItemVisual(r,"style"),f=c&&c.fill,d=s.getModel("emphasis");o.setScale(u),o.traverse(function(g){g.setStyle("fill",f)});var h=s0(n.getItemVisual(r,"symbolOffset"),u);h&&(o.x=h[0],o.y=h[1]);var p=n.getItemVisual(r,"symbolRotate");o.rotation=(p||0)*Math.PI/180||0;var v={};v.showEffectOn=i.get("showEffectOn"),v.rippleScale=s.get(["rippleEffect","scale"]),v.brushType=s.get(["rippleEffect","brushType"]),v.period=s.get(["rippleEffect","period"])*1e3,v.effectOffset=r/n.count(),v.z=i.getShallow("z")||0,v.zlevel=i.getShallow("zlevel")||0,v.symbolType=l,v.color=f,v.rippleEffectColor=s.get(["rippleEffect","color"]),v.rippleNumber=s.get(["rippleEffect","number"]),v.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?v.showEffectOn!=="render"&&a.startEffectAnimation(v):g==="normal"&&v.showEffectOn!=="render"&&a.stopEffectAnimation()}),this._effectCfg=v,la(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(n){n&&n()},t}(an),l6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._symbolDraw=new wC(s6t)},t.prototype.render=function(n,r,a){var i=n.getData(),o=this._symbolDraw;o.updateData(i,{clipShape:this._getClipShape(n)}),this.group.add(o.group)},t.prototype._getClipShape=function(n){var r=n.coordinateSystem,a=r&&r.getArea&&r.getArea();return n.get("clip",!0)?a:null},t.prototype.updateTransform=function(n,r,a){var i=n.getData();this.group.dirty();var o=SC("").reset(n,r,a);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(n){var r=n.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=MDt(r.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Dr),u6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,r){return md(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(n,r,a){return a.point(r.getItemLayout(n))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Vr);function c6t(e){e.registerChartView(l6t),e.registerSeriesModel(u6t),e.registerLayout(SC("effectScatter"))}var Dbe=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this)||this;return i.add(i.createLine(n,r,a)),i._updateEffectSymbol(n,r),i}return t.prototype.createLine=function(n,r,a){return new uW(n,r,a)},t.prototype._updateEffectSymbol=function(n,r){var a=n.getItemModel(r),i=a.getModel("effect"),o=i.get("symbolSize"),s=i.get("symbol");st(o)||(o=[o,o]);var l=n.getItemVisual(r,"style"),u=i.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Ma(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(i.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(n,i,r))},t.prototype._updateEffectAnimation=function(n,r,a){var i=this.childAt(1);if(i){var o=n.getItemLayout(a),s=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),f=Si(r.get("delay"),function(h){return h/n.count()*s/3});if(i.ignore=!0,this._updateAnimationPoints(i,o),c>0&&(s=this._getLineLength(i)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){i.stopAnimation();var d=void 0;Yt(f)?d=f(a):d=f,i.__t>0&&(d=-s*i.__t),this._animateSymbol(i,s,d,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(n,r,a,i,o){if(r>0){n.__t=0;var s=this,l=n.animate("",i).when(o?r*2:r,{__t:o?2:1}).delay(a).during(function(){s._updateSymbolPosition(n)});i||l.done(function(){s.remove(n)}),l.start()}},t.prototype._getLineLength=function(n){return Qd(n.__p1,n.__cp1)+Qd(n.__cp1,n.__p2)},t.prototype._updateAnimationPoints=function(n,r){n.__p1=r[0],n.__p2=r[1],n.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},t.prototype.updateData=function(n,r,a){this.childAt(0).updateData(n,r,a),this._updateEffectSymbol(n,r)},t.prototype._updateSymbolPosition=function(n){var r=n.__p1,a=n.__p2,i=n.__cp1,o=n.__t<1?n.__t:2-n.__t,s=[n.x,n.y],l=s.slice(),u=xi,c=LF;s[0]=u(r[0],i[0],a[0],o),s[1]=u(r[1],i[1],a[1],o);var f=n.__t<1?c(r[0],i[0],a[0],o):c(a[0],i[0],r[0],1-o),d=n.__t<1?c(r[1],i[1],a[1],o):c(a[1],i[1],r[1],1-o);n.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=Qd(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):n.__lastT===1?n.scaleY=2*Qd(r,s):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=s[0],n.y=s[1]},t.prototype.updateLayout=function(n,r){this.childAt(0).updateLayout(n,r);var a=n.getItemModel(r).getModel("effect");this._updateEffectAnimation(n,a,r)},t}(an),Nbe=function(e){Oe(t,e);function t(n,r,a){var i=e.call(this)||this;return i._createPolyline(n,r,a),i}return t.prototype._createPolyline=function(n,r,a){var i=n.getItemLayout(r),o=new cs({shape:{points:i}});this.add(o),this._updateCommonStl(n,r,a)},t.prototype.updateData=function(n,r,a){var i=n.hostModel,o=this.childAt(0),s={shape:{points:n.getItemLayout(r)}};Jn(o,s,i,r),this._updateCommonStl(n,r,a)},t.prototype._updateCommonStl=function(n,r,a){var i=this.childAt(0),o=n.getItemModel(r),s=a&&a.emphasisLineStyle,l=a&&a.focus,u=a&&a.blurScope,c=a&&a.emphasisDisabled;if(!a||n.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}i.useStyle(n.getItemVisual(r,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var d=i.ensureState("emphasis");d.style=s,la(this,l,u,c)},t.prototype.updateLayout=function(n,r){var a=this.childAt(0);a.setShape("points",n.getItemLayout(r))},t}(an),f6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return t.prototype.createLine=function(n,r,a){return new Nbe(n,r,a)},t.prototype._updateAnimationPoints=function(n,r){this._points=r;for(var a=[0],i=0,o=1;o<r.length;o++){var s=r[o-1],l=r[o];i+=Qd(s,l),a.push(i)}if(i===0){this._length=0;return}for(var o=0;o<a.length;o++)a[o]/=i;this._offsets=a,this._length=i},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(n){var r=n.__t<1?n.__t:2-n.__t,a=this._points,i=this._offsets,o=a.length;if(i){var s=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(i[l]<=r);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(i[l]>r);l++);l=Math.min(l-1,o-2)}var c=(r-i[l])/(i[l+1]-i[l]),f=a[l],d=a[l+1];n.x=f[0]*(1-c)+c*d[0],n.y=f[1]*(1-c)+c*d[1];var h=n.__t<1?d[0]-f[0]:f[0]-d[0],p=n.__t<1?d[1]-f[1]:f[1]-d[1];n.rotation=-Math.atan2(p,h)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,n.ignore=!1}},t}(Dbe),d6t=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),h6t=function(e){Oe(t,e);function t(n){var r=e.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new d6t},t.prototype.buildPath=function(n,r){var a=r.segs,i=r.curveness,o;if(r.polyline)for(o=this._off;o<a.length;){var s=a[o++];if(s>0){n.moveTo(a[o++],a[o++]);for(var l=1;l<s;l++)n.lineTo(a[o++],a[o++])}}else for(o=this._off;o<a.length;){var u=a[o++],c=a[o++],f=a[o++],d=a[o++];if(n.moveTo(u,c),i>0){var h=(u+f)/2-(c-d)*i,p=(c+d)/2-(f-u)*i;n.quadraticCurveTo(h,p,f,d)}else n.lineTo(f,d)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(n,r){var a=this.shape,i=a.segs,o=a.curveness,s=this.style.lineWidth;if(a.polyline)for(var l=0,u=0;u<i.length;){var c=i[u++];if(c>0)for(var f=i[u++],d=i[u++],h=1;h<c;h++){var p=i[u++],v=i[u++];if(Wd(f,d,p,v,s,n,r))return l}l++}else for(var l=0,u=0;u<i.length;){var f=i[u++],d=i[u++],p=i[u++],v=i[u++];if(o>0){var g=(f+p)/2-(d-v)*o,m=(d+v)/2-(p-f)*o;if(r0e(f,d,g,m,p,v,s,n,r))return l}else if(Wd(f,d,p,v,s,n,r))return l;l++}return-1},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();if(n=a[0],r=a[1],i.contain(n,r)){var o=this.hoverDataIdx=this.findDataIndex(n,r);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,a=r.segs,i=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<a.length;){var c=a[u++],f=a[u++];i=Math.min(c,i),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}n=this._rect=new xn(i,o,s,l)}return n},t}(An),p6t=function(){function e(){this.group=new an}return e.prototype.updateData=function(t){this._clear();var n=this._create();n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,n){var r=this._newAdded[0],a=n.getLayout("linesPoints"),i=r&&r.shape.segs;if(i&&i.length<2e4){var o=i.length,s=new Float32Array(o+a.length);s.set(i),s.set(a,o),r.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:a}),this._setCommon(l,n),l.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new h6t({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,n,r){var a=n.hostModel;t.setShape({polyline:a.get("polyline"),curveness:a.get(["lineStyle","curveness"])}),t.useStyle(a.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=n.getVisual("style");i&&i.stroke&&t.setStyle("stroke",i.stroke),t.setStyle("fill",null);var o=sn(t);o.seriesIndex=a.seriesIndex,t.on("mousemove",function(s){o.dataIndex=null;var l=t.hoverDataIdx;l>0&&(o.dataIndex=l+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),Rbe={seriesType:"lines",plan:k1(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(a,i){var o=[];if(r){var s=void 0,l=a.end-a.start;if(n){for(var u=0,c=a.start;c<a.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,d=[],c=a.start;c<a.end;c++){var h=e.getLineCoords(c,o);n&&(s[f++]=h);for(var p=0;p<h;p++)d=t.dataToPoint(o[p],!1,d),s[f++]=d[0],s[f++]=d[1]}i.setLayout("linesPoints",s)}else for(var c=a.start;c<a.end;c++){var v=i.getItemModel(c),h=e.getLineCoords(c,o),g=[];if(n)for(var m=0;m<h;m++)g.push(t.dataToPoint(o[m]));else{g[0]=t.dataToPoint(o[0]),g[1]=t.dataToPoint(o[1]);var y=v.get(["lineStyle","curveness"]);+y&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*y,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*y])}i.setItemLayout(c,g)}}}}}},v6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this._updateLineDraw(i,n),s=n.get("zlevel"),l=n.get(["effect","trailLength"]),u=a.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(i);var f=n.get("clip",!0)&&_C(n.coordinateSystem,!1,n);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(n,r,a){var i=n.getData(),o=this._updateLineDraw(i,n);o.incrementalPrepareUpdate(i),this._clearLayer(a),this._finished=!1},t.prototype.incrementalRender=function(n,r,a){this._lineDraw.incrementalUpdate(n,r.getData()),this._finished=n.end===r.getData().count()},t.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},t.prototype.updateTransform=function(n,r,a){var i=n.getData(),o=n.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=Rbe.reset(n,r,a);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(a)},t.prototype._updateLineDraw=function(n,r){var a=this._lineDraw,i=this._showEffect(r),o=!!r.get("polyline"),s=r.pipelineContext,l=s.large;return(!a||i!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(a&&a.remove(),a=this._lineDraw=l?new p6t:new cW(o?i?f6t:Nbe:i?Dbe:uW),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=l),this.group.add(a.group),a},t.prototype._showEffect=function(n){return!!n.get(["effect","show"])},t.prototype._clearLayer=function(n){var r=n.getZr(),a=r.painter.getType()==="svg";!a&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(n,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},t.prototype.dispose=function(n,r){this.remove(n,r)},t.type="lines",t}(Dr),g6t=typeof Uint32Array>"u"?Array:Uint32Array,m6t=typeof Float64Array>"u"?Array:Float64Array;function GJ(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=ut(t,function(n){var r=[n[0].coord,n[1].coord],a={coords:r};return n[0].name&&(a.fromName=n[0].name),n[1].name&&(a.toName=n[1].name),H6([a,n[0],n[1]])}))}var y6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.init=function(n){n.data=n.data||[],GJ(n);var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(n){if(GJ(n),n.data){var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(n){var r=this._processFlatCoordsArray(n.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=Vw(this._flatCoords,r.flatCoords),this._flatCoordsOffset=Vw(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),n.data=new Float32Array(r.count)),this.getRawData().appendData(n.data)},t.prototype._getCoordsFromItemModel=function(n){var r=this.getData().getItemModel(n),a=r.option instanceof Array?r.option:r.getShallow("coords");return a},t.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},t.prototype.getLineCoords=function(n,r){if(this._flatCoordsOffset){for(var a=this._flatCoordsOffset[n*2],i=this._flatCoordsOffset[n*2+1],o=0;o<i;o++)r[o]=r[o]||[],r[o][0]=this._flatCoords[a+o*2],r[o][1]=this._flatCoords[a+o*2+1];return i}else{for(var s=this._getCoordsFromItemModel(n),o=0;o<s.length;o++)r[o]=r[o]||[],r[o][0]=s[o][0],r[o][1]=s[o][1];return s.length}},t.prototype._processFlatCoordsArray=function(n){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),Kn(n[0])){for(var a=n.length,i=new g6t(a),o=new m6t(a),s=0,l=0,u=0,c=0;c<a;){u++;var f=n[c++];i[l++]=s+r,i[l++]=f;for(var d=0;d<f;d++){var h=n[c++],p=n[c++];o[s++]=h,o[s++]=p}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},t.prototype.getInitialData=function(n,r){var a=new Zo(["value"],this);return a.hasItemOption=!1,a.initData(n.data,[],function(i,o,s,l){if(i instanceof Array)return NaN;a.hasItemOption=!0;var u=i.value;if(u!=null)return u instanceof Array?u[l]:u}),a},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=i.getItemModel(n),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),gi("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var n=this.getModel("effect"),r=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&r>0?r+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Vr);function gT(e){return e instanceof Array||(e=[e,e]),e}var b6t={seriesType:"lines",reset:function(e){var t=gT(e.get("symbol")),n=gT(e.get("symbolSize")),r=e.getData();r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]);function a(i,o){var s=i.getItemModel(o),l=gT(s.getShallow("symbol",!0)),u=gT(s.getShallow("symbolSize",!0));l[0]&&i.setItemVisual(o,"fromSymbol",l[0]),l[1]&&i.setItemVisual(o,"toSymbol",l[1]),u[0]&&i.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&i.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?a:null}}};function x6t(e){e.registerChartView(v6t),e.registerSeriesModel(y6t),e.registerLayout(Rbe),e.registerVisual(b6t)}var w6t=256,_6t=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=zh.createCanvas();this.canvas=t}return e.prototype.update=function(t,n,r,a,i,o){var s=this._getBrush(),l=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),h=t.length;f.width=n,f.height=r;for(var p=0;p<h;++p){var v=t[p],g=v[0],m=v[1],y=v[2],b=a(y);d.globalAlpha=b,d.drawImage(s,g-c,m-c)}if(!f.width||!f.height)return f;for(var x=d.getImageData(0,0,f.width,f.height),_=x.data,S=0,C=_.length,k=this.minOpacity,T=this.maxOpacity,E=T-k;S<C;){var b=_[S+3]/256,I=Math.floor(b*(w6t-1))*4;if(b>0){var A=o(b)?l:u;b>0&&(b=b*E+k),_[S++]=A[I],_[S++]=A[I+1],_[S++]=A[I+2],_[S++]=A[I+3]*b*256}else S+=4}return d.putImageData(x,0,0),f},e.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=zh.createCanvas()),n=this.pointSize+this.blurSize,r=n*2;t.width=r,t.height=r;var a=t.getContext("2d");return a.clearRect(0,0,r,r),a.shadowOffsetX=r,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-n,n,this.pointSize,0,Math.PI*2,!0),a.closePath(),a.fill(),t},e.prototype._getGradient=function(t,n){for(var r=this._gradientPixels,a=r[n]||(r[n]=new Uint8ClampedArray(256*4)),i=[0,0,0,0],o=0,s=0;s<256;s++)t[n](s/255,!0,i),a[o++]=i[0],a[o++]=i[1],a[o++]=i[2],a[o++]=i[3];return a},e}();function S6t(e,t,n){var r=e[1]-e[0];t=ut(t,function(o){return{interval:[(o.interval[0]-e[0])/r,(o.interval[1]-e[0])/r]}});var a=t.length,i=0;return function(o){var s;for(s=i;s<a;s++){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){i=s;break}}if(s===a)for(s=i-1;s>=0;s--){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){i=s;break}}return s>=0&&s<a&&n[s]}}function C6t(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(r){return r>=t[0]&&r<=t[1]}}function KJ(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var T6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===n&&(i=s)})}),this._progressiveEls=null,this.group.removeAll();var o=n.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(n,a,0,n.getData().count()):KJ(o)&&this._renderOnGeo(o,n,i,a)},t.prototype.incrementalPrepareRender=function(n,r,a){this.group.removeAll()},t.prototype.incrementalRender=function(n,r,a,i){var o=r.coordinateSystem;o&&(KJ(o)?this.render(r,a,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,i,n.start,n.end,!0)))},t.prototype.eachRendered=function(n){gp(this._progressiveEls||this.group,n)},t.prototype._renderOnCartesianAndCalendar=function(n,r,a,i,o){var s=n.coordinateSystem,l=u0(s,"cartesian2d"),u,c,f,d;if(l){var h=s.getAxis("x"),p=s.getAxis("y");u=h.getBandWidth()+.5,c=p.getBandWidth()+.5,f=h.scale.getExtent(),d=p.scale.getExtent()}for(var v=this.group,g=n.getData(),m=n.getModel(["emphasis","itemStyle"]).getItemStyle(),y=n.getModel(["blur","itemStyle"]).getItemStyle(),b=n.getModel(["select","itemStyle"]).getItemStyle(),x=n.get(["itemStyle","borderRadius"]),_=vi(n),S=n.getModel("emphasis"),C=S.get("focus"),k=S.get("blurScope"),T=S.get("disabled"),E=l?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],I=a;I<i;I++){var A=void 0,N=g.getItemVisual(I,"style");if(l){var L=g.get(E[0],I),R=g.get(E[1],I);if(isNaN(g.get(E[2],I))||isNaN(L)||isNaN(R)||L<f[0]||L>f[1]||R<d[0]||R>d[1])continue;var D=s.dataToPoint([L,R]);A=new Bn({shape:{x:D[0]-u/2,y:D[1]-c/2,width:u,height:c},style:N})}else{if(isNaN(g.get(E[1],I)))continue;A=new Bn({z2:1,shape:s.dataToRect([g.get(E[0],I)]).contentShape,style:N})}if(g.hasItemOption){var P=g.getItemModel(I),O=P.getModel("emphasis");m=O.getModel("itemStyle").getItemStyle(),y=P.getModel(["blur","itemStyle"]).getItemStyle(),b=P.getModel(["select","itemStyle"]).getItemStyle(),x=P.get(["itemStyle","borderRadius"]),C=O.get("focus"),k=O.get("blurScope"),T=O.get("disabled"),_=vi(P)}A.shape.r=x;var M=n.getRawValue(I),W="-";M&&M[2]!=null&&(W=M[2]+""),Yi(A,_,{labelFetcher:n,labelDataIndex:I,defaultOpacity:N.opacity,defaultText:W}),A.ensureState("emphasis").style=m,A.ensureState("blur").style=y,A.ensureState("select").style=b,la(A,C,k,T),A.incremental=o,o&&(A.states.emphasis.hoverLayer=!0),v.add(A),g.setItemGraphicEl(I,A),this._progressiveEls&&this._progressiveEls.push(A)}},t.prototype._renderOnGeo=function(n,r,a,i){var o=a.targetVisuals.inRange,s=a.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new _6t;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=n.getViewRect().clone(),f=n.getRoamTransform();c.applyTransform(f);var d=Math.max(c.x,0),h=Math.max(c.y,0),p=Math.min(c.width+c.x,i.getWidth()),v=Math.min(c.height+c.y,i.getHeight()),g=p-d,m=v-h,y=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],b=l.mapArray(y,function(C,k,T){var E=n.dataToPoint([C,k]);return E[0]-=d,E[1]-=h,E.push(T),E}),x=a.getExtent(),_=a.type==="visualMap.continuous"?C6t(x,a.option.range):S6t(x,a.getPieceList(),a.option.selected);u.update(b,g,m,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},_);var S=new Ri({style:{width:g,height:m,x:d,y:h,image:u.canvas},silent:!0});this.group.add(S)},t.type="heatmap",t}(Dr),k6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){return md(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var n=gC.get(this.get("coordinateSystem"));if(n&&n.dimensions)return n.dimensions[0]==="lng"&&n.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Vr);function I6t(e){e.registerChartView(T6t),e.registerSeriesModel(k6t)}var E6t=["itemStyle","borderWidth"],jJ=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],TL=new gd,A6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=this.group,o=n.getData(),s=this._data,l=n.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:a.getWidth(),height:a.getHeight()},seriesModel:n,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:jJ[+c],categoryDim:jJ[1-+c]};o.diff(s).add(function(p){if(o.hasValue(p)){var v=XJ(o,p),g=YJ(o,p,v,d),m=qJ(o,d,g);o.setItemGraphicEl(p,m),i.add(m),JJ(m,d,g)}}).update(function(p,v){var g=s.getItemGraphicEl(v);if(!o.hasValue(p)){i.remove(g);return}var m=XJ(o,p),y=YJ(o,p,m,d),b=Fbe(o,y);g&&b!==g.__pictorialShapeStr&&(i.remove(g),o.setItemGraphicEl(p,null),g=null),g?O6t(g,d,y):g=qJ(o,d,y,!0),o.setItemGraphicEl(p,g),g.__pictorialSymbolMeta=y,i.add(g),JJ(g,d,y)}).remove(function(p){var v=s.getItemGraphicEl(p);v&&ZJ(s,p,v.__pictorialSymbolMeta.animationModel,v)}).execute();var h=n.get("clip",!0)?_C(n.coordinateSystem,!1,n):null;return h?i.setClipPath(h):i.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(n,r){var a=this.group,i=this._data;n.get("animation")?i&&i.eachItemGraphicEl(function(o){ZJ(i,sn(o).dataIndex,n,o)}):a.removeAll()},t.type="pictorialBar",t}(Dr);function YJ(e,t,n,r){var a=e.getItemLayout(t),i=n.get("symbolRepeat"),o=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=n.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,f=n.isAnimationEnabled(),d={dataIndex:t,layout:a,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:i,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?n:null,hoverScale:f&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};D6t(n,i,a,r,d),N6t(e,t,a,i,o,d.boundingLength,d.pxSign,c,r,d),R6t(n,d.symbolScale,u,r,d);var h=d.symbolSize,p=s0(n.get("symbolOffset"),h);return M6t(n,h,a,i,o,p,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d),d}function D6t(e,t,n,r,a){var i=r.valueDim,o=e.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(n[i.wh]<=0),c;if(st(o)){var f=[kL(s,o[0])-l,kL(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=kL(s,o)-l:t?c=r.coordSysExtent[i.index][u]-l:c=n[i.wh];a.boundingLength=c,t&&(a.repeatCutLength=n[i.wh]);var d=i.xy==="x",h=s.inverse;a.pxSign=d&&!h||!d&&h?c>=0?1:-1:c>0?1:-1}function kL(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function N6t(e,t,n,r,a,i,o,s,l,u){var c=l.valueDim,f=l.categoryDim,d=Math.abs(n[f.wh]),h=e.getItemVisual(t,"symbolSize"),p;st(h)?p=h.slice():h==null?p=["100%","100%"]:p=[h,h],p[f.index]=St(p[f.index],d),p[c.index]=St(p[c.index],r?d:Math.abs(i)),u.symbolSize=p;var v=u.symbolScale=[p[0]/s,p[1]/s];v[c.index]*=(l.isHorizontal?-1:1)*o}function R6t(e,t,n,r,a){var i=e.get(E6t)||0;i&&(TL.attr({scaleX:t[0],scaleY:t[1],rotation:n}),TL.updateTransform(),i/=TL.getLineScale(),i*=t[r.valueDim.index]),a.valueLineWidth=i||0}function M6t(e,t,n,r,a,i,o,s,l,u,c,f){var d=c.categoryDim,h=c.valueDim,p=f.pxSign,v=Math.max(t[h.index]+s,0),g=v;if(r){var m=Math.abs(l),y=Si(e.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var x=St(y,t[h.index]),_=Math.max(v+x*2,0),S=b?0:x*2,C=Hge(r),k=C?r:QJ((m+S)/_),T=m-k*v;x=T/2/(b?k:Math.max(k-1,1)),_=v+x*2,S=b?0:x*2,!C&&r!=="fixed"&&(k=u?QJ((Math.abs(u)+S)/_):0),g=k*_-S,f.repeatTimes=k,f.symbolMargin=x}var E=p*(g/2),I=f.pathPosition=[];I[d.index]=n[d.wh]/2,I[h.index]=o==="start"?E:o==="end"?l-E:l/2,i&&(I[0]+=i[0],I[1]+=i[1]);var A=f.bundlePosition=[];A[d.index]=n[d.xy],A[h.index]=n[h.xy];var N=f.barRectShape=rt({},n);N[h.wh]=p*Math.max(Math.abs(n[h.wh]),Math.abs(I[h.index]+E)),N[d.wh]=n[d.wh];var L=f.clipShape={};L[d.xy]=-n[d.xy],L[d.wh]=c.ecSize[d.wh],L[h.xy]=0,L[h.wh]=n[h.wh]}function Mbe(e){var t=e.symbolPatternSize,n=Ma(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function $be(e,t,n,r){var a=e.__pictorialBundle,i=n.symbolSize,o=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,c=0,f=i[t.valueDim.index]+o+n.symbolMargin*2;for(xW(e,function(v){v.__pictorialAnimationIndex=c,v.__pictorialRepeatTimes=u,c<u?Um(v,null,p(c),n,r):Um(v,null,{scaleX:0,scaleY:0},n,r,function(){a.remove(v)}),c++});c<u;c++){var d=Mbe(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,a.add(d);var h=p(c);Um(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},n,r)}function p(v){var g=s.slice(),m=n.pxSign,y=v;return(n.symbolRepeatDirection==="start"?m>0:m<0)&&(y=u-1-v),g[l.index]=f*(y-u/2+.5)+s[l.index],{x:g[0],y:g[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function Lbe(e,t,n,r){var a=e.__pictorialBundle,i=e.__pictorialMainPath;i?Um(i,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(i=e.__pictorialMainPath=Mbe(n),a.add(i),Um(i,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function Obe(e,t,n){var r=rt({},t.barRectShape),a=e.__pictorialBarRect;a?Um(a,null,{shape:r},t,n):(a=e.__pictorialBarRect=new Bn({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.disableMorphing=!0,e.add(a))}function Pbe(e,t,n,r){if(n.symbolClip){var a=e.__pictorialClipPath,i=rt({},n.clipShape),o=t.valueDim,s=n.animationModel,l=n.dataIndex;if(a)Jn(a,{shape:i},s,l);else{i[o.wh]=0,a=new Bn({shape:i}),e.__pictorialBundle.setClipPath(a),e.__pictorialClipPath=a;var u={};u[o.wh]=n.clipShape[o.wh],o0[r?"updateProps":"initProps"](a,{shape:u},s,l)}}}function XJ(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=$6t,n.isAnimationEnabled=L6t,n}function $6t(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function L6t(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function qJ(e,t,n,r){var a=new an,i=new an;return a.add(i),a.__pictorialBundle=i,i.x=n.bundlePosition[0],i.y=n.bundlePosition[1],n.symbolRepeat?$be(a,t,n):Lbe(a,t,n),Obe(a,n,r),Pbe(a,t,n,r),a.__pictorialShapeStr=Fbe(e,n),a.__pictorialSymbolMeta=n,a}function O6t(e,t,n){var r=n.animationModel,a=n.dataIndex,i=e.__pictorialBundle;Jn(i,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,a),n.symbolRepeat?$be(e,t,n,!0):Lbe(e,t,n,!0),Obe(e,n,!0),Pbe(e,t,n,!0)}function ZJ(e,t,n,r){var a=r.__pictorialBarRect;a&&a.removeTextContent();var i=[];xW(r,function(o){i.push(o)}),r.__pictorialMainPath&&i.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),X(i,function(o){Hh(o,{scaleX:0,scaleY:0},n,t,function(){r.parent&&r.parent.remove(r)})}),e.setItemGraphicEl(t,null)}function Fbe(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function xW(e,t,n){X(e.__pictorialBundle.children(),function(r){r!==e.__pictorialBarRect&&t.call(n,r)})}function Um(e,t,n,r,a,i){t&&e.attr(t),r.symbolClip&&!a?n&&e.attr(n):n&&o0[a?"updateProps":"initProps"](e,n,r.animationModel,r.dataIndex,i)}function JJ(e,t,n){var r=n.dataIndex,a=n.itemModel,i=a.getModel("emphasis"),o=i.getModel("itemStyle").getItemStyle(),s=a.getModel(["blur","itemStyle"]).getItemStyle(),l=a.getModel(["select","itemStyle"]).getItemStyle(),u=a.getShallow("cursor"),c=i.get("focus"),f=i.get("blurScope"),d=i.get("scale");xW(e,function(v){if(v instanceof Ri){var g=v.style;v.useStyle(rt({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},n.style))}else v.useStyle(n.style);var m=v.ensureState("emphasis");m.style=o,d&&(m.scaleX=v.scaleX*1.1,m.scaleY=v.scaleY*1.1),v.ensureState("blur").style=s,v.ensureState("select").style=l,u&&(v.cursor=u),v.z2=n.z2});var h=t.valueDim.posDesc[+(n.boundingLength>0)],p=e.__pictorialBarRect;p.ignoreClip=!0,Yi(p,vi(a),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:My(t.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:h}),la(e,c,f,i.get("disabled"))}function QJ(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var P6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return t.prototype.getInitialData=function(n){return n.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=mp(a_.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(a_);function F6t(e){e.registerChartView(A6t),e.registerSeriesModel(P6t),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,vn(wye,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,_ye("pictorialBar"))}var B6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this,s=this.group,l=n.getLayerSeries(),u=i.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function d(g){return g.name}var h=new ed(this._layersSeries||[],l,d,d),p=[];h.add(Nt(v,this,"add")).update(Nt(v,this,"update")).remove(Nt(v,this,"remove")).execute();function v(g,m,y){var b=o._layers;if(g==="remove"){s.remove(b[m]);return}for(var x=[],_=[],S,C=l[m].indices,k=0;k<C.length;k++){var T=i.getItemLayout(C[k]),E=T.x,I=T.y0,A=T.y;x.push(E,I),_.push(E,I+A),S=i.getItemVisual(C[k],"style")}var N,L=i.getItemLayout(C[0]),R=n.getModel("label"),D=R.get("margin"),P=n.getModel("emphasis");if(g==="add"){var O=p[m]=new an;N=new c1e({shape:{points:x,stackedOnPoints:_,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),O.add(N),s.add(O),n.isAnimationEnabled()&&N.setClipPath(V6t(N.getBoundingRect(),n,function(){N.removeClipPath()}))}else{var O=b[y];N=O.childAt(0),s.add(O),p[m]=O,Jn(N,{shape:{points:x,stackedOnPoints:_}},n),Vu(N)}Yi(N,vi(n),{labelDataIndex:C[k-1],defaultText:i.getName(C[k-1]),inheritColor:S.fill},{normal:{verticalAlign:"middle"}}),N.setTextConfig({position:null,local:!0});var M=N.getTextContent();M&&(M.x=L.x-D,M.y=L.y0+L.y/2),N.useStyle(S),i.setItemGraphicEl(m,N),ji(N,n),la(N,P.get("focus"),P.get("blurScope"),P.get("disabled"))}this._layersSeries=l,this._layers=p},t.type="themeRiver",t}(Dr);function V6t(e,t,n){var r=new Bn({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Xr(r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),r}var IL=2,z6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new TC(Nt(this.getData,this),Nt(this.getRawData,this))},t.prototype.fixData=function(n){var r=n.length,a={},i=qF(n,function(d){return a.hasOwnProperty(d[0]+"")||(a[d[0]+""]=-1),d[2]}),o=[];i.buckets.each(function(d,h){o.push({name:h,dataList:d})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";a[f]=l}for(var f in a)a.hasOwnProperty(f)&&a[f]!==l&&(a[f]=l,n[r]=[f,0,u],r++)}return n},t.prototype.getInitialData=function(n,r){for(var a=this.getReferringComponents("singleAxis",Da).models[0],i=a.get("type"),o=sr(n.data,function(p){return p[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=Pt(),c=0,f=0;f<s.length;++f)l.push(s[f][IL]),u.get(s[f][IL])||(u.set(s[f][IL],c),c++);var d=yC(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:kE(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Zo(d,this);return h.initData(s),h},t.prototype.getLayerSeries=function(){for(var n=this.getData(),r=n.count(),a=[],i=0;i<r;++i)a[i]=i;var o=n.mapDimension("single"),s=qF(a,function(u){return n.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,d){return n.get(o,f)-n.get(o,d)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(n,r,a){st(n)||(n=n?[n]:[]);for(var i=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,d=-1,h=o[c].indices.length,p=0;p<h;++p){var v=i.get(n[0],o[c].indices[p]),g=Math.abs(v-r);g<=f&&(u=v,f=g,d=o[c].indices[p])}s.push(d)}return{dataIndices:s,nestestValue:u}},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=i.getName(n),s=i.get(i.mapDimension("value"),n);return gi("nameValue",{name:o,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Vr);function W6t(e,t){e.eachSeriesByType("themeRiver",function(n){var r=n.getData(),a=n.coordinateSystem,i={},o=a.getRect();i.rect=o;var s=n.get("boundaryGap"),l=a.getAxis();if(i.boundaryGap=s,l.orient==="horizontal"){s[0]=St(s[0],o.height),s[1]=St(s[1],o.height);var u=o.height-s[0]-s[1];eQ(r,n,u)}else{s[0]=St(s[0],o.width),s[1]=St(s[1],o.width);var c=o.width-s[0]-s[1];eQ(r,n,c)}r.setLayout("layoutInfo",i)})}function eQ(e,t,n){if(e.count())for(var r=t.coordinateSystem,a=t.getLayerSeries(),i=e.mapDimension("single"),o=e.mapDimension("value"),s=ut(a,function(g){return ut(g.indices,function(m){var y=r.dataToPoint(e.get(i,m));return y[1]=e.get(o,m),y})}),l=H6t(s),u=l.y0,c=n/l.max,f=a.length,d=a[0].indices.length,h,p=0;p<d;++p){h=u[p]*c,e.setItemLayout(a[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:h,y:s[0][p][1]*c});for(var v=1;v<f;++v)h+=s[v-1][p][1]*c,e.setItemLayout(a[v].indices[p],{layerIndex:v,x:s[v][p][0],y0:h,y:s[v][p][1]*c})}}function H6t(e){for(var t=e.length,n=e[0].length,r=[],a=[],i=0,o=0;o<n;++o){for(var s=0,l=0;l<t;++l)s+=e[l][o][1];s>i&&(i=s),r.push(s)}for(var u=0;u<n;++u)a[u]=(i-r[u])/2;i=0;for(var c=0;c<n;++c){var f=r[c]+a[c];f>i&&(i=f)}return{y0:a,max:i}}function U6t(e){e.registerChartView(B6t),e.registerSeriesModel(z6t),e.registerLayout(W6t),e.registerProcessor(CC("themeRiver"))}var G6t=2,K6t=4,tQ=function(e){Oe(t,e);function t(n,r,a,i){var o=e.call(this)||this;o.z2=G6t,o.textConfig={inside:!0},sn(o).seriesIndex=r.seriesIndex;var s=new Un({z2:K6t,silent:n.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,n,r,a,i),o}return t.prototype.updateData=function(n,r,a,i,o){this.node=r,r.piece=this,a=a||this._seriesModel,i=i||this._ecModel;var s=this;sn(s).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),f=rt({},c);f.label=null;var d=r.getVisual("style");d.lineJoin="bevel";var h=r.getVisual("decal");h&&(d.decal=Ny(h,o));var p=$v(l.getModel("itemStyle"),f,!0);rt(f,p),X(os,function(y){var b=s.ensureState(y),x=l.getModel([y,"itemStyle"]);b.style=x.getItemStyle();var _=$v(x,f);_&&(b.shape=_)}),n?(s.setShape(f),s.shape.r=c.r0,Xr(s,{shape:{r:c.r}},a,r.dataIndex)):(Jn(s,{shape:f},a),Vu(s)),s.useStyle(d),this._updateLabel(a);var v=l.getShallow("cursor");v&&s.attr("cursor",v),this._seriesModel=a||this._seriesModel,this._ecModel=i||this._ecModel;var g=u.get("focus"),m=g==="relative"?Vw(r.getAncestorsIndices(),r.getDescendantIndices()):g==="ancestor"?r.getAncestorsIndices():g==="descendant"?r.getDescendantIndices():g;la(this,m,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n){var r=this,a=this.node.getModel(),i=a.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,p=i.get("minAngle")/180*Math.PI,v=i.get("show")&&!(p!=null&&Math.abs(s)<p);d.ignore=!v,X(Kw,function(m){var y=m==="normal"?a.getModel("label"):a.getModel([m,"label"]),b=m==="normal",x=b?d:d.ensureState(m),_=n.getFormattedLabel(h,m);b&&(_=_||r.node.name),x.style=Fr(y,{},null,m!=="normal",!0),_&&(x.style.text=_);var S=y.get("show");S!=null&&!b&&(x.ignore=!S);var C=g(y,"position"),k=b?f:f.states[m],T=k.style.fill;k.textConfig={outsideFill:y.get("color")==="inherit"?T:null,inside:C!=="outside"};var E,I=g(y,"distance")||0,A=g(y,"align"),N=g(y,"rotate"),L=Math.PI*.5,R=Math.PI*1.5,D=Vs(N==="tangential"?Math.PI/2-l:l),P=D>L&&!Uw(D-L)&&D<R;C==="outside"?(E=o.r+I,A=P?"right":"left"):!A||A==="center"?(s===2*Math.PI&&o.r0===0?E=0:E=(o.r+o.r0)/2,A="center"):A==="left"?(E=o.r0+I,A=P?"right":"left"):A==="right"&&(E=o.r-I,A=P?"left":"right"),x.style.align=A,x.style.verticalAlign=g(y,"verticalAlign")||"middle",x.x=E*u+o.cx,x.y=E*c+o.cy;var O=0;N==="radial"?O=Vs(-l)+(P?Math.PI:0):N==="tangential"?O=Vs(Math.PI/2-l)+(P?Math.PI:0):Kn(N)&&(O=N*Math.PI/180),x.rotation=Vs(O)});function g(m,y){var b=m.get(y);return b??i.get(y)}d.dirtyStyle()},t}(ss),q3="sunburstRootToNode",nQ="sunburstHighlight",j6t="sunburstUnhighlight";function Y6t(e){e.registerAction({type:q3,update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"sunburst",query:t},r);function r(a,i){var o=o_(t,[q3],a);if(o){var s=a.getViewRoot();s&&(t.direction=aW(s,o.node)?"rollUp":"drillDown"),a.resetViewRoot(o.node)}}}),e.registerAction({type:nQ,update:"none"},function(t,n,r){t=rt({},t),n.eachComponent({mainType:"series",subType:"sunburst",query:t},a);function a(i){var o=o_(t,[nQ],i);o&&(t.dataIndex=o.node.dataIndex)}r.dispatchAction(rt(t,{type:"highlight"}))}),e.registerAction({type:j6t,update:"updateView"},function(t,n,r){t=rt({},t),r.dispatchAction(rt(t,{type:"downplay"}))})}var X6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){var o=this;this.seriesModel=n,this.api=a,this.ecModel=r;var s=n.getData(),l=s.tree.root,u=n.getViewRoot(),c=this.group,f=n.get("renderLabelForZeroData"),d=[];u.eachNode(function(y){d.push(y)});var h=this._oldChildren||[];p(d,h),m(l,u),this._initEvents(),this._oldChildren=d;function p(y,b){if(y.length===0&&b.length===0)return;new ed(b,y,x,x).add(_).update(_).remove(vn(_,null)).execute();function x(S){return S.getId()}function _(S,C){var k=S==null?null:y[S],T=C==null?null:b[C];v(k,T)}}function v(y,b){if(!f&&y&&!y.getValue()&&(y=null),y!==l&&b!==l){if(b&&b.piece)y?(b.piece.updateData(!1,y,n,r,a),s.setItemGraphicEl(y.dataIndex,b.piece)):g(b);else if(y){var x=new tQ(y,n,r,a);c.add(x),s.setItemGraphicEl(y.dataIndex,x)}}}function g(y){y&&y.piece&&(c.remove(y.piece),y.piece=null)}function m(y,b){b.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,y,n,r,a):(o.virtualPiece=new tQ(y,n,r,a),c.add(o.virtualPiece)),b.piece.off("click"),o.virtualPiece.on("click",function(x){o._rootToNode(b.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(r){var a=!1,i=n.seriesModel.getViewRoot();i.eachNode(function(o){if(!a&&o.piece&&o.piece===r.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")n._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";yE(u,c)}}a=!0}})})},t.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:q3,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},t.prototype.containPoint=function(n,r){var a=r.getData(),i=a.getItemLayout(0);if(i){var o=n[0]-i.cx,s=n[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="sunburst",t}(Dr),q6t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n,r){var a={name:n.name,children:n.data};Bbe(a);var i=this._levelModels=ut(n.levels||[],function(l){return new pr(l,this,r)},this),o=rW.createTree(a,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),d=i[f.depth];return d&&(u.parentModel=d),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(n);return r.treePathInfo=rR(a,this),r},t.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){U1e(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Vr);function Bbe(e){var t=0;X(e.children,function(r){Bbe(r);var a=r.value;st(a)&&(a=a[0]),t+=a});var n=e.value;st(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),st(e.value)?e.value[0]=n:e.value=n}var rQ=Math.PI/180;function Z6t(e,t,n){t.eachSeriesByType(e,function(r){var a=r.get("center"),i=r.get("radius");st(i)||(i=[0,i]),st(a)||(a=[a,a]);var o=n.getWidth(),s=n.getHeight(),l=Math.min(o,s),u=St(a[0],o),c=St(a[1],s),f=St(i[0],l/2),d=St(i[1],l/2),h=-r.get("startAngle")*rQ,p=r.get("minAngle")*rQ,v=r.getData().tree.root,g=r.getViewRoot(),m=g.depth,y=r.get("sort");y!=null&&Vbe(g,y);var b=0;X(g.children,function(D){!isNaN(D.getValue())&&b++});var x=g.getValue(),_=Math.PI/(x||b)*2,S=g.depth>0,C=g.height-(S?-1:1),k=(d-f)/(C||1),T=r.get("clockwise"),E=r.get("stillShowZeroSum"),I=T?1:-1,A=function(D,P){if(D){var O=P;if(D!==v){var M=D.getValue(),W=x===0&&E?_:M*_;W<p&&(W=p),O=P+I*W;var U=D.depth-m-(S?-1:1),V=f+k*U,H=f+k*(U+1),K=r.getLevelModel(D);if(K){var j=K.get("r0",!0),ne=K.get("r",!0),Q=K.get("radius",!0);Q!=null&&(j=Q[0],ne=Q[1]),j!=null&&(V=St(j,l/2)),ne!=null&&(H=St(ne,l/2))}D.setLayout({angle:W,startAngle:P,endAngle:O,clockwise:T,cx:u,cy:c,r0:V,r:H})}if(D.children&&D.children.length){var oe=0;X(D.children,function(ae){oe+=A(ae,P+oe)})}return O-P}};if(S){var N=f,L=f+k,R=Math.PI*2;v.setLayout({angle:R,startAngle:h,endAngle:h+R,clockwise:T,cx:u,cy:c,r0:N,r:L})}A(g,h)})}function Vbe(e,t){var n=e.children||[];e.children=J6t(n,t),n.length&&X(e.children,function(r){Vbe(r,t)})}function J6t(e,t){if(Yt(t)){var n=ut(e,function(a,i){var o=a.getValue();return{params:{depth:a.depth,height:a.height,dataIndex:a.dataIndex,getValue:function(){return o}},index:i}});return n.sort(function(a,i){return t(a.params,i.params)}),ut(n,function(a){return e[a.index]})}else{var r=t==="asc";return e.sort(function(a,i){var o=(a.getValue()-i.getValue())*(r?1:-1);return o===0?(a.dataIndex-i.dataIndex)*(r?-1:1):o})}}function Q6t(e){var t={};function n(r,a,i){for(var o=r;o&&o.depth>1;)o=o.parentNode;var s=a.getColorFromPalette(o.name||o.dataIndex+"",t);return r.depth>1&&Dt(s)&&(s=FF(s,(r.depth-1)/(i-1)*.5)),s}e.eachSeriesByType("sunburst",function(r){var a=r.getData(),i=a.tree;i.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=n(o,r,i.root.height));var u=a.ensureUniqueItemVisual(o.dataIndex,"style");rt(u,l)})})}function e5t(e){e.registerChartView(X6t),e.registerSeriesModel(q6t),e.registerLayout(vn(Z6t,"sunburst")),e.registerProcessor(vn(CC,"sunburst")),e.registerVisual(Q6t),Y6t(e)}var aQ={color:"fill",borderColor:"stroke"},t5t={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Bf=Vn(),n5t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(n,r){return md(null,this)},t.prototype.getDataParams=function(n,r,a){var i=e.prototype.getDataParams.call(this,n,r);return a&&(i.info=Bf(a).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Vr);function r5t(e,t){return t=t||[0,0],ut(["x","y"],function(n,r){var a=this.getAxis(n),i=t[r],o=e[r]/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(i-o)-a.dataToCoord(i+o))},this)}function a5t(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:Nt(r5t,e)}}}function i5t(e,t){return t=t||[0,0],ut([0,1],function(n){var r=t[n],a=e[n]/2,i=[],o=[];return i[n]=r-a,o[n]=r+a,i[1-n]=o[1-n]=t[1-n],Math.abs(this.dataToPoint(i)[n]-this.dataToPoint(o)[n])},this)}function o5t(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(n){return e.dataToPoint(n)},size:Nt(i5t,e)}}}function s5t(e,t){var n=this.getAxis(),r=t instanceof Array?t[0]:t,a=(e instanceof Array?e[0]:e)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(r-a)-n.dataToCoord(r+a))}function l5t(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:Nt(s5t,e)}}}function u5t(e,t){return t=t||[0,0],ut(["Radius","Angle"],function(n,r){var a="get"+n+"Axis",i=this[a](),o=t[r],s=e[r]/2,l=i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-s)-i.dataToCoord(o+s));return n==="Angle"&&(l=l*Math.PI/180),l},this)}function c5t(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(a){var i=t.dataToRadius(a[0]),o=n.dataToAngle(a[1]),s=e.coordToPoint([i,o]);return s.push(i,o*Math.PI/180),s},size:Nt(u5t,e)}}}function f5t(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(r,a){return e.dataToPoint(r,a)}}}}function zbe(e,t,n,r){return e&&(e.legacy||e.legacy!==!1&&!n&&!r&&t!=="tspan"&&(t==="text"||Mt(e,"text")))}function Wbe(e,t,n){var r=e,a,i,o;if(t==="text")o=r;else{o={},Mt(r,"text")&&(o.text=r.text),Mt(r,"rich")&&(o.rich=r.rich),Mt(r,"textFill")&&(o.fill=r.textFill),Mt(r,"textStroke")&&(o.stroke=r.textStroke),Mt(r,"fontFamily")&&(o.fontFamily=r.fontFamily),Mt(r,"fontSize")&&(o.fontSize=r.fontSize),Mt(r,"fontStyle")&&(o.fontStyle=r.fontStyle),Mt(r,"fontWeight")&&(o.fontWeight=r.fontWeight),i={type:"text",style:o,silent:!0},a={};var s=Mt(r,"textPosition");n?a.position=s?r.textPosition:"inside":s&&(a.position=r.textPosition),Mt(r,"textPosition")&&(a.position=r.textPosition),Mt(r,"textOffset")&&(a.offset=r.textOffset),Mt(r,"textRotation")&&(a.rotation=r.textRotation),Mt(r,"textDistance")&&(a.distance=r.textDistance)}return iQ(o,e),X(o.rich,function(l){iQ(l,l)}),{textConfig:a,textContent:i}}function iQ(e,t){t&&(t.font=t.textFont||t.font,Mt(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Mt(t,"textAlign")&&(e.align=t.textAlign),Mt(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Mt(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Mt(t,"textWidth")&&(e.width=t.textWidth),Mt(t,"textHeight")&&(e.height=t.textHeight),Mt(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Mt(t,"textPadding")&&(e.padding=t.textPadding),Mt(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Mt(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Mt(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Mt(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Mt(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Mt(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Mt(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function oQ(e,t,n){var r=e;r.textPosition=r.textPosition||n.position||"inside",n.offset!=null&&(r.textOffset=n.offset),n.rotation!=null&&(r.textRotation=n.rotation),n.distance!=null&&(r.textDistance=n.distance);var a=r.textPosition.indexOf("inside")>=0,i=e.fill||"#000";sQ(r,t);var o=r.textFill==null;return a?o&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=i),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(o&&(r.textFill=e.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=t.text,r.rich=t.rich,X(t.rich,function(s){sQ(s,s)}),r}function sQ(e,t){t&&(Mt(t,"fill")&&(e.textFill=t.fill),Mt(t,"stroke")&&(e.textStroke=t.fill),Mt(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Mt(t,"font")&&(e.font=t.font),Mt(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Mt(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Mt(t,"fontSize")&&(e.fontSize=t.fontSize),Mt(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Mt(t,"align")&&(e.textAlign=t.align),Mt(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Mt(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Mt(t,"width")&&(e.textWidth=t.width),Mt(t,"height")&&(e.textHeight=t.height),Mt(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Mt(t,"padding")&&(e.textPadding=t.padding),Mt(t,"borderColor")&&(e.textBorderColor=t.borderColor),Mt(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Mt(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Mt(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Mt(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Mt(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Mt(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Mt(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Mt(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Mt(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Mt(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var Hbe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},lQ=Mn(Hbe);Uc(Kc,function(e,t){return e[t]=1,e},{});Kc.join(", ");var FE=["","style","shape","extra"],Oy=Vn();function wW(e,t,n,r,a){var i=e+"Animation",o=x1(e,r,a)||{},s=Oy(t).userDuring;return o.duration>0&&(o.during=s?Nt(g5t,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=e),rt(o,n[i]),o}function Dk(e,t,n,r){r=r||{};var a=r.dataIndex,i=r.isInit,o=r.clearStyle,s=n.isAnimationEnabled(),l=Oy(e),u=t.style;l.userDuring=t.during;var c={},f={};if(y5t(e,t,f),cQ("shape",t,f),cQ("extra",t,f),!i&&s&&(m5t(e,t,c),uQ("shape",e,t,c),uQ("extra",e,t,c),b5t(e,t,u,c)),f.style=u,d5t(e,f,o),p5t(e,t),s)if(i){var d={};X(FE,function(p){var v=p?t[p]:t;v&&v.enterFrom&&(p&&(d[p]=d[p]||{}),rt(p?d[p]:d,v.enterFrom))});var h=wW("enter",e,t,n,a);h.duration>0&&e.animateFrom(d,h)}else h5t(e,t,a||0,n,c);Ube(e,t),u?e.dirty():e.markRedraw()}function Ube(e,t){for(var n=Oy(e).leaveToProps,r=0;r<FE.length;r++){var a=FE[r],i=a?t[a]:t;i&&i.leaveTo&&(n||(n=Oy(e).leaveToProps={}),a&&(n[a]=n[a]||{}),rt(a?n[a]:n,i.leaveTo))}}function oR(e,t,n,r){if(e){var a=e.parent,i=Oy(e).leaveToProps;if(i){var o=wW("update",e,t,n,0);o.done=function(){a.remove(e)},e.animateTo(i,o)}else a.remove(e)}}function Qv(e){return e==="all"}function d5t(e,t,n){var r=t.style;if(!e.isGroup&&r){if(n){e.useStyle({});for(var a=e.animators,i=0;i<a.length;i++){var o=a[i];o.targetName==="style"&&o.changeTarget(e.style)}}e.setStyle(r)}t.style=null,e.attr(t),t.style=r}function h5t(e,t,n,r,a){{var i=wW("update",e,t,r,n);i.duration>0&&e.animateFrom(a,i)}}function p5t(e,t){Mt(t,"silent")&&(e.silent=t.silent),Mt(t,"ignore")&&(e.ignore=t.ignore),e instanceof zl&&Mt(t,"invisible")&&(e.invisible=t.invisible),e instanceof An&&Mt(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var ac={},v5t={setTransform:function(e,t){return ac.el[e]=t,this},getTransform:function(e){return ac.el[e]},setShape:function(e,t){var n=ac.el,r=n.shape||(n.shape={});return r[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=ac.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=ac.el,r=n.style;return r&&(r[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=ac.el.style;if(t)return t[e]},setExtra:function(e,t){var n=ac.el.extra||(ac.el.extra={});return n[e]=t,this},getExtra:function(e){var t=ac.el.extra;if(t)return t[e]}};function g5t(){var e=this,t=e.el;if(t){var n=Oy(t).userDuring,r=e.userDuring;if(n!==r){e.el=e.userDuring=null;return}ac.el=t,r(v5t)}}function uQ(e,t,n,r){var a=n[e];if(a){var i=t[e],o;if(i){var s=n.transition,l=a.transition;if(l)if(!o&&(o=r[e]={}),Qv(l))rt(o,i);else for(var u=Ir(l),c=0;c<u.length;c++){var f=u[c],d=i[f];o[f]=d}else if(Qv(s)||Cn(s,e)>=0){!o&&(o=r[e]={});for(var h=Mn(i),c=0;c<h.length;c++){var f=h[c],d=i[f];x5t(a[f],d)&&(o[f]=d)}}}}}function cQ(e,t,n){var r=t[e];if(r)for(var a=n[e]={},i=Mn(r),o=0;o<i.length;o++){var s=i[o];a[s]=Tx(r[s])}}function m5t(e,t,n){for(var r=t.transition,a=Qv(r)?Kc:Ir(r||[]),i=0;i<a.length;i++){var o=a[i];if(!(o==="style"||o==="shape"||o==="extra")){var s=e[o];n[o]=s}}}function y5t(e,t,n){for(var r=0;r<lQ.length;r++){var a=lQ[r],i=Hbe[a],o=t[a];o&&(n[i[0]]=o[0],n[i[1]]=o[1])}for(var r=0;r<Kc.length;r++){var s=Kc[r];t[s]!=null&&(n[s]=t[s])}}function b5t(e,t,n,r){if(n){var a=e.style,i;if(a){var o=n.transition,s=t.transition;if(o&&!Qv(o)){var l=Ir(o);!i&&(i=r.style={});for(var u=0;u<l.length;u++){var c=l[u],f=a[c];i[c]=f}}else if(e.getAnimationStyleProps&&(Qv(s)||Qv(o)||Cn(s,"style")>=0)){var d=e.getAnimationStyleProps(),h=d?d.style:null;if(h){!i&&(i=r.style={});for(var p=Mn(n),u=0;u<p.length;u++){var c=p[u];if(h[c]){var f=a[c];i[c]=f}}}}}}}function x5t(e,t){return Co(e)?e!==t:e!=null&&isFinite(e)}var Gbe=Vn(),w5t=["percent","easing","shape","style","extra"];function Kbe(e){e.stopAnimation("keyframe"),e.attr(Gbe(e))}function BE(e,t,n){if(!(!n.isAnimationEnabled()||!t)){if(st(t)){X(t,function(s){BE(e,s,n)});return}var r=t.keyframes,a=t.duration;if(n&&a==null){var i=x1("enter",n,0);a=i&&i.duration}if(!(!r||!a)){var o=Gbe(e);X(FE,function(s){if(!(s&&!e[s])){var l;r.sort(function(u,c){return u.percent-c.percent}),X(r,function(u){var c=e.animators,f=s?u[s]:u;if(f){var d=Mn(f);if(s||(d=sr(d,function(v){return Cn(w5t,v)<0})),!!d.length){l||(l=e.animate(s,t.loop,!0),l.scope="keyframe");for(var h=0;h<c.length;h++)c[h]!==l&&c[h].targetName===l.targetName&&c[h].stopTracks(d);s&&(o[s]=o[s]||{});var p=s?o[s]:o;X(d,function(v){p[v]=((s?e[s]:e)||{})[v]}),l.whenWithKeys(a*u.percent,f,d,u.easing)}}}),l&&l.delay(t.delay||0).duration(a).start(t.easing)}})}}}var Vf="emphasis",oh="normal",_W="blur",SW="select",jh=[oh,Vf,_W,SW],EL={normal:["itemStyle"],emphasis:[Vf,"itemStyle"],blur:[_W,"itemStyle"],select:[SW,"itemStyle"]},AL={normal:["label"],emphasis:[Vf,"label"],blur:[_W,"label"],select:[SW,"label"]},_5t=["x","y"],S5t="e\0\0",sl={normal:{},emphasis:{},blur:{},select:{}},C5t={cartesian2d:a5t,geo:o5t,single:l5t,polar:c5t,calendar:f5t};function Z3(e){return e instanceof An}function J3(e){return e instanceof zl}function T5t(e,t){t.copyTransform(e),J3(t)&&J3(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,Z3(t)&&Z3(e)&&t.setShape(e.shape))}var k5t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){this._progressiveEls=null;var o=this._data,s=n.getData(),l=this.group,u=fQ(n,s,r,a);o||l.removeAll(),s.diff(o).add(function(f){DL(a,null,f,u(f,i),n,l,s)}).remove(function(f){var d=o.getItemGraphicEl(f);d&&oR(d,Bf(d).option,n)}).update(function(f,d){var h=o.getItemGraphicEl(d);DL(a,h,f,u(f,i),n,l,s)}).execute();var c=n.get("clip",!0)?_C(n.coordinateSystem,!1,n):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(n,r,a){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(n,r,a,i,o){var s=r.getData(),l=fQ(r,s,a,i),u=this._progressiveEls=[];function c(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var f=n.start;f<n.end;f++){var d=DL(null,null,f,l(f,o),r,this.group,s);d&&(d.traverse(c),u.push(d))}},t.prototype.eachRendered=function(n){gp(this._progressiveEls||this.group,n)},t.prototype.filterForExposedEvent=function(n,r,a,i){var o=r.element;if(o==null||a.name===o)return!0;for(;(a=a.__hostTarget||a.parent)&&a!==this.group;)if(a.name===o)return!0;return!1},t.type="custom",t}(Dr);function CW(e){var t=e.type,n;if(t==="path"){var r=e.shape,a=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,i=Xbe(r);n=ON(i,null,a,r.layout||"center"),Bf(n).customPathData=i}else if(t==="image")n=new Ri({}),Bf(n).customImagePath=e.style.image;else if(t==="text")n=new Un({});else if(t==="group")n=new an;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=d5(t);if(!o){var s="";or(s)}n=new o}return Bf(n).customGraphicType=t,n.name=e.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function TW(e,t,n,r,a,i,o){Kbe(t);var s=a&&a.normal.cfg;s&&t.setTextConfig(s),r&&r.transition==null&&(r.transition=_5t);var l=r&&r.style;if(l){if(t.type==="text"){var u=l;Mt(u,"textFill")&&(u.fill=u.textFill),Mt(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=Z3(t)?l.decal:null;e&&f&&(f.dirty=!0,c=Ny(f,e)),l.__decalPattern=c}if(J3(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}Dk(t,r,i,{dataIndex:n,isInit:o,clearStyle:!0}),BE(t,r.keyframeAnimation,i)}function jbe(e,t,n,r,a){var i=t.isGroup?null:t,o=a&&a[e].cfg;if(i){var s=i.ensureState(e);if(r===!1){var l=i.getState(e);l&&(l.style=null)}else s.style=r||null;o&&(s.textConfig=o),Ng(i)}}function I5t(e,t,n){if(!e.isGroup){var r=e,a=n.currentZ,i=n.currentZLevel;r.z=a,r.zlevel=i;var o=t.z2;o!=null&&(r.z2=o||0);for(var s=0;s<jh.length;s++)E5t(r,t,jh[s])}}function E5t(e,t,n){var r=n===oh,a=r?t:VE(t,n),i=a?a.z2:null,o;i!=null&&(o=r?e:e.ensureState(n),o.z2=i||0)}function fQ(e,t,n,r){var a=e.get("renderItem"),i=e.coordinateSystem,o={};i&&(o=i.prepareCustoms?i.prepareCustoms(i):C5t[i.type](i));for(var s=Xt({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:x,style:S,ordinalRawValue:_,styleEmphasis:C,visual:E,barLayout:I,currentSeriesIndices:A,font:N},o.api||{}),l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:A5t(e.getData())},u,c,f={},d={},h={},p={},v=0;v<jh.length;v++){var g=jh[v];h[g]=e.getModel(EL[g]),p[g]=e.getModel(AL[g])}function m(L){return L===u?c||(c=t.getItemModel(L)):t.getItemModel(L)}function y(L,R){return t.hasItemOption?L===u?f[R]||(f[R]=m(L).getModel(EL[R])):m(L).getModel(EL[R]):h[R]}function b(L,R){return t.hasItemOption?L===u?d[R]||(d[R]=m(L).getModel(AL[R])):m(L).getModel(AL[R]):p[R]}return function(L,R){return u=L,c=null,f={},d={},a&&a(Xt({dataIndexInside:L,dataIndex:t.getRawIndex(L),actionType:R?R.type:null},l),s)};function x(L,R){return R==null&&(R=u),t.getStore().get(t.getDimensionIndex(L||0),R)}function _(L,R){R==null&&(R=u),L=L||0;var D=t.getDimensionInfo(L);if(!D){var P=t.getDimensionIndex(L);return P>=0?t.getStore().get(P,R):void 0}var O=t.get(D.name,R),M=D&&D.ordinalMeta;return M?M.categories[O]:O}function S(L,R){R==null&&(R=u);var D=t.getItemVisual(R,"style"),P=D&&D.fill,O=D&&D.opacity,M=y(R,oh).getItemStyle();P!=null&&(M.fill=P),O!=null&&(M.opacity=O);var W={inheritColor:Dt(P)?P:"#000"},U=b(R,oh),V=Fr(U,null,W,!1,!0);V.text=U.getShallow("show")?fn(e.getFormattedLabel(R,oh),My(t,R)):null;var H=gE(U,W,!1);return T(L,M),M=oQ(M,V,H),L&&k(M,L),M.legacy=!0,M}function C(L,R){R==null&&(R=u);var D=y(R,Vf).getItemStyle(),P=b(R,Vf),O=Fr(P,null,null,!0,!0);O.text=P.getShallow("show")?Rc(e.getFormattedLabel(R,Vf),e.getFormattedLabel(R,oh),My(t,R)):null;var M=gE(P,null,!0);return T(L,D),D=oQ(D,O,M),L&&k(D,L),D.legacy=!0,D}function k(L,R){for(var D in R)Mt(R,D)&&(L[D]=R[D])}function T(L,R){L&&(L.textFill&&(R.textFill=L.textFill),L.textPosition&&(R.textPosition=L.textPosition))}function E(L,R){if(R==null&&(R=u),Mt(aQ,L)){var D=t.getItemVisual(R,"style");return D?D[aQ[L]]:null}if(Mt(t5t,L))return t.getItemVisual(R,L)}function I(L){if(i.type==="cartesian2d"){var R=i.getBaseAxis();return yPt(Xt({axis:R},L))}}function A(){return n.getCurrentSeriesIndices()}function N(L){return h5(L,n)}}function A5t(e){var t={};return X(e.dimensions,function(n){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var a=r.coordDim,i=t[a]=t[a]||[];i[r.coordDimIndex]=e.getDimensionIndex(n)}}),t}function DL(e,t,n,r,a,i,o){if(!r){i.remove(t);return}var s=kW(e,t,n,r,a,i);return s&&o.setItemGraphicEl(n,s),s&&la(s,r.focus,r.blurScope,r.emphasisDisabled),s}function kW(e,t,n,r,a,i){var o=-1,s=t;t&&Ybe(t,r,a)&&(o=Cn(i.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=CW(r),s&&T5t(s,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),sl.normal.cfg=sl.normal.conOpt=sl.emphasis.cfg=sl.emphasis.conOpt=sl.blur.cfg=sl.blur.conOpt=sl.select.cfg=sl.select.conOpt=null,sl.isLegacy=!1,N5t(u,n,r,a,l,sl),D5t(u,n,r,a,l),TW(e,u,n,r,sl,a,l),Mt(r,"info")&&(Bf(u).info=r.info);for(var c=0;c<jh.length;c++){var f=jh[c];if(f!==oh){var d=VE(r,f),h=IW(r,d,f);jbe(f,u,d,h,sl)}}return I5t(u,r,a),r.type==="group"&&R5t(e,u,n,r,a),o>=0?i.replaceAt(u,o):i.add(u),u}function Ybe(e,t,n){var r=Bf(e),a=t.type,i=t.shape,o=t.style;return n.isUniversalTransitionEnabled()||a!=null&&a!==r.customGraphicType||a==="path"&&O5t(i)&&Xbe(i)!==r.customPathData||a==="image"&&Mt(o,"image")&&o.image!==r.customImagePath}function D5t(e,t,n,r,a){var i=n.clipPath;if(i===!1)e&&e.getClipPath()&&e.removeClipPath();else if(i){var o=e.getClipPath();o&&Ybe(o,i,r)&&(o=null),o||(o=CW(i),e.setClipPath(o)),TW(null,o,t,i,null,r,a)}}function N5t(e,t,n,r,a,i){if(!e.isGroup){dQ(n,null,i),dQ(n,Vf,i);var o=i.normal.conOpt,s=i.emphasis.conOpt,l=i.blur.conOpt,u=i.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=e.getTextContent();if(o===!1)c&&e.removeTextContent();else{o=i.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=CW(o),e.setTextContent(c)),TW(null,c,t,o,null,r,a);for(var f=o&&o.style,d=0;d<jh.length;d++){var h=jh[d];if(h!==oh){var p=i[h].conOpt;jbe(h,c,p,IW(o,p,h),null)}}f?c.dirty():c.markRedraw()}}}}function dQ(e,t,n){var r=t?VE(e,t):e,a=t?IW(e,r,Vf):e.style,i=e.type,o=r?r.textConfig:null,s=e.textContent,l=s?t?VE(s,t):s:null;if(a&&(n.isLegacy||zbe(a,i,!!o,!!l))){n.isLegacy=!0;var u=Wbe(a,i,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var f=t?n[t]:n.normal;f.cfg=o,f.conOpt=l}function VE(e,t){return t?e?e[t]:null:e}function IW(e,t,n){var r=t&&t.style;return r==null&&n===Vf&&e&&(r=e.styleEmphasis),r}function R5t(e,t,n,r,a){var i=r.children,o=i?i.length:0,s=r.$mergeChildren,l=s==="byName"||r.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){$5t({api:e,oldChildren:t.children()||[],newChildren:i||[],dataIndex:n,seriesModel:a,group:t});return}u&&t.removeAll();for(var c=0;c<o;c++){var f=i[c],d=t.childAt(c);f?(f.ignore==null&&(f.ignore=!1),kW(e,d,n,f,a,t)):d.ignore=!0}for(var h=t.childCount()-1;h>=c;h--){var p=t.childAt(h);M5t(t,p,a)}}}function M5t(e,t,n){t&&oR(t,Bf(e).option,n)}function $5t(e){new ed(e.oldChildren,e.newChildren,hQ,hQ,e).add(pQ).update(pQ).remove(L5t).execute()}function hQ(e,t){var n=e&&e.name;return n??S5t+t}function pQ(e,t){var n=this.context,r=e!=null?n.newChildren[e]:null,a=t!=null?n.oldChildren[t]:null;kW(n.api,a,n.dataIndex,r,n.seriesModel,n.group)}function L5t(e){var t=this.context,n=t.oldChildren[e];n&&oR(n,Bf(n).option,t.seriesModel)}function Xbe(e){return e&&(e.pathData||e.d)}function O5t(e){return e&&(Mt(e,"pathData")||Mt(e,"d"))}function P5t(e){e.registerChartView(k5t),e.registerSeriesModel(n5t)}var vv=Vn(),vQ=en,NL=Nt,EW=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,n,r,a){var i=n.get("value"),o=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=r,!(!a&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,t,n,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,n);if(!s)s=this._group=new an,this.createPointerEl(s,u,t,n),this.createLabelEl(s,u,t,n),r.getZr().add(s);else{var d=vn(gQ,n,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,n)}yQ(s,n,!0),this._renderHandle(i)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,n){var r=n.get("animation"),a=t.axis,i=a.type==="category",o=n.get("snap");if(!o&&!i)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(i&&a.getBandWidth()>s)return!0;if(o){var l=q5(t).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},e.prototype.makeElOption=function(t,n,r,a,i){},e.prototype.createPointerEl=function(t,n,r,a){var i=n.pointer;if(i){var o=vv(t).pointerEl=new o0[i.type](vQ(n.pointer));t.add(o)}},e.prototype.createLabelEl=function(t,n,r,a){if(n.label){var i=vv(t).labelEl=new Un(vQ(n.label));t.add(i),mQ(i,a)}},e.prototype.updatePointerEl=function(t,n,r){var a=vv(t).pointerEl;a&&n.pointer&&(a.setStyle(n.pointer.style),r(a,{shape:n.pointer.shape}))},e.prototype.updateLabelEl=function(t,n,r,a){var i=vv(t).labelEl;i&&(i.setStyle(n.label.style),r(i,{x:n.label.x,y:n.label.y}),mQ(i,a))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),a=this._handle,i=n.getModel("handle"),o=n.get("status");if(!i.get("show")||!o||o==="hide"){a&&r.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=vC(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){qf(u.event)},onmousedown:NL(this._onHandleDragMove,this,0,0),drift:NL(this._onHandleDragMove,this),ondragend:NL(this._onHandleDragEnd,this)}),r.add(a)),yQ(a,n,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");st(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,I1(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},e.prototype._moveHandleToValue=function(t,n){gQ(this._axisPointerModel,!n&&this._moveAnimation,this._handle,RL(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,n){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(RL(r),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(RL(a)),vv(r).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),r=this._group,a=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),a&&n.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),Jw(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,n,r){return r=r||0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}},e}();function gQ(e,t,n,r){qbe(vv(n).lastProp,r)||(vv(n).lastProp=r,t?Jn(n,r,e):(n.stopAnimation(),n.attr(r)))}function qbe(e,t){if(Jt(e)&&Jt(t)){var n=!0;return X(t,function(r,a){n=n&&qbe(e[a],r)}),!!n}else return e===t}function mQ(e,t){e[t.get(["label","show"])?"show":"hide"]()}function RL(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function yQ(e,t,n){var r=t.get("z"),a=t.get("zlevel");e&&e.traverse(function(i){i.type!=="group"&&(r!=null&&(i.z=r),a!=null&&(i.zlevel=a),i.silent=n)})}function AW(e){var t=e.get("type"),n=e.getModel(t+"Style"),r;return t==="line"?(r=n.getLineStyle(),r.fill=null):t==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function Zbe(e,t,n,r,a){var i=n.get("value"),o=Jbe(i,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=S1(s.get("padding")||0),u=s.getFont(),c=lC(o,u),f=a.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],p=a.align;p==="right"&&(f[0]-=d),p==="center"&&(f[0]-=d/2);var v=a.verticalAlign;v==="bottom"&&(f[1]-=h),v==="middle"&&(f[1]-=h/2),F5t(f,d,h,r);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=t.get(["axisLine","lineStyle","color"])),e.label={x:f[0],y:f[1],style:Fr(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function F5t(e,t,n,r){var a=r.getWidth(),i=r.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+n,i)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Jbe(e,t,n,r,a){e=t.scale.parse(e);var i=t.scale.getLabel({value:e},{precision:a.precision}),o=a.formatter;if(o){var s={value:B5(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};X(r,function(l){var u=n.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),Dt(o)?i=o.replace("{value}",i):Yt(o)&&(i=o(s))}return i}function DW(e,t,n){var r=Ks();return a0(r,r,n.rotation),Gc(r,r,n.position),Au([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function Qbe(e,t,n,r,a,i){var o=Jo.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=a.get(["label","margin"]),Zbe(t,r,a,i,{position:DW(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function NW(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function exe(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function bQ(e,t,n,r,a,i){return{cx:e,cy:t,r0:n,r,startAngle:a,endAngle:i,clockwise:!0}}var B5t=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,a,i,o){var s=a.axis,l=s.grid,u=i.get("type"),c=xQ(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var d=AW(i),h=V5t[u](s,f,c);h.style=d,n.graphicKey=h.type,n.pointer=h}var p=R3(l.model,a);Qbe(r,n,p,a,i,o)},t.prototype.getHandleTransform=function(n,r,a){var i=R3(r.axis.grid.model,r,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=DW(r.axis,n,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,a,i){var o=a.axis,s=o.grid,l=o.getGlobalExtent(!0),u=xQ(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[n.x,n.y];f[c]+=r[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:n.rotation,cursorPoint:h,tooltipOption:p[c]}},t}(EW);function xQ(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var V5t={line:function(e,t,n){var r=NW([t,n[0]],[t,n[1]],wQ(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),a=n[1]-n[0];return{type:"Rect",shape:exe([t-r/2,n[0]],[r,a],wQ(e))}}};function wQ(e){return e.dim==="x"?0:1}var z5t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Rn),Rf=Vn(),W5t=X;function txe(e,t,n){if(!Nn.node){var r=t.getZr();Rf(r).records||(Rf(r).records={}),H5t(r,t);var a=Rf(r).records[e]||(Rf(r).records[e]={});a.handler=n}}function H5t(e,t){if(Rf(e).initialized)return;Rf(e).initialized=!0,n("click",vn(_Q,"click")),n("mousemove",vn(_Q,"mousemove")),n("globalout",G5t);function n(r,a){e.on(r,function(i){var o=K5t(t);W5t(Rf(e).records,function(s){s&&a(s,i,o.dispatchAction)}),U5t(o.pendings,t)})}}function U5t(e,t){var n=e.showTip.length,r=e.hideTip.length,a;n?a=e.showTip[n-1]:r&&(a=e.hideTip[r-1]),a&&(a.dispatchAction=null,t.dispatchAction(a))}function G5t(e,t,n){e.handler("leave",null,n)}function _Q(e,t,n,r){t.handler(e,n,r)}function K5t(e){var t={showTip:[],hideTip:[]},n=function(r){var a=t[r.type];a?a.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function Q3(e,t){if(!Nn.node){var n=t.getZr(),r=(Rf(n).records||{})[e];r&&(Rf(n).records[e]=null)}}var j5t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=r.getComponent("tooltip"),o=n.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";txe("axisPointer",a,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(n,r){Q3("axisPointer",r)},t.prototype.dispose=function(n,r){Q3("axisPointer",r)},t.type="axisPointer",t}(na);function nxe(e,t){var n=[],r=e.seriesIndex,a;if(r==null||!(a=t.getSeriesByIndex(r)))return{point:[]};var i=a.getData(),o=Ag(i,e);if(o==null||o<0||st(o))return{point:[]};var s=i.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)n=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,p=i.mapDimension(d),v=[];v[h]=i.get(p,o),v[1-h]=i.get(i.getCalculationInfo("stackResultDimension"),o),n=l.dataToPoint(v)||[]}else n=l.dataToPoint(i.getValues(ut(l.dimensions,function(m){return i.mapDimension(m)}),o))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),n=[g.x+g.width/2,g.y+g.height/2]}return{point:n,el:s}}var SQ=Vn();function Y5t(e,t,n){var r=e.currTrigger,a=[e.x,e.y],i=e,o=e.dispatchAction||Nt(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Nk(a)&&(a=nxe({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var l=Nk(a),u=i.axesInfo,c=s.axesInfo,f=r==="leave"||Nk(a),d={},h={},p={list:[],map:{}},v={showPointer:vn(q5t,h),showTooltip:vn(Z5t,p)};X(s.coordSysMap,function(m,y){var b=l||m.containPoint(a);X(s.coordSysAxesInfo[y],function(x,_){var S=x.axis,C=tWt(u,x);if(!f&&b&&(!u||C)){var k=C&&C.value;k==null&&!l&&(k=S.pointToData(a)),k!=null&&CQ(x,k,v,!1,d)}})});var g={};return X(c,function(m,y){var b=m.linkGroup;b&&!h[y]&&X(b.axesInfo,function(x,_){var S=h[_];if(x!==m&&S){var C=S.value;b.mapper&&(C=m.axis.scale.parse(b.mapper(C,TQ(x),TQ(m)))),g[m.key]=C}})}),X(g,function(m,y){CQ(c[y],m,v,!0,d)}),J5t(h,c,d),Q5t(p,a,e,o),eWt(c,o,n),d}}function CQ(e,t,n,r,a){var i=e.axis;if(!(i.scale.isBlank()||!i.containData(t))){if(!e.involveSeries){n.showPointer(e,t);return}var o=X5t(t,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&a.seriesIndex==null&&rt(a,s[0]),!r&&e.snap&&i.containData(l)&&l!=null&&(t=l),n.showPointer(e,t,s),n.showTooltip(e,o,l)}}function X5t(e,t){var n=t.axis,r=n.dim,a=e,i=[],o=Number.MAX_VALUE,s=-1;return X(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,e,n);d=h.dataIndices,f=h.nestestValue}else{if(d=l.getData().indicesOfNearest(c[0],e,n.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var p=e-f,v=Math.abs(p);v<=o&&((v<o||p>=0&&s<0)&&(o=v,s=p,a=f,i.length=0),X(d,function(g){i.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:i,snapToValue:a}}function q5t(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function Z5t(e,t,n,r){var a=n.payloadBatch,i=t.axis,o=i.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!a.length)){var l=t.coordSys.model,u=i_(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function J5t(e,t,n){var r=n.axesInfo=[];X(t,function(a,i){var o=a.axisPointerModel.option,s=e[i];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function Q5t(e,t,n,r){if(Nk(t)||!e.list.length){r({type:"hideTip"});return}var a=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:e.list})}function eWt(e,t,n){var r=n.getZr(),a="axisPointerLastHighlights",i=SQ(r)[a]||{},o=SQ(r)[a]={};X(e,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&X(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;o[h]=d})});var s=[],l=[];X(i,function(u,c){!o[c]&&l.push(u)}),X(o,function(u,c){!i[c]&&s.push(u)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function tWt(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function TQ(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function Nk(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function EC(e){c0.registerAxisPointerClass("CartesianAxisPointer",B5t),e.registerComponentModel(z5t),e.registerComponentView(j5t),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!st(n)&&(t.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=f4t(t,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Y5t)}function nWt(e){kn(D1e),kn(EC)}var rWt=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,a,i,o){var s=a.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(r),d=i.get("type");if(d&&d!=="none"){var h=AW(i),p=iWt[d](s,l,f,c);p.style=h,n.graphicKey=p.type,n.pointer=p}var v=i.get(["label","margin"]),g=aWt(r,a,i,l,v);Zbe(n,a,i,o,g)},t}(EW);function aWt(e,t,n,r,a){var i=t.axis,o=i.dataToCoord(e),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,f;if(i.dim==="radius"){var d=Ks();a0(d,d,s),Gc(d,d,[r.cx,r.cy]),u=Au([o,-a],d);var h=t.getModel("axisLabel").get("rotate")||0,p=Jo.innerTextLayout(s,h*Math.PI/180,-1);c=p.textAlign,f=p.textVerticalAlign}else{var v=l[1];u=r.coordToPoint([v+a,o]);var g=r.cx,m=r.cy;c=Math.abs(u[0]-g)/v<.3?"center":u[0]>g?"left":"right",f=Math.abs(u[1]-m)/v<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var iWt={line:function(e,t,n,r){return e.dim==="angle"?{type:"Line",shape:NW(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r){var a=Math.max(1,e.getBandWidth()),i=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:bQ(t.cx,t.cy,r[0],r[1],(-n-a/2)*i,(-n+a/2)*i)}:{type:"Sector",shape:bQ(t.cx,t.cy,n-a/2,n+a/2,0,Math.PI*2)}}},oWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.findAxisModel=function(n){var r,a=this.ecModel;return a.eachComponent(n,function(i){i.getCoordSysModel()===this&&(r=i)},this),r},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Rn),RW=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Da).models[0]},t.type="polarAxis",t}(Rn);$a(RW,bC);var sWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="angleAxis",t}(RW),lWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="radiusAxis",t}(RW),MW=function(e){Oe(t,e);function t(n,r){return e.call(this,"radius",n,r)||this}return t.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},t}(ju);MW.prototype.dataToRadius=ju.prototype.dataToCoord;MW.prototype.radiusToData=ju.prototype.coordToData;var uWt=Vn(),$W=function(e){Oe(t,e);function t(n,r){return e.call(this,"angle",n,r||[0,360])||this}return t.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var n=this,r=n.getLabelModel(),a=n.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=i[0],l=n.dataToCoord(s+1)-n.dataToCoord(s),u=Math.abs(l),c=lC(s==null?"":s+"",r.getFont(),"center","top"),f=Math.max(c.height,7),d=f/u;isNaN(d)&&(d=1/0);var h=Math.max(0,Math.floor(d)),p=uWt(n.model),v=p.lastAutoInterval,g=p.lastTickCount;return v!=null&&g!=null&&Math.abs(v-h)<=1&&Math.abs(g-o)<=1&&v>h?h=v:(p.lastTickCount=o,p.lastAutoInterval=h),h},t}(ju);$W.prototype.dataToAngle=ju.prototype.dataToCoord;$W.prototype.angleToData=ju.prototype.coordToData;var rxe=["radius","angle"],cWt=function(){function e(t){this.dimensions=rxe,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new MW,this._angleAxis=new $W,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(t){var n=this.pointToCoord(t);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},e.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},e.prototype.getAxis=function(t){var n="_"+t+"Axis";return this[n]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(t){var n=[],r=this._angleAxis,a=this._radiusAxis;return r.scale.type===t&&n.push(r),a.scale.type===t&&n.push(a),n},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(t){var n=this._angleAxis;return t===n?this._radiusAxis:n},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(t){var n=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},e.prototype.dataToPoint=function(t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],n),this._angleAxis.dataToAngle(t[1],n)])},e.prototype.pointToData=function(t,n){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],n),this._angleAxis.angleToData(r[1],n)]},e.prototype.pointToCoord=function(t){var n=t[0]-this.cx,r=t[1]-this.cy,a=this.getAngleAxis(),i=a.getExtent(),o=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]);a.inverse?o=s-360:s=o+360;var l=Math.sqrt(n*n+r*r);n/=l,r/=l;for(var u=Math.atan2(-r,n)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},e.prototype.coordToPoint=function(t){var n=t[0],r=t[1]/180*Math.PI,a=Math.cos(r)*n+this.cx,i=-Math.sin(r)*n+this.cy;return[a,i]},e.prototype.getArea=function(){var t=this.getAngleAxis(),n=this.getRadiusAxis(),r=n.getExtent().slice();r[0]>r[1]&&r.reverse();var a=t.getExtent(),i=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-a[0]*i,endAngle:-a[1]*i,clockwise:t.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,d=this.r,h=this.r0;return d!==h&&f-o<=d*d&&f+o>=h*h}}},e.prototype.convertToPixel=function(t,n,r){var a=kQ(n);return a===this?this.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var a=kQ(n);return a===this?this.pointToData(r):null},e}();function kQ(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function fWt(e,t,n){var r=t.get("center"),a=n.getWidth(),i=n.getHeight();e.cx=St(r[0],a),e.cy=St(r[1],i);var o=e.getRadiusAxis(),s=Math.min(a,i)/2,l=t.get("radius");l==null?l=[0,"100%"]:st(l)||(l=[0,l]);var u=[St(l[0],s),St(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function dWt(e,t){var n=this,r=n.getAngleAxis(),a=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),e.eachSeries(function(s){if(s.coordinateSystem===n){var l=s.getData();X(IE(l,"radius"),function(u){a.scale.unionExtentFromData(l,u)}),X(IE(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Ry(r.scale,r.model),Ry(a.scale,a.model),r.type==="category"&&!r.onBand){var i=r.getExtent(),o=360/r.scale.count();r.inverse?i[1]+=o:i[1]-=o,r.setExtent(i[0],i[1])}}function hWt(e){return e.mainType==="angleAxis"}function IQ(e,t){var n;if(e.type=t.get("type"),e.scale=QN(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),hWt(t)){e.inverse=e.inverse!==t.get("clockwise");var r=t.get("startAngle"),a=(n=t.get("endAngle"))!==null&&n!==void 0?n:r+(e.inverse?-360:360);e.setExtent(r,a)}t.axis=e,e.model=t}var pWt={dimensions:rxe,create:function(e,t){var n=[];return e.eachComponent("polar",function(r,a){var i=new cWt(a+"");i.update=dWt;var o=i.getRadiusAxis(),s=i.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");IQ(o,l),IQ(s,u),fWt(i,r,t),n.push(i),r.coordinateSystem=i,i.model=r}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var a=r.getReferringComponents("polar",Da).models[0];r.coordinateSystem=a.coordinateSystem}}),n}},vWt=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function mT(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],n]),a=e.coordToPoint([t[1],n]);return{x1:r[0],y1:r[1],x2:a[0],y2:a[1]}}function yT(e){var t=e.getRadiusAxis();return t.inverse?0:1}function EQ(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var gWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var a=n.axis,i=a.polar,o=i.getRadiusAxis().getExtent(),s=a.getTicksCoords(),l=a.getMinorTicksCoords(),u=ut(a.getViewLabels(),function(c){c=en(c);var f=a.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=a.dataToCoord(d),c});EQ(u),EQ(s),X(vWt,function(c){n.get([c,"show"])&&(!a.scale.isBlank()||c==="axisLine")&&mWt[c](this.group,n,i,s,l,o,u)},this)}},t.type="angleAxis",t}(c0),mWt={axisLine:function(e,t,n,r,a,i){var o=t.getModel(["axisLine","lineStyle"]),s=n.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=yT(n),f=c?0:1,d,h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";i[f]===0?d=new o0[h]({shape:{cx:n.cx,cy:n.cy,r:i[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):d=new fC({shape:{cx:n.cx,cy:n.cy,r:i[c],r0:i[f]},style:o.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,e.add(d)},axisTick:function(e,t,n,r,a,i){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=i[yT(n)],u=ut(r,function(c){return new ii({shape:mT(n,[l,l+s],c.coord)})});e.add(Sl(u,{style:Xt(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,r,a,i){if(a.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=i[yT(n)],c=[],f=0;f<a.length;f++)for(var d=0;d<a[f].length;d++)c.push(new ii({shape:mT(n,[u,u+l],a[f][d].coord)}));e.add(Sl(c,{style:Xt(s.getModel("lineStyle").getLineStyle(),Xt(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,r,a,i,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");X(o,function(f,d){var h=l,p=f.tickValue,v=i[yT(n)],g=n.coordToPoint([v+u,f.coord]),m=n.cx,y=n.cy,b=Math.abs(g[0]-m)/v<.3?"center":g[0]>m?"left":"right",x=Math.abs(g[1]-y)/v<.3?"middle":g[1]>y?"top":"bottom";if(s&&s[p]){var _=s[p];Jt(_)&&_.textStyle&&(h=new pr(_.textStyle,l,l.ecModel))}var S=new Un({silent:Jo.isLabelSilent(t),style:Fr(h,{x:g[0],y:g[1],fill:h.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:b,verticalAlign:x})});if(e.add(S),c){var C=Jo.makeAxisEventDataBase(t);C.targetType="axisLabel",C.value=f.rawLabel,sn(S).eventData=C}},this)},splitLine:function(e,t,n,r,a,i){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<r.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new ii({shape:mT(n,i,r[f].coord)}))}for(var f=0;f<c.length;f++)e.add(Sl(c[f],{style:Xt({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,r,a,i){if(a.length){for(var o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)l.push(new ii({shape:mT(n,i,a[u][c].coord)}));e.add(Sl(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,r,a,i){if(r.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,d=-r[0].coord*f,h=Math.min(i[0],i[1]),p=Math.max(i[0],i[1]),v=t.get("clockwise"),g=1,m=r.length;g<=m;g++){var y=g===m?r[0].coord:r[g].coord,b=u++%l.length;c[b]=c[b]||[],c[b].push(new ss({shape:{cx:n.cx,cy:n.cy,r0:h,r:p,startAngle:d,endAngle:-y*f,clockwise:v},silent:!0})),d=-y*f}for(var g=0;g<c.length;g++)e.add(Sl(c[g],{style:Xt({fill:l[g%l.length]},s.getAreaStyle()),silent:!0}))}}},yWt=["axisLine","axisTickLabel","axisName"],bWt=["splitLine","splitArea","minorSplitLine"],xWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var a=this._axisGroup,i=this._axisGroup=new an;this.group.add(i);var o=n.axis,s=o.polar,l=s.getAngleAxis(),u=o.getTicksCoords(),c=o.getMinorTicksCoords(),f=l.getExtent()[0],d=o.getExtent(),h=_Wt(s,n,f),p=new Jo(n,h);X(yWt,p.add,p),i.add(p.getGroup()),pC(a,i,n),X(bWt,function(v){n.get([v,"show"])&&!o.scale.isBlank()&&wWt[v](this.group,n,s,f,d,u,c)},this)}},t.type="radiusAxis",t}(c0),wWt={splitLine:function(e,t,n,r,a,i){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=n.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),h=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],v=0;v<i.length;v++){var g=u++%l.length;p[g]=p[g]||[],p[g].push(new o0[h]({shape:{cx:n.cx,cy:n.cy,r:Math.max(i[v].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse}}))}for(var v=0;v<p.length;v++)e.add(Sl(p[v],{style:Xt({stroke:l[v%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,r,a,i,o){if(o.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new gd({shape:{cx:n.cx,cy:n.cy,r:o[c][f].coord}}));e.add(Sl(u,{style:Xt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,r,a,i){if(i.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=i[0].coord,d=1;d<i.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new ss({shape:{cx:n.cx,cy:n.cy,r0:f,r:i[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=i[d].coord}for(var d=0;d<c.length;d++)e.add(Sl(c[d],{style:Xt({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}};function _Wt(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function axe(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function ixe(e,t){return t.dim+e.model.componentIndex}function SWt(e,t,n){var r={},a=CWt(sr(t.getSeriesByType(e),function(i){return!t.isSeriesFiltered(i)&&i.coordinateSystem&&i.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(i){if(i.coordinateSystem.type==="polar"){var o=i.getData(),s=i.coordinateSystem,l=s.getBaseAxis(),u=ixe(s,l),c=axe(i),f=a[u][c],d=f.offset,h=f.width,p=s.getOtherAxis(l),v=i.coordinateSystem.cx,g=i.coordinateSystem.cy,m=i.get("barMinHeight")||0,y=i.get("barMinAngle")||0;r[c]=r[c]||[];for(var b=o.mapDimension(p.dim),x=o.mapDimension(l.dim),_=Gh(o,b),S=l.dim!=="radius"||!i.get("roundCap",!0),C=p.model,k=C.get("startValue"),T=p.dataToCoord(k||0),E=0,I=o.count();E<I;E++){var A=o.get(b,E),N=o.get(x,E),L=A>=0?"p":"n",R=T;_&&(r[c][N]||(r[c][N]={p:T,n:T}),R=r[c][N][L]);var D=void 0,P=void 0,O=void 0,M=void 0;if(p.dim==="radius"){var W=p.dataToCoord(A)-T,U=l.dataToCoord(N);Math.abs(W)<m&&(W=(W<0?-1:1)*m),D=R,P=R+W,O=U-d,M=O-h,_&&(r[c][N][L]=P)}else{var V=p.dataToCoord(A,S)-T,H=l.dataToCoord(N);Math.abs(V)<y&&(V=(V<0?-1:1)*y),D=H+d,P=D+h,O=R,M=R+V,_&&(r[c][N][L]=M)}o.setItemLayout(E,{cx:v,cy:g,r0:D,r:P,startAngle:-O*Math.PI/180,endAngle:-M*Math.PI/180,clockwise:O>=M})}}})}function CWt(e){var t={};X(e,function(r,a){var i=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=ixe(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/i.count(),f=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;t[l]=f;var h=axe(r);d[h]||f.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var p=St(r.get("barWidth"),c),v=St(r.get("barMaxWidth"),c),g=r.get("barGap"),m=r.get("barCategoryGap");p&&!d[h].width&&(p=Math.min(f.remainedWidth,p),d[h].width=p,f.remainedWidth-=p),v&&(d[h].maxWidth=v),g!=null&&(f.gap=g),m!=null&&(f.categoryGap=m)});var n={};return X(t,function(r,a){n[a]={};var i=r.stacks,o=r.bandWidth,s=St(r.categoryGap,o),l=St(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),X(i,function(v,g){var m=v.maxWidth;m&&m<f&&(m=Math.min(m,u),v.width&&(m=Math.min(m,v.width)),u-=m,v.width=m,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var d=0,h;X(i,function(v,g){v.width||(v.width=f),h=v,d+=v.width*(1+l)}),h&&(d-=h.width*l);var p=-d/2;X(i,function(v,g){n[a][g]=n[a][g]||{offset:p,width:v.width},p+=v.width*(1+l)})}),n}var TWt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},kWt={splitNumber:5},IWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="polar",t}(na);function EWt(e){kn(EC),c0.registerAxisPointerClass("PolarAxisPointer",rWt),e.registerCoordinateSystem("polar",pWt),e.registerComponentModel(oWt),e.registerComponentView(IWt),$y(e,"angle",sWt,TWt),$y(e,"radius",lWt,kWt),e.registerComponentView(gWt),e.registerComponentView(xWt),e.registerLayout(vn(SWt,"bar"))}function e4(e,t){t=t||{};var n=e.coordinateSystem,r=e.axis,a={},i=r.position,o=r.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[o==="vertical"?u.vertical[i]:l[0],o==="horizontal"?u.horizontal[i]:l[3]];var c={horizontal:0,vertical:1};a.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=f[i],e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Si(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var d=t.rotate;return d==null&&(d=e.get(["axisLabel","rotate"])),a.labelRotation=i==="top"?-d:d,a.z2=1,a}var AWt=["axisLine","axisTickLabel","axisName"],DWt=["splitArea","splitLine"],NWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return t.prototype.render=function(n,r,a,i){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new an;var l=e4(n),u=new Jo(n,l);X(AWt,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),X(DWt,function(c){n.get([c,"show"])&&RWt[c](this,this.group,this._axisGroup,n)},this),pC(s,this._axisGroup,n),e.prototype.render.call(this,n,r,a,i)},t.prototype.remove=function(){I1e(this)},t.type="singleAxis",t}(c0),RWt={splitLine:function(e,t,n,r){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),u=r.coordinateSystem.getRect(),c=a.isHorizontal(),f=[],d=0,h=a.getTicksCoords({tickModel:i}),p=[],v=[],g=0;g<h.length;++g){var m=a.toGlobalCoord(h[g].coord);c?(p[0]=m,p[1]=u.y,v[0]=m,v[1]=u.y+u.height):(p[0]=u.x,p[1]=m,v[0]=u.x+u.width,v[1]=m);var y=new ii({shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},silent:!0});Ay(y.shape,l);var b=d++%s.length;f[b]=f[b]||[],f[b].push(y)}for(var x=o.getLineStyle(["color"]),g=0;g<f.length;++g)t.add(Sl(f[g],{style:Xt({stroke:s[g%s.length]},x),silent:!0}))}},splitArea:function(e,t,n,r){k1e(e,n,r,r)}},Rk=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Rn);$a(Rk,bC.prototype);var MWt=function(e){Oe(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.pointToData=function(n,r){return this.coordinateSystem.pointToData(n)[0]},t}(ju),oxe=["single"],$Wt=function(){function e(t,n,r){this.type="single",this.dimension="single",this.dimensions=oxe,this.axisPointerEnabled=!0,this.model=t,this._init(t,n,r)}return e.prototype._init=function(t,n,r){var a=this.dimension,i=new MWt(a,QN(t),[0,0],t.get("type"),t.get("position")),o=i.type==="category";i.onBand=o&&t.get("boundaryGap"),i.inverse=t.get("inverse"),i.orient=t.get("orient"),t.axis=i,i.model=t,i.coordinateSystem=this,this._axis=i},e.prototype.update=function(t,n){t.eachSeries(function(r){if(r.coordinateSystem===this){var a=r.getData();X(a.mapDimensionsAll(this.dimension),function(i){this._axis.scale.unionExtentFromData(a,i)},this),Ry(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(t,n){this._rect=Ya({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var t=this._rect,n=this._axis,r=n.isHorizontal(),a=r?[0,t.width]:[0,t.height],i=n.inverse?1:0;n.setExtent(a[i],a[1-i]),this._updateAxisTransform(n,r?t.x:t.y)},e.prototype._updateAxisTransform=function(t,n){var r=t.getExtent(),a=r[0]+r[1],i=t.isHorizontal();t.toGlobalCoord=i?function(o){return o+n}:function(o){return a-o+n},t.toLocalCoord=i?function(o){return o-n}:function(o){return a-o+n}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(t){var n=this.getRect(),r=this.getAxis(),a=r.orient;return a==="horizontal"?r.contain(r.toLocalCoord(t[0]))&&t[1]>=n.y&&t[1]<=n.y+n.height:r.contain(r.toLocalCoord(t[1]))&&t[0]>=n.y&&t[0]<=n.y+n.height},e.prototype.pointToData=function(t){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(t[n.orient==="horizontal"?0:1]))]},e.prototype.dataToPoint=function(t){var n=this.getAxis(),r=this.getRect(),a=[],i=n.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),a[i]=n.toGlobalCoord(n.dataToCoord(+t)),a[1-i]=i===0?r.y+r.height/2:r.x+r.width/2,a},e.prototype.convertToPixel=function(t,n,r){var a=AQ(n);return a===this?this.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var a=AQ(n);return a===this?this.pointToData(r):null},e}();function AQ(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function LWt(e,t){var n=[];return e.eachComponent("singleAxis",function(r,a){var i=new $Wt(r,e,t);i.name="single_"+a,i.resize(r,t),r.coordinateSystem=i,n.push(i)}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var a=r.getReferringComponents("singleAxis",Da).models[0];r.coordinateSystem=a&&a.coordinateSystem}}),n}var OWt={create:LWt,dimensions:oxe},DQ=["x","y"],PWt=["width","height"],FWt=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,a,i,o){var s=a.axis,l=s.coordinateSystem,u=ML(l,1-zE(s)),c=l.dataToPoint(r)[0],f=i.get("type");if(f&&f!=="none"){var d=AW(i),h=BWt[f](s,c,u);h.style=d,n.graphicKey=h.type,n.pointer=h}var p=e4(a);Qbe(r,n,p,a,i,o)},t.prototype.getHandleTransform=function(n,r,a){var i=e4(r,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=DW(r.axis,n,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,a,i){var o=a.axis,s=o.coordinateSystem,l=zE(o),u=ML(s,l),c=[n.x,n.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=ML(s,1-l),d=(f[1]+f[0])/2,h=[d,d];return h[l]=c[l],{x:c[0],y:c[1],rotation:n.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},t}(EW),BWt={line:function(e,t,n){var r=NW([t,n[0]],[t,n[1]],zE(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=e.getBandWidth(),a=n[1]-n[0];return{type:"Rect",shape:exe([t-r/2,n[0]],[r,a],zE(e))}}};function zE(e){return e.isHorizontal()?0:1}function ML(e,t){var n=e.getRect();return[n[DQ[t]],n[DQ[t]]+n[PWt[t]]]}var VWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="single",t}(na);function zWt(e){kn(EC),c0.registerAxisPointerClass("SingleAxisPointer",FWt),e.registerComponentView(VWt),e.registerComponentView(NWt),e.registerComponentModel(Rk),$y(e,"single",Rk,Rk.defaultOption),e.registerCoordinateSystem("single",OWt)}var WWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r,a){var i=C1(n);e.prototype.init.apply(this,arguments),NQ(n,i)},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),NQ(this.option,n)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Rn);function NQ(e,t){var n=e.cellSize,r;st(n)?r=n:r=e.cellSize=[n,n],r.length===1&&(r[1]=r[0]);var a=ut([0,1],function(i){return u$t(t,i)&&(r[i]="auto"),r[i]!=null&&r[i]!=="auto"});Uh(e,t,{type:"box",ignoreSize:a})}var HWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=this.group;i.removeAll();var o=n.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(n,s,i),this._renderLines(n,s,l,i),this._renderYearText(n,s,l,i),this._renderMonthText(n,u,l,i),this._renderWeekText(n,u,s,l,i)},t.prototype._renderDayRect=function(n,r,a){for(var i=n.coordinateSystem,o=n.getModel("itemStyle").getItemStyle(),s=i.getCellWidth(),l=i.getCellHeight(),u=r.start.time;u<=r.end.time;u=i.getNextNDay(u,1).time){var c=i.dataToRect([u],!1).tl,f=new Bn({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});a.add(f)}},t.prototype._renderLines=function(n,r,a,i){var o=this,s=n.coordinateSystem,l=n.getModel(["splitLine","lineStyle"]).getLineStyle(),u=n.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=r.start,d=0;f.time<=r.end.time;d++){p(f.formatedDate),d===0&&(f=s.getDateInfo(r.start.y+"-"+r.start.m));var h=f.date;h.setMonth(h.getMonth()+1),f=s.getDateInfo(h)}p(s.getNextNDay(r.end.time,1).formatedDate);function p(v){o._firstDayOfMonth.push(s.getDateInfo(v)),o._firstDayPoints.push(s.dataToRect([v],!1).tl);var g=o._getLinePointsOfOneWeek(n,v,a);o._tlpoints.push(g[0]),o._blpoints.push(g[g.length-1]),u&&o._drawSplitline(g,l,i)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,a),l,i),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,a),l,i)},t.prototype._getEdgesPoints=function(n,r,a){var i=[n[0].slice(),n[n.length-1].slice()],o=a==="horizontal"?0:1;return i[0][o]=i[0][o]-r/2,i[1][o]=i[1][o]+r/2,i},t.prototype._drawSplitline=function(n,r,a){var i=new cs({z2:20,shape:{points:n},style:r});a.add(i)},t.prototype._getLinePointsOfOneWeek=function(n,r,a){for(var i=n.coordinateSystem,o=i.getDateInfo(r),s=[],l=0;l<7;l++){var u=i.getNextNDay(o.time,l),c=i.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[a==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(n,r){return Dt(n)&&n?o$t(n,r):Yt(n)?n(r):r.nameMap},t.prototype._yearTextPositionControl=function(n,r,a,i,o){var s=r[0],l=r[1],u=["center","bottom"];i==="bottom"?(l+=o,u=["center","top"]):i==="left"?s-=o:i==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(i==="left"||i==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(n,r,a,i){var o=n.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=a!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,d=a==="horizontal"?0:1,h={top:[c,u[d][1]],bottom:[c,u[1-d][1]],left:[u[1-d][0],f],right:[u[d][0],f]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var v=o.get("formatter"),g={start:r.start.y,end:r.end.y,nameMap:p},m=this._formatterLabel(v,g),y=new Un({z2:30,style:Fr(o,{text:m}),silent:o.get("silent")});y.attr(this._yearTextPositionControl(y,h[l],a,l,s)),i.add(y)}},t.prototype._monthTextPositionControl=function(n,r,a,i,o){var s="left",l="top",u=n[0],c=n[1];return a==="horizontal"?(c=c+o,r&&(s="center"),i==="start"&&(l="bottom")):(u=u+o,r&&(l="middle"),i==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(n,r,a,i){var o=n.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||Dt(s))&&(s&&(r=l3(s)||r),s=r.get(["time","monthAbbr"])||[]);var d=u==="start"?0:1,h=a==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",v=o.get("silent"),g=0;g<f[d].length-1;g++){var m=f[d][g].slice(),y=this._firstDayOfMonth[g];if(p){var b=this._firstDayPoints[g];m[h]=(b[h]+f[0][g+1][h])/2}var x=o.get("formatter"),_=s[+y.m-1],S={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:_},C=this._formatterLabel(x,S),k=new Un({z2:30,style:rt(Fr(o,{text:C}),this._monthTextPositionControl(m,p,a,u,l)),silent:v});i.add(k)}}},t.prototype._weekTextPositionControl=function(n,r,a,i,o){var s="center",l="middle",u=n[0],c=n[1],f=a==="start";return r==="horizontal"?(u=u+i+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+i+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(n,r,a,i,o){var s=n.getModel("dayLabel");if(s.get("show")){var l=n.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),d=l.getFirstDayOfWeek();if(!c||Dt(c)){c&&(r=l3(c)||r);var h=r.get(["time","dayOfWeekShort"]);c=h||ut(r.get(["time","dayOfWeekAbbr"]),function(S){return S[0]})}var p=l.getNextNDay(a.end.time,7-a.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];f=St(f,Math.min(v[1],v[0])),u==="start"&&(p=l.getNextNDay(a.start.time,-(7+a.fweek)).time,f=-f);for(var g=s.get("silent"),m=0;m<7;m++){var y=l.getNextNDay(p,m),b=l.dataToRect([y.time],!1).center,x=m;x=Math.abs((m+d)%7);var _=new Un({z2:30,style:rt(Fr(s,{text:c[x]}),this._weekTextPositionControl(b,i,u,f,v)),silent:g});o.add(_)}}},t.type="calendar",t}(na),$L=864e5,UWt=function(){function e(t,n,r){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(t){t=jc(t);var n=t.getFullYear(),r=t.getMonth()+1,a=r<10?"0"+r:""+r,i=t.getDate(),o=i<10?"0"+i:""+i,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:n+"",m:a,d:o,day:s,time:t.getTime(),formatedDate:n+"-"+a+"-"+o,date:t}},e.prototype.getNextNDay=function(t,n){return n=n||0,n===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+n),this.getDateInfo(t))},e.prototype.update=function(t,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,a=["width","height"],i=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];X([0,1],function(f){c(i,f)&&(o[a[f]]=i[f]*s[f])});var l={width:n.getWidth(),height:n.getHeight()},u=this._rect=Ya(o,l);X([0,1],function(f){c(i,f)||(i[f]=u[a[f]]/s[f])});function c(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=i[0],this._sh=i[1]},e.prototype.dataToPoint=function(t,n){st(t)&&(t=t[0]),n==null&&(n=!0);var r=this.getDateInfo(t),a=this._rangeInfo,i=r.formatedDate;if(n&&!(r.time>=a.start.time&&r.time<a.end.time+$L))return[NaN,NaN];var o=r.day,s=this._getRangeInfo([a.start.time,i]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},e.prototype.pointToData=function(t){var n=this.pointToDate(t);return n&&n.time},e.prototype.dataToRect=function(t,n){var r=this.dataToPoint(t,n);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},e.prototype.pointToDate=function(t){var n=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,n-1,a):this._getDateByWeeksAndDay(n,r-1,a)},e.prototype.convertToPixel=function(t,n,r){var a=RQ(n);return a===this?a.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var a=RQ(n);return a===this?a.pointToData(r):null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t=this._model.get("range"),n;if(st(t)&&t.length===1&&(t=t[0]),st(t))n=t;else{var r=t.toString();if(/^\d{4}$/.test(r)&&(n=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var a=this.getDateInfo(r),i=a.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);n=[a.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(n=[r,r])}if(!n)return t;var s=this._getRangeInfo(n);return s.start.time>s.end.time&&n.reverse(),n},e.prototype._getRangeInfo=function(t){var n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],r;n[0].time>n[1].time&&(r=!0,n.reverse());var a=Math.floor(n[1].time/$L)-Math.floor(n[0].time/$L)+1,i=new Date(n[0].time),o=i.getDate(),s=n[1].date.getDate();i.setDate(o+a-1);var l=i.getDate();if(l!==s)for(var u=i.getTime()-n[1].time>0?1:-1;(l=i.getDate())!==s&&(i.getTime()-n[1].time)*u>0;)a-=u,i.setDate(l-u);var c=Math.floor((a+n[0].day+6)/7),f=r?-c+1:c-1;return r&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:a,weeks:c,nthWeek:f,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(t,n,r){var a=this._getRangeInfo(r);if(t>a.weeks||t===0&&n<a.fweek||t===a.weeks&&n>a.lweek)return null;var i=(t-1)*7-a.fweek+n,o=new Date(a.start.time);return o.setDate(+a.start.d+i),this.getDateInfo(o)},e.create=function(t,n){var r=[];return t.eachComponent("calendar",function(a){var i=new e(a);r.push(i),a.coordinateSystem=i}),t.eachSeries(function(a){a.get("coordinateSystem")==="calendar"&&(a.coordinateSystem=r[a.get("calendarIndex")||0])}),r},e.dimensions=["time","value"],e}();function RQ(e){var t=e.calendarModel,n=e.seriesModel,r=t?t.coordinateSystem:n?n.coordinateSystem:null;return r}function GWt(e){e.registerComponentModel(WWt),e.registerComponentView(HWt),e.registerCoordinateSystem("calendar",UWt)}function KWt(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),t.parentId==null){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function MQ(e,t){var n;return X(t,function(r){e[r]!=null&&e[r]!=="auto"&&(n=!0)}),n}function jWt(e,t,n){var r=rt({},n),a=e[t],i=n.$action||"merge";i==="merge"?a?(mn(a,r,!0),Uh(a,r,{ignoreSize:!0}),J0e(n,a),bT(n,a),bT(n,a,"shape"),bT(n,a,"style"),bT(n,a,"extra"),n.clipPath=a.clipPath):e[t]=r:i==="replace"?e[t]=r:i==="remove"&&a&&(e[t]=null)}var sxe=["transition","enterFrom","leaveTo"],YWt=sxe.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function bT(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),!(!e||!t))for(var r=n?sxe:YWt,a=0;a<r.length;a++){var i=r[a];e[i]==null&&t[i]!=null&&(e[i]=t[i])}}function XWt(e,t){if(e&&(e.hv=t.hv=[MQ(t,["left","right"]),MQ(t,["top","bottom"])],e.type==="group")){var n=e,r=t;n.width==null&&(n.width=r.width=0),n.height==null&&(n.height=r.height=0)}}var qWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return t.prototype.mergeOption=function(n,r){var a=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,n,r),this.option.elements=a},t.prototype.optionUpdated=function(n,r){var a=this.option,i=(r?a:n).elements,o=a.elements=r?[]:a.elements,s=[];this._flatten(i,s,null);var l=Yge(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];X(l,function(c,f){var d=c.newOption;d&&(u.push(d),KWt(c,d),jWt(o,f,d),XWt(o[f],d))},this),a.elements=sr(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(n,r,a){X(n,function(i){if(i){a&&(i.parentOption=a),r.push(i);var o=i.children;o&&o.length&&this._flatten(o,r,i),delete i.children}},this)},t.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},t.type="graphic",t.defaultOption={elements:[]},t}(Rn),$Q={path:null,compoundPath:null,group:an,image:Ri,text:Un},ml=Vn(),ZWt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._elMap=Pt()},t.prototype.render=function(n,r,a){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,a)},t.prototype._updateElements=function(n){var r=n.useElOptionsToUpdate();if(r){var a=this._elMap,i=this.group,o=n.get("z"),s=n.get("zlevel");X(r,function(l){var u=Ha(l.id,null),c=u!=null?a.get(u):null,f=Ha(l.parentId,null),d=f!=null?a.get(f):i,h=l.type,p=l.style;h==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var v=l.textContent,g=l.textConfig;if(p&&zbe(p,h,!!g,!!v)){var m=Wbe(p,h,!0);!g&&m.textConfig&&(g=l.textConfig=m.textConfig),!v&&m.textContent&&(v=m.textContent)}var y=JWt(l),b=l.$action||"merge",x=b==="merge",_=b==="replace";if(x){var S=!c,C=c;S?C=LQ(u,d,l.type,a):(C&&(ml(C).isNew=!1),Kbe(C)),C&&(Dk(C,y,n,{isInit:S}),OQ(C,l,o,s))}else if(_){Mk(c,l,a,n);var k=LQ(u,d,l.type,a);k&&(Dk(k,y,n,{isInit:!0}),OQ(k,l,o,s))}else b==="remove"&&(Ube(c,l),Mk(c,l,a,n));var T=a.get(u);if(T&&v)if(x){var E=T.getTextContent();E?E.attr(v):T.setTextContent(new Un(v))}else _&&T.setTextContent(new Un(v));if(T){var I=l.clipPath;if(I){var A=I.type,N=void 0,S=!1;if(x){var L=T.getClipPath();S=!L||ml(L).type!==A,N=S?t4(A):L}else _&&(S=!0,N=t4(A));T.setClipPath(N),Dk(N,I,n,{isInit:S}),BE(N,I.keyframeAnimation,n)}var R=ml(T);T.setTextConfig(g),R.option=l,QWt(T,n,l),i0({el:T,componentModel:n,itemName:T.name,itemTooltipOption:l.tooltip}),BE(T,l.keyframeAnimation,n)}})}},t.prototype._relocate=function(n,r){for(var a=n.option.elements,i=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<a.length;c++){var f=a[c],d=Ha(f.id,null),h=d!=null?o.get(d):null;if(!(!h||!h.isGroup)){var p=h.parent,v=p===i,g=ml(h),m=ml(p);g.width=St(g.option.width,v?s:m.width)||0,g.height=St(g.option.height,v?l:m.height)||0}}for(var c=a.length-1;c>=0;c--){var f=a[c],d=Ha(f.id,null),h=d!=null?o.get(d):null;if(h){var p=h.parent,m=ml(p),y=p===i?{width:s,height:l}:{width:m.width,height:m.height},b={},x=UN(h,f,y,null,{hv:f.hv,boundingMode:f.bounding},b);if(!ml(h).isNew&&x){for(var _=f.transition,S={},C=0;C<u.length;C++){var k=u[C],T=b[k];_&&(Qv(_)||Cn(_,k)>=0)?S[k]=T:h[k]=T}Jn(h,S,n,0)}else h.attr(b)}}},t.prototype._clear=function(){var n=this,r=this._elMap;r.each(function(a){Mk(a,ml(a).option,r,n._lastGraphicModel)}),this._elMap=Pt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(na);function t4(e){var t=Mt($Q,e)?$Q[e]:d5(e),n=new t({});return ml(n).type=e,n}function LQ(e,t,n,r){var a=t4(n);return t.add(a),r.set(e,a),ml(a).id=e,ml(a).isNew=!0,a}function Mk(e,t,n,r){var a=e&&e.parent;a&&(e.type==="group"&&e.traverse(function(i){Mk(i,t,n,r)}),oR(e,t,r),n.removeKey(ml(e).id))}function OQ(e,t,n,r){e.isGroup||X([["cursor",zl.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],function(a){var i=a[0];Mt(t,i)?e[i]=fn(t[i],a[1]):e[i]==null&&(e[i]=a[1])}),X(Mn(t),function(a){if(a.indexOf("on")===0){var i=t[a];e[a]=Yt(i)?i:null}}),Mt(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function JWt(e){return e=rt({},e),X(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Z0e),function(t){delete e[t]}),e}function QWt(e,t,n){var r=sn(e).eventData;!e.silent&&!e.ignore&&!r&&(r=sn(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),r&&(r.info=n.info)}function eHt(e){e.registerComponentModel(qWt),e.registerComponentView(ZWt),e.registerPreprocessor(function(t){var n=t.graphic;st(n)?!n[0]||!n[0].elements?t.graphic=[{elements:n}]:t.graphic=[t.graphic[0]]:n&&!n.elements&&(t.graphic=[{elements:[n]}])})}var PQ=["x","y","radius","angle","single"],tHt=["cartesian2d","polar","singleAxis"];function nHt(e){var t=e.get("coordinateSystem");return Cn(tHt,t)>=0}function sh(e){return e+"Axis"}function rHt(e,t){var n=Pt(),r=[],a=Pt();e.eachComponent({mainType:"dataZoom",query:t},function(c){a.get(c.uid)||s(c)});var i;do i=!1,e.eachComponent("dataZoom",o);while(i);function o(c){!a.get(c.uid)&&l(c)&&(s(c),i=!0)}function s(c){a.set(c.uid,!0),r.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(d,h){var p=n.get(d);p&&p[h]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,d){(n.get(f)||n.set(f,[]))[d]=!0})}return r}function lxe(e){var t=e.ecModel,n={infoList:[],infoMap:Pt()};return e.eachTargetAxis(function(r,a){var i=t.getComponent(sh(r),a);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,l=n.infoMap.get(s);l||(l={model:o,axisModels:[]},n.infoList.push(l),n.infoMap.set(s,l)),l.axisModels.push(i)}}}),n}var LL=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),f_=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return t.prototype.init=function(n,r,a){var i=FQ(n);this.settledOption=i,this.mergeDefaultAndTheme(n,a),this._doInit(i)},t.prototype.mergeOption=function(n){var r=FQ(n);mn(this.option,n,!0),mn(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(n){var r=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var a=this.settledOption;X([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(r[i[0]]=a[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var n=this.get("orient",!0),r=this._targetAxisInfoMap=Pt(),a=this._fillSpecifiedTargetAxis(r);a?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(n){var r=!1;return X(PQ,function(a){var i=this.getReferringComponents(sh(a),XNt);if(i.specified){r=!0;var o=new LL;X(i.models,function(s){o.add(s.componentIndex)}),n.set(a,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(n,r){var a=this.ecModel,i=!0;if(i){var o=r==="vertical"?"y":"x",s=a.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=a.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var f=u[0];if(f){var d=new LL;if(d.add(f.componentIndex),n.set(c,d),i=!1,c==="x"||c==="y"){var h=f.getReferringComponents("grid",Da).models[0];h&&X(u,function(p){f.componentIndex!==p.componentIndex&&h===p.getReferringComponents("grid",Da).models[0]&&d.add(p.componentIndex)})}}}i&&X(PQ,function(u){if(i){var c=a.findComponents({mainType:sh(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var f=new LL;f.add(c[0].componentIndex),n.set(u,f),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(r){!n&&(n=r)},this),n==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(n){var r=this._rangePropMode,a=this.get("rangeMode");X([["start","startValue"],["end","endValue"]],function(i,o){var s=n[i[0]]!=null,l=n[i[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":a?r[o]=a[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(r,a){n==null&&(n=this.ecModel.getComponent(sh(r),a))},this),n},t.prototype.eachTargetAxis=function(n,r){this._targetAxisInfoMap.each(function(a,i){X(a.indexList,function(o){n.call(r,i,o)})})},t.prototype.getAxisProxy=function(n,r){var a=this.getAxisModel(n,r);if(a)return a.__dzAxisProxy},t.prototype.getAxisModel=function(n,r){var a=this._targetAxisInfoMap.get(n);if(a&&a.indexMap[r])return this.ecModel.getComponent(sh(n),r)},t.prototype.setRawRange=function(n){var r=this.option,a=this.settledOption;X([["start","startValue"],["end","endValue"]],function(i){(n[i[0]]!=null||n[i[1]]!=null)&&(r[i[0]]=a[i[0]]=n[i[0]],r[i[1]]=a[i[1]]=n[i[1]])},this),this._updateRangeUse(n)},t.prototype.setCalculatedRange=function(n){var r=this.option;X(["start","startValue","end","endValue"],function(a){r[a]=n[a]})},t.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},t.prototype.getValueRange=function(n,r){if(n==null&&r==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(n,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),i=0;i<a.length;i++)for(var o=a[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Rn);function FQ(e){var t={};return X(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var aHt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(f_),LW=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){this.dataZoomModel=n,this.ecModel=r,this.api=a},t.type="dataZoom",t}(na),iHt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(LW),um=X,BQ=Al,oHt=function(){function e(t,n,r,a){this._dimName=t,this._axisIndex=n,this.ecModel=a,this._dataZoomModel=r}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(nHt(n)){var r=sh(this._dimName),a=n.getReferringComponents(r,Da).models[0];a&&this._axisIndex===a.componentIndex&&t.push(n)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return en(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var n=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;um(["start","end"],function(d,h){var p=t[d],v=t[d+"Value"];i[h]==="percent"?(p==null&&(p=o[h]),v=a.parse(cr(p,o,n))):(u=!0,v=v==null?n[h]:a.parse(v),p=cr(v,n,o)),l[h]=v==null||isNaN(v)?n[h]:v,s[h]=p==null||isNaN(p)?o[h]:p}),BQ(l),BQ(s);var c=this._minMaxSpan;u?f(l,s,n,o,!1):f(s,l,o,n,!0);function f(d,h,p,v,g){var m=g?"Span":"ValueSpan";f0(0,d,p,"all",c["min"+m],c["max"+m]);for(var y=0;y<2;y++)h[y]=cr(d[y],p,v,!0),g&&(h[y]=a.parse(h[y]))}return{valueWindow:l,percentWindow:s}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=sHt(this,this._dimName,n),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;if(i==="none")return;um(a,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(i==="weakFilter"){var f=u.getStore(),d=ut(c,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var p,v,g,m=0;m<c.length;m++){var y=f.get(d[m],h),b=!isNaN(y),x=y<o[0],_=y>o[1];if(b&&!x&&!_)return!0;b&&(g=!0),x&&(p=!0),_&&(v=!0)}return g&&p&&v})}else um(c,function(h){if(i==="empty")l.setData(u=u.map(h,function(v){return s(v)?v:NaN}));else{var p={};p[h]=o,u.selectRange(p)}});um(c,function(h){u.setApproximateExtent(o,h)})}});function s(l){return l>=o[0]&&l<=o[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,r=this._dataExtent;um(["min","max"],function(a){var i=n.get(a+"Span"),o=n.get(a+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=cr(r[0]+o,r,[0,100],!0):i!=null&&(o=cr(i,[0,100],r,!0)-r[0]),t[a+"Span"]=i,t[a+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,r=this._valueWindow;if(n){var a=Vge(r,[0,500]);a=Math.min(a,20);var i=t.axis.scale.rawExtentInfo;n[0]!==0&&i.setDeterminedMinMax("min",+r[0].toFixed(a)),n[1]!==100&&i.setDeterminedMinMax("max",+r[1].toFixed(a)),i.freeze()}},e}();function sHt(e,t,n){var r=[1/0,-1/0];um(n,function(o){VPt(r,o.getData(),t)});var a=e.getAxisModel(),i=kye(a.axis.scale,a,r).calculate();return[i.min,i.max]}var lHt={getTargetSeries:function(e){function t(a){e.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=e.getComponent(sh(o),s);a(o,s,l,i)})})}t(function(a,i,o,s){o.__dzAxisProxy=null});var n=[];t(function(a,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new oHt(a,i,s,e),n.push(o.__dzAxisProxy))});var r=Pt();return X(n,function(a){X(a.getTargetSeriesModels(),function(i){r.set(i.uid,i)})}),r},overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,a){n.getAxisProxy(r,a).reset(n)}),n.eachTargetAxis(function(r,a){n.getAxisProxy(r,a).filterData(n,t)})}),e.eachComponent("dataZoom",function(n){var r=n.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),i=r.getDataValueWindow();n.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}})}};function uHt(e){e.registerAction("dataZoom",function(t,n){var r=rHt(n,t);X(r,function(a){a.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var VQ=!1;function OW(e){VQ||(VQ=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,lHt),uHt(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function cHt(e){e.registerComponentModel(aHt),e.registerComponentView(iHt),OW(e)}var wl=function(){function e(){}return e}(),uxe={};function cm(e,t){uxe[e]=t}function cxe(e){return uxe[e]}var fHt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;X(this.option.feature,function(r,a){var i=cxe(a);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(n)),mn(r,i.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Rn);function dHt(e,t,n){var r=t.getBoxLayoutParams(),a=t.get("padding"),i={width:n.getWidth(),height:n.getHeight()},o=Ya(r,i,a);Zv(t.get("orient"),e,t.get("itemGap"),o.width,o.height),UN(e,r,i,a)}function fxe(e,t){var n=S1(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new Bn({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),e}var hHt=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,a,i){var o=this.group;if(o.removeAll(),!n.get("show"))return;var s=+n.get("itemSize"),l=n.get("orient")==="vertical",u=n.get("feature")||{},c=this._features||(this._features={}),f=[];X(u,function(p,v){f.push(v)}),new ed(this._featureNames||[],f).add(d).update(d).remove(vn(d,null)).execute(),this._featureNames=f;function d(p,v){var g=f[p],m=f[v],y=u[g],b=new pr(y,n,n.ecModel),x;if(i&&i.newTitle!=null&&i.featureName===g&&(y.title=i.newTitle),g&&!m){if(pHt(g))x={onclick:b.option.onclick,featureName:g};else{var _=cxe(g);if(!_)return;x=new _}c[g]=x}else if(x=c[m],!x)return;x.uid=_1("toolbox-feature"),x.model=b,x.ecModel=r,x.api=a;var S=x instanceof wl;if(!g&&m){S&&x.dispose&&x.dispose(r,a);return}if(!b.get("show")||S&&x.unusable){S&&x.remove&&x.remove(r,a);return}h(b,x,g),b.setIconStatus=function(C,k){var T=this.option,E=this.iconPaths;T.iconStatus=T.iconStatus||{},T.iconStatus[C]=k,E[C]&&(k==="emphasis"?Jf:Qf)(E[C])},x instanceof wl&&x.render&&x.render(b,r,a,i)}function h(p,v,g){var m=p.getModel("iconStyle"),y=p.getModel(["emphasis","iconStyle"]),b=v instanceof wl&&v.getIcons?v.getIcons():p.get("icon"),x=p.get("title")||{},_,S;Dt(b)?(_={},_[g]=b):_=b,Dt(x)?(S={},S[g]=x):S=x;var C=p.iconPaths={};X(_,function(k,T){var E=vC(k,{},{x:-s/2,y:-s/2,width:s,height:s});E.setStyle(m.getItemStyle());var I=E.ensureState("emphasis");I.style=y.getItemStyle();var A=new Un({style:{text:S[T],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null,font:h5({fontStyle:y.get("textFontStyle"),fontFamily:y.get("textFontFamily"),fontSize:y.get("textFontSize"),fontWeight:y.get("textFontWeight")},r)},ignore:!0});E.setTextContent(A),i0({el:E,componentModel:n,itemName:T,formatterParamsExtra:{title:S[T]}}),E.__title=S[T],E.on("mouseover",function(){var N=y.getItemStyle(),L=l?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";A.setStyle({fill:y.get("textFill")||N.fill||N.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),E.setTextConfig({position:y.get("textPosition")||L}),A.ignore=!n.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",T])!=="emphasis"&&a.leaveEmphasis(this),A.hide()}),(p.get(["iconStatus",T])==="emphasis"?Jf:Qf)(E),o.add(E),E.on("click",Nt(v.onclick,v,r,a,T)),C[T]=E})}dHt(o,n,a),o.add(fxe(o.getBoundingRect(),n)),l||o.eachChild(function(p){var v=p.__title,g=p.ensureState("emphasis"),m=g.textConfig||(g.textConfig={}),y=p.getTextContent(),b=y&&y.ensureState("emphasis");if(b&&!Yt(b)&&v){var x=b.style||(b.style={}),_=lC(v,Un.makeFont(x)),S=p.x+o.x,C=p.y+o.y+s,k=!1;C+_.height>a.getHeight()&&(m.position="top",k=!0);var T=k?-5-_.height:s+10;S+_.width/2>a.getWidth()?(m.position=["100%",T],x.align="right"):S-_.width/2<0&&(m.position=[0,T],x.align="left")}})},t.prototype.updateView=function(n,r,a,i){X(this._features,function(o){o instanceof wl&&o.updateView&&o.updateView(o.model,r,a,i)})},t.prototype.remove=function(n,r){X(this._features,function(a){a instanceof wl&&a.remove&&a.remove(n,r)}),this.group.removeAll()},t.prototype.dispose=function(n,r){X(this._features,function(a){a instanceof wl&&a.dispose&&a.dispose(n,r)})},t.type="toolbox",t}(na);function pHt(e){return e.indexOf("my")===0}var vHt=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){var a=this.model,i=a.get("name")||n.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":a.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:a.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),u=Nn.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=i+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var d=l.split(","),h=d[0].indexOf("base64")>-1,p=o?decodeURIComponent(d[1]):d[1];h&&(p=window.atob(p));var v=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var g=p.length,m=new Uint8Array(g);g--;)m[g]=p.charCodeAt(g);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,v)}else{var b=document.createElement("iframe");document.body.appendChild(b);var x=b.contentWindow,_=x.document;_.open("image/svg+xml","replace"),_.write(p),_.close(),x.focus(),_.execCommand("SaveAs",!0,v),document.body.removeChild(b)}}else{var S=a.get("lang"),C='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',k=window.open();k.document.write(C),k.document.title=i}},t.getDefaultOption=function(n){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},t}(wl),zQ="__ec_magicType_stack__",gHt=[["line","bar"],["stack"]],mHt=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var n=this.model,r=n.get("icon"),a={};return X(n.get("type"),function(i){r[i]&&(a[i]=r[i])}),a},t.getDefaultOption=function(n){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},t.prototype.onclick=function(n,r,a){var i=this.model,o=i.get(["seriesIndex",a]);if(WQ[a]){var s={series:[]},l=function(f){var d=f.subType,h=f.id,p=WQ[a](d,h,f,i);p&&(Xt(p,f.option),s.series.push(p));var v=f.coordinateSystem;if(v&&v.type==="cartesian2d"&&(a==="line"||a==="bar")){var g=v.getAxesByScale("ordinal")[0];if(g){var m=g.dim,y=m+"Axis",b=f.getReferringComponents(y,Da).models[0],x=b.componentIndex;s[y]=s[y]||[];for(var _=0;_<=x;_++)s[y][x]=s[y][x]||{};s[y][x].boundaryGap=a==="bar"}}};X(gHt,function(f){Cn(f,a)>=0&&X(f,function(d){i.setIconStatus(d,"normal")})}),i.setIconStatus(a,"emphasis"),n.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=a;a==="stack"&&(u=mn({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",a])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t}(wl),WQ={line:function(e,t,n,r){if(e==="bar")return mn({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,t,n,r){if(e==="line")return mn({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,t,n,r){var a=n.get("stack")===zQ;if(e==="line"||e==="bar")return r.setIconStatus("stack",a?"normal":"emphasis"),mn({id:t,stack:a?"":zQ},r.get(["option","stack"])||{},!0)}};sf({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var sR=new Array(60).join("-"),Py="	";function yHt(e){var t={},n=[],r=[];return e.eachRawSeries(function(a){var i=a.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(a)}else n.push(a)}else n.push(a)}),{seriesGroupByCategoryAxis:t,other:n,meta:r}}function bHt(e){var t=[];return X(e,function(n,r){var a=n.categoryAxis,i=n.valueAxis,o=i.dim,s=[" "].concat(ut(n.series,function(h){return h.name})),l=[a.model.getCategories()];X(n.series,function(h){var p=h.getRawData();l.push(h.getRawData().mapArray(p.mapDimension(o),function(v){return v}))});for(var u=[s.join(Py)],c=0;c<l[0].length;c++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][c]);u.push(f.join(Py))}t.push(u.join(`
`))}),t.join(`

`+sR+`

`)}function xHt(e){return ut(e,function(t){var n=t.getRawData(),r=[t.name],a=[];return n.each(n.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=n.getName(o),l=0;l<i-1;l++)a[l]=arguments[l];r.push((s?s+Py:"")+a.join(Py))}),r.join(`
`)}).join(`

`+sR+`

`)}function wHt(e){var t=yHt(e);return{value:sr([bHt(t.seriesGroupByCategoryAxis),xHt(t.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+sR+`

`),meta:t.meta}}function WE(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function _Ht(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(Py)>=0)return!0}var n4=new RegExp("["+Py+"]+","g");function SHt(e){for(var t=e.split(/\n+/g),n=WE(t.shift()).split(n4),r=[],a=ut(n,function(l){return{name:l,data:[]}}),i=0;i<t.length;i++){var o=WE(t[i]).split(n4);r.push(o.shift());for(var s=0;s<o.length;s++)a[s]&&(a[s].data[i]=o[s])}return{series:a,categories:r}}function CHt(e){for(var t=e.split(/\n+/g),n=WE(t.shift()),r=[],a=0;a<t.length;a++){var i=WE(t[a]);if(i){var o=i.split(n4),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[a]={name:s,value:[]},l=r[a].value):l=r[a]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?r[a].value=l[0]:r[a]=l[0])}}return{name:n,data:r}}function THt(e,t){var n=e.split(new RegExp(`
*`+sR+`
*`,"g")),r={series:[]};return X(n,function(a,i){if(_Ht(a)){var o=SHt(a),s=t[i],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=CHt(a);r.series.push(o)}}),r}var kHt=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var a=r.getDom(),i=this.model;this._dom&&a.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=i.get("optionToContent"),d=i.get("contentToOption"),h=wHt(n);if(Yt(f)){var p=f(r.getOption());Dt(p)?u.innerHTML=p:Iy(p)&&u.appendChild(p)}else{c.readOnly=i.get("readOnly");var v=c.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=i.get("textColor"),v.borderColor=i.get("textareaBorderColor"),v.backgroundColor=i.get("textareaColor"),c.value=h.value,u.appendChild(c)}var g=h.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),x=document.createElement("div");y+=";background-color:"+i.get("buttonColor"),y+=";color:"+i.get("buttonTextColor");var _=this;function S(){a.removeChild(o),_._dom=null}$F(b,"click",S),$F(x,"click",function(){if(d==null&&f!=null||d!=null&&f==null){S();return}var C;try{Yt(d)?C=d(u,r.getOption()):C=THt(c.value,g)}catch(k){throw S(),new Error("Data view format error "+k)}C&&r.dispatchAction({type:"changeDataView",newOption:C}),S()}),b.innerHTML=l[1],x.innerHTML=l[2],x.style.cssText=b.style.cssText=y,!i.get("readOnly")&&m.appendChild(x),m.appendChild(b),o.appendChild(s),o.appendChild(u),o.appendChild(m),u.style.height=a.clientHeight-80+"px",a.appendChild(o),this._dom=o},t.prototype.remove=function(n,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(n,r){this.remove(n,r)},t.getDefaultOption=function(n){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},t}(wl);function IHt(e,t){return ut(e,function(n,r){var a=t&&t[r];if(Jt(a)&&!st(a)){var i=Jt(n)&&!st(n);i||(n={value:n});var o=a.name!=null&&n.name==null;return n=Xt(n,a),o&&delete n.name,n}else return n})}sf({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];X(e.newOption.series,function(r){var a=t.getSeriesByName(r.name)[0];if(!a)n.push(rt({type:"scatter"},r));else{var i=a.get("data");n.push({name:r.name,data:IHt(r.data,i)})}}),t.mergeOption(Xt({series:n},e.newOption))});var dxe=X,hxe=Vn();function EHt(e,t){var n=PW(e);dxe(t,function(r,a){for(var i=n.length-1;i>=0;i--){var o=n[i];if(o[a])break}if(i<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(s){var l=s.getPercentRange();n[0][a]={dataZoomId:a,start:l[0],end:l[1]}}}}),n.push(t)}function AHt(e){var t=PW(e),n=t[t.length-1];t.length>1&&t.pop();var r={};return dxe(n,function(a,i){for(var o=t.length-1;o>=0;o--)if(a=t[o][i],a){r[i]=a;break}}),r}function DHt(e){hxe(e).snapshots=null}function NHt(e){return PW(e).length}function PW(e){var t=hxe(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var RHt=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){DHt(n),r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(n){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return r},t}(wl);sf({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var MHt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],FW=function(){function e(t,n,r){var a=this;this._targetInfoList=[];var i=HQ(n,t);X($Ht,function(o,s){(!r||!r.include||Cn(r.include,s)>=0)&&o(i,a._targetInfoList)})}return e.prototype.setOutputRanges=function(t,n){return this.matchOutputRanges(t,n,function(r,a,i){if((r.coordRanges||(r.coordRanges=[])).push(a),!r.coordRange){r.coordRange=a;var o=OL[r.brushType](0,i,a);r.__rangeOffset={offset:jQ[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,n,r){X(t,function(a){var i=this.findTargetInfo(a,n);i&&i!==!0&&X(i.coordSyses,function(o){var s=OL[a.brushType](1,o,a.range,!0);r(a,s.values,o,n)})},this)},e.prototype.setInputRanges=function(t,n){X(t,function(r){var a=this.findTargetInfo(r,n);if(r.range=r.range||[],a&&a!==!0){r.panelId=a.panelId;var i=OL[r.brushType](0,a.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?jQ[r.brushType](i.values,o.offset,LHt(i.xyMinMax,o.xyMinMax)):i.values}},this)},e.prototype.makePanelOpts=function(t,n){return ut(this._targetInfoList,function(r){var a=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:n?n(r):null,clipPath:wbe(a),isTargetByCursor:Sbe(a,t,r.coordSysModel),getLinearBrushOtherExtent:_be(a)}})},e.prototype.controlSeries=function(t,n,r){var a=this.findTargetInfo(t,r);return a===!0||a&&Cn(a.coordSyses,n.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,n){for(var r=this._targetInfoList,a=HQ(n,t),i=0;i<r.length;i++){var o=r[i],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<UQ.length;l++)if(UQ[l](a,o))return o}return!0},e}();function r4(e){return e[0]>e[1]&&e.reverse(),e}function HQ(e,t){return Ix(e,t,{includeMainTypes:MHt})}var $Ht={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,a=e.gridModels,i=Pt(),o={},s={};!n&&!r&&!a||(X(n,function(l){var u=l.axis.grid.model;i.set(u.id,u),o[u.id]=!0}),X(r,function(l){var u=l.axis.grid.model;i.set(u.id,u),s[u.id]=!0}),X(a,function(l){i.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),i.each(function(l){var u=l.coordinateSystem,c=[];X(u.getCartesians(),function(f,d){(Cn(n,f.getAxis("x").model)>=0||Cn(r,f.getAxis("y").model)>=0)&&c.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:GQ.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(e,t){X(e.geoModels,function(n){var r=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:r,coordSyses:[r],getPanelRect:GQ.geo})})}},UQ=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,a=e.gridModel;return!a&&n&&(a=n.axis.grid.model),!a&&r&&(a=r.axis.grid.model),a&&a===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],GQ={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(qv(e)),t}},OL={lineX:vn(KQ,0),lineY:vn(KQ,1),rect:function(e,t,n,r){var a=e?t.pointToData([n[0][0],n[1][0]],r):t.dataToPoint([n[0][0],n[1][0]],r),i=e?t.pointToData([n[0][1],n[1][1]],r):t.dataToPoint([n[0][1],n[1][1]],r),o=[r4([a[0],i[0]]),r4([a[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n,r){var a=[[1/0,-1/0],[1/0,-1/0]],i=ut(n,function(o){var s=e?t.pointToData(o,r):t.dataToPoint(o,r);return a[0][0]=Math.min(a[0][0],s[0]),a[1][0]=Math.min(a[1][0],s[1]),a[0][1]=Math.max(a[0][1],s[0]),a[1][1]=Math.max(a[1][1],s[1]),s});return{values:i,xyMinMax:a}}};function KQ(e,t,n,r){var a=n.getAxis(["x","y"][e]),i=r4(ut([0,1],function(s){return t?a.coordToData(a.toLocalCoord(r[s]),!0):a.toGlobalCoord(a.dataToCoord(r[s]))})),o=[];return o[e]=i,o[1-e]=[NaN,NaN],{values:i,xyMinMax:o}}var jQ={lineX:vn(YQ,0),lineY:vn(YQ,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return ut(e,function(r,a){return[r[0]-n[0]*t[a][0],r[1]-n[1]*t[a][1]]})}};function YQ(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function LHt(e,t){var n=XQ(e),r=XQ(t),a=[n[0]/r[0],n[1]/r[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function XQ(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var a4=X,OHt=UNt("toolbox-dataZoom_"),PHt=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,a,i){this._brushController||(this._brushController=new fW(a.getZr()),this._brushController.on("brush",Nt(this._onBrush,this)).mount()),VHt(n,r,this,i,a),BHt(n,r)},t.prototype.onclick=function(n,r,a){FHt[a].call(this)},t.prototype.remove=function(n,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(n,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(n){var r=n.areas;if(!n.isEnd||!r.length)return;var a={},i=this.ecModel;this._brushController.updateCovers([]);var o=new FW(BW(this.model),i,{include:["grid"]});o.matchOutputRanges(r,i,function(u,c,f){if(f.type==="cartesian2d"){var d=u.brushType;d==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[d],f,c)}}),EHt(i,a),this._dispatchZoomAction(a);function s(u,c,f){var d=c.getAxis(u),h=d.model,p=l(u,h,i),v=p.findRepresentativeAxisProxy(h).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(f=f0(0,f.slice(),d.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),p&&(a[p.id]={dataZoomId:p.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var p=h.getAxisModel(u,c.componentIndex);p&&(d=h)}),d}},t.prototype._dispatchZoomAction=function(n){var r=[];a4(n,function(a,i){r.push(en(a))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(n){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},t}(wl),FHt={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(AHt(this.ecModel))}};function BW(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function BHt(e,t){e.setIconStatus("back",NHt(t)>1?"emphasis":"normal")}function VHt(e,t,n,r,a){var i=n._isZoomActive;r&&r.type==="takeGlobalCursor"&&(i=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),n._isZoomActive=i,e.setIconStatus("zoom",i?"emphasis":"normal");var o=new FW(BW(e),t,{include:["grid"]}),s=o.makePanelOpts(a,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}v$t("dataZoom",function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(!t||t.get(n)==null)return;var r=t.getModel(n),a=[],i=BW(r),o=Ix(e,i);a4(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),a4(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:OHt+u+f};d[c]=f,a.push(d)}return a});function zHt(e){e.registerComponentModel(fHt),e.registerComponentView(hHt),cm("saveAsImage",vHt),cm("magicType",mHt),cm("dataView",kHt),cm("dataZoom",PHt),cm("restore",RHt),kn(cHt)}var WHt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Rn);function pxe(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function vxe(e){if(Nn.domSupported){for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}}var gxe=vxe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),HHt=vxe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function mxe(e,t){if(!e)return t;t=X0e(t,!0);var n=e.indexOf(t);return e=n===-1?t:"-"+e.slice(0,n)+"-"+t,e.toLowerCase()}function UHt(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?n[t]:null}var GHt=mxe(HHt,"transition"),VW=mxe(gxe,"transform"),KHt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Nn.transform3dSupported?"will-change:transform;":"");function jHt(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function YHt(e,t,n){if(!Dt(n)||n==="inside")return"";var r=e.get("backgroundColor"),a=e.get("borderWidth");t=Rg(t);var i=jHt(n),o=Math.max(Math.round(a)*1.5,6),s="",l=VW+":",u;Cn(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+a,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*a)/2+Math.SQRT2*a-(d-f)/2)*100)/100;s+=";"+i+":-"+h+"px";var p=t+" solid "+a+"px;",v=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function XHt(e,t){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+n,a="opacity"+r+",visibility"+r;return t||(r=" "+e+"s "+n,a+=Nn.transformSupported?","+VW+r:",left"+r+",top"+r),GHt+":"+a}function qQ(e,t,n){var r=e.toFixed(0)+"px",a=t.toFixed(0)+"px";if(!Nn.transformSupported)return n?"top:"+a+";left:"+r+";":[["top",a],["left",r]];var i=Nn.transform3dSupported,o="translate"+(i?"3d":"")+"("+r+","+a+(i?",0":"")+")";return n?"top:0;left:0;"+VW+":"+o+";":[["top",0],["left",0],[gxe,o]]}function qHt(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont());var a=fn(e.get("lineHeight"),Math.round(n*3/2));n&&t.push("line-height:"+a+"px");var i=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return i&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+i),X(["decoration","align"],function(u){var c=e.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function ZHt(e,t,n){var r=[],a=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),f=Ame(e,"html"),d=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+d),t&&a&&r.push(XHt(a,n)),i&&r.push("background-color:"+i),X(["width","color","radius"],function(h){var p="border-"+h,v=X0e(p),g=e.get(v);g!=null&&r.push(p+":"+g+(h==="color"?"":"px"))}),r.push(qHt(c)),f!=null&&r.push("padding:"+S1(f).join("px ")+"px"),r.join(";")+";"}function ZQ(e,t,n,r,a){var i=t&&t.painter;if(n){var o=i&&i.getViewportRoot();o&&_Dt(e,o,n,r,a)}else{e[0]=r,e[1]=a;var s=i&&i.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var JHt=function(){function e(t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Nn.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var a=this._zr=t.getZr(),i=n.appendTo,o=i&&(Dt(i)?document.querySelector(i):Iy(i)?i:Yt(i)&&i(t.getDom()));ZQ(this._styleCoord,a,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(r),this._api=t,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,c=a.painter.getViewportRoot();hl(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var n=this._api.getDom(),r=UHt(n,"position"),a=n.style;a.position!=="absolute"&&r!=="absolute"&&(a.position="relative")}var i=t.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=t.get("className")||""},e.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,i=this._styleCoord;r.innerHTML?a.cssText=KHt+ZHt(t,!this._firstShow,this._longHide)+qQ(i[0],i[1],!0)+("border-color:"+Rg(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,n,r,a,i){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(Dt(i)&&r.get("trigger")==="item"&&!pxe(r)&&(s=YHt(r,a,i)),Dt(t))o.innerHTML=t+s;else if(t){o.innerHTML="",st(t)||(t=[t]);for(var l=0;l<t.length;l++)Iy(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,n){if(this.el){var r=this._styleCoord;if(ZQ(r,this._zr,this._container,t,n),r[0]!=null&&r[1]!=null){var a=this.el.style,i=qQ(r[0],r[1]);X(i,function(o){a[o[0]]=o[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",Nn.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Nt(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),QHt=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),QQ(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,n,r,a,i){var o=this;Jt(t)&&or(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new Un({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Ame(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),X(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),X(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),r=JQ(t.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},e.prototype.moveTo=function(t,n){var r=this.el;if(r){var a=this._styleCoord;QQ(a,this._zr,t,n),t=a[0],n=a[1];var i=r.style,o=Pd(i.borderWidth||0),s=JQ(i);r.x=t+o+s.left,r.y=n+o+s.top,r.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Nt(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Pd(e){return Math.max(0,e)}function JQ(e){var t=Pd(e.shadowBlur||0),n=Pd(e.shadowOffsetX||0),r=Pd(e.shadowOffsetY||0);return{left:Pd(t-n),right:Pd(t+n),top:Pd(t-r),bottom:Pd(t+r)}}function QQ(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var eUt=new Bn({shape:{x:-1,y:-1,width:2,height:2}}),tUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){if(!(Nn.node||!r.getDom())){var a=n.getComponent("tooltip"),i=this._renderMode=ZNt(a.get("renderMode"));this._tooltipContent=i==="richText"?new QHt(r):new JHt(r,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},t.prototype.render=function(n,r,a){if(!(Nn.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=a;var i=this._tooltipContent;i.update(n),i.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?I1(this,"_updatePosition",50,"fixRate"):Jw(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");txe("itemTooltip",this._api,Nt(function(a,i,o){r!=="none"&&(r.indexOf(a)>=0?this._tryShow(i,o):a==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,a=this._api,i=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(n,r,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,r,a,i){if(!(i.from===this.uid||Nn.node||!a.getDom())){var o=eee(i,a);this._ticket="";var s=i.dataByCoordSys,l=iUt(i,r,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=eUt;c.x=i.x,c.y=i.y,c.update(),sn(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,a,i))return;var f=nxe(i,r),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},o))}},t.prototype.manuallyHideTip=function(n,r,a,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(eee(i,a))},t.prototype._manuallyAxisShowTip=function(n,r,a,i){var o=i.seriesIndex,s=i.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var c=u.getData(),f=yb([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},t.prototype._tryShow=function(n,r){var a=n.target,i=this._tooltipModel;if(i){this._lastX=n.offsetX,this._lastY=n.offsetY;var o=n.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,n);else if(a){var s=sn(a);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Nv(a,function(c){if(sn(c).dataIndex!=null)return l=c,!0;if(sn(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(n,l,r):u?this._showComponentItemTooltip(n,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(n,r){var a=n.get("showDelay");r=Nt(r,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(r,a):r()},t.prototype._showAxisTooltip=function(n,r){var a=this._ecModel,i=this._tooltipModel,o=[r.offsetX,r.offsetY],s=yb([r.tooltipOption],i),l=this._renderMode,u=[],c=gi("section",{blocks:[],noHeader:!0}),f=[],d=new w$;X(n,function(y){X(y.dataByAxis,function(b){var x=a.getComponent(b.axisDim+"Axis",b.axisIndex),_=b.value;if(!(!x||_==null)){var S=Jbe(_,x.axis,a,b.seriesDataIndices,b.valueLabelOpt),C=gi("section",{header:S,noHeader:!xu(S),sortBlocks:!0,blocks:[]});c.blocks.push(C),X(b.seriesDataIndices,function(k){var T=a.getSeriesByIndex(k.seriesIndex),E=k.dataIndexInside,I=T.getDataParams(E);if(!(I.dataIndex<0)){I.axisDim=b.axisDim,I.axisIndex=b.axisIndex,I.axisType=b.axisType,I.axisId=b.axisId,I.axisValue=B5(x.axis,{value:_}),I.axisValueLabel=S,I.marker=d.makeTooltipMarker("item",Rg(I.color),l);var A=BX(T.formatTooltip(E,!0,null)),N=A.frag;if(N){var L=yb([T],i).get("valueFormatter");C.blocks.push(L?rt({valueFormatter:L},N):N)}A.text&&f.push(A.text),u.push(I)}})}})}),c.blocks.reverse(),f.reverse();var h=r.position,p=s.get("order"),v=GX(c,d,l,p,a.get("useUTC"),s.get("textStyle"));v&&f.unshift(v);var g=l==="richText"?`

`:"<br/>",m=f.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",o[0],o[1],h,null,d)})},t.prototype._showSeriesItemTooltip=function(n,r,a){var i=this._ecModel,o=sn(r),s=o.seriesIndex,l=i.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,d=u.getData(f),h=this._renderMode,p=n.positionDefault,v=yb([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=v.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(c,f),y=new w$;m.marker=y.makeTooltipMarker("item",Rg(m.color),h);var b=BX(u.formatTooltip(c,!1,f)),x=v.get("order"),_=v.get("valueFormatter"),S=b.frag,C=S?GX(_?rt({valueFormatter:_},S):S,y,h,x,i.get("useUTC"),v.get("textStyle")):b.text,k="item_"+u.name+"_"+c;this._showOrMove(v,function(){this._showTooltipContent(v,C,m,k,n.offsetX,n.offsetY,n.position,n.target,y)}),a({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,r,a){var i=this._renderMode==="html",o=sn(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(Dt(l)){var c=l;l={content:c,formatter:c},u=!0}u&&i&&l.content&&(l=en(l),l.content=Uo(l.content));var f=[l],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=n.positionDefault,p=yb(f,this._tooltipModel,h?{position:h}:null),v=p.get("content"),g=Math.random()+"",m=new w$;this._showOrMove(p,function(){var y=en(p.get("formatterParams")||{});this._showTooltipContent(p,v,y,g,n.offsetX,n.offsetY,n.position,r,m)}),a({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,r,a,i,o,s,l,u,c){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var f=this._tooltipContent;f.setEnterable(n.get("enterable"));var d=n.get("formatter");l=l||n.get("position");var h=r,p=this._getNearestPoint([o,s],a,n.get("trigger"),n.get("borderColor")),v=p.color;if(d)if(Dt(d)){var g=n.ecModel.get("useUTC"),m=st(a)?a[0]:a,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=d,y&&(h=BN(m.axisValue,h,g)),h=q0e(h,a,!0)}else if(Yt(d)){var b=Nt(function(x,_){x===this._ticket&&(f.setContent(_,c,n,v,l),this._updatePosition(n,l,o,s,f,a,u))},this);this._ticket=i,h=d(a,i,b)}else h=d;f.setContent(h,c,n,v,l),f.show(n,v),this._updatePosition(n,l,o,s,f,a,u)}},t.prototype._getNearestPoint=function(n,r,a,i){if(a==="axis"||st(r))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!st(r))return{color:i||r.color||r.borderColor}},t.prototype._updatePosition=function(n,r,a,i,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||n.get("position");var f=o.getSize(),d=n.get("align"),h=n.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Yt(r)&&(r=r([a,i],s,o.el,p,{viewSize:[u,c],contentSize:f.slice()})),st(r))a=St(r[0],u),i=St(r[1],c);else if(Jt(r)){var v=r;v.width=f[0],v.height=f[1];var g=Ya(v,{width:u,height:c});a=g.x,i=g.y,d=null,h=null}else if(Dt(r)&&l){var m=aUt(r,p,f,n.get("borderWidth"));a=m[0],i=m[1]}else{var m=nUt(a,i,o,u,c,d?null:20,h?null:20);a=m[0],i=m[1]}if(d&&(a-=tee(d)?f[0]/2:d==="right"?f[0]:0),h&&(i-=tee(h)?f[1]/2:h==="bottom"?f[1]:0),pxe(n)){var m=rUt(a,i,o,u,c);a=m[0],i=m[1]}o.moveTo(a,i)},t.prototype._updateContentNotChangedOnAxis=function(n,r){var a=this._lastDataByCoordSys,i=this._cbParamsList,o=!!a&&a.length===n.length;return o&&X(a,function(s,l){var u=s.dataByAxis||[],c=n[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&X(u,function(d,h){var p=f[h]||{},v=d.seriesDataIndices||[],g=p.seriesDataIndices||[];o=o&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&v.length===g.length,o&&X(v,function(m,y){var b=g[y];o=o&&m.seriesIndex===b.seriesIndex&&m.dataIndex===b.dataIndex}),i&&X(d.seriesDataIndices,function(m){var y=m.seriesIndex,b=r[y],x=i[y];b&&x&&x.data!==b.data&&(o=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!o},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,r){Nn.node||!r.getDom()||(Jw(this,"_updatePosition"),this._tooltipContent.dispose(),Q3("itemTooltip",r))},t.type="tooltip",t}(na);function yb(e,t,n){var r=t.ecModel,a;n?(a=new pr(n,r,r),a=new pr(t.option,a,r)):a=t;for(var i=e.length-1;i>=0;i--){var o=e[i];o&&(o instanceof pr&&(o=o.get("tooltip",!0)),Dt(o)&&(o={formatter:o}),o&&(a=new pr(o,a,r)))}return a}function eee(e,t){return e.dispatchAction||Nt(t.dispatchAction,t)}function nUt(e,t,n,r,a,i,o){var s=n.getSize(),l=s[0],u=s[1];return i!=null&&(e+l+i+2>r?e-=l+i:e+=i),o!=null&&(t+u+o>a?t-=u+o:t+=o),[e,t]}function rUt(e,t,n,r,a){var i=n.getSize(),o=i[0],s=i[1];return e=Math.min(e+o,r)-o,t=Math.min(t+s,a)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function aUt(e,t,n,r){var a=n[0],i=n[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-a/2,l=t.y+c/2-i/2;break;case"top":s=t.x+u/2-a/2,l=t.y-i-o;break;case"bottom":s=t.x+u/2-a/2,l=t.y+c+o;break;case"left":s=t.x-a-o,l=t.y+c/2-i/2;break;case"right":s=t.x+u+o,l=t.y+c/2-i/2}return[s,l]}function tee(e){return e==="center"||e==="middle"}function iUt(e,t,n){var r=e5(e).queryOptionMap,a=r.keys()[0];if(!(!a||a==="series")){var i=uC(t,a,r.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=n.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=sn(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}}function oUt(e){kn(EC),e.registerComponentModel(WHt),e.registerComponentView(tUt),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ba),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ba)}var sUt=["rect","polygon","keep","clear"];function lUt(e,t){var n=Ir(e?e.brush:[]);if(n.length){var r=[];X(n,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var a=e&&e.toolbox;st(a)&&(a=a[0]),a||(a={feature:{}},e.toolbox=[a]);var i=a.feature||(a.feature={}),o=i.brush||(i.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),uUt(s),t&&!s.length&&s.push.apply(s,sUt)}}function uUt(e){var t={};X(e,function(n){t[n]=1}),e.length=0,X(t,function(n,r){e.push(r)})}var nee=X;function ree(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function i4(e,t,n){var r={};return nee(t,function(i){var o=r[i]=a();nee(e[i],function(s,l){if(ci.isValidType(l)){var u={type:l,visual:s};n&&n(u,i),o[l]=new ci(u),l==="opacity"&&(u=en(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new ci(u))}})}),r;function a(){var i=function(){};i.prototype.__hidden=i.prototype;var o=new i;return o}}function yxe(e,t,n){var r;X(n,function(a){t.hasOwnProperty(a)&&ree(t[a])&&(r=!0)}),r&&X(n,function(a){t.hasOwnProperty(a)&&ree(t[a])?e[a]=en(t[a]):delete e[a]})}function cUt(e,t,n,r,a,i){var o={};X(e,function(f){var d=ci.prepareVisualTypes(t[f]);o[f]=d});var s;function l(f){return A5(n,s,f)}function u(f,d){Bme(n,s,f,d)}n.each(c);function c(f,d){s=f;var h=n.getRawDataItem(s);if(!(h&&h.visualMap===!1))for(var p=r.call(a,f),v=t[p],g=o[p],m=0,y=g.length;m<y;m++){var b=g[m];v[b]&&v[b].applyVisual(f,l,u)}}}function fUt(e,t,n,r){var a={};return X(e,function(i){var o=ci.prepareVisualTypes(t[i]);a[i]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(_){return A5(s,f,_)}function c(_,S){Bme(s,f,_,S)}for(var f,d=s.getStore();(f=o.next())!=null;){var h=s.getRawDataItem(f);if(!(h&&h.visualMap===!1))for(var p=r!=null?d.get(l,f):f,v=n(p),g=t[v],m=a[v],y=0,b=m.length;y<b;y++){var x=m[y];g[x]&&g[x].applyVisual(p,u,c)}}}}}function dUt(e){var t=e.brushType,n={point:function(r){return aee[t].point(r,n,e)},rect:function(r){return aee[t].rect(r,n,e)}};return n}var aee={lineX:iee(0),lineY:iee(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&hv(n.range,e[0],e[1])},rect:function(e,t,n){var r=n.range;if(!e||r.length<=1)return!1;var a=e.x,i=e.y,o=e.width,s=e.height,l=r[0];if(hv(r,a,i)||hv(r,a+o,i)||hv(r,a,i+s)||hv(r,a+o,i+s)||xn.create(e).contain(l[0],l[1])||zb(a,i,a+o,i,r)||zb(a,i,a,i+s,r)||zb(a+o,i,a+o,i+s,r)||zb(a,i+s,a+o,i+s,r))return!0}}};function iee(e){var t=["x","y"],n=["width","height"];return{point:function(r,a,i){if(r){var o=i.range,s=r[e];return bb(s,o)}},rect:function(r,a,i){if(r){var o=i.range,s=[r[t[e]],r[t[e]]+r[n[e]]];return s[1]<s[0]&&s.reverse(),bb(s[0],o)||bb(s[1],o)||bb(o[0],s)||bb(o[1],s)}}}}function bb(e,t){return t[0]<=e&&e<=t[1]}var oee=["inBrush","outOfBrush"],PL="__ecBrushSelect",o4="__ecInBrushSelectEvent";function bxe(e){e.eachComponent({mainType:"brush"},function(t){var n=t.brushTargetManager=new FW(t.option,e);n.setInputRanges(t.areas,e)})}function hUt(e,t,n){var r=[],a,i;e.eachComponent({mainType:"brush"},function(o){n&&n.type==="takeGlobalCursor"&&o.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1})}),bxe(e),e.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:en(o.areas),selected:[]};r.push(l);var u=o.option,c=u.brushLink,f=[],d=[],h=[],p=!1;s||(a=u.throttleType,i=u.throttleDelay);var v=ut(o.areas,function(_){var S=mUt[_.brushType],C=Xt({boundingRect:S?S(_):void 0},_);return C.selectors=dUt(C),C}),g=i4(o.option,oee,function(_){_.mappingMethod="fixed"});st(c)&&X(c,function(_){f[_]=1});function m(_){return c==="all"||!!f[_]}function y(_){return!!_.length}e.eachSeries(function(_,S){var C=h[S]=[];_.subType==="parallel"?b(_,S):x(_,S,C)});function b(_,S){var C=_.coordinateSystem;p=p||C.hasAxisBrushed(),m(S)&&C.eachActiveState(_.getData(),function(k,T){k==="active"&&(d[T]=1)})}function x(_,S,C){if(!(!_.brushSelector||gUt(o,S))&&(X(v,function(T){o.brushTargetManager.controlSeries(T,_,e)&&C.push(T),p=p||y(C)}),m(S)&&y(C))){var k=_.getData();k.each(function(T){see(_,C,k,T)&&(d[T]=1)})}}e.eachSeries(function(_,S){var C={seriesId:_.id,seriesIndex:S,seriesName:_.name,dataIndex:[]};l.selected.push(C);var k=h[S],T=_.getData(),E=m(S)?function(I){return d[I]?(C.dataIndex.push(T.getRawIndex(I)),"inBrush"):"outOfBrush"}:function(I){return see(_,k,T,I)?(C.dataIndex.push(T.getRawIndex(I)),"inBrush"):"outOfBrush"};(m(S)?p:y(k))&&cUt(oee,g,T,E)})}),pUt(t,a,i,r,n)}function pUt(e,t,n,r,a){if(a){var i=e.getZr();if(!i[o4]){i[PL]||(i[PL]=vUt);var o=I1(i,PL,n,t);o(e,r)}}}function vUt(e,t){if(!e.isDisposed()){var n=e.getZr();n[o4]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[o4]=!1}}function see(e,t,n,r){for(var a=0,i=t.length;a<i;a++){var o=t[a];if(e.brushSelector(r,n,o.selectors,o))return!0}}function gUt(e,t){var n=e.option.seriesIndex;return n!=null&&n!=="all"&&(st(n)?Cn(n,t)<0:t!==n)}var mUt={rect:function(e){return lee(e.range)},polygon:function(e){for(var t,n=e.range,r=0,a=n.length;r<a;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var i=n[r];i[0]<t[0][0]&&(t[0][0]=i[0]),i[0]>t[0][1]&&(t[0][1]=i[0]),i[1]<t[1][0]&&(t[1][0]=i[1]),i[1]>t[1][1]&&(t[1][1]=i[1])}return t&&lee(t)}};function lee(e){return new xn(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var yUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){this.ecModel=n,this.api=r,this.model,(this._brushController=new fW(r.getZr())).on("brush",Nt(this._onBrush,this)).mount()},t.prototype.render=function(n,r,a,i){this.model=n,this._updateController(n,r,a,i)},t.prototype.updateTransform=function(n,r,a,i){bxe(r),this._updateController(n,r,a,i)},t.prototype.updateVisual=function(n,r,a,i){this.updateTransform(n,r,a,i)},t.prototype.updateView=function(n,r,a,i){this._updateController(n,r,a,i)},t.prototype._updateController=function(n,r,a,i){(!i||i.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(a)).enableBrush(n.brushOption).updateCovers(n.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(n){var r=this.model.id,a=this.model.brushTargetManager.setOutputRanges(n.areas,this.ecModel);(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:en(a),$from:r}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:en(a),$from:r})},t.type="brush",t}(na),bUt="#ddd",xUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return t.prototype.optionUpdated=function(n,r){var a=this.option;!r&&yxe(a,n,["inBrush","outOfBrush"]);var i=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:bUt},i.hasOwnProperty("liftZ")||(i.liftZ=5)},t.prototype.setAreas=function(n){n&&(this.areas=ut(n,function(r){return uee(this.option,r)},this))},t.prototype.setBrushOption=function(n){this.brushOption=uee(this.option,n),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Rn);function uee(e,t){return mn({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new pr(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var wUt=["rect","polygon","lineX","lineY","keep","clear"],_Ut=function(e){Oe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,a){var i,o,s;r.eachComponent({mainType:"brush"},function(l){i=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=i,this._brushMode=o,X(n.get("type",!0),function(l){n.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===i)?"emphasis":"normal")})},t.prototype.updateView=function(n,r,a){this.render(n,r,a)},t.prototype.getIcons=function(){var n=this.model,r=n.get("icon",!0),a={};return X(n.get("type",!0),function(i){r[i]&&(a[i]=r[i])}),a},t.prototype.onclick=function(n,r,a){var i=this._brushType,o=this._brushMode;a==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:a==="keep"?i:i===a?!1:a,brushMode:a==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(n){var r={show:!0,type:wUt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.getLocaleModel().get(["toolbox","brush","title"])};return r},t}(wl);function SUt(e){e.registerComponentView(yUt),e.registerComponentModel(xUt),e.registerPreprocessor(lUt),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,hUt),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,n){n.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ba),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ba),cm("brush",_Ut)}var CUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Rn),TUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){if(this.group.removeAll(),!!n.get("show")){var i=this.group,o=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),u=fn(n.get("textBaseline"),n.get("textVerticalAlign")),c=new Un({style:Fr(o,{text:n.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=n.get("subtext"),h=new Un({style:Fr(s,{text:d,fill:s.getTextColor(),y:f.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=n.get("link"),v=n.get("sublink"),g=n.get("triggerEvent",!0);c.silent=!p&&!g,h.silent=!v&&!g,p&&c.on("click",function(){yE(p,"_"+n.get("target"))}),v&&h.on("click",function(){yE(v,"_"+n.get("subtarget"))}),sn(c).eventData=sn(h).eventData=g?{componentType:"title",componentIndex:n.componentIndex}:null,i.add(c),d&&i.add(h);var m=i.getBoundingRect(),y=n.getBoxLayoutParams();y.width=m.width,y.height=m.height;var b=Ya(y,{width:a.getWidth(),height:a.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=n.get("top")||n.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),i.x=b.x,i.y=b.y,i.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),h.setStyle(x),m=i.getBoundingRect();var _=b.margin,S=n.getItemStyle(["color","opacity"]);S.fill=n.get("backgroundColor");var C=new Bn({shape:{x:m.x-_[3],y:m.y-_[0],width:m.width+_[1]+_[3],height:m.height+_[0]+_[2],r:n.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});i.add(C)}},t.type="title",t}(na);function kUt(e){e.registerComponentModel(CUt),e.registerComponentView(TUt)}var cee=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a),this._initData()},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(n){n==null&&(n=this.option.currentIndex);var r=this._data.count();this.option.loop?n=(n%r+r)%r:(n>=r&&(n=r-1),n<0&&(n=0)),this.option.currentIndex=n},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(n){this.option.autoPlay=!!n},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var n=this.option,r=n.data||[],a=n.axisType,i=this._names=[],o;a==="category"?(o=[],X(r,function(u,c){var f=Ha(y1(u),""),d;Jt(u)?(d=en(u),d.value=c):d=c,o.push(d),i.push(f)})):o=r;var s={category:"ordinal",time:"time",value:"number"}[a]||"number",l=this._data=new Zo([{name:"value",type:s}],this);l.initData(o,i)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Rn),xxe=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline.slider",t.defaultOption=mp(cee.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(cee);$a(xxe,KN.prototype);var IUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline",t}(na),EUt=function(e){Oe(t,e);function t(n,r,a,i){var o=e.call(this,n,r,a)||this;return o.type=i||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(ju),FL=Math.PI,fee=Vn(),AUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){this.api=r},t.prototype.render=function(n,r,a){if(this.model=n,this.api=a,this.ecModel=r,this.group.removeAll(),n.get("show",!0)){var i=this._layout(n,a),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(i,n);n.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return gi("nameValue",{noName:!0,value:c})},X(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](i,o,l,n)},this),this._renderAxisLabel(i,s,l,n),this._position(i,n)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(n,r){var a=n.get(["label","position"]),i=n.get("orient"),o=NUt(n,r),s;a==null||a==="auto"?s=i==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":Dt(a)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][a]:s=a;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:FL/2},f=i==="vertical"?o.height:o.width,d=n.getModel("controlStyle"),h=d.get("show",!0),p=h?d.get("itemSize"):0,v=h?d.get("itemGap"):0,g=p+v,m=n.get(["label","rotate"])||0;m=m*FL/180;var y,b,x,_=d.get("position",!0),S=h&&d.get("showPlayBtn",!0),C=h&&d.get("showPrevBtn",!0),k=h&&d.get("showNextBtn",!0),T=0,E=f;_==="left"||_==="bottom"?(S&&(y=[0,0],T+=g),C&&(b=[T,0],T+=g),k&&(x=[E-p,0],E-=g)):(S&&(y=[E-p,0],E-=g),C&&(b=[0,0],T+=g),k&&(x=[E-p,0],E-=g));var I=[T,E];return n.get("inverse")&&I.reverse(),{viewRect:o,mainLength:f,orient:i,rotation:c[i],labelRotation:m,labelPosOpt:s,labelAlign:n.get(["label","align"])||l[i],labelBaseline:n.get(["label","verticalAlign"])||n.get(["label","baseline"])||u[i],playPosition:y,prevBtnPosition:b,nextBtnPosition:x,axisExtent:I,controlSize:p,controlGap:v}},t.prototype._position=function(n,r){var a=this._mainGroup,i=this._labelGroup,o=n.viewRect;if(n.orient==="vertical"){var s=Ks(),l=o.x,u=o.y+o.height;Gc(s,s,[-l,-u]),a0(s,s,-FL/2),Gc(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=y(o),f=y(a.getBoundingRect()),d=y(i.getBoundingRect()),h=[a.x,a.y],p=[i.x,i.y];p[0]=h[0]=c[0][0];var v=n.labelPosOpt;if(v==null||Dt(v)){var g=v==="+"?0:1;b(h,f,c,1,g),b(p,d,c,1,1-g)}else{var g=v>=0?0:1;b(h,f,c,1,g),p[1]=h[1]+v}a.setPosition(h),i.setPosition(p),a.rotation=i.rotation=n.rotation,m(a),m(i);function m(x){x.originX=c[0][0]-x.x,x.originY=c[1][0]-x.y}function y(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function b(x,_,S,C,k){x[C]+=S[C][k]-_[C][k]}},t.prototype._createAxis=function(n,r){var a=r.getData(),i=r.get("axisType"),o=DUt(r,i);o.getTicks=function(){return a.mapArray(["value"],function(u){return{value:u}})};var s=a.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new EUt("value",o,n.axisExtent,i);return l.model=r,l},t.prototype._createGroup=function(n){var r=this[n]=new an;return this.group.add(r),r},t.prototype._renderAxisLine=function(n,r,a,i){var o=a.getExtent();if(i.get(["lineStyle","show"])){var s=new ii({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:rt({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new ii({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Xt({lineCap:"round",lineWidth:s.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},t.prototype._renderAxisTick=function(n,r,a,i){var o=this,s=i.getData(),l=a.scale.getTicks();this._tickSymbols=[],X(l,function(u){var c=a.dataToCoord(u.value),f=s.getItemModel(u.value),d=f.getModel("itemStyle"),h=f.getModel(["emphasis","itemStyle"]),p=f.getModel(["progress","itemStyle"]),v={x:c,y:0,onclick:Nt(o._changeTimeline,o,u.value)},g=dee(f,d,r,v);g.ensureState("emphasis").style=h.getItemStyle(),g.ensureState("progress").style=p.getItemStyle(),Xv(g);var m=sn(g);f.get("tooltip")?(m.dataIndex=u.value,m.dataModel=i):m.dataIndex=m.dataModel=null,o._tickSymbols.push(g)})},t.prototype._renderAxisLabel=function(n,r,a,i){var o=this,s=a.getLabelModel();if(s.get("show")){var l=i.getData(),u=a.getViewLabels();this._tickLabels=[],X(u,function(c){var f=c.tickValue,d=l.getItemModel(f),h=d.getModel("label"),p=d.getModel(["emphasis","label"]),v=d.getModel(["progress","label"]),g=a.dataToCoord(c.tickValue),m=new Un({x:g,y:0,rotation:n.labelRotation-n.rotation,onclick:Nt(o._changeTimeline,o,f),silent:!1,style:Fr(h,{text:c.formattedLabel,align:n.labelAlign,verticalAlign:n.labelBaseline})});m.ensureState("emphasis").style=Fr(p),m.ensureState("progress").style=Fr(v),r.add(m),Xv(m),fee(m).dataIndex=f,o._tickLabels.push(m)})}},t.prototype._renderControl=function(n,r,a,i){var o=n.controlSize,s=n.rotation,l=i.getModel("controlStyle").getItemStyle(),u=i.getModel(["emphasis","controlStyle"]).getItemStyle(),c=i.getPlayState(),f=i.get("inverse",!0);d(n.nextBtnPosition,"next",Nt(this._changeTimeline,this,f?"-":"+")),d(n.prevBtnPosition,"prev",Nt(this._changeTimeline,this,f?"+":"-")),d(n.playPosition,c?"stop":"play",Nt(this._handlePlayClick,this,!c),!0);function d(h,p,v,g){if(h){var m=Bu(fn(i.get(["controlStyle",p+"BtnSize"]),o),o),y=[0,-m/2,m,m],b=RUt(i,p+"Icon",y,{x:h[0],y:h[1],originX:o/2,originY:0,rotation:g?-s:0,rectHover:!0,style:l,onclick:v});b.ensureState("emphasis").style=u,r.add(b),Xv(b)}}},t.prototype._renderCurrentPointer=function(n,r,a,i){var o=i.getData(),s=i.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Nt(u._handlePointerDrag,u),f.ondragend=Nt(u._handlePointerDragend,u),hee(f,u._progressLine,s,a,i,!0)},onUpdate:function(f){hee(f,u._progressLine,s,a,i)}};this._currentPointer=dee(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(n){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},t.prototype._handlePointerDrag=function(n,r,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},t.prototype._handlePointerDragend=function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},t.prototype._pointerChangeTimeline=function(n,r){var a=this._toAxisCoord(n)[0],i=this._axis,o=Al(i.getExtent().slice());a>o[1]&&(a=o[1]),a<o[0]&&(a=o[0]),this._currentPointer.x=a,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=a,s.dirty());var l=this._findNearestTick(a),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var n=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=n.model;n._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(n){var r=this._mainGroup.getLocalTransform();return Au(n,r,!0)},t.prototype._findNearestTick=function(n){var r=this.model.getData(),a=1/0,i,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-n);c<a&&(a=c,i=l)}),i},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(n){var r=this.model.getCurrentIndex();n==="+"?n=r+1:n==="-"&&(n=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})},t.prototype._updateTicksStatus=function(){var n=this.model.getCurrentIndex(),r=this._tickSymbols,a=this._tickLabels;if(r)for(var i=0;i<r.length;i++)r&&r[i]&&r[i].toggleState("progress",i<n);if(a)for(var i=0;i<a.length;i++)a&&a[i]&&a[i].toggleState("progress",fee(a[i]).dataIndex<=n)},t.type="timeline.slider",t}(IUt);function DUt(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new JN({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new P5({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new td}}function NUt(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function RUt(e,t,n,r){var a=r.style,i=vC(e.get(["controlStyle",t]),r,new xn(n[0],n[1],n[2],n[3]));return a&&i.setStyle(a),i}function dee(e,t,n,r,a,i){var o=t.get("color");if(a)a.setColor(o),n.add(a),i&&i.onUpdate(a);else{var s=e.get("symbol");a=Ma(s,-1,-1,2,2,o),a.setStyle("strokeNoScale",!0),n.add(a),i&&i.onCreate(a)}var l=t.getItemStyle(["color"]);a.setStyle(l),r=mn({rectHover:!0,z2:100},r,!0);var u=E1(e.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=s0(e.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var f=e.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,a.attr(r),a.updateTransform(),a}function hee(e,t,n,r,a,i){if(!e.dragging){var o=a.getModel("checkpointStyle"),s=r.dataToCoord(a.getData().get("value",n));if(i||!o.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function MUt(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,n,r){var a=n.getComponent("timeline");return a&&t.currentIndex!=null&&(a.setCurrentIndex(t.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),n.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),Xt({currentIndex:a.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,n){var r=n.getComponent("timeline");r&&t.playState!=null&&r.setPlayState(t.playState)})}function $Ut(e){var t=e&&e.timeline;st(t)||(t=t?[t]:[]),X(t,function(n){n&&LUt(n)})}function LUt(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),pee(e),gv(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});gv(r,"position")||(r.position=e.controlPosition),r.position==="none"&&!gv(r,"show")&&(r.show=!1,delete r.position),delete e.controlPosition}X(e.data||[],function(a){Jt(a)&&!st(a)&&(!gv(a,"value")&&gv(a,"name")&&(a.value=a.name),pee(a))})}function pee(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},a=r.normal||(r.normal={}),i={normal:1,emphasis:1};X(r,function(o,s){!i[s]&&!gv(a,s)&&(a[s]=o)}),n.label&&!gv(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function gv(e,t){return e.hasOwnProperty(t)}function OUt(e){e.registerComponentModel(xxe),e.registerComponentView(AUt),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),MUt(e),e.registerPreprocessor($Ut)}function zW(e,t){if(!e)return!1;for(var n=st(e)?e:[e],r=0;r<n.length;r++)if(n[r]&&n[r][t])return!0;return!1}function xT(e){Eg(e,"label",["show"])}var wT=Vn(),rd=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a),this._mergeOption(n,a,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Nn.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},t.prototype.mergeOption=function(n,r){this._mergeOption(n,r,!1,!1)},t.prototype._mergeOption=function(n,r,a,i){var o=this.mainType;a||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=wT(s)[o];if(!l||!l.data){wT(s)[o]=null;return}u?u._mergeOption(l,r,!0):(i&&xT(l),X(l.data,function(c){c instanceof Array?(xT(c[0]),xT(c[1])):xT(c)}),u=this.createMarkerModelFromSeries(l,this,r),rt(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),wT(s)[o]=u},this)},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=this.getRawValue(n),s=i.getName(n);return gi("section",{header:this.name,blocks:[gi("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(n){this._data=n},t.prototype.getDataParams=function(n,r){var a=KN.prototype.getDataParams.call(this,n,r),i=this.__hostSeries;return i&&(a.seriesId=i.id,a.seriesName=i.name,a.seriesType=i.subType),a},t.getMarkerModelFromSeries=function(n,r){return wT(n)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Rn);$a(rd,KN.prototype);var PUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,a){return new t(n,r,a)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(rd);function s4(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function FUt(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function _T(e,t,n,r,a,i){var o=[],s=Gh(t,r),l=s?t.getCalculationInfo("stackResultDimension"):r,u=WW(t,l,e),c=t.indicesOfNearest(l,u)[0];o[a]=t.get(n,c),o[i]=t.get(l,c);var f=t.get(r,c),d=xc(t.get(r,c));return d=Math.min(d,20),d>=0&&(o[i]=+o[i].toFixed(d)),[o,f]}var BL={min:vn(_T,"min"),max:vn(_T,"max"),average:vn(_T,"average"),median:vn(_T,"median")};function d_(e,t){if(t){var n=e.getData(),r=e.coordinateSystem,a=r&&r.dimensions;if(!FUt(t)&&!st(t.coord)&&st(a)){var i=wxe(t,n,r,e);if(t=en(t),t.type&&BL[t.type]&&i.baseAxis&&i.valueAxis){var o=Cn(a,i.baseAxis.dim),s=Cn(a,i.valueAxis.dim),l=BL[t.type](n,i.baseDataDim,i.valueDataDim,o,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!st(a))t.coord=[];else for(var u=t.coord,c=0;c<2;c++)BL[u[c]]&&(u[c]=WW(n,n.mapDimension(a[c]),u[c]));return t}}function wxe(e,t,n,r){var a={};return e.valueIndex!=null||e.valueDim!=null?(a.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,a.valueAxis=n.getAxis(BUt(r,a.valueDataDim)),a.baseAxis=n.getOtherAxis(a.valueAxis),a.baseDataDim=t.mapDimension(a.baseAxis.dim)):(a.baseAxis=r.getBaseAxis(),a.valueAxis=n.getOtherAxis(a.baseAxis),a.baseDataDim=t.mapDimension(a.baseAxis.dim),a.valueDataDim=t.mapDimension(a.valueAxis.dim)),a}function BUt(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}function h_(e,t){return e&&e.containData&&t.coord&&!s4(t)?e.containData(t.coord):!0}function VUt(e,t,n){return e&&e.containZone&&t.coord&&n.coord&&!s4(t)&&!s4(n)?e.containZone(t.coord,n.coord):!0}function _xe(e,t){return e?function(n,r,a,i){var o=i<2?n.coord&&n.coord[i]:n.value;return xh(o,t[i])}:function(n,r,a,i){return xh(n.value,t[i])}}function WW(e,t,n){if(n==="average"){var r=0,a=0;return e.each(t,function(i,o){isNaN(i)||(r+=i,a++)}),r/a}else return n==="median"?e.getMedian(t):e.getDataExtent(t)[n==="max"?1:0]}var VL=Vn(),HW=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this.markerGroupMap=Pt()},t.prototype.render=function(n,r,a){var i=this,o=this.markerGroupMap;o.each(function(s){VL(s).keep=!1}),r.eachSeries(function(s){var l=rd.getMarkerModelFromSeries(s,i.type);l&&i.renderSeries(s,l,r,a)}),o.each(function(s){!VL(s).keep&&i.group.remove(s.group)})},t.prototype.markKeep=function(n){VL(n).keep=!0},t.prototype.toggleBlurSeries=function(n,r){var a=this;X(n,function(i){var o=rd.getMarkerModelFromSeries(i,a.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(r?h0e(l):s5(l))})}})},t.type="marker",t}(na);function vee(e,t,n){var r=t.coordinateSystem;e.each(function(a){var i=e.getItemModel(a),o,s=St(i.get("x"),n.getWidth()),l=St(i.get("y"),n.getHeight());if(!isNaN(s)&&!isNaN(l))o=[s,l];else if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,a));else if(r){var u=e.get(r.dimensions[0],a),c=e.get(r.dimensions[1],a);o=r.dataToPoint([u,c])}isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),e.setItemLayout(a,o)})}var zUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,a){r.eachSeries(function(i){var o=rd.getMarkerModelFromSeries(i,"markPoint");o&&(vee(o.getData(),i,a),this.markerGroupMap.get(i.id).updateLayout())},this)},t.prototype.renderSeries=function(n,r,a,i){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new wC),f=WUt(o,n,r);r.setData(f),vee(r.getData(),n,i),f.each(function(d){var h=f.getItemModel(d),p=h.getShallow("symbol"),v=h.getShallow("symbolSize"),g=h.getShallow("symbolRotate"),m=h.getShallow("symbolOffset"),y=h.getShallow("symbolKeepAspect");if(Yt(p)||Yt(v)||Yt(g)||Yt(m)){var b=r.getRawValue(d),x=r.getDataParams(d);Yt(p)&&(p=p(b,x)),Yt(v)&&(v=v(b,x)),Yt(g)&&(g=g(b,x)),Yt(m)&&(m=m(b,x))}var _=h.getModel("itemStyle").getItemStyle(),S=mC(l,"color");_.fill||(_.fill=S),f.setItemVisual(d,{symbol:p,symbolSize:v,symbolRotate:g,symbolOffset:m,symbolKeepAspect:y,style:_})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(d){d.traverse(function(h){sn(h).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||n.get("silent")},t.type="markPoint",t}(HW);function WUt(e,t,n){var r;e?r=ut(e&&e.dimensions,function(s){var l=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return rt(rt({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Zo(r,n),i=ut(n.get("data"),vn(d_,t));e&&(i=sr(i,vn(h_,e)));var o=_xe(!!e,r);return a.initData(i,null,o),a}function HUt(e){e.registerComponentModel(PUt),e.registerComponentView(zUt),e.registerPreprocessor(function(t){zW(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var UUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,a){return new t(n,r,a)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(rd),ST=Vn(),GUt=function(e,t,n,r){var a=e.getData(),i;if(st(r))i=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=t.getAxis(r.yAxis!=null?"y":"x"),l=Si(r.yAxis,r.xAxis);else{var u=wxe(r,a,t,e);s=u.valueAxis;var c=pye(a,u.valueDataDim);l=WW(a,c,o)}var f=s.dim==="x"?0:1,d=1-f,h=en(r),p={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,p.coord[d]=1/0;var v=n.get("precision");v>=0&&Kn(l)&&(l=+l.toFixed(Math.min(v,20))),h.coord[f]=p.coord[f]=l,i=[h,p,{type:o,valueIndex:r.valueIndex,value:l}]}else i=[]}var g=[d_(e,i[0]),d_(e,i[1]),rt({},i[2])];return g[2].type=g[2].type||null,mn(g[2],g[0]),mn(g[2],g[1]),g};function HE(e){return!isNaN(e)&&!isFinite(e)}function gee(e,t,n,r){var a=1-e,i=r.dimensions[e];return HE(t[a])&&HE(n[a])&&t[e]===n[e]&&r.getAxis(i).containData(t[e])}function KUt(e,t){if(e.type==="cartesian2d"){var n=t[0].coord,r=t[1].coord;if(n&&r&&(gee(1,n,r,e)||gee(0,n,r,e)))return!0}return h_(e,t[0])&&h_(e,t[1])}function zL(e,t,n,r,a){var i=r.coordinateSystem,o=e.getItemModel(t),s,l=St(o.get("x"),a.getWidth()),u=St(o.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=i.dimensions,f=e.get(c[0],t),d=e.get(c[1],t);s=i.dataToPoint([f,d])}if(u0(i,"cartesian2d")){var h=i.getAxis("x"),p=i.getAxis("y"),c=i.dimensions;HE(e.get(c[0],t))?s[0]=h.toGlobalCoord(h.getExtent()[n?0:1]):HE(e.get(c[1],t))&&(s[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}e.setItemLayout(t,s)}var jUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,a){r.eachSeries(function(i){var o=rd.getMarkerModelFromSeries(i,"markLine");if(o){var s=o.getData(),l=ST(o).from,u=ST(o).to;l.each(function(c){zL(l,c,!0,i,a),zL(u,c,!1,i,a)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},t.prototype.renderSeries=function(n,r,a,i){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new cW);this.group.add(c.group);var f=YUt(o,n,r),d=f.from,h=f.to,p=f.line;ST(r).from=d,ST(r).to=h,r.setData(p);var v=r.get("symbol"),g=r.get("symbolSize"),m=r.get("symbolRotate"),y=r.get("symbolOffset");st(v)||(v=[v,v]),st(g)||(g=[g,g]),st(m)||(m=[m,m]),st(y)||(y=[y,y]),f.from.each(function(x){b(d,x,!0),b(h,x,!1)}),p.each(function(x){var _=p.getItemModel(x).getModel("lineStyle").getLineStyle();p.setItemLayout(x,[d.getItemLayout(x),h.getItemLayout(x)]),_.stroke==null&&(_.stroke=d.getItemVisual(x,"style").fill),p.setItemVisual(x,{fromSymbolKeepAspect:d.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(x,"symbolOffset"),fromSymbolRotate:d.getItemVisual(x,"symbolRotate"),fromSymbolSize:d.getItemVisual(x,"symbolSize"),fromSymbol:d.getItemVisual(x,"symbol"),toSymbolKeepAspect:h.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(x,"symbolOffset"),toSymbolRotate:h.getItemVisual(x,"symbolRotate"),toSymbolSize:h.getItemVisual(x,"symbolSize"),toSymbol:h.getItemVisual(x,"symbol"),style:_})}),c.updateData(p),f.line.eachItemGraphicEl(function(x){sn(x).dataModel=r,x.traverse(function(_){sn(_).dataModel=r})});function b(x,_,S){var C=x.getItemModel(_);zL(x,_,S,n,i);var k=C.getModel("itemStyle").getItemStyle();k.fill==null&&(k.fill=mC(l,"color")),x.setItemVisual(_,{symbolKeepAspect:C.get("symbolKeepAspect"),symbolOffset:fn(C.get("symbolOffset",!0),y[S?0:1]),symbolRotate:fn(C.get("symbolRotate",!0),m[S?0:1]),symbolSize:fn(C.get("symbolSize"),g[S?0:1]),symbol:fn(C.get("symbol",!0),v[S?0:1]),style:k})}this.markKeep(c),c.group.silent=r.get("silent")||n.get("silent")},t.type="markLine",t}(HW);function YUt(e,t,n){var r;e?r=ut(e&&e.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return rt(rt({},c),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Zo(r,n),i=new Zo(r,n),o=new Zo([],n),s=ut(n.get("data"),vn(GUt,t,e,n));e&&(s=sr(s,vn(KUt,e)));var l=_xe(!!e,r);return a.initData(ut(s,function(u){return u[0]}),null,l),i.initData(ut(s,function(u){return u[1]}),null,l),o.initData(ut(s,function(u){return u[2]})),o.hasItemOption=!0,{from:a,to:i,line:o}}function XUt(e){e.registerComponentModel(UUt),e.registerComponentView(jUt),e.registerPreprocessor(function(t){zW(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var qUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,a){return new t(n,r,a)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(rd),CT=Vn(),ZUt=function(e,t,n,r){var a=r[0],i=r[1];if(!(!a||!i)){var o=d_(e,a),s=d_(e,i),l=o.coord,u=s.coord;l[0]=Si(l[0],-1/0),l[1]=Si(l[1],-1/0),u[0]=Si(u[0],1/0),u[1]=Si(u[1],1/0);var c=H6([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function UE(e){return!isNaN(e)&&!isFinite(e)}function mee(e,t,n,r){var a=1-e;return UE(t[a])&&UE(n[a])}function JUt(e,t){var n=t.coord[0],r=t.coord[1],a={coord:n,x:t.x0,y:t.y0},i={coord:r,x:t.x1,y:t.y1};return u0(e,"cartesian2d")?n&&r&&(mee(1,n,r)||mee(0,n,r))?!0:VUt(e,a,i):h_(e,a)||h_(e,i)}function yee(e,t,n,r,a){var i=r.coordinateSystem,o=e.getItemModel(t),s,l=St(o.get(n[0]),a.getWidth()),u=St(o.get(n[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var c=e.getValues(["x0","y0"],t),f=e.getValues(["x1","y1"],t),d=i.clampData(c),h=i.clampData(f),p=[];n[0]==="x0"?p[0]=d[0]>h[0]?f[0]:c[0]:p[0]=d[0]>h[0]?c[0]:f[0],n[1]==="y0"?p[1]=d[1]>h[1]?f[1]:c[1]:p[1]=d[1]>h[1]?c[1]:f[1],s=r.getMarkerPosition(p,n,!0)}else{var v=e.get(n[0],t),g=e.get(n[1],t),m=[v,g];i.clampData&&i.clampData(m,m),s=i.dataToPoint(m,!0)}if(u0(i,"cartesian2d")){var y=i.getAxis("x"),b=i.getAxis("y"),v=e.get(n[0],t),g=e.get(n[1],t);UE(v)?s[0]=y.toGlobalCoord(y.getExtent()[n[0]==="x0"?0:1]):UE(g)&&(s[1]=b.toGlobalCoord(b.getExtent()[n[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var bee=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],QUt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,a){r.eachSeries(function(i){var o=rd.getMarkerModelFromSeries(i,"markArea");if(o){var s=o.getData();s.each(function(l){var u=ut(bee,function(f){return yee(s,l,f,i,a)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(n,r,a,i){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new an});this.group.add(c.group),this.markKeep(c);var f=eGt(o,n,r);r.setData(f),f.each(function(d){var h=ut(bee,function(k){return yee(f,d,k,n,i)}),p=o.getAxis("x").scale,v=o.getAxis("y").scale,g=p.getExtent(),m=v.getExtent(),y=[p.parse(f.get("x0",d)),p.parse(f.get("x1",d))],b=[v.parse(f.get("y0",d)),v.parse(f.get("y1",d))];Al(y),Al(b);var x=!(g[0]>y[1]||g[1]<y[0]||m[0]>b[1]||m[1]<b[0]),_=!x;f.setItemLayout(d,{points:h,allClipped:_});var S=f.getItemModel(d).getModel("itemStyle").getItemStyle(),C=mC(l,"color");S.fill||(S.fill=C,Dt(S.fill)&&(S.fill=oE(S.fill,.4))),S.stroke||(S.stroke=C),f.setItemVisual(d,"style",S)}),f.diff(CT(c).data).add(function(d){var h=f.getItemLayout(d);if(!h.allClipped){var p=new ls({shape:{points:h.points}});f.setItemGraphicEl(d,p),c.group.add(p)}}).update(function(d,h){var p=CT(c).data.getItemGraphicEl(h),v=f.getItemLayout(d);v.allClipped?p&&c.group.remove(p):(p?Jn(p,{shape:{points:v.points}},r,d):p=new ls({shape:{points:v.points}}),f.setItemGraphicEl(d,p),c.group.add(p))}).remove(function(d){var h=CT(c).data.getItemGraphicEl(d);c.group.remove(h)}).execute(),f.eachItemGraphicEl(function(d,h){var p=f.getItemModel(h),v=f.getItemVisual(h,"style");d.useStyle(f.getItemVisual(h,"style")),Yi(d,vi(p),{labelFetcher:r,labelDataIndex:h,defaultText:f.getName(h)||"",inheritColor:Dt(v.fill)?oE(v.fill,1):"#000"}),ji(d,p),la(d,null,null,p.get(["emphasis","disabled"])),sn(d).dataModel=r}),CT(c).data=f,c.group.silent=r.get("silent")||n.get("silent")},t.type="markArea",t}(HW);function eGt(e,t,n){var r,a,i=["x0","y0","x1","y1"];if(e){var o=ut(e&&e.dimensions,function(u){var c=t.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return rt(rt({},f),{name:u,ordinalMeta:null})});a=ut(i,function(u,c){return{name:u,type:o[c%2].type}}),r=new Zo(a,n)}else a=[{name:"value",type:"float"}],r=new Zo(a,n);var s=ut(n.get("data"),vn(ZUt,t,e,n));e&&(s=sr(s,vn(JUt,e)));var l=e?function(u,c,f,d){var h=u.coord[Math.floor(d/2)][d%2];return xh(h,a[d])}:function(u,c,f,d){return xh(u.value,a[d])};return r.initData(s,null,l),r.hasItemOption=!0,r}function tGt(e){e.registerComponentModel(qUt),e.registerComponentView(QUt),e.registerPreprocessor(function(t){zW(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var nGt=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},l4=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},t.prototype._updateSelector=function(n){var r=n.selector,a=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),st(r)&&X(r,function(i,o){Dt(i)&&(i={type:i}),r[o]=mn(i,nGt(a,i.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,a=0;a<n.length;a++){var i=n[a].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var r=[],a=[];n.eachRawSeries(function(l){var u=l.name;a.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();n.isSeriesFiltered(l)||(a=a.concat(d)),d.length?r=r.concat(d):c=!0}else c=!0;c&&Q6(l)&&r.push(l.name)}),this._availableNames=a;var i=this.get("data")||r,o=Pt(),s=ut(i,function(l){return(Dt(l)||Kn(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new pr(l,this,this.ecModel))},this);this._data=sr(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var r=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;X(i,function(o){r[o.get("name")]=!1})}r[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,r=this.option.selected;X(n,function(a){r[a.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;X(n,function(a){var i=a.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},t.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&Cn(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Rn),K0=vn,u4=X,TT=an,Sxe=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new TT),this.group.add(this._selectorGroup=new TT),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,r,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var o=n.get("align"),s=n.get("orient");(!o||o==="auto")&&(o=n.get("left")==="right"&&s==="vertical"?"right":"left");var l=n.get("selector",!0),u=n.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,n,r,a,l,s,u);var c=n.getBoxLayoutParams(),f={width:a.getWidth(),height:a.getHeight()},d=n.get("padding"),h=Ya(c,f,d),p=this.layoutInner(n,o,h,i,l,u),v=Ya(Xt({width:p.width,height:p.height},c),f,d);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=fxe(p,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,r,a,i,o,s,l){var u=this.getContentGroup(),c=Pt(),f=r.get("selectedMode"),d=[];a.eachRawSeries(function(h){!h.get("legendHoverLink")&&d.push(h.id)}),u4(r.getData(),function(h,p){var v=h.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var g=new TT;g.newline=!0,u.add(g);return}var m=a.getSeriesByName(v)[0];if(!c.get(v))if(m){var y=m.getData(),b=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),_=y.getVisual("style"),S=this._createItem(m,v,p,h,r,n,b,_,x,f,i);S.on("click",K0(xee,v,null,i,d)).on("mouseover",K0(c4,m.name,null,i,d)).on("mouseout",K0(f4,m.name,null,i,d)),a.ssr&&S.eachChild(function(C){var k=sn(C);k.seriesIndex=m.seriesIndex,k.dataIndex=p,k.ssrType="legend"}),c.set(v,!0)}else a.eachRawSeries(function(C){if(!c.get(v)&&C.legendVisualProvider){var k=C.legendVisualProvider;if(!k.containName(v))return;var T=k.indexOfName(v),E=k.getItemVisual(T,"style"),I=k.getItemVisual(T,"legendIcon"),A=js(E.fill);A&&A[3]===0&&(A[3]=.2,E=rt(rt({},E),{fill:Ff(A,"rgba")}));var N=this._createItem(C,v,p,h,r,n,{},E,I,f,i);N.on("click",K0(xee,null,v,i,d)).on("mouseover",K0(c4,null,v,i,d)).on("mouseout",K0(f4,null,v,i,d)),a.ssr&&N.eachChild(function(L){var R=sn(L);R.seriesIndex=C.seriesIndex,R.dataIndex=p,R.ssrType="legend"}),c.set(v,!0)}},this)},this),o&&this._createSelector(o,r,i,s,l)},t.prototype._createSelector=function(n,r,a,i,o){var s=this.getSelectorGroup();u4(n,function(u){var c=u.type,f=new Un({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(f);var d=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);Yi(f,{normal:d,emphasis:h},{defaultText:u.title}),Xv(f)})},t.prototype._createItem=function(n,r,a,i,o,s,l,u,c,f,d){var h=n.visualDrawType,p=o.get("itemWidth"),v=o.get("itemHeight"),g=o.isSelected(r),m=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),b=i.get("icon");c=b||c||"roundRect";var x=rGt(c,i,l,u,h,g,d),_=new TT,S=i.getModel("textStyle");if(Yt(n.getLegendIcon)&&(!b||b==="inherit"))_.add(n.getLegendIcon({itemWidth:p,itemHeight:v,icon:c,iconRotate:m,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));else{var C=b==="inherit"&&n.getData().getVisual("symbol")?m==="inherit"?n.getData().getVisual("symbolRotate"):m:0;_.add(aGt({itemWidth:p,itemHeight:v,icon:c,iconRotate:C,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}var k=s==="left"?p+5:-5,T=s,E=o.get("formatter"),I=r;Dt(E)&&E?I=E.replace("{name}",r??""):Yt(E)&&(I=E(r));var A=g?S.getTextColor():i.get("inactiveColor");_.add(new Un({style:Fr(S,{text:I,x:k,y:v/2,fill:A,align:T,verticalAlign:"middle"},{inheritColor:A})}));var N=new Bn({shape:_.getBoundingRect(),style:{fill:"transparent"}}),L=i.getModel("tooltip");return L.get("show")&&i0({el:N,componentModel:o,itemName:r,itemTooltipOption:L.option}),_.add(N),_.eachChild(function(R){R.silent=!0}),N.silent=!f,this.getContentGroup().add(_),Xv(_),_.__legendDataIndex=a,_},t.prototype.layoutInner=function(n,r,a,i,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Zv(n.get("orient"),l,n.get("itemGap"),a.width,a.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){Zv("horizontal",u,n.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],p=n.get("selectorButtonGap",!0),v=n.getOrient().index,g=v===0?"width":"height",m=v===0?"height":"width",y=v===0?"y":"x";s==="end"?h[v]+=c[g]+p:f[v]+=d[g]+p,h[1-v]+=c[m]/2-d[m]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var b={x:0,y:0};return b[g]=c[g]+p+d[g],b[m]=Math.max(c[m],d[m]),b[y]=Math.min(0,d[y]+h[1-v]),b}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(na);function rGt(e,t,n,r,a,i,o){function s(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),u4(g,function(y,b){g[b]==="inherit"&&(g[b]=m[b])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:Ny(f,o),u.fill==="inherit"&&(u.fill=r[a]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?r:n).opacity),s(u,r);var d=t.getModel("lineStyle"),h=d.getLineStyle();if(s(h,n),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!i){var p=t.get("inactiveBorderWidth"),v=u[c];u.lineWidth=p==="auto"?r.lineWidth>0&&v?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function aGt(e){var t=e.icon||"roundRect",n=Ma(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function xee(e,t,n,r){f4(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:e??t}),c4(e,t,n,r)}function Cxe(e){for(var t=e.getZr().storage.getDisplayList(),n,r=0,a=t.length;r<a&&!(n=t[r].states.emphasis);)r++;return n&&n.hoverLayer}function c4(e,t,n,r){Cxe(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function f4(e,t,n,r){Cxe(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}function iGt(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var r=0;r<t.length;r++)if(!t[r].isSelected(n.name))return!1;return!0})}function xb(e,t,n){var r=e==="allSelect"||e==="inverseSelect",a={},i=[];n.eachComponent({mainType:"legend",query:t},function(s){r?s[e]():s[e](t.name),wee(s,a),i.push(s.componentIndex)});var o={};return n.eachComponent("legend",function(s){X(a,function(l,u){s[l?"select":"unSelect"](u)}),wee(s,o)}),r?{selected:o,legendIndex:i}:{name:t.name,selected:o}}function wee(e,t){var n=t||{};return X(e.getData(),function(r){var a=r.get("name");if(!(a===`
`||a==="")){var i=e.isSelected(a);Mt(n,a)?n[a]=n[a]&&i:n[a]=i}}),n}function oGt(e){e.registerAction("legendToggleSelect","legendselectchanged",vn(xb,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",vn(xb,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",vn(xb,"inverseSelect")),e.registerAction("legendSelect","legendselected",vn(xb,"select")),e.registerAction("legendUnSelect","legendunselected",vn(xb,"unSelect"))}function Txe(e){e.registerComponentModel(l4),e.registerComponentView(Sxe),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,iGt),e.registerSubTypeDefaulter("legend",function(){return"plain"}),oGt(e)}var sGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,r,a){var i=C1(n);e.prototype.init.call(this,n,r,a),_ee(this,n,i)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),_ee(this,this.option,n)},t.type="legend.scroll",t.defaultOption=mp(l4.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(l4);function _ee(e,t,n){var r=e.getOrient(),a=[1,1];a[r.index]=0,Uh(t,n,{type:"box",ignoreSize:!!a})}var See=an,WL=["width","height"],HL=["x","y"],lGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new See),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new See)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,r,a,i,o,s,l){var u=this;e.prototype.renderInner.call(this,n,r,a,i,o,s,l);var c=this._controllerGroup,f=r.get("pageIconSize",!0),d=st(f)?f:[f,f];p("pagePrev",0);var h=r.getModel("pageTextStyle");c.add(new Un({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,g){var m=v+"DataIndex",y=vC(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:Nt(u._pageGo,u,m,r,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});y.name=v,c.add(y)}},t.prototype.layoutInner=function(n,r,a,i,o,s){var l=this.getSelectorGroup(),u=n.getOrient().index,c=WL[u],f=HL[u],d=WL[1-u],h=HL[1-u];o&&Zv("horizontal",l,n.get("selectorItemGap",!0));var p=n.get("selectorButtonGap",!0),v=l.getBoundingRect(),g=[-v.x,-v.y],m=en(a);o&&(m[c]=a[c]-v[c]-p);var y=this._layoutContentAndController(n,i,m,u,c,d,h,f);if(o){if(s==="end")g[u]+=y[c]+p;else{var b=v[c]+p;g[u]-=b,y[f]-=b}y[c]+=v[c]+p,g[1-u]+=y[h]+y[d]/2-v[d]/2,y[d]=Math.max(y[d],v[d]),y[h]=Math.min(y[h],v[h]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return y},t.prototype._layoutContentAndController=function(n,r,a,i,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;Zv(n.get("orient"),c,n.get("itemGap"),i?a.width:null,i?null:a.height),Zv("horizontal",d,n.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),p=d.getBoundingRect(),v=this._showController=h[o]>a[o],g=[-h.x,-h.y];r||(g[i]=c[u]);var m=[0,0],y=[-p.x,-p.y],b=fn(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(v){var x=n.get("pageButtonPosition",!0);x==="end"?y[i]+=a[o]-p[o]:m[i]+=p[o]+b}y[1-i]+=h[s]/2-p[s]/2,c.setPosition(g),f.setPosition(m),d.setPosition(y);var _={x:0,y:0};if(_[o]=v?a[o]:h[o],_[s]=Math.max(h[s],p[s]),_[l]=Math.min(0,p[l]+y[1-i]),f.__rectSize=a[o],v){var S={x:0,y:0};S[o]=Math.max(a[o]-p[o]-b,0),S[s]=_[s],f.setClipPath(new Bn({shape:S})),f.__rectSize=S[o]}else d.eachChild(function(k){k.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(n);return C.pageIndex!=null&&Jn(c,{x:C.contentPosition[0],y:C.contentPosition[1]},v?n:null),this._updatePageInfoView(n,C),_},t.prototype._pageGo=function(n,r,a){var i=this._getPageInfo(r)[n];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},t.prototype._updatePageInfoView=function(n,r){var a=this._controllerGroup;X(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=r[f]!=null,h=a.childOfName(c);h&&(h.setStyle("fill",d?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var i=a.childOfName("pageText"),o=n.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;i&&o&&i.setStyle("text",Dt(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,o=n.getOrient().index,s=WL[o],l=HL[o],u=this._findTargetItemIndex(r),c=a.children(),f=c[u],d=c.length,h=d?1:0,p={contentPosition:[a.x,a.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return p;var v=x(f);p.contentPosition[o]=-v.s;for(var g=u+1,m=v,y=v,b=null;g<=d;++g)b=x(c[g]),(!b&&y.e>m.s+i||b&&!_(b,m.s))&&(y.i>m.i?m=y:m=b,m&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=m.i),++p.pageCount)),y=b;for(var g=u-1,m=v,y=v,b=null;g>=-1;--g)b=x(c[g]),(!b||!_(y,b.s))&&m.i<y.i&&(y=m,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=b;return p;function x(S){if(S){var C=S.getBoundingRect(),k=C[l]+S[l];return{s:k,e:k+C[s],i:S.__legendDataIndex}}}function _(S,C){return S.e>=C&&S.s<=C+i}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,a=this.getContentGroup(),i;return a.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===n&&(r=s)}),r??i},t.type="legend.scroll",t}(Sxe);function uGt(e){e.registerAction("legendScroll","legendscroll",function(t,n){var r=t.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(r)})})}function cGt(e){kn(Txe),e.registerComponentModel(sGt),e.registerComponentView(lGt),uGt(e)}function fGt(e){kn(Txe),kn(cGt)}var dGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.inside",t.defaultOption=mp(f_.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(f_),UW=Vn();function hGt(e,t,n){UW(e).coordSysRecordMap.each(function(r){var a=r.dataZoomInfoMap.get(t.uid);a&&(a.getRange=n)})}function pGt(e,t){for(var n=UW(e).coordSysRecordMap,r=n.keys(),a=0;a<r.length;a++){var i=r[a],o=n.get(i),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||kxe(n,o))}}}function kxe(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function vGt(e,t){var n={model:t,containsPoint:vn(mGt,t),dispatchAction:vn(gGt,e),dataZoomInfoMap:null,controller:null},r=n.controller=new kC(e.getZr());return X(["pan","zoom","scrollMove"],function(a){r.on(a,function(i){var o=[];n.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,n.model.mainType,n.controller,i);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&n.dispatchAction(o)})}),n}function gGt(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function mGt(e,t,n,r){return e.coordinateSystem.containPoint([n,r])}function yGt(e){var t,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return e.each(function(i){var o=i.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[n+s]>r[n+t]&&(t=s),a=a&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function bGt(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,n){var r=UW(n),a=r.coordSysRecordMap||(r.coordSysRecordMap=Pt());a.each(function(i){i.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var o=lxe(i);X(o.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,vGt(n,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Pt());c.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),a.each(function(i){var o=i.controller,s,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){kxe(a,i);return}var c=yGt(l);o.enable(c.controlType,c.opt),o.setPointerChecker(i.containsPoint),I1(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var xGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return t.prototype.render=function(n,r,a){if(e.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),hGt(a,n,{pan:Nt(UL.pan,this),zoom:Nt(UL.zoom,this),scrollMove:Nt(UL.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){pGt(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(LW),UL={zoom:function(e,t,n,r){var a=this.range,i=a.slice(),o=e.axisModels[0];if(o){var s=GL[t](null,[r.originX,r.originY],o,n,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/r.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(f0(0,i,[0,100],0,c.minSpan,c.maxSpan),this.range=i,a[0]!==i[0]||a[1]!==i[1])return i}},pan:Cee(function(e,t,n,r,a,i){var o=GL[r]([i.oldX,i.oldY],[i.newX,i.newY],t,a,n);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:Cee(function(e,t,n,r,a,i){var o=GL[r]([0,0],[i.scrollDelta,i.scrollDelta],t,a,n);return o.signal*(e[1]-e[0])*i.scrollDelta})};function Cee(e){return function(t,n,r,a){var i=this.range,o=i.slice(),s=t.axisModels[0];if(s){var l=e(o,s,t,n,r,a);if(f0(l,o,[0,100],"all"),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}}}var GL={grid:function(e,t,n,r,a){var i=n.axis,o={},s=a.model.coordinateSystem.getRect();return e=e||[0,0],i.dim==="x"?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o},polar:function(e,t,n,r,a){var i=n.axis,o={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),n.mainType==="radiusAxis"?(o.pixel=t[0]-e[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=i.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=i.inverse?-1:1),o},singleAxis:function(e,t,n,r,a){var i=n.axis,o=a.model.coordinateSystem.getRect(),s={};return e=e||[0,0],i.orient==="horizontal"?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s}};function Ixe(e){OW(e),e.registerComponentModel(dGt),e.registerComponentView(xGt),bGt(e)}var wGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=mp(f_.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(f_),wb=Bn,Tee=7,_Gt=1,KL=30,SGt=7,_b="horizontal",kee="vertical",CGt=5,TGt=["line","bar","candlestick","scatter"],kGt={easing:"cubicOut",duration:100,delay:0},IGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return t.prototype.init=function(n,r){this.api=r,this._onBrush=Nt(this._onBrush,this),this._onBrushEnd=Nt(this._onBrushEnd,this)},t.prototype.render=function(n,r,a,i){if(e.prototype.render.apply(this,arguments),I1(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Jw(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new an;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var n=this.dataZoomModel,r=this.api,a=n.get("brushSelect"),i=a?SGt:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===_b?{right:s.width-o.x-o.width,top:s.height-KL-Tee-i,width:o.width,height:KL}:{right:Tee,top:o.y,width:KL,height:o.height},u=C1(n.option);X(["right","top","width","height"],function(f){u[f]==="ph"&&(u[f]=l[f])});var c=Ya(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===kee&&this._size.reverse()},t.prototype._positionGroup=function(){var n=this.group,r=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===_b&&!o?{scaleY:l?1:-1,scaleX:1}:a===_b&&o?{scaleY:l?1:-1,scaleX:-1}:a===kee&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=n.getBoundingRect([s]);n.x=r.x-u.x,n.y=r.y-u.y,n.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var n=this.dataZoomModel,r=this._size,a=this._displayables.sliderGroup,i=n.get("brushSelect");a.add(new wb({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var o=new wb({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:Nt(this._onClickPanel,this)}),s=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(o)},t.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var r=this._size,a=this._shadowSize||[],i=n.series,o=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),l=s&&o.getDimensionInfo(s)?i.getShadowDim():n.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==a[0]||r[1]!==a[1]){var f=o.getDataExtent(l),d=(f[1]-f[0])*.3;f=[f[0]-d,f[1]+d];var h=[0,r[1]],p=[0,r[0]],v=[[r[0],0],[0,0]],g=[],m=p[1]/(o.count()-1),y=0,b=Math.round(o.count()/r[0]),x;o.each([l],function(T,E){if(b>0&&E%b){y+=m;return}var I=T==null||isNaN(T)||T==="",A=I?0:cr(T,f,h,!0);I&&!x&&E?(v.push([v[v.length-1][0],0]),g.push([g[g.length-1][0],0])):!I&&x&&(v.push([y,0]),g.push([y,0])),v.push([y,A]),g.push([y,A]),y+=m,x=I}),u=this._shadowPolygonPts=v,c=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var _=this.dataZoomModel;function S(T){var E=_.getModel(T?"selectedDataBackground":"dataBackground"),I=new an,A=new ls({shape:{points:u},segmentIgnoreThreshold:1,style:E.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),N=new cs({shape:{points:c},segmentIgnoreThreshold:1,style:E.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return I.add(A),I.add(N),I}for(var C=0;C<3;C++){var k=S(C===1);this._displayables.sliderGroup.add(k),this._displayables.dataShadowSegs.push(k)}},t.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,r=n.get("showDataShadow");if(r!==!1){var a,i=this.ecModel;return n.eachTargetAxis(function(o,s){var l=n.getAxisProxy(o,s).getTargetSeriesModels();X(l,function(u){if(!a&&!(r!==!0&&Cn(TGt,u.get("type"))<0)){var c=i.getComponent(sh(o),s).axis,f=EGt(o),d,h=u.coordinateSystem;f!=null&&h.getOtherAxis&&(d=h.getOtherAxis(c).inverse),f=u.getData().mapDimension(f),a={thisAxis:c,series:u,thisDim:o,otherDim:f,otherAxisInverse:d}}},this)},this),a}},t.prototype._renderHandle=function(){var n=this.group,r=this._displayables,a=r.handles=[null,null],i=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),d=r.filler=new wb({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(d),o.add(new wb({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:_Gt,fill:"rgba(0,0,0,0)"}})),X([0,1],function(b){var x=l.get("handleIcon");!wE[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var _=Ma(x,-1,0,2,2,null,!0);_.attr({cursor:Iee(this._orient),draggable:!0,drift:Nt(this._onDragMove,this,b),ondragend:Nt(this._onDragEnd,this),onmouseover:Nt(this._showDataInfo,this,!0),onmouseout:Nt(this._showDataInfo,this,!1),z2:5});var S=_.getBoundingRect(),C=l.get("handleSize");this._handleHeight=St(C,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Xv(_);var k=l.get("handleColor");k!=null&&(_.style.fill=k),o.add(a[b]=_);var T=l.getModel("textStyle"),E=l.get("handleLabel")||{},I=E.show||!1;n.add(i[b]=new Un({silent:!0,invisible:!I,style:Fr(T,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:T.getTextColor(),font:T.getFont()}),z2:10}))},this);var h=d;if(f){var p=St(l.get("moveHandleSize"),s[1]),v=r.moveHandle=new Bn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),g=p*.8,m=r.moveHandleIcon=Ma(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);m.silent=!0,m.y=s[1]+p/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(p,10));h=r.moveZone=new Bn({invisible:!0,shape:{y:s[1]-y,height:p+y}}),h.on("mouseover",function(){u.enterEmphasis(v)}).on("mouseout",function(){u.leaveEmphasis(v)}),o.add(v),o.add(m),o.add(h)}h.attr({draggable:!0,cursor:Iee(this._orient),drift:Nt(this._onDragMove,this,"all"),ondragstart:Nt(this._showDataInfo,this,!0),ondragend:Nt(this._onDragEnd,this),onmouseover:Nt(this._showDataInfo,this,!0),onmouseout:Nt(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[cr(n[0],[0,100],r,!0),cr(n[1],[0,100],r,!0)]},t.prototype._updateInterval=function(n,r){var a=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];f0(r,i,o,a.get("zoomLock")?"all":n,s.minSpan!=null?cr(s.minSpan,l,o,!0):null,s.maxSpan!=null?cr(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=Al([cr(i[0],o,l,!0),cr(i[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(n){var r=this._displayables,a=this._handleEnds,i=Al(a.slice()),o=this._size;X([0,1],function(h){var p=r.handles[h],v=this._handleHeight;p.attr({scaleX:v/2,scaleY:v/2,x:a[h]+(h?-1:1),y:o[1]/2-v/2})},this),r.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var s={x:i[0],width:i[1]-i[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,i[0],i[1],o[0]],c=0;c<l.length;c++){var f=l[c],d=f.getClipPath();d||(d=new Bn,f.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(n)},t.prototype._updateDataInfo=function(n){var r=this.dataZoomModel,a=this._displayables,i=a.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=n?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var d=Al(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(p){var v=qv(a.handles[p].parent,this.group),g=PN(p===0?"right":"left",v),m=this._handleWidth/2+CGt,y=Au([d[p]+(p===0?-m:m),this._size[1]/2],v);i[p].setStyle({x:y[0],y:y[1],verticalAlign:o===_b?"middle":g,align:o===_b?g:"center",text:s[p]})}},t.prototype._formatLabel=function(n,r){var a=this.dataZoomModel,i=a.get("labelFormatter"),o=a.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=n==null||isNaN(n)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(o,20));return Yt(i)?i(n,s):Dt(i)?i.replace("{value}",s):s},t.prototype._showDataInfo=function(n){var r=this.dataZoomModel.get("handleLabel")||{},a=r.show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=i.get("show")||!1,s=n||this._dragging?o:a,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(n,r,a,i){this._dragging=!0,qf(i.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Au([r,a],o,!0),l=this._updateInterval(n,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(n){var r=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,s=this._updateInterval("all",a[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(n){var r=n.offsetX,a=n.offsetY;this._brushStart=new bn(r,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(n){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var a=r.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=Al([cr(a.x,o,s,!0),cr(a.x+a.width,o,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(n){this._brushing&&(qf(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},t.prototype._updateBrushRect=function(n,r){var a=this._displayables,i=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new wb({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(n,r),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},t.prototype._dispatchZoomAction=function(n){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?kGt:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var n,r=lxe(this.dataZoomModel).infoList;if(!n&&r.length){var a=r[0].model.coordinateSystem;n=a.getRect&&a.getRect()}if(!n){var i=this.api.getWidth(),o=this.api.getHeight();n={x:i*.2,y:o*.2,width:i*.6,height:o*.6}}return n},t.type="dataZoom.slider",t}(LW);function EGt(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function Iee(e){return e==="vertical"?"ns-resize":"ew-resize"}function Exe(e){e.registerComponentModel(wGt),e.registerComponentView(IGt),OW(e)}function AGt(e){kn(Ixe),kn(Exe)}var Axe={get:function(e,t,n){var r=en((DGt[e]||{})[t]);return n&&st(r)?r[r.length-1]:r}},DGt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Eee=ci.mapVisual,NGt=ci.eachVisual,RGt=st,Aee=X,MGt=Al,$Gt=cr,GE=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a)},t.prototype.optionUpdated=function(n,r){var a=this.option;!r&&yxe(a,n,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(n){var r=this.stateList;n=Nt(n,this),this.controllerVisuals=i4(this.option.controller,r,n),this.targetVisuals=i4(this.option.target,r,n)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var n=this.option.seriesIndex,r=[];return n==null||n==="all"?this.ecModel.eachSeries(function(a,i){r.push(i)}):r=Ir(n),r},t.prototype.eachTargetSeries=function(n,r){X(this.getTargetSeriesIndices(),function(a){var i=this.ecModel.getSeriesByIndex(a);i&&n.call(r,i)},this)},t.prototype.isTargetSeries=function(n){var r=!1;return this.eachTargetSeries(function(a){a===n&&(r=!0)}),r},t.prototype.formatValueText=function(n,r,a){var i=this.option,o=i.precision,s=this.dataBound,l=i.formatter,u;a=a||["<",">"],st(n)&&(n=n.slice(),u=!0);var c=r?n:u?[f(n[0]),f(n[1])]:f(n);if(Dt(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Yt(l))return u?l(n[0],n[1]):l(n);if(u)return n[0]===s[0]?a[0]+" "+c[1]:n[1]===s[1]?a[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(d){return d===s[0]?"min":d===s[1]?"max":(+d).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var n=this.option,r=MGt([n.min,n.max]);this._dataExtent=r},t.prototype.getDataDimensionIndex=function(n){var r=this.option.dimension;if(r!=null)return n.getDimensionIndex(r);for(var a=n.dimensions,i=a.length-1;i>=0;i--){var o=a[i],s=n.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var n=this.ecModel,r=this.option,a={inRange:r.inRange,outOfRange:r.outOfRange},i=r.target||(r.target={}),o=r.controller||(r.controller={});mn(i,a),mn(o,a);var s=this.isCategory();l.call(this,i),l.call(this,o),u.call(this,i,"inRange","outOfRange"),c.call(this,o);function l(f){RGt(r.color)&&!f.inRange&&(f.inRange={color:r.color.slice().reverse()}),f.inRange=f.inRange||{color:n.get("gradientColor")}}function u(f,d,h){var p=f[d],v=f[h];p&&!v&&(v=f[h]={},Aee(p,function(g,m){if(ci.isValidType(m)){var y=Axe.get(m,"inactive",s);y!=null&&(v[m]=y,m==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function c(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,h=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),v=this.getItemSymbol(),g=v||"roundRect";Aee(this.stateList,function(m){var y=this.itemSize,b=f[m];b||(b=f[m]={color:s?p:[p]}),b.symbol==null&&(b.symbol=d&&en(d)||(s?g:[g])),b.symbolSize==null&&(b.symbolSize=h&&en(h)||(s?y[0]:[y[0],y[0]])),b.symbol=Eee(b.symbol,function(S){return S==="none"?g:S});var x=b.symbolSize;if(x!=null){var _=-1/0;NGt(x,function(S){S>_&&(_=S)}),b.symbolSize=Eee(x,function(S){return $Gt(S,[0,_],[0,y[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(n){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(n){return null},t.prototype.getVisualMeta=function(n){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Rn),Dee=[20,140],LGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(n,r){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=Dee[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=Dee[1])},t.prototype._resetRange=function(){var n=this.getExtent(),r=this.option.range;!r||r.auto?(n.auto=1,this.option.range=n):st(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],n[0]),r[1]=Math.min(r[1],n[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),X(this.stateList,function(n){var r=this.option.controller[n].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},t.prototype.setSelected=function(n){this.option.range=n.slice(),this._resetRange()},t.prototype.getSelected=function(){var n=this.getExtent(),r=Al((this.get("range")||[]).slice());return r[0]>n[1]&&(r[0]=n[1]),r[1]>n[1]&&(r[1]=n[1]),r[0]<n[0]&&(r[0]=n[0]),r[1]<n[0]&&(r[1]=n[0]),r},t.prototype.getValueState=function(n){var r=this.option.range,a=this.getExtent();return(r[0]<=a[0]||r[0]<=n)&&(r[1]>=a[1]||n<=r[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var r=[];return this.eachTargetSeries(function(a){var i=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(s,l){n[0]<=s&&s<=n[1]&&i.push(l)},this),r.push({seriesId:a.id,dataIndex:i})},this),r},t.prototype.getVisualMeta=function(n){var r=Nee(this,"outOfRange",this.getExtent()),a=Nee(this,"inRange",this.option.range.slice()),i=[];function o(h,p){i.push({value:h,color:n(h,p)})}for(var s=0,l=0,u=a.length,c=r.length;l<c&&(!a.length||r[l]<=a[0]);l++)r[l]<a[s]&&o(r[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&i.length&&o(a[s],"outOfRange"),o(a[s],"inRange");for(var f=1;l<c;l++)(!a.length||a[a.length-1]<r[l])&&(f&&(i.length&&o(i[i.length-1].value,"outOfRange"),f=0),o(r[l],"outOfRange"));var d=i.length;return{stops:i,outerColors:[d?i[0].color:"transparent",d?i[d-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=mp(GE.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(GE);function Nee(e,t,n){if(n[0]===n[1])return n.slice();for(var r=200,a=(n[1]-n[0])/r,i=n[0],o=[],s=0;s<=r&&i<n[1];s++)o.push(i),i+=a;return o.push(n[1]),o}var Dxe=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return t.prototype.init=function(n,r){this.ecModel=n,this.api=r},t.prototype.render=function(n,r,a,i){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender(n,r,a,i)},t.prototype.renderBackground=function(n){var r=this.visualMapModel,a=S1(r.get("padding")||0),i=n.getBoundingRect();n.add(new Bn({z2:-1,silent:!0,shape:{x:i.x-a[3],y:i.y-a[0],width:i.width+a[3]+a[1],height:i.height+a[0]+a[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},t.prototype.getControllerVisual=function(n,r,a){a=a||{};var i=a.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(h){return s[h]}function c(h,p){s[h]=p}var f=o.controllerVisuals[i||o.getValueState(n)],d=ci.prepareVisualTypes(f);return X(d,function(h){var p=f[h];a.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",p=f.__alphaForOpacity),ci.dependsOn(h,r)&&p&&p.applyVisual(n,u,c)}),s[r]},t.prototype.positionGroup=function(n){var r=this.visualMapModel,a=this.api;UN(n,r.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},t.prototype.doRender=function(n,r,a,i){},t.type="visualMap",t}(na),Ree=[["left","right","width"],["top","bottom","height"]];function Nxe(e,t,n){var r=e.option,a=r.align;if(a!=null&&a!=="auto")return a;for(var i={width:t.getWidth(),height:t.getHeight()},o=r.orient==="horizontal"?1:0,s=Ree[o],l=[0,null,10],u={},c=0;c<3;c++)u[Ree[1-o][c]]=l[c],u[s[c]]=c===2?n[0]:r[s[c]];var f=[["x","width",3],["y","height",0]][o],d=Ya(u,i,r.padding);return s[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<i[f[1]]*.5?0:1]}function $k(e,t){return X(e||[],function(n){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var ic=cr,OGt=X,Mee=Math.min,jL=Math.max,PGt=12,FGt=6,BGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return t.prototype.init=function(n,r){e.prototype.init.call(this,n,r),this._hoverLinkFromSeriesMouseOver=Nt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Nt(this._hideIndicator,this)},t.prototype.doRender=function(n,r,a,i){(!i||i.type!=="selectDataRange"||i.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var n=this.visualMapModel,r=this.group;this._orient=n.get("orient"),this._useHandle=n.get("calculable"),this._resetInterval(),this._renderBar(r);var a=n.get("text");this._renderEndsText(r,a,0),this._renderEndsText(r,a,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},t.prototype._renderEndsText=function(n,r,a){if(r){var i=r[1-a];i=i!=null?i+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,a===0?-s:l[1]+s],u),f=this._applyTransform(a===0?"bottom":"top",u),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Un({style:Fr(h,{x:c[0],y:c[1],verticalAlign:d==="horizontal"?"middle":f,align:d==="horizontal"?f:"center",text:i})}))}},t.prototype._renderBar=function(n){var r=this.visualMapModel,a=this._shapes,i=r.itemSize,o=this._orient,s=this._useHandle,l=Nxe(r,this.api,i),u=a.mainGroup=this._createBarGroup(l),c=new an;u.add(c),c.add(a.outOfRange=$ee()),c.add(a.inRange=$ee(null,s?Oee(this._orient):null,Nt(this._dragHandle,this,"all",!1),Nt(this._dragHandle,this,"all",!0))),c.setClipPath(new Bn({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var f=r.textStyleModel.getTextRect(""),d=jL(f.width,f.height);s&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(r,u,0,i,d,o),this._createHandle(r,u,1,i,d,o)),this._createIndicator(r,u,i,d,o),n.add(u)},t.prototype._createHandle=function(n,r,a,i,o,s){var l=Nt(this._dragHandle,this,a,!1),u=Nt(this._dragHandle,this,a,!0),c=Bu(n.get("handleSize"),i[0]),f=Ma(n.get("handleIcon"),-c/2,-c/2,c,c,null,!0),d=Oee(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){qf(m.event)}}),f.x=i[0]/2,f.useStyle(n.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=n.getModel(["emphasis","handleStyle"]).getItemStyle(),Av(f,!0),r.add(f);var h=this.visualMapModel.textStyleModel,p=new Un({cursor:d,draggable:!0,drift:l,onmousemove:function(m){qf(m.event)},ondragend:u,style:Fr(h,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var v=[c,0],g=this._shapes;g.handleThumbs[a]=f,g.handleLabelPoints[a]=v,g.handleLabels[a]=p},t.prototype._createIndicator=function(n,r,a,i,o){var s=Bu(n.get("indicatorSize"),a[0]),l=Ma(n.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var u=n.getModel("indicatorStyle").getItemStyle();if(l instanceof Ri){var c=l.style;l.useStyle(rt({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var f=this.visualMapModel.textStyleModel,d=new Un({silent:!0,invisible:!0,style:Fr(f,{x:0,y:0,text:""})});this.group.add(d);var h=[(o==="horizontal"?i/2:FGt)+a[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=d,p.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(n,r,a,i){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([a,i],this._shapes.mainGroup,!0);this._updateInterval(n,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():Lee(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},t.prototype._resetInterval=function(){var n=this.visualMapModel,r=this._dataInterval=n.getSelected(),a=n.getExtent(),i=[0,n.itemSize[1]];this._handleEnds=[ic(r[0],a,i,!0),ic(r[1],a,i,!0)]},t.prototype._updateInterval=function(n,r){r=r||0;var a=this.visualMapModel,i=this._handleEnds,o=[0,a.itemSize[1]];f0(r,i,o,n,0);var s=a.getExtent();this._dataInterval=[ic(i[0],o,s,!0),ic(i[1],o,s,!0)]},t.prototype._updateView=function(n){var r=this.visualMapModel,a=r.getExtent(),i=this._shapes,o=[0,r.itemSize[1]],s=n?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,a,s,"inRange"),u=this._createBarVisual(a,a,o,"outOfRange");i.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),i.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(n,r,a,i){var o={forceState:i,convertOpacityToAlpha:!0},s=this._makeColorGradient(n,o),l=[this.getControllerVisual(n[0],"symbolSize",o),this.getControllerVisual(n[1],"symbolSize",o)],u=this._createBarPoints(a,l);return{barColor:new hC(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(n,r){var a=100,i=[],o=(n[1]-n[0])/a;i.push({color:this.getControllerVisual(n[0],"color",r),offset:0});for(var s=1;s<a;s++){var l=n[0]+o*s;if(l>n[1])break;i.push({color:this.getControllerVisual(l,"color",r),offset:s/a})}return i.push({color:this.getControllerVisual(n[1],"color",r),offset:1}),i},t.prototype._createBarPoints=function(n,r){var a=this.visualMapModel.itemSize;return[[a[0]-r[0],n[0]],[a[0],n[0]],[a[0],n[1]],[a[0]-r[1],n[1]]]},t.prototype._createBarGroup=function(n){var r=this._orient,a=this.visualMapModel.get("inverse");return new an(r==="horizontal"&&!a?{scaleX:n==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&a?{scaleX:n==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!a?{scaleX:n==="left"?1:-1,scaleY:-1}:{scaleX:n==="left"?1:-1})},t.prototype._updateHandle=function(n,r){if(this._useHandle){var a=this._shapes,i=this.visualMapModel,o=a.handleThumbs,s=a.handleLabels,l=i.itemSize,u=i.getExtent(),c=this._applyTransform("left",a.mainGroup);OGt([0,1],function(f){var d=o[f];d.setStyle("fill",r.handlesColor[f]),d.y=n[f];var h=ic(n[f],[0,l[1]],u,!0),p=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=p/l[0],d.x=l[0]-p/2;var v=Au(a.handleLabelPoints[f],qv(d,this.group));if(this._orient==="horizontal"){var g=c==="left"||c==="top"?(l[0]-p)/2:(l[0]-p)/-2;v[1]+=g}s[f].setStyle({x:v[0],y:v[1],text:i.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",a.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(n,r,a,i){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},h=this.getControllerVisual(n,"color",d),p=this.getControllerVisual(n,"symbolSize"),v=ic(n,s,u,!0),g=l[0]-p/2,m={x:f.x,y:f.y};f.y=v,f.x=g;var y=Au(c.indicatorLabelPoint,qv(f,this.group)),b=c.indicatorLabel;b.attr("invisible",!1);var x=this._applyTransform("left",c.mainGroup),_=this._orient,S=_==="horizontal";b.setStyle({text:(a||"")+o.formatValueText(r),verticalAlign:S?x:"middle",align:S?"center":x});var C={x:g,y:v,style:{fill:h}},k={style:{x:y[0],y:y[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var T={duration:100,easing:"cubicInOut",additive:!0};f.x=m.x,f.y=m.y,f.animateTo(C,T),b.animateTo(k,T)}else f.attr(C),b.attr(k);this._firstShowIndicator=!1;var E=this._shapes.handleLabels;if(E)for(var I=0;I<E.length;I++)this.api.enterBlur(E[I])}},t.prototype._enableHoverLinkToSeries=function(){var n=this;this._shapes.mainGroup.on("mousemove",function(r){if(n._hovering=!0,!n._dragging){var a=n.visualMapModel.itemSize,i=n._applyTransform([r.offsetX,r.offsetY],n._shapes.mainGroup,!0,!0);i[1]=Mee(jL(0,i[1]),a[1]),n._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=a[0])}}).on("mouseout",function(){n._hovering=!1,!n._dragging&&n._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(n,r){var a=this.visualMapModel,i=a.itemSize;if(a.option.hoverLink){var o=[0,i[1]],s=a.getExtent();n=Mee(jL(o[0],n),o[1]);var l=VGt(a,s,o),u=[n-l,n+l],c=ic(n,o,s,!0),f=[ic(u[0],o,s,!0),ic(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),r&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var d=this._hoverLinkDataIndices,h=[];(r||Lee(a))&&(h=this._hoverLinkDataIndices=a.findTargetDataIndices(f));var p=jNt(d,h);this._dispatchHighDown("downplay",$k(p[0],a)),this._dispatchHighDown("highlight",$k(p[1],a))}},t.prototype._hoverLinkFromSeriesMouseOver=function(n){var r;if(Nv(n.target,function(l){var u=sn(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var a=this.ecModel.getSeriesByIndex(r.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(a)){var o=a.getData(r.dataType),s=o.getStore().get(i.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0),n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var a=0;a<r.length;a++)this.api.leaveBlur(r[a])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",$k(n,this.visualMapModel)),n.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver),n.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(n,r,a,i){var o=qv(r,i?null:this.group);return st(n)?Au(n,o,a):PN(n,o,a)},t.prototype._dispatchHighDown=function(n,r){r&&r.length&&this.api.dispatchAction({type:n,batch:r})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(Dxe);function $ee(e,t,n,r){return new ls({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(a){qf(a.event)},ondragend:r})}function VGt(e,t,n){var r=PGt/2,a=e.get("hoverLinkDataSize");return a&&(r=ic(a,t,n,!0)/2),r}function Lee(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function Oee(e){return e==="vertical"?"ns-resize":"ew-resize"}var zGt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},WGt=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})},HGt=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(r){var a=e.pipelineContext;!r.isTargetSeries(e)||a&&a.large||n.push(fUt(r.stateList,r.targetVisuals,Nt(r.getValueState,r),r.getDataDimensionIndex(e.getData())))}),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),r=[];t.eachComponent("visualMap",function(a){if(a.isTargetSeries(e)){var i=a.getVisualMeta(Nt(UGt,null,e,a))||{stops:[],outerColors:[]},o=a.getDataDimensionIndex(n);o>=0&&(i.dimension=o,r.push(i))}}),e.getData().setVisual("visualMeta",r)}}];function UGt(e,t,n,r){for(var a=t.targetVisuals[r],i=ci.prepareVisualTypes(a),o={color:mC(e.getData(),"color")},s=0,l=i.length;s<l;s++){var u=i[s],c=a[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(n,f,d)}return o.color;function f(h){return o[h]}function d(h,p){o[h]=p}}var Pee=X;function GGt(e){var t=e&&e.visualMap;st(t)||(t=t?[t]:[]),Pee(t,function(n){if(n){j0(n,"splitList")&&!j0(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var r=n.pieces;r&&st(r)&&Pee(r,function(a){Jt(a)&&(j0(a,"start")&&!j0(a,"min")&&(a.min=a.start),j0(a,"end")&&!j0(a,"max")&&(a.max=a.end))})}})}function j0(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var Fee=!1;function Rxe(e){Fee||(Fee=!0,e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),e.registerAction(zGt,WGt),X(HGt,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(GGt))}function Mxe(e){e.registerComponentModel(LGt),e.registerComponentView(BGt),Rxe(e)}var KGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return t.prototype.optionUpdated=function(n,r){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],jGt[this._mode].call(this,this._pieceList),this._resetSelected(n,r);var i=this.option.categories;this.resetVisual(function(o,s){a==="categories"?(o.mappingMethod="category",o.categories=en(i)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=ut(this._pieceList,function(l){return l=en(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var n=this.option,r={},a=ci.listVisualTypes(),i=this.isCategory();X(n.pieces,function(s){X(a,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),X(r,function(s,l){var u=!1;X(this.stateList,function(c){u=u||o(n,c,l)||o(n.target,c,l)},this),!u&&X(this.stateList,function(c){(n[c]||(n[c]={}))[l]=Axe.get(l,c==="inRange"?"active":"inactive",i)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(n,r){var a=this.option,i=this._pieceList,o=(r?a:n).selected||{};if(a.selected=o,X(i,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),a.selectedMode==="single"){var s=!1;X(i,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(n){return this._mode==="categories"?n.value+"":n.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(n){this.option.selected=en(n)},t.prototype.getValueState=function(n){var r=ci.findPieceIndex(n,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var r=[],a=this._pieceList;return this.eachTargetSeries(function(i){var o=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=ci.findPieceIndex(l,a);c===n&&o.push(u)},this),r.push({seriesId:i.id,dataIndex:o})},this),r},t.prototype.getRepresentValue=function(n){var r;if(this.isCategory())r=n.value;else if(n.value!=null)r=n.value;else{var a=n.interval||[];r=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return r},t.prototype.getVisualMeta=function(n){if(this.isCategory())return;var r=[],a=["",""],i=this;function o(c,f){var d=i.getRepresentValue({interval:c});f||(f=i.getValueState(d));var h=n(d,f);c[0]===-1/0?a[0]=h:c[1]===1/0?a[1]=h:r.push({value:c[0],color:h},{value:c[1],color:h})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return X(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:r,outerColors:a}},t.type="visualMap.piecewise",t.defaultOption=mp(GE.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(GE),jGt={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),r=this.getExtent(),a=t.splitNumber;a=Math.max(parseInt(a,10),1),t.splitNumber=a;for(var i=(r[1]-r[0])/a;+i.toFixed(n)!==i&&n<5;)n++;t.precision=n,i=+i.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<a;s+=i,o++){var l=o===a-1?r[1]:s+i;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),NY(e),X(e,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(e){var t=this.option;X(t.categories,function(n){e.push({text:this.formatValueText(n,!0),value:n})},this),Bee(t,e)},pieces:function(e){var t=this.option;X(t.pieces,function(n,r){Jt(n)||(n={value:n});var a={text:"",index:r};if(n.label!=null&&(a.text=n.label),n.hasOwnProperty("value")){var i=a.value=n.value;a.interval=[i,i],a.close=[1,1]}else{for(var o=a.interval=[],s=a.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],h=0;h<3&&o[f]==null;h++)o[f]=n[d[h]],s[f]=l[h],c[f]=h===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(a.value=o[0])}a.visual=ci.retrieveVisuals(n),e.push(a)},this),Bee(t,e),NY(e),X(e,function(n){var r=n.close,a=[["<",""][r[1]],[">",""][r[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,a)},this)}};function Bee(e,t){var n=e.inverse;(e.orient==="vertical"?!n:n)&&t.reverse()}var YGt=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.doRender=function(){var n=this.group;n.removeAll();var r=this.visualMapModel,a=r.get("textGap"),i=r.textStyleModel,o=i.getFont(),s=i.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),f=c.endsText,d=Si(r.get("showLabel",!0),!f),h=!r.get("selectedMode");f&&this._renderEndsText(n,f[0],u,d,l),X(c.viewPieceList,function(p){var v=p.piece,g=new an;g.onclick=Nt(this._onItemClick,this,v),this._enableHoverLink(g,p.indexInModelPieceList);var m=r.getRepresentValue(v);if(this._createItemSymbol(g,m,[0,0,u[0],u[1]],h),d){var y=this.visualMapModel.getValueState(m);g.add(new Un({style:{x:l==="right"?-a:u[0]+a,y:u[1]/2,text:v.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:y==="outOfRange"?.5:1},silent:h}))}n.add(g)},this),f&&this._renderEndsText(n,f[1],u,d,l),Zv(r.get("orient"),n,r.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},t.prototype._enableHoverLink=function(n,r){var a=this;n.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(o){var s=a.visualMapModel;s.option.hoverLink&&a.api.dispatchAction({type:o,batch:$k(s.findTargetDataIndices(r),s)})}},t.prototype._getItemAlign=function(){var n=this.visualMapModel,r=n.option;if(r.orient==="vertical")return Nxe(n,this.api,n.itemSize);var a=r.align;return(!a||a==="auto")&&(a="left"),a},t.prototype._renderEndsText=function(n,r,a,i,o){if(r){var s=new an,l=this.visualMapModel.textStyleModel;s.add(new Un({style:Fr(l,{x:i?o==="right"?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:i?o:"center",text:r})})),n.add(s)}},t.prototype._getViewData=function(){var n=this.visualMapModel,r=ut(n.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),a=n.get("text"),i=n.get("orient"),o=n.get("inverse");return(i==="horizontal"?o:!o)?r.reverse():a&&(a=a.slice().reverse()),{viewPieceList:r,endsText:a}},t.prototype._createItemSymbol=function(n,r,a,i){var o=Ma(this.getControllerVisual(r,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(r,"color"));o.silent=i,n.add(o)},t.prototype._onItemClick=function(n){var r=this.visualMapModel,a=r.option,i=a.selectedMode;if(i){var o=en(a.selected),s=r.getSelectedMapKey(n);i==="single"||i===!0?(o[s]=!0,X(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(Dxe);function $xe(e){e.registerComponentModel(KGt),e.registerComponentView(YGt),Rxe(e)}function XGt(e){kn(Mxe),kn($xe)}var qGt={label:{enabled:!0},decal:{show:!1}},Vee=Vn(),ZGt={};function JGt(e,t){var n=e.getModel("aria");if(!n.get("enabled"))return;var r=en(qGt);mn(r.label,e.getLocaleModel().get("aria"),!1),mn(n.option,r,!1),a(),i();function a(){var u=n.getModel("decal"),c=u.get("show");if(c){var f=Pt();e.eachSeries(function(d){if(!d.isColorBySeries()){var h=f.get(d.type);h||(h={},f.set(d.type,h)),Vee(d).scope=h}}),e.eachRawSeries(function(d){if(e.isSeriesFiltered(d))return;if(Yt(d.enableAriaDecal)){d.enableAriaDecal();return}var h=d.getData();if(d.isColorBySeries()){var y=f3(d.ecModel,d.name,ZGt,e.getSeriesCount()),b=h.getVisual("decal");h.setVisual("decal",x(b,y))}else{var p=d.getRawData(),v={},g=Vee(d).scope;h.each(function(_){var S=h.getRawIndex(_);v[S]=_});var m=p.count();p.each(function(_){var S=v[_],C=p.getName(_)||_+"",k=f3(d.ecModel,C,g,m),T=h.getItemVisual(S,"decal");h.setItemVisual(S,"decal",x(T,k))})}function x(_,S){var C=_?rt(rt({},S),_):S;return C.dirty=!0,C}})}}function i(){var u=t.getZr().dom;if(u){var c=e.getLocaleModel().get("aria"),f=n.getModel("label");if(f.option=Xt(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var d=e.getSeriesCount(),h=f.get(["data","maxCount"])||10,p=f.get(["series","maxCount"])||10,v=Math.min(d,p),g;if(!(d<1)){var m=s();if(m){var y=f.get(["general","withTitle"]);g=o(y,{title:m})}else g=f.get(["general","withoutTitle"]);var b=[],x=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);g+=o(x,{seriesCount:d}),e.eachSeries(function(k,T){if(T<v){var E=void 0,I=k.get("name"),A=I?"withName":"withoutName";E=d>1?f.get(["series","multiple",A]):f.get(["series","single",A]),E=o(E,{seriesId:k.seriesIndex,seriesName:k.get("name"),seriesType:l(k.subType)});var N=k.getData();if(N.count()>h){var L=f.get(["data","partialData"]);E+=o(L,{displayCnt:h})}else E+=f.get(["data","allData"]);for(var R=f.get(["data","separator","middle"]),D=f.get(["data","separator","end"]),P=f.get(["data","excludeDimensionId"]),O=[],M=0;M<N.count();M++)if(M<h){var W=N.getName(M),U=P?sr(N.getValues(M),function(H,K){return Cn(P,K)===-1}):N.getValues(M),V=f.get(["data",W?"withName":"withoutName"]);O.push(o(V,{name:W,value:U.join(R)}))}E+=O.join(R)+D,b.push(E)}});var _=f.getModel(["series","multiple","separator"]),S=_.get("middle"),C=_.get("end");g+=b.join(S)+C,u.setAttribute("aria-label",g)}}}}function o(u,c){if(!Dt(u))return u;var f=u;return X(c,function(d,h){f=f.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),d)}),f}function s(){var u=e.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=e.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function QGt(e){if(!(!e||!e.aria)){var t=e.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},X(["description","general","series","data"],function(n){t[n]!=null&&(t.label[n]=t[n])})}}function e9t(e){e.registerPreprocessor(QGt),e.registerVisual(e.PRIORITY.VISUAL.ARIA,JGt)}var zee={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},t9t=function(){function e(t){var n=this._condVal=Dt(t)?new RegExp(t):hDt(t)?t:null;if(n==null){var r="";or(r)}}return e.prototype.evaluate=function(t){var n=typeof t;return Dt(n)?this._condVal.test(t):Kn(n)?this._condVal.test(t+""):!1},e}(),n9t=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),r9t=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(!t[n].evaluate())return!1;return!0},e}(),a9t=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(t[n].evaluate())return!0;return!1},e}(),i9t=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),o9t=function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,n=this.getValue,r=n(this.valueGetterParam),a=t?this.valueParser(r):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?a:r))return!1;return!0},e}();function GW(e,t){if(e===!0||e===!1){var n=new n9t;return n.value=e,n}var r="";return Lxe(e)||or(r),e.and?Wee("and",e,t):e.or?Wee("or",e,t):e.not?s9t(e,t):l9t(e,t)}function Wee(e,t,n){var r=t[e],a="";st(r)||or(a),r.length||or(a);var i=e==="and"?new r9t:new a9t;return i.children=ut(r,function(o){return GW(o,n)}),i.children.length||or(a),i}function s9t(e,t){var n=e.not,r="";Lxe(n)||or(r);var a=new i9t;return a.child=GW(n,t),a.child||or(r),a}function l9t(e,t){for(var n="",r=t.prepareGetValue(e),a=[],i=Mn(e),o=e.parser,s=o?gme(o):null,l=0;l<i.length;l++){var u=i[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=Mt(zee,u)?zee[u]:u,f=e[u],d=s?s(f):f,h=q$t(c,d)||c==="reg"&&new t9t(d);h||or(n),a.push(h)}}a.length||or(n);var p=new o9t;return p.valueGetterParam=r,p.valueParser=s,p.getValue=t.getValue,p.subCondList=a,p}function Lxe(e){return Jt(e)&&!Co(e)}var u9t=function(){function e(t,n){this._cond=GW(t,n)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function c9t(e,t){return new u9t(e,t)}var f9t={type:"echarts:filter",transform:function(e){for(var t=e.upstream,n,r=c9t(e.config,{valueGetterAttrMap:Pt({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Mt(s,"dimension")||or(l);var c=t.getDimensionInfo(u);return c||or(l),{dimIdx:c.index}},getValue:function(s){return t.retrieveValueFromItem(n,s.dimIdx)}}),a=[],i=0,o=t.count();i<o;i++)n=t.getRawDataItem(i),r.evaluate()&&a.push(n);return{data:a}}},d9t={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,r="",a=Ir(n);a.length||or(r);var i=[];X(a,function(c){var f=c.dimension,d=c.order,h=c.parser,p=c.incomparable;if(f==null&&or(r),d!=="asc"&&d!=="desc"&&or(r),p&&p!=="min"&&p!=="max"){var v="";or(v)}if(d!=="asc"&&d!=="desc"){var g="";or(g)}var m=t.getDimensionInfo(f);m||or(r);var y=h?gme(h):null;h&&!y&&or(r),i.push({dimIdx:m.index,parser:y,comparator:new yme(d,p)})});var o=t.sourceFormat;o!==To&&o!==Xl&&or(r);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(c,f){for(var d=0;d<i.length;d++){var h=i[d],p=t.retrieveValueFromItem(c,h.dimIdx),v=t.retrieveValueFromItem(f,h.dimIdx);h.parser&&(p=h.parser(p),v=h.parser(v));var g=h.comparator.evaluate(p,v);if(g!==0)return g}return 0}),{data:s}}};function h9t(e){e.registerTransform(f9t),e.registerTransform(d9t)}var p9t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataset",n}return t.prototype.init=function(n,r,a){e.prototype.init.call(this,n,r,a),this._sourceManager=new _me(this),HX(this)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),HX(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Mc},t}(Rn),v9t=function(e){Oe(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataset",n}return t.type="dataset",t}(na);function g9t(e){e.registerComponentModel(p9t),e.registerComponentView(v9t)}var tc=Yc.CMD;function ym(e,t){return Math.abs(e-t)<1e-5}function d4(e){var t=e.data,n=e.len(),r=[],a,i=0,o=0,s=0,l=0;function u(N,L){a&&a.length>2&&r.push(a),a=[N,L]}function c(N,L,R,D){ym(N,R)&&ym(L,D)||a.push(N,L,R,D,R,D)}function f(N,L,R,D,P,O){var M=Math.abs(L-N),W=Math.tan(M/4)*4/3,U=L<N?-1:1,V=Math.cos(N),H=Math.sin(N),K=Math.cos(L),j=Math.sin(L),ne=V*P+R,Q=H*O+D,oe=K*P+R,ae=j*O+D,me=P*W*U,ve=O*W*U;a.push(ne-me*H,Q+ve*V,oe+me*j,ae-ve*K,oe,ae)}for(var d,h,p,v,g=0;g<n;){var m=t[g++],y=g===1;switch(y&&(i=t[g],o=t[g+1],s=i,l=o,(m===tc.L||m===tc.C||m===tc.Q)&&(a=[s,l])),m){case tc.M:i=s=t[g++],o=l=t[g++],u(s,l);break;case tc.L:d=t[g++],h=t[g++],c(i,o,d,h),i=d,o=h;break;case tc.C:a.push(t[g++],t[g++],t[g++],t[g++],i=t[g++],o=t[g++]);break;case tc.Q:d=t[g++],h=t[g++],p=t[g++],v=t[g++],a.push(i+2/3*(d-i),o+2/3*(h-o),p+2/3*(d-p),v+2/3*(h-v),p,v),i=p,o=v;break;case tc.A:var b=t[g++],x=t[g++],_=t[g++],S=t[g++],C=t[g++],k=t[g++]+C;g+=1;var T=!t[g++];d=Math.cos(C)*_+b,h=Math.sin(C)*S+x,y?(s=d,l=h,u(s,l)):c(i,o,d,h),i=Math.cos(k)*_+b,o=Math.sin(k)*S+x;for(var E=(T?-1:1)*Math.PI/2,I=C;T?I>k:I<k;I+=E){var A=T?Math.max(I+E,k):Math.min(I+E,k);f(I,A,b,x,_,S)}break;case tc.R:s=i=t[g++],l=o=t[g++],d=s+t[g++],h=l+t[g++],u(d,l),c(d,l,d,h),c(d,h,s,h),c(s,h,s,l),c(s,l,d,l);break;case tc.Z:a&&c(i,o,s,l),i=s,o=l;break}}return a&&a.length>2&&r.push(a),r}function h4(e,t,n,r,a,i,o,s,l,u){if(ym(e,n)&&ym(t,r)&&ym(a,o)&&ym(i,s)){l.push(o,s);return}var c=2/u,f=c*c,d=o-e,h=s-t,p=Math.sqrt(d*d+h*h);d/=p,h/=p;var v=n-e,g=r-t,m=a-o,y=i-s,b=v*v+g*g,x=m*m+y*y;if(b<f&&x<f){l.push(o,s);return}var _=d*v+h*g,S=-d*m-h*y,C=b-_*_,k=x-S*S;if(C<f&&_>=0&&k<f&&S>=0){l.push(o,s);return}var T=[],E=[];Wh(e,n,a,o,.5,T),Wh(t,r,i,s,.5,E),h4(T[0],E[0],T[1],E[1],T[2],E[2],T[3],E[3],l,u),h4(T[4],E[4],T[5],E[5],T[6],E[6],T[7],E[7],l,u)}function m9t(e,t){var n=d4(e),r=[];t=t||1;for(var a=0;a<n.length;a++){var i=n[a],o=[],s=i[0],l=i[1];o.push(s,l);for(var u=2;u<i.length;){var c=i[u++],f=i[u++],d=i[u++],h=i[u++],p=i[u++],v=i[u++];h4(s,l,c,f,d,h,p,v,o,t),s=p,l=v}r.push(o)}return r}function Oxe(e,t,n){var r=e[t],a=e[1-t],i=Math.abs(r/a),o=Math.ceil(Math.sqrt(i*n)),s=Math.floor(n/o);s===0&&(s=1,o=n);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=n-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function Hee(e,t,n){for(var r=e.r0,a=e.r,i=e.startAngle,o=e.endAngle,s=Math.abs(o-i),l=s*a,u=a-r,c=l>Math.abs(u),f=Oxe([l,u],c?0:1,t),d=(c?s:u)/f.length,h=0;h<f.length;h++)for(var p=(c?u:s)/f[h],v=0;v<f[h];v++){var g={};c?(g.startAngle=i+d*h,g.endAngle=i+d*(h+1),g.r0=r+p*v,g.r=r+p*(v+1)):(g.startAngle=i+p*v,g.endAngle=i+p*(v+1),g.r0=r+d*h,g.r=r+d*(h+1)),g.clockwise=e.clockwise,g.cx=e.cx,g.cy=e.cy,n.push(g)}}function y9t(e,t,n){for(var r=e.width,a=e.height,i=r>a,o=Oxe([r,a],i?0:1,t),s=i?"width":"height",l=i?"height":"width",u=i?"x":"y",c=i?"y":"x",f=e[s]/o.length,d=0;d<o.length;d++)for(var h=e[l]/o[d],p=0;p<o[d];p++){var v={};v[u]=d*f,v[c]=p*h,v[s]=f,v[l]=h,v.x+=e.x,v.y+=e.y,n.push(v)}}function Uee(e,t,n,r){return e*r-n*t}function b9t(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=Uee(c,f,l,u);if(Math.abs(d)<1e-6)return null;var h=e-a,p=t-i,v=Uee(h,p,c,f)/d;return v<0||v>1?null:new bn(v*l+e,v*u+t)}function x9t(e,t,n){var r=new bn;bn.sub(r,n,t),r.normalize();var a=new bn;bn.sub(a,e,t);var i=a.dot(r);return i}function Y0(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function w9t(e,t,n){for(var r=e.length,a=[],i=0;i<r;i++){var o=e[i],s=e[(i+1)%r],l=b9t(o[0],o[1],s[0],s[1],t.x,t.y,n.x,n.y);l&&a.push({projPt:x9t(l,t,n),pt:l,idx:i})}if(a.length<2)return[{points:e},{points:e}];a.sort(function(g,m){return g.projPt-m.projPt});var u=a[0],c=a[a.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var d=[u.pt.x,u.pt.y],h=[c.pt.x,c.pt.y],p=[d],v=[h],i=u.idx+1;i<=c.idx;i++)Y0(p,e[i].slice());Y0(p,h),Y0(p,d);for(var i=c.idx+1;i<=u.idx+r;i++)Y0(v,e[i%r].slice());return Y0(v,d),Y0(v,h),[{points:p},{points:v}]}function Gee(e){var t=e.points,n=[],r=[];NN(t,n,r);var a=new xn(n[0],n[1],r[0]-n[0],r[1]-n[1]),i=a.width,o=a.height,s=a.x,l=a.y,u=new bn,c=new bn;return i>o?(u.x=c.x=s+i/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+i),w9t(t,u,c)}function KE(e,t,n,r){if(n===1)r.push(t);else{var a=Math.floor(n/2),i=e(t);KE(e,i[0],a,r),KE(e,i[1],n-a,r)}return r}function _9t(e,t){for(var n=[],r=0;r<t;r++)n.push(u5(e));return n}function S9t(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function C9t(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}function T9t(e,t){var n=[],r=e.shape,a;switch(e.type){case"rect":y9t(r,t,n),a=Bn;break;case"sector":Hee(r,t,n),a=ss;break;case"circle":Hee({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},t,n),a=ss;break;default:var i=e.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=ut(m9t(e.getUpdatedPathProxy(),o),function(m){return C9t(m)}),l=s.length;if(l===0)KE(Gee,{points:s[0]},t,n);else if(l===t)for(var u=0;u<l;u++)n.push({points:s[u]});else{var c=0,f=ut(s,function(m){var y=[],b=[];NN(m,y,b);var x=(b[1]-y[1])*(b[0]-y[0]);return c+=x,{poly:m,area:x}});f.sort(function(m,y){return y.area-m.area});for(var d=t,u=0;u<l;u++){var h=f[u];if(d<=0)break;var p=u===l-1?d:Math.ceil(h.area/c*t);p<0||(KE(Gee,{points:h.poly},p,n),d-=p)}}a=ls;break}if(!a)return _9t(e,t);for(var v=[],u=0;u<n.length;u++){var g=new a;g.setShape(n[u]),S9t(e,g),v.push(g)}return v}function k9t(e,t){var n=e.length,r=t.length;if(n===r)return[e,t];for(var a=[],i=[],o=n<r?e:t,s=Math.min(n,r),l=Math.abs(r-n)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],d=l,h=2;h<s;){var p=o[h-2],v=o[h-1],g=o[h++],m=o[h++],y=o[h++],b=o[h++],x=o[h++],_=o[h++];if(d<=0){f.push(g,m,y,b,x,_);continue}for(var S=Math.min(d,c-1)+1,C=1;C<=S;C++){var k=C/S;Wh(p,g,y,x,k,a),Wh(v,m,b,_,k,i),p=a[3],v=i[3],f.push(a[1],i[1],a[2],i[2],p,v),g=a[5],m=i[5],y=a[6],b=i[6]}d-=S-1}return o===e?[f,t]:[e,f]}function Kee(e,t){for(var n=e.length,r=e[n-2],a=e[n-1],i=[],o=0;o<t.length;)i[o++]=r,i[o++]=a;return i}function I9t(e,t){for(var n,r,a,i=[],o=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],c=void 0,f=void 0;l?u?(n=k9t(l,u),c=n[0],f=n[1],r=c,a=f):(f=Kee(a||l,l),c=l):(c=Kee(r||u,u),f=u),i.push(c),o.push(f)}return[i,o]}function jee(e){for(var t=0,n=0,r=0,a=e.length,i=0,o=a-2;i<a;o=i,i+=2){var s=e[o],l=e[o+1],u=e[i],c=e[i+1],f=s*c-u*l;t+=f,n+=(s+u)*f,r+=(l+c)*f}return t===0?[e[0]||0,e[1]||0]:[n/t/3,r/t/3,t]}function E9t(e,t,n,r){for(var a=(e.length-2)/6,i=1/0,o=0,s=e.length,l=s-2,u=0;u<a;u++){for(var c=u*6,f=0,d=0;d<s;d+=2){var h=d===0?c:(c+d-2)%l+2,p=e[h]-n[0],v=e[h+1]-n[1],g=t[d]-r[0],m=t[d+1]-r[1],y=g-p,b=m-v;f+=y*y+b*b}f<i&&(i=f,o=u)}return o}function A9t(e){for(var t=[],n=e.length,r=0;r<n;r+=2)t[r]=e[n-r-2],t[r+1]=e[n-r-1];return t}function D9t(e,t,n,r){for(var a=[],i,o=0;o<e.length;o++){var s=e[o],l=t[o],u=jee(s),c=jee(l);i==null&&(i=u[2]<0!=c[2]<0);var f=[],d=[],h=0,p=1/0,v=[],g=s.length;i&&(s=A9t(s));for(var m=E9t(s,l,u,c)*6,y=g-2,b=0;b<y;b+=2){var x=(m+b)%y+2;f[b+2]=s[x]-u[0],f[b+3]=s[x+1]-u[1]}f[0]=s[m]-u[0],f[1]=s[m+1]-u[1];for(var _=r/n,S=-r/2;S<=r/2;S+=_){for(var C=Math.sin(S),k=Math.cos(S),T=0,b=0;b<s.length;b+=2){var E=f[b],I=f[b+1],A=l[b]-c[0],N=l[b+1]-c[1],L=A*k-N*C,R=A*C+N*k;v[b]=L,v[b+1]=R;var D=L-E,P=R-I;T+=D*D+P*P}if(T<p){p=T,h=S;for(var O=0;O<v.length;O++)d[O]=v[O]}}a.push({from:f,to:d,fromCp:u,toCp:c,rotation:-h})}return a}function jE(e){return e.__isCombineMorphing}var Pxe="__mOriginal_";function YE(e,t,n){var r=Pxe+t,a=e[r]||e[t];e[r]||(e[r]=e[t]);var i=n.replace,o=n.after,s=n.before;e[t]=function(){var l=arguments,u;return s&&s.apply(this,l),i?u=i.apply(this,l):u=a.apply(this,l),o&&o.apply(this,l),u}}function Px(e,t){var n=Pxe+t;e[n]&&(e[t]=e[n],e[n]=null)}function Yee(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],a=0;a<r.length;){var i=r[a],o=r[a+1];r[a++]=t[0]*i+t[2]*o+t[4],r[a++]=t[1]*i+t[3]*o+t[5]}}function Fxe(e,t){var n=e.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),a=I9t(d4(n),d4(r)),i=a[0],o=a[1],s=e.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&Yee(i,s),l&&Yee(o,l),YE(t,"updateTransform",{replace:u}),t.transform=null;var c=D9t(i,o,10,Math.PI),f=[];YE(t,"buildPath",{replace:function(d){for(var h=t.__morphT,p=1-h,v=[],g=0;g<c.length;g++){var m=c[g],y=m.from,b=m.to,x=m.rotation*h,_=m.fromCp,S=m.toCp,C=Math.sin(x),k=Math.cos(x);gk(v,_,S,h);for(var T=0;T<y.length;T+=2){var E=y[T],I=y[T+1],A=b[T],N=b[T+1],L=E*p+A*h,R=I*p+N*h;f[T]=L*k-R*C+v[0],f[T+1]=L*C+R*k+v[1]}var D=f[0],P=f[1];d.moveTo(D,P);for(var T=2;T<y.length;){var A=f[T++],N=f[T++],O=f[T++],M=f[T++],W=f[T++],U=f[T++];D===A&&P===N&&O===W&&M===U?d.lineTo(W,U):d.bezierCurveTo(A,N,O,M,W,U),D=W,P=U}}}})}function KW(e,t,n){if(!e||!t)return t;var r=n.done,a=n.during;Fxe(e,t),t.__morphT=0;function i(){Px(t,"buildPath"),Px(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Xt({during:function(o){t.dirtyShape(),a&&a(o)},done:function(){i(),r&&r()}},n)),t}function N9t(e,t,n,r,a,i){var o=16;e=a===n?0:Math.round(32767*(e-n)/(a-n)),t=i===r?0:Math.round(32767*(t-r)/(i-r));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(e&u)>0&&(c=1),(t&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(e=u-1-e,t=u-1-t),l=e,e=t,t=l)}return s}function XE(e){var t=1/0,n=1/0,r=-1/0,a=-1/0,i=ut(e,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),n=Math.min(f,n),r=Math.max(c,r),a=Math.max(f,a),[c,f]}),o=ut(i,function(s,l){return{cp:s,z:N9t(s[0],s[1],t,n,r,a),path:e[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Bxe(e){return T9t(e.path,e.count)}function p4(){return{fromIndividuals:[],toIndividuals:[],count:0}}function R9t(e,t,n){var r=[];function a(_){for(var S=0;S<_.length;S++){var C=_[S];jE(C)?a(C.childrenRef()):C instanceof An&&r.push(C)}}a(e);var i=r.length;if(!i)return p4();var o=n.dividePath||Bxe,s=o({path:t,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),p4();r=XE(r),s=XE(s);for(var l=n.done,u=n.during,c=n.individualDelay,f=new Nf,d=0;d<i;d++){var h=r[d],p=s[d];p.parent=t,p.copyTransform(f),c||Fxe(h,p)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function v(_){for(var S=0;S<s.length;S++)s[S].addSelfToZr(_)}YE(t,"addSelfToZr",{after:function(_){v(_)}}),YE(t,"removeSelfFromZr",{after:function(_){for(var S=0;S<s.length;S++)s[S].removeSelfFromZr(_)}});function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Px(t,"addSelfToZr"),Px(t,"removeSelfFromZr")}var m=s.length;if(c)for(var y=m,b=function(){y--,y===0&&(g(),l&&l())},d=0;d<m;d++){var x=c?Xt({delay:(n.delay||0)+c(d,m,r[d],s[d]),done:b},n):n;KW(r[d],s[d],x)}else t.__morphT=0,t.animateTo({__morphT:1},Xt({during:function(_){for(var S=0;S<m;S++){var C=s[S];C.__morphT=t.__morphT,C.dirtyShape()}u&&u(_)},done:function(){g();for(var _=0;_<e.length;_++)Px(e[_],"updateTransform");l&&l()}},n));return t.__zr&&v(t.__zr),{fromIndividuals:r,toIndividuals:s,count:m}}function M9t(e,t,n){var r=t.length,a=[],i=n.dividePath||Bxe;function o(h){for(var p=0;p<h.length;p++){var v=h[p];jE(v)?o(v.childrenRef()):v instanceof An&&a.push(v)}}if(jE(e)){o(e.childrenRef());var s=a.length;if(s<r)for(var l=0,u=s;u<r;u++)a.push(u5(a[l++%s]));a.length=r}else{a=i({path:e,count:r});for(var c=e.getComputedTransform(),u=0;u<a.length;u++)a[u].setLocalTransform(c);if(a.length!==r)return console.error("Invalid morphing: unmatched splitted path"),p4()}a=XE(a),t=XE(t);for(var f=n.individualDelay,u=0;u<r;u++){var d=f?Xt({delay:(n.delay||0)+f(u,r,a[u],t[u])},n):n;KW(a[u],t[u],d)}return{fromIndividuals:a,toIndividuals:t,count:t.length}}function Xee(e){return st(e[0])}function qee(e,t){for(var n=[],r=e.length,a=0;a<r;a++)n.push({one:e[a],many:[]});for(var a=0;a<t.length;a++){var i=t[a].length,o=void 0;for(o=0;o<i;o++)n[o%r].many.push(t[a][o])}for(var s=0,a=r-1;a>=0;a--)if(!n[a].many.length){var l=n[s].many;if(l.length<=1)if(s)s=0;else return n;var i=l.length,u=Math.ceil(i/2);n[a].many=l.slice(u,i),n[s].many=l.slice(0,u),s++}return n}var $9t={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),r=0;r<e.count;r++){var a=u5(e.path);a.setStyle("opacity",n),t.push(a)}return t},split:null};function YL(e,t,n,r,a,i){if(!e.length||!t.length)return;var o=x1("update",r,a);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;Xee(e)&&(u=e,c=t),Xee(t)&&(u=t,c=e);function f(m,y,b,x,_){var S=m.many,C=m.one;if(S.length===1&&!_){var k=y?S[0]:C,T=y?C:S[0];if(jE(k))f({many:[k],one:T},!0,b,x,!0);else{var E=s?Xt({delay:s(b,x)},l):l;KW(k,T,E),i(k,T,k,T,E)}}else for(var I=Xt({dividePath:$9t[n],individualDelay:s&&function(P,O,M,W){return s(P+b,x)}},l),A=y?R9t(S,C,I):M9t(C,S,I),N=A.fromIndividuals,L=A.toIndividuals,R=N.length,D=0;D<R;D++){var E=s?Xt({delay:s(D,R)},l):l;i(N[D],L[D],y?S[D]:m.one,y?m.one:S[D],E)}}for(var d=u?u===e:e.length>t.length,h=u?qee(c,u):qee(d?t:e,[d?e:t]),p=0,v=0;v<h.length;v++)p+=h[v].many.length;for(var g=0,v=0;v<h.length;v++)f(h[v],d,g,p),g+=h[v].many.length}function iv(e){if(!e)return[];if(st(e)){for(var t=[],n=0;n<e.length;n++)t.push(iv(e[n]));return t}var r=[];return e.traverse(function(a){a instanceof An&&!a.disableMorphing&&!a.invisible&&!a.ignore&&r.push(a)}),r}var Vxe=1e4,L9t=0,Zee=1,Jee=2,O9t=Vn();function P9t(e,t){for(var n=e.dimensions,r=0;r<n.length;r++){var a=e.getDimensionInfo(n[r]);if(a&&a.otherDims[t]===0)return n[r]}}function F9t(e,t,n){var r=e.getDimensionInfo(n),a=r&&r.ordinalMeta;if(r){var i=e.get(r.name,t);return a&&a.categories[i]||i+""}}function Qee(e,t,n,r){var a=r?"itemChildGroupId":"itemGroupId",i=P9t(e,a);if(i){var o=F9t(e,t,i);return o}var s=e.getRawDataItem(t),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return n||e.getId(t)}function ete(e){var t=[];return X(e,function(n){var r=n.data,a=n.dataGroupId;if(!(r.count()>Vxe))for(var i=r.getIndices(),o=0;o<i.length;o++)t.push({data:r,groupId:Qee(r,o,a,!1),childGroupId:Qee(r,o,a,!0),divide:n.divide,dataIndex:o})}),t}function XL(e,t,n){e.traverse(function(r){r instanceof An&&Xr(r,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})})}function qL(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function X0(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function B9t(e,t,n){var r=x1("update",n,t);r&&e.traverse(function(a){if(a instanceof zl){var i=MMt(a);i&&a.animateFrom({style:i},r)}})}function V9t(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++){var a=e[r],i=t[r];if(a.data.getId(a.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function zxe(e,t,n){var r=ete(e),a=ete(t);function i(b,x,_,S,C){(_||b)&&x.animateFrom({style:_&&_!==b?rt(rt({},_.style),b.style):b.style},C)}var o=!1,s=L9t,l=Pt(),u=Pt();r.forEach(function(b){b.groupId&&l.set(b.groupId,!0),b.childGroupId&&u.set(b.childGroupId,!0)});for(var c=0;c<a.length;c++){var f=a[c].groupId;if(u.get(f)){s=Zee;break}var d=a[c].childGroupId;if(d&&l.get(d)){s=Jee;break}}function h(b,x){return function(_){var S=_.data,C=_.dataIndex;return x?S.getId(C):b?s===Zee?_.childGroupId:_.groupId:s===Jee?_.childGroupId:_.groupId}}var p=V9t(r,a),v={};if(!p)for(var c=0;c<a.length;c++){var g=a[c],m=g.data.getItemGraphicEl(g.dataIndex);m&&(v[m.id]=!0)}function y(b,x){var _=r[x],S=a[b],C=S.data.hostModel,k=_.data.getItemGraphicEl(_.dataIndex),T=S.data.getItemGraphicEl(S.dataIndex);if(k===T){T&&B9t(T,S.dataIndex,C);return}k&&v[k.id]||T&&(X0(T),k?(X0(k),qL(k),o=!0,YL(iv(k),iv(T),S.divide,C,b,i)):XL(T,C,b))}new ed(r,a,h(!0,p),h(!1,p),null,"multiple").update(y).updateManyToOne(function(b,x){var _=a[b],S=_.data,C=S.hostModel,k=S.getItemGraphicEl(_.dataIndex),T=sr(ut(x,function(E){return r[E].data.getItemGraphicEl(r[E].dataIndex)}),function(E){return E&&E!==k&&!v[E.id]});k&&(X0(k),T.length?(X(T,function(E){X0(E),qL(E)}),o=!0,YL(iv(T),iv(k),_.divide,C,b,i)):XL(k,C,_.dataIndex))}).updateOneToMany(function(b,x){var _=r[x],S=_.data.getItemGraphicEl(_.dataIndex);if(!(S&&v[S.id])){var C=sr(ut(b,function(T){return a[T].data.getItemGraphicEl(a[T].dataIndex)}),function(T){return T&&T!==S}),k=a[b[0]].data.hostModel;C.length&&(X(C,function(T){return X0(T)}),S?(X0(S),qL(S),o=!0,YL(iv(S),iv(C),_.divide,k,b[0],i)):X(C,function(T){return XL(T,k,b[0])}))}}).updateManyToMany(function(b,x){new ed(x,b,function(_){return r[_].data.getId(r[_].dataIndex)},function(_){return a[_].data.getId(a[_].dataIndex)}).update(function(_,S){y(b[_],x[S])}).execute()}).execute(),o&&X(t,function(b){var x=b.data,_=x.hostModel,S=_&&n.getViewOfSeriesModel(_),C=x1("update",_,0);S&&_.isAnimationEnabled()&&C&&C.duration>0&&S.group.traverse(function(k){k instanceof An&&!k.animators.length&&k.animateFrom({style:{opacity:0}},C)})})}function tte(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function nte(e){return st(e)?e.sort().join(","):e}function Hd(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function z9t(e,t){var n=Pt(),r=Pt(),a=Pt();return X(e.oldSeries,function(i,o){var s=e.oldDataGroupIds[o],l=e.oldData[o],u=tte(i),c=nte(u);r.set(c,{dataGroupId:s,data:l}),st(u)&&X(u,function(f){a.set(f,{key:c,dataGroupId:s,data:l})})}),X(t.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),l=tte(i),u=nte(l),c=r.get(u);if(c)n.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Hd(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:Hd(s),data:s}]});else if(st(l)){var f=[];X(l,function(p){var v=r.get(p);v.data&&f.push({dataGroupId:v.dataGroupId,divide:Hd(v.data),data:v.data})}),f.length&&n.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:Hd(s)}]})}else{var d=a.get(l);if(d){var h=n.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:Hd(d.data)}],newSeries:[]},n.set(d.key,h)),h.newSeries.push({dataGroupId:o,data:s,divide:Hd(s)})}}}}),n}function rte(e,t){for(var n=0;n<e.length;n++){var r=t.seriesIndex!=null&&t.seriesIndex===e[n].seriesIndex||t.seriesId!=null&&t.seriesId===e[n].id;if(r)return n}}function W9t(e,t,n,r){var a=[],i=[];X(Ir(e.from),function(o){var s=rte(t.oldSeries,o);s>=0&&a.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:Hd(t.oldData[s]),groupIdDim:o.dimension})}),X(Ir(e.to),function(o){var s=rte(n.updatedSeries,o);if(s>=0){var l=n.updatedSeries[s].getData();i.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:Hd(l),groupIdDim:o.dimension})}}),a.length>0&&i.length>0&&zxe(a,i,r)}function H9t(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,n,r){X(Ir(r.seriesTransition),function(a){X(Ir(a.to),function(i){for(var o=r.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][Ik]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,n,r){var a=O9t(n);if(a.oldSeries&&r.updatedSeries&&r.optionChanged){var i=r.seriesTransition;if(i)X(Ir(i),function(h){W9t(h,a,r,n)});else{var o=z9t(a,r);X(o.keys(),function(h){var p=o.get(h);zxe(p.oldSeries,p.newSeries,n)})}X(r.updatedSeries,function(h){h[Ik]&&(h[Ik]=!1)})}for(var s=t.getSeries(),l=a.oldSeries=[],u=a.oldDataGroupIds=[],c=a.oldData=[],f=0;f<s.length;f++){var d=s[f].getData();d.count()<Vxe&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(d))}})}kn([QFt]);kn([YFt]);kn([b3t,$3t,U3t,S4t,$4t,xBt,YBt,NVt,QVt,izt,pzt,l8t,M8t,U8t,o6t,c6t,x6t,I6t,F6t,U6t,e5t,P5t]);kn(nWt);kn(EWt);kn(B1e);kn(zWt);kn(Cbe);kn(GWt);kn(eHt);kn(zHt);kn(oUt);kn(EC);kn(SUt);kn(kUt);kn(OUt);kn(HUt);kn(XUt);kn(tGt);kn(fGt);kn(AGt);kn(Ixe);kn(Exe);kn(XGt);kn(Mxe);kn($xe);kn(e9t);kn(h9t);kn(g9t);kn(H9t);kn(pFt);function U9t(){const{t:e}=pp(),t=Y(null),n=Y(null);let r=null,a=null;const i=()=>{t.value&&n.value&&(r=Cq(t.value),a=Cq(n.value))},o=l=>{if(!r||!a)return;const u={};l.forEach(g=>{var y;const m=((y=Object.entries(Uwt).find(([b,x])=>x===g))==null?void 0:y[0])||g;u[m]=(u[m]||0)+1});const f=Object.entries(u).map(([g,m])=>({name:e(`settings.${g}`),value:m})).sort((g,m)=>m.value-g.value),d=f.map(g=>g.name),h=f.map(g=>g.value),p={title:{text:e("charts.distribution"),left:"center",textStyle:{fontSize:20,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)",textStyle:{fontSize:16}},legend:{orient:"vertical",left:"left",top:"middle",textStyle:{fontSize:16},itemWidth:25,itemHeight:14},series:[{name:e("charts.distribution"),type:"pie",radius:"50%",data:f,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!0,formatter:"{b}",fontSize:14}}]},v={title:{text:e("charts.statistics"),left:"center",textStyle:{fontSize:20,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontSize:16}},grid:{left:"3%",right:"8%",bottom:"3%",containLabel:!0},xAxis:{type:"value",name:e("preview.count"),nameTextStyle:{fontSize:16},axisLabel:{fontSize:14}},yAxis:{type:"category",data:d.reverse(),axisLabel:{fontSize:16,width:200,color:"#333"}},series:[{type:"bar",data:h.reverse(),label:{show:!0,position:"right",fontSize:16}}]};r.setOption(p),a.setOption(v)},s=()=>{r==null||r.resize(),a==null||a.resize()};return zt(()=>{window.addEventListener("resize",s)}),zu(()=>{window.removeEventListener("resize",s),r==null||r.dispose(),a==null||a.dispose()}),{pieChartRef:t,barChartRef:n,initCharts:i,updateCharts:o}}const G9t={class:"data-display"},K9t={class:"table-header"},j9t={class:"header-left"},Y9t={key:0,class:"filename"},X9t={class:"header-buttons"},q9t={class:"pagination-container"},Z9t={class:"charts-container"},J9t={class:"chart-item"},Q9t={class:"chart-item"},e7t={__name:"DataDisplay",props:{tableData:{type:Array,default:()=>[]},predictions:{type:Array,default:()=>[]},predicting:{type:Boolean,default:!1},processing:{type:Boolean,default:!1},processedData:{type:Array,default:()=>[]},filename:{type:String,default:""}},emits:["download","predict","process"],setup(e,{emit:t}){V_e(h=>({dbe20e92:e.predictions.length?"1px solid #eee":"none"}));const{t:n}=pp(),r=e,{pieChartRef:a,barChartRef:i,initCharts:o,updateCharts:s}=U9t(),l=F(()=>r.tableData.slice((u.value-1)*c.value,u.value*c.value)),u=Y(1),c=Y(10),f=h=>{c.value=h,u.value=1},d=h=>{u.value=h};return Le(()=>r.predictions,h=>{h!=null&&h.length&&s(h)},{deep:!0,immediate:!1}),Le(()=>n.value,()=>{var h;(h=r.predictions)!=null&&h.length&&s(r.predictions)},{immediate:!1}),zt(()=>{o()}),(h,p)=>{const v=Ft("el-button"),g=Ft("el-table-column"),m=Ft("el-table"),y=Ft("el-pagination"),b=m_("loading");return z(),q("div",G9t,[Z("div",K9t,[Z("div",j9t,[Z("h3",null,Ve(w(n)("preview.title")),1),e.filename?(z(),q("span",Y9t,Ve(w(n)("preview.currentFile"))+": "+Ve(e.filename),1)):Te("",!0)]),Z("div",X9t,[ie(v,{type:"primary",onClick:p[0]||(p[0]=x=>h.$emit("process")),loading:e.processing,disabled:e.predictions.length>0||e.processedData,icon:w(wAe),size:"large",class:"action-button"},{default:fe(()=>[Kt(Ve(e.processing?w(n)("message.processing"):w(n)("preview.process")),1)]),_:1},8,["loading","disabled","icon"]),ie(v,{type:"success",onClick:p[1]||(p[1]=x=>h.$emit("predict")),loading:e.predicting,disabled:!e.processedData||e.predictions.length>0,icon:w(fAe),size:"large",class:"action-button"},{default:fe(()=>[Kt(Ve(e.predicting?w(n)("preview.predicting"):w(n)("preview.predict")),1)]),_:1},8,["loading","disabled","icon"]),ie(v,{type:"warning",onClick:p[2]||(p[2]=x=>h.$emit("download")),disabled:!e.predictions.length,icon:w(Ure),size:"large",class:"action-button download-button"},{default:fe(()=>[Kt(Ve(w(n)("preview.download")),1)]),_:1},8,["disabled","icon"])])]),Vt((z(),Ae(m,{data:l.value,style:{width:"100%"},border:"","max-height":"280"},{default:fe(()=>[(z(!0),q(vt,null,un(w(uc),(x,_)=>(z(),Ae(g,{key:_,prop:"col"+_,label:x,width:"150","show-overflow-tooltip":""},null,8,["prop","label"]))),128)),e.predictions.length?(z(),Ae(g,{key:0,label:w(n)("preview.predict"),prop:"prediction",width:"200",fixed:"right","show-overflow-tooltip":""},null,8,["label"])):Te("",!0)]),_:1},8,["data"])),[[b,e.processing||e.predicting]]),Z("div",q9t,[ie(y,{"current-page":u.value,"onUpdate:currentPage":p[3]||(p[3]=x=>u.value=x),"page-size":c.value,"onUpdate:pageSize":p[4]||(p[4]=x=>c.value=x),"page-sizes":[10,20,50,100],total:r.tableData.length||0,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:f,onCurrentChange:d,background:""},null,8,["current-page","page-size","total"])]),Z("div",Z9t,[Z("div",J9t,[Z("div",{ref_key:"pieChartRef",ref:a,class:"chart"},null,512)]),Z("div",Q9t,[Z("div",{ref_key:"barChartRef",ref:i,class:"chart"},null,512)])])])}}},t7t=xN(e7t,[["__scopeId","data-v-9305a6c5"]]),n7t={class:"lang-switch"},r7t={__name:"LangSwitch",setup(e){const{locale:t}=pp(),n=F(()=>t.value),r=a=>{t.value=a,localStorage.setItem("locale",a)};return(a,i)=>{const o=Ft("el-icon"),s=Ft("el-dropdown-item"),l=Ft("el-dropdown-menu"),u=Ft("el-dropdown");return z(),Ae(u,{onCommand:r},{dropdown:fe(()=>[ie(l,null,{default:fe(()=>[ie(s,{command:"zh"},{default:fe(()=>i[0]||(i[0]=[Kt("")])),_:1}),ie(s,{command:"en"},{default:fe(()=>i[1]||(i[1]=[Kt("English")])),_:1})]),_:1})]),default:fe(()=>[Z("span",n7t,[Kt(Ve(n.value==="zh"?"":"English")+" ",1),ie(o,{class:"el-icon--right"},{default:fe(()=>[ie(w(Zc))]),_:1})])]),_:1})}}},a7t=xN(r7t,[["__scopeId","data-v-a3917756"]]),i7t={class:"basalt-container"},o7t={class:"card-header"},s7t={class:"header-actions"},l7t={key:0,class:"welcome-container"},u7t={class:"welcome-content"},c7t={class:"welcome-main"},f7t={class:"welcome-left"},d7t={class:"welcome-header-left"},h7t={class:"start-button-container"},p7t={class:"welcome-image-container"},v7t={class:"steps-section"},g7t={class:"welcome-steps"},m7t={class:"step-title"},y7t={class:"step-text"},b7t={class:"step-text"},x7t={class:"step-text"},w7t={class:"welcome-right"},_7t={class:"data-requirements"},S7t={class:"columns-title"},C7t={class:"columns-grid"},T7t={class:"sample-data"},k7t={class:"sample-files"},I7t=["href"],E7t=["href"],A7t=["href"],D7t={class:"loading-overlay"},N7t={class:"loading-content"},R7t={class:"loading-spinner"},M7t={class:"loading-text"},$7t={class:"progress-text"},L7t={class:"loading-subtext"},O7t={__name:"index",setup(e){const{t}=pp(),n=Y(!1),r=Y([]),a=Y([]),i=Y(!1);let o=null;class s extends Ug{constructor(T){super(),this.l2=T.l2}apply(T){return Xe(()=>{const E=Cr(this.l2);return Pe(E,pn(Yr(T)))})}getConfig(){return{l2:this.l2}}static fromConfig(T,E){return new T(E)}}jW(s,"className","L2"),bt(s);const l=async()=>{try{const k=await fetch("./model/model.json");if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const T=await k.json();console.log("model.json :",T),o=await Xnt("./model/model.json"),console.log("")}catch(k){console.error(":",k)}};zt(async()=>{console.log("onMounted"),await l()});const u=Y(""),c=F(()=>{const k="/basalt_tectnoic_setting_discrimination/";return k==="/"?k:k+"/"}),f=async(k,T)=>{u.value=T,r.value=k.map(E=>{const I={};return E.forEach((A,N)=>{I["col"+N]=A}),I})},d=Y(0),h=async()=>{if(console.log(""),d.value=0,i.value=!0,!o){yi.error(t("message.modelNotLoaded")),i.value=!1;return}try{if(!v.value){yi.error(t("message.processDataFirst")),i.value=!1;return}const k=b(v.value);await x(k),yi.success(t("message.predictSuccess"))}catch(k){console.error(":",k),yi.error(t("message.predictFail"))}finally{i.value=!1,d.value=0}},p=k=>{const T=new Set;let E=0,I=0;const A=k.filter((N,L)=>{if(N.filter(P=>P===0||P===null||isNaN(P)).length>16)return I++,!1;const D=N.join(",");return T.has(D)?(E++,!1):(T.add(D),!0)});return E>0&&yi({message:t("message.duplicatesFiltered",{count:E}),type:"warning",duration:1e3}),{data:A,stats:{total:k.length,invalid:I,duplicate:E,remaining:A.length}}},v=Y(null),g=Y(!1),m=async()=>{if(!r.value.length){yi.error(t("message.noData"));return}g.value=!0,d.value=0;const k=yi({message:t("message.processing"),type:"info",duration:0});try{const T=r.value.map(N=>uc.map(L=>N["col"+uc.indexOf(L)])),{data:E,stats:I}=p(T);if(E.length===0){k.close(),yi.error(t("message.noValidData"));return}(I.invalid>0||I.duplicate>0)&&yi({message:t("message.dataFiltered",{total:I.total,invalid:I.invalid,duplicate:I.duplicate,remaining:I.remaining}),type:"warning",duration:1e3}),d.value=30;const A=await y(E);d.value=70,v.value=A,r.value=E.map((N,L)=>{const R={};return N.forEach((D,P)=>{R["col"+P]=D}),R}),d.value=100,k.close(),yi.success(t("message.processSuccess"))}catch(T){console.error(":",T),k.close(),yi.error(t("message.processFail"))}finally{g.value=!1,d.value=0}},y=async k=>{try{return await Lbt(k,uc)}catch(T){console.error(":",T)}},b=k=>{const T=k.length,E=new Array(T);for(let I=0;I<T;I++){const A=new Array(36).fill(0);for(let L=0;L<Math.min(k[I].length,36);L++)A[L]=k[I][L];const N=A.map(L=>L/255);E[I]=N}return E},x=async k=>{if(!o){console.error("");return}try{const T=Math.ceil(k.length/100),E=[],I=Math.ceil(k.length/T);for(let A=0;A<k.length;A+=T){const N=k.slice(A,A+T),L=Xe(()=>OZe(N.map(P=>Array.from(P).map(O=>[O]).reduce((O,M,W)=>{const U=Math.floor(W/6);return O[U]||(O[U]=[]),O[U].push(M),O},[])))),R=await o.predict(L),D=await R.array();E.push(...D),L.dispose(),R.dispose(),d.value=Math.min(100,Math.round((A+T)/k.length*100))}a.value=E.map(A=>_(A)),r.value=r.value.map((A,N)=>({...A,prediction:a.value[N]}))}catch(T){throw console.error(":",T),T}},_=k=>{const T=k.indexOf(Math.max(...k));return Hwt[T]},S=()=>{if(!a.value.length){yi.error(t("message.noResults"));return}try{const k=[],T=[...uc,"Predicted_Setting"];k.push(T.join(",")),r.value.forEach((R,D)=>{const P=uc.map(O=>R["col"+uc.indexOf(O)]);P.push(a.value[D]),k.push(P.join(","))});const E=new Blob([k.join(`
`)],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),A=URL.createObjectURL(E),N=new Date().toISOString().slice(0,10),L=u.value.split(".").slice(0,-1).join(".");I.setAttribute("href",A),I.setAttribute("download",`${L}_tectonic_predictions_${N}.csv`),document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(A),yi.success(t("message.downloadSuccess"))}catch(k){console.error(":",k),yi.error(t("message.downloadFail"))}},C=()=>{r.value=[],a.value=[],i.value=!1,g.value=!1,v.value=null,u.value=""};return(k,T)=>{const E=Ft("el-button"),I=Ft("el-icon"),A=Ft("el-progress"),N=Ft("el-card");return z(),q("div",i7t,[ie(N,{class:"main-card"},{header:fe(()=>[Z("div",o7t,[Z("h2",null,Ve(w(t)("title")),1),Z("div",s7t,[ie(a7t),ie(E,{type:"primary",onClick:C},{default:fe(()=>[Kt(Ve(w(t)("upload.button")),1)]),_:1})])])]),default:fe(()=>[ie(qAt,{visible:n.value,"onUpdate:visible":T[0]||(T[0]=L=>n.value=L),onFileProcessed:f},null,8,["visible"]),r.value.length?(z(),Ae(t7t,{key:1,"table-data":r.value,predictions:a.value,predicting:i.value,processing:g.value,"processed-data":v.value,filename:u.value,onDownload:S,onPredict:h,onProcess:m},null,8,["table-data","predictions","predicting","processing","processed-data","filename"])):(z(),q("div",l7t,[Z("div",u7t,[Z("div",c7t,[Z("div",f7t,[Z("div",d7t,[Z("h3",null,Ve(w(t)("welcome.title")),1),Z("p",null,Ve(w(t)("welcome.description")),1),Z("div",h7t,[ie(E,{type:"primary",size:"large",class:"start-button pulse-button",onClick:T[1]||(T[1]=L=>n.value=!0)},{default:fe(()=>[T[2]||(T[2]=Z("i",{class:"el-icon-upload"},null,-1)),Kt(" "+Ve(w(t)("welcome.startButton"))+" ",1),T[3]||(T[3]=Z("div",{class:"button-effect"},null,-1))]),_:1})])]),Z("div",p7t,[T[7]||(T[7]=Z("div",{class:"image-section"},[Z("img",{src:sKe,alt:"Tectonic Settings",class:"welcome-image"})],-1)),Z("div",v7t,[Z("div",g7t,[Z("div",m7t,Ve(w(t)("welcome.stepsTitle")),1),Z("ul",null,[Z("li",null,[T[4]||(T[4]=Z("span",{class:"step-number"},"1",-1)),Z("span",y7t,Ve(w(t)("welcome.step1")),1)]),Z("li",null,[T[5]||(T[5]=Z("span",{class:"step-number"},"2",-1)),Z("span",b7t,Ve(w(t)("welcome.step2")),1)]),Z("li",null,[T[6]||(T[6]=Z("span",{class:"step-number"},"3",-1)),Z("span",x7t,Ve(w(t)("welcome.step3")),1)])])])])])]),Z("div",w7t,[Z("div",_7t,[Z("h4",null,[ie(I,{class:"info-icon"},{default:fe(()=>[ie(w(xA))]),_:1}),Kt(" "+Ve(w(t)("welcome.dataRequirements.title")),1)]),Z("p",null,Ve(w(t)("welcome.dataRequirements.description")),1),Z("p",S7t,Ve(w(t)("welcome.dataRequirements.columnsTitle")),1),Z("div",C7t,[(z(!0),q(vt,null,un(w(uc),(L,R)=>(z(),q("span",{key:R,class:"column-name"},Ve(L),1))),128))])]),Z("div",T7t,[Z("h4",null,[ie(I,{class:"download-icon"},{default:fe(()=>[ie(w(Ure))]),_:1}),Kt(" "+Ve(w(t)("welcome.sampleData.title")),1)]),Z("p",null,Ve(w(t)("welcome.sampleData.description")),1),Z("div",k7t,[Z("a",{href:`${c.value}data/Back_arc_basin.csv`,class:"sample-file-link",download:""},[ie(I,{class:"file-icon"},{default:fe(()=>[ie(w(RT))]),_:1}),Kt(" "+Ve(w(t)("welcome.sampleData.example1")),1)],8,I7t),Z("a",{href:`${c.value}data/Isua.csv`,class:"sample-file-link",download:""},[ie(I,{class:"file-icon"},{default:fe(()=>[ie(w(RT))]),_:1}),Kt(" "+Ve(w(t)("welcome.sampleData.example2")),1)],8,E7t),Z("a",{href:`${c.value}data/Norseman&Kambalda.csv`,class:"sample-file-link",download:""},[ie(I,{class:"file-icon"},{default:fe(()=>[ie(w(RT))]),_:1}),Kt(" "+Ve(w(t)("welcome.sampleData.example3")),1)],8,A7t)])])])])])])),Vt(Z("div",D7t,[Z("div",N7t,[Z("div",R7t,[ie(I,{class:"loading-icon"},{default:fe(()=>[ie(w(Mu))]),_:1})]),Z("div",M7t,Ve(i.value?w(t)("message.predicting"):w(t)("message.processing")),1),ie(A,{percentage:d.value,"stroke-width":10,"show-text":!1,class:"progress-bar"},null,8,["percentage"]),Z("div",$7t,Ve(d.value)+"%",1),Z("div",L7t,Ve(w(t)("message.pleaseWait")),1)])],512),[[En,i.value||g.value]])]),_:1})])}}},P7t=xN(O7t,[["__scopeId","data-v-90b20d78"]]),F7t={class:"app-container"},B7t={__name:"App",setup(e){return(t,n)=>(z(),q("div",F7t,[ie(P7t)]))}},V7t={title:"Basalt Tectonic Setting Discrimination System",upload:{button:"Home",title:"Upload Data File",drag:"Drag file here",or:"or",click:"click to upload",tip:"Please upload a CSV, XLSX or XLS file containing basalt geochemical data"},preview:{title:"Data Preview",empty:"No data available",predict:"Predict",predicting:"Predicting...",process:"Process Data",download:"Download Results",count:"Count",currentFile:"Current File"},charts:{distribution:"Distribution of Tectonic Settings",statistics:"Statistics of Tectonic Settings",tooltip:{percentage:"{b}: {c} samples ({d}%)",count:"{b}: {c} samples"}},settings:{"BACK-ARC_BASIN":"Back-arc Basin","CONTINENTAL FLOOD BASALT":"Continental Flood Basalt",CONTINENTAL_RIFT:"Continental Rift","Continental arc":"Continental Arc","Intra-oceanic arc":"Intra-oceanic Arc","Island arc":"Island Arc","OCEAN ISLAND":"Ocean Island","OCEANIC PLATEAU":"Oceanic Plateau","Mid-Oceanic Ridge":"Mid-Oceanic Ridge"},message:{modelNotLoaded:"Model not loaded, please try again later",predictSuccess:"Prediction completed",predictFail:"Prediction failed, please try again",uploadSuccess:"File uploaded successfully",uploadFail:"File processing failed, please check the file format and required columns",uploadError:"File reading failed",noValidData:"No valid data after filtering (too many missing values)",dataFiltered:"{total} samples processed: {invalid} invalid, {duplicate} duplicates, {remaining} remaining",duplicatesFiltered:"{count} duplicate samples were removed",noData:"No data available for processing",processing:"Processing data...",processSuccess:"Data processing completed",processFail:"Data processing failed",processDataFirst:"Please process the data before prediction",noResults:"No prediction results available for download",downloadSuccess:"Results downloaded successfully",downloadFail:"Failed to download results",predicting:"Predicting tectonic settings...",pleaseWait:"Please wait while we process your data",runningTime:"Running Time"},welcome:{title:"Welcome to Basalt Tectonic Setting Discrimination System",description:"This system helps you identify the tectonic setting of basalt samples based on their geochemical composition using deep learning technology.",stepsTitle:"How it works",step1:"Upload your file containing basalt geochemical data",step2:'Review the data and click "Start Prediction" to analyze',step3:"View the results in charts and download",startButton:"Get Started",dataRequirements:{title:"Data Requirements",description:"Please ensure your data file contains the following geochemical components for basalt samples:",columnsTitle:"Required Columns:"},sampleData:{title:"Sample Data",description:"Download example data files to see the required format:",example1:"Example 1: Back-arc Basin Samples",example2:"Example 2: Isua Samples",example3:"Example 3: Norseman&Kambalda Samples"}}},z7t={title:"",upload:{button:"",title:"",drag:"",or:"",click:"",tip:"CSVXLSXXLS"},preview:{title:"",empty:"",predict:"",predicting:"...",process:"",download:"",count:"",currentFile:""},charts:{distribution:"",statistics:"",tooltip:{percentage:"{b}: {c} ({d}%)",count:"{b}: {c}"}},settings:{"BACK-ARC_BASIN":"","CONTINENTAL FLOOD BASALT":"",CONTINENTAL_RIFT:"","Continental arc":"","Intra-oceanic arc":"","Island arc":"","OCEAN ISLAND":"","OCEANIC PLATEAU":"","Mid-Oceanic Ridge":""},message:{modelNotLoaded:"",predictSuccess:"",predictFail:"",uploadSuccess:"",uploadFail:"",uploadError:"",noValidData:"",dataFiltered:"{total}{invalid}{duplicate}{remaining}",duplicatesFiltered:"{count}",noData:"",processing:"...",processSuccess:"",processFail:"",processDataFirst:"",noResults:"",downloadSuccess:"",downloadFail:"",predicting:"...",pleaseWait:"",runningTime:""},welcome:{title:"",description:"",stepsTitle:"",step1:"CSV",step2:'""',step3:"",startButton:"",dataRequirements:{title:"",description:"",columnsTitle:""},sampleData:{title:"",description:"",example1:"1",example2:"2Isua",example3:"3Norseman&Kambalda"}}},W7t=localStorage.getItem("locale")||"en",H7t=Rwt({legacy:!1,locale:W7t,fallbackLocale:"en",messages:{en:V7t,zh:z7t}});eje().then(()=>{console.log("TensorFlow.js :",tje());const e=$ne(B7t);e.use(oKe),e.use(H7t),e.mount("#app")})});export default U7t();
