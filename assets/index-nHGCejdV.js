var Oxe=Object.defineProperty;var Pxe=(e,t,n)=>t in e?Oxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var WW=(e,t,n)=>Pxe(e,typeof t!="symbol"?t+"":t,n);function Fxe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function f4(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const jr={},mm=[],Un=()=>{},Bxe=()=>!1,KE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),d4=e=>e.startsWith("onUpdate:"),fi=Object.assign,h4=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Vxe=Object.prototype.hasOwnProperty,Dn=(e,t)=>Vxe.call(e,t),Ke=Array.isArray,ym=e=>d_(e)==="[object Map]",jE=e=>d_(e)==="[object Set]",xh=e=>d_(e)==="[object Date]",mt=e=>typeof e=="function",vt=e=>typeof e=="string",Eu=e=>typeof e=="symbol",qt=e=>e!==null&&typeof e=="object",Ox=e=>(qt(e)||mt(e))&&mt(e.then)&&mt(e.catch),Qee=Object.prototype.toString,d_=e=>Qee.call(e),zxe=e=>d_(e).slice(8,-1),Px=e=>d_(e)==="[object Object]",p4=e=>vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,jb=f4(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),YE=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Wxe=/-(\w)/g,Qo=YE(e=>e.replace(Wxe,(t,n)=>n?n.toUpperCase():"")),Hxe=/\B([A-Z])/g,nd=YE(e=>e.replace(Hxe,"-$1").toLowerCase()),h_=YE(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yb=YE(e=>e?`on${h_(e)}`:""),oh=(e,t)=>!Object.is(e,t),CT=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ete=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},YL=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Uxe=e=>{const t=vt(e)?Number(e):NaN;return isNaN(t)?e:t};let HW;const XE=()=>HW||(HW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yt(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=vt(r)?Yxe(r):yt(r);if(a)for(const i in a)t[i]=a[i]}return t}else if(vt(e)||qt(e))return e}const Gxe=/;(?![^(]*\))/g,Kxe=/:([^]+)/,jxe=/\/\*[^]*?\*\//g;function Yxe(e){const t={};return e.replace(jxe,"").split(Gxe).forEach(n=>{if(n){const r=n.split(Kxe);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function G(e){let t="";if(vt(e))t=e;else if(Ke(e))for(let n=0;n<e.length;n++){const r=G(e[n]);r&&(t+=r+" ")}else if(qt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function fu(e){if(!e)return null;let{class:t,style:n}=e;return t&&!vt(t)&&(e.class=G(t)),n&&(e.style=yt(n)),e}const Xxe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qxe=f4(Xxe);function tte(e){return!!e||e===""}function Zxe(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Hm(e[r],t[r]);return n}function Hm(e,t){if(e===t)return!0;let n=xh(e),r=xh(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Eu(e),r=Eu(t),n||r)return e===t;if(n=Ke(e),r=Ke(t),n||r)return n&&r?Zxe(e,t):!1;if(n=qt(e),r=qt(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!Hm(e[o],t[o]))return!1}}return String(e)===String(t)}function nte(e,t){return e.findIndex(n=>Hm(n,t))}const rte=e=>!!(e&&e.__v_isRef===!0),Ve=e=>vt(e)?e:e==null?"":Ke(e)||qt(e)&&(e.toString===Qee||!mt(e.toString))?rte(e)?Ve(e.value):JSON.stringify(e,ate,2):String(e),ate=(e,t)=>rte(t)?ate(e,t.value):ym(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],i)=>(n[iR(r,i)+" =>"]=a,n),{})}:jE(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>iR(n))}:Eu(t)?iR(t):qt(t)&&!Ke(t)&&!Px(t)?String(t):t,iR=(e,t="")=>{var n;return Eu(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lo;class ite{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lo,!t&&Lo&&(this.index=(Lo.scopes||(Lo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Lo;try{return Lo=this,t()}finally{Lo=n}}}on(){Lo=this}off(){Lo=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function ote(e){return new ite(e)}function ste(){return Lo}function lte(e,t=!1){Lo&&Lo.cleanups.push(e)}let Jr;const oR=new WeakSet;class ute{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Lo&&Lo.active&&Lo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,oR.has(this)&&(oR.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fte(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,UW(this),dte(this);const t=Jr,n=xu;Jr=this,xu=!0;try{return this.fn()}finally{hte(this),Jr=t,xu=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)m4(t);this.deps=this.depsTail=void 0,UW(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?oR.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){XL(this)&&this.run()}get dirty(){return XL(this)}}let cte=0,Xb,qb;function fte(e,t=!1){if(e.flags|=8,t){e.next=qb,qb=e;return}e.next=Xb,Xb=e}function v4(){cte++}function g4(){if(--cte>0)return;if(qb){let t=qb;for(qb=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Xb;){let t=Xb;for(Xb=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function dte(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function hte(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),m4(r),Jxe(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function XL(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(pte(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function pte(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fx))return;e.globalVersion=Fx;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!XL(e)){e.flags&=-3;return}const n=Jr,r=xu;Jr=e,xu=!0;try{dte(e);const a=e.fn(e._value);(t.version===0||oh(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Jr=n,xu=r,hte(e),e.flags&=-3}}function m4(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)m4(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Jxe(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let xu=!0;const vte=[];function Kh(){vte.push(xu),xu=!1}function jh(){const e=vte.pop();xu=e===void 0?!0:e}function UW(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Jr;Jr=void 0;try{t()}finally{Jr=n}}}let Fx=0,Qxe=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class qE{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Jr||!xu||Jr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Jr)n=this.activeLink=new Qxe(Jr,this),Jr.deps?(n.prevDep=Jr.depsTail,Jr.depsTail.nextDep=n,Jr.depsTail=n):Jr.deps=Jr.depsTail=n,gte(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Jr.depsTail,n.nextDep=void 0,Jr.depsTail.nextDep=n,Jr.depsTail=n,Jr.deps===n&&(Jr.deps=r)}return n}trigger(t){this.version++,Fx++,this.notify(t)}notify(t){v4();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{g4()}}}function gte(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)gte(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Rk=new WeakMap,Mv=Symbol(""),qL=Symbol(""),Bx=Symbol("");function uo(e,t,n){if(xu&&Jr){let r=Rk.get(e);r||Rk.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new qE),a.map=r,a.key=n),a.track()}}function xf(e,t,n,r,a,i){const o=Rk.get(e);if(!o){Fx++;return}const s=l=>{l&&l.trigger()};if(v4(),t==="clear")o.forEach(s);else{const l=Ke(e),u=l&&p4(n);if(l&&n==="length"){const c=Number(r);o.forEach((f,d)=>{(d==="length"||d===Bx||!Eu(d)&&d>=c)&&s(f)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),u&&s(o.get(Bx)),t){case"add":l?u&&s(o.get("length")):(s(o.get(Mv)),ym(e)&&s(o.get(qL)));break;case"delete":l||(s(o.get(Mv)),ym(e)&&s(o.get(qL)));break;case"set":ym(e)&&s(o.get(Mv));break}}g4()}function ewe(e,t){const n=Rk.get(e);return n&&n.get(t)}function v0(e){const t=tr(e);return t===e?t:(uo(t,"iterate",Bx),El(e)?t:t.map(co))}function ZE(e){return uo(e=tr(e),"iterate",Bx),e}const twe={__proto__:null,[Symbol.iterator](){return sR(this,Symbol.iterator,co)},concat(...e){return v0(this).concat(...e.map(t=>Ke(t)?v0(t):t))},entries(){return sR(this,"entries",e=>(e[1]=co(e[1]),e))},every(e,t){return uf(this,"every",e,t,void 0,arguments)},filter(e,t){return uf(this,"filter",e,t,n=>n.map(co),arguments)},find(e,t){return uf(this,"find",e,t,co,arguments)},findIndex(e,t){return uf(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return uf(this,"findLast",e,t,co,arguments)},findLastIndex(e,t){return uf(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return uf(this,"forEach",e,t,void 0,arguments)},includes(...e){return lR(this,"includes",e)},indexOf(...e){return lR(this,"indexOf",e)},join(e){return v0(this).join(e)},lastIndexOf(...e){return lR(this,"lastIndexOf",e)},map(e,t){return uf(this,"map",e,t,void 0,arguments)},pop(){return M1(this,"pop")},push(...e){return M1(this,"push",e)},reduce(e,...t){return GW(this,"reduce",e,t)},reduceRight(e,...t){return GW(this,"reduceRight",e,t)},shift(){return M1(this,"shift")},some(e,t){return uf(this,"some",e,t,void 0,arguments)},splice(...e){return M1(this,"splice",e)},toReversed(){return v0(this).toReversed()},toSorted(e){return v0(this).toSorted(e)},toSpliced(...e){return v0(this).toSpliced(...e)},unshift(...e){return M1(this,"unshift",e)},values(){return sR(this,"values",co)}};function sR(e,t,n){const r=ZE(e),a=r[t]();return r!==e&&!El(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const nwe=Array.prototype;function uf(e,t,n,r,a,i){const o=ZE(e),s=o!==e&&!El(e),l=o[t];if(l!==nwe[t]){const f=l.apply(e,i);return s?co(f):f}let u=n;o!==e&&(s?u=function(f,d){return n.call(this,co(f),d,e)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,e)}));const c=l.call(o,u,r);return s&&a?a(c):c}function GW(e,t,n,r){const a=ZE(e);let i=n;return a!==e&&(El(e)?n.length>3&&(i=function(o,s,l){return n.call(this,o,s,l,e)}):i=function(o,s,l){return n.call(this,o,co(s),l,e)}),a[t](i,...r)}function lR(e,t,n){const r=tr(e);uo(r,"iterate",Bx);const a=r[t](...n);return(a===-1||a===!1)&&x4(n[0])?(n[0]=tr(n[0]),r[t](...n)):a}function M1(e,t,n=[]){Kh(),v4();const r=tr(e)[t].apply(e,n);return g4(),jh(),r}const rwe=f4("__proto__,__v_isRef,__isVue"),mte=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Eu));function awe(e){Eu(e)||(e=String(e));const t=tr(this);return uo(t,"has",e),t.hasOwnProperty(e)}class yte{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?pwe:_te:i?wte:xte).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ke(t);if(!a){let l;if(o&&(l=twe[n]))return l;if(n==="hasOwnProperty")return awe}const s=Reflect.get(t,n,vr(t)?t:r);return(Eu(n)?mte.has(n):rwe(n))||(a||uo(t,"get",n),i)?s:vr(s)?o&&p4(n)?s:s.value:qt(s)?a?Oy(s):Ln(s):s}}class bte extends yte{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._isShallow){const l=Jv(i);if(!El(r)&&!Jv(r)&&(i=tr(i),r=tr(r)),!Ke(t)&&vr(i)&&!vr(r))return l?!1:(i.value=r,!0)}const o=Ke(t)&&p4(n)?Number(n)<t.length:Dn(t,n),s=Reflect.set(t,n,r,vr(t)?t:a);return t===tr(a)&&(o?oh(r,i)&&xf(t,"set",n,r):xf(t,"add",n,r)),s}deleteProperty(t,n){const r=Dn(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&xf(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!Eu(n)||!mte.has(n))&&uo(t,"has",n),r}ownKeys(t){return uo(t,"iterate",Ke(t)?"length":Mv),Reflect.ownKeys(t)}}class iwe extends yte{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const owe=new bte,swe=new iwe,lwe=new bte(!0);const ZL=e=>e,IC=e=>Reflect.getPrototypeOf(e);function uwe(e,t,n){return function(...r){const a=this.__v_raw,i=tr(a),o=ym(i),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=a[e](...r),c=n?ZL:t?JL:co;return!t&&uo(i,"iterate",l?qL:Mv),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function EC(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function cwe(e,t){const n={get(a){const i=this.__v_raw,o=tr(i),s=tr(a);e||(oh(a,s)&&uo(o,"get",a),uo(o,"get",s));const{has:l}=IC(o),u=t?ZL:e?JL:co;if(l.call(o,a))return u(i.get(a));if(l.call(o,s))return u(i.get(s));i!==o&&i.get(a)},get size(){const a=this.__v_raw;return!e&&uo(tr(a),"iterate",Mv),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,o=tr(i),s=tr(a);return e||(oh(a,s)&&uo(o,"has",a),uo(o,"has",s)),a===s?i.has(a):i.has(a)||i.has(s)},forEach(a,i){const o=this,s=o.__v_raw,l=tr(s),u=t?ZL:e?JL:co;return!e&&uo(l,"iterate",Mv),s.forEach((c,f)=>a.call(i,u(c),u(f),o))}};return fi(n,e?{add:EC("add"),set:EC("set"),delete:EC("delete"),clear:EC("clear")}:{add(a){!t&&!El(a)&&!Jv(a)&&(a=tr(a));const i=tr(this);return IC(i).has.call(i,a)||(i.add(a),xf(i,"add",a,a)),this},set(a,i){!t&&!El(i)&&!Jv(i)&&(i=tr(i));const o=tr(this),{has:s,get:l}=IC(o);let u=s.call(o,a);u||(a=tr(a),u=s.call(o,a));const c=l.call(o,a);return o.set(a,i),u?oh(i,c)&&xf(o,"set",a,i):xf(o,"add",a,i),this},delete(a){const i=tr(this),{has:o,get:s}=IC(i);let l=o.call(i,a);l||(a=tr(a),l=o.call(i,a)),s&&s.call(i,a);const u=i.delete(a);return l&&xf(i,"delete",a,void 0),u},clear(){const a=tr(this),i=a.size!==0,o=a.clear();return i&&xf(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=uwe(a,e,t)}),n}function y4(e,t){const n=cwe(e,t);return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Dn(n,a)&&a in r?n:r,a,i)}const fwe={get:y4(!1,!1)},dwe={get:y4(!1,!0)},hwe={get:y4(!0,!1)};const xte=new WeakMap,wte=new WeakMap,_te=new WeakMap,pwe=new WeakMap;function vwe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gwe(e){return e.__v_skip||!Object.isExtensible(e)?0:vwe(zxe(e))}function Ln(e){return Jv(e)?e:b4(e,!1,owe,fwe,xte)}function Ste(e){return b4(e,!1,lwe,dwe,wte)}function Oy(e){return b4(e,!0,swe,hwe,_te)}function b4(e,t,n,r,a){if(!qt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=gwe(e);if(o===0)return e;const s=new Proxy(e,o===2?r:n);return a.set(e,s),s}function bm(e){return Jv(e)?bm(e.__v_raw):!!(e&&e.__v_isReactive)}function Jv(e){return!!(e&&e.__v_isReadonly)}function El(e){return!!(e&&e.__v_isShallow)}function x4(e){return e?!!e.__v_raw:!1}function tr(e){const t=e&&e.__v_raw;return t?tr(t):e}function sh(e){return!Dn(e,"__v_skip")&&Object.isExtensible(e)&&ete(e,"__v_skip",!0),e}const co=e=>qt(e)?Ln(e):e,JL=e=>qt(e)?Oy(e):e;function vr(e){return e?e.__v_isRef===!0:!1}function Y(e){return Cte(e,!1)}function dr(e){return Cte(e,!0)}function Cte(e,t){return vr(e)?e:new mwe(e,t)}class mwe{constructor(t,n){this.dep=new qE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:tr(t),this._value=n?t:co(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||El(t)||Jv(t);t=r?t:tr(t),oh(t,n)&&(this._rawValue=t,this._value=r?t:co(t),this.dep.trigger())}}function w(e){return vr(e)?e.value:e}const ywe={get:(e,t,n)=>t==="__v_raw"?e:w(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return vr(a)&&!vr(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function Tte(e){return bm(e)?e:new Proxy(e,ywe)}class bwe{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new qE,{get:r,set:a}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=a}get value(){return this._value=this._get()}set value(t){this._set(t)}}function xwe(e){return new bwe(e)}function di(e){const t=Ke(e)?new Array(e.length):{};for(const n in e)t[n]=kte(e,n);return t}class wwe{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ewe(tr(this._object),this._key)}}class _we{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Wn(e,t,n){return vr(e)?e:mt(e)?new _we(e):qt(e)&&arguments.length>1?kte(e,t,n):Y(e)}function kte(e,t,n){const r=e[t];return vr(r)?r:new wwe(e,t,n)}class Swe{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new qE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fx-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Jr!==this)return fte(this,!0),!0}get value(){const t=this.dep.track();return pte(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Cwe(e,t,n=!1){let r,a;return mt(e)?r=e:(r=e.get,a=e.set),new Swe(r,a,n)}const AC={},Mk=new WeakMap;let qp;function Twe(e,t=!1,n=qp){if(n){let r=Mk.get(n);r||Mk.set(n,r=[]),r.push(e)}}function kwe(e,t,n=jr){const{immediate:r,deep:a,once:i,scheduler:o,augmentJob:s,call:l}=n,u=x=>a?x:El(x)||a===!1||a===0?wf(x,1):wf(x);let c,f,d,h,p=!1,v=!1;if(vr(e)?(f=()=>e.value,p=El(e)):bm(e)?(f=()=>u(e),p=!0):Ke(e)?(v=!0,p=e.some(x=>bm(x)||El(x)),f=()=>e.map(x=>{if(vr(x))return x.value;if(bm(x))return u(x);if(mt(x))return l?l(x,2):x()})):mt(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Kh();try{d()}finally{jh()}}const x=qp;qp=c;try{return l?l(e,3,[h]):e(h)}finally{qp=x}}:f=Un,t&&a){const x=f,_=a===!0?1/0:a;f=()=>wf(x(),_)}const g=ste(),m=()=>{c.stop(),g&&g.active&&h4(g.effects,c)};if(i&&t){const x=t;t=(..._)=>{x(..._),m()}}let y=v?new Array(e.length).fill(AC):AC;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const _=c.run();if(a||p||(v?_.some((S,C)=>oh(S,y[C])):oh(_,y))){d&&d();const S=qp;qp=c;try{const C=[_,y===AC?void 0:v&&y[0]===AC?[]:y,h];l?l(t,3,C):t(...C),y=_}finally{qp=S}}}else c.run()};return s&&s(b),c=new ute(f),c.scheduler=o?()=>o(b,!1):b,h=x=>Twe(x,!1,c),d=c.onStop=()=>{const x=Mk.get(c);if(x){if(l)l(x,4);else for(const _ of x)_();Mk.delete(c)}},t?r?b(!0):y=c.run():o?o(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function wf(e,t=1/0,n){if(t<=0||!qt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,vr(e))wf(e.value,t,n);else if(Ke(e))for(let r=0;r<e.length;r++)wf(e[r],t,n);else if(jE(e)||ym(e))e.forEach(r=>{wf(r,t,n)});else if(Px(e)){for(const r in e)wf(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&wf(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function p_(e,t,n,r){try{return r?e(...r):e()}catch(a){JE(a,t,n)}}function Au(e,t,n,r){if(mt(e)){const a=p_(e,t,n,r);return a&&Ox(a)&&a.catch(i=>{JE(i,t,n)}),a}if(Ke(e)){const a=[];for(let i=0;i<e.length;i++)a.push(Au(e[i],t,n,r));return a}}function JE(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||jr;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}s=s.parent}if(i){Kh(),p_(i,null,10,[e,l,u]),jh();return}}Iwe(e,n,a,r,o)}function Iwe(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const Vo=[];let rc=-1;const xm=[];let Od=null,Y0=0;const Ite=Promise.resolve();let $k=null;function xt(e){const t=$k||Ite;return e?t.then(this?e.bind(this):e):t}function Ewe(e){let t=rc+1,n=Vo.length;for(;t<n;){const r=t+n>>>1,a=Vo[r],i=Vx(a);i<e||i===e&&a.flags&2?t=r+1:n=r}return t}function w4(e){if(!(e.flags&1)){const t=Vx(e),n=Vo[Vo.length-1];!n||!(e.flags&2)&&t>=Vx(n)?Vo.push(e):Vo.splice(Ewe(t),0,e),e.flags|=1,Ete()}}function Ete(){$k||($k=Ite.then(Dte))}function Awe(e){Ke(e)?xm.push(...e):Od&&e.id===-1?Od.splice(Y0+1,0,e):e.flags&1||(xm.push(e),e.flags|=1),Ete()}function KW(e,t,n=rc+1){for(;n<Vo.length;n++){const r=Vo[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Vo.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ate(e){if(xm.length){const t=[...new Set(xm)].sort((n,r)=>Vx(n)-Vx(r));if(xm.length=0,Od){Od.push(...t);return}for(Od=t,Y0=0;Y0<Od.length;Y0++){const n=Od[Y0];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Od=null,Y0=0}}const Vx=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Dte(e){try{for(rc=0;rc<Vo.length;rc++){const t=Vo[rc];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),p_(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;rc<Vo.length;rc++){const t=Vo[rc];t&&(t.flags&=-2)}rc=-1,Vo.length=0,Ate(),$k=null,(Vo.length||xm.length)&&Dte()}}let _i=null,Nte=null;function Lk(e){const t=_i;return _i=e,Nte=e&&e.type.__scopeId||null,t}function fe(e,t=_i,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&oH(-1);const i=Lk(t);let o;try{o=e(...a)}finally{Lk(i),r._d&&oH(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Vt(e,t){if(_i===null)return e;const n=rA(_i),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,o,s,l=jr]=t[a];i&&(mt(i)&&(i={mounted:i,updated:i}),i.deep&&wf(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function bp(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[r];l&&(Kh(),Au(l,n,8,[e.el,s,e,t]),jh())}}const Rte=Symbol("_vte"),Mte=e=>e.__isTeleport,Zb=e=>e&&(e.disabled||e.disabled===""),jW=e=>e&&(e.defer||e.defer===""),YW=e=>typeof SVGElement<"u"&&e instanceof SVGElement,XW=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,QL=(e,t)=>{const n=e&&e.to;return vt(n)?t?t(n):null:n},$te={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,i,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:v,createComment:g}}=u,m=Zb(t.props);let{shapeFlag:y,children:b,dynamicChildren:x}=t;if(e==null){const _=t.el=v(""),S=t.anchor=v("");h(_,n,r),h(S,n,r);const C=(T,I)=>{y&16&&(a&&a.isCE&&(a.ce._teleportTarget=T),c(b,T,I,a,i,o,s,l))},k=()=>{const T=t.target=QL(t.props,p),I=Lte(T,t,v,h);T&&(o!=="svg"&&YW(T)?o="svg":o!=="mathml"&&XW(T)&&(o="mathml"),m||(C(T,I),TT(t,!1)))};m&&(C(n,S),TT(t,!0)),jW(t.props)?Mo(()=>{k(),t.el.__isMounted=!0},i):k()}else{if(jW(t.props)&&!e.el.__isMounted){Mo(()=>{$te.process(e,t,n,r,a,i,o,s,l,u),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const _=t.anchor=e.anchor,S=t.target=e.target,C=t.targetAnchor=e.targetAnchor,k=Zb(e.props),T=k?n:S,I=k?_:C;if(o==="svg"||YW(S)?o="svg":(o==="mathml"||XW(S))&&(o="mathml"),x?(d(e.dynamicChildren,x,T,a,i,o,s),I4(e,t,!0)):l||f(e,t,T,I,a,i,o,s,!1),m)k?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):DC(t,n,_,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=QL(t.props,p);E&&DC(t,E,null,u,0)}else k&&DC(t,S,C,u,1);TT(t,m)}},remove(e,t,n,{um:r,o:{remove:a}},i){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=e;if(f&&(a(u),a(c)),i&&a(l),o&16){const h=i||!Zb(d);for(let p=0;p<s.length;p++){const v=s[p];r(v,t,n,h,!!v.dynamicChildren)}}},move:DC,hydrate:Dwe};function DC(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=i===2;if(f&&r(o,t,n),(!f||Zb(c))&&l&16)for(let d=0;d<u.length;d++)a(u[d],t,n,2);f&&r(s,t,n)}function Dwe(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:c}},f){const d=t.target=QL(t.props,l);if(d){const h=Zb(t.props),p=d._lpa||d.firstChild;if(t.shapeFlag&16)if(h)t.anchor=f(o(e),t,s(e),n,r,a,i),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let v=p;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||Lte(d,t,c,u),f(p&&o(p),t,d,n,r,a,i)}TT(t,h)}return t.anchor&&o(t.anchor)}const Nwe=$te;function TT(e,t){const n=e.ctx;if(n&&n.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Lte(e,t,n,r){const a=t.targetStart=n(""),i=t.targetAnchor=n("");return a[Rte]=i,e&&(r(a,e),r(i,e)),i}const Pd=Symbol("_leaveCb"),NC=Symbol("_enterCb");function Ote(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zt(()=>{e.isMounted=!0}),ar(()=>{e.isUnmounting=!0}),e}const Js=[Function,Array],Pte={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Js,onEnter:Js,onAfterEnter:Js,onEnterCancelled:Js,onBeforeLeave:Js,onLeave:Js,onAfterLeave:Js,onLeaveCancelled:Js,onBeforeAppear:Js,onAppear:Js,onAfterAppear:Js,onAppearCancelled:Js},Fte=e=>{const t=e.subTree;return t.component?Fte(t.component):t},Rwe={name:"BaseTransition",props:Pte,setup(e,{slots:t}){const n=jt(),r=Ote();return()=>{const a=t.default&&_4(t.default(),!0);if(!a||!a.length)return;const i=Bte(a),o=tr(e),{mode:s}=o;if(r.isLeaving)return uR(i);const l=qW(i);if(!l)return uR(i);let u=zx(l,o,r,n,f=>u=f);l.type!==ti&&Qv(l,u);let c=n.subTree&&qW(n.subTree);if(c&&c.type!==ti&&!av(l,c)&&Fte(n).type!==ti){let f=zx(c,o,r,n);if(Qv(c,f),s==="out-in"&&l.type!==ti)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},uR(i);s==="in-out"&&l.type!==ti?f.delayLeave=(d,h,p)=>{const v=Vte(r,c);v[String(c.key)]=c,d[Pd]=()=>{h(),d[Pd]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function Bte(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ti){t=n;break}}return t}const Mwe=Rwe;function Vte(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function zx(e,t,n,r,a){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=t,x=String(e.key),_=Vte(n,e),S=(T,I)=>{T&&Au(T,r,9,I)},C=(T,I)=>{const E=I[1];S(T,I),Ke(T)?T.every(A=>A.length<=1)&&E():T.length<=1&&E()},k={mode:o,persisted:s,beforeEnter(T){let I=l;if(!n.isMounted)if(i)I=g||l;else return;T[Pd]&&T[Pd](!0);const E=_[x];E&&av(e,E)&&E.el[Pd]&&E.el[Pd](),S(I,[T])},enter(T){let I=u,E=c,A=f;if(!n.isMounted)if(i)I=m||u,E=y||c,A=b||f;else return;let N=!1;const L=T[NC]=R=>{N||(N=!0,R?S(A,[T]):S(E,[T]),k.delayedLeave&&k.delayedLeave(),T[NC]=void 0)};I?C(I,[T,L]):L()},leave(T,I){const E=String(e.key);if(T[NC]&&T[NC](!0),n.isUnmounting)return I();S(d,[T]);let A=!1;const N=T[Pd]=L=>{A||(A=!0,I(),L?S(v,[T]):S(p,[T]),T[Pd]=void 0,_[E]===e&&delete _[E])};_[E]=e,h?C(h,[T,N]):N()},clone(T){const I=zx(T,t,n,r,a);return a&&a(I),I}};return k}function uR(e){if(QE(e))return e=Bf(e),e.children=null,e}function qW(e){if(!QE(e))return Mte(e.type)&&e.children?Bte(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&mt(n.default))return n.default()}}function Qv(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Qv(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function _4(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===gt?(o.patchFlag&128&&a++,r=r.concat(_4(o.children,t,s))):(t||o.type!==ti)&&r.push(s!=null?Bf(o,{key:s}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function se(e,t){return mt(e)?fi({name:e.name},t,{setup:e}):e}function zte(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ok(e,t,n,r,a=!1){if(Ke(e)){e.forEach((p,v)=>Ok(p,t&&(Ke(t)?t[v]:t),n,r,a));return}if(wm(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ok(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?rA(r.component):r.el,o=a?null:i,{i:s,r:l}=e,u=t&&t.r,c=s.refs===jr?s.refs={}:s.refs,f=s.setupState,d=tr(f),h=f===jr?()=>!1:p=>Dn(d,p);if(u!=null&&u!==l&&(vt(u)?(c[u]=null,h(u)&&(f[u]=null)):vr(u)&&(u.value=null)),mt(l))p_(l,s,12,[o,c]);else{const p=vt(l),v=vr(l);if(p||v){const g=()=>{if(e.f){const m=p?h(l)?f[l]:c[l]:l.value;a?Ke(m)&&h4(m,i):Ke(m)?m.includes(i)||m.push(i):p?(c[l]=[i],h(l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else p?(c[l]=o,h(l)&&(f[l]=o)):v&&(l.value=o,e.k&&(c[e.k]=o))};o?(g.id=-1,Mo(g,n)):g()}}}XE().requestIdleCallback;XE().cancelIdleCallback;const wm=e=>!!e.type.__asyncLoader,QE=e=>e.type.__isKeepAlive;function S4(e,t){Hte(e,"a",t)}function Wte(e,t){Hte(e,"da",t)}function Hte(e,t,n=Oi){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(eA(t,r,n),n){let a=n.parent;for(;a&&a.parent;)QE(a.parent.vnode)&&$we(r,t,n,a),a=a.parent}}function $we(e,t,n,r){const a=eA(t,e,r,!0);jc(()=>{h4(r[t],a)},n)}function eA(e,t,n=Oi,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Kh();const s=g_(n),l=Au(t,n,e,o);return s(),jh(),l});return r?a.unshift(i):a.push(i),i}}const rd=e=>(t,n=Oi)=>{(!Hx||e==="sp")&&eA(e,(...r)=>t(...r),n)},tA=rd("bm"),zt=rd("m"),Ute=rd("bu"),Kc=rd("u"),ar=rd("bum"),jc=rd("um"),Lwe=rd("sp"),Owe=rd("rtg"),Pwe=rd("rtc");function Fwe(e,t=Oi){eA("ec",e,t)}const C4="components",Bwe="directives";function Ft(e,t){return T4(C4,e,!0,t)||e}const Gte=Symbol.for("v-ndc");function tn(e){return vt(e)?T4(C4,e,!1)||e:e||Gte}function v_(e){return T4(Bwe,e)}function T4(e,t,n=!0,r=!1){const a=_i||Oi;if(a){const i=a.type;if(e===C4){const s=S_e(i,!1);if(s&&(s===t||s===Qo(t)||s===h_(Qo(t))))return i}const o=ZW(a[e]||i[e],t)||ZW(a.appContext[e],t);return!o&&r?i:o}}function ZW(e,t){return e&&(e[t]||e[Qo(t)]||e[h_(Qo(t))])}function un(e,t,n,r){let a;const i=n,o=Ke(e);if(o||vt(e)){const s=o&&bm(e);let l=!1;s&&(l=!El(e),e=ZE(e)),a=new Array(e.length);for(let u=0,c=e.length;u<c;u++)a[u]=t(l?co(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let s=0;s<e;s++)a[s]=t(s+1,s,void 0,i)}else if(qt(e))if(e[Symbol.iterator])a=Array.from(e,(s,l)=>t(s,l,void 0,i));else{const s=Object.keys(e);a=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];a[l]=t(e[c],c,l,i)}}else a=[];return a}function Nl(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Ke(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const i=r.fn(...a);return i&&(i.key=r.key),i}:r.fn)}return e}function Se(e,t,n={},r,a){if(_i.ce||_i.parent&&wm(_i.parent)&&_i.parent.ce)return t!=="default"&&(n.name=t),z(),Ae(gt,null,[ie("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),z();const o=i&&Kte(i(n)),s=n.key||o&&o.key,l=Ae(gt,{key:(s&&!Eu(s)?s:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Kte(e){return e.some(t=>$r(t)?!(t.type===ti||t.type===gt&&!Kte(t.children)):!0)?e:null}function Vwe(e,t){const n={};for(const r in e)n[Yb(r)]=e[r];return n}const eO=e=>e?dne(e)?rA(e):eO(e.parent):null,Jb=fi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>eO(e.parent),$root:e=>eO(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Xte(e),$forceUpdate:e=>e.f||(e.f=()=>{w4(e.update)}),$nextTick:e=>e.n||(e.n=xt.bind(e.proxy)),$watch:e=>s_e.bind(e)}),cR=(e,t)=>e!==jr&&!e.__isScriptSetup&&Dn(e,t),zwe={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(cR(r,t))return o[t]=1,r[t];if(a!==jr&&Dn(a,t))return o[t]=2,a[t];if((u=e.propsOptions[0])&&Dn(u,t))return o[t]=3,i[t];if(n!==jr&&Dn(n,t))return o[t]=4,n[t];tO&&(o[t]=0)}}const c=Jb[t];let f,d;if(c)return t==="$attrs"&&uo(e.attrs,"get",""),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(n!==jr&&Dn(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Dn(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return cR(a,t)?(a[t]=n,!0):r!==jr&&Dn(r,t)?(r[t]=n,!0):Dn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let s;return!!n[o]||e!==jr&&Dn(e,o)||cR(t,o)||(s=i[0])&&Dn(s,o)||Dn(r,o)||Dn(Jb,o)||Dn(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Dn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sa(){return jte().slots}function Yh(){return jte().attrs}function jte(){const e=jt();return e.setupContext||(e.setupContext=pne(e))}function JW(e){return Ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let tO=!0;function Wwe(e){const t=Xte(e),n=e.proxy,r=e.ctx;tO=!1,t.beforeCreate&&QW(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:x,render:_,renderTracked:S,renderTriggered:C,errorCaptured:k,serverPrefetch:T,expose:I,inheritAttrs:E,components:A,directives:N,filters:L}=t;if(u&&Hwe(u,r,null),o)for(const P in o){const O=o[P];mt(O)&&(r[P]=O.bind(n))}if(a){const P=a.call(n,n);qt(P)&&(e.data=Ln(P))}if(tO=!0,i)for(const P in i){const O=i[P],M=mt(O)?O.bind(n,n):mt(O.get)?O.get.bind(n,n):Un,W=!mt(O)&&mt(O.set)?O.set.bind(n):Un,U=F({get:M,set:W});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>U.value,set:V=>U.value=V})}if(s)for(const P in s)Yte(s[P],r,n,P);if(l){const P=mt(l)?l.call(n):l;Reflect.ownKeys(P).forEach(O=>{hn(O,P[O])})}c&&QW(c,e,"c");function D(P,O){Ke(O)?O.forEach(M=>P(M.bind(n))):O&&P(O.bind(n))}if(D(tA,f),D(zt,d),D(Ute,h),D(Kc,p),D(S4,v),D(Wte,g),D(Fwe,k),D(Pwe,S),D(Owe,C),D(ar,y),D(jc,x),D(Lwe,T),Ke(I))if(I.length){const P=e.exposed||(e.exposed={});I.forEach(O=>{Object.defineProperty(P,O,{get:()=>n[O],set:M=>n[O]=M})})}else e.exposed||(e.exposed={});_&&e.render===Un&&(e.render=_),E!=null&&(e.inheritAttrs=E),A&&(e.components=A),N&&(e.directives=N),T&&zte(e)}function Hwe(e,t,n=Un){Ke(e)&&(e=nO(e));for(const r in e){const a=e[r];let i;qt(a)?"default"in a?i=ht(a.from||r,a.default,!0):i=ht(a.from||r):i=ht(a),vr(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function QW(e,t,n){Au(Ke(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Yte(e,t,n,r){let a=r.includes(".")?sne(n,r):()=>n[r];if(vt(e)){const i=t[e];mt(i)&&Oe(a,i)}else if(mt(e))Oe(a,e.bind(n));else if(qt(e))if(Ke(e))e.forEach(i=>Yte(i,t,n,r));else{const i=mt(e.handler)?e.handler.bind(n):t[e.handler];mt(i)&&Oe(a,i,e)}}function Xte(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!n&&!r?l=t:(l={},a.length&&a.forEach(u=>Pk(l,u,o,!0)),Pk(l,t,o)),qt(t)&&i.set(t,l),l}function Pk(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&Pk(e,i,n,!0),a&&a.forEach(o=>Pk(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=Uwe[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const Uwe={data:eH,props:tH,emits:tH,methods:wb,computed:wb,beforeCreate:No,created:No,beforeMount:No,mounted:No,beforeUpdate:No,updated:No,beforeDestroy:No,beforeUnmount:No,destroyed:No,unmounted:No,activated:No,deactivated:No,errorCaptured:No,serverPrefetch:No,components:wb,directives:wb,watch:Kwe,provide:eH,inject:Gwe};function eH(e,t){return t?e?function(){return fi(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function Gwe(e,t){return wb(nO(e),nO(t))}function nO(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function No(e,t){return e?[...new Set([].concat(e,t))]:t}function wb(e,t){return e?fi(Object.create(null),e,t):t}function tH(e,t){return e?Ke(e)&&Ke(t)?[...new Set([...e,...t])]:fi(Object.create(null),JW(e),JW(t??{})):t}function Kwe(e,t){if(!e)return t;if(!t)return e;const n=fi(Object.create(null),e);for(const r in t)n[r]=No(e[r],t[r]);return n}function qte(){return{app:null,config:{isNativeTag:Bxe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jwe=0;function Ywe(e,t){return function(r,a=null){mt(r)||(r=fi({},r)),a!=null&&!qt(a)&&(a=null);const i=qte(),o=new WeakSet,s=[];let l=!1;const u=i.app={_uid:jwe++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:T_e,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&mt(c.install)?(o.add(c),c.install(u,...f)):mt(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||ie(r,a);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,c,d),l=!0,u._container=c,c.__vue_app__=u,rA(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Au(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=_m;_m=u;try{return c()}finally{_m=f}}};return u}}let _m=null;function hn(e,t){if(Oi){let n=Oi.provides;const r=Oi.parent&&Oi.parent.provides;r===n&&(n=Oi.provides=Object.create(r)),n[e]=t}}function ht(e,t,n=!1){const r=Oi||_i;if(r||_m){const a=_m?_m._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&mt(t)?t.call(r&&r.proxy):t}}const Zte={},Jte=()=>Object.create(Zte),Qte=e=>Object.getPrototypeOf(e)===Zte;function Xwe(e,t,n,r=!1){const a={},i=Jte();e.propsDefaults=Object.create(null),ene(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:Ste(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function qwe(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=tr(a),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(nA(e.emitsOptions,d))continue;const h=t[d];if(l)if(Dn(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const p=Qo(d);a[p]=rO(l,s,p,h,e,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{ene(e,t,a,i)&&(u=!0);let c;for(const f in s)(!t||!Dn(t,f)&&((c=nd(f))===f||!Dn(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(a[f]=rO(l,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!Dn(t,f))&&(delete i[f],u=!0)}u&&xf(e.attrs,"set","")}function ene(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(jb(l))continue;const u=t[l];let c;a&&Dn(a,c=Qo(l))?!i||!i.includes(c)?n[c]=u:(s||(s={}))[c]=u:nA(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=tr(n),u=s||jr;for(let c=0;c<i.length;c++){const f=i[c];n[f]=rO(a,l,f,u[f],e,!Dn(u,f))}}return o}function rO(e,t,n,r,a,i){const o=e[n];if(o!=null){const s=Dn(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&mt(l)){const{propsDefaults:u}=a;if(n in u)r=u[n];else{const c=g_(a);r=u[n]=l.call(null,t),c()}}else r=l;a.ce&&a.ce._setProp(n,r)}o[0]&&(i&&!s?r=!1:o[1]&&(r===""||r===nd(n))&&(r=!0))}return r}const Zwe=new WeakMap;function tne(e,t,n=!1){const r=n?Zwe:t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},s=[];let l=!1;if(!mt(e)){const c=f=>{l=!0;const[d,h]=tne(f,t,!0);fi(o,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return qt(e)&&r.set(e,mm),mm;if(Ke(i))for(let c=0;c<i.length;c++){const f=Qo(i[c]);nH(f)&&(o[f]=jr)}else if(i)for(const c in i){const f=Qo(c);if(nH(f)){const d=i[c],h=o[f]=Ke(d)||mt(d)?{type:d}:fi({},d),p=h.type;let v=!1,g=!0;if(Ke(p))for(let m=0;m<p.length;++m){const y=p[m],b=mt(y)&&y.name;if(b==="Boolean"){v=!0;break}else b==="String"&&(g=!1)}else v=mt(p)&&p.name==="Boolean";h[0]=v,h[1]=g,(v||Dn(h,"default"))&&s.push(f)}}const u=[o,s];return qt(e)&&r.set(e,u),u}function nH(e){return e[0]!=="$"&&!jb(e)}const nne=e=>e[0]==="_"||e==="$stable",k4=e=>Ke(e)?e.map(lc):[lc(e)],Jwe=(e,t,n)=>{if(t._n)return t;const r=fe((...a)=>k4(t(...a)),n);return r._c=!1,r},rne=(e,t,n)=>{const r=e._ctx;for(const a in e){if(nne(a))continue;const i=e[a];if(mt(i))t[a]=Jwe(a,i,r);else if(i!=null){const o=k4(i);t[a]=()=>o}}},ane=(e,t)=>{const n=k4(t);e.slots.default=()=>n},ine=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Qwe=(e,t,n)=>{const r=e.slots=Jte();if(e.vnode.shapeFlag&32){const a=t._;a?(ine(r,t,n),n&&ete(r,"_",a,!0)):rne(t,r)}else t&&ane(e,t)},e_e=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=jr;if(r.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:ine(a,t,n):(i=!t.$stable,rne(t,a)),o=t}else t&&(ane(e,t),o={default:1});if(i)for(const s in a)!nne(s)&&o[s]==null&&delete a[s]},Mo=p_e;function t_e(e){return n_e(e)}function n_e(e,t){const n=XE();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Un,insertStaticContent:p}=e,v=(B,re,ge,Ie=null,Ce=null,he=null,J=void 0,te=null,xe=!!re.dynamicChildren)=>{if(B===re)return;B&&!av(B,re)&&(Ie=Q(B),V(B,Ce,he,!0),B=null),re.patchFlag===-2&&(xe=!1,re.dynamicChildren=null);const{type:Ee,ref:Qe,shapeFlag:Be}=re;switch(Ee){case Mg:g(B,re,ge,Ie);break;case ti:m(B,re,ge,Ie);break;case dR:B==null&&y(re,ge,Ie,J);break;case gt:A(B,re,ge,Ie,Ce,he,J,te,xe);break;default:Be&1?_(B,re,ge,Ie,Ce,he,J,te,xe):Be&6?N(B,re,ge,Ie,Ce,he,J,te,xe):(Be&64||Be&128)&&Ee.process(B,re,ge,Ie,Ce,he,J,te,xe,me)}Qe!=null&&Ce&&Ok(Qe,B&&B.ref,he,re||B,!re)},g=(B,re,ge,Ie)=>{if(B==null)r(re.el=s(re.children),ge,Ie);else{const Ce=re.el=B.el;re.children!==B.children&&u(Ce,re.children)}},m=(B,re,ge,Ie)=>{B==null?r(re.el=l(re.children||""),ge,Ie):re.el=B.el},y=(B,re,ge,Ie)=>{[B.el,B.anchor]=p(B.children,re,ge,Ie,B.el,B.anchor)},b=({el:B,anchor:re},ge,Ie)=>{let Ce;for(;B&&B!==re;)Ce=d(B),r(B,ge,Ie),B=Ce;r(re,ge,Ie)},x=({el:B,anchor:re})=>{let ge;for(;B&&B!==re;)ge=d(B),a(B),B=ge;a(re)},_=(B,re,ge,Ie,Ce,he,J,te,xe)=>{re.type==="svg"?J="svg":re.type==="math"&&(J="mathml"),B==null?S(re,ge,Ie,Ce,he,J,te,xe):T(B,re,Ce,he,J,te,xe)},S=(B,re,ge,Ie,Ce,he,J,te)=>{let xe,Ee;const{props:Qe,shapeFlag:Be,transition:ce,dirs:Re}=B;if(xe=B.el=o(B.type,he,Qe&&Qe.is,Qe),Be&8?c(xe,B.children):Be&16&&k(B.children,xe,null,Ie,Ce,fR(B,he),J,te),Re&&bp(B,null,Ie,"created"),C(xe,B,B.scopeId,J,Ie),Qe){for(const It in Qe)It!=="value"&&!jb(It)&&i(xe,It,null,Qe[It],he,Ie);"value"in Qe&&i(xe,"value",null,Qe.value,he),(Ee=Qe.onVnodeBeforeMount)&&Gu(Ee,Ie,B)}Re&&bp(B,null,Ie,"beforeMount");const ct=r_e(Ce,ce);ct&&ce.beforeEnter(xe),r(xe,re,ge),((Ee=Qe&&Qe.onVnodeMounted)||ct||Re)&&Mo(()=>{Ee&&Gu(Ee,Ie,B),ct&&ce.enter(xe),Re&&bp(B,null,Ie,"mounted")},Ce)},C=(B,re,ge,Ie,Ce)=>{if(ge&&h(B,ge),Ie)for(let he=0;he<Ie.length;he++)h(B,Ie[he]);if(Ce){let he=Ce.subTree;if(re===he||une(he.type)&&(he.ssContent===re||he.ssFallback===re)){const J=Ce.vnode;C(B,J,J.scopeId,J.slotScopeIds,Ce.parent)}}},k=(B,re,ge,Ie,Ce,he,J,te,xe=0)=>{for(let Ee=xe;Ee<B.length;Ee++){const Qe=B[Ee]=te?Fd(B[Ee]):lc(B[Ee]);v(null,Qe,re,ge,Ie,Ce,he,J,te)}},T=(B,re,ge,Ie,Ce,he,J)=>{const te=re.el=B.el;let{patchFlag:xe,dynamicChildren:Ee,dirs:Qe}=re;xe|=B.patchFlag&16;const Be=B.props||jr,ce=re.props||jr;let Re;if(ge&&xp(ge,!1),(Re=ce.onVnodeBeforeUpdate)&&Gu(Re,ge,re,B),Qe&&bp(re,B,ge,"beforeUpdate"),ge&&xp(ge,!0),(Be.innerHTML&&ce.innerHTML==null||Be.textContent&&ce.textContent==null)&&c(te,""),Ee?I(B.dynamicChildren,Ee,te,ge,Ie,fR(re,Ce),he):J||O(B,re,te,null,ge,Ie,fR(re,Ce),he,!1),xe>0){if(xe&16)E(te,Be,ce,ge,Ce);else if(xe&2&&Be.class!==ce.class&&i(te,"class",null,ce.class,Ce),xe&4&&i(te,"style",Be.style,ce.style,Ce),xe&8){const ct=re.dynamicProps;for(let It=0;It<ct.length;It++){const wt=ct[It],Qt=Be[wt],_t=ce[wt];(_t!==Qt||wt==="value")&&i(te,wt,Qt,_t,Ce,ge)}}xe&1&&B.children!==re.children&&c(te,re.children)}else!J&&Ee==null&&E(te,Be,ce,ge,Ce);((Re=ce.onVnodeUpdated)||Qe)&&Mo(()=>{Re&&Gu(Re,ge,re,B),Qe&&bp(re,B,ge,"updated")},Ie)},I=(B,re,ge,Ie,Ce,he,J)=>{for(let te=0;te<re.length;te++){const xe=B[te],Ee=re[te],Qe=xe.el&&(xe.type===gt||!av(xe,Ee)||xe.shapeFlag&70)?f(xe.el):ge;v(xe,Ee,Qe,null,Ie,Ce,he,J,!0)}},E=(B,re,ge,Ie,Ce)=>{if(re!==ge){if(re!==jr)for(const he in re)!jb(he)&&!(he in ge)&&i(B,he,re[he],null,Ce,Ie);for(const he in ge){if(jb(he))continue;const J=ge[he],te=re[he];J!==te&&he!=="value"&&i(B,he,te,J,Ce,Ie)}"value"in ge&&i(B,"value",re.value,ge.value,Ce)}},A=(B,re,ge,Ie,Ce,he,J,te,xe)=>{const Ee=re.el=B?B.el:s(""),Qe=re.anchor=B?B.anchor:s("");let{patchFlag:Be,dynamicChildren:ce,slotScopeIds:Re}=re;Re&&(te=te?te.concat(Re):Re),B==null?(r(Ee,ge,Ie),r(Qe,ge,Ie),k(re.children||[],ge,Qe,Ce,he,J,te,xe)):Be>0&&Be&64&&ce&&B.dynamicChildren?(I(B.dynamicChildren,ce,ge,Ce,he,J,te),(re.key!=null||Ce&&re===Ce.subTree)&&I4(B,re,!0)):O(B,re,ge,Qe,Ce,he,J,te,xe)},N=(B,re,ge,Ie,Ce,he,J,te,xe)=>{re.slotScopeIds=te,B==null?re.shapeFlag&512?Ce.ctx.activate(re,ge,Ie,J,xe):L(re,ge,Ie,Ce,he,J,xe):R(B,re,xe)},L=(B,re,ge,Ie,Ce,he,J)=>{const te=B.component=b_e(B,Ie,Ce);if(QE(B)&&(te.ctx.renderer=me),x_e(te,!1,J),te.asyncDep){if(Ce&&Ce.registerDep(te,D,J),!B.el){const xe=te.subTree=ie(ti);m(null,xe,re,ge)}}else D(te,B,re,ge,Ce,he,J)},R=(B,re,ge)=>{const Ie=re.component=B.component;if(d_e(B,re,ge))if(Ie.asyncDep&&!Ie.asyncResolved){P(Ie,re,ge);return}else Ie.next=re,Ie.update();else re.el=B.el,Ie.vnode=re},D=(B,re,ge,Ie,Ce,he,J)=>{const te=()=>{if(B.isMounted){let{next:Be,bu:ce,u:Re,parent:ct,vnode:It}=B;{const Ne=one(B);if(Ne){Be&&(Be.el=It.el,P(B,Be,J)),Ne.asyncDep.then(()=>{B.isUnmounted||te()});return}}let wt=Be,Qt;xp(B,!1),Be?(Be.el=It.el,P(B,Be,J)):Be=It,ce&&CT(ce),(Qt=Be.props&&Be.props.onVnodeBeforeUpdate)&&Gu(Qt,ct,Be,It),xp(B,!0);const _t=aH(B),ln=B.subTree;B.subTree=_t,v(ln,_t,f(ln.el),Q(ln),B,Ce,he),Be.el=_t.el,wt===null&&h_e(B,_t.el),Re&&Mo(Re,Ce),(Qt=Be.props&&Be.props.onVnodeUpdated)&&Mo(()=>Gu(Qt,ct,Be,It),Ce)}else{let Be;const{el:ce,props:Re}=re,{bm:ct,m:It,parent:wt,root:Qt,type:_t}=B,ln=wm(re);xp(B,!1),ct&&CT(ct),!ln&&(Be=Re&&Re.onVnodeBeforeMount)&&Gu(Be,wt,re),xp(B,!0);{Qt.ce&&Qt.ce._injectChildStyle(_t);const Ne=B.subTree=aH(B);v(null,Ne,ge,Ie,B,Ce,he),re.el=Ne.el}if(It&&Mo(It,Ce),!ln&&(Be=Re&&Re.onVnodeMounted)){const Ne=re;Mo(()=>Gu(Be,wt,Ne),Ce)}(re.shapeFlag&256||wt&&wm(wt.vnode)&&wt.vnode.shapeFlag&256)&&B.a&&Mo(B.a,Ce),B.isMounted=!0,re=ge=Ie=null}};B.scope.on();const xe=B.effect=new ute(te);B.scope.off();const Ee=B.update=xe.run.bind(xe),Qe=B.job=xe.runIfDirty.bind(xe);Qe.i=B,Qe.id=B.uid,xe.scheduler=()=>w4(Qe),xp(B,!0),Ee()},P=(B,re,ge)=>{re.component=B;const Ie=B.vnode.props;B.vnode=re,B.next=null,qwe(B,re.props,Ie,ge),e_e(B,re.children,ge),Kh(),KW(B),jh()},O=(B,re,ge,Ie,Ce,he,J,te,xe=!1)=>{const Ee=B&&B.children,Qe=B?B.shapeFlag:0,Be=re.children,{patchFlag:ce,shapeFlag:Re}=re;if(ce>0){if(ce&128){W(Ee,Be,ge,Ie,Ce,he,J,te,xe);return}else if(ce&256){M(Ee,Be,ge,Ie,Ce,he,J,te,xe);return}}Re&8?(Qe&16&&ne(Ee,Ce,he),Be!==Ee&&c(ge,Be)):Qe&16?Re&16?W(Ee,Be,ge,Ie,Ce,he,J,te,xe):ne(Ee,Ce,he,!0):(Qe&8&&c(ge,""),Re&16&&k(Be,ge,Ie,Ce,he,J,te,xe))},M=(B,re,ge,Ie,Ce,he,J,te,xe)=>{B=B||mm,re=re||mm;const Ee=B.length,Qe=re.length,Be=Math.min(Ee,Qe);let ce;for(ce=0;ce<Be;ce++){const Re=re[ce]=xe?Fd(re[ce]):lc(re[ce]);v(B[ce],Re,ge,null,Ce,he,J,te,xe)}Ee>Qe?ne(B,Ce,he,!0,!1,Be):k(re,ge,Ie,Ce,he,J,te,xe,Be)},W=(B,re,ge,Ie,Ce,he,J,te,xe)=>{let Ee=0;const Qe=re.length;let Be=B.length-1,ce=Qe-1;for(;Ee<=Be&&Ee<=ce;){const Re=B[Ee],ct=re[Ee]=xe?Fd(re[Ee]):lc(re[Ee]);if(av(Re,ct))v(Re,ct,ge,null,Ce,he,J,te,xe);else break;Ee++}for(;Ee<=Be&&Ee<=ce;){const Re=B[Be],ct=re[ce]=xe?Fd(re[ce]):lc(re[ce]);if(av(Re,ct))v(Re,ct,ge,null,Ce,he,J,te,xe);else break;Be--,ce--}if(Ee>Be){if(Ee<=ce){const Re=ce+1,ct=Re<Qe?re[Re].el:Ie;for(;Ee<=ce;)v(null,re[Ee]=xe?Fd(re[Ee]):lc(re[Ee]),ge,ct,Ce,he,J,te,xe),Ee++}}else if(Ee>ce)for(;Ee<=Be;)V(B[Ee],Ce,he,!0),Ee++;else{const Re=Ee,ct=Ee,It=new Map;for(Ee=ct;Ee<=ce;Ee++){const We=re[Ee]=xe?Fd(re[Ee]):lc(re[Ee]);We.key!=null&&It.set(We.key,Ee)}let wt,Qt=0;const _t=ce-ct+1;let ln=!1,Ne=0;const nt=new Array(_t);for(Ee=0;Ee<_t;Ee++)nt[Ee]=0;for(Ee=Re;Ee<=Be;Ee++){const We=B[Ee];if(Qt>=_t){V(We,Ce,he,!0);continue}let de;if(We.key!=null)de=It.get(We.key);else for(wt=ct;wt<=ce;wt++)if(nt[wt-ct]===0&&av(We,re[wt])){de=wt;break}de===void 0?V(We,Ce,he,!0):(nt[de-ct]=Ee+1,de>=Ne?Ne=de:ln=!0,v(We,re[de],ge,null,Ce,he,J,te,xe),Qt++)}const _e=ln?a_e(nt):mm;for(wt=_e.length-1,Ee=_t-1;Ee>=0;Ee--){const We=ct+Ee,de=re[We],ft=We+1<Qe?re[We+1].el:Ie;nt[Ee]===0?v(null,de,ge,ft,Ce,he,J,te,xe):ln&&(wt<0||Ee!==_e[wt]?U(de,ge,ft,2):wt--)}}},U=(B,re,ge,Ie,Ce=null)=>{const{el:he,type:J,transition:te,children:xe,shapeFlag:Ee}=B;if(Ee&6){U(B.component.subTree,re,ge,Ie);return}if(Ee&128){B.suspense.move(re,ge,Ie);return}if(Ee&64){J.move(B,re,ge,me);return}if(J===gt){r(he,re,ge);for(let Be=0;Be<xe.length;Be++)U(xe[Be],re,ge,Ie);r(B.anchor,re,ge);return}if(J===dR){b(B,re,ge);return}if(Ie!==2&&Ee&1&&te)if(Ie===0)te.beforeEnter(he),r(he,re,ge),Mo(()=>te.enter(he),Ce);else{const{leave:Be,delayLeave:ce,afterLeave:Re}=te,ct=()=>r(he,re,ge),It=()=>{Be(he,()=>{ct(),Re&&Re()})};ce?ce(he,ct,It):It()}else r(he,re,ge)},V=(B,re,ge,Ie=!1,Ce=!1)=>{const{type:he,props:J,ref:te,children:xe,dynamicChildren:Ee,shapeFlag:Qe,patchFlag:Be,dirs:ce,cacheIndex:Re}=B;if(Be===-2&&(Ce=!1),te!=null&&Ok(te,null,ge,B,!0),Re!=null&&(re.renderCache[Re]=void 0),Qe&256){re.ctx.deactivate(B);return}const ct=Qe&1&&ce,It=!wm(B);let wt;if(It&&(wt=J&&J.onVnodeBeforeUnmount)&&Gu(wt,re,B),Qe&6)j(B.component,ge,Ie);else{if(Qe&128){B.suspense.unmount(ge,Ie);return}ct&&bp(B,null,re,"beforeUnmount"),Qe&64?B.type.remove(B,re,ge,me,Ie):Ee&&!Ee.hasOnce&&(he!==gt||Be>0&&Be&64)?ne(Ee,re,ge,!1,!0):(he===gt&&Be&384||!Ce&&Qe&16)&&ne(xe,re,ge),Ie&&H(B)}(It&&(wt=J&&J.onVnodeUnmounted)||ct)&&Mo(()=>{wt&&Gu(wt,re,B),ct&&bp(B,null,re,"unmounted")},ge)},H=B=>{const{type:re,el:ge,anchor:Ie,transition:Ce}=B;if(re===gt){K(ge,Ie);return}if(re===dR){x(B);return}const he=()=>{a(ge),Ce&&!Ce.persisted&&Ce.afterLeave&&Ce.afterLeave()};if(B.shapeFlag&1&&Ce&&!Ce.persisted){const{leave:J,delayLeave:te}=Ce,xe=()=>J(ge,he);te?te(B.el,he,xe):xe()}else he()},K=(B,re)=>{let ge;for(;B!==re;)ge=d(B),a(B),B=ge;a(re)},j=(B,re,ge)=>{const{bum:Ie,scope:Ce,job:he,subTree:J,um:te,m:xe,a:Ee}=B;rH(xe),rH(Ee),Ie&&CT(Ie),Ce.stop(),he&&(he.flags|=8,V(J,B,re,ge)),te&&Mo(te,re),Mo(()=>{B.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},ne=(B,re,ge,Ie=!1,Ce=!1,he=0)=>{for(let J=he;J<B.length;J++)V(B[J],re,ge,Ie,Ce)},Q=B=>{if(B.shapeFlag&6)return Q(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const re=d(B.anchor||B.el),ge=re&&re[Rte];return ge?d(ge):re};let oe=!1;const ae=(B,re,ge)=>{B==null?re._vnode&&V(re._vnode,null,null,!0):v(re._vnode||null,B,re,null,null,null,ge),re._vnode=B,oe||(oe=!0,KW(),Ate(),oe=!1)},me={p:v,um:V,m:U,r:H,mt:L,mc:k,pc:O,pbc:I,n:Q,o:e};return{render:ae,hydrate:void 0,createApp:Ywe(ae)}}function fR({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function xp({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function r_e(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function I4(e,t,n=!1){const r=e.children,a=t.children;if(Ke(r)&&Ke(a))for(let i=0;i<r.length;i++){const o=r[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=Fd(a[i]),s.el=o.el),!n&&s.patchFlag!==-2&&I4(o,s)),s.type===Mg&&(s.el=o.el)}}function a_e(e){const t=e.slice(),n=[0];let r,a,i,o,s;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(a=n[n.length-1],e[a]<u){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)s=i+o>>1,e[n[s]]<u?i=s+1:o=s;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function one(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:one(t)}function rH(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const i_e=Symbol.for("v-scx"),o_e=()=>ht(i_e);function Pi(e,t){return E4(e,null,t)}function Oe(e,t,n){return E4(e,t,n)}function E4(e,t,n=jr){const{immediate:r,deep:a,flush:i,once:o}=n,s=fi({},n),l=t&&r||!t&&i!=="post";let u;if(Hx){if(i==="sync"){const h=o_e();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Un,h.resume=Un,h.pause=Un,h}}const c=Oi;s.call=(h,p,v)=>Au(h,c,p,v);let f=!1;i==="post"?s.scheduler=h=>{Mo(h,c&&c.suspense)}:i!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():w4(h)}),s.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=kwe(e,t,s);return Hx&&(u?u.push(d):l&&d()),d}function s_e(e,t,n){const r=this.proxy,a=vt(e)?e.includes(".")?sne(r,e):()=>r[e]:e.bind(r,r);let i;mt(t)?i=t:(i=t.handler,n=t);const o=g_(this),s=E4(a,i.bind(r),n);return o(),s}function sne(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const l_e=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Qo(t)}Modifiers`]||e[`${nd(t)}Modifiers`];function u_e(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||jr;let a=n;const i=t.startsWith("update:"),o=i&&l_e(r,t.slice(7));o&&(o.trim&&(a=n.map(c=>vt(c)?c.trim():c)),o.number&&(a=n.map(YL)));let s,l=r[s=Yb(t)]||r[s=Yb(Qo(t))];!l&&i&&(l=r[s=Yb(nd(t))]),l&&Au(l,e,6,a);const u=r[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Au(u,e,6,a)}}function lne(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!mt(e)){const l=u=>{const c=lne(u,t,!0);c&&(s=!0,fi(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(qt(e)&&r.set(e,null),null):(Ke(i)?i.forEach(l=>o[l]=null):fi(o,i),qt(e)&&r.set(e,o),o)}function nA(e,t){return!e||!KE(t)?!1:(t=t.slice(2).replace(/Once$/,""),Dn(e,t[0].toLowerCase()+t.slice(1))||Dn(e,nd(t))||Dn(e,t))}function aH(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[i],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=e,g=Lk(e);let m,y;try{if(n.shapeFlag&4){const x=a||r,_=x;m=lc(u.call(_,x,c,f,h,d,p)),y=s}else{const x=t;m=lc(x.length>1?x(f,{attrs:s,slots:o,emit:l}):x(f,null)),y=t.props?s:c_e(s)}}catch(x){Qb.length=0,JE(x,e,1),m=ie(ti)}let b=m;if(y&&v!==!1){const x=Object.keys(y),{shapeFlag:_}=b;x.length&&_&7&&(i&&x.some(d4)&&(y=f_e(y,i)),b=Bf(b,y,!1,!0))}return n.dirs&&(b=Bf(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Qv(b,n.transition),m=b,Lk(g),m}const c_e=e=>{let t;for(const n in e)(n==="class"||n==="style"||KE(n))&&((t||(t={}))[n]=e[n]);return t},f_e=(e,t)=>{const n={};for(const r in e)(!d4(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function d_e(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?iH(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!nA(u,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?iH(r,o,u):!0:!!o;return!1}function iH(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!nA(n,i))return!0}return!1}function h_e({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const une=e=>e.__isSuspense;function p_e(e,t){t&&t.pendingBranch?Ke(e)?t.effects.push(...e):t.effects.push(e):Awe(e)}const gt=Symbol.for("v-fgt"),Mg=Symbol.for("v-txt"),ti=Symbol.for("v-cmt"),dR=Symbol.for("v-stc"),Qb=[];let Ps=null;function z(e=!1){Qb.push(Ps=e?null:[])}function v_e(){Qb.pop(),Ps=Qb[Qb.length-1]||null}let Wx=1;function oH(e,t=!1){Wx+=e,e<0&&Ps&&t&&(Ps.hasOnce=!0)}function cne(e){return e.dynamicChildren=Wx>0?Ps||mm:null,v_e(),Wx>0&&Ps&&Ps.push(e),e}function q(e,t,n,r,a,i){return cne(Z(e,t,n,r,a,i,!0))}function Ae(e,t,n,r,a){return cne(ie(e,t,n,r,a,!0))}function $r(e){return e?e.__v_isVNode===!0:!1}function av(e,t){return e.type===t.type&&e.key===t.key}const fne=({key:e})=>e??null,kT=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?vt(e)||vr(e)||mt(e)?{i:_i,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,r=0,a=null,i=e===gt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fne(t),ref:t&&kT(t),scopeId:Nte,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:_i};return s?(A4(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=vt(n)?8:16),Wx>0&&!o&&Ps&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ps.push(l),l}const ie=g_e;function g_e(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===Gte)&&(e=ti),$r(e)){const s=Bf(e,t,!0);return n&&A4(s,n),Wx>0&&!i&&Ps&&(s.shapeFlag&6?Ps[Ps.indexOf(e)]=s:Ps.push(s)),s.patchFlag=-2,s}if(C_e(e)&&(e=e.__vccOpts),t){t=wh(t);let{class:s,style:l}=t;s&&!vt(s)&&(t.class=G(s)),qt(l)&&(x4(l)&&!Ke(l)&&(l=fi({},l)),t.style=yt(l))}const o=vt(e)?1:une(e)?128:Mte(e)?64:qt(e)?4:mt(e)?2:0;return Z(e,t,n,r,a,o,i,!0)}function wh(e){return e?x4(e)||Qte(e)?fi({},e):e:null}function Bf(e,t,n=!1,r=!1){const{props:a,ref:i,patchFlag:o,children:s,transition:l}=e,u=t?rn(a||{},t):a,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&fne(u),ref:t&&t.ref?n&&i?Ke(i)?i.concat(kT(t)):[i,kT(t)]:kT(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==gt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bf(e.ssContent),ssFallback:e.ssFallback&&Bf(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Qv(c,l.clone(c)),c}function Kt(e=" ",t=0){return ie(Mg,null,e,t)}function Te(e="",t=!1){return t?(z(),Ae(ti,null,e)):ie(ti,null,e)}function lc(e){return e==null||typeof e=="boolean"?ie(ti):Ke(e)?ie(gt,null,e.slice()):$r(e)?Fd(e):ie(Mg,null,String(e))}function Fd(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bf(e)}function A4(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ke(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),A4(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!Qte(t)?t._ctx=_i:a===3&&_i&&(_i.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:_i},n=32):(t=String(t),r&64?(n=16,t=[Kt(t)]):n=8);e.children=t,e.shapeFlag|=n}function rn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=G([t.class,r.class]));else if(a==="style")t.style=yt([t.style,r.style]);else if(KE(a)){const i=t[a],o=r[a];o&&i!==o&&!(Ke(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function Gu(e,t,n,r=null){Au(e,t,7,[n,r])}const m_e=qte();let y_e=0;function b_e(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||m_e,i={uid:y_e++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ite(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tne(r,a),emitsOptions:lne(r,a),emit:null,emitted:null,propsDefaults:jr,inheritAttrs:r.inheritAttrs,ctx:jr,data:jr,props:jr,attrs:jr,slots:jr,refs:jr,setupState:jr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=u_e.bind(null,i),e.ce&&e.ce(i),i}let Oi=null;const jt=()=>Oi||_i;let Fk,aO;{const e=XE(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};Fk=t("__VUE_INSTANCE_SETTERS__",n=>Oi=n),aO=t("__VUE_SSR_SETTERS__",n=>Hx=n)}const g_=e=>{const t=Oi;return Fk(e),e.scope.on(),()=>{e.scope.off(),Fk(t)}},sH=()=>{Oi&&Oi.scope.off(),Fk(null)};function dne(e){return e.vnode.shapeFlag&4}let Hx=!1;function x_e(e,t=!1,n=!1){t&&aO(t);const{props:r,children:a}=e.vnode,i=dne(e);Xwe(e,r,i,t),Qwe(e,a,n);const o=i?w_e(e,t):void 0;return t&&aO(!1),o}function w_e(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,zwe);const{setup:r}=n;if(r){Kh();const a=e.setupContext=r.length>1?pne(e):null,i=g_(e),o=p_(r,e,0,[e.props,a]),s=Ox(o);if(jh(),i(),(s||e.sp)&&!wm(e)&&zte(e),s){if(o.then(sH,sH),t)return o.then(l=>{lH(e,l)}).catch(l=>{JE(l,e,0)});e.asyncDep=o}else lH(e,o)}else hne(e)}function lH(e,t,n){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qt(t)&&(e.setupState=Tte(t)),hne(e)}function hne(e,t,n){const r=e.type;e.render||(e.render=r.render||Un);{const a=g_(e);Kh();try{Wwe(e)}finally{jh(),a()}}}const __e={get(e,t){return uo(e,"get",""),e[t]}};function pne(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,__e),slots:e.slots,emit:e.emit,expose:t}}function rA(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Tte(sh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Jb)return Jb[n](e)},has(t,n){return n in t||n in Jb}})):e.proxy}function S_e(e,t=!0){return mt(e)?e.displayName||e.name:e.name||t&&e.__name}function C_e(e){return mt(e)&&"__vccOpts"in e}const F=(e,t)=>Cwe(e,t,Hx);function Ct(e,t,n){const r=arguments.length;return r===2?qt(t)&&!Ke(t)?$r(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&$r(n)&&(n=[n]),ie(e,t,n))}const T_e="3.5.13",k_e=Un;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let iO;const uH=typeof window<"u"&&window.trustedTypes;if(uH)try{iO=uH.createPolicy("vue",{createHTML:e=>e})}catch{}const vne=iO?e=>iO.createHTML(e):e=>e,I_e="http://www.w3.org/2000/svg",E_e="http://www.w3.org/1998/Math/MathML",vf=typeof document<"u"?document:null,cH=vf&&vf.createElement("template"),A_e={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?vf.createElementNS(I_e,e):t==="mathml"?vf.createElementNS(E_e,e):n?vf.createElement(e,{is:n}):vf.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>vf.createTextNode(e),createComment:e=>vf.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vf.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{cH.innerHTML=vne(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=cH.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},md="transition",$1="animation",Um=Symbol("_vtc"),gne={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mne=fi({},Pte,gne),D_e=e=>(e.displayName="Transition",e.props=mne,e),hi=D_e((e,{slots:t})=>Ct(Mwe,yne(e),t)),wp=(e,t=[])=>{Ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},fH=e=>e?Ke(e)?e.some(t=>t.length>1):e.length>1:!1;function yne(e){const t={};for(const A in e)A in gne||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=N_e(a),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:_,onBeforeAppear:S=m,onAppear:C=y,onAppearCancelled:k=b}=t,T=(A,N,L,R)=>{A._enterCancelled=R,Dd(A,N?c:s),Dd(A,N?u:o),L&&L()},I=(A,N)=>{A._isLeaving=!1,Dd(A,f),Dd(A,h),Dd(A,d),N&&N()},E=A=>(N,L)=>{const R=A?C:y,D=()=>T(N,A,L);wp(R,[N,D]),dH(()=>{Dd(N,A?l:i),Qu(N,A?c:s),fH(R)||hH(N,r,v,D)})};return fi(t,{onBeforeEnter(A){wp(m,[A]),Qu(A,i),Qu(A,o)},onBeforeAppear(A){wp(S,[A]),Qu(A,l),Qu(A,u)},onEnter:E(!1),onAppear:E(!0),onLeave(A,N){A._isLeaving=!0;const L=()=>I(A,N);Qu(A,f),A._enterCancelled?(Qu(A,d),oO()):(oO(),Qu(A,d)),dH(()=>{A._isLeaving&&(Dd(A,f),Qu(A,h),fH(x)||hH(A,r,g,L))}),wp(x,[A,L])},onEnterCancelled(A){T(A,!1,void 0,!0),wp(b,[A])},onAppearCancelled(A){T(A,!0,void 0,!0),wp(k,[A])},onLeaveCancelled(A){I(A),wp(_,[A])}})}function N_e(e){if(e==null)return null;if(qt(e))return[hR(e.enter),hR(e.leave)];{const t=hR(e);return[t,t]}}function hR(e){return Uxe(e)}function Qu(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Um]||(e[Um]=new Set)).add(t)}function Dd(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Um];n&&(n.delete(t),n.size||(e[Um]=void 0))}function dH(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let R_e=0;function hH(e,t,n,r){const a=e._endId=++R_e,i=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:s,propCount:l}=bne(e,t);if(!o)return r();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function bne(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),a=r(`${md}Delay`),i=r(`${md}Duration`),o=pH(a,i),s=r(`${$1}Delay`),l=r(`${$1}Duration`),u=pH(s,l);let c=null,f=0,d=0;t===md?o>0&&(c=md,f=o,d=i.length):t===$1?u>0&&(c=$1,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?md:$1:null,d=c?c===md?i.length:l.length:0);const h=c===md&&/\b(transform|all)(,|$)/.test(r(`${md}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function pH(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>vH(n)+vH(e[r])))}function vH(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function oO(){return document.body.offsetHeight}function M_e(e,t,n){const r=e[Um];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Bk=Symbol("_vod"),xne=Symbol("_vsh"),En={beforeMount(e,{value:t},{transition:n}){e[Bk]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):L1(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),L1(e,!0),r.enter(e)):r.leave(e,()=>{L1(e,!1)}):L1(e,t))},beforeUnmount(e,{value:t}){L1(e,t)}};function L1(e,t){e.style.display=t?e[Bk]:"none",e[xne]=!t}const $_e=Symbol(""),L_e=/(^|;)\s*display\s*:/;function O_e(e,t,n){const r=e.style,a=vt(n);let i=!1;if(n&&!a){if(t)if(vt(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&IT(r,s,"")}else for(const o in t)n[o]==null&&IT(r,o,"");for(const o in n)o==="display"&&(i=!0),IT(r,o,n[o])}else if(a){if(t!==n){const o=r[$_e];o&&(n+=";"+o),r.cssText=n,i=L_e.test(n)}}else t&&e.removeAttribute("style");Bk in e&&(e[Bk]=i?r.display:"",e[xne]&&(r.display="none"))}const gH=/\s*!important$/;function IT(e,t,n){if(Ke(n))n.forEach(r=>IT(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=P_e(e,t);gH.test(n)?e.setProperty(nd(r),n.replace(gH,""),"important"):e[r]=n}}const mH=["Webkit","Moz","ms"],pR={};function P_e(e,t){const n=pR[t];if(n)return n;let r=Qo(t);if(r!=="filter"&&r in e)return pR[t]=r;r=h_(r);for(let a=0;a<mH.length;a++){const i=mH[a]+r;if(i in e)return pR[t]=i}return t}const yH="http://www.w3.org/1999/xlink";function bH(e,t,n,r,a,i=qxe(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(yH,t.slice(6,t.length)):e.setAttributeNS(yH,t,n):n==null||i&&!tte(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Eu(n)?String(n):n)}function xH(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?vne(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=tte(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(a||t)}function Wd(e,t,n,r){e.addEventListener(t,n,r)}function F_e(e,t,n,r){e.removeEventListener(t,n,r)}const wH=Symbol("_vei");function B_e(e,t,n,r,a=null){const i=e[wH]||(e[wH]={}),o=i[t];if(r&&o)o.value=r;else{const[s,l]=V_e(t);if(r){const u=i[t]=H_e(r,a);Wd(e,s,u,l)}else o&&(F_e(e,s,o,l),i[t]=void 0)}}const _H=/(?:Once|Passive|Capture)$/;function V_e(e){let t;if(_H.test(e)){t={};let r;for(;r=e.match(_H);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):nd(e.slice(2)),t]}let vR=0;const z_e=Promise.resolve(),W_e=()=>vR||(z_e.then(()=>vR=0),vR=Date.now());function H_e(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Au(U_e(r,n.value),t,5,[r])};return n.value=e,n.attached=W_e(),n}function U_e(e,t){if(Ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const SH=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,G_e=(e,t,n,r,a,i)=>{const o=a==="svg";t==="class"?M_e(e,r,o):t==="style"?O_e(e,n,r):KE(t)?d4(t)||B_e(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):K_e(e,t,r,o))?(xH(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&bH(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!vt(r))?xH(e,Qo(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),bH(e,t,r,o))};function K_e(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&SH(t)&&mt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return SH(t)&&vt(n)?!1:t in e}const wne=new WeakMap,_ne=new WeakMap,Vk=Symbol("_moveCb"),CH=Symbol("_enterCb"),j_e=e=>(delete e.props.mode,e),Y_e=j_e({name:"TransitionGroup",props:fi({},mne,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=jt(),r=Ote();let a,i;return Kc(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!J_e(a[0].el,n.vnode.el,o))return;a.forEach(X_e),a.forEach(q_e);const s=a.filter(Z_e);oO(),s.forEach(l=>{const u=l.el,c=u.style;Qu(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Vk]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[Vk]=null,Dd(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=tr(e),s=yne(o);let l=o.tag||gt;if(a=[],i)for(let u=0;u<i.length;u++){const c=i[u];c.el&&c.el instanceof Element&&(a.push(c),Qv(c,zx(c,s,r,n)),wne.set(c,c.el.getBoundingClientRect()))}i=t.default?_4(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Qv(c,zx(c,s,r,n))}return ie(l,null,i)}}}),Sne=Y_e;function X_e(e){const t=e.el;t[Vk]&&t[Vk](),t[CH]&&t[CH]()}function q_e(e){_ne.set(e,e.el.getBoundingClientRect())}function Z_e(e){const t=wne.get(e),n=_ne.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${a}px)`,i.transitionDuration="0s",e}}function J_e(e,t,n){const r=e.cloneNode(),a=e[Um];a&&a.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=bne(r);return i.removeChild(r),o}const Gm=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ke(t)?n=>CT(t,n):t};function Q_e(e){e.target.composing=!0}function TH(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Nf=Symbol("_assign"),aA={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[Nf]=Gm(a);const i=r||a.props&&a.props.type==="number";Wd(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),i&&(s=YL(s)),e[Nf](s)}),n&&Wd(e,"change",()=>{e.value=e.value.trim()}),t||(Wd(e,"compositionstart",Q_e),Wd(e,"compositionend",TH),Wd(e,"change",TH))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:i}},o){if(e[Nf]=Gm(o),e.composing)return;const s=(i||e.type==="number")&&!/^0\d/.test(e.value)?YL(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===l)||(e.value=l))}},zk={deep:!0,created(e,t,n){e[Nf]=Gm(n),Wd(e,"change",()=>{const r=e._modelValue,a=Tne(e),i=e.checked,o=e[Nf];if(Ke(r)){const s=nte(r,a),l=s!==-1;if(i&&!l)o(r.concat(a));else if(!i&&l){const u=[...r];u.splice(s,1),o(u)}}else if(jE(r)){const s=new Set(r);i?s.add(a):s.delete(a),o(s)}else o(kne(e,i))})},mounted:kH,beforeUpdate(e,t,n){e[Nf]=Gm(n),kH(e,t,n)}};function kH(e,{value:t,oldValue:n},r){e._modelValue=t;let a;if(Ke(t))a=nte(t,r.props.value)>-1;else if(jE(t))a=t.has(r.props.value);else{if(t===n)return;a=Hm(t,kne(e,!0))}e.checked!==a&&(e.checked=a)}const Cne={created(e,{value:t},n){e.checked=Hm(t,n.props.value),e[Nf]=Gm(n),Wd(e,"change",()=>{e[Nf](Tne(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Nf]=Gm(r),t!==n&&(e.checked=Hm(t,r.props.value))}};function Tne(e){return"_value"in e?e._value:e.value}function kne(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const eSe=["ctrl","shift","alt","meta"],tSe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>eSe.some(n=>e[`${n}Key`]&&!t.includes(n))},At=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...i)=>{for(let o=0;o<t.length;o++){const s=tSe[t[o]];if(s&&s(a,t))return}return e(a,...i)})},nSe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rr=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const i=nd(a.key);if(t.some(o=>o===i||nSe[o]===i))return e(a)})},rSe=fi({patchProp:G_e},A_e);let IH;function Ine(){return IH||(IH=t_e(rSe))}const _h=(...e)=>{Ine().render(...e)},Ene=(...e)=>{const t=Ine().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=iSe(r);if(!a)return;const i=t._component;!mt(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=n(a,!1,aSe(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function aSe(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function iSe(e){return vt(e)?document.querySelector(e):e}const oSe="2.9.1",EH=Symbol("INSTALLED_KEY"),Ane=Symbol(),ex="el",sSe="is-",_p=(e,t,n,r,a)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),a&&(i+=`--${a}`),i},Dne=Symbol("namespaceContextKey"),D4=e=>{const t=e||(jt()?ht(Dne,Y(ex)):Y(ex));return F(()=>w(t)||ex)},ze=(e,t)=>{const n=D4(t);return{namespace:n,b:(v="")=>_p(n.value,e,v,"",""),e:v=>v?_p(n.value,e,"",v,""):"",m:v=>v?_p(n.value,e,"","",v):"",be:(v,g)=>v&&g?_p(n.value,e,v,g,""):"",em:(v,g)=>v&&g?_p(n.value,e,"",v,g):"",bm:(v,g)=>v&&g?_p(n.value,e,v,"",g):"",bem:(v,g,m)=>v&&g&&m?_p(n.value,e,v,g,m):"",is:(v,...g)=>{const m=g.length>=1?g[0]:!0;return v&&m?`${sSe}${v}`:""},cssVar:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${m}`]=v[m]);return g},cssVarName:v=>`--${n.value}-${v}`,cssVarBlock:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${e}-${m}`]=v[m]);return g},cssVarBlockName:v=>`--${n.value}-${e}-${v}`}};var Nne=typeof global=="object"&&global&&global.Object===Object&&global,lSe=typeof self=="object"&&self&&self.Object===Object&&self,Bu=Nne||lSe||Function("return this")(),Rl=Bu.Symbol,Rne=Object.prototype,uSe=Rne.hasOwnProperty,cSe=Rne.toString,O1=Rl?Rl.toStringTag:void 0;function fSe(e){var t=uSe.call(e,O1),n=e[O1];try{e[O1]=void 0;var r=!0}catch{}var a=cSe.call(e);return r&&(t?e[O1]=n:delete e[O1]),a}var dSe=Object.prototype,hSe=dSe.toString;function pSe(e){return hSe.call(e)}var vSe="[object Null]",gSe="[object Undefined]",AH=Rl?Rl.toStringTag:void 0;function $g(e){return e==null?e===void 0?gSe:vSe:AH&&AH in Object(e)?fSe(e):pSe(e)}function Nc(e){return e!=null&&typeof e=="object"}var mSe="[object Symbol]";function iA(e){return typeof e=="symbol"||Nc(e)&&$g(e)==mSe}function N4(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var es=Array.isArray,ySe=1/0,DH=Rl?Rl.prototype:void 0,NH=DH?DH.toString:void 0;function Mne(e){if(typeof e=="string")return e;if(es(e))return N4(e,Mne)+"";if(iA(e))return NH?NH.call(e):"";var t=e+"";return t=="0"&&1/e==-ySe?"-0":t}var bSe=/\s/;function xSe(e){for(var t=e.length;t--&&bSe.test(e.charAt(t)););return t}var wSe=/^\s+/;function _Se(e){return e&&e.slice(0,xSe(e)+1).replace(wSe,"")}function ts(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var RH=NaN,SSe=/^[-+]0x[0-9a-f]+$/i,CSe=/^0b[01]+$/i,TSe=/^0o[0-7]+$/i,kSe=parseInt;function MH(e){if(typeof e=="number")return e;if(iA(e))return RH;if(ts(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ts(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_Se(e);var n=CSe.test(e);return n||TSe.test(e)?kSe(e.slice(2),n?2:8):SSe.test(e)?RH:+e}function R4(e){return e}var ISe="[object AsyncFunction]",ESe="[object Function]",ASe="[object GeneratorFunction]",DSe="[object Proxy]";function M4(e){if(!ts(e))return!1;var t=$g(e);return t==ESe||t==ASe||t==ISe||t==DSe}var gR=Bu["__core-js_shared__"],$H=function(){var e=/[^.]+$/.exec(gR&&gR.keys&&gR.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function NSe(e){return!!$H&&$H in e}var RSe=Function.prototype,MSe=RSe.toString;function Lg(e){if(e!=null){try{return MSe.call(e)}catch{}try{return e+""}catch{}}return""}var $Se=/[\\^$.*+?()[\]{}|]/g,LSe=/^\[object .+?Constructor\]$/,OSe=Function.prototype,PSe=Object.prototype,FSe=OSe.toString,BSe=PSe.hasOwnProperty,VSe=RegExp("^"+FSe.call(BSe).replace($Se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zSe(e){if(!ts(e)||NSe(e))return!1;var t=M4(e)?VSe:LSe;return t.test(Lg(e))}function WSe(e,t){return e==null?void 0:e[t]}function Og(e,t){var n=WSe(e,t);return zSe(n)?n:void 0}var sO=Og(Bu,"WeakMap"),LH=Object.create,HSe=function(){function e(){}return function(t){if(!ts(t))return{};if(LH)return LH(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function USe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function GSe(){}function $ne(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var KSe=800,jSe=16,YSe=Date.now;function XSe(e){var t=0,n=0;return function(){var r=YSe(),a=jSe-(r-n);if(n=r,a>0){if(++t>=KSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function qSe(e){return function(){return e}}var Wk=function(){try{var e=Og(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ZSe=Wk?function(e,t){return Wk(e,"toString",{configurable:!0,enumerable:!1,value:qSe(t),writable:!0})}:R4,Lne=XSe(ZSe);function JSe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function One(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function QSe(e){return e!==e}function eCe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}function tCe(e,t,n){return t===t?eCe(e,t,n):One(e,QSe,n)}function nCe(e,t){var n=e==null?0:e.length;return!!n&&tCe(e,t,0)>-1}var rCe=9007199254740991,aCe=/^(?:0|[1-9]\d*)$/;function oA(e,t){var n=typeof e;return t=t??rCe,!!t&&(n=="number"||n!="symbol"&&aCe.test(e))&&e>-1&&e%1==0&&e<t}function $4(e,t,n){t=="__proto__"&&Wk?Wk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function m_(e,t){return e===t||e!==e&&t!==t}var iCe=Object.prototype,oCe=iCe.hasOwnProperty;function L4(e,t,n){var r=e[t];(!(oCe.call(e,t)&&m_(r,n))||n===void 0&&!(t in e))&&$4(e,t,n)}function Py(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],l=void 0;l===void 0&&(l=e[s]),a?$4(n,s,l):L4(n,s,l)}return n}var OH=Math.max;function Pne(e,t,n){return t=OH(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=OH(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),USe(e,this,s)}}function Fne(e,t){return Lne(Pne(e,t,R4),e+"")}var sCe=9007199254740991;function O4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sCe}function Fy(e){return e!=null&&O4(e.length)&&!M4(e)}function lCe(e,t,n){if(!ts(n))return!1;var r=typeof t;return(r=="number"?Fy(n)&&oA(t,n.length):r=="string"&&t in n)?m_(n[t],e):!1}function uCe(e){return Fne(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&lCe(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,i)}return t})}var cCe=Object.prototype;function P4(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||cCe;return e===n}function fCe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var dCe="[object Arguments]";function PH(e){return Nc(e)&&$g(e)==dCe}var Bne=Object.prototype,hCe=Bne.hasOwnProperty,pCe=Bne.propertyIsEnumerable,Ux=PH(function(){return arguments}())?PH:function(e){return Nc(e)&&hCe.call(e,"callee")&&!pCe.call(e,"callee")};function vCe(){return!1}var Vne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,FH=Vne&&typeof module=="object"&&module&&!module.nodeType&&module,gCe=FH&&FH.exports===Vne,BH=gCe?Bu.Buffer:void 0,mCe=BH?BH.isBuffer:void 0,Gx=mCe||vCe,yCe="[object Arguments]",bCe="[object Array]",xCe="[object Boolean]",wCe="[object Date]",_Ce="[object Error]",SCe="[object Function]",CCe="[object Map]",TCe="[object Number]",kCe="[object Object]",ICe="[object RegExp]",ECe="[object Set]",ACe="[object String]",DCe="[object WeakMap]",NCe="[object ArrayBuffer]",RCe="[object DataView]",MCe="[object Float32Array]",$Ce="[object Float64Array]",LCe="[object Int8Array]",OCe="[object Int16Array]",PCe="[object Int32Array]",FCe="[object Uint8Array]",BCe="[object Uint8ClampedArray]",VCe="[object Uint16Array]",zCe="[object Uint32Array]",aa={};aa[MCe]=aa[$Ce]=aa[LCe]=aa[OCe]=aa[PCe]=aa[FCe]=aa[BCe]=aa[VCe]=aa[zCe]=!0;aa[yCe]=aa[bCe]=aa[NCe]=aa[xCe]=aa[RCe]=aa[wCe]=aa[_Ce]=aa[SCe]=aa[CCe]=aa[TCe]=aa[kCe]=aa[ICe]=aa[ECe]=aa[ACe]=aa[DCe]=!1;function WCe(e){return Nc(e)&&O4(e.length)&&!!aa[$g(e)]}function F4(e){return function(t){return e(t)}}var zne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tx=zne&&typeof module=="object"&&module&&!module.nodeType&&module,HCe=tx&&tx.exports===zne,mR=HCe&&Nne.process,Km=function(){try{var e=tx&&tx.require&&tx.require("util").types;return e||mR&&mR.binding&&mR.binding("util")}catch{}}(),VH=Km&&Km.isTypedArray,B4=VH?F4(VH):WCe,UCe=Object.prototype,GCe=UCe.hasOwnProperty;function Wne(e,t){var n=es(e),r=!n&&Ux(e),a=!n&&!r&&Gx(e),i=!n&&!r&&!a&&B4(e),o=n||r||a||i,s=o?fCe(e.length,String):[],l=s.length;for(var u in e)(t||GCe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||oA(u,l)))&&s.push(u);return s}function Hne(e,t){return function(n){return e(t(n))}}var KCe=Hne(Object.keys,Object),jCe=Object.prototype,YCe=jCe.hasOwnProperty;function XCe(e){if(!P4(e))return KCe(e);var t=[];for(var n in Object(e))YCe.call(e,n)&&n!="constructor"&&t.push(n);return t}function y_(e){return Fy(e)?Wne(e):XCe(e)}function qCe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var ZCe=Object.prototype,JCe=ZCe.hasOwnProperty;function QCe(e){if(!ts(e))return qCe(e);var t=P4(e),n=[];for(var r in e)r=="constructor"&&(t||!JCe.call(e,r))||n.push(r);return n}function b_(e){return Fy(e)?Wne(e,!0):QCe(e)}var e2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t2e=/^\w*$/;function V4(e,t){if(es(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||iA(e)?!0:t2e.test(e)||!e2e.test(e)||t!=null&&e in Object(t)}var Kx=Og(Object,"create");function n2e(){this.__data__=Kx?Kx(null):{},this.size=0}function r2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var a2e="__lodash_hash_undefined__",i2e=Object.prototype,o2e=i2e.hasOwnProperty;function s2e(e){var t=this.__data__;if(Kx){var n=t[e];return n===a2e?void 0:n}return o2e.call(t,e)?t[e]:void 0}var l2e=Object.prototype,u2e=l2e.hasOwnProperty;function c2e(e){var t=this.__data__;return Kx?t[e]!==void 0:u2e.call(t,e)}var f2e="__lodash_hash_undefined__";function d2e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Kx&&t===void 0?f2e:t,this}function eg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}eg.prototype.clear=n2e;eg.prototype.delete=r2e;eg.prototype.get=s2e;eg.prototype.has=c2e;eg.prototype.set=d2e;function h2e(){this.__data__=[],this.size=0}function sA(e,t){for(var n=e.length;n--;)if(m_(e[n][0],t))return n;return-1}var p2e=Array.prototype,v2e=p2e.splice;function g2e(e){var t=this.__data__,n=sA(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():v2e.call(t,n,1),--this.size,!0}function m2e(e){var t=this.__data__,n=sA(t,e);return n<0?void 0:t[n][1]}function y2e(e){return sA(this.__data__,e)>-1}function b2e(e,t){var n=this.__data__,r=sA(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ad(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ad.prototype.clear=h2e;ad.prototype.delete=g2e;ad.prototype.get=m2e;ad.prototype.has=y2e;ad.prototype.set=b2e;var jx=Og(Bu,"Map");function x2e(){this.size=0,this.__data__={hash:new eg,map:new(jx||ad),string:new eg}}function w2e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lA(e,t){var n=e.__data__;return w2e(t)?n[typeof t=="string"?"string":"hash"]:n.map}function _2e(e){var t=lA(this,e).delete(e);return this.size-=t?1:0,t}function S2e(e){return lA(this,e).get(e)}function C2e(e){return lA(this,e).has(e)}function T2e(e,t){var n=lA(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function id(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}id.prototype.clear=x2e;id.prototype.delete=_2e;id.prototype.get=S2e;id.prototype.has=C2e;id.prototype.set=T2e;var k2e="Expected a function";function uA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(k2e);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(uA.Cache||id),n}uA.Cache=id;var I2e=500;function E2e(e){var t=uA(e,function(r){return n.size===I2e&&n.clear(),r}),n=t.cache;return t}var A2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D2e=/\\(\\)?/g,N2e=E2e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(A2e,function(n,r,a,i){t.push(a?i.replace(D2e,"$1"):r||n)}),t});function R2e(e){return e==null?"":Mne(e)}function By(e,t){return es(e)?e:V4(e,t)?[e]:N2e(R2e(e))}var M2e=1/0;function Vy(e){if(typeof e=="string"||iA(e))return e;var t=e+"";return t=="0"&&1/e==-M2e?"-0":t}function cA(e,t){t=By(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Vy(t[n++])];return n&&n==r?e:void 0}function ca(e,t,n){var r=e==null?void 0:cA(e,t);return r===void 0?n:r}function z4(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var zH=Rl?Rl.isConcatSpreadable:void 0;function $2e(e){return es(e)||Ux(e)||!!(zH&&e&&e[zH])}function x_(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=$2e),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?x_(s,t-1,n,r,a):z4(a,s):r||(a[a.length]=s)}return a}function Une(e){var t=e==null?0:e.length;return t?x_(e,1):[]}function Gne(e){return Lne(Pne(e,void 0,Une),e+"")}var W4=Hne(Object.getPrototypeOf,Object),L2e="[object Object]",O2e=Function.prototype,P2e=Object.prototype,Kne=O2e.toString,F2e=P2e.hasOwnProperty,B2e=Kne.call(Object);function jne(e){if(!Nc(e)||$g(e)!=L2e)return!1;var t=W4(e);if(t===null)return!0;var n=F2e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Kne.call(n)==B2e}function V2e(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}function ho(){if(!arguments.length)return[];var e=arguments[0];return es(e)?e:[e]}function z2e(){this.__data__=new ad,this.size=0}function W2e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function H2e(e){return this.__data__.get(e)}function U2e(e){return this.__data__.has(e)}var G2e=200;function K2e(e,t){var n=this.__data__;if(n instanceof ad){var r=n.__data__;if(!jx||r.length<G2e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new id(r)}return n.set(e,t),this.size=n.size,this}function wu(e){var t=this.__data__=new ad(e);this.size=t.size}wu.prototype.clear=z2e;wu.prototype.delete=W2e;wu.prototype.get=H2e;wu.prototype.has=U2e;wu.prototype.set=K2e;function j2e(e,t){return e&&Py(t,y_(t),e)}function Y2e(e,t){return e&&Py(t,b_(t),e)}var Yne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,WH=Yne&&typeof module=="object"&&module&&!module.nodeType&&module,X2e=WH&&WH.exports===Yne,HH=X2e?Bu.Buffer:void 0,UH=HH?HH.allocUnsafe:void 0;function Xne(e,t){if(t)return e.slice();var n=e.length,r=UH?UH(n):new e.constructor(n);return e.copy(r),r}function q2e(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function qne(){return[]}var Z2e=Object.prototype,J2e=Z2e.propertyIsEnumerable,GH=Object.getOwnPropertySymbols,H4=GH?function(e){return e==null?[]:(e=Object(e),q2e(GH(e),function(t){return J2e.call(e,t)}))}:qne;function Q2e(e,t){return Py(e,H4(e),t)}var eTe=Object.getOwnPropertySymbols,Zne=eTe?function(e){for(var t=[];e;)z4(t,H4(e)),e=W4(e);return t}:qne;function tTe(e,t){return Py(e,Zne(e),t)}function Jne(e,t,n){var r=t(e);return es(e)?r:z4(r,n(e))}function lO(e){return Jne(e,y_,H4)}function Qne(e){return Jne(e,b_,Zne)}var uO=Og(Bu,"DataView"),cO=Og(Bu,"Promise"),Sm=Og(Bu,"Set"),KH="[object Map]",nTe="[object Object]",jH="[object Promise]",YH="[object Set]",XH="[object WeakMap]",qH="[object DataView]",rTe=Lg(uO),aTe=Lg(jx),iTe=Lg(cO),oTe=Lg(Sm),sTe=Lg(sO),su=$g;(uO&&su(new uO(new ArrayBuffer(1)))!=qH||jx&&su(new jx)!=KH||cO&&su(cO.resolve())!=jH||Sm&&su(new Sm)!=YH||sO&&su(new sO)!=XH)&&(su=function(e){var t=$g(e),n=t==nTe?e.constructor:void 0,r=n?Lg(n):"";if(r)switch(r){case rTe:return qH;case aTe:return KH;case iTe:return jH;case oTe:return YH;case sTe:return XH}return t});var lTe=Object.prototype,uTe=lTe.hasOwnProperty;function cTe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&uTe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Hk=Bu.Uint8Array;function U4(e){var t=new e.constructor(e.byteLength);return new Hk(t).set(new Hk(e)),t}function fTe(e,t){var n=t?U4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var dTe=/\w*$/;function hTe(e){var t=new e.constructor(e.source,dTe.exec(e));return t.lastIndex=e.lastIndex,t}var ZH=Rl?Rl.prototype:void 0,JH=ZH?ZH.valueOf:void 0;function pTe(e){return JH?Object(JH.call(e)):{}}function ere(e,t){var n=t?U4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var vTe="[object Boolean]",gTe="[object Date]",mTe="[object Map]",yTe="[object Number]",bTe="[object RegExp]",xTe="[object Set]",wTe="[object String]",_Te="[object Symbol]",STe="[object ArrayBuffer]",CTe="[object DataView]",TTe="[object Float32Array]",kTe="[object Float64Array]",ITe="[object Int8Array]",ETe="[object Int16Array]",ATe="[object Int32Array]",DTe="[object Uint8Array]",NTe="[object Uint8ClampedArray]",RTe="[object Uint16Array]",MTe="[object Uint32Array]";function $Te(e,t,n){var r=e.constructor;switch(t){case STe:return U4(e);case vTe:case gTe:return new r(+e);case CTe:return fTe(e,n);case TTe:case kTe:case ITe:case ETe:case ATe:case DTe:case NTe:case RTe:case MTe:return ere(e,n);case mTe:return new r;case yTe:case wTe:return new r(e);case bTe:return hTe(e);case xTe:return new r;case _Te:return pTe(e)}}function tre(e){return typeof e.constructor=="function"&&!P4(e)?HSe(W4(e)):{}}var LTe="[object Map]";function OTe(e){return Nc(e)&&su(e)==LTe}var QH=Km&&Km.isMap,PTe=QH?F4(QH):OTe,FTe="[object Set]";function BTe(e){return Nc(e)&&su(e)==FTe}var eU=Km&&Km.isSet,VTe=eU?F4(eU):BTe,zTe=1,WTe=2,HTe=4,nre="[object Arguments]",UTe="[object Array]",GTe="[object Boolean]",KTe="[object Date]",jTe="[object Error]",rre="[object Function]",YTe="[object GeneratorFunction]",XTe="[object Map]",qTe="[object Number]",are="[object Object]",ZTe="[object RegExp]",JTe="[object Set]",QTe="[object String]",eke="[object Symbol]",tke="[object WeakMap]",nke="[object ArrayBuffer]",rke="[object DataView]",ake="[object Float32Array]",ike="[object Float64Array]",oke="[object Int8Array]",ske="[object Int16Array]",lke="[object Int32Array]",uke="[object Uint8Array]",cke="[object Uint8ClampedArray]",fke="[object Uint16Array]",dke="[object Uint32Array]",Zr={};Zr[nre]=Zr[UTe]=Zr[nke]=Zr[rke]=Zr[GTe]=Zr[KTe]=Zr[ake]=Zr[ike]=Zr[oke]=Zr[ske]=Zr[lke]=Zr[XTe]=Zr[qTe]=Zr[are]=Zr[ZTe]=Zr[JTe]=Zr[QTe]=Zr[eke]=Zr[uke]=Zr[cke]=Zr[fke]=Zr[dke]=!0;Zr[jTe]=Zr[rre]=Zr[tke]=!1;function Cm(e,t,n,r,a,i){var o,s=t&zTe,l=t&WTe,u=t&HTe;if(n&&(o=a?n(e,r,a,i):n(e)),o!==void 0)return o;if(!ts(e))return e;var c=es(e);if(c){if(o=cTe(e),!s)return $ne(e,o)}else{var f=su(e),d=f==rre||f==YTe;if(Gx(e))return Xne(e,s);if(f==are||f==nre||d&&!a){if(o=l||d?{}:tre(e),!s)return l?tTe(e,Y2e(o,e)):Q2e(e,j2e(o,e))}else{if(!Zr[f])return a?e:{};o=$Te(e,f,s)}}i||(i=new wu);var h=i.get(e);if(h)return h;i.set(e,o),VTe(e)?e.forEach(function(g){o.add(Cm(g,t,n,g,e,i))}):PTe(e)&&e.forEach(function(g,m){o.set(m,Cm(g,t,n,m,e,i))});var p=u?l?Qne:lO:l?b_:y_,v=c?void 0:p(e);return JSe(v||e,function(g,m){v&&(m=g,g=e[m]),L4(o,m,Cm(g,t,n,m,e,i))}),o}var hke=4;function tU(e){return Cm(e,hke)}var pke=1,vke=4;function Uk(e){return Cm(e,pke|vke)}var gke="__lodash_hash_undefined__";function mke(e){return this.__data__.set(e,gke),this}function yke(e){return this.__data__.has(e)}function Yx(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new id;++t<n;)this.add(e[t])}Yx.prototype.add=Yx.prototype.push=mke;Yx.prototype.has=yke;function bke(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ire(e,t){return e.has(t)}var xke=1,wke=2;function ore(e,t,n,r,a,i){var o=n&xke,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=n&wke?new Yx:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var g=o?r(v,p,f,t,e,i):r(p,v,f,e,t,i);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!bke(t,function(m,y){if(!ire(h,y)&&(p===m||a(p,m,n,r,i)))return h.push(y)})){d=!1;break}}else if(!(p===v||a(p,v,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function _ke(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function G4(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Ske=1,Cke=2,Tke="[object Boolean]",kke="[object Date]",Ike="[object Error]",Eke="[object Map]",Ake="[object Number]",Dke="[object RegExp]",Nke="[object Set]",Rke="[object String]",Mke="[object Symbol]",$ke="[object ArrayBuffer]",Lke="[object DataView]",nU=Rl?Rl.prototype:void 0,yR=nU?nU.valueOf:void 0;function Oke(e,t,n,r,a,i,o){switch(n){case Lke:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $ke:return!(e.byteLength!=t.byteLength||!i(new Hk(e),new Hk(t)));case Tke:case kke:case Ake:return m_(+e,+t);case Ike:return e.name==t.name&&e.message==t.message;case Dke:case Rke:return e==t+"";case Eke:var s=_ke;case Nke:var l=r&Ske;if(s||(s=G4),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=Cke,o.set(e,t);var c=ore(s(e),s(t),r,a,i,o);return o.delete(e),c;case Mke:if(yR)return yR.call(e)==yR.call(t)}return!1}var Pke=1,Fke=Object.prototype,Bke=Fke.hasOwnProperty;function Vke(e,t,n,r,a,i){var o=n&Pke,s=lO(e),l=s.length,u=lO(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in t:Bke.call(t,d)))return!1}var h=i.get(e),p=i.get(t);if(h&&p)return h==t&&p==e;var v=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<l;){d=s[f];var m=e[d],y=t[d];if(r)var b=o?r(y,m,d,t,e,i):r(m,y,d,e,t,i);if(!(b===void 0?m===y||a(m,y,n,r,i):b)){v=!1;break}g||(g=d=="constructor")}if(v&&!g){var x=e.constructor,_=t.constructor;x!=_&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return i.delete(e),i.delete(t),v}var zke=1,rU="[object Arguments]",aU="[object Array]",RC="[object Object]",Wke=Object.prototype,iU=Wke.hasOwnProperty;function Hke(e,t,n,r,a,i){var o=es(e),s=es(t),l=o?aU:su(e),u=s?aU:su(t);l=l==rU?RC:l,u=u==rU?RC:u;var c=l==RC,f=u==RC,d=l==u;if(d&&Gx(e)){if(!Gx(t))return!1;o=!0,c=!1}if(d&&!c)return i||(i=new wu),o||B4(e)?ore(e,t,n,r,a,i):Oke(e,t,l,n,r,a,i);if(!(n&zke)){var h=c&&iU.call(e,"__wrapped__"),p=f&&iU.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return i||(i=new wu),a(v,g,n,r,i)}}return d?(i||(i=new wu),Vke(e,t,n,r,a,i)):!1}function fA(e,t,n,r,a){return e===t?!0:e==null||t==null||!Nc(e)&&!Nc(t)?e!==e&&t!==t:Hke(e,t,n,r,fA,a)}var Uke=1,Gke=2;function Kke(e,t,n,r){var a=n.length,i=a;if(e==null)return!i;for(e=Object(e);a--;){var o=n[a];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=n[a];var s=o[0],l=e[s],u=o[1];if(o[2]){if(l===void 0&&!(s in e))return!1}else{var c=new wu,f;if(!(f===void 0?fA(u,l,Uke|Gke,r,c):f))return!1}}return!0}function sre(e){return e===e&&!ts(e)}function jke(e){for(var t=y_(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,sre(a)]}return t}function lre(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Yke(e){var t=jke(e);return t.length==1&&t[0][2]?lre(t[0][0],t[0][1]):function(n){return n===e||Kke(n,e,t)}}function Xke(e,t){return e!=null&&t in Object(e)}function qke(e,t,n){t=By(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=Vy(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&O4(a)&&oA(o,a)&&(es(e)||Ux(e)))}function ure(e,t){return e!=null&&qke(e,t,Xke)}var Zke=1,Jke=2;function Qke(e,t){return V4(e)&&sre(t)?lre(Vy(e),t):function(n){var r=ca(n,e);return r===void 0&&r===t?ure(n,e):fA(t,r,Zke|Jke)}}function eIe(e){return function(t){return t==null?void 0:t[e]}}function tIe(e){return function(t){return cA(t,e)}}function nIe(e){return V4(e)?eIe(Vy(e)):tIe(e)}function cre(e){return typeof e=="function"?e:e==null?R4:typeof e=="object"?es(e)?Qke(e[0],e[1]):Yke(e):nIe(e)}function rIe(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[++a];if(n(i[l],l,i)===!1)break}return t}}var fre=rIe();function aIe(e,t){return e&&fre(e,t,y_)}function iIe(e,t){return function(n,r){if(n==null)return n;if(!Fy(n))return e(n,r);for(var a=n.length,i=-1,o=Object(n);++i<a&&r(o[i],i,o)!==!1;);return n}}var oIe=iIe(aIe),bR=function(){return Bu.Date.now()},sIe="Expected a function",lIe=Math.max,uIe=Math.min;function Cs(e,t,n){var r,a,i,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(sIe);t=MH(t)||0,ts(n)&&(c=!!n.leading,f="maxWait"in n,i=f?lIe(MH(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d);function h(S){var C=r,k=a;return r=a=void 0,u=S,o=e.apply(k,C),o}function p(S){return u=S,s=setTimeout(m,t),c?h(S):o}function v(S){var C=S-l,k=S-u,T=t-C;return f?uIe(T,i-k):T}function g(S){var C=S-l,k=S-u;return l===void 0||C>=t||C<0||f&&k>=i}function m(){var S=bR();if(g(S))return y(S);s=setTimeout(m,v(S))}function y(S){return s=void 0,d&&r?h(S):(r=a=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=a=s=void 0}function x(){return s===void 0?o:y(bR())}function _(){var S=bR(),C=g(S);if(r=arguments,a=this,l=S,C){if(s===void 0)return p(l);if(f)return clearTimeout(s),s=setTimeout(m,t),h(l)}return s===void 0&&(s=setTimeout(m,t)),o}return _.cancel=b,_.flush=x,_}function fO(e,t,n){(n!==void 0&&!m_(e[t],n)||n===void 0&&!(t in e))&&$4(e,t,n)}function dre(e){return Nc(e)&&Fy(e)}function dO(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function cIe(e){return Py(e,b_(e))}function fIe(e,t,n,r,a,i,o){var s=dO(e,n),l=dO(t,n),u=o.get(l);if(u){fO(e,n,u);return}var c=i?i(s,l,n+"",e,t,o):void 0,f=c===void 0;if(f){var d=es(l),h=!d&&Gx(l),p=!d&&!h&&B4(l);c=l,d||h||p?es(s)?c=s:dre(s)?c=$ne(s):h?(f=!1,c=Xne(l,!0)):p?(f=!1,c=ere(l,!0)):c=[]:jne(l)||Ux(l)?(c=s,Ux(s)?c=cIe(s):(!ts(s)||M4(s))&&(c=tre(l))):f=!1}f&&(o.set(l,c),a(c,l,r,i,o),o.delete(l)),fO(e,n,c)}function hre(e,t,n,r,a){e!==t&&fre(t,function(i,o){if(a||(a=new wu),ts(i))fIe(e,t,o,n,hre,r,a);else{var s=r?r(dO(e,o),i,o+"",e,t,a):void 0;s===void 0&&(s=i),fO(e,o,s)}},b_)}function dIe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function pre(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=r-1;return One(e,cre(t),a,!0)}function hIe(e,t){var n=-1,r=Fy(e)?Array(e.length):[];return oIe(e,function(a,i,o){r[++n]=t(a,i,o)}),r}function pIe(e,t){var n=es(e)?N4:hIe;return n(e,cre(t))}function vIe(e,t){return x_(pIe(e,t),1)}var gIe=1/0;function mIe(e){var t=e==null?0:e.length;return t?x_(e,gIe):[]}function Xx(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r}function yIe(e,t){return t.length<2?e:cA(e,V2e(t,0,-1))}function Ci(e,t){return fA(e,t)}function Ua(e){return e==null}function vre(e){return e===void 0}var gre=uCe(function(e,t,n){hre(e,t,n)});function bIe(e,t){return t=By(t,e),e=yIe(e,t),e==null||delete e[Vy(dIe(t))]}function xIe(e){return jne(e)?void 0:e}var wIe=1,_Ie=2,SIe=4,CIe=Gne(function(e,t){var n={};if(e==null)return n;var r=!1;t=N4(t,function(i){return i=By(i,e),r||(r=i.length>1),i}),Py(e,Qne(e),n),r&&(n=Cm(n,wIe|_Ie|SIe,xIe));for(var a=t.length;a--;)bIe(n,t[a]);return n});function mre(e,t,n,r){if(!ts(e))return e;t=By(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var l=Vy(t[a]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(a!=o){var c=s[l];u=void 0,u===void 0&&(u=ts(c)?c:oA(t[a+1])?[]:{})}L4(s,l,u),s=s[l]}return e}function TIe(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=cA(e,o);n(s,o)&&mre(i,By(o,e),s)}return i}function kIe(e,t){return TIe(e,t,function(n,r){return ure(e,r)})}var du=Gne(function(e,t){return e==null?{}:kIe(e,t)});function IIe(e,t,n){return e==null?e:mre(e,t,n)}var EIe="Expected a function";function $v(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(EIe);return ts(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Cs(e,t,{leading:r,maxWait:t,trailing:a})}var AIe=1/0,DIe=Sm&&1/G4(new Sm([,-0]))[1]==AIe?function(e){return new Sm(e)}:GSe,NIe=200;function RIe(e,t,n){var r=-1,a=nCe,i=e.length,o=!0,s=[],l=s;if(i>=NIe){var u=DIe(e);if(u)return G4(u);o=!1,a=ire,l=new Yx}else l=s;e:for(;++r<i;){var c=e[r],f=c;if(c=c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;s.push(c)}else a(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var xR=Fne(function(e){return RIe(x_(e,1,dre,!0))});const qn=e=>e===void 0,lr=e=>typeof e=="boolean",Tt=e=>typeof e=="number",Ms=e=>!e&&e!==0||Ke(e)&&e.length===0||qt(e)&&!Object.keys(e).length,zs=e=>typeof Element>"u"?!1:e instanceof Element,tg=e=>Ua(e),MIe=e=>vt(e)?!Number.isNaN(Number(e)):!1,dA=e=>e===window;var $Ie=Object.defineProperty,LIe=Object.defineProperties,OIe=Object.getOwnPropertyDescriptors,oU=Object.getOwnPropertySymbols,PIe=Object.prototype.hasOwnProperty,FIe=Object.prototype.propertyIsEnumerable,sU=(e,t,n)=>t in e?$Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BIe=(e,t)=>{for(var n in t||(t={}))PIe.call(t,n)&&sU(e,n,t[n]);if(oU)for(var n of oU(t))FIe.call(t,n)&&sU(e,n,t[n]);return e},VIe=(e,t)=>LIe(e,OIe(t));function hO(e,t){var n;const r=dr();return Pi(()=>{r.value=e()},VIe(BIe({},t),{flush:(n=void 0)!=null?n:"sync"})),Oy(r)}var lU;const wn=typeof window<"u",zIe=e=>typeof e<"u",pO=e=>typeof e=="function",WIe=e=>typeof e=="string",jm=()=>{},vO=wn&&((lU=window==null?void 0:window.navigator)==null?void 0:lU.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Sh(e){return typeof e=="function"?e():w(e)}function yre(e,t){function n(...r){return new Promise((a,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(i)})}return n}function HIe(e,t={}){let n,r,a=jm;const i=s=>{clearTimeout(s),a(),a=jm};return s=>{const l=Sh(e),u=Sh(t.maxWait);return n&&i(n),l<=0||u!==void 0&&u<=0?(r&&(i(r),r=null),Promise.resolve(s())):new Promise((c,f)=>{a=t.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{n&&i(n),r=null,c(s())},u)),n=setTimeout(()=>{r&&i(r),r=null,c(s())},l)})}}function UIe(e,t=!0,n=!0,r=!1){let a=0,i,o=!0,s=jm,l;const u=()=>{i&&(clearTimeout(i),i=void 0,s(),s=jm)};return f=>{const d=Sh(e),h=Date.now()-a,p=()=>l=f();return u(),d<=0?(a=Date.now(),p()):(h>d&&(n||!o)?(a=Date.now(),p()):t&&(l=new Promise((v,g)=>{s=r?g:v,i=setTimeout(()=>{a=Date.now(),o=!0,v(p()),u()},Math.max(0,d-h))})),!n&&!i&&(i=setTimeout(()=>o=!0,d)),o=!1,l)}}function GIe(e){return e}function KIe(e,t){let n,r,a;const i=Y(!0),o=()=>{i.value=!0,a()};Oe(e,o,{flush:"sync"});const s=pO(t)?t:t.get,l=pO(t)?void 0:t.set,u=xwe((c,f)=>(r=c,a=f,{get(){return i.value&&(n=s(),i.value=!1),r(),n},set(d){l==null||l(d)}}));return Object.isExtensible(u)&&(u.trigger=o),u}function w_(e){return ste()?(lte(e),!0):!1}function jIe(e,t=200,n={}){return yre(HIe(t,n),e)}function YIe(e,t=200,n={}){const r=Y(e.value),a=jIe(()=>{r.value=e.value},t,n);return Oe(e,()=>a()),r}function bre(e,t=200,n=!1,r=!0,a=!1){return yre(UIe(t,n,r,a),e)}function K4(e,t=!0){jt()?zt(e):t?e():xt(e)}function ng(e,t,n={}){const{immediate:r=!0}=n,a=Y(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function s(){a.value=!1,o()}function l(...u){o(),a.value=!0,i=setTimeout(()=>{a.value=!1,i=null,e(...u)},Sh(t))}return r&&(a.value=!0,wn&&l()),w_(s),{isPending:Oy(a),start:l,stop:s}}function Ko(e){var t;const n=Sh(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Xh=wn?window:void 0,XIe=wn?window.document:void 0;function Zn(...e){let t,n,r,a;if(WIe(e[0])||Array.isArray(e[0])?([n,r,a]=e,t=Xh):[t,n,r,a]=e,!t)return jm;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},s=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=Oe(()=>[Ko(t),Sh(a)],([c,f])=>{o(),c&&i.push(...n.flatMap(d=>r.map(h=>s(c,d,h,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return w_(u),u}let uU=!1;function j4(e,t,n={}){const{window:r=Xh,ignore:a=[],capture:i=!0,detectIframe:o=!1}=n;if(!r)return;vO&&!uU&&(uU=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",jm)));let s=!0;const l=d=>a.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=Ko(h);return p&&(d.target===p||d.composedPath().includes(p))}}),c=[Zn(r,"click",d=>{const h=Ko(e);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(s=!l(d)),!s){s=!0;return}t(d)}},{passive:!0,capture:i}),Zn(r,"pointerdown",d=>{const h=Ko(e);h&&(s=!d.composedPath().includes(h)&&!l(d))},{passive:!0}),o&&Zn(r,"blur",d=>{var h;const p=Ko(e);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&t(d)})].filter(Boolean);return()=>c.forEach(d=>d())}function qIe(e={}){var t;const{window:n=Xh}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,a=KIe(()=>null,()=>r==null?void 0:r.activeElement);return n&&(Zn(n,"blur",i=>{i.relatedTarget===null&&a.trigger()},!0),Zn(n,"focus",a.trigger,!0)),a}function xre(e,t=!1){const n=Y(),r=()=>n.value=!!e();return r(),K4(r,t),n}function ZIe(e){return JSON.parse(JSON.stringify(e))}const cU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fU="__vueuse_ssr_handlers__";cU[fU]=cU[fU]||{};function JIe(e,t,{window:n=Xh,initialValue:r=""}={}){const a=Y(r),i=F(()=>{var o;return Ko(t)||((o=n==null?void 0:n.document)==null?void 0:o.documentElement)});return Oe([i,()=>Sh(e)],([o,s])=>{var l;if(o&&n){const u=(l=n.getComputedStyle(o).getPropertyValue(s))==null?void 0:l.trim();a.value=u||r}},{immediate:!0}),Oe(a,o=>{var s;(s=i.value)!=null&&s.style&&i.value.style.setProperty(Sh(e),o)}),a}function QIe({document:e=XIe}={}){if(!e)return Y("visible");const t=Y(e.visibilityState);return Zn(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var dU=Object.getOwnPropertySymbols,eEe=Object.prototype.hasOwnProperty,tEe=Object.prototype.propertyIsEnumerable,nEe=(e,t)=>{var n={};for(var r in e)eEe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dU)for(var r of dU(e))t.indexOf(r)<0&&tEe.call(e,r)&&(n[r]=e[r]);return n};function Mr(e,t,n={}){const r=n,{window:a=Xh}=r,i=nEe(r,["window"]);let o;const s=xre(()=>a&&"ResizeObserver"in a),l=()=>{o&&(o.disconnect(),o=void 0)},u=Oe(()=>Ko(e),f=>{l(),s.value&&a&&f&&(o=new ResizeObserver(t),o.observe(f,i))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return w_(c),{isSupported:s,stop:c}}function hU(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:a=!0,immediate:i=!0}=t,o=Y(0),s=Y(0),l=Y(0),u=Y(0),c=Y(0),f=Y(0),d=Y(0),h=Y(0);function p(){const v=Ko(e);if(!v){n&&(o.value=0,s.value=0,l.value=0,u.value=0,c.value=0,f.value=0,d.value=0,h.value=0);return}const g=v.getBoundingClientRect();o.value=g.height,s.value=g.bottom,l.value=g.left,u.value=g.right,c.value=g.top,f.value=g.width,d.value=g.x,h.value=g.y}return Mr(e,p),Oe(()=>Ko(e),v=>!v&&p()),a&&Zn("scroll",p,{capture:!0,passive:!0}),r&&Zn("resize",p,{passive:!0}),K4(()=>{i&&p()}),{height:o,bottom:s,left:l,right:u,top:c,width:f,x:d,y:h,update:p}}var pU=Object.getOwnPropertySymbols,rEe=Object.prototype.hasOwnProperty,aEe=Object.prototype.propertyIsEnumerable,iEe=(e,t)=>{var n={};for(var r in e)rEe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pU)for(var r of pU(e))t.indexOf(r)<0&&aEe.call(e,r)&&(n[r]=e[r]);return n};function wre(e,t,n={}){const r=n,{window:a=Xh}=r,i=iEe(r,["window"]);let o;const s=xre(()=>a&&"MutationObserver"in a),l=()=>{o&&(o.disconnect(),o=void 0)},u=Oe(()=>Ko(e),f=>{l(),s.value&&a&&f&&(o=new MutationObserver(t),o.observe(f,i))},{immediate:!0}),c=()=>{l(),u()};return w_(c),{isSupported:s,stop:c}}var vU;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(vU||(vU={}));var oEe=Object.defineProperty,gU=Object.getOwnPropertySymbols,sEe=Object.prototype.hasOwnProperty,lEe=Object.prototype.propertyIsEnumerable,mU=(e,t,n)=>t in e?oEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uEe=(e,t)=>{for(var n in t)sEe.call(t,n)&&mU(e,n,t[n]);if(gU)for(var n of gU(t))lEe.call(t,n)&&mU(e,n,t[n]);return e};const cEe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};uEe({linear:GIe},cEe);function _re(e,t,n,r={}){var a,i,o;const{clone:s=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f}=r,d=jt(),h=n||(d==null?void 0:d.emit)||((a=d==null?void 0:d.$emit)==null?void 0:a.bind(d))||((o=(i=d==null?void 0:d.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(d==null?void 0:d.proxy));let p=u;t||(t="modelValue"),p=u||p||`update:${t.toString()}`;const v=m=>s?pO(s)?s(m):ZIe(m):m,g=()=>zIe(e[t])?v(e[t]):f;if(l){const m=g(),y=Y(m);return Oe(()=>e[t],b=>y.value=v(b)),Oe(y,b=>{(b!==e[t]||c)&&h(p,b)},{deep:c}),y}else return F({get(){return g()},set(m){h(p,m)}})}function fEe({window:e=Xh}={}){if(!e)return Y(!1);const t=Y(e.document.hasFocus());return Zn(e,"blur",()=>{t.value=!1}),Zn(e,"focus",()=>{t.value=!0}),t}function dEe(e={}){const{window:t=Xh,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:a=!0,includeScrollbar:i=!0}=e,o=Y(n),s=Y(r),l=()=>{t&&(i?(o.value=t.innerWidth,s.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};return l(),K4(l),Zn("resize",l,{passive:!0}),a&&Zn("orientationchange",l,{passive:!0}),{width:o,height:s}}class hEe extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Na(e,t){throw new hEe(`[${e}] ${t}`)}const yU={current:0},bU=Y(0),Sre=2e3,xU=Symbol("elZIndexContextKey"),Cre=Symbol("zIndexContextKey"),zy=e=>{const t=jt()?ht(xU,yU):yU,n=e||(jt()?ht(Cre,void 0):void 0),r=F(()=>{const o=w(n);return Tt(o)?o:Sre}),a=F(()=>r.value+bU.value),i=()=>(t.current++,bU.value=t.current,a.value);return!wn&&ht(xU),{initialZIndex:r,currentZIndex:a,nextZIndex:i}};var pEe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const vEe=e=>(t,n)=>gEe(t,n,w(e)),gEe=(e,t,n)=>ca(n,e,e).replace(/\{(\w+)\}/g,(r,a)=>{var i;return`${(i=t==null?void 0:t[a])!=null?i:`{${a}}`}`}),mEe=e=>{const t=F(()=>w(e).name),n=vr(e)?e:Y(e);return{lang:t,locale:n,t:vEe(e)}},Tre=Symbol("localeContextKey"),_n=e=>{const t=e||ht(Tre,Y());return mEe(F(()=>t.value||pEe))},kre="__epPropKey",be=e=>e,yEe=e=>qt(e)&&!!e[kre],Vu=(e,t)=>{if(!qt(e)||yEe(e))return e;const{values:n,required:r,default:a,type:i,validator:o}=e,l={type:i,required:!!r,validator:n||o?u=>{let c=!1,f=[];if(n&&(f=Array.from(n),Dn(e,"default")&&f.push(a),c||(c=f.includes(u))),o&&(c||(c=o(u))),!c&&f.length>0){const d=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");k_e(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${d}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[kre]:!0};return Dn(e,"default")&&(l.default=a),l},je=e=>Xx(Object.entries(e).map(([t,n])=>[t,Vu(n,t)])),Yc=["","default","small","large"],xa=Vu({type:String,values:Yc,required:!1}),Ire=Symbol("size"),Ere=()=>{const e=ht(Ire,{});return F(()=>w(e.size)||"")},Are=Symbol("emptyValuesContextKey"),bEe=["",void 0,null],xEe=void 0,Wy=je({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>mt(e)?!e():!e}}),hA=(e,t)=>{const n=jt()?ht(Are,Y({})):Y({}),r=F(()=>e.emptyValues||n.value.emptyValues||bEe),a=F(()=>mt(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:mt(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:xEe),i=o=>r.value.includes(o);return r.value.includes(a.value),{emptyValues:r,valueOnClear:a,isEmptyValue:i}},Ym=e=>Object.keys(e),Dre=e=>Object.entries(e),ET=(e,t,n)=>({get value(){return ca(e,t,n)},set value(r){IIe(e,t,r)}}),Gk=Y();function pA(e,t=void 0){const n=jt()?ht(Ane,Gk):Gk;return e?F(()=>{var r,a;return(a=(r=n.value)==null?void 0:r[e])!=null?a:t}):n}function vA(e,t){const n=pA(),r=ze(e,F(()=>{var s;return((s=n.value)==null?void 0:s.namespace)||ex})),a=_n(F(()=>{var s;return(s=n.value)==null?void 0:s.locale})),i=zy(F(()=>{var s;return((s=n.value)==null?void 0:s.zIndex)||Sre})),o=F(()=>{var s;return w(t)||((s=n.value)==null?void 0:s.size)||""});return Y4(F(()=>w(n)||{})),{ns:r,locale:a,zIndex:i,size:o}}const Y4=(e,t,n=!1)=>{var r;const a=!!jt(),i=a?pA():void 0,o=(r=t==null?void 0:t.provide)!=null?r:a?hn:void 0;if(!o)return;const s=F(()=>{const l=w(e);return i!=null&&i.value?wEe(i.value,l):l});return o(Ane,s),o(Tre,F(()=>s.value.locale)),o(Dne,F(()=>s.value.namespace)),o(Cre,F(()=>s.value.zIndex)),o(Ire,{size:F(()=>s.value.size||"")}),o(Are,F(()=>({emptyValues:s.value.emptyValues,valueOnClear:s.value.valueOnClear}))),(n||!Gk.value)&&(Gk.value=s.value),s},wEe=(e,t)=>{const n=[...new Set([...Ym(e),...Ym(t)])],r={};for(const a of n)r[a]=t[a]!==void 0?t[a]:e[a];return r},_Ee=(e=[])=>({version:oSe,install:(n,r)=>{n[EH]||(n[EH]=!0,e.forEach(a=>n.use(a)),r&&Y4(r,n,!0))}}),Ht="update:modelValue",Qn="change",Fi="input",SEe=je({zIndex:{type:be([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),CEe={scroll:({scrollTop:e,fixed:t})=>Tt(e)&&lr(t),[Qn]:e=>lr(e)};var Ze=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};function TEe(e,t,n,r){const a=n-t;return e/=r/2,e<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t}const Ch=e=>wn?window.requestAnimationFrame(e):setTimeout(e,16),rg=e=>wn?window.cancelAnimationFrame(e):clearTimeout(e),Nre=(e="")=>e.split(" ").filter(t=>!!t.trim()),xs=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Sl=(e,t)=>{!e||!t.trim()||e.classList.add(...Nre(t))},bo=(e,t)=>{!e||!t.trim()||e.classList.remove(...Nre(t))},_f=(e,t)=>{var n;if(!wn||!e||!t)return"";let r=Qo(t);r==="float"&&(r="cssFloat");try{const a=e.style[r];if(a)return a;const i=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return i?i[r]:""}catch{return e.style[r]}},Rre=(e,t,n)=>{if(!(!e||!t))if(qt(t))Dre(t).forEach(([r,a])=>Rre(e,r,a));else{const r=Qo(t);e.style[r]=n}};function ta(e,t="px"){if(!e)return"";if(Tt(e)||MIe(e))return`${e}${t}`;if(vt(e))return e}const kEe=(e,t)=>{if(!wn)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=_f(e,n);return["scroll","auto","overlay"].some(a=>r.includes(a))},X4=(e,t)=>{if(!wn)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(kEe(n,t))return n;n=n.parentNode}return n};let MC;const Mre=e=>{var t;if(!wn)return 0;if(MC!==void 0)return MC;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",n.appendChild(a);const i=a.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),MC=r-i,MC};function q4(e,t){if(!wn)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const a=t.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),i=a+t.offsetHeight,o=e.scrollTop,s=o+e.clientHeight;a<o?e.scrollTop=a:i>s&&(e.scrollTop=i-e.clientHeight)}function IEe(e,t,n,r,a){const i=Date.now();let o;const s=()=>{const u=Date.now()-i,c=TEe(u>r?r:u,t,n,r);dA(e)?e.scrollTo(window.pageXOffset,c):e.scrollTop=c,u<r?o=Ch(s):mt(a)&&a()};return s(),()=>{o&&rg(o)}}const wU=(e,t)=>dA(t)?e.ownerDocument.documentElement:t,_U=e=>dA(e)?window.scrollY:e.scrollTop,$re="ElAffix",EEe=se({name:$re}),AEe=se({...EEe,props:SEe,emits:CEe,setup(e,{expose:t,emit:n}){const r=e,a=ze("affix"),i=dr(),o=dr(),s=dr(),{height:l}=dEe(),{height:u,width:c,top:f,bottom:d,update:h}=hU(o,{windowScroll:!1}),p=hU(i),v=Y(!1),g=Y(0),m=Y(0),y=F(()=>({height:v.value?`${u.value}px`:"",width:v.value?`${c.value}px`:""})),b=F(()=>{if(!v.value)return{};const S=r.offset?ta(r.offset):0;return{height:`${u.value}px`,width:`${c.value}px`,top:r.position==="top"?S:"",bottom:r.position==="bottom"?S:"",transform:m.value?`translateY(${m.value}px)`:"",zIndex:r.zIndex}}),x=()=>{if(!s.value)return;g.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0;const{position:S,target:C,offset:k}=r,T=k+u.value;if(S==="top")if(C){const I=p.bottom.value-T;v.value=k>f.value&&p.bottom.value>0,m.value=I<0?I:0}else v.value=k>f.value;else if(C){const I=l.value-p.top.value-T;v.value=l.value-k<d.value&&l.value>p.top.value,m.value=I<0?-I:0}else v.value=l.value-k<d.value},_=()=>{h(),n("scroll",{scrollTop:g.value,fixed:v.value})};return Oe(v,S=>n("change",S)),zt(()=>{var S;r.target?(i.value=(S=document.querySelector(r.target))!=null?S:void 0,i.value||Na($re,`Target does not exist: ${r.target}`)):i.value=document.documentElement,s.value=X4(o.value,!0),h()}),Zn(s,"scroll",_),Pi(x),t({update:x,updateRoot:h}),(S,C)=>(z(),q("div",{ref_key:"root",ref:o,class:G(w(a).b()),style:yt(w(y))},[Z("div",{class:G({[w(a).m("fixed")]:v.value}),style:yt(w(b))},[Se(S.$slots,"default")],6)],6))}});var DEe=Ze(AEe,[["__file","affix.vue"]]);const Bt=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},Lre=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),NEe=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Ur=e=>(e.install=Un,e),REe=Bt(DEe),MEe=je({size:{type:be([Number,String])},color:{type:String}}),$Ee=se({name:"ElIcon",inheritAttrs:!1}),LEe=se({...$Ee,props:MEe,setup(e){const t=e,n=ze("icon"),r=F(()=>{const{size:a,color:i}=t;return!a&&!i?{}:{fontSize:qn(a)?void 0:ta(a),"--color":i}});return(a,i)=>(z(),q("i",rn({class:w(n).b(),style:w(r)},a.$attrs),[Se(a.$slots,"default")],16))}});var OEe=Ze(LEe,[["__file","icon.vue"]]);const pt=Bt(OEe);/*! Element Plus Icons Vue v2.3.1 */var PEe=se({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Xc=PEe,FEe=se({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Th=FEe,BEe=se({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Yo=BEe,VEe=se({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Z4=VEe,zEe=se({name:"Back",__name:"back",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),WEe=zEe,HEe=se({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),UEe=HEe,GEe=se({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),Ore=GEe,KEe=se({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),jEe=KEe,YEe=se({name:"Check",__name:"check",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),__=YEe,XEe=se({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),qEe=XEe,ZEe=se({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),J4=ZEe,JEe=se({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Q4=JEe,QEe=se({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),od=QEe,eAe=se({name:"Clock",__name:"clock",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),Pre=eAe,tAe=se({name:"Close",__name:"close",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Du=tAe,nAe=se({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),kh=nAe,rAe=se({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Ih=rAe,aAe=se({name:"DataAnalysis",__name:"data-analysis",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}}),iAe=aAe,oAe=se({name:"Delete",__name:"delete",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),sAe=oAe,lAe=se({name:"Document",__name:"document",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),AT=lAe,uAe=se({name:"Download",__name:"download",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),Fre=uAe,cAe=se({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),fAe=cAe,dAe=se({name:"Hide",__name:"hide",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),hAe=dAe,pAe=se({name:"Histogram",__name:"histogram",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M416 896V128h192v768zm-288 0V448h192v448zm576 0V320h192v576z"})]))}}),vAe=pAe,gAe=se({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),gA=gAe,mAe=se({name:"Loading",__name:"loading",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Nu=mAe,yAe=se({name:"Minus",__name:"minus",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),bAe=yAe,xAe=se({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),SU=xAe,wAe=se({name:"More",__name:"more",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),_Ae=wAe,SAe=se({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),CAe=SAe,TAe=se({name:"Plus",__name:"plus",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),Bre=TAe,kAe=se({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),IAe=kAe,EAe=se({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),AAe=EAe,DAe=se({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),NAe=DAe,RAe=se({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),MAe=RAe,$Ae=se({name:"Search",__name:"search",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),LAe=$Ae,OAe=se({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),PAe=OAe,FAe=se({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),BAe=FAe,VAe=se({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),$C=VAe,zAe=se({name:"Star",__name:"star",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),WAe=zAe,HAe=se({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Vre=HAe,UAe=se({name:"UploadFilled",__name:"upload-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),GAe=UAe,KAe=se({name:"View",__name:"view",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),jAe=KAe,YAe=se({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),mA=YAe,XAe=se({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),zre=XAe,qAe=se({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(z(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),ZAe=qAe;const er=be([String,Object,Function]),eB={Close:Du},tB={Close:Du,SuccessFilled:Vre,InfoFilled:gA,WarningFilled:mA,CircleCloseFilled:Q4},Eh={success:Vre,warning:mA,error:Q4,info:gA},yA={validating:Nu,success:J4,error:od},JAe=["light","dark"],QAe=je({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Ym(Eh),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:JAe,default:"light"}}),eDe={close:e=>e instanceof MouseEvent},tDe=se({name:"ElAlert"}),nDe=se({...tDe,props:QAe,emits:eDe,setup(e,{emit:t}){const n=e,{Close:r}=tB,a=Sa(),i=ze("alert"),o=Y(!0),s=F(()=>Eh[n.type]),l=F(()=>!!(n.description||a.default)),u=c=>{o.value=!1,t("close",c)};return(c,f)=>(z(),Ae(hi,{name:w(i).b("fade"),persisted:""},{default:fe(()=>[Vt(Z("div",{class:G([w(i).b(),w(i).m(c.type),w(i).is("center",c.center),w(i).is(c.effect)]),role:"alert"},[c.showIcon&&w(s)?(z(),Ae(w(pt),{key:0,class:G([w(i).e("icon"),{[w(i).is("big")]:w(l)}])},{default:fe(()=>[(z(),Ae(tn(w(s))))]),_:1},8,["class"])):Te("v-if",!0),Z("div",{class:G(w(i).e("content"))},[c.title||c.$slots.title?(z(),q("span",{key:0,class:G([w(i).e("title"),{"with-description":w(l)}])},[Se(c.$slots,"title",{},()=>[Kt(Ve(c.title),1)])],2)):Te("v-if",!0),w(l)?(z(),q("p",{key:1,class:G(w(i).e("description"))},[Se(c.$slots,"default",{},()=>[Kt(Ve(c.description),1)])],2)):Te("v-if",!0),c.closable?(z(),q(gt,{key:2},[c.closeText?(z(),q("div",{key:0,class:G([w(i).e("close-btn"),w(i).is("customed")]),onClick:u},Ve(c.closeText),3)):(z(),Ae(w(pt),{key:1,class:G(w(i).e("close-btn")),onClick:u},{default:fe(()=>[ie(w(r))]),_:1},8,["class"]))],64)):Te("v-if",!0)],2)],2),[[En,o.value]])]),_:3},8,["name"]))}});var rDe=Ze(nDe,[["__file","alert.vue"]]);const aDe=Bt(rDe),bA=()=>wn&&/firefox/i.test(window.navigator.userAgent);let Yl;const iDe=`
  height:0 !important;
  visibility:hidden !important;
  ${bA()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,oDe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function sDe(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:oDe.map(o=>`${o}:${t.getPropertyValue(o)}`).join(";"),paddingSize:r,borderSize:a,boxSizing:n}}function CU(e,t=1,n){var r;Yl||(Yl=document.createElement("textarea"),document.body.appendChild(Yl));const{paddingSize:a,borderSize:i,boxSizing:o,contextStyle:s}=sDe(e);Yl.setAttribute("style",`${s};${iDe}`),Yl.value=e.value||e.placeholder||"";let l=Yl.scrollHeight;const u={};o==="border-box"?l=l+i:o==="content-box"&&(l=l-a),Yl.value="";const c=Yl.scrollHeight-a;if(Tt(t)){let f=c*t;o==="border-box"&&(f=f+a+i),l=Math.max(f,l),u.minHeight=`${f}px`}if(Tt(n)){let f=c*n;o==="border-box"&&(f=f+a+i),l=Math.min(f,l)}return u.height=`${l}px`,(r=Yl.parentNode)==null||r.removeChild(Yl),Yl=void 0,u}const zr=e=>e,lDe=je({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Ei=e=>du(lDe,e),nB=je({id:{type:String,default:void 0},size:xa,disabled:Boolean,modelValue:{type:be([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:be([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:er},prefixIcon:{type:er},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:be([Object,Array,String]),default:()=>zr({})},autofocus:Boolean,rows:{type:Number,default:2},...Ei(["ariaLabel"])}),uDe={[Ht]:e=>vt(e),input:e=>vt(e),change:e=>vt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},cDe=["class","style"],fDe=/^on[A-Z]/,S_=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=F(()=>((n==null?void 0:n.value)||[]).concat(cDe)),a=jt();return F(a?()=>{var i;return Xx(Object.entries((i=a.proxy)==null?void 0:i.$attrs).filter(([o])=>!r.value.includes(o)&&!(t&&fDe.test(o))))}:()=>({}))},Pg=Symbol("formContextKey"),Rc=Symbol("formItemContextKey"),TU={prefix:Math.floor(Math.random()*1e4),current:0},dDe=Symbol("elIdInjection"),rB=()=>jt()?ht(dDe,TU):TU,Ii=e=>{const t=rB(),n=D4();return hO(()=>w(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},Xi=()=>{const e=ht(Pg,void 0),t=ht(Rc,void 0);return{form:e,formItem:t}},Vl=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Y(!1)),r||(r=Y(!1));const a=Y();let i;const o=F(()=>{var s;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((s=t.inputIds)==null?void 0:s.length)<=1)});return zt(()=>{i=Oe([Wn(e,"id"),n],([s,l])=>{const u=s??(l?void 0:Ii().value);u!==a.value&&(t!=null&&t.removeInputId&&(a.value&&t.removeInputId(a.value),!(r!=null&&r.value)&&!l&&u&&t.addInputId(u)),a.value=u)},{immediate:!0})}),jc(()=>{i&&i(),t!=null&&t.removeInputId&&a.value&&t.removeInputId(a.value)}),{isLabeledByFormItem:o,inputId:a}},Wre=e=>{const t=jt();return F(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},pa=(e,t={})=>{const n=Y(void 0),r=t.prop?n:Wre("size"),a=t.global?n:Ere(),i=t.form?{size:void 0}:ht(Pg,void 0),o=t.formItem?{size:void 0}:ht(Rc,void 0);return F(()=>r.value||w(e)||(o==null?void 0:o.size)||(i==null?void 0:i.size)||a.value||"")},qi=e=>{const t=Wre("disabled"),n=ht(Pg,void 0);return F(()=>t.value||w(e)||(n==null?void 0:n.disabled)||!1)};function qh(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:a}={}){const i=jt(),{emit:o}=i,s=dr(),l=Y(!1),u=d=>{mt(t)&&t(d)||l.value||(l.value=!0,o("focus",d),n==null||n())},c=d=>{var h;mt(r)&&r(d)||d.relatedTarget&&((h=s.value)!=null&&h.contains(d.relatedTarget))||(l.value=!1,o("blur",d),a==null||a())},f=()=>{var d,h;(d=s.value)!=null&&d.contains(document.activeElement)&&s.value!==document.activeElement||(h=e.value)==null||h.focus()};return Oe(s,d=>{d&&d.setAttribute("tabindex","-1")}),Zn(s,"focus",u,!0),Zn(s,"blur",c,!0),Zn(s,"click",f,!0),{isFocused:l,wrapperRef:s,handleFocus:u,handleBlur:c}}const hDe=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function C_({afterComposition:e,emit:t}){const n=Y(!1),r=s=>{t==null||t("compositionstart",s),n.value=!0},a=s=>{var l;t==null||t("compositionupdate",s);const u=(l=s.target)==null?void 0:l.value,c=u[u.length-1]||"";n.value=!hDe(c)},i=s=>{t==null||t("compositionend",s),n.value&&(n.value=!1,xt(()=>e(s)))};return{isComposing:n,handleComposition:s=>{s.type==="compositionend"?i(s):a(s)},handleCompositionStart:r,handleCompositionUpdate:a,handleCompositionEnd:i}}function pDe(e){let t;function n(){if(e.value==null)return;const{selectionStart:a,selectionEnd:i,value:o}=e.value;if(a==null||i==null)return;const s=o.slice(0,Math.max(0,a)),l=o.slice(Math.max(0,i));t={selectionStart:a,selectionEnd:i,value:o,beforeTxt:s,afterTxt:l}}function r(){if(e.value==null||t==null)return;const{value:a}=e.value,{beforeTxt:i,afterTxt:o,selectionStart:s}=t;if(i==null||o==null||s==null)return;let l=a.length;if(a.endsWith(o))l=a.length-o.length;else if(a.startsWith(i))l=i.length;else{const u=i[s-1],c=a.indexOf(u,s-1);c!==-1&&(l=c+1)}e.value.setSelectionRange(l,l)}return[n,r]}const vDe=se({name:"ElInput",inheritAttrs:!1}),gDe=se({...vDe,props:nB,emits:uDe,setup(e,{expose:t,emit:n}){const r=e,a=Yh(),i=S_(),o=Sa(),s=F(()=>[r.type==="textarea"?v.b():p.b(),p.m(d.value),p.is("disabled",h.value),p.is("exceed",V.value),{[p.b("group")]:o.prepend||o.append,[p.m("prefix")]:o.prefix||r.prefixIcon,[p.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:O.value&&M.value,[p.b("hidden")]:r.type==="hidden"},a.class]),l=F(()=>[p.e("wrapper"),p.is("focus",k.value)]),{form:u,formItem:c}=Xi(),{inputId:f}=Vl(r,{formItemContext:c}),d=pa(),h=qi(),p=ze("input"),v=ze("textarea"),g=dr(),m=dr(),y=Y(!1),b=Y(!1),x=Y(),_=dr(r.inputStyle),S=F(()=>g.value||m.value),{wrapperRef:C,isFocused:k,handleFocus:T,handleBlur:I}=qh(S,{beforeFocus(){return h.value},afterBlur(){var ce;r.validateEvent&&((ce=c==null?void 0:c.validate)==null||ce.call(c,"blur").catch(Re=>void 0))}}),E=F(()=>{var ce;return(ce=u==null?void 0:u.statusIcon)!=null?ce:!1}),A=F(()=>(c==null?void 0:c.validateState)||""),N=F(()=>A.value&&yA[A.value]),L=F(()=>b.value?jAe:hAe),R=F(()=>[a.style]),D=F(()=>[r.inputStyle,_.value,{resize:r.resize}]),P=F(()=>Ua(r.modelValue)?"":String(r.modelValue)),O=F(()=>r.clearable&&!h.value&&!r.readonly&&!!P.value&&(k.value||y.value)),M=F(()=>r.showPassword&&!h.value&&!!P.value&&(!!P.value||k.value)),W=F(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!h.value&&!r.readonly&&!r.showPassword),U=F(()=>P.value.length),V=F(()=>!!W.value&&U.value>Number(r.maxlength)),H=F(()=>!!o.suffix||!!r.suffixIcon||O.value||r.showPassword||W.value||!!A.value&&E.value),[K,j]=pDe(g);Mr(m,ce=>{if(oe(),!W.value||r.resize!=="both")return;const Re=ce[0],{width:ct}=Re.contentRect;x.value={right:`calc(100% - ${ct+15+6}px)`}});const ne=()=>{const{type:ce,autosize:Re}=r;if(!(!wn||ce!=="textarea"||!m.value))if(Re){const ct=qt(Re)?Re.minRows:void 0,It=qt(Re)?Re.maxRows:void 0,wt=CU(m.value,ct,It);_.value={overflowY:"hidden",...wt},xt(()=>{m.value.offsetHeight,_.value=wt})}else _.value={minHeight:CU(m.value).minHeight}},oe=(ce=>{let Re=!1;return()=>{var ct;if(Re||!r.autosize)return;((ct=m.value)==null?void 0:ct.offsetParent)===null||(ce(),Re=!0)}})(ne),ae=()=>{const ce=S.value,Re=r.formatter?r.formatter(P.value):P.value;!ce||ce.value===Re||(ce.value=Re)},me=async ce=>{K();let{value:Re}=ce.target;if(r.formatter&&(Re=r.parser?r.parser(Re):Re),!B.value){if(Re===P.value){ae();return}n(Ht,Re),n("input",Re),await xt(),ae(),j()}},ve=ce=>{n("change",ce.target.value)},{isComposing:B,handleCompositionStart:re,handleCompositionUpdate:ge,handleCompositionEnd:Ie}=C_({emit:n,afterComposition:me}),Ce=()=>{K(),b.value=!b.value,setTimeout(j)},he=()=>{var ce;return(ce=S.value)==null?void 0:ce.focus()},J=()=>{var ce;return(ce=S.value)==null?void 0:ce.blur()},te=ce=>{y.value=!1,n("mouseleave",ce)},xe=ce=>{y.value=!0,n("mouseenter",ce)},Ee=ce=>{n("keydown",ce)},Qe=()=>{var ce;(ce=S.value)==null||ce.select()},Be=()=>{n(Ht,""),n("change",""),n("clear"),n("input","")};return Oe(()=>r.modelValue,()=>{var ce;xt(()=>ne()),r.validateEvent&&((ce=c==null?void 0:c.validate)==null||ce.call(c,"change").catch(Re=>void 0))}),Oe(P,()=>ae()),Oe(()=>r.type,async()=>{await xt(),ae(),ne()}),zt(()=>{!r.formatter&&r.parser,ae(),xt(ne)}),t({input:g,textarea:m,ref:S,textareaStyle:D,autosize:Wn(r,"autosize"),isComposing:B,focus:he,blur:J,select:Qe,clear:Be,resizeTextarea:ne}),(ce,Re)=>(z(),q("div",{class:G([w(s),{[w(p).bm("group","append")]:ce.$slots.append,[w(p).bm("group","prepend")]:ce.$slots.prepend}]),style:yt(w(R)),onMouseenter:xe,onMouseleave:te},[Te(" input "),ce.type!=="textarea"?(z(),q(gt,{key:0},[Te(" prepend slot "),ce.$slots.prepend?(z(),q("div",{key:0,class:G(w(p).be("group","prepend"))},[Se(ce.$slots,"prepend")],2)):Te("v-if",!0),Z("div",{ref_key:"wrapperRef",ref:C,class:G(w(l))},[Te(" prefix slot "),ce.$slots.prefix||ce.prefixIcon?(z(),q("span",{key:0,class:G(w(p).e("prefix"))},[Z("span",{class:G(w(p).e("prefix-inner"))},[Se(ce.$slots,"prefix"),ce.prefixIcon?(z(),Ae(w(pt),{key:0,class:G(w(p).e("icon"))},{default:fe(()=>[(z(),Ae(tn(ce.prefixIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],2)):Te("v-if",!0),Z("input",rn({id:w(f),ref_key:"input",ref:g,class:w(p).e("inner")},w(i),{minlength:ce.minlength,maxlength:ce.maxlength,type:ce.showPassword?b.value?"text":"password":ce.type,disabled:w(h),readonly:ce.readonly,autocomplete:ce.autocomplete,tabindex:ce.tabindex,"aria-label":ce.ariaLabel,placeholder:ce.placeholder,style:ce.inputStyle,form:ce.form,autofocus:ce.autofocus,role:ce.containerRole,onCompositionstart:w(re),onCompositionupdate:w(ge),onCompositionend:w(Ie),onInput:me,onChange:ve,onKeydown:Ee}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Te(" suffix slot "),w(H)?(z(),q("span",{key:1,class:G(w(p).e("suffix"))},[Z("span",{class:G(w(p).e("suffix-inner"))},[!w(O)||!w(M)||!w(W)?(z(),q(gt,{key:0},[Se(ce.$slots,"suffix"),ce.suffixIcon?(z(),Ae(w(pt),{key:0,class:G(w(p).e("icon"))},{default:fe(()=>[(z(),Ae(tn(ce.suffixIcon)))]),_:1},8,["class"])):Te("v-if",!0)],64)):Te("v-if",!0),w(O)?(z(),Ae(w(pt),{key:1,class:G([w(p).e("icon"),w(p).e("clear")]),onMousedown:At(w(Un),["prevent"]),onClick:Be},{default:fe(()=>[ie(w(od))]),_:1},8,["class","onMousedown"])):Te("v-if",!0),w(M)?(z(),Ae(w(pt),{key:2,class:G([w(p).e("icon"),w(p).e("password")]),onClick:Ce},{default:fe(()=>[(z(),Ae(tn(w(L))))]),_:1},8,["class"])):Te("v-if",!0),w(W)?(z(),q("span",{key:3,class:G(w(p).e("count"))},[Z("span",{class:G(w(p).e("count-inner"))},Ve(w(U))+" / "+Ve(ce.maxlength),3)],2)):Te("v-if",!0),w(A)&&w(N)&&w(E)?(z(),Ae(w(pt),{key:4,class:G([w(p).e("icon"),w(p).e("validateIcon"),w(p).is("loading",w(A)==="validating")])},{default:fe(()=>[(z(),Ae(tn(w(N))))]),_:1},8,["class"])):Te("v-if",!0)],2)],2)):Te("v-if",!0)],2),Te(" append slot "),ce.$slots.append?(z(),q("div",{key:1,class:G(w(p).be("group","append"))},[Se(ce.$slots,"append")],2)):Te("v-if",!0)],64)):(z(),q(gt,{key:1},[Te(" textarea "),Z("textarea",rn({id:w(f),ref_key:"textarea",ref:m,class:[w(v).e("inner"),w(p).is("focus",w(k))]},w(i),{minlength:ce.minlength,maxlength:ce.maxlength,tabindex:ce.tabindex,disabled:w(h),readonly:ce.readonly,autocomplete:ce.autocomplete,style:w(D),"aria-label":ce.ariaLabel,placeholder:ce.placeholder,form:ce.form,autofocus:ce.autofocus,rows:ce.rows,role:ce.containerRole,onCompositionstart:w(re),onCompositionupdate:w(ge),onCompositionend:w(Ie),onInput:me,onFocus:w(T),onBlur:w(I),onChange:ve,onKeydown:Ee}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),w(W)?(z(),q("span",{key:0,style:yt(x.value),class:G(w(p).e("count"))},Ve(w(U))+" / "+Ve(ce.maxlength),7)):Te("v-if",!0)],64))],38))}});var mDe=Ze(gDe,[["__file","input.vue"]]);const mo=Bt(mDe),g0=4,Hre={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},yDe=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),aB=Symbol("scrollbarContextKey"),bDe=je({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),xDe="Thumb",wDe=se({__name:"thumb",props:bDe,setup(e){const t=e,n=ht(aB),r=ze("scrollbar");n||Na(xDe,"can not inject scrollbar context");const a=Y(),i=Y(),o=Y({}),s=Y(!1);let l=!1,u=!1,c=wn?document.onselectstart:null;const f=F(()=>Hre[t.vertical?"vertical":"horizontal"]),d=F(()=>yDe({size:t.size,move:t.move,bar:f.value})),h=F(()=>a.value[f.value.offset]**2/n.wrapElement[f.value.scrollSize]/t.ratio/i.value[f.value.offset]),p=S=>{var C;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(C=window.getSelection())==null||C.removeAllRanges(),g(S);const k=S.currentTarget;k&&(o.value[f.value.axis]=k[f.value.offset]-(S[f.value.client]-k.getBoundingClientRect()[f.value.direction]))},v=S=>{if(!i.value||!a.value||!n.wrapElement)return;const C=Math.abs(S.target.getBoundingClientRect()[f.value.direction]-S[f.value.client]),k=i.value[f.value.offset]/2,T=(C-k)*100*h.value/a.value[f.value.offset];n.wrapElement[f.value.scroll]=T*n.wrapElement[f.value.scrollSize]/100},g=S=>{S.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",m),document.addEventListener("mouseup",y),c=document.onselectstart,document.onselectstart=()=>!1},m=S=>{if(!a.value||!i.value||l===!1)return;const C=o.value[f.value.axis];if(!C)return;const k=(a.value.getBoundingClientRect()[f.value.direction]-S[f.value.client])*-1,T=i.value[f.value.offset]-C,I=(k-T)*100*h.value/a.value[f.value.offset];n.wrapElement[f.value.scroll]=I*n.wrapElement[f.value.scrollSize]/100},y=()=>{l=!1,o.value[f.value.axis]=0,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),_(),u&&(s.value=!1)},b=()=>{u=!1,s.value=!!t.size},x=()=>{u=!0,s.value=l};ar(()=>{_(),document.removeEventListener("mouseup",y)});const _=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return Zn(Wn(n,"scrollbarElement"),"mousemove",b),Zn(Wn(n,"scrollbarElement"),"mouseleave",x),(S,C)=>(z(),Ae(hi,{name:w(r).b("fade"),persisted:""},{default:fe(()=>[Vt(Z("div",{ref_key:"instance",ref:a,class:G([w(r).e("bar"),w(r).is(w(f).key)]),onMousedown:v},[Z("div",{ref_key:"thumb",ref:i,class:G(w(r).e("thumb")),style:yt(w(d)),onMousedown:p},null,38)],34),[[En,S.always||s.value]])]),_:1},8,["name"]))}});var kU=Ze(wDe,[["__file","thumb.vue"]]);const _De=je({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),SDe=se({__name:"bar",props:_De,setup(e,{expose:t}){const n=e,r=ht(aB),a=Y(0),i=Y(0),o=Y(""),s=Y(""),l=Y(1),u=Y(1);return t({handleScroll:d=>{if(d){const h=d.offsetHeight-g0,p=d.offsetWidth-g0;i.value=d.scrollTop*100/h*l.value,a.value=d.scrollLeft*100/p*u.value}},update:()=>{const d=r==null?void 0:r.wrapElement;if(!d)return;const h=d.offsetHeight-g0,p=d.offsetWidth-g0,v=h**2/d.scrollHeight,g=p**2/d.scrollWidth,m=Math.max(v,n.minSize),y=Math.max(g,n.minSize);l.value=v/(h-v)/(m/(h-m)),u.value=g/(p-g)/(y/(p-y)),s.value=m+g0<h?`${m}px`:"",o.value=y+g0<p?`${y}px`:""}}),(d,h)=>(z(),q(gt,null,[ie(kU,{move:a.value,ratio:u.value,size:o.value,always:d.always},null,8,["move","ratio","size","always"]),ie(kU,{move:i.value,ratio:l.value,size:s.value,vertical:"",always:d.always},null,8,["move","ratio","size","always"])],64))}});var CDe=Ze(SDe,[["__file","bar.vue"]]);const TDe=je({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:be([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ei(["ariaLabel","ariaOrientation"])}),kDe={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Tt)},IDe="ElScrollbar",EDe=se({name:IDe}),ADe=se({...EDe,props:TDe,emits:kDe,setup(e,{expose:t,emit:n}){const r=e,a=ze("scrollbar");let i,o,s=0,l=0;const u=Y(),c=Y(),f=Y(),d=Y(),h=F(()=>{const _={};return r.height&&(_.height=ta(r.height)),r.maxHeight&&(_.maxHeight=ta(r.maxHeight)),[r.wrapStyle,_]}),p=F(()=>[r.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!r.native}]),v=F(()=>[a.e("view"),r.viewClass]),g=()=>{var _;c.value&&((_=d.value)==null||_.handleScroll(c.value),s=c.value.scrollTop,l=c.value.scrollLeft,n("scroll",{scrollTop:c.value.scrollTop,scrollLeft:c.value.scrollLeft}))};function m(_,S){qt(_)?c.value.scrollTo(_):Tt(_)&&Tt(S)&&c.value.scrollTo(_,S)}const y=_=>{Tt(_)&&(c.value.scrollTop=_)},b=_=>{Tt(_)&&(c.value.scrollLeft=_)},x=()=>{var _;(_=d.value)==null||_.update()};return Oe(()=>r.noresize,_=>{_?(i==null||i(),o==null||o()):({stop:i}=Mr(f,x),o=Zn("resize",x))},{immediate:!0}),Oe(()=>[r.maxHeight,r.height],()=>{r.native||xt(()=>{var _;x(),c.value&&((_=d.value)==null||_.handleScroll(c.value))})}),hn(aB,Ln({scrollbarElement:u,wrapElement:c})),S4(()=>{c.value&&(c.value.scrollTop=s,c.value.scrollLeft=l)}),zt(()=>{r.native||xt(()=>{x()})}),Kc(()=>x()),t({wrapRef:c,update:x,scrollTo:m,setScrollTop:y,setScrollLeft:b,handleScroll:g}),(_,S)=>(z(),q("div",{ref_key:"scrollbarRef",ref:u,class:G(w(a).b())},[Z("div",{ref_key:"wrapRef",ref:c,class:G(w(p)),style:yt(w(h)),tabindex:_.tabindex,onScroll:g},[(z(),Ae(tn(_.tag),{id:_.id,ref_key:"resizeRef",ref:f,class:G(w(v)),style:yt(_.viewStyle),role:_.role,"aria-label":_.ariaLabel,"aria-orientation":_.ariaOrientation},{default:fe(()=>[Se(_.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),_.native?Te("v-if",!0):(z(),Ae(CDe,{key:0,ref_key:"barRef",ref:d,always:_.always,"min-size":_.minSize},null,8,["always","min-size"]))],2))}});var DDe=Ze(ADe,[["__file","scrollbar.vue"]]);const qc=Bt(DDe),iB=Symbol("popper"),Ure=Symbol("popperContent"),NDe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Gre=je({role:{type:String,values:NDe,default:"tooltip"}}),RDe=se({name:"ElPopper",inheritAttrs:!1}),MDe=se({...RDe,props:Gre,setup(e,{expose:t}){const n=e,r=Y(),a=Y(),i=Y(),o=Y(),s=F(()=>n.role),l={triggerRef:r,popperInstanceRef:a,contentRef:i,referenceRef:o,role:s};return t(l),hn(iB,l),(u,c)=>Se(u.$slots,"default")}});var $De=Ze(MDe,[["__file","popper.vue"]]);const Kre=je({arrowOffset:{type:Number,default:5}}),LDe=se({name:"ElPopperArrow",inheritAttrs:!1}),ODe=se({...LDe,props:Kre,setup(e,{expose:t}){const n=e,r=ze("popper"),{arrowOffset:a,arrowRef:i,arrowStyle:o}=ht(Ure,void 0);return Oe(()=>n.arrowOffset,s=>{a.value=s}),ar(()=>{i.value=void 0}),t({arrowRef:i}),(s,l)=>(z(),q("span",{ref_key:"arrowRef",ref:i,class:G(w(r).e("arrow")),style:yt(w(o)),"data-popper-arrow":""},null,6))}});var PDe=Ze(ODe,[["__file","arrow.vue"]]);const jre=je({virtualRef:{type:be(Object)},virtualTriggering:Boolean,onMouseenter:{type:be(Function)},onMouseleave:{type:be(Function)},onClick:{type:be(Function)},onKeydown:{type:be(Function)},onFocus:{type:be(Function)},onBlur:{type:be(Function)},onContextmenu:{type:be(Function)},id:String,open:Boolean}),Yre=Symbol("elForwardRef"),FDe=e=>{hn(Yre,{setForwardRef:n=>{e.value=n}})},BDe=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),VDe='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',zDe=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,IU=e=>Array.from(e.querySelectorAll(VDe)).filter(t=>gO(t)&&zDe(t)),gO=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},DT=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const a=document.createEvent(r);return a.initEvent(t,...n),e.dispatchEvent(a),e},Xre=e=>!e.getAttribute("aria-owns"),qre=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const a=r.querySelectorAll(n),i=Array.prototype.indexOf.call(a,e);return a[i+t]||null},NT=e=>{e&&(e.focus(),!Xre(e)&&e.click())},WDe="ElOnlyChild",Zre=se({name:WDe,setup(e,{slots:t,attrs:n}){var r;const a=ht(Yre),i=BDe((r=a==null?void 0:a.setForwardRef)!=null?r:Un);return()=>{var o;const s=(o=t.default)==null?void 0:o.call(t,n);if(!s||s.length>1)return null;const l=Jre(s);return l?Vt(Bf(l,n),[[i]]):null}}});function Jre(e){if(!e)return null;const t=e;for(const n of t){if(qt(n))switch(n.type){case ti:continue;case Mg:case"svg":return EU(n);case gt:return Jre(n.children);default:return n}return EU(n)}return null}function EU(e){const t=ze("only-child");return ie("span",{class:t.e("content")},[e])}const HDe=se({name:"ElPopperTrigger",inheritAttrs:!1}),UDe=se({...HDe,props:jre,setup(e,{expose:t}){const n=e,{role:r,triggerRef:a}=ht(iB,void 0);FDe(a);const i=F(()=>s.value?n.id:void 0),o=F(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),s=F(()=>{if(r&&r.value!=="tooltip")return r.value}),l=F(()=>s.value?`${n.open}`:void 0);let u;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return zt(()=>{Oe(()=>n.virtualRef,f=>{f&&(a.value=Ko(f))},{immediate:!0}),Oe(a,(f,d)=>{u==null||u(),u=void 0,zs(f)&&(c.forEach(h=>{var p;const v=n[h];v&&(f.addEventListener(h.slice(2).toLowerCase(),v),(p=d==null?void 0:d.removeEventListener)==null||p.call(d,h.slice(2).toLowerCase(),v))}),gO(f)&&(u=Oe([i,o,s,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,v)=>{Ua(h[v])?f.removeAttribute(p):f.setAttribute(p,h[v])})},{immediate:!0}))),zs(d)&&gO(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>d.removeAttribute(h))},{immediate:!0})}),ar(()=>{if(u==null||u(),u=void 0,a.value&&zs(a.value)){const f=a.value;c.forEach(d=>{const h=n[d];h&&f.removeEventListener(d.slice(2).toLowerCase(),h)}),a.value=void 0}}),t({triggerRef:a}),(f,d)=>f.virtualTriggering?Te("v-if",!0):(z(),Ae(w(Zre),rn({key:0},f.$attrs,{"aria-controls":w(i),"aria-describedby":w(o),"aria-expanded":w(l),"aria-haspopup":w(s)}),{default:fe(()=>[Se(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var GDe=Ze(UDe,[["__file","trigger.vue"]]);const wR="focus-trap.focus-after-trapped",_R="focus-trap.focus-after-released",KDe="focus-trap.focusout-prevented",AU={cancelable:!0,bubbles:!1},jDe={cancelable:!0,bubbles:!1},DU="focusAfterTrapped",NU="focusAfterReleased",oB=Symbol("elFocusTrap"),sB=Y(),xA=Y(0),lB=Y(0);let LC=0;const Qre=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},RU=(e,t)=>{for(const n of e)if(!YDe(n,t))return n},YDe=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},XDe=e=>{const t=Qre(e),n=RU(t,e),r=RU(t.reverse(),e);return[n,r]},qDe=e=>e instanceof HTMLInputElement&&"select"in e,Nd=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),lB.value=window.performance.now(),e!==n&&qDe(e)&&t&&e.select()}};function MU(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const ZDe=()=>{let e=[];return{push:r=>{const a=e[0];a&&r!==a&&a.pause(),e=MU(e,r),e.unshift(r)},remove:r=>{var a,i;e=MU(e,r),(i=(a=e[0])==null?void 0:a.resume)==null||i.call(a)}}},JDe=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Nd(r,t),document.activeElement!==n)return},$U=ZDe(),QDe=()=>xA.value>lB.value,OC=()=>{sB.value="pointer",xA.value=window.performance.now()},LU=()=>{sB.value="keyboard",xA.value=window.performance.now()},eNe=()=>(zt(()=>{LC===0&&(document.addEventListener("mousedown",OC),document.addEventListener("touchstart",OC),document.addEventListener("keydown",LU)),LC++}),ar(()=>{LC--,LC<=0&&(document.removeEventListener("mousedown",OC),document.removeEventListener("touchstart",OC),document.removeEventListener("keydown",LU))}),{focusReason:sB,lastUserFocusTimestamp:xA,lastAutomatedFocusTimestamp:lB}),PC=e=>new CustomEvent(KDe,{...jDe,detail:e}),lt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let X0=[];const OU=e=>{e.code===lt.esc&&X0.forEach(t=>t(e))},tNe=e=>{zt(()=>{X0.length===0&&document.addEventListener("keydown",OU),wn&&X0.push(e)}),ar(()=>{X0=X0.filter(t=>t!==e),X0.length===0&&wn&&document.removeEventListener("keydown",OU)})},nNe=se({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[DU,NU,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=Y();let r,a;const{focusReason:i}=eNe();tNe(p=>{e.trapped&&!o.paused&&t("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=p=>{if(!e.loop&&!e.trapped||o.paused)return;const{code:v,altKey:g,ctrlKey:m,metaKey:y,currentTarget:b,shiftKey:x}=p,{loop:_}=e,S=v===lt.tab&&!g&&!m&&!y,C=document.activeElement;if(S&&C){const k=b,[T,I]=XDe(k);if(T&&I){if(!x&&C===I){const A=PC({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||(p.preventDefault(),_&&Nd(T,!0))}else if(x&&[T,k].includes(C)){const A=PC({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||(p.preventDefault(),_&&Nd(I,!0))}}else if(C===k){const A=PC({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||p.preventDefault()}}};hn(oB,{focusTrapRef:n,onKeydown:s}),Oe(()=>e.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),Oe([n],([p],[v])=>{p&&(p.addEventListener("keydown",s),p.addEventListener("focusin",c),p.addEventListener("focusout",f)),v&&(v.removeEventListener("keydown",s),v.removeEventListener("focusin",c),v.removeEventListener("focusout",f))});const l=p=>{t(DU,p)},u=p=>t(NU,p),c=p=>{const v=w(n);if(!v)return;const g=p.target,m=p.relatedTarget,y=g&&v.contains(g);e.trapped||m&&v.contains(m)||(r=m),y&&t("focusin",p),!o.paused&&e.trapped&&(y?a=g:Nd(a,!0))},f=p=>{const v=w(n);if(!(o.paused||!v))if(e.trapped){const g=p.relatedTarget;!Ua(g)&&!v.contains(g)&&setTimeout(()=>{if(!o.paused&&e.trapped){const m=PC({focusReason:i.value});t("focusout-prevented",m),m.defaultPrevented||Nd(a,!0)}},0)}else{const g=p.target;g&&v.contains(g)||t("focusout",p)}};async function d(){await xt();const p=w(n);if(p){$U.push(o);const v=p.contains(document.activeElement)?r:document.activeElement;if(r=v,!p.contains(v)){const m=new Event(wR,AU);p.addEventListener(wR,l),p.dispatchEvent(m),m.defaultPrevented||xt(()=>{let y=e.focusStartEl;vt(y)||(Nd(y),document.activeElement!==y&&(y="first")),y==="first"&&JDe(Qre(p),!0),(document.activeElement===v||y==="container")&&Nd(p)})}}}function h(){const p=w(n);if(p){p.removeEventListener(wR,l);const v=new CustomEvent(_R,{...AU,detail:{focusReason:i.value}});p.addEventListener(_R,u),p.dispatchEvent(v),!v.defaultPrevented&&(i.value=="keyboard"||!QDe()||p.contains(document.activeElement))&&Nd(r??document.body),p.removeEventListener(_R,u),$U.remove(o)}}return zt(()=>{e.trapped&&d(),Oe(()=>e.trapped,p=>{p?d():h()})}),ar(()=>{e.trapped&&h(),n.value&&(n.value.removeEventListener("keydown",s),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",f),n.value=void 0)}),{onKeydown:s}}});function rNe(e,t,n,r,a,i){return Se(e.$slots,"default",{handleKeydown:e.onKeydown})}var Hy=Ze(nNe,[["render",rNe],["__file","focus-trap.vue"]]),_s="top",Ml="bottom",$l="right",Ss="left",uB="auto",T_=[_s,Ml,$l,Ss],Xm="start",qx="end",aNe="clippingParents",eae="viewport",P1="popper",iNe="reference",PU=T_.reduce(function(e,t){return e.concat([t+"-"+Xm,t+"-"+qx])},[]),sd=[].concat(T_,[uB]).reduce(function(e,t){return e.concat([t,t+"-"+Xm,t+"-"+qx])},[]),oNe="beforeRead",sNe="read",lNe="afterRead",uNe="beforeMain",cNe="main",fNe="afterMain",dNe="beforeWrite",hNe="write",pNe="afterWrite",vNe=[oNe,sNe,lNe,uNe,cNe,fNe,dNe,hNe,pNe];function Mc(e){return e?(e.nodeName||"").toLowerCase():null}function zu(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function qm(e){var t=zu(e).Element;return e instanceof t||e instanceof Element}function Al(e){var t=zu(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function cB(e){if(typeof ShadowRoot>"u")return!1;var t=zu(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function gNe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!Al(i)||!Mc(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(o){var s=a[o];s===!1?i.removeAttribute(o):i.setAttribute(o,s===!0?"":s)}))})}function mNe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=o.reduce(function(l,u){return l[u]="",l},{});!Al(a)||!Mc(a)||(Object.assign(a.style,s),Object.keys(i).forEach(function(l){a.removeAttribute(l)}))})}}var tae={name:"applyStyles",enabled:!0,phase:"write",fn:gNe,effect:mNe,requires:["computeStyles"]};function wc(e){return e.split("-")[0]}var Lv=Math.max,Kk=Math.min,Zm=Math.round;function Jm(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if(Al(e)&&t){var i=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Zm(n.width)/o||1),i>0&&(a=Zm(n.height)/i||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function fB(e){var t=Jm(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function nae(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&cB(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vf(e){return zu(e).getComputedStyle(e)}function yNe(e){return["table","td","th"].indexOf(Mc(e))>=0}function Zh(e){return((qm(e)?e.ownerDocument:e.document)||window.document).documentElement}function wA(e){return Mc(e)==="html"?e:e.assignedSlot||e.parentNode||(cB(e)?e.host:null)||Zh(e)}function FU(e){return!Al(e)||Vf(e).position==="fixed"?null:e.offsetParent}function bNe(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Al(e)){var r=Vf(e);if(r.position==="fixed")return null}var a=wA(e);for(cB(a)&&(a=a.host);Al(a)&&["html","body"].indexOf(Mc(a))<0;){var i=Vf(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function k_(e){for(var t=zu(e),n=FU(e);n&&yNe(n)&&Vf(n).position==="static";)n=FU(n);return n&&(Mc(n)==="html"||Mc(n)==="body"&&Vf(n).position==="static")?t:n||bNe(e)||t}function dB(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function nx(e,t,n){return Lv(e,Kk(t,n))}function xNe(e,t,n){var r=nx(e,t,n);return r>n?n:r}function rae(){return{top:0,right:0,bottom:0,left:0}}function aae(e){return Object.assign({},rae(),e)}function iae(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var wNe=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,aae(typeof e!="number"?e:iae(e,T_))};function _Ne(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=wc(n.placement),l=dB(s),u=[Ss,$l].indexOf(s)>=0,c=u?"height":"width";if(!(!i||!o)){var f=wNe(a.padding,n),d=fB(i),h=l==="y"?_s:Ss,p=l==="y"?Ml:$l,v=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],g=o[l]-n.rects.reference[l],m=k_(i),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,b=v/2-g/2,x=f[h],_=y-d[c]-f[p],S=y/2-d[c]/2+b,C=nx(x,S,_),k=l;n.modifiersData[r]=(t={},t[k]=C,t.centerOffset=C-S,t)}}function SNe(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||!nae(t.elements.popper,a)||(t.elements.arrow=a))}var CNe={name:"arrow",enabled:!0,phase:"main",fn:_Ne,effect:SNe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qm(e){return e.split("-")[1]}var TNe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kNe(e){var t=e.x,n=e.y,r=window,a=r.devicePixelRatio||1;return{x:Zm(t*a)/a||0,y:Zm(n*a)/a||0}}function BU(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=o.x,h=d===void 0?0:d,p=o.y,v=p===void 0?0:p,g=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Ss,x=_s,_=window;if(u){var S=k_(n),C="clientHeight",k="clientWidth";if(S===zu(n)&&(S=Zh(n),Vf(S).position!=="static"&&s==="absolute"&&(C="scrollHeight",k="scrollWidth")),S=S,a===_s||(a===Ss||a===$l)&&i===qx){x=Ml;var T=f&&S===_&&_.visualViewport?_.visualViewport.height:S[C];v-=T-r.height,v*=l?1:-1}if(a===Ss||(a===_s||a===Ml)&&i===qx){b=$l;var I=f&&S===_&&_.visualViewport?_.visualViewport.width:S[k];h-=I-r.width,h*=l?1:-1}}var E=Object.assign({position:s},u&&TNe),A=c===!0?kNe({x:h,y:v}):{x:h,y:v};if(h=A.x,v=A.y,l){var N;return Object.assign({},E,(N={},N[x]=y?"0":"",N[b]=m?"0":"",N.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",N))}return Object.assign({},E,(t={},t[x]=y?v+"px":"",t[b]=m?h+"px":"",t.transform="",t))}function INe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:wc(t.placement),variation:Qm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,BU(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,BU(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var oae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:INe,data:{}},FC={passive:!0};function ENe(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,s=o===void 0?!0:o,l=zu(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,FC)}),s&&l.addEventListener("resize",n.update,FC),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,FC)}),s&&l.removeEventListener("resize",n.update,FC)}}var sae={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ENe,data:{}},ANe={left:"right",right:"left",bottom:"top",top:"bottom"};function RT(e){return e.replace(/left|right|bottom|top/g,function(t){return ANe[t]})}var DNe={start:"end",end:"start"};function VU(e){return e.replace(/start|end/g,function(t){return DNe[t]})}function hB(e){var t=zu(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pB(e){return Jm(Zh(e)).left+hB(e).scrollLeft}function NNe(e){var t=zu(e),n=Zh(e),r=t.visualViewport,a=n.clientWidth,i=n.clientHeight,o=0,s=0;return r&&(a=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:a,height:i,x:o+pB(e),y:s}}function RNe(e){var t,n=Zh(e),r=hB(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Lv(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Lv(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+pB(e),l=-r.scrollTop;return Vf(a||n).direction==="rtl"&&(s+=Lv(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}function vB(e){var t=Vf(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function lae(e){return["html","body","#document"].indexOf(Mc(e))>=0?e.ownerDocument.body:Al(e)&&vB(e)?e:lae(wA(e))}function rx(e,t){var n;t===void 0&&(t=[]);var r=lae(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=zu(r),o=a?[i].concat(i.visualViewport||[],vB(r)?r:[]):r,s=t.concat(o);return a?s:s.concat(rx(wA(o)))}function mO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function MNe(e){var t=Jm(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function zU(e,t){return t===eae?mO(NNe(e)):qm(t)?MNe(t):mO(RNe(Zh(e)))}function $Ne(e){var t=rx(wA(e)),n=["absolute","fixed"].indexOf(Vf(e).position)>=0,r=n&&Al(e)?k_(e):e;return qm(r)?t.filter(function(a){return qm(a)&&nae(a,r)&&Mc(a)!=="body"}):[]}function LNe(e,t,n){var r=t==="clippingParents"?$Ne(e):[].concat(t),a=[].concat(r,[n]),i=a[0],o=a.reduce(function(s,l){var u=zU(e,l);return s.top=Lv(u.top,s.top),s.right=Kk(u.right,s.right),s.bottom=Kk(u.bottom,s.bottom),s.left=Lv(u.left,s.left),s},zU(e,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function uae(e){var t=e.reference,n=e.element,r=e.placement,a=r?wc(r):null,i=r?Qm(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(a){case _s:l={x:o,y:t.y-n.height};break;case Ml:l={x:o,y:t.y+t.height};break;case $l:l={x:t.x+t.width,y:s};break;case Ss:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=a?dB(a):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Xm:l[u]=l[u]-(t[c]/2-n[c]/2);break;case qx:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Zx(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.boundary,o=i===void 0?aNe:i,s=n.rootBoundary,l=s===void 0?eae:s,u=n.elementContext,c=u===void 0?P1:u,f=n.altBoundary,d=f===void 0?!1:f,h=n.padding,p=h===void 0?0:h,v=aae(typeof p!="number"?p:iae(p,T_)),g=c===P1?iNe:P1,m=e.rects.popper,y=e.elements[d?g:c],b=LNe(qm(y)?y:y.contextElement||Zh(e.elements.popper),o,l),x=Jm(e.elements.reference),_=uae({reference:x,element:m,strategy:"absolute",placement:a}),S=mO(Object.assign({},m,_)),C=c===P1?S:x,k={top:b.top-C.top+v.top,bottom:C.bottom-b.bottom+v.bottom,left:b.left-C.left+v.left,right:C.right-b.right+v.right},T=e.modifiersData.offset;if(c===P1&&T){var I=T[a];Object.keys(k).forEach(function(E){var A=[$l,Ml].indexOf(E)>=0?1:-1,N=[_s,Ml].indexOf(E)>=0?"y":"x";k[E]+=I[N]*A})}return k}function ONe(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?sd:l,c=Qm(r),f=c?s?PU:PU.filter(function(p){return Qm(p)===c}):T_,d=f.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,v){return p[v]=Zx(e,{placement:v,boundary:a,rootBoundary:i,padding:o})[wc(v)],p},{});return Object.keys(h).sort(function(p,v){return h[p]-h[v]})}function PNe(e){if(wc(e)===uB)return[];var t=RT(e);return[VU(e),t,VU(t)]}function FNe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,s=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,v=n.allowedAutoPlacements,g=t.options.placement,m=wc(g),y=m===g,b=l||(y||!p?[RT(g)]:PNe(g)),x=[g].concat(b).reduce(function(K,j){return K.concat(wc(j)===uB?ONe(t,{placement:j,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:v}):j)},[]),_=t.rects.reference,S=t.rects.popper,C=new Map,k=!0,T=x[0],I=0;I<x.length;I++){var E=x[I],A=wc(E),N=Qm(E)===Xm,L=[_s,Ml].indexOf(A)>=0,R=L?"width":"height",D=Zx(t,{placement:E,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),P=L?N?$l:Ss:N?Ml:_s;_[R]>S[R]&&(P=RT(P));var O=RT(P),M=[];if(i&&M.push(D[A]<=0),s&&M.push(D[P]<=0,D[O]<=0),M.every(function(K){return K})){T=E,k=!1;break}C.set(E,M)}if(k)for(var W=p?3:1,U=function(K){var j=x.find(function(ne){var Q=C.get(ne);if(Q)return Q.slice(0,K).every(function(oe){return oe})});if(j)return T=j,"break"},V=W;V>0;V--){var H=U(V);if(H==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}var BNe={name:"flip",enabled:!0,phase:"main",fn:FNe,requiresIfExists:["offset"],data:{_skip:!1}};function WU(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function HU(e){return[_s,$l,Ml,Ss].some(function(t){return e[t]>=0})}function VNe(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=Zx(t,{elementContext:"reference"}),s=Zx(t,{altBoundary:!0}),l=WU(o,r),u=WU(s,a,i),c=HU(l),f=HU(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var zNe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VNe};function WNe(e,t,n){var r=wc(e),a=[Ss,_s].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Ss,$l].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function HNe(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,o=sd.reduce(function(c,f){return c[f]=WNe(f,t.rects,i),c},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}var UNe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:HNe};function GNe(e){var t=e.state,n=e.name;t.modifiersData[n]=uae({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var cae={name:"popperOffsets",enabled:!0,phase:"read",fn:GNe,data:{}};function KNe(e){return e==="x"?"y":"x"}function jNe(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,s=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,v=p===void 0?0:p,g=Zx(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),m=wc(t.placement),y=Qm(t.placement),b=!y,x=dB(m),_=KNe(x),S=t.modifiersData.popperOffsets,C=t.rects.reference,k=t.rects.popper,T=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,I=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(S){if(i){var N,L=x==="y"?_s:Ss,R=x==="y"?Ml:$l,D=x==="y"?"height":"width",P=S[x],O=P+g[L],M=P-g[R],W=h?-k[D]/2:0,U=y===Xm?C[D]:k[D],V=y===Xm?-k[D]:-C[D],H=t.elements.arrow,K=h&&H?fB(H):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rae(),ne=j[L],Q=j[R],oe=nx(0,C[D],K[D]),ae=b?C[D]/2-W-oe-ne-I.mainAxis:U-oe-ne-I.mainAxis,me=b?-C[D]/2+W+oe+Q+I.mainAxis:V+oe+Q+I.mainAxis,ve=t.elements.arrow&&k_(t.elements.arrow),B=ve?x==="y"?ve.clientTop||0:ve.clientLeft||0:0,re=(N=E==null?void 0:E[x])!=null?N:0,ge=P+ae-re-B,Ie=P+me-re,Ce=nx(h?Kk(O,ge):O,P,h?Lv(M,Ie):M);S[x]=Ce,A[x]=Ce-P}if(s){var he,J=x==="x"?_s:Ss,te=x==="x"?Ml:$l,xe=S[_],Ee=_==="y"?"height":"width",Qe=xe+g[J],Be=xe-g[te],ce=[_s,Ss].indexOf(m)!==-1,Re=(he=E==null?void 0:E[_])!=null?he:0,ct=ce?Qe:xe-C[Ee]-k[Ee]-Re+I.altAxis,It=ce?xe+C[Ee]+k[Ee]-Re-I.altAxis:Be,wt=h&&ce?xNe(ct,xe,It):nx(h?ct:Qe,xe,h?It:Be);S[_]=wt,A[_]=wt-xe}t.modifiersData[r]=A}}var YNe={name:"preventOverflow",enabled:!0,phase:"main",fn:jNe,requiresIfExists:["offset"]};function XNe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function qNe(e){return e===zu(e)||!Al(e)?hB(e):XNe(e)}function ZNe(e){var t=e.getBoundingClientRect(),n=Zm(t.width)/e.offsetWidth||1,r=Zm(t.height)/e.offsetHeight||1;return n!==1||r!==1}function JNe(e,t,n){n===void 0&&(n=!1);var r=Al(t),a=Al(t)&&ZNe(t),i=Zh(t),o=Jm(e,a),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Mc(t)!=="body"||vB(i))&&(s=qNe(t)),Al(t)?(l=Jm(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=pB(i))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function QNe(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&a(l)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function eRe(e){var t=QNe(e);return vNe.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function tRe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function nRe(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var UU={placement:"bottom",modifiers:[],strategy:"absolute"};function GU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gB(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?UU:a;return function(o,s,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},UU,i),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},c=[],f=!1,d={state:u,setOptions:function(v){var g=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},i,u.options,g),u.scrollParents={reference:qm(o)?rx(o):o.contextElement?rx(o.contextElement):[],popper:rx(s)};var m=eRe(nRe([].concat(r,u.options.modifiers)));return u.orderedModifiers=m.filter(function(y){return y.enabled}),h(),d.update()},forceUpdate:function(){if(!f){var v=u.elements,g=v.reference,m=v.popper;if(GU(g,m)){u.rects={reference:JNe(g,k_(m),u.options.strategy==="fixed"),popper:fB(m)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var b=u.orderedModifiers[y],x=b.fn,_=b.options,S=_===void 0?{}:_,C=b.name;typeof x=="function"&&(u=x({state:u,options:S,name:C,instance:d})||u)}}}},update:tRe(function(){return new Promise(function(v){d.forceUpdate(),v(u)})}),destroy:function(){p(),f=!0}};if(!GU(o,s))return d;d.setOptions(l).then(function(v){!f&&l.onFirstUpdate&&l.onFirstUpdate(v)});function h(){u.orderedModifiers.forEach(function(v){var g=v.name,m=v.options,y=m===void 0?{}:m,b=v.effect;if(typeof b=="function"){var x=b({state:u,name:g,instance:d,options:y}),_=function(){};c.push(x||_)}})}function p(){c.forEach(function(v){return v()}),c=[]}return d}}gB();var rRe=[sae,cae,oae,tae];gB({defaultModifiers:rRe});var aRe=[sae,cae,oae,tae,UNe,BNe,YNe,CNe,zNe],iRe=gB({defaultModifiers:aRe});const oRe=["fixed","absolute"],sRe=je({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:be(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:sd,default:"bottom"},popperOptions:{type:be(Object),default:()=>({})},strategy:{type:String,values:oRe,default:"absolute"}}),fae=je({...sRe,id:String,style:{type:be([String,Array,Object])},className:{type:be([String,Array,Object])},effect:{type:be(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:be([String,Array,Object])},popperStyle:{type:be([String,Array,Object])},referenceEl:{type:be(Object)},triggerTargetEl:{type:be(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Ei(["ariaLabel"])}),lRe={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},uRe=(e,t)=>{const n=Y(!1),r=Y();return{focusStartRef:r,trapped:n,onFocusAfterReleased:u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:u=>{e.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},cRe=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:a}=e,i={placement:n,strategy:r,...a,modifiers:[...dRe(e),...t]};return hRe(i,a==null?void 0:a.modifiers),i},fRe=e=>{if(wn)return Ko(e)};function dRe(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function hRe(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const pRe=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=vRe(l);Object.assign(o.value,u)},requires:["computeStyles"]},a=F(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:f}=w(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),i=dr(),o=Y({styles:{popper:{position:w(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return Oe(a,l=>{const u=w(i);u&&u.setOptions(l)},{deep:!0}),Oe([e,t],([l,u])=>{s(),!(!l||!u)&&(i.value=iRe(l,u,w(a)))}),ar(()=>{s()}),{state:F(()=>{var l;return{...((l=w(i))==null?void 0:l.state)||{}}}),styles:F(()=>w(o).styles),attributes:F(()=>w(o).attributes),update:()=>{var l;return(l=w(i))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=w(i))==null?void 0:l.forceUpdate()},instanceRef:F(()=>w(i))}};function vRe(e){const t=Object.keys(e.elements),n=Xx(t.map(a=>[a,e.styles[a]||{}])),r=Xx(t.map(a=>[a,e.attributes[a]]));return{styles:n,attributes:r}}const gRe=0,mRe=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:a}=ht(iB,void 0),i=Y(),o=Y(),s=F(()=>({name:"eventListeners",enabled:!!e.visible})),l=F(()=>{var m;const y=w(i),b=(m=w(o))!=null?m:gRe;return{name:"arrow",enabled:!vre(y),options:{element:y,padding:b}}}),u=F(()=>({onFirstUpdate:()=>{p()},...cRe(e,[w(l),w(s)])})),c=F(()=>fRe(e.referenceEl)||w(r)),{attributes:f,state:d,styles:h,update:p,forceUpdate:v,instanceRef:g}=pRe(c,n,u);return Oe(g,m=>t.value=m),zt(()=>{Oe(()=>{var m;return(m=w(c))==null?void 0:m.getBoundingClientRect()},()=>{p()})}),{attributes:f,arrowRef:i,contentRef:n,instanceRef:g,state:d,styles:h,role:a,forceUpdate:v,update:p}},yRe=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:a}=zy(),i=ze("popper"),o=F(()=>w(t).popper),s=Y(Tt(e.zIndex)?e.zIndex:a()),l=F(()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass]),u=F(()=>[{zIndex:w(s)},w(n).popper,e.popperStyle||{}]),c=F(()=>r.value==="dialog"?"false":void 0),f=F(()=>w(n).arrow||{});return{ariaModal:c,arrowStyle:f,contentAttrs:o,contentClass:l,contentStyle:u,contentZIndex:s,updateZIndex:()=>{s.value=Tt(e.zIndex)?e.zIndex:a()}}},bRe=se({name:"ElPopperContent"}),xRe=se({...bRe,props:fae,emits:lRe,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:a,trapped:i,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=uRe(r,n),{attributes:f,arrowRef:d,contentRef:h,styles:p,instanceRef:v,role:g,update:m}=mRe(r),{ariaModal:y,arrowStyle:b,contentAttrs:x,contentClass:_,contentStyle:S,updateZIndex:C}=yRe(r,{styles:p,attributes:f,role:g}),k=ht(Rc,void 0),T=Y();hn(Ure,{arrowStyle:b,arrowRef:d,arrowOffset:T}),k&&hn(Rc,{...k,addInputId:Un,removeInputId:Un});let I;const E=(N=!0)=>{m(),N&&C()},A=()=>{E(!1),r.visible&&r.focusOnShow?i.value=!0:r.visible===!1&&(i.value=!1)};return zt(()=>{Oe(()=>r.triggerTargetEl,(N,L)=>{I==null||I(),I=void 0;const R=w(N||h.value),D=w(L||h.value);zs(R)&&(I=Oe([g,()=>r.ariaLabel,y,()=>r.id],P=>{["role","aria-label","aria-modal","id"].forEach((O,M)=>{Ua(P[M])?R.removeAttribute(O):R.setAttribute(O,P[M])})},{immediate:!0})),D!==R&&zs(D)&&["role","aria-label","aria-modal","id"].forEach(P=>{D.removeAttribute(P)})},{immediate:!0}),Oe(()=>r.visible,A,{immediate:!0})}),ar(()=>{I==null||I(),I=void 0}),t({popperContentRef:h,popperInstanceRef:v,updatePopper:E,contentStyle:S}),(N,L)=>(z(),q("div",rn({ref_key:"contentRef",ref:h},w(x),{style:w(S),class:w(_),tabindex:"-1",onMouseenter:R=>N.$emit("mouseenter",R),onMouseleave:R=>N.$emit("mouseleave",R)}),[ie(w(Hy),{trapped:w(i),"trap-on-focus-in":!0,"focus-trap-el":w(h),"focus-start-el":w(a),onFocusAfterTrapped:w(s),onFocusAfterReleased:w(o),onFocusin:w(l),onFocusoutPrevented:w(u),onReleaseRequested:w(c)},{default:fe(()=>[Se(N.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var wRe=Ze(xRe,[["__file","content.vue"]]);const dae=Bt($De),_A=Symbol("elTooltip");function KU(){let e;const t=(r,a)=>{n(),e=window.setTimeout(r,a)},n=()=>window.clearTimeout(e);return w_(()=>n()),{registerTimeout:t,cancelTimeout:n}}const _Re=je({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),SRe=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:a})=>{const{registerTimeout:i}=KU(),{registerTimeout:o,cancelTimeout:s}=KU();return{onOpen:c=>{i(()=>{r(c);const f=w(n);Tt(f)&&f>0&&o(()=>{a(c)},f)},w(e))},onClose:c=>{s(),i(()=>{a(c)},w(t))}}},Ja=je({..._Re,...fae,appendTo:{type:be([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:be(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Ei(["ariaLabel"])}),Jx=je({...jre,disabled:Boolean,trigger:{type:be([String,Array]),default:"hover"},triggerKeys:{type:be(Array),default:()=>[lt.enter,lt.numpadEnter,lt.space]}}),CRe=Vu({type:be(Boolean),default:null}),TRe=Vu({type:be(Function)}),kRe=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],a={[e]:CRe,[n]:TRe};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:f})=>{const d=jt(),{emit:h}=d,p=d.props,v=F(()=>mt(p[n])),g=F(()=>p[e]===null),m=C=>{o.value!==!0&&(o.value=!0,s&&(s.value=C),mt(c)&&c(C))},y=C=>{o.value!==!1&&(o.value=!1,s&&(s.value=C),mt(f)&&f(C))},b=C=>{if(p.disabled===!0||mt(u)&&!u())return;const k=v.value&&wn;k&&h(t,!0),(g.value||!k)&&m(C)},x=C=>{if(p.disabled===!0||!wn)return;const k=v.value&&wn;k&&h(t,!1),(g.value||!k)&&y(C)},_=C=>{lr(C)&&(p.disabled&&C?v.value&&h(t,!1):o.value!==C&&(C?m():y()))},S=()=>{o.value?x():b()};return Oe(()=>p[e],_),l&&d.appContext.config.globalProperties.$route!==void 0&&Oe(()=>({...d.proxy.$route}),()=>{l.value&&o.value&&x()}),zt(()=>{_(p[e])}),{hide:x,show:b,toggle:S,hasUpdateHandler:v}},useModelToggleProps:a,useModelToggleEmits:r}},{useModelToggleProps:IRe,useModelToggleEmits:ERe,useModelToggle:ARe}=kRe("visible"),DRe=je({...Gre,...IRe,...Ja,...Jx,...Kre,showArrow:{type:Boolean,default:!0}}),NRe=[...ERe,"before-show","before-hide","show","hide","open","close"],RRe=(e,t)=>Ke(e)?e.includes(t):e===t,m0=(e,t,n)=>r=>{RRe(w(e),t)&&n(r)},Qr=(e,t,{checkForDefaultPrevented:n=!0}={})=>a=>{const i=e==null?void 0:e(a);if(n===!1||!i)return t==null?void 0:t(a)},jU=e=>t=>t.pointerType==="mouse"?e(t):void 0,MRe=se({name:"ElTooltipTrigger"}),$Re=se({...MRe,props:Jx,setup(e,{expose:t}){const n=e,r=ze("tooltip"),{controlled:a,id:i,open:o,onOpen:s,onClose:l,onToggle:u}=ht(_A,void 0),c=Y(null),f=()=>{if(w(a)||n.disabled)return!0},d=Wn(n,"trigger"),h=Qr(f,m0(d,"hover",s)),p=Qr(f,m0(d,"hover",l)),v=Qr(f,m0(d,"click",x=>{x.button===0&&u(x)})),g=Qr(f,m0(d,"focus",s)),m=Qr(f,m0(d,"focus",l)),y=Qr(f,m0(d,"contextmenu",x=>{x.preventDefault(),u(x)})),b=Qr(f,x=>{const{code:_}=x;n.triggerKeys.includes(_)&&(x.preventDefault(),u(x))});return t({triggerRef:c}),(x,_)=>(z(),Ae(w(GDe),{id:w(i),"virtual-ref":x.virtualRef,open:w(o),"virtual-triggering":x.virtualTriggering,class:G(w(r).e("trigger")),onBlur:w(m),onClick:w(v),onContextmenu:w(y),onFocus:w(g),onMouseenter:w(h),onMouseleave:w(p),onKeydown:w(b)},{default:fe(()=>[Se(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var LRe=Ze($Re,[["__file","trigger.vue"]]);const ORe=je({to:{type:be([String,Object]),required:!0},disabled:Boolean}),PRe=se({__name:"teleport",props:ORe,setup(e){return(t,n)=>t.disabled?Se(t.$slots,"default",{key:0}):(z(),Ae(Nwe,{key:1,to:t.to},[Se(t.$slots,"default")],8,["to"]))}});var FRe=Ze(PRe,[["__file","teleport.vue"]]);const Uy=Bt(FRe),hae=()=>{const e=D4(),t=rB(),n=F(()=>`${e.value}-popper-container-${t.prefix}`),r=F(()=>`#${n.value}`);return{id:n,selector:r}},BRe=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},VRe=()=>{const{id:e,selector:t}=hae();return tA(()=>{wn&&(document.body.querySelector(t.value)||BRe(e.value))}),{id:e,selector:t}},zRe=se({name:"ElTooltipContent",inheritAttrs:!1}),WRe=se({...zRe,props:Ja,setup(e,{expose:t}){const n=e,{selector:r}=hae(),a=ze("tooltip"),i=Y();let o;const{controlled:s,id:l,open:u,trigger:c,onClose:f,onOpen:d,onShow:h,onHide:p,onBeforeShow:v,onBeforeHide:g}=ht(_A,void 0),m=F(()=>n.transition||`${a.namespace.value}-fade-in-linear`),y=F(()=>n.persistent);ar(()=>{o==null||o()});const b=F(()=>w(y)?!0:w(u)),x=F(()=>n.disabled?!1:w(u)),_=F(()=>n.appendTo||r.value),S=F(()=>{var D;return(D=n.style)!=null?D:{}}),C=Y(!0),k=()=>{p(),C.value=!0},T=()=>{if(w(s))return!0},I=Qr(T,()=>{n.enterable&&w(c)==="hover"&&d()}),E=Qr(T,()=>{w(c)==="hover"&&f()}),A=()=>{var D,P;(P=(D=i.value)==null?void 0:D.updatePopper)==null||P.call(D),v==null||v()},N=()=>{g==null||g()},L=()=>{h(),o=j4(F(()=>{var D;return(D=i.value)==null?void 0:D.popperContentRef}),()=>{if(w(s))return;w(c)!=="hover"&&f()})},R=()=>{n.virtualTriggering||f()};return Oe(()=>w(u),D=>{D?C.value=!1:o==null||o()},{flush:"post"}),Oe(()=>n.content,()=>{var D,P;(P=(D=i.value)==null?void 0:D.updatePopper)==null||P.call(D)}),t({contentRef:i}),(D,P)=>(z(),Ae(w(Uy),{disabled:!D.teleported,to:w(_)},{default:fe(()=>[ie(hi,{name:w(m),onAfterLeave:k,onBeforeEnter:A,onAfterEnter:L,onBeforeLeave:N},{default:fe(()=>[w(b)?Vt((z(),Ae(w(wRe),rn({key:0,id:w(l),ref_key:"contentRef",ref:i},D.$attrs,{"aria-label":D.ariaLabel,"aria-hidden":C.value,"boundaries-padding":D.boundariesPadding,"fallback-placements":D.fallbackPlacements,"gpu-acceleration":D.gpuAcceleration,offset:D.offset,placement:D.placement,"popper-options":D.popperOptions,strategy:D.strategy,effect:D.effect,enterable:D.enterable,pure:D.pure,"popper-class":D.popperClass,"popper-style":[D.popperStyle,w(S)],"reference-el":D.referenceEl,"trigger-target-el":D.triggerTargetEl,visible:w(x),"z-index":D.zIndex,onMouseenter:w(I),onMouseleave:w(E),onBlur:R,onClose:w(f)}),{default:fe(()=>[Se(D.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[En,w(x)]]):Te("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var HRe=Ze(WRe,[["__file","content.vue"]]);const URe=se({name:"ElTooltip"}),GRe=se({...URe,props:DRe,emits:NRe,setup(e,{expose:t,emit:n}){const r=e;VRe();const a=Ii(),i=Y(),o=Y(),s=()=>{var m;const y=w(i);y&&((m=y.popperInstanceRef)==null||m.update())},l=Y(!1),u=Y(),{show:c,hide:f,hasUpdateHandler:d}=ARe({indicator:l,toggleReason:u}),{onOpen:h,onClose:p}=SRe({showAfter:Wn(r,"showAfter"),hideAfter:Wn(r,"hideAfter"),autoClose:Wn(r,"autoClose"),open:c,close:f}),v=F(()=>lr(r.visible)&&!d.value);hn(_A,{controlled:v,id:a,open:Oy(l),trigger:Wn(r,"trigger"),onOpen:m=>{h(m)},onClose:m=>{p(m)},onToggle:m=>{w(l)?p(m):h(m)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:s}),Oe(()=>r.disabled,m=>{m&&l.value&&(l.value=!1)});const g=m=>{var y,b;const x=(b=(y=o.value)==null?void 0:y.contentRef)==null?void 0:b.popperContentRef,_=(m==null?void 0:m.relatedTarget)||document.activeElement;return x&&x.contains(_)};return Wte(()=>l.value&&f()),t({popperRef:i,contentRef:o,isFocusInsideContent:g,updatePopper:s,onOpen:h,onClose:p,hide:f}),(m,y)=>(z(),Ae(w(dae),{ref_key:"popperRef",ref:i,role:m.role},{default:fe(()=>[ie(LRe,{disabled:m.disabled,trigger:m.trigger,"trigger-keys":m.triggerKeys,"virtual-ref":m.virtualRef,"virtual-triggering":m.virtualTriggering},{default:fe(()=>[m.$slots.default?Se(m.$slots,"default",{key:0}):Te("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ie(HRe,{ref_key:"contentRef",ref:o,"aria-label":m.ariaLabel,"boundaries-padding":m.boundariesPadding,content:m.content,disabled:m.disabled,effect:m.effect,enterable:m.enterable,"fallback-placements":m.fallbackPlacements,"hide-after":m.hideAfter,"gpu-acceleration":m.gpuAcceleration,offset:m.offset,persistent:m.persistent,"popper-class":m.popperClass,"popper-style":m.popperStyle,placement:m.placement,"popper-options":m.popperOptions,pure:m.pure,"raw-content":m.rawContent,"reference-el":m.referenceEl,"trigger-target-el":m.triggerTargetEl,"show-after":m.showAfter,strategy:m.strategy,teleported:m.teleported,transition:m.transition,"virtual-triggering":m.virtualTriggering,"z-index":m.zIndex,"append-to":m.appendTo},{default:fe(()=>[Se(m.$slots,"content",{},()=>[m.rawContent?(z(),q("span",{key:0,innerHTML:m.content},null,8,["innerHTML"])):(z(),q("span",{key:1},Ve(m.content),1))]),m.showArrow?(z(),Ae(w(PDe),{key:0,"arrow-offset":m.arrowOffset},null,8,["arrow-offset"])):Te("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var KRe=Ze(GRe,[["__file","tooltip.vue"]]);const Hi=Bt(KRe),jRe=je({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:be(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:be([Function,Array]),default:Un},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Ja.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Ei(["ariaLabel"])}),YRe={[Ht]:e=>vt(e),[Fi]:e=>vt(e),[Qn]:e=>vt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>qt(e)},pae="ElAutocomplete",XRe=se({name:pae,inheritAttrs:!1}),qRe=se({...XRe,props:jRe,emits:YRe,setup(e,{expose:t,emit:n}){const r=e,a=S_(),i=Yh(),o=qi(),s=ze("autocomplete"),l=Y(),u=Y(),c=Y(),f=Y();let d=!1,h=!1;const p=Y([]),v=Y(-1),g=Y(""),m=Y(!1),y=Y(!1),b=Y(!1),x=Ii(),_=F(()=>i.style),S=F(()=>(p.value.length>0||b.value)&&m.value),C=F(()=>!r.hideLoading&&b.value),k=F(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),T=()=>{S.value&&(g.value=`${l.value.$el.offsetWidth}px`)},I=()=>{v.value=-1},E=async Q=>{if(y.value)return;const oe=ae=>{b.value=!1,!y.value&&(Ke(ae)?(p.value=ae,v.value=r.highlightFirstItem?0:-1):Na(pae,"autocomplete suggestions must be an array"))};if(b.value=!0,Ke(r.fetchSuggestions))oe(r.fetchSuggestions);else{const ae=await r.fetchSuggestions(Q,oe);Ke(ae)&&oe(ae)}},A=Cs(E,r.debounce),N=Q=>{const oe=!!Q;if(n(Fi,Q),n(Ht,Q),y.value=!1,m.value||(m.value=oe),!r.triggerOnFocus&&!Q){y.value=!0,p.value=[];return}A(Q)},L=Q=>{var oe;o.value||(((oe=Q.target)==null?void 0:oe.tagName)!=="INPUT"||k.value.includes(document.activeElement))&&(m.value=!0)},R=Q=>{n(Qn,Q)},D=Q=>{h?h=!1:(m.value=!0,n("focus",Q),r.triggerOnFocus&&!d&&A(String(r.modelValue)))},P=Q=>{setTimeout(()=>{var oe;if((oe=c.value)!=null&&oe.isFocusInsideContent()){h=!0;return}m.value&&U(),n("blur",Q)})},O=()=>{m.value=!1,n(Ht,""),n("clear")},M=async()=>{S.value&&v.value>=0&&v.value<p.value.length?K(p.value[v.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),p.value=[],v.value=-1)},W=Q=>{S.value&&(Q.preventDefault(),Q.stopPropagation(),U())},U=()=>{m.value=!1},V=()=>{var Q;(Q=l.value)==null||Q.focus()},H=()=>{var Q;(Q=l.value)==null||Q.blur()},K=async Q=>{n(Fi,Q[r.valueKey]),n(Ht,Q[r.valueKey]),n("select",Q),p.value=[],v.value=-1},j=Q=>{if(!S.value||b.value)return;if(Q<0){v.value=-1;return}Q>=p.value.length&&(Q=p.value.length-1);const oe=u.value.querySelector(`.${s.be("suggestion","wrap")}`),me=oe.querySelectorAll(`.${s.be("suggestion","list")} li`)[Q],ve=oe.scrollTop,{offsetTop:B,scrollHeight:re}=me;B+re>ve+oe.clientHeight&&(oe.scrollTop+=re),B<ve&&(oe.scrollTop-=re),v.value=Q,l.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${v.value}`)},ne=j4(f,()=>{S.value&&U()});return ar(()=>{ne==null||ne()}),zt(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${v.value}`),d=l.value.ref.hasAttribute("readonly")}),t({highlightedIndex:v,activated:m,loading:b,inputRef:l,popperRef:c,suggestions:p,handleSelect:K,handleKeyEnter:M,focus:V,blur:H,close:U,highlight:j,getData:E}),(Q,oe)=>(z(),Ae(w(Hi),{ref_key:"popperRef",ref:c,visible:w(S),placement:Q.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[w(s).e("popper"),Q.popperClass],teleported:Q.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${w(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:T,onHide:I},{content:fe(()=>[Z("div",{ref_key:"regionRef",ref:u,class:G([w(s).b("suggestion"),w(s).is("loading",w(C))]),style:yt({[Q.fitInputWidth?"width":"minWidth"]:g.value,outline:"none"}),role:"region"},[ie(w(qc),{id:w(x),tag:"ul","wrap-class":w(s).be("suggestion","wrap"),"view-class":w(s).be("suggestion","list"),role:"listbox"},{default:fe(()=>[w(C)?(z(),q("li",{key:0},[Se(Q.$slots,"loading",{},()=>[ie(w(pt),{class:G(w(s).is("loading"))},{default:fe(()=>[ie(w(Nu))]),_:1},8,["class"])])])):(z(!0),q(gt,{key:1},un(p.value,(ae,me)=>(z(),q("li",{id:`${w(x)}-item-${me}`,key:me,class:G({highlighted:v.value===me}),role:"option","aria-selected":v.value===me,onClick:ve=>K(ae)},[Se(Q.$slots,"default",{item:ae},()=>[Kt(Ve(ae[Q.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:fe(()=>[Z("div",{ref_key:"listboxRef",ref:f,class:G([w(s).b(),Q.$attrs.class]),style:yt(w(_)),role:"combobox","aria-haspopup":"listbox","aria-expanded":w(S),"aria-owns":w(x)},[ie(w(mo),rn({ref_key:"inputRef",ref:l},w(a),{clearable:Q.clearable,disabled:w(o),name:Q.name,"model-value":Q.modelValue,"aria-label":Q.ariaLabel,onInput:N,onChange:R,onFocus:D,onBlur:P,onClear:O,onKeydown:[rr(At(ae=>j(v.value-1),["prevent"]),["up"]),rr(At(ae=>j(v.value+1),["prevent"]),["down"]),rr(M,["enter"]),rr(U,["tab"]),rr(W,["esc"])],onMousedown:L}),Nl({_:2},[Q.$slots.prepend?{name:"prepend",fn:fe(()=>[Se(Q.$slots,"prepend")])}:void 0,Q.$slots.append?{name:"append",fn:fe(()=>[Se(Q.$slots,"append")])}:void 0,Q.$slots.prefix?{name:"prefix",fn:fe(()=>[Se(Q.$slots,"prefix")])}:void 0,Q.$slots.suffix?{name:"suffix",fn:fe(()=>[Se(Q.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var ZRe=Ze(qRe,[["__file","autocomplete.vue"]]);const JRe=Bt(ZRe),QRe=je({size:{type:[Number,String],values:Yc,default:"",validator:e=>Tt(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:er},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:be(String),default:"cover"}}),eMe={error:e=>e instanceof Event},tMe=se({name:"ElAvatar"}),nMe=se({...tMe,props:QRe,emits:eMe,setup(e,{emit:t}){const n=e,r=ze("avatar"),a=Y(!1),i=F(()=>{const{size:u,icon:c,shape:f}=n,d=[r.b()];return vt(u)&&d.push(r.m(u)),c&&d.push(r.m("icon")),f&&d.push(r.m(f)),d}),o=F(()=>{const{size:u}=n;return Tt(u)?r.cssVarBlock({size:ta(u)||""}):void 0}),s=F(()=>({objectFit:n.fit}));Oe(()=>n.src,()=>a.value=!1);function l(u){a.value=!0,t("error",u)}return(u,c)=>(z(),q("span",{class:G(w(i)),style:yt(w(o))},[(u.src||u.srcSet)&&!a.value?(z(),q("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:yt(w(s)),onError:l},null,44,["src","alt","srcset"])):u.icon?(z(),Ae(w(pt),{key:1},{default:fe(()=>[(z(),Ae(tn(u.icon)))]),_:1})):Se(u.$slots,"default",{key:2})],6))}});var rMe=Ze(nMe,[["__file","avatar.vue"]]);const aMe=Bt(rMe),iMe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},oMe={click:e=>e instanceof MouseEvent},sMe=(e,t,n)=>{const r=dr(),a=dr(),i=Y(!1),o=()=>{r.value&&(i.value=r.value.scrollTop>=e.visibilityHeight)},s=u=>{var c;(c=r.value)==null||c.scrollTo({top:0,behavior:"smooth"}),t("click",u)},l=bre(o,300,!0);return Zn(a,"scroll",l),zt(()=>{var u;a.value=document,r.value=document.documentElement,e.target&&(r.value=(u=document.querySelector(e.target))!=null?u:void 0,r.value||Na(n,`target does not exist: ${e.target}`),a.value=r.value),o()}),{visible:i,handleClick:s}},vae="ElBacktop",lMe=se({name:vae}),uMe=se({...lMe,props:iMe,emits:oMe,setup(e,{emit:t}){const n=e,r=ze("backtop"),{handleClick:a,visible:i}=sMe(n,t,vae),o=F(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(s,l)=>(z(),Ae(hi,{name:`${w(r).namespace.value}-fade-in`},{default:fe(()=>[w(i)?(z(),q("div",{key:0,style:yt(w(o)),class:G(w(r).b()),onClick:At(w(a),["stop"])},[Se(s.$slots,"default",{},()=>[ie(w(pt),{class:G(w(r).e("icon"))},{default:fe(()=>[ie(w(jEe))]),_:1},8,["class"])])],14,["onClick"])):Te("v-if",!0)]),_:3},8,["name"]))}});var cMe=Ze(uMe,[["__file","backtop.vue"]]);const fMe=Bt(cMe),dMe=je({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:be([String,Object,Array])},offset:{type:be(Array),default:[0,0]},badgeClass:{type:String}}),hMe=se({name:"ElBadge"}),pMe=se({...hMe,props:dMe,setup(e,{expose:t}){const n=e,r=ze("badge"),a=F(()=>n.isDot?"":Tt(n.value)&&Tt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),i=F(()=>{var o,s,l,u,c;return[{backgroundColor:n.color,marginRight:ta(-((s=(o=n.offset)==null?void 0:o[0])!=null?s:0)),marginTop:ta((u=(l=n.offset)==null?void 0:l[1])!=null?u:0)},(c=n.badgeStyle)!=null?c:{}]});return t({content:a}),(o,s)=>(z(),q("div",{class:G(w(r).b())},[Se(o.$slots,"default"),ie(hi,{name:`${w(r).namespace.value}-zoom-in-center`,persisted:""},{default:fe(()=>[Vt(Z("sup",{class:G([w(r).e("content"),w(r).em("content",o.type),w(r).is("fixed",!!o.$slots.default),w(r).is("dot",o.isDot),w(r).is("hide-zero",!o.showZero&&n.value===0),o.badgeClass]),style:yt(w(i))},[Se(o.$slots,"content",{value:w(a)},()=>[Kt(Ve(w(a)),1)])],6),[[En,!o.hidden&&(w(a)||o.isDot||o.$slots.content)]])]),_:3},8,["name"])],2))}});var vMe=Ze(pMe,[["__file","badge.vue"]]);const gae=Bt(vMe),mae=Symbol("breadcrumbKey"),gMe=je({separator:{type:String,default:"/"},separatorIcon:{type:er}}),mMe=se({name:"ElBreadcrumb"}),yMe=se({...mMe,props:gMe,setup(e){const t=e,{t:n}=_n(),r=ze("breadcrumb"),a=Y();return hn(mae,t),zt(()=>{const i=a.value.querySelectorAll(`.${r.e("item")}`);i.length&&i[i.length-1].setAttribute("aria-current","page")}),(i,o)=>(z(),q("div",{ref_key:"breadcrumb",ref:a,class:G(w(r).b()),"aria-label":w(n)("el.breadcrumb.label"),role:"navigation"},[Se(i.$slots,"default")],10,["aria-label"]))}});var bMe=Ze(yMe,[["__file","breadcrumb.vue"]]);const xMe=je({to:{type:be([String,Object]),default:""},replace:Boolean}),wMe=se({name:"ElBreadcrumbItem"}),_Me=se({...wMe,props:xMe,setup(e){const t=e,n=jt(),r=ht(mae,void 0),a=ze("breadcrumb"),i=n.appContext.config.globalProperties.$router,o=Y(),s=()=>{!t.to||!i||(t.replace?i.replace(t.to):i.push(t.to))};return(l,u)=>{var c,f;return z(),q("span",{class:G(w(a).e("item"))},[Z("span",{ref_key:"link",ref:o,class:G([w(a).e("inner"),w(a).is("link",!!l.to)]),role:"link",onClick:s},[Se(l.$slots,"default")],2),(c=w(r))!=null&&c.separatorIcon?(z(),Ae(w(pt),{key:0,class:G(w(a).e("separator"))},{default:fe(()=>[(z(),Ae(tn(w(r).separatorIcon)))]),_:1},8,["class"])):(z(),q("span",{key:1,class:G(w(a).e("separator")),role:"presentation"},Ve((f=w(r))==null?void 0:f.separator),3))],2)}}});var yae=Ze(_Me,[["__file","breadcrumb-item.vue"]]);const SMe=Bt(bMe,{BreadcrumbItem:yae}),CMe=Ur(yae),bae=Symbol("buttonGroupContextKey"),lh=({from:e,replacement:t,scope:n,version:r,ref:a,type:i="API"},o)=>{Oe(()=>w(o),s=>{},{immediate:!0})},TMe=(e,t)=>{lh({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},F(()=>e.type==="text"));const n=ht(bae,void 0),r=pA("button"),{form:a}=Xi(),i=pa(F(()=>n==null?void 0:n.size)),o=qi(),s=Y(),l=Sa(),u=F(()=>e.type||(n==null?void 0:n.type)||""),c=F(()=>{var p,v,g;return(g=(v=e.autoInsertSpace)!=null?v:(p=r.value)==null?void 0:p.autoInsertSpace)!=null?g:!1}),f=F(()=>e.tag==="button"?{ariaDisabled:o.value||e.loading,disabled:o.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),d=F(()=>{var p;const v=(p=l.default)==null?void 0:p.call(l);if(c.value&&(v==null?void 0:v.length)===1){const g=v[0];if((g==null?void 0:g.type)===Mg){const m=g.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(m.trim())}}return!1});return{_disabled:o,_size:i,_type:u,_ref:s,_props:f,shouldAddSpace:d,handleClick:p=>{if(o.value||e.loading){p.stopPropagation();return}e.nativeType==="reset"&&(a==null||a.resetFields()),t("click",p)}}},yO=["default","primary","success","warning","info","danger","text",""],kMe=["button","submit","reset"],bO=je({size:xa,disabled:Boolean,type:{type:String,values:yO,default:""},icon:{type:er},nativeType:{type:String,values:kMe,default:"button"},loading:Boolean,loadingIcon:{type:er,default:()=>Nu},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:be([String,Object]),default:"button"}}),IMe={click:e=>e instanceof MouseEvent};function Bi(e,t){EMe(e)&&(e="100%");var n=AMe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function BC(e){return Math.min(1,Math.max(0,e))}function EMe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function AMe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function xae(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function VC(e){return e<=1?"".concat(Number(e)*100,"%"):e}function vv(e){return e.length===1?"0"+e:String(e)}function DMe(e,t,n){return{r:Bi(e,255)*255,g:Bi(t,255)*255,b:Bi(n,255)*255}}function YU(e,t,n){e=Bi(e,255),t=Bi(t,255),n=Bi(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i=0,o=0,s=(r+a)/2;if(r===a)o=0,i=0;else{var l=r-a;switch(o=s>.5?l/(2-r-a):l/(r+a),r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,l:s}}function SR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NMe(e,t,n){var r,a,i;if(e=Bi(e,360),t=Bi(t,100),n=Bi(n,100),t===0)a=n,i=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=SR(s,o,e+1/3),a=SR(s,o,e),i=SR(s,o,e-1/3)}return{r:r*255,g:a*255,b:i*255}}function XU(e,t,n){e=Bi(e,255),t=Bi(t,255),n=Bi(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i=0,o=r,s=r-a,l=r===0?0:s/r;if(r===a)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4;break}i/=6}return{h:i,s:l,v:o}}function RMe(e,t,n){e=Bi(e,360)*6,t=Bi(t,100),n=Bi(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),l=r%6,u=[n,o,i,i,s,n][l],c=[s,n,n,o,i,i][l],f=[i,i,s,n,n,o][l];return{r:u*255,g:c*255,b:f*255}}function qU(e,t,n,r){var a=[vv(Math.round(e).toString(16)),vv(Math.round(t).toString(16)),vv(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function MMe(e,t,n,r,a){var i=[vv(Math.round(e).toString(16)),vv(Math.round(t).toString(16)),vv(Math.round(n).toString(16)),vv($Me(r))];return a&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function $Me(e){return Math.round(parseFloat(e)*255).toString(16)}function ZU(e){return Ns(e)/255}function Ns(e){return parseInt(e,16)}function LMe(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var xO={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function OMe(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return typeof e=="string"&&(e=BMe(e)),typeof e=="object"&&(cf(e.r)&&cf(e.g)&&cf(e.b)?(t=DMe(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):cf(e.h)&&cf(e.s)&&cf(e.v)?(r=VC(e.s),a=VC(e.v),t=RMe(e.h,r,a),o=!0,s="hsv"):cf(e.h)&&cf(e.s)&&cf(e.l)&&(r=VC(e.s),i=VC(e.l),t=NMe(e.h,r,i),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=xae(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var PMe="[-\\+]?\\d+%?",FMe="[-\\+]?\\d*\\.\\d+%?",Ud="(?:".concat(FMe,")|(?:").concat(PMe,")"),CR="[\\s|\\(]+(".concat(Ud,")[,|\\s]+(").concat(Ud,")[,|\\s]+(").concat(Ud,")\\s*\\)?"),TR="[\\s|\\(]+(".concat(Ud,")[,|\\s]+(").concat(Ud,")[,|\\s]+(").concat(Ud,")[,|\\s]+(").concat(Ud,")\\s*\\)?"),eu={CSS_UNIT:new RegExp(Ud),rgb:new RegExp("rgb"+CR),rgba:new RegExp("rgba"+TR),hsl:new RegExp("hsl"+CR),hsla:new RegExp("hsla"+TR),hsv:new RegExp("hsv"+CR),hsva:new RegExp("hsva"+TR),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function BMe(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(xO[e])e=xO[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=eu.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=eu.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=eu.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=eu.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=eu.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=eu.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=eu.hex8.exec(e),n?{r:Ns(n[1]),g:Ns(n[2]),b:Ns(n[3]),a:ZU(n[4]),format:t?"name":"hex8"}:(n=eu.hex6.exec(e),n?{r:Ns(n[1]),g:Ns(n[2]),b:Ns(n[3]),format:t?"name":"hex"}:(n=eu.hex4.exec(e),n?{r:Ns(n[1]+n[1]),g:Ns(n[2]+n[2]),b:Ns(n[3]+n[3]),a:ZU(n[4]+n[4]),format:t?"name":"hex8"}:(n=eu.hex3.exec(e),n?{r:Ns(n[1]+n[1]),g:Ns(n[2]+n[2]),b:Ns(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function cf(e){return!!eu.CSS_UNIT.exec(String(e))}var wae=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=LMe(t)),this.originalInput=t;var a=OMe(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,a,i=t.r/255,o=t.g/255,s=t.b/255;return i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=xae(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=XU(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=XU(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=YU(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=YU(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),qU(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),MMe(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Bi(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Bi(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+qU(this.r,this.g,this.b,!1),n=0,r=Object.entries(xO);n<r.length;n++){var a=r[n],i=a[0],o=a[1];if(t===o)return i}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,a=this.a<1&&this.a>=0,i=!n&&a&&(t.startsWith("hex")||t==="name");return i?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=BC(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=BC(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=BC(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=BC(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return new e(o)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),a=360/n,i=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:a,v:i})),i=(i+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),a=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/a,g:(n.g*n.a+r.g*r.a*(1-n.a))/a,b:(n.b*n.a+r.b*r.a*(1-n.a))/a,a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],i=360/t,o=1;o<t;o++)a.push(new e({h:(r+o*i)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function yd(e,t=20){return e.mix("#141414",t).toString()}function VMe(e){const t=qi(),n=ze("button");return F(()=>{let r={},a=e.color;if(a){const i=a.match(/var\((.*?)\)/);i&&(a=window.getComputedStyle(window.document.documentElement).getPropertyValue(i[1]));const o=new wae(a),s=e.dark?o.tint(20).toString():yd(o,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?yd(o,90):o.tint(90).toString(),"text-color":a,"border-color":e.dark?yd(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":s,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":s}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?yd(o,90):o.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?yd(o,50):o.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?yd(o,80):o.tint(80).toString());else{const l=e.dark?yd(o,30):o.tint(30).toString(),u=o.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":a,"text-color":u,"border-color":a,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":s,"active-border-color":s}),t.value){const c=e.dark?yd(o,50):o.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const zMe=se({name:"ElButton"}),WMe=se({...zMe,props:bO,emits:IMe,setup(e,{expose:t,emit:n}){const r=e,a=VMe(r),i=ze("button"),{_ref:o,_size:s,_type:l,_disabled:u,_props:c,shouldAddSpace:f,handleClick:d}=TMe(r,n),h=F(()=>[i.b(),i.m(l.value),i.m(s.value),i.is("disabled",u.value),i.is("loading",r.loading),i.is("plain",r.plain),i.is("round",r.round),i.is("circle",r.circle),i.is("text",r.text),i.is("link",r.link),i.is("has-bg",r.bg)]);return t({ref:o,size:s,type:l,disabled:u,shouldAddSpace:f}),(p,v)=>(z(),Ae(tn(p.tag),rn({ref_key:"_ref",ref:o},w(c),{class:w(h),style:w(a),onClick:w(d)}),{default:fe(()=>[p.loading?(z(),q(gt,{key:0},[p.$slots.loading?Se(p.$slots,"loading",{key:0}):(z(),Ae(w(pt),{key:1,class:G(w(i).is("loading"))},{default:fe(()=>[(z(),Ae(tn(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(z(),Ae(w(pt),{key:1},{default:fe(()=>[p.icon?(z(),Ae(tn(p.icon),{key:0})):Se(p.$slots,"icon",{key:1})]),_:3})):Te("v-if",!0),p.$slots.default?(z(),q("span",{key:2,class:G({[w(i).em("text","expand")]:w(f)})},[Se(p.$slots,"default")],2)):Te("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var HMe=Ze(WMe,[["__file","button.vue"]]);const UMe={size:bO.size,type:bO.type},GMe=se({name:"ElButtonGroup"}),KMe=se({...GMe,props:UMe,setup(e){const t=e;hn(bae,Ln({size:Wn(t,"size"),type:Wn(t,"type")}));const n=ze("button");return(r,a)=>(z(),q("div",{class:G(w(n).b("group"))},[Se(r.$slots,"default")],2))}});var _ae=Ze(KMe,[["__file","button-group.vue"]]);const si=Bt(HMe,{ButtonGroup:_ae}),Sae=Ur(_ae);function Zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jMe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var MT={exports:{}},YMe=MT.exports,JU;function XMe(){return JU||(JU=1,function(e,t){(function(n,r){e.exports=r()})(YMe,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",o="second",s="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",p="date",v="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var R=["th","st","nd","rd"],D=L%100;return"["+L+(R[(D-20)%10]||R[D]||R[0])+"]"}},b=function(L,R,D){var P=String(L);return!P||P.length>=R?L:""+Array(R+1-P.length).join(D)+L},x={s:b,z:function(L){var R=-L.utcOffset(),D=Math.abs(R),P=Math.floor(D/60),O=D%60;return(R<=0?"+":"-")+b(P,2,"0")+":"+b(O,2,"0")},m:function L(R,D){if(R.date()<D.date())return-L(D,R);var P=12*(D.year()-R.year())+(D.month()-R.month()),O=R.clone().add(P,f),M=D-O<0,W=R.clone().add(P+(M?-1:1),f);return+(-(P+(D-O)/(M?O-W:W-O))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:f,y:h,w:c,d:u,D:p,h:l,m:s,s:o,ms:i,Q:d}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},_="en",S={};S[_]=y;var C="$isDayjsObject",k=function(L){return L instanceof A||!(!L||!L[C])},T=function L(R,D,P){var O;if(!R)return _;if(typeof R=="string"){var M=R.toLowerCase();S[M]&&(O=M),D&&(S[M]=D,O=M);var W=R.split("-");if(!O&&W.length>1)return L(W[0])}else{var U=R.name;S[U]=R,O=U}return!P&&O&&(_=O),O||!P&&_},I=function(L,R){if(k(L))return L.clone();var D=typeof R=="object"?R:{};return D.date=L,D.args=arguments,new A(D)},E=x;E.l=T,E.i=k,E.w=function(L,R){return I(L,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var A=function(){function L(D){this.$L=T(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[C]=!0}var R=L.prototype;return R.parse=function(D){this.$d=function(P){var O=P.date,M=P.utc;if(O===null)return new Date(NaN);if(E.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var W=O.match(g);if(W){var U=W[2]-1||0,V=(W[7]||"0").substring(0,3);return M?new Date(Date.UTC(W[1],U,W[3]||1,W[4]||0,W[5]||0,W[6]||0,V)):new Date(W[1],U,W[3]||1,W[4]||0,W[5]||0,W[6]||0,V)}}return new Date(O)}(D),this.init()},R.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},R.$utils=function(){return E},R.isValid=function(){return this.$d.toString()!==v},R.isSame=function(D,P){var O=I(D);return this.startOf(P)<=O&&O<=this.endOf(P)},R.isAfter=function(D,P){return I(D)<this.startOf(P)},R.isBefore=function(D,P){return this.endOf(P)<I(D)},R.$g=function(D,P,O){return E.u(D)?this[P]:this.set(O,D)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(D,P){var O=this,M=!!E.u(P)||P,W=E.p(D),U=function(ae,me){var ve=E.w(O.$u?Date.UTC(O.$y,me,ae):new Date(O.$y,me,ae),O);return M?ve:ve.endOf(u)},V=function(ae,me){return E.w(O.toDate()[ae].apply(O.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(me)),O)},H=this.$W,K=this.$M,j=this.$D,ne="set"+(this.$u?"UTC":"");switch(W){case h:return M?U(1,0):U(31,11);case f:return M?U(1,K):U(0,K+1);case c:var Q=this.$locale().weekStart||0,oe=(H<Q?H+7:H)-Q;return U(M?j-oe:j+(6-oe),K);case u:case p:return V(ne+"Hours",0);case l:return V(ne+"Minutes",1);case s:return V(ne+"Seconds",2);case o:return V(ne+"Milliseconds",3);default:return this.clone()}},R.endOf=function(D){return this.startOf(D,!1)},R.$set=function(D,P){var O,M=E.p(D),W="set"+(this.$u?"UTC":""),U=(O={},O[u]=W+"Date",O[p]=W+"Date",O[f]=W+"Month",O[h]=W+"FullYear",O[l]=W+"Hours",O[s]=W+"Minutes",O[o]=W+"Seconds",O[i]=W+"Milliseconds",O)[M],V=M===u?this.$D+(P-this.$W):P;if(M===f||M===h){var H=this.clone().set(p,1);H.$d[U](V),H.init(),this.$d=H.set(p,Math.min(this.$D,H.daysInMonth())).$d}else U&&this.$d[U](V);return this.init(),this},R.set=function(D,P){return this.clone().$set(D,P)},R.get=function(D){return this[E.p(D)]()},R.add=function(D,P){var O,M=this;D=Number(D);var W=E.p(P),U=function(K){var j=I(M);return E.w(j.date(j.date()+Math.round(K*D)),M)};if(W===f)return this.set(f,this.$M+D);if(W===h)return this.set(h,this.$y+D);if(W===u)return U(1);if(W===c)return U(7);var V=(O={},O[s]=r,O[l]=a,O[o]=n,O)[W]||1,H=this.$d.getTime()+D*V;return E.w(H,this)},R.subtract=function(D,P){return this.add(-1*D,P)},R.format=function(D){var P=this,O=this.$locale();if(!this.isValid())return O.invalidDate||v;var M=D||"YYYY-MM-DDTHH:mm:ssZ",W=E.z(this),U=this.$H,V=this.$m,H=this.$M,K=O.weekdays,j=O.months,ne=O.meridiem,Q=function(me,ve,B,re){return me&&(me[ve]||me(P,M))||B[ve].slice(0,re)},oe=function(me){return E.s(U%12||12,me,"0")},ae=ne||function(me,ve,B){var re=me<12?"AM":"PM";return B?re.toLowerCase():re};return M.replace(m,function(me,ve){return ve||function(B){switch(B){case"YY":return String(P.$y).slice(-2);case"YYYY":return E.s(P.$y,4,"0");case"M":return H+1;case"MM":return E.s(H+1,2,"0");case"MMM":return Q(O.monthsShort,H,j,3);case"MMMM":return Q(j,H);case"D":return P.$D;case"DD":return E.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return Q(O.weekdaysMin,P.$W,K,2);case"ddd":return Q(O.weekdaysShort,P.$W,K,3);case"dddd":return K[P.$W];case"H":return String(U);case"HH":return E.s(U,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return ae(U,V,!0);case"A":return ae(U,V,!1);case"m":return String(V);case"mm":return E.s(V,2,"0");case"s":return String(P.$s);case"ss":return E.s(P.$s,2,"0");case"SSS":return E.s(P.$ms,3,"0");case"Z":return W}return null}(me)||W.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(D,P,O){var M,W=this,U=E.p(P),V=I(D),H=(V.utcOffset()-this.utcOffset())*r,K=this-V,j=function(){return E.m(W,V)};switch(U){case h:M=j()/12;break;case f:M=j();break;case d:M=j()/3;break;case c:M=(K-H)/6048e5;break;case u:M=(K-H)/864e5;break;case l:M=K/a;break;case s:M=K/r;break;case o:M=K/n;break;default:M=K}return O?M:E.a(M)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return S[this.$L]},R.locale=function(D,P){if(!D)return this.$L;var O=this.clone(),M=T(D,P,!0);return M&&(O.$L=M),O},R.clone=function(){return E.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},L}(),N=A.prototype;return I.prototype=N,[["$ms",i],["$s",o],["$m",s],["$H",l],["$W",u],["$M",f],["$y",h],["$D",p]].forEach(function(L){N[L[1]]=function(R){return this.$g(R,L[0],L[1])}}),I.extend=function(L,R){return L.$i||(L(R,A,I),L.$i=!0),I},I.locale=T,I.isDayjs=k,I.unix=function(L){return I(1e3*L)},I.en=S[_],I.Ls=S,I.p={},I})}(MT)),MT.exports}var qMe=XMe();const Lt=Zc(qMe),kR=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],uh=e=>Array.from(Array.from({length:e}).keys()),Cae=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Tae=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),QU=function(e,t){const n=xh(e),r=xh(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},eG=function(e,t){const n=Ke(e),r=Ke(t);return n&&r?e.length!==t.length?!1:e.every((a,i)=>QU(a,t[i])):!n&&!r?QU(e,t):!1},tG=function(e,t,n){const r=Ms(t)||t==="x"?Lt(e).locale(n):Lt(e,t).locale(n);return r.isValid()?r:void 0},nG=function(e,t,n){return Ms(t)?e:t==="x"?+e:Lt(e).locale(n).format(t)},IR=(e,t)=>{var n;const r=[],a=t==null?void 0:t();for(let i=0;i<e;i++)r.push((n=a==null?void 0:a.includes(i))!=null?n:!1);return r},zC=e=>Ke(e)?e.map(t=>t.toDate()):e.toDate(),ZMe=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return uh(t).map((r,a)=>n-(t-a-1))},JMe=e=>{const t=e.daysInMonth();return uh(t).map((n,r)=>r+1)},QMe=e=>uh(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),e$e=je({selectedDay:{type:be(Object)},range:{type:be(Array)},date:{type:be(Object),required:!0},hideHeader:{type:Boolean}}),t$e={pick:e=>qt(e)};var $T={exports:{}},n$e=$T.exports,rG;function r$e(){return rG||(rG=1,function(e,t){(function(n,r){e.exports=r()})(n$e,function(){return function(n,r,a){var i=r.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,p,v){var g=f.name?f:f.$locale(),m=o(g[d]),y=o(g[h]),b=m||y.map(function(_){return _.slice(0,p)});if(!v)return b;var x=g.weekStart;return b.map(function(_,S){return b[(S+(x||0))%7]})},l=function(){return a.Ls[a.locale()]},u=function(f,d){return f.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,v,g){return v||g.slice(1)})}(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return c.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return s(l(),"months")},a.monthsShort=function(){return s(l(),"monthsShort","months",3)},a.weekdays=function(f){return s(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})}($T)),$T.exports}var a$e=r$e();const kae=Zc(a$e),i$e=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],ER=["sun","mon","tue","wed","thu","fri","sat"],o$e=(e,t)=>{Lt.extend(kae);const n=Lt.localeData().firstDayOfWeek(),{t:r,lang:a}=_n(),i=Lt().locale(a.value),o=F(()=>!!e.range&&!!e.range.length),s=F(()=>{let d=[];if(o.value){const[h,p]=e.range,v=uh(p.date()-h.date()+1).map(y=>({text:h.date()+y,type:"current"}));let g=v.length%7;g=g===0?0:7-g;const m=uh(g).map((y,b)=>({text:b+1,type:"next"}));d=v.concat(m)}else{const h=e.date.startOf("month").day(),p=ZMe(e.date,(h-n+7)%7).map(y=>({text:y,type:"prev"})),v=JMe(e.date).map(y=>({text:y,type:"current"}));d=[...p,...v];const g=7-(d.length%7||7),m=uh(g).map((y,b)=>({text:b+1,type:"next"}));d=d.concat(m)}return QMe(d)}),l=F(()=>{const d=n;return d===0?ER.map(h=>r(`el.datepicker.weeks.${h}`)):ER.slice(d).concat(ER.slice(0,d)).map(h=>r(`el.datepicker.weeks.${h}`))}),u=(d,h)=>{switch(h){case"prev":return e.date.startOf("month").subtract(1,"month").date(d);case"next":return e.date.startOf("month").add(1,"month").date(d);case"current":return e.date.date(d)}};return{now:i,isInRange:o,rows:s,weekDays:l,getFormattedDate:u,handlePickDay:({text:d,type:h})=>{const p=u(d,h);t("pick",p)},getSlotData:({text:d,type:h})=>{const p=u(d,h);return{isSelected:p.isSame(e.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},s$e=se({name:"DateTable"}),l$e=se({...s$e,props:e$e,emits:t$e,setup(e,{expose:t,emit:n}){const r=e,{isInRange:a,now:i,rows:o,weekDays:s,getFormattedDate:l,handlePickDay:u,getSlotData:c}=o$e(r,n),f=ze("calendar-table"),d=ze("calendar-day"),h=({text:p,type:v})=>{const g=[v];if(v==="current"){const m=l(p,v);m.isSame(r.selectedDay,"day")&&g.push(d.is("selected")),m.isSame(i,"day")&&g.push(d.is("today"))}return g};return t({getFormattedDate:l}),(p,v)=>(z(),q("table",{class:G([w(f).b(),w(f).is("range",w(a))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?Te("v-if",!0):(z(),q("thead",{key:0},[Z("tr",null,[(z(!0),q(gt,null,un(w(s),g=>(z(),q("th",{key:g,scope:"col"},Ve(g),1))),128))])])),Z("tbody",null,[(z(!0),q(gt,null,un(w(o),(g,m)=>(z(),q("tr",{key:m,class:G({[w(f).e("row")]:!0,[w(f).em("row","hide-border")]:m===0&&p.hideHeader})},[(z(!0),q(gt,null,un(g,(y,b)=>(z(),q("td",{key:b,class:G(h(y)),onClick:x=>w(u)(y)},[Z("div",{class:G(w(d).b())},[Se(p.$slots,"date-cell",{data:w(c)(y)},()=>[Z("span",null,Ve(y.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var aG=Ze(l$e,[["__file","date-table.vue"]]);const u$e=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[i.startOf("week"),t]]},c$e=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),a=n.isSame(r,"week")?r.add(1,"week"):r,i=a.endOf("month"),o=t.startOf("month"),s=i.isSame(o,"week")?o.add(1,"week"):o;return[[e,n],[a.startOf("week"),i],[s.startOf("week"),t]]},f$e=(e,t,n)=>{const{lang:r}=_n(),a=Y(),i=Lt().locale(r.value),o=F({get(){return e.modelValue?l.value:a.value},set(g){if(!g)return;a.value=g;const m=g.toDate();t(Fi,m),t(Ht,m)}}),s=F(()=>{if(!e.range||!Ke(e.range)||e.range.length!==2||e.range.some(b=>!xh(b)))return[];const g=e.range.map(b=>Lt(b).locale(r.value)),[m,y]=g;return m.isAfter(y)?[]:m.isSame(y,"month")?h(m,y):m.add(1,"month").month()!==y.month()?[]:h(m,y)}),l=F(()=>e.modelValue?Lt(e.modelValue).locale(r.value):o.value||(s.value.length?s.value[0][0]:i)),u=F(()=>l.value.subtract(1,"month").date(1)),c=F(()=>l.value.add(1,"month").date(1)),f=F(()=>l.value.subtract(1,"year").date(1)),d=F(()=>l.value.add(1,"year").date(1)),h=(g,m)=>{const y=g.startOf("week"),b=m.endOf("week"),x=y.get("month"),_=b.get("month");return x===_?[[y,b]]:(x+1)%12===_?u$e(y,b):x+2===_||(x+1)%11===_?c$e(y,b):[]},p=g=>{o.value=g};return{calculateValidatedDateRange:h,date:l,realSelectedDay:o,pickDay:p,selectDate:g=>{const y={"prev-month":u.value,"next-month":c.value,"prev-year":f.value,"next-year":d.value,today:i}[g];y.isSame(l.value,"day")||p(y)},validatedRange:s}},d$e=e=>Ke(e)&&e.length===2&&e.every(t=>xh(t)),h$e=je({modelValue:{type:Date},range:{type:be(Array),validator:d$e}}),p$e={[Ht]:e=>xh(e),[Fi]:e=>xh(e)},v$e="ElCalendar",g$e=se({name:v$e}),m$e=se({...g$e,props:h$e,emits:p$e,setup(e,{expose:t,emit:n}){const r=e,a=ze("calendar"),{calculateValidatedDateRange:i,date:o,pickDay:s,realSelectedDay:l,selectDate:u,validatedRange:c}=f$e(r,n),{t:f}=_n(),d=F(()=>{const h=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${f("el.datepicker.year")} ${f(h)}`});return t({selectedDay:l,pickDay:s,selectDate:u,calculateValidatedDateRange:i}),(h,p)=>(z(),q("div",{class:G(w(a).b())},[Z("div",{class:G(w(a).e("header"))},[Se(h.$slots,"header",{date:w(d)},()=>[Z("div",{class:G(w(a).e("title"))},Ve(w(d)),3),w(c).length===0?(z(),q("div",{key:0,class:G(w(a).e("button-group"))},[ie(w(Sae),null,{default:fe(()=>[ie(w(si),{size:"small",onClick:v=>w(u)("prev-month")},{default:fe(()=>[Kt(Ve(w(f)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),ie(w(si),{size:"small",onClick:v=>w(u)("today")},{default:fe(()=>[Kt(Ve(w(f)("el.datepicker.today")),1)]),_:1},8,["onClick"]),ie(w(si),{size:"small",onClick:v=>w(u)("next-month")},{default:fe(()=>[Kt(Ve(w(f)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Te("v-if",!0)])],2),w(c).length===0?(z(),q("div",{key:0,class:G(w(a).e("body"))},[ie(aG,{date:w(o),"selected-day":w(l),onPick:w(s)},Nl({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:fe(v=>[Se(h.$slots,"date-cell",fu(wh(v)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(z(),q("div",{key:1,class:G(w(a).e("body"))},[(z(!0),q(gt,null,un(w(c),(v,g)=>(z(),Ae(aG,{key:g,date:v[0],"selected-day":w(l),range:v,"hide-header":g!==0,onPick:w(s)},Nl({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:fe(m=>[Se(h.$slots,"date-cell",fu(wh(m)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var y$e=Ze(m$e,[["__file","calendar.vue"]]);const b$e=Bt(y$e),x$e=je({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:be([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),w$e=se({name:"ElCard"}),_$e=se({...w$e,props:x$e,setup(e){const t=ze("card");return(n,r)=>(z(),q("div",{class:G([w(t).b(),w(t).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(z(),q("div",{key:0,class:G(w(t).e("header"))},[Se(n.$slots,"header",{},()=>[Kt(Ve(n.header),1)])],2)):Te("v-if",!0),Z("div",{class:G([w(t).e("body"),n.bodyClass]),style:yt(n.bodyStyle)},[Se(n.$slots,"default")],6),n.$slots.footer||n.footer?(z(),q("div",{key:1,class:G(w(t).e("footer"))},[Se(n.$slots,"footer",{},()=>[Kt(Ve(n.footer),1)])],2)):Te("v-if",!0)],2))}});var S$e=Ze(_$e,[["__file","card.vue"]]);const C$e=Bt(S$e),T$e=je({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),k$e={change:(e,t)=>[e,t].every(Tt)},Iae=Symbol("carouselContextKey"),wO="ElCarouselItem";var hl=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(hl||{});function _O(e){return $r(e)&&e.type===gt}function I$e(e){return $r(e)&&e.type===ti}function E$e(e){return $r(e)&&!_O(e)&&!I$e(e)}const A$e=e=>{if(!$r(e))return{};const t=e.props||{},n=($r(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(a=>{Dn(n[a],"default")&&(r[a]=n[a].default)}),Object.keys(t).forEach(a=>{r[Qo(a)]=t[a]}),r},D$e=e=>{if(!Ke(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},ch=e=>{const t=Ke(e)?e:[e],n=[];return t.forEach(r=>{var a;Ke(r)?n.push(...ch(r)):$r(r)&&((a=r.component)!=null&&a.subTree)?n.push(r,...ch(r.component.subTree)):$r(r)&&Ke(r.children)?n.push(...ch(r.children)):n.push(r)}),n},N$e=(e,t,n)=>ch(e.subTree).filter(i=>{var o;return $r(i)&&((o=i.type)==null?void 0:o.name)===t&&!!i.component}).map(i=>i.component.uid).map(i=>n[i]).filter(i=>!!i),mB=(e,t)=>{const n={},r=dr([]);return{children:r,addChild:o=>{n[o.uid]=o,r.value=N$e(e,t,n)},removeChild:o=>{delete n[o],r.value=r.value.filter(s=>s.uid!==o)}}},iG=300,R$e=(e,t,n)=>{const{children:r,addChild:a,removeChild:i}=mB(jt(),wO),o=Sa(),s=Y(-1),l=Y(null),u=Y(!1),c=Y(),f=Y(0),d=Y(!0),h=Y(!0),p=Y(!1),v=F(()=>e.arrow!=="never"&&!w(y)),g=F(()=>r.value.some(ne=>ne.props.label.toString().length>0)),m=F(()=>e.type==="card"),y=F(()=>e.direction==="vertical"),b=F(()=>e.height!=="auto"?{height:e.height}:{height:`${f.value}px`,overflow:"hidden"}),x=$v(ne=>{I(ne)},iG,{trailing:!0}),_=$v(ne=>{M(ne)},iG),S=ne=>d.value?s.value<=1?ne<=1:ne>1:!0;function C(){l.value&&(clearInterval(l.value),l.value=null)}function k(){e.interval<=0||!e.autoplay||l.value||(l.value=setInterval(()=>T(),e.interval))}const T=()=>{h.value||(p.value=!0),h.value=!1,s.value<r.value.length-1?s.value=s.value+1:e.loop?s.value=0:p.value=!1};function I(ne){if(h.value||(p.value=!0),h.value=!1,vt(ne)){const ae=r.value.filter(me=>me.props.name===ne);ae.length>0&&(ne=r.value.indexOf(ae[0]))}if(ne=Number(ne),Number.isNaN(ne)||ne!==Math.floor(ne))return;const Q=r.value.length,oe=s.value;ne<0?s.value=e.loop?Q-1:0:ne>=Q?s.value=e.loop?0:Q-1:s.value=ne,oe===s.value&&E(oe),V()}function E(ne){r.value.forEach((Q,oe)=>{Q.translateItem(oe,s.value,ne)})}function A(ne,Q){var oe,ae,me,ve;const B=w(r),re=B.length;if(re===0||!ne.states.inStage)return!1;const ge=Q+1,Ie=Q-1,Ce=re-1,he=B[Ce].states.active,J=B[0].states.active,te=(ae=(oe=B[ge])==null?void 0:oe.states)==null?void 0:ae.active,xe=(ve=(me=B[Ie])==null?void 0:me.states)==null?void 0:ve.active;return Q===Ce&&J||te?"left":Q===0&&he||xe?"right":!1}function N(){u.value=!0,e.pauseOnHover&&C()}function L(){u.value=!1,k()}function R(){p.value=!1}function D(ne){w(y)||r.value.forEach((Q,oe)=>{ne===A(Q,oe)&&(Q.states.hover=!0)})}function P(){w(y)||r.value.forEach(ne=>{ne.states.hover=!1})}function O(ne){ne!==s.value&&(h.value||(p.value=!0)),s.value=ne}function M(ne){e.trigger==="hover"&&ne!==s.value&&(s.value=ne,h.value||(p.value=!0))}function W(){I(s.value-1)}function U(){I(s.value+1)}function V(){C(),e.pauseOnHover||k()}function H(ne){e.height==="auto"&&(f.value=ne)}function K(){var ne;const Q=(ne=o.default)==null?void 0:ne.call(o);if(!Q)return null;const ae=ch(Q).filter(me=>$r(me)&&me.type.name===wO);return(ae==null?void 0:ae.length)===2&&e.loop&&!m.value?(d.value=!0,ae):(d.value=!1,null)}Oe(()=>s.value,(ne,Q)=>{E(Q),d.value&&(ne=ne%2,Q=Q%2),Q>-1&&t("change",ne,Q)}),Oe(()=>e.autoplay,ne=>{ne?k():C()}),Oe(()=>e.loop,()=>{I(s.value)}),Oe(()=>e.interval,()=>{V()});const j=dr();return zt(()=>{Oe(()=>r.value,()=>{r.value.length>0&&I(e.initialIndex)},{immediate:!0}),j.value=Mr(c.value,()=>{E()}),k()}),ar(()=>{C(),c.value&&j.value&&j.value.stop()}),hn(Iae,{root:c,isCardType:m,isVertical:y,items:r,loop:e.loop,cardScale:e.cardScale,addItem:a,removeItem:i,setActiveItem:I,setContainerHeight:H}),{root:c,activeIndex:s,arrowDisplay:v,hasLabel:g,hover:u,isCardType:m,isTransitioning:p,items:r,isVertical:y,containerStyle:b,isItemsTwoLength:d,handleButtonEnter:D,handleTransitionEnd:R,handleButtonLeave:P,handleIndicatorClick:O,handleMouseEnter:N,handleMouseLeave:L,setActiveItem:I,prev:W,next:U,PlaceholderItem:K,isTwoLengthShow:S,throttledArrowClick:x,throttledIndicatorHover:_}},M$e="ElCarousel",$$e=se({name:M$e}),L$e=se({...$$e,props:T$e,emits:k$e,setup(e,{expose:t,emit:n}){const r=e,{root:a,activeIndex:i,arrowDisplay:o,hasLabel:s,hover:l,isCardType:u,items:c,isVertical:f,containerStyle:d,handleButtonEnter:h,handleButtonLeave:p,isTransitioning:v,handleIndicatorClick:g,handleMouseEnter:m,handleMouseLeave:y,handleTransitionEnd:b,setActiveItem:x,prev:_,next:S,PlaceholderItem:C,isTwoLengthShow:k,throttledArrowClick:T,throttledIndicatorHover:I}=R$e(r,n),E=ze("carousel"),{t:A}=_n(),N=F(()=>{const D=[E.b(),E.m(r.direction)];return w(u)&&D.push(E.m("card")),D}),L=F(()=>{const D=[E.e("container")];return r.motionBlur&&w(v)&&c.value.length>1&&D.push(w(f)?`${E.namespace.value}-transitioning-vertical`:`${E.namespace.value}-transitioning`),D}),R=F(()=>{const D=[E.e("indicators"),E.em("indicators",r.direction)];return w(s)&&D.push(E.em("indicators","labels")),r.indicatorPosition==="outside"&&D.push(E.em("indicators","outside")),w(f)&&D.push(E.em("indicators","right")),D});return t({activeIndex:i,setActiveItem:x,prev:_,next:S}),(D,P)=>(z(),q("div",{ref_key:"root",ref:a,class:G(w(N)),onMouseenter:At(w(m),["stop"]),onMouseleave:At(w(y),["stop"])},[w(o)?(z(),Ae(hi,{key:0,name:"carousel-arrow-left",persisted:""},{default:fe(()=>[Vt(Z("button",{type:"button",class:G([w(E).e("arrow"),w(E).em("arrow","left")]),"aria-label":w(A)("el.carousel.leftArrow"),onMouseenter:O=>w(h)("left"),onMouseleave:w(p),onClick:At(O=>w(T)(w(i)-1),["stop"])},[ie(w(pt),null,{default:fe(()=>[ie(w(Th))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[En,(D.arrow==="always"||w(l))&&(r.loop||w(i)>0)]])]),_:1})):Te("v-if",!0),w(o)?(z(),Ae(hi,{key:1,name:"carousel-arrow-right",persisted:""},{default:fe(()=>[Vt(Z("button",{type:"button",class:G([w(E).e("arrow"),w(E).em("arrow","right")]),"aria-label":w(A)("el.carousel.rightArrow"),onMouseenter:O=>w(h)("right"),onMouseleave:w(p),onClick:At(O=>w(T)(w(i)+1),["stop"])},[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[En,(D.arrow==="always"||w(l))&&(r.loop||w(i)<w(c).length-1)]])]),_:1})):Te("v-if",!0),Z("div",{class:G(w(L)),style:yt(w(d)),onTransitionend:w(b)},[ie(w(C)),Se(D.$slots,"default")],46,["onTransitionend"]),D.indicatorPosition!=="none"?(z(),q("ul",{key:2,class:G(w(R))},[(z(!0),q(gt,null,un(w(c),(O,M)=>Vt((z(),q("li",{key:M,class:G([w(E).e("indicator"),w(E).em("indicator",D.direction),w(E).is("active",M===w(i))]),onMouseenter:W=>w(I)(M),onClick:At(W=>w(g)(M),["stop"])},[Z("button",{class:G(w(E).e("button")),"aria-label":w(A)("el.carousel.indicator",{index:M+1})},[w(s)?(z(),q("span",{key:0},Ve(O.props.label),1)):Te("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[En,w(k)(M)]])),128))],2)):Te("v-if",!0),r.motionBlur?(z(),q("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[Z("defs",null,[Z("filter",{id:"elCarouselHorizontal"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Z("filter",{id:"elCarouselVertical"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Te("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var O$e=Ze(L$e,[["__file","carousel.vue"]]);const P$e=je({name:{type:String,default:""},label:{type:[String,Number],default:""}}),F$e=e=>{const t=ht(Iae),n=jt(),r=Y(),a=Y(!1),i=Y(0),o=Y(1),s=Y(!1),l=Y(!1),u=Y(!1),c=Y(!1),{isCardType:f,isVertical:d,cardScale:h}=t;function p(b,x,_){const S=_-1,C=x-1,k=x+1,T=_/2;return x===0&&b===S?-1:x===S&&b===0?_:b<C&&x-b>=T?_+1:b>k&&b-x>=T?-2:b}function v(b,x){var _,S;const C=w(d)?((_=t.root.value)==null?void 0:_.offsetHeight)||0:((S=t.root.value)==null?void 0:S.offsetWidth)||0;return u.value?C*((2-h)*(b-x)+1)/4:b<x?-(1+h)*C/4:(3+h)*C/4}function g(b,x,_){const S=t.root.value;return S?((_?S.offsetHeight:S.offsetWidth)||0)*(b-x):0}const m=(b,x,_)=>{var S;const C=w(f),k=(S=t.items.value.length)!=null?S:Number.NaN,T=b===x;!C&&!qn(_)&&(c.value=T||b===_),!T&&k>2&&t.loop&&(b=p(b,x,k));const I=w(d);s.value=T,C?(u.value=Math.round(Math.abs(b-x))<=1,i.value=v(b,x),o.value=w(s)?1:h):i.value=g(b,x,I),l.value=!0,T&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function y(){if(t&&w(f)){const b=t.items.value.findIndex(({uid:x})=>x===n.uid);t.setActiveItem(b)}}return zt(()=>{t.addItem({props:e,states:Ln({hover:a,translate:i,scale:o,active:s,ready:l,inStage:u,animating:c}),uid:n.uid,translateItem:m})}),jc(()=>{t.removeItem(n.uid)}),{carouselItemRef:r,active:s,animating:c,hover:a,inStage:u,isVertical:d,translate:i,isCardType:f,scale:o,ready:l,handleItemClick:y}},B$e=se({name:wO}),V$e=se({...B$e,props:P$e,setup(e){const t=e,n=ze("carousel"),{carouselItemRef:r,active:a,animating:i,hover:o,inStage:s,isVertical:l,translate:u,isCardType:c,scale:f,ready:d,handleItemClick:h}=F$e(t),p=F(()=>[n.e("item"),n.is("active",a.value),n.is("in-stage",s.value),n.is("hover",o.value),n.is("animating",i.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&l.value}]),v=F(()=>{const m=`${`translate${w(l)?"Y":"X"}`}(${w(u)}px)`,y=`scale(${w(f)})`;return{transform:[m,y].join(" ")}});return(g,m)=>Vt((z(),q("div",{ref_key:"carouselItemRef",ref:r,class:G(w(p)),style:yt(w(v)),onClick:w(h)},[w(c)?Vt((z(),q("div",{key:0,class:G(w(n).e("mask"))},null,2)),[[En,!w(a)]]):Te("v-if",!0),Se(g.$slots,"default")],14,["onClick"])),[[En,w(d)]])}});var Eae=Ze(V$e,[["__file","carousel-item.vue"]]);const z$e=Bt(O$e,{CarouselItem:Eae}),W$e=Ur(Eae),Aae={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:xa,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Ei(["ariaControls"])},Dae={[Ht]:e=>vt(e)||Tt(e)||lr(e),change:e=>vt(e)||Tt(e)||lr(e)},Gy=Symbol("checkboxGroupContextKey"),H$e=({model:e,isChecked:t})=>{const n=ht(Gy,void 0),r=F(()=>{var i,o;const s=(i=n==null?void 0:n.max)==null?void 0:i.value,l=(o=n==null?void 0:n.min)==null?void 0:o.value;return!qn(s)&&e.value.length>=s&&!t.value||!qn(l)&&e.value.length<=l&&t.value});return{isDisabled:qi(F(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},U$e=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:a,isLabeledByFormItem:i})=>{const o=ht(Gy,void 0),{formItem:s}=Xi(),{emit:l}=jt();function u(p){var v,g,m,y;return[!0,e.trueValue,e.trueLabel].includes(p)?(g=(v=e.trueValue)!=null?v:e.trueLabel)!=null?g:!0:(y=(m=e.falseValue)!=null?m:e.falseLabel)!=null?y:!1}function c(p,v){l("change",u(p),v)}function f(p){if(n.value)return;const v=p.target;l("change",u(v.checked),p)}async function d(p){n.value||!r.value&&!a.value&&i.value&&(p.composedPath().some(m=>m.tagName==="LABEL")||(t.value=u([!1,e.falseValue,e.falseLabel].includes(t.value)),await xt(),c(t.value,p)))}const h=F(()=>(o==null?void 0:o.validateEvent)||e.validateEvent);return Oe(()=>e.modelValue,()=>{h.value&&(s==null||s.validate("change").catch(p=>void 0))}),{handleChange:f,onClickRoot:d}},G$e=e=>{const t=Y(!1),{emit:n}=jt(),r=ht(Gy,void 0),a=F(()=>qn(r)===!1),i=Y(!1),o=F({get(){var s,l;return a.value?(s=r==null?void 0:r.modelValue)==null?void 0:s.value:(l=e.modelValue)!=null?l:t.value},set(s){var l,u;a.value&&Ke(s)?(i.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&s.length>(r==null?void 0:r.max.value)&&s.length>o.value.length,i.value===!1&&((u=r==null?void 0:r.changeEvent)==null||u.call(r,s))):(n(Ht,s),t.value=s)}});return{model:o,isGroup:a,isLimitExceeded:i}},K$e=(e,t,{model:n})=>{const r=ht(Gy,void 0),a=Y(!1),i=F(()=>tg(e.value)?e.label:e.value),o=F(()=>{const c=n.value;return lr(c)?c:Ke(c)?qt(i.value)?c.map(tr).some(f=>Ci(f,i.value)):c.map(tr).includes(i.value):c!=null?c===e.trueValue||c===e.trueLabel:!!c}),s=pa(F(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value}),{prop:!0}),l=pa(F(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value})),u=F(()=>!!t.default||!tg(i.value));return{checkboxButtonSize:s,isChecked:o,isFocused:a,checkboxSize:l,hasOwnLabel:u,actualValue:i}},Nae=(e,t)=>{const{formItem:n}=Xi(),{model:r,isGroup:a,isLimitExceeded:i}=G$e(e),{isFocused:o,isChecked:s,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:f}=K$e(e,t,{model:r}),{isDisabled:d}=H$e({model:r,isChecked:s}),{inputId:h,isLabeledByFormItem:p}=Vl(e,{formItemContext:n,disableIdGeneration:c,disableIdManagement:a}),{handleChange:v,onClickRoot:g}=U$e(e,{model:r,isLimitExceeded:i,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:p});return(()=>{function y(){var b,x;Ke(r.value)&&!r.value.includes(f.value)?r.value.push(f.value):r.value=(x=(b=e.trueValue)!=null?b:e.trueLabel)!=null?x:!0}e.checked&&y()})(),lh({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},F(()=>a.value&&tg(e.value))),lh({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},F(()=>!!e.trueLabel)),lh({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},F(()=>!!e.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:s,isDisabled:d,isFocused:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,actualValue:f,handleChange:v,onClickRoot:g}},j$e=se({name:"ElCheckbox"}),Y$e=se({...j$e,props:Aae,emits:Dae,setup(e){const t=e,n=Sa(),{inputId:r,isLabeledByFormItem:a,isChecked:i,isDisabled:o,isFocused:s,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:f,handleChange:d,onClickRoot:h}=Nae(t,n),p=ze("checkbox"),v=F(()=>[p.b(),p.m(l.value),p.is("disabled",o.value),p.is("bordered",t.border),p.is("checked",i.value)]),g=F(()=>[p.e("input"),p.is("disabled",o.value),p.is("checked",i.value),p.is("indeterminate",t.indeterminate),p.is("focus",s.value)]);return(m,y)=>(z(),Ae(tn(!w(u)&&w(a)?"span":"label"),{class:G(w(v)),"aria-controls":m.indeterminate?m.ariaControls:null,onClick:w(h)},{default:fe(()=>{var b,x,_,S;return[Z("span",{class:G(w(g))},[m.trueValue||m.falseValue||m.trueLabel||m.falseLabel?Vt((z(),q("input",{key:0,id:w(r),"onUpdate:modelValue":C=>vr(c)?c.value=C:null,class:G(w(p).e("original")),type:"checkbox",indeterminate:m.indeterminate,name:m.name,tabindex:m.tabindex,disabled:w(o),"true-value":(x=(b=m.trueValue)!=null?b:m.trueLabel)!=null?x:!0,"false-value":(S=(_=m.falseValue)!=null?_:m.falseLabel)!=null?S:!1,onChange:w(d),onFocus:C=>s.value=!0,onBlur:C=>s.value=!1,onClick:At(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[zk,w(c)]]):Vt((z(),q("input",{key:1,id:w(r),"onUpdate:modelValue":C=>vr(c)?c.value=C:null,class:G(w(p).e("original")),type:"checkbox",indeterminate:m.indeterminate,disabled:w(o),value:w(f),name:m.name,tabindex:m.tabindex,onChange:w(d),onFocus:C=>s.value=!0,onBlur:C=>s.value=!1,onClick:At(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[zk,w(c)]]),Z("span",{class:G(w(p).e("inner"))},null,2)],2),w(u)?(z(),q("span",{key:0,class:G(w(p).e("label"))},[Se(m.$slots,"default"),m.$slots.default?Te("v-if",!0):(z(),q(gt,{key:0},[Kt(Ve(m.label),1)],64))],2)):Te("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var X$e=Ze(Y$e,[["__file","checkbox.vue"]]);const q$e=se({name:"ElCheckboxButton"}),Z$e=se({...q$e,props:Aae,emits:Dae,setup(e){const t=e,n=Sa(),{isFocused:r,isChecked:a,isDisabled:i,checkboxButtonSize:o,model:s,actualValue:l,handleChange:u}=Nae(t,n),c=ht(Gy,void 0),f=ze("checkbox"),d=F(()=>{var p,v,g,m;const y=(v=(p=c==null?void 0:c.fill)==null?void 0:p.value)!=null?v:"";return{backgroundColor:y,borderColor:y,color:(m=(g=c==null?void 0:c.textColor)==null?void 0:g.value)!=null?m:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),h=F(()=>[f.b("button"),f.bm("button",o.value),f.is("disabled",i.value),f.is("checked",a.value),f.is("focus",r.value)]);return(p,v)=>{var g,m,y,b;return z(),q("label",{class:G(w(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?Vt((z(),q("input",{key:0,"onUpdate:modelValue":x=>vr(s)?s.value=x:null,class:G(w(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:w(i),"true-value":(m=(g=p.trueValue)!=null?g:p.trueLabel)!=null?m:!0,"false-value":(b=(y=p.falseValue)!=null?y:p.falseLabel)!=null?b:!1,onChange:w(u),onFocus:x=>r.value=!0,onBlur:x=>r.value=!1,onClick:At(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[zk,w(s)]]):Vt((z(),q("input",{key:1,"onUpdate:modelValue":x=>vr(s)?s.value=x:null,class:G(w(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:w(i),value:w(l),onChange:w(u),onFocus:x=>r.value=!0,onBlur:x=>r.value=!1,onClick:At(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[zk,w(s)]]),p.$slots.default||p.label?(z(),q("span",{key:2,class:G(w(f).be("button","inner")),style:yt(w(a)?w(d):void 0)},[Se(p.$slots,"default",{},()=>[Kt(Ve(p.label),1)])],6)):Te("v-if",!0)],2)}}});var Rae=Ze(Z$e,[["__file","checkbox-button.vue"]]);const J$e=je({modelValue:{type:be(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:xa,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),Q$e={[Ht]:e=>Ke(e),change:e=>Ke(e)},eLe=se({name:"ElCheckboxGroup"}),tLe=se({...eLe,props:J$e,emits:Q$e,setup(e,{emit:t}){const n=e,r=ze("checkbox"),{formItem:a}=Xi(),{inputId:i,isLabeledByFormItem:o}=Vl(n,{formItemContext:a}),s=async u=>{t(Ht,u),await xt(),t("change",u)},l=F({get(){return n.modelValue},set(u){s(u)}});return hn(Gy,{...du(di(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:s}),Oe(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(u=>void 0))}),(u,c)=>{var f;return z(),Ae(tn(u.tag),{id:w(i),class:G(w(r).b("group")),role:"group","aria-label":w(o)?void 0:u.ariaLabel||"checkbox-group","aria-labelledby":w(o)?(f=w(a))==null?void 0:f.labelId:void 0},{default:fe(()=>[Se(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Mae=Ze(tLe,[["__file","checkbox-group.vue"]]);const Ll=Bt(X$e,{CheckboxButton:Rae,CheckboxGroup:Mae}),nLe=Ur(Rae),$ae=Ur(Mae),Lae=je({modelValue:{type:[String,Number,Boolean],default:void 0},size:xa,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),rLe=je({...Lae,border:Boolean}),Oae={[Ht]:e=>vt(e)||Tt(e)||lr(e),[Qn]:e=>vt(e)||Tt(e)||lr(e)},Pae=Symbol("radioGroupKey"),Fae=(e,t)=>{const n=Y(),r=ht(Pae,void 0),a=F(()=>!!r),i=F(()=>tg(e.value)?e.label:e.value),o=F({get(){return a.value?r.modelValue:e.modelValue},set(f){a.value?r.changeEvent(f):t&&t(Ht,f),n.value.checked=e.modelValue===i.value}}),s=pa(F(()=>r==null?void 0:r.size)),l=qi(F(()=>r==null?void 0:r.disabled)),u=Y(!1),c=F(()=>l.value||a.value&&o.value!==i.value?-1:0);return lh({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},F(()=>a.value&&tg(e.value))),{radioRef:n,isGroup:a,radioGroup:r,focus:u,size:s,disabled:l,tabIndex:c,modelValue:o,actualValue:i}},aLe=se({name:"ElRadio"}),iLe=se({...aLe,props:rLe,emits:Oae,setup(e,{emit:t}){const n=e,r=ze("radio"),{radioRef:a,radioGroup:i,focus:o,size:s,disabled:l,modelValue:u,actualValue:c}=Fae(n,t);function f(){xt(()=>t("change",u.value))}return(d,h)=>{var p;return z(),q("label",{class:G([w(r).b(),w(r).is("disabled",w(l)),w(r).is("focus",w(o)),w(r).is("bordered",d.border),w(r).is("checked",w(u)===w(c)),w(r).m(w(s))])},[Z("span",{class:G([w(r).e("input"),w(r).is("disabled",w(l)),w(r).is("checked",w(u)===w(c))])},[Vt(Z("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":v=>vr(u)?u.value=v:null,class:G(w(r).e("original")),value:w(c),name:d.name||((p=w(i))==null?void 0:p.name),disabled:w(l),checked:w(u)===w(c),type:"radio",onFocus:v=>o.value=!0,onBlur:v=>o.value=!1,onChange:f,onClick:At(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[Cne,w(u)]]),Z("span",{class:G(w(r).e("inner"))},null,2)],2),Z("span",{class:G(w(r).e("label")),onKeydown:At(()=>{},["stop"])},[Se(d.$slots,"default",{},()=>[Kt(Ve(d.label),1)])],42,["onKeydown"])],2)}}});var oLe=Ze(iLe,[["__file","radio.vue"]]);const sLe=je({...Lae}),lLe=se({name:"ElRadioButton"}),uLe=se({...lLe,props:sLe,setup(e){const t=e,n=ze("radio"),{radioRef:r,focus:a,size:i,disabled:o,modelValue:s,radioGroup:l,actualValue:u}=Fae(t),c=F(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(f,d)=>{var h;return z(),q("label",{class:G([w(n).b("button"),w(n).is("active",w(s)===w(u)),w(n).is("disabled",w(o)),w(n).is("focus",w(a)),w(n).bm("button",w(i))])},[Vt(Z("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":p=>vr(s)?s.value=p:null,class:G(w(n).be("button","original-radio")),value:w(u),type:"radio",name:f.name||((h=w(l))==null?void 0:h.name),disabled:w(o),onFocus:p=>a.value=!0,onBlur:p=>a.value=!1,onClick:At(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[Cne,w(s)]]),Z("span",{class:G(w(n).be("button","inner")),style:yt(w(s)===w(u)?w(c):{}),onKeydown:At(()=>{},["stop"])},[Se(f.$slots,"default",{},()=>[Kt(Ve(f.label),1)])],46,["onKeydown"])],2)}}});var Bae=Ze(uLe,[["__file","radio-button.vue"]]);const cLe=je({id:{type:String,default:void 0},size:xa,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),fLe=Oae,dLe=se({name:"ElRadioGroup"}),hLe=se({...dLe,props:cLe,emits:fLe,setup(e,{emit:t}){const n=e,r=ze("radio"),a=Ii(),i=Y(),{formItem:o}=Xi(),{inputId:s,isLabeledByFormItem:l}=Vl(n,{formItemContext:o}),u=f=>{t(Ht,f),xt(()=>t("change",f))};zt(()=>{const f=i.value.querySelectorAll("[type=radio]"),d=f[0];!Array.from(f).some(h=>h.checked)&&d&&(d.tabIndex=0)});const c=F(()=>n.name||a.value);return hn(Pae,Ln({...di(n),changeEvent:u,name:c})),Oe(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(f=>void 0))}),(f,d)=>(z(),q("div",{id:w(s),ref_key:"radioGroupRef",ref:i,class:G(w(r).b("group")),role:"radiogroup","aria-label":w(l)?void 0:f.ariaLabel||"radio-group","aria-labelledby":w(l)?w(o).labelId:void 0},[Se(f.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var Vae=Ze(hLe,[["__file","radio-group.vue"]]);const zae=Bt(oLe,{RadioButton:Bae,RadioGroup:Vae}),pLe=Ur(Vae),vLe=Ur(Bae);var gLe=se({name:"NodeContent",setup(){return{ns:ze("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:a}=t,{renderLabelFn:i}=n;return Ct("span",{class:e.e("label")},i?i({node:t,data:r}):a)}});const yB=Symbol(),mLe=se({name:"ElCascaderNode",components:{ElCheckbox:Ll,ElRadio:zae,NodeContent:gLe,ElIcon:pt,Check:__,Loading:Nu,ArrowRight:Yo},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=ht(yB),r=ze("cascader-node"),a=F(()=>n.isHoverMenu),i=F(()=>n.config.multiple),o=F(()=>n.config.checkStrictly),s=F(()=>{var S;return(S=n.checkedNodes[0])==null?void 0:S.uid}),l=F(()=>e.node.isDisabled),u=F(()=>e.node.isLeaf),c=F(()=>o.value&&!u.value||!l.value),f=F(()=>h(n.expandingNode)),d=F(()=>o.value&&n.checkedNodes.some(h)),h=S=>{var C;const{level:k,uid:T}=e.node;return((C=S==null?void 0:S.pathNodes[k-1])==null?void 0:C.uid)===T},p=()=>{f.value||n.expandNode(e.node)},v=S=>{const{node:C}=e;S!==C.checked&&n.handleCheckChange(C,S)},g=()=>{n.lazyLoad(e.node,()=>{u.value||p()})},m=S=>{a.value&&(y(),!u.value&&t("expand",S))},y=()=>{const{node:S}=e;!c.value||S.loading||(S.loaded?p():g())},b=()=>{a.value&&!u.value||(u.value&&!l.value&&!o.value&&!i.value?_(!0):y())},x=S=>{o.value?(v(S),e.node.loaded&&p()):_(S)},_=S=>{e.node.loaded?(v(S),!o.value&&p()):g()};return{panel:n,isHoverMenu:a,multiple:i,checkStrictly:o,checkedNodeId:s,isDisabled:l,isLeaf:u,expandable:c,inExpandingPath:f,inCheckedPath:d,ns:r,handleHoverExpand:m,handleExpand:y,handleClick:b,handleCheck:_,handleSelectCheck:x}}});function yLe(e,t,n,r,a,i){const o=Ft("el-checkbox"),s=Ft("el-radio"),l=Ft("check"),u=Ft("el-icon"),c=Ft("node-content"),f=Ft("loading"),d=Ft("arrow-right");return z(),q("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:G([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[Te(" prefix "),e.multiple?(z(),Ae(o,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:At(()=>{},["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(z(),Ae(s,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:At(()=>{},["stop"])},{default:fe(()=>[Te(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Z("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(z(),Ae(u,{key:2,class:G(e.ns.e("prefix"))},{default:fe(()=>[ie(l)]),_:1},8,["class"])):Te("v-if",!0),Te(" content "),ie(c),Te(" postfix "),e.isLeaf?Te("v-if",!0):(z(),q(gt,{key:3},[e.node.loading?(z(),Ae(u,{key:0,class:G([e.ns.is("loading"),e.ns.e("postfix")])},{default:fe(()=>[ie(f)]),_:1},8,["class"])):(z(),Ae(u,{key:1,class:G(["arrow-right",e.ns.e("postfix")])},{default:fe(()=>[ie(d)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var bLe=Ze(mLe,[["render",yLe],["__file","node.vue"]]);const xLe=se({name:"ElCascaderMenu",components:{Loading:Nu,ElIcon:pt,ElScrollbar:qc,ElCascaderNode:bLe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=jt(),n=ze("cascader-menu"),{t:r}=_n(),a=Ii();let i=null,o=null;const s=ht(yB),l=Y(null),u=F(()=>!e.nodes.length),c=F(()=>!s.initialLoaded),f=F(()=>`${a.value}-${e.index}`),d=g=>{i=g.target},h=g=>{if(!(!s.isHoverMenu||!i||!l.value))if(i.contains(g.target)){p();const m=t.vnode.el,{left:y}=m.getBoundingClientRect(),{offsetWidth:b,offsetHeight:x}=m,_=g.clientX-y,S=i.offsetTop,C=S+i.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${_} ${S} L${b} 0 V${S} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${_} ${C} L${b} ${x} V${C} Z" />
        `}else o||(o=window.setTimeout(v,s.config.hoverThreshold))},p=()=>{o&&(clearTimeout(o),o=null)},v=()=>{l.value&&(l.value.innerHTML="",p())};return{ns:n,panel:s,hoverZone:l,isEmpty:u,isLoading:c,menuId:f,t:r,handleExpand:d,handleMouseMove:h,clearHoverZone:v}}});function wLe(e,t,n,r,a,i){const o=Ft("el-cascader-node"),s=Ft("loading"),l=Ft("el-icon"),u=Ft("el-scrollbar");return z(),Ae(u,{key:e.menuId,tag:"ul",role:"menu",class:G(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:fe(()=>{var c;return[(z(!0),q(gt,null,un(e.nodes,f=>(z(),Ae(o,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(z(),q("div",{key:0,class:G(e.ns.e("empty-text"))},[ie(l,{size:"14",class:G(e.ns.is("loading"))},{default:fe(()=>[ie(s)]),_:1},8,["class"]),Kt(" "+Ve(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(z(),q("div",{key:1,class:G(e.ns.e("empty-text"))},[Se(e.$slots,"empty",{},()=>[Kt(Ve(e.t("el.cascader.noData")),1)])],2)):(c=e.panel)!=null&&c.isHoverMenu?(z(),q("svg",{key:2,ref:"hoverZone",class:G(e.ns.e("hover-zone"))},null,2)):Te("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var _Le=Ze(xLe,[["render",wLe],["__file","menu.vue"]]);const bB=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),dc=e=>h_(e);let SLe=0;const CLe=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let SO=class CO{constructor(t,n,r,a=!1){this.data=t,this.config=n,this.parent=r,this.root=a,this.uid=SLe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:i,label:o,children:s}=n,l=t[s],u=CLe(this);this.level=a?0:r?r.level+1:1,this.value=t[i],this.label=t[o],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new CO(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!Ms(l)}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:a,checkStrictly:i}=r;return(mt(a)?a(t,this):!!t[a])||!i&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:a}=this,{lazy:i,leaf:o}=n,s=mt(o)?o(t,this):t[o];return qn(s)?i&&!a?!1:!(Ke(r)&&r.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,a=new CO(t,this.config,this);return Ke(n)?n.push(t):this.childrenData=[t],r.push(a),a}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t,...n){const r=`onParent${dc(t)}`;this.children.forEach(a=>{a&&(a.broadcast(t,...n),a[r]&&a[r](...n))})}emit(t,...n){const{parent:r}=this,a=`onChild${dc(t)}`;r&&(r[a]&&r[a](...n),r.emit(t,...n))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(a=>!a.isDisabled),r=n.length?n.every(a=>a.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((a,i)=>{const o=i.checked?1:i.indeterminate?.5:0;return a+o},0);this.checked=this.loaded&&this.children.filter(a=>!a.isDisabled).every(a=>a.loaded&&a.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const TO=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(TO(r.children,t))),n),[]);class oG{constructor(t,n){this.config=n;const r=(t||[]).map(a=>new SO(a,this.config));this.nodes=r,this.allNodes=TO(r,!1),this.leafNodes=TO(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new SO(t,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(t,n){t.forEach(r=>this.appendNode(r,n))}getNodeByValue(t,n=!1){return!t&&t!==0?null:this.getFlattedNodes(n).find(a=>Ci(a.value,t)||Ci(a.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:a})=>Ci(t.value,r)&&t.level===a)||null}}const Wae=je({modelValue:{type:be([Number,String,Array])},options:{type:be(Array),default:()=>[]},props:{type:be(Object),default:()=>({})}}),TLe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Un,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},kLe=e=>F(()=>({...TLe,...e.props})),sG=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},ILe=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():Xre(e)&&e.click()},ELe=(e,t)=>{const n=t.slice(0),r=n.map(i=>i.uid),a=e.reduce((i,o)=>{const s=r.indexOf(o.uid);return s>-1&&(i.push(o),n.splice(s,1),r.splice(s,1)),i},[]);return a.push(...n),a},lG=e=>[...new Set(e)],Go=e=>!e&&e!==0?[]:Ke(e)?e:[e],ALe=se({name:"ElCascaderPanel",components:{ElCascaderMenu:_Le},props:{...Wae,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Ht,Qn,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const a=ze("cascader"),i=kLe(e);let o=null;const s=Y(!0),l=Y([]),u=Y(null),c=Y([]),f=Y(null),d=Y([]),h=F(()=>i.value.expandTrigger==="hover"),p=F(()=>e.renderLabel||n.default),v=()=>{const{options:A}=e,N=i.value;r=!1,o=new oG(A,N),c.value=[o.getNodes()],N.lazy&&Ms(e.options)?(s.value=!1,g(void 0,L=>{L&&(o=new oG(L,N),c.value=[o.getNodes()]),s.value=!0,k(!1,!0)})):k(!1,!0)},g=(A,N)=>{const L=i.value;A=A||new SO({},L,void 0,!0),A.loading=!0;const R=D=>{const P=A,O=P.root?null:P;D&&(o==null||o.appendNodes(D,O)),P.loading=!1,P.loaded=!0,P.childrenData=P.childrenData||[],N&&N(D)};L.lazyLoad(A,R)},m=(A,N)=>{var L;const{level:R}=A,D=c.value.slice(0,R);let P;A.isLeaf?P=A.pathNodes[R-2]:(P=A,D.push(A.children)),((L=f.value)==null?void 0:L.uid)!==(P==null?void 0:P.uid)&&(f.value=A,c.value=D,!N&&t("expand-change",(A==null?void 0:A.pathValues)||[]))},y=(A,N,L=!0)=>{const{checkStrictly:R,multiple:D}=i.value,P=d.value[0];r=!0,!D&&(P==null||P.doCheck(!1)),A.doCheck(N),C(),L&&!D&&!R&&t("close"),!L&&!D&&!R&&b(A)},b=A=>{A&&(A=A.parent,b(A),A&&m(A))},x=A=>o==null?void 0:o.getFlattedNodes(A),_=A=>{var N;return(N=x(A))==null?void 0:N.filter(L=>L.checked!==!1)},S=()=>{d.value.forEach(A=>A.doCheck(!1)),C(),c.value=c.value.slice(0,1),f.value=null,t("expand-change",[])},C=()=>{var A;const{checkStrictly:N,multiple:L}=i.value,R=d.value,D=_(!N),P=ELe(R,D),O=P.map(M=>M.valueByOption);d.value=P,u.value=L?O:(A=O[0])!=null?A:null},k=(A=!1,N=!1)=>{const{modelValue:L}=e,{lazy:R,multiple:D,checkStrictly:P}=i.value,O=!P;if(!(!s.value||r||!N&&Ci(L,u.value)))if(R&&!A){const W=lG(mIe(Go(L))).map(U=>o==null?void 0:o.getNodeByValue(U)).filter(U=>!!U&&!U.loaded&&!U.loading);W.length?W.forEach(U=>{g(U,()=>k(!1,N))}):k(!0,N)}else{const M=D?Go(L):[L],W=lG(M.map(U=>o==null?void 0:o.getNodeByValue(U,O)));T(W,N),u.value=Uk(L)}},T=(A,N=!0)=>{const{checkStrictly:L}=i.value,R=d.value,D=A.filter(M=>!!M&&(L||M.isLeaf)),P=o==null?void 0:o.getSameNode(f.value),O=N&&P||D[0];O?O.pathNodes.forEach(M=>m(M,!0)):f.value=null,R.forEach(M=>M.doCheck(!1)),Ln(D).forEach(M=>M.doCheck(!0)),d.value=D,xt(I)},I=()=>{wn&&l.value.forEach(A=>{const N=A==null?void 0:A.$el;if(N){const L=N.querySelector(`.${a.namespace.value}-scrollbar__wrap`),R=N.querySelector(`.${a.b("node")}.${a.is("active")}`)||N.querySelector(`.${a.b("node")}.in-active-path`);q4(L,R)}})},E=A=>{const N=A.target,{code:L}=A;switch(L){case lt.up:case lt.down:{A.preventDefault();const R=L===lt.up?-1:1;NT(qre(N,R,`.${a.b("node")}[tabindex="-1"]`));break}case lt.left:{A.preventDefault();const R=l.value[sG(N)-1],D=R==null?void 0:R.$el.querySelector(`.${a.b("node")}[aria-expanded="true"]`);NT(D);break}case lt.right:{A.preventDefault();const R=l.value[sG(N)+1],D=R==null?void 0:R.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`);NT(D);break}case lt.enter:case lt.numpadEnter:ILe(N);break}};return hn(yB,Ln({config:i,expandingNode:f,checkedNodes:d,isHoverMenu:h,initialLoaded:s,renderLabelFn:p,lazyLoad:g,expandNode:m,handleCheckChange:y})),Oe([i,()=>e.options],v,{deep:!0,immediate:!0}),Oe(()=>e.modelValue,()=>{r=!1,k()},{deep:!0}),Oe(()=>u.value,A=>{Ci(A,e.modelValue)||(t(Ht,A),t(Qn,A))}),Ute(()=>l.value=[]),zt(()=>!Ms(e.modelValue)&&k()),{ns:a,menuList:l,menus:c,checkedNodes:d,handleKeyDown:E,handleCheckChange:y,getFlattedNodes:x,getCheckedNodes:_,clearCheckedNodes:S,calculateCheckedValue:C,scrollToExpandingNode:I}}});function DLe(e,t,n,r,a,i){const o=Ft("el-cascader-menu");return z(),q("div",{class:G([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(z(!0),q(gt,null,un(e.menus,(s,l)=>(z(),Ae(o,{key:l,ref_for:!0,ref:u=>e.menuList[l]=u,index:l,nodes:[...s]},{empty:fe(()=>[Se(e.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var NLe=Ze(ALe,[["render",DLe],["__file","index.vue"]]);const Hae=Bt(NLe),zf=je({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Yc},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),RLe={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},MLe=se({name:"ElTag"}),$Le=se({...MLe,props:zf,emits:RLe,setup(e,{emit:t}){const n=e,r=pa(),a=ze("tag"),i=F(()=>{const{type:u,hit:c,effect:f,closable:d,round:h}=n;return[a.b(),a.is("closable",d),a.m(u||"primary"),a.m(r.value),a.m(f),a.is("hit",c),a.is("round",h)]}),o=u=>{t("close",u)},s=u=>{t("click",u)},l=u=>{var c,f,d;(d=(f=(c=u==null?void 0:u.component)==null?void 0:c.subTree)==null?void 0:f.component)!=null&&d.bum&&(u.component.subTree.component.bum=null)};return(u,c)=>u.disableTransitions?(z(),q("span",{key:0,class:G(w(i)),style:yt({backgroundColor:u.color}),onClick:s},[Z("span",{class:G(w(a).e("content"))},[Se(u.$slots,"default")],2),u.closable?(z(),Ae(w(pt),{key:0,class:G(w(a).e("close")),onClick:At(o,["stop"])},{default:fe(()=>[ie(w(Du))]),_:1},8,["class","onClick"])):Te("v-if",!0)],6)):(z(),Ae(hi,{key:1,name:`${w(a).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:fe(()=>[Z("span",{class:G(w(i)),style:yt({backgroundColor:u.color}),onClick:s},[Z("span",{class:G(w(a).e("content"))},[Se(u.$slots,"default")],2),u.closable?(z(),Ae(w(pt),{key:0,class:G(w(a).e("close")),onClick:At(o,["stop"])},{default:fe(()=>[ie(w(Du))]),_:1},8,["class","onClick"])):Te("v-if",!0)],6)]),_:3},8,["name"]))}});var LLe=Ze($Le,[["__file","tag.vue"]]);const ey=Bt(LLe),OLe=je({...Wae,size:xa,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:be(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:be(Function),default:()=>!0},placement:{type:be(String),values:sd,default:"bottom-start"},fallbackPlacements:{type:be(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Ja.teleported,tagType:{...zf.type,default:"info"},tagEffect:{...zf.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Wy}),PLe={[Ht]:e=>!0,[Qn]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>lr(e),expandChange:e=>!!e,removeTag:e=>!!e},Rd=new Map;if(wn){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of Rd.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function uG(e,t){let n=[];return Ke(t.arg)?n=t.arg:zs(t.arg)&&n.push(t.arg),function(r,a){const i=t.instance.popperRef,o=r.target,s=a==null?void 0:a.target,l=!t||!t.instance,u=!o||!s,c=e.contains(o)||e.contains(s),f=e===o,d=n.length&&n.some(p=>p==null?void 0:p.contains(o))||n.length&&n.includes(s),h=i&&(i.contains(o)||i.contains(s));l||u||c||f||d||h||t.value(r,a)}}const Wf={beforeMount(e,t){Rd.has(e)||Rd.set(e,[]),Rd.get(e).push({documentHandler:uG(e,t),bindingFn:t.value})},updated(e,t){Rd.has(e)||Rd.set(e,[]);const n=Rd.get(e),r=n.findIndex(i=>i.bindingFn===t.oldValue),a={documentHandler:uG(e,t),bindingFn:t.value};r>=0?n.splice(r,1,a):n.push(a)},unmounted(e){Rd.delete(e)}},FLe="ElCascader",BLe=se({name:FLe}),VLe=se({...BLe,props:OLe,emits:PLe,setup(e,{expose:t,emit:n}){const r=e,a={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:_e})=>{const{modifiersData:We,placement:de}=_e;["right","left","bottom","top"].includes(de)||(We.arrow.x=35)},requires:["arrow"]}]},i=Yh();let o=0,s=0;const l=ze("cascader"),u=ze("input"),{t:c}=_n(),{form:f,formItem:d}=Xi(),{valueOnClear:h}=hA(r),{isComposing:p,handleComposition:v}=C_({afterComposition(_e){var We;const de=(We=_e.target)==null?void 0:We.value;Ne(de)}}),g=Y(null),m=Y(null),y=Y(null),b=Y(null),x=Y(null),_=Y(!1),S=Y(!1),C=Y(!1),k=Y(!1),T=Y(""),I=Y(""),E=Y([]),A=Y([]),N=Y([]),L=F(()=>i.style),R=F(()=>r.disabled||(f==null?void 0:f.disabled)),D=F(()=>r.placeholder||c("el.cascader.placeholder")),P=F(()=>I.value||E.value.length>0||p.value?"":D.value),O=pa(),M=F(()=>O.value==="small"?"small":"default"),W=F(()=>!!r.props.multiple),U=F(()=>!r.filterable||W.value),V=F(()=>W.value?I.value:T.value),H=F(()=>{var _e;return((_e=b.value)==null?void 0:_e.checkedNodes)||[]}),K=F(()=>!r.clearable||R.value||C.value||!S.value?!1:!!H.value.length),j=F(()=>{const{showAllLevels:_e,separator:We}=r,de=H.value;return de.length?W.value?"":de[0].calcText(_e,We):""}),ne=F(()=>(d==null?void 0:d.validateState)||""),Q=F({get(){return Uk(r.modelValue)},set(_e){const We=_e??h.value;n(Ht,We),n(Qn,We),r.validateEvent&&(d==null||d.validate("change").catch(de=>void 0))}}),oe=F(()=>[l.b(),l.m(O.value),l.is("disabled",R.value),i.class]),ae=F(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",_.value)]),me=F(()=>l.is("focus",_.value||k.value)),ve=F(()=>{var _e,We;return(We=(_e=g.value)==null?void 0:_e.popperRef)==null?void 0:We.contentRef}),B=_e=>{var We,de,ft;R.value||(_e=_e??!_.value,_e!==_.value&&(_.value=_e,(de=(We=m.value)==null?void 0:We.input)==null||de.setAttribute("aria-expanded",`${_e}`),_e?(re(),xt((ft=b.value)==null?void 0:ft.scrollToExpandingNode)):r.filterable&&Re(),n("visibleChange",_e)))},re=()=>{xt(()=>{var _e;(_e=g.value)==null||_e.updatePopper()})},ge=()=>{C.value=!1},Ie=_e=>{const{showAllLevels:We,separator:de}=r;return{node:_e,key:_e.uid,text:_e.calcText(We,de),hitState:!1,closable:!R.value&&!_e.isDisabled,isCollapseTag:!1}},Ce=_e=>{var We;const de=_e.node;de.doCheck(!1),(We=b.value)==null||We.calculateCheckedValue(),n("removeTag",de.valueByOption)},he=()=>{if(!W.value)return;const _e=H.value,We=[],de=[];if(_e.forEach(ft=>de.push(Ie(ft))),A.value=de,_e.length){_e.slice(0,r.maxCollapseTags).forEach(cn=>We.push(Ie(cn)));const ft=_e.slice(r.maxCollapseTags),Gt=ft.length;Gt&&(r.collapseTags?We.push({key:-1,text:`+ ${Gt}`,closable:!1,isCollapseTag:!0}):ft.forEach(cn=>We.push(Ie(cn))))}E.value=We},J=()=>{var _e,We;const{filterMethod:de,showAllLevels:ft,separator:Gt}=r,cn=(We=(_e=b.value)==null?void 0:_e.getFlattedNodes(!r.props.checkStrictly))==null?void 0:We.filter(ir=>ir.isDisabled?!1:(ir.calcText(ft,Gt),de(ir,V.value)));W.value&&(E.value.forEach(ir=>{ir.hitState=!1}),A.value.forEach(ir=>{ir.hitState=!1})),C.value=!0,N.value=cn,re()},te=()=>{var _e;let We;C.value&&x.value?We=x.value.$el.querySelector(`.${l.e("suggestion-item")}`):We=(_e=b.value)==null?void 0:_e.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),We&&(We.focus(),!C.value&&We.click())},xe=()=>{var _e,We;const de=(_e=m.value)==null?void 0:_e.input,ft=y.value,Gt=(We=x.value)==null?void 0:We.$el;if(!(!wn||!de)){if(Gt){const cn=Gt.querySelector(`.${l.e("suggestion-list")}`);cn.style.minWidth=`${de.offsetWidth}px`}if(ft){const{offsetHeight:cn}=ft,ir=E.value.length>0?`${Math.max(cn,o)-2}px`:`${o}px`;de.style.height=ir,re()}}},Ee=_e=>{var We;return(We=b.value)==null?void 0:We.getCheckedNodes(_e)},Qe=_e=>{re(),n("expandChange",_e)},Be=_e=>{if(!p.value)switch(_e.code){case lt.enter:case lt.numpadEnter:B();break;case lt.down:B(!0),xt(te),_e.preventDefault();break;case lt.esc:_.value===!0&&(_e.preventDefault(),_e.stopPropagation(),B(!1));break;case lt.tab:B(!1);break}},ce=()=>{var _e;(_e=b.value)==null||_e.clearCheckedNodes(),!_.value&&r.filterable&&Re(),B(!1),n("clear")},Re=()=>{const{value:_e}=j;T.value=_e,I.value=_e},ct=_e=>{var We,de;const{checked:ft}=_e;W.value?(We=b.value)==null||We.handleCheckChange(_e,!ft,!1):(!ft&&((de=b.value)==null||de.handleCheckChange(_e,!0,!1)),B(!1))},It=_e=>{const We=_e.target,{code:de}=_e;switch(de){case lt.up:case lt.down:{const ft=de===lt.up?-1:1;NT(qre(We,ft,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case lt.enter:case lt.numpadEnter:We.click();break}},wt=()=>{const _e=E.value,We=_e[_e.length-1];s=I.value?0:s+1,!(!We||!s||r.collapseTags&&_e.length>1)&&(We.hitState?Ce(We):We.hitState=!0)},Qt=_e=>{const We=_e.target,de=l.e("search-input");We.className===de&&(k.value=!0),n("focus",_e)},_t=_e=>{k.value=!1,n("blur",_e)},ln=Cs(()=>{const{value:_e}=V;if(!_e)return;const We=r.beforeFilter(_e);Ox(We)?We.then(J).catch(()=>{}):We!==!1?J():ge()},r.debounce),Ne=(_e,We)=>{!_.value&&B(!0),!(We!=null&&We.isComposing)&&(_e?ln():ge())},nt=_e=>Number.parseFloat(JIe(u.cssVarName("input-height"),_e).value)-2;return Oe(C,re),Oe([H,R,()=>r.collapseTags],he),Oe(E,()=>{xt(()=>xe())}),Oe(O,async()=>{await xt();const _e=m.value.input;o=nt(_e)||o,xe()}),Oe(j,Re,{immediate:!0}),zt(()=>{const _e=m.value.input,We=nt(_e);o=_e.offsetHeight||We,Mr(_e,xe)}),t({getCheckedNodes:Ee,cascaderPanelRef:b,togglePopperVisible:B,contentRef:ve,presentText:j}),(_e,We)=>(z(),Ae(w(Hi),{ref_key:"tooltipRef",ref:g,visible:_.value,teleported:_e.teleported,"popper-class":[w(l).e("dropdown"),_e.popperClass],"popper-options":a,"fallback-placements":_e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:_e.placement,transition:`${w(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:_e.persistent,onHide:ge},{default:fe(()=>[Vt((z(),q("div",{class:G(w(oe)),style:yt(w(L)),onClick:()=>B(w(U)?void 0:!0),onKeydown:Be,onMouseenter:de=>S.value=!0,onMouseleave:de=>S.value=!1},[ie(w(mo),{ref_key:"input",ref:m,modelValue:T.value,"onUpdate:modelValue":de=>T.value=de,placeholder:w(P),readonly:w(U),disabled:w(R),"validate-event":!1,size:w(O),class:G(w(me)),tabindex:w(W)&&_e.filterable&&!w(R)?-1:void 0,onCompositionstart:w(v),onCompositionupdate:w(v),onCompositionend:w(v),onFocus:Qt,onBlur:_t,onInput:Ne},{suffix:fe(()=>[w(K)?(z(),Ae(w(pt),{key:"clear",class:G([w(u).e("icon"),"icon-circle-close"]),onClick:At(ce,["stop"])},{default:fe(()=>[ie(w(od))]),_:1},8,["class","onClick"])):(z(),Ae(w(pt),{key:"arrow-down",class:G(w(ae)),onClick:At(de=>B(),["stop"])},{default:fe(()=>[ie(w(Xc))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),w(W)?(z(),q("div",{key:0,ref_key:"tagWrapper",ref:y,class:G([w(l).e("tags"),w(l).is("validate",!!w(ne))])},[(z(!0),q(gt,null,un(E.value,de=>(z(),Ae(w(ey),{key:de.key,type:_e.tagType,size:w(M),effect:_e.tagEffect,hit:de.hitState,closable:de.closable,"disable-transitions":"",onClose:ft=>Ce(de)},{default:fe(()=>[de.isCollapseTag===!1?(z(),q("span",{key:0},Ve(de.text),1)):(z(),Ae(w(Hi),{key:1,disabled:_.value||!_e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:fe(()=>[Z("span",null,Ve(de.text),1)]),content:fe(()=>[Z("div",{class:G(w(l).e("collapse-tags"))},[(z(!0),q(gt,null,un(A.value.slice(_e.maxCollapseTags),(ft,Gt)=>(z(),q("div",{key:Gt,class:G(w(l).e("collapse-tag"))},[(z(),Ae(w(ey),{key:ft.key,class:"in-tooltip",type:_e.tagType,size:w(M),effect:_e.tagEffect,hit:ft.hitState,closable:ft.closable,"disable-transitions":"",onClose:cn=>Ce(ft)},{default:fe(()=>[Z("span",null,Ve(ft.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),_e.filterable&&!w(R)?Vt((z(),q("input",{key:0,"onUpdate:modelValue":de=>I.value=de,type:"text",class:G(w(l).e("search-input")),placeholder:w(j)?"":w(D),onInput:de=>Ne(I.value,de),onClick:At(de=>B(!0),["stop"]),onKeydown:rr(wt,["delete"]),onCompositionstart:w(v),onCompositionupdate:w(v),onCompositionend:w(v),onFocus:Qt,onBlur:_t},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[aA,I.value]]):Te("v-if",!0)],2)):Te("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[w(Wf),()=>B(!1),w(ve)]])]),content:fe(()=>[Vt(ie(w(Hae),{ref_key:"cascaderPanelRef",ref:b,modelValue:w(Q),"onUpdate:modelValue":de=>vr(Q)?Q.value=de:null,options:_e.options,props:r.props,border:!1,"render-label":_e.$slots.default,onExpandChange:Qe,onClose:de=>_e.$nextTick(()=>B(!1))},{empty:fe(()=>[Se(_e.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[En,!C.value]]),_e.filterable?Vt((z(),Ae(w(qc),{key:0,ref_key:"suggestionPanel",ref:x,tag:"ul",class:G(w(l).e("suggestion-panel")),"view-class":w(l).e("suggestion-list"),onKeydown:It},{default:fe(()=>[N.value.length?(z(!0),q(gt,{key:0},un(N.value,de=>(z(),q("li",{key:de.uid,class:G([w(l).e("suggestion-item"),w(l).is("checked",de.checked)]),tabindex:-1,onClick:ft=>ct(de)},[Z("span",null,Ve(de.text),1),de.checked?(z(),Ae(w(pt),{key:0},{default:fe(()=>[ie(w(__))]),_:1})):Te("v-if",!0)],10,["onClick"]))),128)):Se(_e.$slots,"empty",{key:1},()=>[Z("li",{class:G(w(l).e("empty-text"))},Ve(w(c)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[En,C.value]]):Te("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var zLe=Ze(VLe,[["__file","cascader.vue"]]);const WLe=Bt(zLe),HLe=je({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),ULe={"update:checked":e=>lr(e),[Qn]:e=>lr(e)},GLe=se({name:"ElCheckTag"}),KLe=se({...GLe,props:HLe,emits:ULe,setup(e,{emit:t}){const n=e,r=ze("check-tag"),a=F(()=>n.disabled),i=F(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",a.value),r.m(n.type||"primary")]),o=()=>{if(a.value)return;const s=!n.checked;t(Qn,s),t("update:checked",s)};return(s,l)=>(z(),q("span",{class:G(w(i)),onClick:o},[Se(s.$slots,"default")],2))}});var jLe=Ze(KLe,[["__file","check-tag.vue"]]);const YLe=Bt(jLe),XLe=je({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:be([Number,Object]),default:()=>zr({})},sm:{type:be([Number,Object]),default:()=>zr({})},md:{type:be([Number,Object]),default:()=>zr({})},lg:{type:be([Number,Object]),default:()=>zr({})},xl:{type:be([Number,Object]),default:()=>zr({})}}),Uae=Symbol("rowContextKey"),qLe=se({name:"ElCol"}),ZLe=se({...qLe,props:XLe,setup(e){const t=e,{gutter:n}=ht(Uae,{gutter:F(()=>0)}),r=ze("col"),a=F(()=>{const o={};return n.value&&(o.paddingLeft=o.paddingRight=`${n.value/2}px`),o}),i=F(()=>{const o=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];Tt(c)&&(u==="span"?o.push(r.b(`${t[u]}`)):c>0&&o.push(r.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Tt(t[u])?o.push(r.b(`${u}-${t[u]}`)):qt(t[u])&&Object.entries(t[u]).forEach(([c,f])=>{o.push(c!=="span"?r.b(`${u}-${c}-${f}`):r.b(`${u}-${f}`))})}),n.value&&o.push(r.is("guttered")),[r.b(),o]});return(o,s)=>(z(),Ae(tn(o.tag),{class:G(w(i)),style:yt(w(a))},{default:fe(()=>[Se(o.$slots,"default")]),_:3},8,["class","style"]))}});var JLe=Ze(ZLe,[["__file","col.vue"]]);const QLe=Bt(JLe),cG=e=>Tt(e)||vt(e)||Ke(e),eOe=je({accordion:Boolean,modelValue:{type:be([Array,String,Number]),default:()=>zr([])}}),tOe={[Ht]:cG,[Qn]:cG},Gae=Symbol("collapseContextKey"),nOe=(e,t)=>{const n=Y(ho(e.modelValue)),r=i=>{n.value=i;const o=e.accordion?n.value[0]:n.value;t(Ht,o),t(Qn,o)},a=i=>{if(e.accordion)r([n.value[0]===i?"":i]);else{const o=[...n.value],s=o.indexOf(i);s>-1?o.splice(s,1):o.push(i),r(o)}};return Oe(()=>e.modelValue,()=>n.value=ho(e.modelValue),{deep:!0}),hn(Gae,{activeNames:n,handleItemClick:a}),{activeNames:n,setActiveNames:r}},rOe=()=>{const e=ze("collapse");return{rootKls:F(()=>e.b())}},aOe=se({name:"ElCollapse"}),iOe=se({...aOe,props:eOe,emits:tOe,setup(e,{expose:t,emit:n}){const r=e,{activeNames:a,setActiveNames:i}=nOe(r,n),{rootKls:o}=rOe();return t({activeNames:a,setActiveNames:i}),(s,l)=>(z(),q("div",{class:G(w(o))},[Se(s.$slots,"default")],2))}});var oOe=Ze(iOe,[["__file","collapse.vue"]]);const sOe=se({name:"ElCollapseTransition"}),lOe=se({...sOe,setup(e){const t=ze("collapse-transition"),n=a=>{a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom},r={beforeEnter(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.style.height&&(a.dataset.elExistsHeight=a.style.height),a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0},enter(a){requestAnimationFrame(()=>{a.dataset.oldOverflow=a.style.overflow,a.dataset.elExistsHeight?a.style.maxHeight=a.dataset.elExistsHeight:a.scrollHeight!==0?a.style.maxHeight=`${a.scrollHeight}px`:a.style.maxHeight=0,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom,a.style.overflow="hidden"})},afterEnter(a){a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow},enterCancelled(a){n(a)},beforeLeave(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.dataset.oldOverflow=a.style.overflow,a.style.maxHeight=`${a.scrollHeight}px`,a.style.overflow="hidden"},leave(a){a.scrollHeight!==0&&(a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0)},afterLeave(a){n(a)},leaveCancelled(a){n(a)}};return(a,i)=>(z(),Ae(hi,rn({name:w(t).b()},Vwe(r)),{default:fe(()=>[Se(a.$slots,"default")]),_:3},16,["name"]))}});var uOe=Ze(lOe,[["__file","collapse-transition.vue"]]);const SA=Bt(uOe),cOe=je({title:{type:String,default:""},name:{type:be([String,Number]),default:void 0},icon:{type:er,default:Yo},disabled:Boolean}),fOe=e=>{const t=ht(Gae),{namespace:n}=ze("collapse"),r=Y(!1),a=Y(!1),i=rB(),o=F(()=>i.current++),s=F(()=>{var d;return(d=e.name)!=null?d:`${n.value}-id-${i.prefix}-${w(o)}`}),l=F(()=>t==null?void 0:t.activeNames.value.includes(w(s)));return{focusing:r,id:o,isActive:l,handleFocus:()=>{setTimeout(()=>{a.value?a.value=!1:r.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(w(s)),r.value=!1,a.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(w(s))}}},dOe=(e,{focusing:t,isActive:n,id:r})=>{const a=ze("collapse"),i=F(()=>[a.b("item"),a.is("active",w(n)),a.is("disabled",e.disabled)]),o=F(()=>[a.be("item","header"),a.is("active",w(n)),{focusing:w(t)&&!e.disabled}]),s=F(()=>[a.be("item","arrow"),a.is("active",w(n))]),l=F(()=>a.be("item","wrap")),u=F(()=>a.be("item","content")),c=F(()=>a.b(`content-${w(r)}`)),f=F(()=>a.b(`head-${w(r)}`));return{arrowKls:s,headKls:o,rootKls:i,itemWrapperKls:l,itemContentKls:u,scopedContentId:c,scopedHeadId:f}},hOe=se({name:"ElCollapseItem"}),pOe=se({...hOe,props:cOe,setup(e,{expose:t}){const n=e,{focusing:r,id:a,isActive:i,handleFocus:o,handleHeaderClick:s,handleEnterClick:l}=fOe(n),{arrowKls:u,headKls:c,rootKls:f,itemWrapperKls:d,itemContentKls:h,scopedContentId:p,scopedHeadId:v}=dOe(n,{focusing:r,isActive:i,id:a});return t({isActive:i}),(g,m)=>(z(),q("div",{class:G(w(f))},[Z("button",{id:w(v),class:G(w(c)),"aria-expanded":w(i),"aria-controls":w(p),"aria-describedby":w(p),tabindex:g.disabled?-1:0,type:"button",onClick:w(s),onKeydown:rr(At(w(l),["stop","prevent"]),["space","enter"]),onFocus:w(o),onBlur:y=>r.value=!1},[Se(g.$slots,"title",{},()=>[Kt(Ve(g.title),1)]),Se(g.$slots,"icon",{isActive:w(i)},()=>[ie(w(pt),{class:G(w(u))},{default:fe(()=>[(z(),Ae(tn(g.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),ie(w(SA),null,{default:fe(()=>[Vt(Z("div",{id:w(p),role:"region",class:G(w(d)),"aria-hidden":!w(i),"aria-labelledby":w(v)},[Z("div",{class:G(w(h))},[Se(g.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[En,w(i)]])]),_:3})],2))}});var Kae=Ze(pOe,[["__file","collapse-item.vue"]]);const vOe=Bt(oOe,{CollapseItem:Kae}),gOe=Ur(Kae),mOe=je({color:{type:be(Object),required:!0},vertical:{type:Boolean,default:!1}});let AR=!1;function Qx(e,t){if(!wn)return;const n=function(i){var o;(o=t.drag)==null||o.call(t,i)},r=function(i){var o;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,AR=!1,(o=t.end)==null||o.call(t,i)},a=function(i){var o;AR||(i.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),AR=!0,(o=t.start)==null||o.call(t,i))};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a,{passive:!1})}const yOe=(e,t)=>{if(!wn||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},fG=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},kO=(e,t)=>Math.abs(fG(e)-fG(t)),xB=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},bOe=e=>{const t=jt(),{t:n}=_n(),r=dr(),a=dr(),i=F(()=>e.color.get("alpha")),o=F(()=>n("el.colorpicker.alphaLabel"));function s(f){var d;f.target!==r.value&&l(f),(d=r.value)==null||d.focus()}function l(f){if(!a.value||!r.value)return;const h=t.vnode.el.getBoundingClientRect(),{clientX:p,clientY:v}=xB(f);if(e.vertical){let g=v-h.top;g=Math.max(r.value.offsetHeight/2,g),g=Math.min(g,h.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((g-r.value.offsetHeight/2)/(h.height-r.value.offsetHeight)*100))}else{let g=p-h.left;g=Math.max(r.value.offsetWidth/2,g),g=Math.min(g,h.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((g-r.value.offsetWidth/2)/(h.width-r.value.offsetWidth)*100))}}function u(f){const{code:d,shiftKey:h}=f,p=h?10:1;switch(d){case lt.left:case lt.down:f.preventDefault(),f.stopPropagation(),c(-p);break;case lt.right:case lt.up:f.preventDefault(),f.stopPropagation(),c(p);break}}function c(f){let d=i.value+f;d=d<0?0:d>100?100:d,e.color.set("alpha",d)}return{thumb:r,bar:a,alpha:i,alphaLabel:o,handleDrag:l,handleClick:s,handleKeydown:u}},xOe=(e,{bar:t,thumb:n,handleDrag:r})=>{const a=jt(),i=ze("color-alpha-slider"),o=Y(0),s=Y(0),l=Y();function u(){if(!n.value||e.vertical)return 0;const y=a.vnode.el,b=e.color.get("alpha");return y?Math.round(b*(y.offsetWidth-n.value.offsetWidth/2)/100):0}function c(){if(!n.value)return 0;const y=a.vnode.el;if(!e.vertical)return 0;const b=e.color.get("alpha");return y?Math.round(b*(y.offsetHeight-n.value.offsetHeight/2)/100):0}function f(){if(e.color&&e.color.value){const{r:y,g:b,b:x}=e.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${b}, ${x}, 0) 0%, rgba(${y}, ${b}, ${x}, 1) 100%)`}return""}function d(){o.value=u(),s.value=c(),l.value=f()}zt(()=>{if(!t.value||!n.value)return;const y={drag:b=>{r(b)},end:b=>{r(b)}};Qx(t.value,y),Qx(n.value,y),d()}),Oe(()=>e.color.get("alpha"),()=>d()),Oe(()=>e.color.value,()=>d());const h=F(()=>[i.b(),i.is("vertical",e.vertical)]),p=F(()=>i.e("bar")),v=F(()=>i.e("thumb")),g=F(()=>({background:l.value})),m=F(()=>({left:ta(o.value),top:ta(s.value)}));return{rootKls:h,barKls:p,barStyle:g,thumbKls:v,thumbStyle:m,update:d}},wOe="ElColorAlphaSlider",_Oe=se({name:wOe}),SOe=se({..._Oe,props:mOe,setup(e,{expose:t}){const n=e,{alpha:r,alphaLabel:a,bar:i,thumb:o,handleDrag:s,handleClick:l,handleKeydown:u}=bOe(n),{rootKls:c,barKls:f,barStyle:d,thumbKls:h,thumbStyle:p,update:v}=xOe(n,{bar:i,thumb:o,handleDrag:s});return t({update:v,bar:i,thumb:o}),(g,m)=>(z(),q("div",{class:G(w(c))},[Z("div",{ref_key:"bar",ref:i,class:G(w(f)),style:yt(w(d)),onClick:w(l)},null,14,["onClick"]),Z("div",{ref_key:"thumb",ref:o,class:G(w(h)),style:yt(w(p)),"aria-label":w(a),"aria-valuenow":w(r),"aria-orientation":g.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:w(u)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var COe=Ze(SOe,[["__file","alpha-slider.vue"]]);const TOe=se({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=ze("color-hue-slider"),n=jt(),r=Y(),a=Y(),i=Y(0),o=Y(0),s=F(()=>e.color.get("hue"));Oe(()=>s.value,()=>{d()});function l(h){h.target!==r.value&&u(h)}function u(h){if(!a.value||!r.value)return;const v=n.vnode.el.getBoundingClientRect(),{clientX:g,clientY:m}=xB(h);let y;if(e.vertical){let b=m-v.top;b=Math.min(b,v.height-r.value.offsetHeight/2),b=Math.max(r.value.offsetHeight/2,b),y=Math.round((b-r.value.offsetHeight/2)/(v.height-r.value.offsetHeight)*360)}else{let b=g-v.left;b=Math.min(b,v.width-r.value.offsetWidth/2),b=Math.max(r.value.offsetWidth/2,b),y=Math.round((b-r.value.offsetWidth/2)/(v.width-r.value.offsetWidth)*360)}e.color.set("hue",y)}function c(){if(!r.value)return 0;const h=n.vnode.el;if(e.vertical)return 0;const p=e.color.get("hue");return h?Math.round(p*(h.offsetWidth-r.value.offsetWidth/2)/360):0}function f(){if(!r.value)return 0;const h=n.vnode.el;if(!e.vertical)return 0;const p=e.color.get("hue");return h?Math.round(p*(h.offsetHeight-r.value.offsetHeight/2)/360):0}function d(){i.value=c(),o.value=f()}return zt(()=>{if(!a.value||!r.value)return;const h={drag:p=>{u(p)},end:p=>{u(p)}};Qx(a.value,h),Qx(r.value,h),d()}),{bar:a,thumb:r,thumbLeft:i,thumbTop:o,hueValue:s,handleClick:l,update:d,ns:t}}});function kOe(e,t,n,r,a,i){return z(),q("div",{class:G([e.ns.b(),e.ns.is("vertical",e.vertical)])},[Z("div",{ref:"bar",class:G(e.ns.e("bar")),onClick:e.handleClick},null,10,["onClick"]),Z("div",{ref:"thumb",class:G(e.ns.e("thumb")),style:yt({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var IOe=Ze(TOe,[["render",kOe],["__file","hue-slider.vue"]]);const EOe=je({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:xa,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Ja.teleported,predefine:{type:be(Array)},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),AOe={[Ht]:e=>vt(e)||Ua(e),[Qn]:e=>vt(e)||Ua(e),activeChange:e=>vt(e)||Ua(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},jae=Symbol("colorPickerContextKey"),dG=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},DOe=function(e){return vt(e)&&e.includes(".")&&Number.parseFloat(e)===1},NOe=function(e){return vt(e)&&e.includes("%")},Tm=function(e,t){DOe(e)&&(e="100%");const n=NOe(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},hG={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},LT=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return`${hG[t]||t}${hG[n]||n}`},pG=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":`#${LT(e)}${LT(t)}${LT(n)}`},DR={A:10,B:11,C:12,D:13,E:14,F:15},Sp=function(e){return e.length===2?(DR[e[0].toUpperCase()]||+e[0])*16+(DR[e[1].toUpperCase()]||+e[1]):DR[e[1].toUpperCase()]||+e[1]},ROe=function(e,t,n){t=t/100,n=n/100;let r=t;const a=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,r*=a<=1?a:2-a;const i=(n+t)/2,o=n===0?2*r/(a+r):2*t/(n+t);return{h:e,s:o*100,v:i*100}},vG=(e,t,n)=>{e=Tm(e,255),t=Tm(t,255),n=Tm(n,255);const r=Math.max(e,t,n),a=Math.min(e,t,n);let i;const o=r,s=r-a,l=r===0?0:s/r;if(r===a)i=0;else{switch(r){case e:{i=(t-n)/s+(t<n?6:0);break}case t:{i=(n-e)/s+2;break}case n:{i=(e-t)/s+4;break}}i/=6}return{h:i*360,s:l*100,v:o*100}},F1=function(e,t,n){e=Tm(e,360)*6,t=Tm(t,100),n=Tm(n,100);const r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),l=r%6,u=[n,o,i,i,s,n][l],c=[s,n,n,o,i,i][l],f=[i,i,s,n,n,o][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(f*255)}};class ax{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in t)Dn(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)Dn(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return F1(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,a,i)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,i)),this.doOnChange()};if(t.includes("hsl")){const r=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:a,s:i,v:o}=ROe(r[0],r[1],r[2]);n(a,i,o)}}else if(t.includes("hsv")){const r=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(t.includes("rgb")){const r=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:a,s:i,v:o}=vG(r[0],r[1],r[2]);n(a,i,o)}}else if(t.includes("#")){const r=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let a,i,o;r.length===3?(a=Sp(r[0]+r[0]),i=Sp(r[1]+r[1]),o=Sp(r[2]+r[2])):(r.length===6||r.length===8)&&(a=Sp(r.slice(0,2)),i=Sp(r.slice(2,4)),o=Sp(r.slice(4,6))),r.length===8?this._alpha=Sp(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:s,s:l,v:u}=vG(a,i,o);n(s,l,u)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:a,format:i}=this;if(this.enableAlpha)switch(i){case"hsl":{const o=dG(t,n/100,r/100);this.value=`hsla(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${pG(F1(t,n,r))}${LT(a*255/100)}`;break}default:{const{r:o,g:s,b:l}=F1(t,n,r);this.value=`rgba(${o}, ${s}, ${l}, ${this.get("alpha")/100})`}}else switch(i){case"hsl":{const o=dG(t,n/100,r/100);this.value=`hsl(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:o,g:s,b:l}=F1(t,n,r);this.value=`rgb(${o}, ${s}, ${l})`;break}default:this.value=pG(F1(t,n,r))}}}const MOe=se({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(e){const t=ze("color-predefine"),{currentColor:n}=ht(jae),r=Y(i(e.colors,e.color));Oe(()=>n.value,o=>{const s=new ax;s.fromString(o),r.value.forEach(l=>{l.selected=s.compare(l)})}),Pi(()=>{r.value=i(e.colors,e.color)});function a(o){e.color.fromString(e.colors[o])}function i(o,s){return o.map(l=>{const u=new ax;return u.enableAlpha=e.enableAlpha,u.format="rgba",u.fromString(l),u.selected=u.value===s.value,u})}return{rgbaColors:r,handleSelect:a,ns:t}}});function $Oe(e,t,n,r,a,i){return z(),q("div",{class:G(e.ns.b())},[Z("div",{class:G(e.ns.e("colors"))},[(z(!0),q(gt,null,un(e.rgbaColors,(o,s)=>(z(),q("div",{key:e.colors[s],class:G([e.ns.e("color-selector"),e.ns.is("alpha",o._alpha<100),{selected:o.selected}]),onClick:l=>e.handleSelect(s)},[Z("div",{style:yt({backgroundColor:o.value})},null,4)],10,["onClick"]))),128))],2)],2)}var LOe=Ze(MOe,[["render",$Oe],["__file","predefine.vue"]]);const OOe=se({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=ze("color-svpanel"),n=jt(),r=Y(0),a=Y(0),i=Y("hsl(0, 100%, 50%)"),o=F(()=>{const u=e.color.get("hue"),c=e.color.get("value");return{hue:u,value:c}});function s(){const u=e.color.get("saturation"),c=e.color.get("value"),f=n.vnode.el,{clientWidth:d,clientHeight:h}=f;a.value=u*d/100,r.value=(100-c)*h/100,i.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function l(u){const f=n.vnode.el.getBoundingClientRect(),{clientX:d,clientY:h}=xB(u);let p=d-f.left,v=h-f.top;p=Math.max(0,p),p=Math.min(p,f.width),v=Math.max(0,v),v=Math.min(v,f.height),a.value=p,r.value=v,e.color.set({saturation:p/f.width*100,value:100-v/f.height*100})}return Oe(()=>o.value,()=>{s()}),zt(()=>{Qx(n.vnode.el,{drag:u=>{l(u)},end:u=>{l(u)}}),s()}),{cursorTop:r,cursorLeft:a,background:i,colorValue:o,handleDrag:l,update:s,ns:t}}});function POe(e,t,n,r,a,i){return z(),q("div",{class:G(e.ns.b()),style:yt({backgroundColor:e.background})},[Z("div",{class:G(e.ns.e("white"))},null,2),Z("div",{class:G(e.ns.e("black"))},null,2),Z("div",{class:G(e.ns.e("cursor")),style:yt({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},[Z("div")],6)],6)}var FOe=Ze(OOe,[["render",POe],["__file","sv-panel.vue"]]);const BOe=se({name:"ElColorPicker"}),VOe=se({...BOe,props:EOe,emits:AOe,setup(e,{expose:t,emit:n}){const r=e,{t:a}=_n(),i=ze("color"),{formItem:o}=Xi(),s=pa(),l=qi(),{inputId:u,isLabeledByFormItem:c}=Vl(r,{formItemContext:o}),f=Y(),d=Y(),h=Y(),p=Y(),v=Y(),g=Y(),{isFocused:m,handleFocus:y,handleBlur:b}=qh(v,{beforeFocus(){return l.value},beforeBlur(ae){var me;return(me=p.value)==null?void 0:me.isFocusInsideContent(ae)},afterBlur(){R(!1),M()}});let x=!0;const _=Ln(new ax({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),S=Y(!1),C=Y(!1),k=Y(""),T=F(()=>!r.modelValue&&!C.value?"transparent":L(_,r.showAlpha)),I=F(()=>!r.modelValue&&!C.value?"":_.value),E=F(()=>c.value?void 0:r.ariaLabel||a("el.colorpicker.defaultLabel")),A=F(()=>c.value?o==null?void 0:o.labelId:void 0),N=F(()=>[i.b("picker"),i.is("disabled",l.value),i.bm("picker",s.value),i.is("focused",m.value)]);function L(ae,me){if(!(ae instanceof ax))throw new TypeError("color should be instance of _color Class");const{r:ve,g:B,b:re}=ae.toRgb();return me?`rgba(${ve}, ${B}, ${re}, ${ae.get("alpha")/100})`:`rgb(${ve}, ${B}, ${re})`}function R(ae){S.value=ae}const D=Cs(R,100,{leading:!0});function P(){l.value||R(!0)}function O(){D(!1),M()}function M(){xt(()=>{r.modelValue?_.fromString(r.modelValue):(_.value="",xt(()=>{C.value=!1}))})}function W(){l.value||D(!S.value)}function U(){_.fromString(k.value)}function V(){const ae=_.value;n(Ht,ae),n("change",ae),r.validateEvent&&(o==null||o.validate("change").catch(me=>void 0)),D(!1),xt(()=>{const me=new ax({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});_.compare(me)||M()})}function H(){D(!1),n(Ht,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(o==null||o.validate("change").catch(ae=>void 0)),M()}function K(){S.value&&(O(),m.value&&Q())}function j(ae){ae.preventDefault(),ae.stopPropagation(),R(!1),M()}function ne(ae){switch(ae.code){case lt.enter:case lt.numpadEnter:case lt.space:ae.preventDefault(),ae.stopPropagation(),P(),g.value.focus();break;case lt.esc:j(ae);break}}function Q(){v.value.focus()}function oe(){v.value.blur()}return zt(()=>{r.modelValue&&(k.value=I.value)}),Oe(()=>r.modelValue,ae=>{ae?ae&&ae!==_.value&&(x=!1,_.fromString(ae)):C.value=!1}),Oe(()=>[r.colorFormat,r.showAlpha],()=>{_.enableAlpha=r.showAlpha,_.format=r.colorFormat||_.format,_.doOnChange(),n(Ht,_.value)}),Oe(()=>I.value,ae=>{k.value=ae,x&&n("activeChange",ae),x=!0}),Oe(()=>_.value,()=>{!r.modelValue&&!C.value&&(C.value=!0)}),Oe(()=>S.value,()=>{xt(()=>{var ae,me,ve;(ae=f.value)==null||ae.update(),(me=d.value)==null||me.update(),(ve=h.value)==null||ve.update()})}),hn(jae,{currentColor:I}),t({color:_,show:P,hide:O,focus:Q,blur:oe}),(ae,me)=>(z(),Ae(w(Hi),{ref_key:"popper",ref:p,visible:S.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[w(i).be("picker","panel"),w(i).b("dropdown"),ae.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:ae.teleported,transition:`${w(i).namespace.value}-zoom-in-top`,persistent:"",onHide:ve=>R(!1)},{content:fe(()=>[Vt((z(),q("div",{onKeydown:rr(j,["esc"])},[Z("div",{class:G(w(i).be("dropdown","main-wrapper"))},[ie(IOe,{ref_key:"hue",ref:f,class:"hue-slider",color:w(_),vertical:""},null,8,["color"]),ie(FOe,{ref_key:"sv",ref:d,color:w(_)},null,8,["color"])],2),ae.showAlpha?(z(),Ae(COe,{key:0,ref_key:"alpha",ref:h,color:w(_)},null,8,["color"])):Te("v-if",!0),ae.predefine?(z(),Ae(LOe,{key:1,ref:"predefine","enable-alpha":ae.showAlpha,color:w(_),colors:ae.predefine},null,8,["enable-alpha","color","colors"])):Te("v-if",!0),Z("div",{class:G(w(i).be("dropdown","btns"))},[Z("span",{class:G(w(i).be("dropdown","value"))},[ie(w(mo),{ref_key:"inputRef",ref:g,modelValue:k.value,"onUpdate:modelValue":ve=>k.value=ve,"validate-event":!1,size:"small",onKeyup:rr(U,["enter"]),onBlur:U},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),ie(w(si),{class:G(w(i).be("dropdown","link-btn")),text:"",size:"small",onClick:H},{default:fe(()=>[Kt(Ve(w(a)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ie(w(si),{plain:"",size:"small",class:G(w(i).be("dropdown","btn")),onClick:V},{default:fe(()=>[Kt(Ve(w(a)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[w(Wf),K]])]),default:fe(()=>[Z("div",rn({id:w(u),ref_key:"triggerRef",ref:v},ae.$attrs,{class:w(N),role:"button","aria-label":w(E),"aria-labelledby":w(A),"aria-description":w(a)("el.colorpicker.description",{color:ae.modelValue||""}),"aria-disabled":w(l),tabindex:w(l)?-1:ae.tabindex,onKeydown:ne,onFocus:w(y),onBlur:w(b)}),[w(l)?(z(),q("div",{key:0,class:G(w(i).be("picker","mask"))},null,2)):Te("v-if",!0),Z("div",{class:G(w(i).be("picker","trigger")),onClick:W},[Z("span",{class:G([w(i).be("picker","color"),w(i).is("alpha",ae.showAlpha)])},[Z("span",{class:G(w(i).be("picker","color-inner")),style:yt({backgroundColor:w(T)})},[Vt(ie(w(pt),{class:G([w(i).be("picker","icon"),w(i).is("icon-arrow-down")])},{default:fe(()=>[ie(w(Xc))]),_:1},8,["class"]),[[En,ae.modelValue||C.value]]),Vt(ie(w(pt),{class:G([w(i).be("picker","empty"),w(i).is("icon-close")])},{default:fe(()=>[ie(w(Du))]),_:1},8,["class"]),[[En,!ae.modelValue&&!C.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var zOe=Ze(VOe,[["__file","color-picker.vue"]]);const WOe=Bt(zOe),HOe=je({a11y:{type:Boolean,default:!0},locale:{type:be(Object)},size:xa,button:{type:be(Object)},experimentalFeatures:{type:be(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:be(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Wy}),iu={},UOe=se({name:"ElConfigProvider",props:HOe,setup(e,{slots:t}){Oe(()=>e.message,r=>{Object.assign(iu,r??{})},{immediate:!0,deep:!0});const n=Y4(e);return()=>Se(t,"default",{config:n==null?void 0:n.value})}}),GOe=Bt(UOe),KOe=se({name:"ElContainer"}),jOe=se({...KOe,props:{direction:{type:String}},setup(e){const t=e,n=Sa(),r=ze("container"),a=F(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(o=>{const s=o.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(i,o)=>(z(),q("section",{class:G([w(r).b(),w(r).is("vertical",w(a))])},[Se(i.$slots,"default")],2))}});var YOe=Ze(jOe,[["__file","container.vue"]]);const XOe=se({name:"ElAside"}),qOe=se({...XOe,props:{width:{type:String,default:null}},setup(e){const t=e,n=ze("aside"),r=F(()=>t.width?n.cssVarBlock({width:t.width}):{});return(a,i)=>(z(),q("aside",{class:G(w(n).b()),style:yt(w(r))},[Se(a.$slots,"default")],6))}});var Yae=Ze(qOe,[["__file","aside.vue"]]);const ZOe=se({name:"ElFooter"}),JOe=se({...ZOe,props:{height:{type:String,default:null}},setup(e){const t=e,n=ze("footer"),r=F(()=>t.height?n.cssVarBlock({height:t.height}):{});return(a,i)=>(z(),q("footer",{class:G(w(n).b()),style:yt(w(r))},[Se(a.$slots,"default")],6))}});var Xae=Ze(JOe,[["__file","footer.vue"]]);const QOe=se({name:"ElHeader"}),ePe=se({...QOe,props:{height:{type:String,default:null}},setup(e){const t=e,n=ze("header"),r=F(()=>t.height?n.cssVarBlock({height:t.height}):{});return(a,i)=>(z(),q("header",{class:G(w(n).b()),style:yt(w(r))},[Se(a.$slots,"default")],6))}});var qae=Ze(ePe,[["__file","header.vue"]]);const tPe=se({name:"ElMain"}),nPe=se({...tPe,setup(e){const t=ze("main");return(n,r)=>(z(),q("main",{class:G(w(t).b())},[Se(n.$slots,"default")],2))}});var Zae=Ze(nPe,[["__file","main.vue"]]);const rPe=Bt(YOe,{Aside:Yae,Footer:Xae,Header:qae,Main:Zae}),aPe=Ur(Yae),iPe=Ur(Xae),oPe=Ur(qae),sPe=Ur(Zae);var OT={exports:{}},lPe=OT.exports,gG;function uPe(){return gG||(gG=1,function(e,t){(function(n,r){e.exports=r()})(lPe,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,i=/\d\d/,o=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,l={},u=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(m){this[g]=+m}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var y=m.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(g)}],d=function(g){var m=l[g];return m&&(m.indexOf?m:m.s.concat(m.f))},h=function(g,m){var y,b=l.meridiem;if(b){for(var x=1;x<=24;x+=1)if(g.indexOf(b(x,0,m))>-1){y=x>12;break}}else y=g===(m?"pm":"PM");return y},p={A:[s,function(g){this.afternoon=h(g,!1)}],a:[s,function(g){this.afternoon=h(g,!0)}],Q:[a,function(g){this.month=3*(g-1)+1}],S:[a,function(g){this.milliseconds=100*+g}],SS:[i,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[i,c("day")],Do:[s,function(g){var m=l.ordinal,y=g.match(/\d+/);if(this.day=y[0],m)for(var b=1;b<=31;b+=1)m(b).replace(/\[|\]/g,"")===g&&(this.day=b)}],w:[o,c("week")],ww:[i,c("week")],M:[o,c("month")],MM:[i,c("month")],MMM:[s,function(g){var m=d("months"),y=(d("monthsShort")||m.map(function(b){return b.slice(0,3)})).indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(g){var m=d("months").indexOf(g)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,c("year")],YY:[i,function(g){this.year=u(g)}],YYYY:[/\d{4}/,c("year")],Z:f,ZZ:f};function v(g){var m,y;m=g,y=l&&l.formats;for(var b=(g=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,E,A){var N=A&&A.toUpperCase();return E||y[A]||n[A]||y[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(L,R,D){return R||D.slice(1)})})).match(r),x=b.length,_=0;_<x;_+=1){var S=b[_],C=p[S],k=C&&C[0],T=C&&C[1];b[_]=T?{regex:k,parser:T}:S.replace(/^\[|\]$/g,"")}return function(I){for(var E={},A=0,N=0;A<x;A+=1){var L=b[A];if(typeof L=="string")N+=L.length;else{var R=L.regex,D=L.parser,P=I.slice(N),O=R.exec(P)[0];D.call(E,O),I=I.replace(O,"")}}return function(M){var W=M.afternoon;if(W!==void 0){var U=M.hours;W?U<12&&(M.hours+=12):U===12&&(M.hours=0),delete M.afternoon}}(E),E}}return function(g,m,y){y.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(u=g.parseTwoDigitYear);var b=m.prototype,x=b.parse;b.parse=function(_){var S=_.date,C=_.utc,k=_.args;this.$u=C;var T=k[1];if(typeof T=="string"){var I=k[2]===!0,E=k[3]===!0,A=I||E,N=k[2];E&&(N=k[2]),l=this.$locale(),!I&&N&&(l=y.Ls[N]),this.$d=function(P,O,M,W){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*P);var U=v(O)(P),V=U.year,H=U.month,K=U.day,j=U.hours,ne=U.minutes,Q=U.seconds,oe=U.milliseconds,ae=U.zone,me=U.week,ve=new Date,B=K||(V||H?1:ve.getDate()),re=V||ve.getFullYear(),ge=0;V&&!H||(ge=H>0?H-1:ve.getMonth());var Ie,Ce=j||0,he=ne||0,J=Q||0,te=oe||0;return ae?new Date(Date.UTC(re,ge,B,Ce,he,J,te+60*ae.offset*1e3)):M?new Date(Date.UTC(re,ge,B,Ce,he,J,te)):(Ie=new Date(re,ge,B,Ce,he,J,te),me&&(Ie=W(Ie).week(me).toDate()),Ie)}catch{return new Date("")}}(S,T,C,y),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),A&&S!=this.format(T)&&(this.$d=new Date("")),l={}}else if(T instanceof Array)for(var L=T.length,R=1;R<=L;R+=1){k[1]=T[R-1];var D=y.apply(this,k);if(D.isValid()){this.$d=D.$d,this.$L=D.$L,this.init();break}R===L&&(this.$d=new Date(""))}else x.call(this,_)}}})}(OT)),OT.exports}var cPe=uPe();const wB=Zc(cPe);var PT={exports:{}},fPe=PT.exports,mG;function dPe(){return mG||(mG=1,function(e,t){(function(n,r){e.exports=r()})(fPe,function(){return function(n,r){var a=r.prototype,i=a.format;a.format=function(o){var s=this,l=this.$locale();if(!this.isValid())return i.bind(this)(o);var u=this.$utils(),c=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return u.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}});return i.bind(this)(c)}}})}(PT)),PT.exports}var hPe=dPe();const pPe=Zc(hPe);var FT={exports:{}},vPe=FT.exports,yG;function gPe(){return yG||(yG=1,function(e,t){(function(n,r){e.exports=r()})(vPe,function(){var n="week",r="year";return function(a,i,o){var s=i.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(r).add(1,r).date(u),f=o(this).endOf(n);if(c.isBefore(f))return 1}var d=o(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(FT)),FT.exports}var mPe=gPe();const yPe=Zc(mPe);var BT={exports:{}},bPe=BT.exports,bG;function xPe(){return bG||(bG=1,function(e,t){(function(n,r){e.exports=r()})(bPe,function(){return function(n,r){r.prototype.weekYear=function(){var a=this.month(),i=this.week(),o=this.year();return i===1&&a===11?o+1:a===0&&i>=52?o-1:o}}})}(BT)),BT.exports}var wPe=xPe();const _Pe=Zc(wPe);var VT={exports:{}},SPe=VT.exports,xG;function CPe(){return xG||(xG=1,function(e,t){(function(n,r){e.exports=r()})(SPe,function(){return function(n,r,a){r.prototype.dayOfYear=function(i){var o=Math.round((a(this).startOf("day")-a(this).startOf("year"))/864e5)+1;return i==null?o:this.add(i-o,"day")}}})}(VT)),VT.exports}var TPe=CPe();const kPe=Zc(TPe);var zT={exports:{}},IPe=zT.exports,wG;function EPe(){return wG||(wG=1,function(e,t){(function(n,r){e.exports=r()})(IPe,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})}(zT)),zT.exports}var APe=EPe();const DPe=Zc(APe);var WT={exports:{}},NPe=WT.exports,_G;function RPe(){return _G||(_G=1,function(e,t){(function(n,r){e.exports=r()})(NPe,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})}(WT)),WT.exports}var MPe=RPe();const $Pe=Zc(MPe),SG=["hours","minutes","seconds"],IO="HH:mm:ss",q0="YYYY-MM-DD",LPe={date:q0,dates:q0,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${q0} ${IO}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:q0,datetimerange:`${q0} ${IO}`},Jae=je({disabledHours:{type:be(Function)},disabledMinutes:{type:be(Function)},disabledSeconds:{type:be(Function)}}),Qae=je({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),_B=je({id:{type:be([Array,String])},name:{type:be([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:be([String,Object]),default:od},editable:{type:Boolean,default:!0},prefixIcon:{type:be([String,Object]),default:""},size:xa,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:be(Object),default:()=>({})},modelValue:{type:be([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:be([Date,Array])},defaultTime:{type:be([Date,Array])},isRange:Boolean,...Jae,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:be([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:be(String),values:sd,default:"bottom"},fallbackPlacements:{type:be(Array),default:["bottom","top","right","left"]},...Wy,...Ei(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),OPe=je({id:{type:be(Array)},name:{type:be(Array)},modelValue:{type:be([Array,String])},startPlaceholder:String,endPlaceholder:String}),PPe=se({name:"PickerRangeTrigger",inheritAttrs:!1}),FPe=se({...PPe,props:OPe,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=S_(),a=ze("date"),i=ze("range"),o=Y(),s=Y(),{wrapperRef:l,isFocused:u}=qh(o),c=x=>{n("click",x)},f=x=>{n("mouseenter",x)},d=x=>{n("mouseleave",x)},h=x=>{n("mouseenter",x)},p=x=>{n("startInput",x)},v=x=>{n("endInput",x)},g=x=>{n("startChange",x)},m=x=>{n("endChange",x)};return t({focus:()=>{var x;(x=o.value)==null||x.focus()},blur:()=>{var x,_;(x=o.value)==null||x.blur(),(_=s.value)==null||_.blur()}}),(x,_)=>(z(),q("div",{ref_key:"wrapperRef",ref:l,class:G([w(a).is("active",w(u)),x.$attrs.class]),style:yt(x.$attrs.style),onClick:c,onMouseenter:f,onMouseleave:d,onTouchstartPassive:h},[Se(x.$slots,"prefix"),Z("input",rn(w(r),{id:x.id&&x.id[0],ref_key:"inputRef",ref:o,name:x.name&&x.name[0],placeholder:x.startPlaceholder,value:x.modelValue&&x.modelValue[0],class:w(i).b("input"),onInput:p,onChange:g}),null,16,["id","name","placeholder","value"]),Se(x.$slots,"range-separator"),Z("input",rn(w(r),{id:x.id&&x.id[1],ref_key:"endInputRef",ref:s,name:x.name&&x.name[1],placeholder:x.endPlaceholder,value:x.modelValue&&x.modelValue[1],class:w(i).b("input"),onInput:v,onChange:m}),null,16,["id","name","placeholder","value"]),Se(x.$slots,"suffix")],38))}});var BPe=Ze(FPe,[["__file","picker-range-trigger.vue"]]);const VPe=se({name:"Picker"}),zPe=se({...VPe,props:_B,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,a=Yh(),{lang:i}=_n(),o=ze("date"),s=ze("input"),l=ze("range"),{form:u,formItem:c}=Xi(),f=ht("ElPopperOptions",{}),{valueOnClear:d}=hA(r,null),h=Y(),p=Y(),v=Y(!1),g=Y(!1),m=Y(null);let y=!1;const{isFocused:b,handleFocus:x,handleBlur:_}=qh(p,{beforeFocus(){return r.readonly||M.value},afterFocus(){v.value=!0},beforeBlur(de){var ft;return!y&&((ft=h.value)==null?void 0:ft.isFocusInsideContent(de))},afterBlur(){xe(),v.value=!1,y=!1,r.validateEvent&&(c==null||c.validate("blur").catch(de=>void 0))}}),S=F(()=>[o.b("editor"),o.bm("editor",r.type),s.e("wrapper"),o.is("disabled",M.value),o.is("active",v.value),l.b("editor"),Ce?l.bm("editor",Ce.value):"",a.class]),C=F(()=>[s.e("icon"),l.e("close-icon"),oe.value?"":l.e("close-icon--hidden")]);Oe(v,de=>{de?xt(()=>{de&&(m.value=r.modelValue)}):(te.value=null,xt(()=>{k(r.modelValue)}))});const k=(de,ft)=>{(ft||!eG(de,m.value))&&(n("change",de),r.validateEvent&&(c==null||c.validate("change").catch(Gt=>void 0)))},T=de=>{if(!eG(r.modelValue,de)){let ft;Ke(de)?ft=de.map(Gt=>nG(Gt,r.valueFormat,i.value)):de&&(ft=nG(de,r.valueFormat,i.value)),n("update:modelValue",de&&ft,i.value)}},I=de=>{n("keydown",de)},E=F(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),A=(de,ft,Gt)=>{const cn=E.value;cn.length&&(!Gt||Gt==="min"?(cn[0].setSelectionRange(de,ft),cn[0].focus()):Gt==="max"&&(cn[1].setSelectionRange(de,ft),cn[1].focus()))},N=(de="",ft=!1)=>{v.value=ft;let Gt;Ke(de)?Gt=de.map(cn=>cn.toDate()):Gt=de&&de.toDate(),te.value=null,T(Gt)},L=()=>{g.value=!0},R=()=>{n("visible-change",!0)},D=()=>{g.value=!1,v.value=!1,n("visible-change",!1)},P=()=>{v.value=!0},O=()=>{v.value=!1},M=F(()=>r.disabled||(u==null?void 0:u.disabled)),W=F(()=>{let de;if(me.value?_t.value.getDefaultValue&&(de=_t.value.getDefaultValue()):Ke(r.modelValue)?de=r.modelValue.map(ft=>tG(ft,r.valueFormat,i.value)):de=tG(r.modelValue,r.valueFormat,i.value),_t.value.getRangeAvailableTime){const ft=_t.value.getRangeAvailableTime(de);Ci(ft,de)||(de=ft,me.value||T(zC(de)))}return Ke(de)&&de.some(ft=>!ft)&&(de=[]),de}),U=F(()=>{if(!_t.value.panelReady)return"";const de=Qe(W.value);return Ke(te.value)?[te.value[0]||de&&de[0]||"",te.value[1]||de&&de[1]||""]:te.value!==null?te.value:!H.value&&me.value||!v.value&&me.value?"":de?K.value||j.value||ne.value?de.join(", "):de:""}),V=F(()=>r.type.includes("time")),H=F(()=>r.type.startsWith("time")),K=F(()=>r.type==="dates"),j=F(()=>r.type==="months"),ne=F(()=>r.type==="years"),Q=F(()=>r.prefixIcon||(V.value?Pre:UEe)),oe=Y(!1),ae=de=>{r.readonly||M.value||(oe.value&&(de.stopPropagation(),_t.value.handleClear?_t.value.handleClear():T(d.value),k(d.value,!0),oe.value=!1,D()),n("clear"))},me=F(()=>{const{modelValue:de}=r;return!de||Ke(de)&&!de.filter(Boolean).length}),ve=async de=>{var ft;r.readonly||M.value||(((ft=de.target)==null?void 0:ft.tagName)!=="INPUT"||b.value)&&(v.value=!0)},B=()=>{r.readonly||M.value||!me.value&&r.clearable&&(oe.value=!0)},re=()=>{oe.value=!1},ge=de=>{var ft;r.readonly||M.value||(((ft=de.touches[0].target)==null?void 0:ft.tagName)!=="INPUT"||b.value)&&(v.value=!0)},Ie=F(()=>r.type.includes("range")),Ce=pa(),he=F(()=>{var de,ft;return(ft=(de=w(h))==null?void 0:de.popperRef)==null?void 0:ft.contentRef}),J=j4(p,de=>{const ft=w(he),Gt=Ko(p);ft&&(de.target===ft||de.composedPath().includes(ft))||de.target===Gt||Gt&&de.composedPath().includes(Gt)||(v.value=!1)});ar(()=>{J==null||J()});const te=Y(null),xe=()=>{if(te.value){const de=Ee(U.value);de&&Be(de)&&(T(zC(de)),te.value=null)}te.value===""&&(T(d.value),k(d.value),te.value=null)},Ee=de=>de?_t.value.parseUserInput(de):null,Qe=de=>de?_t.value.formatToString(de):null,Be=de=>_t.value.isValidValue(de),ce=async de=>{if(r.readonly||M.value)return;const{code:ft}=de;if(I(de),ft===lt.esc){v.value===!0&&(v.value=!1,de.preventDefault(),de.stopPropagation());return}if(ft===lt.down&&(_t.value.handleFocusPicker&&(de.preventDefault(),de.stopPropagation()),v.value===!1&&(v.value=!0,await xt()),_t.value.handleFocusPicker)){_t.value.handleFocusPicker();return}if(ft===lt.tab){y=!0;return}if(ft===lt.enter||ft===lt.numpadEnter){(te.value===null||te.value===""||Be(Ee(U.value)))&&(xe(),v.value=!1),de.stopPropagation();return}if(te.value){de.stopPropagation();return}_t.value.handleKeydownInput&&_t.value.handleKeydownInput(de)},Re=de=>{te.value=de,v.value||(v.value=!0)},ct=de=>{const ft=de.target;te.value?te.value=[ft.value,te.value[1]]:te.value=[ft.value,null]},It=de=>{const ft=de.target;te.value?te.value=[te.value[0],ft.value]:te.value=[null,ft.value]},wt=()=>{var de;const ft=te.value,Gt=Ee(ft&&ft[0]),cn=w(W);if(Gt&&Gt.isValid()){te.value=[Qe(Gt),((de=U.value)==null?void 0:de[1])||null];const ir=[Gt,cn&&(cn[1]||null)];Be(ir)&&(T(zC(ir)),te.value=null)}},Qt=()=>{var de;const ft=w(te),Gt=Ee(ft&&ft[1]),cn=w(W);if(Gt&&Gt.isValid()){te.value=[((de=w(U))==null?void 0:de[0])||null,Qe(Gt)];const ir=[cn&&cn[0],Gt];Be(ir)&&(T(zC(ir)),te.value=null)}},_t=Y({}),ln=de=>{_t.value[de[0]]=de[1],_t.value.panelReady=!0},Ne=de=>{n("calendar-change",de)},nt=(de,ft,Gt)=>{n("panel-change",de,ft,Gt)},_e=()=>{var de;(de=p.value)==null||de.focus()},We=()=>{var de;(de=p.value)==null||de.blur()};return hn("EP_PICKER_BASE",{props:r}),t({focus:_e,blur:We,handleOpen:P,handleClose:O,onPick:N}),(de,ft)=>(z(),Ae(w(Hi),rn({ref_key:"refPopper",ref:h,visible:v.value,effect:"light",pure:"",trigger:"click"},de.$attrs,{role:"dialog",teleported:"",transition:`${w(o).namespace.value}-zoom-in-top`,"popper-class":[`${w(o).namespace.value}-picker__popper`,de.popperClass],"popper-options":w(f),"fallback-placements":de.fallbackPlacements,"gpu-acceleration":!1,placement:de.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:L,onShow:R,onHide:D}),{default:fe(()=>[w(Ie)?(z(),Ae(BPe,{key:1,id:de.id,ref_key:"inputRef",ref:p,"model-value":w(U),name:de.name,disabled:w(M),readonly:!de.editable||de.readonly,"start-placeholder":de.startPlaceholder,"end-placeholder":de.endPlaceholder,class:G(w(S)),style:yt(de.$attrs.style),"aria-label":de.ariaLabel,tabindex:de.tabindex,autocomplete:"off",role:"combobox",onClick:ve,onFocus:w(x),onBlur:w(_),onStartInput:ct,onStartChange:wt,onEndInput:It,onEndChange:Qt,onMousedown:ve,onMouseenter:B,onMouseleave:re,onTouchstartPassive:ge,onKeydown:ce},{prefix:fe(()=>[w(Q)?(z(),Ae(w(pt),{key:0,class:G([w(s).e("icon"),w(l).e("icon")])},{default:fe(()=>[(z(),Ae(tn(w(Q))))]),_:1},8,["class"])):Te("v-if",!0)]),"range-separator":fe(()=>[Se(de.$slots,"range-separator",{},()=>[Z("span",{class:G(w(l).b("separator"))},Ve(de.rangeSeparator),3)])]),suffix:fe(()=>[de.clearIcon?(z(),Ae(w(pt),{key:0,class:G(w(C)),onMousedown:At(w(Un),["prevent"]),onClick:ae},{default:fe(()=>[(z(),Ae(tn(de.clearIcon)))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(z(),Ae(w(mo),{key:0,id:de.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":w(U),name:de.name,size:w(Ce),disabled:w(M),placeholder:de.placeholder,class:G([w(o).b("editor"),w(o).bm("editor",de.type),de.$attrs.class]),style:yt(de.$attrs.style),readonly:!de.editable||de.readonly||w(K)||w(j)||w(ne)||de.type==="week","aria-label":de.ariaLabel,tabindex:de.tabindex,"validate-event":!1,onInput:Re,onFocus:w(x),onBlur:w(_),onKeydown:ce,onChange:xe,onMousedown:ve,onMouseenter:B,onMouseleave:re,onTouchstartPassive:ge,onClick:At(()=>{},["stop"])},{prefix:fe(()=>[w(Q)?(z(),Ae(w(pt),{key:0,class:G(w(s).e("icon")),onMousedown:At(ve,["prevent"]),onTouchstartPassive:ge},{default:fe(()=>[(z(),Ae(tn(w(Q))))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),suffix:fe(()=>[oe.value&&de.clearIcon?(z(),Ae(w(pt),{key:0,class:G(`${w(s).e("icon")} clear-icon`),onMousedown:At(w(Un),["prevent"]),onClick:ae},{default:fe(()=>[(z(),Ae(tn(de.clearIcon)))]),_:1},8,["class","onMousedown"])):Te("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:fe(()=>[Se(de.$slots,"default",{visible:v.value,actualVisible:g.value,parsedValue:w(W),format:de.format,dateFormat:de.dateFormat,timeFormat:de.timeFormat,unlinkPanels:de.unlinkPanels,type:de.type,defaultValue:de.defaultValue,showNow:de.showNow,onPick:N,onSelectRange:A,onSetPickerOption:ln,onCalendarChange:Ne,onPanelChange:nt,onMousedown:At(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var eie=Ze(zPe,[["__file","picker.vue"]]);const WPe=je({...Qae,datetimeRole:String,parsedValue:{type:be(Object)}}),tie=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(o,s,l,u)=>{const c={hour:e,minute:t,second:n};let f=o;return["hour","minute","second"].forEach(d=>{if(c[d]){let h;const p=c[d];switch(d){case"minute":{h=p(f.hour(),s,u);break}case"second":{h=p(f.hour(),f.minute(),s,u);break}default:{h=p(s,u);break}}if(h!=null&&h.length&&!h.includes(f[d]())){const v=l?0:h.length-1;f=f[d](h[v])}}}),f},a={};return{timePickerOptions:a,getAvailableTime:r,onSetOption:([o,s])=>{a[o]=s}}},NR=e=>{const t=(r,a)=>r||a,n=r=>r!==!0;return e.map(t).filter(n)},nie=(e,t,n)=>({getHoursList:(o,s)=>IR(24,e&&(()=>e==null?void 0:e(o,s))),getMinutesList:(o,s,l)=>IR(60,t&&(()=>t==null?void 0:t(o,s,l))),getSecondsList:(o,s,l,u)=>IR(60,n&&(()=>n==null?void 0:n(o,s,l,u)))}),rie=(e,t,n)=>{const{getHoursList:r,getMinutesList:a,getSecondsList:i}=nie(e,t,n);return{getAvailableHours:(u,c)=>NR(r(u,c)),getAvailableMinutes:(u,c,f)=>NR(a(u,c,f)),getAvailableSeconds:(u,c,f,d)=>NR(i(u,c,f,d))}},aie=e=>{const t=Y(e.parsedValue);return Oe(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},HPe=je({role:{type:String,required:!0},spinnerDate:{type:be(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:be(String),default:""},...Jae}),UPe=100,GPe=600,jk={beforeMount(e,t){const n=t.value,{interval:r=UPe,delay:a=GPe}=mt(n)?{}:n;let i,o;const s=()=>mt(n)?n():n.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),i&&(clearInterval(i),i=void 0)};e.addEventListener("mousedown",u=>{u.button===0&&(l(),s(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{i=setInterval(()=>{s()},r)},a))})}},KPe=se({__name:"basic-time-spinner",props:HPe,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=ht("EP_PICKER_BASE"),{isRange:a}=r.props,i=ze("time"),{getHoursList:o,getMinutesList:s,getSecondsList:l}=nie(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let u=!1;const c=Y(),f=Y(),d=Y(),h=Y(),p={hours:f,minutes:d,seconds:h},v=F(()=>n.showSeconds?SG:SG.slice(0,2)),g=F(()=>{const{spinnerDate:U}=n,V=U.hour(),H=U.minute(),K=U.second();return{hours:V,minutes:H,seconds:K}}),m=F(()=>{const{hours:U,minutes:V}=w(g),{role:H,spinnerDate:K}=n,j=a?void 0:K;return{hours:o(H,j),minutes:s(U,H,j),seconds:l(U,V,H,j)}}),y=F(()=>{const{hours:U,minutes:V,seconds:H}=w(g);return{hours:kR(U,23),minutes:kR(V,59),seconds:kR(H,59)}}),b=Cs(U=>{u=!1,S(U)},200),x=U=>{if(!!!n.amPmMode)return"";const H=n.amPmMode==="A";let K=U<12?" am":" pm";return H&&(K=K.toUpperCase()),K},_=U=>{let V;switch(U){case"hours":V=[0,2];break;case"minutes":V=[3,5];break;case"seconds":V=[6,8];break}const[H,K]=V;t("select-range",H,K),c.value=U},S=U=>{T(U,w(g)[U])},C=()=>{S("hours"),S("minutes"),S("seconds")},k=U=>U.querySelector(`.${i.namespace.value}-scrollbar__wrap`),T=(U,V)=>{if(n.arrowControl)return;const H=w(p[U]);H&&H.$el&&(k(H.$el).scrollTop=Math.max(0,V*I(U)))},I=U=>{const V=w(p[U]),H=V==null?void 0:V.$el.querySelector("li");return H&&Number.parseFloat(_f(H,"height"))||0},E=()=>{N(1)},A=()=>{N(-1)},N=U=>{c.value||_("hours");const V=c.value,H=w(g)[V],K=c.value==="hours"?24:60,j=L(V,H,U,K);R(V,j),T(V,j),xt(()=>_(V))},L=(U,V,H,K)=>{let j=(V+H+K)%K;const ne=w(m)[U];for(;ne[j]&&j!==V;)j=(j+H+K)%K;return j},R=(U,V)=>{if(w(m)[U][V])return;const{hours:j,minutes:ne,seconds:Q}=w(g);let oe;switch(U){case"hours":oe=n.spinnerDate.hour(V).minute(ne).second(Q);break;case"minutes":oe=n.spinnerDate.hour(j).minute(V).second(Q);break;case"seconds":oe=n.spinnerDate.hour(j).minute(ne).second(V);break}t("change",oe)},D=(U,{value:V,disabled:H})=>{H||(R(U,V),_(U),T(U,V))},P=U=>{const V=w(p[U]);if(!V)return;u=!0,b(U);const H=Math.min(Math.round((k(V.$el).scrollTop-(O(U)*.5-10)/I(U)+3)/I(U)),U==="hours"?23:59);R(U,H)},O=U=>w(p[U]).$el.offsetHeight,M=()=>{const U=V=>{const H=w(p[V]);H&&H.$el&&(k(H.$el).onscroll=()=>{P(V)})};U("hours"),U("minutes"),U("seconds")};zt(()=>{xt(()=>{!n.arrowControl&&M(),C(),n.role==="start"&&_("hours")})});const W=(U,V)=>{p[V].value=U??void 0};return t("set-option",[`${n.role}_scrollDown`,N]),t("set-option",[`${n.role}_emitSelectRange`,_]),Oe(()=>n.spinnerDate,()=>{u||C()}),(U,V)=>(z(),q("div",{class:G([w(i).b("spinner"),{"has-seconds":U.showSeconds}])},[U.arrowControl?Te("v-if",!0):(z(!0),q(gt,{key:0},un(w(v),H=>(z(),Ae(w(qc),{key:H,ref_for:!0,ref:K=>W(K,H),class:G(w(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":w(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:K=>_(H),onMousemove:K=>S(H)},{default:fe(()=>[(z(!0),q(gt,null,un(w(m)[H],(K,j)=>(z(),q("li",{key:j,class:G([w(i).be("spinner","item"),w(i).is("active",j===w(g)[H]),w(i).is("disabled",K)]),onClick:ne=>D(H,{value:j,disabled:K})},[H==="hours"?(z(),q(gt,{key:0},[Kt(Ve(("0"+(U.amPmMode?j%12||12:j)).slice(-2))+Ve(x(j)),1)],64)):(z(),q(gt,{key:1},[Kt(Ve(("0"+j).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),U.arrowControl?(z(!0),q(gt,{key:1},un(w(v),H=>(z(),q("div",{key:H,class:G([w(i).be("spinner","wrapper"),w(i).is("arrow")]),onMouseenter:K=>_(H)},[Vt((z(),Ae(w(pt),{class:G(["arrow-up",w(i).be("spinner","arrow")])},{default:fe(()=>[ie(w(Z4))]),_:1},8,["class"])),[[w(jk),A]]),Vt((z(),Ae(w(pt),{class:G(["arrow-down",w(i).be("spinner","arrow")])},{default:fe(()=>[ie(w(Xc))]),_:1},8,["class"])),[[w(jk),E]]),Z("ul",{class:G(w(i).be("spinner","list"))},[(z(!0),q(gt,null,un(w(y)[H],(K,j)=>(z(),q("li",{key:j,class:G([w(i).be("spinner","item"),w(i).is("active",K===w(g)[H]),w(i).is("disabled",w(m)[H][K])])},[w(Tt)(K)?(z(),q(gt,{key:0},[H==="hours"?(z(),q(gt,{key:0},[Kt(Ve(("0"+(U.amPmMode?K%12||12:K)).slice(-2))+Ve(x(K)),1)],64)):(z(),q(gt,{key:1},[Kt(Ve(("0"+K).slice(-2)),1)],64))],64)):Te("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Te("v-if",!0)],2))}});var EO=Ze(KPe,[["__file","basic-time-spinner.vue"]]);const jPe=se({__name:"panel-time-pick",props:WPe,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=ht("EP_PICKER_BASE"),{arrowControl:a,disabledHours:i,disabledMinutes:o,disabledSeconds:s,defaultValue:l}=r.props,{getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}=rie(i,o,s),d=ze("time"),{t:h,lang:p}=_n(),v=Y([0,2]),g=aie(n),m=F(()=>qn(n.actualVisible)?`${d.namespace.value}-zoom-in-top`:""),y=F(()=>n.format.includes("ss")),b=F(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),x=O=>{const M=Lt(O).locale(p.value),W=L(M);return M.isSame(W)},_=()=>{t("pick",g.value,!1)},S=(O=!1,M=!1)=>{M||t("pick",n.parsedValue,O)},C=O=>{if(!n.visible)return;const M=L(O).millisecond(0);t("pick",M,!0)},k=(O,M)=>{t("select-range",O,M),v.value=[O,M]},T=O=>{const M=[0,3].concat(y.value?[6]:[]),W=["hours","minutes"].concat(y.value?["seconds"]:[]),V=(M.indexOf(v.value[0])+O+M.length)%M.length;E.start_emitSelectRange(W[V])},I=O=>{const M=O.code,{left:W,right:U,up:V,down:H}=lt;if([W,U].includes(M)){T(M===W?-1:1),O.preventDefault();return}if([V,H].includes(M)){const K=M===V?-1:1;E.start_scrollDown(K),O.preventDefault();return}},{timePickerOptions:E,onSetOption:A,getAvailableTime:N}=tie({getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}),L=O=>N(O,n.datetimeRole||"",!0),R=O=>O?Lt(O,n.format).locale(p.value):null,D=O=>O?O.format(n.format):null,P=()=>Lt(l).locale(p.value);return t("set-picker-option",["isValidValue",x]),t("set-picker-option",["formatToString",D]),t("set-picker-option",["parseUserInput",R]),t("set-picker-option",["handleKeydownInput",I]),t("set-picker-option",["getRangeAvailableTime",L]),t("set-picker-option",["getDefaultValue",P]),(O,M)=>(z(),Ae(hi,{name:w(m)},{default:fe(()=>[O.actualVisible||O.visible?(z(),q("div",{key:0,class:G(w(d).b("panel"))},[Z("div",{class:G([w(d).be("panel","content"),{"has-seconds":w(y)}])},[ie(EO,{ref:"spinner",role:O.datetimeRole||"start","arrow-control":w(a),"show-seconds":w(y),"am-pm-mode":w(b),"spinner-date":O.parsedValue,"disabled-hours":w(i),"disabled-minutes":w(o),"disabled-seconds":w(s),onChange:C,onSetOption:w(A),onSelectRange:k},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:G(w(d).be("panel","footer"))},[Z("button",{type:"button",class:G([w(d).be("panel","btn"),"cancel"]),onClick:_},Ve(w(h)("el.datepicker.cancel")),3),Z("button",{type:"button",class:G([w(d).be("panel","btn"),"confirm"]),onClick:W=>S()},Ve(w(h)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Te("v-if",!0)]),_:1},8,["name"]))}});var Yk=Ze(jPe,[["__file","panel-time-pick.vue"]]);const YPe=je({...Qae,parsedValue:{type:be(Array)}}),XPe=se({__name:"panel-time-range",props:YPe,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(ve,B)=>{const re=[];for(let ge=ve;ge<=B;ge++)re.push(ge);return re},{t:a,lang:i}=_n(),o=ze("time"),s=ze("picker"),l=ht("EP_PICKER_BASE"),{arrowControl:u,disabledHours:c,disabledMinutes:f,disabledSeconds:d,defaultValue:h}=l.props,p=F(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),x.value?"has-seconds":""]),v=F(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),x.value?"has-seconds":""]),g=F(()=>n.parsedValue[0]),m=F(()=>n.parsedValue[1]),y=aie(n),b=()=>{t("pick",y.value,!1)},x=F(()=>n.format.includes("ss")),_=F(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),S=(ve=!1)=>{t("pick",[g.value,m.value],ve)},C=ve=>{I(ve.millisecond(0),m.value)},k=ve=>{I(g.value,ve.millisecond(0))},T=ve=>{const B=ve.map(ge=>Lt(ge).locale(i.value)),re=U(B);return B[0].isSame(re[0])&&B[1].isSame(re[1])},I=(ve,B)=>{n.visible&&t("pick",[ve,B],!0)},E=F(()=>g.value>m.value),A=Y([0,2]),N=(ve,B)=>{t("select-range",ve,B,"min"),A.value=[ve,B]},L=F(()=>x.value?11:8),R=(ve,B)=>{t("select-range",ve,B,"max");const re=w(L);A.value=[ve+re,B+re]},D=ve=>{const B=x.value?[0,3,6,11,14,17]:[0,3,8,11],re=["hours","minutes"].concat(x.value?["seconds"]:[]),Ie=(B.indexOf(A.value[0])+ve+B.length)%B.length,Ce=B.length/2;Ie<Ce?j.start_emitSelectRange(re[Ie]):j.end_emitSelectRange(re[Ie-Ce])},P=ve=>{const B=ve.code,{left:re,right:ge,up:Ie,down:Ce}=lt;if([re,ge].includes(B)){D(B===re?-1:1),ve.preventDefault();return}if([Ie,Ce].includes(B)){const he=B===Ie?-1:1,J=A.value[0]<L.value?"start":"end";j[`${J}_scrollDown`](he),ve.preventDefault();return}},O=(ve,B)=>{const re=c?c(ve):[],ge=ve==="start",Ce=(B||(ge?m.value:g.value)).hour(),he=ge?r(Ce+1,23):r(0,Ce-1);return xR(re,he)},M=(ve,B,re)=>{const ge=f?f(ve,B):[],Ie=B==="start",Ce=re||(Ie?m.value:g.value),he=Ce.hour();if(ve!==he)return ge;const J=Ce.minute(),te=Ie?r(J+1,59):r(0,J-1);return xR(ge,te)},W=(ve,B,re,ge)=>{const Ie=d?d(ve,B,re):[],Ce=re==="start",he=ge||(Ce?m.value:g.value),J=he.hour(),te=he.minute();if(ve!==J||B!==te)return Ie;const xe=he.second(),Ee=Ce?r(xe+1,59):r(0,xe-1);return xR(Ie,Ee)},U=([ve,B])=>[ne(ve,"start",!0,B),ne(B,"end",!1,ve)],{getAvailableHours:V,getAvailableMinutes:H,getAvailableSeconds:K}=rie(O,M,W),{timePickerOptions:j,getAvailableTime:ne,onSetOption:Q}=tie({getAvailableHours:V,getAvailableMinutes:H,getAvailableSeconds:K}),oe=ve=>ve?Ke(ve)?ve.map(B=>Lt(B,n.format).locale(i.value)):Lt(ve,n.format).locale(i.value):null,ae=ve=>ve?Ke(ve)?ve.map(B=>B.format(n.format)):ve.format(n.format):null,me=()=>{if(Ke(h))return h.map(B=>Lt(B).locale(i.value));const ve=Lt(h).locale(i.value);return[ve,ve.add(60,"m")]};return t("set-picker-option",["formatToString",ae]),t("set-picker-option",["parseUserInput",oe]),t("set-picker-option",["isValidValue",T]),t("set-picker-option",["handleKeydownInput",P]),t("set-picker-option",["getDefaultValue",me]),t("set-picker-option",["getRangeAvailableTime",U]),(ve,B)=>ve.actualVisible?(z(),q("div",{key:0,class:G([w(o).b("range-picker"),w(s).b("panel")])},[Z("div",{class:G(w(o).be("range-picker","content"))},[Z("div",{class:G(w(o).be("range-picker","cell"))},[Z("div",{class:G(w(o).be("range-picker","header"))},Ve(w(a)("el.datepicker.startTime")),3),Z("div",{class:G(w(p))},[ie(EO,{ref:"minSpinner",role:"start","show-seconds":w(x),"am-pm-mode":w(_),"arrow-control":w(u),"spinner-date":w(g),"disabled-hours":O,"disabled-minutes":M,"disabled-seconds":W,onChange:C,onSetOption:w(Q),onSelectRange:N},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Z("div",{class:G(w(o).be("range-picker","cell"))},[Z("div",{class:G(w(o).be("range-picker","header"))},Ve(w(a)("el.datepicker.endTime")),3),Z("div",{class:G(w(v))},[ie(EO,{ref:"maxSpinner",role:"end","show-seconds":w(x),"am-pm-mode":w(_),"arrow-control":w(u),"spinner-date":w(m),"disabled-hours":O,"disabled-minutes":M,"disabled-seconds":W,onChange:k,onSetOption:w(Q),onSelectRange:R},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Z("div",{class:G(w(o).be("panel","footer"))},[Z("button",{type:"button",class:G([w(o).be("panel","btn"),"cancel"]),onClick:re=>b()},Ve(w(a)("el.datepicker.cancel")),11,["onClick"]),Z("button",{type:"button",class:G([w(o).be("panel","btn"),"confirm"]),disabled:w(E),onClick:re=>S()},Ve(w(a)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Te("v-if",!0)}});var qPe=Ze(XPe,[["__file","panel-time-range.vue"]]);Lt.extend(wB);var ZPe=se({name:"ElTimePicker",install:null,props:{..._B,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=Y(),[r,a]=e.isRange?["timerange",qPe]:["time",Yk],i=o=>t.emit("update:modelValue",o);return hn("ElPopperOptions",e.popperOptions),t.expose({focus:()=>{var o;(o=n.value)==null||o.focus()},blur:()=>{var o;(o=n.value)==null||o.blur()},handleOpen:()=>{var o;(o=n.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=n.value)==null||o.handleClose()}}),()=>{var o;const s=(o=e.format)!=null?o:IO;return ie(eie,rn(e,{ref:n,type:r,format:s,"onUpdate:modelValue":i}),{default:l=>ie(a,l,null)})}}});const JPe=Bt(ZPe),CA=Symbol(),QPe=je({..._B,type:{type:be(String),default:"date"}}),eFe=["date","dates","year","years","month","months","week","range"],SB=je({disabledDate:{type:be(Function)},date:{type:be(Object),required:!0},minDate:{type:be(Object)},maxDate:{type:be(Object)},parsedValue:{type:be([Object,Array])},rangeState:{type:be(Object),default:()=>({endDate:null,selecting:!1})}}),iie=je({type:{type:be(String),required:!0,values:i$e},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),CB=je({unlinkPanels:Boolean,parsedValue:{type:be(Array)}}),TB=e=>({type:String,values:eFe,default:e}),tFe=je({...iie,parsedValue:{type:be([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),ty=e=>{if(!Ke(e))return!1;const[t,n]=e;return Lt.isDayjs(t)&&Lt.isDayjs(n)&&t.isSameOrBefore(n)},kB=(e,{lang:t,unit:n,unlinkPanels:r})=>{let a;if(Ke(e)){let[i,o]=e.map(s=>Lt(s).locale(t));return r||(o=i.add(1,n)),[i,o]}else e?a=Lt(e):a=Lt();return a=a.locale(t),[a,a.add(1,n)]},nFe=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:a,now:i,unit:o,relativeDateGetter:s,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<e.row;c++){const f=t[c];for(let d=0;d<e.column;d++){let h=f[d+n];h||(h={row:c,column:d,type:"normal",inRange:!1,start:!1,end:!1});const p=c*e.column+d,v=s(p);h.dayjs=v,h.date=v.toDate(),h.timestamp=v.valueOf(),h.type="normal",h.inRange=!!(r&&v.isSameOrAfter(r,o)&&a&&v.isSameOrBefore(a,o))||!!(r&&v.isSameOrBefore(r,o)&&a&&v.isSameOrAfter(a,o)),r!=null&&r.isSameOrAfter(a)?(h.start=!!a&&v.isSame(a,o),h.end=r&&v.isSame(r,o)):(h.start=!!r&&v.isSame(r,o),h.end=!!a&&v.isSame(a,o)),v.isSame(i,o)&&(h.type="today"),l==null||l(h,{rowIndex:c,columnIndex:d}),f[d+n]=h}u==null||u(f)}},Xk=(e,t,n)=>{const r=Lt().locale(n).startOf("month").month(t).year(e),a=r.daysInMonth();return uh(a).map(i=>r.add(i,"day").toDate())},ew=(e,t,n,r)=>{const a=Lt().year(e).month(t).startOf("month"),i=Xk(e,t,n).find(o=>!(r!=null&&r(o)));return i?Lt(i).locale(n):a.locale(n)},AO=(e,t,n)=>{const r=e.year();if(!(n!=null&&n(e.toDate())))return e.locale(t);const a=e.month();if(!Xk(r,a,t).every(n))return ew(r,a,t,n);for(let i=0;i<12;i++)if(!Xk(r,i,t).every(n))return ew(r,i,t,n);return e},rFe=je({...SB,cellClassName:{type:be(Function)},showWeekNumber:Boolean,selectionMode:TB("date")}),aFe=["changerange","pick","select"],DO=(e="")=>["normal","today"].includes(e),iFe=(e,t)=>{const{lang:n}=_n(),r=Y(),a=Y(),i=Y(),o=Y(),s=Y([[],[],[],[],[],[]]);let l=!1;const u=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map(M=>M.toLowerCase()),f=F(()=>u>3?7-u:-u),d=F(()=>{const M=e.date.startOf("month");return M.subtract(M.day()||7,"day")}),h=F(()=>c.concat(c).slice(u,u+7)),p=F(()=>Une(w(x)).some(M=>M.isCurrent)),v=F(()=>{const M=e.date.startOf("month"),W=M.day()||7,U=M.daysInMonth(),V=M.subtract(1,"month").daysInMonth();return{startOfMonthDay:W,dateCountOfMonth:U,dateCountOfLastMonth:V}}),g=F(()=>e.selectionMode==="dates"?Go(e.parsedValue):[]),m=(M,{count:W,rowIndex:U,columnIndex:V})=>{const{startOfMonthDay:H,dateCountOfMonth:K,dateCountOfLastMonth:j}=w(v),ne=w(f);if(U>=0&&U<=1){const Q=H+ne<0?7+H+ne:H+ne;if(V+U*7>=Q)return M.text=W,!0;M.text=j-(Q-V%7)+1+U*7,M.type="prev-month"}else return W<=K?M.text=W:(M.text=W-K,M.type="next-month"),!0;return!1},y=(M,{columnIndex:W,rowIndex:U},V)=>{const{disabledDate:H,cellClassName:K}=e,j=w(g),ne=m(M,{count:V,rowIndex:U,columnIndex:W}),Q=M.dayjs.toDate();return M.selected=j.find(oe=>oe.isSame(M.dayjs,"day")),M.isSelected=!!M.selected,M.isCurrent=S(M),M.disabled=H==null?void 0:H(Q),M.customClass=K==null?void 0:K(Q),ne},b=M=>{if(e.selectionMode==="week"){const[W,U]=e.showWeekNumber?[1,7]:[0,6],V=O(M[W+1]);M[W].inRange=V,M[W].start=V,M[U].inRange=V,M[U].end=V}},x=F(()=>{const{minDate:M,maxDate:W,rangeState:U,showWeekNumber:V}=e,H=w(f),K=w(s),j="day";let ne=1;if(V)for(let Q=0;Q<6;Q++)K[Q][0]||(K[Q][0]={type:"week",text:w(d).add(Q*7+1,j).week()});return nFe({row:6,column:7},K,{startDate:M,columnIndexOffset:V?1:0,nextEndDate:U.endDate||W||U.selecting&&M||null,now:Lt().locale(w(n)).startOf(j),unit:j,relativeDateGetter:Q=>w(d).add(Q-H,j),setCellMetadata:(...Q)=>{y(...Q,ne)&&(ne+=1)},setRowMetadata:b}),K});Oe(()=>e.date,async()=>{var M;(M=w(r))!=null&&M.contains(document.activeElement)&&(await xt(),await _())});const _=async()=>{var M;return(M=w(a))==null?void 0:M.focus()},S=M=>e.selectionMode==="date"&&DO(M.type)&&C(M,e.parsedValue),C=(M,W)=>W?Lt(W).locale(w(n)).isSame(e.date.date(Number(M.text)),"day"):!1,k=(M,W)=>{const U=M*7+(W-(e.showWeekNumber?1:0))-w(f);return w(d).add(U,"day")},T=M=>{var W;if(!e.rangeState.selecting)return;let U=M.target;if(U.tagName==="SPAN"&&(U=(W=U.parentNode)==null?void 0:W.parentNode),U.tagName==="DIV"&&(U=U.parentNode),U.tagName!=="TD")return;const V=U.parentNode.rowIndex-1,H=U.cellIndex;w(x)[V][H].disabled||(V!==w(i)||H!==w(o))&&(i.value=V,o.value=H,t("changerange",{selecting:!0,endDate:k(V,H)}))},I=M=>!w(p)&&(M==null?void 0:M.text)===1&&M.type==="normal"||M.isCurrent,E=M=>{l||w(p)||e.selectionMode!=="date"||P(M,!0)},A=M=>{M.target.closest("td")&&(l=!0)},N=M=>{M.target.closest("td")&&(l=!1)},L=M=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:M,maxDate:null}),t("select",!0)):(M>=e.minDate?t("pick",{minDate:e.minDate,maxDate:M}):t("pick",{minDate:M,maxDate:e.minDate}),t("select",!1))},R=M=>{const W=M.week(),U=`${M.year()}w${W}`;t("pick",{year:M.year(),week:W,value:U,date:M.startOf("week")})},D=(M,W)=>{const U=W?Go(e.parsedValue).filter(V=>(V==null?void 0:V.valueOf())!==M.valueOf()):Go(e.parsedValue).concat([M]);t("pick",U)},P=(M,W=!1)=>{const U=M.target.closest("td");if(!U)return;const V=U.parentNode.rowIndex-1,H=U.cellIndex,K=w(x)[V][H];if(K.disabled||K.type==="week")return;const j=k(V,H);switch(e.selectionMode){case"range":{L(j);break}case"date":{t("pick",j,W);break}case"week":{R(j);break}case"dates":{D(j,!!K.selected);break}}},O=M=>{if(e.selectionMode!=="week")return!1;let W=e.date.startOf("day");if(M.type==="prev-month"&&(W=W.subtract(1,"month")),M.type==="next-month"&&(W=W.add(1,"month")),W=W.date(Number.parseInt(M.text,10)),e.parsedValue&&!Ke(e.parsedValue)){const U=(e.parsedValue.day()-u+7)%7-1;return e.parsedValue.subtract(U,"day").isSame(W,"day")}return!1};return{WEEKS:h,rows:x,tbodyRef:r,currentCellRef:a,focus:_,isCurrent:S,isWeekActive:O,isSelectedCell:I,handlePickDate:P,handleMouseUp:N,handleMouseDown:A,handleMouseMove:T,handleFocus:E}},oFe=(e,{isCurrent:t,isWeekActive:n})=>{const r=ze("date-table"),{t:a}=_n(),i=F(()=>[r.b(),{"is-week-mode":e.selectionMode==="week"}]),o=F(()=>a("el.datepicker.dateTablePrompt")),s=F(()=>a("el.datepicker.week"));return{tableKls:i,tableLabel:o,weekLabel:s,getCellClasses:c=>{const f=[];return DO(c.type)&&!c.disabled?(f.push("available"),c.type==="today"&&f.push("today")):f.push(c.type),t(c)&&f.push("current"),c.inRange&&(DO(c.type)||e.selectionMode==="week")&&(f.push("in-range"),c.start&&f.push("start-date"),c.end&&f.push("end-date")),c.disabled&&f.push("disabled"),c.selected&&f.push("selected"),c.customClass&&f.push(c.customClass),f.join(" ")},getRowKls:c=>[r.e("row"),{current:n(c)}],t:a}},sFe=je({cell:{type:be(Object)}});var IB=se({name:"ElDatePickerCell",props:sFe,setup(e){const t=ze("date-table-cell"),{slots:n}=ht(CA);return()=>{const{cell:r}=e;return Se(n,"default",{...r},()=>{var a;return[ie("div",{class:t.b()},[ie("span",{class:t.e("text")},[(a=r==null?void 0:r.renderText)!=null?a:r==null?void 0:r.text])])]})}}});const lFe=se({__name:"basic-date-table",props:rFe,emits:aFe,setup(e,{expose:t,emit:n}){const r=e,{WEEKS:a,rows:i,tbodyRef:o,currentCellRef:s,focus:l,isCurrent:u,isWeekActive:c,isSelectedCell:f,handlePickDate:d,handleMouseUp:h,handleMouseDown:p,handleMouseMove:v,handleFocus:g}=iFe(r,n),{tableLabel:m,tableKls:y,weekLabel:b,getCellClasses:x,getRowKls:_,t:S}=oFe(r,{isCurrent:u,isWeekActive:c});return t({focus:l}),(C,k)=>(z(),q("table",{"aria-label":w(m),class:G(w(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:w(d),onMousemove:w(v),onMousedown:At(w(p),["prevent"]),onMouseup:w(h)},[Z("tbody",{ref_key:"tbodyRef",ref:o},[Z("tr",null,[C.showWeekNumber?(z(),q("th",{key:0,scope:"col"},Ve(w(b)),1)):Te("v-if",!0),(z(!0),q(gt,null,un(w(a),(T,I)=>(z(),q("th",{key:I,"aria-label":w(S)("el.datepicker.weeksFull."+T),scope:"col"},Ve(w(S)("el.datepicker.weeks."+T)),9,["aria-label"]))),128))]),(z(!0),q(gt,null,un(w(i),(T,I)=>(z(),q("tr",{key:I,class:G(w(_)(T[1]))},[(z(!0),q(gt,null,un(T,(E,A)=>(z(),q("td",{key:`${I}.${A}`,ref_for:!0,ref:N=>w(f)(E)&&(s.value=N),class:G(w(x)(E)),"aria-current":E.isCurrent?"date":void 0,"aria-selected":E.isCurrent,tabindex:w(f)(E)?0:-1,onFocus:w(g)},[ie(w(IB),{cell:E},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var NO=Ze(lFe,[["__file","basic-date-table.vue"]]);const uFe=je({...SB,selectionMode:TB("month")}),cFe=se({__name:"basic-month-table",props:uFe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,a=ze("month-table"),{t:i,lang:o}=_n(),s=Y(),l=Y(),u=Y(r.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),c=Y([[],[],[]]),f=Y(),d=Y(),h=F(()=>{var b,x;const _=c.value,S=Lt().locale(o.value).startOf("month");for(let C=0;C<3;C++){const k=_[C];for(let T=0;T<4;T++){const I=k[T]||(k[T]={row:C,column:T,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});I.type="normal";const E=C*4+T,A=r.date.startOf("year").month(E),N=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;I.inRange=!!(r.minDate&&A.isSameOrAfter(r.minDate,"month")&&N&&A.isSameOrBefore(N,"month"))||!!(r.minDate&&A.isSameOrBefore(r.minDate,"month")&&N&&A.isSameOrAfter(N,"month")),(b=r.minDate)!=null&&b.isSameOrAfter(N)?(I.start=!!(N&&A.isSame(N,"month")),I.end=r.minDate&&A.isSame(r.minDate,"month")):(I.start=!!(r.minDate&&A.isSame(r.minDate,"month")),I.end=!!(N&&A.isSame(N,"month"))),S.isSame(A)&&(I.type="today"),I.text=E,I.disabled=((x=r.disabledDate)==null?void 0:x.call(r,A.toDate()))||!1}}return _}),p=()=>{var b;(b=l.value)==null||b.focus()},v=b=>{const x={},_=r.date.year(),S=new Date,C=b.text;return x.disabled=r.disabledDate?Xk(_,C,o.value).every(r.disabledDate):!1,x.current=Go(r.parsedValue).findIndex(k=>Lt.isDayjs(k)&&k.year()===_&&k.month()===C)>=0,x.today=S.getFullYear()===_&&S.getMonth()===C,b.inRange&&(x["in-range"]=!0,b.start&&(x["start-date"]=!0),b.end&&(x["end-date"]=!0)),x},g=b=>{const x=r.date.year(),_=b.text;return Go(r.date).findIndex(S=>S.year()===x&&S.month()===_)>=0},m=b=>{var x;if(!r.rangeState.selecting)return;let _=b.target;if(_.tagName==="SPAN"&&(_=(x=_.parentNode)==null?void 0:x.parentNode),_.tagName==="DIV"&&(_=_.parentNode),_.tagName!=="TD")return;const S=_.parentNode.rowIndex,C=_.cellIndex;h.value[S][C].disabled||(S!==f.value||C!==d.value)&&(f.value=S,d.value=C,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(S*4+C)}))},y=b=>{var x;const _=(x=b.target)==null?void 0:x.closest("td");if((_==null?void 0:_.tagName)!=="TD"||xs(_,"disabled"))return;const S=_.cellIndex,k=_.parentNode.rowIndex*4+S,T=r.date.startOf("year").month(k);if(r.selectionMode==="months"){if(b.type==="keydown"){n("pick",Go(r.parsedValue),!1);return}const I=ew(r.date.year(),k,o.value,r.disabledDate),E=xs(_,"current")?Go(r.parsedValue).filter(A=>(A==null?void 0:A.month())!==I.month()):Go(r.parsedValue).concat([Lt(I)]);n("pick",E)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&T>=r.minDate?n("pick",{minDate:r.minDate,maxDate:T}):n("pick",{minDate:T,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:T,maxDate:null}),n("select",!0)):n("pick",k)};return Oe(()=>r.date,async()=>{var b,x;(b=s.value)!=null&&b.contains(document.activeElement)&&(await xt(),(x=l.value)==null||x.focus())}),t({focus:p}),(b,x)=>(z(),q("table",{role:"grid","aria-label":w(i)("el.datepicker.monthTablePrompt"),class:G(w(a).b()),onClick:y,onMousemove:m},[Z("tbody",{ref_key:"tbodyRef",ref:s},[(z(!0),q(gt,null,un(w(h),(_,S)=>(z(),q("tr",{key:S},[(z(!0),q(gt,null,un(_,(C,k)=>(z(),q("td",{key:k,ref_for:!0,ref:T=>g(C)&&(l.value=T),class:G(v(C)),"aria-selected":`${g(C)}`,"aria-label":w(i)(`el.datepicker.month${+C.text+1}`),tabindex:g(C)?0:-1,onKeydown:[rr(At(y,["prevent","stop"]),["space"]),rr(At(y,["prevent","stop"]),["enter"])]},[ie(w(IB),{cell:{...C,renderText:w(i)("el.datepicker.months."+u.value[C.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var RO=Ze(cFe,[["__file","basic-month-table.vue"]]);const fFe=je({...SB,selectionMode:TB("year")}),dFe=se({__name:"basic-year-table",props:fFe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,a=(x,_)=>{const S=Lt(String(x)).locale(_).startOf("year"),k=S.endOf("year").dayOfYear();return uh(k).map(T=>S.add(T,"day").toDate())},i=ze("year-table"),{t:o,lang:s}=_n(),l=Y(),u=Y(),c=F(()=>Math.floor(r.date.year()/10)*10),f=Y([[],[],[]]),d=Y(),h=Y(),p=F(()=>{var x;const _=f.value,S=Lt().locale(s.value).startOf("year");for(let C=0;C<3;C++){const k=_[C];for(let T=0;T<4&&!(C*4+T>=10);T++){let I=k[T];I||(I={row:C,column:T,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),I.type="normal";const E=C*4+T+c.value,A=Lt().year(E),N=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;I.inRange=!!(r.minDate&&A.isSameOrAfter(r.minDate,"year")&&N&&A.isSameOrBefore(N,"year"))||!!(r.minDate&&A.isSameOrBefore(r.minDate,"year")&&N&&A.isSameOrAfter(N,"year")),(x=r.minDate)!=null&&x.isSameOrAfter(N)?(I.start=!!(N&&A.isSame(N,"year")),I.end=!!(r.minDate&&A.isSame(r.minDate,"year"))):(I.start=!!(r.minDate&&A.isSame(r.minDate,"year")),I.end=!!(N&&A.isSame(N,"year"))),S.isSame(A)&&(I.type="today"),I.text=E;const R=A.toDate();I.disabled=r.disabledDate&&r.disabledDate(R)||!1,k[T]=I}}return _}),v=()=>{var x;(x=u.value)==null||x.focus()},g=x=>{const _={},S=Lt().locale(s.value),C=x.text;return _.disabled=r.disabledDate?a(C,s.value).every(r.disabledDate):!1,_.today=S.year()===C,_.current=Go(r.parsedValue).findIndex(k=>k.year()===C)>=0,x.inRange&&(_["in-range"]=!0,x.start&&(_["start-date"]=!0),x.end&&(_["end-date"]=!0)),_},m=x=>{const _=x.text;return Go(r.date).findIndex(S=>S.year()===_)>=0},y=x=>{var _;const S=(_=x.target)==null?void 0:_.closest("td");if(!S||!S.textContent||xs(S,"disabled"))return;const C=S.cellIndex,T=S.parentNode.rowIndex*4+C+c.value,I=Lt().year(T);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&I>=r.minDate?n("pick",{minDate:r.minDate,maxDate:I}):n("pick",{minDate:I,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:I,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(x.type==="keydown"){n("pick",Go(r.parsedValue),!1);return}const E=AO(I.startOf("year"),s.value,r.disabledDate),A=xs(S,"current")?Go(r.parsedValue).filter(N=>(N==null?void 0:N.year())!==T):Go(r.parsedValue).concat([E]);n("pick",A)}else n("pick",T)},b=x=>{var _;if(!r.rangeState.selecting)return;const S=(_=x.target)==null?void 0:_.closest("td");if(!S)return;const C=S.parentNode.rowIndex,k=S.cellIndex;p.value[C][k].disabled||(C!==d.value||k!==h.value)&&(d.value=C,h.value=k,n("changerange",{selecting:!0,endDate:Lt().year(c.value).add(C*4+k,"year")}))};return Oe(()=>r.date,async()=>{var x,_;(x=l.value)!=null&&x.contains(document.activeElement)&&(await xt(),(_=u.value)==null||_.focus())}),t({focus:v}),(x,_)=>(z(),q("table",{role:"grid","aria-label":w(o)("el.datepicker.yearTablePrompt"),class:G(w(i).b()),onClick:y,onMousemove:b},[Z("tbody",{ref_key:"tbodyRef",ref:l},[(z(!0),q(gt,null,un(w(p),(S,C)=>(z(),q("tr",{key:C},[(z(!0),q(gt,null,un(S,(k,T)=>(z(),q("td",{key:`${C}_${T}`,ref_for:!0,ref:I=>m(k)&&(u.value=I),class:G(["available",g(k)]),"aria-selected":m(k),"aria-label":String(k.text),tabindex:m(k)?0:-1,onKeydown:[rr(At(y,["prevent","stop"]),["space"]),rr(At(y,["prevent","stop"]),["enter"])]},[ie(w(IB),{cell:k},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var MO=Ze(dFe,[["__file","basic-year-table.vue"]]);const hFe=se({__name:"panel-date-pick",props:tFe,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=(Ne,nt,_e)=>!0,a=ze("picker-panel"),i=ze("date-picker"),o=Yh(),s=Sa(),{t:l,lang:u}=_n(),c=ht("EP_PICKER_BASE"),f=ht(_A),{shortcuts:d,disabledDate:h,cellClassName:p,defaultTime:v}=c.props,g=Wn(c.props,"defaultValue"),m=Y(),y=Y(Lt().locale(u.value)),b=Y(!1);let x=!1;const _=F(()=>Lt(v).locale(u.value)),S=F(()=>y.value.month()),C=F(()=>y.value.year()),k=Y([]),T=Y(null),I=Y(null),E=Ne=>k.value.length>0?r(Ne,k.value,n.format||"HH:mm:ss"):!0,A=Ne=>v&&!Ie.value&&!b.value&&!x?_.value.year(Ne.year()).month(Ne.month()).date(Ne.date()):Q.value?Ne.millisecond(0):Ne.startOf("day"),N=(Ne,...nt)=>{if(!Ne)t("pick",Ne,...nt);else if(Ke(Ne)){const _e=Ne.map(A);t("pick",_e,...nt)}else t("pick",A(Ne),...nt);T.value=null,I.value=null,b.value=!1,x=!1},L=async(Ne,nt)=>{if(W.value==="date"){Ne=Ne;let _e=n.parsedValue?n.parsedValue.year(Ne.year()).month(Ne.month()).date(Ne.date()):Ne;E(_e)||(_e=k.value[0][0].year(Ne.year()).month(Ne.month()).date(Ne.date())),y.value=_e,N(_e,Q.value||nt),n.type==="datetime"&&(await xt(),wt())}else W.value==="week"?N(Ne.date):W.value==="dates"&&N(Ne,!0)},R=Ne=>{const nt=Ne?"add":"subtract";y.value=y.value[nt](1,"month"),ln("month")},D=Ne=>{const nt=y.value,_e=Ne?"add":"subtract";y.value=P.value==="year"?nt[_e](10,"year"):nt[_e](1,"year"),ln("year")},P=Y("date"),O=F(()=>{const Ne=l("el.datepicker.year");if(P.value==="year"){const nt=Math.floor(C.value/10)*10;return Ne?`${nt} ${Ne} - ${nt+9} ${Ne}`:`${nt} - ${nt+9}`}return`${C.value} ${Ne}`}),M=Ne=>{const nt=mt(Ne.value)?Ne.value():Ne.value;if(nt){x=!0,N(Lt(nt).locale(u.value));return}Ne.onClick&&Ne.onClick({attrs:o,slots:s,emit:t})},W=F(()=>{const{type:Ne}=n;return["week","month","months","year","years","dates"].includes(Ne)?Ne:"date"}),U=F(()=>W.value==="dates"||W.value==="months"||W.value==="years"),V=F(()=>W.value==="date"?P.value:W.value),H=F(()=>!!d.length),K=async(Ne,nt)=>{W.value==="month"?(y.value=ew(y.value.year(),Ne,u.value,h),N(y.value,!1)):W.value==="months"?N(Ne,nt??!0):(y.value=ew(y.value.year(),Ne,u.value,h),P.value="date",["month","year","date","week"].includes(W.value)&&(N(y.value,!0),await xt(),wt())),ln("month")},j=async(Ne,nt)=>{if(W.value==="year"){const _e=y.value.startOf("year").year(Ne);y.value=AO(_e,u.value,h),N(y.value,!1)}else if(W.value==="years")N(Ne,nt??!0);else{const _e=y.value.year(Ne);y.value=AO(_e,u.value,h),P.value="month",["month","year","date","week"].includes(W.value)&&(N(y.value,!0),await xt(),wt())}ln("year")},ne=async Ne=>{P.value=Ne,await xt(),wt()},Q=F(()=>n.type==="datetime"||n.type==="datetimerange"),oe=F(()=>{const Ne=Q.value||W.value==="dates",nt=W.value==="years",_e=W.value==="months",We=P.value==="date",de=P.value==="year",ft=P.value==="month";return Ne&&We||nt&&de||_e&&ft}),ae=F(()=>h?n.parsedValue?Ke(n.parsedValue)?h(n.parsedValue[0].toDate()):h(n.parsedValue.toDate()):!0:!1),me=()=>{if(U.value)N(n.parsedValue);else{let Ne=n.parsedValue;if(!Ne){const nt=Lt(v).locale(u.value),_e=It();Ne=nt.year(_e.year()).month(_e.month()).date(_e.date())}y.value=Ne,N(Ne)}},ve=F(()=>h?h(Lt().locale(u.value).toDate()):!1),B=()=>{const nt=Lt().locale(u.value).toDate();b.value=!0,(!h||!h(nt))&&E(nt)&&(y.value=Lt().locale(u.value),N(y.value))},re=F(()=>n.timeFormat||Tae(n.format)),ge=F(()=>n.dateFormat||Cae(n.format)),Ie=F(()=>{if(I.value)return I.value;if(!(!n.parsedValue&&!g.value))return(n.parsedValue||y.value).format(re.value)}),Ce=F(()=>{if(T.value)return T.value;if(!(!n.parsedValue&&!g.value))return(n.parsedValue||y.value).format(ge.value)}),he=Y(!1),J=()=>{he.value=!0},te=()=>{he.value=!1},xe=Ne=>({hour:Ne.hour(),minute:Ne.minute(),second:Ne.second(),year:Ne.year(),month:Ne.month(),date:Ne.date()}),Ee=(Ne,nt,_e)=>{const{hour:We,minute:de,second:ft}=xe(Ne),Gt=n.parsedValue?n.parsedValue.hour(We).minute(de).second(ft):Ne;y.value=Gt,N(y.value,!0),_e||(he.value=nt)},Qe=Ne=>{const nt=Lt(Ne,re.value).locale(u.value);if(nt.isValid()&&E(nt)){const{year:_e,month:We,date:de}=xe(y.value);y.value=nt.year(_e).month(We).date(de),I.value=null,he.value=!1,N(y.value,!0)}},Be=Ne=>{const nt=Lt(Ne,ge.value).locale(u.value);if(nt.isValid()){if(h&&h(nt.toDate()))return;const{hour:_e,minute:We,second:de}=xe(y.value);y.value=nt.hour(_e).minute(We).second(de),T.value=null,N(y.value,!0)}},ce=Ne=>Lt.isDayjs(Ne)&&Ne.isValid()&&(h?!h(Ne.toDate()):!0),Re=Ne=>Ke(Ne)?Ne.map(nt=>nt.format(n.format)):Ne.format(n.format),ct=Ne=>Lt(Ne,n.format).locale(u.value),It=()=>{const Ne=Lt(g.value).locale(u.value);if(!g.value){const nt=_.value;return Lt().hour(nt.hour()).minute(nt.minute()).second(nt.second()).locale(u.value)}return Ne},wt=async()=>{var Ne;["week","month","year","date"].includes(W.value)&&((Ne=m.value)==null||Ne.focus(),W.value==="week"&&_t(lt.down))},Qt=Ne=>{const{code:nt}=Ne;[lt.up,lt.down,lt.left,lt.right,lt.home,lt.end,lt.pageUp,lt.pageDown].includes(nt)&&(_t(nt),Ne.stopPropagation(),Ne.preventDefault()),[lt.enter,lt.space,lt.numpadEnter].includes(nt)&&T.value===null&&I.value===null&&(Ne.preventDefault(),N(y.value,!1))},_t=Ne=>{var nt;const{up:_e,down:We,left:de,right:ft,home:Gt,end:cn,pageUp:ir,pageDown:Eo}=lt,ra={year:{[_e]:-4,[We]:4,[de]:-1,[ft]:1,offset:(yn,Mi)=>yn.setFullYear(yn.getFullYear()+Mi)},month:{[_e]:-4,[We]:4,[de]:-1,[ft]:1,offset:(yn,Mi)=>yn.setMonth(yn.getMonth()+Mi)},week:{[_e]:-1,[We]:1,[de]:-1,[ft]:1,offset:(yn,Mi)=>yn.setDate(yn.getDate()+Mi*7)},date:{[_e]:-7,[We]:7,[de]:-1,[ft]:1,[Gt]:yn=>-yn.getDay(),[cn]:yn=>-yn.getDay()+6,[ir]:yn=>-new Date(yn.getFullYear(),yn.getMonth(),0).getDate(),[Eo]:yn=>new Date(yn.getFullYear(),yn.getMonth()+1,0).getDate(),offset:(yn,Mi)=>yn.setDate(yn.getDate()+Mi)}},wr=y.value.toDate();for(;Math.abs(y.value.diff(wr,"year",!0))<1;){const yn=ra[V.value];if(!yn)return;if(yn.offset(wr,mt(yn[Ne])?yn[Ne](wr):(nt=yn[Ne])!=null?nt:0),h&&h(wr))break;const Mi=Lt(wr).locale(u.value);y.value=Mi,t("pick",Mi,!0);break}},ln=Ne=>{t("panel-change",y.value.toDate(),Ne,P.value)};return Oe(()=>W.value,Ne=>{if(["month","year"].includes(Ne)){P.value=Ne;return}else if(Ne==="years"){P.value="year";return}else if(Ne==="months"){P.value="month";return}P.value="date"},{immediate:!0}),Oe(()=>P.value,()=>{f==null||f.updatePopper()}),Oe(()=>g.value,Ne=>{Ne&&(y.value=It())},{immediate:!0}),Oe(()=>n.parsedValue,Ne=>{if(Ne){if(U.value||Ke(Ne))return;y.value=Ne}else y.value=It()},{immediate:!0}),t("set-picker-option",["isValidValue",ce]),t("set-picker-option",["formatToString",Re]),t("set-picker-option",["parseUserInput",ct]),t("set-picker-option",["handleFocusPicker",wt]),(Ne,nt)=>(z(),q("div",{class:G([w(a).b(),w(i).b(),{"has-sidebar":Ne.$slots.sidebar||w(H),"has-time":w(Q)}])},[Z("div",{class:G(w(a).e("body-wrapper"))},[Se(Ne.$slots,"sidebar",{class:G(w(a).e("sidebar"))}),w(H)?(z(),q("div",{key:0,class:G(w(a).e("sidebar"))},[(z(!0),q(gt,null,un(w(d),(_e,We)=>(z(),q("button",{key:We,type:"button",class:G(w(a).e("shortcut")),onClick:de=>M(_e)},Ve(_e.text),11,["onClick"]))),128))],2)):Te("v-if",!0),Z("div",{class:G(w(a).e("body"))},[w(Q)?(z(),q("div",{key:0,class:G(w(i).e("time-header"))},[Z("span",{class:G(w(i).e("editor-wrap"))},[ie(w(mo),{placeholder:w(l)("el.datepicker.selectDate"),"model-value":w(Ce),size:"small","validate-event":!1,onInput:_e=>T.value=_e,onChange:Be},null,8,["placeholder","model-value","onInput"])],2),Vt((z(),q("span",{class:G(w(i).e("editor-wrap"))},[ie(w(mo),{placeholder:w(l)("el.datepicker.selectTime"),"model-value":w(Ie),size:"small","validate-event":!1,onFocus:J,onInput:_e=>I.value=_e,onChange:Qe},null,8,["placeholder","model-value","onInput"]),ie(w(Yk),{visible:he.value,format:w(re),"parsed-value":y.value,onPick:Ee},null,8,["visible","format","parsed-value"])],2)),[[w(Wf),te]])],2)):Te("v-if",!0),Vt(Z("div",{class:G([w(i).e("header"),(P.value==="year"||P.value==="month")&&w(i).e("header--bordered")])},[Z("span",{class:G(w(i).e("prev-btn"))},[Z("button",{type:"button","aria-label":w(l)("el.datepicker.prevYear"),class:G(["d-arrow-left",w(a).e("icon-btn")]),onClick:_e=>D(!1)},[Se(Ne.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(kh))]),_:1})])],10,["aria-label","onClick"]),Vt(Z("button",{type:"button","aria-label":w(l)("el.datepicker.prevMonth"),class:G([w(a).e("icon-btn"),"arrow-left"]),onClick:_e=>R(!1)},[Se(Ne.$slots,"prev-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Th))]),_:1})])],10,["aria-label","onClick"]),[[En,P.value==="date"]])],2),Z("span",{role:"button",class:G(w(i).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:rr(_e=>ne("year"),["enter"]),onClick:_e=>ne("year")},Ve(w(O)),43,["onKeydown","onClick"]),Vt(Z("span",{role:"button","aria-live":"polite",tabindex:"0",class:G([w(i).e("header-label"),{active:P.value==="month"}]),onKeydown:rr(_e=>ne("month"),["enter"]),onClick:_e=>ne("month")},Ve(w(l)(`el.datepicker.month${w(S)+1}`)),43,["onKeydown","onClick"]),[[En,P.value==="date"]]),Z("span",{class:G(w(i).e("next-btn"))},[Vt(Z("button",{type:"button","aria-label":w(l)("el.datepicker.nextMonth"),class:G([w(a).e("icon-btn"),"arrow-right"]),onClick:_e=>R(!0)},[Se(Ne.$slots,"next-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})])],10,["aria-label","onClick"]),[[En,P.value==="date"]]),Z("button",{type:"button","aria-label":w(l)("el.datepicker.nextYear"),class:G([w(a).e("icon-btn"),"d-arrow-right"]),onClick:_e=>D(!0)},[Se(Ne.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[En,P.value!=="time"]]),Z("div",{class:G(w(a).e("content")),onKeydown:Qt},[P.value==="date"?(z(),Ae(NO,{key:0,ref_key:"currentViewRef",ref:m,"selection-mode":w(W),date:y.value,"parsed-value":Ne.parsedValue,"disabled-date":w(h),"cell-class-name":w(p),onPick:L},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Te("v-if",!0),P.value==="year"?(z(),Ae(MO,{key:1,ref_key:"currentViewRef",ref:m,"selection-mode":w(W),date:y.value,"disabled-date":w(h),"parsed-value":Ne.parsedValue,onPick:j},null,8,["selection-mode","date","disabled-date","parsed-value"])):Te("v-if",!0),P.value==="month"?(z(),Ae(RO,{key:2,ref_key:"currentViewRef",ref:m,"selection-mode":w(W),date:y.value,"parsed-value":Ne.parsedValue,"disabled-date":w(h),onPick:K},null,8,["selection-mode","date","parsed-value","disabled-date"])):Te("v-if",!0)],34)],2)],2),Vt(Z("div",{class:G(w(a).e("footer"))},[Vt(ie(w(si),{text:"",size:"small",class:G(w(a).e("link-btn")),disabled:w(ve),onClick:B},{default:fe(()=>[Kt(Ve(w(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[En,!w(U)&&Ne.showNow]]),ie(w(si),{plain:"",size:"small",class:G(w(a).e("link-btn")),disabled:w(ae),onClick:me},{default:fe(()=>[Kt(Ve(w(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[En,w(oe)]])],2))}});var pFe=Ze(hFe,[["__file","panel-date-pick.vue"]]);const vFe=je({...iie,...CB,visible:Boolean}),oie=e=>{const{emit:t}=jt(),n=Yh(),r=Sa();return i=>{const o=mt(i.value)?i.value():i.value;if(o){t("pick",[Lt(o[0]).locale(e.value),Lt(o[1]).locale(e.value)]);return}i.onClick&&i.onClick({attrs:n,slots:r,emit:t})}},sie=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:a,onParsedValueChanged:i})=>{const{emit:o}=jt(),{pickerNs:s}=ht(CA),l=ze("date-range-picker"),{t:u,lang:c}=_n(),f=oie(c),d=Y(),h=Y(),p=Y({endDate:null,selecting:!1}),v=x=>{p.value=x},g=(x=!1)=>{const _=w(d),S=w(h);ty([_,S])&&o("pick",[_,S],x)},m=x=>{p.value.selecting=x,x||(p.value.endDate=null)},y=x=>{if(Ke(x)&&x.length===2){const[_,S]=x;d.value=_,n.value=_,h.value=S,i(w(d),w(h))}else b()},b=()=>{const[x,_]=kB(w(t),{lang:w(c),unit:a,unlinkPanels:e.unlinkPanels});d.value=void 0,h.value=void 0,n.value=x,r.value=_};return Oe(t,x=>{x&&b()},{immediate:!0}),Oe(()=>e.parsedValue,y,{immediate:!0}),{minDate:d,maxDate:h,rangeState:p,lang:c,ppNs:s,drpNs:l,handleChangeRange:v,handleRangeConfirm:g,handleShortcutClick:f,onSelect:m,onReset:y,t:u}},WC="month",gFe=se({__name:"panel-date-range",props:vFe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=ht("EP_PICKER_BASE"),{disabledDate:a,cellClassName:i,defaultTime:o,clearable:s}=r.props,l=Wn(r.props,"format"),u=Wn(r.props,"shortcuts"),c=Wn(r.props,"defaultValue"),{lang:f}=_n(),d=Y(Lt().locale(f.value)),h=Y(Lt().locale(f.value).add(1,WC)),{minDate:p,maxDate:v,rangeState:g,ppNs:m,drpNs:y,handleChangeRange:b,handleRangeConfirm:x,handleShortcutClick:_,onSelect:S,onReset:C,t:k}=sie(n,{defaultValue:c,leftDate:d,rightDate:h,unit:WC,onParsedValueChanged:nt});Oe(()=>n.visible,_e=>{!_e&&g.value.selecting&&(C(n.parsedValue),S(!1))});const T=Y({min:null,max:null}),I=Y({min:null,max:null}),E=F(()=>`${d.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${d.value.month()+1}`)}`),A=F(()=>`${h.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${h.value.month()+1}`)}`),N=F(()=>d.value.year()),L=F(()=>d.value.month()),R=F(()=>h.value.year()),D=F(()=>h.value.month()),P=F(()=>!!u.value.length),O=F(()=>T.value.min!==null?T.value.min:p.value?p.value.format(H.value):""),M=F(()=>T.value.max!==null?T.value.max:v.value||p.value?(v.value||p.value).format(H.value):""),W=F(()=>I.value.min!==null?I.value.min:p.value?p.value.format(V.value):""),U=F(()=>I.value.max!==null?I.value.max:v.value||p.value?(v.value||p.value).format(V.value):""),V=F(()=>n.timeFormat||Tae(l.value)),H=F(()=>n.dateFormat||Cae(l.value)),K=_e=>ty(_e)&&(a?!a(_e[0].toDate())&&!a(_e[1].toDate()):!0),j=()=>{d.value=d.value.subtract(1,"year"),n.unlinkPanels||(h.value=d.value.add(1,"month")),re("year")},ne=()=>{d.value=d.value.subtract(1,"month"),n.unlinkPanels||(h.value=d.value.add(1,"month")),re("month")},Q=()=>{n.unlinkPanels?h.value=h.value.add(1,"year"):(d.value=d.value.add(1,"year"),h.value=d.value.add(1,"month")),re("year")},oe=()=>{n.unlinkPanels?h.value=h.value.add(1,"month"):(d.value=d.value.add(1,"month"),h.value=d.value.add(1,"month")),re("month")},ae=()=>{d.value=d.value.add(1,"year"),re("year")},me=()=>{d.value=d.value.add(1,"month"),re("month")},ve=()=>{h.value=h.value.subtract(1,"year"),re("year")},B=()=>{h.value=h.value.subtract(1,"month"),re("month")},re=_e=>{t("panel-change",[d.value.toDate(),h.value.toDate()],_e)},ge=F(()=>{const _e=(L.value+1)%12,We=L.value+1>=12?1:0;return n.unlinkPanels&&new Date(N.value+We,_e)<new Date(R.value,D.value)}),Ie=F(()=>n.unlinkPanels&&R.value*12+D.value-(N.value*12+L.value+1)>=12),Ce=F(()=>!(p.value&&v.value&&!g.value.selecting&&ty([p.value,v.value]))),he=F(()=>n.type==="datetime"||n.type==="datetimerange"),J=(_e,We)=>{if(_e)return o?Lt(o[We]||o).locale(f.value).year(_e.year()).month(_e.month()).date(_e.date()):_e},te=(_e,We=!0)=>{const de=_e.minDate,ft=_e.maxDate,Gt=J(de,0),cn=J(ft,1);v.value===cn&&p.value===Gt||(t("calendar-change",[de.toDate(),ft&&ft.toDate()]),v.value=cn,p.value=Gt,!(!We||he.value)&&x())},xe=Y(!1),Ee=Y(!1),Qe=()=>{xe.value=!1},Be=()=>{Ee.value=!1},ce=(_e,We)=>{T.value[We]=_e;const de=Lt(_e,H.value).locale(f.value);if(de.isValid()){if(a&&a(de.toDate()))return;We==="min"?(d.value=de,p.value=(p.value||d.value).year(de.year()).month(de.month()).date(de.date()),!n.unlinkPanels&&(!v.value||v.value.isBefore(p.value))&&(h.value=de.add(1,"month"),v.value=p.value.add(1,"month"))):(h.value=de,v.value=(v.value||h.value).year(de.year()).month(de.month()).date(de.date()),!n.unlinkPanels&&(!p.value||p.value.isAfter(v.value))&&(d.value=de.subtract(1,"month"),p.value=v.value.subtract(1,"month")))}},Re=(_e,We)=>{T.value[We]=null},ct=(_e,We)=>{I.value[We]=_e;const de=Lt(_e,V.value).locale(f.value);de.isValid()&&(We==="min"?(xe.value=!0,p.value=(p.value||d.value).hour(de.hour()).minute(de.minute()).second(de.second())):(Ee.value=!0,v.value=(v.value||h.value).hour(de.hour()).minute(de.minute()).second(de.second()),h.value=v.value))},It=(_e,We)=>{I.value[We]=null,We==="min"?(d.value=p.value,xe.value=!1,(!v.value||v.value.isBefore(p.value))&&(v.value=p.value)):(h.value=v.value,Ee.value=!1,v.value&&v.value.isBefore(p.value)&&(p.value=v.value))},wt=(_e,We,de)=>{I.value.min||(_e&&(d.value=_e,p.value=(p.value||d.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())),de||(xe.value=We),(!v.value||v.value.isBefore(p.value))&&(v.value=p.value,h.value=_e))},Qt=(_e,We,de)=>{I.value.max||(_e&&(h.value=_e,v.value=(v.value||h.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())),de||(Ee.value=We),v.value&&v.value.isBefore(p.value)&&(p.value=v.value))},_t=()=>{d.value=kB(w(c),{lang:w(f),unit:"month",unlinkPanels:n.unlinkPanels})[0],h.value=d.value.add(1,"month"),v.value=void 0,p.value=void 0,t("pick",null)},ln=_e=>Ke(_e)?_e.map(We=>We.format(l.value)):_e.format(l.value),Ne=_e=>Ke(_e)?_e.map(We=>Lt(We,l.value).locale(f.value)):Lt(_e,l.value).locale(f.value);function nt(_e,We){if(n.unlinkPanels&&We){const de=(_e==null?void 0:_e.year())||0,ft=(_e==null?void 0:_e.month())||0,Gt=We.year(),cn=We.month();h.value=de===Gt&&ft===cn?We.add(1,WC):We}else h.value=d.value.add(1,WC),We&&(h.value=h.value.hour(We.hour()).minute(We.minute()).second(We.second()))}return t("set-picker-option",["isValidValue",K]),t("set-picker-option",["parseUserInput",Ne]),t("set-picker-option",["formatToString",ln]),t("set-picker-option",["handleClear",_t]),(_e,We)=>(z(),q("div",{class:G([w(m).b(),w(y).b(),{"has-sidebar":_e.$slots.sidebar||w(P),"has-time":w(he)}])},[Z("div",{class:G(w(m).e("body-wrapper"))},[Se(_e.$slots,"sidebar",{class:G(w(m).e("sidebar"))}),w(P)?(z(),q("div",{key:0,class:G(w(m).e("sidebar"))},[(z(!0),q(gt,null,un(w(u),(de,ft)=>(z(),q("button",{key:ft,type:"button",class:G(w(m).e("shortcut")),onClick:Gt=>w(_)(de)},Ve(de.text),11,["onClick"]))),128))],2)):Te("v-if",!0),Z("div",{class:G(w(m).e("body"))},[w(he)?(z(),q("div",{key:0,class:G(w(y).e("time-header"))},[Z("span",{class:G(w(y).e("editors-wrap"))},[Z("span",{class:G(w(y).e("time-picker-wrap"))},[ie(w(mo),{size:"small",disabled:w(g).selecting,placeholder:w(k)("el.datepicker.startDate"),class:G(w(y).e("editor")),"model-value":w(O),"validate-event":!1,onInput:de=>ce(de,"min"),onChange:de=>Re(de,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Vt((z(),q("span",{class:G(w(y).e("time-picker-wrap"))},[ie(w(mo),{size:"small",class:G(w(y).e("editor")),disabled:w(g).selecting,placeholder:w(k)("el.datepicker.startTime"),"model-value":w(W),"validate-event":!1,onFocus:de=>xe.value=!0,onInput:de=>ct(de,"min"),onChange:de=>It(de,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),ie(w(Yk),{visible:xe.value,format:w(V),"datetime-role":"start","parsed-value":d.value,onPick:wt},null,8,["visible","format","parsed-value"])],2)),[[w(Wf),Qe]])],2),Z("span",null,[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})]),Z("span",{class:G([w(y).e("editors-wrap"),"is-right"])},[Z("span",{class:G(w(y).e("time-picker-wrap"))},[ie(w(mo),{size:"small",class:G(w(y).e("editor")),disabled:w(g).selecting,placeholder:w(k)("el.datepicker.endDate"),"model-value":w(M),readonly:!w(p),"validate-event":!1,onInput:de=>ce(de,"max"),onChange:de=>Re(de,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Vt((z(),q("span",{class:G(w(y).e("time-picker-wrap"))},[ie(w(mo),{size:"small",class:G(w(y).e("editor")),disabled:w(g).selecting,placeholder:w(k)("el.datepicker.endTime"),"model-value":w(U),readonly:!w(p),"validate-event":!1,onFocus:de=>w(p)&&(Ee.value=!0),onInput:de=>ct(de,"max"),onChange:de=>It(de,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),ie(w(Yk),{"datetime-role":"end",visible:Ee.value,format:w(V),"parsed-value":h.value,onPick:Qt},null,8,["visible","format","parsed-value"])],2)),[[w(Wf),Be]])],2)],2)):Te("v-if",!0),Z("div",{class:G([[w(m).e("content"),w(y).e("content")],"is-left"])},[Z("div",{class:G(w(y).e("header"))},[Z("button",{type:"button",class:G([w(m).e("icon-btn"),"d-arrow-left"]),"aria-label":w(k)("el.datepicker.prevYear"),onClick:j},[Se(_e.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(kh))]),_:1})])],10,["aria-label"]),Z("button",{type:"button",class:G([w(m).e("icon-btn"),"arrow-left"]),"aria-label":w(k)("el.datepicker.prevMonth"),onClick:ne},[Se(_e.$slots,"prev-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Th))]),_:1})])],10,["aria-label"]),_e.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(Ie),class:G([[w(m).e("icon-btn"),{"is-disabled":!w(Ie)}],"d-arrow-right"]),"aria-label":w(k)("el.datepicker.nextYear"),onClick:ae},[Se(_e.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),_e.unlinkPanels?(z(),q("button",{key:1,type:"button",disabled:!w(ge),class:G([[w(m).e("icon-btn"),{"is-disabled":!w(ge)}],"arrow-right"]),"aria-label":w(k)("el.datepicker.nextMonth"),onClick:me},[Se(_e.$slots,"next-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),Z("div",null,Ve(w(E)),1)],2),ie(NO,{"selection-mode":"range",date:d.value,"min-date":w(p),"max-date":w(v),"range-state":w(g),"disabled-date":w(a),"cell-class-name":w(i),onChangerange:w(b),onPick:te,onSelect:w(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:G([[w(m).e("content"),w(y).e("content")],"is-right"])},[Z("div",{class:G(w(y).e("header"))},[_e.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(Ie),class:G([[w(m).e("icon-btn"),{"is-disabled":!w(Ie)}],"d-arrow-left"]),"aria-label":w(k)("el.datepicker.prevYear"),onClick:ve},[Se(_e.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(kh))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),_e.unlinkPanels?(z(),q("button",{key:1,type:"button",disabled:!w(ge),class:G([[w(m).e("icon-btn"),{"is-disabled":!w(ge)}],"arrow-left"]),"aria-label":w(k)("el.datepicker.prevMonth"),onClick:B},[Se(_e.$slots,"prev-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Th))]),_:1})])],10,["disabled","aria-label"])):Te("v-if",!0),Z("button",{type:"button","aria-label":w(k)("el.datepicker.nextYear"),class:G([w(m).e("icon-btn"),"d-arrow-right"]),onClick:Q},[Se(_e.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["aria-label"]),Z("button",{type:"button",class:G([w(m).e("icon-btn"),"arrow-right"]),"aria-label":w(k)("el.datepicker.nextMonth"),onClick:oe},[Se(_e.$slots,"next-month",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})])],10,["aria-label"]),Z("div",null,Ve(w(A)),1)],2),ie(NO,{"selection-mode":"range",date:h.value,"min-date":w(p),"max-date":w(v),"range-state":w(g),"disabled-date":w(a),"cell-class-name":w(i),onChangerange:w(b),onPick:te,onSelect:w(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),w(he)?(z(),q("div",{key:0,class:G(w(m).e("footer"))},[w(s)?(z(),Ae(w(si),{key:0,text:"",size:"small",class:G(w(m).e("link-btn")),onClick:_t},{default:fe(()=>[Kt(Ve(w(k)("el.datepicker.clear")),1)]),_:1},8,["class"])):Te("v-if",!0),ie(w(si),{plain:"",size:"small",class:G(w(m).e("link-btn")),disabled:w(Ce),onClick:de=>w(x)(!1)},{default:fe(()=>[Kt(Ve(w(k)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Te("v-if",!0)],2))}});var mFe=Ze(gFe,[["__file","panel-date-range.vue"]]);const yFe=je({...CB}),bFe=["pick","set-picker-option","calendar-change"],xFe=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=_n(),a=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},i=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},o=()=>{t.value=t.value.add(1,"year")},s=()=>{n.value=n.value.subtract(1,"year")},l=F(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=F(()=>`${n.value.year()} ${r("el.datepicker.year")}`),c=F(()=>t.value.year()),f=F(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:a,rightNextYear:i,leftNextYear:o,rightPrevYear:s,leftLabel:l,rightLabel:u,leftYear:c,rightYear:f}},HC="year",wFe=se({name:"DatePickerMonthRange"}),_Fe=se({...wFe,props:yFe,emits:bFe,setup(e,{emit:t}){const n=e,{lang:r}=_n(),a=ht("EP_PICKER_BASE"),{shortcuts:i,disabledDate:o}=a.props,s=Wn(a.props,"format"),l=Wn(a.props,"defaultValue"),u=Y(Lt().locale(r.value)),c=Y(Lt().locale(r.value).add(1,HC)),{minDate:f,maxDate:d,rangeState:h,ppNs:p,drpNs:v,handleChangeRange:g,handleRangeConfirm:m,handleShortcutClick:y,onSelect:b}=sie(n,{defaultValue:l,leftDate:u,rightDate:c,unit:HC,onParsedValueChanged:O}),x=F(()=>!!i.length),{leftPrevYear:_,rightNextYear:S,leftNextYear:C,rightPrevYear:k,leftLabel:T,rightLabel:I,leftYear:E,rightYear:A}=xFe({unlinkPanels:Wn(n,"unlinkPanels"),leftDate:u,rightDate:c}),N=F(()=>n.unlinkPanels&&A.value>E.value+1),L=(M,W=!0)=>{const U=M.minDate,V=M.maxDate;d.value===V&&f.value===U||(t("calendar-change",[U.toDate(),V&&V.toDate()]),d.value=V,f.value=U,W&&m())},R=()=>{u.value=kB(w(l),{lang:w(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],c.value=u.value.add(1,"year"),t("pick",null)},D=M=>Ke(M)?M.map(W=>W.format(s.value)):M.format(s.value),P=M=>Ke(M)?M.map(W=>Lt(W,s.value).locale(r.value)):Lt(M,s.value).locale(r.value);function O(M,W){if(n.unlinkPanels&&W){const U=(M==null?void 0:M.year())||0,V=W.year();c.value=U===V?W.add(1,HC):W}else c.value=u.value.add(1,HC)}return t("set-picker-option",["isValidValue",ty]),t("set-picker-option",["formatToString",D]),t("set-picker-option",["parseUserInput",P]),t("set-picker-option",["handleClear",R]),(M,W)=>(z(),q("div",{class:G([w(p).b(),w(v).b(),{"has-sidebar":!!M.$slots.sidebar||w(x)}])},[Z("div",{class:G(w(p).e("body-wrapper"))},[Se(M.$slots,"sidebar",{class:G(w(p).e("sidebar"))}),w(x)?(z(),q("div",{key:0,class:G(w(p).e("sidebar"))},[(z(!0),q(gt,null,un(w(i),(U,V)=>(z(),q("button",{key:V,type:"button",class:G(w(p).e("shortcut")),onClick:H=>w(y)(U)},Ve(U.text),11,["onClick"]))),128))],2)):Te("v-if",!0),Z("div",{class:G(w(p).e("body"))},[Z("div",{class:G([[w(p).e("content"),w(v).e("content")],"is-left"])},[Z("div",{class:G(w(v).e("header"))},[Z("button",{type:"button",class:G([w(p).e("icon-btn"),"d-arrow-left"]),onClick:w(_)},[Se(M.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(kh))]),_:1})])],10,["onClick"]),M.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(N),class:G([[w(p).e("icon-btn"),{[w(p).is("disabled")]:!w(N)}],"d-arrow-right"]),onClick:w(C)},[Se(M.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),Z("div",null,Ve(w(T)),1)],2),ie(RO,{"selection-mode":"range",date:u.value,"min-date":w(f),"max-date":w(d),"range-state":w(h),"disabled-date":w(o),onChangerange:w(g),onPick:L,onSelect:w(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Z("div",{class:G([[w(p).e("content"),w(v).e("content")],"is-right"])},[Z("div",{class:G(w(v).e("header"))},[M.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(N),class:G([[w(p).e("icon-btn"),{"is-disabled":!w(N)}],"d-arrow-left"]),onClick:w(k)},[Se(M.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(kh))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),Z("button",{type:"button",class:G([w(p).e("icon-btn"),"d-arrow-right"]),onClick:w(S)},[Se(M.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["onClick"]),Z("div",null,Ve(w(I)),1)],2),ie(RO,{"selection-mode":"range",date:c.value,"min-date":w(f),"max-date":w(d),"range-state":w(h),"disabled-date":w(o),onChangerange:w(g),onPick:L,onSelect:w(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var SFe=Ze(_Fe,[["__file","panel-month-range.vue"]]);const CFe=je({...CB}),TFe=["pick","set-picker-option","calendar-change"],kFe=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},a=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},i=()=>{t.value=t.value.add(10,"year")},o=()=>{n.value=n.value.subtract(10,"year")},s=F(()=>{const f=Math.floor(t.value.year()/10)*10;return`${f}-${f+9}`}),l=F(()=>{const f=Math.floor(n.value.year()/10)*10;return`${f}-${f+9}`}),u=F(()=>Math.floor(t.value.year()/10)*10+9),c=F(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:a,leftNextYear:i,rightPrevYear:o,leftLabel:s,rightLabel:l,leftYear:u,rightYear:c}},CG="year",IFe=se({name:"DatePickerYearRange"}),EFe=se({...IFe,props:CFe,emits:TFe,setup(e,{emit:t}){const n=e,{lang:r}=_n(),a=Y(Lt().locale(r.value)),i=Y(a.value.add(10,"year")),{pickerNs:o}=ht(CA),s=ze("date-range-picker"),l=F(()=>!!L.length),u=F(()=>[o.b(),s.b(),{"has-sidebar":!!Sa().sidebar||l.value}]),c=F(()=>({content:[o.e("content"),s.e("content"),"is-left"],arrowLeftBtn:[o.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),{[o.is("disabled")]:!_.value},"d-arrow-right"]})),f=F(()=>({content:[o.e("content"),s.e("content"),"is-right"],arrowLeftBtn:[o.e("icon-btn"),{"is-disabled":!_.value},"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),"d-arrow-right"]})),d=oie(r),{leftPrevYear:h,rightNextYear:p,leftNextYear:v,rightPrevYear:g,leftLabel:m,rightLabel:y,leftYear:b,rightYear:x}=kFe({unlinkPanels:Wn(n,"unlinkPanels"),leftDate:a,rightDate:i}),_=F(()=>n.unlinkPanels&&x.value>b.value+1),S=Y(),C=Y(),k=Y({endDate:null,selecting:!1}),T=H=>{k.value=H},I=(H,K=!0)=>{const j=H.minDate,ne=H.maxDate;C.value===ne&&S.value===j||(t("calendar-change",[j.toDate(),ne&&ne.toDate()]),C.value=ne,S.value=j,K&&E())},E=(H=!1)=>{ty([S.value,C.value])&&t("pick",[S.value,C.value],H)},A=H=>{k.value.selecting=H,H||(k.value.endDate=null)},N=ht("EP_PICKER_BASE"),{shortcuts:L,disabledDate:R}=N.props,D=Wn(N.props,"format"),P=Wn(N.props,"defaultValue"),O=()=>{let H;if(Ke(P.value)){const K=Lt(P.value[0]);let j=Lt(P.value[1]);return n.unlinkPanels||(j=K.add(10,CG)),[K,j]}else P.value?H=Lt(P.value):H=Lt();return H=H.locale(r.value),[H,H.add(10,CG)]};Oe(()=>P.value,H=>{if(H){const K=O();a.value=K[0],i.value=K[1]}},{immediate:!0}),Oe(()=>n.parsedValue,H=>{if(H&&H.length===2)if(S.value=H[0],C.value=H[1],a.value=S.value,n.unlinkPanels&&C.value){const K=S.value.year(),j=C.value.year();i.value=K===j?C.value.add(10,"year"):C.value}else i.value=a.value.add(10,"year");else{const K=O();S.value=void 0,C.value=void 0,a.value=K[0],i.value=K[1]}},{immediate:!0});const M=H=>Ke(H)?H.map(K=>Lt(K,D.value).locale(r.value)):Lt(H,D.value).locale(r.value),W=H=>Ke(H)?H.map(K=>K.format(D.value)):H.format(D.value),U=H=>ty(H)&&(R?!R(H[0].toDate())&&!R(H[1].toDate()):!0),V=()=>{const H=O();a.value=H[0],i.value=H[1],C.value=void 0,S.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",U]),t("set-picker-option",["parseUserInput",M]),t("set-picker-option",["formatToString",W]),t("set-picker-option",["handleClear",V]),(H,K)=>(z(),q("div",{class:G(w(u))},[Z("div",{class:G(w(o).e("body-wrapper"))},[Se(H.$slots,"sidebar",{class:G(w(o).e("sidebar"))}),w(l)?(z(),q("div",{key:0,class:G(w(o).e("sidebar"))},[(z(!0),q(gt,null,un(w(L),(j,ne)=>(z(),q("button",{key:ne,type:"button",class:G(w(o).e("shortcut")),onClick:Q=>w(d)(j)},Ve(j.text),11,["onClick"]))),128))],2)):Te("v-if",!0),Z("div",{class:G(w(o).e("body"))},[Z("div",{class:G(w(c).content)},[Z("div",{class:G(w(s).e("header"))},[Z("button",{type:"button",class:G(w(c).arrowLeftBtn),onClick:w(h)},[Se(H.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(kh))]),_:1})])],10,["onClick"]),H.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(_),class:G(w(c).arrowRightBtn),onClick:w(v)},[Se(H.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),Z("div",null,Ve(w(m)),1)],2),ie(MO,{"selection-mode":"range",date:a.value,"min-date":S.value,"max-date":C.value,"range-state":k.value,"disabled-date":w(R),onChangerange:T,onPick:I,onSelect:A},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),Z("div",{class:G(w(f).content)},[Z("div",{class:G(w(s).e("header"))},[H.unlinkPanels?(z(),q("button",{key:0,type:"button",disabled:!w(_),class:G(w(f).arrowLeftBtn),onClick:w(g)},[Se(H.$slots,"prev-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(kh))]),_:1})])],10,["disabled","onClick"])):Te("v-if",!0),Z("button",{type:"button",class:G(w(f).arrowRightBtn),onClick:w(p)},[Se(H.$slots,"next-year",{},()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Ih))]),_:1})])],10,["onClick"]),Z("div",null,Ve(w(y)),1)],2),ie(MO,{"selection-mode":"range",date:i.value,"min-date":S.value,"max-date":C.value,"range-state":k.value,"disabled-date":w(R),onChangerange:T,onPick:I,onSelect:A},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var AFe=Ze(EFe,[["__file","panel-year-range.vue"]]);const DFe=function(e){switch(e){case"daterange":case"datetimerange":return mFe;case"monthrange":return SFe;case"yearrange":return AFe;default:return pFe}};Lt.extend(kae);Lt.extend(pPe);Lt.extend(wB);Lt.extend(yPe);Lt.extend(_Pe);Lt.extend(kPe);Lt.extend(DPe);Lt.extend($Pe);var NFe=se({name:"ElDatePicker",install:null,props:QPe,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const a=ze("picker-panel");hn("ElPopperOptions",Ln(Wn(e,"popperOptions"))),hn(CA,{slots:r,pickerNs:a});const i=Y();t({focus:()=>{var l;(l=i.value)==null||l.focus()},blur:()=>{var l;(l=i.value)==null||l.blur()},handleOpen:()=>{var l;(l=i.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=i.value)==null||l.handleClose()}});const s=l=>{n("update:modelValue",l)};return()=>{var l;const u=(l=e.format)!=null?l:LPe[e.type]||q0,c=DFe(e.type);return ie(eie,rn(e,{format:u,type:e.type,ref:i,"onUpdate:modelValue":s}),{default:f=>ie(c,f,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const RFe=Bt(NFe),EB=Symbol("elDescriptions");var B1=se({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:ht(EB,{})}},render(){var e;const t=A$e(this.cell),n=(((e=this.cell)==null?void 0:e.dirs)||[]).map(m=>{const{dir:y,arg:b,modifiers:x,value:_}=m;return[y,_,b,x]}),{border:r,direction:a}=this.descriptions,i=a==="vertical",o=()=>{var m,y,b;return((b=(y=(m=this.cell)==null?void 0:m.children)==null?void 0:y.label)==null?void 0:b.call(y))||t.label},s=()=>{var m,y,b;return(b=(y=(m=this.cell)==null?void 0:m.children)==null?void 0:y.default)==null?void 0:b.call(y)},l=t.span,u=t.rowspan,c=t.align?`is-${t.align}`:"",f=t.labelAlign?`is-${t.labelAlign}`:c,d=t.className,h=t.labelClassName,p=this.type==="label"&&(t.labelWidth||this.descriptions.labelWidth)||t.width,v={width:ta(p),minWidth:ta(t.minWidth)},g=ze("descriptions");switch(this.type){case"label":return Vt(Ct(this.tag,{style:v,class:[g.e("cell"),g.e("label"),g.is("bordered-label",r),g.is("vertical-label",i),f,h],colSpan:i?l:1,rowspan:i?1:u},o()),n);case"content":return Vt(Ct(this.tag,{style:v,class:[g.e("cell"),g.e("content"),g.is("bordered-content",r),g.is("vertical-content",i),c,d],colSpan:i?l:l*2-1,rowspan:i?u*2-1:u},s()),n);default:{const m=o();return Vt(Ct("td",{style:v,class:[g.e("cell"),c],colSpan:l,rowspan:u},[Ua(m)?void 0:Ct("span",{class:[g.e("label"),h]},m),Ct("span",{class:[g.e("content"),d]},s())]),n)}}}});const MFe=je({row:{type:be(Array),default:()=>[]}}),$Fe=se({name:"ElDescriptionsRow"}),LFe=se({...$Fe,props:MFe,setup(e){const t=ht(EB,{});return(n,r)=>w(t).direction==="vertical"?(z(),q(gt,{key:0},[Z("tr",null,[(z(!0),q(gt,null,un(n.row,(a,i)=>(z(),Ae(w(B1),{key:`tr1-${i}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),Z("tr",null,[(z(!0),q(gt,null,un(n.row,(a,i)=>(z(),Ae(w(B1),{key:`tr2-${i}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(z(),q("tr",{key:1},[(z(!0),q(gt,null,un(n.row,(a,i)=>(z(),q(gt,{key:`tr3-${i}`},[w(t).border?(z(),q(gt,{key:0},[ie(w(B1),{cell:a,tag:"td",type:"label"},null,8,["cell"]),ie(w(B1),{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(z(),Ae(w(B1),{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var OFe=Ze(LFe,[["__file","descriptions-row.vue"]]);const PFe=je({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:xa,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),FFe=se({name:"ElDescriptions"}),BFe=se({...FFe,props:PFe,setup(e){const t=e,n=ze("descriptions"),r=pa(),a=Sa();hn(EB,t);const i=F(()=>[n.b(),n.m(r.value)]),o=(l,u,c,f=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),f&&(l.props.span=u),l),s=()=>{if(!a.default)return[];const l=ch(a.default()).filter(p=>{var v;return((v=p==null?void 0:p.type)==null?void 0:v.name)==="ElDescriptionsItem"}),u=[];let c=[],f=t.column,d=0;const h=[];return l.forEach((p,v)=>{var g,m,y;const b=((g=p.props)==null?void 0:g.span)||1,x=((m=p.props)==null?void 0:m.rowspan)||1,_=u.length;if(h[_]||(h[_]=0),x>1)for(let S=1;S<x;S++)h[y=_+S]||(h[y]=0),h[_+S]++,d++;if(h[_]>0&&(f-=h[_],h[_]=0),v<l.length-1&&(d+=b>f?f:b),v===l.length-1){const S=t.column-d%t.column;c.push(o(p,S,f,!0)),u.push(c);return}b<f?(f-=b,c.push(p)):(c.push(o(p,b,f)),u.push(c),f=t.column,c=[])}),u};return(l,u)=>(z(),q("div",{class:G(w(i))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(z(),q("div",{key:0,class:G(w(n).e("header"))},[Z("div",{class:G(w(n).e("title"))},[Se(l.$slots,"title",{},()=>[Kt(Ve(l.title),1)])],2),Z("div",{class:G(w(n).e("extra"))},[Se(l.$slots,"extra",{},()=>[Kt(Ve(l.extra),1)])],2)],2)):Te("v-if",!0),Z("div",{class:G(w(n).e("body"))},[Z("table",{class:G([w(n).e("table"),w(n).is("bordered",l.border)])},[Z("tbody",null,[(z(!0),q(gt,null,un(s(),(c,f)=>(z(),Ae(OFe,{key:f,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var VFe=Ze(BFe,[["__file","description.vue"]]);const zFe=je({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),lie=se({name:"ElDescriptionsItem",props:zFe}),WFe=Bt(VFe,{DescriptionsItem:lie}),HFe=Ur(lie),AB=e=>{if(!e)return{onClick:Un,onMousedown:Un,onMouseup:Un};let t=!1,n=!1;return{onClick:o=>{t&&n&&e(o),t=n=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{n=o.target===o.currentTarget}}},UFe=je({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:be([String,Array,Object])},zIndex:{type:be([String,Number])}}),GFe={click:e=>e instanceof MouseEvent},KFe="overlay";var jFe=se({name:"ElOverlay",props:UFe,emits:GFe,setup(e,{slots:t,emit:n}){const r=ze(KFe),a=l=>{n("click",l)},{onClick:i,onMousedown:o,onMouseup:s}=AB(e.customMaskEvent?void 0:a);return()=>e.mask?ie("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:o,onMouseup:s},[Se(t,"default")],hl.STYLE|hl.CLASS|hl.PROPS,["onClick","onMouseup","onMousedown"]):Ct("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Se(t,"default")])}});const DB=jFe,uie=Symbol("dialogInjectionKey"),cie=je({center:Boolean,alignCenter:Boolean,closeIcon:{type:er},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),YFe={close:()=>!0},fie=(e,t,n,r)=>{let a={offsetX:0,offsetY:0};const i=u=>{const c=u.clientX,f=u.clientY,{offsetX:d,offsetY:h}=a,p=e.value.getBoundingClientRect(),v=p.left,g=p.top,m=p.width,y=p.height,b=document.documentElement.clientWidth,x=document.documentElement.clientHeight,_=-v+d,S=-g+h,C=b-v-m+d,k=x-g-y+h,T=E=>{let A=d+E.clientX-c,N=h+E.clientY-f;r!=null&&r.value||(A=Math.min(Math.max(A,_),C),N=Math.min(Math.max(N,S),k)),a={offsetX:A,offsetY:N},e.value&&(e.value.style.transform=`translate(${ta(A)}, ${ta(N)})`)},I=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",I)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",I)},o=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},s=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)},l=()=>{a={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return zt(()=>{Pi(()=>{n.value?o():s()})}),ar(()=>{s()}),{resetPosition:l}},TA=(...e)=>t=>{e.forEach(n=>{mt(n)?n(t):n.value=t})},XFe=se({name:"ElDialogContent"}),qFe=se({...XFe,props:cie,emits:YFe,setup(e,{expose:t}){const n=e,{t:r}=_n(),{Close:a}=eB,{dialogRef:i,headerRef:o,bodyId:s,ns:l,style:u}=ht(uie),{focusTrapRef:c}=ht(oB),f=F(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),d=TA(c,i),h=F(()=>n.draggable),p=F(()=>n.overflow),{resetPosition:v}=fie(i,o,h,p);return t({resetPosition:v}),(g,m)=>(z(),q("div",{ref:w(d),class:G(w(f)),style:yt(w(u)),tabindex:"-1"},[Z("header",{ref_key:"headerRef",ref:o,class:G([w(l).e("header"),{"show-close":g.showClose}])},[Se(g.$slots,"header",{},()=>[Z("span",{role:"heading","aria-level":g.ariaLevel,class:G(w(l).e("title"))},Ve(g.title),11,["aria-level"])]),g.showClose?(z(),q("button",{key:0,"aria-label":w(r)("el.dialog.close"),class:G(w(l).e("headerbtn")),type:"button",onClick:y=>g.$emit("close")},[ie(w(pt),{class:G(w(l).e("close"))},{default:fe(()=>[(z(),Ae(tn(g.closeIcon||w(a))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Te("v-if",!0)],2),Z("div",{id:w(s),class:G(w(l).e("body"))},[Se(g.$slots,"default")],10,["id"]),g.$slots.footer?(z(),q("footer",{key:0,class:G(w(l).e("footer"))},[Se(g.$slots,"footer")],2)):Te("v-if",!0)],6))}});var ZFe=Ze(qFe,[["__file","dialog-content.vue"]]);const die=je({...cie,appendToBody:Boolean,appendTo:{type:be([String,Object]),default:"body"},beforeClose:{type:be(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),hie={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Ht]:e=>lr(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},NB=(e,t={})=>{vr(e)||Na("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||ze("popup"),r=F(()=>n.bm("parent","hidden"));if(!wn||xs(document.body,r.value))return;let a=0,i=!1,o="0";const s=()=>{setTimeout(()=>{typeof document>"u"||(bo(document==null?void 0:document.body,r.value),i&&document&&(document.body.style.width=o))},200)};Oe(e,l=>{if(!l){s();return}i=!xs(document.body,r.value),i&&(o=document.body.style.width),a=Mre(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,c=_f(document.body,"overflowY");a>0&&(u||c==="scroll")&&i&&(document.body.style.width=`calc(100% - ${a}px)`),Sl(document.body,r.value)}),lte(()=>s())},pie=(e,t)=>{var n;const a=jt().emit,{nextZIndex:i}=zy();let o="";const s=Ii(),l=Ii(),u=Y(!1),c=Y(!1),f=Y(!1),d=Y((n=e.zIndex)!=null?n:i());let h,p;const v=pA("namespace",ex),g=F(()=>{const R={},D=`--${v.value}-dialog`;return e.fullscreen||(e.top&&(R[`${D}-margin-top`]=e.top),e.width&&(R[`${D}-width`]=ta(e.width))),R}),m=F(()=>e.alignCenter?{display:"flex"}:{});function y(){a("opened")}function b(){a("closed"),a(Ht,!1),e.destroyOnClose&&(f.value=!1)}function x(){a("close")}function _(){p==null||p(),h==null||h(),e.openDelay&&e.openDelay>0?{stop:h}=ng(()=>T(),e.openDelay):T()}function S(){h==null||h(),p==null||p(),e.closeDelay&&e.closeDelay>0?{stop:p}=ng(()=>I(),e.closeDelay):I()}function C(){function R(D){D||(c.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(R):S()}function k(){e.closeOnClickModal&&C()}function T(){wn&&(u.value=!0)}function I(){u.value=!1}function E(){a("openAutoFocus")}function A(){a("closeAutoFocus")}function N(R){var D;((D=R.detail)==null?void 0:D.focusReason)==="pointer"&&R.preventDefault()}e.lockScroll&&NB(u);function L(){e.closeOnPressEscape&&C()}return Oe(()=>e.modelValue,R=>{R?(c.value=!1,_(),f.value=!0,d.value=vre(e.zIndex)?i():d.value++,xt(()=>{a("open"),t.value&&(t.value.scrollTop=0)})):u.value&&S()}),Oe(()=>e.fullscreen,R=>{t.value&&(R?(o=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=o)}),zt(()=>{e.modelValue&&(u.value=!0,f.value=!0,_())}),{afterEnter:y,afterLeave:b,beforeLeave:x,handleClose:C,onModalClick:k,close:S,doClose:I,onOpenAutoFocus:E,onCloseAutoFocus:A,onCloseRequested:L,onFocusoutPrevented:N,titleId:s,bodyId:l,closed:c,style:g,overlayDialogStyle:m,rendered:f,visible:u,zIndex:d}},JFe=se({name:"ElDialog",inheritAttrs:!1}),QFe=se({...JFe,props:die,emits:hie,setup(e,{expose:t}){const n=e,r=Sa();lh({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},F(()=>!!r.title));const a=ze("dialog"),i=Y(),o=Y(),s=Y(),{visible:l,titleId:u,bodyId:c,style:f,overlayDialogStyle:d,rendered:h,zIndex:p,afterEnter:v,afterLeave:g,beforeLeave:m,handleClose:y,onModalClick:b,onOpenAutoFocus:x,onCloseAutoFocus:_,onCloseRequested:S,onFocusoutPrevented:C}=pie(n,i);hn(uie,{dialogRef:i,headerRef:o,bodyId:c,ns:a,rendered:h,style:f});const k=AB(b),T=F(()=>n.draggable&&!n.fullscreen);return t({visible:l,dialogContentRef:s,resetPosition:()=>{var E;(E=s.value)==null||E.resetPosition()}}),(E,A)=>(z(),Ae(w(Uy),{to:E.appendTo,disabled:E.appendTo!=="body"?!1:!E.appendToBody},{default:fe(()=>[ie(hi,{name:"dialog-fade",onAfterEnter:w(v),onAfterLeave:w(g),onBeforeLeave:w(m),persisted:""},{default:fe(()=>[Vt(ie(w(DB),{"custom-mask-event":"",mask:E.modal,"overlay-class":E.modalClass,"z-index":w(p)},{default:fe(()=>[Z("div",{role:"dialog","aria-modal":"true","aria-label":E.title||void 0,"aria-labelledby":E.title?void 0:w(u),"aria-describedby":w(c),class:G(`${w(a).namespace.value}-overlay-dialog`),style:yt(w(d)),onClick:w(k).onClick,onMousedown:w(k).onMousedown,onMouseup:w(k).onMouseup},[ie(w(Hy),{loop:"",trapped:w(l),"focus-start-el":"container",onFocusAfterTrapped:w(x),onFocusAfterReleased:w(_),onFocusoutPrevented:w(C),onReleaseRequested:w(S)},{default:fe(()=>[w(h)?(z(),Ae(ZFe,rn({key:0,ref_key:"dialogContentRef",ref:s},E.$attrs,{center:E.center,"align-center":E.alignCenter,"close-icon":E.closeIcon,draggable:w(T),overflow:E.overflow,fullscreen:E.fullscreen,"show-close":E.showClose,title:E.title,"aria-level":E.headerAriaLevel,onClose:w(y)}),Nl({header:fe(()=>[E.$slots.title?Se(E.$slots,"title",{key:1}):Se(E.$slots,"header",{key:0,close:w(y),titleId:w(u),titleClass:w(a).e("title")})]),default:fe(()=>[Se(E.$slots,"default")]),_:2},[E.$slots.footer?{name:"footer",fn:fe(()=>[Se(E.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Te("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[En,w(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var e3e=Ze(QFe,[["__file","dialog.vue"]]);const t3e=Bt(e3e),n3e=je({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:be(String),default:"solid"}}),r3e=se({name:"ElDivider"}),a3e=se({...r3e,props:n3e,setup(e){const t=e,n=ze("divider"),r=F(()=>n.cssVar({"border-style":t.borderStyle}));return(a,i)=>(z(),q("div",{class:G([w(n).b(),w(n).m(a.direction)]),style:yt(w(r)),role:"separator"},[a.$slots.default&&a.direction!=="vertical"?(z(),q("div",{key:0,class:G([w(n).e("text"),w(n).is(a.contentPosition)])},[Se(a.$slots,"default")],2)):Te("v-if",!0)],6))}});var i3e=Ze(a3e,[["__file","divider.vue"]]);const vie=Bt(i3e),o3e=je({...die,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),s3e=hie,l3e=se({name:"ElDrawer",inheritAttrs:!1}),u3e=se({...l3e,props:o3e,emits:s3e,setup(e,{expose:t}){const n=e,r=Sa();lh({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},F(()=>!!r.title));const a=Y(),i=Y(),o=ze("drawer"),{t:s}=_n(),{afterEnter:l,afterLeave:u,beforeLeave:c,visible:f,rendered:d,titleId:h,bodyId:p,zIndex:v,onModalClick:g,onOpenAutoFocus:m,onCloseAutoFocus:y,onFocusoutPrevented:b,onCloseRequested:x,handleClose:_}=pie(n,a),S=F(()=>n.direction==="rtl"||n.direction==="ltr"),C=F(()=>ta(n.size));return t({handleClose:_,afterEnter:l,afterLeave:u}),(k,T)=>(z(),Ae(w(Uy),{to:k.appendTo,disabled:k.appendTo!=="body"?!1:!k.appendToBody},{default:fe(()=>[ie(hi,{name:w(o).b("fade"),onAfterEnter:w(l),onAfterLeave:w(u),onBeforeLeave:w(c),persisted:""},{default:fe(()=>[Vt(ie(w(DB),{mask:k.modal,"overlay-class":k.modalClass,"z-index":w(v),onClick:w(g)},{default:fe(()=>[ie(w(Hy),{loop:"",trapped:w(f),"focus-trap-el":a.value,"focus-start-el":i.value,onFocusAfterTrapped:w(m),onFocusAfterReleased:w(y),onFocusoutPrevented:w(b),onReleaseRequested:w(x)},{default:fe(()=>[Z("div",rn({ref_key:"drawerRef",ref:a,"aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:w(h),"aria-describedby":w(p)},k.$attrs,{class:[w(o).b(),k.direction,w(f)&&"open"],style:w(S)?"width: "+w(C):"height: "+w(C),role:"dialog",onClick:At(()=>{},["stop"])}),[Z("span",{ref_key:"focusStartRef",ref:i,class:G(w(o).e("sr-focus")),tabindex:"-1"},null,2),k.withHeader?(z(),q("header",{key:0,class:G(w(o).e("header"))},[k.$slots.title?Se(k.$slots,"title",{key:1},()=>[Te(" DEPRECATED SLOT ")]):Se(k.$slots,"header",{key:0,close:w(_),titleId:w(h),titleClass:w(o).e("title")},()=>[k.$slots.title?Te("v-if",!0):(z(),q("span",{key:0,id:w(h),role:"heading","aria-level":k.headerAriaLevel,class:G(w(o).e("title"))},Ve(k.title),11,["id","aria-level"]))]),k.showClose?(z(),q("button",{key:2,"aria-label":w(s)("el.drawer.close"),class:G(w(o).e("close-btn")),type:"button",onClick:w(_)},[ie(w(pt),{class:G(w(o).e("close"))},{default:fe(()=>[ie(w(Du))]),_:1},8,["class"])],10,["aria-label","onClick"])):Te("v-if",!0)],2)):Te("v-if",!0),w(d)?(z(),q("div",{key:1,id:w(p),class:G(w(o).e("body"))},[Se(k.$slots,"default")],10,["id"])):Te("v-if",!0),k.$slots.footer?(z(),q("div",{key:2,class:G(w(o).e("footer"))},[Se(k.$slots,"footer")],2)):Te("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[En,w(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var c3e=Ze(u3e,[["__file","drawer.vue"]]);const f3e=Bt(c3e),d3e=se({inheritAttrs:!1});function h3e(e,t,n,r,a,i){return Se(e.$slots,"default")}var p3e=Ze(d3e,[["render",h3e],["__file","collection.vue"]]);const v3e=se({name:"ElCollectionItem",inheritAttrs:!1});function g3e(e,t,n,r,a,i){return Se(e.$slots,"default")}var m3e=Ze(v3e,[["render",g3e],["__file","collection-item.vue"]]);const gie="data-el-collection-item",mie=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),a=Symbol(n),i={...p3e,name:t,setup(){const s=Y(null),l=new Map;hn(r,{itemMap:l,getItems:()=>{const c=w(s);if(!c)return[];const f=Array.from(c.querySelectorAll(`[${gie}]`));return[...l.values()].sort((h,p)=>f.indexOf(h.ref)-f.indexOf(p.ref))},collectionRef:s})}},o={...m3e,name:n,setup(s,{attrs:l}){const u=Y(null),c=ht(r,void 0);hn(a,{collectionItemRef:u}),zt(()=>{const f=w(u);f&&c.itemMap.set(f,{ref:f,...l})}),ar(()=>{const f=w(u);c.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:i,ElCollectionItem:o}},y3e=je({style:{type:be([String,Array,Object])},currentTabId:{type:be(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:be(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:b3e,ElCollectionItem:x3e,COLLECTION_INJECTION_KEY:RB,COLLECTION_ITEM_INJECTION_KEY:w3e}=mie("RovingFocusGroup"),MB=Symbol("elRovingFocusGroup"),yie=Symbol("elRovingFocusGroupItem"),_3e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},S3e=(e,t)=>e,C3e=(e,t,n)=>{const r=S3e(e.code);return _3e[r]},T3e=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),$B=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},TG="currentTabIdChange",kG="rovingFocusGroup.entryFocus",k3e={bubbles:!1,cancelable:!0},I3e=se({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:y3e,emits:[TG,"entryFocus"],setup(e,{emit:t}){var n;const r=Y((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),a=Y(!1),i=Y(!1),o=Y(null),{getItems:s}=ht(RB,void 0),l=F(()=>[{outline:"none"},e.style]),u=v=>{t(TG,v)},c=()=>{a.value=!0},f=Qr(v=>{var g;(g=e.onMousedown)==null||g.call(e,v)},()=>{i.value=!0}),d=Qr(v=>{var g;(g=e.onFocus)==null||g.call(e,v)},v=>{const g=!w(i),{target:m,currentTarget:y}=v;if(m===y&&g&&!w(a)){const b=new Event(kG,k3e);if(y==null||y.dispatchEvent(b),!b.defaultPrevented){const x=s().filter(T=>T.focusable),_=x.find(T=>T.active),S=x.find(T=>T.id===w(r)),k=[_,S,...x].filter(Boolean).map(T=>T.ref);$B(k)}}i.value=!1}),h=Qr(v=>{var g;(g=e.onBlur)==null||g.call(e,v)},()=>{a.value=!1}),p=(...v)=>{t("entryFocus",...v)};hn(MB,{currentTabbedId:Oy(r),loop:Wn(e,"loop"),tabIndex:F(()=>w(a)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,orientation:Wn(e,"orientation"),dir:Wn(e,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:d,onMousedown:f}),Oe(()=>e.currentTabId,v=>{r.value=v??null}),Zn(o,kG,p)}});function E3e(e,t,n,r,a,i){return Se(e.$slots,"default")}var A3e=Ze(I3e,[["render",E3e],["__file","roving-focus-group-impl.vue"]]);const D3e=se({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:b3e,ElRovingFocusGroupImpl:A3e}});function N3e(e,t,n,r,a,i){const o=Ft("el-roving-focus-group-impl"),s=Ft("el-focus-group-collection");return z(),Ae(s,null,{default:fe(()=>[ie(o,fu(wh(e.$attrs)),{default:fe(()=>[Se(e.$slots,"default")]),_:3},16)]),_:3})}var R3e=Ze(D3e,[["render",N3e],["__file","roving-focus-group.vue"]]);const HT=je({trigger:Jx.trigger,triggerKeys:{type:be(Array),default:()=>[lt.enter,lt.numpadEnter,lt.space,lt.down]},effect:{...Ja.effect,default:"light"},type:{type:be(String)},placement:{type:be(String),default:"bottom"},popperOptions:{type:be(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:be([Number,String]),default:0},maxHeight:{type:be([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:be(Object)},teleported:Ja.teleported}),bie=je({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:er}}),M3e=je({onKeydown:{type:be(Function)}}),$3e=[lt.down,lt.pageDown,lt.home],xie=[lt.up,lt.pageUp,lt.end],L3e=[...$3e,...xie],{ElCollection:O3e,ElCollectionItem:P3e,COLLECTION_INJECTION_KEY:F3e,COLLECTION_ITEM_INJECTION_KEY:B3e}=mie("Dropdown"),kA=Symbol("elDropdown"),{ButtonGroup:V3e}=si,z3e=se({name:"ElDropdown",components:{ElButton:si,ElButtonGroup:V3e,ElScrollbar:qc,ElDropdownCollection:O3e,ElTooltip:Hi,ElRovingFocusGroup:R3e,ElOnlyChild:Zre,ElIcon:pt,ArrowDown:Xc},props:HT,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=jt(),r=ze("dropdown"),{t:a}=_n(),i=Y(),o=Y(),s=Y(null),l=Y(null),u=Y(null),c=Y(null),f=Y(!1),d=F(()=>({maxHeight:ta(e.maxHeight)})),h=F(()=>[r.m(x.value)]),p=F(()=>ho(e.trigger)),v=Ii().value,g=F(()=>e.id||v);Oe([i,p],([D,P],[O])=>{var M,W,U;(M=O==null?void 0:O.$el)!=null&&M.removeEventListener&&O.$el.removeEventListener("pointerenter",S),(W=D==null?void 0:D.$el)!=null&&W.removeEventListener&&D.$el.removeEventListener("pointerenter",S),(U=D==null?void 0:D.$el)!=null&&U.addEventListener&&P.includes("hover")&&D.$el.addEventListener("pointerenter",S)},{immediate:!0}),ar(()=>{var D,P;(P=(D=i.value)==null?void 0:D.$el)!=null&&P.removeEventListener&&i.value.$el.removeEventListener("pointerenter",S)});function m(){y()}function y(){var D;(D=s.value)==null||D.onClose()}function b(){var D;(D=s.value)==null||D.onOpen()}const x=pa();function _(...D){t("command",...D)}function S(){var D,P;(P=(D=i.value)==null?void 0:D.$el)==null||P.focus()}function C(){}function k(){const D=w(l);p.value.includes("hover")&&(D==null||D.focus()),c.value=null}function T(D){c.value=D}function I(D){f.value||(D.preventDefault(),D.stopImmediatePropagation())}function E(){t("visible-change",!0)}function A(D){(D==null?void 0:D.type)==="keydown"&&l.value.focus()}function N(){t("visible-change",!1)}return hn(kA,{contentRef:l,role:F(()=>e.role),triggerId:g,isUsingKeyboard:f,onItemEnter:C,onItemLeave:k}),hn("elDropdown",{instance:n,dropdownSize:x,handleClick:m,commandHandler:_,trigger:Wn(e,"trigger"),hideOnClick:Wn(e,"hideOnClick")}),{t:a,ns:r,scrollbar:u,wrapStyle:d,dropdownTriggerKls:h,dropdownSize:x,triggerId:g,currentTabId:c,handleCurrentTabIdChange:T,handlerMainButtonClick:D=>{t("click",D)},handleEntryFocus:I,handleClose:y,handleOpen:b,handleBeforeShowTooltip:E,handleShowTooltip:A,handleBeforeHideTooltip:N,onFocusAfterTrapped:D=>{var P,O;D.preventDefault(),(O=(P=l.value)==null?void 0:P.focus)==null||O.call(P,{preventScroll:!0})},popperRef:s,contentRef:l,triggeringElementRef:i,referenceElementRef:o}}});function W3e(e,t,n,r,a,i){var o;const s=Ft("el-dropdown-collection"),l=Ft("el-roving-focus-group"),u=Ft("el-scrollbar"),c=Ft("el-only-child"),f=Ft("el-tooltip"),d=Ft("el-button"),h=Ft("arrow-down"),p=Ft("el-icon"),v=Ft("el-button-group");return z(),q("div",{class:G([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ie(f,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(o=e.referenceElementRef)==null?void 0:o.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Nl({content:fe(()=>[ie(u,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:fe(()=>[ie(l,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:fe(()=>[ie(s,null,{default:fe(()=>[Se(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:fe(()=>[ie(c,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:fe(()=>[Se(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(z(),Ae(v,{key:0},{default:fe(()=>[ie(d,rn({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:fe(()=>[Se(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ie(d,rn({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:fe(()=>[ie(p,{class:G(e.ns.e("icon"))},{default:fe(()=>[ie(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Te("v-if",!0)],2)}var H3e=Ze(z3e,[["render",W3e],["__file","dropdown.vue"]]);const U3e=se({components:{ElRovingFocusCollectionItem:x3e},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:a,onItemShiftTab:i}=ht(MB,void 0),{getItems:o}=ht(RB,void 0),s=Ii(),l=Y(null),u=Qr(h=>{t("mousedown",h)},h=>{e.focusable?a(w(s)):h.preventDefault()}),c=Qr(h=>{t("focus",h)},()=>{a(w(s))}),f=Qr(h=>{t("keydown",h)},h=>{const{code:p,shiftKey:v,target:g,currentTarget:m}=h;if(p===lt.tab&&v){i();return}if(g!==m)return;const y=C3e(h);if(y){h.preventDefault();let x=o().filter(_=>_.focusable).map(_=>_.ref);switch(y){case"last":{x.reverse();break}case"prev":case"next":{y==="prev"&&x.reverse();const _=x.indexOf(m);x=r.value?T3e(x,_+1):x.slice(_+1);break}}xt(()=>{$B(x)})}}),d=F(()=>n.value===w(s));return hn(yie,{rovingFocusGroupItemRef:l,tabIndex:F(()=>w(d)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:f}),{id:s,handleKeydown:f,handleFocus:c,handleMousedown:u}}});function G3e(e,t,n,r,a,i){const o=Ft("el-roving-focus-collection-item");return z(),Ae(o,{id:e.id,focusable:e.focusable,active:e.active},{default:fe(()=>[Se(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var K3e=Ze(U3e,[["render",G3e],["__file","roving-focus-item.vue"]]);const j3e=se({name:"DropdownItemImpl",components:{ElIcon:pt},props:bie,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=ze("dropdown"),{role:r}=ht(kA,void 0),{collectionItemRef:a}=ht(B3e,void 0),{collectionItemRef:i}=ht(w3e,void 0),{rovingFocusGroupItemRef:o,tabIndex:s,handleFocus:l,handleKeydown:u,handleMousedown:c}=ht(yie,void 0),f=TA(a,i,o),d=F(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=Qr(p=>{if([lt.enter,lt.numpadEnter,lt.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),t("clickimpl",p),!0},u);return{ns:n,itemRef:f,dataset:{[gie]:""},role:d,tabIndex:s,handleFocus:l,handleKeydown:h,handleMousedown:c}}});function Y3e(e,t,n,r,a,i){const o=Ft("el-icon");return z(),q(gt,null,[e.divided?(z(),q("li",{key:0,role:"separator",class:G(e.ns.bem("menu","item","divided"))},null,2)):Te("v-if",!0),Z("li",rn({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:s=>e.$emit("clickimpl",s),onFocus:e.handleFocus,onKeydown:At(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:s=>e.$emit("pointermove",s),onPointerleave:s=>e.$emit("pointerleave",s)}),[e.icon?(z(),Ae(o,{key:0},{default:fe(()=>[(z(),Ae(tn(e.icon)))]),_:1})):Te("v-if",!0),Se(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var X3e=Ze(j3e,[["render",Y3e],["__file","dropdown-item-impl.vue"]]);const wie=()=>{const e=ht("elDropdown",{}),t=F(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},q3e=se({name:"ElDropdownItem",components:{ElDropdownCollectionItem:P3e,ElRovingFocusItem:K3e,ElDropdownItemImpl:X3e},inheritAttrs:!1,props:bie,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=wie(),a=jt(),i=Y(null),o=F(()=>{var h,p;return(p=(h=w(i))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:s,onItemLeave:l}=ht(kA,void 0),u=Qr(h=>(t("pointermove",h),h.defaultPrevented),jU(h=>{if(e.disabled){l(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(s(h),h.defaultPrevented||p==null||p.focus())})),c=Qr(h=>(t("pointerleave",h),h.defaultPrevented),jU(l)),f=Qr(h=>{if(!e.disabled)return t("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,v,g;if(e.disabled){h.stopImmediatePropagation();return}(p=r==null?void 0:r.hideOnClick)!=null&&p.value&&((v=r.handleClick)==null||v.call(r)),(g=r.commandHandler)==null||g.call(r,e.command,a,h)}),d=F(()=>({...e,...n}));return{handleClick:f,handlePointerMove:u,handlePointerLeave:c,textContent:o,propsAndAttrs:d}}});function Z3e(e,t,n,r,a,i){var o;const s=Ft("el-dropdown-item-impl"),l=Ft("el-roving-focus-item"),u=Ft("el-dropdown-collection-item");return z(),Ae(u,{disabled:e.disabled,"text-value":(o=e.textValue)!=null?o:e.textContent},{default:fe(()=>[ie(l,{focusable:!e.disabled},{default:fe(()=>[ie(s,rn(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:fe(()=>[Se(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var _ie=Ze(q3e,[["render",Z3e],["__file","dropdown-item.vue"]]);const J3e=se({name:"ElDropdownMenu",props:M3e,setup(e){const t=ze("dropdown"),{_elDropdownSize:n}=wie(),r=n.value,{focusTrapRef:a,onKeydown:i}=ht(oB,void 0),{contentRef:o,role:s,triggerId:l}=ht(kA,void 0),{collectionRef:u,getItems:c}=ht(F3e,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:d,tabIndex:h,onBlur:p,onFocus:v,onMousedown:g}=ht(MB,void 0),{collectionRef:m}=ht(RB,void 0),y=F(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),b=TA(o,u,a,f,m),x=Qr(S=>{var C;(C=e.onKeydown)==null||C.call(e,S)},S=>{const{currentTarget:C,code:k,target:T}=S;if(C.contains(T),lt.tab===k&&S.stopImmediatePropagation(),S.preventDefault(),T!==w(o)||!L3e.includes(k))return;const E=c().filter(A=>!A.disabled).map(A=>A.ref);xie.includes(k)&&E.reverse(),$B(E)});return{size:r,rovingFocusGroupRootStyle:d,tabIndex:h,dropdownKls:y,role:s,triggerId:l,dropdownListWrapperRef:b,handleKeydown:S=>{x(S),i(S)},onBlur:p,onFocus:v,onMousedown:g}}});function Q3e(e,t,n,r,a,i){return z(),q("ul",{ref:e.dropdownListWrapperRef,class:G(e.dropdownKls),style:yt(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:At(e.handleKeydown,["self"]),onMousedown:At(e.onMousedown,["self"])},[Se(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Sie=Ze(J3e,[["render",Q3e],["__file","dropdown-menu.vue"]]);const e4e=Bt(H3e,{DropdownItem:_ie,DropdownMenu:Sie}),t4e=Ur(_ie),n4e=Ur(Sie),r4e=se({name:"ImgEmpty"}),a4e=se({...r4e,setup(e){const t=ze("empty"),n=Ii();return(r,a)=>(z(),q("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Z("defs",null,[Z("linearGradient",{id:`linearGradient-1-${w(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Z("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Z("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Z("linearGradient",{id:`linearGradient-2-${w(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Z("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Z("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Z("rect",{id:`path-3-${w(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),Z("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[Z("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[Z("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[Z("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${w(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-14",fill:`var(${w(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),Z("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[Z("polygon",{id:"Rectangle-Copy-10",fill:`var(${w(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-11",fill:`var(${w(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),Z("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${w(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),Z("polygon",{id:"Rectangle-Copy-13",fill:`var(${w(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),Z("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${w(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),Z("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[Z("use",{id:"Mask",fill:`var(${w(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${w(n)}`},null,8,["fill","xlink:href"]),Z("polygon",{id:"Rectangle-Copy",fill:`var(${w(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${w(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),Z("polygon",{id:"Rectangle-Copy-18",fill:`var(${w(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var i4e=Ze(a4e,[["__file","img-empty.vue"]]);const o4e=je({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),s4e=se({name:"ElEmpty"}),l4e=se({...s4e,props:o4e,setup(e){const t=e,{t:n}=_n(),r=ze("empty"),a=F(()=>t.description||n("el.table.emptyText")),i=F(()=>({width:ta(t.imageSize)}));return(o,s)=>(z(),q("div",{class:G(w(r).b())},[Z("div",{class:G(w(r).e("image")),style:yt(w(i))},[o.image?(z(),q("img",{key:0,src:o.image,ondragstart:"return false"},null,8,["src"])):Se(o.$slots,"image",{key:1},()=>[ie(i4e)])],6),Z("div",{class:G(w(r).e("description"))},[o.$slots.description?Se(o.$slots,"description",{key:0}):(z(),q("p",{key:1},Ve(w(a)),1))],2),o.$slots.default?(z(),q("div",{key:0,class:G(w(r).e("bottom"))},[Se(o.$slots,"default")],2)):Te("v-if",!0)],2))}});var u4e=Ze(l4e,[["__file","empty.vue"]]);const Cie=Bt(u4e),c4e=je({size:{type:String,values:Yc},disabled:Boolean}),f4e=je({...c4e,model:Object,rules:{type:be(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),d4e={validate:(e,t,n)=>(Ke(e)||vt(e))&&lr(t)&&vt(n)};function h4e(){const e=Y([]),t=F(()=>{if(!e.value.length)return"0";const i=Math.max(...e.value);return i?`${i}px`:""});function n(i){const o=e.value.indexOf(i);return o===-1&&t.value,o}function r(i,o){if(i&&o){const s=n(o);e.value.splice(s,1,i)}else i&&e.value.push(i)}function a(i){const o=n(i);o>-1&&e.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:a}}const UC=(e,t)=>{const n=ho(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},p4e="ElForm",v4e=se({name:p4e}),g4e=se({...v4e,props:f4e,emits:d4e,setup(e,{expose:t,emit:n}){const r=e,a=[],i=pa(),o=ze("form"),s=F(()=>{const{labelPosition:b,inline:x}=r;return[o.b(),o.m(i.value||"default"),{[o.m(`label-${b}`)]:b,[o.m("inline")]:x}]}),l=b=>a.find(x=>x.prop===b),u=b=>{a.push(b)},c=b=>{b.prop&&a.splice(a.indexOf(b),1)},f=(b=[])=>{r.model&&UC(a,b).forEach(x=>x.resetField())},d=(b=[])=>{UC(a,b).forEach(x=>x.clearValidate())},h=F(()=>!!r.model),p=b=>{if(a.length===0)return[];const x=UC(a,b);return x.length?x:[]},v=async b=>m(void 0,b),g=async(b=[])=>{if(!h.value)return!1;const x=p(b);if(x.length===0)return!0;let _={};for(const S of x)try{await S.validate("")}catch(C){_={..._,...C}}return Object.keys(_).length===0?!0:Promise.reject(_)},m=async(b=[],x)=>{const _=!mt(x);try{const S=await g(b);return S===!0&&await(x==null?void 0:x(S)),S}catch(S){if(S instanceof Error)throw S;const C=S;return r.scrollToError&&y(Object.keys(C)[0]),await(x==null?void 0:x(!1,C)),_&&Promise.reject(C)}},y=b=>{var x;const _=UC(a,b)[0];_&&((x=_.$el)==null||x.scrollIntoView(r.scrollIntoViewOptions))};return Oe(()=>r.rules,()=>{r.validateOnRuleChange&&v().catch(b=>void 0)},{deep:!0}),hn(Pg,Ln({...di(r),emit:n,resetFields:f,clearValidate:d,validateField:m,getField:l,addField:u,removeField:c,...h4e()})),t({validate:v,validateField:m,resetFields:f,clearValidate:d,scrollToField:y,fields:a}),(b,x)=>(z(),q("form",{class:G(w(s))},[Se(b.$slots,"default")],2))}});var m4e=Ze(g4e,[["__file","form.vue"]]);function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(this,arguments)}function y4e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tw(e,t)}function $O(e){return $O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$O(e)}function tw(e,t){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tw(e,t)}function b4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function UT(e,t,n){return b4e()?UT=Reflect.construct.bind():UT=function(a,i,o){var s=[null];s.push.apply(s,i);var l=Function.bind.apply(a,s),u=new l;return o&&tw(u,o.prototype),u},UT.apply(null,arguments)}function x4e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function LO(e){var t=typeof Map=="function"?new Map:void 0;return LO=function(r){if(r===null||!x4e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return UT(r,arguments,$O(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),tw(a,r)},LO(e)}var w4e=/%[sdj%]/g,_4e=function(){};function OO(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function Fs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,i=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var o=e.replace(w4e,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch{return"[Circular]"}break;default:return s}});return o}return e}function S4e(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function pi(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||S4e(t)&&typeof e=="string"&&!e)}function C4e(e,t,n){var r=[],a=0,i=e.length;function o(s){r.push.apply(r,s||[]),a++,a===i&&n(r)}e.forEach(function(s){t(s,o)})}function IG(e,t,n){var r=0,a=e.length;function i(o){if(o&&o.length){n(o);return}var s=r;r=r+1,s<a?t(e[s],i):n([])}i([])}function T4e(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var EG=function(e){y4e(t,e);function t(n,r){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=n,a.fields=r,a}return t}(LO(Error));function k4e(e,t,n,r,a){if(t.first){var i=new Promise(function(d,h){var p=function(m){return r(m),m.length?h(new EG(m,OO(m))):d(a)},v=T4e(e);IG(v,n,p)});return i.catch(function(d){return d}),i}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],f=new Promise(function(d,h){var p=function(g){if(c.push.apply(c,g),u++,u===l)return r(c),c.length?h(new EG(c,OO(c))):d(a)};s.length||(r(c),d(a)),s.forEach(function(v){var g=e[v];o.indexOf(v)!==-1?IG(g,n,p):C4e(g,n,p)})});return f.catch(function(d){return d}),f}function I4e(e){return!!(e&&e.message!==void 0)}function E4e(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function AG(e,t){return function(n){var r;return e.fullFields?r=E4e(t,e.fullFields):r=t[n.field||e.fullField],I4e(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function DG(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=gv({},e[n],r):e[n]=r}}return e}var Tie=function(t,n,r,a,i,o){t.required&&(!r.hasOwnProperty(t.field)||pi(n,o||t.type))&&a.push(Fs(i.messages.required,t.fullField))},A4e=function(t,n,r,a,i){(/^\s+$/.test(n)||n==="")&&a.push(Fs(i.messages.whitespace,t.fullField))},GC,D4e=function(){if(GC)return GC;var e="[a-fA-F\\d:]",t=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+a+"$)"),o=new RegExp("^"+n+"$"),s=new RegExp("^"+a+"$"),l=function(x){return x&&x.exact?i:new RegExp("(?:"+t(x)+n+t(x)+")|(?:"+t(x)+a+t(x)+")","g")};l.v4=function(b){return b&&b.exact?o:new RegExp(""+t(b)+n+t(b),"g")},l.v6=function(b){return b&&b.exact?s:new RegExp(""+t(b)+a+t(b),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',y="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+d+"|"+h+p+v+")"+g+m;return GC=new RegExp("(?:^"+y+"$)","i"),GC},NG={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},_b={integer:function(t){return _b.number(t)&&parseInt(t,10)===t},float:function(t){return _b.number(t)&&!_b.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!_b.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(NG.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(D4e())},hex:function(t){return typeof t=="string"&&!!t.match(NG.hex)}},N4e=function(t,n,r,a,i){if(t.required&&n===void 0){Tie(t,n,r,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?_b[s](n)||a.push(Fs(i.messages.types[s],t.fullField,t.type)):s&&typeof n!==t.type&&a.push(Fs(i.messages.types[s],t.fullField,t.type))},R4e=function(t,n,r,a,i){var o=typeof t.len=="number",s=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,f=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?f="number":h?f="string":p&&(f="array"),!f)return!1;p&&(c=n.length),h&&(c=n.replace(u,"_").length),o?c!==t.len&&a.push(Fs(i.messages[f].len,t.fullField,t.len)):s&&!l&&c<t.min?a.push(Fs(i.messages[f].min,t.fullField,t.min)):l&&!s&&c>t.max?a.push(Fs(i.messages[f].max,t.fullField,t.max)):s&&l&&(c<t.min||c>t.max)&&a.push(Fs(i.messages[f].range,t.fullField,t.min,t.max))},y0="enum",M4e=function(t,n,r,a,i){t[y0]=Array.isArray(t[y0])?t[y0]:[],t[y0].indexOf(n)===-1&&a.push(Fs(i.messages[y0],t.fullField,t[y0].join(", ")))},$4e=function(t,n,r,a,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||a.push(Fs(i.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(n)||a.push(Fs(i.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},ur={required:Tie,whitespace:A4e,type:N4e,range:R4e,enum:M4e,pattern:$4e},L4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n,"string")&&!t.required)return r();ur.required(t,n,a,o,i,"string"),pi(n,"string")||(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i),ur.pattern(t,n,a,o,i),t.whitespace===!0&&ur.whitespace(t,n,a,o,i))}r(o)},O4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&ur.type(t,n,a,o,i)}r(o)},P4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(n===""&&(n=void 0),pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i))}r(o)},F4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&ur.type(t,n,a,o,i)}r(o)},B4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),pi(n)||ur.type(t,n,a,o,i)}r(o)},V4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i))}r(o)},z4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i))}r(o)},W4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(n==null&&!t.required)return r();ur.required(t,n,a,o,i,"array"),n!=null&&(ur.type(t,n,a,o,i),ur.range(t,n,a,o,i))}r(o)},H4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&ur.type(t,n,a,o,i)}r(o)},U4e="enum",G4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i),n!==void 0&&ur[U4e](t,n,a,o,i)}r(o)},K4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n,"string")&&!t.required)return r();ur.required(t,n,a,o,i),pi(n,"string")||ur.pattern(t,n,a,o,i)}r(o)},j4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n,"date")&&!t.required)return r();if(ur.required(t,n,a,o,i),!pi(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),ur.type(t,l,a,o,i),l&&ur.range(t,l.getTime(),a,o,i)}}r(o)},Y4e=function(t,n,r,a,i){var o=[],s=Array.isArray(n)?"array":typeof n;ur.required(t,n,a,o,i,s),r(o)},RR=function(t,n,r,a,i){var o=t.type,s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(pi(n,o)&&!t.required)return r();ur.required(t,n,a,s,i,o),pi(n,o)||ur.type(t,n,a,s,i)}r(s)},X4e=function(t,n,r,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(pi(n)&&!t.required)return r();ur.required(t,n,a,o,i)}r(o)},ix={string:L4e,method:O4e,number:P4e,boolean:F4e,regexp:B4e,integer:V4e,float:z4e,array:W4e,object:H4e,enum:G4e,pattern:K4e,date:j4e,url:RR,hex:RR,email:RR,required:Y4e,any:X4e};function PO(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var FO=PO(),I_=function(){function e(n){this.rules=null,this._messages=FO,this.define(n)}var t=e.prototype;return t.define=function(r){var a=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var o=r[i];a.rules[i]=Array.isArray(o)?o:[o]})},t.messages=function(r){return r&&(this._messages=DG(PO(),r)),this._messages},t.validate=function(r,a,i){var o=this;a===void 0&&(a={}),i===void 0&&(i=function(){});var s=r,l=a,u=i;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(v){var g=[],m={};function y(x){if(Array.isArray(x)){var _;g=(_=g).concat.apply(_,x)}else g.push(x)}for(var b=0;b<v.length;b++)y(v[b]);g.length?(m=OO(g),u(g,m)):u(null,s)}if(l.messages){var f=this.messages();f===FO&&(f=PO()),DG(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(v){var g=o.rules[v],m=s[v];g.forEach(function(y){var b=y;typeof b.transform=="function"&&(s===r&&(s=gv({},s)),m=s[v]=b.transform(m)),typeof b=="function"?b={validator:b}:b=gv({},b),b.validator=o.getValidationMethod(b),b.validator&&(b.field=v,b.fullField=b.fullField||v,b.type=o.getType(b),d[v]=d[v]||[],d[v].push({rule:b,value:m,source:s,field:v}))})});var p={};return k4e(d,l,function(v,g){var m=v.rule,y=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");y=y&&(m.required||!m.required&&v.value),m.field=v.field;function b(S,C){return gv({},C,{fullField:m.fullField+"."+S,fullFields:m.fullFields?[].concat(m.fullFields,[S]):[S]})}function x(S){S===void 0&&(S=[]);var C=Array.isArray(S)?S:[S];!l.suppressWarning&&C.length&&e.warning("async-validator:",C),C.length&&m.message!==void 0&&(C=[].concat(m.message));var k=C.map(AG(m,s));if(l.first&&k.length)return p[m.field]=1,g(k);if(!y)g(k);else{if(m.required&&!v.value)return m.message!==void 0?k=[].concat(m.message).map(AG(m,s)):l.error&&(k=[l.error(m,Fs(l.messages.required,m.field))]),g(k);var T={};m.defaultField&&Object.keys(v.value).map(function(A){T[A]=m.defaultField}),T=gv({},T,v.rule.fields);var I={};Object.keys(T).forEach(function(A){var N=T[A],L=Array.isArray(N)?N:[N];I[A]=L.map(b.bind(null,A))});var E=new e(I);E.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),E.validate(v.value,v.rule.options||l,function(A){var N=[];k&&k.length&&N.push.apply(N,k),A&&A.length&&N.push.apply(N,A),g(N.length?N:null)})}}var _;if(m.asyncValidator)_=m.asyncValidator(m,v.value,x,v.source,l);else if(m.validator){try{_=m.validator(m,v.value,x,v.source,l)}catch(S){console.error==null||console.error(S),l.suppressValidatorError||setTimeout(function(){throw S},0),x(S.message)}_===!0?x():_===!1?x(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):_ instanceof Array?x(_):_ instanceof Error&&x(_.message)}_&&_.then&&_.then(function(){return x()},function(S){return x(S)})},function(v){c(v)},s)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!ix.hasOwnProperty(r.type))throw new Error(Fs("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var a=Object.keys(r),i=a.indexOf("message");return i!==-1&&a.splice(i,1),a.length===1&&a[0]==="required"?ix.required:ix[this.getType(r)]||void 0},e}();I_.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");ix[t]=n};I_.warning=_4e;I_.messages=FO;I_.validators=ix;const q4e=["","error","validating","success"],Z4e=je({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:be([String,Array])},required:{type:Boolean,default:void 0},rules:{type:be([Object,Array])},error:String,validateStatus:{type:String,values:q4e},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Yc}}),RG="ElLabelWrap";var J4e=se({name:RG,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=ht(Pg,void 0),r=ht(Rc);r||Na(RG,"usage: <el-form-item><label-wrap /></el-form-item>");const a=ze("form"),i=Y(),o=Y(0),s=()=>{var c;if((c=i.value)!=null&&c.firstElementChild){const f=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(c="update")=>{xt(()=>{t.default&&e.isAutoWidth&&(c==="update"?o.value=s():c==="remove"&&(n==null||n.deregisterLabelWidth(o.value)))})},u=()=>l("update");return zt(()=>{u()}),ar(()=>{l("remove")}),Kc(()=>u()),Oe(o,(c,f)=>{e.updateAll&&(n==null||n.registerLabelWidth(c,f))}),Mr(F(()=>{var c,f;return(f=(c=i.value)==null?void 0:c.firstElementChild)!=null?f:null}),u),()=>{var c,f;if(!t)return null;const{isAutoWidth:d}=e;if(d){const h=n==null?void 0:n.autoLabelWidth,p=r==null?void 0:r.hasLabel,v={};if(p&&h&&h!=="auto"){const g=Math.max(0,Number.parseInt(h,10)-o.value),y=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";g&&(v[y]=`${g}px`)}return ie("div",{ref:i,class:[a.be("item","label-wrap")],style:v},[(c=t.default)==null?void 0:c.call(t)])}else return ie(gt,{ref:i},[(f=t.default)==null?void 0:f.call(t)])}}});const Q4e=se({name:"ElFormItem"}),eBe=se({...Q4e,props:Z4e,setup(e,{expose:t}){const n=e,r=Sa(),a=ht(Pg,void 0),i=ht(Rc,void 0),o=pa(void 0,{formItem:!1}),s=ze("form-item"),l=Ii().value,u=Y([]),c=Y(""),f=YIe(c,100),d=Y(""),h=Y();let p,v=!1;const g=F(()=>n.labelPosition||(a==null?void 0:a.labelPosition)),m=F(()=>{if(g.value==="top")return{};const oe=ta(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return oe?{width:oe}:{}}),y=F(()=>{if(g.value==="top"||a!=null&&a.inline)return{};if(!n.label&&!n.labelWidth&&I)return{};const oe=ta(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return!n.label&&!r.label?{marginLeft:oe}:{}}),b=F(()=>[s.b(),s.m(o.value),s.is("error",c.value==="error"),s.is("validating",c.value==="validating"),s.is("success",c.value==="success"),s.is("required",R.value||n.required),s.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:a==null?void 0:a.statusIcon,[s.m(`label-${g.value}`)]:g.value}]),x=F(()=>lr(n.inlineMessage)?n.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),_=F(()=>[s.e("error"),{[s.em("error","inline")]:x.value}]),S=F(()=>n.prop?vt(n.prop)?n.prop:n.prop.join("."):""),C=F(()=>!!(n.label||r.label)),k=F(()=>n.for||(u.value.length===1?u.value[0]:void 0)),T=F(()=>!k.value&&C.value),I=!!i,E=F(()=>{const oe=a==null?void 0:a.model;if(!(!oe||!n.prop))return ET(oe,n.prop).value}),A=F(()=>{const{required:oe}=n,ae=[];n.rules&&ae.push(...ho(n.rules));const me=a==null?void 0:a.rules;if(me&&n.prop){const ve=ET(me,n.prop).value;ve&&ae.push(...ho(ve))}if(oe!==void 0){const ve=ae.map((B,re)=>[B,re]).filter(([B])=>Object.keys(B).includes("required"));if(ve.length>0)for(const[B,re]of ve)B.required!==oe&&(ae[re]={...B,required:oe});else ae.push({required:oe})}return ae}),N=F(()=>A.value.length>0),L=oe=>A.value.filter(me=>!me.trigger||!oe?!0:Ke(me.trigger)?me.trigger.includes(oe):me.trigger===oe).map(({trigger:me,...ve})=>ve),R=F(()=>A.value.some(oe=>oe.required)),D=F(()=>{var oe;return f.value==="error"&&n.showMessage&&((oe=a==null?void 0:a.showMessage)!=null?oe:!0)}),P=F(()=>`${n.label||""}${(a==null?void 0:a.labelSuffix)||""}`),O=oe=>{c.value=oe},M=oe=>{var ae,me;const{errors:ve,fields:B}=oe;(!ve||!B)&&console.error(oe),O("error"),d.value=ve?(me=(ae=ve==null?void 0:ve[0])==null?void 0:ae.message)!=null?me:`${n.prop} is required`:"",a==null||a.emit("validate",n.prop,!1,d.value)},W=()=>{O("success"),a==null||a.emit("validate",n.prop,!0,"")},U=async oe=>{const ae=S.value;return new I_({[ae]:oe}).validate({[ae]:E.value},{firstFields:!0}).then(()=>(W(),!0)).catch(ve=>(M(ve),Promise.reject(ve)))},V=async(oe,ae)=>{if(v||!n.prop)return!1;const me=mt(ae);if(!N.value)return ae==null||ae(!1),!1;const ve=L(oe);return ve.length===0?(ae==null||ae(!0),!0):(O("validating"),U(ve).then(()=>(ae==null||ae(!0),!0)).catch(B=>{const{fields:re}=B;return ae==null||ae(!1,re),me?!1:Promise.reject(re)}))},H=()=>{O(""),d.value="",v=!1},K=async()=>{const oe=a==null?void 0:a.model;if(!oe||!n.prop)return;const ae=ET(oe,n.prop);v=!0,ae.value=tU(p),await xt(),H(),v=!1},j=oe=>{u.value.includes(oe)||u.value.push(oe)},ne=oe=>{u.value=u.value.filter(ae=>ae!==oe)};Oe(()=>n.error,oe=>{d.value=oe||"",O(oe?"error":"")},{immediate:!0}),Oe(()=>n.validateStatus,oe=>O(oe||""));const Q=Ln({...di(n),$el:h,size:o,validateState:c,labelId:l,inputIds:u,isGroup:T,hasLabel:C,fieldValue:E,addInputId:j,removeInputId:ne,resetField:K,clearValidate:H,validate:V});return hn(Rc,Q),zt(()=>{n.prop&&(a==null||a.addField(Q),p=tU(E.value))}),ar(()=>{a==null||a.removeField(Q)}),t({size:o,validateMessage:d,validateState:c,validate:V,clearValidate:H,resetField:K}),(oe,ae)=>{var me;return z(),q("div",{ref_key:"formItemRef",ref:h,class:G(w(b)),role:w(T)?"group":void 0,"aria-labelledby":w(T)?w(l):void 0},[ie(w(J4e),{"is-auto-width":w(m).width==="auto","update-all":((me=w(a))==null?void 0:me.labelWidth)==="auto"},{default:fe(()=>[w(C)?(z(),Ae(tn(w(k)?"label":"div"),{key:0,id:w(l),for:w(k),class:G(w(s).e("label")),style:yt(w(m))},{default:fe(()=>[Se(oe.$slots,"label",{label:w(P)},()=>[Kt(Ve(w(P)),1)])]),_:3},8,["id","for","class","style"])):Te("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:G(w(s).e("content")),style:yt(w(y))},[Se(oe.$slots,"default"),ie(Sne,{name:`${w(s).namespace.value}-zoom-in-top`},{default:fe(()=>[w(D)?Se(oe.$slots,"error",{key:0,error:d.value},()=>[Z("div",{class:G(w(_))},Ve(d.value),3)]):Te("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var kie=Ze(eBe,[["__file","form-item.vue"]]);const tBe=Bt(m4e,{FormItem:kie}),nBe=Ur(kie),rBe=je({urlList:{type:be(Array),default:()=>zr([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:be(String)}}),aBe={close:()=>!0,switch:e=>Tt(e),rotate:e=>Tt(e)},iBe=se({name:"ElImageViewer"}),oBe=se({...iBe,props:rBe,emits:aBe,setup(e,{expose:t,emit:n}){var r;const a=e,i={CONTAIN:{name:"contain",icon:sh(fAe)},ORIGINAL:{name:"original",icon:sh(MAe)}},{t:o}=_n(),s=ze("image-viewer"),{nextZIndex:l}=zy(),u=Y(),c=Y([]),f=ote(),d=Y(!0),h=Y(a.initialIndex),p=dr(i.CONTAIN),v=Y({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=Y((r=a.zIndex)!=null?r:l()),m=F(()=>{const{urlList:V}=a;return V.length<=1}),y=F(()=>h.value===0),b=F(()=>h.value===a.urlList.length-1),x=F(()=>a.urlList[h.value]),_=F(()=>[s.e("btn"),s.e("prev"),s.is("disabled",!a.infinite&&y.value)]),S=F(()=>[s.e("btn"),s.e("next"),s.is("disabled",!a.infinite&&b.value)]),C=F(()=>{const{scale:V,deg:H,offsetX:K,offsetY:j,enableTransition:ne}=v.value;let Q=K/V,oe=j/V;const ae=H*Math.PI/180,me=Math.cos(ae),ve=Math.sin(ae);Q=Q*me+oe*ve,oe=oe*me-K/V*ve;const B={transform:`scale(${V}) rotate(${H}deg) translate(${Q}px, ${oe}px)`,transition:ne?"transform .3s":""};return p.value.name===i.CONTAIN.name&&(B.maxWidth=B.maxHeight="100%"),B});function k(){I(),n("close")}function T(){const V=$v(K=>{switch(K.code){case lt.esc:a.closeOnPressEscape&&k();break;case lt.space:R();break;case lt.left:P();break;case lt.up:M("zoomIn");break;case lt.right:O();break;case lt.down:M("zoomOut");break}}),H=$v(K=>{const j=K.deltaY||K.deltaX;M(j<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});f.run(()=>{Zn(document,"keydown",V),Zn(document,"wheel",H)})}function I(){f.stop()}function E(){d.value=!1}function A(V){d.value=!1,V.target.alt=o("el.image.error")}function N(V){if(d.value||V.button!==0||!u.value)return;v.value.enableTransition=!1;const{offsetX:H,offsetY:K}=v.value,j=V.pageX,ne=V.pageY,Q=$v(ae=>{v.value={...v.value,offsetX:H+ae.pageX-j,offsetY:K+ae.pageY-ne}}),oe=Zn(document,"mousemove",Q);Zn(document,"mouseup",()=>{oe()}),V.preventDefault()}function L(){v.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function R(){if(d.value)return;const V=Ym(i),H=Object.values(i),K=p.value.name,ne=(H.findIndex(Q=>Q.name===K)+1)%V.length;p.value=i[V[ne]],L()}function D(V){const H=a.urlList.length;h.value=(V+H)%H}function P(){y.value&&!a.infinite||D(h.value-1)}function O(){b.value&&!a.infinite||D(h.value+1)}function M(V,H={}){if(d.value)return;const{minScale:K,maxScale:j}=a,{zoomRate:ne,rotateDeg:Q,enableTransition:oe}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...H};switch(V){case"zoomOut":v.value.scale>K&&(v.value.scale=Number.parseFloat((v.value.scale/ne).toFixed(3)));break;case"zoomIn":v.value.scale<j&&(v.value.scale=Number.parseFloat((v.value.scale*ne).toFixed(3)));break;case"clockwise":v.value.deg+=Q,n("rotate",v.value.deg);break;case"anticlockwise":v.value.deg-=Q,n("rotate",v.value.deg);break}v.value.enableTransition=oe}function W(V){var H;((H=V.detail)==null?void 0:H.focusReason)==="pointer"&&V.preventDefault()}function U(){a.closeOnPressEscape&&k()}return Oe(x,()=>{xt(()=>{const V=c.value[0];V!=null&&V.complete||(d.value=!0)})}),Oe(h,V=>{L(),n("switch",V)}),zt(()=>{T()}),t({setActiveItem:D}),(V,H)=>(z(),Ae(w(Uy),{to:"body",disabled:!V.teleported},{default:fe(()=>[ie(hi,{name:"viewer-fade",appear:""},{default:fe(()=>[Z("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:G(w(s).e("wrapper")),style:yt({zIndex:g.value})},[ie(w(Hy),{loop:"",trapped:"","focus-trap-el":u.value,"focus-start-el":"container",onFocusoutPrevented:W,onReleaseRequested:U},{default:fe(()=>[Z("div",{class:G(w(s).e("mask")),onClick:At(K=>V.hideOnClickModal&&k(),["self"])},null,10,["onClick"]),Te(" CLOSE "),Z("span",{class:G([w(s).e("btn"),w(s).e("close")]),onClick:k},[ie(w(pt),null,{default:fe(()=>[ie(w(Du))]),_:1})],2),Te(" ARROW "),w(m)?Te("v-if",!0):(z(),q(gt,{key:0},[Z("span",{class:G(w(_)),onClick:P},[ie(w(pt),null,{default:fe(()=>[ie(w(Th))]),_:1})],2),Z("span",{class:G(w(S)),onClick:O},[ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})],2)],64)),Te(" ACTIONS "),Z("div",{class:G([w(s).e("btn"),w(s).e("actions")])},[Z("div",{class:G(w(s).e("actions__inner"))},[ie(w(pt),{onClick:K=>M("zoomOut")},{default:fe(()=>[ie(w(ZAe))]),_:1},8,["onClick"]),ie(w(pt),{onClick:K=>M("zoomIn")},{default:fe(()=>[ie(w(zre))]),_:1},8,["onClick"]),Z("i",{class:G(w(s).e("actions__divider"))},null,2),ie(w(pt),{onClick:R},{default:fe(()=>[(z(),Ae(tn(w(p).icon)))]),_:1}),Z("i",{class:G(w(s).e("actions__divider"))},null,2),ie(w(pt),{onClick:K=>M("anticlockwise")},{default:fe(()=>[ie(w(AAe))]),_:1},8,["onClick"]),ie(w(pt),{onClick:K=>M("clockwise")},{default:fe(()=>[ie(w(NAe))]),_:1},8,["onClick"])],2)],2),Te(" CANVAS "),Z("div",{class:G(w(s).e("canvas"))},[(z(!0),q(gt,null,un(V.urlList,(K,j)=>Vt((z(),q("img",{ref_for:!0,ref:ne=>c.value[j]=ne,key:K,src:K,style:yt(w(C)),class:G(w(s).e("img")),crossorigin:V.crossorigin,onLoad:E,onError:A,onMousedown:N},null,46,["src","crossorigin"])),[[En,j===h.value]])),128))],2),Se(V.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var sBe=Ze(oBe,[["__file","image-viewer.vue"]]);const Iie=Bt(sBe),lBe=je({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:be([String,Object])},previewSrcList:{type:be(Array),default:()=>zr([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:be(String)}}),uBe={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Tt(e),close:()=>!0,show:()=>!0},cBe=se({name:"ElImage",inheritAttrs:!1}),fBe=se({...cBe,props:lBe,emits:uBe,setup(e,{emit:t}){const n=e;let r="";const{t:a}=_n(),i=ze("image"),o=Yh(),s=F(()=>Xx(Object.entries(o).filter(([O])=>/^(data-|on[A-Z])/i.test(O)||["id","style"].includes(O)))),l=S_({excludeListeners:!0,excludeKeys:F(()=>Object.keys(s.value))}),u=Y(),c=Y(!1),f=Y(!0),d=Y(!1),h=Y(),p=Y(),v=wn&&"loading"in HTMLImageElement.prototype;let g,m;const y=F(()=>[i.e("inner"),x.value&&i.e("preview"),f.value&&i.is("loading")]),b=F(()=>{const{fit:O}=n;return wn&&O?{objectFit:O}:{}}),x=F(()=>{const{previewSrcList:O}=n;return Ke(O)&&O.length>0}),_=F(()=>{const{previewSrcList:O,initialIndex:M}=n;let W=M;return M>O.length-1&&(W=0),W}),S=F(()=>n.loading==="eager"?!1:!v&&n.loading==="lazy"||n.lazy),C=()=>{wn&&(f.value=!0,c.value=!1,u.value=n.src)};function k(O){f.value=!1,c.value=!1,t("load",O)}function T(O){f.value=!1,c.value=!0,t("error",O)}function I(){yOe(h.value,p.value)&&(C(),N())}const E=bre(I,200,!0);async function A(){var O;if(!wn)return;await xt();const{scrollContainer:M}=n;zs(M)?p.value=M:vt(M)&&M!==""?p.value=(O=document.querySelector(M))!=null?O:void 0:h.value&&(p.value=X4(h.value)),p.value&&(g=Zn(p,"scroll",E),setTimeout(()=>I(),100))}function N(){!wn||!p.value||!E||(g==null||g(),p.value=void 0)}function L(O){if(O.ctrlKey){if(O.deltaY<0)return O.preventDefault(),!1;if(O.deltaY>0)return O.preventDefault(),!1}}function R(){x.value&&(m=Zn("wheel",L,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,t("show"))}function D(){m==null||m(),document.body.style.overflow=r,d.value=!1,t("close")}function P(O){t("switch",O)}return Oe(()=>n.src,()=>{S.value?(f.value=!0,c.value=!1,N(),A()):C()}),zt(()=>{S.value?A():C()}),(O,M)=>(z(),q("div",rn({ref_key:"container",ref:h},w(s),{class:[w(i).b(),O.$attrs.class]}),[c.value?Se(O.$slots,"error",{key:0},()=>[Z("div",{class:G(w(i).e("error"))},Ve(w(a)("el.image.error")),3)]):(z(),q(gt,{key:1},[u.value!==void 0?(z(),q("img",rn({key:0},w(l),{src:u.value,loading:O.loading,style:w(b),class:w(y),crossorigin:O.crossorigin,onClick:R,onLoad:k,onError:T}),null,16,["src","loading","crossorigin"])):Te("v-if",!0),f.value?(z(),q("div",{key:1,class:G(w(i).e("wrapper"))},[Se(O.$slots,"placeholder",{},()=>[Z("div",{class:G(w(i).e("placeholder"))},null,2)])],2)):Te("v-if",!0)],64)),w(x)?(z(),q(gt,{key:2},[d.value?(z(),Ae(w(Iie),{key:0,"z-index":O.zIndex,"initial-index":w(_),infinite:O.infinite,"zoom-rate":O.zoomRate,"min-scale":O.minScale,"max-scale":O.maxScale,"url-list":O.previewSrcList,crossorigin:O.crossorigin,"hide-on-click-modal":O.hideOnClickModal,teleported:O.previewTeleported,"close-on-press-escape":O.closeOnPressEscape,onClose:D,onSwitch:P},{default:fe(()=>[O.$slots.viewer?(z(),q("div",{key:0},[Se(O.$slots,"viewer")])):Te("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Te("v-if",!0)],64)):Te("v-if",!0)],16))}});var dBe=Ze(fBe,[["__file","image.vue"]]);const hBe=Bt(dBe),pBe=je({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:xa,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Tt(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),vBe={[Qn]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Fi]:e=>Tt(e)||Ua(e),[Ht]:e=>Tt(e)||Ua(e)},gBe=se({name:"ElInputNumber"}),mBe=se({...gBe,props:pBe,emits:vBe,setup(e,{expose:t,emit:n}){const r=e,{t:a}=_n(),i=ze("input-number"),o=Y(),s=Ln({currentValue:r.modelValue,userInput:null}),{formItem:l}=Xi(),u=F(()=>Tt(r.modelValue)&&r.modelValue<=r.min),c=F(()=>Tt(r.modelValue)&&r.modelValue>=r.max),f=F(()=>{const R=m(r.step);return qn(r.precision)?Math.max(m(r.modelValue),R):(R>r.precision,r.precision)}),d=F(()=>r.controls&&r.controlsPosition==="right"),h=pa(),p=qi(),v=F(()=>{if(s.userInput!==null)return s.userInput;let R=s.currentValue;if(Ua(R))return"";if(Tt(R)){if(Number.isNaN(R))return"";qn(r.precision)||(R=R.toFixed(r.precision))}return R}),g=(R,D)=>{if(qn(D)&&(D=f.value),D===0)return Math.round(R);let P=String(R);const O=P.indexOf(".");if(O===-1||!P.replace(".","").split("")[O+D])return R;const U=P.length;return P.charAt(U-1)==="5"&&(P=`${P.slice(0,Math.max(0,U-1))}6`),Number.parseFloat(Number(P).toFixed(D))},m=R=>{if(Ua(R))return 0;const D=R.toString(),P=D.indexOf(".");let O=0;return P!==-1&&(O=D.length-P-1),O},y=(R,D=1)=>Tt(R)?g(R+r.step*D):s.currentValue,b=()=>{if(r.readonly||p.value||c.value)return;const R=Number(v.value)||0,D=y(R);S(D),n(Fi,s.currentValue),N()},x=()=>{if(r.readonly||p.value||u.value)return;const R=Number(v.value)||0,D=y(R,-1);S(D),n(Fi,s.currentValue),N()},_=(R,D)=>{const{max:P,min:O,step:M,precision:W,stepStrictly:U,valueOnClear:V}=r;P<O&&Na("InputNumber","min should not be greater than max.");let H=Number(R);if(Ua(R)||Number.isNaN(H))return null;if(R===""){if(V===null)return null;H=vt(V)?{min:O,max:P}[V]:V}return U&&(H=g(Math.round(H/M)*M,W),H!==R&&D&&n(Ht,H)),qn(W)||(H=g(H,W)),(H>P||H<O)&&(H=H>P?P:O,D&&n(Ht,H)),H},S=(R,D=!0)=>{var P;const O=s.currentValue,M=_(R);if(!D){n(Ht,M);return}O===M&&R||(s.userInput=null,n(Ht,M),O!==M&&n(Qn,M,O),r.validateEvent&&((P=l==null?void 0:l.validate)==null||P.call(l,"change").catch(W=>void 0)),s.currentValue=M)},C=R=>{s.userInput=R;const D=R===""?null:Number(R);n(Fi,D),S(D,!1)},k=R=>{const D=R!==""?Number(R):"";(Tt(D)&&!Number.isNaN(D)||R==="")&&S(D),N(),s.userInput=null},T=()=>{var R,D;(D=(R=o.value)==null?void 0:R.focus)==null||D.call(R)},I=()=>{var R,D;(D=(R=o.value)==null?void 0:R.blur)==null||D.call(R)},E=R=>{n("focus",R)},A=R=>{var D,P;s.userInput=null,bA()&&s.currentValue===null&&((D=o.value)!=null&&D.input)&&(o.value.input.value=""),n("blur",R),r.validateEvent&&((P=l==null?void 0:l.validate)==null||P.call(l,"blur").catch(O=>void 0))},N=()=>{s.currentValue!==r.modelValue&&(s.currentValue=r.modelValue)},L=R=>{document.activeElement===R.target&&R.preventDefault()};return Oe(()=>r.modelValue,(R,D)=>{const P=_(R,!0);s.userInput===null&&P!==D&&(s.currentValue=P)},{immediate:!0}),zt(()=>{var R;const{min:D,max:P,modelValue:O}=r,M=(R=o.value)==null?void 0:R.input;if(M.setAttribute("role","spinbutton"),Number.isFinite(P)?M.setAttribute("aria-valuemax",String(P)):M.removeAttribute("aria-valuemax"),Number.isFinite(D)?M.setAttribute("aria-valuemin",String(D)):M.removeAttribute("aria-valuemin"),M.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),M.setAttribute("aria-disabled",String(p.value)),!Tt(O)&&O!=null){let W=Number(O);Number.isNaN(W)&&(W=null),n(Ht,W)}M.addEventListener("wheel",L,{passive:!1})}),Kc(()=>{var R,D;const P=(R=o.value)==null?void 0:R.input;P==null||P.setAttribute("aria-valuenow",`${(D=s.currentValue)!=null?D:""}`)}),t({focus:T,blur:I}),(R,D)=>(z(),q("div",{class:G([w(i).b(),w(i).m(w(h)),w(i).is("disabled",w(p)),w(i).is("without-controls",!R.controls),w(i).is("controls-right",w(d))]),onDragstart:At(()=>{},["prevent"])},[R.controls?Vt((z(),q("span",{key:0,role:"button","aria-label":w(a)("el.inputNumber.decrease"),class:G([w(i).e("decrease"),w(i).is("disabled",w(u))]),onKeydown:rr(x,["enter"])},[Se(R.$slots,"decrease-icon",{},()=>[ie(w(pt),null,{default:fe(()=>[w(d)?(z(),Ae(w(Xc),{key:0})):(z(),Ae(w(bAe),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(jk),x]]):Te("v-if",!0),R.controls?Vt((z(),q("span",{key:1,role:"button","aria-label":w(a)("el.inputNumber.increase"),class:G([w(i).e("increase"),w(i).is("disabled",w(c))]),onKeydown:rr(b,["enter"])},[Se(R.$slots,"increase-icon",{},()=>[ie(w(pt),null,{default:fe(()=>[w(d)?(z(),Ae(w(Z4),{key:0})):(z(),Ae(w(Bre),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(jk),b]]):Te("v-if",!0),ie(w(mo),{id:R.id,ref_key:"input",ref:o,type:"number",step:R.step,"model-value":w(v),placeholder:R.placeholder,readonly:R.readonly,disabled:w(p),size:w(h),max:R.max,min:R.min,name:R.name,"aria-label":R.ariaLabel,"validate-event":!1,onKeydown:[rr(At(b,["prevent"]),["up"]),rr(At(x,["prevent"]),["down"])],onBlur:A,onFocus:E,onInput:C,onChange:k},Nl({_:2},[R.$slots.prefix?{name:"prefix",fn:fe(()=>[Se(R.$slots,"prefix")])}:void 0,R.$slots.suffix?{name:"suffix",fn:fe(()=>[Se(R.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var yBe=Ze(mBe,[["__file","input-number.vue"]]);const Eie=Bt(yBe),bBe=je({modelValue:{type:be(Array)},max:Number,tagType:{...zf.type,default:"info"},tagEffect:zf.effect,trigger:{type:be(String),default:lt.enter},draggable:{type:Boolean,default:!1},size:xa,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),xBe={[Ht]:e=>Ke(e)||qn(e),[Qn]:e=>Ke(e)||qn(e),[Fi]:e=>vt(e),"add-tag":e=>vt(e),"remove-tag":e=>vt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function wBe({props:e,emit:t,formItem:n}){const r=qi(),a=pa(),i=dr(),o=Y(),s=F(()=>["small"].includes(a.value)?"small":"default"),l=F(()=>{var T;return(T=e.modelValue)!=null&&T.length?void 0:e.placeholder}),u=F(()=>!(e.readonly||r.value)),c=F(()=>{var T,I;return qn(e.max)?!1:((I=(T=e.modelValue)==null?void 0:T.length)!=null?I:0)>=e.max}),f=T=>{if(c.value){o.value=void 0;return}_.value||t(Fi,T.target.value)},d=T=>{var I;if(!_.value)switch(T.code){case e.trigger:T.preventDefault(),T.stopPropagation(),h();break;case lt.numpadEnter:e.trigger===lt.enter&&(T.preventDefault(),T.stopPropagation(),h());break;case lt.backspace:!o.value&&((I=e.modelValue)!=null&&I.length)&&(T.preventDefault(),T.stopPropagation(),p(e.modelValue.length-1));break}},h=()=>{var T,I;const E=(T=o.value)==null?void 0:T.trim();if(!E||c.value)return;const A=[...(I=e.modelValue)!=null?I:[],E];t(Ht,A),t(Qn,A),t("add-tag",E),o.value=void 0},p=T=>{var I;const E=((I=e.modelValue)!=null?I:[]).slice(),[A]=E.splice(T,1);t(Ht,E),t(Qn,E),t("remove-tag",A)},v=()=>{o.value=void 0,t(Ht,void 0),t(Qn,void 0),t("clear")},g=(T,I,E)=>{var A;const N=((A=e.modelValue)!=null?A:[]).slice(),[L]=N.splice(T,1),R=I>T&&E==="before"?-1:I<T&&E==="after"?1:0;N.splice(I+R,0,L),t(Ht,N),t(Qn,N)},m=()=>{var T;(T=i.value)==null||T.focus()},y=()=>{var T;(T=i.value)==null||T.blur()},{wrapperRef:b,isFocused:x}=qh(i,{beforeFocus(){return r.value},afterBlur(){var T;h(),e.validateEvent&&((T=n==null?void 0:n.validate)==null||T.call(n,"blur").catch(I=>void 0))}}),{isComposing:_,handleCompositionStart:S,handleCompositionUpdate:C,handleCompositionEnd:k}=C_({afterComposition:f});return Oe(()=>e.modelValue,()=>{var T;e.validateEvent&&((T=n==null?void 0:n.validate)==null||T.call(n,Qn).catch(I=>void 0))}),{inputRef:i,wrapperRef:b,isFocused:x,isComposing:_,inputValue:o,size:a,tagSize:s,placeholder:l,closable:u,disabled:r,inputLimit:c,handleDragged:g,handleInput:f,handleKeydown:d,handleAddTag:h,handleRemoveTag:p,handleClear:v,handleCompositionStart:S,handleCompositionUpdate:C,handleCompositionEnd:k,focus:m,blur:y}}function _Be(){const e=Y(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}function SBe(){const e=dr(),t=Y(0),n=11,r=F(()=>({minWidth:`${Math.max(t.value,n)}px`}));return Mr(e,()=>{var i,o;t.value=(o=(i=e.value)==null?void 0:i.getBoundingClientRect().width)!=null?o:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:r}}function CBe({wrapperRef:e,handleDragged:t,afterDragged:n}){const r=ze("input-tag"),a=dr(),i=Y(!1);let o,s,l,u;function c(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function f(p,v){o=v,s=e.value.querySelector(c(v)),s&&(s.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function d(p,v){if(l=v,p.preventDefault(),p.dataTransfer.dropEffect="move",qn(o)||o===v){i.value=!1;return}const g=e.value.querySelector(c(v)).getBoundingClientRect(),m=o+1!==v,y=o-1!==v,b=p.clientX-g.left,x=m?y?.5:1:-1,_=y?m?.5:0:1;b<=g.width*x?u="before":b>g.width*_?u="after":u=void 0;const S=e.value.querySelector(`.${r.e("inner")}`),C=S.getBoundingClientRect(),k=Number.parseFloat(_f(S,"gap"))/2,T=g.top-C.top;let I=-9999;if(u==="before")I=Math.max(g.left-C.left-k,Math.floor(-k/2));else if(u==="after"){const E=g.right-C.left;I=E+(C.width===E?Math.floor(k/2):k)}Rre(a.value,{top:`${T}px`,left:`${I}px`}),i.value=!!u}function h(p){p.preventDefault(),s&&(s.style.opacity=""),u&&!qn(o)&&!qn(l)&&o!==l&&t(o,l,u),i.value=!1,o=void 0,s=null,l=void 0,u=void 0,n==null||n()}return{dropIndicatorRef:a,showDropIndicator:i,handleDragStart:f,handleDragOver:d,handleDragEnd:h}}function TBe({props:e,isFocused:t,hovering:n,disabled:r,inputValue:a,size:i,validateState:o,validateIcon:s,needStatusIcon:l}){const u=Yh(),c=Sa(),f=ze("input-tag"),d=ze("input"),h=F(()=>[f.b(),f.is("focused",t.value),f.is("hovering",n.value),f.is("disabled",r.value),f.m(i.value),f.e("wrapper"),u.class]),p=F(()=>[u.style]),v=F(()=>{var y,b;return[f.e("inner"),f.is("draggable",e.draggable),f.is("left-space",!((y=e.modelValue)!=null&&y.length)&&!c.prefix),f.is("right-space",!((b=e.modelValue)!=null&&b.length)&&!m.value)]}),g=F(()=>{var y;return e.clearable&&!r.value&&!e.readonly&&(((y=e.modelValue)==null?void 0:y.length)||a.value)&&(t.value||n.value)}),m=F(()=>c.suffix||g.value||o.value&&s.value&&l.value);return{ns:f,nsInput:d,containerKls:h,containerStyle:p,innerKls:v,showClear:g,showSuffix:m}}const kBe=se({name:"ElInputTag",inheritAttrs:!1}),IBe=se({...kBe,props:bBe,emits:xBe,setup(e,{expose:t,emit:n}){const r=e,a=S_(),i=Sa(),{form:o,formItem:s}=Xi(),{inputId:l}=Vl(r,{formItemContext:s}),u=F(()=>{var B;return(B=o==null?void 0:o.statusIcon)!=null?B:!1}),c=F(()=>(s==null?void 0:s.validateState)||""),f=F(()=>c.value&&yA[c.value]),{inputRef:d,wrapperRef:h,isFocused:p,inputValue:v,size:g,tagSize:m,placeholder:y,closable:b,disabled:x,handleDragged:_,handleInput:S,handleKeydown:C,handleRemoveTag:k,handleClear:T,handleCompositionStart:I,handleCompositionUpdate:E,handleCompositionEnd:A,focus:N,blur:L}=wBe({props:r,emit:n,formItem:s}),{hovering:R,handleMouseEnter:D,handleMouseLeave:P}=_Be(),{calculatorRef:O,inputStyle:M}=SBe(),{dropIndicatorRef:W,showDropIndicator:U,handleDragStart:V,handleDragOver:H,handleDragEnd:K}=CBe({wrapperRef:h,handleDragged:_,afterDragged:N}),{ns:j,nsInput:ne,containerKls:Q,containerStyle:oe,innerKls:ae,showClear:me,showSuffix:ve}=TBe({props:r,hovering:R,isFocused:p,inputValue:v,disabled:x,size:g,validateState:c,validateIcon:f,needStatusIcon:u});return t({focus:N,blur:L}),(B,re)=>(z(),q("div",{ref_key:"wrapperRef",ref:h,class:G(w(Q)),style:yt(w(oe)),onMouseenter:w(D),onMouseleave:w(P)},[w(i).prefix?(z(),q("div",{key:0,class:G(w(j).e("prefix"))},[Se(B.$slots,"prefix")],2)):Te("v-if",!0),Z("div",{class:G(w(ae))},[(z(!0),q(gt,null,un(B.modelValue,(ge,Ie)=>(z(),Ae(w(ey),{key:Ie,size:w(m),closable:w(b),type:B.tagType,effect:B.tagEffect,draggable:w(b)&&B.draggable,"disable-transitions":"",onClose:Ce=>w(k)(Ie),onDragstart:Ce=>w(V)(Ce,Ie),onDragover:Ce=>w(H)(Ce,Ie),onDragend:w(K),onDrop:At(()=>{},["stop"])},{default:fe(()=>[Se(B.$slots,"tag",{value:ge,index:Ie},()=>[Kt(Ve(ge),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),Z("div",{class:G(w(j).e("input-wrapper"))},[Vt(Z("input",rn({id:w(l),ref_key:"inputRef",ref:d,"onUpdate:modelValue":ge=>vr(v)?v.value=ge:null},w(a),{type:"text",minlength:B.minlength,maxlength:B.maxlength,disabled:w(x),readonly:B.readonly,autocomplete:B.autocomplete,tabindex:B.tabindex,placeholder:w(y),autofocus:B.autofocus,ariaLabel:B.ariaLabel,class:w(j).e("input"),style:w(M),onCompositionstart:w(I),onCompositionupdate:w(E),onCompositionend:w(A),onInput:w(S),onKeydown:w(C)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[aA,w(v)]]),Z("span",{ref_key:"calculatorRef",ref:O,"aria-hidden":"true",class:G(w(j).e("input-calculator")),textContent:Ve(w(v))},null,10,["textContent"])],2),Vt(Z("div",{ref_key:"dropIndicatorRef",ref:W,class:G(w(j).e("drop-indicator"))},null,2),[[En,w(U)]])],2),w(ve)?(z(),q("div",{key:1,class:G(w(j).e("suffix"))},[Se(B.$slots,"suffix"),w(me)?(z(),Ae(w(pt),{key:0,class:G([w(j).e("icon"),w(j).e("clear")]),onMousedown:At(w(Un),["prevent"]),onClick:w(T)},{default:fe(()=>[ie(w(od))]),_:1},8,["class","onMousedown","onClick"])):Te("v-if",!0),w(c)&&w(f)&&w(u)?(z(),Ae(w(pt),{key:1,class:G([w(ne).e("icon"),w(ne).e("validateIcon"),w(ne).is("loading",w(c)==="validating")])},{default:fe(()=>[(z(),Ae(tn(w(f))))]),_:1},8,["class"])):Te("v-if",!0)],2)):Te("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var EBe=Ze(IBe,[["__file","input-tag.vue"]]);const ABe=Bt(EBe),DBe=je({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:er}}),NBe={click:e=>e instanceof MouseEvent},RBe=se({name:"ElLink"}),MBe=se({...RBe,props:DBe,emits:NBe,setup(e,{emit:t}){const n=e,r=ze("link"),a=F(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function i(o){n.disabled||t("click",o)}return(o,s)=>(z(),q("a",{class:G(w(a)),href:o.disabled||!o.href?void 0:o.href,target:o.disabled||!o.href?void 0:o.target,onClick:i},[o.icon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(o.icon)))]),_:1})):Te("v-if",!0),o.$slots.default?(z(),q("span",{key:1,class:G(w(r).e("inner"))},[Se(o.$slots,"default")],2)):Te("v-if",!0),o.$slots.icon?Se(o.$slots,"icon",{key:2}):Te("v-if",!0)],10,["href","target"]))}});var $Be=Ze(MBe,[["__file","link.vue"]]);const LBe=Bt($Be);let OBe=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let a=!1;switch(r.code){case lt.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case lt.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case lt.tab:{DT(t,"mouseleave");break}case lt.enter:case lt.numpadEnter:case lt.space:{a=!0,r.currentTarget.click();break}}return a&&(r.preventDefault(),r.stopPropagation()),!1})})}},PBe=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new OBe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case lt.down:{DT(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case lt.up:{DT(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case lt.tab:{DT(t.currentTarget,"mouseleave");break}case lt.enter:case lt.numpadEnter:case lt.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},FBe=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new PBe(r,t)})}};const BBe=se({name:"ElMenuCollapseTransition",setup(){const e=ze("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){Sl(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){bo(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),xs(n,e.m("collapse"))?(bo(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Sl(n,e.m("collapse"))):(Sl(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),bo(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Sl(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function VBe(e,t,n,r,a,i){return z(),Ae(hi,rn({mode:"out-in"},e.listeners),{default:fe(()=>[Se(e.$slots,"default")]),_:3},16)}var zBe=Ze(BBe,[["render",VBe],["__file","menu-collapse-transition.vue"]]);function Aie(e,t){const n=F(()=>{let a=e.parent;const i=[t.value];for(;a.type.name!=="ElMenu";)a.props.index&&i.unshift(a.props.index),a=a.parent;return i});return{parentMenu:F(()=>{let a=e.parent;for(;a&&!["ElMenu","ElSubMenu"].includes(a.type.name);)a=a.parent;return a}),indexPath:n}}function WBe(e){return F(()=>{const n=e.backgroundColor;return n?new wae(n).shade(20).toString():""})}const Die=(e,t)=>{const n=ze("menu");return F(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":WBe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},HBe=je({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:er},expandOpenIcon:{type:er},collapseCloseIcon:{type:er},collapseOpenIcon:{type:er}}),MR="ElSubMenu";var LB=se({name:MR,props:HBe,setup(e,{slots:t,expose:n}){const r=jt(),{indexPath:a,parentMenu:i}=Aie(r,F(()=>e.index)),o=ze("menu"),s=ze("sub-menu"),l=ht("rootMenu");l||Na(MR,"can not inject root menu");const u=ht(`subMenu:${i.value.uid}`);u||Na(MR,"can not inject sub menu");const c=Y({}),f=Y({});let d;const h=Y(!1),p=Y(),v=Y(null),g=F(()=>k.value==="horizontal"&&y.value?"bottom-start":"right-start"),m=F(()=>k.value==="horizontal"&&y.value||k.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?S.value?e.expandOpenIcon:e.expandCloseIcon:Xc:e.collapseCloseIcon&&e.collapseOpenIcon?S.value?e.collapseOpenIcon:e.collapseCloseIcon:Yo),y=F(()=>u.level===0),b=F(()=>{const W=e.teleported;return W===void 0?y.value:W}),x=F(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),_=F(()=>k.value==="horizontal"&&y.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),S=F(()=>l.openedMenus.includes(e.index)),C=F(()=>{let W=!1;return Object.values(c.value).forEach(U=>{U.active&&(W=!0)}),Object.values(f.value).forEach(U=>{U.active&&(W=!0)}),W}),k=F(()=>l.props.mode),T=Ln({index:e.index,indexPath:a,active:C}),I=Die(l.props,u.level+1),E=F(()=>{var W;return(W=e.popperOffset)!=null?W:l.props.popperOffset}),A=F(()=>{var W;return(W=e.popperClass)!=null?W:l.props.popperClass}),N=F(()=>{var W;return(W=e.showTimeout)!=null?W:l.props.showTimeout}),L=F(()=>{var W;return(W=e.hideTimeout)!=null?W:l.props.hideTimeout}),R=()=>{var W,U,V;return(V=(U=(W=v.value)==null?void 0:W.popperRef)==null?void 0:U.popperInstanceRef)==null?void 0:V.destroy()},D=W=>{W||R()},P=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:a.value,active:C.value})},O=(W,U=N.value)=>{var V;if(W.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,d==null||d(),{stop:d}=ng(()=>{l.openMenu(e.index,a.value)},U),b.value&&((V=i.value.vnode.el)==null||V.dispatchEvent(new MouseEvent("mouseenter")))}},M=(W=!1)=>{var U;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}d==null||d(),u.mouseInChild.value=!1,{stop:d}=ng(()=>!h.value&&l.closeMenu(e.index,a.value),L.value),b.value&&W&&((U=u.handleMouseleave)==null||U.call(u,!0))};Oe(()=>l.props.collapse,W=>D(!!W));{const W=V=>{f.value[V.index]=V},U=V=>{delete f.value[V.index]};hn(`subMenu:${r.uid}`,{addSubMenu:W,removeSubMenu:U,handleMouseleave:M,mouseInChild:h,level:u.level+1})}return n({opened:S}),zt(()=>{l.addSubMenu(T),u.addSubMenu(T)}),ar(()=>{u.removeSubMenu(T),l.removeSubMenu(T)}),()=>{var W;const U=[(W=t.title)==null?void 0:W.call(t),Ct(pt,{class:s.e("icon-arrow"),style:{transform:S.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>vt(m.value)?Ct(r.appContext.components[m.value]):Ct(m.value)})],V=l.isMenuPopup?Ct(Hi,{ref:v,visible:S.value,effect:"light",pure:!0,offset:E.value,showArrow:!1,persistent:!0,popperClass:A.value,placement:g.value,teleported:b.value,fallbackPlacements:_.value,transition:x.value,gpuAcceleration:!1},{content:()=>{var H;return Ct("div",{class:[o.m(k.value),o.m("popup-container"),A.value],onMouseenter:K=>O(K,100),onMouseleave:()=>M(!0),onFocus:K=>O(K,100)},[Ct("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${g.value}`)],style:I.value},[(H=t.default)==null?void 0:H.call(t)])])},default:()=>Ct("div",{class:s.e("title"),onClick:P},U)}):Ct(gt,{},[Ct("div",{class:s.e("title"),ref:p,onClick:P},U),Ct(SA,{},{default:()=>{var H;return Vt(Ct("ul",{role:"menu",class:[o.b(),o.m("inline")],style:I.value},[(H=t.default)==null?void 0:H.call(t)]),[[En,S.value]])}})]);return Ct("li",{class:[s.b(),s.is("active",C.value),s.is("opened",S.value),s.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:O,onMouseleave:()=>M(),onFocus:O},[V])}}});const UBe=je({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:be(Array),default:()=>zr([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:er,default:()=>_Ae},popperEffect:{type:be(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),$R=e=>Ke(e)&&e.every(t=>vt(t)),GBe={close:(e,t)=>vt(e)&&$R(t),open:(e,t)=>vt(e)&&$R(t),select:(e,t,n,r)=>vt(e)&&$R(t)&&qt(n)&&(r===void 0||r instanceof Promise)};var KBe=se({name:"ElMenu",props:UBe,emits:GBe,setup(e,{emit:t,slots:n,expose:r}){const a=jt(),i=a.appContext.config.globalProperties.$router,o=Y(),s=ze("menu"),l=ze("sub-menu"),u=Y(-1),c=Y(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),f=Y(e.defaultActive),d=Y({}),h=Y({}),p=F(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),v=()=>{const R=f.value&&d.value[f.value];if(!R||e.mode==="horizontal"||e.collapse)return;R.indexPath.forEach(P=>{const O=h.value[P];O&&g(P,O.indexPath)})},g=(R,D)=>{c.value.includes(R)||(e.uniqueOpened&&(c.value=c.value.filter(P=>D.includes(P))),c.value.push(R),t("open",R,D))},m=R=>{const D=c.value.indexOf(R);D!==-1&&c.value.splice(D,1)},y=(R,D)=>{m(R),t("close",R,D)},b=({index:R,indexPath:D})=>{c.value.includes(R)?y(R,D):g(R,D)},x=R=>{(e.mode==="horizontal"||e.collapse)&&(c.value=[]);const{index:D,indexPath:P}=R;if(!(Ua(D)||Ua(P)))if(e.router&&i){const O=R.route||D,M=i.push(O).then(W=>(W||(f.value=D),W));t("select",D,P,{index:D,indexPath:P,route:O},M)}else f.value=D,t("select",D,P,{index:D,indexPath:P})},_=R=>{const D=d.value,P=D[R]||f.value&&D[f.value]||D[e.defaultActive];P?f.value=P.index:f.value=R},S=R=>{const D=getComputedStyle(R),P=Number.parseInt(D.marginLeft,10),O=Number.parseInt(D.marginRight,10);return R.offsetWidth+P+O||0},C=()=>{var R,D;if(!o.value)return-1;const P=Array.from((D=(R=o.value)==null?void 0:R.childNodes)!=null?D:[]).filter(j=>j.nodeName!=="#comment"&&(j.nodeName!=="#text"||j.nodeValue)),O=64,M=getComputedStyle(o.value),W=Number.parseInt(M.paddingLeft,10),U=Number.parseInt(M.paddingRight,10),V=o.value.clientWidth-W-U;let H=0,K=0;return P.forEach((j,ne)=>{H+=S(j),H<=V-O&&(K=ne+1)}),K===P.length?-1:K},k=R=>h.value[R].indexPath,T=(R,D=33.34)=>{let P;return()=>{P&&clearTimeout(P),P=setTimeout(()=>{R()},D)}};let I=!0;const E=()=>{if(u.value===C())return;const R=()=>{u.value=-1,xt(()=>{u.value=C()})};I?R():T(R)(),I=!1};Oe(()=>e.defaultActive,R=>{d.value[R]||(f.value=""),_(R)}),Oe(()=>e.collapse,R=>{R&&(c.value=[])}),Oe(d.value,v);let A;Pi(()=>{e.mode==="horizontal"&&e.ellipsis?A=Mr(o,E).stop:A==null||A()});const N=Y(!1);{const R=M=>{h.value[M.index]=M},D=M=>{delete h.value[M.index]};hn("rootMenu",Ln({props:e,openedMenus:c,items:d,subMenus:h,activeIndex:f,isMenuPopup:p,addMenuItem:M=>{d.value[M.index]=M},removeMenuItem:M=>{delete d.value[M.index]},addSubMenu:R,removeSubMenu:D,openMenu:g,closeMenu:y,handleMenuItemClick:x,handleSubMenuClick:b})),hn(`subMenu:${a.uid}`,{addSubMenu:R,removeSubMenu:D,mouseInChild:N,level:0})}zt(()=>{e.mode==="horizontal"&&new FBe(a.vnode.el,s.namespace.value)}),r({open:D=>{const{indexPath:P}=h.value[D];P.forEach(O=>g(O,P))},close:m,handleResize:E});const L=Die(e,0);return()=>{var R,D;let P=(D=(R=n.default)==null?void 0:R.call(n))!=null?D:[];const O=[];if(e.mode==="horizontal"&&o.value){const U=ch(P),V=u.value===-1?U:U.slice(0,u.value),H=u.value===-1?[]:U.slice(u.value);H!=null&&H.length&&e.ellipsis&&(P=V,O.push(Ct(LB,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>Ct(pt,{class:l.e("icon-more")},{default:()=>Ct(e.ellipsisIcon)}),default:()=>H})))}const M=e.closeOnClickOutside?[[Wf,()=>{c.value.length&&(N.value||(c.value.forEach(U=>t("close",U,k(U))),c.value=[]))}]]:[],W=Vt(Ct("ul",{key:String(e.collapse),role:"menubar",ref:o,style:L.value,class:{[s.b()]:!0,[s.m(e.mode)]:!0,[s.m("collapse")]:e.collapse}},[...P,...O]),M);return e.collapseTransition&&e.mode==="vertical"?Ct(zBe,()=>W):W}}});const jBe=je({index:{type:be([String,null]),default:null},route:{type:be([String,Object])},disabled:Boolean}),YBe={click:e=>vt(e.index)&&Ke(e.indexPath)},LR="ElMenuItem",XBe=se({name:LR,components:{ElTooltip:Hi},props:jBe,emits:YBe,setup(e,{emit:t}){const n=jt(),r=ht("rootMenu"),a=ze("menu"),i=ze("menu-item");r||Na(LR,"can not inject root menu");const{parentMenu:o,indexPath:s}=Aie(n,Wn(e,"index")),l=ht(`subMenu:${o.value.uid}`);l||Na(LR,"can not inject sub menu");const u=F(()=>e.index===r.activeIndex),c=Ln({index:e.index,indexPath:s,active:u}),f=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:s.value,route:e.route}),t("click",c))};return zt(()=>{l.addSubMenu(c),r.addMenuItem(c)}),ar(()=>{l.removeSubMenu(c),r.removeMenuItem(c)}),{parentMenu:o,rootMenu:r,active:u,nsMenu:a,nsMenuItem:i,handleClick:f}}});function qBe(e,t,n,r,a,i){const o=Ft("el-tooltip");return z(),q("li",{class:G([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(z(),Ae(o,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:fe(()=>[Se(e.$slots,"title")]),default:fe(()=>[Z("div",{class:G(e.nsMenu.be("tooltip","trigger"))},[Se(e.$slots,"default")],2)]),_:3},8,["effect"])):(z(),q(gt,{key:1},[Se(e.$slots,"default"),Se(e.$slots,"title")],64))],10,["onClick"])}var Nie=Ze(XBe,[["render",qBe],["__file","menu-item.vue"]]);const ZBe={title:String},JBe="ElMenuItemGroup",QBe=se({name:JBe,props:ZBe,setup(){return{ns:ze("menu-item-group")}}});function eVe(e,t,n,r,a,i){return z(),q("li",{class:G(e.ns.b())},[Z("div",{class:G(e.ns.e("title"))},[e.$slots.title?Se(e.$slots,"title",{key:1}):(z(),q(gt,{key:0},[Kt(Ve(e.title),1)],64))],2),Z("ul",null,[Se(e.$slots,"default")])],2)}var Rie=Ze(QBe,[["render",eVe],["__file","menu-item-group.vue"]]);const tVe=Bt(KBe,{MenuItem:Nie,MenuItemGroup:Rie,SubMenu:LB}),nVe=Ur(Nie),rVe=Ur(Rie),aVe=Ur(LB),iVe=je({icon:{type:er,default:()=>WEe},title:String,content:{type:String,default:""}}),oVe={back:()=>!0},sVe=se({name:"ElPageHeader"}),lVe=se({...sVe,props:iVe,emits:oVe,setup(e,{emit:t}){const n=Sa(),{t:r}=_n(),a=ze("page-header"),i=F(()=>[a.b(),{[a.m("has-breadcrumb")]:!!n.breadcrumb,[a.m("has-extra")]:!!n.extra,[a.is("contentful")]:!!n.default}]);function o(){t("back")}return(s,l)=>(z(),q("div",{class:G(w(i))},[s.$slots.breadcrumb?(z(),q("div",{key:0,class:G(w(a).e("breadcrumb"))},[Se(s.$slots,"breadcrumb")],2)):Te("v-if",!0),Z("div",{class:G(w(a).e("header"))},[Z("div",{class:G(w(a).e("left"))},[Z("div",{class:G(w(a).e("back")),role:"button",tabindex:"0",onClick:o},[s.icon||s.$slots.icon?(z(),q("div",{key:0,"aria-label":s.title||w(r)("el.pageHeader.title"),class:G(w(a).e("icon"))},[Se(s.$slots,"icon",{},()=>[s.icon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(s.icon)))]),_:1})):Te("v-if",!0)])],10,["aria-label"])):Te("v-if",!0),Z("div",{class:G(w(a).e("title"))},[Se(s.$slots,"title",{},()=>[Kt(Ve(s.title||w(r)("el.pageHeader.title")),1)])],2)],2),ie(w(vie),{direction:"vertical"}),Z("div",{class:G(w(a).e("content"))},[Se(s.$slots,"content",{},()=>[Kt(Ve(s.content),1)])],2)],2),s.$slots.extra?(z(),q("div",{key:0,class:G(w(a).e("extra"))},[Se(s.$slots,"extra")],2)):Te("v-if",!0)],2),s.$slots.default?(z(),q("div",{key:1,class:G(w(a).e("main"))},[Se(s.$slots,"default")],2)):Te("v-if",!0)],2))}});var uVe=Ze(lVe,[["__file","page-header.vue"]]);const cVe=Bt(uVe),Mie=Symbol("elPaginationKey"),fVe=je({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:er}}),dVe={click:e=>e instanceof MouseEvent},hVe=se({name:"ElPaginationPrev"}),pVe=se({...hVe,props:fVe,emits:dVe,setup(e){const t=e,{t:n}=_n(),r=F(()=>t.disabled||t.currentPage<=1);return(a,i)=>(z(),q("button",{type:"button",class:"btn-prev",disabled:w(r),"aria-label":a.prevText||w(n)("el.pagination.prev"),"aria-disabled":w(r),onClick:o=>a.$emit("click",o)},[a.prevText?(z(),q("span",{key:0},Ve(a.prevText),1)):(z(),Ae(w(pt),{key:1},{default:fe(()=>[(z(),Ae(tn(a.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var vVe=Ze(pVe,[["__file","prev.vue"]]);const gVe=je({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:er}}),mVe=se({name:"ElPaginationNext"}),yVe=se({...mVe,props:gVe,emits:["click"],setup(e){const t=e,{t:n}=_n(),r=F(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(a,i)=>(z(),q("button",{type:"button",class:"btn-next",disabled:w(r),"aria-label":a.nextText||w(n)("el.pagination.next"),"aria-disabled":w(r),onClick:o=>a.$emit("click",o)},[a.nextText?(z(),q("span",{key:0},Ve(a.nextText),1)):(z(),Ae(w(pt),{key:1},{default:fe(()=>[(z(),Ae(tn(a.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var bVe=Ze(yVe,[["__file","next.vue"]]);const $ie=Symbol("ElSelectGroup"),Ky=Symbol("ElSelect");function xVe(e,t){const n=ht(Ky),r=ht($ie,{disabled:!1}),a=F(()=>c(ho(n.props.modelValue),e.value)),i=F(()=>{var h;if(n.props.multiple){const p=ho((h=n.props.modelValue)!=null?h:[]);return!a.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),o=F(()=>e.label||(qt(e.value)?"":e.value)),s=F(()=>e.value||e.label||""),l=F(()=>e.disabled||t.groupDisabled||i.value),u=jt(),c=(h=[],p)=>{if(qt(e.value)){const v=n.props.valueKey;return h&&h.some(g=>tr(ca(g,v))===ca(p,v))}else return h&&h.includes(p)},f=()=>{!e.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},d=h=>{const p=new RegExp(bB(h),"i");t.visible=p.test(o.value)||e.created};return Oe(()=>o.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),Oe(()=>e.value,(h,p)=>{const{remote:v,valueKey:g}=n.props;if(h!==p&&(n.onOptionDestroy(p,u.proxy),n.onOptionCreate(u.proxy)),!e.created&&!v){if(g&&qt(h)&&qt(p)&&h[g]===p[g])return;n.setSelected()}}),Oe(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:o,currentValue:s,itemSelected:a,isDisabled:l,hoverItem:f,updateOption:d}}const wVe=se({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=ze("select"),n=Ii(),r=F(()=>[t.be("dropdown","item"),t.is("disabled",w(s)),t.is("selected",w(o)),t.is("hovering",w(d))]),a=Ln({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c}=xVe(e,a),{visible:f,hover:d}=di(a),h=jt().proxy;l.onOptionCreate(h),ar(()=>{const v=h.value,{selected:g}=l.states,m=g.some(y=>y.value===h.value);xt(()=>{l.states.cachedOptions.get(v)===h&&!m&&l.states.cachedOptions.delete(v)}),l.onOptionDestroy(v,h)});function p(){s.value||l.handleOptionSelect(h)}return{ns:t,id:n,containerKls:r,currentLabel:i,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c,visible:f,hover:d,selectOptionClick:p,states:a}}});function _Ve(e,t,n,r,a,i){return Vt((z(),q("li",{id:e.id,class:G(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:At(e.selectOptionClick,["stop"])},[Se(e.$slots,"default",{},()=>[Z("span",null,Ve(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[En,e.visible]])}var OB=Ze(wVe,[["render",_Ve],["__file","option.vue"]]);const SVe=se({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=ht(Ky),t=ze("select"),n=F(()=>e.props.popperClass),r=F(()=>e.props.multiple),a=F(()=>e.props.fitInputWidth),i=Y("");function o(){var s;i.value=`${(s=e.selectRef)==null?void 0:s.offsetWidth}px`}return zt(()=>{o(),Mr(e.selectRef,o)}),{ns:t,minWidth:i,popperClass:n,isMultiple:r,isFitInputWidth:a}}});function CVe(e,t,n,r,a,i){return z(),q("div",{class:G([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:yt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(z(),q("div",{key:0,class:G(e.ns.be("dropdown","header"))},[Se(e.$slots,"header")],2)):Te("v-if",!0),Se(e.$slots,"default"),e.$slots.footer?(z(),q("div",{key:1,class:G(e.ns.be("dropdown","footer"))},[Se(e.$slots,"footer")],2)):Te("v-if",!0)],6)}var TVe=Ze(SVe,[["render",CVe],["__file","select-dropdown.vue"]]);const kVe=11,IVe=(e,t)=>{const{t:n}=_n(),r=Ii(),a=ze("select"),i=ze("input"),o=Ln({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=Y(null),l=Y(null),u=Y(null),c=Y(null),f=Y(null),d=Y(null),h=Y(null),p=Y(null),v=Y(null),g=Y(null),m=Y(null),y=Y(null),{isComposing:b,handleCompositionStart:x,handleCompositionUpdate:_,handleCompositionEnd:S}=C_({afterComposition:ee=>Qt(ee)}),{wrapperRef:C,isFocused:k,handleBlur:T}=qh(f,{beforeFocus(){return P.value},afterFocus(){e.automaticDropdown&&!I.value&&(I.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(ee){var ue,we;return((ue=u.value)==null?void 0:ue.isFocusInsideContent(ee))||((we=c.value)==null?void 0:we.isFocusInsideContent(ee))},afterBlur(){I.value=!1,o.menuVisibleOnFocus=!1}}),I=Y(!1),E=Y(),{form:A,formItem:N}=Xi(),{inputId:L}=Vl(e,{formItemContext:N}),{valueOnClear:R,isEmptyValue:D}=hA(e),P=F(()=>e.disabled||(A==null?void 0:A.disabled)),O=F(()=>Ke(e.modelValue)?e.modelValue.length>0:!D(e.modelValue)),M=F(()=>{var ee;return(ee=A==null?void 0:A.statusIcon)!=null?ee:!1}),W=F(()=>e.clearable&&!P.value&&o.inputHovering&&O.value),U=F(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),V=F(()=>a.is("reverse",U.value&&I.value)),H=F(()=>(N==null?void 0:N.validateState)||""),K=F(()=>yA[H.value]),j=F(()=>e.remote?300:0),ne=F(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!o.inputValue&&o.options.size===0?!1:e.filterable&&o.inputValue&&o.options.size>0&&Q.value===0?e.noMatchText||n("el.select.noMatch"):o.options.size===0?e.noDataText||n("el.select.noData"):null),Q=F(()=>oe.value.filter(ee=>ee.visible).length),oe=F(()=>{const ee=Array.from(o.options.values()),ue=[];return o.optionValues.forEach(we=>{const Ge=ee.findIndex(at=>at.value===we);Ge>-1&&ue.push(ee[Ge])}),ue.length>=ee.length?ue:ee}),ae=F(()=>Array.from(o.cachedOptions.values())),me=F(()=>{const ee=oe.value.filter(ue=>!ue.created).some(ue=>ue.currentLabel===o.inputValue);return e.filterable&&e.allowCreate&&o.inputValue!==""&&!ee}),ve=()=>{e.filterable&&mt(e.filterMethod)||e.filterable&&e.remote&&mt(e.remoteMethod)||oe.value.forEach(ee=>{var ue;(ue=ee.updateOption)==null||ue.call(ee,o.inputValue)})},B=pa(),re=F(()=>["small"].includes(B.value)?"small":"default"),ge=F({get(){return I.value&&ne.value!==!1},set(ee){I.value=ee}}),Ie=F(()=>{if(e.multiple&&!qn(e.modelValue))return ho(e.modelValue).length===0&&!o.inputValue;const ee=Ke(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||qn(ee)?!o.inputValue:!0}),Ce=F(()=>{var ee;const ue=(ee=e.placeholder)!=null?ee:n("el.select.placeholder");return e.multiple||!O.value?ue:o.selectedLabel}),he=F(()=>vO?null:"mouseenter");Oe(()=>e.modelValue,(ee,ue)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(o.inputValue="",J("")),xe(),!Ci(ee,ue)&&e.validateEvent&&(N==null||N.validate("change").catch(we=>void 0))},{flush:"post",deep:!0}),Oe(()=>I.value,ee=>{ee?J(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),t("visible-change",ee)}),Oe(()=>o.options.entries(),()=>{wn&&(xe(),e.defaultFirstOption&&(e.filterable||e.remote)&&Q.value&&te())},{flush:"post"}),Oe(()=>o.hoveringIndex,ee=>{Tt(ee)&&ee>-1?E.value=oe.value[ee]||{}:E.value={},oe.value.forEach(ue=>{ue.hover=E.value===ue})}),Pi(()=>{o.isBeforeHide||ve()});const J=ee=>{o.previousQuery===ee||b.value||(o.previousQuery=ee,e.filterable&&mt(e.filterMethod)?e.filterMethod(ee):e.filterable&&e.remote&&mt(e.remoteMethod)&&e.remoteMethod(ee),e.defaultFirstOption&&(e.filterable||e.remote)&&Q.value?xt(te):xt(Qe))},te=()=>{const ee=oe.value.filter(at=>at.visible&&!at.disabled&&!at.states.groupDisabled),ue=ee.find(at=>at.created),we=ee[0],Ge=oe.value.map(at=>at.value);o.hoveringIndex=ft(Ge,ue||we)},xe=()=>{if(e.multiple)o.selectedLabel="";else{const ue=Ke(e.modelValue)?e.modelValue[0]:e.modelValue,we=Ee(ue);o.selectedLabel=we.currentLabel,o.selected=[we];return}const ee=[];qn(e.modelValue)||ho(e.modelValue).forEach(ue=>{ee.push(Ee(ue))}),o.selected=ee},Ee=ee=>{let ue;const we=Px(ee);for(let qe=o.cachedOptions.size-1;qe>=0;qe--){const Je=ae.value[qe];if(we?ca(Je.value,e.valueKey)===ca(ee,e.valueKey):Je.value===ee){ue={value:ee,currentLabel:Je.currentLabel,get isDisabled(){return Je.isDisabled}};break}}if(ue)return ue;const Ge=we?ee.label:ee??"";return{value:ee,currentLabel:Ge}},Qe=()=>{o.hoveringIndex=oe.value.findIndex(ee=>o.selected.some(ue=>sf(ue)===sf(ee)))},Be=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},ce=()=>{o.calculatorWidth=d.value.getBoundingClientRect().width},Re=()=>{o.collapseItemWidth=m.value.getBoundingClientRect().width},ct=()=>{var ee,ue;(ue=(ee=u.value)==null?void 0:ee.updatePopper)==null||ue.call(ee)},It=()=>{var ee,ue;(ue=(ee=c.value)==null?void 0:ee.updatePopper)==null||ue.call(ee)},wt=()=>{o.inputValue.length>0&&!I.value&&(I.value=!0),J(o.inputValue)},Qt=ee=>{if(o.inputValue=ee.target.value,e.remote)_t();else return wt()},_t=Cs(()=>{wt()},j.value),ln=ee=>{Ci(e.modelValue,ee)||t(Qn,ee)},Ne=ee=>pre(ee,ue=>{const we=o.cachedOptions.get(ue);return we&&!we.disabled&&!we.states.groupDisabled}),nt=ee=>{if(e.multiple&&ee.code!==lt.delete&&ee.target.value.length<=0){const ue=ho(e.modelValue).slice(),we=Ne(ue);if(we<0)return;const Ge=ue[we];ue.splice(we,1),t(Ht,ue),ln(ue),t("remove-tag",Ge)}},_e=(ee,ue)=>{const we=o.selected.indexOf(ue);if(we>-1&&!P.value){const Ge=ho(e.modelValue).slice();Ge.splice(we,1),t(Ht,Ge),ln(Ge),t("remove-tag",ue.value)}ee.stopPropagation(),wr()},We=ee=>{ee.stopPropagation();const ue=e.multiple?[]:R.value;if(e.multiple)for(const we of o.selected)we.isDisabled&&ue.push(we.value);t(Ht,ue),ln(ue),o.hoveringIndex=-1,I.value=!1,t("clear"),wr()},de=ee=>{var ue;if(e.multiple){const we=ho((ue=e.modelValue)!=null?ue:[]).slice(),Ge=ft(we,ee);Ge>-1?we.splice(Ge,1):(e.multipleLimit<=0||we.length<e.multipleLimit)&&we.push(ee.value),t(Ht,we),ln(we),ee.created&&J(""),e.filterable&&!e.reserveKeyword&&(o.inputValue="")}else t(Ht,ee.value),ln(ee.value),I.value=!1;wr(),!I.value&&xt(()=>{Gt(ee)})},ft=(ee=[],ue)=>qn(ue)?-1:qt(ue.value)?ee.findIndex(we=>Ci(ca(we,e.valueKey),sf(ue))):ee.indexOf(ue.value),Gt=ee=>{var ue,we,Ge,at,qe;const Je=Ke(ee)?ee[0]:ee;let et=null;if(Je!=null&&Je.value){const kt=oe.value.filter($t=>$t.value===Je.value);kt.length>0&&(et=kt[0].$el)}if(u.value&&et){const kt=(at=(Ge=(we=(ue=u.value)==null?void 0:ue.popperRef)==null?void 0:we.contentRef)==null?void 0:Ge.querySelector)==null?void 0:at.call(Ge,`.${a.be("dropdown","wrap")}`);kt&&q4(kt,et)}(qe=y.value)==null||qe.handleScroll()},cn=ee=>{o.options.set(ee.value,ee),o.cachedOptions.set(ee.value,ee)},ir=(ee,ue)=>{o.options.get(ee)===ue&&o.options.delete(ee)},Eo=F(()=>{var ee,ue;return(ue=(ee=u.value)==null?void 0:ee.popperRef)==null?void 0:ue.contentRef}),ra=()=>{o.isBeforeHide=!1,xt(()=>Gt(o.selected))},wr=()=>{var ee;(ee=f.value)==null||ee.focus()},yn=()=>{var ee;if(I.value){I.value=!1,xt(()=>{var ue;return(ue=f.value)==null?void 0:ue.blur()});return}(ee=f.value)==null||ee.blur()},Mi=ee=>{We(ee)},c0=ee=>{if(I.value=!1,k.value){const ue=new FocusEvent("focus",ee);xt(()=>T(ue))}},f0=()=>{o.inputValue.length>0?o.inputValue="":I.value=!1},d0=()=>{P.value||(vO&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:I.value=!I.value)},gp=()=>{if(!I.value)d0();else{const ee=oe.value[o.hoveringIndex];ee&&!ee.isDisabled&&de(ee)}},sf=ee=>qt(ee.value)?ca(ee.value,e.valueKey):ee.value,h0=F(()=>oe.value.filter(ee=>ee.visible).every(ee=>ee.isDisabled)),mp=F(()=>e.multiple?e.collapseTags?o.selected.slice(0,e.maxCollapseTags):o.selected:[]),gd=F(()=>e.multiple?e.collapseTags?o.selected.slice(e.maxCollapseTags):[]:[]),p0=ee=>{if(!I.value){I.value=!0;return}if(!(o.options.size===0||Q.value===0||b.value)&&!h0.value){ee==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):ee==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const ue=oe.value[o.hoveringIndex];(ue.isDisabled||!ue.visible)&&p0(ee),xt(()=>Gt(E.value))}},A1=()=>{if(!l.value)return 0;const ee=window.getComputedStyle(l.value);return Number.parseFloat(ee.gap||"6px")},le=F(()=>{const ee=A1();return{maxWidth:`${m.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-ee:o.selectionWidth}px`}}),ke=F(()=>({maxWidth:`${o.selectionWidth}px`})),ye=F(()=>({width:`${Math.max(o.calculatorWidth,kVe)}px`}));return Mr(l,Be),Mr(d,ce),Mr(v,ct),Mr(C,ct),Mr(g,It),Mr(m,Re),zt(()=>{xe()}),{inputId:L,contentId:r,nsSelect:a,nsInput:i,states:o,isFocused:k,expanded:I,optionsArray:oe,hoverOption:E,selectSize:B,filteredOptionsCount:Q,resetCalculatorWidth:ce,updateTooltip:ct,updateTagTooltip:It,debouncedOnInputChange:_t,onInput:Qt,deletePrevTag:nt,deleteTag:_e,deleteSelected:We,handleOptionSelect:de,scrollToOption:Gt,hasModelValue:O,shouldShowPlaceholder:Ie,currentPlaceholder:Ce,mouseEnterEventName:he,needStatusIcon:M,showClose:W,iconComponent:U,iconReverse:V,validateState:H,validateIcon:K,showNewOption:me,updateOptions:ve,collapseTagSize:re,setSelected:xe,selectDisabled:P,emptyText:ne,handleCompositionStart:x,handleCompositionUpdate:_,handleCompositionEnd:S,onOptionCreate:cn,onOptionDestroy:ir,handleMenuEnter:ra,focus:wr,blur:yn,handleClearClick:Mi,handleClickOutside:c0,handleEsc:f0,toggleMenu:d0,selectOption:gp,getValueKey:sf,navigateOptions:p0,dropdownMenuVisible:ge,showTagList:mp,collapseTagList:gd,tagStyle:le,collapseTagStyle:ke,inputStyle:ye,popperRef:Eo,inputRef:f,tooltipRef:u,tagTooltipRef:c,calculatorRef:d,prefixRef:h,suffixRef:p,selectRef:s,wrapperRef:C,selectionRef:l,scrollbarRef:y,menuRef:v,tagMenuRef:g,collapseItemRef:m}};var EVe=se({name:"ElOptions",setup(e,{slots:t}){const n=ht(Ky);let r=[];return()=>{var a,i;const o=(a=t.default)==null?void 0:a.call(t),s=[];function l(u){Ke(u)&&u.forEach(c=>{var f,d,h,p;const v=(f=(c==null?void 0:c.type)||{})==null?void 0:f.name;v==="ElOptionGroup"?l(!vt(c.children)&&!Ke(c.children)&&mt((d=c.children)==null?void 0:d.default)?(h=c.children)==null?void 0:h.default():c.children):v==="ElOption"?s.push((p=c.props)==null?void 0:p.value):Ke(c.children)&&l(c.children)})}return o.length&&l((i=o[0])==null?void 0:i.children),Ci(s,r)||(r=s,n&&(n.states.optionValues=s)),o}}});const AVe=je({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:xa,effect:{type:be(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:be(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Ja.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:er,default:od},fitInputWidth:Boolean,suffixIcon:{type:er,default:Xc},tagType:{...zf.type,default:"info"},tagEffect:{...zf.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:be(String),values:sd,default:"bottom-start"},fallbackPlacements:{type:be(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Wy,...Ei(["ariaLabel"])}),MG="ElSelect",DVe=se({name:MG,componentName:MG,components:{ElSelectMenu:TVe,ElOption:OB,ElOptions:EVe,ElTag:ey,ElScrollbar:qc,ElTooltip:Hi,ElIcon:pt},directives:{ClickOutside:Wf},props:AVe,emits:[Ht,Qn,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=F(()=>{const{modelValue:o,multiple:s}=e,l=s?[]:void 0;return Ke(o)?s?o:l:s?l:o}),r=Ln({...di(e),modelValue:n}),a=IVe(r,t);hn(Ky,Ln({props:r,states:a.states,optionsArray:a.optionsArray,handleOptionSelect:a.handleOptionSelect,onOptionCreate:a.onOptionCreate,onOptionDestroy:a.onOptionDestroy,selectRef:a.selectRef,setSelected:a.setSelected}));const i=F(()=>e.multiple?a.states.selected.map(o=>o.currentLabel):a.states.selectedLabel);return{...a,modelValue:n,selectedLabel:i}}});function NVe(e,t,n,r,a,i){const o=Ft("el-tag"),s=Ft("el-tooltip"),l=Ft("el-icon"),u=Ft("el-option"),c=Ft("el-options"),f=Ft("el-scrollbar"),d=Ft("el-select-menu"),h=v_("click-outside");return Vt((z(),q("div",{ref:"selectRef",class:G([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Yb(e.mouseEnterEventName)]:p=>e.states.inputHovering=!0,onMouseleave:p=>e.states.inputHovering=!1},[ie(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:p=>e.states.isBeforeHide=!1},{default:fe(()=>{var p;return[Z("div",{ref:"wrapperRef",class:G([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:At(e.toggleMenu,["prevent"])},[e.$slots.prefix?(z(),q("div",{key:0,ref:"prefixRef",class:G(e.nsSelect.e("prefix"))},[Se(e.$slots,"prefix")],2)):Te("v-if",!0),Z("div",{ref:"selectionRef",class:G([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Se(e.$slots,"tag",{key:0},()=>[(z(!0),q(gt,null,un(e.showTagList,v=>(z(),q("div",{key:e.getValueKey(v),class:G(e.nsSelect.e("selected-item"))},[ie(o,{closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:yt(e.tagStyle),onClose:g=>e.deleteTag(g,v)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:v.currentLabel,value:v.value},()=>[Kt(Ve(v.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(z(),Ae(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:fe(()=>[Z("div",{ref:"collapseItemRef",class:G(e.nsSelect.e("selected-item"))},[ie(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:yt(e.collapseTagStyle)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))}," + "+Ve(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:fe(()=>[Z("div",{ref:"tagMenuRef",class:G(e.nsSelect.e("selection"))},[(z(!0),q(gt,null,un(e.collapseTagList,v=>(z(),q("div",{key:e.getValueKey(v),class:G(e.nsSelect.e("selected-item"))},[ie(o,{class:"in-tooltip",closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:g=>e.deleteTag(g,v)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:v.currentLabel,value:v.value},()=>[Kt(Ve(v.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Te("v-if",!0)]):Te("v-if",!0),Z("div",{class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Vt(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":v=>e.states.inputValue=v,type:"text",name:e.name,class:G([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:yt(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((p=e.hoverOption)==null?void 0:p.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[rr(At(v=>e.navigateOptions("next"),["stop","prevent"]),["down"]),rr(At(v=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),rr(At(e.handleEsc,["stop","prevent"]),["esc"]),rr(At(e.selectOption,["stop","prevent"]),["enter"]),rr(At(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:At(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[aA,e.states.inputValue]]),e.filterable?(z(),q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:G(e.nsSelect.e("input-calculator")),textContent:Ve(e.states.inputValue)},null,10,["textContent"])):Te("v-if",!0)],2),e.shouldShowPlaceholder?(z(),q("div",{key:1,class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Se(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,Ve(e.currentPlaceholder),1)]):(z(),q("span",{key:1},Ve(e.currentPlaceholder),1))],2)):Te("v-if",!0)],2),Z("div",{ref:"suffixRef",class:G(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(z(),Ae(l,{key:0,class:G([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:fe(()=>[(z(),Ae(tn(e.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),e.showClose&&e.clearIcon?(z(),Ae(l,{key:1,class:G([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:fe(()=>[(z(),Ae(tn(e.clearIcon)))]),_:1},8,["class","onClick"])):Te("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(z(),Ae(l,{key:2,class:G([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:fe(()=>[(z(),Ae(tn(e.validateIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],10,["onClick"])]}),content:fe(()=>[ie(d,{ref:"menuRef"},{default:fe(()=>[e.$slots.header?(z(),q("div",{key:0,class:G(e.nsSelect.be("dropdown","header")),onClick:At(()=>{},["stop"])},[Se(e.$slots,"header")],10,["onClick"])):Te("v-if",!0),Vt(ie(f,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:G([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:fe(()=>[e.showNewOption?(z(),Ae(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):Te("v-if",!0),ie(c,null,{default:fe(()=>[Se(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[En,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(z(),q("div",{key:1,class:G(e.nsSelect.be("dropdown","loading"))},[Se(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(z(),q("div",{key:2,class:G(e.nsSelect.be("dropdown","empty"))},[Se(e.$slots,"empty",{},()=>[Z("span",null,Ve(e.emptyText),1)])],2)):Te("v-if",!0),e.$slots.footer?(z(),q("div",{key:3,class:G(e.nsSelect.be("dropdown","footer")),onClick:At(()=>{},["stop"])},[Se(e.$slots,"footer")],10,["onClick"])):Te("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[h,e.handleClickOutside,e.popperRef]])}var RVe=Ze(DVe,[["render",NVe],["__file","select.vue"]]);const MVe=se({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=ze("select"),n=Y(null),r=jt(),a=Y([]);hn($ie,Ln({...di(e)}));const i=F(()=>a.value.some(u=>u.visible===!0)),o=u=>{var c,f;return((c=u.type)==null?void 0:c.name)==="ElOption"&&!!((f=u.component)!=null&&f.proxy)},s=u=>{const c=ho(u),f=[];return c.forEach(d=>{var h,p;o(d)?f.push(d.component.proxy):(h=d.children)!=null&&h.length?f.push(...s(d.children)):(p=d.component)!=null&&p.subTree&&f.push(...s(d.component.subTree))}),f},l=()=>{a.value=s(r.subTree)};return zt(()=>{l()}),wre(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:i,ns:t}}});function $Ve(e,t,n,r,a,i){return Vt((z(),q("ul",{ref:"groupRef",class:G(e.ns.be("group","wrap"))},[Z("li",{class:G(e.ns.be("group","title"))},Ve(e.label),3),Z("li",null,[Z("ul",{class:G(e.ns.b("group"))},[Se(e.$slots,"default")],2)])],2)),[[En,e.visible]])}var Lie=Ze(MVe,[["render",$Ve],["__file","option-group.vue"]]);const ag=Bt(RVe,{Option:OB,OptionGroup:Lie}),qk=Ur(OB),LVe=Ur(Lie),PB=()=>ht(Mie,{}),OVe=je({pageSize:{type:Number,required:!0},pageSizes:{type:be(Array),default:()=>zr([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Yc},appendSizeTo:String}),PVe=se({name:"ElPaginationSizes"}),FVe=se({...PVe,props:OVe,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=_n(),a=ze("pagination"),i=PB(),o=Y(n.pageSize);Oe(()=>n.pageSizes,(u,c)=>{if(!Ci(u,c)&&Ke(u)){const f=u.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",f)}}),Oe(()=>n.pageSize,u=>{o.value=u});const s=F(()=>n.pageSizes);function l(u){var c;u!==o.value&&(o.value=u,(c=i.handleSizeChange)==null||c.call(i,Number(u)))}return(u,c)=>(z(),q("span",{class:G(w(a).e("sizes"))},[ie(w(ag),{"model-value":o.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,"append-to":u.appendSizeTo,onChange:l},{default:fe(()=>[(z(!0),q(gt,null,un(w(s),f=>(z(),Ae(w(qk),{key:f,value:f,label:f+w(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var BVe=Ze(FVe,[["__file","sizes.vue"]]);const VVe=je({size:{type:String,values:Yc}}),zVe=se({name:"ElPaginationJumper"}),WVe=se({...zVe,props:VVe,setup(e){const{t}=_n(),n=ze("pagination"),{pageCount:r,disabled:a,currentPage:i,changeEvent:o}=PB(),s=Y(),l=F(()=>{var f;return(f=s.value)!=null?f:i==null?void 0:i.value});function u(f){s.value=f?+f:""}function c(f){f=Math.trunc(+f),o==null||o(f),s.value=void 0}return(f,d)=>(z(),q("span",{class:G(w(n).e("jump")),disabled:w(a)},[Z("span",{class:G([w(n).e("goto")])},Ve(w(t)("el.pagination.goto")),3),ie(w(mo),{size:f.size,class:G([w(n).e("editor"),w(n).is("in-pagination")]),min:1,max:w(r),disabled:w(a),"model-value":w(l),"validate-event":!1,"aria-label":w(t)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),Z("span",{class:G([w(n).e("classifier")])},Ve(w(t)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var HVe=Ze(WVe,[["__file","jumper.vue"]]);const UVe=je({total:{type:Number,default:1e3}}),GVe=se({name:"ElPaginationTotal"}),KVe=se({...GVe,props:UVe,setup(e){const{t}=_n(),n=ze("pagination"),{disabled:r}=PB();return(a,i)=>(z(),q("span",{class:G(w(n).e("total")),disabled:w(r)},Ve(w(t)("el.pagination.total",{total:a.total})),11,["disabled"]))}});var jVe=Ze(KVe,[["__file","total.vue"]]);const YVe=je({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),XVe=se({name:"ElPaginationPager"}),qVe=se({...XVe,props:YVe,emits:["change"],setup(e,{emit:t}){const n=e,r=ze("pager"),a=ze("icon"),{t:i}=_n(),o=Y(!1),s=Y(!1),l=Y(!1),u=Y(!1),c=Y(!1),f=Y(!1),d=F(()=>{const x=n.pagerCount,_=(x-1)/2,S=Number(n.currentPage),C=Number(n.pageCount);let k=!1,T=!1;C>x&&(S>x-_&&(k=!0),S<C-_&&(T=!0));const I=[];if(k&&!T){const E=C-(x-2);for(let A=E;A<C;A++)I.push(A)}else if(!k&&T)for(let E=2;E<x;E++)I.push(E);else if(k&&T){const E=Math.floor(x/2)-1;for(let A=S-E;A<=S+E;A++)I.push(A)}else for(let E=2;E<C;E++)I.push(E);return I}),h=F(()=>["more","btn-quickprev",a.b(),r.is("disabled",n.disabled)]),p=F(()=>["more","btn-quicknext",a.b(),r.is("disabled",n.disabled)]),v=F(()=>n.disabled?-1:0);Pi(()=>{const x=(n.pagerCount-1)/2;o.value=!1,s.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-x&&(o.value=!0),n.currentPage<n.pageCount-x&&(s.value=!0))});function g(x=!1){n.disabled||(x?l.value=!0:u.value=!0)}function m(x=!1){x?c.value=!0:f.value=!0}function y(x){const _=x.target;if(_.tagName.toLowerCase()==="li"&&Array.from(_.classList).includes("number")){const S=Number(_.textContent);S!==n.currentPage&&t("change",S)}else _.tagName.toLowerCase()==="li"&&Array.from(_.classList).includes("more")&&b(x)}function b(x){const _=x.target;if(_.tagName.toLowerCase()==="ul"||n.disabled)return;let S=Number(_.textContent);const C=n.pageCount,k=n.currentPage,T=n.pagerCount-2;_.className.includes("more")&&(_.className.includes("quickprev")?S=k-T:_.className.includes("quicknext")&&(S=k+T)),Number.isNaN(+S)||(S<1&&(S=1),S>C&&(S=C)),S!==k&&t("change",S)}return(x,_)=>(z(),q("ul",{class:G(w(r).b()),onClick:b,onKeyup:rr(y,["enter"])},[x.pageCount>0?(z(),q("li",{key:0,class:G([[w(r).is("active",x.currentPage===1),w(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===1,"aria-label":w(i)("el.pagination.currentPage",{pager:1}),tabindex:w(v)}," 1 ",10,["aria-current","aria-label","tabindex"])):Te("v-if",!0),o.value?(z(),q("li",{key:1,class:G(w(h)),tabindex:w(v),"aria-label":w(i)("el.pagination.prevPages",{pager:x.pagerCount-2}),onMouseenter:S=>g(!0),onMouseleave:S=>l.value=!1,onFocus:S=>m(!0),onBlur:S=>c.value=!1},[(l.value||c.value)&&!x.disabled?(z(),Ae(w(kh),{key:0})):(z(),Ae(w(SU),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Te("v-if",!0),(z(!0),q(gt,null,un(w(d),S=>(z(),q("li",{key:S,class:G([[w(r).is("active",x.currentPage===S),w(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===S,"aria-label":w(i)("el.pagination.currentPage",{pager:S}),tabindex:w(v)},Ve(S),11,["aria-current","aria-label","tabindex"]))),128)),s.value?(z(),q("li",{key:2,class:G(w(p)),tabindex:w(v),"aria-label":w(i)("el.pagination.nextPages",{pager:x.pagerCount-2}),onMouseenter:S=>g(),onMouseleave:S=>u.value=!1,onFocus:S=>m(),onBlur:S=>f.value=!1},[(u.value||f.value)&&!x.disabled?(z(),Ae(w(Ih),{key:0})):(z(),Ae(w(SU),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Te("v-if",!0),x.pageCount>1?(z(),q("li",{key:3,class:G([[w(r).is("active",x.currentPage===x.pageCount),w(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===x.pageCount,"aria-label":w(i)("el.pagination.currentPage",{pager:x.pageCount}),tabindex:w(v)},Ve(x.pageCount),11,["aria-current","aria-label","tabindex"])):Te("v-if",!0)],42,["onKeyup"]))}});var ZVe=Ze(qVe,[["__file","pager.vue"]]);const Ao=e=>typeof e!="number",JVe=je({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>Tt(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:be(Array),default:()=>zr([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:er,default:()=>Th},nextText:{type:String,default:""},nextIcon:{type:er,default:()=>Yo},teleported:{type:Boolean,default:!0},small:Boolean,size:xa,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),QVe={"update:current-page":e=>Tt(e),"update:page-size":e=>Tt(e),"size-change":e=>Tt(e),change:(e,t)=>Tt(e)&&Tt(t),"current-change":e=>Tt(e),"prev-click":e=>Tt(e),"next-click":e=>Tt(e)},$G="ElPagination";var eze=se({name:$G,props:JVe,emits:QVe,setup(e,{emit:t,slots:n}){const{t:r}=_n(),a=ze("pagination"),i=jt().vnode.props||{},o=Ere(),s=F(()=>{var _;return e.small?"small":(_=e.size)!=null?_:o.value});lh({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},F(()=>!!e.small));const l="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,u="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,c=F(()=>{if(Ao(e.total)&&Ao(e.pageCount)||!Ao(e.currentPage)&&!l)return!1;if(e.layout.includes("sizes")){if(Ao(e.pageCount)){if(!Ao(e.total)&&!Ao(e.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),f=Y(Ao(e.defaultPageSize)?10:e.defaultPageSize),d=Y(Ao(e.defaultCurrentPage)?1:e.defaultCurrentPage),h=F({get(){return Ao(e.pageSize)?f.value:e.pageSize},set(_){Ao(e.pageSize)&&(f.value=_),u&&(t("update:page-size",_),t("size-change",_))}}),p=F(()=>{let _=0;return Ao(e.pageCount)?Ao(e.total)||(_=Math.max(1,Math.ceil(e.total/h.value))):_=e.pageCount,_}),v=F({get(){return Ao(e.currentPage)?d.value:e.currentPage},set(_){let S=_;_<1?S=1:_>p.value&&(S=p.value),Ao(e.currentPage)&&(d.value=S),l&&(t("update:current-page",S),t("current-change",S))}});Oe(p,_=>{v.value>_&&(v.value=_)}),Oe([v,h],_=>{t("change",..._)},{flush:"post"});function g(_){v.value=_}function m(_){h.value=_;const S=p.value;v.value>S&&(v.value=S)}function y(){e.disabled||(v.value-=1,t("prev-click",v.value))}function b(){e.disabled||(v.value+=1,t("next-click",v.value))}function x(_,S){_&&(_.props||(_.props={}),_.props.class=[_.props.class,S].join(" "))}return hn(Mie,{pageCount:p,disabled:F(()=>e.disabled),currentPage:v,changeEvent:g,handleSizeChange:m}),()=>{var _,S;if(!c.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&p.value<=1)return null;const C=[],k=[],T=Ct("div",{class:a.e("rightwrapper")},k),I={prev:Ct(vVe,{disabled:e.disabled,currentPage:v.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:y}),jumper:Ct(HVe,{size:s.value}),pager:Ct(ZVe,{currentPage:v.value,pageCount:p.value,pagerCount:e.pagerCount,onChange:g,disabled:e.disabled}),next:Ct(bVe,{disabled:e.disabled,currentPage:v.value,pageCount:p.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:b}),sizes:Ct(BVe,{pageSize:h.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:s.value,appendSizeTo:e.appendSizeTo}),slot:(S=(_=n==null?void 0:n.default)==null?void 0:_.call(n))!=null?S:null,total:Ct(jVe,{total:Ao(e.total)?0:e.total})},E=e.layout.split(",").map(N=>N.trim());let A=!1;return E.forEach(N=>{if(N==="->"){A=!0;return}A?k.push(I[N]):C.push(I[N])}),x(C[0],a.is("first")),x(C[C.length-1],a.is("last")),A&&k.length>0&&(x(k[0],a.is("first")),x(k[k.length-1],a.is("last")),C.push(T)),Ct("div",{class:[a.b(),a.is("background",e.background),a.m(s.value)]},C)}}});const tze=Bt(eze),nze=je({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:yO,default:"primary"},cancelButtonType:{type:String,values:yO,default:"text"},icon:{type:er,default:()=>IAe},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Ja.teleported,persistent:Ja.persistent,width:{type:[String,Number],default:150}}),rze={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},aze=se({name:"ElPopconfirm"}),ize=se({...aze,props:nze,emits:rze,setup(e,{emit:t}){const n=e,{t:r}=_n(),a=ze("popconfirm"),i=Y(),o=()=>{var d,h;(h=(d=i.value)==null?void 0:d.onClose)==null||h.call(d)},s=F(()=>({width:ta(n.width)})),l=d=>{t("confirm",d),o()},u=d=>{t("cancel",d),o()},c=F(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),f=F(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(d,h)=>(z(),Ae(w(Hi),rn({ref_key:"tooltipRef",ref:i,trigger:"click",effect:"light"},d.$attrs,{"popper-class":`${w(a).namespace.value}-popover`,"popper-style":w(s),teleported:d.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":d.hideAfter,persistent:d.persistent}),{content:fe(()=>[Z("div",{class:G(w(a).b())},[Z("div",{class:G(w(a).e("main"))},[!d.hideIcon&&d.icon?(z(),Ae(w(pt),{key:0,class:G(w(a).e("icon")),style:yt({color:d.iconColor})},{default:fe(()=>[(z(),Ae(tn(d.icon)))]),_:1},8,["class","style"])):Te("v-if",!0),Kt(" "+Ve(d.title),1)],2),Z("div",{class:G(w(a).e("action"))},[Se(d.$slots,"actions",{confirm:l,cancel:u},()=>[ie(w(si),{size:"small",type:d.cancelButtonType==="text"?"":d.cancelButtonType,text:d.cancelButtonType==="text",onClick:u},{default:fe(()=>[Kt(Ve(w(f)),1)]),_:1},8,["type","text"]),ie(w(si),{size:"small",type:d.confirmButtonType==="text"?"":d.confirmButtonType,text:d.confirmButtonType==="text",onClick:l},{default:fe(()=>[Kt(Ve(w(c)),1)]),_:1},8,["type","text"])])],2)],2)]),default:fe(()=>[d.$slots.reference?Se(d.$slots,"reference",{key:0}):Te("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var oze=Ze(ize,[["__file","popconfirm.vue"]]);const sze=Bt(oze),lze=je({trigger:Jx.trigger,placement:HT.placement,disabled:Jx.disabled,visible:Ja.visible,transition:Ja.transition,popperOptions:HT.popperOptions,tabindex:HT.tabindex,content:Ja.content,popperStyle:Ja.popperStyle,popperClass:Ja.popperClass,enterable:{...Ja.enterable,default:!0},effect:{...Ja.effect,default:"light"},teleported:Ja.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),uze={"update:visible":e=>lr(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},cze="onUpdate:visible",fze=se({name:"ElPopover"}),dze=se({...fze,props:lze,emits:uze,setup(e,{expose:t,emit:n}){const r=e,a=F(()=>r[cze]),i=ze("popover"),o=Y(),s=F(()=>{var g;return(g=w(o))==null?void 0:g.popperRef}),l=F(()=>[{width:ta(r.width)},r.popperStyle]),u=F(()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}]),c=F(()=>r.transition===`${i.namespace.value}-fade-in-linear`),f=()=>{var g;(g=o.value)==null||g.hide()},d=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},v=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:s,hide:f}),(g,m)=>(z(),Ae(w(Hi),rn({ref_key:"tooltipRef",ref:o},g.$attrs,{trigger:g.trigger,placement:g.placement,disabled:g.disabled,visible:g.visible,transition:g.transition,"popper-options":g.popperOptions,tabindex:g.tabindex,content:g.content,offset:g.offset,"show-after":g.showAfter,"hide-after":g.hideAfter,"auto-close":g.autoClose,"show-arrow":g.showArrow,"aria-label":g.title,effect:g.effect,enterable:g.enterable,"popper-class":w(u),"popper-style":w(l),teleported:g.teleported,persistent:g.persistent,"gpu-acceleration":w(c),"onUpdate:visible":w(a),onBeforeShow:d,onBeforeHide:h,onShow:p,onHide:v}),{content:fe(()=>[g.title?(z(),q("div",{key:0,class:G(w(i).e("title")),role:"title"},Ve(g.title),3)):Te("v-if",!0),Se(g.$slots,"default",{},()=>[Kt(Ve(g.content),1)])]),default:fe(()=>[g.$slots.reference?Se(g.$slots,"reference",{key:0}):Te("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var hze=Ze(dze,[["__file","popover.vue"]]);const LG=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var pze={mounted(e,t){LG(e,t)},updated(e,t){LG(e,t)}};const vze="popover",Oie=NEe(pze,vze),gze=Bt(hze,{directive:Oie}),mze=je({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:be(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:be([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:be(Function),default:e=>`${e}%`}}),yze=se({name:"ElProgress"}),bze=se({...yze,props:mze,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=ze("progress"),a=F(()=>{const b={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},x=y(t.percentage);return x.includes("gradient")?b.background=x:b.backgroundColor=x,b}),i=F(()=>(t.strokeWidth/t.width*100).toFixed(1)),o=F(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),s=F(()=>{const b=o.value,x=t.type==="dashboard";return`
          M 50 50
          m 0 ${x?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${x?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${x?"":"-"}${b*2}
          `}),l=F(()=>2*Math.PI*o.value),u=F(()=>t.type==="dashboard"?.75:1),c=F(()=>`${-1*l.value*(1-u.value)/2}px`),f=F(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),d=F(()=>({strokeDasharray:`${l.value*u.value*(t.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=F(()=>{let b;return t.color?b=y(t.percentage):b=n[t.status]||n.default,b}),p=F(()=>t.status==="warning"?mA:t.type==="line"?t.status==="success"?J4:od:t.status==="success"?__:Du),v=F(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),g=F(()=>t.format(t.percentage));function m(b){const x=100/b.length;return b.map((S,C)=>vt(S)?{color:S,percentage:(C+1)*x}:S).sort((S,C)=>S.percentage-C.percentage)}const y=b=>{var x;const{color:_}=t;if(mt(_))return _(b);if(vt(_))return _;{const S=m(_);for(const C of S)if(C.percentage>b)return C.color;return(x=S[S.length-1])==null?void 0:x.color}};return(b,x)=>(z(),q("div",{class:G([w(r).b(),w(r).m(b.type),w(r).is(b.status),{[w(r).m("without-text")]:!b.showText,[w(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(z(),q("div",{key:0,class:G(w(r).b("bar"))},[Z("div",{class:G(w(r).be("bar","outer")),style:yt({height:`${b.strokeWidth}px`})},[Z("div",{class:G([w(r).be("bar","inner"),{[w(r).bem("bar","inner","indeterminate")]:b.indeterminate},{[w(r).bem("bar","inner","striped")]:b.striped},{[w(r).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:yt(w(a))},[(b.showText||b.$slots.default)&&b.textInside?(z(),q("div",{key:0,class:G(w(r).be("bar","innerText"))},[Se(b.$slots,"default",{percentage:b.percentage},()=>[Z("span",null,Ve(w(g)),1)])],2)):Te("v-if",!0)],6)],6)],2)):(z(),q("div",{key:1,class:G(w(r).b("circle")),style:yt({height:`${b.width}px`,width:`${b.width}px`})},[(z(),q("svg",{viewBox:"0 0 100 100"},[Z("path",{class:G(w(r).be("circle","track")),d:w(s),stroke:`var(${w(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":w(i),fill:"none",style:yt(w(f))},null,14,["d","stroke","stroke-linecap","stroke-width"]),Z("path",{class:G(w(r).be("circle","path")),d:w(s),stroke:w(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":w(i),style:yt(w(d))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(z(),q("div",{key:2,class:G(w(r).e("text")),style:yt({fontSize:`${w(v)}px`})},[Se(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(z(),Ae(w(pt),{key:1},{default:fe(()=>[(z(),Ae(tn(w(p))))]),_:1})):(z(),q("span",{key:0},Ve(w(g)),1))])],6)):Te("v-if",!0)],10,["aria-valuenow"]))}});var xze=Ze(bze,[["__file","progress.vue"]]);const Pie=Bt(xze),wze=je({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:be([Array,Object]),default:()=>zr(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:be([Array,Object]),default:()=>[$C,$C,$C]},voidIcon:{type:er,default:()=>WAe},disabledVoidIcon:{type:er,default:()=>$C},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:be(Array),default:()=>zr(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:xa,clearable:Boolean,...Ei(["ariaLabel"])}),_ze={[Qn]:e=>Tt(e),[Ht]:e=>Tt(e)},Sze=se({name:"ElRate"}),Cze=se({...Sze,props:wze,emits:_ze,setup(e,{expose:t,emit:n}){const r=e;function a(D,P){const O=U=>qt(U),M=Object.keys(P).map(U=>+U).filter(U=>{const V=P[U];return(O(V)?V.excluded:!1)?D<U:D<=U}).sort((U,V)=>U-V),W=P[M[0]];return O(W)&&W.value||W}const i=ht(Pg,void 0),o=ht(Rc,void 0),s=pa(),l=ze("rate"),{inputId:u,isLabeledByFormItem:c}=Vl(r,{formItemContext:o}),f=Y(r.modelValue),d=Y(-1),h=Y(!0),p=F(()=>[l.b(),l.m(s.value)]),v=F(()=>r.disabled||(i==null?void 0:i.disabled)),g=F(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":x.value})),m=F(()=>{let D="";return r.showScore?D=r.scoreTemplate.replace(/\{\s*value\s*\}/,v.value?`${r.modelValue}`:`${f.value}`):r.showText&&(D=r.texts[Math.ceil(f.value)-1]),D}),y=F(()=>r.modelValue*100-Math.floor(r.modelValue)*100),b=F(()=>Ke(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),x=F(()=>{const D=a(f.value,b.value);return qt(D)?"":D}),_=F(()=>{let D="";return v.value?D=`${y.value}%`:r.allowHalf&&(D="50%"),{color:x.value,width:D}}),S=F(()=>{let D=Ke(r.icons)?[...r.icons]:{...r.icons};return D=sh(D),Ke(D)?{[r.lowThreshold]:D[0],[r.highThreshold]:{value:D[1],excluded:!0},[r.max]:D[2]}:D}),C=F(()=>a(r.modelValue,S.value)),k=F(()=>v.value?vt(r.disabledVoidIcon)?r.disabledVoidIcon:sh(r.disabledVoidIcon):vt(r.voidIcon)?r.voidIcon:sh(r.voidIcon)),T=F(()=>a(f.value,S.value));function I(D){const P=v.value&&y.value>0&&D-1<r.modelValue&&D>r.modelValue,O=r.allowHalf&&h.value&&D-.5<=f.value&&D>f.value;return P||O}function E(D){r.clearable&&D===r.modelValue&&(D=0),n(Ht,D),r.modelValue!==D&&n("change",D)}function A(D){v.value||(r.allowHalf&&h.value?E(f.value):E(D))}function N(D){if(v.value)return;let P=f.value;const O=D.code;return O===lt.up||O===lt.right?(r.allowHalf?P+=.5:P+=1,D.stopPropagation(),D.preventDefault()):(O===lt.left||O===lt.down)&&(r.allowHalf?P-=.5:P-=1,D.stopPropagation(),D.preventDefault()),P=P<0?0:P,P=P>r.max?r.max:P,n(Ht,P),n("change",P),P}function L(D,P){if(!v.value){if(r.allowHalf&&P){let O=P.target;xs(O,l.e("item"))&&(O=O.querySelector(`.${l.e("icon")}`)),(O.clientWidth===0||xs(O,l.e("decimal")))&&(O=O.parentNode),h.value=P.offsetX*2<=O.clientWidth,f.value=h.value?D-.5:D}else f.value=D;d.value=D}}function R(){v.value||(r.allowHalf&&(h.value=r.modelValue!==Math.floor(r.modelValue)),f.value=r.modelValue,d.value=-1)}return Oe(()=>r.modelValue,D=>{f.value=D,h.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(Ht,0),t({setCurrentValue:L,resetCurrentValue:R}),(D,P)=>{var O;return z(),q("div",{id:w(u),class:G([w(p),w(l).is("disabled",w(v))]),role:"slider","aria-label":w(c)?void 0:D.ariaLabel||"rating","aria-labelledby":w(c)?(O=w(o))==null?void 0:O.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":w(m)||void 0,"aria-valuemin":"0","aria-valuemax":D.max,tabindex:"0",style:yt(w(g)),onKeydown:N},[(z(!0),q(gt,null,un(D.max,(M,W)=>(z(),q("span",{key:W,class:G(w(l).e("item")),onMousemove:U=>L(M,U),onMouseleave:R,onClick:U=>A(M)},[ie(w(pt),{class:G([w(l).e("icon"),{hover:d.value===M},w(l).is("active",M<=f.value)])},{default:fe(()=>[I(M)?Te("v-if",!0):(z(),q(gt,{key:0},[Vt((z(),Ae(tn(w(T)),null,null,512)),[[En,M<=f.value]]),Vt((z(),Ae(tn(w(k)),null,null,512)),[[En,!(M<=f.value)]])],64)),I(M)?(z(),q(gt,{key:1},[(z(),Ae(tn(w(k)),{class:G([w(l).em("decimal","box")])},null,8,["class"])),ie(w(pt),{style:yt(w(_)),class:G([w(l).e("icon"),w(l).e("decimal")])},{default:fe(()=>[(z(),Ae(tn(w(C))))]),_:1},8,["style","class"])],64)):Te("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),D.showText||D.showScore?(z(),q("span",{key:0,class:G(w(l).e("text")),style:yt({color:D.textColor})},Ve(w(m)),7)):Te("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var Tze=Ze(Cze,[["__file","rate.vue"]]);const kze=Bt(Tze),um={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},OG={[um.success]:qEe,[um.warning]:mA,[um.error]:Q4,[um.info]:gA},Ize=je({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),Eze=se({name:"ElResult"}),Aze=se({...Eze,props:Ize,setup(e){const t=e,n=ze("result"),r=F(()=>{const a=t.icon,i=a&&um[a]?um[a]:"icon-info",o=OG[i]||OG["icon-info"];return{class:i,component:o}});return(a,i)=>(z(),q("div",{class:G(w(n).b())},[Z("div",{class:G(w(n).e("icon"))},[Se(a.$slots,"icon",{},()=>[w(r).component?(z(),Ae(tn(w(r).component),{key:0,class:G(w(r).class)},null,8,["class"])):Te("v-if",!0)])],2),a.title||a.$slots.title?(z(),q("div",{key:0,class:G(w(n).e("title"))},[Se(a.$slots,"title",{},()=>[Z("p",null,Ve(a.title),1)])],2)):Te("v-if",!0),a.subTitle||a.$slots["sub-title"]?(z(),q("div",{key:1,class:G(w(n).e("subtitle"))},[Se(a.$slots,"sub-title",{},()=>[Z("p",null,Ve(a.subTitle),1)])],2)):Te("v-if",!0),a.$slots.extra?(z(),q("div",{key:2,class:G(w(n).e("extra"))},[Se(a.$slots,"extra")],2)):Te("v-if",!0)],2))}});var Dze=Ze(Aze,[["__file","result.vue"]]);const Nze=Bt(Dze),Rze=["start","center","end","space-around","space-between","space-evenly"],Mze=["top","middle","bottom"],$ze=je({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Rze,default:"start"},align:{type:String,values:Mze}}),Lze=se({name:"ElRow"}),Oze=se({...Lze,props:$ze,setup(e){const t=e,n=ze("row"),r=F(()=>t.gutter);hn(Uae,{gutter:r});const a=F(()=>{const o={};return t.gutter&&(o.marginRight=o.marginLeft=`-${t.gutter/2}px`),o}),i=F(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(o,s)=>(z(),Ae(tn(o.tag),{class:G(w(i)),style:yt(w(a))},{default:fe(()=>[Se(o.$slots,"default")]),_:3},8,["class","style"]))}});var Pze=Ze(Oze,[["__file","row.vue"]]);const Fze=Bt(Pze),Bze=se({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:ze("select")}}});function Vze(e,t,n,r,a,i){return z(),q("div",{class:G(e.ns.be("group","title")),style:yt({...e.style,lineHeight:`${e.height}px`})},Ve(e.item.label),7)}var zze=Ze(Bze,[["render",Vze],["__file","group-item.vue"]]);function Wze(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Fie={label:"label",value:"value",disabled:"disabled",options:"options"};function IA(e){const t=F(()=>({...Fie,...e.props}));return{aliasProps:t,getLabel:o=>ca(o,t.value.label),getValue:o=>ca(o,t.value.value),getDisabled:o=>ca(o,t.value.disabled),getOptions:o=>ca(o,t.value.options)}}const Hze=je({allowCreate:Boolean,autocomplete:{type:be(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:er,default:od},effect:{type:be(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:be([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:be(Array),required:!0},placeholder:{type:String},teleported:Ja.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:be(Object),default:()=>({})},remote:Boolean,size:xa,props:{type:be(Object),default:()=>Fie},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:be(String),values:sd,default:"bottom-start"},fallbackPlacements:{type:be(Array),default:["bottom-start","top-start","right","left"]},tagType:{...zf.type,default:"info"},tagEffect:{...zf.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,...Wy,...Ei(["ariaLabel"])}),Uze=je({data:Array,disabled:Boolean,hovering:Boolean,item:{type:be(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Gze={[Ht]:e=>!0,[Qn]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},Kze={hover:e=>Tt(e),select:(e,t)=>!0},FB=Symbol("ElSelectV2Injection"),jze=se({props:Uze,emits:Kze,setup(e,{emit:t}){const n=ht(FB),r=ze("select"),{hoverItem:a,selectOptionClick:i}=Wze(e,{emit:t}),{getLabel:o}=IA(n.props);return{ns:r,hoverItem:a,selectOptionClick:i,getLabel:o}}});function Yze(e,t,n,r,a,i){return z(),q("li",{"aria-selected":e.selected,style:yt(e.style),class:G([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:At(e.selectOptionClick,["stop"])},[Se(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Z("span",null,Ve(e.getLabel(e.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var Xze=Ze(jze,[["render",Yze],["__file","option-item.vue"]]),PG=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function qze(e,t){return!!(e===t||PG(e)&&PG(t))}function Zze(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!qze(e[n],t[n]))return!1;return!0}function Jze(e,t){t===void 0&&(t=Zze);var n=null;function r(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var o=e.apply(this,a);return n={lastResult:o,lastArgs:a,lastThis:this},o}return r.clear=function(){n=null},r}const Bie=()=>{const t=jt().proxy.$props;return F(()=>{const n=(r,a,i)=>({});return t.perfMode?uA(n):Jze(n)})},BO=50,Zk="itemRendered",Jk="scroll",cm="forward",Qk="backward",Cl="auto",EA="smart",nw="start",vc="center",rw="end",ny="horizontal",BB="vertical",Qze="ltr",km="rtl",aw="negative",VB="positive-ascending",zB="positive-descending",e6e={[ny]:"left",[BB]:"top"},t6e=20,n6e={[ny]:"deltaX",[BB]:"deltaY"},r6e=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let a,i=0;const o=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:o,onWheel:l=>{rg(a);const u=l[n6e[n.value]];o(i)&&o(i+u)||(i+=u,bA()||l.preventDefault(),a=Ch(()=>{r(i),i=0}))}}},VO=Vu({type:be([Number,Function]),required:!0}),zO=Vu({type:Number}),WO=Vu({type:Number,default:2}),a6e=Vu({type:String,values:["ltr","rtl"],default:"ltr"}),HO=Vu({type:Number,default:0}),eI=Vu({type:Number,required:!0}),Vie=Vu({type:String,values:["horizontal","vertical"],default:BB}),zie=je({className:{type:String,default:""},containerElement:{type:be([String,Object]),default:"div"},data:{type:be(Array),default:()=>zr([])},direction:a6e,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:be([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Wie=je({cache:WO,estimatedItemSize:zO,layout:Vie,initScrollOffset:HO,total:eI,itemSize:VO,...zie}),UO={type:Number,default:6},Hie={type:Number,default:0},Uie={type:Number,default:2},Ov=je({columnCache:WO,columnWidth:VO,estimatedColumnWidth:zO,estimatedRowHeight:zO,initScrollLeft:HO,initScrollTop:HO,itemKey:{type:be(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:WO,rowHeight:VO,totalColumn:eI,totalRow:eI,hScrollbarSize:UO,vScrollbarSize:UO,scrollbarStartGap:Hie,scrollbarEndGap:Uie,role:String,...zie}),Gie=je({alwaysOn:Boolean,class:String,layout:Vie,total:eI,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:UO,startGap:Hie,endGap:Uie,visible:Boolean}),mv=(e,t)=>e<t?cm:Qk,iw=e=>e===Qze||e===km||e===ny,FG=e=>e===km;let b0=null;function tI(e=!1){if(b0===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?b0=zB:(t.scrollLeft=1,t.scrollLeft===0?b0=aw:b0=VB),document.body.removeChild(t),b0}return b0}function i6e({move:e,size:t,bar:n},r){const a={},i=`translate${n.axis}(${e}px)`;return a[n.size]=t,a.transform=i,a.msTransform=i,a.webkitTransform=i,r==="horizontal"?a.height="100%":a.width="100%",a}const GO=se({name:"ElVirtualScrollBar",props:Gie,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=F(()=>e.startGap+e.endGap),r=ze("virtual-scrollbar"),a=ze("scrollbar"),i=Y(),o=Y();let s=null,l=null;const u=Ln({isDragging:!1,traveled:0}),c=F(()=>Hre[e.layout]),f=F(()=>e.clientSize-w(n)),d=F(()=>({position:"absolute",width:`${ny===e.layout?f.value:e.scrollbarSize}px`,height:`${ny===e.layout?e.scrollbarSize:f.value}px`,[e6e[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=F(()=>{const S=e.ratio,C=e.clientSize;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*C/100;const k=C/3;return Math.floor(Math.min(Math.max(S*C,t6e),k))}),p=F(()=>{if(!Number.isFinite(h.value))return{display:"none"};const S=`${h.value}px`;return i6e({bar:c.value,size:S,move:u.traveled},e.layout)}),v=F(()=>Math.floor(e.clientSize-h.value-w(n))),g=()=>{window.addEventListener("mousemove",x),window.addEventListener("mouseup",b);const S=w(o);S&&(l=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",x,{passive:!0}),S.addEventListener("touchend",b))},m=()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const S=w(o);S&&(S.removeEventListener("touchmove",x),S.removeEventListener("touchend",b))},y=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(u.isDragging=!0,u[c.value.axis]=S.currentTarget[c.value.offset]-(S[c.value.client]-S.currentTarget.getBoundingClientRect()[c.value.direction]),t("start-move"),g())},b=()=>{u.isDragging=!1,u[c.value.axis]=0,t("stop-move"),m()},x=S=>{const{isDragging:C}=u;if(!C||!o.value||!i.value)return;const k=u[c.value.axis];if(!k)return;rg(s);const T=(i.value.getBoundingClientRect()[c.value.direction]-S[c.value.client])*-1,I=o.value[c.value.offset]-k,E=T-I;s=Ch(()=>{u.traveled=Math.max(e.startGap,Math.min(E,v.value)),t("scroll",E,v.value)})},_=S=>{const C=Math.abs(S.target.getBoundingClientRect()[c.value.direction]-S[c.value.client]),k=o.value[c.value.offset]/2,T=C-k;u.traveled=Math.max(0,Math.min(T,v.value)),t("scroll",T,v.value)};return Oe(()=>e.scrollFrom,S=>{u.isDragging||(u.traveled=Math.ceil(S*v.value))}),ar(()=>{m()}),()=>Ct("div",{role:"presentation",ref:i,class:[r.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:d.value,onMousedown:At(_,["stop","prevent"]),onTouchstartPrevent:y},Ct("div",{ref:o,class:a.e("thumb"),style:p.value,onMousedown:y},[]))}}),Kie=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:a,getStartIndexForOffset:i,getStopIndexForStartIndex:o,initCache:s,clearCache:l,validateProps:u})=>se({name:e??"ElVirtualList",props:Wie,emits:[Zk,Jk],setup(c,{emit:f,expose:d}){u(c);const h=jt(),p=ze("vl"),v=Y(s(c,h)),g=Bie(),m=Y(),y=Y(),b=Y(),x=Y({isScrolling:!1,scrollDir:"forward",scrollOffset:Tt(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),_=F(()=>{const{total:H,cache:K}=c,{isScrolling:j,scrollDir:ne,scrollOffset:Q}=w(x);if(H===0)return[0,0,0,0];const oe=i(c,Q,w(v)),ae=o(c,oe,Q,w(v)),me=!j||ne===Qk?Math.max(1,K):1,ve=!j||ne===cm?Math.max(1,K):1;return[Math.max(0,oe-me),Math.max(0,Math.min(H-1,ae+ve)),oe,ae]}),S=F(()=>a(c,w(v))),C=F(()=>iw(c.layout)),k=F(()=>[{position:"relative",[`overflow-${C.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:Tt(c.height)?`${c.height}px`:c.height,width:Tt(c.width)?`${c.width}px`:c.width},c.style]),T=F(()=>{const H=w(S),K=w(C);return{height:K?"100%":`${H}px`,pointerEvents:w(x).isScrolling?"none":void 0,width:K?`${H}px`:"100%"}}),I=F(()=>C.value?c.width:c.height),{onWheel:E}=r6e({atStartEdge:F(()=>x.value.scrollOffset<=0),atEndEdge:F(()=>x.value.scrollOffset>=S.value),layout:F(()=>c.layout)},H=>{var K,j;(j=(K=b.value).onMouseUp)==null||j.call(K),P(Math.min(x.value.scrollOffset+H,S.value-I.value))});Zn(m,"wheel",E,{passive:!1});const A=()=>{const{total:H}=c;if(H>0){const[Q,oe,ae,me]=w(_);f(Zk,Q,oe,ae,me)}const{scrollDir:K,scrollOffset:j,updateRequested:ne}=w(x);f(Jk,K,j,ne)},N=H=>{const{clientHeight:K,scrollHeight:j,scrollTop:ne}=H.currentTarget,Q=w(x);if(Q.scrollOffset===ne)return;const oe=Math.max(0,Math.min(ne,j-K));x.value={...Q,isScrolling:!0,scrollDir:mv(Q.scrollOffset,oe),scrollOffset:oe,updateRequested:!1},xt(W)},L=H=>{const{clientWidth:K,scrollLeft:j,scrollWidth:ne}=H.currentTarget,Q=w(x);if(Q.scrollOffset===j)return;const{direction:oe}=c;let ae=j;if(oe===km)switch(tI()){case aw:{ae=-j;break}case zB:{ae=ne-K-j;break}}ae=Math.max(0,Math.min(ae,ne-K)),x.value={...Q,isScrolling:!0,scrollDir:mv(Q.scrollOffset,ae),scrollOffset:ae,updateRequested:!1},xt(W)},R=H=>{w(C)?L(H):N(H),A()},D=(H,K)=>{const j=(S.value-I.value)/K*H;P(Math.min(S.value-I.value,j))},P=H=>{H=Math.max(H,0),H!==w(x).scrollOffset&&(x.value={...w(x),scrollOffset:H,scrollDir:mv(w(x).scrollOffset,H),updateRequested:!0},xt(W))},O=(H,K=Cl)=>{const{scrollOffset:j}=w(x);H=Math.max(0,Math.min(H,c.total-1)),P(t(c,H,K,j,w(v)))},M=H=>{const{direction:K,itemSize:j,layout:ne}=c,Q=g.value(l&&j,l&&ne,l&&K);let oe;if(Dn(Q,String(H)))oe=Q[H];else{const ae=r(c,H,w(v)),me=n(c,H,w(v)),ve=w(C),B=K===km,re=ve?ae:0;Q[H]=oe={position:"absolute",left:B?void 0:`${re}px`,right:B?`${re}px`:void 0,top:ve?0:`${ae}px`,height:ve?"100%":`${me}px`,width:ve?`${me}px`:"100%"}}return oe},W=()=>{x.value.isScrolling=!1,xt(()=>{g.value(-1,null,null)})},U=()=>{const H=m.value;H&&(H.scrollTop=0)};zt(()=>{if(!wn)return;const{initScrollOffset:H}=c,K=w(m);Tt(H)&&K&&(w(C)?K.scrollLeft=H:K.scrollTop=H),A()}),Kc(()=>{const{direction:H,layout:K}=c,{scrollOffset:j,updateRequested:ne}=w(x),Q=w(m);if(ne&&Q)if(K===ny)if(H===km)switch(tI()){case aw:{Q.scrollLeft=-j;break}case VB:{Q.scrollLeft=j;break}default:{const{clientWidth:oe,scrollWidth:ae}=Q;Q.scrollLeft=ae-oe-j;break}}else Q.scrollLeft=j;else Q.scrollTop=j}),S4(()=>{w(m).scrollTop=w(x).scrollOffset});const V={ns:p,clientSize:I,estimatedTotalSize:S,windowStyle:k,windowRef:m,innerRef:y,innerStyle:T,itemsToRender:_,scrollbarRef:b,states:x,getItemStyle:M,onScroll:R,onScrollbarScroll:D,onWheel:E,scrollTo:P,scrollToItem:O,resetScrollTop:U};return d({windowRef:m,innerRef:y,getItemStyleCache:g,scrollTo:P,scrollToItem:O,resetScrollTop:U,states:x}),V},render(c){var f;const{$slots:d,className:h,clientSize:p,containerElement:v,data:g,getItemStyle:m,innerElement:y,itemsToRender:b,innerStyle:x,layout:_,total:S,onScroll:C,onScrollbarScroll:k,states:T,useIsScrolling:I,windowStyle:E,ns:A}=c,[N,L]=b,R=tn(v),D=tn(y),P=[];if(S>0)for(let U=N;U<=L;U++)P.push(Ct(gt,{key:U},(f=d.default)==null?void 0:f.call(d,{data:g,index:U,isScrolling:I?T.isScrolling:void 0,style:m(U)})));const O=[Ct(D,{style:x,ref:"innerRef"},vt(D)?P:{default:()=>P})],M=Ct(GO,{ref:"scrollbarRef",clientSize:p,layout:_,onScroll:k,ratio:p*100/this.estimatedTotalSize,scrollFrom:T.scrollOffset/(this.estimatedTotalSize-p),total:S}),W=Ct(R,{class:[A.e("window"),h],style:E,onScroll:C,ref:"windowRef",key:0},vt(R)?[O]:{default:()=>[O]});return Ct("div",{key:0,class:[A.e("wrapper"),T.scrollbarAlwaysOn?"always-on":""]},[W,M])}}),jie=Kie({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:a},i,o,s)=>{const l=iw(r)?a:e,u=Math.max(0,t*n-l),c=Math.min(u,i*n),f=Math.max(0,(i+1)*n-l);switch(o===EA&&(s>=f-l&&s<=c+l?o=Cl:o=vc),o){case nw:return c;case rw:return f;case vc:{const d=Math.round(f+(c-f)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d}case Cl:default:return s>=f&&s<=c?s:s<f?f:c}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:a},i,o)=>{const s=i*n,l=iw(r)?a:e,u=Math.ceil((l+o-s)/n);return Math.max(0,Math.min(t-1,i+u-1))},initCache(){},clearCache:!0,validateProps(){}}),fm=(e,t,n)=>{const{itemSize:r}=e,{items:a,lastVisitedIndex:i}=n;if(t>i){let o=0;if(i>=0){const s=a[i];o=s.offset+s.size}for(let s=i+1;s<=t;s++){const l=r(s);a[s]={offset:o,size:l},o+=l}n.lastVisitedIndex=t}return a[t]},o6e=(e,t,n)=>{const{items:r,lastVisitedIndex:a}=t;return(a>0?r[a].offset:0)>=n?Yie(e,t,0,a,n):s6e(e,t,Math.max(0,a),n)},Yie=(e,t,n,r,a)=>{for(;n<=r;){const i=n+Math.floor((r-n)/2),o=fm(e,i,t).offset;if(o===a)return i;o<a?n=i+1:o>a&&(r=i-1)}return Math.max(0,n-1)},s6e=(e,t,n,r)=>{const{total:a}=e;let i=1;for(;n<a&&fm(e,n,t).offset<r;)n+=i,i*=2;return Yie(e,t,Math.floor(n/2),Math.min(n,a-1),r)},BG=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let a=0;if(r>=e&&(r=e-1),r>=0){const s=t[r];a=s.offset+s.size}const o=(e-r-1)*n;return a+o},l6e=Kie({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>fm(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:BG,getOffset:(e,t,n,r,a)=>{const{height:i,layout:o,width:s}=e,l=iw(o)?s:i,u=fm(e,t,a),c=BG(e,a),f=Math.max(0,Math.min(c-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch(n===EA&&(r>=d-l&&r<=f+l?n=Cl:n=vc),n){case nw:return f;case rw:return d;case vc:return Math.round(d+(f-d)/2);case Cl:default:return r>=d&&r<=f?r:r<d?d:f}},getStartIndexForOffset:(e,t,n)=>o6e(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:a,total:i,layout:o,width:s}=e,l=iw(o)?s:a,u=fm(e,t,r),c=n+l;let f=u.offset+u.size,d=t;for(;d<i-1&&f<c;)d++,f+=fm(e,d,r).size;return d},initCache({estimatedItemSize:e=BO},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,a=!0)=>{var i,o;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(i=t.exposed)==null||i.getItemStyleCache(-1),a&&((o=t.proxy)==null||o.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),u6e={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var c6e=se({name:"ElSelectDropdown",props:u6e,setup(e,{slots:t,expose:n}){const r=ht(FB),a=ze("select"),{getLabel:i,getValue:o,getDisabled:s}=IA(r.props),l=Y([]),u=Y(),c=F(()=>e.data.length);Oe(()=>c.value,()=>{var E,A;(A=(E=r.tooltipRef.value).updatePopper)==null||A.call(E)});const f=F(()=>qn(r.props.estimatedOptionHeight)),d=F(()=>f.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:E=>l.value[E]}),h=(E=[],A)=>{const{props:{valueKey:N}}=r;return qt(A)?E&&E.some(L=>tr(ca(L,N))===ca(A,N)):E.includes(A)},p=(E,A)=>{if(qt(A)){const{valueKey:N}=r.props;return ca(E,N)===ca(A,N)}else return E===A},v=(E,A)=>r.props.multiple?h(E,o(A)):p(E,o(A)),g=(E,A)=>{const{disabled:N,multiple:L,multipleLimit:R}=r.props;return N||!A&&(L?R>0&&E.length>=R:!1)},m=E=>e.hoveringIndex===E;n({listRef:u,isSized:f,isItemDisabled:g,isItemHovering:m,isItemSelected:v,scrollToItem:E=>{const A=u.value;A&&A.scrollToItem(E)},resetScrollTop:()=>{const E=u.value;E&&E.resetScrollTop()}});const _=E=>{const{index:A,data:N,style:L}=E,R=w(f),{itemSize:D,estimatedSize:P}=w(d),{modelValue:O}=r.props,{onSelect:M,onHover:W}=r,U=N[A];if(U.type==="Group")return ie(zze,{item:U,style:L,height:R?D:P},null);const V=v(O,U),H=g(O,V),K=m(A);return ie(Xze,rn(E,{selected:V,disabled:s(U)||H,created:!!U.created,hovering:K,item:U,onSelect:M,onHover:W}),{default:j=>{var ne;return((ne=t.default)==null?void 0:ne.call(t,j))||ie("span",null,[i(U)])}})},{onKeyboardNavigate:S,onKeyboardSelect:C}=r,k=()=>{S("forward")},T=()=>{S("backward")},I=E=>{const{code:A}=E,{tab:N,esc:L,down:R,up:D,enter:P,numpadEnter:O}=lt;switch(A!==N&&(E.preventDefault(),E.stopPropagation()),A){case N:case L:break;case R:k();break;case D:T();break;case P:case O:C();break}};return()=>{var E,A,N,L;const{data:R,width:D}=e,{height:P,multiple:O,scrollbarAlwaysOn:M}=r.props,W=w(f)?jie:l6e;return ie("div",{class:[a.b("dropdown"),a.is("multiple",O)],style:{width:`${D}px`}},[(E=t.header)==null?void 0:E.call(t),((A=t.loading)==null?void 0:A.call(t))||((N=t.empty)==null?void 0:N.call(t))||ie(W,rn({ref:u},w(d),{className:a.be("dropdown","list"),scrollbarAlwaysOn:M,data:R,height:P,width:D,total:R.length,onKeydown:I}),{default:U=>ie(_,U,null)}),(L=t.footer)==null?void 0:L.call(t)])}}});function f6e(e,t){const{aliasProps:n,getLabel:r,getValue:a}=IA(e),i=Y(0),o=Y(),s=F(()=>e.allowCreate&&e.filterable);function l(h){const p=v=>r(v)===h;return e.options&&e.options.some(p)||t.createdOptions.some(p)}function u(h){s.value&&(e.multiple&&h.created?i.value++:o.value=h)}function c(h){if(s.value)if(h&&h.length>0){if(l(h))return;const p={[n.value.value]:h,[n.value.label]:h,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=i.value?t.createdOptions[i.value]=p:t.createdOptions.push(p)}else if(e.multiple)t.createdOptions.length=i.value;else{const p=o.value;t.createdOptions.length=0,p&&p.created&&t.createdOptions.push(p)}}function f(h){if(!s.value||!h||!h.created||h.created&&e.reserveKeyword&&t.inputValue===r(h))return;const p=t.createdOptions.findIndex(v=>a(v)===a(h));~p&&(t.createdOptions.splice(p,1),i.value--)}function d(){s.value&&(t.createdOptions.length=0,i.value=0)}return{createNewOption:c,removeNewOption:f,selectNewOption:u,clearAllNewOption:d}}const d6e=11,h6e=(e,t)=>{const{t:n}=_n(),r=ze("select"),a=ze("input"),{form:i,formItem:o}=Xi(),{inputId:s}=Vl(e,{formItemContext:o}),{aliasProps:l,getLabel:u,getValue:c,getDisabled:f,getOptions:d}=IA(e),{valueOnClear:h,isEmptyValue:p}=hA(e),v=Ln({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),g=Y(-1),m=Y(),y=Y(),b=Y(),x=Y(),_=Y(),S=Y(),C=Y(),k=Y(),T=Y(),I=Y(),E=Y(),{isComposing:A,handleCompositionStart:N,handleCompositionEnd:L,handleCompositionUpdate:R}=C_({afterComposition:Me=>at(Me)}),{wrapperRef:D,isFocused:P,handleBlur:O}=qh(_,{beforeFocus(){return V.value},afterFocus(){e.automaticDropdown&&!U.value&&(U.value=!0,v.menuVisibleOnFocus=!0)},beforeBlur(Me){var Ye,dt;return((Ye=b.value)==null?void 0:Ye.isFocusInsideContent(Me))||((dt=x.value)==null?void 0:dt.isFocusInsideContent(Me))},afterBlur(){U.value=!1,v.menuVisibleOnFocus=!1}}),M=Y([]),W=Y([]),U=Y(!1),V=F(()=>e.disabled||(i==null?void 0:i.disabled)),H=F(()=>{var Me;return(Me=i==null?void 0:i.statusIcon)!=null?Me:!1}),K=F(()=>{const Me=W.value.length*e.itemHeight;return Me>e.height?e.height:Me}),j=F(()=>e.multiple?Ke(e.modelValue)&&e.modelValue.length>0:!p(e.modelValue)),ne=F(()=>e.clearable&&!V.value&&v.inputHovering&&j.value),Q=F(()=>e.remote&&e.filterable?"":Xc),oe=F(()=>Q.value&&r.is("reverse",U.value)),ae=F(()=>(o==null?void 0:o.validateState)||""),me=F(()=>{if(ae.value)return yA[ae.value]}),ve=F(()=>e.remote?300:0),B=F(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!v.inputValue&&M.value.length===0?!1:e.filterable&&v.inputValue&&M.value.length>0&&W.value.length===0?e.noMatchText||n("el.select.noMatch"):M.value.length===0?e.noDataText||n("el.select.noData"):null),re=Me=>{const Ye=dt=>{if(e.filterable&&mt(e.filterMethod)||e.filterable&&e.remote&&mt(e.remoteMethod))return!0;const Rt=new RegExp(bB(Me),"i");return Me?Rt.test(u(dt)||""):!0};return e.loading?[]:[...v.createdOptions,...e.options].reduce((dt,Rt)=>{const Xn=d(Rt);if(Ke(Xn)){const _r=Xn.filter(Ye);_r.length>0&&dt.push({label:u(Rt),type:"Group"},..._r)}else(e.remote||Ye(Rt))&&dt.push(Rt);return dt},[])},ge=()=>{M.value=re(""),W.value=re(v.inputValue)},Ie=F(()=>{const Me=new Map;return M.value.forEach((Ye,dt)=>{Me.set(yn(c(Ye)),{option:Ye,index:dt})}),Me}),Ce=F(()=>{const Me=new Map;return W.value.forEach((Ye,dt)=>{Me.set(yn(c(Ye)),{option:Ye,index:dt})}),Me}),he=F(()=>W.value.every(Me=>f(Me))),J=pa(),te=F(()=>J.value==="small"?"small":"default"),xe=()=>{var Me;g.value=((Me=m.value)==null?void 0:Me.offsetWidth)||200},Ee=()=>{if(!y.value)return 0;const Me=window.getComputedStyle(y.value);return Number.parseFloat(Me.gap||"6px")},Qe=F(()=>{const Me=Ee();return{maxWidth:`${E.value&&e.maxCollapseTags===1?v.selectionWidth-v.collapseItemWidth-Me:v.selectionWidth}px`}}),Be=F(()=>({maxWidth:`${v.selectionWidth}px`})),ce=F(()=>({width:`${Math.max(v.calculatorWidth,d6e)}px`})),Re=F(()=>Ke(e.modelValue)?e.modelValue.length===0&&!v.inputValue:e.filterable?!v.inputValue:!0),ct=F(()=>{var Me;const Ye=(Me=e.placeholder)!=null?Me:n("el.select.placeholder");return e.multiple||!j.value?Ye:v.selectedLabel}),It=F(()=>{var Me,Ye;return(Ye=(Me=b.value)==null?void 0:Me.popperRef)==null?void 0:Ye.contentRef}),wt=F(()=>{if(e.multiple){const Me=e.modelValue.length;if(e.modelValue.length>0&&Ce.value.has(e.modelValue[Me-1])){const{index:Ye}=Ce.value.get(e.modelValue[Me-1]);return Ye}}else if(!p(e.modelValue)&&Ce.value.has(e.modelValue)){const{index:Me}=Ce.value.get(e.modelValue);return Me}return-1}),Qt=F({get(){return U.value&&B.value!==!1},set(Me){U.value=Me}}),_t=F(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(0,e.maxCollapseTags):v.cachedOptions:[]),ln=F(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:Ne,removeNewOption:nt,selectNewOption:_e,clearAllNewOption:We}=f6e(e,v),de=()=>{V.value||(v.menuVisibleOnFocus?v.menuVisibleOnFocus=!1:U.value=!U.value)},ft=()=>{v.inputValue.length>0&&!U.value&&(U.value=!0),Ne(v.inputValue),cn(v.inputValue)},Gt=Cs(ft,ve.value),cn=Me=>{v.previousQuery===Me||A.value||(v.previousQuery=Me,e.filterable&&mt(e.filterMethod)?e.filterMethod(Me):e.filterable&&e.remote&&mt(e.remoteMethod)&&e.remoteMethod(Me),e.defaultFirstOption&&(e.filterable||e.remote)&&W.value.length?xt(ir):xt(Ge))},ir=()=>{const Me=W.value.filter(Rt=>!Rt.disabled&&Rt.type!=="Group"),Ye=Me.find(Rt=>Rt.created),dt=Me[0];v.hoveringIndex=wr(W.value,Ye||dt)},Eo=Me=>{Ci(e.modelValue,Me)||t(Qn,Me)},ra=Me=>{t(Ht,Me),Eo(Me),v.previousValue=e.multiple?String(Me):Me},wr=(Me=[],Ye)=>{if(!qt(Ye))return Me.indexOf(Ye);const dt=e.valueKey;let Rt=-1;return Me.some((Xn,_r)=>ca(Xn,dt)===ca(Ye,dt)?(Rt=_r,!0):!1),Rt},yn=Me=>qt(Me)?ca(Me,e.valueKey):Me,Mi=()=>{xe()},c0=()=>{v.selectionWidth=y.value.getBoundingClientRect().width},f0=()=>{v.calculatorWidth=S.value.getBoundingClientRect().width},d0=()=>{v.collapseItemWidth=E.value.getBoundingClientRect().width},gp=()=>{var Me,Ye;(Ye=(Me=b.value)==null?void 0:Me.updatePopper)==null||Ye.call(Me)},sf=()=>{var Me,Ye;(Ye=(Me=x.value)==null?void 0:Me.updatePopper)==null||Ye.call(Me)},h0=Me=>{if(e.multiple){let Ye=e.modelValue.slice();const dt=wr(Ye,c(Me));dt>-1?(Ye=[...Ye.slice(0,dt),...Ye.slice(dt+1)],v.cachedOptions.splice(dt,1),nt(Me)):(e.multipleLimit<=0||Ye.length<e.multipleLimit)&&(Ye=[...Ye,c(Me)],v.cachedOptions.push(Me),_e(Me)),ra(Ye),Me.created&&cn(""),e.filterable&&!e.reserveKeyword&&(v.inputValue="")}else v.selectedLabel=u(Me),ra(c(Me)),U.value=!1,_e(Me),Me.created||We();gd()},mp=(Me,Ye)=>{let dt=e.modelValue.slice();const Rt=wr(dt,c(Ye));Rt>-1&&!V.value&&(dt=[...e.modelValue.slice(0,Rt),...e.modelValue.slice(Rt+1)],v.cachedOptions.splice(Rt,1),ra(dt),t("remove-tag",c(Ye)),nt(Ye)),Me.stopPropagation(),gd()},gd=()=>{var Me;(Me=_.value)==null||Me.focus()},p0=()=>{var Me;if(U.value){U.value=!1,xt(()=>{var Ye;return(Ye=_.value)==null?void 0:Ye.blur()});return}(Me=_.value)==null||Me.blur()},A1=()=>{v.inputValue.length>0?v.inputValue="":U.value=!1},le=Me=>pre(Me,Ye=>!v.cachedOptions.some(dt=>c(dt)===Ye&&f(dt))),ke=Me=>{if(e.multiple&&Me.code!==lt.delete&&v.inputValue.length===0){Me.preventDefault();const Ye=e.modelValue.slice(),dt=le(Ye);if(dt<0)return;const Rt=Ye[dt];Ye.splice(dt,1);const Xn=v.cachedOptions[dt];v.cachedOptions.splice(dt,1),nt(Xn),ra(Ye),t("remove-tag",Rt)}},ye=()=>{let Me;Ke(e.modelValue)?Me=[]:Me=h.value,e.multiple?v.cachedOptions=[]:v.selectedLabel="",U.value=!1,ra(Me),t("clear"),We(),gd()},ee=(Me,Ye=void 0)=>{const dt=W.value;if(!["forward","backward"].includes(Me)||V.value||dt.length<=0||he.value||A.value)return;if(!U.value)return de();Ye===void 0&&(Ye=v.hoveringIndex);let Rt=-1;Me==="forward"?(Rt=Ye+1,Rt>=dt.length&&(Rt=0)):Me==="backward"&&(Rt=Ye-1,(Rt<0||Rt>=dt.length)&&(Rt=dt.length-1));const Xn=dt[Rt];if(f(Xn)||Xn.type==="Group")return ee(Me,Rt);v.hoveringIndex=Rt,et(Rt)},ue=()=>{if(U.value)~v.hoveringIndex&&W.value[v.hoveringIndex]&&h0(W.value[v.hoveringIndex]);else return de()},we=Me=>{v.hoveringIndex=Me??-1},Ge=()=>{e.multiple?v.hoveringIndex=W.value.findIndex(Me=>e.modelValue.some(Ye=>yn(Ye)===yn(Me))):v.hoveringIndex=W.value.findIndex(Me=>yn(Me)===yn(e.modelValue))},at=Me=>{if(v.inputValue=Me.target.value,e.remote)Gt();else return ft()},qe=Me=>{if(U.value=!1,P.value){const Ye=new FocusEvent("focus",Me);O(Ye)}},Je=()=>(v.isBeforeHide=!1,xt(()=>{~wt.value&&et(v.hoveringIndex)})),et=Me=>{T.value.scrollToItem(Me)},kt=(Me,Ye)=>{const dt=yn(Me);if(Ie.value.has(dt)){const{option:Rt}=Ie.value.get(dt);return Rt}if(Ye&&Ye.length){const Rt=Ye.find(Xn=>yn(c(Xn))===dt);if(Rt)return Rt}return{[l.value.value]:Me,[l.value.label]:Me}},$t=(Me=!1)=>{if(e.multiple)if(e.modelValue.length>0){const Ye=v.cachedOptions.slice();v.cachedOptions.length=0,v.previousValue=e.modelValue.toString();for(const dt of e.modelValue){const Rt=kt(dt,Ye);v.cachedOptions.push(Rt)}}else v.cachedOptions=[],v.previousValue=void 0;else if(j.value){v.previousValue=e.modelValue;const Ye=W.value,dt=Ye.findIndex(Rt=>yn(c(Rt))===yn(e.modelValue));~dt?v.selectedLabel=u(Ye[dt]):(!v.selectedLabel||Me)&&(v.selectedLabel=yn(e.modelValue))}else v.selectedLabel="",v.previousValue=void 0;We(),xe()};return Oe(U,Me=>{Me?cn(""):(v.inputValue="",v.previousQuery=null,v.isBeforeHide=!0,Ne("")),t("visible-change",Me)}),Oe(()=>e.modelValue,(Me,Ye)=>{var dt;(!Me||Ke(Me)&&Me.length===0||e.multiple&&!Ci(Me.toString(),v.previousValue)||!e.multiple&&yn(Me)!==yn(v.previousValue))&&$t(!0),!Ci(Me,Ye)&&e.validateEvent&&((dt=o==null?void 0:o.validate)==null||dt.call(o,"change").catch(Xn=>void 0))},{deep:!0}),Oe(()=>e.options,()=>{const Me=_.value;(!Me||Me&&document.activeElement!==Me)&&$t()},{deep:!0,flush:"post"}),Oe(()=>W.value,()=>T.value&&xt(T.value.resetScrollTop)),Pi(()=>{v.isBeforeHide||ge()}),Pi(()=>{const{valueKey:Me,options:Ye}=e,dt=new Map;for(const Rt of Ye){const Xn=c(Rt);let _r=Xn;if(qt(_r)&&(_r=ca(Xn,Me)),dt.get(_r))break;dt.set(_r,!0)}}),zt(()=>{$t()}),Mr(m,Mi),Mr(y,c0),Mr(S,f0),Mr(T,gp),Mr(D,gp),Mr(I,sf),Mr(E,d0),{inputId:s,collapseTagSize:te,currentPlaceholder:ct,expanded:U,emptyText:B,popupHeight:K,debounce:ve,allOptions:M,filteredOptions:W,iconComponent:Q,iconReverse:oe,tagStyle:Qe,collapseTagStyle:Be,inputStyle:ce,popperSize:g,dropdownMenuVisible:Qt,hasModelValue:j,shouldShowPlaceholder:Re,selectDisabled:V,selectSize:J,needStatusIcon:H,showClearBtn:ne,states:v,isFocused:P,nsSelect:r,nsInput:a,calculatorRef:S,inputRef:_,menuRef:T,tagMenuRef:I,tooltipRef:b,tagTooltipRef:x,selectRef:m,wrapperRef:D,selectionRef:y,prefixRef:C,suffixRef:k,collapseItemRef:E,popperRef:It,validateState:ae,validateIcon:me,showTagList:_t,collapseTagList:ln,debouncedOnInputChange:Gt,deleteTag:mp,getLabel:u,getValue:c,getDisabled:f,getValueKey:yn,handleClear:ye,handleClickOutside:qe,handleDel:ke,handleEsc:A1,focus:gd,blur:p0,handleMenuEnter:Je,handleResize:Mi,resetSelectionWidth:c0,resetCalculatorWidth:f0,updateTooltip:gp,updateTagTooltip:sf,updateOptions:ge,toggleMenu:de,scrollTo:et,onInput:at,onKeyboardNavigate:ee,onKeyboardSelect:ue,onSelect:h0,onHover:we,handleCompositionStart:N,handleCompositionEnd:L,handleCompositionUpdate:R}},p6e=se({name:"ElSelectV2",components:{ElSelectMenu:c6e,ElTag:ey,ElTooltip:Hi,ElIcon:pt},directives:{ClickOutside:Wf},props:Hze,emits:Gze,setup(e,{emit:t}){const n=F(()=>{const{modelValue:i,multiple:o}=e,s=o?[]:void 0;return Ke(i)?o?i:s:o?s:i}),r=h6e(Ln({...di(e),modelValue:n}),t);hn(FB,{props:Ln({...di(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const a=F(()=>e.multiple?r.states.cachedOptions.map(i=>i.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:a}}});function v6e(e,t,n,r,a,i){const o=Ft("el-tag"),s=Ft("el-tooltip"),l=Ft("el-icon"),u=Ft("el-select-menu"),c=v_("click-outside");return Vt((z(),q("div",{ref:"selectRef",class:G([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:f=>e.states.inputHovering=!0,onMouseleave:f=>e.states.inputHovering=!1},[ie(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:f=>e.states.isBeforeHide=!1},{default:fe(()=>[Z("div",{ref:"wrapperRef",class:G([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:At(e.toggleMenu,["prevent"])},[e.$slots.prefix?(z(),q("div",{key:0,ref:"prefixRef",class:G(e.nsSelect.e("prefix"))},[Se(e.$slots,"prefix")],2)):Te("v-if",!0),Z("div",{ref:"selectionRef",class:G([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?Se(e.$slots,"tag",{key:0},()=>[(z(!0),q(gt,null,un(e.showTagList,f=>(z(),q("div",{key:e.getValueKey(e.getValue(f)),class:G(e.nsSelect.e("selected-item"))},[ie(o,{closable:!e.selectDisabled&&!e.getDisabled(f),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:yt(e.tagStyle),onClose:d=>e.deleteTag(d,f)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:e.getLabel(f),value:e.getValue(f)},()=>[Kt(Ve(e.getLabel(f)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(z(),Ae(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:fe(()=>[Z("div",{ref:"collapseItemRef",class:G(e.nsSelect.e("selected-item"))},[ie(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:yt(e.collapseTagStyle),"disable-transitions":""},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))}," + "+Ve(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:fe(()=>[Z("div",{ref:"tagMenuRef",class:G(e.nsSelect.e("selection"))},[(z(!0),q(gt,null,un(e.collapseTagList,f=>(z(),q("div",{key:e.getValueKey(e.getValue(f)),class:G(e.nsSelect.e("selected-item"))},[ie(o,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(f),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:d=>e.deleteTag(d,f)},{default:fe(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:e.getLabel(f),value:e.getValue(f)},()=>[Kt(Ve(e.getLabel(f)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Te("v-if",!0)]):Te("v-if",!0),Z("div",{class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Vt(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":f=>e.states.inputValue=f,style:yt(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:G([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[rr(At(f=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),rr(At(f=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),rr(At(e.onKeyboardSelect,["stop","prevent"]),["enter"]),rr(At(e.handleEsc,["stop","prevent"]),["esc"]),rr(At(e.handleDel,["stop"]),["delete"])],onClick:At(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[aA,e.states.inputValue]]),e.filterable?(z(),q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:G(e.nsSelect.e("input-calculator")),textContent:Ve(e.states.inputValue)},null,10,["textContent"])):Te("v-if",!0)],2),e.shouldShowPlaceholder?(z(),q("div",{key:1,class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Se(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[Z("span",null,Ve(e.currentPlaceholder),1)]):(z(),q("span",{key:1},Ve(e.currentPlaceholder),1))],2)):Te("v-if",!0)],2),Z("div",{ref:"suffixRef",class:G(e.nsSelect.e("suffix"))},[e.iconComponent?Vt((z(),Ae(l,{key:0,class:G([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:fe(()=>[(z(),Ae(tn(e.iconComponent)))]),_:1},8,["class"])),[[En,!e.showClearBtn]]):Te("v-if",!0),e.showClearBtn&&e.clearIcon?(z(),Ae(l,{key:1,class:G([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:At(e.handleClear,["prevent","stop"])},{default:fe(()=>[(z(),Ae(tn(e.clearIcon)))]),_:1},8,["class","onClick"])):Te("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(z(),Ae(l,{key:2,class:G([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:fe(()=>[(z(),Ae(tn(e.validateIcon)))]),_:1},8,["class"])):Te("v-if",!0)],2)],10,["onClick"])]),content:fe(()=>[ie(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},Nl({default:fe(f=>[Se(e.$slots,"default",fu(wh(f)))]),_:2},[e.$slots.header?{name:"header",fn:fe(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","header"))},[Se(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:fe(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","loading"))},[Se(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:fe(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","empty"))},[Se(e.$slots,"empty",{},()=>[Z("span",null,Ve(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:fe(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","footer"))},[Se(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[c,e.handleClickOutside,e.popperRef]])}var g6e=Ze(p6e,[["render",v6e],["__file","select.vue"]]);const m6e=Bt(g6e),y6e=je({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:be([Number,Object])}}),b6e=je({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),x6e=se({name:"ElSkeletonItem"}),w6e=se({...x6e,props:b6e,setup(e){const t=ze("skeleton");return(n,r)=>(z(),q("div",{class:G([w(t).e("item"),w(t).e(n.variant)])},[n.variant==="image"?(z(),Ae(w(CAe),{key:0})):Te("v-if",!0)],2))}});var nI=Ze(w6e,[["__file","skeleton-item.vue"]]);const _6e=(e,t=0)=>{if(t===0)return e;const n=qt(t)&&!!t.initVal,r=Y(n);let a=null;const i=s=>{if(qn(s)){r.value=e.value;return}a&&clearTimeout(a),a=setTimeout(()=>{r.value=e.value},s)},o=s=>{s==="leading"?Tt(t)?i(t):i(t.leading):qt(t)?i(t.trailing):r.value=!1};return zt(()=>o("leading")),Oe(()=>e.value,s=>{o(s?"leading":"trailing")}),r},S6e=se({name:"ElSkeleton"}),C6e=se({...S6e,props:y6e,setup(e,{expose:t}){const n=e,r=ze("skeleton"),a=_6e(Wn(n,"loading"),n.throttle);return t({uiLoading:a}),(i,o)=>w(a)?(z(),q("div",rn({key:0,class:[w(r).b(),w(r).is("animated",i.animated)]},i.$attrs),[(z(!0),q(gt,null,un(i.count,s=>(z(),q(gt,{key:s},[w(a)?Se(i.$slots,"template",{key:s},()=>[ie(nI,{class:G(w(r).is("first")),variant:"p"},null,8,["class"]),(z(!0),q(gt,null,un(i.rows,l=>(z(),Ae(nI,{key:l,class:G([w(r).e("paragraph"),w(r).is("last",l===i.rows&&i.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Te("v-if",!0)],64))),128))],16)):Se(i.$slots,"default",fu(rn({key:1},i.$attrs)))}});var T6e=Ze(C6e,[["__file","skeleton.vue"]]);const k6e=Bt(T6e,{SkeletonItem:nI}),I6e=Ur(nI),Xie=Symbol("sliderContextKey"),E6e=je({modelValue:{type:be([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:xa,inputSize:xa,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:be(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:be(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:sd,default:"top"},marks:{type:be(Object)},validateEvent:{type:Boolean,default:!0},...Ei(["ariaLabel"])}),OR=e=>Tt(e)||Ke(e)&&e.every(Tt),A6e={[Ht]:OR,[Fi]:OR,[Qn]:OR},D6e=je({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:sd,default:"top"}}),N6e={[Ht]:e=>Tt(e)},R6e=(e,t,n)=>{const r=Y(),a=Y(!1),i=F(()=>t.value instanceof Function),o=F(()=>i.value&&t.value(e.modelValue)||e.modelValue),s=Cs(()=>{n.value&&(a.value=!0)},50),l=Cs(()=>{n.value&&(a.value=!1)},50);return{tooltip:r,tooltipVisible:a,formatValue:o,displayTooltip:s,hideTooltip:l}},M6e=(e,t,n)=>{const{disabled:r,min:a,max:i,step:o,showTooltip:s,precision:l,sliderSize:u,formatTooltip:c,emitChange:f,resetSize:d,updateDragging:h}=ht(Xie),{tooltip:p,tooltipVisible:v,formatValue:g,displayTooltip:m,hideTooltip:y}=R6e(e,c,s),b=Y(),x=F(()=>`${(e.modelValue-a.value)/(i.value-a.value)*100}%`),_=F(()=>e.vertical?{bottom:x.value}:{left:x.value}),S=()=>{t.hovering=!0,m()},C=()=>{t.hovering=!1,t.dragging||y()},k=V=>{r.value||(V.preventDefault(),O(V),window.addEventListener("mousemove",M),window.addEventListener("touchmove",M),window.addEventListener("mouseup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W),b.value.focus())},T=V=>{r.value||(t.newPosition=Number.parseFloat(x.value)+V/(i.value-a.value)*100,U(t.newPosition),f())},I=()=>{T(-o.value)},E=()=>{T(o.value)},A=()=>{T(-o.value*4)},N=()=>{T(o.value*4)},L=()=>{r.value||(U(0),f())},R=()=>{r.value||(U(100),f())},D=V=>{let H=!0;switch(V.code){case lt.left:case lt.down:I();break;case lt.right:case lt.up:E();break;case lt.home:L();break;case lt.end:R();break;case lt.pageDown:A();break;case lt.pageUp:N();break;default:H=!1;break}H&&V.preventDefault()},P=V=>{let H,K;return V.type.startsWith("touch")?(K=V.touches[0].clientY,H=V.touches[0].clientX):(K=V.clientY,H=V.clientX),{clientX:H,clientY:K}},O=V=>{t.dragging=!0,t.isClick=!0;const{clientX:H,clientY:K}=P(V);e.vertical?t.startY=K:t.startX=H,t.startPosition=Number.parseFloat(x.value),t.newPosition=t.startPosition},M=V=>{if(t.dragging){t.isClick=!1,m(),d();let H;const{clientX:K,clientY:j}=P(V);e.vertical?(t.currentY=j,H=(t.startY-t.currentY)/u.value*100):(t.currentX=K,H=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+H,U(t.newPosition)}},W=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||y(),t.isClick||U(t.newPosition),f()},0),window.removeEventListener("mousemove",M),window.removeEventListener("touchmove",M),window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W))},U=async V=>{if(V===null||Number.isNaN(+V))return;V<0?V=0:V>100&&(V=100);const H=100/((i.value-a.value)/o.value);let j=Math.round(V/H)*H*(i.value-a.value)*.01+a.value;j=Number.parseFloat(j.toFixed(l.value)),j!==e.modelValue&&n(Ht,j),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await xt(),t.dragging&&m(),p.value.updatePopper()};return Oe(()=>t.dragging,V=>{h(V)}),Zn(b,"touchstart",k,{passive:!1}),{disabled:r,button:b,tooltip:p,tooltipVisible:v,showTooltip:s,wrapperStyle:_,formatValue:g,handleMouseEnter:S,handleMouseLeave:C,onButtonDown:k,onKeyDown:D,setPosition:U}},$6e=se({name:"ElSliderButton"}),L6e=se({...$6e,props:D6e,emits:N6e,setup(e,{expose:t,emit:n}){const r=e,a=ze("slider"),i=Ln({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:o,button:s,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:f,formatValue:d,handleMouseEnter:h,handleMouseLeave:p,onButtonDown:v,onKeyDown:g,setPosition:m}=M6e(r,i,n),{hovering:y,dragging:b}=di(i);return t({onButtonDown:v,onKeyDown:g,setPosition:m,hovering:y,dragging:b}),(x,_)=>(z(),q("div",{ref_key:"button",ref:s,class:G([w(a).e("button-wrapper"),{hover:w(y),dragging:w(b)}]),style:yt(w(f)),tabindex:w(o)?-1:0,onMouseenter:w(h),onMouseleave:w(p),onMousedown:w(v),onFocus:w(h),onBlur:w(p),onKeydown:w(g)},[ie(w(Hi),{ref_key:"tooltip",ref:l,visible:w(c),placement:x.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":x.tooltipClass,disabled:!w(u),persistent:w(u)},{content:fe(()=>[Z("span",null,Ve(w(d)),1)]),default:fe(()=>[Z("div",{class:G([w(a).e("button"),{hover:w(y),dragging:w(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var VG=Ze(L6e,[["__file","button.vue"]]);const O6e=je({mark:{type:be([String,Object]),default:void 0}});var P6e=se({name:"ElSliderMarker",props:O6e,setup(e){const t=ze("slider"),n=F(()=>vt(e.mark)?e.mark:e.mark.label),r=F(()=>vt(e.mark)?void 0:e.mark.style);return()=>Ct("div",{class:t.e("marks-text"),style:r.value},n.value)}});const F6e=(e,t,n)=>{const{form:r,formItem:a}=Xi(),i=dr(),o=Y(),s=Y(),l={firstButton:o,secondButton:s},u=F(()=>e.disabled||(r==null?void 0:r.disabled)||!1),c=F(()=>Math.min(t.firstValue,t.secondValue)),f=F(()=>Math.max(t.firstValue,t.secondValue)),d=F(()=>e.range?`${100*(f.value-c.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),h=F(()=>e.range?`${100*(c.value-e.min)/(e.max-e.min)}%`:"0%"),p=F(()=>e.vertical?{height:e.height}:{}),v=F(()=>e.vertical?{height:d.value,bottom:h.value}:{width:d.value,left:h.value}),g=()=>{i.value&&(t.sliderSize=i.value[`client${e.vertical?"Height":"Width"}`])},m=A=>{const N=e.min+A*(e.max-e.min)/100;if(!e.range)return o;let L;return Math.abs(c.value-N)<Math.abs(f.value-N)?L=t.firstValue<t.secondValue?"firstButton":"secondButton":L=t.firstValue>t.secondValue?"firstButton":"secondButton",l[L]},y=A=>{const N=m(A);return N.value.setPosition(A),N},b=A=>{t.firstValue=A??e.min,_(e.range?[c.value,f.value]:A??e.min)},x=A=>{t.secondValue=A,e.range&&_([c.value,f.value])},_=A=>{n(Ht,A),n(Fi,A)},S=async()=>{await xt(),n(Qn,e.range?[c.value,f.value]:e.modelValue)},C=A=>{var N,L,R,D,P,O;if(u.value||t.dragging)return;g();let M=0;if(e.vertical){const W=(R=(L=(N=A.touches)==null?void 0:N.item(0))==null?void 0:L.clientY)!=null?R:A.clientY;M=(i.value.getBoundingClientRect().bottom-W)/t.sliderSize*100}else{const W=(O=(P=(D=A.touches)==null?void 0:D.item(0))==null?void 0:P.clientX)!=null?O:A.clientX,U=i.value.getBoundingClientRect().left;M=(W-U)/t.sliderSize*100}if(!(M<0||M>100))return y(M)};return{elFormItem:a,slider:i,firstButton:o,secondButton:s,sliderDisabled:u,minValue:c,maxValue:f,runwayStyle:p,barStyle:v,resetSize:g,setPosition:y,emitChange:S,onSliderWrapperPrevent:A=>{var N,L;((N=l.firstButton.value)!=null&&N.dragging||(L=l.secondButton.value)!=null&&L.dragging)&&A.preventDefault()},onSliderClick:A=>{C(A)&&S()},onSliderDown:async A=>{const N=C(A);N&&(await xt(),N.value.onButtonDown(A))},onSliderMarkerDown:A=>{u.value||t.dragging||y(A)},setFirstValue:b,setSecondValue:x}},B6e=(e,t,n,r)=>({stops:F(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const o=(e.max-e.min)/e.step,s=100*e.step/(e.max-e.min),l=Array.from({length:o-1}).map((u,c)=>(c+1)*s);return e.range?l.filter(u=>u<100*(n.value-e.min)/(e.max-e.min)||u>100*(r.value-e.min)/(e.max-e.min)):l.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:o=>e.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),V6e=e=>F(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),z6e=(e,t,n,r,a,i)=>{const o=u=>{a(Ht,u),a(Fi,u)},s=()=>e.range?![n.value,r.value].every((u,c)=>u===t.oldValue[c]):e.modelValue!==t.oldValue,l=()=>{var u,c;e.min>e.max&&Na("Slider","min should not be greater than max.");const f=e.modelValue;e.range&&Ke(f)?f[1]<e.min?o([e.min,e.min]):f[0]>e.max?o([e.max,e.max]):f[0]<e.min?o([e.min,f[1]]):f[1]>e.max?o([f[0],e.max]):(t.firstValue=f[0],t.secondValue=f[1],s()&&(e.validateEvent&&((u=i==null?void 0:i.validate)==null||u.call(i,"change").catch(d=>void 0)),t.oldValue=f.slice())):!e.range&&Tt(f)&&!Number.isNaN(f)&&(f<e.min?o(e.min):f>e.max?o(e.max):(t.firstValue=f,s()&&(e.validateEvent&&((c=i==null?void 0:i.validate)==null||c.call(i,"change").catch(d=>void 0)),t.oldValue=f)))};l(),Oe(()=>t.dragging,u=>{u||l()}),Oe(()=>e.modelValue,(u,c)=>{t.dragging||Ke(u)&&Ke(c)&&u.every((f,d)=>f===c[d])&&t.firstValue===u[0]&&t.secondValue===u[1]||l()},{deep:!0}),Oe(()=>[e.min,e.max],()=>{l()})},W6e=(e,t,n)=>{const r=Y();return zt(async()=>{e.range?(Ke(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!Tt(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Zn(window,"resize",n),await xt(),n()}),{sliderWrapper:r}},H6e=se({name:"ElSlider"}),U6e=se({...H6e,props:E6e,emits:A6e,setup(e,{expose:t,emit:n}){const r=e,a=ze("slider"),{t:i}=_n(),o=Ln({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:l,firstButton:u,secondButton:c,sliderDisabled:f,minValue:d,maxValue:h,runwayStyle:p,barStyle:v,resetSize:g,emitChange:m,onSliderWrapperPrevent:y,onSliderClick:b,onSliderDown:x,onSliderMarkerDown:_,setFirstValue:S,setSecondValue:C}=F6e(r,o,n),{stops:k,getStopStyle:T}=B6e(r,o,d,h),{inputId:I,isLabeledByFormItem:E}=Vl(r,{formItemContext:s}),A=pa(),N=F(()=>r.inputSize||A.value),L=F(()=>r.ariaLabel||i("el.slider.defaultLabel",{min:r.min,max:r.max})),R=F(()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):L.value),D=F(()=>r.formatValueText?r.formatValueText(H.value):`${H.value}`),P=F(()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),O=F(()=>r.formatValueText?r.formatValueText(K.value):`${K.value}`),M=F(()=>[a.b(),a.m(A.value),a.is("vertical",r.vertical),{[a.m("with-input")]:r.showInput}]),W=V6e(r);z6e(r,o,d,h,n,s);const U=F(()=>{const Q=[r.min,r.max,r.step].map(oe=>{const ae=`${oe}`.split(".")[1];return ae?ae.length:0});return Math.max.apply(null,Q)}),{sliderWrapper:V}=W6e(r,o,g),{firstValue:H,secondValue:K,sliderSize:j}=di(o),ne=Q=>{o.dragging=Q};return Zn(V,"touchstart",y,{passive:!1}),Zn(V,"touchmove",y,{passive:!1}),hn(Xie,{...di(r),sliderSize:j,disabled:f,precision:U,emitChange:m,resetSize:g,updateDragging:ne}),t({onSliderClick:b}),(Q,oe)=>{var ae,me;return z(),q("div",{id:Q.range?w(I):void 0,ref_key:"sliderWrapper",ref:V,class:G(w(M)),role:Q.range?"group":void 0,"aria-label":Q.range&&!w(E)?w(L):void 0,"aria-labelledby":Q.range&&w(E)?(ae=w(s))==null?void 0:ae.labelId:void 0},[Z("div",{ref_key:"slider",ref:l,class:G([w(a).e("runway"),{"show-input":Q.showInput&&!Q.range},w(a).is("disabled",w(f))]),style:yt(w(p)),onMousedown:w(x),onTouchstartPassive:w(x)},[Z("div",{class:G(w(a).e("bar")),style:yt(w(v))},null,6),ie(VG,{id:Q.range?void 0:w(I),ref_key:"firstButton",ref:u,"model-value":w(H),vertical:Q.vertical,"tooltip-class":Q.tooltipClass,placement:Q.placement,role:"slider","aria-label":Q.range||!w(E)?w(R):void 0,"aria-labelledby":!Q.range&&w(E)?(me=w(s))==null?void 0:me.labelId:void 0,"aria-valuemin":Q.min,"aria-valuemax":Q.range?w(K):Q.max,"aria-valuenow":w(H),"aria-valuetext":w(D),"aria-orientation":Q.vertical?"vertical":"horizontal","aria-disabled":w(f),"onUpdate:modelValue":w(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Q.range?(z(),Ae(VG,{key:0,ref_key:"secondButton",ref:c,"model-value":w(K),vertical:Q.vertical,"tooltip-class":Q.tooltipClass,placement:Q.placement,role:"slider","aria-label":w(P),"aria-valuemin":w(H),"aria-valuemax":Q.max,"aria-valuenow":w(K),"aria-valuetext":w(O),"aria-orientation":Q.vertical?"vertical":"horizontal","aria-disabled":w(f),"onUpdate:modelValue":w(C)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Te("v-if",!0),Q.showStops?(z(),q("div",{key:1},[(z(!0),q(gt,null,un(w(k),(ve,B)=>(z(),q("div",{key:B,class:G(w(a).e("stop")),style:yt(w(T)(ve))},null,6))),128))])):Te("v-if",!0),w(W).length>0?(z(),q(gt,{key:2},[Z("div",null,[(z(!0),q(gt,null,un(w(W),(ve,B)=>(z(),q("div",{key:B,style:yt(w(T)(ve.position)),class:G([w(a).e("stop"),w(a).e("marks-stop")])},null,6))),128))]),Z("div",{class:G(w(a).e("marks"))},[(z(!0),q(gt,null,un(w(W),(ve,B)=>(z(),Ae(w(P6e),{key:B,mark:ve.mark,style:yt(w(T)(ve.position)),onMousedown:At(re=>w(_)(ve.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Te("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),Q.showInput&&!Q.range?(z(),Ae(w(Eie),{key:0,ref:"input","model-value":w(H),class:G(w(a).e("input")),step:Q.step,disabled:w(f),controls:Q.showInputControls,min:Q.min,max:Q.max,precision:w(U),debounce:Q.debounce,size:w(N),"onUpdate:modelValue":w(S),onChange:w(m)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Te("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var G6e=Ze(U6e,[["__file","slider.vue"]]);const K6e=Bt(G6e),j6e=je({prefixCls:{type:String}}),zG=se({name:"ElSpaceItem",props:j6e,setup(e,{slots:t}){const n=ze("space"),r=F(()=>`${e.prefixCls||n.b()}__item`);return()=>Ct("div",{class:r.value},Se(t,"default"))}}),WG={small:8,default:12,large:16};function Y6e(e){const t=ze("space"),n=F(()=>[t.b(),t.m(e.direction),e.class]),r=Y(0),a=Y(0),i=F(()=>{const s=e.wrap||e.fill?{flexWrap:"wrap"}:{},l={alignItems:e.alignment},u={rowGap:`${a.value}px`,columnGap:`${r.value}px`};return[s,l,u,e.style]}),o=F(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Pi(()=>{const{size:s="small",wrap:l,direction:u,fill:c}=e;if(Ke(s)){const[f=0,d=0]=s;r.value=f,a.value=d}else{let f;Tt(s)?f=s:f=WG[s||"small"]||WG.small,(l||c)&&u==="horizontal"?r.value=a.value=f:u==="horizontal"?(r.value=f,a.value=0):(a.value=f,r.value=0)}}),{classes:n,containerStyle:i,itemStyle:o}}const X6e=je({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:be([String,Object,Array]),default:""},style:{type:be([String,Array,Object]),default:""},alignment:{type:be(String),default:"center"},prefixCls:{type:String},spacer:{type:be([Object,String,Number,Array]),default:null,validator:e=>$r(e)||Tt(e)||vt(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Yc,validator:e=>Tt(e)||Ke(e)&&e.length===2&&e.every(Tt)}}),q6e=se({name:"ElSpace",props:X6e,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:a}=Y6e(e);function i(o,s="",l=[]){const{prefixCls:u}=e;return o.forEach((c,f)=>{_O(c)?Ke(c.children)&&c.children.forEach((d,h)=>{_O(d)&&Ke(d.children)?i(d.children,`${s+h}-`,l):l.push(ie(zG,{style:a.value,prefixCls:u,key:`nested-${s+h}`},{default:()=>[d]},hl.PROPS|hl.STYLE,["style","prefixCls"]))}):E$e(c)&&l.push(ie(zG,{style:a.value,prefixCls:u,key:`LoopKey${s+f}`},{default:()=>[c]},hl.PROPS|hl.STYLE,["style","prefixCls"]))}),l}return()=>{var o;const{spacer:s,direction:l}=e,u=Se(t,"default",{key:0},()=>[]);if(((o=u.children)!=null?o:[]).length===0)return null;if(Ke(u.children)){let c=i(u.children);if(s){const f=c.length-1;c=c.reduce((d,h,p)=>{const v=[...d,h];return p!==f&&v.push(ie("span",{style:[a.value,l==="vertical"?"width: 100%":null],key:p},[$r(s)?s:Kt(s,hl.TEXT)],hl.STYLE)),v},[])}return ie("div",{class:n.value,style:r.value},c,hl.STYLE|hl.CLASS)}return u.children}}}),Z6e=Bt(q6e),J6e=je({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:be([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:be([String,Object,Array])}}),Q6e=se({name:"ElStatistic"}),e8e=se({...Q6e,props:J6e,setup(e,{expose:t}){const n=e,r=ze("statistic"),a=F(()=>{const{value:i,formatter:o,precision:s,decimalSeparator:l,groupSeparator:u}=n;if(mt(o))return o(i);if(!Tt(i)||Number.isNaN(i))return i;let[c,f=""]=String(i).split(".");return f=f.padEnd(s,"0").slice(0,s>0?s:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,f].join(f?l:"")});return t({displayValue:a}),(i,o)=>(z(),q("div",{class:G(w(r).b())},[i.$slots.title||i.title?(z(),q("div",{key:0,class:G(w(r).e("head"))},[Se(i.$slots,"title",{},()=>[Kt(Ve(i.title),1)])],2)):Te("v-if",!0),Z("div",{class:G(w(r).e("content"))},[i.$slots.prefix||i.prefix?(z(),q("div",{key:0,class:G(w(r).e("prefix"))},[Se(i.$slots,"prefix",{},()=>[Z("span",null,Ve(i.prefix),1)])],2)):Te("v-if",!0),Z("span",{class:G(w(r).e("number")),style:yt(i.valueStyle)},Ve(w(a)),7),i.$slots.suffix||i.suffix?(z(),q("div",{key:1,class:G(w(r).e("suffix"))},[Se(i.$slots,"suffix",{},()=>[Z("span",null,Ve(i.suffix),1)])],2)):Te("v-if",!0)],2)],2))}});var t8e=Ze(e8e,[["__file","statistic.vue"]]);const qie=Bt(t8e),n8e=je({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:be([Number,Object]),default:0},valueStyle:{type:be([String,Object,Array])}}),r8e={finish:()=>!0,[Qn]:e=>Tt(e)},a8e=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],HG=e=>Tt(e)?new Date(e).getTime():e.valueOf(),UG=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return a8e.reduce((i,[o,s])=>{const l=new RegExp(`${o}+(?![^\\[\\]]*\\])`,"g");if(l.test(i)){const u=Math.floor(n/s);return n-=u*s,i.replace(l,c=>String(u).padStart(c.length,"0"))}return i},t).replace(r,"$1")},i8e=se({name:"ElCountdown"}),o8e=se({...i8e,props:n8e,emits:r8e,setup(e,{expose:t,emit:n}){const r=e;let a;const i=Y(0),o=F(()=>UG(i.value,r.format)),s=c=>UG(c,r.format),l=()=>{a&&(rg(a),a=void 0)},u=()=>{const c=HG(r.value),f=()=>{let d=c-Date.now();n("change",d),d<=0?(d=0,l(),n("finish")):a=Ch(f),i.value=d};a=Ch(f)};return zt(()=>{i.value=HG(r.value)-Date.now(),Oe(()=>[r.value,r.format],()=>{l(),u()},{immediate:!0})}),ar(()=>{l()}),t({displayValue:o}),(c,f)=>(z(),Ae(w(qie),{value:i.value,title:c.title,prefix:c.prefix,suffix:c.suffix,"value-style":c.valueStyle,formatter:s},Nl({_:2},[un(c.$slots,(d,h)=>({name:h,fn:fe(()=>[Se(c.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var s8e=Ze(o8e,[["__file","countdown.vue"]]);const l8e=Bt(s8e),u8e=je({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),c8e={[Qn]:(e,t)=>[e,t].every(Tt)},f8e=se({name:"ElSteps"}),d8e=se({...f8e,props:u8e,emits:c8e,setup(e,{emit:t}){const n=e,r=ze("steps"),{children:a,addChild:i,removeChild:o}=mB(jt(),"ElStep");return Oe(a,()=>{a.value.forEach((s,l)=>{s.setIndex(l)})}),hn("ElSteps",{props:n,steps:a,addStep:i,removeStep:o}),Oe(()=>n.active,(s,l)=>{t(Qn,s,l)}),(s,l)=>(z(),q("div",{class:G([w(r).b(),w(r).m(s.simple?"simple":s.direction)])},[Se(s.$slots,"default")],2))}});var h8e=Ze(d8e,[["__file","steps.vue"]]);const p8e=je({title:{type:String,default:""},icon:{type:er},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),v8e=se({name:"ElStep"}),g8e=se({...v8e,props:p8e,setup(e){const t=e,n=ze("step"),r=Y(-1),a=Y({}),i=Y(""),o=ht("ElSteps"),s=jt();zt(()=>{Oe([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([S])=>{x(S)},{immediate:!0})}),ar(()=>{o.removeStep(_.uid)});const l=F(()=>t.status||i.value),u=F(()=>{const S=o.steps.value[r.value-1];return S?S.currentStatus:"wait"}),c=F(()=>o.props.alignCenter),f=F(()=>o.props.direction==="vertical"),d=F(()=>o.props.simple),h=F(()=>o.steps.value.length),p=F(()=>{var S;return((S=o.steps.value[h.value-1])==null?void 0:S.uid)===(s==null?void 0:s.uid)}),v=F(()=>d.value?"":o.props.space),g=F(()=>[n.b(),n.is(d.value?"simple":o.props.direction),n.is("flex",p.value&&!v.value&&!c.value),n.is("center",c.value&&!f.value&&!d.value)]),m=F(()=>{const S={flexBasis:Tt(v.value)?`${v.value}px`:v.value?v.value:`${100/(h.value-(c.value?0:1))}%`};return f.value||p.value&&(S.maxWidth=`${100/h.value}%`),S}),y=S=>{r.value=S},b=S=>{const C=S==="wait",k={transitionDelay:`${C?"-":""}${150*r.value}ms`},T=S===o.props.processStatus||C?0:100;k.borderWidth=T&&!d.value?"1px":0,k[o.props.direction==="vertical"?"height":"width"]=`${T}%`,a.value=k},x=S=>{S>r.value?i.value=o.props.finishStatus:S===r.value&&u.value!=="error"?i.value=o.props.processStatus:i.value="wait";const C=o.steps.value[r.value-1];C&&C.calcProgress(i.value)},_=Ln({uid:s.uid,currentStatus:l,setIndex:y,calcProgress:b});return o.addStep(_),(S,C)=>(z(),q("div",{style:yt(w(m)),class:G(w(g))},[Te(" icon & line "),Z("div",{class:G([w(n).e("head"),w(n).is(w(l))])},[w(d)?Te("v-if",!0):(z(),q("div",{key:0,class:G(w(n).e("line"))},[Z("i",{class:G(w(n).e("line-inner")),style:yt(a.value)},null,6)],2)),Z("div",{class:G([w(n).e("icon"),w(n).is(S.icon||S.$slots.icon?"icon":"text")])},[Se(S.$slots,"icon",{},()=>[S.icon?(z(),Ae(w(pt),{key:0,class:G(w(n).e("icon-inner"))},{default:fe(()=>[(z(),Ae(tn(S.icon)))]),_:1},8,["class"])):w(l)==="success"?(z(),Ae(w(pt),{key:1,class:G([w(n).e("icon-inner"),w(n).is("status")])},{default:fe(()=>[ie(w(__))]),_:1},8,["class"])):w(l)==="error"?(z(),Ae(w(pt),{key:2,class:G([w(n).e("icon-inner"),w(n).is("status")])},{default:fe(()=>[ie(w(Du))]),_:1},8,["class"])):w(d)?Te("v-if",!0):(z(),q("div",{key:3,class:G(w(n).e("icon-inner"))},Ve(r.value+1),3))])],2)],2),Te(" title & description "),Z("div",{class:G(w(n).e("main"))},[Z("div",{class:G([w(n).e("title"),w(n).is(w(l))])},[Se(S.$slots,"title",{},()=>[Kt(Ve(S.title),1)])],2),w(d)?(z(),q("div",{key:0,class:G(w(n).e("arrow"))},null,2)):(z(),q("div",{key:1,class:G([w(n).e("description"),w(n).is(w(l))])},[Se(S.$slots,"description",{},()=>[Kt(Ve(S.description),1)])],2))],2)],6))}});var Zie=Ze(g8e,[["__file","item.vue"]]);const m8e=Bt(h8e,{Step:Zie}),y8e=Ur(Zie),Jie=e=>["",...Yc].includes(e),b8e=je({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Jie},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:er},activeActionIcon:{type:er},activeIcon:{type:er},inactiveIcon:{type:er},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:be(Function)},id:String,tabindex:{type:[String,Number]},...Ei(["ariaLabel"])}),x8e={[Ht]:e=>lr(e)||vt(e)||Tt(e),[Qn]:e=>lr(e)||vt(e)||Tt(e),[Fi]:e=>lr(e)||vt(e)||Tt(e)},Qie="ElSwitch",w8e=se({name:Qie}),_8e=se({...w8e,props:b8e,emits:x8e,setup(e,{expose:t,emit:n}){const r=e,{formItem:a}=Xi(),i=pa(),o=ze("switch"),{inputId:s}=Vl(r,{formItemContext:a}),l=qi(F(()=>r.loading)),u=Y(r.modelValue!==!1),c=Y(),f=Y(),d=F(()=>[o.b(),o.m(i.value),o.is("disabled",l.value),o.is("checked",m.value)]),h=F(()=>[o.e("label"),o.em("label","left"),o.is("active",!m.value)]),p=F(()=>[o.e("label"),o.em("label","right"),o.is("active",m.value)]),v=F(()=>({width:ta(r.width)}));Oe(()=>r.modelValue,()=>{u.value=!0});const g=F(()=>u.value?r.modelValue:!1),m=F(()=>g.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(g.value)||(n(Ht,r.inactiveValue),n(Qn,r.inactiveValue),n(Fi,r.inactiveValue)),Oe(m,_=>{var S;c.value.checked=_,r.validateEvent&&((S=a==null?void 0:a.validate)==null||S.call(a,"change").catch(C=>void 0))});const y=()=>{const _=m.value?r.inactiveValue:r.activeValue;n(Ht,_),n(Qn,_),n(Fi,_),xt(()=>{c.value.checked=m.value})},b=()=>{if(l.value)return;const{beforeChange:_}=r;if(!_){y();return}const S=_();[Ox(S),lr(S)].includes(!0)||Na(Qie,"beforeChange must return type `Promise<boolean>` or `boolean`"),Ox(S)?S.then(k=>{k&&y()}).catch(k=>{}):S&&y()},x=()=>{var _,S;(S=(_=c.value)==null?void 0:_.focus)==null||S.call(_)};return zt(()=>{c.value.checked=m.value}),t({focus:x,checked:m}),(_,S)=>(z(),q("div",{class:G(w(d)),onClick:At(b,["prevent"])},[Z("input",{id:w(s),ref_key:"input",ref:c,class:G(w(o).e("input")),type:"checkbox",role:"switch","aria-checked":w(m),"aria-disabled":w(l),"aria-label":_.ariaLabel,name:_.name,"true-value":_.activeValue,"false-value":_.inactiveValue,disabled:w(l),tabindex:_.tabindex,onChange:y,onKeydown:rr(b,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!_.inlinePrompt&&(_.inactiveIcon||_.inactiveText)?(z(),q("span",{key:0,class:G(w(h))},[_.inactiveIcon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(_.inactiveIcon)))]),_:1})):Te("v-if",!0),!_.inactiveIcon&&_.inactiveText?(z(),q("span",{key:1,"aria-hidden":w(m)},Ve(_.inactiveText),9,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0),Z("span",{ref_key:"core",ref:f,class:G(w(o).e("core")),style:yt(w(v))},[_.inlinePrompt?(z(),q("div",{key:0,class:G(w(o).e("inner"))},[_.activeIcon||_.inactiveIcon?(z(),Ae(w(pt),{key:0,class:G(w(o).is("icon"))},{default:fe(()=>[(z(),Ae(tn(w(m)?_.activeIcon:_.inactiveIcon)))]),_:1},8,["class"])):_.activeText||_.inactiveText?(z(),q("span",{key:1,class:G(w(o).is("text")),"aria-hidden":!w(m)},Ve(w(m)?_.activeText:_.inactiveText),11,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0),Z("div",{class:G(w(o).e("action"))},[_.loading?(z(),Ae(w(pt),{key:0,class:G(w(o).is("loading"))},{default:fe(()=>[ie(w(Nu))]),_:1},8,["class"])):w(m)?Se(_.$slots,"active-action",{key:1},()=>[_.activeActionIcon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(_.activeActionIcon)))]),_:1})):Te("v-if",!0)]):w(m)?Te("v-if",!0):Se(_.$slots,"inactive-action",{key:2},()=>[_.inactiveActionIcon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(_.inactiveActionIcon)))]),_:1})):Te("v-if",!0)])],2)],6),!_.inlinePrompt&&(_.activeIcon||_.activeText)?(z(),q("span",{key:1,class:G(w(p))},[_.activeIcon?(z(),Ae(w(pt),{key:0},{default:fe(()=>[(z(),Ae(tn(_.activeIcon)))]),_:1})):Te("v-if",!0),!_.activeIcon&&_.activeText?(z(),q("span",{key:1,"aria-hidden":!w(m)},Ve(_.activeText),9,["aria-hidden"])):Te("v-if",!0)],2)):Te("v-if",!0)],10,["onClick"]))}});var S8e=Ze(_8e,[["__file","switch.vue"]]);const C8e=Bt(S8e),PR=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},T8e=function(e,t,n,r,a){if(!t&&!r&&(!a||Ke(a)&&!a.length))return e;vt(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const i=r?null:function(s,l){return a?(Ke(a)||(a=[a]),a.map(u=>vt(u)?ca(s,u):u(s,l,e))):(t!=="$key"&&qt(s)&&"$value"in s&&(s=s.$value),[qt(s)?ca(s,t):s])},o=function(s,l){if(r)return r(s.value,l.value);for(let u=0,c=s.key.length;u<c;u++){if(s.key[u]<l.key[u])return-1;if(s.key[u]>l.key[u])return 1}return 0};return e.map((s,l)=>({value:s,index:l,key:i?i(s,l):null})).sort((s,l)=>{let u=o(s,l);return u||(u=s.index-l.index),u*+n}).map(s=>s.value)},eoe=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},k8e=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const a=e.columns[r];if(a.columnKey===t){n=a;break}}return n||Na("ElTable",`No column matching with column-key: ${t}`),n},GG=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?eoe(e,r[0]):null},po=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(vt(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const a of n)r=r[a];return`${r}`}else if(mt(t))return t.call(null,e)},yv=function(e,t){const n={};return(e||[]).forEach((r,a)=>{n[po(r,t)]={row:r,index:a}}),n};function I8e(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(Dn(t,r)){const a=t[r];typeof a<"u"&&(n[r]=a)}return n}function WB(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function toe(e){return e===""||e!==void 0&&(e=WB(e),Number.isNaN(e)&&(e=80)),e}function E8e(e){return Tt(e)?e:vt(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function A8e(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function rI(e,t,n,r,a,i){let o=i??0,s=!1;const l=e.indexOf(t),u=l!==-1,c=a==null?void 0:a.call(null,t,i),f=h=>{h==="add"?e.push(t):e.splice(l,1),s=!0},d=h=>{let p=0;const v=(r==null?void 0:r.children)&&h[r.children];return v&&Ke(v)&&(p+=v.length,v.forEach(g=>{p+=d(g)})),p};return(!a||c)&&(lr(n)?n&&!u?f("add"):!n&&u&&f("remove"):f(u?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&Ke(t[r.children])&&t[r.children].forEach(h=>{rI(e,h,n??!u,r,a,o+1),o+=d(h)+1}),s}function D8e(e,t,n="children",r="hasChildren"){const a=o=>!(Ke(o)&&o.length);function i(o,s,l){t(o,s,l),s.forEach(u=>{if(u[r]){t(u,null,l+1);return}const c=u[n];a(c)||i(u,c,l+1)})}e.forEach(o=>{if(o[r]){t(o,null,0);return}const s=o[n];a(s)||i(o,s,0)})}const KG=(e,t)=>({content:t,...e,popperOptions:{strategy:"fixed",...e.popperOptions}});let ol=null;function N8e(e,t,n,r){if((ol==null?void 0:ol.trigger)===n){gre(ol.vm.component.props,KG(e,t));return}ol==null||ol();const a=r==null?void 0:r.refs.tableWrapper,i=a==null?void 0:a.dataset.prefix,o=ie(Hi,{virtualTriggering:!0,virtualRef:n,appendTo:a,placement:"top",transition:"none",offset:0,hideAfter:0,...KG(e,t)});o.appContext={...r.appContext,...r};const s=document.createElement("div");_h(o,s),o.component.exposed.onOpen();const l=a==null?void 0:a.querySelector(`.${i}-scrollbar__wrap`);ol=()=>{_h(null,s),l==null||l.removeEventListener("scroll",ol),ol=null},ol.trigger=n,ol.vm=o,l==null||l.addEventListener("scroll",ol)}function noe(e){return e.children?vIe(e.children,noe):[e]}function jG(e,t){return e+t.colSpan}const roe=(e,t,n,r)=>{let a=0,i=e;const o=n.states.columns.value;if(r){const l=noe(r[e]);a=o.slice(0,o.indexOf(l[0])).reduce(jG,0),i=a+l.reduce(jG,0)-1}else a=e;let s;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":a>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:i<n.states.fixedLeafColumnsLength.value?s="left":a>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:a,after:i}:{}},HB=(e,t,n,r,a,i=0)=>{const o=[],{direction:s,start:l,after:u}=roe(t,n,r,a);if(s){const c=s==="left";o.push(`${e}-fixed-column--${s}`),c&&u+i===r.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!c&&l-i===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function YG(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const UB=(e,t,n,r)=>{const{direction:a,start:i=0,after:o=0}=roe(e,t,n,r);if(!a)return;const s={},l=a==="left",u=n.states.columns.value;return l?s.left=u.slice(0,i).reduce(YG,0):s.right=u.slice(o+1).reverse().reduce(YG,0),s},ry=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function R8e(e){const t=jt(),n=Y(!1),r=Y([]);return{updateExpandRows:()=>{const l=e.data.value||[],u=e.rowKey.value;if(n.value)r.value=l.slice();else if(u){const c=yv(r.value,u);r.value=l.reduce((f,d)=>{const h=po(d,u);return c[h]&&f.push(d),f},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{rI(r.value,l,u)&&t.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{t.store.assertRowKey();const u=e.data.value||[],c=e.rowKey.value,f=yv(u,c);r.value=l.reduce((d,h)=>{const p=f[h];return p&&d.push(p.row),d},[])},isRowExpanded:l=>{const u=e.rowKey.value;return u?!!yv(r.value,u)[po(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function M8e(e){const t=jt(),n=Y(null),r=Y(null),a=u=>{t.store.assertRowKey(),n.value=u,o(u)},i=()=>{n.value=null},o=u=>{const{data:c,rowKey:f}=e;let d=null;f.value&&(d=(w(c)||[]).find(h=>po(h,f.value)===u)),r.value=d,t.emit("current-change",r.value,null)};return{setCurrentRowKey:a,restoreCurrentRowKey:i,setCurrentRowByKey:o,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,t.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,t.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=e.rowKey.value,c=e.data.value||[],f=r.value;if(!c.includes(f)&&f){if(u){const d=po(f,u);o(d)}else r.value=null;r.value===null&&t.emit("current-change",null,f)}else n.value&&(o(n.value),i())},states:{_currentRowKey:n,currentRow:r}}}function $8e(e){const t=Y([]),n=Y({}),r=Y(16),a=Y(!1),i=Y({}),o=Y("hasChildren"),s=Y("children"),l=Y(!1),u=jt(),c=F(()=>{if(!e.rowKey.value)return{};const b=e.data.value||[];return d(b)}),f=F(()=>{const b=e.rowKey.value,x=Object.keys(i.value),_={};return x.length&&x.forEach(S=>{if(i.value[S].length){const C={children:[]};i.value[S].forEach(k=>{const T=po(k,b);C.children.push(T),k[o.value]&&!_[T]&&(_[T]={children:[]})}),_[S]=C}}),_}),d=b=>{const x=e.rowKey.value,_={};return D8e(b,(S,C,k)=>{const T=po(S,x);Ke(C)?_[T]={children:C.map(I=>po(I,x)),level:k}:a.value&&(_[T]={children:[],lazy:!0,level:k})},s.value,o.value),_},h=(b=!1,x=(_=>(_=u.store)==null?void 0:_.states.defaultExpandAll.value)())=>{var _;const S=c.value,C=f.value,k=Object.keys(S),T={};if(k.length){const I=w(n),E=[],A=(L,R)=>{if(b)return t.value?x||t.value.includes(R):!!(x||L!=null&&L.expanded);{const D=x||t.value&&t.value.includes(R);return!!(L!=null&&L.expanded||D)}};k.forEach(L=>{const R=I[L],D={...S[L]};if(D.expanded=A(R,L),D.lazy){const{loaded:P=!1,loading:O=!1}=R||{};D.loaded=!!P,D.loading=!!O,E.push(L)}T[L]=D});const N=Object.keys(C);a.value&&N.length&&E.length&&N.forEach(L=>{const R=I[L],D=C[L].children;if(E.includes(L)){if(T[L].children.length!==0)throw new Error("[ElTable]children must be an empty array.");T[L].children=D}else{const{loaded:P=!1,loading:O=!1}=R||{};T[L]={lazy:!0,loaded:!!P,loading:!!O,expanded:A(R,L),children:D,level:""}}})}n.value=T,(_=u.store)==null||_.updateTableScrollY()};Oe(()=>t.value,()=>{h(!0)}),Oe(()=>c.value,()=>{h()}),Oe(()=>f.value,()=>{h()});const p=b=>{t.value=b,h()},v=(b,x)=>{u.store.assertRowKey();const _=e.rowKey.value,S=po(b,_),C=S&&n.value[S];if(S&&C&&"expanded"in C){const k=C.expanded;x=qn(x)?!C.expanded:x,n.value[S].expanded=x,k!==x&&u.emit("expand-change",b,x),u.store.updateTableScrollY()}},g=b=>{u.store.assertRowKey();const x=e.rowKey.value,_=po(b,x),S=n.value[_];a.value&&S&&"loaded"in S&&!S.loaded?m(b,_,S):v(b,void 0)},m=(b,x,_)=>{const{load:S}=u.props;S&&!n.value[x].loaded&&(n.value[x].loading=!0,S(b,_,C=>{if(!Ke(C))throw new TypeError("[ElTable] data must be an array");n.value[x].loading=!1,n.value[x].loaded=!0,n.value[x].expanded=!0,C.length&&(i.value[x]=C),u.emit("expand-change",b,!0)}))};return{loadData:m,loadOrToggle:g,toggleTreeExpansion:v,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(b,x)=>{const{lazy:_,rowKey:S}=u.props;if(_){if(!S)throw new Error("[Table] rowKey is required in updateKeyChild");i.value[b]&&(i.value[b]=x)}},normalize:d,states:{expandRowKeys:t,treeData:n,indent:r,lazy:a,lazyTreeNodeMap:i,lazyColumnIdentifier:o,childrenColumnName:s,checkStrictly:l}}}const L8e=(e,t)=>{const n=t.sortingColumn;return!n||vt(n.sortable)?e:T8e(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},GT=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,GT(n.children)):t.push(n)}),t};function O8e(){var e;const t=jt(),{size:n}=di((e=t.proxy)==null?void 0:e.$props),r=Y(null),a=Y([]),i=Y([]),o=Y(!1),s=Y([]),l=Y([]),u=Y([]),c=Y([]),f=Y([]),d=Y([]),h=Y([]),p=Y([]),v=[],g=Y(0),m=Y(0),y=Y(0),b=Y(!1),x=Y([]),_=Y(!1),S=Y(!1),C=Y(null),k=Y({}),T=Y(null),I=Y(null),E=Y(null),A=Y(null),N=Y(null);Oe(a,()=>{var Ne;t.state&&(O(!1),t.props.tableLayout==="auto"&&((Ne=t.refs.tableHeaderRef)==null||Ne.updateFixedColumnStyle()))},{deep:!0});const L=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},R=Ne=>{var nt;(nt=Ne.children)==null||nt.forEach(_e=>{_e.fixed=Ne.fixed,R(_e)})};let D;const P=()=>{s.value.forEach(de=>{R(de)}),c.value=s.value.filter(de=>de.fixed===!0||de.fixed==="left"),f.value=s.value.filter(de=>de.fixed==="right"),qn(D)&&s.value[0]&&s.value[0].type==="selection"&&(D=!!s.value[0].fixed),c.value.length>0&&s.value[0]&&s.value[0].type==="selection"&&(s.value[0].fixed?c.value.some(ft=>ft.type!=="selection")?D=void 0:(s.value[0].fixed=D,D||c.value.shift()):(s.value[0].fixed=!0,c.value.unshift(s.value[0])));const Ne=s.value.filter(de=>!de.fixed);l.value=[].concat(c.value).concat(Ne).concat(f.value);const nt=GT(Ne),_e=GT(c.value),We=GT(f.value);g.value=nt.length,m.value=_e.length,y.value=We.length,u.value=[].concat(_e).concat(nt).concat(We),o.value=c.value.length>0||f.value.length>0},O=(Ne,nt=!1)=>{Ne&&P(),nt?t.state.doLayout():t.state.debouncedUpdateLayout()},M=Ne=>x.value.some(nt=>Ci(nt,Ne)),W=()=>{b.value=!1;const Ne=x.value;x.value=[],Ne.length&&t.emit("selection-change",[])},U=()=>{let Ne;if(r.value){Ne=[];const nt=yv(x.value,r.value),_e=yv(a.value,r.value);for(const We in nt)Dn(nt,We)&&!_e[We]&&Ne.push(nt[We].row)}else Ne=x.value.filter(nt=>!a.value.includes(nt));if(Ne.length){const nt=x.value.filter(_e=>!Ne.includes(_e));x.value=nt,t.emit("selection-change",nt.slice())}},V=()=>(x.value||[]).slice(),H=(Ne,nt,_e=!0,We=!1)=>{var de,ft,Gt,cn;const ir={children:(ft=(de=t==null?void 0:t.store)==null?void 0:de.states)==null?void 0:ft.childrenColumnName.value,checkStrictly:(cn=(Gt=t==null?void 0:t.store)==null?void 0:Gt.states)==null?void 0:cn.checkStrictly.value};if(rI(x.value,Ne,nt,ir,We?void 0:C.value)){const ra=(x.value||[]).slice();_e&&t.emit("select",ra,Ne),t.emit("selection-change",ra)}},K=()=>{var Ne,nt;const _e=S.value?!b.value:!(b.value||x.value.length);b.value=_e;let We=!1,de=0;const ft=(nt=(Ne=t==null?void 0:t.store)==null?void 0:Ne.states)==null?void 0:nt.rowKey.value,{childrenColumnName:Gt}=t.store.states,cn={children:Gt.value,checkStrictly:!1};a.value.forEach((ir,Eo)=>{const ra=Eo+de;rI(x.value,ir,_e,cn,C.value,ra)&&(We=!0),de+=Q(po(ir,ft))}),We&&t.emit("selection-change",x.value?x.value.slice():[]),t.emit("select-all",(x.value||[]).slice())},j=()=>{const Ne=yv(x.value,r.value);a.value.forEach(nt=>{const _e=po(nt,r.value),We=Ne[_e];We&&(x.value[We.index]=nt)})},ne=()=>{var Ne;if(((Ne=a.value)==null?void 0:Ne.length)===0){b.value=!1;return}const{childrenColumnName:nt}=t.store.states,_e=r.value?yv(x.value,r.value):void 0;let We=0,de=0;const ft=ir=>_e?!!_e[po(ir,r.value)]:x.value.includes(ir),Gt=ir=>{var Eo;for(const ra of ir){const wr=C.value&&C.value.call(null,ra,We);if(ft(ra))de++;else if(!C.value||wr)return!1;if(We++,(Eo=ra[nt.value])!=null&&Eo.length&&!Gt(ra[nt.value]))return!1}return!0},cn=Gt(a.value||[]);b.value=de===0?!1:cn},Q=Ne=>{var nt;if(!t||!t.store)return 0;const{treeData:_e}=t.store.states;let We=0;const de=(nt=_e.value[Ne])==null?void 0:nt.children;return de&&(We+=de.length,de.forEach(ft=>{We+=Q(ft)})),We},oe=(Ne,nt)=>{Ke(Ne)||(Ne=[Ne]);const _e={};return Ne.forEach(We=>{k.value[We.id]=nt,_e[We.columnKey||We.id]=nt}),_e},ae=(Ne,nt,_e)=>{I.value&&I.value!==Ne&&(I.value.order=null),I.value=Ne,E.value=nt,A.value=_e},me=()=>{let Ne=w(i);Object.keys(k.value).forEach(nt=>{const _e=k.value[nt];if(!_e||_e.length===0)return;const We=eoe({columns:u.value},nt);We&&We.filterMethod&&(Ne=Ne.filter(de=>_e.some(ft=>We.filterMethod.call(null,ft,de,We))))}),T.value=Ne},ve=()=>{a.value=L8e(T.value,{sortingColumn:I.value,sortProp:E.value,sortOrder:A.value})},B=(Ne=void 0)=>{Ne&&Ne.filter||me(),ve()},re=Ne=>{const{tableHeaderRef:nt}=t.refs;if(!nt)return;const _e=Object.assign({},nt.filterPanels),We=Object.keys(_e);if(We.length)if(vt(Ne)&&(Ne=[Ne]),Ke(Ne)){const de=Ne.map(ft=>k8e({columns:u.value},ft));We.forEach(ft=>{const Gt=de.find(cn=>cn.id===ft);Gt&&(Gt.filteredValue=[])}),t.store.commit("filterChange",{column:de,values:[],silent:!0,multi:!0})}else We.forEach(de=>{const ft=u.value.find(Gt=>Gt.id===de);ft&&(ft.filteredValue=[])}),k.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},ge=()=>{I.value&&(ae(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ie,toggleRowExpansion:Ce,updateExpandRows:he,states:J,isRowExpanded:te}=R8e({data:a,rowKey:r}),{updateTreeExpandKeys:xe,toggleTreeExpansion:Ee,updateTreeData:Qe,updateKeyChildren:Be,loadOrToggle:ce,states:Re}=$8e({data:a,rowKey:r}),{updateCurrentRowData:ct,updateCurrentRow:It,setCurrentRowKey:wt,states:Qt}=M8e({data:a,rowKey:r});return{assertRowKey:L,updateColumns:P,scheduleLayout:O,isSelected:M,clearSelection:W,cleanSelection:U,getSelectionRows:V,toggleRowSelection:H,_toggleAllSelection:K,toggleAllSelection:null,updateSelectionByRowKey:j,updateAllSelected:ne,updateFilters:oe,updateCurrentRow:It,updateSort:ae,execFilter:me,execSort:ve,execQuery:B,clearFilter:re,clearSort:ge,toggleRowExpansion:Ce,setExpandRowKeysAdapter:Ne=>{Ie(Ne),xe(Ne)},setCurrentRowKey:wt,toggleRowExpansionAdapter:(Ne,nt)=>{u.value.some(({type:We})=>We==="expand")?Ce(Ne,nt):Ee(Ne,nt)},isRowExpanded:te,updateExpandRows:he,updateCurrentRowData:ct,loadOrToggle:ce,updateTreeData:Qe,updateKeyChildren:Be,states:{tableSize:n,rowKey:r,data:a,_data:i,isComplex:o,_columns:s,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:f,leafColumns:d,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:v,leafColumnsLength:g,fixedLeafColumnsLength:m,rightFixedLeafColumnsLength:y,isAllSelected:b,selection:x,reserveSelection:_,selectOnIndeterminate:S,selectable:C,filters:k,filteredData:T,sortingColumn:I,sortProp:E,sortOrder:A,hoverRow:N,...J,...Re,...Qt}}}function KO(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=KO(n.children,t)),n)})}function jO(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&jO(t.children)}),e.sort((t,n)=>t.no-n.no)}function P8e(){const e=jt(),t=O8e();return{ns:ze("table"),...t,mutations:{setData(o,s){const l=w(o._data)!==s;o.data.value=s,o._data.value=s,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),w(o.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):l?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(o,s,l,u){const c=w(o._columns);let f=[];l?(l&&!l.children&&(l.children=[]),l.children.push(s),f=KO(c,l)):(c.push(s),f=c),jO(f),o._columns.value=f,o.updateOrderFns.push(u),s.type==="selection"&&(o.selectable.value=s.selectable,o.reserveSelection.value=s.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(o,s){var l;((l=s.getColumnIndex)==null?void 0:l.call(s))!==s.no&&(jO(o._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(o,s,l,u){const c=w(o._columns)||[];if(l)l.children.splice(l.children.findIndex(d=>d.id===s.id),1),xt(()=>{var d;((d=l.children)==null?void 0:d.length)===0&&delete l.children}),o._columns.value=KO(c,l);else{const d=c.indexOf(s);d>-1&&(c.splice(d,1),o._columns.value=c)}const f=o.updateOrderFns.indexOf(u);f>-1&&o.updateOrderFns.splice(f,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(o,s){const{prop:l,order:u,init:c}=s;if(l){const f=w(o.columns).find(d=>d.property===l);f&&(f.order=u,e.store.updateSort(f,l,u),e.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(o,s){const{sortingColumn:l,sortProp:u,sortOrder:c}=o,f=w(l),d=w(u),h=w(c);h===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const p={filter:!0};e.store.execQuery(p),(!s||!(s.silent||s.init))&&e.emit("sort-change",{column:f,prop:d,order:h}),e.store.updateTableScrollY()},filterChange(o,s){const{column:l,values:u,silent:c}=s,f=e.store.updateFilters(l,u);e.store.execQuery(),c||e.emit("filter-change",f),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(o,s){e.store.toggleRowSelection(s),e.store.updateAllSelected()},setHoverRow(o,s){o.hoverRow.value=s},setCurrentRow(o,s){e.store.updateCurrentRow(s)}},commit:function(o,...s){const l=e.store.mutations;if(l[o])l[o].apply(e,[e.store.states].concat(s));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){xt(()=>e.layout.updateScrollY.apply(e.layout))}}}const ox={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function F8e(e,t){if(!e)throw new Error("Table is required.");const n=P8e();return n.toggleAllSelection=Cs(n._toggleAllSelection,10),Object.keys(ox).forEach(r=>{aoe(ioe(t,r),r,n)}),B8e(n,t),n}function B8e(e,t){Object.keys(ox).forEach(n=>{Oe(()=>ioe(t,n),r=>{aoe(r,n,e)})})}function aoe(e,t,n){let r=e,a=ox[t];typeof ox[t]=="object"&&(a=a.key,r=r||ox[t].default),n.states[a].value=r}function ioe(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(a=>{r=r[a]}),r}else return e[t]}class V8e{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Y(null),this.scrollX=Y(!1),this.scrollY=Y(!1),this.bodyWidth=Y(null),this.fixedWidth=Y(null),this.rightFixedWidth=Y(null),this.gutterWidth=0;for(const n in t)Dn(t,n)&&(vr(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const a=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,a!==r}return!1}setHeight(t,n="height"){if(!wn)return;const r=this.table.vnode.el;if(t=E8e(t),this.height.value=Number(t),!r&&(t||t===0))return xt(()=>this.setHeight(t,n));Tt(t)?(r.style[n]=`${t}px`,this.updateElsHeight()):vt(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!wn)return;const t=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const a=this.getFlattenColumns(),i=a.filter(l=>!Tt(l.width));if(a.forEach(l=>{Tt(l.width)&&l.realWidth&&(l.realWidth=null)}),i.length>0&&t){if(a.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=n){this.scrollX.value=!1;const l=n-r;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+l;else{const u=i.reduce((d,h)=>d+Number(h.minWidth||80),0),c=l/u;let f=0;i.forEach((d,h)=>{if(h===0)return;const p=Math.floor(Number(d.minWidth||80)*c);f+=p,d.realWidth=Number(d.minWidth||80)+p}),i[0].realWidth=Number(i[0].minWidth||80)+l-f}}else this.scrollX.value=!0,i.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const s=this.store.states.rightFixedColumns.value;if(s.length>0){let l=0;s.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var a,i;switch(t){case"columns":(a=r.state)==null||a.onColumnsChange(this);break;case"scrollable":(i=r.state)==null||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:z8e}=Ll,W8e=se({name:"ElTableFilterPanel",components:{ElCheckbox:Ll,ElCheckboxGroup:z8e,ElScrollbar:qc,ElTooltip:Hi,ElIcon:pt,ArrowDown:Xc,ArrowUp:Z4},directives:{ClickOutside:Wf},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const t=jt(),{t:n}=_n(),r=ze("table-filter"),a=t==null?void 0:t.parent;a.filterPanels.value[e.column.id]||(a.filterPanels.value[e.column.id]=t);const i=Y(!1),o=Y(null),s=F(()=>e.column&&e.column.filters),l=F(()=>e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),u=F({get:()=>{var _;return(((_=e.column)==null?void 0:_.filteredValue)||[])[0]},set:_=>{c.value&&(typeof _<"u"&&_!==null?c.value.splice(0,1,_):c.value.splice(0,1))}}),c=F({get(){return e.column?e.column.filteredValue||[]:[]},set(_){e.column&&e.upDataColumn("filteredValue",_)}}),f=F(()=>e.column?e.column.filterMultiple:!0),d=_=>_.value===u.value,h=()=>{i.value=!1},p=_=>{_.stopPropagation(),i.value=!i.value},v=()=>{i.value=!1},g=()=>{b(c.value),h()},m=()=>{c.value=[],b(c.value),h()},y=_=>{u.value=_,b(typeof _<"u"&&_!==null?c.value:[]),h()},b=_=>{e.store.commit("filterChange",{column:e.column,values:_}),e.store.updateAllSelected()};Oe(i,_=>{e.column&&e.upDataColumn("filterOpened",_)},{immediate:!0});const x=F(()=>{var _,S;return(S=(_=o.value)==null?void 0:_.popperRef)==null?void 0:S.contentRef});return{tooltipVisible:i,multiple:f,filterClassName:l,filteredValue:c,filterValue:u,filters:s,handleConfirm:g,handleReset:m,handleSelect:y,isActive:d,t:n,ns:r,showFilterPanel:p,hideFilterPanel:v,popperPaneRef:x,tooltip:o}}});function H8e(e,t,n,r,a,i){const o=Ft("el-checkbox"),s=Ft("el-checkbox-group"),l=Ft("el-scrollbar"),u=Ft("arrow-up"),c=Ft("arrow-down"),f=Ft("el-icon"),d=Ft("el-tooltip"),h=v_("click-outside");return z(),Ae(d,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:fe(()=>[e.multiple?(z(),q("div",{key:0},[Z("div",{class:G(e.ns.e("content"))},[ie(l,{"wrap-class":e.ns.e("wrap")},{default:fe(()=>[ie(s,{modelValue:e.filteredValue,"onUpdate:modelValue":p=>e.filteredValue=p,class:G(e.ns.e("checkbox-group"))},{default:fe(()=>[(z(!0),q(gt,null,un(e.filters,p=>(z(),Ae(o,{key:p.value,value:p.value},{default:fe(()=>[Kt(Ve(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),Z("div",{class:G(e.ns.e("bottom"))},[Z("button",{class:G({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},Ve(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),Z("button",{type:"button",onClick:e.handleReset},Ve(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(z(),q("ul",{key:1,class:G(e.ns.e("list"))},[Z("li",{class:G([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:p=>e.handleSelect(null)},Ve(e.t("el.table.clearFilter")),11,["onClick"]),(z(!0),q(gt,null,un(e.filters,p=>(z(),q("li",{key:p.value,class:G([e.ns.e("list-item"),e.ns.is("active",e.isActive(p))]),label:p.value,onClick:v=>e.handleSelect(p.value)},Ve(p.text),11,["label","onClick"]))),128))],2))]),default:fe(()=>[Vt((z(),q("span",{class:G([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[ie(f,null,{default:fe(()=>[Se(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(z(),Ae(u,{key:0})):(z(),Ae(c,{key:1}))])]),_:3})],10,["onClick"])),[[h,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var U8e=Ze(W8e,[["render",H8e],["__file","filter-panel.vue"]]);function ooe(e){const t=jt();tA(()=>{n.value.addObserver(t)}),zt(()=>{r(n.value),a(n.value)}),Kc(()=>{r(n.value),a(n.value)}),jc(()=>{n.value.removeObserver(t)});const n=F(()=>{const i=e.layout;if(!i)throw new Error("Can not find table layout.");return i}),r=i=>{var o;const s=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!s.length)return;const l=i.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,f=s.length;c<f;c++){const d=s[c],h=d.getAttribute("name"),p=u[h];p&&d.setAttribute("width",p.realWidth||p.width)}},a=i=>{var o,s;const l=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,f=l.length;c<f;c++)l[c].setAttribute("width",i.scrollY.value?i.gutterWidth:"0");const u=((s=e.vnode.el)==null?void 0:s.querySelectorAll("th.gutter"))||[];for(let c=0,f=u.length;c<f;c++){const d=u[c];d.style.width=i.scrollY.value?`${i.gutterWidth}px`:"0",d.style.display=i.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:a}}const Jc=Symbol("ElTable");function G8e(e,t){const n=jt(),r=ht(Jc),a=v=>{v.stopPropagation()},i=(v,g)=>{!g.filters&&g.sortable?p(v,g,!1):g.filterable&&!g.sortable&&a(v),r==null||r.emit("header-click",g,v)},o=(v,g)=>{r==null||r.emit("header-contextmenu",g,v)},s=Y(null),l=Y(!1),u=Y({}),c=(v,g)=>{if(wn&&!(g.children&&g.children.length>0)&&s.value&&e.border){l.value=!0;const m=r;t("set-drag-visible",!0);const b=(m==null?void 0:m.vnode.el).getBoundingClientRect().left,x=n.vnode.el.querySelector(`th.${g.id}`),_=x.getBoundingClientRect(),S=_.left-b+30;Sl(x,"noclick"),u.value={startMouseLeft:v.clientX,startLeft:_.right-b,startColumnLeft:_.left-b,tableLeft:b};const C=m==null?void 0:m.refs.resizeProxy;C.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const k=I=>{const E=I.clientX-u.value.startMouseLeft,A=u.value.startLeft+E;C.style.left=`${Math.max(S,A)}px`},T=()=>{if(l.value){const{startColumnLeft:I,startLeft:E}=u.value,N=Number.parseInt(C.style.left,10)-I;g.width=g.realWidth=N,m==null||m.emit("header-dragend",g.width,E-I,g,v),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,s.value=null,u.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",T),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{bo(x,"noclick")},0)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",T)}},f=(v,g)=>{var m;if(g.children&&g.children.length>0)return;const y=v.target;if(!zs(y))return;const b=y==null?void 0:y.closest("th");if(!(!g||!g.resizable||!b)&&!l.value&&e.border){const x=b.getBoundingClientRect(),_=document.body.style,S=((m=b.parentNode)==null?void 0:m.lastElementChild)===b;x.width>12&&x.right-v.pageX<8&&!S?(_.cursor="col-resize",xs(b,"is-sortable")&&(b.style.cursor="col-resize"),s.value=g):l.value||(_.cursor="",xs(b,"is-sortable")&&(b.style.cursor="pointer"),s.value=null)}},d=()=>{wn&&(document.body.style.cursor="")},h=({order:v,sortOrders:g})=>{if(v==="")return g[0];const m=g.indexOf(v||null);return g[m>g.length-2?0:m+1]},p=(v,g,m)=>{var y;v.stopPropagation();const b=g.order===m?null:m||h(g),x=(y=v.target)==null?void 0:y.closest("th");if(x&&xs(x,"noclick")){bo(x,"noclick");return}if(!g.sortable)return;const _=v.currentTarget;if(["ascending","descending"].some(I=>xs(_,I)&&!g.sortOrders.includes(I)))return;const S=e.store.states;let C=S.sortProp.value,k;const T=S.sortingColumn.value;(T!==g||T===g&&T.order===null)&&(T&&(T.order=null),S.sortingColumn.value=g,C=g.property),b?k=g.order=b:k=g.order=null,S.sortProp.value=C,S.sortOrder.value=k,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:o,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:p,handleFilterClick:a}}function K8e(e){const t=ht(Jc),n=ze("table");return{getHeaderRowStyle:s=>{const l=t==null?void 0:t.props.headerRowStyle;return mt(l)?l.call(null,{rowIndex:s}):l},getHeaderRowClass:s=>{const l=[],u=t==null?void 0:t.props.headerRowClassName;return vt(u)?l.push(u):mt(u)&&l.push(u.call(null,{rowIndex:s})),l.join(" ")},getHeaderCellStyle:(s,l,u,c)=>{var f;let d=(f=t==null?void 0:t.props.headerCellStyle)!=null?f:{};mt(d)&&(d=d.call(null,{rowIndex:s,columnIndex:l,row:u,column:c}));const h=UB(l,c.fixed,e.store,u);return ry(h,"left"),ry(h,"right"),Object.assign({},d,h)},getHeaderCellClass:(s,l,u,c)=>{const f=HB(n.b(),l,c.fixed,e.store,u),d=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...f];c.children||d.push("is-leaf"),c.sortable&&d.push("is-sortable");const h=t==null?void 0:t.props.headerCellClassName;return vt(h)?d.push(h):mt(h)&&d.push(h.call(null,{rowIndex:s,columnIndex:l,row:u,column:c})),d.push(n.e("cell")),d.filter(p=>!!p).join(" ")}}}const soe=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,soe(n.children))):t.push(n)}),t},loe=e=>{let t=1;const n=(i,o)=>{if(o&&(i.level=o.level+1,t<i.level&&(t=i.level)),i.children){let s=0;i.children.forEach(l=>{n(l,i),s+=l.colSpan}),i.colSpan=s}else i.colSpan=1};e.forEach(i=>{i.level=1,n(i,void 0)});const r=[];for(let i=0;i<t;i++)r.push([]);return soe(e).forEach(i=>{i.children?(i.rowSpan=1,i.children.forEach(o=>o.isSubColumn=!0)):i.rowSpan=t-i.level+1,r[i.level-1].push(i)}),r};function j8e(e){const t=ht(Jc),n=F(()=>loe(e.store.states.originColumns.value));return{isGroup:F(()=>{const i=n.value.length>1;return i&&t&&(t.state.isGroup.value=!0),i}),toggleAllSelection:i=>{i.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var Y8e=se({name:"ElTableHeader",components:{ElCheckbox:Ll},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(e,{emit:t}){const n=jt(),r=ht(Jc),a=ze("table"),i=Y({}),{onColumnsChange:o,onScrollableChange:s}=ooe(r),l=(r==null?void 0:r.props.tableLayout)==="auto",u=Ln(new Map),c=Y(),f=()=>{setTimeout(()=>{u.size>0&&(u.forEach((I,E)=>{const A=c.value.querySelector(`.${E.replace(/\s/g,".")}`);if(A){const N=A.getBoundingClientRect().width;I.width=N}}),u.clear())})};Oe(u,f),zt(async()=>{await xt(),await xt();const{prop:I,order:E}=e.defaultSort;r==null||r.store.commit("sort",{prop:I,order:E,init:!0}),f()});const{handleHeaderClick:d,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:v,handleMouseOut:g,handleSortClick:m,handleFilterClick:y}=G8e(e,t),{getHeaderRowStyle:b,getHeaderRowClass:x,getHeaderCellStyle:_,getHeaderCellClass:S}=K8e(e),{isGroup:C,toggleAllSelection:k,columnRows:T}=j8e(e);return n.state={onColumnsChange:o,onScrollableChange:s},n.filterPanels=i,{ns:a,filterPanels:i,onColumnsChange:o,onScrollableChange:s,columnRows:T,getHeaderRowClass:x,getHeaderRowStyle:b,getHeaderCellClass:S,getHeaderCellStyle:_,handleHeaderClick:d,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:v,handleMouseOut:g,handleSortClick:m,handleFilterClick:y,isGroup:C,toggleAllSelection:k,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:c,updateFixedColumnStyle:f}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:a,getHeaderRowClass:i,getHeaderRowStyle:o,handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:f,handleMouseOut:d,store:h,$parent:p,saveIndexSelection:v,isTableLayoutAuto:g}=this;let m=1;return Ct("thead",{ref:"theadRef",class:{[e.is("group")]:t}},n.map((y,b)=>Ct("tr",{class:i(b),key:b,style:o(b)},y.map((x,_)=>{x.rowSpan>m&&(m=x.rowSpan);const S=a(b,_,y,x);return g&&x.fixed&&v.set(S,x),Ct("th",{class:S,colspan:x.colSpan,key:`${x.id}-thead`,rowspan:x.rowSpan,style:r(b,_,y,x),onClick:C=>{C.currentTarget.classList.contains("noclick")||s(C,x)},onContextmenu:C=>l(C,x),onMousedown:C=>u(C,x),onMousemove:C=>c(C,x),onMouseout:d},[Ct("div",{class:["cell",x.filteredValue&&x.filteredValue.length>0?"highlight":""]},[x.renderHeader?x.renderHeader({column:x,$index:_,store:h,_self:p}):x.label,x.sortable&&Ct("span",{onClick:C=>f(C,x),class:"caret-wrapper"},[Ct("i",{onClick:C=>f(C,x,"ascending"),class:"sort-caret ascending"}),Ct("i",{onClick:C=>f(C,x,"descending"),class:"sort-caret descending"})]),x.filterable&&Ct(U8e,{store:h,placement:x.filterPlacement||"bottom-start",appendTo:p.appendFilterPanelTo,column:x,upDataColumn:(C,k)=>{x[C]=k}},{"filter-icon":()=>x.renderFilterIcon?x.renderFilterIcon({filterOpened:x.filterOpened}):null})])])}))))}});function FR(e,t,n=.03){return e-t>n}function X8e(e){const t=ht(Jc),n=Y(""),r=Y(Ct("div")),a=(p,v,g)=>{var m;const y=t,b=PR(p);let x;const _=(m=y==null?void 0:y.vnode.el)==null?void 0:m.dataset.prefix;b&&(x=GG({columns:e.store.states.columns.value},b,_),x&&(y==null||y.emit(`cell-${g}`,v,x,b,p))),y==null||y.emit(`row-${g}`,v,x,p)},i=(p,v)=>{a(p,v,"dblclick")},o=(p,v)=>{e.store.commit("setCurrentRow",v),a(p,v,"click")},s=(p,v)=>{a(p,v,"contextmenu")},l=Cs(p=>{e.store.commit("setHoverRow",p)},30),u=Cs(()=>{e.store.commit("setHoverRow",null)},30),c=p=>{const v=window.getComputedStyle(p,null),g=Number.parseInt(v.paddingLeft,10)||0,m=Number.parseInt(v.paddingRight,10)||0,y=Number.parseInt(v.paddingTop,10)||0,b=Number.parseInt(v.paddingBottom,10)||0;return{left:g,right:m,top:y,bottom:b}},f=(p,v,g)=>{let m=v.target.parentNode;for(;p>1&&(m=m==null?void 0:m.nextSibling,!(!m||m.nodeName!=="TR"));)g(m,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:i,handleClick:o,handleContextMenu:s,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,v,g)=>{var m;const y=t,b=PR(p),x=(m=y==null?void 0:y.vnode.el)==null?void 0:m.dataset.prefix;if(b){const P=GG({columns:e.store.states.columns.value},b,x);b.rowSpan>1&&f(b.rowSpan,p,Sl);const O=y.hoverState={cell:b,column:P,row:v};y==null||y.emit("cell-mouse-enter",O.row,O.column,O.cell,p)}if(!g)return;const _=p.target.querySelector(".cell");if(!(xs(_,`${x}-tooltip`)&&_.childNodes.length))return;const S=document.createRange();S.setStart(_,0),S.setEnd(_,_.childNodes.length);const{width:C,height:k}=S.getBoundingClientRect(),{width:T,height:I}=_.getBoundingClientRect(),{top:E,left:A,right:N,bottom:L}=c(_),R=A+N,D=E+L;(FR(C+R,T)||FR(k+D,I)||FR(_.scrollWidth,T))&&N8e(g,b.innerText||b.textContent,b,y)},handleCellMouseLeave:p=>{const v=PR(p);if(!v)return;v.rowSpan>1&&f(v.rowSpan,p,bo);const g=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",g==null?void 0:g.row,g==null?void 0:g.column,g==null?void 0:g.cell,p)},tooltipContent:n,tooltipTrigger:r}}function q8e(e){const t=ht(Jc),n=ze("table");return{getRowStyle:(u,c)=>{const f=t==null?void 0:t.props.rowStyle;return mt(f)?f.call(null,{row:u,rowIndex:c}):f||null},getRowClass:(u,c)=>{const f=[n.e("row")];t!=null&&t.props.highlightCurrentRow&&u===e.store.states.currentRow.value&&f.push("current-row"),e.stripe&&c%2===1&&f.push(n.em("row","striped"));const d=t==null?void 0:t.props.rowClassName;return vt(d)?f.push(d):mt(d)&&f.push(d.call(null,{row:u,rowIndex:c})),f},getCellStyle:(u,c,f,d)=>{const h=t==null?void 0:t.props.cellStyle;let p=h??{};mt(h)&&(p=h.call(null,{rowIndex:u,columnIndex:c,row:f,column:d}));const v=UB(c,e==null?void 0:e.fixed,e.store);return ry(v,"left"),ry(v,"right"),Object.assign({},p,v)},getCellClass:(u,c,f,d,h)=>{const p=HB(n.b(),c,e==null?void 0:e.fixed,e.store,void 0,h),v=[d.id,d.align,d.className,...p],g=t==null?void 0:t.props.cellClassName;return vt(g)?v.push(g):mt(g)&&v.push(g.call(null,{rowIndex:u,columnIndex:c,row:f,column:d})),v.push(n.e("cell")),v.filter(m=>!!m).join(" ")},getSpan:(u,c,f,d)=>{let h=1,p=1;const v=t==null?void 0:t.props.spanMethod;if(mt(v)){const g=v({row:u,column:c,rowIndex:f,columnIndex:d});Ke(g)?(h=g[0],p=g[1]):typeof g=="object"&&(h=g.rowspan,p=g.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(u,c,f)=>{if(c<1)return u[f].realWidth;const d=u.map(({realWidth:h,width:p})=>h||p).slice(f,f+c);return Number(d.reduce((h,p)=>Number(h)+Number(p),-1))}}}const Z8e=se({name:"TableTdWrapper"}),J8e=se({...Z8e,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(z(),q("td",{colspan:e.colspan,rowspan:e.rowspan},[Se(t.$slots,"default")],8,["colspan","rowspan"]))}});var Q8e=Ze(J8e,[["__file","td-wrapper.vue"]]);function e5e(e){const t=ht(Jc),n=ze("table"),{handleDoubleClick:r,handleClick:a,handleContextMenu:i,handleMouseEnter:o,handleMouseLeave:s,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:f}=X8e(e),{getRowStyle:d,getRowClass:h,getCellStyle:p,getCellClass:v,getSpan:g,getColspanRealWidth:m}=q8e(e),y=F(()=>e.store.states.columns.value.findIndex(({type:C})=>C==="default")),b=(C,k)=>{const T=t.props.rowKey;return T?po(C,T):k},x=(C,k,T,I=!1)=>{const{tooltipEffect:E,tooltipOptions:A,store:N}=e,{indent:L,columns:R}=N.states,D=h(C,k);let P=!0;return T&&(D.push(n.em("row",`level-${T.level}`)),P=T.display),Ct("tr",{style:[P?null:{display:"none"},d(C,k)],class:D,key:b(C,k),onDblclick:M=>r(M,C),onClick:M=>a(M,C),onContextmenu:M=>i(M,C),onMouseenter:()=>o(k),onMouseleave:s},R.value.map((M,W)=>{const{rowspan:U,colspan:V}=g(C,M,k,W);if(!U||!V)return null;const H=Object.assign({},M);H.realWidth=m(R.value,V,W);const K={store:e.store,_self:e.context||t,column:H,row:C,$index:k,cellIndex:W,expanded:I};W===y.value&&T&&(K.treeNode={indent:T.level*L.value,level:T.level},lr(T.expanded)&&(K.treeNode.expanded=T.expanded,"loading"in T&&(K.treeNode.loading=T.loading),"noLazyChildren"in T&&(K.treeNode.noLazyChildren=T.noLazyChildren)));const j=`${b(C,k)},${W}`,ne=H.columnKey||H.rawColumnKey||"",Q=M.showOverflowTooltip&&gre({effect:E},A,M.showOverflowTooltip);return Ct(Q8e,{style:p(k,W,C,M),class:v(k,W,C,M,V-1),key:`${ne}${j}`,rowspan:U,colspan:V,onMouseenter:oe=>l(oe,C,Q),onMouseleave:u},{default:()=>_(W,M,K)})}))},_=(C,k,T)=>k.renderCell(T);return{wrappedRowRender:(C,k)=>{const T=e.store,{isRowExpanded:I,assertRowKey:E}=T,{treeData:A,lazyTreeNodeMap:N,childrenColumnName:L,rowKey:R}=T.states,D=T.states.columns.value;if(D.some(({type:O})=>O==="expand")){const O=I(C),M=x(C,k,void 0,O),W=t.renderExpanded;return O?W?[[M,Ct("tr",{key:`expanded-row__${M.key}`},[Ct("td",{colspan:D.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[W({row:C,$index:k,store:T,expanded:O})])])]]:(console.error("[Element Error]renderExpanded is required."),M):[[M]]}else if(Object.keys(A.value).length){E();const O=po(C,R.value);let M=A.value[O],W=null;M&&(W={expanded:M.expanded,level:M.level,display:!0},lr(M.lazy)&&(lr(M.loaded)&&M.loaded&&(W.noLazyChildren=!(M.children&&M.children.length)),W.loading=M.loading));const U=[x(C,k,W)];if(M){let V=0;const H=(j,ne)=>{j&&j.length&&ne&&j.forEach(Q=>{const oe={display:ne.display&&ne.expanded,level:ne.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ae=po(Q,R.value);if(ae==null)throw new Error("For nested data item, row-key is required.");if(M={...A.value[ae]},M&&(oe.expanded=M.expanded,M.level=M.level||oe.level,M.display=!!(M.expanded&&oe.display),lr(M.lazy)&&(lr(M.loaded)&&M.loaded&&(oe.noLazyChildren=!(M.children&&M.children.length)),oe.loading=M.loading)),V++,U.push(x(Q,k+V,oe)),M){const me=N.value[ae]||Q[L.value];H(me,M)}})};M.display=!0;const K=N.value[O]||C[L.value];H(K,M)}return U}else return x(C,k,void 0)},tooltipContent:c,tooltipTrigger:f}}const t5e={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var n5e=se({name:"ElTableBody",props:t5e,setup(e){const t=jt(),n=ht(Jc),r=ze("table"),{wrappedRowRender:a,tooltipContent:i,tooltipTrigger:o}=e5e(e),{onColumnsChange:s,onScrollableChange:l}=ooe(n),u=[];return Oe(e.store.states.hoverRow,(c,f)=>{var d;const h=t==null?void 0:t.vnode.el,p=Array.from((h==null?void 0:h.children)||[]).filter(m=>m==null?void 0:m.classList.contains(`${r.e("row")}`));let v=c;const g=(d=p[v])==null?void 0:d.childNodes;if(g!=null&&g.length){let m=0;Array.from(g).reduce((b,x,_)=>{var S,C;return((S=g[_])==null?void 0:S.colSpan)>1&&(m=(C=g[_])==null?void 0:C.colSpan),x.nodeName!=="TD"&&m===0&&b.push(_),m>0&&m--,b},[]).forEach(b=>{var x;for(v=c;v>0;){const _=(x=p[v-1])==null?void 0:x.childNodes;if(_[b]&&_[b].nodeName==="TD"&&_[b].rowSpan>1){Sl(_[b],"hover-cell"),u.push(_[b]);break}v--}})}else u.forEach(m=>bo(m,"hover-cell")),u.length=0;!e.store.states.isComplex.value||!wn||Ch(()=>{const m=p[f],y=p[c];m&&!m.classList.contains("hover-fixed-row")&&bo(m,"hover-row"),y&&Sl(y,"hover-row")})}),jc(()=>{var c;(c=ol)==null||c()}),{ns:r,onColumnsChange:s,onScrollableChange:l,wrappedRowRender:a,tooltipContent:i,tooltipTrigger:o}},render(){const{wrappedRowRender:e,store:t}=this,n=t.states.data.value||[];return Ct("tbody",{tabIndex:-1},[n.reduce((r,a)=>r.concat(e(a,r.length)),[])])}});function r5e(){const e=ht(Jc),t=e==null?void 0:e.store,n=F(()=>t.states.fixedLeafColumnsLength.value),r=F(()=>t.states.rightFixedColumns.value.length),a=F(()=>t.states.columns.value.length),i=F(()=>t.states.fixedColumns.value.length),o=F(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:a,leftFixedCount:i,rightFixedCount:o,columns:t.states.columns}}function a5e(e){const{columns:t}=r5e(),n=ze("table");return{getCellClasses:(i,o)=>{const s=i[o],l=[n.e("cell"),s.id,s.align,s.labelClassName,...HB(n.b(),o,s.fixed,e.store)];return s.className&&l.push(s.className),s.children||l.push(n.is("leaf")),l},getCellStyles:(i,o)=>{const s=UB(o,i.fixed,e.store);return ry(s,"left"),ry(s,"right"),s},columns:t}}var i5e=se({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=a5e(e);return{ns:ze("table"),getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:a}=this,i=this.store.states.data.value;let o=[];return r?o=r({columns:e,data:i}):e.forEach((s,l)=>{if(l===0){o[l]=a;return}const u=i.map(h=>Number(h[s.property])),c=[];let f=!0;u.forEach(h=>{if(!Number.isNaN(+h)){f=!1;const p=`${h}`.split(".")[1];c.push(p?p.length:0)}});const d=Math.max.apply(null,c);f?o[l]="":o[l]=u.reduce((h,p)=>{const v=Number(p);return Number.isNaN(+v)?h:Number.parseFloat((h+p).toFixed(Math.min(d,20)))},0)}),Ct(Ct("tfoot",[Ct("tr",{},[...e.map((s,l)=>Ct("td",{key:l,colspan:s.colSpan,rowspan:s.rowSpan,class:n(e,l),style:t(s,l)},[Ct("div",{class:["cell",s.labelClassName]},[o[l]])]))])]))}});function o5e(e){return{setCurrentRow:f=>{e.commit("setCurrentRow",f)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(f,d,h=!0)=>{e.toggleRowSelection(f,d,!1,h),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:f=>{e.clearFilter(f)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(f,d)=>{e.toggleRowExpansionAdapter(f,d)},clearSort:()=>{e.clearSort()},sort:(f,d)=>{e.commit("sort",{prop:f,order:d})},updateKeyChildren:(f,d)=>{e.updateKeyChildren(f,d)}}}function s5e(e,t,n,r){const a=Y(!1),i=Y(null),o=Y(!1),s=O=>{o.value=O},l=Y({width:null,height:null,headerHeight:null}),u=Y(!1),c={display:"inline-block",verticalAlign:"middle"},f=Y(),d=Y(0),h=Y(0),p=Y(0),v=Y(0),g=Y(0);Pi(()=>{t.setHeight(e.height)}),Pi(()=>{t.setMaxHeight(e.maxHeight)}),Oe(()=>[e.currentRowKey,n.states.rowKey],([O,M])=>{!w(M)||!w(O)||n.setCurrentRowKey(`${O}`)},{immediate:!0}),Oe(()=>e.data,O=>{r.store.commit("setData",O)},{immediate:!0,deep:!0}),Pi(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const m=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(O,M)=>{const{pixelX:W,pixelY:U}=M;Math.abs(W)>=Math.abs(U)&&(r.refs.bodyWrapper.scrollLeft+=M.pixelX/5)},b=F(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),x=F(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),_=()=>{b.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(T)};zt(async()=>{await xt(),n.updateColumns(),I(),requestAnimationFrame(_);const O=r.vnode.el,M=r.refs.headerWrapper;e.flexible&&O&&O.parentElement&&(O.parentElement.style.minWidth="0"),l.value={width:f.value=O.offsetWidth,height:O.offsetHeight,headerHeight:e.showHeader&&M?M.offsetHeight:null},n.states.columns.value.forEach(W=>{W.filteredValue&&W.filteredValue.length&&r.store.commit("filterChange",{column:W,values:W.filteredValue,silent:!0})}),r.$ready=!0});const S=(O,M)=>{if(!O)return;const W=Array.from(O.classList).filter(U=>!U.startsWith("is-scrolling-"));W.push(t.scrollX.value?M:"is-scrolling-none"),O.className=W.join(" ")},C=O=>{const{tableWrapper:M}=r.refs;S(M,O)},k=O=>{const{tableWrapper:M}=r.refs;return!!(M&&M.classList.contains(O))},T=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const j="is-scrolling-none";k(j)||C(j);return}const O=r.refs.scrollBarRef.wrapRef;if(!O)return;const{scrollLeft:M,offsetWidth:W,scrollWidth:U}=O,{headerWrapper:V,footerWrapper:H}=r.refs;V&&(V.scrollLeft=M),H&&(H.scrollLeft=M);const K=U-W-1;M>=K?C("is-scrolling-right"):C(M===0?"is-scrolling-left":"is-scrolling-middle")},I=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Zn(r.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),e.fit?Mr(r.vnode.el,E):Zn(window,"resize",E),Mr(r.refs.bodyWrapper,()=>{var O,M;E(),(M=(O=r.refs)==null?void 0:O.scrollBarRef)==null||M.update()}))},E=()=>{var O,M,W,U;const V=r.vnode.el;if(!r.$ready||!V)return;let H=!1;const{width:K,height:j,headerHeight:ne}=l.value,Q=f.value=V.offsetWidth;K!==Q&&(H=!0);const oe=V.offsetHeight;(e.height||b.value)&&j!==oe&&(H=!0);const ae=e.tableLayout==="fixed"?r.refs.headerWrapper:(O=r.refs.tableHeaderRef)==null?void 0:O.$el;e.showHeader&&(ae==null?void 0:ae.offsetHeight)!==ne&&(H=!0),d.value=((M=r.refs.tableWrapper)==null?void 0:M.scrollHeight)||0,p.value=(ae==null?void 0:ae.scrollHeight)||0,v.value=((W=r.refs.footerWrapper)==null?void 0:W.offsetHeight)||0,g.value=((U=r.refs.appendWrapper)==null?void 0:U.offsetHeight)||0,h.value=d.value-p.value-v.value-g.value,H&&(l.value={width:Q,height:oe,headerHeight:e.showHeader&&(ae==null?void 0:ae.offsetHeight)||0},_())},A=pa(),N=F(()=>{const{bodyWidth:O,scrollY:M,gutterWidth:W}=t;return O.value?`${O.value-(M.value?W:0)}px`:""}),L=F(()=>e.maxHeight?"fixed":e.tableLayout),R=F(()=>{if(e.data&&e.data.length)return null;let O="100%";e.height&&h.value&&(O=`${h.value}px`);const M=f.value;return{width:M?`${M}px`:"",height:O}}),D=F(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${p.value+v.value}px)`}:{maxHeight:`${e.maxHeight-p.value-v.value}px`}:{});return{isHidden:a,renderExpanded:i,setDragVisible:s,isGroup:u,handleMouseLeave:m,handleHeaderFooterMousewheel:y,tableSize:A,emptyBlockStyle:R,handleFixedMousewheel:(O,M)=>{const W=r.refs.bodyWrapper;if(Math.abs(M.spinY)>0){const U=W.scrollTop;M.pixelY<0&&U!==0&&O.preventDefault(),M.pixelY>0&&W.scrollHeight-W.clientHeight>U&&O.preventDefault(),W.scrollTop+=Math.ceil(M.pixelY/5)}else W.scrollLeft+=Math.ceil(M.pixelX/5)},resizeProxyVisible:o,bodyWidth:N,resizeState:l,doLayout:_,tableBodyStyles:x,tableLayout:L,scrollbarViewStyle:c,scrollbarStyle:D}}function l5e(e){const t=Y(),n=()=>{const a=e.vnode.el.querySelector(".hidden-columns"),i={childList:!0,subtree:!0},o=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{o.forEach(s=>s())}),t.value.observe(a,i)};zt(()=>{n()}),jc(()=>{var r;(r=t.value)==null||r.disconnect()})}var u5e={data:{type:Array,default:()=>[]},size:xa,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function uoe(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(a=>a.width===void 0)&&(n=[]);const r=a=>{const i={key:`${e.tableLayout}_${a.id}`,style:{},name:void 0};return t?i.style={width:`${a.width}px`}:i.name=a.id,i};return Ct("colgroup",{},n.map(a=>Ct("col",r(a))))}uoe.props=["columns","tableLayout"];const c5e=()=>{const e=Y(),t=(i,o)=>{const s=e.value;s&&s.scrollTo(i,o)},n=(i,o)=>{const s=e.value;s&&Tt(o)&&["Top","Left"].includes(i)&&s[`setScroll${i}`](o)};return{scrollBarRef:e,scrollTo:t,setScrollTop:i=>n("Top",i),setScrollLeft:i=>n("Left",i)}};var XG=!1,iv,YO,XO,KT,jT,coe,YT,qO,ZO,JO,foe,QO,eP,doe,hoe;function fs(){if(!XG){XG=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(QO=/\b(iPhone|iP[ao]d)/.exec(e),eP=/\b(iP[ao]d)/.exec(e),JO=/Android/i.exec(e),doe=/FBAN\/\w+;/i.exec(e),hoe=/Mobile/i.exec(e),foe=!!/Win64/.exec(e),t){iv=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,iv&&document&&document.documentMode&&(iv=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);coe=r?parseFloat(r[1])+4:iv,YO=t[2]?parseFloat(t[2]):NaN,XO=t[3]?parseFloat(t[3]):NaN,KT=t[4]?parseFloat(t[4]):NaN,KT?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),jT=t&&t[1]?parseFloat(t[1]):NaN):jT=NaN}else iv=YO=XO=jT=KT=NaN;if(n){if(n[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);YT=a?parseFloat(a[1].replace("_",".")):!0}else YT=!1;qO=!!n[2],ZO=!!n[3]}else YT=qO=ZO=!1}}var tP={ie:function(){return fs()||iv},ieCompatibilityMode:function(){return fs()||coe>iv},ie64:function(){return tP.ie()&&foe},firefox:function(){return fs()||YO},opera:function(){return fs()||XO},webkit:function(){return fs()||KT},safari:function(){return tP.webkit()},chrome:function(){return fs()||jT},windows:function(){return fs()||qO},osx:function(){return fs()||YT},linux:function(){return fs()||ZO},iphone:function(){return fs()||QO},mobile:function(){return fs()||QO||eP||JO||hoe},nativeApp:function(){return fs()||doe},android:function(){return fs()||JO},ipad:function(){return fs()||eP}},f5e=tP,KC=!!(typeof window<"u"&&window.document&&window.document.createElement),d5e={canUseDOM:KC,canUseWorkers:typeof Worker<"u",canUseEventListeners:KC&&!!(window.addEventListener||window.attachEvent),canUseViewport:KC&&!!window.screen,isInWorker:!KC},poe=d5e,voe;poe.canUseDOM&&(voe=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function h5e(e,t){if(!poe.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r=typeof a[n]=="function"}return!r&&voe&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var p5e=h5e,qG=10,ZG=40,JG=800;function goe(e){var t=0,n=0,r=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*qG,a=n*qG,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||a)&&e.deltaMode&&(e.deltaMode==1?(r*=ZG,a*=ZG):(r*=JG,a*=JG)),r&&!t&&(t=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:a}}goe.getEventType=function(){return f5e.firefox()?"DOMMouseScroll":p5e("wheel")?"wheel":"mousewheel"};var v5e=goe;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const g5e=function(e,t){if(e&&e.addEventListener){const n=function(r){const a=v5e(r);t&&Reflect.apply(t,this,[r,a])};e.addEventListener("wheel",n,{passive:!0})}},m5e={beforeMount(e,t){g5e(e,t.value)}};let y5e=1;const b5e=se({name:"ElTable",directives:{Mousewheel:m5e},components:{TableHeader:Y8e,TableBody:n5e,TableFooter:i5e,ElScrollbar:qc,hColgroup:uoe},props:u5e,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=_n(),n=ze("table"),r=jt();hn(Jc,r);const a=F8e(r,e);r.store=a;const i=new V8e({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=i;const o=F(()=>(a.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,sort:v,updateKeyChildren:g}=o5e(a),{isHidden:m,renderExpanded:y,setDragVisible:b,isGroup:x,handleMouseLeave:_,handleHeaderFooterMousewheel:S,tableSize:C,emptyBlockStyle:k,handleFixedMousewheel:T,resizeProxyVisible:I,bodyWidth:E,resizeState:A,doLayout:N,tableBodyStyles:L,tableLayout:R,scrollbarViewStyle:D,scrollbarStyle:P}=s5e(e,i,a,r),{scrollBarRef:O,scrollTo:M,setScrollLeft:W,setScrollTop:U}=c5e(),V=Cs(N,50),H=`${n.namespace.value}-table_${y5e++}`;r.tableId=H,r.state={isGroup:x,resizeState:A,doLayout:N,debouncedUpdateLayout:V};const K=F(()=>{var Q;return(Q=e.sumText)!=null?Q:t("el.table.sumText")}),j=F(()=>{var Q;return(Q=e.emptyText)!=null?Q:t("el.table.emptyText")}),ne=F(()=>loe(a.states.originColumns.value)[0]);return l5e(r),ar(()=>{V.cancel()}),{ns:n,layout:i,store:a,columns:ne,handleHeaderFooterMousewheel:S,handleMouseLeave:_,tableId:H,tableSize:C,isHidden:m,isEmpty:o,renderExpanded:y,resizeProxyVisible:I,resizeState:A,isGroup:x,bodyWidth:E,tableBodyStyles:L,emptyBlockStyle:k,debouncedUpdateLayout:V,handleFixedMousewheel:T,setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,doLayout:N,sort:v,updateKeyChildren:g,t,setDragVisible:b,context:r,computedSumText:K,computedEmptyText:j,tableLayout:R,scrollbarViewStyle:D,scrollbarStyle:P,scrollBarRef:O,scrollTo:M,setScrollLeft:W,setScrollTop:U}}});function x5e(e,t,n,r,a,i){const o=Ft("hColgroup"),s=Ft("table-header"),l=Ft("table-body"),u=Ft("table-footer"),c=Ft("el-scrollbar"),f=v_("mousewheel");return z(),q("div",{ref:"tableWrapper",class:G([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:yt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[Z("div",{class:G(e.ns.e("inner-wrapper"))},[Z("div",{ref:"hiddenColumns",class:"hidden-columns"},[Se(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Vt((z(),q("div",{key:0,ref:"headerWrapper",class:G(e.ns.e("header-wrapper"))},[Z("table",{ref:"tableHeader",class:G(e.ns.e("header")),style:yt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ie(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ie(s,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[f,e.handleHeaderFooterMousewheel]]):Te("v-if",!0),Z("div",{ref:"bodyWrapper",class:G(e.ns.e("body-wrapper"))},[ie(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,onScroll:d=>e.$emit("scroll",d)},{default:fe(()=>[Z("table",{ref:"tableBody",class:G(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:yt({width:e.bodyWidth,tableLayout:e.tableLayout})},[ie(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(z(),Ae(s,{key:0,ref:"tableHeaderRef",class:G(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Te("v-if",!0),ie(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(z(),Ae(u,{key:1,class:G(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Te("v-if",!0)],6),e.isEmpty?(z(),q("div",{key:0,ref:"emptyBlock",style:yt(e.emptyBlockStyle),class:G(e.ns.e("empty-block"))},[Z("span",{class:G(e.ns.e("empty-text"))},[Se(e.$slots,"empty",{},()=>[Kt(Ve(e.computedEmptyText),1)])],2)],6)):Te("v-if",!0),e.$slots.append?(z(),q("div",{key:1,ref:"appendWrapper",class:G(e.ns.e("append-wrapper"))},[Se(e.$slots,"append")],2)):Te("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),e.showSummary&&e.tableLayout==="fixed"?Vt((z(),q("div",{key:1,ref:"footerWrapper",class:G(e.ns.e("footer-wrapper"))},[Z("table",{class:G(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:yt(e.tableBodyStyles)},[ie(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ie(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[En,!e.isEmpty],[f,e.handleHeaderFooterMousewheel]]):Te("v-if",!0),e.border||e.isGroup?(z(),q("div",{key:2,class:G(e.ns.e("border-left-patch"))},null,2)):Te("v-if",!0)],2),Vt(Z("div",{ref:"resizeProxy",class:G(e.ns.e("column-resize-proxy"))},null,2),[[En,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var w5e=Ze(b5e,[["render",x5e],["__file","table.vue"]]);const _5e={selection:"table-column--selection",expand:"table__expand-column"},S5e={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},C5e=e=>_5e[e]||"",T5e={selection:{renderHeader({store:e,column:t}){function n(){return e.states.data.value&&e.states.data.value.length===0}return Ct(Ll,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:n,$index:r}){return Ct(Ll,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:a=>a.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return Tt(r)?n=t+r:mt(r)&&(n=r(t)),Ct("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,a=[r.e("expand-icon")];return n&&a.push(r.em("expand-icon","expanded")),Ct("div",{class:a,onClick:function(o){o.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[Ct(pt,null,{default:()=>[Ct(Yo)]})]})},sortable:!1,resizable:!1}};function k5e({row:e,column:t,$index:n}){var r;const a=t.property,i=a&&ET(e,a).value;return t&&t.formatter?t.formatter(e,t,i,n):((r=i==null?void 0:i.toString)==null?void 0:r.call(i))||""}function I5e({row:e,treeNode:t,store:n},r=!1){const{ns:a}=n;if(!t)return r?[Ct("span",{class:a.e("placeholder")})]:null;const i=[],o=function(s){s.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&i.push(Ct("span",{class:a.e("indent"),style:{"padding-left":`${t.indent}px`}})),lr(t.expanded)&&!t.noLazyChildren){const s=[a.e("expand-icon"),t.expanded?a.em("expand-icon","expanded"):""];let l=Yo;t.loading&&(l=Nu),i.push(Ct("div",{class:s,onClick:o},{default:()=>[Ct(pt,{class:{[a.is("loading")]:t.loading}},{default:()=>[Ct(l)]})]}))}else i.push(Ct("span",{class:a.e("placeholder")}));return i}function QG(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function E5e(e,t){const n=jt();return{registerComplexWatchers:()=>{const i=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},s=QG(i,o);Object.keys(s).forEach(l=>{const u=o[l];Dn(t,u)&&Oe(()=>t[u],c=>{let f=c;u==="width"&&l==="realWidth"&&(f=WB(c)),u==="minWidth"&&l==="realMinWidth"&&(f=toe(c)),n.columnConfig.value[u]=f,n.columnConfig.value[l]=f;const d=u==="fixed";e.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const i=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},s=QG(i,o);Object.keys(s).forEach(l=>{const u=o[l];Dn(t,u)&&Oe(()=>t[u],c=>{n.columnConfig.value[l]=c})})}}}function A5e(e,t,n){const r=jt(),a=Y(""),i=Y(!1),o=Y(),s=Y(),l=ze("table");Pi(()=>{o.value=e.align?`is-${e.align}`:null,o.value}),Pi(()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:o.value,s.value});const u=F(()=>{let x=r.vnode.vParent||r.parent;for(;x&&!x.tableId&&!x.columnId;)x=x.vnode.vParent||x.parent;return x}),c=F(()=>{const{store:x}=r.parent;if(!x)return!1;const{treeData:_}=x.states,S=_.value;return S&&Object.keys(S).length>0}),f=Y(WB(e.width)),d=Y(toe(e.minWidth)),h=x=>(f.value&&(x.width=f.value),d.value&&(x.minWidth=d.value),!f.value&&d.value&&(x.width=void 0),x.minWidth||(x.minWidth=80),x.realWidth=Number(x.width===void 0?x.minWidth:x.width),x),p=x=>{const _=x.type,S=T5e[_]||{};Object.keys(S).forEach(k=>{const T=S[k];k!=="className"&&T!==void 0&&(x[k]=T)});const C=C5e(_);if(C){const k=`${w(l.namespace)}-${C}`;x.className=x.className?`${x.className} ${k}`:k}return x},v=x=>{Ke(x)?x.forEach(S=>_(S)):_(x);function _(S){var C;((C=S==null?void 0:S.type)==null?void 0:C.name)==="ElTableColumn"&&(S.vParent=r)}};return{columnId:a,realAlign:o,isSubColumn:i,realHeaderAlign:s,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:x=>{e.renderHeader||x.type!=="selection"&&(x.renderHeader=S=>(r.columnConfig.value.label,Se(t,"header",S,()=>[x.label]))),t["filter-icon"]&&(x.renderFilterIcon=S=>Se(t,"filter-icon",S));let _=x.renderCell;return x.type==="expand"?(x.renderCell=S=>Ct("div",{class:"cell"},[_(S)]),n.value.renderExpanded=S=>t.default?t.default(S):t.default):(_=_||k5e,x.renderCell=S=>{let C=null;if(t.default){const N=t.default(S);C=N.some(L=>L.type!==ti)?N:_(S)}else C=_(S);const{columns:k}=n.value.store.states,T=k.value.findIndex(N=>N.type==="default"),I=c.value&&S.cellIndex===T,E=I5e(S,I),A={class:"cell",style:{}};return x.showOverflowTooltip&&(A.class=`${A.class} ${w(l.namespace)}-tooltip`,A.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),v(C),Ct("div",A,[E,C])}),x},getPropsData:(...x)=>x.reduce((_,S)=>(Ke(S)&&S.forEach(C=>{_[C]=e[C]}),_),{}),getColumnElIndex:(x,_)=>Array.prototype.indexOf.call(x,_),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var D5e={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let N5e=1;var moe=se({name:"ElTableColumn",components:{ElCheckbox:Ll},props:D5e,setup(e,{slots:t}){const n=jt(),r=Y({}),a=F(()=>{let b=n.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:i,registerComplexWatchers:o}=E5e(a,e),{columnId:s,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:f,setColumnForcedProps:d,setColumnRenders:h,getPropsData:p,getColumnElIndex:v,realAlign:g,updateColumnOrder:m}=A5e(e,t,a),y=c.value;s.value=`${y.tableId||y.columnId}_column_${N5e++}`,tA(()=>{l.value=a.value!==y;const b=e.type||"default",x=e.sortable===""?!0:e.sortable,_=qn(e.showOverflowTooltip)?y.props.showOverflowTooltip:e.showOverflowTooltip,S={...S5e[b],id:s.value,type:b,property:e.prop||e.property,align:g,headerAlign:u,showOverflowTooltip:_,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:x,index:e.index,rawColumnKey:n.vnode.key};let E=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);E=I8e(S,E),E=A8e(h,f,d)(E),r.value=E,i(),o()}),zt(()=>{var b;const x=c.value,_=l.value?x.vnode.el.children:(b=x.refs.hiddenColumns)==null?void 0:b.children,S=()=>v(_||[],n.vnode.el);r.value.getColumnIndex=S,S()>-1&&a.value.store.commit("insertColumn",r.value,l.value?x.columnConfig.value:null,m)}),ar(()=>{const b=r.value.getColumnIndex;(b?b():-1)>-1&&a.value.store.commit("removeColumn",r.value,l.value?y.columnConfig.value:null,m)}),n.columnId=s.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),a=[];if(Ke(r))for(const o of r)((n=o.type)==null?void 0:n.name)==="ElTableColumn"||o.shapeFlag&2?a.push(o):o.type===gt&&Ke(o.children)&&o.children.forEach(s=>{(s==null?void 0:s.patchFlag)!==1024&&!vt(s==null?void 0:s.children)&&a.push(s)});return Ct("div",a)}catch{return Ct("div",[])}}});const R5e=Bt(w5e,{TableColumn:moe}),M5e=Ur(moe);var ow=(e=>(e.ASC="asc",e.DESC="desc",e))(ow||{}),sw=(e=>(e.CENTER="center",e.RIGHT="right",e))(sw||{}),yoe=(e=>(e.LEFT="left",e.RIGHT="right",e))(yoe||{});const nP={asc:"desc",desc:"asc"},lw=Symbol("placeholder"),$5e=(e,t,n)=>{var r;const a={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(a.flexShrink=1);const i={...(r=e.style)!=null?r:{},...a,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function L5e(e,t,n){const r=F(()=>w(t).map((g,m)=>{var y,b;return{...g,key:(b=(y=g.key)!=null?y:g.dataKey)!=null?b:m}})),a=F(()=>w(r).filter(g=>!g.hidden)),i=F(()=>w(a).filter(g=>g.fixed==="left"||g.fixed===!0)),o=F(()=>w(a).filter(g=>g.fixed==="right")),s=F(()=>w(a).filter(g=>!g.fixed)),l=F(()=>{const g=[];return w(i).forEach(m=>{g.push({...m,placeholderSign:lw})}),w(s).forEach(m=>{g.push(m)}),w(o).forEach(m=>{g.push({...m,placeholderSign:lw})}),g}),u=F(()=>w(i).length||w(o).length),c=F(()=>w(r).reduce((g,m)=>(g[m.key]=$5e(m,w(n),e.fixed),g),{})),f=F(()=>w(a).reduce((g,m)=>g+m.width,0)),d=g=>w(r).find(m=>m.key===g),h=g=>w(c)[g],p=(g,m)=>{g.width=m};function v(g){var m;const{key:y}=g.currentTarget.dataset;if(!y)return;const{sortState:b,sortBy:x}=e;let _=ow.ASC;qt(b)?_=nP[b[y]]:_=nP[x.order],(m=e.onColumnSort)==null||m.call(e,{column:d(y),key:y,order:_})}return{columns:r,columnsStyles:c,columnsTotalWidth:f,fixedColumnsOnLeft:i,fixedColumnsOnRight:o,hasFixedColumns:u,mainColumns:l,normalColumns:s,visibleColumns:a,getColumn:d,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:v}}const O5e=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:a})=>{const i=Y({scrollLeft:0,scrollTop:0});function o(h){var p,v,g;const{scrollTop:m}=h;(p=t.value)==null||p.scrollTo(h),(v=n.value)==null||v.scrollToTop(m),(g=r.value)==null||g.scrollToTop(m)}function s(h){i.value=h,o(h)}function l(h){i.value.scrollTop=h,o(w(i))}function u(h){var p,v;i.value.scrollLeft=h,(v=(p=t.value)==null?void 0:p.scrollTo)==null||v.call(p,w(i))}function c(h){var p;s(h),(p=e.onScroll)==null||p.call(e,h)}function f({scrollTop:h}){const{scrollTop:p}=w(i);h!==p&&l(h)}function d(h,p="auto"){var v;(v=t.value)==null||v.scrollToRow(h,p)}return Oe(()=>w(i).scrollTop,(h,p)=>{h>p&&a()}),{scrollPos:i,scrollTo:s,scrollToLeft:u,scrollToTop:l,scrollToRow:d,onScroll:c,onVerticalScroll:f}},P5e=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:a,ns:i,isScrolling:o})=>{const s=jt(),{emit:l}=s,u=dr(!1),c=Y(e.defaultExpandedRowKeys||[]),f=Y(-1),d=dr(null),h=Y({}),p=Y({}),v=dr({}),g=dr({}),m=dr({}),y=F(()=>Tt(e.estimatedRowHeight));function b(I){var E;(E=e.onRowsRendered)==null||E.call(e,I),I.rowCacheEnd>w(f)&&(f.value=I.rowCacheEnd)}function x({hovered:I,rowKey:E}){if(o.value)return;a.vnode.el.querySelectorAll(`[rowkey="${String(E)}"]`).forEach(L=>{I?L.classList.add(i.is("hovered")):L.classList.remove(i.is("hovered"))})}function _({expanded:I,rowData:E,rowIndex:A,rowKey:N}){var L,R;const D=[...w(c)],P=D.indexOf(N);I?P===-1&&D.push(N):P>-1&&D.splice(P,1),c.value=D,l("update:expandedRowKeys",D),(L=e.onRowExpand)==null||L.call(e,{expanded:I,rowData:E,rowIndex:A,rowKey:N}),(R=e.onExpandedRowsChange)==null||R.call(e,D)}const S=Cs(()=>{var I,E,A,N;u.value=!0,h.value={...w(h),...w(p)},C(w(d),!1),p.value={},d.value=null,(I=t.value)==null||I.forceUpdate(),(E=n.value)==null||E.forceUpdate(),(A=r.value)==null||A.forceUpdate(),(N=s.proxy)==null||N.$forceUpdate(),u.value=!1},0);function C(I,E=!1){w(y)&&[t,n,r].forEach(A=>{const N=w(A);N&&N.resetAfterRowIndex(I,E)})}function k(I,E,A){const N=w(d);(N===null||N>A)&&(d.value=A),p.value[I]=E}function T({rowKey:I,height:E,rowIndex:A},N){N?N===yoe.RIGHT?m.value[I]=E:v.value[I]=E:g.value[I]=E;const L=Math.max(...[v,m,g].map(R=>R.value[I]||0));w(h)[I]!==L&&(k(I,L,A),S())}return{expandedRowKeys:c,lastRenderedRowIndex:f,isDynamic:y,isResetting:u,rowHeights:h,resetAfterIndex:C,onRowExpanded:_,onRowHovered:x,onRowsRendered:b,onRowHeightChange:T}},F5e=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const a=Y({}),i=F(()=>{const s={},{data:l,rowKey:u}=e,c=w(t);if(!c||!c.length)return l;const f=[],d=new Set;c.forEach(p=>d.add(p));let h=l.slice();for(h.forEach(p=>s[p[u]]=0);h.length>0;){const p=h.shift();f.push(p),d.has(p[u])&&Ke(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(v=>s[v[u]]=s[p[u]]+1))}return a.value=s,f}),o=F(()=>{const{data:s,expandColumnKey:l}=e;return l?w(i):s});return Oe(o,(s,l)=>{s!==l&&(n.value=-1,r(0,!0))}),{data:o,depthMap:a}},B5e=(e,t)=>e+t,XT=e=>Ke(e)?e.reduce(B5e,0):e,ig=(e,t,n={})=>mt(e)?e(t):e??n,Gd=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=ta(e[t])}),e),boe=e=>$r(e)?t=>Ct(e,t):e,V5e=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:a})=>{const i=F(()=>{const{fixed:y,width:b,vScrollbarSize:x}=e,_=b-x;return y?Math.max(Math.round(w(t)),_):_}),o=F(()=>w(i)+e.vScrollbarSize),s=F(()=>{const{height:y=0,maxHeight:b=0,footerHeight:x,hScrollbarSize:_}=e;if(b>0){const S=w(h),C=w(n),T=w(d)+S+C+_;return Math.min(T,b-x)}return y-x}),l=F(()=>{const{maxHeight:y}=e,b=w(s);if(Tt(y)&&y>0)return b;const x=w(n)+w(d)+w(h);return Math.min(b,x)}),u=y=>y.width,c=F(()=>XT(w(r).map(u))),f=F(()=>XT(w(a).map(u))),d=F(()=>XT(e.headerHeight)),h=F(()=>{var y;return(((y=e.fixedData)==null?void 0:y.length)||0)*e.rowHeight}),p=F(()=>w(s)-w(d)-w(h)),v=F(()=>{const{style:y={},height:b,width:x}=e;return Gd({...y,height:b,width:x})}),g=F(()=>Gd({height:e.footerHeight})),m=F(()=>({top:ta(w(d)),bottom:ta(e.footerHeight),width:ta(e.width)}));return{bodyWidth:i,fixedTableHeight:l,mainTableHeight:s,leftTableWidth:c,rightTableWidth:f,headerWidth:o,windowHeight:p,footerHeight:g,emptyStyle:m,rootStyle:v,headerHeight:d}};function z5e(e){const t=Y(),n=Y(),r=Y(),{columns:a,columnsStyles:i,columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:f}=L5e(e,Wn(e,"columns"),Wn(e,"fixed")),{scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:v,onScroll:g,onVerticalScroll:m,scrollPos:y}=O5e(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:re}),b=ze("table-v2"),x=jt(),_=dr(!1),{expandedRowKeys:S,lastRenderedRowIndex:C,isDynamic:k,isResetting:T,rowHeights:I,resetAfterIndex:E,onRowExpanded:A,onRowHeightChange:N,onRowHovered:L,onRowsRendered:R}=P5e(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:x,ns:b,isScrolling:_}),{data:D,depthMap:P}=F5e(e,{expandedRowKeys:S,lastRenderedRowIndex:C,resetAfterIndex:E}),O=F(()=>{const{estimatedRowHeight:ge,rowHeight:Ie}=e,Ce=w(D);return Tt(ge)?Object.values(w(I)).reduce((he,J)=>he+J,0):Ce.length*Ie}),{bodyWidth:M,fixedTableHeight:W,mainTableHeight:U,leftTableWidth:V,rightTableWidth:H,headerWidth:K,windowHeight:j,footerHeight:ne,emptyStyle:Q,rootStyle:oe,headerHeight:ae}=V5e(e,{columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,rowsHeight:O}),me=Y(),ve=F(()=>{const ge=w(D).length===0;return Ke(e.fixedData)?e.fixedData.length===0&&ge:ge});function B(ge){const{estimatedRowHeight:Ie,rowHeight:Ce,rowKey:he}=e;return Ie?w(I)[w(D)[ge][he]]||Ie:Ce}function re(){const{onEndReached:ge}=e;if(!ge)return;const{scrollTop:Ie}=w(y),Ce=w(O),he=w(j),J=Ce-(Ie+he)+e.hScrollbarSize;w(C)>=0&&Ce===Ie+w(U)-w(ae)&&ge(J)}return Oe(()=>e.expandedRowKeys,ge=>S.value=ge,{deep:!0}),{columns:a,containerRef:me,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:k,isResetting:T,isScrolling:_,hasFixedColumns:u,columnsStyles:i,columnsTotalWidth:o,data:D,expandedRowKeys:S,depthMap:P,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:M,emptyStyle:Q,rootStyle:oe,headerWidth:K,footerHeight:ne,mainTableHeight:U,fixedTableHeight:W,leftTableWidth:V,rightTableWidth:H,showEmpty:ve,getRowHeight:B,onColumnSorted:f,onRowHovered:L,onRowExpanded:A,onRowsRendered:R,onRowHeightChange:N,scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:v,onScroll:g,onVerticalScroll:m}}const GB=Symbol("tableV2"),xoe=String,E_={type:be(Array),required:!0},KB={type:be(Array)},woe={...KB,required:!0},W5e=String,e9={type:be(Array),default:()=>zr([])},ov={type:Number,required:!0},_oe={type:be([String,Number,Symbol]),default:"id"},t9={type:be(Object)},bv=je({class:String,columns:E_,columnsStyles:{type:be(Object),required:!0},depth:Number,expandColumnKey:W5e,estimatedRowHeight:{...Ov.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:be(Function)},onRowHover:{type:be(Function)},onRowHeightChange:{type:be(Function)},rowData:{type:be(Object),required:!0},rowEventHandlers:{type:be(Object)},rowIndex:{type:Number,required:!0},rowKey:_oe,style:{type:be(Object)}}),BR={type:Number,required:!0},jB=je({class:String,columns:E_,fixedHeaderData:{type:be(Array)},headerData:{type:be(Array),required:!0},headerHeight:{type:be([Number,Array]),default:50},rowWidth:BR,rowHeight:{type:Number,default:50},height:BR,width:BR}),qT=je({columns:E_,data:woe,fixedData:KB,estimatedRowHeight:bv.estimatedRowHeight,width:ov,height:ov,headerWidth:ov,headerHeight:jB.headerHeight,bodyWidth:ov,rowHeight:ov,cache:Wie.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Ov.scrollbarAlwaysOn,scrollbarStartGap:Ov.scrollbarStartGap,scrollbarEndGap:Ov.scrollbarEndGap,class:xoe,style:t9,containerStyle:t9,getRowHeight:{type:be(Function),required:!0},rowKey:bv.rowKey,onRowsRendered:{type:be(Function)},onScroll:{type:be(Function)}}),H5e=je({cache:qT.cache,estimatedRowHeight:bv.estimatedRowHeight,rowKey:_oe,headerClass:{type:be([String,Function])},headerProps:{type:be([Object,Function])},headerCellProps:{type:be([Object,Function])},headerHeight:jB.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:be([String,Function])},rowProps:{type:be([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:be([Object,Function])},columns:E_,data:woe,dataGetter:{type:be(Function)},fixedData:KB,expandColumnKey:bv.expandColumnKey,expandedRowKeys:e9,defaultExpandedRowKeys:e9,class:xoe,fixed:Boolean,style:{type:be(Object)},width:ov,height:ov,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Ov.hScrollbarSize,vScrollbarSize:Ov.vScrollbarSize,scrollbarAlwaysOn:Gie.alwaysOn,sortBy:{type:be(Object),default:()=>({})},sortState:{type:be(Object),default:void 0},onColumnSort:{type:be(Function)},onExpandedRowsChange:{type:be(Function)},onEndReached:{type:be(Function)},onRowExpand:bv.onRowExpand,onScroll:qT.onScroll,onRowsRendered:qT.onRowsRendered,rowEventHandlers:bv.rowEventHandlers}),U5e="ElTableV2Header",G5e=se({name:U5e,props:jB,setup(e,{slots:t,expose:n}){const r=ze("table-v2"),a=ht("tableV2GridScrollLeft"),i=Y(),o=F(()=>Gd({width:e.width,height:e.height})),s=F(()=>Gd({width:e.rowWidth,height:e.height})),l=F(()=>ho(w(e.headerHeight))),u=d=>{const h=w(i);xt(()=>{h!=null&&h.scroll&&h.scroll({left:d})})},c=()=>{const d=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:v}=e;return p==null?void 0:p.map((g,m)=>{var y;const b=Gd({height:v,width:"100%"});return(y=t.fixed)==null?void 0:y.call(t,{class:d,columns:h,rowData:g,rowIndex:-(m+1),style:b})})},f=()=>{const d=r.e("dynamic-header-row"),{columns:h}=e;return w(l).map((p,v)=>{var g;const m=Gd({width:"100%",height:p});return(g=t.dynamic)==null?void 0:g.call(t,{class:d,columns:h,headerIndex:v,style:m})})};return Kc(()=>{a!=null&&a.value&&u(a.value)}),n({scrollToLeft:u}),()=>{if(!(e.height<=0))return ie("div",{ref:i,class:e.class,style:w(o),role:"rowgroup"},[ie("div",{style:w(s),class:r.e("header")},[f(),c()])])}}});var K5e=G5e;const j5e=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},a)=>{let i=null,o=0,s=0;const l=(c,f)=>{const d=c<=0&&t.value||c>=0&&e.value,h=f<=0&&r.value||f>=0&&n.value;return d&&h};return{hasReachedEdge:l,onWheel:c=>{rg(i);let f=c.deltaX,d=c.deltaY;Math.abs(f)>Math.abs(d)?d=0:f=0,c.shiftKey&&d!==0&&(f=d,d=0),!(l(o,s)&&l(o+f,s+d))&&(o+=f,s+=d,c.preventDefault(),i=Ch(()=>{a(o,s),o=0,s=0}))}}},Soe=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:i,getEstimatedTotalWidth:o,getColumnOffset:s,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:f,initCache:d,injectToInstance:h,validateProps:p})=>se({name:e??"ElVirtualList",props:Ov,emits:[Zk,Jk],setup(v,{emit:g,expose:m,slots:y}){const b=ze("vl");p(v);const x=jt(),_=Y(d(v,x));h==null||h(x,_);const S=Y(),C=Y(),k=Y(),T=Y(null),I=Y({isScrolling:!1,scrollLeft:Tt(v.initScrollLeft)?v.initScrollLeft:0,scrollTop:Tt(v.initScrollTop)?v.initScrollTop:0,updateRequested:!1,xAxisScrollDir:cm,yAxisScrollDir:cm}),E=Bie(),A=F(()=>Number.parseInt(`${v.height}`,10)),N=F(()=>Number.parseInt(`${v.width}`,10)),L=F(()=>{const{totalColumn:he,totalRow:J,columnCache:te}=v,{isScrolling:xe,xAxisScrollDir:Ee,scrollLeft:Qe}=w(I);if(he===0||J===0)return[0,0,0,0];const Be=r(v,Qe,w(_)),ce=a(v,Be,Qe,w(_)),Re=!xe||Ee===Qk?Math.max(1,te):1,ct=!xe||Ee===cm?Math.max(1,te):1;return[Math.max(0,Be-Re),Math.max(0,Math.min(he-1,ce+ct)),Be,ce]}),R=F(()=>{const{totalColumn:he,totalRow:J,rowCache:te}=v,{isScrolling:xe,yAxisScrollDir:Ee,scrollTop:Qe}=w(I);if(he===0||J===0)return[0,0,0,0];const Be=c(v,Qe,w(_)),ce=f(v,Be,Qe,w(_)),Re=!xe||Ee===Qk?Math.max(1,te):1,ct=!xe||Ee===cm?Math.max(1,te):1;return[Math.max(0,Be-Re),Math.max(0,Math.min(J-1,ce+ct)),Be,ce]}),D=F(()=>i(v,w(_))),P=F(()=>o(v,w(_))),O=F(()=>{var he;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:v.direction,height:Tt(v.height)?`${v.height}px`:v.height,width:Tt(v.width)?`${v.width}px`:v.width},(he=v.style)!=null?he:{}]}),M=F(()=>{const he=`${w(P)}px`;return{height:`${w(D)}px`,pointerEvents:w(I).isScrolling?"none":void 0,width:he}}),W=()=>{const{totalColumn:he,totalRow:J}=v;if(he>0&&J>0){const[ce,Re,ct,It]=w(L),[wt,Qt,_t,ln]=w(R);g(Zk,{columnCacheStart:ce,columnCacheEnd:Re,rowCacheStart:wt,rowCacheEnd:Qt,columnVisibleStart:ct,columnVisibleEnd:It,rowVisibleStart:_t,rowVisibleEnd:ln})}const{scrollLeft:te,scrollTop:xe,updateRequested:Ee,xAxisScrollDir:Qe,yAxisScrollDir:Be}=w(I);g(Jk,{xAxisScrollDir:Qe,scrollLeft:te,yAxisScrollDir:Be,scrollTop:xe,updateRequested:Ee})},U=he=>{const{clientHeight:J,clientWidth:te,scrollHeight:xe,scrollLeft:Ee,scrollTop:Qe,scrollWidth:Be}=he.currentTarget,ce=w(I);if(ce.scrollTop===Qe&&ce.scrollLeft===Ee)return;let Re=Ee;if(FG(v.direction))switch(tI()){case aw:Re=-Ee;break;case zB:Re=Be-te-Ee;break}I.value={...ce,isScrolling:!0,scrollLeft:Re,scrollTop:Math.max(0,Math.min(Qe,xe-J)),updateRequested:!0,xAxisScrollDir:mv(ce.scrollLeft,Re),yAxisScrollDir:mv(ce.scrollTop,Qe)},xt(()=>oe()),ae(),W()},V=(he,J)=>{const te=w(A),xe=(D.value-te)/J*he;j({scrollTop:Math.min(D.value-te,xe)})},H=(he,J)=>{const te=w(N),xe=(P.value-te)/J*he;j({scrollLeft:Math.min(P.value-te,xe)})},{onWheel:K}=j5e({atXStartEdge:F(()=>I.value.scrollLeft<=0),atXEndEdge:F(()=>I.value.scrollLeft>=P.value-w(N)),atYStartEdge:F(()=>I.value.scrollTop<=0),atYEndEdge:F(()=>I.value.scrollTop>=D.value-w(A))},(he,J)=>{var te,xe,Ee,Qe;(xe=(te=C.value)==null?void 0:te.onMouseUp)==null||xe.call(te),(Qe=(Ee=k.value)==null?void 0:Ee.onMouseUp)==null||Qe.call(Ee);const Be=w(N),ce=w(A);j({scrollLeft:Math.min(I.value.scrollLeft+he,P.value-Be),scrollTop:Math.min(I.value.scrollTop+J,D.value-ce)})});Zn(S,"wheel",K,{passive:!1});const j=({scrollLeft:he=I.value.scrollLeft,scrollTop:J=I.value.scrollTop})=>{he=Math.max(he,0),J=Math.max(J,0);const te=w(I);J===te.scrollTop&&he===te.scrollLeft||(I.value={...te,xAxisScrollDir:mv(te.scrollLeft,he),yAxisScrollDir:mv(te.scrollTop,J),scrollLeft:he,scrollTop:J,updateRequested:!0},xt(()=>oe()),ae(),W())},ne=(he=0,J=0,te=Cl)=>{const xe=w(I);J=Math.max(0,Math.min(J,v.totalColumn-1)),he=Math.max(0,Math.min(he,v.totalRow-1));const Ee=Mre(b.namespace.value),Qe=w(_),Be=i(v,Qe),ce=o(v,Qe);j({scrollLeft:s(v,J,te,xe.scrollLeft,Qe,ce>v.width?Ee:0),scrollTop:l(v,he,te,xe.scrollTop,Qe,Be>v.height?Ee:0)})},Q=(he,J)=>{const{columnWidth:te,direction:xe,rowHeight:Ee}=v,Qe=E.value(t&&te,t&&Ee,t&&xe),Be=`${he},${J}`;if(Dn(Qe,Be))return Qe[Be];{const[,ce]=n(v,J,w(_)),Re=w(_),ct=FG(xe),[It,wt]=u(v,he,Re),[Qt]=n(v,J,Re);return Qe[Be]={position:"absolute",left:ct?void 0:`${ce}px`,right:ct?`${ce}px`:void 0,top:`${wt}px`,height:`${It}px`,width:`${Qt}px`},Qe[Be]}},oe=()=>{I.value.isScrolling=!1,xt(()=>{E.value(-1,null,null)})};zt(()=>{if(!wn)return;const{initScrollLeft:he,initScrollTop:J}=v,te=w(S);te&&(Tt(he)&&(te.scrollLeft=he),Tt(J)&&(te.scrollTop=J)),W()});const ae=()=>{const{direction:he}=v,{scrollLeft:J,scrollTop:te,updateRequested:xe}=w(I),Ee=w(S);if(xe&&Ee){if(he===km)switch(tI()){case aw:{Ee.scrollLeft=-J;break}case VB:{Ee.scrollLeft=J;break}default:{const{clientWidth:Qe,scrollWidth:Be}=Ee;Ee.scrollLeft=Be-Qe-J;break}}else Ee.scrollLeft=Math.max(0,J);Ee.scrollTop=Math.max(0,te)}},{resetAfterColumnIndex:me,resetAfterRowIndex:ve,resetAfter:B}=x.proxy;m({windowRef:S,innerRef:T,getItemStyleCache:E,scrollTo:j,scrollToItem:ne,states:I,resetAfterColumnIndex:me,resetAfterRowIndex:ve,resetAfter:B});const re=()=>{const{scrollbarAlwaysOn:he,scrollbarStartGap:J,scrollbarEndGap:te,totalColumn:xe,totalRow:Ee}=v,Qe=w(N),Be=w(A),ce=w(P),Re=w(D),{scrollLeft:ct,scrollTop:It}=w(I),wt=Ct(GO,{ref:C,alwaysOn:he,startGap:J,endGap:te,class:b.e("horizontal"),clientSize:Qe,layout:"horizontal",onScroll:H,ratio:Qe*100/ce,scrollFrom:ct/(ce-Qe),total:Ee,visible:!0}),Qt=Ct(GO,{ref:k,alwaysOn:he,startGap:J,endGap:te,class:b.e("vertical"),clientSize:Be,layout:"vertical",onScroll:V,ratio:Be*100/Re,scrollFrom:It/(Re-Be),total:xe,visible:!0});return{horizontalScrollbar:wt,verticalScrollbar:Qt}},ge=()=>{var he;const[J,te]=w(L),[xe,Ee]=w(R),{data:Qe,totalColumn:Be,totalRow:ce,useIsScrolling:Re,itemKey:ct}=v,It=[];if(ce>0&&Be>0)for(let wt=xe;wt<=Ee;wt++)for(let Qt=J;Qt<=te;Qt++){const _t=ct({columnIndex:Qt,data:Qe,rowIndex:wt});It.push(Ct(gt,{key:_t},(he=y.default)==null?void 0:he.call(y,{columnIndex:Qt,data:Qe,isScrolling:Re?w(I).isScrolling:void 0,style:Q(wt,Qt),rowIndex:wt})))}return It},Ie=()=>{const he=tn(v.innerElement),J=ge();return[Ct(he,{style:w(M),ref:T},vt(he)?J:{default:()=>J})]};return()=>{const he=tn(v.containerElement),{horizontalScrollbar:J,verticalScrollbar:te}=re(),xe=Ie();return Ct("div",{key:0,class:b.e("wrapper"),role:v.role},[Ct(he,{class:v.className,style:w(O),onScroll:U,ref:S},vt(he)?xe:{default:()=>xe}),J,te])}}}),{max:aI,min:Coe,floor:Toe}=Math,Y5e={column:"columnWidth",row:"rowHeight"},rP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},yf=(e,t,n,r)=>{const[a,i,o]=[n[r],e[Y5e[r]],n[rP[r]]];if(t>o){let s=0;if(o>=0){const l=a[o];s=l.offset+l.size}for(let l=o+1;l<=t;l++){const u=i(l);a[l]={offset:s,size:u},s+=u}n[rP[r]]=t}return a[t]},koe=(e,t,n,r,a,i)=>{for(;n<=r;){const o=n+Toe((r-n)/2),s=yf(e,o,t,i).offset;if(s===a)return o;s<a?n=o+1:r=o-1}return aI(0,n-1)},X5e=(e,t,n,r,a)=>{const i=a==="column"?e.totalColumn:e.totalRow;let o=1;for(;n<i&&yf(e,n,t,a).offset<r;)n+=o,o*=2;return koe(e,t,Toe(n/2),Coe(n,i-1),r,a)},n9=(e,t,n,r)=>{const[a,i]=[t[r],t[rP[r]]];return(i>0?a[i].offset:0)>=n?koe(e,t,0,i,n,r):X5e(e,t,aI(0,i),n,r)},Ioe=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let a=0;if(n>=e&&(n=e-1),n>=0){const s=r[n];a=s.offset+s.size}const o=(e-n-1)*t;return a+o},Eoe=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let a=0;if(r>e&&(r=e-1),r>=0){const s=t[r];a=s.offset+s.size}const o=(e-r-1)*n;return a+o},q5e={column:Eoe,row:Ioe},r9=(e,t,n,r,a,i,o)=>{const[s,l]=[i==="row"?e.height:e.width,q5e[i]],u=yf(e,t,a,i),c=l(e,a),f=aI(0,Coe(c-s,u.offset)),d=aI(0,u.offset-s+o+u.size);switch(n===EA&&(r>=d-s&&r<=f+s?n=Cl:n=vc),n){case nw:return f;case rw:return d;case vc:return Math.round(d+(f-d)/2);case Cl:default:return r>=d&&r<=f?r:d>f||r<d?d:f}},Z5e=Soe({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=yf(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=yf(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,a,i)=>r9(e,t,n,r,a,"column",i),getRowOffset:(e,t,n,r,a,i)=>r9(e,t,n,r,a,"row",i),getColumnStartIndexForOffset:(e,t,n)=>n9(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const a=yf(e,t,r,"column"),i=n+e.width;let o=a.offset+a.size,s=t;for(;s<e.totalColumn-1&&o<i;)s++,o+=yf(e,t,r,"column").size;return s},getEstimatedTotalHeight:Ioe,getEstimatedTotalWidth:Eoe,getRowStartIndexForOffset:(e,t,n)=>n9(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:a,height:i}=e,o=yf(e,t,r,"row"),s=n+i;let l=o.size+o.offset,u=t;for(;u<a-1&&l<s;)u++,l+=yf(e,u,r,"row").size;return u},injectToInstance:(e,t)=>{const n=({columnIndex:i,rowIndex:o},s)=>{var l,u;s=qn(s)?!0:s,Tt(i)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,i-1)),Tt(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),(l=e.exposed)==null||l.getItemStyleCache.value(-1,null,null),s&&((u=e.proxy)==null||u.$forceUpdate())},r=(i,o)=>{n({columnIndex:i},o)},a=(i,o)=>{n({rowIndex:i},o)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:a,resetAfter:n})},initCache:({estimatedColumnWidth:e=BO,estimatedRowHeight:t=BO})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),J5e=Soe({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,a,i,o,s)=>{n=Number(n);const l=Math.max(0,e*t-n),u=Math.min(l,r*t),c=Math.max(0,r*t-n+s+t);switch(a==="smart"&&(i>=c-n&&i<=u+n?a=Cl:a=vc),a){case nw:return u;case rw:return c;case vc:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(n/2)?0:f>l+Math.floor(n/2)?l:f}case Cl:default:return i>=c&&i<=u?i:c>u||i<c?c:u}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,a,i,o,s)=>{t=Number(t);const l=Math.max(0,n*e-t),u=Math.min(l,r*e),c=Math.max(0,r*e-t+s+e);switch(a===EA&&(i>=c-t&&i<=u+t?a=Cl:a=vc),a){case nw:return u;case rw:return c;case vc:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(t/2)?0:f>l+Math.floor(t/2)?l:f}case Cl:default:return i>=c&&i<=u?i:c>u||i<c?c:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,a)=>{const i=r*e,o=Math.ceil((n+a-i)/e);return Math.max(0,Math.min(t-1,r+o-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,a)=>{const i=r*e,o=Math.ceil((n+a-i)/e);return Math.max(0,Math.min(t-1,r+o-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Q5e="ElTableV2Grid",eWe=e=>{const t=Y(),n=Y(),r=Y(0),a=F(()=>{const{data:g,rowHeight:m,estimatedRowHeight:y}=e;if(!y)return g.length*m}),i=F(()=>{const{fixedData:g,rowHeight:m}=e;return((g==null?void 0:g.length)||0)*m}),o=F(()=>XT(e.headerHeight)),s=F(()=>{const{height:g}=e;return Math.max(0,g-w(o)-w(i))}),l=F(()=>w(o)+w(i)>0),u=({data:g,rowIndex:m})=>g[m][e.rowKey];function c({rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:y,rowVisibleEnd:b}){var x;(x=e.onRowsRendered)==null||x.call(e,{rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:y,rowVisibleEnd:b})}function f(g,m){var y;(y=n.value)==null||y.resetAfterRowIndex(g,m)}function d(g,m){const y=w(t),b=w(n);qt(g)?(y==null||y.scrollToLeft(g.scrollLeft),r.value=g.scrollLeft,b==null||b.scrollTo(g)):(y==null||y.scrollToLeft(g),r.value=g,b==null||b.scrollTo({scrollLeft:g,scrollTop:m}))}function h(g){var m;(m=w(n))==null||m.scrollTo({scrollTop:g})}function p(g,m){var y;(y=w(n))==null||y.scrollToItem(g,1,m)}function v(){var g,m;(g=w(n))==null||g.$forceUpdate(),(m=w(t))==null||m.$forceUpdate()}return{bodyRef:n,forceUpdate:v,fixedRowHeight:i,gridHeight:s,hasHeader:l,headerHeight:o,headerRef:t,totalHeight:a,itemKey:u,onItemRendered:c,resetAfterRowIndex:f,scrollTo:d,scrollToTop:h,scrollToRow:p,scrollLeft:r}},tWe=se({name:Q5e,props:qT,setup(e,{slots:t,expose:n}){const{ns:r}=ht(GB),{bodyRef:a,fixedRowHeight:i,gridHeight:o,hasHeader:s,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:f,itemKey:d,onItemRendered:h,resetAfterRowIndex:p,scrollTo:v,scrollToTop:g,scrollToRow:m,scrollLeft:y}=eWe(e);hn("tableV2GridScrollLeft",y),n({forceUpdate:f,totalHeight:c,scrollTo:v,scrollToTop:g,scrollToRow:m,resetAfterRowIndex:p});const b=()=>e.bodyWidth;return()=>{const{cache:x,columns:_,data:S,fixedData:C,useIsScrolling:k,scrollbarAlwaysOn:T,scrollbarEndGap:I,scrollbarStartGap:E,style:A,rowHeight:N,bodyWidth:L,estimatedRowHeight:R,headerWidth:D,height:P,width:O,getRowHeight:M,onScroll:W}=e,U=Tt(R),V=U?Z5e:J5e,H=w(u);return ie("div",{role:"table",class:[r.e("table"),e.class],style:A},[ie(V,{ref:a,data:S,useIsScrolling:k,itemKey:d,columnCache:0,columnWidth:U?b:L,totalColumn:1,totalRow:S.length,rowCache:x,rowHeight:U?M:N,width:O,height:w(o),class:r.e("body"),role:"rowgroup",scrollbarStartGap:E,scrollbarEndGap:I,scrollbarAlwaysOn:T,onScroll:W,onItemRendered:h,perfMode:!1},{default:K=>{var j;const ne=S[K.rowIndex];return(j=t.row)==null?void 0:j.call(t,{...K,columns:_,rowData:ne})}}),w(s)&&ie(K5e,{ref:l,class:r.e("header-wrapper"),columns:_,headerData:S,headerHeight:e.headerHeight,fixedHeaderData:C,rowWidth:D,rowHeight:N,width:O,height:Math.min(H+w(i),P)},{dynamic:t.header,fixed:t.row})])}}});var YB=tWe;function nWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const rWe=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return ie(YB,rn({ref:n},r),nWe(t)?t:{default:()=>[t]})};var aWe=rWe;function iWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const oWe=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return ie(YB,rn({ref:n},r),iWe(t)?t:{default:()=>[t]})};var sWe=oWe;function lWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const uWe=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return ie(YB,rn({ref:n},r),lWe(t)?t:{default:()=>[t]})};var cWe=uWe;const fWe=e=>{const{isScrolling:t}=ht(GB),n=Y(!1),r=Y(),a=F(()=>Tt(e.estimatedRowHeight)&&e.rowIndex>=0),i=(l=!1)=>{const u=w(r);if(!u)return;const{columns:c,onRowHeightChange:f,rowKey:d,rowIndex:h,style:p}=e,{height:v}=u.getBoundingClientRect();n.value=!0,xt(()=>{if(l||v!==Number.parseInt(p.height)){const g=c[0],m=(g==null?void 0:g.placeholderSign)===lw;f==null||f({rowKey:d,height:v,rowIndex:h},g&&!m&&g.fixed)}})},o=F(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:f}=e,d=e.rowEventHandlers||{},h={};return Object.entries(d).forEach(([p,v])=>{mt(v)&&(h[p]=g=>{v({event:g,rowData:l,rowIndex:u,rowKey:c})})}),f&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:v})=>{const g=h[p];h[p]=m=>{f({event:m,hovered:v,rowData:l,rowIndex:u,rowKey:c}),g==null||g(m)}}),h}),s=l=>{const{onRowExpand:u,rowData:c,rowIndex:f,rowKey:d}=e;u==null||u({expanded:l,rowData:c,rowIndex:f,rowKey:d})};return zt(()=>{w(a)&&i(!0)}),{isScrolling:t,measurable:a,measured:n,rowRef:r,eventHandlers:o,onExpand:s}},dWe="ElTableV2TableRow",hWe=se({name:dWe,props:bv,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:a,isScrolling:i,measurable:o,measured:s,rowRef:l,onExpand:u}=fWe(e);return t({onExpand:u}),()=>{const{columns:c,columnsStyles:f,expandColumnKey:d,depth:h,rowData:p,rowIndex:v,style:g}=e;let m=c.map((y,b)=>{const x=Ke(p.children)&&p.children.length>0&&y.key===d;return n.cell({column:y,columns:c,columnIndex:b,depth:h,style:f[y.key],rowData:p,rowIndex:v,isScrolling:w(i),expandIconProps:x?{rowData:p,rowIndex:v,onExpand:u}:void 0})});if(n.row&&(m=n.row({cells:m.map(y=>Ke(y)&&y.length===1?y[0]:y),style:g,columns:c,depth:h,rowData:p,rowIndex:v,isScrolling:w(i)})),w(o)){const{height:y,...b}=g||{},x=w(s);return ie("div",rn({ref:l,class:e.class,style:x?g:b,role:"row"},r,w(a)),[m])}return ie("div",rn(r,{ref:l,class:e.class,style:g,role:"row"},w(a)),[m])}}});var pWe=hWe;function vWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const gWe=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:a,expandColumnKey:i,expandedRowKeys:o,estimatedRowHeight:s,hasFixedColumns:l,rowData:u,rowIndex:c,style:f,isScrolling:d,rowProps:h,rowClass:p,rowKey:v,rowEventHandlers:g,ns:m,onRowHovered:y,onRowExpanded:b}=e,x=ig(p,{columns:n,rowData:u,rowIndex:c},""),_=ig(h,{columns:n,rowData:u,rowIndex:c}),S=u[v],C=a[S]||0,k=!!i,T=c<0,I=[m.e("row"),x,{[m.e(`row-depth-${C}`)]:k&&c>=0,[m.is("expanded")]:k&&o.includes(S),[m.is("fixed")]:!C&&T,[m.is("customized")]:!!t.row}],E=l?y:void 0,A={..._,columns:n,columnsStyles:r,class:I,depth:C,expandColumnKey:i,estimatedRowHeight:T?void 0:s,isScrolling:d,rowIndex:c,rowData:u,rowKey:S,rowEventHandlers:g,style:f};return ie(pWe,rn(A,{onRowExpand:b,onMouseenter:R=>{E==null||E({hovered:!0,rowKey:S,event:R,rowData:u,rowIndex:c})},onMouseleave:R=>{E==null||E({hovered:!1,rowKey:S,event:R,rowData:u,rowIndex:c})},rowkey:S}),vWe(t)?t:{default:()=>[t]})};var mWe=gWe;const XB=(e,{slots:t})=>{var n;const{cellData:r,style:a}=e,i=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",o=Se(t,"default",e,()=>[i]);return ie("div",{class:e.class,title:i,style:a},[o])};XB.displayName="ElTableV2Cell";XB.inheritAttrs=!1;var yWe=XB;const bWe=e=>{const{expanded:t,expandable:n,onExpand:r,style:a,size:i}=e,o={onClick:n?()=>r(!t):void 0,class:e.class};return ie(pt,rn(o,{size:i,style:a}),{default:()=>[ie(Yo,null,null)]})};var xWe=bWe;const Aoe=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:a,isScrolling:i,rowData:o,rowIndex:s,style:l,expandedRowKeys:u,ns:c,cellProps:f,expandColumnKey:d,indentSize:h,iconSize:p,rowKey:v},{slots:g})=>{const m=Gd(l);if(t.placeholderSign===lw)return ie("div",{class:c.em("row-cell","placeholder"),style:m},null);const{cellRenderer:y,dataKey:b,dataGetter:x}=t,_=mt(x)?x({columns:e,column:t,columnIndex:n,rowData:o,rowIndex:s}):ca(o,b??""),S=ig(f,{cellData:_,columns:e,column:t,columnIndex:n,rowIndex:s,rowData:o}),C={class:c.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:_,isScrolling:i,rowData:o,rowIndex:s},k=boe(y),T=k?k(C):Se(g,"default",C,()=>[ie(yWe,C,null)]),I=[c.e("row-cell"),t.class,t.align===sw.CENTER&&c.is("align-center"),t.align===sw.RIGHT&&c.is("align-right")],E=s>=0&&d&&t.key===d,A=s>=0&&u.includes(o[v]);let N;const L=`margin-inline-start: ${r*h}px;`;return E&&(qt(a)?N=ie(xWe,rn(a,{class:[c.e("expand-icon"),c.is("expanded",A)],size:p,expanded:A,style:L,expandable:!0}),null):N=ie("div",{style:[L,`width: ${p}px; height: ${p}px;`].join(" ")},null)),ie("div",rn({class:I,style:m},S,{role:"cell"}),[N,T])};Aoe.inheritAttrs=!1;var a9=Aoe;const wWe=je({class:String,columns:E_,columnsStyles:{type:be(Object),required:!0},headerIndex:Number,style:{type:be(Object)}}),_We=se({name:"ElTableV2HeaderRow",props:wWe,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:a,style:i}=e;let o=n.map((s,l)=>t.cell({columns:n,column:s,columnIndex:l,headerIndex:a,style:r[s.key]}));return t.header&&(o=t.header({cells:o.map(s=>Ke(s)&&s.length===1?s[0]:s),columns:n,headerIndex:a})),ie("div",{class:e.class,style:i,role:"row"},[o])}}});var SWe=_We;function CWe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const TWe=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:a,headerProps:i,ns:o},{slots:s})=>{const l={columns:e,headerIndex:n},u=[o.e("header-row"),ig(a,l,""),{[o.is("customized")]:!!s.header}],c={...ig(i,l),columnsStyles:t,class:u,columns:e,headerIndex:n,style:r};return ie(SWe,c,CWe(s)?s:{default:()=>[s]})};var kWe=TWe;const qB=(e,{slots:t})=>Se(t,"default",e,()=>{var n,r;return[ie("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});qB.displayName="ElTableV2HeaderCell";qB.inheritAttrs=!1;var IWe=qB;const EWe=e=>{const{sortOrder:t}=e;return ie(pt,{size:14,class:e.class},{default:()=>[t===ow.ASC?ie(BAe,null,null):ie(PAe,null,null)]})};var AWe=EWe;const DWe=(e,{slots:t})=>{const{column:n,ns:r,style:a,onColumnSorted:i}=e,o=Gd(a);if(n.placeholderSign===lw)return ie("div",{class:r.em("header-row-cell","placeholder"),style:o},null);const{headerCellRenderer:s,headerClass:l,sortable:u}=n,c={...e,class:r.e("header-cell-text")},f=boe(s),d=f?f(c):Se(t,"default",c,()=>[ie(IWe,c,null)]),{sortBy:h,sortState:p,headerCellProps:v}=e;let g,m;if(p){const x=p[n.key];g=!!nP[x],m=g?x:ow.ASC}else g=n.key===h.key,m=g?h.order:ow.ASC;const y=[r.e("header-cell"),ig(l,e,""),n.align===sw.CENTER&&r.is("align-center"),n.align===sw.RIGHT&&r.is("align-right"),u&&r.is("sortable")],b={...ig(v,e),onClick:n.sortable?i:void 0,class:y,style:o,"data-key":n.key};return ie("div",rn(b,{role:"columnheader"}),[d,u&&ie(AWe,{class:[r.e("sort-icon"),g&&r.is("sorting")],sortOrder:m},null)])};var i9=DWe;const Doe=(e,{slots:t})=>{var n;return ie("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};Doe.displayName="ElTableV2Footer";var NWe=Doe;const Noe=(e,{slots:t})=>{const n=Se(t,"default",{},()=>[ie(Cie,null,null)]);return ie("div",{class:e.class,style:e.style},[n])};Noe.displayName="ElTableV2Empty";var RWe=Noe;const Roe=(e,{slots:t})=>{var n;return ie("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};Roe.displayName="ElTableV2Overlay";var MWe=Roe;function V1(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$r(e)}const $We="ElTableV2",LWe=se({name:$We,props:H5e,setup(e,{slots:t,expose:n}){const r=ze("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:i,fixedColumnsOnRight:o,mainColumns:s,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:c,rightTableWidth:f,data:d,depthMap:h,expandedRowKeys:p,hasFixedColumns:v,mainTableRef:g,leftTableRef:m,rightTableRef:y,isDynamic:b,isResetting:x,isScrolling:_,bodyWidth:S,emptyStyle:C,rootStyle:k,headerWidth:T,footerHeight:I,showEmpty:E,scrollTo:A,scrollToLeft:N,scrollToTop:L,scrollToRow:R,getRowHeight:D,onColumnSorted:P,onRowHeightChange:O,onRowHovered:M,onRowExpanded:W,onRowsRendered:U,onScroll:V,onVerticalScroll:H}=z5e(e);return n({scrollTo:A,scrollToLeft:N,scrollToTop:L,scrollToRow:R}),hn(GB,{ns:r,isResetting:x,isScrolling:_}),()=>{const{cache:K,cellProps:j,estimatedRowHeight:ne,expandColumnKey:Q,fixedData:oe,headerHeight:ae,headerClass:me,headerProps:ve,headerCellProps:B,sortBy:re,sortState:ge,rowHeight:Ie,rowClass:Ce,rowEventHandlers:he,rowKey:J,rowProps:te,scrollbarAlwaysOn:xe,indentSize:Ee,iconSize:Qe,useIsScrolling:Be,vScrollbarSize:ce,width:Re}=e,ct=w(d),It={cache:K,class:r.e("main"),columns:w(s),data:ct,fixedData:oe,estimatedRowHeight:ne,bodyWidth:w(S)+ce,headerHeight:ae,headerWidth:w(T),height:w(l),mainTableRef:g,rowKey:J,rowHeight:Ie,scrollbarAlwaysOn:xe,scrollbarStartGap:2,scrollbarEndGap:ce,useIsScrolling:Be,width:Re,getRowHeight:D,onRowsRendered:U,onScroll:V},wt=w(c),Qt=w(u),_t={cache:K,class:r.e("left"),columns:w(i),data:ct,estimatedRowHeight:ne,leftTableRef:m,rowHeight:Ie,bodyWidth:wt,headerWidth:wt,headerHeight:ae,height:Qt,rowKey:J,scrollbarAlwaysOn:xe,scrollbarStartGap:2,scrollbarEndGap:ce,useIsScrolling:Be,width:wt,getRowHeight:D,onScroll:H},Ne=w(f)+ce,nt={cache:K,class:r.e("right"),columns:w(o),data:ct,estimatedRowHeight:ne,rightTableRef:y,rowHeight:Ie,bodyWidth:Ne,headerWidth:Ne,headerHeight:ae,height:Qt,rowKey:J,scrollbarAlwaysOn:xe,scrollbarStartGap:2,scrollbarEndGap:ce,width:Ne,style:`--${w(r.namespace)}-table-scrollbar-size: ${ce}px`,useIsScrolling:Be,getRowHeight:D,onScroll:H},_e=w(a),We={ns:r,depthMap:w(h),columnsStyles:_e,expandColumnKey:Q,expandedRowKeys:w(p),estimatedRowHeight:ne,hasFixedColumns:w(v),rowProps:te,rowClass:Ce,rowKey:J,rowEventHandlers:he,onRowHovered:M,onRowExpanded:W,onRowHeightChange:O},de={cellProps:j,expandColumnKey:Q,indentSize:Ee,iconSize:Qe,rowKey:J,expandedRowKeys:w(p),ns:r},ft={ns:r,headerClass:me,headerProps:ve,columnsStyles:_e},Gt={ns:r,sortBy:re,sortState:ge,headerCellProps:B,onColumnSorted:P},cn={row:ra=>ie(mWe,rn(ra,We),{row:t.row,cell:wr=>{let yn;return t.cell?ie(a9,rn(wr,de,{style:_e[wr.column.key]}),V1(yn=t.cell(wr))?yn:{default:()=>[yn]}):ie(a9,rn(wr,de,{style:_e[wr.column.key]}),null)}}),header:ra=>ie(kWe,rn(ra,ft),{header:t.header,cell:wr=>{let yn;return t["header-cell"]?ie(i9,rn(wr,Gt,{style:_e[wr.column.key]}),V1(yn=t["header-cell"](wr))?yn:{default:()=>[yn]}):ie(i9,rn(wr,Gt,{style:_e[wr.column.key]}),null)}})},ir=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:w(b)}],Eo={class:r.e("footer"),style:w(I)};return ie("div",{class:ir,style:w(k)},[ie(aWe,It,V1(cn)?cn:{default:()=>[cn]}),ie(sWe,_t,V1(cn)?cn:{default:()=>[cn]}),ie(cWe,nt,V1(cn)?cn:{default:()=>[cn]}),t.footer&&ie(NWe,Eo,{default:t.footer}),w(E)&&ie(RWe,{class:r.e("empty"),style:w(C)},{default:t.empty}),t.overlay&&ie(MWe,{class:r.e("overlay")},{default:t.overlay})])}}});var OWe=LWe;const PWe=je({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:be(Function)}}),FWe=e=>{const t=Y(),n=Y(0),r=Y(0);let a;return zt(()=>{a=Mr(t,([i])=>{const{width:o,height:s}=i.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:f}=getComputedStyle(i.target),d=Number.parseInt(l)||0,h=Number.parseInt(u)||0,p=Number.parseInt(c)||0,v=Number.parseInt(f)||0;n.value=o-d-h,r.value=s-p-v}).stop}),ar(()=>{a==null||a()}),Oe([n,r],([i,o])=>{var s;(s=e.onResize)==null||s.call(e,{width:i,height:o})}),{sizer:t,width:n,height:r}},BWe=se({name:"ElAutoResizer",props:PWe,setup(e,{slots:t}){const n=ze("auto-resizer"),{height:r,width:a,sizer:i}=FWe(e),o={width:"100%",height:"100%"};return()=>{var s;return ie("div",{ref:i,class:n.b(),style:o},[(s=t.default)==null?void 0:s.call(t,{height:r.value,width:a.value})])}}});var VWe=BWe;const zWe=Bt(OWe),WWe=Bt(VWe),AA=Symbol("tabsRootContextKey"),HWe=je({tabs:{type:be(Array),default:()=>zr([])}}),Moe="ElTabBar",UWe=se({name:Moe}),GWe=se({...UWe,props:HWe,setup(e,{expose:t}){const n=e,r=jt(),a=ht(AA);a||Na(Moe,"<el-tabs><el-tab-bar /></el-tabs>");const i=ze("tabs"),o=Y(),s=Y(),l=()=>{let h=0,p=0;const v=["top","bottom"].includes(a.props.tabPosition)?"width":"height",g=v==="width"?"x":"y",m=g==="x"?"left":"top";return n.tabs.every(y=>{var b,x;const _=(x=(b=r.parent)==null?void 0:b.refs)==null?void 0:x[`tab-${y.uid}`];if(!_)return!1;if(!y.active)return!0;h=_[`offset${dc(m)}`],p=_[`client${dc(v)}`];const S=window.getComputedStyle(_);return v==="width"&&(p-=Number.parseFloat(S.paddingLeft)+Number.parseFloat(S.paddingRight),h+=Number.parseFloat(S.paddingLeft)),!1}),{[v]:`${p}px`,transform:`translate${dc(g)}(${h}px)`}},u=()=>s.value=l(),c=[],f=()=>{var h;c.forEach(v=>v.stop()),c.length=0;const p=(h=r.parent)==null?void 0:h.refs;if(p){for(const v in p)if(v.startsWith("tab-")){const g=p[v];g&&c.push(Mr(g,u))}}};Oe(()=>n.tabs,async()=>{await xt(),u(),f()},{immediate:!0});const d=Mr(o,()=>u());return ar(()=>{c.forEach(h=>h.stop()),c.length=0,d.stop()}),t({ref:o,update:u}),(h,p)=>(z(),q("div",{ref_key:"barRef",ref:o,class:G([w(i).e("active-bar"),w(i).is(w(a).props.tabPosition)]),style:yt(s.value)},null,6))}});var KWe=Ze(GWe,[["__file","tab-bar.vue"]]);const jWe=je({panes:{type:be(Array),default:()=>zr([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),YWe={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},o9="ElTabNav",XWe=se({name:o9,props:jWe,emits:YWe,setup(e,{expose:t,emit:n}){const r=ht(AA);r||Na(o9,"<el-tabs><tab-nav /></el-tabs>");const a=ze("tabs"),i=QIe(),o=fEe(),s=Y(),l=Y(),u=Y(),c=Y(),f=Y(!1),d=Y(0),h=Y(!1),p=Y(!0),v=F(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),g=F(()=>({transform:`translate${v.value==="width"?"X":"Y"}(-${d.value}px)`})),m=()=>{if(!s.value)return;const k=s.value[`offset${dc(v.value)}`],T=d.value;if(!T)return;const I=T>k?T-k:0;d.value=I},y=()=>{if(!s.value||!l.value)return;const k=l.value[`offset${dc(v.value)}`],T=s.value[`offset${dc(v.value)}`],I=d.value;if(k-I<=T)return;const E=k-I>T*2?I+T:k-T;d.value=E},b=async()=>{const k=l.value;if(!f.value||!u.value||!s.value||!k)return;await xt();const T=u.value.querySelector(".is-active");if(!T)return;const I=s.value,E=["top","bottom"].includes(r.props.tabPosition),A=T.getBoundingClientRect(),N=I.getBoundingClientRect(),L=E?k.offsetWidth-N.width:k.offsetHeight-N.height,R=d.value;let D=R;E?(A.left<N.left&&(D=R-(N.left-A.left)),A.right>N.right&&(D=R+A.right-N.right)):(A.top<N.top&&(D=R-(N.top-A.top)),A.bottom>N.bottom&&(D=R+(A.bottom-N.bottom))),D=Math.max(D,0),d.value=Math.min(D,L)},x=()=>{var k;if(!l.value||!s.value)return;e.stretch&&((k=c.value)==null||k.update());const T=l.value[`offset${dc(v.value)}`],I=s.value[`offset${dc(v.value)}`],E=d.value;I<T?(f.value=f.value||{},f.value.prev=E,f.value.next=E+I<T,T-E<I&&(d.value=T-I)):(f.value=!1,E>0&&(d.value=0))},_=k=>{let T=0;switch(k.code){case lt.left:case lt.up:T=-1;break;case lt.right:case lt.down:T=1;break;default:return}const I=Array.from(k.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let A=I.indexOf(k.target)+T;A<0?A=I.length-1:A>=I.length&&(A=0),I[A].focus({preventScroll:!0}),I[A].click(),S()},S=()=>{p.value&&(h.value=!0)},C=()=>h.value=!1;return Oe(i,k=>{k==="hidden"?p.value=!1:k==="visible"&&setTimeout(()=>p.value=!0,50)}),Oe(o,k=>{k?setTimeout(()=>p.value=!0,50):p.value=!1}),Mr(u,x),zt(()=>setTimeout(()=>b(),0)),Kc(()=>x()),t({scrollToActiveTab:b,removeFocus:C}),()=>{const k=f.value?[ie("span",{class:[a.e("nav-prev"),a.is("disabled",!f.value.prev)],onClick:m},[ie(pt,null,{default:()=>[ie(Th,null,null)]})]),ie("span",{class:[a.e("nav-next"),a.is("disabled",!f.value.next)],onClick:y},[ie(pt,null,{default:()=>[ie(Yo,null,null)]})])]:null,T=e.panes.map((I,E)=>{var A,N,L,R;const D=I.uid,P=I.props.disabled,O=(N=(A=I.props.name)!=null?A:I.index)!=null?N:`${E}`,M=!P&&(I.isClosable||e.editable);I.index=`${E}`;const W=M?ie(pt,{class:"is-icon-close",onClick:H=>n("tabRemove",I,H)},{default:()=>[ie(Du,null,null)]}):null,U=((R=(L=I.slots).label)==null?void 0:R.call(L))||I.props.label,V=!P&&I.active?0:-1;return ie("div",{ref:`tab-${D}`,class:[a.e("item"),a.is(r.props.tabPosition),a.is("active",I.active),a.is("disabled",P),a.is("closable",M),a.is("focus",h.value)],id:`tab-${O}`,key:`tab-${D}`,"aria-controls":`pane-${O}`,role:"tab","aria-selected":I.active,tabindex:V,onFocus:()=>S(),onBlur:()=>C(),onClick:H=>{C(),n("tabClick",I,O,H)},onKeydown:H=>{M&&(H.code===lt.delete||H.code===lt.backspace)&&n("tabRemove",I,H)}},[U,W])});return ie("div",{ref:u,class:[a.e("nav-wrap"),a.is("scrollable",!!f.value),a.is(r.props.tabPosition)]},[k,ie("div",{class:a.e("nav-scroll"),ref:s},[ie("div",{class:[a.e("nav"),a.is(r.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:g.value,role:"tablist",onKeydown:_},[e.type?null:ie(KWe,{ref:c,tabs:[...e.panes]},null),T])])])}}}),qWe=je({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:be(Function),default:()=>!0},stretch:Boolean}),VR=e=>vt(e)||Tt(e),ZWe={[Ht]:e=>VR(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>VR(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>VR(e),tabAdd:()=>!0},JWe=se({name:"ElTabs",props:qWe,emits:ZWe,setup(e,{emit:t,slots:n,expose:r}){var a;const i=ze("tabs"),o=F(()=>["left","right"].includes(e.tabPosition)),{children:s,addChild:l,removeChild:u}=mB(jt(),"ElTabPane"),c=Y(),f=Y((a=e.modelValue)!=null?a:"0"),d=async(m,y=!1)=>{var b,x,_;if(!(f.value===m||qn(m)))try{await((b=e.beforeLeave)==null?void 0:b.call(e,m,f.value))!==!1&&(f.value=m,y&&(t(Ht,m),t("tabChange",m)),(_=(x=c.value)==null?void 0:x.removeFocus)==null||_.call(x))}catch{}},h=(m,y,b)=>{m.props.disabled||(d(y,!0),t("tabClick",m,b))},p=(m,y)=>{m.props.disabled||qn(m.props.name)||(y.stopPropagation(),t("edit",m.props.name,"remove"),t("tabRemove",m.props.name))},v=()=>{t("edit",void 0,"add"),t("tabAdd")};Oe(()=>e.modelValue,m=>d(m)),Oe(f,async()=>{var m;await xt(),(m=c.value)==null||m.scrollToActiveTab()}),hn(AA,{props:e,currentName:f,registerPane:m=>{s.value.push(m)},sortPane:l,unregisterPane:u}),r({currentName:f});const g=({render:m})=>m();return()=>{const m=n["add-icon"],y=e.editable||e.addable?ie("div",{class:[i.e("new-tab"),o.value&&i.e("new-tab-vertical")],tabindex:"0",onClick:v,onKeydown:_=>{[lt.enter,lt.numpadEnter].includes(_.code)&&v()}},[m?Se(n,"add-icon"):ie(pt,{class:i.is("icon-plus")},{default:()=>[ie(Bre,null,null)]})]):null,b=ie("div",{class:[i.e("header"),o.value&&i.e("header-vertical"),i.is(e.tabPosition)]},[ie(g,{render:()=>{const _=s.value.some(S=>S.slots.label);return ie(XWe,{ref:c,currentName:f.value,editable:e.editable,type:e.type,panes:s.value,stretch:e.stretch,onTabClick:h,onTabRemove:p},{$stable:!_})}},null),y]),x=ie("div",{class:i.e("content")},[Se(n,"default")]);return ie("div",{class:[i.b(),i.m(e.tabPosition),{[i.m("card")]:e.type==="card",[i.m("border-card")]:e.type==="border-card"}]},[x,b])}}});var QWe=JWe;const eHe=je({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),$oe="ElTabPane",tHe=se({name:$oe}),nHe=se({...tHe,props:eHe,setup(e){const t=e,n=jt(),r=Sa(),a=ht(AA);a||Na($oe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=ze("tab-pane"),o=Y(),s=F(()=>t.closable||a.props.closable),l=hO(()=>{var h;return a.currentName.value===((h=t.name)!=null?h:o.value)}),u=Y(l.value),c=F(()=>{var h;return(h=t.name)!=null?h:o.value}),f=hO(()=>!t.lazy||u.value||l.value);Oe(l,h=>{h&&(u.value=!0)});const d=Ln({uid:n.uid,slots:r,props:t,paneName:c,active:l,index:o,isClosable:s});return a.registerPane(d),zt(()=>{a.sortPane(d)}),jc(()=>{a.unregisterPane(d.uid)}),(h,p)=>w(f)?Vt((z(),q("div",{key:0,id:`pane-${w(c)}`,class:G(w(i).b()),role:"tabpanel","aria-hidden":!w(l),"aria-labelledby":`tab-${w(c)}`},[Se(h.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[En,w(l)]]):Te("v-if",!0)}});var Loe=Ze(nHe,[["__file","tab-pane.vue"]]);const rHe=Bt(QWe,{TabPane:Loe}),aHe=Ur(Loe),iHe=je({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Yc,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),oHe=se({name:"ElText"}),sHe=se({...oHe,props:iHe,setup(e){const t=e,n=pa(),r=ze("text"),a=F(()=>[r.b(),r.m(t.type),r.m(n.value),r.is("truncated",t.truncated),r.is("line-clamp",!qn(t.lineClamp))]);return(i,o)=>(z(),Ae(tn(i.tag),{class:G(w(a)),style:yt({"-webkit-line-clamp":i.lineClamp})},{default:fe(()=>[Se(i.$slots,"default")]),_:3},8,["class","style"]))}});var lHe=Ze(sHe,[["__file","text.vue"]]);const uHe=Bt(lHe),cHe=je({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:be(String),default:"light"},clearable:{type:Boolean,default:!0},size:xa,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:be([String,Object]),default:()=>Pre},clearIcon:{type:be([String,Object]),default:()=>od},...Wy}),Sf=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),a=e.toUpperCase();return a.includes("AM")&&n===12?n=0:a.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},zR=(e,t)=>{const n=Sf(e);if(!n)return-1;const r=Sf(t);if(!r)return-1;const a=n.minutes+n.hours*60,i=r.minutes+r.hours*60;return a===i?0:a>i?1:-1},s9=e=>`${e}`.padStart(2,"0"),Z0=e=>`${s9(e.hours)}:${s9(e.minutes)}`,fHe=(e,t)=>{const n=Sf(e);if(!n)return"";const r=Sf(t);if(!r)return"";const a={hours:n.hours,minutes:n.minutes};return a.minutes+=r.minutes,a.hours+=r.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,Z0(a)},dHe=se({name:"ElTimeSelect"}),hHe=se({...dHe,props:cHe,emits:["change","blur","focus","clear","update:modelValue"],setup(e,{expose:t}){const n=e;Lt.extend(wB);const{Option:r}=ag,a=ze("input"),i=Y(),o=qi(),{lang:s}=_n(),l=F(()=>n.modelValue),u=F(()=>{const m=Sf(n.start);return m?Z0(m):null}),c=F(()=>{const m=Sf(n.end);return m?Z0(m):null}),f=F(()=>{const m=Sf(n.step);return m?Z0(m):null}),d=F(()=>{const m=Sf(n.minTime||"");return m?Z0(m):null}),h=F(()=>{const m=Sf(n.maxTime||"");return m?Z0(m):null}),p=F(()=>{const m=[];if(n.start&&n.end&&n.step){let y=u.value,b;for(;y&&c.value&&zR(y,c.value)<=0;)b=Lt(y,"HH:mm").locale(s.value).format(n.format),m.push({value:b,disabled:zR(y,d.value||"-1:-1")<=0||zR(y,h.value||"100:100")>=0}),y=fHe(y,f.value)}return m});return t({blur:()=>{var m,y;(y=(m=i.value)==null?void 0:m.blur)==null||y.call(m)},focus:()=>{var m,y;(y=(m=i.value)==null?void 0:m.focus)==null||y.call(m)}}),(m,y)=>(z(),Ae(w(ag),{ref_key:"select",ref:i,"model-value":w(l),disabled:w(o),clearable:m.clearable,"clear-icon":m.clearIcon,size:m.size,effect:m.effect,placeholder:m.placeholder,"default-first-option":"",filterable:m.editable,"empty-values":m.emptyValues,"value-on-clear":m.valueOnClear,"onUpdate:modelValue":b=>m.$emit("update:modelValue",b),onChange:b=>m.$emit("change",b),onBlur:b=>m.$emit("blur",b),onFocus:b=>m.$emit("focus",b),onClear:()=>m.$emit("clear")},{prefix:fe(()=>[m.prefixIcon?(z(),Ae(w(pt),{key:0,class:G(w(a).e("prefix-icon"))},{default:fe(()=>[(z(),Ae(tn(m.prefixIcon)))]),_:1},8,["class"])):Te("v-if",!0)]),default:fe(()=>[(z(!0),q(gt,null,un(w(p),b=>(z(),Ae(w(r),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var pHe=Ze(hHe,[["__file","time-select.vue"]]);const vHe=Bt(pHe),gHe=se({name:"ElTimeline",setup(e,{slots:t}){const n=ze("timeline");return hn("timeline",t),()=>Ct("ul",{class:[n.b()]},[Se(t,"default")])}}),mHe=je({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:er},hollow:Boolean}),yHe=se({name:"ElTimelineItem"}),bHe=se({...yHe,props:mHe,setup(e){const t=e,n=ze("timeline-item"),r=F(()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]);return(a,i)=>(z(),q("li",{class:G([w(n).b(),{[w(n).e("center")]:a.center}])},[Z("div",{class:G(w(n).e("tail"))},null,2),a.$slots.dot?Te("v-if",!0):(z(),q("div",{key:0,class:G(w(r)),style:yt({backgroundColor:a.color})},[a.icon?(z(),Ae(w(pt),{key:0,class:G(w(n).e("icon"))},{default:fe(()=>[(z(),Ae(tn(a.icon)))]),_:1},8,["class"])):Te("v-if",!0)],6)),a.$slots.dot?(z(),q("div",{key:1,class:G(w(n).e("dot"))},[Se(a.$slots,"dot")],2)):Te("v-if",!0),Z("div",{class:G(w(n).e("wrapper"))},[!a.hideTimestamp&&a.placement==="top"?(z(),q("div",{key:0,class:G([w(n).e("timestamp"),w(n).is("top")])},Ve(a.timestamp),3)):Te("v-if",!0),Z("div",{class:G(w(n).e("content"))},[Se(a.$slots,"default")],2),!a.hideTimestamp&&a.placement==="bottom"?(z(),q("div",{key:1,class:G([w(n).e("timestamp"),w(n).is("bottom")])},Ve(a.timestamp),3)):Te("v-if",!0)],2)],2))}});var Ooe=Ze(bHe,[["__file","timeline-item.vue"]]);const xHe=Bt(gHe,{TimelineItem:Ooe}),wHe=Ur(Ooe),Poe=je({nowrap:Boolean});var Foe=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(Foe||{});const _He=Object.values(Foe),ZB=je({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:be(Object),default:null}}),SHe=je({side:{type:be(String),values:_He,required:!0}}),CHe=["absolute","fixed"],THe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],JB=je({arrowPadding:{type:be(Number),default:5},effect:{type:be(String),default:"light"},contentClass:String,placement:{type:be(String),values:THe,default:"bottom"},reference:{type:be(Object),default:null},offset:{type:Number,default:8},strategy:{type:be(String),values:CHe,default:"absolute"},showArrow:Boolean,...Ei(["ariaLabel"])}),QB=je({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:be(Function)},"onUpdate:open":{type:be(Function)}}),x0={type:be(Function)},eV=je({onBlur:x0,onClick:x0,onFocus:x0,onMouseDown:x0,onMouseEnter:x0,onMouseLeave:x0}),kHe=je({...QB,...ZB,...eV,...JB,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:be(Object),default:null},teleported:Boolean,to:{type:be(String),default:"body"}}),DA=Symbol("tooltipV2"),Boe=Symbol("tooltipV2Content"),WR="tooltip_v2.open",IHe=se({name:"ElTooltipV2Root"}),EHe=se({...IHe,props:QB,setup(e,{expose:t}){const n=e,r=Y(n.defaultOpen),a=Y(null),i=F({get:()=>tg(n.open)?r.value:n.open,set:g=>{var m;r.value=g,(m=n["onUpdate:open"])==null||m.call(n,g)}}),o=F(()=>Tt(n.delayDuration)&&n.delayDuration>0),{start:s,stop:l}=ng(()=>{i.value=!0},F(()=>n.delayDuration),{immediate:!1}),u=ze("tooltip-v2"),c=Ii(),f=()=>{l(),i.value=!0},d=()=>{w(o)?s():f()},h=f,p=()=>{l(),i.value=!1};return Oe(i,g=>{var m;g&&(document.dispatchEvent(new CustomEvent(WR)),h()),(m=n.onOpenChange)==null||m.call(n,g)}),zt(()=>{document.addEventListener(WR,p)}),ar(()=>{l(),document.removeEventListener(WR,p)}),hn(DA,{contentId:c,triggerRef:a,ns:u,onClose:p,onDelayOpen:d,onOpen:h}),t({onOpen:h,onClose:p}),(g,m)=>Se(g.$slots,"default",{open:w(i)})}});var AHe=Ze(EHe,[["__file","root.vue"]]);const DHe=se({name:"ElTooltipV2Arrow"}),NHe=se({...DHe,props:{...ZB,...SHe},setup(e){const t=e,{ns:n}=ht(DA),{arrowRef:r}=ht(Boe),a=F(()=>{const{style:i,width:o,height:s}=t,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${o}px`,[`--${l}-tooltip-v2-arrow-height`]:`${s}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${o/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:o/2-1,...i||{}}});return(i,o)=>(z(),q("span",{ref_key:"arrowRef",ref:r,style:yt(w(a)),class:G(w(n).e("arrow"))},null,6))}});var l9=Ze(NHe,[["__file","arrow.vue"]]);const ay=Math.min,Pv=Math.max,iI=Math.round,jC=Math.floor,_c=e=>({x:e,y:e}),RHe={left:"right",right:"left",bottom:"top",top:"bottom"},MHe={start:"end",end:"start"};function aP(e,t,n){return Pv(e,ay(t,n))}function A_(e,t){return typeof e=="function"?e(t):e}function og(e){return e.split("-")[0]}function D_(e){return e.split("-")[1]}function Voe(e){return e==="x"?"y":"x"}function tV(e){return e==="y"?"height":"width"}function iy(e){return["top","bottom"].includes(og(e))?"y":"x"}function nV(e){return Voe(iy(e))}function $He(e,t,n){n===void 0&&(n=!1);const r=D_(e),a=nV(e),i=tV(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=oI(o)),[o,oI(o)]}function LHe(e){const t=oI(e);return[iP(e),t,iP(t)]}function iP(e){return e.replace(/start|end/g,t=>MHe[t])}function OHe(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function PHe(e,t,n,r){const a=D_(e);let i=OHe(og(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(iP)))),i}function oI(e){return e.replace(/left|right|bottom|top/g,t=>RHe[t])}function FHe(e){return{top:0,right:0,bottom:0,left:0,...e}}function zoe(e){return typeof e!="number"?FHe(e):{top:e,right:e,bottom:e,left:e}}function sI(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function u9(e,t,n){let{reference:r,floating:a}=e;const i=iy(t),o=nV(t),s=tV(o),l=og(t),u=i==="y",c=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,d=r[s]/2-a[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-a.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-a.width,y:f};break;default:h={x:r.x,y:r.y}}switch(D_(t)){case"start":h[o]-=d*(n&&u?-1:1);break;case"end":h[o]+=d*(n&&u?-1:1);break}return h}const BHe=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,s=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:f}=u9(u,r,l),d=r,h={},p=0;for(let v=0;v<s.length;v++){const{name:g,fn:m}=s[v],{x:y,y:b,data:x,reset:_}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=y??c,f=b??f,h={...h,[g]:{...h[g],...x}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:c,y:f}=u9(u,d,l)),v=-1)}return{x:c,y:f,placement:d,strategy:a,middlewareData:h}};async function rV(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=A_(t,e),p=zoe(h),g=s[d?f==="floating"?"reference":"floating":f],m=sI(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),x=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=sI(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(m.top-_.top+p.top)/x.y,bottom:(_.bottom-m.bottom+p.bottom)/x.y,left:(m.left-_.left+p.left)/x.x,right:(_.right-m.right+p.right)/x.x}}const VHe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=A_(e,t)||{};if(u==null)return{};const f=zoe(c),d={x:n,y:r},h=nV(a),p=tV(h),v=await o.getDimensions(u),g=h==="y",m=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",x=i.reference[p]+i.reference[h]-d[h]-i.floating[p],_=d[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[b]||i.floating[p]);const k=x/2-_/2,T=C/2-v[p]/2-1,I=ay(f[m],T),E=ay(f[y],T),A=I,N=C-v[p]-E,L=C/2-v[p]/2+k,R=aP(A,L,N),D=!l.arrow&&D_(a)!=null&&L!==R&&i.reference[p]/2-(L<A?I:E)-v[p]/2<0,P=D?L<A?L-A:L-N:0;return{[h]:d[h]+P,data:{[h]:R,centerOffset:L-R-P,...D&&{alignmentOffset:P}},reset:D}}}),zHe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...g}=A_(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const m=og(a),y=iy(s),b=og(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=d||(b||!v?[oI(s)]:LHe(s)),S=p!=="none";!d&&S&&_.push(...PHe(s,v,p,x));const C=[s,..._],k=await rV(t,g),T=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&T.push(k[m]),f){const L=$He(a,o,x);T.push(k[L[0]],k[L[1]])}if(I=[...I,{placement:a,overflows:T}],!T.every(L=>L<=0)){var E,A;const L=(((E=i.flip)==null?void 0:E.index)||0)+1,R=C[L];if(R)return{data:{index:L,overflows:I},reset:{placement:R}};let D=(A=I.filter(P=>P.overflows[0]<=0).sort((P,O)=>P.overflows[1]-O.overflows[1])[0])==null?void 0:A.placement;if(!D)switch(h){case"bestFit":{var N;const P=(N=I.filter(O=>{if(S){const M=iy(O.placement);return M===y||M==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(M=>M>0).reduce((M,W)=>M+W,0)]).sort((O,M)=>O[1]-M[1])[0])==null?void 0:N[0];P&&(D=P);break}case"initialPlacement":D=s;break}if(a!==D)return{reset:{placement:D}}}return{}}}};async function WHe(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=og(n),s=D_(n),l=iy(n)==="y",u=["left","top"].includes(o)?-1:1,c=i&&l?-1:1,f=A_(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const HHe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await WHe(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},UHe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:m,y}=g;return{x:m,y}}},...l}=A_(e,t),u={x:n,y:r},c=await rV(t,l),f=iy(og(a)),d=Voe(f);let h=u[d],p=u[f];if(i){const g=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=h+c[g],b=h-c[m];h=aP(y,h,b)}if(o){const g=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=p+c[g],b=p-c[m];p=aP(y,p,b)}const v=s.fn({...t,[d]:h,[f]:p});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:i,[f]:o}}}}}};function NA(){return typeof window<"u"}function jy(e){return Woe(e)?(e.nodeName||"").toLowerCase():"#document"}function Ws(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qc(e){var t;return(t=(Woe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Woe(e){return NA()?e instanceof Node||e instanceof Ws(e).Node:!1}function Ru(e){return NA()?e instanceof Element||e instanceof Ws(e).Element:!1}function $c(e){return NA()?e instanceof HTMLElement||e instanceof Ws(e).HTMLElement:!1}function c9(e){return!NA()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ws(e).ShadowRoot}function N_(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Mu(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function GHe(e){return["table","td","th"].includes(jy(e))}function RA(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function aV(e){const t=iV(),n=Ru(e)?Mu(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function KHe(e){let t=Ah(e);for(;$c(t)&&!oy(t);){if(aV(t))return t;if(RA(t))return null;t=Ah(t)}return null}function iV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oy(e){return["html","body","#document"].includes(jy(e))}function Mu(e){return Ws(e).getComputedStyle(e)}function MA(e){return Ru(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ah(e){if(jy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||c9(e)&&e.host||Qc(e);return c9(t)?t.host:t}function Hoe(e){const t=Ah(e);return oy(t)?e.ownerDocument?e.ownerDocument.body:e.body:$c(t)&&N_(t)?t:Hoe(t)}function uw(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=Hoe(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Ws(a);if(i){const s=oP(o);return t.concat(o,o.visualViewport||[],N_(a)?a:[],s&&n?uw(s):[])}return t.concat(a,uw(a,[],n))}function oP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Uoe(e){const t=Mu(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=$c(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,s=iI(n)!==i||iI(r)!==o;return s&&(n=i,r=o),{width:n,height:r,$:s}}function oV(e){return Ru(e)?e:e.contextElement}function Im(e){const t=oV(e);if(!$c(t))return _c(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=Uoe(t);let o=(i?iI(n.width):n.width)/r,s=(i?iI(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const jHe=_c(0);function Goe(e){const t=Ws(e);return!iV()||!t.visualViewport?jHe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YHe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ws(e)?!1:t}function sg(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=oV(e);let o=_c(1);t&&(r?Ru(r)&&(o=Im(r)):o=Im(e));const s=YHe(i,n,r)?Goe(i):_c(0);let l=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,c=a.width/o.x,f=a.height/o.y;if(i){const d=Ws(i),h=r&&Ru(r)?Ws(r):r;let p=d,v=oP(p);for(;v&&r&&h!==p;){const g=Im(v),m=v.getBoundingClientRect(),y=Mu(v),b=m.left+(v.clientLeft+parseFloat(y.paddingLeft))*g.x,x=m.top+(v.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,f*=g.y,l+=b,u+=x,p=Ws(v),v=oP(p)}}return sI({width:c,height:f,x:l,y:u})}function sV(e,t){const n=MA(e).scrollLeft;return t?t.left+n:sg(Qc(e)).left+n}function Koe(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:sV(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function XHe(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Qc(r),s=t?RA(t.floating):!1;if(r===o||s&&i)return n;let l={scrollLeft:0,scrollTop:0},u=_c(1);const c=_c(0),f=$c(r);if((f||!f&&!i)&&((jy(r)!=="body"||N_(o))&&(l=MA(r)),$c(r))){const h=sg(r);u=Im(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=o&&!f&&!i?Koe(o,l,!0):_c(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function qHe(e){return Array.from(e.getClientRects())}function ZHe(e){const t=Qc(e),n=MA(e),r=e.ownerDocument.body,a=Pv(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Pv(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+sV(e);const s=-n.scrollTop;return Mu(r).direction==="rtl"&&(o+=Pv(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:s}}function JHe(e,t){const n=Ws(e),r=Qc(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const u=iV();(!u||u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}function QHe(e,t){const n=sg(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=$c(e)?Im(e):_c(1),o=e.clientWidth*i.x,s=e.clientHeight*i.y,l=a*i.x,u=r*i.y;return{width:o,height:s,x:l,y:u}}function f9(e,t,n){let r;if(t==="viewport")r=JHe(e,n);else if(t==="document")r=ZHe(Qc(e));else if(Ru(t))r=QHe(t,n);else{const a=Goe(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return sI(r)}function joe(e,t){const n=Ah(e);return n===t||!Ru(n)||oy(n)?!1:Mu(n).position==="fixed"||joe(n,t)}function eUe(e,t){const n=t.get(e);if(n)return n;let r=uw(e,[],!1).filter(s=>Ru(s)&&jy(s)!=="body"),a=null;const i=Mu(e).position==="fixed";let o=i?Ah(e):e;for(;Ru(o)&&!oy(o);){const s=Mu(o),l=aV(o);!l&&s.position==="fixed"&&(a=null),(i?!l&&!a:!l&&s.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||N_(o)&&!l&&joe(e,o))?r=r.filter(c=>c!==o):a=s,o=Ah(o)}return t.set(e,r),r}function tUe(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?RA(t)?[]:eUe(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((u,c)=>{const f=f9(t,c,a);return u.top=Pv(f.top,u.top),u.right=ay(f.right,u.right),u.bottom=ay(f.bottom,u.bottom),u.left=Pv(f.left,u.left),u},f9(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nUe(e){const{width:t,height:n}=Uoe(e);return{width:t,height:n}}function rUe(e,t,n){const r=$c(t),a=Qc(t),i=n==="fixed",o=sg(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=_c(0);if(r||!r&&!i)if((jy(t)!=="body"||N_(a))&&(s=MA(t)),r){const d=sg(t,!0,i,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else a&&(l.x=sV(a));const u=a&&!r&&!i?Koe(a,s):_c(0),c=o.left+s.scrollLeft-l.x-u.x,f=o.top+s.scrollTop-l.y-u.y;return{x:c,y:f,width:o.width,height:o.height}}function HR(e){return Mu(e).position==="static"}function d9(e,t){if(!$c(e)||Mu(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qc(e)===n&&(n=n.ownerDocument.body),n}function Yoe(e,t){const n=Ws(e);if(RA(e))return n;if(!$c(e)){let a=Ah(e);for(;a&&!oy(a);){if(Ru(a)&&!HR(a))return a;a=Ah(a)}return n}let r=d9(e,t);for(;r&&GHe(r)&&HR(r);)r=d9(r,t);return r&&oy(r)&&HR(r)&&!aV(r)?n:r||KHe(e)||n}const aUe=async function(e){const t=this.getOffsetParent||Yoe,n=this.getDimensions,r=await n(e.floating);return{reference:rUe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iUe(e){return Mu(e).direction==="rtl"}const oUe={convertOffsetParentRelativeRectToViewportRelativeRect:XHe,getDocumentElement:Qc,getClippingRect:tUe,getOffsetParent:Yoe,getElementRects:aUe,getClientRects:qHe,getDimensions:nUe,getScale:Im,isElement:Ru,isRTL:iUe};function sUe(e,t){let n=null,r;const a=Qc(e);function i(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=jC(c),p=jC(a.clientWidth-(u+f)),v=jC(a.clientHeight-(c+d)),g=jC(u),y={rootMargin:-h+"px "+-p+"px "+-v+"px "+-g+"px",threshold:Pv(0,ay(1,l))||1};let b=!0;function x(_){const S=_[0].intersectionRatio;if(S!==l){if(!b)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(x,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(x,y)}n.observe(e)}return o(!0),i}function lUe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=oV(e),c=a||i?[...u?uw(u):[],...uw(t)]:[];c.forEach(m=>{a&&m.addEventListener("scroll",n,{passive:!0}),i&&m.addEventListener("resize",n)});const f=u&&s?sUe(u,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(m=>{let[y]=m;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,v=l?sg(e):null;l&&g();function g(){const m=sg(e);v&&(m.x!==v.x||m.y!==v.y||m.width!==v.width||m.height!==v.height)&&n(),v=m,p=requestAnimationFrame(g)}return n(),()=>{var m;c.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const uUe=rV,Xoe=HHe,cUe=UHe,fUe=zHe,qoe=VHe,Zoe=(e,t,n)=>{const r=new Map,a={platform:oUe,...n},i={...a.platform,_c:r};return BHe(e,t,{...a,platform:i})},dUe=je({style:{type:be([String,Object,Array]),default:()=>({})}}),hUe=se({name:"ElVisuallyHidden"}),pUe=se({...hUe,props:dUe,setup(e){const t=e,n=F(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,a)=>(z(),q("span",rn(r.$attrs,{style:w(n)}),[Se(r.$slots,"default")],16))}});var vUe=Ze(pUe,[["__file","visual-hidden.vue"]]);je({});const gUe=e=>{if(!wn)return;if(!e)return e;const t=Ko(e);return t||(vr(e)?t:e)},mUe=({middleware:e,placement:t,strategy:n})=>{const r=Y(),a=Y(),i=Y(),o=Y(),s=Y({}),l={x:i,y:o,placement:t,strategy:n,middlewareData:s},u=async()=>{if(!wn)return;const c=gUe(r),f=Ko(a);if(!c||!f)return;const d=await Zoe(c,f,{placement:w(t),strategy:w(n),middleware:w(e)});Ym(l).forEach(h=>{l[h].value=d[h]})};return zt(()=>{Pi(()=>{u()})}),{...l,update:u,referenceRef:r,contentRef:a}},yUe=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const r=w(e);return r?qoe({element:r,padding:t}).fn(n):{}}}),bUe=se({name:"ElTooltipV2Content"}),xUe=se({...bUe,props:{...JB,...Poe},setup(e){const t=e,{triggerRef:n,contentId:r}=ht(DA),a=Y(t.placement),i=Y(t.strategy),o=Y(null),{referenceRef:s,contentRef:l,middlewareData:u,x:c,y:f,update:d}=mUe({placement:a,strategy:i,middleware:F(()=>{const b=[Xoe(t.offset)];return t.showArrow&&b.push(yUe({arrowRef:o})),b})}),h=zy().nextZIndex(),p=ze("tooltip-v2"),v=F(()=>a.value.split("-")[0]),g=F(()=>({position:w(i),top:`${w(f)||0}px`,left:`${w(c)||0}px`,zIndex:h})),m=F(()=>{if(!t.showArrow)return{};const{arrow:b}=w(u);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),y=F(()=>[p.e("content"),p.is("dark",t.effect==="dark"),p.is(w(i)),t.contentClass]);return Oe(o,()=>d()),Oe(()=>t.placement,b=>a.value=b),zt(()=>{Oe(()=>t.reference||n.value,b=>{s.value=b||void 0},{immediate:!0})}),hn(Boe,{arrowRef:o}),(b,x)=>(z(),q("div",{ref_key:"contentRef",ref:l,style:yt(w(g)),"data-tooltip-v2-root":""},[b.nowrap?Te("v-if",!0):(z(),q("div",{key:0,"data-side":w(v),class:G(w(y))},[Se(b.$slots,"default",{contentStyle:w(g),contentClass:w(y)}),ie(w(vUe),{id:w(r),role:"tooltip"},{default:fe(()=>[b.ariaLabel?(z(),q(gt,{key:0},[Kt(Ve(b.ariaLabel),1)],64)):Se(b.$slots,"default",{key:1})]),_:3},8,["id"]),Se(b.$slots,"arrow",{style:yt(w(m)),side:w(v)})],10,["data-side"]))],4))}});var h9=Ze(xUe,[["__file","content.vue"]]);const wUe=je({setRef:{type:be(Function),required:!0},onlyChild:Boolean});var _Ue=se({props:wUe,setup(e,{slots:t}){const n=Y(),r=TA(n,a=>{a?e.setRef(a.nextElementSibling):e.setRef(null)});return()=>{var a;const[i]=((a=t.default)==null?void 0:a.call(t))||[],o=e.onlyChild?D$e(i.children):i.children;return ie(gt,{ref:r},[o])}}});const SUe=se({name:"ElTooltipV2Trigger"}),CUe=se({...SUe,props:{...Poe,...eV},setup(e){const t=e,{onClose:n,onOpen:r,onDelayOpen:a,triggerRef:i,contentId:o}=ht(DA);let s=!1;const l=y=>{i.value=y},u=()=>{s=!1},c=Qr(t.onMouseEnter,a),f=Qr(t.onMouseLeave,n),d=Qr(t.onMouseDown,()=>{n(),s=!0,document.addEventListener("mouseup",u,{once:!0})}),h=Qr(t.onFocus,()=>{s||r()}),p=Qr(t.onBlur,n),v=Qr(t.onClick,y=>{y.detail===0&&n()}),g={blur:p,click:v,focus:h,mousedown:d,mouseenter:c,mouseleave:f},m=(y,b,x)=>{y&&Object.entries(b).forEach(([_,S])=>{y[x](_,S)})};return Oe(i,(y,b)=>{m(y,g,"addEventListener"),m(b,g,"removeEventListener"),y&&y.setAttribute("aria-describedby",o.value)}),ar(()=>{m(i.value,g,"removeEventListener"),document.removeEventListener("mouseup",u)}),(y,b)=>y.nowrap?(z(),Ae(w(_Ue),{key:0,"set-ref":l,"only-child":""},{default:fe(()=>[Se(y.$slots,"default")]),_:3})):(z(),q("button",rn({key:1,ref_key:"triggerRef",ref:i},y.$attrs),[Se(y.$slots,"default")],16))}});var TUe=Ze(CUe,[["__file","trigger.vue"]]);const kUe=se({name:"ElTooltipV2"}),IUe=se({...kUe,props:kHe,setup(e){const n=di(e),r=Ln(du(n,Object.keys(ZB))),a=Ln(du(n,Object.keys(JB))),i=Ln(du(n,Object.keys(QB))),o=Ln(du(n,Object.keys(eV)));return(s,l)=>(z(),Ae(AHe,fu(wh(i)),{default:fe(({open:u})=>[ie(TUe,rn(o,{nowrap:""}),{default:fe(()=>[Se(s.$slots,"trigger")]),_:3},16),ie(w(Uy),{to:s.to,disabled:!s.teleported},{default:fe(()=>[s.fullTransition?(z(),Ae(hi,fu(rn({key:0},s.transitionProps)),{default:fe(()=>[s.alwaysOn||u?(z(),Ae(h9,fu(rn({key:0},a)),{arrow:fe(({style:c,side:f})=>[s.showArrow?(z(),Ae(l9,rn({key:0},r,{style:c,side:f}),null,16,["style","side"])):Te("v-if",!0)]),default:fe(()=>[Se(s.$slots,"default")]),_:3},16)):Te("v-if",!0)]),_:2},1040)):(z(),q(gt,{key:1},[s.alwaysOn||u?(z(),Ae(h9,fu(rn({key:0},a)),{arrow:fe(({style:c,side:f})=>[s.showArrow?(z(),Ae(l9,rn({key:0},r,{style:c,side:f}),null,16,["style","side"])):Te("v-if",!0)]),default:fe(()=>[Se(s.$slots,"default")]),_:3},16)):Te("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var EUe=Ze(IUe,[["__file","tooltip.vue"]]);const AUe=Bt(EUe),Joe="left-check-change",Qoe="right-check-change",J0=je({data:{type:be(Array),default:()=>[]},titles:{type:be(Array),default:()=>[]},buttonTexts:{type:be(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:be(Function)},leftDefaultChecked:{type:be(Array),default:()=>[]},rightDefaultChecked:{type:be(Array),default:()=>[]},renderContent:{type:be(Function)},modelValue:{type:be(Array),default:()=>[]},format:{type:be(Object),default:()=>({})},filterable:Boolean,props:{type:be(Object),default:()=>zr({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),sP=(e,t)=>[e,t].every(Ke)||Ke(e)&&Ua(t),DUe={[Qn]:(e,t,n)=>[e,n].every(Ke)&&["left","right"].includes(t),[Ht]:e=>Ke(e),[Joe]:sP,[Qoe]:sP},lP="checked-change",NUe=je({data:J0.data,optionRender:{type:be(Function)},placeholder:String,title:String,filterable:Boolean,format:J0.format,filterMethod:J0.filterMethod,defaultChecked:J0.leftDefaultChecked,props:J0.props}),RUe={[lP]:sP},R_=e=>{const t={label:"label",key:"key",disabled:"disabled"};return F(()=>({...t,...e.props}))},MUe=(e,t,n)=>{const r=R_(e),a=F(()=>e.data.filter(c=>mt(e.filterMethod)?e.filterMethod(t.query,c):String(c[r.value.label]||c[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),i=F(()=>a.value.filter(c=>!c[r.value.disabled])),o=F(()=>{const c=t.checked.length,f=e.data.length,{noChecked:d,hasChecked:h}=e.format;return d&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,f.toString()):d.replace(/\${total}/g,f.toString()):`${c}/${f}`}),s=F(()=>{const c=t.checked.length;return c>0&&c<i.value.length}),l=()=>{const c=i.value.map(f=>f[r.value.key]);t.allChecked=c.length>0&&c.every(f=>t.checked.includes(f))},u=c=>{t.checked=c?i.value.map(f=>f[r.value.key]):[]};return Oe(()=>t.checked,(c,f)=>{if(l(),t.checkChangeByUser){const d=c.concat(f).filter(h=>!c.includes(h)||!f.includes(h));n(lP,c,d)}else n(lP,c),t.checkChangeByUser=!0}),Oe(i,()=>{l()}),Oe(()=>e.data,()=>{const c=[],f=a.value.map(d=>d[r.value.key]);t.checked.forEach(d=>{f.includes(d)&&c.push(d)}),t.checkChangeByUser=!1,t.checked=c}),Oe(()=>e.defaultChecked,(c,f)=>{if(f&&c.length===f.length&&c.every(p=>f.includes(p)))return;const d=[],h=i.value.map(p=>p[r.value.key]);c.forEach(p=>{h.includes(p)&&d.push(p)}),t.checkChangeByUser=!1,t.checked=d},{immediate:!0}),{filteredData:a,checkableData:i,checkedSummary:o,isIndeterminate:s,updateAllChecked:l,handleAllCheckedChange:u}},$Ue=se({name:"ElTransferPanel"}),LUe=se({...$Ue,props:NUe,emits:RUe,setup(e,{expose:t,emit:n}){const r=e,a=Sa(),i=({option:b})=>b,{t:o}=_n(),s=ze("transfer"),l=Ln({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=R_(r),{filteredData:c,checkedSummary:f,isIndeterminate:d,handleAllCheckedChange:h}=MUe(r,l,n),p=F(()=>!Ms(l.query)&&Ms(c.value)),v=F(()=>!Ms(a.default()[0].children)),{checked:g,allChecked:m,query:y}=di(l);return t({query:y}),(b,x)=>(z(),q("div",{class:G(w(s).b("panel"))},[Z("p",{class:G(w(s).be("panel","header"))},[ie(w(Ll),{modelValue:w(m),"onUpdate:modelValue":_=>vr(m)?m.value=_:null,indeterminate:w(d),"validate-event":!1,onChange:w(h)},{default:fe(()=>[Kt(Ve(b.title)+" ",1),Z("span",null,Ve(w(f)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),Z("div",{class:G([w(s).be("panel","body"),w(s).is("with-footer",w(v))])},[b.filterable?(z(),Ae(w(mo),{key:0,modelValue:w(y),"onUpdate:modelValue":_=>vr(y)?y.value=_:null,class:G(w(s).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":w(LAe),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Te("v-if",!0),Vt(ie(w($ae),{modelValue:w(g),"onUpdate:modelValue":_=>vr(g)?g.value=_:null,"validate-event":!1,class:G([w(s).is("filterable",b.filterable),w(s).be("panel","list")])},{default:fe(()=>[(z(!0),q(gt,null,un(w(c),_=>(z(),Ae(w(Ll),{key:_[w(u).key],class:G(w(s).be("panel","item")),value:_[w(u).key],disabled:_[w(u).disabled],"validate-event":!1},{default:fe(()=>{var S;return[ie(i,{option:(S=b.optionRender)==null?void 0:S.call(b,_)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[En,!w(p)&&!w(Ms)(b.data)]]),Vt(Z("div",{class:G(w(s).be("panel","empty"))},[Se(b.$slots,"empty",{},()=>[Kt(Ve(w(p)?w(o)("el.transfer.noMatch"):w(o)("el.transfer.noData")),1)])],2),[[En,w(p)||w(Ms)(b.data)]])],2),w(v)?(z(),q("p",{key:0,class:G(w(s).be("panel","footer"))},[Se(b.$slots,"default")],2)):Te("v-if",!0)],2))}});var p9=Ze(LUe,[["__file","transfer-panel.vue"]]);const OUe=e=>{const t=R_(e),n=F(()=>e.data.reduce((i,o)=>(i[o[t.value.key]]=o)&&i,{})),r=F(()=>e.data.filter(i=>!e.modelValue.includes(i[t.value.key]))),a=F(()=>e.targetOrder==="original"?e.data.filter(i=>e.modelValue.includes(i[t.value.key])):e.modelValue.reduce((i,o)=>{const s=n.value[o];return s&&i.push(s),i},[]));return{sourceData:r,targetData:a}},PUe=(e,t,n)=>{const r=R_(e),a=(s,l,u)=>{n(Ht,s),n(Qn,s,l,u)};return{addToLeft:()=>{const s=e.modelValue.slice();t.rightChecked.forEach(l=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)}),a(s,"left",t.rightChecked)},addToRight:()=>{let s=e.modelValue.slice();const l=e.data.filter(u=>{const c=u[r.value.key];return t.leftChecked.includes(c)&&!e.modelValue.includes(c)}).map(u=>u[r.value.key]);s=e.targetOrder==="unshift"?l.concat(s):s.concat(l),e.targetOrder==="original"&&(s=e.data.filter(u=>s.includes(u[r.value.key])).map(u=>u[r.value.key])),a(s,"right",t.leftChecked)}}},FUe=(e,t)=>({onSourceCheckedChange:(a,i)=>{e.leftChecked=a,i&&t(Joe,a,i)},onTargetCheckedChange:(a,i)=>{e.rightChecked=a,i&&t(Qoe,a,i)}}),BUe=se({name:"ElTransfer"}),VUe=se({...BUe,props:J0,emits:DUe,setup(e,{expose:t,emit:n}){const r=e,a=Sa(),{t:i}=_n(),o=ze("transfer"),{formItem:s}=Xi(),l=Ln({leftChecked:[],rightChecked:[]}),u=R_(r),{sourceData:c,targetData:f}=OUe(r),{onSourceCheckedChange:d,onTargetCheckedChange:h}=FUe(l,n),{addToLeft:p,addToRight:v}=PUe(r,l,n),g=Y(),m=Y(),y=k=>{switch(k){case"left":g.value.query="";break;case"right":m.value.query="";break}},b=F(()=>r.buttonTexts.length===2),x=F(()=>r.titles[0]||i("el.transfer.titles.0")),_=F(()=>r.titles[1]||i("el.transfer.titles.1")),S=F(()=>r.filterPlaceholder||i("el.transfer.filterPlaceholder"));Oe(()=>r.modelValue,()=>{var k;r.validateEvent&&((k=s==null?void 0:s.validate)==null||k.call(s,"change").catch(T=>void 0))});const C=F(()=>k=>{var T;if(r.renderContent)return r.renderContent(Ct,k);const I=(((T=a.default)==null?void 0:T.call(a,{option:k}))||[]).filter(E=>E.type!==ti);return I.length?I:Ct("span",k[u.value.label]||k[u.value.key])});return t({clearQuery:y,leftPanel:g,rightPanel:m}),(k,T)=>(z(),q("div",{class:G(w(o).b())},[ie(p9,{ref_key:"leftPanel",ref:g,data:w(c),"option-render":w(C),placeholder:w(S),title:w(x),filterable:k.filterable,format:k.format,"filter-method":k.filterMethod,"default-checked":k.leftDefaultChecked,props:r.props,onCheckedChange:w(d)},{empty:fe(()=>[Se(k.$slots,"left-empty")]),default:fe(()=>[Se(k.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:G(w(o).e("buttons"))},[ie(w(si),{type:"primary",class:G([w(o).e("button"),w(o).is("with-texts",w(b))]),disabled:w(Ms)(l.rightChecked),onClick:w(p)},{default:fe(()=>[ie(w(pt),null,{default:fe(()=>[ie(w(Th))]),_:1}),w(qn)(k.buttonTexts[0])?Te("v-if",!0):(z(),q("span",{key:0},Ve(k.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ie(w(si),{type:"primary",class:G([w(o).e("button"),w(o).is("with-texts",w(b))]),disabled:w(Ms)(l.leftChecked),onClick:w(v)},{default:fe(()=>[w(qn)(k.buttonTexts[1])?Te("v-if",!0):(z(),q("span",{key:0},Ve(k.buttonTexts[1]),1)),ie(w(pt),null,{default:fe(()=>[ie(w(Yo))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ie(p9,{ref_key:"rightPanel",ref:m,data:w(f),"option-render":w(C),placeholder:w(S),filterable:k.filterable,format:k.format,"filter-method":k.filterMethod,title:w(_),"default-checked":k.rightDefaultChecked,props:r.props,onCheckedChange:w(h)},{empty:fe(()=>[Se(k.$slots,"right-empty")]),default:fe(()=>[Se(k.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var zUe=Ze(VUe,[["__file","transfer.vue"]]);const WUe=Bt(zUe),Em="$treeNodeId",v9=function(e,t){!t||t[Em]||Object.defineProperty(t,Em,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},lV=function(e,t){return e?t[e]:t[Em]},uP=(e,t,n)=>{const r=e.value.currentNode;n();const a=e.value.currentNode;r!==a&&t("current-change",a?a.data:null,a)},cP=e=>{let t=!0,n=!0,r=!0;for(let a=0,i=e.length;a<i;a++){const o=e[a];(o.checked!==!0||o.indeterminate)&&(t=!1,o.disabled||(r=!1)),(o.checked!==!1||o.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},Sb=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:r}=cP(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||Sb(a)},YC=function(e,t){const n=e.store.props,r=e.data||{},a=n[t];if(mt(a))return a(r,e);if(vt(a))return r[a];if(qn(a)){const i=r[t];return i===void 0?"":i}};let HUe=0,fP=class ZT{constructor(t){this.id=HUe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)Dn(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const i=YC(this,"isLeaf");lr(i)&&(this.isLeafByUser=i)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Ke(this.data)||v9(this,this.data),!this.data)return;const r=t.defaultExpandedKeys,a=t.key;a&&r&&r.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Ke(t)||v9(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Ke(this.data)?n=this.data:n=YC(this,"children")||[];for(let r=0,a=n.length;r<a;r++)this.insertChild({data:n[r]})}get label(){return YC(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return YC(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof ZT)){if(!r){const a=this.getChildren(!0);a.includes(t.data)||(qn(n)||n<0?a.push(t.data):a.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ln(new ZT(t)),t instanceof ZT&&t.initialize()}t.level=this.level+1,qn(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===t){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Ke(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Sb(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,r,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:o,allWithoutDisable:s}=cP(this.childNodes);!this.isLeaf&&!o&&s&&(this.checked=!1,t=!1);const l=()=>{if(n){const u=this.childNodes;for(let d=0,h=u.length;d<h;d++){const p=u[d];a=a||t!==!1;const v=p.disabled?p.checked:a;p.setChecked(v,n,!0,a)}const{half:c,all:f}=cP(u);f||(this.checked=f,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),Sb(this)},{checked:t!==!1});return}else l()}const i=this.parent;!i||i.level===0||r||Sb(i)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let a="children";return r&&(a=r.children||"children"),n[a]===void 0&&(n[a]=null),t&&!n[a]&&(n[a]=[]),n[a]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(i=>i.data),r={},a=[];t.forEach((i,o)=>{const s=i[Em];!!s&&n.findIndex(u=>u[Em]===s)>=0?r[s]={index:o,data:i}:a.push({index:o,data:i})}),this.store.lazy||n.forEach(i=>{r[i[Em]]||this.removeChildByData(i)}),a.forEach(({index:i,data:o})=>{this.insertChild({data:o},i)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=i=>{this.childNodes=[],this.doCreateChildren(i,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,i)},a=()=>{this.loading=!1};this.store.load(this,r,a)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||Sb(this)}};class UUe{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)Dn(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new fP({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,a=function(i){const o=i.root?i.root.childNodes:i.childNodes;if(o.forEach(s=>{s.visible=n.call(s,t,s.data,s),a(s)}),!i.visible&&o.length){let s=!0;s=!o.some(l=>l.visible),i.root?i.root.visible=s===!1:i.visible=s===!1}t&&i.visible&&!i.isLeaf&&(!r||i.loaded)&&i.expand()};a(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof fP)return t;const n=qt(t)?lV(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const r=this.getNode(n);r.parent.insertBefore({data:t},r)}insertAfter(t,n){const r=this.getNode(n);r.parent.insertAfter({data:t},r)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=tg(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const a=n[r];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],a=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(s=>{(s.checked||n&&s.indeterminate)&&(!t||t&&s.isLeaf)&&r.push(s.data),a(s)})};return a(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(i=>{i.indeterminate&&t.push(i.data),n(i)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)Dn(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const a=r.childNodes;for(let i=a.length-1;i>=0;i--){const o=a[i];this.remove(o.data)}for(let i=0,o=n.length;i<o;i++){const s=n[i];this.append(s,r.data)}}_setCheckedKeys(t,n=!1,r){const a=this._getAllNodes().sort((l,u)=>l.level-u.level),i=Object.create(null),o=Object.keys(r);a.forEach(l=>l.setChecked(!1,!1));const s=l=>{l.childNodes.forEach(u=>{var c;i[u.data[t]]=!0,(c=u.childNodes)!=null&&c.length&&s(u)})};for(let l=0,u=a.length;l<u;l++){const c=a[l],f=c.data[t].toString();if(!o.includes(f)){c.checked&&!i[f]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&s(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(g=>{g.isLeaf||g.setChecked(!1,!1),h(g)})};h(c)}}}setCheckedNodes(t,n=!1){const r=this.key,a={};t.forEach(i=>{a[(i||{})[r]]=!0}),this._setCheckedKeys(r,n,a)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,a={};t.forEach(i=>{a[i]=!0}),this._setCheckedKeys(r,n,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const a=this.getNode(t);a&&a.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const r=t[this.key],a=this.nodesMap[r];this.setCurrentNode(a),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(this.currentNodeKey=t,t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(t);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const GUe=se({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=ze("tree"),n=ht("NodeInstance"),r=ht("RootTree");return()=>{const a=e.node,{data:i,store:o}=a;return e.renderContent?e.renderContent(Ct,{_self:n,node:a,data:i,store:o}):Se(r.ctx.slots,"default",{node:a,data:i},()=>[Ct("span",{class:t.be("node","label")},[a.label])])}}});var KUe=Ze(GUe,[["__file","tree-node-content.vue"]]);function ese(e){const t=ht("TreeNodeMap",null),n={treeNodeExpand:r=>{e.node!==r&&e.node.collapse()},children:[]};return t&&t.children.push(n),hn("TreeNodeMap",n),{broadcastExpanded:r=>{if(e.accordion)for(const a of n.children)a.treeNodeExpand(r)}}}const tse=Symbol("dragEvents");function jUe({props:e,ctx:t,el$:n,dropIndicator$:r,store:a}){const i=ze("tree"),o=Y({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return hn(tse,{treeNodeDragStart:({event:c,treeNode:f})=>{if(mt(e.allowDrag)&&!e.allowDrag(f.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=f,t.emit("node-drag-start",f.node,c)},treeNodeDragOver:({event:c,treeNode:f})=>{const d=f,h=o.value.dropNode;h&&h.node.id!==d.node.id&&bo(h.$el,i.is("drop-inner"));const p=o.value.draggingNode;if(!p||!d)return;let v=!0,g=!0,m=!0,y=!0;mt(e.allowDrop)&&(v=e.allowDrop(p.node,d.node,"prev"),y=g=e.allowDrop(p.node,d.node,"inner"),m=e.allowDrop(p.node,d.node,"next")),c.dataTransfer.dropEffect=g||v||m?"move":"none",(v||g||m)&&(h==null?void 0:h.node.id)!==d.node.id&&(h&&t.emit("node-drag-leave",p.node,h.node,c),t.emit("node-drag-enter",p.node,d.node,c)),v||g||m?o.value.dropNode=d:o.value.dropNode=null,d.node.nextSibling===p.node&&(m=!1),d.node.previousSibling===p.node&&(v=!1),d.node.contains(p.node,!1)&&(g=!1),(p.node===d.node||p.node.contains(d.node))&&(v=!1,g=!1,m=!1);const b=d.$el.querySelector(`.${i.be("node","content")}`).getBoundingClientRect(),x=n.value.getBoundingClientRect();let _;const S=v?g?.25:m?.45:1:-1,C=m?g?.75:v?.55:0:1;let k=-9999;const T=c.clientY-b.top;T<b.height*S?_="before":T>b.height*C?_="after":g?_="inner":_="none";const I=d.$el.querySelector(`.${i.be("node","expand-icon")}`).getBoundingClientRect(),E=r.value;_==="before"?k=I.top-x.top:_==="after"&&(k=I.bottom-x.top),E.style.top=`${k}px`,E.style.left=`${I.right-x.left}px`,_==="inner"?Sl(d.$el,i.is("drop-inner")):bo(d.$el,i.is("drop-inner")),o.value.showDropIndicator=_==="before"||_==="after",o.value.allowDrop=o.value.showDropIndicator||y,o.value.dropType=_,t.emit("node-drag-over",p.node,d.node,c)},treeNodeDragEnd:c=>{const{draggingNode:f,dropType:d,dropNode:h}=o.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),f&&h){const p={data:f.node.data};d!=="none"&&f.node.remove(),d==="before"?h.node.parent.insertBefore(p,h.node):d==="after"?h.node.parent.insertAfter(p,h.node):d==="inner"&&h.node.insertChild(p),d!=="none"&&(a.value.registerNode(p),a.value.key&&f.node.eachNode(v=>{var g;(g=a.value.nodesMap[v.data[a.value.key]])==null||g.setChecked(v.checked,!a.value.checkStrictly)})),bo(h.$el,i.is("drop-inner")),t.emit("node-drag-end",f.node,h.node,d,c),d!=="none"&&t.emit("node-drop",f.node,h.node,d,c)}f&&!h&&t.emit("node-drag-end",f.node,null,d,c),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}const YUe=se({name:"ElTreeNode",components:{ElCollapseTransition:SA,ElCheckbox:Ll,NodeContent:KUe,ElIcon:pt,Loading:Nu},props:{node:{type:fP,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=ze("tree"),{broadcastExpanded:r}=ese(e),a=ht("RootTree"),i=Y(!1),o=Y(!1),s=Y(null),l=Y(null),u=Y(null),c=ht(tse),f=jt();hn("NodeInstance",f),e.node.expanded&&(i.value=!0,o.value=!0);const d=a.props.props.children||"children";Oe(()=>{const T=e.node.data[d];return T&&[...T]},()=>{e.node.updateChildren()}),Oe(()=>e.node.indeterminate,T=>{v(e.node.checked,T)}),Oe(()=>e.node.checked,T=>{v(T,e.node.indeterminate)}),Oe(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),Oe(()=>e.node.expanded,T=>{xt(()=>i.value=T),T&&(o.value=!0)});const h=T=>lV(a.props.nodeKey,T.data),p=T=>{const I=e.props.class;if(!I)return{};let E;if(mt(I)){const{data:A}=T;E=I(A,T)}else E=I;return vt(E)?{[E]:!0}:E},v=(T,I)=>{(s.value!==T||l.value!==I)&&a.ctx.emit("check-change",e.node.data,T,I),s.value=T,l.value=I},g=T=>{uP(a.store,a.ctx.emit,()=>{var I;if((I=a==null?void 0:a.props)==null?void 0:I.nodeKey){const A=h(e.node);a.store.value.setCurrentNodeKey(A)}else a.store.value.setCurrentNode(e.node)}),a.currentNode.value=e.node,a.props.expandOnClickNode&&y(),a.props.checkOnClickNode&&!e.node.disabled&&b(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,f,T)},m=T=>{a.instance.vnode.props.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),a.ctx.emit("node-contextmenu",T,e.node.data,e.node,f)},y=()=>{e.node.isLeaf||(i.value?(a.ctx.emit("node-collapse",e.node.data,e.node,f),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,f)}))},b=(T,I)=>{e.node.setChecked(I.target.checked,!a.props.checkStrictly),xt(()=>{const E=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:a,expanded:i,childNodeRendered:o,oldChecked:s,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:v,handleClick:g,handleContextMenu:m,handleExpandIconClick:y,handleCheckChange:b,handleChildNodeExpand:(T,I,E)=>{r(I),a.ctx.emit("node-expand",T,I,E)},handleDragStart:T=>{a.props.draggable&&c.treeNodeDragStart({event:T,treeNode:e})},handleDragOver:T=>{T.preventDefault(),a.props.draggable&&c.treeNodeDragOver({event:T,treeNode:{$el:u.value,node:e.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{a.props.draggable&&c.treeNodeDragEnd(T)},CaretRight:Ore}}});function XUe(e,t,n,r,a,i){const o=Ft("el-icon"),s=Ft("el-checkbox"),l=Ft("loading"),u=Ft("node-content"),c=Ft("el-tree-node"),f=Ft("el-collapse-transition");return Vt((z(),q("div",{ref:"node$",class:G([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:At(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:At(e.handleDragStart,["stop"]),onDragover:At(e.handleDragOver,["stop"]),onDragend:At(e.handleDragEnd,["stop"]),onDrop:At(e.handleDrop,["stop"])},[Z("div",{class:G(e.ns.be("node","content")),style:yt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(z(),Ae(o,{key:0,class:G([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:At(e.handleExpandIconClick,["stop"])},{default:fe(()=>[(z(),Ae(tn(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Te("v-if",!0),e.showCheckbox?(z(),Ae(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:At(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Te("v-if",!0),e.node.loading?(z(),Ae(o,{key:2,class:G([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:fe(()=>[ie(l)]),_:1},8,["class"])):Te("v-if",!0),ie(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ie(f,null,{default:fe(()=>[!e.renderAfterExpand||e.childNodeRendered?Vt((z(),q("div",{key:0,class:G(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(z(!0),q(gt,null,un(e.node.childNodes,d=>(z(),Ae(c,{key:e.getNodeKey(d),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:d,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[En,e.expanded]]):Te("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[En,e.node.visible]])}var qUe=Ze(YUe,[["render",XUe],["__file","tree-node.vue"]]);function ZUe({el$:e},t){const n=ze("tree"),r=dr([]),a=dr([]);zt(()=>{o()}),Kc(()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),Oe(a,s=>{s.forEach(l=>{l.setAttribute("tabindex","-1")})}),Zn(e,"keydown",s=>{const l=s.target;if(!l.className.includes(n.b("node")))return;const u=s.code;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const c=r.value.indexOf(l);let f;if([lt.up,lt.down].includes(u)){if(s.preventDefault(),u===lt.up){f=c===-1?0:c!==0?c-1:r.value.length-1;const h=f;for(;!t.value.getNode(r.value[f].dataset.key).canFocus;){if(f--,f===h){f=-1;break}f<0&&(f=r.value.length-1)}}else{f=c===-1?0:c<r.value.length-1?c+1:0;const h=f;for(;!t.value.getNode(r.value[f].dataset.key).canFocus;){if(f++,f===h){f=-1;break}f>=r.value.length&&(f=0)}}f!==-1&&r.value[f].focus()}[lt.left,lt.right].includes(u)&&(s.preventDefault(),l.click());const d=l.querySelector('[type="checkbox"]');[lt.enter,lt.numpadEnter,lt.space].includes(u)&&d&&(s.preventDefault(),d.click())});const o=()=>{var s;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const l=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(s=r.value[0])==null||s.setAttribute("tabindex","0")}}const JUe=se({name:"ElTree",components:{ElTreeNode:qUe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:er}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=_n(),r=ze("tree"),a=ht(Ky,null),i=Y(new UUe({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));i.value.initialize();const o=Y(i.value.root),s=Y(null),l=Y(null),u=Y(null),{broadcastExpanded:c}=ese(e),{dragState:f}=jUe({props:e,ctx:t,el$:l,dropIndicator$:u,store:i});ZUe({el$:l},i);const d=F(()=>{const{childNodes:O}=o.value,M=a?a.hasFilteredOptions!==0:!1;return(!O||O.length===0||O.every(({visible:W})=>!W))&&!M});Oe(()=>e.currentNodeKey,O=>{i.value.setCurrentNodeKey(O)}),Oe(()=>e.defaultCheckedKeys,O=>{i.value.setDefaultCheckedKey(O)}),Oe(()=>e.defaultExpandedKeys,O=>{i.value.setDefaultExpandedKeys(O)}),Oe(()=>e.data,O=>{i.value.setData(O)},{deep:!0}),Oe(()=>e.checkStrictly,O=>{i.value.checkStrictly=O});const h=O=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(O)},p=O=>lV(e.nodeKey,O.data),v=O=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const M=i.value.getNode(O);if(!M)return[];const W=[M.data];let U=M.parent;for(;U&&U!==o.value;)W.push(U.data),U=U.parent;return W.reverse()},g=(O,M)=>i.value.getCheckedNodes(O,M),m=O=>i.value.getCheckedKeys(O),y=()=>{const O=i.value.getCurrentNode();return O?O.data:null},b=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const O=y();return O?O[e.nodeKey]:null},x=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(O,M)},_=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(O,M)},S=(O,M,W)=>{i.value.setChecked(O,M,W)},C=()=>i.value.getHalfCheckedNodes(),k=()=>i.value.getHalfCheckedKeys(),T=(O,M=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");uP(i,t.emit,()=>{c(O),i.value.setUserCurrentNode(O,M)})},I=(O,M=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");uP(i,t.emit,()=>{c(),i.value.setCurrentNodeKey(O,M)})},E=O=>i.value.getNode(O),A=O=>{i.value.remove(O)},N=(O,M)=>{i.value.append(O,M)},L=(O,M)=>{i.value.insertBefore(O,M)},R=(O,M)=>{i.value.insertAfter(O,M)},D=(O,M,W)=>{c(M),t.emit("node-expand",O,M,W)},P=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(O,M)};return hn("RootTree",{ctx:t,props:e,store:i,root:o,currentNode:s,instance:jt()}),hn(Rc,void 0),{ns:r,store:i,root:o,currentNode:s,dragState:f,el$:l,dropIndicator$:u,isEmpty:d,filter:h,getNodeKey:p,getNodePath:v,getCheckedNodes:g,getCheckedKeys:m,getCurrentNode:y,getCurrentKey:b,setCheckedNodes:x,setCheckedKeys:_,setChecked:S,getHalfCheckedNodes:C,getHalfCheckedKeys:k,setCurrentNode:T,setCurrentKey:I,t:n,getNode:E,remove:A,append:N,insertBefore:L,insertAfter:R,handleNodeExpand:D,updateKeyChildren:P}}});function QUe(e,t,n,r,a,i){const o=Ft("el-tree-node");return z(),q("div",{ref:"el$",class:G([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(z(!0),q(gt,null,un(e.root.childNodes,s=>(z(),Ae(o,{key:e.getNodeKey(s),node:s,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(z(),q("div",{key:0,class:G(e.ns.e("empty-block"))},[Se(e.$slots,"empty",{},()=>{var s;return[Z("span",{class:G(e.ns.e("empty-text"))},Ve((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)]})],2)):Te("v-if",!0),Vt(Z("div",{ref:"dropIndicator$",class:G(e.ns.e("drop-indicator"))},null,2),[[En,e.dragState.showDropIndicator]])],2)}var eGe=Ze(JUe,[["render",QUe],["__file","tree.vue"]]);const lI=Bt(eGe),tGe=(e,{attrs:t,emit:n},{select:r,tree:a,key:i})=>{const o=ze("tree-select");return Oe(()=>e.data,()=>{e.filterable&&xt(()=>{var l,u;(u=a.value)==null||u.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...du(di(e),Object.keys(ag.props)),...t,"onUpdate:modelValue":l=>n(Ht,l),valueKey:i,popperClass:F(()=>{const l=[o.e("popper")];return e.popperClass&&l.push(e.popperClass),l.join(" ")}),filterMethod:(l="")=>{var u;e.filterMethod?e.filterMethod(l):e.remoteMethod?e.remoteMethod(l):(u=a.value)==null||u.filter(l)}}},nGe=se({extends:qk,setup(e,t){const n=qk.setup(e,t);delete n.selectOptionClick;const r=jt().proxy;return xt(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),Oe(()=>t.attrs.visible,a=>{n.states.visible=a},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function dP(e){return e||e===0}function uV(e){return Ke(e)&&e.length}function w0(e){return Ke(e)?e:dP(e)?[e]:[]}function JT(e,t,n,r,a){for(let i=0;i<e.length;i++){const o=e[i];if(t(o,i,e,a))return r?r(o,i,e,a):o;{const s=n(o);if(uV(s)){const l=JT(s,t,n,r,o);if(l)return l}}}}function QT(e,t,n,r){for(let a=0;a<e.length;a++){const i=e[a];t(i,a,e,r);const o=n(i);uV(o)&&QT(o,t,n,i)}}const rGe=(e,{attrs:t,slots:n,emit:r},{select:a,tree:i,key:o})=>{Oe(()=>e.modelValue,()=>{e.showCheckbox&&xt(()=>{const d=i.value;d&&!Ci(d.getCheckedKeys(),w0(e.modelValue))&&d.setCheckedKeys(w0(e.modelValue))})},{immediate:!0,deep:!0});const s=F(()=>({value:o.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),l=(d,h)=>{var p;const v=s.value[d];return mt(v)?v(h,(p=i.value)==null?void 0:p.getNode(l("value",h))):h[v]},u=w0(e.modelValue).map(d=>JT(e.data||[],h=>l("value",h)===d,h=>l("children",h),(h,p,v,g)=>g&&l("value",g))).filter(d=>dP(d)),c=F(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const d=[];return QT(e.data.concat(e.cacheData),h=>{const p=l("value",h);d.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),d}),f=()=>{var d;return(d=i.value)==null?void 0:d.getCheckedKeys().filter(h=>{var p;const v=(p=i.value)==null?void 0:p.getNode(h);return!Ua(v)&&Ms(v.childNodes)})};return{...du(di(e),Object.keys(lI.props)),...t,nodeKey:o,expandOnClickNode:F(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:F(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u),renderContent:(d,{node:h,data:p,store:v})=>d(nGe,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},e.renderContent?()=>e.renderContent(d,{node:h,data:p,store:v}):n.default?()=>n.default({node:h,data:p,store:v}):void 0),filterNodeMethod:(d,h,p)=>e.filterNodeMethod?e.filterNodeMethod(d,h,p):d?new RegExp(bB(d),"i").test(l("label",h)||""):!0,onNodeClick:(d,h,p)=>{var v,g,m,y;if((v=t.onNodeClick)==null||v.call(t,d,h,p),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||h.isLeaf)){if(!l("disabled",d)){const b=(g=a.value)==null?void 0:g.states.options.get(l("value",d));(m=a.value)==null||m.handleOptionSelect(b)}}else e.expandOnClickNode&&p.proxy.handleExpandIconClick();(y=a.value)==null||y.focus()}},onCheck:(d,h)=>{var p;if(!e.showCheckbox)return;const v=l("value",d),g={};QT([i.value.store.root],x=>g[x.key]=x,x=>x.childNodes);const m=h.checkedKeys,y=e.multiple?w0(e.modelValue).filter(x=>!(x in g)&&!m.includes(x)):[],b=y.concat(m);if(e.checkStrictly)r(Ht,e.multiple?b:b.includes(v)?v:void 0);else if(e.multiple){const x=f();r(Ht,y.concat(x))}else{const x=JT([d],C=>!uV(l("children",C))&&!l("disabled",C),C=>l("children",C)),_=x?l("value",x):void 0,S=dP(e.modelValue)&&!!JT([d],C=>l("value",C)===e.modelValue,C=>l("children",C));r(Ht,_===e.modelValue||S?void 0:_)}xt(()=>{var x;const _=w0(e.modelValue);i.value.setCheckedKeys(_),(x=t.onCheck)==null||x.call(t,d,{checkedKeys:i.value.getCheckedKeys(),checkedNodes:i.value.getCheckedNodes(),halfCheckedKeys:i.value.getHalfCheckedKeys(),halfCheckedNodes:i.value.getHalfCheckedNodes()})}),(p=a.value)==null||p.focus()},onNodeExpand:(d,h,p)=>{var v;(v=t.onNodeExpand)==null||v.call(t,d,h,p),xt(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&h.checked){const g={},m=i.value.getCheckedKeys();QT([i.value.store.root],x=>g[x.key]=x,x=>x.childNodes);const y=w0(e.modelValue).filter(x=>!(x in g)&&!m.includes(x)),b=f();r(Ht,y.concat(b))}})},cacheOptions:c}};var aGe=se({props:{data:{type:Array,default:()=>[]}},setup(e){const t=ht(Ky);return Oe(()=>e.data,()=>{var n;e.data.forEach(a=>{t.states.cachedOptions.has(a.value)||t.states.cachedOptions.set(a.value,a)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];wn&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const iGe=se({name:"ElTreeSelect",inheritAttrs:!1,props:{...ag.props,...lI.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,a=Y(),i=Y(),o=F(()=>e.nodeKey||e.valueKey||"value"),s=tGe(e,t,{select:a,tree:i,key:o}),{cacheOptions:l,...u}=rGe(e,t,{select:a,tree:i,key:o}),c=Ln({});return r(c),zt(()=>{Object.assign(c,{...du(i.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...du(a.value,["focus","blur","selectedLabel"])})}),()=>Ct(ag,Ln({...s,ref:f=>a.value=f}),{...n,default:()=>[Ct(aGe,{data:l.value}),Ct(lI,Ln({...u,ref:f=>i.value=f}))]})}});var oGe=Ze(iGe,[["__file","tree-select.vue"]]);const sGe=Bt(oGe),cV=Symbol(),lGe={key:-1,level:-1,data:{}};var Cb=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(Cb||{}),hP=(e=>(e.ADD="add",e.DELETE="delete",e))(hP||{});const nse={type:Number,default:26},uGe=je({data:{type:be(Array),default:()=>zr([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:be(Object),default:()=>zr({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:be(Array),default:()=>zr([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:be(Array),default:()=>zr([])},indent:{type:Number,default:16},itemSize:nse,icon:{type:er},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:be([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:be(Function)},perfMode:{type:Boolean,default:!0}}),cGe=je({node:{type:be(Object),default:()=>zr(lGe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:nse}),fGe=je({node:{type:be(Object),required:!0}}),rse="node-click",ase="node-drop",ise="node-expand",ose="node-collapse",sse="current-change",lse="check",use="check-change",cse="node-contextmenu",dGe={[rse]:(e,t,n)=>e&&t&&n,[ase]:(e,t,n)=>e&&t&&n,[ise]:(e,t)=>e&&t,[ose]:(e,t)=>e&&t,[sse]:(e,t)=>e&&t,[lse]:(e,t)=>e&&t,[use]:(e,t)=>e&&lr(t),[cse]:(e,t,n)=>e&&t&&n},hGe={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&lr(t)};function pGe(e,t){const n=Y(new Set),r=Y(new Set),{emit:a}=jt();Oe([()=>t.value,()=>e.defaultCheckedKeys],()=>xt(()=>{y(e.defaultCheckedKeys)}),{immediate:!0});const i=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:x}=t.value,_=n.value,S=new Set;for(let C=x-1;C>=1;--C){const k=b.get(C);k&&k.forEach(T=>{const I=T.children;if(I){let E=!0,A=!1;for(const N of I){const L=N.key;if(_.has(L))A=!0;else if(S.has(L)){E=!1,A=!0;break}else E=!1}E?_.add(T.key):A?(S.add(T.key),_.delete(T.key)):(_.delete(T.key),S.delete(T.key))}})}r.value=S},o=b=>n.value.has(b.key),s=b=>r.value.has(b.key),l=(b,x,_=!0,S=!0)=>{const C=n.value,k=(T,I)=>{C[I?hP.ADD:hP.DELETE](T.key);const E=T.children;!e.checkStrictly&&E&&E.forEach(A=>{A.disabled||k(A,I)})};k(b,x),S&&i(),_&&u(b,x)},u=(b,x)=>{const{checkedNodes:_,checkedKeys:S}=p(),{halfCheckedNodes:C,halfCheckedKeys:k}=v();a(lse,b.data,{checkedKeys:S,checkedNodes:_,halfCheckedKeys:k,halfCheckedNodes:C}),a(use,b.data,x)};function c(b=!1){return p(b).checkedKeys}function f(b=!1){return p(b).checkedNodes}function d(){return v().halfCheckedKeys}function h(){return v().halfCheckedNodes}function p(b=!1){const x=[],_=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:S}=t.value;n.value.forEach(C=>{const k=S.get(C);k&&(!b||b&&k.isLeaf)&&(_.push(C),x.push(k.data))})}return{checkedKeys:_,checkedNodes:x}}function v(){const b=[],x=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:_}=t.value;r.value.forEach(S=>{const C=_.get(S);C&&(x.push(S),b.push(C.data))})}return{halfCheckedNodes:b,halfCheckedKeys:x}}function g(b){n.value.clear(),r.value.clear(),xt(()=>{y(b)})}function m(b,x){if(t!=null&&t.value&&e.showCheckbox){const _=t.value.treeNodeMap.get(b);_&&l(_,x,!1)}}function y(b){if(t!=null&&t.value){const{treeNodeMap:x}=t.value;if(e.showCheckbox&&x&&(b==null?void 0:b.length)>0){for(const _ of b){const S=x.get(_);S&&!o(S)&&l(S,!0,!1,!1)}i()}}}return{updateCheckedKeys:i,toggleCheckbox:l,isChecked:o,isIndeterminate:s,getCheckedKeys:c,getCheckedNodes:f,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:m,setCheckedKeys:g}}function vGe(e,t){const n=Y(new Set([])),r=Y(new Set([])),a=F(()=>mt(e.filterMethod));function i(s){var l;if(!a.value)return;const u=new Set,c=r.value,f=n.value,d=[],h=((l=t.value)==null?void 0:l.treeNodes)||[],p=e.filterMethod;f.clear();function v(g){g.forEach(m=>{d.push(m),p!=null&&p(s,m.data,m)?d.forEach(b=>{u.add(b.key)}):m.isLeaf&&f.add(m.key);const y=m.children;if(y&&v(y),!m.isLeaf){if(!u.has(m.key))f.add(m.key);else if(y){let b=!0;for(const x of y)if(!f.has(x.key)){b=!1;break}b?c.add(m.key):c.delete(m.key)}}d.pop()})}return v(h),u}function o(s){return r.value.has(s.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:i,isForceHiddenExpandIcon:o}}function gGe(e,t){const n=Y(new Set(e.defaultExpandedKeys)),r=Y(),a=dr(),i=Y();Oe(()=>e.currentNodeKey,B=>{r.value=B},{immediate:!0}),Oe(()=>e.data,B=>{oe(B)},{immediate:!0});const{isIndeterminate:o,isChecked:s,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p}=pGe(e,a),{doFilter:v,hiddenNodeKeySet:g,isForceHiddenExpandIcon:m}=vGe(e,a),y=F(()=>{var B;return((B=e.props)==null?void 0:B.value)||Cb.KEY}),b=F(()=>{var B;return((B=e.props)==null?void 0:B.children)||Cb.CHILDREN}),x=F(()=>{var B;return((B=e.props)==null?void 0:B.disabled)||Cb.DISABLED}),_=F(()=>{var B;return((B=e.props)==null?void 0:B.label)||Cb.LABEL}),S=F(()=>{var B;const re=n.value,ge=g.value,Ie=[],Ce=((B=a.value)==null?void 0:B.treeNodes)||[],he=[];for(let J=Ce.length-1;J>=0;--J)he.push(Ce[J]);for(;he.length;){const J=he.pop();if(!ge.has(J.key)&&(Ie.push(J),J.children&&re.has(J.key)))for(let te=J.children.length-1;te>=0;--te)he.push(J.children[te])}return Ie}),C=F(()=>S.value.length>0);function k(B){const re=new Map,ge=new Map;let Ie=1;function Ce(J,te=1,xe=void 0){var Ee;const Qe=[];for(const Be of J){const ce=E(Be),Re={level:te,key:ce,data:Be};Re.label=N(Be),Re.parent=xe;const ct=I(Be);Re.disabled=A(Be),Re.isLeaf=!ct||ct.length===0,ct&&ct.length&&(Re.children=Ce(ct,te+1,Re)),Qe.push(Re),re.set(ce,Re),ge.has(te)||ge.set(te,[]),(Ee=ge.get(te))==null||Ee.push(Re)}return te>Ie&&(Ie=te),Qe}const he=Ce(B);return{treeNodeMap:re,levelTreeNodeMap:ge,maxLevel:Ie,treeNodes:he}}function T(B){const re=v(B);re&&(n.value=re)}function I(B){return B[b.value]}function E(B){return B?B[y.value]:""}function A(B){return B[x.value]}function N(B){return B[_.value]}function L(B){n.value.has(B.key)?U(B):W(B)}function R(B){const re=new Set,ge=a.value.treeNodeMap;B.forEach(Ie=>{let Ce=ge.get(Ie);for(;Ce&&!re.has(Ce.key);)re.add(Ce.key),Ce=Ce.parent}),n.value=re}function D(B,re){t(rse,B.data,B,re),O(B),e.expandOnClickNode&&L(B),e.showCheckbox&&e.checkOnClickNode&&!B.disabled&&l(B,!s(B),!0)}function P(B,re){t(ase,B.data,B,re)}function O(B){K(B)||(r.value=B.key,t(sse,B.data,B))}function M(B,re){l(B,re)}function W(B){const re=n.value;if(a.value&&e.accordion){const{treeNodeMap:ge}=a.value;re.forEach(Ie=>{const Ce=ge.get(Ie);B&&B.level===(Ce==null?void 0:Ce.level)&&re.delete(Ie)})}re.add(B.key),t(ise,B.data,B)}function U(B){n.value.delete(B.key),t(ose,B.data,B)}function V(B){return n.value.has(B.key)}function H(B){return!!B.disabled}function K(B){const re=r.value;return re!==void 0&&re===B.key}function j(){var B,re;if(r.value)return(re=(B=a.value)==null?void 0:B.treeNodeMap.get(r.value))==null?void 0:re.data}function ne(){return r.value}function Q(B){r.value=B}function oe(B){xt(()=>a.value=k(B))}function ae(B){var re;const ge=qt(B)?E(B):B;return(re=a.value)==null?void 0:re.treeNodeMap.get(ge)}function me(B,re="auto"){const ge=ae(B);ge&&i.value&&i.value.scrollToItem(S.value.indexOf(ge),re)}function ve(B){var re;(re=i.value)==null||re.scrollTo(B)}return{tree:a,flattenTree:S,isNotEmpty:C,listRef:i,getKey:E,getChildren:I,toggleExpand:L,toggleCheckbox:l,isExpanded:V,isChecked:s,isIndeterminate:o,isDisabled:H,isCurrent:K,isForceHiddenExpandIcon:m,handleNodeClick:D,handleNodeDrop:P,handleNodeCheck:M,getCurrentNode:j,getCurrentKey:ne,setCurrentKey:Q,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p,filter:T,setData:oe,getNode:ae,expandNode:W,collapseNode:U,setExpandedKeys:R,scrollToNode:me,scrollTo:ve}}var mGe=se({name:"ElTreeNodeContent",props:fGe,setup(e){const t=ht(cV),n=ze("tree");return()=>{const r=e.node,{data:a}=r;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:r,data:a}):Ct("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const yGe=se({name:"ElTreeNode"}),bGe=se({...yGe,props:cGe,emits:hGe,setup(e,{emit:t}){const n=e,r=ht(cV),a=ze("tree"),i=F(()=>{var h;return(h=r==null?void 0:r.props.indent)!=null?h:16}),o=F(()=>{var h;return(h=r==null?void 0:r.props.icon)!=null?h:Ore}),s=h=>{const p=r==null?void 0:r.props.props.class;if(!p)return{};let v;if(mt(p)){const{data:g}=h;v=p(g,h)}else v=p;return vt(v)?{[v]:!0}:v},l=h=>{t("click",n.node,h)},u=h=>{t("drop",n.node,h)},c=()=>{t("toggle",n.node)},f=h=>{t("check",n.node,h)},d=h=>{var p,v,g,m;(g=(v=(p=r==null?void 0:r.instance)==null?void 0:p.vnode)==null?void 0:v.props)!=null&&g.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),r==null||r.ctx.emit(cse,h,(m=n.node)==null?void 0:m.data,n.node)};return(h,p)=>{var v,g,m;return z(),q("div",{ref:"node$",class:G([w(a).b("node"),w(a).is("expanded",h.expanded),w(a).is("current",h.current),w(a).is("focusable",!h.disabled),w(a).is("checked",!h.disabled&&h.checked),s(h.node)]),role:"treeitem",tabindex:"-1","aria-expanded":h.expanded,"aria-disabled":h.disabled,"aria-checked":h.checked,"data-key":(v=h.node)==null?void 0:v.key,onClick:At(l,["stop"]),onContextmenu:d,onDragover:At(()=>{},["prevent"]),onDragenter:At(()=>{},["prevent"]),onDrop:At(u,["stop"])},[Z("div",{class:G(w(a).be("node","content")),style:yt({paddingLeft:`${(h.node.level-1)*w(i)}px`,height:h.itemSize+"px"})},[w(o)?(z(),Ae(w(pt),{key:0,class:G([w(a).is("leaf",!!((g=h.node)!=null&&g.isLeaf)),w(a).is("hidden",h.hiddenExpandIcon),{expanded:!((m=h.node)!=null&&m.isLeaf)&&h.expanded},w(a).be("node","expand-icon")]),onClick:At(c,["stop"])},{default:fe(()=>[(z(),Ae(tn(w(o))))]),_:1},8,["class","onClick"])):Te("v-if",!0),h.showCheckbox?(z(),Ae(w(Ll),{key:1,"model-value":h.checked,indeterminate:h.indeterminate,disabled:h.disabled,onChange:f,onClick:At(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Te("v-if",!0),ie(w(mGe),{node:h.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var xGe=Ze(bGe,[["__file","tree-node.vue"]]);const wGe=se({name:"ElTreeV2"}),_Ge=se({...wGe,props:uGe,emits:dGe,setup(e,{expose:t,emit:n}){const r=e,a=Sa(),i=F(()=>r.itemSize);hn(cV,{ctx:{emit:n,slots:a},props:r,instance:jt()}),hn(Rc,void 0);const{t:o}=_n(),s=ze("tree"),{flattenTree:l,isNotEmpty:u,listRef:c,toggleExpand:f,isExpanded:d,isIndeterminate:h,isChecked:p,isDisabled:v,isCurrent:g,isForceHiddenExpandIcon:m,handleNodeClick:y,handleNodeDrop:b,handleNodeCheck:x,toggleCheckbox:_,getCurrentNode:S,getCurrentKey:C,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:I,getHalfCheckedKeys:E,getHalfCheckedNodes:A,setChecked:N,setCheckedKeys:L,filter:R,setData:D,getNode:P,expandNode:O,collapseNode:M,setExpandedKeys:W,scrollToNode:U,scrollTo:V}=gGe(r,n);return t({toggleCheckbox:_,getCurrentNode:S,getCurrentKey:C,setCurrentKey:k,getCheckedKeys:T,getCheckedNodes:I,getHalfCheckedKeys:E,getHalfCheckedNodes:A,setChecked:N,setCheckedKeys:L,filter:R,setData:D,getNode:P,expandNode:O,collapseNode:M,setExpandedKeys:W,scrollToNode:U,scrollTo:V}),(H,K)=>(z(),q("div",{class:G([w(s).b(),{[w(s).m("highlight-current")]:H.highlightCurrent}]),role:"tree"},[w(u)?(z(),Ae(w(jie),{key:0,ref_key:"listRef",ref:c,"class-name":w(s).b("virtual-list"),data:w(l),total:w(l).length,height:H.height,"item-size":w(i),"perf-mode":H.perfMode},{default:fe(({data:j,index:ne,style:Q})=>[(z(),Ae(xGe,{key:j[ne].key,style:yt(Q),node:j[ne],expanded:w(d)(j[ne]),"show-checkbox":H.showCheckbox,checked:w(p)(j[ne]),indeterminate:w(h)(j[ne]),"item-size":w(i),disabled:w(v)(j[ne]),current:w(g)(j[ne]),"hidden-expand-icon":w(m)(j[ne]),onClick:w(y),onToggle:w(f),onCheck:w(x),onDrop:w(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(z(),q("div",{key:1,class:G(w(s).e("empty-block"))},[Se(H.$slots,"empty",{},()=>{var j;return[Z("span",{class:G(w(s).e("empty-text"))},Ve((j=H.emptyText)!=null?j:w(o)("el.tree.emptyText")),3)]})],2))],2))}});var SGe=Ze(_Ge,[["__file","tree.vue"]]);const CGe=Bt(SGe),fse=Symbol("uploadContextKey"),TGe="ElUpload";class kGe extends Error{constructor(t,n,r,a){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=a}}function g9(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new kGe(r,n.status,t.method,e)}function IGe(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const EGe=e=>{typeof XMLHttpRequest>"u"&&Na(TGe,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",i=>{const o=i;o.percent=i.total>0?i.loaded/i.total*100:0,e.onProgress(o)});const r=new FormData;if(e.data)for(const[i,o]of Object.entries(e.data))Ke(o)&&o.length?r.append(i,...o):r.append(i,o);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(g9(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(g9(n,e,t));e.onSuccess(IGe(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const a=e.headers||{};if(a instanceof Headers)a.forEach((i,o)=>t.setRequestHeader(o,i));else for(const[i,o]of Object.entries(a))Ua(o)||t.setRequestHeader(i,String(o));return t.send(r),t},dse=["text","picture","picture-card"];let AGe=1;const pP=()=>Date.now()+AGe++,hse=je({action:{type:String,default:"#"},headers:{type:be(Object)},method:{type:String,default:"post"},data:{type:be([Object,Function,Promise]),default:()=>zr({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:be(Array),default:()=>zr([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:dse,default:"text"},httpRequest:{type:be(Function),default:EGe},disabled:Boolean,limit:Number}),DGe=je({...hse,beforeUpload:{type:be(Function),default:Un},beforeRemove:{type:be(Function)},onRemove:{type:be(Function),default:Un},onChange:{type:be(Function),default:Un},onPreview:{type:be(Function),default:Un},onSuccess:{type:be(Function),default:Un},onProgress:{type:be(Function),default:Un},onError:{type:be(Function),default:Un},onExceed:{type:be(Function),default:Un},crossorigin:{type:be(String)}}),NGe=je({files:{type:be(Array),default:()=>zr([])},disabled:{type:Boolean,default:!1},handlePreview:{type:be(Function),default:Un},listType:{type:String,values:dse,default:"text"},crossorigin:{type:be(String)}}),RGe={remove:e=>!!e},MGe=se({name:"ElUploadList"}),$Ge=se({...MGe,props:NGe,emits:RGe,setup(e,{emit:t}){const n=e,{t:r}=_n(),a=ze("upload"),i=ze("icon"),o=ze("list"),s=qi(),l=Y(!1),u=F(()=>[a.b("list"),a.bm("list",n.listType),a.is("disabled",n.disabled)]),c=f=>{t("remove",f)};return(f,d)=>(z(),Ae(Sne,{tag:"ul",class:G(w(u)),name:w(o).b()},{default:fe(()=>[(z(!0),q(gt,null,un(f.files,(h,p)=>(z(),q("li",{key:h.uid||h.name,class:G([w(a).be("list","item"),w(a).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:rr(v=>!w(s)&&c(h),["delete"]),onFocus:v=>l.value=!0,onBlur:v=>l.value=!1,onClick:v=>l.value=!1},[Se(f.$slots,"default",{file:h,index:p},()=>[f.listType==="picture"||h.status!=="uploading"&&f.listType==="picture-card"?(z(),q("img",{key:0,class:G(w(a).be("list","item-thumbnail")),src:h.url,crossorigin:f.crossorigin,alt:""},null,10,["src","crossorigin"])):Te("v-if",!0),h.status==="uploading"||f.listType!=="picture-card"?(z(),q("div",{key:1,class:G(w(a).be("list","item-info"))},[Z("a",{class:G(w(a).be("list","item-name")),onClick:At(v=>f.handlePreview(h),["prevent"])},[ie(w(pt),{class:G(w(i).m("document"))},{default:fe(()=>[ie(w(AT))]),_:1},8,["class"]),Z("span",{class:G(w(a).be("list","item-file-name")),title:h.name},Ve(h.name),11,["title"])],10,["onClick"]),h.status==="uploading"?(z(),Ae(w(Pie),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:yt(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Te("v-if",!0)],2)):Te("v-if",!0),Z("label",{class:G(w(a).be("list","item-status-label"))},[f.listType==="text"?(z(),Ae(w(pt),{key:0,class:G([w(i).m("upload-success"),w(i).m("circle-check")])},{default:fe(()=>[ie(w(J4))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(z(),Ae(w(pt),{key:1,class:G([w(i).m("upload-success"),w(i).m("check")])},{default:fe(()=>[ie(w(__))]),_:1},8,["class"])):Te("v-if",!0)],2),w(s)?Te("v-if",!0):(z(),Ae(w(pt),{key:2,class:G(w(i).m("close")),onClick:v=>c(h)},{default:fe(()=>[ie(w(Du))]),_:2},1032,["class","onClick"])),Te(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Te(" This is a bug which needs to be fixed "),Te(" TODO: Fix the incorrect navigation interaction "),w(s)?Te("v-if",!0):(z(),q("i",{key:3,class:G(w(i).m("close-tip"))},Ve(w(r)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(z(),q("span",{key:4,class:G(w(a).be("list","item-actions"))},[Z("span",{class:G(w(a).be("list","item-preview")),onClick:v=>f.handlePreview(h)},[ie(w(pt),{class:G(w(i).m("zoom-in"))},{default:fe(()=>[ie(w(zre))]),_:1},8,["class"])],10,["onClick"]),w(s)?Te("v-if",!0):(z(),q("span",{key:0,class:G(w(a).be("list","item-delete")),onClick:v=>c(h)},[ie(w(pt),{class:G(w(i).m("delete"))},{default:fe(()=>[ie(w(sAe))]),_:1},8,["class"])],10,["onClick"]))],2)):Te("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Se(f.$slots,"append")]),_:3},8,["class","name"]))}});var m9=Ze($Ge,[["__file","upload-list.vue"]]);const LGe=je({disabled:{type:Boolean,default:!1}}),OGe={file:e=>Ke(e)},pse="ElUploadDrag",PGe=se({name:pse}),FGe=se({...PGe,props:LGe,emits:OGe,setup(e,{emit:t}){ht(fse)||Na(pse,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=ze("upload"),a=Y(!1),i=qi(),o=l=>{if(i.value)return;a.value=!1,l.stopPropagation();const u=Array.from(l.dataTransfer.files);t("file",u)},s=()=>{i.value||(a.value=!0)};return(l,u)=>(z(),q("div",{class:G([w(r).b("dragger"),w(r).is("dragover",a.value)]),onDrop:At(o,["prevent"]),onDragover:At(s,["prevent"]),onDragleave:At(c=>a.value=!1,["prevent"])},[Se(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var BGe=Ze(FGe,[["__file","upload-dragger.vue"]]);const VGe=je({...hse,beforeUpload:{type:be(Function),default:Un},onRemove:{type:be(Function),default:Un},onStart:{type:be(Function),default:Un},onSuccess:{type:be(Function),default:Un},onProgress:{type:be(Function),default:Un},onError:{type:be(Function),default:Un},onExceed:{type:be(Function),default:Un}}),zGe=se({name:"ElUploadContent",inheritAttrs:!1}),WGe=se({...zGe,props:VGe,setup(e,{expose:t}){const n=e,r=ze("upload"),a=qi(),i=dr({}),o=dr(),s=v=>{if(v.length===0)return;const{autoUpload:g,limit:m,fileList:y,multiple:b,onStart:x,onExceed:_}=n;if(m&&y.length+v.length>m){_(v,y);return}b||(v=v.slice(0,1));for(const S of v){const C=S;C.uid=pP(),x(C),g&&l(C)}},l=async v=>{if(o.value.value="",!n.beforeUpload)return c(v);let g,m={};try{const b=n.data,x=n.beforeUpload(v);m=Px(n.data)?Uk(n.data):n.data,g=await x,Px(n.data)&&Ci(b,m)&&(m=Uk(n.data))}catch{g=!1}if(g===!1){n.onRemove(v);return}let y=v;g instanceof Blob&&(g instanceof File?y=g:y=new File([g],v.name,{type:v.type})),c(Object.assign(y,{uid:v.uid}),m)},u=async(v,g)=>mt(v)?v(g):v,c=async(v,g)=>{const{headers:m,data:y,method:b,withCredentials:x,name:_,action:S,onProgress:C,onSuccess:k,onError:T,httpRequest:I}=n;try{g=await u(g??y,v)}catch{n.onRemove(v);return}const{uid:E}=v,A={headers:m||{},withCredentials:x,file:v,data:g,method:b,filename:_,action:S,onProgress:L=>{C(L,v)},onSuccess:L=>{k(L,v),delete i.value[E]},onError:L=>{T(L,v),delete i.value[E]}},N=I(A);i.value[E]=N,N instanceof Promise&&N.then(A.onSuccess,A.onError)},f=v=>{const g=v.target.files;g&&s(Array.from(g))},d=()=>{a.value||(o.value.value="",o.value.click())},h=()=>{d()};return t({abort:v=>{Dre(i.value).filter(v?([m])=>String(v.uid)===m:()=>!0).forEach(([m,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete i.value[m]})},upload:l}),(v,g)=>(z(),q("div",{class:G([w(r).b(),w(r).m(v.listType),w(r).is("drag",v.drag),w(r).is("disabled",w(a))]),tabindex:w(a)?"-1":"0",onClick:d,onKeydown:rr(At(h,["self"]),["enter","space"])},[v.drag?(z(),Ae(BGe,{key:0,disabled:w(a),onFile:s},{default:fe(()=>[Se(v.$slots,"default")]),_:3},8,["disabled"])):Se(v.$slots,"default",{key:1}),Z("input",{ref_key:"inputRef",ref:o,class:G(w(r).e("input")),name:v.name,disabled:w(a),multiple:v.multiple,accept:v.accept,type:"file",onChange:f,onClick:At(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var y9=Ze(WGe,[["__file","upload-content.vue"]]);const b9="ElUpload",x9=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},HGe=(e,t)=>{const n=_re(e,"fileList",void 0,{passive:!0}),r=h=>n.value.find(p=>p.uid===h.uid);function a(h){var p;(p=t.value)==null||p.abort(h)}function i(h=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!h.includes(p.status))}function o(h){n.value=n.value.filter(p=>p!==h)}const s=(h,p)=>{const v=r(p);v&&(console.error(h),v.status="fail",o(v),e.onError(h,v,n.value),e.onChange(v,n.value))},l=(h,p)=>{const v=r(p);v&&(e.onProgress(h,v,n.value),v.status="uploading",v.percentage=Math.round(h.percent))},u=(h,p)=>{const v=r(p);v&&(v.status="success",v.response=h,e.onSuccess(h,v,n.value),e.onChange(v,n.value))},c=h=>{Ua(h.uid)&&(h.uid=pP());const p={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(e.listType==="picture-card"||e.listType==="picture")try{p.url=URL.createObjectURL(h)}catch(v){v.message,e.onError(v,p,n.value)}n.value=[...n.value,p],e.onChange(p,n.value)},f=async h=>{const p=h instanceof File?r(h):h;p||Na(b9,"file to be removed not found");const v=g=>{a(g),o(g),e.onRemove(g,n.value),x9(g)};e.beforeRemove?await e.beforeRemove(p,n.value)!==!1&&v(p):v(p)};function d(){n.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var p;return h&&((p=t.value)==null?void 0:p.upload(h))})}return Oe(()=>e.listType,h=>{h!=="picture-card"&&h!=="picture"||(n.value=n.value.map(p=>{const{raw:v,url:g}=p;if(!g&&v)try{p.url=URL.createObjectURL(v)}catch(m){e.onError(m,p,n.value)}return p}))}),Oe(n,h=>{for(const p of h)p.uid||(p.uid=pP()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:a,clearFiles:i,handleError:s,handleProgress:l,handleStart:c,handleSuccess:u,handleRemove:f,submit:d,revokeFileObjectURL:x9}},UGe=se({name:"ElUpload"}),GGe=se({...UGe,props:DGe,setup(e,{expose:t}){const n=e,r=qi(),a=dr(),{abort:i,submit:o,clearFiles:s,uploadFiles:l,handleStart:u,handleError:c,handleRemove:f,handleSuccess:d,handleProgress:h,revokeFileObjectURL:p}=HGe(n,a),v=F(()=>n.listType==="picture-card"),g=F(()=>({...n,fileList:l.value,onStart:u,onProgress:h,onSuccess:d,onError:c,onRemove:f}));return ar(()=>{l.value.forEach(p)}),hn(fse,{accept:Wn(n,"accept")}),t({abort:i,submit:o,clearFiles:s,handleStart:u,handleRemove:f}),(m,y)=>(z(),q("div",null,[w(v)&&m.showFileList?(z(),Ae(m9,{key:0,disabled:w(r),"list-type":m.listType,files:w(l),crossorigin:m.crossorigin,"handle-preview":m.onPreview,onRemove:w(f)},Nl({append:fe(()=>[ie(y9,rn({ref_key:"uploadRef",ref:a},w(g)),{default:fe(()=>[m.$slots.trigger?Se(m.$slots,"trigger",{key:0}):Te("v-if",!0),!m.$slots.trigger&&m.$slots.default?Se(m.$slots,"default",{key:1}):Te("v-if",!0)]),_:3},16)]),_:2},[m.$slots.file?{name:"default",fn:fe(({file:b,index:x})=>[Se(m.$slots,"file",{file:b,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Te("v-if",!0),!w(v)||w(v)&&!m.showFileList?(z(),Ae(y9,rn({key:1,ref_key:"uploadRef",ref:a},w(g)),{default:fe(()=>[m.$slots.trigger?Se(m.$slots,"trigger",{key:0}):Te("v-if",!0),!m.$slots.trigger&&m.$slots.default?Se(m.$slots,"default",{key:1}):Te("v-if",!0)]),_:3},16)):Te("v-if",!0),m.$slots.trigger?Se(m.$slots,"default",{key:2}):Te("v-if",!0),Se(m.$slots,"tip"),!w(v)&&m.showFileList?(z(),Ae(m9,{key:3,disabled:w(r),"list-type":m.listType,files:w(l),crossorigin:m.crossorigin,"handle-preview":m.onPreview,onRemove:w(f)},Nl({_:2},[m.$slots.file?{name:"default",fn:fe(({file:b,index:x})=>[Se(m.$slots,"file",{file:b,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Te("v-if",!0)]))}});var KGe=Ze(GGe,[["__file","upload.vue"]]);const jGe=Bt(KGe),YGe=je({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:be([String,Array]),default:"Element Plus"},font:{type:be(Object)},gap:{type:be(Array),default:()=>[100,100]},offset:{type:be(Array)}});function XGe(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function qGe(e){return Object.keys(e).map(t=>`${XGe(t)}: ${e[t]};`).join(" ")}function ZGe(){return window.devicePixelRatio||1}const JGe=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},vse=3;function UR(e,t,n=1){const r=document.createElement("canvas"),a=r.getContext("2d"),i=e*n,o=t*n;return r.setAttribute("width",`${i}px`),r.setAttribute("height",`${o}px`),a.save(),[a,r,i,o]}function QGe(){function e(t,n,r,a,i,o,s,l){const[u,c,f,d]=UR(a,i,r);if(t instanceof HTMLImageElement)u.drawImage(t,0,0,f,d);else{const{color:U,fontSize:V,fontStyle:H,fontWeight:K,fontFamily:j,textAlign:ne,textBaseline:Q}=o,oe=Number(V)*r;u.font=`${H} normal ${K} ${oe}px/${i}px ${j}`,u.fillStyle=U,u.textAlign=ne,u.textBaseline=Q;const ae=Ke(t)?t:[t];ae==null||ae.forEach((me,ve)=>{u.fillText(me??"",f/2,ve*(oe+vse*r))})}const h=Math.PI/180*Number(n),p=Math.max(a,i),[v,g,m]=UR(p,p,r);v.translate(m/2,m/2),v.rotate(h),f>0&&d>0&&v.drawImage(c,-f/2,-d/2);function y(U,V){const H=U*Math.cos(h)-V*Math.sin(h),K=U*Math.sin(h)+V*Math.cos(h);return[H,K]}let b=0,x=0,_=0,S=0;const C=f/2,k=d/2;[[0-C,0-k],[0+C,0-k],[0+C,0+k],[0-C,0+k]].forEach(([U,V])=>{const[H,K]=y(U,V);b=Math.min(b,H),x=Math.max(x,H),_=Math.min(_,K),S=Math.max(S,K)});const I=b+m/2,E=_+m/2,A=x-b,N=S-_,L=s*r,R=l*r,D=(A+L)*2,P=N+R,[O,M]=UR(D,P);function W(U=0,V=0){O.drawImage(g,I,E,A,N,U,V,A,N)}return W(),W(A+L,-N/2-R/2),W(A+L,+N/2+R/2),[M.toDataURL(),D/r,P/r]}return e}const e9e=se({name:"ElWatermark"}),t9e=se({...e9e,props:YGe,setup(e){const t=e,n={position:"relative"},r=F(()=>{var I,E;return(E=(I=t.font)==null?void 0:I.color)!=null?E:"rgba(0,0,0,.15)"}),a=F(()=>{var I,E;return(E=(I=t.font)==null?void 0:I.fontSize)!=null?E:16}),i=F(()=>{var I,E;return(E=(I=t.font)==null?void 0:I.fontWeight)!=null?E:"normal"}),o=F(()=>{var I,E;return(E=(I=t.font)==null?void 0:I.fontStyle)!=null?E:"normal"}),s=F(()=>{var I,E;return(E=(I=t.font)==null?void 0:I.fontFamily)!=null?E:"sans-serif"}),l=F(()=>{var I,E;return(E=(I=t.font)==null?void 0:I.textAlign)!=null?E:"center"}),u=F(()=>{var I,E;return(E=(I=t.font)==null?void 0:I.textBaseline)!=null?E:"hanging"}),c=F(()=>t.gap[0]),f=F(()=>t.gap[1]),d=F(()=>c.value/2),h=F(()=>f.value/2),p=F(()=>{var I,E;return(E=(I=t.offset)==null?void 0:I[0])!=null?E:d.value}),v=F(()=>{var I,E;return(E=(I=t.offset)==null?void 0:I[1])!=null?E:h.value}),g=()=>{const I={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let E=p.value-d.value,A=v.value-h.value;return E>0&&(I.left=`${E}px`,I.width=`calc(100% - ${E}px)`,E=0),A>0&&(I.top=`${A}px`,I.height=`calc(100% - ${A}px)`,A=0),I.backgroundPosition=`${E}px ${A}px`,I},m=dr(null),y=dr(),b=Y(!1),x=()=>{y.value&&(y.value.remove(),y.value=void 0)},_=(I,E)=>{var A;m.value&&y.value&&(b.value=!0,y.value.setAttribute("style",qGe({...g(),backgroundImage:`url('${I}')`,backgroundSize:`${Math.floor(E)}px`})),(A=m.value)==null||A.append(y.value),setTimeout(()=>{b.value=!1}))},S=I=>{let E=120,A=64;const N=t.image,L=t.content,R=t.width,D=t.height;if(!N&&I.measureText){I.font=`${Number(a.value)}px ${s.value}`;const P=Ke(L)?L:[L],O=P.map(M=>{const W=I.measureText(M);return[W.width,W.fontBoundingBoxAscent!==void 0?W.fontBoundingBoxAscent+W.fontBoundingBoxDescent:W.actualBoundingBoxAscent+W.actualBoundingBoxDescent]});E=Math.ceil(Math.max(...O.map(M=>M[0]))),A=Math.ceil(Math.max(...O.map(M=>M[1])))*P.length+(P.length-1)*vse}return[R??E,D??A]},C=QGe(),k=()=>{const E=document.createElement("canvas").getContext("2d"),A=t.image,N=t.content,L=t.rotate;if(E){y.value||(y.value=document.createElement("div"));const R=ZGe(),[D,P]=S(E),O=M=>{const[W,U]=C(M||"",L,R,D,P,{color:r.value,fontSize:a.value,fontStyle:o.value,fontWeight:i.value,fontFamily:s.value,textAlign:l.value,textBaseline:u.value},c.value,f.value);_(W,U)};if(A){const M=new Image;M.onload=()=>{O(M)},M.onerror=()=>{O(N)},M.crossOrigin="anonymous",M.referrerPolicy="no-referrer",M.src=A}else O(N)}};return zt(()=>{k()}),Oe(()=>t,()=>{k()},{deep:!0,flush:"post"}),ar(()=>{x()}),wre(m,I=>{b.value||I.forEach(E=>{JGe(E,y.value)&&(x(),k())})},{attributes:!0,subtree:!0,childList:!0}),(I,E)=>(z(),q("div",{ref_key:"containerRef",ref:m,style:yt([n])},[Se(I.$slots,"default")],4))}});var n9e=Ze(t9e,[["__file","watermark.vue"]]);const r9e=Bt(n9e),a9e=je({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:be(Object)},targetAreaClickable:{type:Boolean,default:!0}}),i9e=(e,t,n,r,a)=>{const i=Y(null),o=()=>{let f;return vt(e.value)?f=document.querySelector(e.value):mt(e.value)?f=e.value():f=e.value,f},s=()=>{const f=o();if(!f||!t.value){i.value=null;return}o9e(f)||f.scrollIntoView(a.value);const{left:d,top:h,width:p,height:v}=f.getBoundingClientRect();i.value={left:d,top:h,width:p,height:v,radius:0}};zt(()=>{Oe([t,e],()=>{s()},{immediate:!0}),window.addEventListener("resize",s)}),ar(()=>{window.removeEventListener("resize",s)});const l=f=>{var d;return(d=Ke(n.value.offset)?n.value.offset[f]:n.value.offset)!=null?d:6},u=F(()=>{var f;if(!i.value)return i.value;const d=l(0),h=l(1),p=((f=n.value)==null?void 0:f.radius)||2;return{left:i.value.left-d,top:i.value.top-h,width:i.value.width+d*2,height:i.value.height+h*2,radius:p}}),c=F(()=>{const f=o();return!r.value||!f||!window.DOMRect?f||void 0:{getBoundingClientRect(){var d,h,p,v;return window.DOMRect.fromRect({width:((d=u.value)==null?void 0:d.width)||0,height:((h=u.value)==null?void 0:h.height)||0,x:((p=u.value)==null?void 0:p.left)||0,y:((v=u.value)==null?void 0:v.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},$A=Symbol("ElTour");function o9e(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:a,bottom:i,left:o}=e.getBoundingClientRect();return r>=0&&o>=0&&a<=t&&i<=n}const s9e=(e,t,n,r,a,i,o,s)=>{const l=Y(),u=Y(),c=Y({}),f={x:l,y:u,placement:r,strategy:a,middlewareData:c},d=F(()=>{const m=[Xoe(w(i)),fUe(),cUe(),l9e()];return w(s)&&w(n)&&m.push(qoe({element:w(n)})),m}),h=async()=>{if(!wn)return;const m=w(e),y=w(t);if(!m||!y)return;const b=await Zoe(m,y,{placement:w(r),strategy:w(a),middleware:w(d)});Ym(f).forEach(x=>{f[x].value=b[x]})},p=F(()=>{if(!w(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:w(o)};const{overflow:m}=w(c);return{position:w(a),zIndex:w(o),top:w(u)!=null?`${w(u)}px`:"",left:w(l)!=null?`${w(l)}px`:"",maxWidth:m!=null&&m.maxWidth?`${m==null?void 0:m.maxWidth}px`:""}}),v=F(()=>{if(!w(s))return{};const{arrow:m}=w(c);return{left:(m==null?void 0:m.x)!=null?`${m==null?void 0:m.x}px`:"",top:(m==null?void 0:m.y)!=null?`${m==null?void 0:m.y}px`:""}});let g;return zt(()=>{const m=w(e),y=w(t);m&&y&&(g=lUe(m,y,h)),Pi(()=>{h()})}),ar(()=>{g&&g()}),{update:h,contentStyle:p,arrowStyle:v}},l9e=()=>({name:"overflow",async fn(e){const t=await uUe(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),u9e=se({name:"ElTourMask",inheritAttrs:!1}),c9e=se({...u9e,props:a9e,setup(e){const t=e,{ns:n}=ht($A),r=F(()=>{var s,l;return(l=(s=t.pos)==null?void 0:s.radius)!=null?l:2}),a=F(()=>{const s=r.value,l=`a${s},${s} 0 0 1`;return{topRight:`${l} ${s},${s}`,bottomRight:`${l} ${-s},${s}`,bottomLeft:`${l} ${-s},${-s}`,topLeft:`${l} ${s},${-s}`}}),i=F(()=>{const s=window.innerWidth,l=window.innerHeight,u=a.value,c=`M${s},0 L0,0 L0,${l} L${s},${l} L${s},0 Z`,f=r.value;return t.pos?`${c} M${t.pos.left+f},${t.pos.top} h${t.pos.width-f*2} ${u.topRight} v${t.pos.height-f*2} ${u.bottomRight} h${-t.pos.width+f*2} ${u.bottomLeft} v${-t.pos.height+f*2} ${u.topLeft} z`:c}),o=F(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return NB(Wn(t,"visible"),{ns:n}),(s,l)=>s.visible?(z(),q("div",rn({key:0,class:w(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:s.zIndex,pointerEvents:s.pos&&s.targetAreaClickable?"none":"auto"}},s.$attrs),[(z(),q("svg",{style:{width:"100%",height:"100%"}},[Z("path",{class:G(w(n).e("hollow")),style:yt(w(o)),d:w(i)},null,14,["d"])]))],16)):Te("v-if",!0)}});var f9e=Ze(c9e,[["__file","mask.vue"]]);const d9e=["absolute","fixed"],h9e=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],fV=je({placement:{type:be(String),values:h9e,default:"bottom"},reference:{type:be(Object),default:null},strategy:{type:be(String),values:d9e,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),p9e={close:()=>!0},v9e=se({name:"ElTourContent"}),g9e=se({...v9e,props:fV,emits:p9e,setup(e,{emit:t}){const n=e,r=Y(n.placement),a=Y(n.strategy),i=Y(null),o=Y(null);Oe(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:s,arrowStyle:l}=s9e(Wn(n,"reference"),i,o,r,a,Wn(n,"offset"),Wn(n,"zIndex"),Wn(n,"showArrow")),u=F(()=>r.value.split("-")[0]),{ns:c}=ht($A),f=()=>{t("close")},d=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>(z(),q("div",{ref_key:"contentRef",ref:i,style:yt(w(s)),class:G(w(c).e("content")),"data-side":w(u),tabindex:"-1"},[ie(w(Hy),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":i.value||void 0,onReleaseRequested:f,onFocusoutPrevented:d},{default:fe(()=>[Se(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(z(),q("span",{key:0,ref_key:"arrowRef",ref:o,style:yt(w(l)),class:G(w(c).e("arrow"))},null,6)):Te("v-if",!0)],14,["data-side"]))}});var m9e=Ze(g9e,[["__file","content.vue"]]),y9e=se({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var a,i;const o=(a=t.default)==null?void 0:a.call(t),s=[];let l=0;function u(c){Ke(c)&&c.forEach(f=>{var d;((d=(f==null?void 0:f.type)||{})==null?void 0:d.name)==="ElTourStep"&&(s.push(f),l+=1)})}return o.length&&u(ch((i=o[0])==null?void 0:i.children)),r!==l&&(r=l,n("update-total",l)),s.length?s[e.current]:null}}});const b9e=je({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:er},placement:fV.placement,contentStyle:{type:be([Object])},mask:{type:be([Boolean,Object]),default:!0},gap:{type:be(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:be([Boolean,Object]),default:()=>({block:"center"})},type:{type:be(String)},appendTo:{type:be([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),x9e={[Ht]:e=>lr(e),"update:current":e=>Tt(e),close:e=>Tt(e),finish:()=>!0,change:e=>Tt(e)},w9e=se({name:"ElTour"}),_9e=se({...w9e,props:b9e,emits:x9e,setup(e,{emit:t}){const n=e,r=ze("tour"),a=Y(0),i=Y(),o=_re(n,"current",t,{passive:!0}),s=F(()=>{var T;return(T=i.value)==null?void 0:T.target}),l=F(()=>[r.b(),g.value==="primary"?r.m("primary"):""]),u=F(()=>{var T;return((T=i.value)==null?void 0:T.placement)||n.placement}),c=F(()=>{var T,I;return(I=(T=i.value)==null?void 0:T.contentStyle)!=null?I:n.contentStyle}),f=F(()=>{var T,I;return(I=(T=i.value)==null?void 0:T.mask)!=null?I:n.mask}),d=F(()=>!!f.value&&n.modelValue),h=F(()=>lr(f.value)?void 0:f.value),p=F(()=>{var T,I;return!!s.value&&((I=(T=i.value)==null?void 0:T.showArrow)!=null?I:n.showArrow)}),v=F(()=>{var T,I;return(I=(T=i.value)==null?void 0:T.scrollIntoViewOptions)!=null?I:n.scrollIntoViewOptions}),g=F(()=>{var T,I;return(I=(T=i.value)==null?void 0:T.type)!=null?I:n.type}),{nextZIndex:m}=zy(),y=m(),b=F(()=>{var T;return(T=n.zIndex)!=null?T:y}),{mergedPosInfo:x,triggerTarget:_}=i9e(s,Wn(n,"modelValue"),Wn(n,"gap"),f,v);Oe(()=>n.modelValue,T=>{T||(o.value=0)});const S=()=>{n.closeOnPressEscape&&(t("update:modelValue",!1),t("close",o.value))},C=T=>{a.value=T},k=Sa();return hn($A,{currentStep:i,current:o,total:a,showClose:Wn(n,"showClose"),closeIcon:Wn(n,"closeIcon"),mergedType:g,ns:r,slots:k,updateModelValue(T){t("update:modelValue",T)},onClose(){t("close",o.value)},onFinish(){t("finish")},onChange(){t("change",o.value)}}),(T,I)=>(z(),q(gt,null,[ie(w(Uy),{to:T.appendTo},{default:fe(()=>{var E,A;return[Z("div",rn({class:w(l)},T.$attrs),[ie(f9e,{visible:w(d),fill:(E=w(h))==null?void 0:E.color,style:yt((A=w(h))==null?void 0:A.style),pos:w(x),"z-index":w(b),"target-area-clickable":T.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),T.modelValue?(z(),Ae(m9e,{key:w(o),reference:w(_),placement:w(u),"show-arrow":w(p),"z-index":w(b),style:yt(w(c)),onClose:S},{default:fe(()=>[ie(w(y9e),{current:w(o),onUpdateTotal:C},{default:fe(()=>[Se(T.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Te("v-if",!0)],16)]}),_:3},8,["to"]),Te(" just for IDE "),Te("v-if",!0)],64))}});var S9e=Ze(_9e,[["__file","tour.vue"]]);const C9e=je({target:{type:be([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:er},showArrow:{type:Boolean,default:void 0},placement:fV.placement,mask:{type:be([Boolean,Object]),default:void 0},contentStyle:{type:be([Object])},prevButtonProps:{type:be(Object)},nextButtonProps:{type:be(Object)},scrollIntoViewOptions:{type:be([Boolean,Object]),default:void 0},type:{type:be(String)}}),T9e={close:()=>!0},k9e=se({name:"ElTourStep"}),I9e=se({...k9e,props:C9e,emits:T9e,setup(e,{emit:t}){const n=e,{Close:r}=eB,{t:a}=_n(),{currentStep:i,current:o,total:s,showClose:l,closeIcon:u,mergedType:c,ns:f,slots:d,updateModelValue:h,onClose:p,onFinish:v,onChange:g}=ht($A);Oe(n,k=>{i.value=k},{immediate:!0});const m=F(()=>{var k;return(k=n.showClose)!=null?k:l.value}),y=F(()=>{var k,T;return(T=(k=n.closeIcon)!=null?k:u.value)!=null?T:r}),b=k=>{if(k)return CIe(k,["children","onClick"])},x=()=>{var k,T;o.value-=1,(k=n.prevButtonProps)!=null&&k.onClick&&((T=n.prevButtonProps)==null||T.onClick()),g()},_=()=>{var k;o.value>=s.value-1?S():o.value+=1,(k=n.nextButtonProps)!=null&&k.onClick&&n.nextButtonProps.onClick(),g()},S=()=>{C(),v()},C=()=>{h(!1),p(),t("close")};return(k,T)=>(z(),q(gt,null,[w(m)?(z(),q("button",{key:0,"aria-label":"Close",class:G(w(f).e("closebtn")),type:"button",onClick:C},[ie(w(pt),{class:G(w(f).e("close"))},{default:fe(()=>[(z(),Ae(tn(w(y))))]),_:1},8,["class"])],2)):Te("v-if",!0),Z("header",{class:G([w(f).e("header"),{"show-close":w(l)}])},[Se(k.$slots,"header",{},()=>[Z("span",{role:"heading",class:G(w(f).e("title"))},Ve(k.title),3)])],2),Z("div",{class:G(w(f).e("body"))},[Se(k.$slots,"default",{},()=>[Z("span",null,Ve(k.description),1)])],2),Z("footer",{class:G(w(f).e("footer"))},[Z("div",{class:G(w(f).b("indicators"))},[w(d).indicators?(z(),Ae(tn(w(d).indicators),{key:0,current:w(o),total:w(s)},null,8,["current","total"])):(z(!0),q(gt,{key:1},un(w(s),(I,E)=>(z(),q("span",{key:I,class:G([w(f).b("indicator"),E===w(o)?"is-active":""])},null,2))),128))],2),Z("div",{class:G(w(f).b("buttons"))},[w(o)>0?(z(),Ae(w(si),rn({key:0,size:"small",type:w(c)},b(k.prevButtonProps),{onClick:x}),{default:fe(()=>{var I,E;return[Kt(Ve((E=(I=k.prevButtonProps)==null?void 0:I.children)!=null?E:w(a)("el.tour.previous")),1)]}),_:1},16,["type"])):Te("v-if",!0),w(o)<=w(s)-1?(z(),Ae(w(si),rn({key:1,size:"small",type:w(c)==="primary"?"default":"primary"},b(k.nextButtonProps),{onClick:_}),{default:fe(()=>{var I,E;return[Kt(Ve((E=(I=k.nextButtonProps)==null?void 0:I.children)!=null?E:w(o)===w(s)-1?w(a)("el.tour.finish"):w(a)("el.tour.next")),1)]}),_:1},16,["type"])):Te("v-if",!0)],2)],2)],64))}});var gse=Ze(I9e,[["__file","step.vue"]]);const E9e=Bt(S9e,{TourStep:gse}),A9e=Ur(gse),D9e=je({container:{type:be([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:be(String),default:"default"},direction:{type:be(String),default:"vertical"}}),N9e={change:e=>vt(e),click:(e,t)=>e instanceof MouseEvent&&(vt(t)||qn(t))},mse=Symbol("anchor"),XC=e=>{if(!wn||e==="")return null;if(vt(e))try{return document.querySelector(e)}catch{return null}return e};function R9e(e){let t=0;const n=(...r)=>{t&&rg(t),t=Ch(()=>{e(...r),t=0})};return n.cancel=()=>{rg(t),t=0},n}const M9e=se({name:"ElAnchor"}),$9e=se({...M9e,props:D9e,emits:N9e,setup(e,{expose:t,emit:n}){const r=e,a=Y(""),i=Y(null),o=Y(null),s=Y(),l={};let u=!1,c=0;const f=ze("anchor"),d=F(()=>[f.b(),r.type==="underline"?f.m("underline"):"",f.m(r.direction)]),h=k=>{l[k.href]=k.el},p=k=>{delete l[k]},v=k=>{a.value!==k&&(a.value=k,n("change",k))};let g=null;const m=k=>{if(!s.value)return;const T=XC(k);if(!T)return;g&&g(),u=!0;const I=wU(T,s.value),E=kO(T,I),A=I.scrollHeight-I.clientHeight,N=Math.min(E-r.offset,A);g=IEe(s.value,c,N,r.duration,()=>{setTimeout(()=>{u=!1},20)})},y=k=>{k&&(v(k),m(k))},b=(k,T)=>{n("click",k,T),y(T)},x=R9e(()=>{s.value&&(c=_U(s.value));const k=_();u||qn(k)||v(k)}),_=()=>{if(!s.value)return;const k=_U(s.value),T=[];for(const I of Object.keys(l)){const E=XC(I);if(!E)continue;const A=wU(E,s.value),N=kO(E,A);T.push({top:N-r.offset-r.bound,href:I})}T.sort((I,E)=>I.top-E.top);for(let I=0;I<T.length;I++){const E=T[I],A=T[I+1];if(I===0&&k===0)return"";if(E.top<=k&&(!A||A.top>k))return E.href}},S=()=>{const k=XC(r.container);!k||dA(k)?s.value=window:s.value=k};Zn(s,"scroll",x);const C=F(()=>{if(!i.value||!o.value||!a.value)return{};const k=l[a.value];if(!k)return{};const T=i.value.getBoundingClientRect(),I=o.value.getBoundingClientRect(),E=k.getBoundingClientRect();return r.direction==="horizontal"?{left:`${E.left-T.left}px`,width:`${E.width}px`,opacity:1}:{top:`${E.top-T.top+(E.height-I.height)/2}px`,opacity:1}});return zt(()=>{S();const k=decodeURIComponent(window.location.hash);XC(k)?y(k):x()}),Oe(()=>r.container,()=>{S()}),hn(mse,{ns:f,direction:r.direction,currentAnchor:a,addLink:h,removeLink:p,handleClick:b}),t({scrollTo:y}),(k,T)=>(z(),q("div",{ref_key:"anchorRef",ref:i,class:G(w(d))},[k.marker?(z(),q("div",{key:0,ref_key:"markerRef",ref:o,class:G(w(f).e("marker")),style:yt(w(C))},null,6)):Te("v-if",!0),Z("div",{class:G(w(f).e("list"))},[Se(k.$slots,"default")],2)],2))}});var L9e=Ze($9e,[["__file","anchor.vue"]]);const O9e=je({title:String,href:String}),P9e=se({name:"ElAnchorLink"}),F9e=se({...P9e,props:O9e,setup(e){const t=e,n=Y(null),{ns:r,direction:a,currentAnchor:i,addLink:o,removeLink:s,handleClick:l}=ht(mse),u=F(()=>[r.e("link"),r.is("active",i.value===t.href)]),c=f=>{l(f,t.href)};return Oe(()=>t.href,(f,d)=>{xt(()=>{d&&s(d),f&&o({href:f,el:n.value})})}),zt(()=>{const{href:f}=t;f&&o({href:f,el:n.value})}),ar(()=>{const{href:f}=t;f&&s(f)}),(f,d)=>(z(),q("div",{class:G(w(r).e("item"))},[Z("a",{ref_key:"linkRef",ref:n,class:G(w(u)),href:f.href,onClick:c},[Se(f.$slots,"default",{},()=>[Kt(Ve(f.title),1)])],10,["href"]),f.$slots["sub-link"]&&w(a)==="vertical"?(z(),q("div",{key:0,class:G(w(r).e("list"))},[Se(f.$slots,"sub-link")],2)):Te("v-if",!0)],2))}});var yse=Ze(F9e,[["__file","anchor-link.vue"]]);const B9e=Bt(L9e,{AnchorLink:yse}),V9e=Ur(yse),z9e=je({direction:{type:be(String),default:"horizontal"},options:{type:be(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:xa,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Ei(["ariaLabel"])}),W9e={[Ht]:e=>vt(e)||Tt(e)||lr(e),[Qn]:e=>vt(e)||Tt(e)||lr(e)},H9e=se({name:"ElSegmented"}),U9e=se({...H9e,props:z9e,emits:W9e,setup(e,{emit:t}){const n=e,r=ze("segmented"),a=Ii(),i=pa(),o=qi(),{formItem:s}=Xi(),{inputId:l,isLabeledByFormItem:u}=Vl(n,{formItemContext:s}),c=Y(null),f=qIe(),d=Ln({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),h=T=>{const I=p(T);t(Ht,I),t(Qn,I)},p=T=>qt(T)?T.value:T,v=T=>qt(T)?T.label:T,g=T=>!!(o.value||qt(T)&&T.disabled),m=T=>n.modelValue===p(T),y=T=>n.options.find(I=>p(I)===T),b=T=>[r.e("item"),r.is("selected",m(T)),r.is("disabled",g(T))],x=()=>{if(!c.value)return;const T=c.value.querySelector(".is-selected"),I=c.value.querySelector(".is-selected input");if(!T||!I){d.width=0,d.height=0,d.translateX=0,d.translateY=0,d.focusVisible=!1;return}const E=T.getBoundingClientRect();d.isInit=!0,n.direction==="vertical"?(d.height=E.height,d.translateY=T.offsetTop):(d.width=E.width,d.translateX=T.offsetLeft);try{d.focusVisible=I.matches(":focus-visible")}catch{}},_=F(()=>[r.b(),r.m(i.value),r.is("block",n.block)]),S=F(()=>({width:n.direction==="vertical"?"100%":`${d.width}px`,height:n.direction==="vertical"?`${d.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${d.translateY}px)`:`translateX(${d.translateX}px)`,display:d.isInit?"block":"none"})),C=F(()=>[r.e("item-selected"),r.is("disabled",g(y(n.modelValue))),r.is("focus-visible",d.focusVisible)]),k=F(()=>n.name||a.value);return Mr(c,x),Oe(f,x),Oe(()=>n.modelValue,()=>{var T;x(),n.validateEvent&&((T=s==null?void 0:s.validate)==null||T.call(s,"change").catch(I=>void 0))},{flush:"post"}),(T,I)=>T.options.length?(z(),q("div",{key:0,id:w(l),ref_key:"segmentedRef",ref:c,class:G(w(_)),role:"radiogroup","aria-label":w(u)?void 0:T.ariaLabel||"segmented","aria-labelledby":w(u)?w(s).labelId:void 0},[Z("div",{class:G([w(r).e("group"),w(r).m(n.direction)])},[Z("div",{style:yt(w(S)),class:G(w(C))},null,6),(z(!0),q(gt,null,un(T.options,(E,A)=>(z(),q("label",{key:A,class:G(b(E))},[Z("input",{class:G(w(r).e("item-input")),type:"radio",name:w(k),disabled:g(E),checked:m(E),onChange:N=>h(E)},null,42,["name","disabled","checked","onChange"]),Z("div",{class:G(w(r).e("item-label"))},[Se(T.$slots,"default",{item:E},()=>[Kt(Ve(v(E)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Te("v-if",!0)}});var G9e=Ze(U9e,[["__file","segmented.vue"]]);const K9e=Bt(G9e),j9e=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(n)},Y9e=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const a=e.value,i=ho(t);let o=-1,s;for(let l=r-1;l>=0;--l){const u=a[l];if(u===n||u===`
`||u==="\r"){o=l;continue}if(i.includes(u)){const c=o===-1?r:o;s={pattern:a.slice(l+1,c),start:l+1,end:c,prefix:u,prefixIndex:l,splitIndex:o,selectionEnd:r};break}}return s},X9e=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,a=t.useSelectionEnd?r:n,i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const d=document.querySelector("#input-textarea-caret-position-mirror-div");d!=null&&d.parentNode&&d.parentNode.removeChild(d)}const o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);const s=o.style,l=window.getComputedStyle(e),u=e.nodeName==="INPUT";s.whiteSpace=u?"nowrap":"pre-wrap",u||(s.wordWrap="break-word"),s.position="absolute",t.debug||(s.visibility="hidden"),i.forEach(d=>{if(u&&d==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),v=p+Number.parseInt(l.lineHeight);h>v?s.lineHeight=`${h-p}px`:h===v?s.lineHeight=l.lineHeight:s.lineHeight="0"}else s.lineHeight=l.height;else s[d]=l[d]}),bA()?e.scrollHeight>Number.parseInt(l.height)&&(s.overflowY="scroll"):s.overflow="hidden",o.textContent=e.value.slice(0,Math.max(0,a)),u&&o.textContent&&(o.textContent=o.textContent.replace(/\s/g," "));const c=document.createElement("span");c.textContent=e.value.slice(Math.max(0,a))||".",c.style.position="relative",c.style.left=`${-e.scrollLeft}px`,c.style.top=`${-e.scrollTop}px`,o.appendChild(c);const f={top:c.offsetTop+Number.parseInt(l.borderTopWidth),left:c.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return t.debug?c.style.backgroundColor="#aaa":document.body.removeChild(o),f.left>=e.clientWidth&&(f.left=e.clientWidth),f},q9e=je({...nB,options:{type:be(Array),default:()=>[]},prefix:{type:be([String,Array]),default:"@",validator:e=>vt(e)?e.length===1:e.every(t=>vt(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:be([Boolean,Function]),default:()=>j9e,validator:e=>e===!1?!0:mt(e)},placement:{type:be(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:be(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:be(Object),default:()=>({})}}),Z9e={[Ht]:e=>vt(e),search:(e,t)=>vt(e)&&vt(t),select:(e,t)=>vt(e.value)&&vt(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},J9e=je({options:{type:be(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Q9e={select:e=>vt(e.value)},e7e=se({name:"ElMentionDropdown"}),t7e=se({...e7e,props:J9e,emits:Q9e,setup(e,{expose:t,emit:n}){const r=e,a=ze("mention"),{t:i}=_n(),o=Y(-1),s=Y(),l=Y(),u=Y(),c=(b,x)=>[a.be("dropdown","item"),a.is("hovering",o.value===x),a.is("disabled",b.disabled||r.disabled)],f=b=>{b.disabled||r.disabled||n("select",b)},d=b=>{o.value=b},h=F(()=>r.disabled||r.options.every(b=>b.disabled)),p=F(()=>r.options[o.value]),v=()=>{p.value&&n("select",p.value)},g=b=>{const{options:x}=r;if(x.length===0||h.value)return;b==="next"?(o.value++,o.value===x.length&&(o.value=0)):b==="prev"&&(o.value--,o.value<0&&(o.value=x.length-1));const _=x[o.value];if(_.disabled){g(b);return}xt(()=>m(_))},m=b=>{var x,_,S,C;const{options:k}=r,T=k.findIndex(E=>E.value===b.value),I=(x=l.value)==null?void 0:x[T];if(I){const E=(S=(_=u.value)==null?void 0:_.querySelector)==null?void 0:S.call(_,`.${a.be("dropdown","wrap")}`);E&&q4(E,I)}(C=s.value)==null||C.handleScroll()};return Oe(()=>r.options,()=>{h.value||r.options.length===0?o.value=-1:o.value=0},{immediate:!0}),t({hoveringIndex:o,navigateOptions:g,selectHoverOption:v,hoverOption:p}),(b,x)=>(z(),q("div",{ref_key:"dropdownRef",ref:u,class:G(w(a).b("dropdown"))},[b.$slots.header?(z(),q("div",{key:0,class:G(w(a).be("dropdown","header"))},[Se(b.$slots,"header")],2)):Te("v-if",!0),Vt(ie(w(qc),{id:b.contentId,ref_key:"scrollbarRef",ref:s,tag:"ul","wrap-class":w(a).be("dropdown","wrap"),"view-class":w(a).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:fe(()=>[(z(!0),q(gt,null,un(b.options,(_,S)=>(z(),q("li",{id:`${b.contentId}-${S}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:S,class:G(c(_,S)),role:"option","aria-disabled":_.disabled||b.disabled||void 0,"aria-selected":o.value===S,onMousemove:C=>d(S),onClick:At(C=>f(_),["stop"])},[Se(b.$slots,"label",{item:_,index:S},()=>{var C;return[Z("span",null,Ve((C=_.label)!=null?C:_.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[En,b.options.length>0&&!b.loading]]),b.loading?(z(),q("div",{key:1,class:G(w(a).be("dropdown","loading"))},[Se(b.$slots,"loading",{},()=>[Kt(Ve(w(i)("el.mention.loading")),1)])],2)):Te("v-if",!0),b.$slots.footer?(z(),q("div",{key:2,class:G(w(a).be("dropdown","footer"))},[Se(b.$slots,"footer")],2)):Te("v-if",!0)],2))}});var n7e=Ze(t7e,[["__file","mention-dropdown.vue"]]);const r7e=se({name:"ElMention",inheritAttrs:!1}),a7e=se({...r7e,props:q9e,emits:Z9e,setup(e,{expose:t,emit:n}){const r=e,a=F(()=>du(r,Object.keys(nB))),i=ze("mention"),o=qi(),s=Ii(),l=Y(),u=Y(),c=Y(),f=Y(!1),d=Y(),h=Y(),p=F(()=>r.showArrow?r.placement:`${r.placement}-start`),v=F(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),g=F(()=>{const{filterOption:A,options:N}=r;return!h.value||!A?N:N.filter(L=>A(h.value.pattern,L))}),m=F(()=>f.value&&(!!g.value.length||r.loading)),y=F(()=>{var A;return`${s.value}-${(A=c.value)==null?void 0:A.hoveringIndex}`}),b=A=>{n("update:modelValue",A),T()},x=A=>{var N,L,R,D;if(!(!("code"in A)||(N=l.value)!=null&&N.isComposing))switch(A.code){case lt.left:case lt.right:T();break;case lt.up:case lt.down:if(!f.value)return;A.preventDefault(),(L=c.value)==null||L.navigateOptions(A.code===lt.up?"prev":"next");break;case lt.enter:case lt.numpadEnter:if(!f.value)return;A.preventDefault(),(R=c.value)!=null&&R.hoverOption?(D=c.value)==null||D.selectHoverOption():f.value=!1;break;case lt.esc:if(!f.value)return;A.preventDefault(),f.value=!1;break;case lt.backspace:if(r.whole&&h.value){const{splitIndex:P,selectionEnd:O,pattern:M,prefixIndex:W,prefix:U}=h.value,V=k();if(!V)return;const H=V.value,K=r.options.find(ne=>ne.value===M);if((mt(r.checkIsWhole)?r.checkIsWhole(M,U):K)&&P!==-1&&P+1===O){A.preventDefault();const ne=H.slice(0,W)+H.slice(P+1);n(Ht,ne);const Q=W;xt(()=>{V.selectionStart=Q,V.selectionEnd=Q,E()})}}}},{wrapperRef:_}=qh(l,{beforeFocus(){return o.value},afterFocus(){T()},beforeBlur(A){var N;return(N=u.value)==null?void 0:N.isFocusInsideContent(A)},afterBlur(){f.value=!1}}),S=()=>{T()},C=A=>{if(!h.value)return;const N=k();if(!N)return;const L=N.value,{split:R}=r,D=L.slice(h.value.end),P=D.startsWith(R),O=`${A.value}${P?"":R}`,M=L.slice(0,h.value.start)+O+D;n(Ht,M),n("select",A,h.value.prefix);const W=h.value.start+O.length+(P?1:0);xt(()=>{N.selectionStart=W,N.selectionEnd=W,N.focus(),E()})},k=()=>{var A,N;return r.type==="textarea"?(A=l.value)==null?void 0:A.textarea:(N=l.value)==null?void 0:N.input},T=()=>{setTimeout(()=>{I(),E(),xt(()=>{var A;return(A=u.value)==null?void 0:A.updatePopper()})},0)},I=()=>{const A=k();if(!A)return;const N=X9e(A),L=A.getBoundingClientRect(),R=l.value.$el.getBoundingClientRect();d.value={position:"absolute",width:0,height:`${N.height}px`,left:`${N.left+L.left-R.left}px`,top:`${N.top+L.top-R.top}px`}},E=()=>{const A=k();if(document.activeElement!==A){f.value=!1;return}const{prefix:N,split:L}=r;if(h.value=Y9e(A,N,L),h.value&&h.value.splitIndex===-1){f.value=!0,n("search",h.value.pattern,h.value.prefix);return}f.value=!1};return t({input:l,tooltip:u,dropdownVisible:m}),(A,N)=>(z(),q("div",{ref_key:"wrapperRef",ref:_,class:G(w(i).b())},[ie(w(mo),rn(rn(w(a),A.$attrs),{ref_key:"elInputRef",ref:l,"model-value":A.modelValue,disabled:w(o),role:w(m)?"combobox":void 0,"aria-activedescendant":w(m)?w(y)||"":void 0,"aria-controls":w(m)?w(s):void 0,"aria-expanded":w(m)||void 0,"aria-label":A.ariaLabel,"aria-autocomplete":w(m)?"none":void 0,"aria-haspopup":w(m)?"listbox":void 0,onInput:b,onKeydown:x,onMousedown:S}),Nl({_:2},[un(A.$slots,(L,R)=>({name:R,fn:fe(D=>[Se(A.$slots,R,fu(wh(D)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),ie(w(Hi),{ref_key:"tooltipRef",ref:u,visible:w(m),"popper-class":[w(i).e("popper"),A.popperClass],"popper-options":A.popperOptions,placement:w(p),"fallback-placements":w(v),effect:"light",pure:"",offset:A.offset,"show-arrow":A.showArrow},{default:fe(()=>[Z("div",{style:yt(d.value)},null,4)]),content:fe(()=>{var L;return[ie(n7e,{ref_key:"dropdownRef",ref:c,options:w(g),disabled:w(o),loading:A.loading,"content-id":w(s),"aria-label":A.ariaLabel,onSelect:C,onClick:At((L=l.value)==null?void 0:L.focus,["stop"])},Nl({_:2},[un(A.$slots,(R,D)=>({name:D,fn:fe(P=>[Se(A.$slots,D,fu(wh(P)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var i7e=Ze(a7e,[["__file","mention.vue"]]);const o7e=Bt(i7e);var s7e=[REe,aDe,JRe,WWe,aMe,fMe,gae,SMe,CMe,si,Sae,b$e,C$e,z$e,W$e,WLe,Hae,YLe,Ll,nLe,$ae,QLe,vOe,gOe,SA,WOe,GOe,rPe,aPe,iPe,oPe,sPe,RFe,WFe,HFe,t3e,vie,f3e,e4e,t4e,n4e,Cie,tBe,nBe,pt,hBe,Iie,mo,Eie,ABe,LBe,tVe,nVe,rVe,aVe,cVe,tze,sze,gze,dae,Pie,zae,vLe,pLe,kze,Nze,Fze,qc,ag,qk,LVe,m6e,k6e,I6e,K6e,Z6e,qie,l8e,m8e,y8e,C8e,R5e,M5e,zWe,rHe,aHe,ey,uHe,JPe,vHe,xHe,wHe,Hi,AUe,WUe,lI,sGe,CGe,jGe,r9e,E9e,A9e,B9e,V9e,K9e,o7e];const gl="ElInfiniteScroll",l7e=50,u7e=200,c7e=0,f7e={delay:{type:Number,default:u7e},distance:{type:Number,default:c7e},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},dV=(e,t)=>Object.entries(f7e).reduce((n,[r,a])=>{var i,o;const{type:s,default:l}=a,u=e.getAttribute(`infinite-scroll-${r}`);let c=(o=(i=t[u])!=null?i:u)!=null?o:l;return c=c==="false"?!1:c,c=s(c),n[r]=Number.isNaN(c)?l:c,n},{}),bse=e=>{const{observer:t}=e[gl];t&&(t.disconnect(),delete e[gl].observer)},d7e=(e,t)=>{const{container:n,containerEl:r,instance:a,observer:i,lastScrollTop:o}=e[gl],{disabled:s,distance:l}=dV(e,a),{clientHeight:u,scrollHeight:c,scrollTop:f}=r,d=f-o;if(e[gl].lastScrollTop=f,i||s||d<0)return;let h=!1;if(n===e)h=c-(u+f)<=l;else{const{clientTop:p,scrollHeight:v}=e,g=kO(e,r);h=f+u>=g+p+v-l}h&&t.call(a)};function GR(e,t){const{containerEl:n,instance:r}=e[gl],{disabled:a}=dV(e,r);a||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):bse(e))}const h7e={async mounted(e,t){const{instance:n,value:r}=t;mt(r)||Na(gl,"'v-infinite-scroll' binding value must be a function"),await xt();const{delay:a,immediate:i}=dV(e,n),o=X4(e,!0),s=o===window?document.documentElement:o,l=$v(d7e.bind(null,e,r),a);if(o){if(e[gl]={instance:n,container:o,containerEl:s,delay:a,cb:r,onScroll:l,lastScrollTop:s.scrollTop},i){const u=new MutationObserver($v(GR.bind(null,e,r),l7e));e[gl].observer=u,u.observe(e,{childList:!0,subtree:!0}),GR(e,r)}o.addEventListener("scroll",l)}},unmounted(e){if(!e[gl])return;const{container:t,onScroll:n}=e[gl];t==null||t.removeEventListener("scroll",n),bse(e)},async updated(e){if(!e[gl])await xt();else{const{containerEl:t,cb:n,observer:r}=e[gl];t.clientHeight&&r&&GR(e,n)}}},vP=h7e;vP.install=e=>{e.directive("InfiniteScroll",vP)};const p7e=vP;function v7e(e){let t;const n=Y(!1),r=Ln({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(d){r.text=d}function i(){const d=r.parent,h=f.ns;if(!d.vLoadingAddClassList){let p=d.getAttribute("loading-number");p=Number.parseInt(p)-1,p?d.setAttribute("loading-number",p.toString()):(bo(d,h.bm("parent","relative")),d.removeAttribute("loading-number")),bo(d,h.bm("parent","hidden"))}o(),c.unmount()}function o(){var d,h;(h=(d=f.$el)==null?void 0:d.parentNode)==null||h.removeChild(f.$el)}function s(){var d;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(l,400),r.visible=!1,(d=e.closed)==null||d.call(e))}function l(){if(!n.value)return;const d=r.parent;n.value=!1,d.vLoadingAddClassList=void 0,i()}const c=Ene(se({name:"ElLoading",setup(d,{expose:h}){const{ns:p,zIndex:v}=vA("loading");return h({ns:p,zIndex:v}),()=>{const g=r.spinner||r.svg,m=Ct("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...g?{innerHTML:g}:{}},[Ct("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),y=r.text?Ct("p",{class:p.b("text")},[r.text]):void 0;return Ct(hi,{name:p.b("fade"),onAfterLeave:l},{default:fe(()=>[Vt(ie("div",{style:{backgroundColor:r.background||""},class:[p.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[Ct("div",{class:p.b("spinner")},[m,y])]),[[En,r.visible]])])})}}})),f=c.mount(document.createElement("div"));return{...di(r),setText:a,removeElLoadingChild:o,close:s,handleAfterLeave:l,vm:f,get $el(){return f.$el}}}let qC;const gP=function(e={}){if(!wn)return;const t=g7e(e);if(t.fullscreen&&qC)return qC;const n=v7e({...t,closed:()=>{var a;(a=t.closed)==null||a.call(t),t.fullscreen&&(qC=void 0)}});m7e(t,t.parent,n),w9(t,t.parent,n),t.parent.vLoadingAddClassList=()=>w9(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),xt(()=>n.visible.value=t.visible),t.fullscreen&&(qC=n),n},g7e=e=>{var t,n,r,a;let i;return vt(e.target)?i=(t=document.querySelector(e.target))!=null?t:document.body:i=e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,beforeClose:e.beforeClose,closed:e.closed,target:i}},m7e=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,a={};if(e.fullscreen)n.originalPosition.value=_f(document.body,"position"),n.originalOverflow.value=_f(document.body,"overflow"),a.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=_f(document.body,"position"),await xt();for(const i of["top","left"]){const o=i==="top"?"scrollTop":"scrollLeft";a[i]=`${e.target.getBoundingClientRect()[i]+document.body[o]+document.documentElement[o]-Number.parseInt(_f(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])a[i]=`${e.target.getBoundingClientRect()[i]}px`}else n.originalPosition.value=_f(t,"position");for(const[i,o]of Object.entries(a))n.$el.style[i]=o},w9=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?bo(t,r.bm("parent","relative")):Sl(t,r.bm("parent","relative")),e.fullscreen&&e.lock?Sl(t,r.bm("parent","hidden")):bo(t,r.bm("parent","hidden"))},ek=Symbol("ElLoading"),_9=(e,t)=>{var n,r,a,i;const o=t.instance,s=d=>qt(t.value)?t.value[d]:void 0,l=d=>{const h=vt(d)&&(o==null?void 0:o[d])||d;return h&&Y(h)},u=d=>l(s(d)||e.getAttribute(`element-loading-${nd(d)}`)),c=(n=s("fullscreen"))!=null?n:t.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(r=s("target"))!=null?r:c?void 0:e,body:(a=s("body"))!=null?a:t.modifiers.body,lock:(i=s("lock"))!=null?i:t.modifiers.lock};e[ek]={options:f,instance:gP(f)}},y7e=(e,t)=>{for(const n of Object.keys(t))vr(t[n])&&(t[n].value=e[n])},S9={mounted(e,t){t.value&&_9(e,t)},updated(e,t){const n=e[ek];t.oldValue!==t.value&&(t.value&&!t.oldValue?_9(e,t):t.value&&t.oldValue?qt(t.value)&&y7e(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[ek])==null||t.instance.close(),e[ek]=null}},b7e={install(e){e.directive("loading",S9),e.config.globalProperties.$loading=gP},directive:S9,service:gP},xse=["success","info","warning","error"],ao=zr({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:wn?document.body:void 0}),x7e=je({customClass:{type:String,default:ao.customClass},center:{type:Boolean,default:ao.center},dangerouslyUseHTMLString:{type:Boolean,default:ao.dangerouslyUseHTMLString},duration:{type:Number,default:ao.duration},icon:{type:er,default:ao.icon},id:{type:String,default:ao.id},message:{type:be([String,Object,Function]),default:ao.message},onClose:{type:be(Function),default:ao.onClose},showClose:{type:Boolean,default:ao.showClose},type:{type:String,values:xse,default:ao.type},plain:{type:Boolean,default:ao.plain},offset:{type:Number,default:ao.offset},zIndex:{type:Number,default:ao.zIndex},grouping:{type:Boolean,default:ao.grouping},repeatNum:{type:Number,default:ao.repeatNum}}),w7e={destroy:()=>!0},hu=Ste([]),_7e=e=>{const t=hu.findIndex(a=>a.id===e),n=hu[t];let r;return t>0&&(r=hu[t-1]),{current:n,prev:r}},S7e=e=>{const{prev:t}=_7e(e);return t?t.vm.exposed.bottom.value:0},C7e=(e,t)=>hu.findIndex(r=>r.id===e)>0?16:t,T7e=se({name:"ElMessage"}),k7e=se({...T7e,props:x7e,emits:w7e,setup(e,{expose:t}){const n=e,{Close:r}=tB,{ns:a,zIndex:i}=vA("message"),{currentZIndex:o,nextZIndex:s}=i,l=Y(),u=Y(!1),c=Y(0);let f;const d=F(()=>n.type?n.type==="error"?"danger":n.type:"info"),h=F(()=>{const C=n.type;return{[a.bm("icon",C)]:C&&Eh[C]}}),p=F(()=>n.icon||Eh[n.type]||""),v=F(()=>S7e(n.id)),g=F(()=>C7e(n.id,n.offset)+v.value),m=F(()=>c.value+g.value),y=F(()=>({top:`${g.value}px`,zIndex:o.value}));function b(){n.duration!==0&&({stop:f}=ng(()=>{_()},n.duration))}function x(){f==null||f()}function _(){u.value=!1}function S({code:C}){C===lt.esc&&_()}return zt(()=>{b(),s(),u.value=!0}),Oe(()=>n.repeatNum,()=>{x(),b()}),Zn(document,"keydown",S),Mr(l,()=>{c.value=l.value.getBoundingClientRect().height}),t({visible:u,bottom:m,close:_}),(C,k)=>(z(),Ae(hi,{name:w(a).b("fade"),onBeforeLeave:C.onClose,onAfterLeave:T=>C.$emit("destroy"),persisted:""},{default:fe(()=>[Vt(Z("div",{id:C.id,ref_key:"messageRef",ref:l,class:G([w(a).b(),{[w(a).m(C.type)]:C.type},w(a).is("center",C.center),w(a).is("closable",C.showClose),w(a).is("plain",C.plain),C.customClass]),style:yt(w(y)),role:"alert",onMouseenter:x,onMouseleave:b},[C.repeatNum>1?(z(),Ae(w(gae),{key:0,value:C.repeatNum,type:w(d),class:G(w(a).e("badge"))},null,8,["value","type","class"])):Te("v-if",!0),w(p)?(z(),Ae(w(pt),{key:1,class:G([w(a).e("icon"),w(h)])},{default:fe(()=>[(z(),Ae(tn(w(p))))]),_:1},8,["class"])):Te("v-if",!0),Se(C.$slots,"default",{},()=>[C.dangerouslyUseHTMLString?(z(),q(gt,{key:1},[Te(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:G(w(a).e("content")),innerHTML:C.message},null,10,["innerHTML"])],2112)):(z(),q("p",{key:0,class:G(w(a).e("content"))},Ve(C.message),3))]),C.showClose?(z(),Ae(w(pt),{key:2,class:G(w(a).e("closeBtn")),onClick:At(_,["stop"])},{default:fe(()=>[ie(w(r))]),_:1},8,["class","onClick"])):Te("v-if",!0)],46,["id"]),[[En,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var I7e=Ze(k7e,[["__file","message.vue"]]);let E7e=1;const wse=e=>{const t=!e||vt(e)||$r(e)||mt(e)?{message:e}:e,n={...ao,...t};if(!n.appendTo)n.appendTo=document.body;else if(vt(n.appendTo)){let r=document.querySelector(n.appendTo);zs(r)||(r=document.body),n.appendTo=r}return lr(iu.grouping)&&!n.grouping&&(n.grouping=iu.grouping),Tt(iu.duration)&&n.duration===3e3&&(n.duration=iu.duration),Tt(iu.offset)&&n.offset===16&&(n.offset=iu.offset),lr(iu.showClose)&&!n.showClose&&(n.showClose=iu.showClose),n},A7e=e=>{const t=hu.indexOf(e);if(t===-1)return;hu.splice(t,1);const{handler:n}=e;n.close()},D7e=({appendTo:e,...t},n)=>{const r=`message_${E7e++}`,a=t.onClose,i=document.createElement("div"),o={...t,id:r,onClose:()=>{a==null||a(),A7e(c)},onDestroy:()=>{_h(null,i)}},s=ie(I7e,o,mt(o.message)||$r(o.message)?{default:mt(o.message)?o.message:()=>o.message}:null);s.appContext=n||sy._context,_h(s,i),e.appendChild(i.firstElementChild);const l=s.component,c={id:r,vnode:s,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:s.component.props};return c},sy=(e={},t)=>{if(!wn)return{close:()=>{}};const n=wse(e);if(n.grouping&&hu.length){const a=hu.find(({vnode:i})=>{var o;return((o=i.props)==null?void 0:o.message)===n.message});if(a)return a.props.repeatNum+=1,a.props.type=n.type,a.handler}if(Tt(iu.max)&&hu.length>=iu.max)return{close:()=>{}};const r=D7e(n,t);return hu.push(r),r.handler};xse.forEach(e=>{sy[e]=(t={},n)=>{const r=wse(t);return sy({...r,type:e},n)}});function N7e(e){for(const t of hu)(!e||e===t.props.type)&&t.handler.close()}sy.closeAll=N7e;sy._context=null;const yi=Lre(sy,"$message"),mP="_trap-focus-children",xv=[],C9=e=>{if(xv.length===0)return;const t=xv[xv.length-1][mP];if(t.length>0&&e.code===lt.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,r=e.target===t[0],a=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),a&&!n&&(e.preventDefault(),t[0].focus())}},R7e={beforeMount(e){e[mP]=IU(e),xv.push(e),xv.length<=1&&document.addEventListener("keydown",C9)},updated(e){xt(()=>{e[mP]=IU(e)})},unmounted(){xv.shift(),xv.length===0&&document.removeEventListener("keydown",C9)}},M7e=se({name:"ElMessageBox",directives:{TrapFocus:R7e},components:{ElButton:si,ElFocusTrap:Hy,ElInput:mo,ElOverlay:DB,ElIcon:pt,...tB},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Jie},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:a,size:i}=vA("message-box",F(()=>e.buttonSize)),{t:o}=n,{nextZIndex:s}=r,l=Y(!1),u=Ln({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:sh(Nu),cancelButtonLoadingIcon:sh(Nu),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),c=F(()=>{const D=u.type;return{[a.bm("icon",D)]:D&&Eh[D]}}),f=Ii(),d=Ii(),h=F(()=>u.icon||Eh[u.type]||""),p=F(()=>!!u.message),v=Y(),g=Y(),m=Y(),y=Y(),b=Y(),x=F(()=>u.confirmButtonClass);Oe(()=>u.inputValue,async D=>{await xt(),e.boxType==="prompt"&&D!==null&&A()},{immediate:!0}),Oe(()=>l.value,D=>{var P,O;D&&(e.boxType!=="prompt"&&(u.autofocus?m.value=(O=(P=b.value)==null?void 0:P.$el)!=null?O:v.value:m.value=v.value),u.zIndex=s()),e.boxType==="prompt"&&(D?xt().then(()=>{var M;y.value&&y.value.$el&&(u.autofocus?m.value=(M=N())!=null?M:v.value:m.value=v.value)}):(u.editorErrorMessage="",u.validateError=!1))});const _=F(()=>e.draggable),S=F(()=>e.overflow);fie(v,g,_,S),zt(async()=>{await xt(),e.closeOnHashChange&&window.addEventListener("hashchange",C)}),ar(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",C)});function C(){l.value&&(l.value=!1,xt(()=>{u.action&&t("action",u.action)}))}const k=()=>{e.closeOnClickModal&&E(u.distinguishCancelAndClose?"close":"cancel")},T=AB(k),I=D=>{if(u.inputType!=="textarea")return D.preventDefault(),E("confirm")},E=D=>{var P;e.boxType==="prompt"&&D==="confirm"&&!A()||(u.action=D,u.beforeClose?(P=u.beforeClose)==null||P.call(u,D,u,C):C())},A=()=>{if(e.boxType==="prompt"){const D=u.inputPattern;if(D&&!D.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;const P=u.inputValidator;if(mt(P)){const O=P(u.inputValue);if(O===!1)return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;if(vt(O))return u.editorErrorMessage=O,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},N=()=>{const D=y.value.$refs;return D.input||D.textarea},L=()=>{E("close")},R=()=>{e.closeOnPressEscape&&L()};return e.lockScroll&&NB(l),{...di(u),ns:a,overlayEvent:T,visible:l,hasMessage:p,typeClass:c,contentId:f,inputId:d,btnSize:i,iconComponent:h,confirmButtonClasses:x,rootRef:v,focusStartRef:m,headerRef:g,inputRef:y,confirmRef:b,doClose:C,handleClose:L,onCloseRequested:R,handleWrapperClick:k,handleInputEnter:I,handleAction:E,t:o}}});function $7e(e,t,n,r,a,i){const o=Ft("el-icon"),s=Ft("close"),l=Ft("el-input"),u=Ft("el-button"),c=Ft("el-focus-trap"),f=Ft("el-overlay");return z(),Ae(hi,{name:"fade-in-linear",onAfterLeave:d=>e.$emit("vanish"),persisted:""},{default:fe(()=>[Vt(ie(f,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:fe(()=>[Z("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:G(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[ie(c,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:fe(()=>[Z("div",{ref:"rootRef",class:G([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:yt(e.customStyle),tabindex:"-1",onClick:At(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(z(),q("div",{key:0,ref:"headerRef",class:G([e.ns.e("header"),{"show-close":e.showClose}])},[Z("div",{class:G(e.ns.e("title"))},[e.iconComponent&&e.center?(z(),Ae(o,{key:0,class:G([e.ns.e("status"),e.typeClass])},{default:fe(()=>[(z(),Ae(tn(e.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),Z("span",null,Ve(e.title),1)],2),e.showClose?(z(),q("button",{key:0,type:"button",class:G(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:rr(At(d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[ie(o,{class:G(e.ns.e("close"))},{default:fe(()=>[ie(s)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Te("v-if",!0)],2)):Te("v-if",!0),Z("div",{id:e.contentId,class:G(e.ns.e("content"))},[Z("div",{class:G(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(z(),Ae(o,{key:0,class:G([e.ns.e("status"),e.typeClass])},{default:fe(()=>[(z(),Ae(tn(e.iconComponent)))]),_:1},8,["class"])):Te("v-if",!0),e.hasMessage?(z(),q("div",{key:1,class:G(e.ns.e("message"))},[Se(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(z(),Ae(tn(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(z(),Ae(tn(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:fe(()=>[Kt(Ve(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Te("v-if",!0)],2),Vt(Z("div",{class:G(e.ns.e("input"))},[ie(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":d=>e.inputValue=d,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:G({invalid:e.validateError}),onKeydown:rr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Z("div",{class:G(e.ns.e("errormsg")),style:yt({visibility:e.editorErrorMessage?"visible":"hidden"})},Ve(e.editorErrorMessage),7)],2),[[En,e.showInput]])],10,["id"]),Z("div",{class:G(e.ns.e("btns"))},[e.showCancelButton?(z(),Ae(u,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:G([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:d=>e.handleAction("cancel"),onKeydown:rr(At(d=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:fe(()=>[Kt(Ve(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Te("v-if",!0),Vt(ie(u,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:G([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:d=>e.handleAction("confirm"),onKeydown:rr(At(d=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:fe(()=>[Kt(Ve(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[En,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[En,e.visible]])]),_:3},8,["onAfterLeave"])}var L7e=Ze(M7e,[["render",$7e],["__file","index.vue"]]);const cw=new Map,O7e=e=>{let t=document.body;return e.appendTo&&(vt(e.appendTo)&&(t=document.querySelector(e.appendTo)),zs(e.appendTo)&&(t=e.appendTo),zs(t)||(t=document.body)),t},P7e=(e,t,n=null)=>{const r=ie(L7e,e,mt(e.message)||$r(e.message)?{default:mt(e.message)?e.message:()=>e.message}:null);return r.appContext=n,_h(r,t),O7e(e).appendChild(t.firstElementChild),r.component},F7e=()=>document.createElement("div"),B7e=(e,t)=>{const n=F7e();e.onVanish=()=>{_h(null,n),cw.delete(a)},e.onAction=i=>{const o=cw.get(a);let s;e.showInput?s={value:a.inputValue,action:i}:s=i,e.callback?e.callback(s,r.proxy):i==="cancel"||i==="close"?e.distinguishCancelAndClose&&i!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(s)};const r=P7e(e,n,t),a=r.proxy;for(const i in e)Dn(e,i)&&!Dn(a.$props,i)&&(a[i]=e[i]);return a.visible=!0,a};function Yy(e,t=null){if(!wn)return Promise.reject();let n;return vt(e)||$r(e)?e={message:e}:n=e.callback,new Promise((r,a)=>{const i=B7e(e,t??Yy._context);cw.set(i,{options:e,callback:n,resolve:r,reject:a})})}const V7e=["alert","confirm","prompt"],z7e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};V7e.forEach(e=>{Yy[e]=W7e(e)});function W7e(e){return(t,n,r,a)=>{let i="";return qt(n)?(r=n,i=""):qn(n)?i="":i=n,Yy(Object.assign({title:i,message:t,type:"",...z7e[e]},r,{boxType:e}),a)}}Yy.close=()=>{cw.forEach((e,t)=>{t.doClose()}),cw.clear()};Yy._context=null;const Md=Yy;Md.install=e=>{Md._context=e._context,e.config.globalProperties.$msgbox=Md,e.config.globalProperties.$messageBox=Md,e.config.globalProperties.$alert=Md.alert,e.config.globalProperties.$confirm=Md.confirm,e.config.globalProperties.$prompt=Md.prompt};const H7e=Md,_se=["success","info","warning","error"],U7e=je({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:er},id:{type:String,default:""},message:{type:be([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:be(Function),default:()=>{}},onClose:{type:be(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[..._se,""],default:""},zIndex:Number}),G7e={destroy:()=>!0},K7e=se({name:"ElNotification"}),j7e=se({...K7e,props:U7e,emits:G7e,setup(e,{expose:t}){const n=e,{ns:r,zIndex:a}=vA("notification"),{nextZIndex:i,currentZIndex:o}=a,{Close:s}=eB,l=Y(!1);let u;const c=F(()=>{const b=n.type;return b&&Eh[n.type]?r.m(b):""}),f=F(()=>n.type&&Eh[n.type]||n.icon),d=F(()=>n.position.endsWith("right")?"right":"left"),h=F(()=>n.position.startsWith("top")?"top":"bottom"),p=F(()=>{var b;return{[h.value]:`${n.offset}px`,zIndex:(b=n.zIndex)!=null?b:o.value}});function v(){n.duration>0&&({stop:u}=ng(()=>{l.value&&m()},n.duration))}function g(){u==null||u()}function m(){l.value=!1}function y({code:b}){b===lt.delete||b===lt.backspace?g():b===lt.esc?l.value&&m():v()}return zt(()=>{v(),i(),l.value=!0}),Zn(document,"keydown",y),t({visible:l,close:m}),(b,x)=>(z(),Ae(hi,{name:w(r).b("fade"),onBeforeLeave:b.onClose,onAfterLeave:_=>b.$emit("destroy"),persisted:""},{default:fe(()=>[Vt(Z("div",{id:b.id,class:G([w(r).b(),b.customClass,w(d)]),style:yt(w(p)),role:"alert",onMouseenter:g,onMouseleave:v,onClick:b.onClick},[w(f)?(z(),Ae(w(pt),{key:0,class:G([w(r).e("icon"),w(c)])},{default:fe(()=>[(z(),Ae(tn(w(f))))]),_:1},8,["class"])):Te("v-if",!0),Z("div",{class:G(w(r).e("group"))},[Z("h2",{class:G(w(r).e("title")),textContent:Ve(b.title)},null,10,["textContent"]),Vt(Z("div",{class:G(w(r).e("content")),style:yt(b.title?void 0:{margin:0})},[Se(b.$slots,"default",{},()=>[b.dangerouslyUseHTMLString?(z(),q(gt,{key:1},[Te(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{innerHTML:b.message},null,8,["innerHTML"])],2112)):(z(),q("p",{key:0},Ve(b.message),1))])],6),[[En,b.message]]),b.showClose?(z(),Ae(w(pt),{key:0,class:G(w(r).e("closeBtn")),onClick:At(m,["stop"])},{default:fe(()=>[ie(w(s))]),_:1},8,["class","onClick"])):Te("v-if",!0)],2)],46,["id","onClick"]),[[En,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Y7e=Ze(j7e,[["__file","notification.vue"]]);const uI={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},yP=16;let X7e=1;const ly=function(e={},t){if(!wn)return{close:()=>{}};(vt(e)||$r(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;uI[n].forEach(({vm:c})=>{var f;r+=(((f=c.el)==null?void 0:f.offsetHeight)||0)+yP}),r+=yP;const a=`notification_${X7e++}`,i=e.onClose,o={...e,offset:r,id:a,onClose:()=>{q7e(a,n,i)}};let s=document.body;zs(e.appendTo)?s=e.appendTo:vt(e.appendTo)&&(s=document.querySelector(e.appendTo)),zs(s)||(s=document.body);const l=document.createElement("div"),u=ie(Y7e,o,mt(o.message)?o.message:$r(o.message)?()=>o.message:null);return u.appContext=qn(t)?ly._context:t,u.props.onDestroy=()=>{_h(null,l)},_h(u,l),uI[n].push({vm:u}),s.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};_se.forEach(e=>{ly[e]=(t={},n)=>((vt(t)||$r(t))&&(t={message:t}),ly({...t,type:e},n))});function q7e(e,t,n){const r=uI[t],a=r.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===e});if(a===-1)return;const{vm:i}=r[a];if(!i)return;n==null||n(i);const o=i.el.offsetHeight,s=t.split("-")[0];r.splice(a,1);const l=r.length;if(!(l<1))for(let u=a;u<l;u++){const{el:c,component:f}=r[u].vm,d=Number.parseInt(c.style[s],10)-o-yP;f.props.offset=d}}function Z7e(){for(const e of Object.values(uI))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}ly.closeAll=Z7e;ly._context=null;const J7e=Lre(ly,"$notify");var Q7e=[p7e,b7e,yi,H7e,J7e,Oie],eKe=_Ee([...s7e,...Q7e]);const tKe=""+new URL("../tectonic.jpg",import.meta.url).href;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nKe=1e-7,rKe=1e-4;class Sse{constructor(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,n){this.dataIdsCount++,this.data.set(t,n)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class hV{refCount(t){return ds("refCount")}incRef(t){return ds("incRef")}timerAvailable(){return!0}time(t){return ds("time")}read(t){return ds("read")}readSync(t){return ds("readSync")}readToGPU(t,n){return ds("readToGPU")}numDataIds(){return ds("numDataIds")}disposeData(t,n){return ds("disposeData")}write(t,n,r){return ds("write")}move(t,n,r,a,i){return ds("move")}createTensorFromGPUData(t,n,r){return ds("createTensorFromGPUData")}memory(){return ds("memory")}floatPrecision(){return ds("floatPrecision")}epsilon(){return this.floatPrecision()===32?nKe:rKe}dispose(){return ds("dispose")}}function ds(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aKe(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,Q0(e,t,n)}function lg(e,t,n){return Math.max(e,Math.min(t,n))}function pV(e){return e%2===0?e:e+1}function Q0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function iKe(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function pe(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function vV(e,t,n=""){pe(Er(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function gV(e){pe(e!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ot(e){if(e.length===0)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function Er(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function uy(e){return e%1===0}function bP(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Am(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function T9(e,t=a=>0,n,r){return new Promise((a,i)=>{let o=0;const s=()=>{if(e()){a();return}o++;const l=t(o);if(n!=null&&o>=n){i();return}r!=null?r(s,l):setTimeout(s,l)};s()})}function Cse(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(e[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(r===-1){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(n===0)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const a=e.slice();return a[r]=t/n,a}function jn(e,t){const n=t.length;return e=e==null?t.map((r,a)=>a):[].concat(e),pe(e.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),pe(e.every(r=>uy(r)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(r=>r<0?n+r:r)}function Jh(e,t){const n=[],r=[],a=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||a?null:jn(t,e).sort();let o=0;for(let s=0;s<e.length;++s){if(i!=null){if(i[o]===s&&e[s]!==1)throw new Error(`Can't squeeze axis ${s} since its dim '${e[s]}' is not 1`);(i[o]==null||i[o]>s)&&e[s]===1&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}e[s]!==1&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function Ui(e,t){return ma(e,t)}function ma(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else if(e==="string")n=new Array(t);else throw new Error(`Unknown data type ${e}`);return n}function oKe(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function sKe(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function Tse(e,t){return!(t==="complex64"||t==="float32"&&e!=="complex64"||t==="int32"&&e!=="float32"&&e!=="complex64"||t==="bool"&&e==="bool")}function cI(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error(`Unknown dtype ${e}`)}function lKe(e){if(e==null)return 0;let t=0;return e.forEach(n=>t+=n.length),t}function M_(e){return typeof e=="string"||e instanceof String}function uKe(e){return typeof e=="boolean"}function xP(e){return typeof e=="number"}function Xy(e){return Array.isArray(e)?Xy(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":xP(e)?"float32":M_(e)?"string":uKe(e)?"bool":"float32"}function wP(e){return!!(e&&e.constructor&&e.call&&e.apply)}function _P(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function dn(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function kse(e,t,n,r=!1){const a=new Array;if(t.length===1){const i=t[0]*(r?2:1);for(let o=0;o<i;o++)a[o]=n[e+o]}else{const i=t[0],o=t.slice(1),s=o.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<i;l++)a[l]=kse(e+l*s,o,n,r)}return a}function _u(e,t,n=!1){if(e.length===0)return t[0];const r=e.reduce((a,i)=>a*i)*(n?2:1);if(r===0)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return kse(0,e,t,n)}function cKe(e,t){if(Array.isArray(e))return e;if(t==="float32")return e instanceof Float32Array?e:new Float32Array(e);if(t==="int32")return e instanceof Int32Array?e:new Int32Array(e);if(t==="bool"||t==="string")return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}function mV(e,t){const n=Gi(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function Gi(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function Ise(e,t){const n=e.reduce((r,a)=>r*a,1);if(t==null||t==="float32")return _u(e,new Float32Array(n));if(t==="int32")return _u(e,new Int32Array(n));if(t==="bool")return _u(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function ld(e){e.forEach(t=>{pe(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function Sc(e,t,n){if(t===0)return 0;if(t===1)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function qy(e,t,n){if(t===0)return[];if(t===1)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function yV(e){return e&&e.then&&typeof e.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k9="tfjsflags";class fKe{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=dKe,this.populateURLFlags()}setPlatform(t,n){this.platform!=null&&(tt().getBool("IS_TEST")||tt().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=n}registerFlag(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){const a=this.urlFlags[t];tt().getBool("IS_TEST")||tt().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${a}.`),this.set(t,a)}}async getAsync(t){return t in this.flags?this.flags[t]:(this.flags[t]=await this.evaluateFlag(t),this.flags[t])}get(t){if(t in this.flags)return this.flags[t];const n=this.evaluateFlag(t);if(yV(n))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=n,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,n){if(this.flagRegistry[t]==null)throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)}evaluateFlag(t){if(this.flagRegistry[t]==null)throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);k9 in t&&t[k9].split(",").forEach(r=>{const[a,i]=r.split(":");this.urlFlags[a]=pKe(a,i)})}}function dKe(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(hKe(t,r[0],r[1]),r.join("="))),t}function hKe(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function pKe(e,t){const n=t.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:t}function tt(){return Ese}let Ese=null;function vKe(e){Ese=e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let KR;function Ase(){if(KR==null){let e;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else if(typeof self<"u")e=self;else throw new Error("Could not find a global object");KR=e}return KR}function gKe(){const e=Ase();return e._tfGlobals==null&&(e._tfGlobals=new Map),e._tfGlobals}function bV(e,t){const n=gKe();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const LA="Abs",$_="Acos",L_="Acosh",Zy="Add",xV="AddN",wV="All",_V="Any",OA="ArgMax",PA="ArgMin",O_="Asin",P_="Asinh",F_="Atan",B_="Atanh",V_="Atan2",FA="AvgPool",SV="AvgPoolGrad",BA="AvgPool3D",CV="AvgPool3DGrad",VA="BatchMatMul",zA="BatchToSpaceND",TV="Bincount",kV="BitwiseAnd",mKe="BroadcastTo",Dse="BroadcastArgs",z_="Cast",W_="Ceil",H_="ClipByValue",IV="Complex",WA="ComplexAbs",HA="Concat",UA="Conv2D",EV="Conv2DBackpropFilter",GA="Conv2DBackpropInput",KA="Conv3D",AV="Conv3DBackpropFilterV2",DV="Conv3DBackpropInputV2",U_="Cos",G_="Cosh",NV="Cumprod",jA="Cumsum",RV="CropAndResize",MV="DenseBincount",$V="DepthToSpace",YA="DepthwiseConv2dNative",LV="DepthwiseConv2dNativeBackpropFilter",OV="DepthwiseConv2dNativeBackpropInput",Nse="Diag",XA="Dilation2D",SP="Dilation2DBackpropInput",CP="Dilation2DBackpropFilter",yKe="Draw",K_="RealDiv",PV="Einsum",j_="Elu",FV="EluGrad",Y_="Erf",qA="Equal",X_="Exp",ZA="ExpandDims",q_="Expm1",BV="FFT",VV="Fill",zV="FlipLeftRight",Z_="Floor",J_="FloorDiv",JA="FusedBatchNorm",QA="GatherV2",Rse="GatherNd",eD="Greater",Q_="GreaterEqual",eS="Identity",WV="IFFT",HV="Imag",tS="IsFinite",nS="IsInf",rS="IsNan",tD="LeakyRelu",nD="Less",rD="LessEqual",Mse="LinSpace",aS="Log",iS="Log1p",aD="LogicalAnd",iD="LogicalNot",oD="LogicalOr",bKe="LogSoftmax",sD="LRN",UV="LRNGrad",lD="Max",oS="Maximum",uD="MaxPool",GV="MaxPoolGrad",cD="MaxPool3D",KV="MaxPool3DGrad",$se="MaxPoolWithArgmax",fD="Mean",dD="Min",sS="Minimum",hD="MirrorPad",lS="Mod",Lse="Multinomial",uS="Multiply",pD="Neg",vD="NotEqual",jV="NonMaxSuppressionV3",YV="NonMaxSuppressionV4",XV="NonMaxSuppressionV5",gD="OnesLike",mD="OneHot",yD="Pack",bD="PadV2",cS="Pow",xD="Prelu",wD="Prod",Ose="RaggedGather",Pse="RaggedRange",Fse="RaggedTensorToTensor",qV="Range",ZV="Real",fS="Reciprocal",dS="Relu",_D="Reshape",SD="ResizeNearestNeighbor",JV="ResizeNearestNeighborGrad",CD="ResizeBilinear",QV="ResizeBilinearGrad",hS="Relu6",TD="Reverse",pS="Round",vS="Rsqrt",Bse="ScatterNd",Vse="TensorScatterUpdate",zse="SearchSorted",kD="Select",gS="Selu",ID="Slice",mS="Sin",yS="Sinh",bS="Sign",xS="Sigmoid",wS="Softplus",_S="Sqrt",ED="Sum",AD="SpaceToBatchND",DD="SplitV",ND="Softmax",Wse="SparseFillEmptyRows",Hse="SparseReshape",Use="SparseSegmentMean",Gse="SparseSegmentSum",Kse="SparseToDense",SS="SquaredDifference",ez="Square",tz="StaticRegexReplace",nz="StridedSlice",jse="StringNGrams",Yse="StringSplit",Xse="StringToHashBucketFast",CS="Sub",TS="Tan",kS="Tanh",IS="Tile",rz="TopK",az="Transform",Dm="Transpose",iz="Unique",RD="Unpack",MD="UnsortedSegmentSum",$D="ZerosLike",ES="Step",xKe="FromPixels",oz="RotateWithOffset",fI="_FusedMatMul",dI="FusedConv2D",qse="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $s(...e){tt().getBool("IS_TEST")||tt().getBool("PROD")||console.warn(...e)}function wKe(...e){tt().getBool("IS_TEST")||tt().getBool("PROD")||console.log(...e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hI=bV("kernelRegistry",()=>new Map),TP=bV("gradRegistry",()=>new Map);function I9(e,t){const n=Jse(e,t);return hI.get(n)}function E9(e){return TP.get(e)}function A9(e){const t=hI.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[i,o]=a,[s]=i.split("_");s===e&&n.push(o)}return n}function Zse(e){const{kernelName:t,backendName:n}=e,r=Jse(t,n);hI.has(r)&&$s(`The kernel '${t}' for backend '${n}' is already registered`),hI.set(r,e)}function _Ke(e){const{kernelName:t}=e;TP.has(t)&&tt().getBool("DEBUG")&&$s(`Overriding the gradient for '${t}'`),TP.set(t,e)}function Jse(e,t){return`${t}_${e}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qse(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var jR,D9;function SKe(){if(D9)return jR;D9=1,jR=t;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(I,E,A){this.low=I|0,this.high=E|0,this.unsigned=!!A}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function n(I){return(I&&I.__isLong__)===!0}t.isLong=n;var r={},a={};function i(I,E){var A,N,L;return E?(I>>>=0,(L=0<=I&&I<256)&&(N=a[I],N)?N:(A=s(I,(I|0)<0?-1:0,!0),L&&(a[I]=A),A)):(I|=0,(L=-128<=I&&I<128)&&(N=r[I],N)?N:(A=s(I,I<0?-1:0,!1),L&&(r[I]=A),A))}t.fromInt=i;function o(I,E){if(isNaN(I))return E?y:m;if(E){if(I<0)return y;if(I>=p)return C}else{if(I<=-v)return k;if(I+1>=v)return S}return I<0?o(-I,E).neg():s(I%h|0,I/h|0,E)}t.fromNumber=o;function s(I,E,A){return new t(I,E,A)}t.fromBits=s;var l=Math.pow;function u(I,E,A){if(I.length===0)throw Error("empty string");if(I==="NaN"||I==="Infinity"||I==="+Infinity"||I==="-Infinity")return m;if(typeof E=="number"?(A=E,E=!1):E=!!E,A=A||10,A<2||36<A)throw RangeError("radix");var N;if((N=I.indexOf("-"))>0)throw Error("interior hyphen");if(N===0)return u(I.substring(1),E,A).neg();for(var L=o(l(A,8)),R=m,D=0;D<I.length;D+=8){var P=Math.min(8,I.length-D),O=parseInt(I.substring(D,D+P),A);if(P<8){var M=o(l(A,P));R=R.mul(M).add(o(O))}else R=R.mul(L),R=R.add(o(O))}return R.unsigned=E,R}t.fromString=u;function c(I,E){return typeof I=="number"?o(I,E):typeof I=="string"?u(I,E):s(I.low,I.high,typeof E=="boolean"?E:I.unsigned)}t.fromValue=c;var f=65536,d=1<<24,h=f*f,p=h*h,v=p/2,g=i(d),m=i(0);t.ZERO=m;var y=i(0,!0);t.UZERO=y;var b=i(1);t.ONE=b;var x=i(1,!0);t.UONE=x;var _=i(-1);t.NEG_ONE=_;var S=s(-1,2147483647,!1);t.MAX_VALUE=S;var C=s(-1,-1,!0);t.MAX_UNSIGNED_VALUE=C;var k=s(0,-2147483648,!1);t.MIN_VALUE=k;var T=t.prototype;return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(E){if(E=E||10,E<2||36<E)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(k)){var A=o(E),N=this.div(A),L=N.mul(A).sub(this);return N.toString(E)+L.toInt().toString(E)}else return"-"+this.neg().toString(E);for(var R=o(l(E,6),this.unsigned),D=this,P="";;){var O=D.div(R),M=D.sub(O.mul(R)).toInt()>>>0,W=M.toString(E);if(D=O,D.isZero())return W+P;for(;W.length<6;)W="0"+W;P=""+W+P}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var E=this.high!=0?this.high:this.low,A=31;A>0&&!(E&1<<A);A--);return this.high!=0?A+33:A+1},T.isZero=function(){return this.high===0&&this.low===0},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return(this.low&1)===1},T.isEven=function(){return(this.low&1)===0},T.equals=function(E){return n(E)||(E=c(E)),this.unsigned!==E.unsigned&&this.high>>>31===1&&E.high>>>31===1?!1:this.high===E.high&&this.low===E.low},T.eq=T.equals,T.notEquals=function(E){return!this.eq(E)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(E){return this.comp(E)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(E){return this.comp(E)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(E){return this.comp(E)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(E){return this.comp(E)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(E){if(n(E)||(E=c(E)),this.eq(E))return 0;var A=this.isNegative(),N=E.isNegative();return A&&!N?-1:!A&&N?1:this.unsigned?E.high>>>0>this.high>>>0||E.high===this.high&&E.low>>>0>this.low>>>0?-1:1:this.sub(E).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},T.neg=T.negate,T.add=function(E){n(E)||(E=c(E));var A=this.high>>>16,N=this.high&65535,L=this.low>>>16,R=this.low&65535,D=E.high>>>16,P=E.high&65535,O=E.low>>>16,M=E.low&65535,W=0,U=0,V=0,H=0;return H+=R+M,V+=H>>>16,H&=65535,V+=L+O,U+=V>>>16,V&=65535,U+=N+P,W+=U>>>16,U&=65535,W+=A+D,W&=65535,s(V<<16|H,W<<16|U,this.unsigned)},T.subtract=function(E){return n(E)||(E=c(E)),this.add(E.neg())},T.sub=T.subtract,T.multiply=function(E){if(this.isZero())return m;if(n(E)||(E=c(E)),e){var A=e.mul(this.low,this.high,E.low,E.high);return s(A,e.get_high(),this.unsigned)}if(E.isZero())return m;if(this.eq(k))return E.isOdd()?k:m;if(E.eq(k))return this.isOdd()?k:m;if(this.isNegative())return E.isNegative()?this.neg().mul(E.neg()):this.neg().mul(E).neg();if(E.isNegative())return this.mul(E.neg()).neg();if(this.lt(g)&&E.lt(g))return o(this.toNumber()*E.toNumber(),this.unsigned);var N=this.high>>>16,L=this.high&65535,R=this.low>>>16,D=this.low&65535,P=E.high>>>16,O=E.high&65535,M=E.low>>>16,W=E.low&65535,U=0,V=0,H=0,K=0;return K+=D*W,H+=K>>>16,K&=65535,H+=R*W,V+=H>>>16,H&=65535,H+=D*M,V+=H>>>16,H&=65535,V+=L*W,U+=V>>>16,V&=65535,V+=R*M,U+=V>>>16,V&=65535,V+=D*O,U+=V>>>16,V&=65535,U+=N*W+L*M+R*O+D*P,U&=65535,s(H<<16|K,U<<16|V,this.unsigned)},T.mul=T.multiply,T.divide=function(E){if(n(E)||(E=c(E)),E.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&E.low===-1&&E.high===-1)return this;var A=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,E.low,E.high);return s(A,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?y:m;var N,L,R;if(this.unsigned){if(E.unsigned||(E=E.toUnsigned()),E.gt(this))return y;if(E.gt(this.shru(1)))return x;R=y}else{if(this.eq(k)){if(E.eq(b)||E.eq(_))return k;if(E.eq(k))return b;var D=this.shr(1);return N=D.div(E).shl(1),N.eq(m)?E.isNegative()?b:_:(L=this.sub(E.mul(N)),R=N.add(L.div(E)),R)}else if(E.eq(k))return this.unsigned?y:m;if(this.isNegative())return E.isNegative()?this.neg().div(E.neg()):this.neg().div(E).neg();if(E.isNegative())return this.div(E.neg()).neg();R=m}for(L=this;L.gte(E);){N=Math.max(1,Math.floor(L.toNumber()/E.toNumber()));for(var P=Math.ceil(Math.log(N)/Math.LN2),O=P<=48?1:l(2,P-48),M=o(N),W=M.mul(E);W.isNegative()||W.gt(L);)N-=O,M=o(N,this.unsigned),W=M.mul(E);M.isZero()&&(M=b),R=R.add(M),L=L.sub(W)}return R},T.div=T.divide,T.modulo=function(E){if(n(E)||(E=c(E)),e){var A=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,E.low,E.high);return s(A,e.get_high(),this.unsigned)}return this.sub(this.div(E).mul(E))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return s(~this.low,~this.high,this.unsigned)},T.and=function(E){return n(E)||(E=c(E)),s(this.low&E.low,this.high&E.high,this.unsigned)},T.or=function(E){return n(E)||(E=c(E)),s(this.low|E.low,this.high|E.high,this.unsigned)},T.xor=function(E){return n(E)||(E=c(E)),s(this.low^E.low,this.high^E.high,this.unsigned)},T.shiftLeft=function(E){return n(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?s(this.low<<E,this.high<<E|this.low>>>32-E,this.unsigned):s(0,this.low<<E-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(E){return n(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?s(this.low>>>E|this.high<<32-E,this.high>>E,this.unsigned):s(this.high>>E-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(E){if(n(E)&&(E=E.toInt()),E&=63,E===0)return this;var A=this.high;if(E<32){var N=this.low;return s(N>>>E|A<<32-E,A>>>E,this.unsigned)}else return E===32?s(A,0,this.unsigned):s(A>>>E-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},T.toBytes=function(E){return E?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var E=this.high,A=this.low;return[A&255,A>>>8&255,A>>>16&255,A>>>24,E&255,E>>>8&255,E>>>16&255,E>>>24]},T.toBytesBE=function(){var E=this.high,A=this.low;return[E>>>24,E>>>16&255,E>>>8&255,E&255,A>>>24,A>>>16&255,A>>>8&255,A&255]},t.fromBytes=function(E,A,N){return N?t.fromBytesLE(E,A):t.fromBytesBE(E,A)},t.fromBytesLE=function(E,A){return new t(E[0]|E[1]<<8|E[2]<<16|E[3]<<24,E[4]|E[5]<<8|E[6]<<16|E[7]<<24,A)},t.fromBytesBE=function(E,A){return new t(E[4]<<24|E[5]<<16|E[6]<<8|E[7],E[0]<<24|E[1]<<16|E[2]<<8|E[3],A)},jR}var ele=SKe();const tle=Zc(ele),CKe=Fxe({__proto__:null,default:tle},[ele]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sv=tle||CKe;function LD(e){return sv.fromString(e,!0,16)}const nle=LD("c3a5c85c97cb3127"),Zp=LD("b492b66fbe98f273"),fo=LD("9ae16a3b2f90404f");function kP(e){return e.xor(e.shru(47))}function rle(e,t,n){const r=e.slice(t,t+n);return sv.fromBytes(Array.from(r),!0,!0)}function Gr(e,t){return rle(e,t,8)}function N9(e,t){return rle(e,t,4)}function ei(e,t){return t===0?e:e.shru(t).or(e.shl(64-t))}function fh(e,t,n=LD("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function TKe(e,t,n,r,a,i){a=a.add(e),i=ei(i.add(a).add(r),21);const o=a;return a=a.add(t),a=a.add(n),i=i.add(ei(a,44)),[a.add(r),i.add(o)]}function ZC(e,t,n,r){return TKe(Gr(e,t),Gr(e,t+8),Gr(e,t+16),Gr(e,t+24),n,r)}function kKe(e,t=e.length){if(t>=8){const n=fo.add(t*2),r=Gr(e,0).add(fo),a=Gr(e,t-8),i=ei(a,37).mul(n).add(r),o=ei(r,25).add(a).mul(n);return fh(i,o,n)}if(t>=4){const n=fo.add(t*2),r=N9(e,0);return fh(r.shl(3).add(t),N9(e,t-4),n)}if(t>0){const n=e[0],r=e[t>>1],a=e[t-1],i=n+(r<<8),o=t+(a<<2);return kP(fo.mul(i).xor(nle.mul(o))).mul(fo)}return fo}function IKe(e,t=e.length){const n=fo.add(t*2),r=Gr(e,0).mul(Zp),a=Gr(e,8),i=Gr(e,t-8).mul(n),o=Gr(e,t-16).mul(fo);return fh(ei(r.add(a),43).add(ei(i,30)).add(o),r.add(ei(a.add(fo),18)).add(i),n)}function EKe(e,t=e.length){const n=fo.add(t*2),r=Gr(e,0).mul(fo),a=Gr(e,8),i=Gr(e,t-8).mul(n),o=Gr(e,t-16).mul(fo),s=ei(r.add(a),43).add(ei(i,30)).add(o),l=fh(s,r.add(ei(a.add(fo),18)).add(i),n),u=Gr(e,16).mul(n),c=Gr(e,24),f=s.add(Gr(e,t-32)).mul(n),d=l.add(Gr(e,t-24)).mul(n);return fh(ei(u.add(c),43).add(ei(f,30)).add(d),u.add(ei(c.add(r),18)).add(f),n)}function AKe(e,t=e.length){const n=sv.fromNumber(81,!0);if(t<=32)return t<=16?kKe(e,t):IKe(e,t);if(t<=64)return EKe(e,t);let r=n,a=n.mul(Zp).add(113),i=kP(a.mul(fo).add(113)).mul(fo),o=[sv.UZERO,sv.UZERO],s=[sv.UZERO,sv.UZERO];r=r.mul(fo).add(Gr(e,0));let l=0;const u=(t-1>>6)*64,c=u+(t-1&63)-63;do r=ei(r.add(a).add(o[0]).add(Gr(e,l+8)),37).mul(Zp),a=ei(a.add(o[1]).add(Gr(e,l+48)),42).mul(Zp),r=r.xor(s[1]),a=a.add(o[0]).add(Gr(e,l+40)),i=ei(i.add(s[0]),33).mul(Zp),o=ZC(e,l,o[1].mul(Zp),r.add(s[0])),s=ZC(e,l+32,i.add(s[1]),a.add(Gr(e,l+16))),[i,r]=[r,i],l+=64;while(l!==u);const f=Zp.add(i.and(255).shl(1));return l=c,s[0]=s[0].add(t-1&63),o[0]=o[0].add(s[0]),s[0]=s[0].add(o[0]),r=ei(r.add(a).add(o[0]).add(Gr(e,l+8)),37).mul(f),a=ei(a.add(o[1]).add(Gr(e,l+48)),42).mul(f),r=r.xor(s[1].mul(9)),a=a.add(o[0].mul(9).add(Gr(e,l+40))),i=ei(i.add(s[0]),33).mul(f),o=ZC(e,l,o[1].mul(f),r.add(s[0])),s=ZC(e,l+32,i.add(s[1]),a.add(Gr(e,l+16))),[i,r]=[r,i],fh(fh(o[0],s[0],f).add(kP(a).mul(nle)).add(i),fh(o[1],s[1],f).add(r),f)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qh(e,t){return t==="string"?dh(e):Fg([e],t)}function DKe(e,t){return e instanceof Float32Array&&t==="float32"||e instanceof Int32Array&&t==="int32"||e instanceof Uint8Array&&t==="bool"}function Fg(e,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=ug(e)),tt().getBool("DEBUG")&&oKe(e,t),DKe(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){const n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)Math.round(e[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${t}`)}function Bo(){return tt().platform.now()}function dh(e,t="utf-8"){return t=t||"utf-8",tt().platform.encode(e,t)}function Dh(e,t="utf-8"){return t=t||"utf-8",tt().platform.decode(e,t)}function Ol(e){return tt().platform.isTypedArray!=null?tt().platform.isTypedArray(e):Qse(e)}function ug(e,t=[],n=!1){if(t==null&&(t=[]),typeof e=="boolean"||typeof e=="number"||typeof e=="string"||yV(e)||e==null||Ol(e)&&n)t.push(e);else if(Array.isArray(e)||Ol(e))for(let r=0;r<e.length;++r)ug(e[r],t,n);else{let r=-1;for(const a of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(a)&&(r=Math.max(r,Number(a)));for(let a=0;a<=r;a++)ug(e[a],t,n)}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NKe{constructor(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new MKe)}profileKernel(t,n,r){let a;const i=()=>{a=r()};let o;const s=Bo();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(i);else{i();for(const u of a)u.dataSync();o=Promise.resolve({kernelMs:Bo()-s})}if(tt().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<a.length;u++){const c=a[u];c.data().then(f=>{RKe(f,c.dtype,t)})}return{kernelName:t,outputs:a,inputs:n,timeMs:o.then(u=>u.kernelMs),extraInfo:o.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:n,outputs:r,timeMs:a,inputs:i,extraInfo:o}=t;r.forEach(s=>{Promise.all([s.data(),a,o]).then(l=>{this.logger.logKernelProfile(n,s,l[0],l[1],i,l[2])})})}}function RKe(e,t,n){if(t!=="float32")return!1;for(let r=0;r<e.length;r++){const a=e[r];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class MKe{logKernelProfile(t,n,r,a,i,o){const s=typeof a=="number"?Am(`${a}ms`,9):a.error,l=Am(t,25),u=n.rank,c=n.size,f=Am(n.shape.toString(),14);let d="";for(const h in i){const p=i[h];if(p!=null){const v=p.shape||n.shape,g=v.length;d+=`${h}: ${g}D ${g>0?v:""} `}}console.log(`%c${l}	%c${s}	%c${u}D ${f}	%c${c}	%c${d}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ke(e,t,n){const r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const u=e[l],c=u.inputs;for(const f in c){const d=c[f];let h=!1;for(let p=0;p<t.length;p++)if(r[d.id]){u.outputs.forEach(v=>r[v.id]=!0),h=!0,a[u.id]=!0;break}if(h)break}}const i={};i[n.id]=!0;const o={};for(let l=e.length-1;l>=0;l--){const u=e[l],c=u.inputs;for(let f=0;f<u.outputs.length;f++)if(i[u.outputs[f].id]){for(const d in c)i[c[d].id]=!0,o[u.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const u=e[l];if(a[u.id]&&o[u.id]){const c={};for(const d in u.inputs){const h=u.inputs[d];r[h.id]&&(c[d]=h)}const f=Object.assign({},u);f.inputs=c,f.outputs=u.outputs,s.push(f)}}return s}function LKe(e,t,n,r){for(let a=t.length-1;a>=0;a--){const i=t[a],o=[];if(i.outputs.forEach(l=>{const u=e[l.id];u!=null?o.push(u):o.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const s=i.gradient(o);for(const l in i.inputs){if(!(l in s))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(s)}.`);const u=n(()=>s[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=i.inputs[l];if(!Er(u.shape,c.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(e[c.id]==null)e[c.id]=u;else{const f=e[c.id];e[c.id]=r(f,u),f.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R9=20,z1=3,YR=7;function OKe(e,t,n,r){const a=dn(t),i=PKe(e,t,n,a),o=t.length,s=tk(e,t,n,a,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${o}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(s.map(u=>"    "+u).join(`
`)),l.join(`
`)}function PKe(e,t,n,r){const a=ot(t),i=r[r.length-1],o=new Array(i).fill(0),s=t.length,l=n==="complex64"?kb(e):e;if(s>1)for(let u=0;u<a/i;u++){const c=u*i;for(let f=0;f<i;f++)o[f]=Math.max(o[f],Tb(l[c+f],0,n).length)}return o}function Tb(e,t,n){let r;return Array.isArray(e)?r=`${parseFloat(e[0].toFixed(YR))} + ${parseFloat(e[1].toFixed(YR))}j`:M_(e)?r=`'${e}'`:n==="bool"?r=ale(e):r=parseFloat(e.toFixed(YR)).toString(),Am(r,t)}function ale(e){return e===0?"false":"true"}function tk(e,t,n,r,a,i=!0){const o=n==="complex64"?2:1,s=t[0],l=t.length;if(l===0){if(n==="complex64"){const v=kb(e);return[Tb(v[0],0,n)]}return n==="bool"?[ale(e[0])]:[e[0].toString()]}if(l===1){if(s>R9){const g=z1*o;let m=Array.from(e.slice(0,g)),y=Array.from(e.slice((s-z1)*o,s*o));return n==="complex64"&&(m=kb(m),y=kb(y)),["["+m.map((b,x)=>Tb(b,a[x],n)).join(", ")+", ..., "+y.map((b,x)=>Tb(b,a[s-z1+x],n)).join(", ")+"]"]}return["["+(n==="complex64"?kb(e):Array.from(e)).map((g,m)=>Tb(g,a[m],n)).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),f=r[0]*o,d=[];if(s>R9){for(let v=0;v<z1;v++){const g=v*f,m=g+f;d.push(...tk(e.slice(g,m),u,n,c,a,!1))}d.push("...");for(let v=s-z1;v<s;v++){const g=v*f,m=g+f;d.push(...tk(e.slice(g,m),u,n,c,a,v===s-1))}}else for(let v=0;v<s;v++){const g=v*f,m=g+f;d.push(...tk(e.slice(g,m),u,n,c,a,v===s-1))}const h=l===2?",":"";d[0]="["+(s>0?d[0]+h:"");for(let v=1;v<d.length-1;v++)d[v]=" "+d[v]+h;let p=`,
`;for(let v=2;v<l;v++)p+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":p),d}function kb(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ti{constructor(t,n,r){if(this.dtype=n,this.shape=t.slice(),this.size=ot(t),r!=null){const a=r.length;pe(a===this.size,()=>`Length of values '${a}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||ma(n,this.size),this.strides=dn(t)}set(t,...n){n.length===0&&(n=[0]),pe(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=t}get(...t){t.length===0&&(t=[0]);let n=0;for(const a of t){if(a<0||a>=this.shape[n]){const i=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=t[t.length-1];for(let a=0;a<t.length-1;++a)r+=this.strides[a]*t[a];return this.values[r]}locToIndex(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n}indexToLoc(t){if(this.rank===0)return[];if(this.rank===1)return[t];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n}get rank(){return this.shape.length}toTensor(){return lu().makeTensor(this.values,this.shape,this.dtype)}}let lu=null,em=null;function FKe(e){lu=e}function BKe(e){em=e}class Fa{constructor(t,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=ot(t),this.strides=dn(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const t=await this.data();return em.buffer(this.shape,this.dtype,t)}bufferSync(){return em.buffer(this.shape,this.dtype,this.dataSync())}async array(){const t=await this.data();return _u(this.shape,t,this.dtype==="complex64")}arraySync(){return _u(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const t=lu().read(this.dataId);if(this.dtype==="string"){const n=await t;try{return n.map(r=>Dh(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t}dataToGPU(t){return this.throwIfDisposed(),lu().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=lu().readSync(this.dataId);if(this.dtype==="string")try{return t.map(n=>Dh(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}async bytes(){this.throwIfDisposed();const t=await lu().read(this.dataId);return this.dtype==="string"?t:new Uint8Array(t.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),lu().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return em.print(this,t)}clone(){return this.throwIfDisposed(),em.clone(this)}toString(t=!1){const n=this.dataSync();return OKe(n,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),em.cast(this,t)}variable(t=!0,n,r){return this.throwIfDisposed(),lu().makeVariable(this,t,n,r)}}Object.defineProperty(Fa,Symbol.hasInstance,{value:e=>!!e&&e.data!=null&&e.dataSync!=null&&e.throwIfDisposed!=null});function it(){return bV("Tensor",()=>Fa)}it();class pI extends Fa{constructor(t,n,r,a){super(t.shape,t.dtype,t.dataId,a),this.trainable=n,this.name=r}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!Er(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);lu().disposeTensor(this),this.dataId=t.dataId,lu().incRef(this,null)}dispose(){lu().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(pI,Symbol.hasInstance,{value:e=>e instanceof Fa&&e.assign!=null&&e.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var M9;(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(M9||(M9={}));var IP;(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(IP||(IP={}));var EP;(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(EP||(EP={}));var AP;(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(AP||(AP={}));var DP;(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(DP||(DP={}));const VKe={float32:AP,int32:IP,bool:EP,complex64:DP};function Ts(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return VKe[e][t]}function sz(e){return Ts(e,"int32")}function ile(e){return e!=null&&typeof e=="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function ole(e){return typeof GPUBuffer<"u"&&e!=null&&typeof e=="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wa(e,t){if(e.dtype===t.dtype)return[e,t];const n=Ts(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function sle(e){const t=[];return lle(e,t,new Set),t}function lle(e,t,n){if(e==null)return;if(e instanceof Fa){t.push(e);return}if(!zKe(e))return;const r=e;for(const a in r){const i=r[a];n.has(i)||(n.add(i),lle(i,t,n))}}function zKe(e){return Array.isArray(e)||typeof e=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XR(e){return e.kernelName!=null}class $9{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class cy{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new $9}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:t,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry))if(t in this.registryFactory){const{asyncInit:n}=this.initializeBackend(t);if(n)return null}else return null;return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,n,r=1){return t in this.registryFactory?($s(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:n,priority:r},!0)}async setBackend(t){if(this.registryFactory[t]==null)throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,this.registry[t]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(t);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new NKe(this.backendInstance),!0}setupRegisteredKernels(){A9(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(t){A9(t).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[t])})}initializeBackend(t){const n=this.registryFactory[t];if(n==null)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof hV)&&typeof r.then=="function"){const a=++this.pendingBackendInitId,i=r.then(o=>a<this.pendingBackendInitId?!1:(this.registry[t]=o,this.pendingBackendInit=null,!0)).catch(o=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,$s(`Initialization of backend ${t} failed`),$s(o.stack||o.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(r){return $s(`Initialization of backend ${t} failed`),$s(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((t,n)=>this.registryFactory[n].priority-this.registryFactory[t].priority)}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n],{success:a,asyncInit:i}=this.initializeBackend(r);if(i||a)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,n){const r=this.state.tensorInfo.get(n),a=r.backend,i=this.readSync(n),o=a.refCount(n);a.disposeData(n,!0),r.backend=t,t.move(n,i,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,n){let r=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}let a;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=n(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(t,n,r){t();try{const a=r();return n(),a}catch(a){throw n(),a}}nextTensorId(){return cy.nextTensorId++}nextVariableId(){return cy.nextVariableId++}clone(t){const n=Fe.runKernel(eS,{x:t}),r={x:t},a=o=>({x:()=>{const s="float32",l={x:o},u={dtype:s};return Fe.runKernel(z_,l,u)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],a,i,{}),n}runKernel(t,n,r){if(this.backendName==null&&this.backend,!(I9(t,this.backendName)!=null))throw new Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,n,r){const a=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-n-i-o;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${t}'`)}runKernelFunc(t){let n,r=[];const a=this.isTapeOn(),i=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let s;this.backendName==null&&this.backend;let l;const u=XR(t)?t.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(XR(t)){const{kernelName:p,inputs:v,attrs:g}=t;this.backendName==null&&this.backend;const m=I9(p,this.backendName);pe(m!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),s=()=>{const y=this.backend.numDataIds();l=m.kernelFunc({inputs:v,attrs:g,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,y,b);const x=b.map(_=>_.rank!=null?_:this.makeTensorFromTensorInfo(_));if(a){const _=this.getTensorsForGradient(p,v,x);r=this.saveTensorsForBackwardMode(_)}return x}}else{const{forwardFunc:p}=t,v=g=>{a&&(r=g.map(m=>this.keep(this.clone(m))))};s=()=>{const g=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,v));const m=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,g,m),m}}const{inputs:c,attrs:f}=t,d=XR(t)?null:t.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=s():(h=this.profiler.profileKernel(u,c,()=>s()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),a&&this.addTapeNode(u,c,n,d,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(p=>c[p]!=null?c[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(t){return t.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(t,n,r){const a=E9(t);if(a!=null){const i=a.inputsToSave||[],o=a.outputsToSave||[];let s;a.saveAllInputs?(pe(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),s=Object.keys(n).map(u=>n[u])):s=i.map(u=>n[u]);const l=r.filter((u,c)=>o[c]);return s.concat(l)}return[]}makeTensor(t,n,r,a){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;let i=t;r==="string"&&M_(t[0])&&(i=t.map(l=>dh(l)));const o=a.write(i,n,r),s=new Fa(n,r,o,this.nextTensorId());if(this.trackTensor(s,a),r==="string"){const l=this.state.tensorInfo.get(o),u=lKe(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return s}makeTensorFromDataId(t,n,r,a){r=r||"float32";const i={dataId:t,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,a)}makeTensorFromTensorInfo(t,n){const{dataId:r,shape:a,dtype:i}=t,o=new Fa(a,i,r,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(t,n=!0,r,a){r=r||this.nextVariableId().toString(),a!=null&&a!==t.dtype&&(t=t.cast(a));const i=new pI(t,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(t,n){this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++;let r=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(r=t.size*cI(t.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:r})),t instanceof pI||this.track(t)}incRef(t,n){this.trackTensor(t,n),this.backend.incRef(t.dataId)}removeDataId(t,n){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===n&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;const n=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,t.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),t.dtype!=="complex64"&&t.dtype!=="string"){const r=t.size*cI(t.dtype);this.state.numBytes-=r}n.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,n.backend)}disposeVariables(){for(const t in this.state.registeredVariables){const n=this.state.registeredVariables[t];this.disposeVariable(n)}}disposeVariable(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(t,n,r,a,i,o){const s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:i},l=E9(t);l!=null&&(a=l.gradFunc),a!=null&&(s.gradient=u=>(u=u.map((c,f)=>{if(c==null){const d=r[f],h=Gi(d.size,d.dtype);return this.makeTensor(h,d.shape,d.dtype)}return c}),a(u.length>1?u:u[0],i,o))),this.state.activeTape.push(s)}keep(t){return t.kept=!0,t}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(t){const n=sle(t),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const o=this.state.activeScope.track[i];!o.kept&&!r.has(o.id)&&o.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===a.id&&this.track(i)})}gradients(t,n,r,a=!1){if(pe(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",t));pe(i instanceof Fa,()=>"The result y returned by f() must be a tensor.");const o=$Ke(this.state.activeTape,n,i);if(!a&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const s={};s[i.id]=r??WKe(i.shape),LKe(s,o,u=>this.tidy(u),HKe);const l=n.map(u=>s[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(t){return pe(wP(t),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{pe(n.every(s=>s instanceof Fa),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const a={};n.forEach((s,l)=>{a[l]=s});const i=(s,l)=>(r=t(...n,l),pe(r.value instanceof Fa,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),pe(wP(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),o=(s,l)=>{const u=r.gradFunc(s,l),c=Array.isArray(u)?u:[u];pe(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),pe(c.every(d=>d instanceof Fa),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const f={};return c.forEach((d,h)=>{f[h]=()=>d}),f};return this.runKernelFunc({forwardFunc:i,backwardsFunc:o,inputs:a})}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}readToGPU(t,n){return this.state.tensorInfo.get(t).backend.readToGPU(t,n)}async time(t){const n=Bo(),r=await this.backend.time(t);return r.wallMs=Bo()-n,r}track(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new $9;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}cy.nextTensorId=0;cy.nextVariableId=0;function WKe(e){const t=mV(ot(e),"float32");return Fe.makeTensor(t,e,"float32")}function ule(){const e=Ase();if(e._tfengine==null){const t=new fKe(e);e._tfengine=new cy(t)}return vKe(e._tfengine.ENV),FKe(()=>e._tfengine),e._tfengine}const Fe=ule();function HKe(e,t){const n={a:e,b:t};return Fe.runKernel(Zy,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UKe(){return typeof navigator<"u"&&navigator!=null}function cle(e){if(e||UKe()){if(e||(e=navigator),e.product==="ReactNative")return!0;const t=e.userAgent||e.vendor||(typeof window<"u"?window.opera:"");if(!t){const n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function fle(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ns=tt();ns.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});ns.registerFlag("IS_BROWSER",()=>fle());ns.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");ns.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));ns.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));ns.registerFlag("PROD",()=>!1);ns.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>ns.getBool("DEBUG"));ns.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);ns.registerFlag("IS_TEST",()=>!1);ns.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>ns.getBool("DEBUG"));ns.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);ns.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);ns.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AS(e,t){let n=e;if(Ol(e))return t==="string"?[]:[e.length];if(ile(e)){const a=e.channels||"RGBA";return[e.height,e.width*a.length]}else if(ole(e))return[e.buffer.size/(t==null?4:cI(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Ol(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&tt().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&dle(e,r,[]),r}function dle(e,t,n){if(n=n||[],!Array.isArray(e)&&!Ol(e)){pe(t.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}pe(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),pe(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);const r=t.slice(1);for(let a=0;a<e.length;++a)dle(e[a],r,n.concat(a))}function L9(e,t,n,r){if(e!=="string_or_numeric"){if(e==null)throw new Error("Expected dtype cannot be null.");if(e!=="numeric"&&e!==t||e==="numeric"&&t==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function De(e,t,n,r="numeric"){if(e instanceof it())return L9(r,e.dtype,t,n),e;let a=Xy(e);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),L9(r,a,t,n),e==null||!Ol(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){const l=e==null?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const i=AS(e,a);!Ol(e)&&!Array.isArray(e)&&(e=[e]);const s=a!=="string"?Fg(e,a):ug(e,[],!0);return Fe.makeTensor(s,i,a)}function hle(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((i,o)=>De(i,`${t}[${o}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GKe="__op";function Ue(e){const t=Object.keys(e);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+GKe;const a=(...i)=>{Fe.startScope(n);try{const o=r(...i);return yV(o)&&console.error("Cannot return a Promise inside of tidy."),Fe.endScope(o),o}catch(o){throw Fe.endScope(null),o}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KKe(e,t){const n=De(e,"real","complex"),r=De(t,"imag","complex");vV(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return Fe.runKernel(IV,a)}const cg=Ue({complex_:KKe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DS(e,t,n,r){if(r==null)r=Xy(e);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(ole(e)||ile(e)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return Fe.backend.createTensorFromGPUData(e,t||n,r)}if(!Ol(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){ld(t);const a=ot(t),i=ot(n);pe(a===i,()=>`Based on the provided shape, [${t}], the tensor should have ${a} values but has ${i}`);for(let o=0;o<n.length;++o){const s=n[o],l=o===n.length-1?s!==ot(t.slice(o)):!0;pe(n[o]===t[o]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return!Ol(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e=r!=="string"?Fg(e,r):ug(e,[],!0),Fe.makeTensor(e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sx(e,t,n){const r=AS(e,n);return DS(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vI={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class ep{static join(t){return new ep(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,t==null||(t instanceof Array||(t=[t]),t=t.map(r=>Ol(r)?r.buffer:r),t.length===0))return;this.bufferUniformSize=t[0].byteLength;let n=0;for(let r=0;r<t.length;r++){const a=t[r];r!==t.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=n+a.byteLength;this.shards.push({buffer:a,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,n=isNaN(Number(n))?0:n,t=Math.max(0,t),n=Math.min(this.byteLength,n),n<=t)return new ArrayBuffer(0);const r=this.findShardForByte(t);if(r===-1)throw new Error(`Could not find start shard for byte ${t}`);const a=n-t,i=new ArrayBuffer(a),o=new Uint8Array(i);let s=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],f=t+s-u.start,d=s,p=Math.min(n,u.end)-u.start,v=new Uint8Array(u.buffer,f,p-f);if(o.set(v,d),s+=v.length,n<u.end)break}return i}findShardForByte(t){if(this.shards.length===0||t<0||t>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function n(a){return t<a.start?-1:t>=a.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=jKe(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function jKe(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,i=t(e[a]);if(i===0)return a;i<0?r=a:n=a+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ac(){return Fe}function O9(){return Fe.memory()}function Xe(e,t){return Fe.tidy(e,t)}function zn(e){sle(e).forEach(n=>n.dispose())}function Cc(e){return Fe.keep(e)}function YKe(){return Fe.ready()}function XKe(){return Fe.backendName}function ple(e,t,n=1){return Fe.registerBackend(e,t,n)}function qKe(){return Fe.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fy=4;async function P9(e,t){const n=[],r=[],a=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);for(let o=0;o<a.length;++o){const s=a[o],l=Array.isArray(e)?e[o].tensor:e[s];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${s}': ${l.dtype}`);const u={name:s,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async f=>{const d=await l.bytes(),h=d.reduce((g,m)=>g+m.length,0)+fy*d.length,p=new Uint8Array(h);let v=0;for(let g=0;g<d.length;g++){const m=d[g],y=new Uint8Array(new Uint32Array([m.length]).buffer);p.set(y,v),v+=fy,p.set(m,v),v+=m.length}f(p)});r.push(c)}else r.push(l.data());t!=null&&(u.group=t),n.push(u)}const i=await Promise.all(r);return{data:eje(i),specs:n}}function ZKe(e,t){const n=new ep(e),r={};let a=0;for(const i of t){const o=JKe(i,(s,l)=>n.slice(a+s,a+l));r[i.name]=QKe(i,n.slice(a,a+o)),a+=o}return r}function JKe(e,t){const n=ot(e.shape);let r;if("quantization"in e){const a=e.quantization;r=vI[a.dtype]}else if(e.dtype==="string"){let a=0;for(let i=0;i<n;i++)a+=fy+new Uint32Array(t(a,a+fy))[0];return a}else r=vI[e.dtype];return n*r}function QKe(e,t){const n=e.name,r=e.dtype,a=e.shape,i=ot(a);let o,s=0;if("quantization"in e){const l=e.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${e.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${e.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${e.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=vI[l.dtype],c=l.dtype==="uint8"?new Uint8Array(t):new Uint16Array(t);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){o=new Float32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];o[f]=d*l.scale+l.min}}else if(l.dtype==="float16")o=cje()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);o=new Int32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];o[f]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);s+=i*u}else if(r==="string"){const l=ot(e.shape);o=[];for(let u=0;u<l;u++){const c=new Uint32Array(t.slice(s,s+fy))[0];s+=fy;const f=new Uint8Array(t.slice(s,s+c));o.push(f),s+=c}}else{const l=vI[r];if(r==="float32")o=new Float32Array(t);else if(r==="int32")o=new Int32Array(t);else if(r==="bool")o=new Uint8Array(t);else if(r==="complex64"){o=new Float32Array(t);const u=new Float32Array(o.length/2),c=new Float32Array(o.length/2);for(let p=0;p<u.length;p++)u[p]=o[p*2],c[p]=o[p*2+1];const f=sx(u,a,"float32"),d=sx(c,a,"float32"),h=cg(f,d);return f.dispose(),d.dispose(),h}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);s+=i*l}return sx(o,a,r)}function eje(e){if(e===null)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(i=>{if(t+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(t);let a=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),a),a+=i.byteLength}),r.buffer}const lz=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function F9(e){return lz?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function tje(e){if(lz)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function nje(e){if(lz){const r=Buffer.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function rje(e){return ep.join(e)}function aje(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(n.initializerSignature=e.initializerSignature),e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),n}function ije(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(e.trainingConfig!=null&&(r.trainingConfig=e.trainingConfig),e.weightsManifest!=null){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return e.signature!=null&&(r.signature=e.signature),e.userDefinedMetadata!=null&&(r.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(r.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(r.initializerSignature=e.initializerSignature),r}async function oje(e,t){let n,r;return e.weightsManifest!=null&&([n,r]=await t(e.weightsManifest)),ije(e,n,r)}function uz(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:F9(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:F9(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:new ep(e.weightData).byteLength}}function B9(e){const t=[];for(const n of e)t.push(...n.weights);return t}function sje(){const e=n=>{let r=n<<13,a=0;for(;!(r&8388608);)a-=8388608,r<<=1;return r&=-8388609,a+=947912704,r|a},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}function lje(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function uje(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function cje(){const e=sje(),t=lje(),n=uje();return r=>{const a=new ArrayBuffer(4*r.length),i=new Uint32Array(a);for(let o=0;o<r.length;o++){const s=r[o],l=e[n[s>>10]+(s&1023)]+t[s>>10];i[o]=l}return new Float32Array(a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qa{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return qa.instance==null&&(qa.instance=new qa),qa.instance}static registerSaveRouter(t){qa.getInstance().saveRouters.push(t)}static registerLoadRouter(t){qa.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return qa.getHandlers(t,"save")}static getLoadHandlers(t,n){return qa.getHandlers(t,"load",n)}static getHandlers(t,n,r){const a=[];return(n==="load"?qa.getInstance().loadRouters:qa.getInstance().saveRouters).forEach(o=>{const s=o(t,r);s!==null&&a.push(s)}),a}}const fje=e=>qa.getSaveHandlers(e),dje=(e,t)=>qa.getLoadHandlers(e,t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NP="tensorflowjs",RP=1,wv="models_store",Kd="model_info_store";function vle(){if(!tt().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e=typeof window>"u"?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function MP(e){const t=e.result;t.createObjectStore(wv,{keyPath:"modelPath"}),t.createObjectStore(Kd,{keyPath:"modelPath"})}class fg{constructor(t){if(this.indexedDB=vle(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,t)}async load(){return this.databaseAction(this.modelPath)}databaseAction(t,n){return new Promise((r,a)=>{const i=this.indexedDB.open(NP,RP);i.onupgradeneeded=()=>MP(i),i.onsuccess=()=>{const o=i.result;if(n==null){const s=o.transaction(wv,"readonly"),u=s.objectStore(wv).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return o.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(o.close(),a(u.error)),s.oncomplete=()=>o.close()}else{n.weightData=ep.join(n.weightData);const s=uz(n),l=o.transaction(Kd,"readwrite");let u=l.objectStore(Kd),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:s})}catch(d){return a(d)}let f;c.onsuccess=()=>{f=o.transaction(wv,"readwrite");const d=f.objectStore(wv);let h;try{h=d.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:s})}catch(p){return a(p)}h.onsuccess=()=>r({modelArtifactsInfo:s}),h.onerror=p=>{u=l.objectStore(Kd);const v=u.delete(this.modelPath);v.onsuccess=()=>(o.close(),a(h.error)),v.onerror=g=>(o.close(),a(h.error))}},c.onerror=d=>(o.close(),a(c.error)),l.oncomplete=()=>{f==null?o.close():f.oncomplete=()=>o.close()}}},i.onerror=o=>a(i.error)})}}fg.URL_SCHEME="indexeddb://";const gle=e=>tt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(fg.URL_SCHEME)?hje(e.slice(fg.URL_SCHEME.length)):null;qa.registerSaveRouter(gle);qa.registerLoadRouter(gle);function hje(e){return new fg(e)}function pje(e){return e.startsWith(fg.URL_SCHEME)?e.slice(fg.URL_SCHEME.length):e}class vje{constructor(){this.indexedDB=vle()}async listModels(){return new Promise((t,n)=>{const r=this.indexedDB.open(NP,RP);r.onupgradeneeded=()=>MP(r),r.onsuccess=()=>{const a=r.result,i=a.transaction(Kd,"readonly"),s=i.objectStore(Kd).getAll();s.onsuccess=()=>{const l={};for(const u of s.result)l[u.modelPath]=u.modelArtifactsInfo;t(l)},s.onerror=l=>(a.close(),n(s.error)),i.oncomplete=()=>a.close()},r.onerror=a=>n(r.error)})}async removeModel(t){return t=pje(t),new Promise((n,r)=>{const a=this.indexedDB.open(NP,RP);a.onupgradeneeded=()=>MP(a),a.onsuccess=()=>{const i=a.result,o=i.transaction(Kd,"readwrite"),s=o.objectStore(Kd),l=s.get(t);let u;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const c=s.delete(t),f=()=>{u=i.transaction(wv,"readwrite");const h=u.objectStore(wv).delete(t);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>r(l.error)};c.onsuccess=f,c.onerror=d=>(f(),i.close(),r(l.error))}},l.onerror=c=>(i.close(),r(l.error)),o.oncomplete=()=>{u==null?i.close():u.oncomplete=()=>i.close()}},a.onerror=i=>r(a.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cf="/",tm="tensorflowjs_models",mle="info",gje="model_topology",mje="weight_specs",yje="weight_data",bje="model_metadata";function yle(e){return{info:[tm,e,mle].join(Cf),topology:[tm,e,gje].join(Cf),weightSpecs:[tm,e,mje].join(Cf),weightData:[tm,e,yje].join(Cf),modelMetadata:[tm,e,bje].join(Cf)}}function ble(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function xje(e){const t=e.split(Cf);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(Cf)}function wje(e){return e.startsWith(dg.URL_SCHEME)?e.slice(dg.URL_SCHEME.length):e}class dg{constructor(t){if(!tt().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=yle(this.modelPath)}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=uz(t),i=ep.join(t.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,tje(i));const o={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:t.signature!=null?t.signature:void 0,userDefinedMetadata:t.userDefinedMetadata!=null?t.userDefinedMetadata:void 0,modelInitializer:t.modelInitializer!=null?t.modelInitializer:void 0,initializerSignature:t.initializerSignature!=null?t.initializerSignature:void 0,trainingConfig:t.trainingConfig!=null?t.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:a}}catch{throw ble(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const t=JSON.parse(this.LS.getItem(this.keys.info));if(t==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=a;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const s=JSON.parse(i);n.format=s.format,n.generatedBy=s.generatedBy,n.convertedBy=s.convertedBy,s.signature!=null&&(n.signature=s.signature),s.userDefinedMetadata!=null&&(n.userDefinedMetadata=s.userDefinedMetadata),s.modelInitializer!=null&&(n.modelInitializer=s.modelInitializer),s.initializerSignature!=null&&(n.initializerSignature=s.initializerSignature),s.trainingConfig!=null&&(n.trainingConfig=s.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=nje(o),n}}dg.URL_SCHEME="localstorage://";const xle=e=>tt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(dg.URL_SCHEME)?_je(e.slice(dg.URL_SCHEME.length)):null;qa.registerSaveRouter(xle);qa.registerLoadRouter(xle);function _je(e){return new dg(e)}class Sje{constructor(){pe(tt().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),pe(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const t={},n=tm+Cf,r=Cf+mle;for(let a=0;a<this.LS.length;++a){const i=this.LS.key(a);if(i.startsWith(n)&&i.endsWith(r)){const o=xje(i);t[o]=JSON.parse(this.LS.getItem(i))}}return t}async removeModel(t){t=wje(t);const n=yle(t);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(this.LS.getItem(n.info));return ble(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V9="://";class ic{constructor(){this.managers={}}static getInstance(){return ic.instance==null&&(ic.instance=new ic),ic.instance}static registerManager(t,n){pe(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(V9)&&(t=t.slice(0,t.indexOf(V9))),pe(t.length>0,()=>"scheme must not be an empty string.");const r=ic.getInstance();pe(r.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),r.managers[t]=n}static getManager(t){const n=ic.getInstance().managers[t];if(n==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}static getSchemes(){return Object.keys(ic.getInstance().managers)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cje{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,n){return fetch(t,n)}now(){return performance.now()}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,n){return new TextDecoder(n).decode(t)}setTimeoutCustom(t,n){if(typeof window>"u"||!tt().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(t,n);return}this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const a=this.functionRefs[r.data.index];a(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(t){return Qse(t)}}if(tt().get("IS_BROWSER")){tt().setPlatform("browser",new Cje);try{ic.registerManager(dg.URL_SCHEME,new Sje)}catch{}try{ic.registerManager(fg.URL_SCHEME,new vje)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tje={importFetch:()=>require("node-fetch")};let qR;class kje{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(t,n){return tt().global.fetch!=null?tt().global.fetch(t,n):(qR==null&&(qR=Tje.importFetch()),qR(t,n))}now(){const t=process.hrtime();return t[0]*1e3+t[1]/1e6}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(t)}decode(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}}tt().get("IS_NODE")&&!tt().get("IS_BROWSER")&&tt().setPlatform("node",new kje);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gn(e,t="float32",n){return t=t||"float32",ld(e),new Ti(e,t,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ije(e,t){const n=De(e,"x","cast");if(!sKe(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return Fe.runKernel(z_,r,a)}const Ut=Ue({cast_:Ije});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eje(e){const n={x:De(e,"x","clone","string_or_numeric")};return Fe.runKernel(eS,n)}const Fv=Ue({clone_:Eje});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aje(e,t=!1){console.log(e.toString(t))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ule();const Dje={buffer:Gn,cast:Ut,clone:Fv,print:Aje};BKe(Dje);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nje(e,t){let n=De(e,"a","add"),r=De(t,"b","add");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(Zy,a)}const Et=Ue({add_:Nje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rje(e,t){let n=De(e,"a","floorDiv"),r=De(t,"b","floorDiv");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(J_,a)}const wle=Ue({floorDiv_:Rje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mje(e,t){let n=De(e,"a","div"),r=De(t,"b","div");if([n,r]=wa(n,r),n.dtype==="int32"&&r.dtype==="int32")return wle(n,r);const a={a:n,b:r},i={};return Fe.runKernel(K_,a,i)}const gn=Ue({div_:Mje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $je(e,t){let n=De(e,"a","mul"),r=De(t,"b","mul");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(uS,a)}const Pe=Ue({mul_:$je});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lje(e){const t=De(e,"x","abs");if(t.dtype==="complex64"){const n={x:t};return Fe.runKernel(WA,n)}else{const n={x:t};return Fe.runKernel(LA,n)}}const oo=Ue({abs_:Lje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oje(e){const n={x:De(e,"x","acos")};return Fe.runKernel($_,n)}const Pje=Ue({acos_:Oje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fje(e){const n={x:De(e,"x","acosh")};return Fe.runKernel(L_,n)}const Bje=Ue({acosh_:Fje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vje(e,t=null,n=!1){const a={x:De(e,"x","all","bool")},i={axis:t,keepDims:n};return Fe.runKernel(wV,a,i)}const _le=Ue({all_:Vje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zje(e,t=null,n=!1){const a={x:De(e,"x","any","bool")},i={axis:t,keepDims:n};return Fe.runKernel(_V,a,i)}const $P=Ue({any_:zje});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wje(e,t=0){const r={x:De(e,"x","argMax")},a={axis:t};return Fe.runKernel(OA,r,a)}const fw=Ue({argMax_:Wje});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hje(e,t=0){const r={x:De(e,"x","argMin")},a={axis:t};return Fe.runKernel(PA,r,a)}const Uje=Ue({argMin_:Hje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gje(e){const n={x:De(e,"x","asin")};return Fe.runKernel(O_,n)}const Kje=Ue({asin_:Gje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jje(e){const n={x:De(e,"x","asinh")};return Fe.runKernel(P_,n)}const Yje=Ue({asinh_:jje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xje(e){const n={x:De(e,"x","atan")};return Fe.runKernel(F_,n)}const qje=Ue({atan_:Xje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zje(e,t){let n=De(e,"a","atan2"),r=De(t,"b","atan2");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(V_,a)}const Jje=Ue({atan2_:Zje});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qje(e){const n={x:De(e,"x","atanh")};return Fe.runKernel(B_,n)}const eYe=Ue({atanh_:Qje});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NS(e,t,n,r,a="NHWC",i){const o=e[3],s=[...t,o],l=cd(a);return Ai(e,s,n,i,r,null,null,l)}function zl(e,t,n,r,a,i,o="channelsLast"){const[s,l]=dw(t);let u;if(o==="channelsLast")u=[s,l,e[3],e[3]];else if(o==="channelsFirst")u=[s,l,e[1],e[1]];else throw new Error(`Unknown dataFormat ${o}`);return Ai(e,u,n,r,a,i,!1,o)}function ud(e,t,n,r,a,i,o="NDHWC"){const[s,l,u]=LP(t);let c,f;if(o==="NDHWC")f="channelsLast",c=[s,l,u,e[4],e[4]];else if(o==="NCDHW")f="channelsFirst",c=[s,l,u,e[1],e[1]];else throw new Error(`Unknown dataFormat ${o}`);return tp(e,c,n,r,a,!1,f,i)}function Ai(e,t,n,r,a,i,o=!1,s="channelsLast"){let[l,u,c,f]=[-1,-1,-1,-1];if(s==="channelsLast")[l,u,c,f]=e;else if(s==="channelsFirst")[l,f,u,c]=e;else throw new Error(`Unknown dataFormat ${s}`);const[d,h,,p]=t,[v,g]=dw(n),[m,y]=dw(r),b=Nm(d,m),x=Nm(h,y),{padInfo:_,outHeight:S,outWidth:C}=rYe(a,u,c,v,g,b,x,i,s),k=o?p*f:p;let T;return s==="channelsFirst"?T=[l,k,S,C]:s==="channelsLast"&&(T=[l,S,C,k]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:f,outHeight:S,outWidth:C,outChannels:k,padInfo:_,strideHeight:v,strideWidth:g,filterHeight:d,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:x,dilationHeight:m,dilationWidth:y,inShape:e,outShape:T,filterShape:t}}function tp(e,t,n,r,a,i=!1,o="channelsLast",s){let[l,u,c,f,d]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[l,u,c,f,d]=e;else if(o==="channelsFirst")[l,d,u,c,f]=e;else throw new Error(`Unknown dataFormat ${o}`);const[h,p,v,,g]=t,[m,y,b]=LP(n),[x,_,S]=LP(r),C=Nm(h,x),k=Nm(p,_),T=Nm(v,S),{padInfo:I,outDepth:E,outHeight:A,outWidth:N}=aYe(a,u,c,f,m,y,b,C,k,T,s),L=i?g*d:g;let R;return o==="channelsFirst"?R=[l,L,E,A,N]:o==="channelsLast"&&(R=[l,E,A,N,L]),{batchSize:l,dataFormat:o,inDepth:u,inHeight:c,inWidth:f,inChannels:d,outDepth:E,outHeight:A,outWidth:N,outChannels:L,padInfo:I,strideDepth:m,strideHeight:y,strideWidth:b,filterDepth:h,filterHeight:p,filterWidth:v,effectiveFilterDepth:C,effectiveFilterHeight:k,effectiveFilterWidth:T,dilationDepth:x,dilationHeight:_,dilationWidth:S,inShape:e,outShape:R,filterShape:t}}function tYe(e,t,n,r,a){r==null&&(r=cz(e,t,n));const i=e[0],o=e[1],s=hw((i-t+2*r)/n+1,a),l=hw((o-t+2*r)/n+1,a);return[s,l]}function nYe(e,t,n,r,a,i){a==null&&(a=cz(e,t[0],r[0]));const o=[0,0,0,n];for(let s=0;s<3;s++)e[s]+2*a>=t[s]&&(o[s]=hw((e[s]-t[s]+2*a)/r[s]+1,i));return o}function cz(e,t,n,r=1){const a=Nm(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function dw(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function LP(e){return typeof e=="number"?[e,e,e]:e}function Nm(e,t){return t<=1?e:e+(e-1)*(t-1)}function rYe(e,t,n,r,a,i,o,s,l){let u,c,f;if(typeof e=="number"){u={top:e,bottom:e,left:e,right:e,type:e===0?"VALID":"NUMBER"};const h=tYe([t,n],i,r,e,s);c=h[0],f=h[1]}else if(e==="same"){c=Math.ceil(t/r),f=Math.ceil(n/a);const d=Math.max(0,(c-1)*r+i-t),h=Math.max(0,(f-1)*a+o-n),p=Math.floor(d/2),v=d-p,g=Math.floor(h/2),m=h-g;u={top:p,bottom:v,left:g,right:m,type:"SAME"}}else if(e==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),f=Math.ceil((n-o+1)/a);else if(typeof e=="object"){const d=l==="channelsLast"?e[1][0]:e[2][0],h=l==="channelsLast"?e[1][1]:e[2][1],p=l==="channelsLast"?e[2][0]:e[3][0],v=l==="channelsLast"?e[2][1]:e[3][1];u={top:d,bottom:h,left:p,right:v,type:d===0&&h===0&&p===0&&v===0?"VALID":"EXPLICIT"},c=hw((t-i+d+h)/r+1,s),f=hw((n-o+p+v)/a+1,s)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:c,outWidth:f}}function aYe(e,t,n,r,a,i,o,s,l,u,c){let f,d,h,p;if(e==="valid"&&(e=0),typeof e=="number"){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:e===0?"VALID":"NUMBER"};const g=nYe([t,n,r,1],[s,l,u],1,[a,i,o],e,c);d=g[0],h=g[1],p=g[2]}else if(e==="same"){d=Math.ceil(t/a),h=Math.ceil(n/i),p=Math.ceil(r/o);const v=(d-1)*a+s-t,g=(h-1)*i+l-n,m=(p-1)*o+u-r,y=Math.floor(v/2),b=v-y,x=Math.floor(g/2),_=g-x,S=Math.floor(m/2),C=m-S;f={top:x,bottom:_,left:S,right:C,front:y,back:b,type:"SAME"}}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:f,outDepth:d,outHeight:h,outWidth:p}}function hw(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function hg(e){const[t,n,r]=dw(e);return t===1&&n===1&&r===1}function Zi(e,t){return hg(e)||hg(t)}function pg(e){return dw(e).every(t=>t>0)}function cd(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function us(e,t,n){if(n!=null){if(typeof t=="string")throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if(typeof t=="number")pe(uy(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else if(typeof t=="object")t.forEach(r=>{r.forEach(a=>{pe(uy(a),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${a}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iYe(e,t){const r={x:De(e,"x","reshape","string_or_numeric")},a={shape:t};return Fe.runKernel(_D,r,a)}const He=Ue({reshape_:iYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oYe(e,t,n,r,a){const i=De(e,"x","avgPool","float32"),o=1;pe(Zi(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let s=i,l=!1;i.rank===3&&(l=!0,s=He(i,[1,i.shape[0],i.shape[1],i.shape[2]])),pe(s.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`),us("avgPool",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let f=Fe.runKernel(FA,u,c);return f=Ut(f,i.dtype),l?He(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const fz=Ue({avgPool_:oYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sYe(e,t,n,r,a,i="NDHWC"){const o=De(e,"x","avgPool3d","float32");let s=o,l=!1;o.rank===4&&(l=!0,s=He(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),pe(s.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`),pe(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),pe(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),us("avgPool3d",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i};let f=Fe.runKernel(BA,u,c);return f=Ut(f,s.dtype),l?He(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const lYe=Ue({avgPool3d_:sYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uYe(e,t=0){pe(e.length>=1,()=>"Pass at least one tensor to concat");const n=hle(e,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return Fv(n[0]);const r=n,a={axis:t};return Fe.runKernel(HA,r,a)}const Xo=Ue({concat_:uYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cYe(e,t,n=!1,r=!1){let a=De(e,"a","matMul"),i=De(t,"b","matMul");[a,i]=wa(a,i);const o={a,b:i},s={transposeA:n,transposeB:r};return Fe.runKernel(VA,o,s)}const Tr=Ue({matMul_:cYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fYe(e){const n={x:De(e,"x","sigmoid","float32")};return Fe.runKernel(xS,n)}const Jy=Ue({sigmoid_:fYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dYe(e,t,n){const r=De(e,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const a={x:r},i={begin:t,size:n};return Fe.runKernel(ID,a,i)}const Kr=Ue({slice_:dYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hYe(e){const n={x:De(e,"x","tanh","float32")};return Fe.runKernel(kS,n)}const OD=Ue({tanh_:hYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pYe(e,t,n){const r=De(e,"x","batchToSpaceND"),a=t.reduce((s,l)=>s*l);pe(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),pe(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),pe(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`);const i={x:r},o={blockShape:t,crops:n};return Fe.runKernel(zA,i,o)}const dz=Ue({batchToSpaceND_:pYe});function vYe(e){let t;return e.rank===0||e.rank===1?t=He(e,[1,1,1,e.size]):e.rank===2?t=He(e,[1,1,e.shape[0],e.shape[1]]):e.rank===3?t=He(e,[1,e.shape[0],e.shape[1],e.shape[2]]):t=e,t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gYe(e,t,n,r,a,i){i==null&&(i=.001);const o=De(e,"x","batchNorm"),s=De(t,"mean","batchNorm"),l=De(n,"variance","batchNorm");let u;a!=null&&(u=De(a,"scale","batchNorm"));let c;r!=null&&(c=De(r,"offset","batchNorm")),pe(s.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),pe(c==null||s.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),pe(u==null||s.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:vYe(o),scale:u,offset:c,mean:s,variance:l},h={varianceEpsilon:i},p=Fe.runKernel(JA,d,h);return He(p,o.shape)}const PD=Ue({batchNorm_:gYe});function mYe(e,t,n,r,a,i){const o=De(e,"x","batchNorm"),s=De(t,"mean","batchNorm"),l=De(n,"variance","batchNorm");let u;a!=null&&(u=De(a,"scale","batchNorm"));let c;return r!=null&&(c=De(r,"offset","batchNorm")),pe(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),pe(s.rank===2||s.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`),pe(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&pe(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&pe(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),PD(o,s,l,c,u,i)}const yYe=Ue({batchNorm2d_:mYe});function bYe(e,t,n,r,a,i){const o=De(e,"x","batchNorm"),s=De(t,"mean","batchNorm"),l=De(n,"variance","batchNorm");let u;a!=null&&(u=De(a,"scale","batchNorm"));let c;return r!=null&&(c=De(r,"offset","batchNorm")),pe(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),pe(s.rank===3||s.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`),pe(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&pe(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&pe(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),PD(o,s,l,c,u,i)}const xYe=Ue({batchNorm3d_:bYe});function wYe(e,t,n,r,a,i){const o=De(e,"x","batchNorm"),s=De(t,"mean","batchNorm"),l=De(n,"variance","batchNorm");let u;a!=null&&(u=De(a,"scale","batchNorm"));let c;return r!=null&&(c=De(r,"offset","batchNorm")),pe(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),pe(s.rank===4||s.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`),pe(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&pe(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&pe(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),PD(o,s,l,c,u,i)}const _Ye=Ue({batchNorm4d_:wYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SYe(e,t,n){const r=De(e,"x","bincount"),a=De(t,"weights","bincount");pe(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),pe(n>=0,()=>`size must be non-negative, but got ${n}.`),pe(a.size===r.size||a.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);const i={x:r,weights:a},o={size:n};return Fe.runKernel(TV,i,o)}const CYe=Ue({bincount_:SYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TYe(e,t){let n=De(e,"broadcastTo","x");const r=n.shape;if(ld(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const u=n.shape.slice();for(;u.length<t.length;)u.unshift(1);n=He(n,u)}const a=n.shape,i=Array.from(t);for(let u=t.length-1;u>=0;u--)if(a[u]===t[u])i[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(i.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return Fv(n);const s={x:n},l={reps:i};return Fe.runKernel(IS,s,l)}const lx=Ue({broadcastTo_:TYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kYe(e){const n={x:De(e,"x","ceil","float32")};return Fe.runKernel(W_,n)}const IYe=Ue({ceil_:kYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FD(e,t,n){ld(e),n=n||Xy(t);const r={shape:e,value:t,dtype:n};return Fe.runKernel(VV,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EYe(e,t,n){const r=De(e,"x","clipByValue");if(pe(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return FD(r.shape,t,r.dtype);const a={x:r},i={clipValueMin:t,clipValueMax:n};return Fe.runKernel(H_,a,i)}const js=Ue({clipByValue_:EYe});function AYe(e){return Xo(e,0)}const DYe=Ue({concat1d_:AYe});function NYe(e,t){return Xo(e,t)}const RYe=Ue({concat2d_:NYe});function MYe(e,t){return Xo(e,t)}const $Ye=Ue({concat3d_:MYe});function LYe(e,t){return Xo(e,t)}const OYe=Ue({concat4d_:LYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PYe(e,t,n,r,a="NHWC",i=[1,1],o){const s=De(e,"x","conv2d","float32"),l=De(t,"filter","conv2d","float32");let u=s,c=!1;s.rank===3&&(c=!0,u=He(s,[1,s.shape[0],s.shape[1],s.shape[2]])),pe(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),pe(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),us("conv2d",r,o);const f=a==="NHWC"?u.shape[3]:u.shape[1];pe(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`),pe(Zi(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),pe(pg(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),pe(pg(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},p=Fe.runKernel(UA,d,h);return c?He(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const vg=Ue({conv2d_:PYe});function FYe(e,t,n,r,a="NWC",i=1,o){const s=De(e,"x","conv1d"),l=De(t,"filter","conv1d");let u=s,c=!1;s.rank===2&&(c=!0,u=He(s,[1,s.shape[0],s.shape[1]])),pe(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),pe(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),us("conv1d",r,o),pe(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),pe(Zi(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),pe(pg(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),pe(pg(n),()=>"Error in conv1D: Stride should be larger than 0."),pe(a==="NWC",()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const f=He(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=He(u,[u.shape[0],1,u.shape[1],u.shape[2]]),g=vg(d,f,[1,n],r,"NHWC",[1,i],o);return c?He(g,[g.shape[2],g.shape[3]]):He(g,[g.shape[0],g.shape[2],g.shape[3]])}const Sle=Ue({conv1d_:FYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BYe(e,t,n,r,a,i="NHWC",o){pe(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let s=e,l=t,u=!1;t.rank===3&&(u=!0,l=He(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),pe(s.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${s.length}.`),pe(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),pe(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=i==="NHWC"?s[3]:s[1],f=i==="NHWC"?l.shape[3]:l.shape[1];pe(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),pe(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),us("conv2dDerInput",a,o);const d={dy:l,filter:n},h={strides:r,pad:a,dataFormat:i,dimRoundingMode:o,inputShape:s},p=Fe.runKernel(GA,d,h);return u?He(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const hz=Ue({conv2DBackpropInput_:BYe});function VYe(e,t,n,r,a,i){const o=De(e,"x","conv2dTranspose"),s=De(t,"filter","conv2dTranspose");return hz(n,o,s,r,a,"NHWC",i)}const Cle=Ue({conv2dTranspose_:VYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zYe(e,t,n,r,a="NDHWC",i=[1,1,1]){const o=De(e,"x","conv3d"),s=De(t,"filter","conv3d");let l=o,u=!1;o.rank===4&&(u=!0,l=He(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),pe(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),pe(s.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`),pe(l.shape[4]===s.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${s.shape[3]}.`),pe(Zi(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),pe(a==="NDHWC",()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`),pe(pg(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),pe(pg(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:s},f={strides:n,pad:r,dataFormat:a,dilations:i},d=Fe.runKernel(KA,c,f);return u?He(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const WYe=Ue({conv3d_:zYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HYe(e,t,n,r,a){pe(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let i=e,o=t,s=!1;t.rank===4&&(s=!0,o=He(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const l=i[4],u=o.shape[4];pe(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),pe(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),pe(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),pe(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),pe(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:o,filter:n},f={pad:a,strides:r,inputShape:i},d=Fe.runKernel(DV,c,f);return s?He(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Tle=Ue({conv3DBackpropInput_:HYe});function UYe(e,t,n,r,a){const i=De(e,"x","conv3dTranspose"),o=De(t,"filter","conv3dTranspose");return Tle(n,i,o,r,a)}const GYe=Ue({conv3dTranspose_:UYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KYe(e){const n={x:De(e,"x","cos","float32")};return Fe.runKernel(U_,n)}const pz=Ue({cos_:KYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jYe(e){const n={x:De(e,"x","cosh","float32")};return Fe.runKernel(G_,n)}const kle=Ue({cosh_:jYe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YYe(e,t=0,n=!1,r=!1){const i={x:De(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:r};return Fe.runKernel(NV,i,o)}const OP=Ue({cumprod_:YYe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XYe(e,t=0,n=!1,r=!1){const i={x:De(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:r};return Fe.runKernel(jA,i,o)}const Ile=Ue({cumsum_:XYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qYe(e,t,n,r=!1){const a=De(e,"x","denseBincount"),i=De(t,"weights","denseBincount");pe(a.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),pe(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),pe(n>=0,()=>`size must be non-negative, but got ${n}.`),pe(i.size===a.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${i.shape}.`);const o={x:a,weights:i},s={size:n,binaryOutput:r};return Fe.runKernel(MV,o,s)}const z9=Ue({denseBincount_:qYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZYe(e,t,n="NHWC"){const r=De(e,"x","depthToSpace","float32"),a=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];pe(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),pe(a*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${t}  for depthToSpace with input shape
    ${r.shape}`),pe(i*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${t} for depthToSpace with input shape
        ${r.shape}`),pe(o%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${o} for depthToSpace with input shape ${r.shape}`);const s={x:r},l={blockSize:t,dataFormat:n};return Fe.runKernel($V,s,l)}const JYe=Ue({depthToSpace_:ZYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QYe(e,t,n,r,a="NHWC",i=[1,1],o){const s=De(e,"x","depthwiseConv2d","float32"),l=De(t,"filter","depthwiseConv2d","float32");let u=s,c=!1;s.rank===3&&(c=!0,u=He(s,[1,s.shape[0],s.shape[1],s.shape[2]])),pe(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),pe(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const f=a==="NHWC"?u.shape[3]:u.shape[1];pe(f===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`),us("depthwiseConv2d",r,o);const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},p=Fe.runKernel(YA,d,h);return c?He(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const vz=Ue({depthwiseConv2d_:QYe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eXe(e,t,n,r,a=[1,1],i="NHWC"){const o=De(e,"x","dilation2d"),s=De(t,"filter","dilation2d");pe(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),pe(s.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${s.rank}.`),pe(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=o,u=!1;o.rank===3&&(l=He(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=!0),pe(l.shape[3]===s.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${s.shape[2]}`);const c={x:l,filter:s},f={strides:n,pad:r,dilations:a},d=Fe.runKernel(XA,c,f);return u?He(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const tXe=Ue({dilation2d_:eXe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dy(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&o===1&&r.unshift(i)}return r}function ja(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],i=t.length-r-1,o=t[i];(a==null||a===1&&o>1)&&n.unshift(i)}return n}function On(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let i=e[e.length-a-1];i==null&&(i=1);let o=t[t.length-a-1];if(o==null&&(o=1),i===1)r[n-a-1]=o;else if(o===1)r[n-a-1]=i;else if(i!==o){const s=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(s)}else r[n-a-1]=i}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nXe(e,t){let n=De(e,"a","equal","string_or_numeric"),r=De(t,"b","equal","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(qA,a)}const Lc=Ue({equal_:nXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rXe(e,t,n){const r=De(t,"a","where"),a=De(n,"b","where"),i=De(e,"condition","where","bool"),o=On(On(i.shape,r.shape),a.shape),s=lx(i,o),l=lx(r,o),u=lx(a,o),c={condition:s,t:l,e:u};return Fe.runKernel(kD,c)}const xo=Ue({where_:rXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aXe(e){const n={x:De(e,"x","zerosLike")};return Fe.runKernel($D,n)}const gr=Ue({zerosLike_:aXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iXe(e,t){let n=De(e,"a","div"),r=De(t,"b","div");[n,r]=wa(n,r);const a=gn(n,r),i=gr(a),o=Lc(r,i);return xo(o,i,a)}const oXe=Ue({divNoNan_:iXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sXe(e,t){const n=De(e,"t1","dot"),r=De(t,"t2","dot");pe((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const a=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(pe(a===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${i}.`),n.rank===1&&r.rank===1){const o=He(n,[1,-1]),s=He(r,[-1,1]),l=Tr(o,s);return He(l,[])}else if(n.rank===1&&r.rank===2){const o=He(n,[1,-1]),s=He(r,[r.shape[0],r.shape[1]]),l=Tr(o,s);return He(l,[l.size])}else if(n.rank===2&&r.rank===1){const o=He(r,[-1,1]),s=Tr(n,o);return He(s,[s.size])}else{const o=He(r,[r.shape[0],r.shape[1]]);return Tr(n,o)}}const lXe=Ue({dot_:sXe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uXe(e,...t){const n=t.map((a,i)=>De(a,`tensors${i}`,"einsum")),r={equation:e};return Fe.runKernel(PV,n,r)}const W1=Ue({einsum_:uXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cXe(e){const n={x:De(e,"x","elu","float32")};return Fe.runKernel(j_,n)}const BD=Ue({elu_:cXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fXe(e){let t=De(e,"x","erf");pe(t.dtype==="int32"||t.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),t.dtype==="int32"&&(t=Ut(t,"float32"));const n={x:t};return Fe.runKernel(Y_,n)}const Ele=Ue({erf_:fXe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gz(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Ale(e,t,n){const r=e.length+t.length,a=[];let i=0,o=0;for(let s=0;s<r;s++)n.indexOf(s)===-1?a.push(e[i++]):a.push(t[o++]);return a}function mi(e,t){const n=[],r=e.length;for(let i=0;i<r;i++)t.indexOf(i)===-1&&n.push(e[i]);const a=t.map(i=>e[i]);return[n,a]}function Ra(e,t){const n=t.map(r=>1);return Ale(e,n,t)}function Di(e,t,n){pe(gz(t,n),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`)}function da(e,t){if(gz(e,t))return null;const n=[];for(let r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach(r=>n.push(r)),n}function np(e){return e.map((t,n)=>[n,t]).sort((t,n)=>t[1]-n[1]).map(t=>t[0])}function Ca(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dXe(e,t=null,n=!1){const a={x:De(e,"x","max")},i={reductionIndices:t,keepDims:n};return Fe.runKernel(lD,a,i)}const Su=Ue({max_:dXe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hXe(e,t=null,n=!1){const a={x:De(e,"x","min")},i={axis:t,keepDims:n};return Fe.runKernel(dD,a,i)}const gI=Ue({min_:hXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pXe(e,t){let n=De(e,"base","pow"),r=De(t,"exp","pow");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(cS,a)}const gg=Ue({pow_:pXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cr(e,t){if((Ol(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Ol(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return DS(e,[],[],t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vXe(e){const n={x:De(e,"x","sqrt","float32")};return Fe.runKernel(_S,n)}const Ki=Ue({sqrt_:vXe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gXe(e){const t=De(e,"x","square"),n={};return Fe.runKernel("Square",{x:t},n)}const Yr=Ue({square_:gXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mXe(e,t=null,n=!1){let r=De(e,"x","sum");r.dtype==="bool"&&(r=Ut(r,"int32"));const a={x:r},i={axis:t,keepDims:n};return Fe.runKernel(ED,a,i)}const pn=Ue({sum_:mXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yXe(e,t="euclidean",n=null,r=!1){e=De(e,"x","norm");const a=Dle(e,t,n);let i=a.shape;if(r){const o=jn(n,e.shape);i=Ra(a.shape,o)}return He(a,i)}function Dle(e,t,n=null){if(e.rank===0)return oo(e);if(e.rank!==1&&n===null)return Dle(He(e,[-1]),t,n);if(e.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(t===1)return pn(oo(e),n);if(t===1/0)return Su(oo(e),n);if(t===-1/0)return gI(oo(e),n);if(t==="euclidean"||t===2)return Ki(pn(gg(oo(e),Cr(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&n.length===2){if(t===1)return Su(pn(oo(e),n[0]),n[1]-1);if(t===1/0)return Su(pn(oo(e),n[1]),n[0]);if(t===-1/0)return gI(pn(oo(e),n[1]),n[0]);if(t==="fro"||t==="euclidean")return Ki(pn(Yr(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const VD=Ue({norm_:yXe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bXe(e,t=null,n=!1){return VD(e,"euclidean",t,n)}const xXe=Ue({euclideanNorm_:bXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wXe(e){const n={x:De(e,"x","exp")};return Fe.runKernel(X_,n)}const Oc=Ue({exp_:wXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Xe(e,t=0){const n=De(e,"x","expandDims","string_or_numeric");pe(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:t};return Fe.runKernel(ZA,r,a)}const zo=Ue({expandDims_:_Xe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SXe(e){const n={x:De(e,"x","expm1")};return Fe.runKernel(q_,n)}const CXe=Ue({expm1_:SXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TXe(e,t){const n=De(e,"x","tile","string_or_numeric");pe(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);const r={x:n},a={reps:t};return Fe.runKernel(IS,r,a)}const pu=Ue({tile_:TXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kXe(e,t,n,r="float32"){t==null&&(t=e);const a=Gn([e,t],r),i=e<=t?e:t;for(let s=0;s<i;++s)a.set(1,s,s);const o=He(a.toTensor(),[e,t]);if(n==null)return o;if(n.length===1)return pu(zo(o,0),[n[0],1,1]);if(n.length===2)return pu(zo(zo(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return pu(zo(zo(zo(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const Nle=Ue({eye_:kXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IXe(e){const n={x:De(e,"x","floor","float32")};return Fe.runKernel(Z_,n)}const zD=Ue({floor_:IXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EXe(e,t,n=0,r=0){const a=De(e,"x","gather"),i=De(t,"indices","gather","int32"),o={x:a,indices:i},s={axis:n,batchDims:r};return Fe.runKernel(QA,o,s)}const mz=Ue({gather_:EXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AXe(e,t){let n=De(e,"a","greater","string_or_numeric"),r=De(t,"b","greater","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(eD,a)}const qs=Ue({greater_:AXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DXe(e,t){let n=De(e,"a","greaterEqual","string_or_numeric"),r=De(t,"b","greaterEqual","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(Q_,a)}const Bg=Ue({greaterEqual_:DXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NXe(e){const n={input:De(e,"input","imag")};return Fe.runKernel(HV,n)}const yz=Ue({imag_:NXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RXe(e){const n={x:De(e,"x","isFinite")};return Fe.runKernel(tS,n)}const MXe=Ue({isFinite_:RXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Xe(e){const n={x:De(e,"x","isInf")};return Fe.runKernel(nS,n)}const LXe=Ue({isInf_:$Xe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OXe(e){const n={x:De(e,"x","isNaN")};return Fe.runKernel(rS,n)}const PXe=Ue({isNaN_:OXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FXe(e,t=.2){const r={x:De(e,"x","leakyRelu")},a={alpha:t};return Fe.runKernel(tD,r,a)}const bz=Ue({leakyRelu_:FXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BXe(e,t){let n=De(e,"a","less","string_or_numeric"),r=De(t,"b","less","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(nD,a)}const mI=Ue({less_:BXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VXe(e,t){let n=De(e,"a","lessEqual","string_or_numeric"),r=De(t,"b","lessEqual","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(rD,a)}const Qy=Ue({lessEqual_:VXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zXe(e,t=5,n=1,r=1,a=.5){const i=De(e,"x","localResponseNormalization");pe(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),pe(uy(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let o=i,s=!1;i.rank===3&&(s=!0,o=He(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:o},u={depthRadius:t,bias:n,alpha:r,beta:a},c=Fe.runKernel(sD,l,u);return s?He(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const WXe=Ue({localResponseNormalization_:zXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HXe(e){const n={x:De(e,"x","log","float32")};return Fe.runKernel(aS,n)}const Pc=Ue({log_:HXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UXe(e){const n={x:De(e,"x","log1p")};return Fe.runKernel(iS,n)}const Rle=Ue({log1p_:UXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GXe(e,t){pe(wP(e),()=>"The f passed in variableGrads(f) must be a function"),pe(t==null||Array.isArray(t)&&t.every(u=>u instanceof pI),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=t!=null;if(!n){t=[];for(const u in Fe.registeredVariables)t.push(Fe.registeredVariables[u])}const r=n?t.filter(u=>!u.trainable):null,a=t.length;t=t.filter(u=>u.trainable),pe(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const i=!0,{value:o,grads:s}=Fe.gradients(e,t,null,i);pe(s.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),pe(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const l={};return t.forEach((u,c)=>{s[c]!=null&&(l[u.name]=s[c])}),r!=null&&r.forEach(u=>l[u.name]=null),{value:o,grads:l}}function hy(e){return Fe.customGrad(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KXe(e){const n={x:De(e,"x","neg")};return Fe.runKernel(pD,n)}const ya=Ue({neg_:KXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jXe(e){const n={x:De(e,"x","softplus")};return Fe.runKernel(wS,n)}const RS=Ue({softplus_:jXe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YXe(e){const t=De(e,"x","logSigmoid");return hy(r=>({value:ya(RS(ya(r))),gradFunc:o=>Pe(o,Jy(ya(r)))}))(t)}const XXe=Ue({logSigmoid_:YXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qXe(e,t){let n=De(e,"a","sub"),r=De(t,"b","sub");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(CS,a)}const Sn=Ue({sub_:qXe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZXe(e,t=-1){const n=De(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return hy((a,i)=>{const s=Su(a,t,!0),l=Sn(a,s),u=Sn(Ut(l,"float32"),Pc(pn(Oc(l),t,!0)));return i([u]),{value:u,gradFunc:(f,d)=>{const[h]=d,p=!0,v=Oc(h);return Sn(f,Pe(pn(f,t,p),v))}}})(n)}const Mle=Ue({logSoftmax_:ZXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JXe(e,t=null,n=!1){const r=De(e,"x","logSumExp"),a=jn(t,r.shape),i=Su(r,a,!0),o=Sn(r,i),s=Oc(o),l=pn(s,a),u=Pc(l),c=Et(He(i,u.shape),u);if(n){const f=Ra(c.shape,a);return He(c,f)}return c}const $le=Ue({logSumExp_:JXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QXe(e,t){const n=De(e,"a","logicalAnd","bool"),r=De(t,"b","logicalAnd","bool");On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(aD,a)}const Hf=Ue({logicalAnd_:QXe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eqe(e){const n={x:De(e,"x","logicalNot","bool")};return Fe.runKernel(iD,n)}const xz=Ue({logicalNot_:eqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tqe(e,t){const n=De(e,"a","logicalOr","bool"),r=De(t,"b","logicalOr","bool");On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(oD,a)}const Lle=Ue({logicalOr_:tqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nqe(e,t){const n=De(e,"a","logicalXor","bool"),r=De(t,"b","logicalXor","bool");return On(n.shape,r.shape),Hf(Lle(e,t),xz(Hf(e,t)))}const rqe=Ue({logicalXor_:nqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aqe(e,t,n,r,a){const i=De(e,"x","maxPool"),o=1;let s=i,l=!1;i.rank===3&&(l=!0,s=He(i,[1,i.shape[0],i.shape[1],i.shape[2]])),pe(s.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`),pe(Zi(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),us("maxPool",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a},f=Fe.runKernel(uD,u,c);return l?He(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const wz=Ue({maxPool_:aqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iqe(e,t=[1,1,1],n,r,a,i="NDHWC"){const o=De(e,"x","maxPool3d");let s=o,l=!1;o.rank===4&&(l=!0,s=He(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),pe(s.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`),pe(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),us("maxPool3d",r,a);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},f=Fe.runKernel(cD,u,c);return l?He(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const oqe=Ue({maxPool3d_:iqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sqe(e,t){let n=De(e,"a","maximum"),r=De(t,"b","maximum");[n,r]=wa(n,r),n.dtype==="bool"&&(n=Ut(n,"int32"),r=Ut(r,"int32")),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(oS,a)}const rp=Ue({maximum_:sqe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lqe(e,t=null,n=!1){const a={x:De(e,"x","mean")},i={axis:t,keepDims:n};return Fe.runKernel(fD,a,i)}const Aa=Ue({mean_:lqe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ni(e,t="float32"){if(ld(e),t==="complex64"){const r=ni(e,"float32"),a=ni(e,"float32");return cg(r,a)}const n=Gi(ot(e),t);return Fe.makeTensor(n,e,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ap(e,t="float32"){if(ld(e),t==="complex64"){const r=ap(e,"float32"),a=ni(e,"float32");return cg(r,a)}const n=mV(ot(e),t);return Fe.makeTensor(n,e,t)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uqe(e,t){let n=De(e,"a","minimum"),r=De(t,"b","minimum");[n,r]=wa(n,r),n.dtype==="bool"&&(n=Ut(n,"int32"),r=Ut(r,"int32")),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(sS,a)}const pw=Ue({minimum_:uqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cqe(e,t,n){pe(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=De(e,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");pe(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);const a=n==="reflect"?1:0;for(let s=0;s<r.rank;s++)pe(t[s].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),pe(t[s][0]>=0&&t[s][0]<=r.shape[s]-a&&t[s][1]>=0&&t[s][1]<=r.shape[s]-a,()=>`Padding in dimension ${s} cannot be greater than or equal to ${r.shape[s]-a} or less than 0 for input of shape ${r.shape}`);const i={paddings:t,mode:n},o={x:r};return Fe.runKernel(hD,o,i)}const fqe=Ue({mirrorPad_:cqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dqe(e,t){let n=De(e,"a","mod"),r=De(t,"b","mod");[n,r]=wa(n,r);const a={a:n,b:r};return Fe.runKernel(lS,a)}const hqe=Ue({mod_:dqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pqe(e,t=null,n=!1){e=De(e,"x","moments");const r=jn(t,e.shape),a=Aa(e,r,n);let i=a.shape;n||(i=Ra(a.shape,r));const o=Yr(Sn(Ut(e,"float32"),He(a,i))),s=Aa(o,r,n);return{mean:a,variance:s}}const _z=Ue({moments_:pqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vqe(e,t){let n=De(e,"a","notEqual","string_or_numeric"),r=De(t,"b","notEqual","string_or_numeric");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r};return Fe.runKernel(vD,a)}const yI=Ue({notEqual_:vqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gqe(e,t,n=1,r=0,a="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const o={indices:De(e,"indices","oneHot","int32")},s={dtype:a,depth:t,onValue:n,offValue:r};return Fe.runKernel(mD,o,s)}const Ole=Ue({oneHot_:gqe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mqe(e){const n={x:De(e,"x","onesLike")};return Fe.runKernel(gD,n)}const Pl=Ue({onesLike_:mqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yqe(e,t,n=0){const r=De(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},i={x:r};return Fe.runKernel(bD,i,a)}const Sz=Ue({pad_:yqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bqe(e,t,n){const r=De(e,"x","spaceToBatchND");pe(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),pe(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),pe(r.shape.reduce((o,s,l)=>l>0&&l<=t.length?o&&(s+n[l-1][0]+n[l-1][1])%t[l-1]===0:o,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const a={x:r},i={blockShape:t,paddings:n};return Fe.runKernel(AD,a,i)}const Cz=Ue({spaceToBatchND_:bqe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xqe(e,t,n,r,a,i,o){a==null&&(a=[1,1]),i==null&&(i=1),r===0&&(r="valid");const s=De(e,"x","maxPool");let l=s,u=!1;s.rank===3&&(u=!0,l=He(s,[1,s.shape[0],s.shape[1],s.shape[2]])),pe(Zi(i,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${a}'`);const c=zl(l.shape,t,i,a,r),f=[c.dilationHeight,c.dilationWidth];let d;r==="same"?d=_qe([c.filterHeight,c.filterWidth],f):d=[[0,0],[0,0]];const h=f[0]===1&&f[1]===1,[p,v]=wqe([c.inHeight,c.inWidth],f,d),g=h?r:"valid",m=h?l:Cz(l,f,p),b=(n==="avg"?()=>fz(m,t,i,g,o):()=>wz(m,t,i,g,o))(),x=h?b:dz(b,f,v);return u?He(x,[x.shape[1],x.shape[2],x.shape[3]]):x}function wqe(e,t,n){const r=n.map(c=>c[0]),a=n.map(c=>c[1]),i=e.concat(r,a),o=t.map((c,f)=>(c-i[f]%c)%c),s=a.map((c,f)=>c+o[f]),l=t.map((c,f)=>[r[f],s[f]]),u=t.map((c,f)=>[0,o[f]]);return[l,u]}function _qe(e,t){const r=e.map((o,s)=>o+(o-1)*(t[s]-1)).map(o=>o-1),a=r.map(o=>Math.floor(o/2)),i=r.map((o,s)=>o-a[s]);return r.map((o,s)=>[a[s],i[s]])}const Sqe=Ue({pool_:xqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cqe(e,t){const n=De(e,"x","prelu"),r=De(t,"alpha","prelu"),a={x:n,alpha:r};return Fe.runKernel(xD,a)}const Tz=Ue({prelu_:Cqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tqe(e,t=null,n=!1){let r=De(e,"x","prod");r.dtype==="bool"&&(r=Ut(r,"int32"));const a={x:r},i={axis:t,keepDims:n};return Fe.runKernel(wD,a,i)}const kqe=Ue({prod_:Tqe});var nk={exports:{}},Iqe=nk.exports,W9;function Eqe(){return W9||(W9=1,function(e){(function(t,n,r){function a(l){var u=this,c=s();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var c=new a(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&i(f,c),d.state=function(){return i(c,{})}),d}function s(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n.exports?n.exports=o:this.alea=o})(Iqe,e)}(nk)),nk.exports}var rk={exports:{}},Aqe=rk.exports,H9;function Dqe(){return H9||(H9=1,function(e){(function(t,n,r){function a(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.xor128=o})(Aqe,e)}(rk)),rk.exports}var ak={exports:{}},Nqe=ak.exports,U9;function Rqe(){return U9||(U9=1,function(e){(function(t,n,r){function a(s){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.xorwow=o})(Nqe,e)}(ak)),ak.exports}var ik={exports:{}},Mqe=ik.exports,G9;function $qe(){return G9||(G9=1,function(e){(function(t,n,r){function a(s){var l=this;l.next=function(){var c=l.x,f=l.i,d,h;return d=c[f],d^=d>>>7,h=d^d<<24,d=c[f+1&7],h^=d^d>>>10,d=c[f+3&7],h^=d^d>>>3,d=c[f+4&7],h^=d^d<<7,d=c[f+7&7],d=d^d<<13,h^=d^d<<9,c[f]=h,l.i=f+1&7,h};function u(c,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}u(l,s)}function i(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.x&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.xorshift7=o})(Mqe,e)}(ik)),ik.exports}var ok={exports:{}},Lqe=ok.exports,K9;function Oqe(){return K9||(K9=1,function(e){(function(t,n,r){function a(s){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,h,p;return l.w=c=c+1640531527|0,p=f[d+34&127],h=f[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=f[d]=p^h,l.i=d,p+(c^c>>>16)|0};function u(c,f){var d,h,p,v,g,m=[],y=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,y=Math.max(y,f.length)),p=0,v=-32;v<y;++v)f&&(h^=f.charCodeAt((v+32)%f.length)),v===0&&(g=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,v>=0&&(g=g+1640531527|0,d=m[v&127]^=h+g,p=d==0?p+1:0);for(p>=128&&(m[(f&&f.length||0)&127]=-1),p=127,v=4*128;v>0;--v)h=m[p+34&127],d=m[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,m[p]=h^d;c.w=g,c.X=m,c.i=p}u(l,s)}function i(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.X&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.xor4096=o})(Lqe,e)}(ok)),ok.exports}var sk={exports:{}},Pqe=sk.exports,j9;function Fqe(){return j9||(j9=1,function(e){(function(t,n,r){function a(s){var l=this,u="";l.next=function(){var f=l.b,d=l.c,h=l.d,p=l.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^p,l.a=p-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function i(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var u=new a(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n.exports?n.exports=o:this.tychei=o})(Pqe,e)}(sk)),sk.exports}var lk={exports:{}};const Bqe={},Vqe=Object.freeze(Object.defineProperty({__proto__:null,default:Bqe},Symbol.toStringTag,{value:"Module"})),zqe=jMe(Vqe);var Wqe=lk.exports,Y9;function Hqe(){return Y9||(Y9=1,function(e){(function(t,n,r){var a=256,i=6,o=52,s="random",l=r.pow(a,i),u=r.pow(2,o),c=u*2,f=a-1,d;function h(x,_,S){var C=[];_=_==!0?{entropy:!0}:_||{};var k=m(g(_.entropy?[x,b(n)]:x??y(),3),C),T=new p(C),I=function(){for(var E=T.g(i),A=l,N=0;E<u;)E=(E+N)*a,A*=a,N=T.g(1);for(;E>=c;)E/=2,A/=2,N>>>=1;return(E+N)/A};return I.int32=function(){return T.g(4)|0},I.quick=function(){return T.g(4)/4294967296},I.double=I,m(b(T.S),n),(_.pass||S||function(E,A,N,L){return L&&(L.S&&v(L,T),E.state=function(){return v(T,{})}),N?(r[s]=E,A):E})(I,k,"global"in _?_.global:this==r,_.state)}function p(x){var _,S=x.length,C=this,k=0,T=C.i=C.j=0,I=C.S=[];for(S||(x=[S++]);k<a;)I[k]=k++;for(k=0;k<a;k++)I[k]=I[T=f&T+x[k%S]+(_=I[k])],I[T]=_;(C.g=function(E){for(var A,N=0,L=C.i,R=C.j,D=C.S;E--;)A=D[L=f&L+1],N=N*a+D[f&(D[L]=D[R=f&R+A])+(D[R]=A)];return C.i=L,C.j=R,N})(a)}function v(x,_){return _.i=x.i,_.j=x.j,_.S=x.S.slice(),_}function g(x,_){var S=[],C=typeof x,k;if(_&&C=="object")for(k in x)try{S.push(g(x[k],_-1))}catch{}return S.length?S:C=="string"?x:x+"\0"}function m(x,_){for(var S=x+"",C,k=0;k<S.length;)_[f&k]=f&(C^=_[f&k]*19)+S.charCodeAt(k++);return b(_)}function y(){try{var x;return d&&(x=d.randomBytes)?x=x(a):(x=new Uint8Array(a),(t.crypto||t.msCrypto).getRandomValues(x)),b(x)}catch{var _=t.navigator,S=_&&_.plugins;return[+new Date,t,S,t.screen,b(n)]}}function b(x){return String.fromCharCode.apply(0,x)}if(m(r.random(),n),e.exports){e.exports=h;try{d=zqe}catch{}}else r["seed"+s]=h})(typeof self<"u"?self:Wqe,[],Math)}(lk)),lk.exports}var ZR,X9;function Uqe(){if(X9)return ZR;X9=1;var e=Eqe(),t=Dqe(),n=Rqe(),r=$qe(),a=Oqe(),i=Fqe(),o=Hqe();return o.alea=e,o.xor128=t,o.xorwow=n,o.xorshift7=r,o.xor4096=a,o.tychei=i,ZR=o,ZR}var kz=Uqe();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ple{constructor(t,n,r,a,i){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=i||Math.random();this.random=kz.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const a=this.nextVal;return this.nextVal=NaN,a}let t,n,r=!1;for(;!r;){let a,i,o;do a=2*this.random()-1,i=2*this.random()-1,o=a*a+i*i;while(o>=1||o===0);const s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,(!this.truncated||this.isValidTruncated(t))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(t)}convertValue(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class Gqe{constructor(t=0,n=1,r,a){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=t,this.range=n-t,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${n} <= 1 and dtype is not float`);this.random=kz.alea(a)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kqe(e,t=0,n=1,r,a){if(ld(e),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new Ple(t,n,r,!1,a),o=Gn(e,r);for(let s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}const jqe=Ue({randomNormal_:Kqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yqe(e,t=0,n=1,r="float32",a){ld(e);const i=Gn(e,r),o=new Gqe(t,n,null,a);for(let s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}const MS=Ue({randomUniform_:Yqe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vw(e,t,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return Fe.runKernel(qV,{},a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xqe(e){const n={input:De(e,"input","real")};return Fe.runKernel(ZV,n)}const bI=Ue({real_:Xqe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qqe(e){const n={x:De(e,"x","reciprocal")};return Fe.runKernel(fS,n)}const Zqe=Ue({reciprocal_:qqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jqe(e){const n={x:De(e,"x","relu")};return Fe.runKernel(dS,n)}const Vg=Ue({relu_:Jqe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qqe(e){const n={x:De(e,"x","relu6")};return Fe.runKernel(hS,n)}const Fle=Ue({relu6_:Qqe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eZe(e,t){const r={x:De(e,"x","reverse")},a={dims:t};return Fe.runKernel(TD,r,a)}const mg=Ue({reverse_:eZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tZe(e){const n={x:De(e,"x","round")};return Fe.runKernel(pS,n)}const Ble=Ue({round_:tZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nZe(e){const n={x:De(e,"x","rsqrt","float32")};return Fe.runKernel(vS,n)}const Vle=Ue({rsqrt_:nZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rZe(e){const n={x:De(e,"x","selu")};return Fe.runKernel(gS,n)}const zle=Ue({selu_:rZe});function aZe(e,t,n,r,a,i=[1,1],o="NHWC"){const s=De(e,"x","separableConv2d"),l=De(t,"depthwiseFilter","separableConv2d"),u=De(n,"pointwiseFilter","separableConv2d");let c=s,f=!1;if(s.rank===3&&(f=!0,c=He(s,[1,s.shape[0],s.shape[1],s.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");pe(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),pe(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),pe(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),pe(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),pe(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const d=l.shape[2],h=l.shape[3];pe(u.shape[2]===d*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${u.shape[2]}.`);const p=vz(c,l,r,a,o,i),g=vg(p,u,1,"valid",o);return f?He(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const Wle=Ue({separableConv2d_:aZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iZe(e){const n={x:De(e,"x","sign")};return Fe.runKernel(bS,n)}const oZe=Ue({sign_:iZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sZe(e){const n={x:De(e,"x","sin","float32")};return Fe.runKernel(mS,n)}const Hle=Ue({sin_:sZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lZe(e){const n={x:De(e,"x","sinh")};return Fe.runKernel(yS,n)}const Ule=Ue({sinh_:lZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uZe(e,t,n){const r=De(e,"x","slice1d");return pe(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Kr(r,[t],[n])}const Iz=Ue({slice1d_:uZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cZe(e,t,n){const r=De(e,"x","slice2d");return pe(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Kr(r,t,n)}const Gle=Ue({slice2d_:cZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fZe(e,t,n){const r=De(e,"x","slice3d");return pe(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Kr(r,t,n)}const Ez=Ue({slice3d_:fZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dZe(e,t,n){const r=De(e,"x","slice4d");return pe(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Kr(r,t,n)}const xI=Ue({slice4d_:dZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hZe(e,t=-1){const n=De(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return Fe.runKernel(ND,r,a)}const Az=Ue({softmax_:hZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pZe(e){pe(e.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);const t={input:e};return Fe.runKernel(BV,t)}const Kle=Ue({fft_:pZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vZe(e){pe(e.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);const t={input:e};return Fe.runKernel(WV,t)}const PP=Ue({ifft_:vZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gZe(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=He(e,[n,t]);r=PP(a)}else{const a=[n,2*(t-1)],i=He(bI(e),[n,t]),o=He(yz(e),[n,t]),s=mg(Kr(i,[0,1],[n,t-2]),1),l=Pe(mg(Kr(o,[0,1],[n,t-2]),1),Cr(-1)),u=Xo([i,s],1),c=Xo([o,l],1),f=He(cg(u,c),[a[0],a[1]]);r=PP(f)}if(r=bI(r),e.rank===3&&e.shape[0]!==0){const a=r,i=e.shape[0];r=He(r,[i,r.shape[0]/i,r.shape[1]]),a.dispose()}return r}const mZe=Ue({irfft_:gZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yZe(e,t,n=0){const a={x:De(e,"x","split")},i={numOrSizeSplits:t,axis:n};return Fe.runKernel(DD,a,i)}const Hs=Ue({split_:yZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bZe(e,t){pe(e.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(t!=null&&t<n){const p=e.shape.map(g=>0),v=e.shape.map(g=>g);v[e.shape.length-1]=t,a=Kr(e,p,v),n=t}else if(t!=null&&t>n){const p=e.shape.map(v=>v);p[e.shape.length-1]=t-n,a=Xo([e,ni(p)],e.shape.length-1),n=t}else a=e;const i=gr(a),o=He(cg(a,i),[r,n]),s=Kle(o),l=Math.floor(n/2)+1,u=bI(s),c=yz(s),f=Hs(u,[l,n-l],u.shape.length-1),d=Hs(c,[l,n-l],c.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=l,He(cg(f[0],d[0]),h)}const xZe=Ue({rfft_:bZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wZe(e,t){let n=De(e,"a","squaredDifference"),r=De(t,"b","squaredDifference");[n,r]=wa(n,r),On(n.shape,r.shape);const a={a:n,b:r},i={};return Fe.runKernel(SS,a,i)}const _Ze=Ue({squaredDifference_:wZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SZe(e,t){const n=De(e,"x","squeeze","string_or_numeric");return He(n,Jh(n.shape,t).newShape)}const $S=Ue({squeeze_:SZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CZe(e,t=0){const n=hle(e,"tensors","stack","string_or_numeric");pe(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&pe(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:t};return Fe.runKernel(yD,r,a)}const Uf=Ue({stack_:CZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TZe(e,t=0){const r={x:De(e,"x","step")},a={alpha:t};return Fe.runKernel(ES,r,a)}const LS=Ue({step_:TZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kZe(e,t,n,r,a=0,i=0,o=0,s=0,l=0){const c={x:De(e,"x","stridedSlice","string_or_numeric")},f={begin:t,end:n,strides:r,beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l};return Fe.runKernel(nz,c,f)}const IZe=Ue({stridedSlice_:kZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EZe(e){const n={x:De(e,"x","tan","float32")};return Fe.runKernel(TS,n)}const AZe=Ue({tan_:EZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ws(e,t){gV(e);const n=AS(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return DS(e,null,n,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JR(e,t,n){if(gV(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=AS(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return DS(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DZe(e,t,n){gV(e);const r=AS(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return DS(e,t,r,n)}function jle(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(i+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(i+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(i+` update.rank != ${a+e.length-r}`);for(let o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${t.shape[o]}).`);for(let o=0;o<n.rank-a;++o)if(n.shape[o+a]!==e[o+r])throw new Error(i+` updates.shape[${o+a}] (${n.shape[o+a]}) != shape[${o+a}] (${e[o+a]})`)}function NZe(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(e.size===0)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}jle(n,t,e)}function zg(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length;let o=1;for(let f=a;f<i;++f)o*=n[f];const s=a<1?1:a,l=ot(t.shape)/s,u=[...dn(n.slice(0,a)),1],c=ot(n);return{sliceRank:a,numUpdates:l,sliceSize:o,strides:u,outputSize:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RZe(e,t=1,n=!0){const r=De(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const i={x:r},o={k:t,sorted:n},[s,l]=Fe.runKernel(rz,i,o);return{values:s,indices:l}}const MZe=Ue({topk_:RZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ze(e,t=0,n=1,r,a){if(ld(e),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new Ple(t,n,r,!0,a),o=Gn(e,r);for(let s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}const Yle=Ue({truncatedNormal_:$Ze});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LZe(e,t=0){const n=De(e,"x","unique","string_or_numeric");pe(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:t},[i,o]=Fe.runKernel(iz,r,a);return{values:i,indices:o}}const OZe=Ue({unique_:LZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PZe(e,t,n){const r=De(e,"x","unsortedSegmentSum"),a=De(t,"segmentIds","unsortedSegmentSum","int32");pe(uy(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:a},o={numSegments:n};return Fe.runKernel(MD,i,o)}const Xle=Ue({unsortedSegmentSum_:PZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FZe(e,t=0){const n=De(e,"x","unstack","string_or_numeric");pe(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},a={axis:t};return Fe.runKernel(RD,r,a)}const yg=Ue({unstack_:FZe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BZe(e,t=!0,n,r){return Fe.makeVariable(e,t,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qle(e,t){const n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);const r=Gn(e,"int32"),a=Gn([n.length,e.length],"int32");for(let i=0;i<n.length;i++){const o=r.indexToLoc(n[i]),s=i*e.length;a.values.set(o,s)}return a.toTensor()}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VZe(e,t,n){const r=De(e,"x","transpose");if(t==null&&(t=r.shape.map((o,s)=>s).reverse()),pe(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(o=>{pe(o>=0&&o<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();const a={x:r},i={perm:t};return r.dtype==="complex64"?Xe(()=>{let o=bI(r),s=yz(r);return o=Fe.runKernel(Dm,{x:o},i),s=Fe.runKernel(Dm,{x:s},i),n&&(s=ya(s)),cg(o,s)}):Fe.runKernel(Dm,a,i)}const hr=Ue({transpose_:VZe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zZe(e,t){if(t==null)return e.shape.slice();if(Er(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)t[r]==null&&e.shape[r]!=null?n.push(e.shape[r]):n.push(t[r]);return n}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WZe(e,t,n,r){const a=De(e,"x","dropout");if(pe(a.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),pe(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),t===0)return e instanceof Fa?a.clone():a;const i=zZe(a,n),o=1-t,s=gn(zD(Et(MS(i,0,1,"float32",r),o)),o);return Pe(a,s)}const HZe=Ue({dropout_:WZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UZe(e,t,n,r,a,i="NHWC",o){let s=e;e.rank===3&&(s=He(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=He(t,[1,t.shape[0],t.shape[1],t.shape[2]])),pe(s.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`),pe(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),pe(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=i==="NHWC"?s.shape[3]:s.shape[1],c=i==="NHWC"?l.shape[3]:l.shape[1];pe(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),pe(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),us("conv2dDerFilter",a,o);const f={x:s,dy:l},d={strides:r,pad:a,dataFormat:i,dimRoundingMode:o,filterShape:n};return Fe.runKernel(EV,f,d)}const Dz=Ue({conv2DBackpropFilter_:UZe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nz(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return Pe(e,LS(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function Rz(e,t){let n=t;const r=ja(e.shape,t.shape);return r.length>0&&(n=pn(n,r)),He(n,e.shape)}function Mz(e,t,n,r){if(t==="linear")return e;if(t==="relu")return Vg(e);if(t==="elu")return BD(e);if(t==="relu6")return Fle(e);if(t==="prelu")return Tz(e,n);if(t==="leakyrelu")return bz(e,r);if(t==="sigmoid")return Jy(e);throw new Error(`Unknown fused activation ${t}.`)}const $z=(e,t)=>!(e>0)||t==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GZe({x:e,filter:t,strides:n,pad:r,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:s,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",$z(Fe.state.gradientDepth,l)===!1){pe(a==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let S=vg(e,t,n,r,a,i,o);return s!=null&&(S=Et(S,s)),Mz(S,l,u,c)}const f=De(e,"x","conv2d","float32"),d=De(t,"filter","conv2d","float32");let h=f,p=!1;f.rank===3&&(p=!0,h=He(f,[1,f.shape[0],f.shape[1],f.shape[2]])),pe(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),pe(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),us("fused conv2d",r,o);const v=a==="NHWC"?h.shape[3]:h.shape[1];pe(d.shape[2]===v,()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${d.shape[2]}.`),pe(Zi(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const g=Ai(h.shape,d.shape,n,i,r,o);let m;s!=null&&(m=De(s,"bias","fused conv2d"),[m]=wa(m,f),a==="NHWC"?On(g.outShape,m.shape):(pe(m.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${m.shape.length}.`),pe(m.shape.length===0||m.shape[0]===g.outChannels||m.shape[0]===1,()=>`Error in fused conv2d: bias shape (${m.shape}) is not compatible with the number of output channels (${g.outChannels})`)));let y;if(u!=null){const S=u.shape;if(pe(S.length<=1||S.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${S.length}.`),S.length===1)pe(S[0]===1||S[0]===g.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the number of output channels (${g.outChannels}).`);else if(S.length===3)try{On(S,g.outShape)}catch{const k=`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(k)}y=De(u,"prelu weights","fused conv2d")}const b=(S,C)=>{pe(a==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`);const[k,T,I,E]=C,A=Nz(S,I,l);pe(hg(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const N=hz(T.shape,A,k,n,r),L=Dz(T,A,k.shape,n,r),R=[N,L];if(E!=null){const D=Rz(E,A);R.push(D)}return R},x={x:h,filter:d,bias:m,preluActivationWeights:y},_={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o,activation:l,leakyreluAlpha:c};return s==null?hy((C,k,T)=>{let I=Fe.runKernel(dI,x,_);return T([k,C,I]),p&&(I=He(I,[I.shape[1],I.shape[2],I.shape[3]])),{value:I,gradFunc:b}})(h,d):hy((C,k,T,I)=>{let E=Fe.runKernel(dI,x,_);return I([k,C,E,T]),p&&(E=He(E,[E.shape[1],E.shape[2],E.shape[3]])),{value:E,gradFunc:b}})(h,d,m)}const KZe=Ue({fusedConv2d_:GZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jZe(e,t,n,r,a,i=[1,1],o){let s=e;e.rank===3&&(s=He(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=He(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:s,dy:l},c={strides:r,pad:a,dimRoundingMode:o,dilations:i,filterShape:n};return Fe.runKernel(LV,u,c)}const YZe=Ue({depthwiseConv2dNativeBackpropFilter_:jZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XZe(e,t,n,r,a,i=[1,1],o){let s=t,l=!1;t.rank===3&&(l=!0,s=He(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:s,filter:n},c={strides:r,pad:a,dimRoundingMode:o,dilations:i,inputShape:e},f=Fe.runKernel(OV,u,c);return l?He(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const qZe=Ue({depthwiseConv2dNativeBackpropInput_:XZe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZZe({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:a,activation:i="linear",preluActivationWeights:o,leakyreluAlpha:s=.2}){if($z(Fe.state.gradientDepth,i)===!1){let E=Tr(e,t,n,r);return a!=null&&(E=Et(E,a)),Mz(E,i,o,s)}let l=De(e,"a","fused matMul"),u=De(t,"b","fused matMul");[l,u]=wa(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=l.shape.slice(0,-2),v=u.shape.slice(0,-2),g=ot(p),m=ot(v);pe(c===f,()=>`Error in fused matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const b=On(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,h]),x=n?He(l,[g,c,d]):He(l,[g,d,c]),_=r?He(u,[m,h,f]):He(u,[m,f,h]);let S;a!=null&&(S=De(a,"bias","fused matMul"),[S]=wa(S,l),On(b,S.shape));let C;o!=null&&(C=De(o,"prelu weights","fused matMul"));const k=(E,A)=>{const[N,L,R,D]=A,P=Nz(He(E,R.shape),R,i);let O,M;if(!n&&!r?(O=Tr(P,L,!1,!0),M=Tr(N,P,!0,!1)):!n&&r?(O=Tr(P,L,!1,!1),M=Tr(P,N,!0,!1)):n&&!r?(O=Tr(L,P,!1,!0),M=Tr(N,P,!1,!1)):(O=Tr(L,P,!0,!0),M=Tr(P,N,!0,!0)),a!=null){const W=Rz(D,P);return[O,M,W]}else return[O,M]},T={a:x,b:_,bias:S,preluActivationWeights:C},I={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:s};return a==null?hy((A,N,L)=>{const R=Fe.runKernel(fI,T,I);return L([A,N,R]),{value:He(R,b),gradFunc:k}})(x,_):hy((A,N,L,R)=>{const D=Fe.runKernel(fI,T,I);return R([A,N,D,L]),{value:He(D,b),gradFunc:k}})(x,_,S)}const q9=Ue({fusedMatMul_:ZZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JZe(e,t,n,r,a="bilinear",i=0){const o=De(e,"image","cropAndResize"),s=De(t,"boxes","cropAndResize","float32"),l=De(n,"boxInd","cropAndResize","int32"),u=s.shape[0];pe(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),pe(s.rank===2&&s.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${s.shape}.`),pe(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${s.shape}.`),pe(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),pe(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),pe(a==="bilinear"||a==="nearest",()=>`method must be bilinear or nearest, but was ${a}`);const c={image:o,boxes:s,boxInd:l},f={method:a,extrapolationValue:i,cropSize:r};return Fe.runKernel(RV,c,f)}const QZe=Ue({cropAndResize_:JZe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eJe(e){const t=De(e,"image","flipLeftRight","float32");pe(t.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);const n={image:t};return Fe.runKernel(zV,n,{})}const tJe=Ue({flipLeftRight_:eJe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nJe(e){const t=De(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];pe(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),pe(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,pu(t,a)}const rJe=Ue({grayscaleToRGB_:nJe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aJe(e){const t=De(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];pe(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),pe(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const a=t.dtype,i=Ut(t,"float32"),o=ws([.2989,.587,.114]);let s;switch(t.rank){case 2:s=W1("ij,j->i",i,o);break;case 3:s=W1("ijk,k->ij",i,o);break;case 4:s=W1("ijkl,l->ijk",i,o);break;case 5:s=W1("ijklm,m->ijkl",i,o);break;case 6:s=W1("ijklmn,n->ijklm",i,o);break;default:throw new Error("Not a valid tensor rank.")}return s=zo(s,-1),Ut(s,a)}const iJe=Ue({rgbToGrayscale_:aJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oJe(e,t,n=0,r=.5){const a=De(e,"image","rotateWithOffset","float32");pe(a.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const i={image:a},o={radians:t,fillValue:n,center:r};return Fe.runKernel(oz,i,o)}const sJe=Ue({rotateWithOffset_:oJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e1(e,t,n,r,a,i){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);const o=e.shape[0];return n=Math.min(n,o),pe(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),pe(e.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),pe(e.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),pe(t.rank===1,()=>"scores must be a 1D tensor"),pe(t.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${t.shape[0]}`),pe(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const i=De(e,"boxes","nonMaxSuppression","float32"),o=De(t,"scores","nonMaxSuppression","float32"),s=e1(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return Fe.runKernel(jV,{boxes:i,scores:o},l)}const uJe=Ue({nonMaxSuppression_:lJe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cJe(e,t,n){const r=fJe(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function fJe(e,t,n){return dJe(e,t,n)}function dJe(e,t,n){let r=0,a=e.length,i=0,o=!1;for(;r<a;){i=r+(a-r>>>1);const s=n(t,e[i]);s>0?r=i+1:(a=i,o=!s)}return o?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lz(e,t,n,r,a){return Fz(e,t,n,r,a,0)}function Oz(e,t,n,r,a,i){return Fz(e,t,n,r,a,0,!1,i,!0)}function Pz(e,t,n,r,a,i){return Fz(e,t,n,r,a,i,!0)}function Fz(e,t,n,r,a,i,o=!1,s=!1,l=!1){const u=[];for(let g=0;g<t.length;g++)t[g]>a&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(Z9);const c=i>0?-.5/i:0,f=[],d=[];for(;f.length<n&&u.length>0;){const g=u.pop(),{score:m,boxIndex:y,suppressBeginIndex:b}=g;if(m<a)break;let x=!1;for(let _=f.length-1;_>=b;--_){const S=hJe(e,y,f[_]);if(S>=r){x=!0;break}if(g.score=g.score*pJe(r,c,S),g.score<=a)break}g.suppressBeginIndex=f.length,x||(g.score===m?(f.push(y),d.push(g.score)):g.score>a&&cJe(u,g,Z9))}const h=f.length,p=n-h;s&&p>0&&(f.push(...new Array(p).fill(0)),d.push(...new Array(p).fill(0)));const v={selectedIndices:f};return o&&(v.selectedScores=d),l&&(v.validOutputs=h),v}function hJe(e,t,n){const r=e.subarray(t*4,t*4+4),a=e.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),h=(s-i)*(l-o),p=(f-u)*(d-c);if(h<=0||p<=0)return 0;const v=Math.max(i,u),g=Math.max(o,c),m=Math.min(s,f),y=Math.min(l,d),b=Math.max(m-v,0)*Math.max(y-g,0);return b/(h+p-b)}function pJe(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function Z9(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function vJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY){const i=De(e,"boxes","nonMaxSuppressionAsync"),o=De(t,"scores","nonMaxSuppressionAsync"),s=e1(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;const l=await Promise.all([i.data(),o.data()]),u=l[0],c=l[1],{selectedIndices:f}=Lz(u,c,n,r,a);return i!==e&&i.dispose(),o!==t&&o.dispose(),ws(f,"int32")}const gJe=vJe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){const o=De(e,"boxes","nonMaxSuppression"),s=De(t,"scores","nonMaxSuppression"),l=e1(o,s,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const u={boxes:o,scores:s},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i},f=Fe.runKernel(XV,u,c);return{selectedIndices:f[0],selectedScores:f[1]}}const yJe=Ue({nonMaxSuppressionWithScore_:mJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function bJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){const o=De(e,"boxes","nonMaxSuppressionAsync"),s=De(t,"scores","nonMaxSuppressionAsync"),l=e1(o,s,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([o.data(),s.data()]),c=u[0],f=u[1],{selectedIndices:d,selectedScores:h}=Pz(c,f,n,r,a,i);return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:ws(d,"int32"),selectedScores:ws(h)}}const xJe=bJe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){const o=De(e,"boxes","nonMaxSuppression"),s=De(t,"scores","nonMaxSuppression"),l=e1(o,s,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,d={boxes:o,scores:s},h={maxOutputSize:u,iouThreshold:c,scoreThreshold:f,padToMaxOutputSize:i},p=Fe.runKernel(YV,d,h);return{selectedIndices:p[0],validOutputs:p[1]}}const _Je=Ue({nonMaxSuppressionPadded_:wJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function SJe(e,t,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){const o=De(e,"boxes","nonMaxSuppressionAsync"),s=De(t,"scores","nonMaxSuppressionAsync"),l=e1(o,s,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,[d,h]=await Promise.all([o.data(),s.data()]),{selectedIndices:p,validOutputs:v}=Oz(d,h,u,c,f,i);return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:ws(p,"int32"),validOutputs:Cr(v,"int32")}}const CJe=SJe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TJe(e,t,n=!1,r=!1){const a=De(e,"images","resizeBilinear");pe(a.rank===3||a.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),pe(t.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),pe(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=a,o=!1;a.rank===3&&(o=!0,i=He(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=Fe.runKernel(CD,s,l);return o?He(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Zle=Ue({resizeBilinear_:TJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kJe(e,t,n=!1,r=!1){const a=De(e,"images","resizeNearestNeighbor");pe(a.rank===3||a.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),pe(t.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),pe(a.dtype==="float32"||a.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),pe(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=a,o=!1;a.rank===3&&(o=!0,i=He(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=Fe.runKernel(SD,s,l);return o?He(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Jle=Ue({resizeNearestNeighbor_:kJe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IJe(e,t="binary",n=!1,r=.5){const a=De(e,"image","threshold"),i=.2989,o=.587,s=.114,l=a.shape[0]*a.shape[1];let u=Pe(ws([r]),255),c,f,d,h;if(pe(a.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),pe(a.shape[2]===3||a.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),pe(a.dtype==="int32"||a.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),pe(t==="otsu"||t==="binary",()=>`Method must be binary or otsu, but was ${t}`),a.shape[2]===3){[c,f,d]=Hs(a,[1,1,1],-1);const g=Pe(c,i),m=Pe(f,o),y=Pe(d,s);h=Et(Et(g,m),y)}else h=e;if(t==="otsu"){const g=CYe(Ut(Ble(h),"int32"),sx([]),256);u=EJe(g,l)}const p=n?Qy(h,u):qs(h,u);return Ut(Pe(p,255),"int32")}function EJe(e,t){let n=ws([-1]),r=ws([0]),a=ws([0]),i,o,s,l,u,c;for(let f=0;f<e.size-1;f++){i=Kr(e,0,f+1),o=Kr(e,f+1),u=gn(pn(i),t),c=gn(pn(o),t);const d=pn(Pe(i,vw(0,i.size)));s=gn(d,pn(i));const h=FD(o.shape,i.size),p=Et(vw(0,o.size),h),v=Pe(o,p);l=gn(pn(v),pn(o));const g=Sn(s,l),m=Sn(s,l),y=Pe(u,c);a=Pe(Pe(y,g),m);const b=qs(a,r);r=xo(b,a,r),n=xo(b,ws([f]),n)}return n}const AJe=Ue({threshold_:IJe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DJe(e,t,n="nearest",r="constant",a=0,i){const o=De(e,"image","transform","float32"),s=De(t,"transforms","transform","float32");pe(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),pe(s.rank===2&&(s.shape[0]===o.shape[0]||s.shape[0]===1)&&s.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),pe(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:o,transforms:s},u={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return Fe.runKernel(az,l,u)}const NJe=Ue({transform_:DJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RJe(e,t,n){const r=De(e,"a","bandPart");pe(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const a=r.shape,[i,o]=r.shape.slice(-2);let s,l;typeof t=="number"?(pe(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),pe(t<=i,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${i}).`),s=De(t<0?i:t,"numLower","bandPart")):(pe(t.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),s=xo(mI(t,0),i,pw(t,i))),typeof n=="number"?(pe(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),pe(n<=o,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`),l=De(n<0?o:n,"numUpper","bandPart")):(pe(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=xo(mI(n,0),o,pw(n,o)));const u=He(vw(0,i,1,"int32"),[-1,1]),c=vw(0,o,1,"int32"),f=Sn(u,c),d=Hf(Qy(f,s),Bg(f,ya(l))),h=ni([i,o],r.dtype);return He(Uf(yg(He(r,[-1,i,o])).map(p=>xo(d,p,h))),a)}const MJe=Ue({bandPart_:RJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Je(e){let t;if(Array.isArray(e)){t=!1,pe(e!=null&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const a=e[0].shape[0];for(let i=1;i<e.length;++i)pe(e[i].shape[0]===a,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[i].shape[0]} vs. ${a})`)}else t=!0,e=Hs(e,e.shape[0],0).map(a=>$S(a,[0]));pe(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let a=0;a<e.length;++a)n.push(Fe.tidy(()=>{let i=r[a];if(a>0)for(let o=0;o<a;++o){const s=Pe(pn(Pe(n[o],i)),n[o]);i=Sn(i,s)}return gn(i,VD(i,"euclidean"))}));return t?Uf(n,0):n}const LJe=Ue({gramSchmidt_:$Je});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OJe(e,t=!1){if(pe(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),e.rank===2)return J9(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((l,u)=>l*u),r=yg(He(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];r.forEach(l=>{const[u,c]=J9(l,t);a.push(u),i.push(c)});const o=He(Uf(a,0),e.shape),s=He(Uf(i,0),e.shape);return[o,s]}}function J9(e,t=!1){return Fe.tidy(()=>{pe(e.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let a=Nle(n),i=Fv(e);const o=JR([[1]],[1,1]);let s=Fv(o);const l=n>=r?r:n;for(let u=0;u<l;++u){const c=i,f=s,d=a;[s,i,a]=Fe.tidy(()=>{const h=Kr(i,[u,u],[n-u,1]),p=VD(h),v=Kr(i,[u,u],[1,1]),g=xo(qs(v,0),JR([[-1]]),JR([[1]])),m=Sn(v,Pe(g,p)),y=gn(h,m);y.shape[0]===1?s=Fv(o):s=Xo([o,Kr(y,[1,0],[y.shape[0]-1,y.shape[1]])],0);const b=ya(gn(Tr(g,m),p)),x=Kr(i,[u,0],[n-u,r]),_=Pe(b,s),S=hr(s);if(u===0)i=Sn(x,Tr(_,Tr(S,x)));else{const T=Sn(x,Tr(_,Tr(S,x)));i=Xo([Kr(i,[0,0],[u,r]),T],0)}const C=hr(_),k=Kr(a,[0,u],[n,a.shape[1]-u]);if(u===0)a=Sn(k,Tr(Tr(k,s),C));else{const T=Sn(k,Tr(Tr(k,s),C));a=Xo([Kr(a,[0,0],[n,u]),T],1)}return[s,i,a]}),zn([c,f,d])}return!t&&n>r&&(a=Kr(a,[0,0],[n,r]),i=Kr(i,[0,0],[r,r])),[a,i]})}const PJe=Ue({qr_:OJe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tf={flipLeftRight:tJe,grayscaleToRGB:rJe,resizeNearestNeighbor:Jle,resizeBilinear:Zle,rgbToGrayscale:iJe,rotateWithOffset:sJe,cropAndResize:QZe,nonMaxSuppression:uJe,nonMaxSuppressionAsync:gJe,nonMaxSuppressionWithScore:yJe,nonMaxSuppressionWithScoreAsync:xJe,nonMaxSuppressionPadded:_Je,nonMaxSuppressionPaddedAsync:CJe,threshold:AJe,transform:NJe},FJe={bandPart:MJe,gramSchmidt:LJe,qr:PJe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BJe=new Map,VJe=new Map;class Wg{getClassName(){return this.constructor.className}static fromConfig(t,n){return new t(n)}}class xl{constructor(){this.classNameMap={}}static getMap(){return xl.instance==null&&(xl.instance=new xl),xl.instance}static register(t){xl.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function bt(e,t,n){pe(e.className!=null,()=>"Class being registered does not have the static className property defined."),pe(typeof e.className=="string",()=>"className is required to be a string, but got type "+typeof e.className),pe(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof n>"u"&&(n=e.className);const r=n,a=t+">"+r;return xl.register(e),BJe.set(a,e),VJe.set(e,a),e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ip extends Wg{minimize(t,n=!1,r){const{value:a,grads:i}=this.computeGradients(t,r);if(r!=null){const o=r.map(s=>({name:s.name,tensor:i[s.name]}));this.applyGradients(o)}else this.applyGradients(i);return zn(i),n?a:(a.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,n){return GXe(t,n)}dispose(){this.iterations_!=null&&zn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Cr(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(t){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(t){return this.iterations_=(await t[0].tensor.data())[0],t.slice(1)}}Object.defineProperty(ip,Symbol.hasInstance,{value:e=>e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Qle extends ip{static get className(){return"Adadelta"}constructor(t,n,r=null){super(),this.learningRate=t,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=Fe.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Fe.registeredVariables[r],o=!1;this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accum_grad`,variable:Xe(()=>gr(i).variable(o))}),this.accumulatedUpdates[a]==null&&(this.accumulatedUpdates[a]={originalName:`${r}/accum_var`,variable:Xe(()=>gr(i).variable(o))});const s=Array.isArray(t)?t[a].tensor:t[r];if(s==null)return;const l=this.accumulatedGrads[a].variable,u=this.accumulatedUpdates[a].variable;Xe(()=>{const c=Et(Pe(l,this.rho),Pe(Yr(s),1-this.rho)),f=Pe(gn(Ki(Et(u,this.epsilon)),Ki(Et(l,this.epsilon))),s),d=Et(Pe(u,this.rho),Pe(Yr(f),1-this.rho));l.assign(c),u.assign(d);const h=Et(Pe(f,-this.learningRate),i);i.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(zn(this.accumulatedGrads.map(t=>t.variable)),zn(this.accumulatedUpdates.map(t=>t.variable)))}async getWeights(){const t=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=t.length/2,r=!1;this.accumulatedGrads=t.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedUpdates=t.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eue extends ip{static get className(){return"Adagrad"}constructor(t,n=.1){super(),this.learningRate=t,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Fe.registeredVariables[r];this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accumulator`,variable:Xe(()=>FD(i.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(t)?t[a].tensor:t[r];if(o==null)return;const s=this.accumulatedGrads[a].variable;Xe(()=>{const l=Et(s,Yr(o));s.assign(l);const u=Et(Pe(gn(o,Ki(Et(l,Fe.backend.epsilon()))),-this.learningRate),i);i.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&zn(this.accumulatedGrads.map(t=>t.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,n){return new t(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tue extends ip{static get className(){return"Adam"}constructor(t,n,r,a=null){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Xe(()=>{this.accBeta1=Cr(n).variable(),this.accBeta2=Cr(r).variable()}),a==null&&(this.epsilon=Fe.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Xe(()=>{const r=Sn(1,this.accBeta1),a=Sn(1,this.accBeta2);n.forEach((i,o)=>{const s=Fe.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:Xe(()=>gr(s).variable(l))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${i}/v`,variable:Xe(()=>gr(s).variable(l))});const u=Array.isArray(t)?t[o].tensor:t[i];if(u==null)return;const c=this.accumulatedFirstMoment[o].variable,f=this.accumulatedSecondMoment[o].variable,d=Et(Pe(c,this.beta1),Pe(u,1-this.beta1)),h=Et(Pe(f,this.beta2),Pe(Yr(u),1-this.beta2)),p=gn(d,r),v=gn(h,a);c.assign(d),f.assign(h);const g=Et(Pe(gn(p,Et(Ki(v),this.epsilon)),-this.learningRate),s);s.assign(g)}),this.accBeta1.assign(Pe(this.accBeta1,this.beta1)),this.accBeta2.assign(Pe(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&zn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedSecondMoment!=null&&zn(this.accumulatedSecondMoment.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t),Xe(()=>{this.accBeta1.assign(gg(this.beta1,this.iterations_+1)),this.accBeta2.assign(gg(this.beta2,this.iterations_+1))});const n=t.length/2,r=!1;this.accumulatedFirstMoment=t.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedSecondMoment=t.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nue extends ip{static get className(){return"Adamax"}constructor(t,n,r,a=null,i=0){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=a,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Xe(()=>{this.iteration=Cr(0).variable(),this.accBeta1=Cr(n).variable()}),a==null&&(this.epsilon=Fe.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Xe(()=>{const r=Sn(1,this.accBeta1),a=gn(-this.learningRate,Et(Pe(this.iteration,this.decay),1));n.forEach((i,o)=>{const s=Fe.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:gr(s).variable(l)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${i}/v`,variable:gr(s).variable(l)});const u=Array.isArray(t)?t[o].tensor:t[i];if(u==null)return;const c=this.accumulatedFirstMoment[o].variable,f=this.accumulatedWeightedInfNorm[o].variable,d=Et(Pe(c,this.beta1),Pe(u,1-this.beta1)),h=Pe(f,this.beta2),p=oo(u),v=rp(h,p);c.assign(d),f.assign(v);const g=Et(Pe(gn(a,r),gn(d,Et(v,this.epsilon))),s);s.assign(g)}),this.iteration.assign(Et(this.iteration,1)),this.accBeta1.assign(Pe(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&zn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedWeightedInfNorm!=null&&zn(this.accumulatedWeightedInfNorm.map(t=>t.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(t){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bz extends ip{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Array.isArray(t)?t[a].tensor:t[r];if(i==null)return;const o=Fe.registeredVariables[r];Xe(()=>{const s=Et(Pe(this.c,i),o);o.assign(s)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=Cc(Cr(-t))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(t){if(t=await this.extractIterations(t),t.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,n){return new t(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rue extends Bz{static get className(){return"Momentum"}constructor(t,n,r=!1){super(t),this.learningRate=t,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Cr(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Fe.registeredVariables[r];this.accumulations[a]==null&&(this.accumulations[a]={originalName:`${r}/momentum`,variable:Xe(()=>gr(i).variable(!1))});const o=this.accumulations[a].variable,s=Array.isArray(t)?t[a].tensor:t[r];s!=null&&Xe(()=>{let l;const u=Et(Pe(this.m,o),s);this.useNesterov?l=Et(Pe(this.c,Et(s,Pe(u,this.m))),i):l=Et(Pe(this.c,u),i),o.assign(u),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&zn(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aue extends ip{static get className(){return"RMSProp"}constructor(t,n=.9,r=0,a=null,i=!1){if(super(),this.learningRate=t,this.decay=n,this.momentum=r,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,a==null&&(this.epsilon=Fe.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,a)=>{const i=Fe.registeredVariables[r],o=!1;this.accumulatedMeanSquares[a]==null&&(this.accumulatedMeanSquares[a]={originalName:`${r}/rms`,variable:Xe(()=>gr(i).variable(o))}),this.accumulatedMoments[a]==null&&(this.accumulatedMoments[a]={originalName:`${r}/momentum`,variable:Xe(()=>gr(i).variable(o))}),this.accumulatedMeanGrads[a]==null&&this.centered&&(this.accumulatedMeanGrads[a]={originalName:`${r}/mg`,variable:Xe(()=>gr(i).variable(o))});const s=Array.isArray(t)?t[a].tensor:t[r];if(s==null)return;const l=this.accumulatedMeanSquares[a].variable,u=this.accumulatedMoments[a].variable;Xe(()=>{const c=Et(Pe(l,this.decay),Pe(Yr(s),1-this.decay));if(this.centered){const f=this.accumulatedMeanGrads[a].variable,d=Et(Pe(f,this.decay),Pe(s,1-this.decay)),h=gn(Pe(s,this.learningRate),Ki(Sn(c,Et(Yr(d),this.epsilon)))),p=Et(Pe(u,this.momentum),h);l.assign(c),f.assign(d),u.assign(p);const v=Sn(i,p);i.assign(v)}else{const f=Et(Pe(l,this.decay),Pe(Yr(s),1-this.decay)),d=Et(Pe(u,this.momentum),gn(Pe(s,this.learningRate),Ki(Et(f,this.epsilon))));l.assign(f),u.assign(d);const h=Sn(i,d);i.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&zn(this.accumulatedMeanSquares.map(t=>t.variable)),this.accumulatedMeanGrads!=null&&this.centered&&zn(this.accumulatedMeanGrads.map(t=>t.variable)),this.accumulatedMoments!=null&&zn(this.accumulatedMoments.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&t.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=this.centered?t.length/3:t.length/2,r=!1;this.accumulatedMeanSquares=t.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedMoments=t.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=t.slice(n*2,n*3).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zJe=[Qle,eue,tue,nue,rue,aue,Bz];function WJe(){for(const e of zJe)bt(e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q9(e,t,n,r){o(e),n=n??0,r=r??1,s(n,r);let a=0;const i=l=>(l.then(u=>{const c=n+ ++a/e.length*(r-n);return t(c),u}),l);function o(l){pe(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function s(l,u){pe(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),pe(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),pe(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(e.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function HJe(e,t){t==null&&(t={});const n=t.fetchFunc==null?tt().platform.fetch:t.fetchFunc,r=e.map(f=>n(f,t.requestInit,{isBinary:!0})),s=(t.onProgress==null?await Promise.all(r):await Q9(r,t.onProgress,0,.5)).map(f=>f.arrayBuffer());return t.onProgress==null?await Promise.all(s):await Q9(s,t.onProgress,.5,1)}function UJe(e,t){var n;const r=t.fetchFunc==null?tt().platform.fetch:t.fetchFunc;let a=0,i;return(n=t.onProgress)===null||n===void 0||n.call(t,0),new ReadableStream({pull:async o=>{for(var s;a<e.length;){i||(i=(await r(e[a],t.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await i.read();if(l){a++,i=void 0,(s=t.onProgress)===null||s===void 0||s.call(t,a/e.length);continue}o.enqueue(u);return}o.close()}})}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GJe="application/octet-stream",KJe="application/json";class Vz{constructor(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(pe(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=tt().platform.fetch,pe(t!=null&&t.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(t)&&pe(t.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${t.length}).`),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=aje(t,r);if(n.body.append("model.json",new Blob([JSON.stringify(a)],{type:KJe}),"model.json"),t.weightData!=null){const o=ep.join(t.weightData);n.body.append("model.weights.bin",new Blob([o],{type:GJe}),"model.weights.bin")}const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:uz(t),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw new Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await t.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const r=n.modelTopology,a=n.weightsManifest;if(r==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const t=await this.loadModelJSON();return oje(t,n=>this.loadWeights(n))}async loadStream(){const t=await this.loadModelJSON(),n=await this.getWeightUrls(t.weightsManifest),r=B9(t.weightsManifest),a=()=>UJe(n,this.loadOptions);return Object.assign(Object.assign({},t),{weightSpecs:r,getWeightStream:a})}async getWeightUrls(t){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,a]=jJe(n),i=this.weightPathPrefix||r,o=[],s=[];for(const l of t)for(const u of l.paths)this.weightUrlConverter!=null?s.push(this.weightUrlConverter(u)):o.push(i+u+a);return this.weightUrlConverter&&o.push(...await Promise.all(s)),o}async loadWeights(t){const n=await this.getWeightUrls(t),r=B9(t),a=await HJe(n,this.loadOptions);return[r,a]}}Vz.URL_SCHEME_REGEX=/^https?:\/\//;function jJe(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}function e7(e){return e.match(Vz.URL_SCHEME_REGEX)!=null}const iue=(e,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let n=!0;if(Array.isArray(e)?n=e.every(r=>e7(r)):n=e7(e),n)return oue(e,t)}return null};qa.registerSaveRouter(iue);qa.registerLoadRouter(iue);function oue(e,t){return new Vz(e,t)}function YJe(e,t){return oue(e,t)}function zz(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(t.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(ot(e.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const a=t.shape,i=a[a.length-1];let o=1;for(let f=0;f<a.length-1;++f)o*=a[f];const s=e.shape,l=a.slice();l.pop();let u=1;for(let f=i;f<n;++f)u*=s[f],l.push(s[f]);const c=[...dn(e.shape).map(f=>f/u),1].slice(0,i);return[l,o,u,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FP=-2,XJe=-1;function Wz(e,t,n){const r=e.shape.length;pe(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),pe(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)pe(t[a]+n[a]<=e.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${t[a]+n[a]}) would overflow input.shape[${a}] (${e.shape[a]})`)}function qJe(e){const t=[];let n=0;for(;e>0;)e&1&&t.push(n),e/=2,n++;return t}function Hz(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function sue(e,t,n,r){const a=[...e];for(let i=a.length;i<r.length;i++)a.push(1);for(let i=0;i<n;i++)i===0?a[t]=1:(a.splice(t,0,1),a.pop());return a}function lue(e,t,n){return n<=e?n:n-(t-1)}function uue(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function ZJe(e,t,n,r,a,i,o,s,l){const u=e.length;let c=new Array(u),f=new Array(u),d=new Array(u);if(t.length&&n>0){const h=t[0],p=n+1;c=cue(o,h,p,r,e),f=fue(s,h,p,a,e),d=sue(i,h,p,e)}else for(let h=0;h<u;h++)c[h]=hue(o,r,i,e,h,l),f[h]=pue(s,a,i,e,h,l),d[h]=due(i,h,l);return{begin:c,end:f,strides:d}}function cue(e,t,n,r,a){const i=[...a],o=uue(n,t);for(let s=0;s<i.length;s++)if(o.indexOf(s)>-1)i[s]=0;else{const l=lue(t,n,s);let u=r[l];e&1<<l&&(u=0),i[s]=u}return i}function fue(e,t,n,r,a){const i=[...a],o=uue(n,t);for(let s=0;s<i.length;s++)if(o.indexOf(s)>-1)i[s]=Number.MAX_SAFE_INTEGER;else{const l=lue(t,n,s);let u=r[l];e&1<<l&&(u=Number.MAX_SAFE_INTEGER),i[s]=u}for(let s=0;s<i.length;s++){const l=a[s];i[s]<0&&(i[s]+=l),i[s]=lg(0,i[s],a[s])}return i}function due(e,t,n){let r=e[t];return(n&1<<t||r==null)&&(r=1),r}function hue(e,t,n,r,a,i){let o=t[a];const s=n[a]||1;(e&1<<a||i&1<<a||o==null)&&(s>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);const l=r[a];return o<0&&(o+=l),o=lg(0,o,l-1),o}function pue(e,t,n,r,a,i){let o=t[a];const s=n[a]||1;(e&1<<a||i&1<<a||o==null)&&(s>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);const l=r[a];return o<0&&(o+=l),s>0?o=lg(0,o,l):o=lg(-1,o,l-1),o}function Uz(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function Gz(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function WD(e,t,n){let r;const a=e.shape.length;typeof t=="number"?r=[t,...new Array(a-1).fill(0)]:t.length<a?r=t.concat(new Array(a-t.length).fill(0)):r=t.slice(),r.forEach(o=>{pe(o!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(a).fill(-1):typeof n=="number"?i=[n,...new Array(a-1).fill(-1)]:n.length<a?i=n.concat(new Array(a-n.length).fill(-1)):i=n,i=i.map((o,s)=>o>=0?o:(pe(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${s}.`),e.shape[s]-r[s])),[r,i]}function Kz(e,t,n,r,a,i,o,s,l){let u;if(r==null?(u=new Array(t.length),u.fill(1)):u=r,o!=null&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const f={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l};for(let b=0;b<f.dims;b++)c&&1<<b&s&&f.numAddAxisAfterEllipsis++,1<<b&o&&(c=!0);c||(f.ellipsisMask|=1<<f.dims,f.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};JJe(f,d);let h=!0,p=!0,v=!0;const g=[],m=[];for(let b=0;b<e.length;++b){if(d.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const x=!!(d.shrinkAxisMask&1<<b),_=e[b];if(_===-1){g.push(x?1:-1);continue}const S=[d.beginMask&1<<b,d.endMask&1<<b],C=[d.strides[b]>0?0:-1,d.strides[b]>0?_:_-1];if(x&&d.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&d.strides[b]===1;const k=!!(d.beginMask&1<<b&&d.endMask&1<<b);if(d.beginValid&&d.endValid){if(x){const A=d.begin[b]<0?_+d.begin[b]:d.begin[b];if(d.begin[b]=A,d.end[b]=d.begin[b]+1,A<0||A>=_)throw Error(`slice index ${d.begin[b]} of dimension ${b} out of bounds.`)}else d.begin[b]=t7(d.begin[b],0,d.strides[b],_,S,C),d.end[b]=t7(d.end[b],1,d.strides[b],_,S,C);const E=d.strides[b]===1&&d.begin[b]===0&&d.end[b]===_;h=h&&E,p=p&&(b===0&&d.strides[b]===1||E)}else h=h&&d.strides[b]===1&&k,p=p&&(b===0&&d.strides[b]===1||k);let T,I=!1;if(d.beginValid&&d.endValid?(T=d.end[b]-d.begin[b],I=!0):x?(T=1,I=!0):k&&_>=0&&(d.strides[b]<0?T=-_:T=_,I=!0),I){let E;T===0||T<0!=d.strides[b]<0?E=0:E=Math.trunc(T/d.strides[b])+(T%d.strides[b]!==0?1:0),g.push(E)}else g.push(-1)}for(let b=0;b<d.finalShapeGatherIndices.length;++b){const x=d.finalShapeGatherIndices[b];x>=0?m.push(g[x]):x===FP&&m.push(1)}return{finalShapeSparse:m.filter((b,x)=>d.finalShapeGatherIndices[x]!==FP),finalShape:m,isIdentity:h,sliceDim0:p,isSimpleSlice:v,begin:d.begin,end:d.end,strides:d.strides}}function JJe(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=e.begin!=null,t.endValid=e.end!=null,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(FP),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);e.begin!=null&&(t.begin[n]=e.begin[r]),e.end!=null&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(XJe),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}function t7(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];{const o=e<0?r+e:e;return o<i[0]?i[0]:o>i[1]?i[1]:o}}const QJe=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:Wz,computeFlatOffset:Gz,computeOutShape:Hz,getNormalizedAxes:ZJe,isSliceContinous:Uz,maskToAxes:qJe,parseSliceParams:WD,sliceInfo:Kz,startForAxis:hue,startIndicesWithElidedDims:cue,stopForAxis:pue,stopIndicesWithElidedDims:fue,stridesForAxis:due,stridesWithElidedDims:sue},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eQe{static sgd(t){return new Bz(t)}static momentum(t,n,r=!1){return new rue(t,n,r)}static rmsprop(t,n=.9,r=0,a=null,i=!1){return new aue(t,n,r,a,i)}static adam(t=.001,n=.9,r=.999,a=null){return new tue(t,n,r,a)}static adadelta(t=.001,n=.95,r=null){return new Qle(t,n,r)}static adamax(t=.002,n=.9,r=.999,a=null,i=0){return new nue(t,n,r,a,i)}static adagrad(t,n=.1){return new eue(t,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _0=eQe;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tQe=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:e=>e();function vue(){return new Promise(e=>tQe(()=>e()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jz(e,t){const n=e[0].length;e.forEach((a,i)=>{pe(a.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),pe(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=e[0];e.forEach((a,i)=>{for(let o=0;o<n;o++)pe(o===t||a[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${i}] (${a}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function Tc(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var uu;(function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"})(uu||(uu={}));function gue(e,t,n){let r=new Array;if(n==null&&t==null)return r;if(t==null)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(n==null)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const i=n[a],o=r[r.length-n.length+a],s=r[o];if(i>=0)if(s>=0){if(s!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${a+e}] = ${i} but shape[${a+e}] = ${s}`)}else r[o]=i}return r}function mue(e){const t={FIRST_DIM_SIZE:uu.FIRST_DIM_SIZE,VALUE_ROWIDS:uu.VALUE_ROWIDS,ROW_LENGTHS:uu.ROW_LENGTHS,ROW_SPLITS:uu.ROW_SPLITS,ROW_LIMITS:uu.ROW_LIMITS,ROW_STARTS:uu.ROW_STARTS},n=[];for(const r of e)if(r in t)n.push(t[r]);else break;return n}function yue(e){return e.length===0?0:e[0]===uu.FIRST_DIM_SIZE?e.length-1:e.length}function bue(e,t){if(e==null||t==null)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const i=e[a],o=t[a+1];if(i>=0&&o>=0&&i!==1&&i!==o)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${a-e.length}] = ${i} but ragged tensor input.flatValues.shape[${a-e.length}] = ${o}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yz=30;function HD(e){return e<=Yz?e:_P(e,Math.floor(Math.sqrt(e)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xz(e,t,n){const r=n*(typeof e=="number"?e:e[0]),a=t*(typeof e=="number"?e:e[1]);return[r,a]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OS(e,t,n,r=!0){let a=[];if(r)a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);const i=t.length;for(let o=0;o<i;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(i+1))}return a}function PS(e,t,n=!0){const r=[];if(n){r.push(t);for(let a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{const a=[],i=[];for(let o=1;o<e;++o)o>=t*2+1||o%2===1?i.push(o):a.push(o);r.push(...a),r.push(0),r.push(...i)}return r}function FS(e,t,n,r=!0){const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function qz(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function Zz(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UD=1.7580993408473768,GD=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jz=.3275911,Qz=.254829592,e6=-.284496736,t6=1.421413741,n6=-1.453152027,r6=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gf(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(e.length*2);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function xue(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function wue(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function _ue(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function a6(e,t){const n=e[t*2],r=e[t*2+1];return{real:n,imag:r}}function Sue(e,t,n,r){e[r*2]=t,e[r*2+1]=n}function Cue(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function Tue(e,t,n){const r=(n?2:-2)*Math.PI*(e/t),a=Math.cos(r),i=Math.sin(r);return{real:a,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QR="->",nQe=/->/g,n7=",",r7="...";function i6(e,t){e=e.replace(/\s/g,"");const n=(e.length-e.replace(nQe,"").length)/QR.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${QR}").`);const[r,a]=e.split(QR);pe(r.indexOf(r7)===-1,()=>`The ellipsis notation ("${r7}") is not supported yet.`);const i=r.split(n7),o=i.length;if(t!==o)throw new Error(`Expected ${o} input tensors, received ${t}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<a.length;++d){const h=a[d];if(!i.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);s.indexOf(h)===-1&&s.push(h)}for(let d=0;d<r.length;++d){const h=r[d];s.indexOf(h)===-1&&h!==n7&&s.push(h)}const l=new Array(i.length);for(let d=0;d<o;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error(`Found duplicate axes in input component ${i[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let h=0;h<i[d].length;++h)l[d].push(s.indexOf(i[d][h]))}const u=s.length,c=a.length,f=[];for(let d=c;d<u;++d)f.push(d);return{allDims:s,summedDims:f,idDims:l}}function o6(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)n[a]===-1&&r.push(a);return n=n.filter(a=>a!==-1),{permutationIndices:n,expandDims:r}}function s6(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const i=n[a].shape;for(let o=0;o<t[a].length;++o)r[t[a][o]]===void 0?r[t[a][o]]=i[o]:pe(r[t[a][o]]===i[o],()=>`Expected dimension ${r[t[a][o]]} at axis ${o} of input shaped ${JSON.stringify(i)}, but got dimension ${i[o]}`)}}function l6(e,t){const n=e,r=[];let a=0;e.length===0&&n.push(-1),a=e.length+1;for(let o=0;o<a;++o)r.push([]);const i=[];for(let o=0;o<n.length;++o){const s=n[o],l=rQe(t,s);for(const u of l)i.indexOf(u)===-1&&(r[o].push(u),i.push(u))}return{path:n,steps:r}}function u6(e){return e.every((t,n)=>t===n)}function rQe(e,t){const n=[];for(let r=0;r<e.length;++r)(e[r].length===0||e[r].indexOf(t)!==-1||t===-1)&&n.push(r);return n}function c6(e,t,n=0){let r=[];if(typeof t=="number")pe(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce((o,s)=>(s===-1&&(o+=1),o),0);pe(a<=1,()=>"There should be only one negative value in split array.");const i=t.indexOf(-1);if(i!==-1){const o=t.reduce((s,l)=>l>0?s+l:s);t[i]=e.shape[n]-o}pe(e.shape[n]===t.reduce((o,s)=>o+s),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kue(e){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${e}`}function Iue(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function Eue(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aue(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Due(e,t){return`size ${e} must be non-negative, not ${t}`}function Nue(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Rue(e,t){const n=ot(e),r=ot(t);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${e} outputShape= ${t}`}function Mue(e,t){const n=ot(e),r=ot(t);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${e} outputShape=${t}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BP(){return"segment ids must be >= 0"}function $ue(){return"segment ids are not increasing"}function Lue(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function Oue(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pue(e,t){let n=!1,r;for(e<=Yz?(r=e,n=!0):r=_P(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=_P(e,r+1);return r}function Fue(e,t,n){const r=[],a=e.length;for(let i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function f6(e,t,n,r){const a=t.shape.length,i=e.shape.length;if(r!==0&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(e.shape[f]!==t.shape[f])throw new Error(`x.shape[${f}]: ${e.shape[f]} should be equal to indices.shape[${f}]: ${t.shape[f]}.`);const o=e.shape[n],s=[];let l=1,u=1,c=1;for(let f=0;f<r;++f)s.push(e.shape[f]),l*=e.shape[f];for(let f=r;f<n;f++)s.push(e.shape[f]),u*=e.shape[f];for(let f=r;f<a;f++)s.push(t.shape[f]);for(let f=n+1;f<i;f++)s.push(e.shape[f]),c*=e.shape[f];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:o,outputShape:s}}const aQe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:f6,computeOutShape:Fue,segOpComputeOptimalWindowSize:Pue},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kf(e){try{return e.map(t=>Dh(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function Bue(e){return e.map(t=>dh(t))}const iQe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:Qz,ERF_A2:e6,ERF_A3:t6,ERF_A4:n6,ERF_A5:r6,ERF_P:Jz,PARALLELIZE_THRESHOLD:Yz,get RowPartitionType(){return uu},SELU_SCALE:GD,SELU_SCALEALPHA:UD,applyActivation:Mz,assertAndGetBroadcastShape:On,assertAxesAreInnerMostDims:Di,assertParamsConsistent:jz,assignToTypedArray:Sue,axesAreInnerMostDims:gz,calculateShapes:zg,checkEinsumDimSizes:s6,checkPadOnDimRoundingMode:us,combineLocations:Ale,combineRaggedTensorToTensorShapes:gue,complexWithEvenIndex:wue,complexWithOddIndex:_ue,computeConv2DInfo:Ai,computeConv3DInfo:tp,computeDefaultPad:cz,computeDilation2DInfo:NS,computeOptimalWindowSize:HD,computeOutAndReduceShapes:mi,computeOutShape:Tc,computePool2DInfo:zl,computePool3DInfo:ud,convertConv2DDataFormat:cd,decodeEinsumEquation:i6,eitherStridesOrDilationsAreOne:Zi,expandShapeToKeepDim:Ra,exponent:Tue,exponents:Cue,fromStringArrayToUint8:Bue,fromUint8ToStringArray:Kf,getAxesPermutation:da,getBroadcastDims:dy,getComplexWithIndex:a6,getEinsumComputePath:l6,getEinsumPermutation:o6,getFusedBiasGradient:Rz,getFusedDyActivation:Nz,getImageCenter:Xz,getInnerMostAxes:Ca,getPermuted:PS,getRaggedRank:yue,getReductionAxes:ja,getReshaped:OS,getReshapedPermuted:FS,getRowPartitionTypesHelper:mue,getSliceBeginCoords:qz,getSliceSize:Zz,getSparseFillEmptyRowsIndicesDenseShapeMismatch:kue,getSparseFillEmptyRowsNegativeIndexErrorMessage:Iue,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:Eue,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:Nue,getSparseReshapeInputOutputMismatchErrorMessage:Mue,getSparseReshapeInputOutputMultipleErrorMessage:Rue,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:Aue,getSparseReshapeNegativeOutputDimErrorMessage:Due,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:Oue,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:BP,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:$ue,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:Lue,getUndoAxesPermutation:np,isIdentityPermutation:u6,log:wKe,mergeRealAndImagArrays:Gf,prepareAndValidate:zz,prepareSplitSize:c6,segment_util:aQe,shouldFuse:$z,slice_util:QJe,splitRealAndImagArrays:xue,stridesOrDilationsArePositive:pg,tupleValuesAreOne:hg,upcastType:Ts,validateDefaultValueShape:bue,validateInput:NZe,validateUpdateShape:jle,warn:$s},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */WJe();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vue={kernelName:LA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,LS(Ut(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oQe={kernelName:$_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Yr(Ut(n,"float32")),a=Ki(Sn(Cr(1),r));return ya(gn(e,a))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sQe={kernelName:L_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Ki(Sn(Yr(Ut(n,"float32")),1));return gn(e,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lQe={kernelName:Zy,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{let s=e;const l=ja(n.shape,a);return l.length>0&&(s=pn(s,l)),He(s,n.shape)},b:()=>{let s=e;const l=ja(r.shape,a);return l.length>0&&(s=pn(s,l)),He(s,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uQe={kernelName:xV,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach((r,a)=>{n[a]=()=>e.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cQe={kernelName:OA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gr(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fQe={kernelName:PA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gr(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dQe={kernelName:O_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Ki(Sn(Cr(1),Yr(Ut(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hQe={kernelName:P_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=Ki(Et(Cr(1),Yr(Ut(n,"float32"))));return gn(e,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pQe={kernelName:V_,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=Et(Yr(n),Yr(r));let l=Pe(e,gn(r,s));const u=ja(n.shape,a);return u.length>0&&(l=pn(l,u)),He(l,n.shape)},b:()=>{const s=Et(Yr(n),Yr(r));let l=ya(Pe(e,gn(n,s)));const u=ja(r.shape,a);return u.length>0&&(l=pn(l,u)),He(l,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vQe={kernelName:F_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Et(Yr(Ut(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gQe={kernelName:B_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Sn(Cr(1),Yr(Ut(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mQe(e,t,n,r,a,i){const o=De(e,"dy","avgPool3dGrad"),s=De(t,"input","avgPool3dGrad");let l=o,u=s,c=!1;s.rank===4&&(c=!0,l=He(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),u=He(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),pe(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),pe(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),us("avgPool3dGrad",a,i);const f={dy:l,input:u},d={filterSize:n,strides:r,pad:a,dimRoundingMode:i},h=Fe.runKernel(CV,f,d);return c?He(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const yQe=Ue({avgPool3dGrad_:mQe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bQe={kernelName:BA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:i,pad:o,dimRoundingMode:s}=n;return{x:()=>yQe(e,r,a,i,o,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xQe(e,t,n,r,a){const i=De(e,"dy","avgPoolGrad"),o=De(t,"input","avgPoolGrad");pe(o.rank===i.rank,()=>`Rank of input (${o.rank}) does not match rank of dy (${i.rank})`);let s=o,l=i,u=!1;o.rank===3&&(u=!0,s=He(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=He(i,[1,i.shape[0],i.shape[1],i.shape[2]])),pe(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),pe(s.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${s.rank}.`);const c={dy:l,input:s},f={filterSize:n,strides:r,pad:a},d=Fe.runKernel(SV,c,f);return u?He(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const wQe=Ue({avgPoolGrad_:xQe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Qe={kernelName:FA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:i,pad:o}=n;return{x:()=>wQe(e,r,a,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SQe={kernelName:VA,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:i,transposeB:o}=n;return!i&&!o?{a:()=>Tr(e,a,!1,!0),b:()=>Tr(r,e,!0,!1)}:!i&&o?{a:()=>Tr(e,a,!1,!1),b:()=>Tr(e,r,!0,!1)}:i&&!o?{a:()=>Tr(a,e,!1,!0),b:()=>Tr(r,e,!1,!1)}:{a:()=>Tr(a,e,!0,!0),b:()=>Tr(e,r,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CQe={kernelName:zA,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>Cz(e,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TQe={kernelName:mKe,gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,i=r.shape,o=Array.from(i);for(let l=a.length-1;l>=0;l--)if(a[l]===i[l])o[l]=1;else if(a[l]!==1)throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${i}].`);const s=[];for(let l=0;l<o.length;l++)o[l]>1&&s.push(l);return{x:()=>pn(e,s,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kQe={kernelName:z_,gradFunc:e=>({x:()=>e.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IQe={kernelName:W_,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EQe={kernelName:H_,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:a,clipValueMax:i}=n;return{x:()=>xo(Hf(Bg(r,a),Qy(r,i)),e,gr(e))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AQe={kernelName:WA,inputsToSave:["x"],gradFunc:Vue.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DQe={kernelName:HA,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map(l=>l.shape),{axis:a}=n,i=jn(a,t[0].shape)[0],o=r.map(l=>l[i]);return Hs(e,o,i).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NQe={kernelName:UA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{dilations:i,strides:o,pad:s,dataFormat:l}=n;return pe(hg(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>hz(r.shape,e,a,o,s,l),filter:()=>Dz(r,e,a.shape,o,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RQe={kernelName:GA,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{strides:i,pad:o,dataFormat:s,dimRoundingMode:l}=n;return{dy:()=>vg(e,a,i,o,s,1,l),filter:()=>Dz(e,r,a.shape,i,o,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MQe(e,t,n,r,a){let i=e;e.rank===4&&(i=He(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let o=t;o.rank===4&&(o=He(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),pe(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),pe(o.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`),pe(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),pe(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),pe(o.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`);const s={x:i,dy:o},l={strides:r,pad:a,filterShape:n};return Fe.runKernel(AV,s,l)}const $Qe=Ue({conv3DBackpropFilter_:MQe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LQe={kernelName:KA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:i}=n;pe(hg(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[o,s]=t;return{x:()=>Tle(o.shape,e,s,a,i),filter:()=>$Qe(o,e,s.shape,a,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OQe={kernelName:U_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(ya(Hle(Ut(n,"float32"))),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PQe={kernelName:G_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(Ule(Ut(n,"float32")),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FQe={kernelName:jA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a,exclusive:i,reverse:o}=n;return{x:()=>{const s=da([a],r.rank);let l=Ile(e,a,i,!o);return s!=null&&(l=hr(l,s)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BQe={kernelName:YA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:i,dimRoundingMode:o}=n,s=r??[1,1];pe(hg(s),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);const[l,u]=t;return pe(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),pe(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),pe(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),pe(Zi(a,s),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${s}'.`),us("depthwiseConv2d",i,o),{x:()=>qZe(l.shape,e,u,a,i,s,o),filter:()=>YZe(l,e,u.shape,a,i,s,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VQe={kernelName:XA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,i={x:r,filter:a,dy:e},o={x:r,filter:a,dy:e};return{x:()=>Fe.runKernel(SP,i,n),filter:()=>Fe.runKernel(CP,o,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zQe={kernelName:j_,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>Fe.runKernel(FV,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WQe={kernelName:Y_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=Pe(Oc(ya(Yr(n))),2/Math.sqrt(Math.PI));return{x:()=>Pe(e,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HQe={kernelName:X_,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UQe={kernelName:ZA,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>He(e,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GQe={kernelName:q_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Oc(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KQe={kernelName:Z_,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jQe={kernelName:J_,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=gn(e,Ut(r,"float32")),l=ja(n.shape,a);return l.length>0?He(pn(s,l),n.shape):s},b:()=>{let s=Pe(e,Ut(n,"float32"));const l=ja(r.shape,a);l.length>0&&(s=He(pn(s,l),r.shape));const u=Yr(r);return ya(gn(s,Ut(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YQe={kernelName:JA,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[a,i,o,s]=t,l=s??Cr(1),u=ja(i.shape,a.shape),c=[];if(i.rank===1){for(let x=0;x<a.shape.length-1;++x)c.push(a.shape[x]);c.push(1)}const f=Sn(a,i),d=Pe(e,l),h=Vle(Et(o,Cr(r))),p=Pe(Pe(Pe(h,h),h),Cr(-.5));return{x:()=>i.rank===1?He(Pe(Pe(e,pu(He(h,[1,1,1,i.shape[0]]),c)),l),a.shape):He(Pe(Pe(e,h),l),a.shape),mean:()=>{let x=Pe(Pe(h,Cr(-1)),d);return i.rank===1&&(x=pn(x,u)),He(x,i.shape)},variance:()=>{let x=Pe(Pe(p,f),d);return i.rank===1&&(x=pn(x,u)),He(x,i.shape)},scale:()=>{const x=Pe(f,h);let _=Pe(e,x);return i.rank===1&&(_=pn(_,u)),He(_,i.shape)},offset:()=>{let x=e;return i.rank===1&&(x=pn(x,u)),He(x,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XQe={kernelName:QA,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,a]=t,{axis:i,batchDims:o}=n,s=jn(i,r.shape)[0],l=(u,c,f)=>()=>{const d=u.shape,h=c.size,p=d.slice(0,s),v=p.length,g=d.slice(i,d.length).slice(1),m=g.length,y=a7(0,v),b=a7(v+1,v+1+m),x=i7([p,[h],g]),_=He(f,x),S=He(c,[h]),C=i7([[v],y,b]),k=hr(_,C);let T=Xle(k,S,u.shape[s]);const I=np(C);return T=hr(T,I),T};if(o===1){const u=r.shape[0],c=r.split(u,0);return{x:()=>Uf(c.map((h,p)=>l(h,a.slice(p,1),e.slice(p,1))())).reshape(r.shape),indices:()=>a}}else return{x:l(r,a,e),indices:()=>a}}};function a7(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function i7(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qQe={kernelName:Q_,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>gr(n),b:()=>gr(r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZQe={kernelName:eS,gradFunc:e=>({x:()=>Ut(e,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JQe={kernelName:tS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QQe={kernelName:nS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eet={kernelName:rS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tet={kernelName:tD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:a}=n,i=qs(r,0);return{x:()=>xo(i,e,Pe(e,a))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const net={kernelName:iS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Et(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ret={kernelName:aS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Ut(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aet={kernelName:bKe,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;return{logits:()=>{const o=Oc(r);return Sn(e,Pe(pn(e,a,!0),o))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iet(e,t,n,r=5,a=1,i=1,o=.5){const s={x:e,y:t,dy:n},l={depthRadius:r,bias:a,alpha:i,beta:o};return Fe.runKernel(UV,s,l)}const oet=Ue({localResponseNormalizationBackprop_:iet});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const set={kernelName:sD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:i,bias:o,alpha:s,beta:l}=n;return{x:()=>oet(r,a,e,i,o,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zue(e,t,n,r){return t.rank<n.rank&&(t=He(t,Ra(t.shape,r))),e.rank<n.rank&&(e=He(e,Ra(e.shape,r))),{x:()=>Pe(e,Ut(Lc(n,t),e.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o7={kernelName:lD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:a}=r,i=t[0],o=t[1],s=jn(a,i.shape),l=zue(e,o,i,s);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uet={kernelName:oS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Pe(e,Ut(Bg(n,r),"float32")),b:()=>Pe(e,Ut(mI(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cet(e,t,n,r,a,i,o){const s=De(e,"dy","maxPool3dGrad"),l=De(t,"input","maxPool3dGrad"),u=De(n,"output","maxPool3dGrad");let c=s,f=l,d=u,h=!1;l.rank===4&&(h=!0,c=He(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),f=He(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=He(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),pe(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),pe(f.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`),pe(d.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),us("maxPool3dGrad",i,o);const p={dy:c,input:f,output:d},v={filterSize:r,strides:a,pad:i,dimRoundingMode:o},g=Fe.runKernel(KV,p,v);return h?He(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const fet=Ue({maxPool3dGrad_:cet});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const det={kernelName:cD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=n;return{x:()=>fet(e,r,a,i,o,s,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function het(e,t,n,r,a,i,o){const s=De(e,"dy","maxPoolGrad"),l=De(t,"input","maxPoolGrad"),u=De(n,"output","maxPoolGrad");pe(l.rank===s.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${s.rank})`),pe(s.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${s.rank}.`),pe(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),us("maxPoolGrad",i,o);const c={dy:s,input:l,output:u},f={filterSize:r,strides:a,pad:i,dimRoundingMode:o};return Fe.runKernel(GV,c,f)}const pet=Ue({maxPoolGrad_:het});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vet={kernelName:uD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:i,strides:o,pad:s}=n;return{x:()=>pet(e,r,a,i,o,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const get={kernelName:fD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n,i=jn(a,r.shape),s=mi(r.shape,i)[1],l=ot(s);return{x:()=>{const c=r.shape.slice();i.forEach(h=>{c[h]=1});const f=He(e,c);return gn(Pe(f,ap(r.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const met={kernelName:dD,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:a}=r,[i,o]=t,s=jn(a,i.shape),l=zue(e,o,i,s);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yet={kernelName:sS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Pe(e,Ut(Qy(n,r),"float32")),b:()=>Pe(e,Ut(qs(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bet={kernelName:hD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,i=a.map(o=>o[0]);return{x:()=>Kr(e,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xet={kernelName:lS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=ja(n.shape,a);return s.length>0?He(pn(e,s),n.shape):e},b:()=>{const s=Pe(e,ya(zD(gn(n,r)))),l=ja(r.shape,a);return l.length>0?He(pn(s,l),r.shape):s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wet={kernelName:uS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=Pe(e,Ut(r,"float32")),l=ja(n.shape,a);return l.length>0?He(pn(s,l),n.shape):s},b:()=>{const s=Pe(e,Ut(n,"float32")),l=ja(r.shape,a);return l.length>0?He(pn(s,l),r.shape):s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _et={kernelName:pD,gradFunc:e=>({x:()=>ya(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cet={kernelName:mD,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>ni(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tet={kernelName:gD,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ket={kernelName:yD,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return yg(e,r).map(i=>()=>i)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s7={kernelName:bD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,i=a.map(o=>o[0]);return{x:()=>Kr(e,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iet={kernelName:cS,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,a]=t,i=n,o=r,s=On(i.shape,o.shape);return{a:()=>{const c=Ut(o,"float32");let f=Pe(e,Pe(c,gg(i,Sn(c,Cr(1)))));const d=ja(i.shape,s);return d.length>0&&(f=pn(f,d)),He(f,i.shape)},b:()=>{const c=qs(i,0),f=xo(c,Pc(i),gr(i));let d=Pe(e,Pe(a,f));const h=ja(o.shape,s);return h.length>0&&(d=pn(d,h)),He(d,o.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eet={kernelName:xD,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,a=qs(n,0);return{x:()=>xo(a,e,Pe(e,r)),alpha:()=>{let i=xo(a,gr(e),Pe(e,n));const o=ja(r.shape,e.shape);return o.length>0&&(i=pn(i,o)),He(i,r.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aet(e,t,n){const r=e.shape.slice();r[n]=1;const a=He(t,r),i=OP(e,n,!0,!1),o=OP(e,n,!0,!0),s=Pe(i,o);return Pe(a,s)}function Det(e,t,n){const r=e.shape.length,a=r-n.length,i=da(n,r);let o=e;i!=null&&(o=hr(e,i));const s=o.shape.slice(),u=s.splice(r-n.length,n.length).reduce((d,h)=>d*h,1);s.push(u);const c=o.reshape(s);let f=Aet(c,t,a);if(f=f.reshape(o.shape),i!=null){const d=np(i);f=hr(f,d)}return f}const Net={kernelName:wD,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;let i=[];return a==null?i=r.shape.map((o,s)=>s):typeof a=="number"?i=[a]:i=a,{x:()=>Det(r,e,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ret={kernelName:K_,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{const s=gn(e,Ut(r,"float32")),l=ja(n.shape,a);return l.length>0?He(pn(s,l),n.shape):s},b:()=>{let s=Pe(e,Ut(n,"float32"));const l=ja(r.shape,a);l.length>0&&(s=He(pn(s,l),r.shape));const u=Yr(r);return ya(gn(s,Ut(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Met={kernelName:fS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,ya(Yr(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $et={kernelName:hS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=Pe(Qy(n,6),LS(n));return{x:()=>Pe(e,Ut(r,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Let={kernelName:dS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Ut(LS(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oet={kernelName:_D,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>He(e,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pet={kernelName:CD,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>Fe.runKernel(QV,a,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fet={kernelName:SD,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>Fe.runKernel(JV,a,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bet={kernelName:TD,gradFunc:(e,t,n)=>{const{dims:r}=n,a=jn(r,e.shape);return{x:()=>mg(e,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vet={kernelName:pS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zet={kernelName:vS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ya(gn(e,Pe(gg(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wet={kernelName:kD,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>Ut(gr(n),"float32"),t:()=>Pe(e,Ut(n,e.dtype)),e:()=>Pe(e,Ut(xz(n),e.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Het={kernelName:gS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const r=qs(n,Cr(0)),a=Cr(UD),i=Cr(GD),o=Pe(e,i),s=Pe(Pe(e,a),Oc(Ut(n,"float32")));return xo(r,o,s)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uet={kernelName:xS,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Pe(n,Sn(Cr(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Get={kernelName:bS,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ket={kernelName:mS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(pz(Ut(n,"float32")),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jet={kernelName:yS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(kle(Ut(n,"float32")),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yet={kernelName:ID,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:a,size:i}=n,o=r.shape,[s,l]=WD(r,a,i),u=[];for(let c=0;c<e.rank;c++)u.push([s[c],o[c]-s[c]-l[c]]);return{x:()=>Sz(e,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xet={kernelName:ND,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:a}=n,i=!0,o=Pe(e,r);return{logits:()=>Sn(o,Pe(pn(o,[a],i),r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qet={kernelName:wS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Jy(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l7={kernelName:AD,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>dz(e,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u7={kernelName:DD,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>Xo(e,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zet={kernelName:_S,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Pe(Ki(Ut(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jet={kernelName:ez,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(e,Pe(Ut(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qet={kernelName:SS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=Cr(2);return{a:()=>Pe(e,Pe(a,Sn(n,r))),b:()=>Pe(e,Pe(a,Sn(r,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ett={kernelName:ES,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ttt={kernelName:CS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=On(n.shape,r.shape);return{a:()=>{let s=e;const l=ja(n.shape,a);return l.length>0&&(s=pn(s,l)),He(s,n.shape)},b:()=>{let s=e;const l=ja(r.shape,a);return l.length>0&&(s=pn(s,l)),He(ya(s),r.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ntt={kernelName:ED,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,a=r.shape.slice(),{axis:i}=n;jn(i,r.shape).forEach(u=>{a[u]=1});const s=He(e,a),l=Pe(s,ap(r.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rtt={kernelName:TS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>gn(e,Yr(pz(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const att={kernelName:kS,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Pe(Sn(Cr(1),Yr(n)),e)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const itt={kernelName:IS,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:a}=n;return{x:()=>{let o=gr(r);if(r.rank===1)for(let s=0;s<a[0];++s)o=Et(o,Kr(e,[s*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let s=0;s<a[0];++s)for(let l=0;l<a[1];++l)o=Et(o,Kr(e,[s*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let s=0;s<a[0];++s)for(let l=0;l<a[1];++l)for(let u=0;u<a[2];++u)o=Et(o,Kr(e,[s*r.shape[0],l*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let s=0;s<a[0];++s)for(let l=0;l<a[1];++l)for(let u=0;u<a[2];++u)for(let c=0;c<a[3];++c)o=Et(o,Kr(e,[s*r.shape[0],l*r.shape[1],u*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ott={kernelName:Dm,gradFunc:(e,t,n)=>{const r=n,{perm:a}=r,i=np(a);return{x:()=>hr(e,i)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const stt={kernelName:RD,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>Uf(e,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ltt={kernelName:MD,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>utt(e,n)}}};function utt(e,t){const n=rp(t,gr(t)),r=mz(e,n);let a=Bg(t,Cr(0,"int32"));const i=r.rank-a.rank;for(let s=0;s<i;++s)a=zo(a,s+1);a=Hf(a,ap(r.shape,"bool"));const o=gr(r);return xo(a,r,o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ctt={kernelName:$D,gradFunc:e=>({x:()=>gr(e)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ftt=[Vue,oQe,sQe,lQe,uQe,cQe,fQe,dQe,hQe,pQe,vQe,gQe,bQe,_Qe,SQe,CQe,TQe,kQe,IQe,EQe,AQe,DQe,RQe,NQe,LQe,OQe,PQe,FQe,BQe,VQe,Ret,zQe,WQe,HQe,UQe,GQe,jQe,KQe,YQe,XQe,qQe,ZQe,JQe,QQe,eet,tet,net,ret,aet,set,o7,o7,uet,det,vet,get,met,yet,bet,xet,wet,_et,Cet,Tet,ket,s7,s7,Iet,Eet,Net,Met,$et,Let,Oet,Pet,Fet,Bet,Vet,zet,Wet,Het,Uet,Get,Ket,jet,Yet,Xet,qet,l7,l7,u7,u7,Zet,Qet,Jet,ett,ttt,ntt,rtt,att,itt,ott,stt,ltt,ctt];for(const e of ftt)_Ke(e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.abs=function(){return this.throwIfDisposed(),oo(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.acos=function(){return this.throwIfDisposed(),Pje(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.acosh=function(){return this.throwIfDisposed(),Bje(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.add=function(e){return this.throwIfDisposed(),Et(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.all=function(e,t){return this.throwIfDisposed(),_le(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.any=function(e,t){return this.throwIfDisposed(),$P(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.argMax=function(e){return this.throwIfDisposed(),fw(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.argMin=function(e){return this.throwIfDisposed(),Uje(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.asScalar=function(){return this.throwIfDisposed(),pe(this.size===1,()=>"The array must have only 1 element."),He(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.asType=function(e){return this.throwIfDisposed(),Ut(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as1D=function(){return this.throwIfDisposed(),He(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as2D=function(e,t){return this.throwIfDisposed(),He(this,[e,t])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),He(this,[e,t,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),He(this,[e,t,n,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),He(this,[e,t,n,r,a])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.asin=function(){return this.throwIfDisposed(),Kje(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.asinh=function(){return this.throwIfDisposed(),Yje(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.atan=function(){return this.throwIfDisposed(),qje(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.atan2=function(e){return this.throwIfDisposed(),Jje(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.atanh=function(){return this.throwIfDisposed(),eYe(this)};it().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),fz(this,e,t,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),dz(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),PD(this,e,t,n,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.broadcastTo=function(e){return this.throwIfDisposed(),lx(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cast=function(e){return this.throwIfDisposed(),Ut(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.ceil=function(){return this.throwIfDisposed(),IYe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),js(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Fa&&(e=[e]),Xo([this,...e],t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Sle(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Cle(this,e,t,n,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),vg(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cos=function(){return this.throwIfDisposed(),pz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cosh=function(){return this.throwIfDisposed(),kle(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),OP(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Ile(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),JYe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),vz(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),tXe(this,e,t,n,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.divNoNan=function(e){return this.throwIfDisposed(),oXe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.div=function(e){return this.throwIfDisposed(),gn(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.dot=function(e){return this.throwIfDisposed(),lXe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.elu=function(){return this.throwIfDisposed(),BD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.equal=function(e){return this.throwIfDisposed(),Lc(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.erf=function(){return this.throwIfDisposed(),Ele(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),xXe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.exp=function(){return this.throwIfDisposed(),Oc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.expandDims=function(e){return this.throwIfDisposed(),zo(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.expm1=function(){return this.throwIfDisposed(),CXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.fft=function(){return this.throwIfDisposed(),Kle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.flatten=function(){return this.throwIfDisposed(),He(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.floor=function(){return this.throwIfDisposed(),zD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.floorDiv=function(e){return this.throwIfDisposed(),wle(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.gather=function(e,t,n){return this.throwIfDisposed(),mz(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Bg(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.greater=function(e){return this.throwIfDisposed(),qs(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.ifft=function(){return this.throwIfDisposed(),PP(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.irfft=function(){return this.throwIfDisposed(),mZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.isFinite=function(){return this.throwIfDisposed(),MXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.isInf=function(){return this.throwIfDisposed(),LXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.isNaN=function(){return this.throwIfDisposed(),PXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.leakyRelu=function(e){return this.throwIfDisposed(),bz(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.lessEqual=function(e){return this.throwIfDisposed(),Qy(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.less=function(e){return this.throwIfDisposed(),mI(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),WXe(this,e,t,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logSigmoid=function(){return this.throwIfDisposed(),XXe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Mle(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),$le(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.log=function(){return this.throwIfDisposed(),Pc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.log1p=function(){return this.throwIfDisposed(),Rle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logicalAnd=function(e){return this.throwIfDisposed(),Hf(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logicalNot=function(){return this.throwIfDisposed(),xz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logicalOr=function(e){return this.throwIfDisposed(),Lle(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.logicalXor=function(e){return this.throwIfDisposed(),rqe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Tr(this,e,t,n)};it().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),wz(this,e,t,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.max=function(e,t){return this.throwIfDisposed(),Su(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.maximum=function(e){return this.throwIfDisposed(),rp(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.mean=function(e,t){return this.throwIfDisposed(),Aa(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.min=function(e,t){return this.throwIfDisposed(),gI(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.minimum=function(e){return this.throwIfDisposed(),pw(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),fqe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.mod=function(e){return this.throwIfDisposed(),hqe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.mul=function(e){return this.throwIfDisposed(),Pe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.neg=function(){return this.throwIfDisposed(),ya(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.norm=function(e,t,n){return this.throwIfDisposed(),VD(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.notEqual=function(e){return this.throwIfDisposed(),yI(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),Ole(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.onesLike=function(){return this.throwIfDisposed(),Pl(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.pad=function(e,t){return this.throwIfDisposed(),Sz(this,e,t)};it().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),Sqe(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.pow=function(e){return this.throwIfDisposed(),gg(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.prelu=function(e){return this.throwIfDisposed(),Tz(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.prod=function(e,t){return this.throwIfDisposed(),kqe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.reciprocal=function(){return this.throwIfDisposed(),Zqe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.relu=function(){return this.throwIfDisposed(),Vg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.relu6=function(){return this.throwIfDisposed(),Fle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.reshapeAs=function(e){return this.throwIfDisposed(),He(this,e.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.reshape=function(e){return this.throwIfDisposed(),He(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Zle(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Jle(this,e,t,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.reverse=function(e){return this.throwIfDisposed(),mg(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.rfft=function(){return this.throwIfDisposed(),xZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.round=function(){return this.throwIfDisposed(),Ble(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.rsqrt=function(){return this.throwIfDisposed(),Vle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.selu=function(){return this.throwIfDisposed(),zle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Wle(this,e,t,n,r,a,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sigmoid=function(){return this.throwIfDisposed(),Jy(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sign=function(){return this.throwIfDisposed(),oZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sin=function(){return this.throwIfDisposed(),Hle(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sinh=function(){return this.throwIfDisposed(),Ule(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.slice=function(e,t){return this.throwIfDisposed(),Kr(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.softmax=function(e){return this.throwIfDisposed(),Az(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.softplus=function(){return this.throwIfDisposed(),RS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Cz(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.split=function(e,t){return this.throwIfDisposed(),Hs(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sqrt=function(){return this.throwIfDisposed(),Ki(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.square=function(){return this.throwIfDisposed(),Yr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.squaredDifference=function(e){return this.throwIfDisposed(),_Ze(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.squeeze=function(e){return this.throwIfDisposed(),$S(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Fa?[this,e]:[this,...e];return Uf(n,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.step=function(e){return this.throwIfDisposed(),LS(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.stridedSlice=function(e,t,n,r,a,i,o,s){return this.throwIfDisposed(),IZe(this,e,t,n,r,a,i,o,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sub=function(e){return this.throwIfDisposed(),Sn(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.sum=function(e,t){return this.throwIfDisposed(),pn(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.tan=function(){return this.throwIfDisposed(),AZe(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.tanh=function(){return this.throwIfDisposed(),OD(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.tile=function(e){return this.throwIfDisposed(),pu(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.toBool=function(){return this.throwIfDisposed(),Ut(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.toFloat=function(){return this.throwIfDisposed(),Ut(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.toInt=function(){return this.throwIfDisposed(),Ut(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.topk=function(e,t){return this.throwIfDisposed(),MZe(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.transpose=function(e){return this.throwIfDisposed(),hr(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.unique=function(e){return this.throwIfDisposed(),OZe(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Xle(this,e,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.unstack=function(e){return this.throwIfDisposed(),yg(this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.where=function(e,t){return this.throwIfDisposed(),xo(e,this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */it().prototype.zerosLike=function(){return this.throwIfDisposed(),gr(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class uc extends Error{constructor(t){super(t),Object.setPrototypeOf(this,uc.prototype)}}class Tl extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Tl.prototype)}}class $e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,$e.prototype)}}class Fn extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Fn.prototype)}}class d6 extends Error{constructor(t){super(t),Object.setPrototypeOf(this,d6.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Wue{constructor(t){this.maxEntries=t||100,this.cache=new Map}get(t){let n;return this.cache.has(t)&&(n=this.cache.get(t),this.cache.delete(t),this.cache.set(t,n)),n}put(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(t){if(t<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${t}.`);if(this.maxEntries>t)for(let n=0;n<this.maxEntries-t;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function bg(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}else{const n=new Array(t);return n.fill(e),n}}function cc(e,t){if(!e)throw new d6(t)}function c7(e,t){let n=0;for(const r of e)r===t&&n++;return n}function Wo(e){return e.length===1?e[0]:e}function Rr(e){return Array.isArray(e)?e:[e]}function bf(e){const n=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function lv(e){return e.length<=1||e.indexOf("_")===-1?e:e.replace(/[_]+(\w|$)/g,(t,n)=>n.toUpperCase())}let Qs={};function h6(e){if(e==null)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function VP(e){if(!(e==null||typeof e!="object"))if(Array.isArray(e))e.forEach(t=>VP(t));else{const t=Object.keys(e);for(const n of t){const r=e[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?e[n]=r.value:VP(r))}}}function BS(e,t={},n={},r="object",a=!1){if(typeof e=="string"){const i=e;let o;if(i in n)o=n[i];else if(i in Qs)o=Qs[i];else if(o=t[i],o==null)throw new $e(`Unknown ${r}: ${e}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return o}else{const i=e;if(i.className==null||i.config==null)throw new $e(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const o=i.className;let s,l;if(o in n?[s,l]=n[o]:o in Qs?[s,l]=Qs.className:o in t&&([s,l]=t[o]),s==null)throw new $e(`Unknown ${r}: ${o}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const h of Object.keys(Qs))u[h]=Qs[h];for(const h of Object.keys(n))u[h]=n[h];const c=i.config;c.customObjects=u;const f=Object.assign({},Qs);for(const h of Object.keys(n))Qs[h]=n[h];VP(i.config);const d=l(s,i.config,n,a);return Qs=Object.assign({},f),d}else{const u=Object.assign({},Qs);for(const f of Object.keys(n))Qs[f]=n[f];const c=new s(i.config);return Qs=Object.assign({},u),c}}}function dtt(e,t){return e<t?-1:e>t?1:0}function JC(e,t){return-1*dtt(e,t)}function hh(e){if(e==null)return e;const t=[];for(const n of e)t.indexOf(n)===-1&&t.push(n);return t}function htt(e){if(e==null)throw new $e(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function Hg(e,t,n){if(n!=null&&e.indexOf(n)<0)throw new $e(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function p6(e,t,n=0,r=1/0){return cc(n>=0),cc(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(a=>typeof a===t)}function ri(e,t){Array.isArray(e)?(pe(e.length>0,()=>`${t} is unexpectedly an empty array.`),e.forEach((n,r)=>ri(n,`element ${r+1} of ${t}`))):pe(Number.isInteger(e)&&e>0,()=>`Expected ${t} to be a positive integer, but got ${Hue(e)}.`)}function Hue(e){return e===null?"null":Array.isArray(e)?"["+e.map(t=>Hue(t)).join(",")+"]":typeof e=="string"?`"${e}"`:`${e}`}function ptt(e,t,n){let r=n!=null?n():Bo(),a;return(...o)=>{const s=n!=null?n():Bo();return s-r<t||(r=s,a=e(...o)),a}}function Uue(e){return e==="relu"?"relu":e==="linear"?"linear":e==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let vtt=0;function Gue(){return vtt++}const QC={};function KD(e=""){return e in QC||(QC[e]=0),QC[e]+=1,e+QC[e].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const gtt=["channelsFirst","channelsLast"],mtt=["nearest","bilinear"],ytt=["valid","same","causal"],btt=["max","avg"],xtt=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const S0=new Map;function Ta(e){Hg(gtt,"DataFormat",e)}function wtt(e){Hg(mtt,"InterpolationFormat",e)}function Zs(e){Hg(ytt,"PaddingMode",e)}function Kue(e){Hg(btt,"PoolMode",e)}const ux=[],f7="/";function Bv(e,t){ux.push(e);try{const n=t();return ux.pop(),n}catch(n){throw ux.pop(),n}}function _tt(){return ux.length===0?"":ux.join(f7)+f7}function jue(e){if(!Xue(e))throw new Error("Not a valid tensor name: '"+e+"'");return _tt()+e}function Yue(e){if(!Xue(e))throw new Error("Not a valid tensor name: '"+e+"'");S0.has(e)||S0.set(e,0);const t=S0.get(e);if(S0.set(e,S0.get(e)+1),t>0){const n=`${e}_${t}`;return S0.set(n,1),n}else return e}const Stt=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Xue(e){return!!e.match(Stt)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ctt(e){return e===parseInt(e.toString(),10)}function ph(e,t,n){t==null&&(t=0),n==null&&(n=e.length);let r=1;for(let a=t;a<n;++a)r*=e[a];return r}function py(e){if(e.length===0)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function Nh(e){if(e.length===0)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function $u(e,t){if(t<e)throw new $e(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let eM;function Va(){return eM==null&&(eM=qKe().epsilon()),eM}function Lu(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function kc(e,t){return Ut(e,t)}function VS(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),He(e,n)}function Ttt(e,t){return Xe(()=>{if(e.shape.length!==2)throw new $e(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);const n=VS(e,1);return zP(n,[1,t,1])})}function ktt(e){const t=[ph(e.shape)];return He(e,t)}function Itt(e){if(e.rank<=1)throw new $e(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],ph(e.shape,1)];return He(e,t)}function Vv(e,t,n){return Xe(()=>{switch(e.rank){case 1:return Iz(e,t,n);case 2:return Gle(e,[t,0],[n,e.shape[1]]);case 3:return Ez(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return xI(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Kr(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Kr(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new $e(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}})}function tM(e,t,n){return Xe(()=>{switch(e.rank){case 1:return Iz(e,t,n);case 2:return Gle(e,[0,t],[e.shape[0],n]);case 3:return Ez(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return xI(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new $e(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function e2(e,t,n,r){return Xe(()=>{switch(e.rank){case 1:return Iz(e,t,n);case 2:switch(r){case 1:return Vv(e,t,n);case 2:return tM(e,t,n);default:throw new $e(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Vv(e,t,n);case 2:return Ez(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return tM(e,t,n);default:throw new $e(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Vv(e,t,n);case 2:return xI(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return xI(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return tM(e,t,n);default:throw new $e(`The axis is not within the rank of the tensor ${r}`)}default:throw new $e(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}})}function v6(e,t=-1){let n;return t<0&&(n=e[0].rank,n!==0?t=n:t=0),t===e[0].rank&&(t=-1),Xo(e,t)}function d7(e,t){switch(e.rank){case 1:return DYe([e,t]);case 2:return RYe([e,t],0);case 3:return $Ye([e,t],0);case 4:return OYe([e,t],0);default:throw new $e(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function zP(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new $e(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return pu(e,t)}function jD(e,t=0,n=1,r,a){return jqe(e,t,n,r,a)}function Ic(e,t,n,r){if(e.rank<2||t.rank<2)throw new Fn(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){const a=e.shape.slice(-1)[0],i=t.shape.slice(-2)[0];if(a!==i)throw new Fn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(e.rank===2&&t.rank===2)return q9({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?WP(e.rank,r,Lu()):null,activation:n});{const a=e.shape.slice(),i=a.pop();e=He(e,[-1,i]);const o=t.shape.slice(),s=o.pop(),l=o.pop(),u=[...o,s],c=Array.from({length:t.rank},(p,v)=>v===0?t.rank-2:v<=t.rank-2?v-1:v);t=He(hr(t,c),[l,-1]);const f=[...a,...u];return He(q9({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?WP(e.rank,r,Lu()):null,activation:n}),f)}}function que(e,t,n){return Xe(()=>(Array.isArray(t)?t=ws(t,"int32"):t=Ut(t,"int32"),mz(e,t,n)))}function zS(e){return Pe(e,e)}function WP(e,t,n){const r=t.shape;if(t.rank!==1&&t.rank!==e)throw new $e(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(e===5){if(n==="channelsFirst")return r.length===1?He(t,[1,r[0],1,1,1]):He(t,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?He(t,[1,1,1,1,r[0]]):He(t,[1].concat(r))}else if(e===4){if(n==="channelsFirst")return r.length===1?He(t,[1,r[0],1,1]):He(t,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?He(t,[1,1,1,r[0]]):He(t,[1].concat(r))}else if(e===3){if(n==="channelsFirst")return r.length===1?He(t,[1,r[0],1]):He(t,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?He(t,[1,1,r[0]]):He(t,[1].concat(r))}else if(e<3)return t;throw new $e(`Unsupported input rank by biasAdd: ${t.rank}`)}function Wu(e,t,n){return Xe(()=>(n==null&&(n=Lu()),Ta(n),Et(e,WP(e.rank,t,n))))}function Ett(e,t=1){if(t!==1)throw new Fn(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return BD(e)}function Att(e){return Xe(()=>gn(e,Et(oo(e),1)))}function Zue(e,t,n,r){return Xe(()=>HZe(e,t,n,r))}function Dtt(e){return Xe(()=>{const t=Et(.5,Pe(.2,e));return js(t,0,1)})}function WS(e,t,n=!1){return n?e():t()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Ntt=["fanIn","fanOut","fanAvg"],Rtt=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Mtt(e){Hg(Ntt,"FanMode",e)}function $tt(e){Hg(Rtt,"Distribution",e)}class Wl extends Wg{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class Jue extends Wl{apply(t,n){return ni(t,n)}}Jue.className="Zeros";bt(Jue);class g6 extends Wl{apply(t,n){return ap(t,n)}}g6.className="Ones";bt(g6);class Que extends Wl{constructor(t){if(super(),typeof t!="object")throw new $e(`Expected argument of type ConstantConfig but got ${t}`);if(t.value===void 0)throw new $e(`config must have value set but got ${t}`);this.value=t.value}apply(t,n){return Xe(()=>Pe(Cr(this.value),ap(t,n)))}getConfig(){return{value:this.value}}}Que.className="Constant";bt(Que);class ece extends Wl{constructor(t){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=t.minval||this.DEFAULT_MINVAL,this.maxval=t.maxval||this.DEFAULT_MAXVAL,this.seed=t.seed}apply(t,n){return MS(t,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}ece.className="RandomUniform";bt(ece);class tce extends Wl{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Fn(`randomNormal does not support dType ${n}.`);return jD(t,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}tce.className="RandomNormal";bt(tce);class nce extends Wl{constructor(t){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=t.mean||this.DEFAULT_MEAN,this.stddev=t.stddev||this.DEFAULT_STDDEV,this.seed=t.seed}apply(t,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Fn(`truncatedNormal does not support dType ${n}.`);return Yle(t,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}nce.className="TruncatedNormal";bt(nce);class rce extends Wl{constructor(t){super(),this.gain=t.gain!=null?t.gain:1}apply(t,n){return Xe(()=>{if(t.length!==2||t[0]!==t[1])throw new $e("Identity matrix initializer can only be used for 2D square matrices.");return Pe(this.gain,Nle(t[0]))})}getConfig(){return{gain:this.gain}}}rce.className="Identity";bt(rce);function Ltt(e,t="channelsLast"){let n,r;if(Ta(t),e.length===2)n=e[0],r=e[1];else if([3,4,5].indexOf(e.length)!==-1){if(t==="channelsFirst"){const a=ph(e,2);n=e[1]*a,r=e[0]*a}else if(t==="channelsLast"){const a=ph(e,0,e.length-2);n=e[e.length-2]*a,r=e[e.length-1]*a}}else{const a=ph(e);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}class ks extends Wl{constructor(t){if(super(),t.scale<0)throw new $e(`scale must be a positive float. Got: ${t.scale}`);this.scale=t.scale==null?1:t.scale,this.mode=t.mode==null?"fanIn":t.mode,Mtt(this.mode),this.distribution=t.distribution==null?"normal":t.distribution,$tt(this.distribution),this.seed=t.seed}apply(t,n){const r=Ltt(t),a=r[0],i=r[1];let o=this.scale;if(this.mode==="fanIn"?o/=Math.max(1,a):this.mode==="fanOut"?o/=Math.max(1,i):o/=Math.max(1,(a+i)/2),this.distribution==="normal"){const s=Math.sqrt(o);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Fn(`${this.getClassName()} does not support dType ${n}.`);return Yle(t,0,s,n,this.seed)}else{const s=Math.sqrt(3*o);return MS(t,-s,s,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}ks.className="VarianceScaling";bt(ks);class m6 extends ks{constructor(t){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return ks.className}}m6.className="GlorotUniform";bt(m6);class y6 extends ks{constructor(t){super({scale:1,mode:"fanAvg",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return ks.className}}y6.className="GlorotNormal";bt(y6);class b6 extends ks{constructor(t){super({scale:2,mode:"fanIn",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return ks.className}}b6.className="HeNormal";bt(b6);class x6 extends ks{constructor(t){super({scale:2,mode:"fanIn",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return ks.className}}x6.className="HeUniform";bt(x6);class w6 extends ks{constructor(t){super({scale:1,mode:"fanIn",distribution:"normal",seed:t==null?null:t.seed})}getClassName(){return ks.className}}w6.className="LeCunNormal";bt(w6);class _6 extends ks{constructor(t){super({scale:1,mode:"fanIn",distribution:"uniform",seed:t==null?null:t.seed})}getClassName(){return ks.className}}_6.className="LeCunUniform";bt(_6);class ace extends Wl{constructor(t){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=t.gain==null?this.DEFAULT_GAIN:t.gain,this.seed=t.seed}apply(t,n){return Xe(()=>{if(t.length<2)throw new Fn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const r=ot(t.slice(0,-1)),a=t[t.length-1],i=r*a;i>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${i}) elements: Slowness may result.`);const o=[Math.max(a,r),Math.min(a,r)],s=jD(o,0,1,n,this.seed),l=FJe.qr(s,!1);let u=l[0];const f=l[1].flatten().stridedSlice([0],[Math.min(a,r)*Math.min(a,r)],[Math.min(a,r)+1]);return u=Pe(u,f.sign()),r<a&&(u=u.transpose()),Pe(Cr(this.gain),u.reshape(t))})}getConfig(){return{gain:this.gain,seed:this.seed}}}ace.className="Orthogonal";bt(ace);const h7={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function p7(e,t={}){return BS(e,xl.getMap().classNameMap,t,"initializer")}function fa(e){return h6(e)}function oa(e){if(typeof e=="string"){const t=e in h7?h7[e]:e;if(t==="GlorotNormal")return new y6;if(t==="GlorotUniform")return new m6;if(t==="HeNormal")return new b6;if(t==="HeUniform")return new x6;if(t==="LeCunNormal")return new w6;if(t==="LeCunUniform")return new _6;{const n={};return n.className=t,n.config={},p7(n)}}else return e instanceof Wl?e:p7(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function HP(e){return Array.isArray(e)&&Array.isArray(e[0])}function wI(e){return e.length===0?[]:Array.isArray(e[0])?e:[e]}function Tn(e){let t;if(Array.isArray(e)){if(e.length!==1)throw new $e(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function xr(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(e.length===1)return e=e,e[0];throw new $e(`Expected exactly 1 Shape; got ${e.length}`)}else return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _I(e){let t=0;for(const n of e)n.shape.length===0?t+=1:t+=n.shape.reduce((r,a)=>r*a);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const v7="Variable";class Ott{constructor(t,n="float32",r=v7,a=!0,i=null){this.dtype=n??"float32",this.shape=t.shape,this.id=Gue(),r=r??v7,this.originalName=jue(r),this.name=Yue(this.originalName),this.trainable_=a,this.constraint=i,this.val=BZe(t,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(t){return this.assertNotDisposed(),Ptt(this.val,t),this.val.id!==t.id&&(this.val.assign(t),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(t){this.trainable_=t,this.val.trainable=t}}function Ptt(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}function UP(e){return e.map(t=>t.read())}function S6(e){e.forEach(t=>{t[0].write(t[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class za{constructor(t){this.dtype=t.dtype,this.shape=t.shape,t.shape!=null?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}}class Fc{constructor(t,n,r,a,i,o,s){this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=s,this.id=Gue(),o!=null&&(this.originalName=jue(o),this.name=Yue(this.originalName)),this.rank=n.length}}let Ftt=0,YD=class{constructor(t,n){this.callArgs=n,this.id=Ftt++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(const r of t.inboundLayers)r!=null&&r.outboundNodes.push(this);t.outboundLayer.inboundNodes.push(this)}getConfig(){const t=[];for(const n of this.inboundLayers)n!=null?t.push(n.name):t.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},Btt=0,Yn=class extends Wg{constructor(t={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Btt++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=t.name;if(!n){const r=this.getClassName();n=bf(r)+"_"+KD(r)}if(this.name=n,this.trainable_=t.trainable==null?!0:t.trainable,t.inputShape!=null||t.batchInputShape!=null){let r;if(t.batchInputShape!=null)r=t.batchInputShape;else if(t.inputShape!=null){let i=null;t.batchSize!=null&&(i=t.batchSize),r=[i].concat(t.inputShape)}this.batchInputShape=r;let a=t.dtype;a==null&&(a=t.inputDType),a==null&&(a="float32"),this.dtype=a}t.weights!=null?this.initialWeights=t.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(t,n){return t.name+"_ib-"+n.toString()}getNodeAtIndex(t,n){if(this.inboundNodes.length===0)throw new Tl(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=t)throw new $e(`Asked to get ${n} at node ${t}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[t]}getInputAt(t){return Wo(this.getNodeAtIndex(t,"input").inputTensors)}getOutputAt(t){return Wo(this.getNodeAtIndex(t,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new uc(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new uc(`Layer ${this.name} is not connected, no input to return.`);return Wo(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new uc(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new uc(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Wo(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(t=>t())}get updates(){return this._updates}get built(){return this._built}set built(t){this._built=t}get trainable(){return this.trainable_}set trainable(t){this._trainableWeights.forEach(n=>n.trainable=t),this.trainable_=t}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(t=>t.trainable):[]}set trainableWeights(t){this._trainableWeights=t}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(t=>!t.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(t){this._nonTrainableWeights=t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(t){const n=Rr(t);if(this.inputSpec==null||this.inputSpec.length===0)return;const r=Rr(this.inputSpec);if(n.length!==r.length)throw new $e(`Layer ${this.name} expects ${r.length} inputs, but it received ${n.length} input tensors. Input received: ${t}`);for(let a=0;a<n.length;a++){const i=n[a],o=r[a];if(o==null)continue;const s=i.rank;if(o.ndim!=null&&s!==o.ndim)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${s}`);if(o.maxNDim!=null&&s>o.maxNDim)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${s}`);if(o.minNDim!=null&&s<o.minNDim)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${s}.`);if(o.dtype!=null&&i.dtype!==o.dtype)throw new $e(`Input ${a} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${i.dtype}.`);if(o.axes){const l=i.shape;for(const u in o.axes){const c=Number(u),f=o.axes[u],d=c>=0?l[c]:l[l.length+c];if(f!=null&&[f,null].indexOf(d)===-1)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected axis ${c} of input shape to have value ${f} but got shape ${l}.`)}}if(o.shape!=null)for(let l=0;l<o.shape.length;++l){const u=o.shape[l],c=i.shape[l];if(u!=null&&c!=null&&u!==c)throw new $e(`Input ${a} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${i.shape}.`)}}}call(t,n){return t}invokeCallHook(t,n){this._callHook!=null&&this._callHook(t,n)}setCallHook(t){this._callHook=t}clearCallHook(){this._callHook=null}apply(t,n){n=n||{},this.assertNotDisposed();const r=Rr(t),a=Wtt(t),i=Htt(t);if(a===i)throw new $e("Arguments to apply() must be all SymbolicTensors or all Tensors");return Bv(this.name,()=>{if(!this.built){this.assertInputCompatibility(t);const o=[];for(const s of Rr(t))o.push(s.shape);this.build(Wo(o)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(t),i){let o=this.call(t,n);this.supportsMasking&&this.setMaskMetadata(t,o);const s=Rr(o),l=[];for(let u of s)r.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(o=Wo(l),this.activityRegularizer!=null)throw new Fn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}else{const o=Vtt(t),s=this.computeOutputShape(o);let l;const u=ztt(t);if(this.warnOnIncompatibleInputShape(Array.isArray(t)?o[0]:o),s!=null&&s.length>0&&Array.isArray(s[0])?l=s.map((c,f)=>new Fc(u,c,this,Rr(t),n,this.name,f)):l=new Fc(u,s,this,Rr(t),n,this.name),this.addInboundNode(t,l,null,null,o,s,n),this._refCount++,this.activityRegularizer!=null)throw new Fn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(t){if(this.batchInputShape!=null)if(t.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(t)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,a)=>{r!=null&&t[a]!=null&&t[a]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(t)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new uc(`The layer ${this.name} has never been called and thus has no defined output shape.`);const t=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);t.indexOf(r)===-1&&t.push(r)}if(t.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new uc(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Tl(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return _I(this.weights)}build(t){this.built=!0}getWeights(t=!1){return UP(t?this.trainableWeights:this.weights)}setWeights(t){Xe(()=>{const n=this.weights;if(n.length!==t.length)throw new $e(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${t.length}, but the layer was expecting ${n.length} weights. Provided weights: ${t}...`);if(n.length===0)return;const r=[],a=UP(n);for(let i=0;i<a.length;++i){const o=a[i],s=n[i],l=t[i];if(!Er(o.shape,l.shape))throw new $e(`Layer weight shape ${o.shape} not compatible with provided weight shape ${l.shape}`);r.push([s,l])}S6(r)})}addWeight(t,n,r,a,i,o,s,l){if(this._addedWeightNames.indexOf(t)!==-1)throw new $e(`Duplicate weight name ${t} for layer ${this.name}`);this._addedWeightNames.push(t),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(a=l!=null?l():oa("zeros"));const u=a.apply(n,r),c=new Ott(u,r,t,o,s);return u.dispose(),i!=null&&this.addLoss(()=>i.apply(c.read())),o==null&&(o=!0),o?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(t){this.fastWeightInitDuringBuild=t}addLoss(t){t==null||Array.isArray(t)&&t.length===0||(t=Rr(t),this._losses!==void 0&&this._losses!==null&&this.losses.push(...t))}computeOutputShape(t){return t}computeMask(t,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(t,n,r){if(!this.supportsMasking)return;const a=this.computeMask(t,r),i=Rr(n),o=Rr(a);if(i.length!==o.length)throw new Error(`${this.name} outputs ${i.length} tensors but ${i.length} masks for those tensors`);for(let s=0;s<i.length;s++)i[s].kerasMask=o[s]}addInboundNode(t,n,r,a,i,o,s=null){const l=Rr(t);n=Rr(n),r=Rr(r),a=Rr(a),i=wI(i),o=wI(o);const u=[],c=[],f=[];for(const d of l)u.push(d.sourceLayer),c.push(d.nodeIndex),f.push(d.tensorIndex);new YD({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:f,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:a,inputShapes:i,outputShapes:o},s);for(let d=0;d<n.length;d++)n[d].sourceLayer=this,n[d].nodeIndex=this.inboundNodes.length-1,n[d].tensorIndex=d}getConfig(){const t={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(t.batchInputShape=this.batchInputShape),this.dtype!=null&&(t.dtype=this.dtype),t}disposeWeights(){return this.weights.forEach(t=>t.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let t=0;return--this._refCount===0&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}}};function Vtt(e){e=Rr(e);const t=[];for(const n of e)t.push(n.shape);return Wo(t)}function ztt(e){return"float32"}function ice(e,t,n){if((t==null||n!=null&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),t.inboundNodes.length===0)return[e];{const r=t.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const a=[];for(let i=0;i<r.inboundLayers.length;i++){const o=r.inputTensors[i],s=r.inboundLayers[i],l=r.nodeIndices[i],u=ice(o,s,l);for(const c of u)a.indexOf(c)===-1&&a.push(c)}return a}}}function Wtt(e){let t=!0;for(const n of Rr(e))if(!(n instanceof Fc)){t=!1;break}return t}function Htt(e){let t=!0;for(const n of Rr(e))if(n instanceof Fc){t=!1;break}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class HS extends Yn{constructor(t){if(super({dtype:t.dtype,name:t.name!=null?t.name:KD("input").toString()}),t.batchSize==null&&(t.batchSize=null),t.sparse==null&&(t.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=t.sparse,t.inputShape!=null&&t.batchInputShape!=null)throw new $e("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=t.batchInputShape;if(n==null){if(t.inputShape==null)throw new $e("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[t.batchSize].concat(t.inputShape)}else if(t.batchSize!=null)throw new $e("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=t.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const a=new Fc(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new YD({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(t,n){throw new $e(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}HS.className="InputLayer";bt(HS);function Utt(e){if(e.batchShape==null&&e.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(e.batchShape!=null&&e.shape!=null)throw new $e("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;e.shape!=null&&t==null&&(t=[null].concat(e.shape));let n=e.dtype;return n==null&&(n="float32"),new HS({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Gtt(e,t){if(e.dtype==null||e.dtype===t.dtype)return t;try{return Ut(t,e.dtype)}catch{throw new $e(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}class jd{constructor(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof jd)for(const n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(t==null)return;for(const n of t)this.add(n.key,n.value)}}add(t,n,r){if(this.id2Value[t.id]==null)this.id2Value[t.id]=Gtt(t,n),this.name2Id[t.name]=t.id,r!=null&&(this.id2Mask[t.id]=r);else throw new $e(`Duplicate key: name=${t.name}, id=${t.id}`);return this}addFeed(t){this.add(t.key,t.value)}hasKey(t){return this.id2Value[t.id]!=null}names(){return Object.keys(this.name2Id)}getValue(t){if(t instanceof Fc){if(this.id2Value[t.id]==null)throw new $e(`Nonexistent key: ${t.name}`);return this.id2Value[t.id]}else{const n=this.name2Id[t];if(n==null)throw new $e(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Value[n]}}getMask(t){if(t instanceof Fc){if(this.id2Value[t.id]==null)throw new $e(`Nonexistent key: ${t.name}`);return this.id2Mask[t.id]}else{const n=this.name2Id[t];if(n==null)throw new $e(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&zn(this.id2Mask)}}const SI=new Wue,CI=new Wue;function Ktt(e){SI!=null&&SI.setMaxEntries(e),CI!=null&&CI.setMaxEntries(e)}function Ib(e,t,n,r){const a=n==null?!1:n.training,i=Array.isArray(e),o=i?e:[e],s=o.map(p=>p.name),l=[],u=t.names();for(const p of s)u.indexOf(p)!==-1?l.push(t.getValue(p)):l.push(null);const c=s.join(",")+"|"+t.names().sort().join(",");let f=SI.get(c),d;if(f==null){const p=jtt(o,t);f=p.sorted,d=p.recipientCounts,SI.put(c,f),CI.put(c,d)}d={},a||Object.assign(d,CI.get(c));const h=new jd(t);for(let p=0;p<f.length;++p){const v=f[p],g=v.sourceLayer;if(g instanceof HS)continue;const m=[],y=[],b=[];let x=!1;for(const T of v.inputs){const I=h.getValue(T),E=h.getMask(T);m.push(I),y.push(E),E!=null&&(x=!0),a||(d[T.name]--,d[T.name]===0&&!t.hasKey(T)&&s.indexOf(T.name)===-1&&!I.isDisposed&&T.sourceLayer.stateful!==!0&&b.push(I))}x&&(n=n||{},n.mask=y[0]);const _=Rr(g.apply(m,n));let S=null;g.supportsMasking&&(S=g.computeMask(m,y));const C=Xtt(v),k=Array.isArray(C)?C:[C];for(let T=0;T<k.length;++T){h.hasKey(k[T])||h.add(k[T],_[T],Array.isArray(S)?S[0]:S);const I=s.indexOf(k[T].name);I!==-1&&(l[I]=_[T])}a||zn(b)}return h.disposeMasks(),i?l:l[0]}function jtt(e,t){pe(e!=null&&e.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(e.length===1){const a=g7(e[0],t);n=a.sorted,r=a.recipientMap}else{const a=new Set;for(const i of e){const{sorted:o,recipientMap:s}=g7(i,t);for(const l of o)a.has(l.name)||(n.push(l),a.add(l.name));for(const l in s)r[l]==null&&(r[l]=new Set),s[l].forEach(u=>r[l].add(u))}}return{sorted:n,recipientCounts:Ytt(r)}}function Ytt(e){const t={};for(const n in e)t[n]=e[n].size;return t}function g7(e,t){const n=new Set,r=[],a={};for(const s of t.names())n.add(s);const i=[],o=[];for(i.push(e);i.length>0;){const s=i[i.length-1];if(n.has(s.name)){i.pop();continue}const l=o[o.length-1]===i.length-1;if(s.inputs.length===0||l)i.pop(),r.push(s),n.add(s.name),l&&o.pop();else{o.push(i.length-1);for(const u of s.inputs)a[u.name]==null&&(a[u.name]=new Set),a[u.name].add(s.name),!n.has(u.name)&&i.push(u)}}return{sorted:r,recipientMap:a}}function Xtt(e){let t;if(e.sourceLayer.inboundNodes.length===1)t=e.sourceLayer.output;else{let n=null;for(let r=0;r<e.sourceLayer.inboundNodes.length;++r)for(const a of e.sourceLayer.inboundNodes[r].outputTensors)if(a.id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qtt=tt();qtt.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,Ktt);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function C6(e,t){return Xe(()=>Ki(pn(Pe(e,e),t,!0)))}class US extends Wg{getConfig(){return{}}}class oce extends US{constructor(t){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=t.maxValue!=null?t.maxValue:this.defaultMaxValue,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Xe(()=>{const n=C6(t,this.axis),r=js(n,0,this.maxValue);return Pe(t,gn(r,Et(Va(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}oce.className="MaxNorm";bt(oce);class sce extends US{constructor(t){super(),this.defaultAxis=0,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Xe(()=>gn(t,Et(Va(),C6(t,this.axis))))}getConfig(){return{axis:this.axis}}}sce.className="UnitNorm";bt(sce);class lce extends US{apply(t){return Vg(t)}}lce.className="NonNeg";bt(lce);class uce extends US{constructor(t){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=t.minValue!=null?t.minValue:this.defaultMinValue,this.maxValue=t.maxValue!=null?t.maxValue:this.defaultMaxValue,this.rate=t.rate!=null?t.rate:this.defaultRate,this.axis=t.axis!=null?t.axis:this.defaultAxis}apply(t){return Xe(()=>{const n=C6(t,this.axis),r=Et(Pe(this.rate,js(n,this.minValue,this.maxValue)),Pe(1-this.rate,n));return Pe(t,gn(r,Et(Va(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}uce.className="MinMaxNorm";bt(uce);const m7={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Ga(e){return h6(e)}function y7(e,t={}){return BS(e,xl.getMap().classNameMap,t,"constraint")}function Ka(e){if(e==null)return null;if(typeof e=="string"){const n={className:e in m7?m7[e]:e,config:{}};return y7(n)}else return e instanceof US?e:y7(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Cp(e){if(e==null)return;const t=[],n=[],r=[];for(const a in e){const i=e[a];if(typeof i!="number"){const o=i;t.push(o.data()),n.push(a),r.push(o)}}if(t.length>0){const a=await Promise.all(t);for(let i=0;i<a.length;++i)e[n[i]]=a[i][0];zn(r)}}function cce(e){if(e!=null)for(const t in e){const n=e[t];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var b7;(function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"})(b7||(b7={}));const Ztt=125;class gw{constructor(){this.validationData=null}setParams(t){this.params=t}async onEpochBegin(t,n){}async onEpochEnd(t,n){}async onBatchBegin(t,n){}async onBatchEnd(t,n){}async onTrainBegin(t){}async onTrainEnd(t){}setModel(t){}}class Jtt{constructor(t,n=10){t==null&&(t=[]),this.callbacks=t,this.queueLength=n}append(t){this.callbacks.push(t)}setParams(t){for(const n of this.callbacks)n.setParams(t)}setModel(t){for(const n of this.callbacks)n.setModel(t)}async onEpochBegin(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(t,n)}async onEpochEnd(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(t,n)}async onBatchBegin(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(t,n)}async onBatchEnd(t,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(t,n)}async onTrainBegin(t){t==null&&(t={});for(const n of this.callbacks)await n.onTrainBegin(t)}async onTrainEnd(t){t==null&&(t={});for(const n of this.callbacks)await n.onTrainEnd(t)}}class Qtt extends gw{constructor(){super()}async onEpochBegin(t){this.seen=0,this.totals={}}async onBatchEnd(t,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const a in n){const i=n[a];if(typeof i=="number")this.totals.hasOwnProperty(a)||(this.totals[a]=0),this.totals[a]=this.totals[a]+i*r;else{let o;a in this.totals?o=this.totals[a]:this.totals[a]=0;const s=Xe(()=>Et(this.totals[a],Pe(i,r)));this.totals[a]=s,o!=null&&o.dispose()}}}async onEpochEnd(t,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:Xe(()=>{const a=Pe(gn(1,this.seen),this.totals[r]);n[r]=a,this.totals[r].dispose(),Cc(n[r])}))}}class ent extends gw{async onTrainBegin(t){this.epoch=[],this.history={}}async onEpochEnd(t,n){n==null&&(n={}),this.epoch.push(t);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const t=[],n=[],r=[];for(const i in this.history){const o=this.history[i];for(let s=0;s<o.length;++s)if(typeof o[s]!="number"){const l=o[s];t.push(l.data()),n.push(i),r.push(s)}}const a=await Promise.all(t);for(let i=0;i<a.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=a[i][0]}}class tnt extends gw{constructor(t,n){if(super(),this.currentEpoch=0,this.nowFunc=t.nowFunc,this.nextFrameFunc=t.nextFrameFunc||vue,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=Ztt),this.yieldEvery==="never"&&t.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");xP(this.yieldEvery)&&(this.maybeWait=ptt(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=t.onTrainBegin,this.trainEnd=t.onTrainEnd,this.epochBegin=t.onEpochBegin,this.epochEnd=t.onEpochEnd,this.batchBegin=t.onBatchBegin,this.batchEnd=t.onBatchEnd,this.yield=t.onYield}async maybeWait(t,n,r){const a=[];this.yield!=null&&(await Cp(r),a.push(this.yield(t,n,r))),a.push(this.nextFrameFunc()),await Promise.all(a)}async onEpochBegin(t,n){this.currentEpoch=t,this.epochBegin!=null&&(await Cp(n),await this.epochBegin(t,n))}async onEpochEnd(t,n){const r=[];this.epochEnd!=null&&(await Cp(n),r.push(this.epochEnd(t,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(t,n){this.batchBegin!=null&&(await Cp(n),await this.batchBegin(t,n))}async onBatchEnd(t,n){const r=[];this.batchEnd!=null&&(await Cp(n),r.push(this.batchEnd(t,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):xP(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),await Promise.all(r)}async onTrainBegin(t){this.trainBegin!=null&&(await Cp(t),await this.trainBegin(t))}async onTrainEnd(t){this.trainEnd!=null&&(await Cp(t),await this.trainEnd(t))}}function fce(e,t){return e==null&&(e={}),e instanceof gw?[e]:Array.isArray(e)&&e[0]instanceof gw?e:Rr(e).map(r=>new tnt(r,t))}class ul{constructor(){}static registerCallbackConstructor(t,n){pe(t>=0&&Number.isInteger(t),()=>`Verbosity level is expected to be an integer >= 0, but got ${t}`),ul.checkForDuplicate(n),ul.constructors[t]==null&&(ul.constructors[t]=[]),ul.constructors[t].push(n)}static checkForDuplicate(t){for(const n in ul.constructors)ul.constructors[+n].forEach(a=>{if(a===t)throw new $e("Duplicate callback constructor.")})}static clear(){ul.constructors={}}static createCallbacks(t){const n=[];for(const r in ul.constructors){const a=+r;t>=a&&n.push(...ul.constructors[a])}return n.map(r=>new r)}}ul.constructors={};function dce(e,t,n,r,a,i,o,s,l){const u=new ent,c=[new Qtt,...ul.createCallbacks(t)];e!=null&&c.push(...e),c.push(u);const f=new Jtt(c);return f.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:s,metrics:l}),{callbackList:f,history:u}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ec(e,t={},n=!1){return BS(e,xl.getMap().classNameMap,t,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function TI(e,t){return Xe(()=>{e.dtype!=="float32"&&(e=Ut(e,"float32"));const n=pn(zS(e),t,!0),r=FD(n.shape,Va()),a=Ki(rp(n,r));return gn(e,a)})}function XD(e,t){return Xe(()=>Aa(zS(Sn(t,e)),-1))}function T6(e,t){return Xe(()=>Aa(oo(Sn(t,e)),-1))}function k6(e,t){return Xe(()=>{const n=Sn(e,t),r=js(oo(e),Va(),Number.MAX_VALUE),a=oo(gn(n,r));return Pe(100,Aa(a,-1))})}function nnt(e,t){return Xe(()=>{const n=js(t,Va(),Number.MAX_VALUE),r=Pc(Et(1,n)),a=js(e,Va(),Number.MAX_VALUE),i=Pc(Et(1,a));return Aa(zS(Sn(r,i)),-1)})}function rnt(e,t){return Xe(()=>{const n=rp(0,Sn(1,Pe(e,t)));return Aa(zS(n),-1)})}function ant(e,t){return Xe(()=>{const n=rp(0,Sn(1,Pe(e,t)));return Aa(n,-1)})}function int(e,t){return Xe(()=>{const n=pn(Pe(e,t),-1),r=Su(Pe(Sn(1,e),t),-1);return rp(0,Et(1,Sn(r,n)))})}function ont(e,t){return Xe(()=>{const n=Math.log(2),r=Sn(t,e),a=Sn(Et(r,RS(Pe(-2,r))),n);return Aa(a,-1)})}function mw(e,t,n=!1){return Xe(()=>{if(n)t=Az(t);else{const r=pn(t,t.shape.length-1,!0);t=gn(t,r)}return t=js(t,Va(),1-Va()),ya(pn(Pe(Ut(e,"float32"),Pc(t)),t.shape.length-1))})}function kI(e,t,n=!1){return Xe(()=>{const r=Ut(zD(ktt(e)),"int32");t=js(t,Va(),1-Va());const a=t.shape,i=He(Ole(r,a[a.length-1]),a);return mw(i,t,n)})}function snt(e,t){if(!Er(e.shape,t.shape))throw new $e(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return Xe(()=>{const n=Vg(t),r=ya(oo(t));return Et(Sn(n,Pe(t,e)),Rle(Oc(r)))})}function qD(e,t){return Xe(()=>{let n;return n=js(t,Va(),1-Va()),n=Pc(gn(n,Sn(1,n))),Aa(snt(e,n),-1)})}function lnt(e,t){return Xe(()=>{const n=js(e,Va(),1),r=js(t,Va(),1);return pn(Pe(e,Pc(gn(n,r))),-1)})}function unt(e,t){return Xe(()=>{const n=Pc(Et(Va(),t));return Aa(Sn(t,Pe(e,n)),-1)})}function hce(e,t){return Xe(()=>{const n=TI(e,-1),r=TI(t,-1),a=Pe(n,r);return ya(pn(a,-1))})}const II={meanSquaredError:XD,meanAbsoluteError:T6,meanAbsolutePercentageError:k6,meanSquaredLogarithmicError:nnt,squaredHinge:rnt,hinge:ant,categoricalHinge:int,logcosh:ont,categoricalCrossentropy:mw,sparseCategoricalCrossentropy:kI,binaryCrossentropy:qD,kullbackLeiblerDivergence:lnt,poisson:unt,cosineProximity:hce};function nM(e){if(typeof e=="string"){if(e in II)return II[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new $e(t)}else return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function pce(e,t){return Xe(()=>{const n=Pe(.5,Pl(t)),r=kc(qs(t,n),e.dtype);return Aa(Lc(e,r),-1)})}function vce(e,t){return Xe(()=>kc(Lc(fw(e,-1),fw(t,-1)),"float32"))}function cnt(e,t){return Xe(()=>Ut(pn(Hf(Lc(e,1),Lc(t,1))),"float32"))}function fnt(e,t){return Xe(()=>Ut(pn(Hf(Lc(e,0),Lc(t,1))),"float32"))}function dnt(e,t){return Xe(()=>{const n=cnt(e,t),r=fnt(e,t),a=Et(n,r);return Ut(xo(qs(a,0),gn(n,a),0),"float32")})}function hnt(e,t){return qD(e,t)}function pnt(e,t){return e.rank===t.rank&&(e=$S(e,[e.rank-1])),t=fw(t,-1),t.dtype!==e.dtype&&(t=Ut(t,e.dtype)),Ut(Lc(e,t),"float32")}const vnt=XD,gnt=XD,mnt=T6,ynt=T6,bnt=k6,xnt=k6,gce=mw,wnt=hce,mce=kI,EI={binaryAccuracy:pce,categoricalAccuracy:vce,precision:dnt,categoricalCrossentropy:gce,sparseCategoricalCrossentropy:mce,mse:vnt,MSE:gnt,mae:mnt,MAE:ynt,mape:bnt,MAPE:xnt,cosine:wnt};function _nt(e){if(typeof e=="string"&&e in EI)return EI[e];if(typeof e!="string"&&e!=null)return e;throw new $e(`Unknown metric ${e}`)}function t2(e){if(cc(e!==null,`Unknown LossOrMetricFn ${e}`),typeof e=="string")return e;{let t;for(const n of Object.keys(II))if(II[n]===e){t=n;break}if(t!==void 0)return t;for(const n of Object.keys(EI))if(EI[n]===e){t=n;break}return t!==void 0?t:e.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Snt(e){const t={Adagrad:()=>_0.adagrad(.01),Adadelta:()=>_0.adadelta(1,.95,Va()),Adam:()=>_0.adam(.001,.9,.999,Va()),Adamax:()=>_0.adamax(.002,.9,.999,Va(),0),RMSProp:()=>_0.rmsprop(.001,.9,0,Va()),SGD:()=>_0.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new $e(`Unknown Optimizer ${e}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const x7=1*1024*1024;function w7(e,t,n=!1){if(e==null||typeof e!="object"||Object.getPrototypeOf(e)!==Object.prototype||!GP(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(e);r.length>x7&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${x7}.`)}}function GP(e){if(e===null)return!0;if(typeof e=="object")if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t)if(typeof n!="string"||!GP(e[n]))return!1;return!0}else if(Array.isArray(e)){for(const t of e)if(!GP(t))return!1;return!0}else return!1;else{const t=typeof e;return t==="string"||t==="number"||t==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Cnt(e,t,n,r=console.log){const a=knt(e),i=["Layer (type)","Input Shape","Output shape","Param #"];a?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(t*c)));let o;if(!a){i.push("Receives inputs"),o=[];for(const c in e.nodesByDepth)o.push(...e.nodesByDepth[c])}r("_".repeat(t)),AI(i,n,r),r("=".repeat(t));const s=e.layers;for(let c=0;c<s.length;++c)a?Int(s[c],n,r):Ent(s[c],n,o,r),r((c===s.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=Tnt(e),u=_I(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function Tnt(e){let t;return e.collectedTrainableWeights!=null?t=_I(e.collectedTrainableWeights):t=_I(e.trainableWeights),t}function knt(e){let t=!0;const n=[],r=[];for(const a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(const a of n){if(a.length>1||a.length===1&&a[0].inboundLayers.length>1){t=!1;break}r.push(...a)}if(t)for(const a of e.layers){let i=!1;for(const o of a.inboundNodes)if(r.indexOf(o)!==-1)if(i){t=!1;break}else i=!0;if(!t)break}return t}function AI(e,t,n=console.log){let r="";for(let a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r+=e[a],r=r.slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Int(e,t,n){let r,a;try{a=e.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{a="multiple"}try{r=JSON.stringify(e.outputShape)}catch{r="multiple"}const i=e.name,o=e.getClassName(),s=[`${i} (${o})`,a,r,e.countParams().toString()];AI(s,t,n)}function Ent(e,t,n,r){let a,i;try{i=e.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{i="multiple"}try{a=JSON.stringify(e.outputShape)}catch{a="multiple"}const o=[];for(const f of e.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(f)===-1))for(let d=0;d<f.inboundLayers.length;++d){const h=f.inboundLayers[d].name,p=f.nodeIndices[d],v=f.tensorIndices[d];o.push(`${h}[${p}][${v}]`)}const s=e.name,l=e.getClassName(),u=o.length===0?"":o[0],c=[`${s} (${l})`,i,a,e.countParams().toString(),u];AI(c,t,r);for(let f=1;f<o.length;++f)AI(["","","","",o[f]],t,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function yce(e,t,n){return(e==="inboundNodes"||e==="outputLayers"||e==="inputLayers")&&t===0&&typeof n=="string"}function DI(e,t){if(e===null)return null;if(typeof e=="string")return lv(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const i=e[a];yce(t,a,i)?n.push(i):n.push(DI(i,t))}return n}else{const n={};for(const r of Object.keys(e)){const a=e[r];if(r==="name"&&typeof a=="string")n[r]=a;else{const i=lv(r);n[i]=DI(a,i)}}return n}}function KP(e,t){if(e==null)return null;if(typeof e=="string")return bf(e);if(typeof e=="number"||typeof e=="boolean")return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const i=e[a];yce(t,a,i)?n.push(i):n.push(KP(i,t))}return n}else{const n={};for(const r of Object.keys(e)){const a=e[r],i=bf(r);(r==="name"||r==="className")&&typeof a=="string"?n[i]=a:n[i]=KP(a,r)}return n}}/** @license See the LICENSE file. */const bce="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Ant=e=>{const t=Object.keys(e);if(t.length===0)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class nu extends Yn{constructor(t){if(super({}),this.containerNodes=new Set,this.name=t.name,this.name==null){const y=this.getClassName().toLowerCase();this.name=KD(y)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(t.inputs)?this.inputs=t.inputs.slice():this.inputs=[t.inputs],Array.isArray(t.outputs)?this.outputs=t.outputs.slice():this.outputs=[t.outputs],hh(this.inputs).length!==this.inputs.length)throw new $e(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(y=>y.name)}`);hh(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(y=>y.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const b=y.sourceLayer,x=y.nodeIndex,_=y.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(x),this.outputLayersTensorIndices.push(_)}for(const y of this.inputs){const b=y.sourceLayer,x=y.nodeIndex,_=y.tensorIndex;cc(x===0,"input layer has >1 nodes"),cc(_===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(x),this.inputLayersTensorIndices.push(_)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const b=this.inputLayers[y];if(!(b instanceof HS))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${t.inputs}. Input ${y} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map(y=>y.shape),this.internalOutputShapes=this.outputs.map(y=>y.shape);const n={},r={},a={},i={},o={},s=[],l=(y,b,x,_,S,C)=>{(_==null||S==null||C==null)&&(_=y.sourceLayer,S=y.nodeIndex,C=y.tensorIndex);const k=_.inboundNodes[S];if(x.indexOf(k)!==-1)throw new Tl(`The tensor ${y.name} at layer "${_.name}" is part of a cycle.`);if(b.indexOf(k)!==-1)return;this.containerNodes.add(nu.nodeKey(_,S)),_.id in o||(o[_.id]=Object.keys(o).length),x.indexOf(k)===-1&&x.push(k);const T=k.inboundLayers.length;for(let I=0;I<T;I++){const E=k.inputTensors[I],A=k.inboundLayers[I],N=k.nodeIndices[I],L=k.tensorIndices[I];l(E,b,x,A,N,L)}for(b.push(k);x.indexOf(k)>=0;)x.splice(x.indexOf(k),1);s.push(k)},u=[],c=[];for(const y of this.outputs)l(y,u,c);const f=s.slice().reverse();for(const y of f){r[y.id]=y,y.id in n||(n[y.id]=0);let b=n[y.id];const x=a[y.outboundLayer.id]==null?0:a[y.outboundLayer.id];b=Math.max(b,x),a[y.outboundLayer.id]=b,i[y.outboundLayer.id]=y.outboundLayer,n[y.id]=b;for(let _=0;_<y.inboundLayers.length;_++){const S=y.inboundLayers[_],C=y.nodeIndices[_],k=S.inboundNodes[C],T=n[k.id]==null?0:n[k.id];n[k.id]=Math.max(b+1,T),r[k.id]=k}}const d={};for(const y in n){const b=n[y];b in d||(d[b]=[]),d[b].push(r[y])}const h={};for(const y in a){const b=a[y];b in h||(h[b]=[]),h[b].push(i[y])}let p=Object.keys(h).map(y=>parseInt(y,10)).sort(JC);this.layers=[];for(const y of p){const b=h[y];b.sort((x,_)=>{const S=o[x.id],C=o[_.id];return S<C?-1:S>C?1:0});for(const x of b)x instanceof nu&&this.internalContainerRefs.push(x),this.layers.push(x)}this.layersByDepth=h,p=Object.keys(d).map(y=>parseInt(y,10)).sort(JC);const v=this.inputs.slice(),g=[];for(const y of p)for(const b of d[y]){const x=b.outboundLayer;if(x!=null){for(const _ of b.inputTensors)if(v.indexOf(_)===-1)throw new Tl(`Graph disconnected: cannot obtain value for tensor ${_} at layer "${x.name}". The following previous layers were accessed without issue: ${g}`);for(const _ of b.outputTensors)v.push(_);g.push(x.name)}}this.nodesByDepth=d;const m=this.layers.map(y=>y.name);for(const y of m){const b=m.filter(x=>x===y).length;if(b!==1)throw new Tl(`The name "${y}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(m))}this.outboundNodes=[],this.inboundNodes=[],new YD({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(y=>null),outputMasks:this.outputs.map(y=>null),inputShapes:this.inputs.map(y=>y.shape),outputShapes:this.outputs.map(y=>y.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const t={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)t.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)t.numDisposedVariables+=n.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t}get trainable(){return this.trainable_}set trainable(t){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=t)}),this.trainable_=t}get trainableWeights(){if(this._trainableWeights.length>0)throw new $e("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let t=[];for(const n of this.layers)t=t.concat(n.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const n of this.layers)t.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(t)}return t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(t,n=!0){const r={};let a=0;const i=Ant(t);i&&this.parseWeights(t);for(const s of this.layers)for(const[l,u]of s.weights.entries()){const c=i?`${u.name.split("/").slice(0,-1).join("/")+"/"}${l}`:u.originalName;if(r[c]!=null)throw new $e(`Duplicate weight name: ${c}`);r[c]=u,a++}const o=[];for(const s in t){let l=s;if(r[s]==null){const u=s.split("/");l=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[l]!=null)o.push([r[l],t[s]]);else if(n)throw new $e(`Provided weight data has no target variable: ${s}`);delete r[l]}if(n){const s=[];for(const l in r)s.push(l);if(s.length>0)throw new $e(`${s.length} of ${a} weights are not set: ${s}`)}S6(o)}parseWeights(t){for(const n in Object.keys(t)){const r=n.split("/"),a=["vars","layer_checkpoint_dependencies"],i=r.map(o=>o.startsWith("_")?o.slice(1):o).filter(o=>!a.includes(o)).join("/");i!==n&&(t[i]=t[n],delete t[n])}}updatedConfig(){const t=this.getConfig(),n={};return n.className=this.getClassName(),n.config=t,n.kerasVersion=`tfjs-layers ${bce}`,n.backend="TensorFlow.js",n}toJSON(t,n=!0){const r=KP(this.updatedConfig());return n?JSON.stringify(r):r}call(t,n){return Xe(()=>{t=Rr(t);const r=new jd;for(let a=0;a<this.inputs.length;++a)r.add(this.inputs[a],t[a]);return Ib(this.outputs,r,n)})}computeMask(t,n){return Xe(()=>{t=Rr(t);let r;return n==null?r=bg(null,t.length):r=Rr(n),this.runInternalGraph(t,r)[1]})}computeOutputShape(t){const n=wI(t);if(n.length!==this.inputLayers.length)throw new $e(`Invalid inputShape argument ${t}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let s=0;s<n.length;s++){const l=this.inputLayers[s],u=n[s],c=l.name+"_0_0";r[c]=u}const a=Object.keys(this.nodesByDepth).map(s=>parseInt(s,10)).sort(JC);if(a.length>1)for(const s of a){const l=this.nodesByDepth[s];for(const u of l){const c=u.outboundLayer;if(this.inputLayers.map(v=>v.id).indexOf(c.id)!==-1)continue;const f=[];for(let v=0;v<u.inboundLayers.length;v++){const g=u.inboundLayers[v],m=u.nodeIndices[v],y=u.tensorIndices[v],b=`${g.name}_${m}_${y}`,x=r[b];f.push(x)}const d=c.computeOutputShape(Wo(f)),h=wI(d),p=c.inboundNodes.indexOf(u);for(let v=0;v<h.length;v++){const g=`${c.name}_${p}_${v}`;r[g]=h[v]}}}const i=[],o=[];for(let s=0;s<this.outputLayers.length;s++){const l=this.outputLayers[s],u=this.outputLayersNodeIndices[s],c=this.outputLayersTensorIndices[s],f=`${l.name}_${u}_${c}`;o.push(f)}for(let s=0;s<o.length;s++){const l=o[s];cc(l in r),i.push(r[l])}return Wo(i)}runInternalGraph(t,n){n==null&&(n=bg(null,t.length));const r={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],c=t[l],f=n[l];r[u.id]=[c,f]}const a=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(JC);for(const l of a){const u=this.nodesByDepth[l];for(const c of u){const f=c.outboundLayer,d=c.inputTensors,h=c.outputTensors,p=new Array;for(const v of d)v.id in r&&p.push(r[v.id]);if(p.length===d.length){let v={},g,m,y,b;if(c.callArgs!=null&&(v=c.callArgs),p.length===1){const[x,_]=p[0];v.mask==null&&(v.mask=_),y=Rr(f.call(x,v)),b=Rr(f.computeMask(x,_)),g=[x],m=[_]}else g=p.map(x=>x[0]),m=p.map(x=>x[1]),v.mask==null&&(v.mask=m),y=Rr(f.call(g,v)),b=Rr(f.computeMask(g,m));if(f.activityRegularizer)throw new Fn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let x=0;x<h.length;++x){const _=h[x],S=y[x],C=b[x];r[_.id]=[S,C]}}}}const i=[],o=[],s=[];for(const l of this.outputs){cc(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[u,c]=r[l.id];s.push(u.shape),i.push(u),o.push(c)}return[i,o,s]}buildNodeConversionMap(t){const n={};let r;for(const a of this.layers){r=a instanceof nu?1:0;for(let i=0;i<a.inboundNodes.length;i++){const o=nu.nodeKey(a,i);this.containerNodes.has(o)&&(n[o]=r,r+=1)}}return n}getLayer(t,n){if(n!=null)return this.findLayer(n);if(t==null)throw new $e("Provide either a layer name or layer index");if(typeof t=="number")return this.findLayer(t);for(const r of this.layers)if(r.name===t)return r;throw new $e(`No such layer: ${t}`)}findLayer(t){if(this.layers.length<=t)throw new $e(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}calculateLosses(){return Xe(()=>{const t=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const a=nu.nodeKey(n,r);this.containerNodes.has(a)&&t.push(...n.calculateLosses())}return t})}getConfig(){const t={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const o of this.layers){const s=o.getClassName(),l=o.getConfig(),u=[];for(let f=0;f<o.inboundNodes.length;f++){const d=o.inboundNodes[f],h=nu.nodeKey(o,f);let p={};if(this.containerNodes.has(h)){if(d.callArgs)try{JSON.stringify(d.callArgs),p=d.callArgs}catch{console.warn(`Layer ${o.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(d.inboundLayers.length>0){const v=[];for(let g=0;g<d.inboundLayers.length;g++){const m=d.inboundLayers[g],y=d.nodeIndices[g],b=d.tensorIndices[g],x=nu.nodeKey(m,y);let _=n[x];_==null&&(_=0),v.push([m.name,_,b,p])}u.push(v)}}}const c={};c.name=o.name,c.className=s,c.config=l,c.inboundNodes=u,r.push(c)}t.layers=r;const a=[];for(let o=0;o<this.inputLayers.length;o++){const s=this.inputLayers[o],l=this.inputLayersNodeIndices[o],u=nu.nodeKey(s,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const f=this.inputLayersTensorIndices[o];a.push([s.name,c,f])}t.inputLayers=a;const i=[];for(let o=0;o<this.outputLayers.length;o++){const s=this.outputLayers[o],l=this.outputLayersNodeIndices[o],u=nu.nodeKey(s,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const f=this.outputLayersTensorIndices[o];i.push([s.name,c,f])}return t.outputLayers=i,t}static fromConfig(t,n,r={},a=!1){const i={},o={};function s(g,m){g.name in o?o[g.name].push(m):o[g.name]=[m]}function l(g,m){const y=[];let b;for(const x of m){const _=x[0],S=x[1],C=x[2];if(b=x[3]==null?{}:x[3],!(_ in i)){s(g,m);return}const k=i[_];if(k.inboundNodes.length<=S){s(g,m);return}const T=k.inboundNodes[S];y.push(T.outputTensors[C])}y.length>0&&g.apply(Wo(y),b)}function u(g){const m=g.name,y=Ec(g,n.customObjects!=null?n.customObjects:{});y.setFastWeightInitDuringBuild(a),i[m]=y,g.inboundNodes.forEach(x=>{if(!(x instanceof Array))throw new $e(`Corrupted configuration, expected array for nodeData: ${x}`);s(y,x)})}const c=n.name,f=n.layers;for(const g of f)u(g);for(;!htt(o);)for(const g of f){const m=i[g.name];if(m.name in o){const y=o[m.name];delete o[m.name];for(const b of y)l(m,b)}}const d=[],h=[],p=n.inputLayers;for(const g of p){const m=g[0],y=g[1],b=g[2];cc(m in i);const _=i[m].inboundNodes[y].outputTensors;d.push(_[b])}const v=n.outputLayers;for(const g of v){const m=g[0],y=g[1],b=g[2];cc(m in i);const _=i[m].inboundNodes[y].outputTensors;h.push(_[b])}return new t({inputs:d,outputs:h,name:c})}get stateful(){if(this._stateful)throw new $e("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const t of this.layers)if(t.stateful)return!0;return!1}resetStates(){Xe(()=>{this.layers.forEach(t=>{t.stateful&&t.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Dnt(e,t,n){const r=t.length;if(e==null||Array.isArray(e)&&e.length===0)return t.map(a=>null);if(r===1)return Array.isArray(e)&&e.length===1?e:typeof e=="object"&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}else if(typeof e=="object"&&Object.keys(e).length>0&&typeof e[Object.keys(e)[0]]=="object"){const a=[];return t.forEach(i=>{i in e?a.push(e[i]):a.push(null)}),a}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function xce(e,t){return Dnt(e,t,"classWeight")}async function wce(e,t,n,r){if(n!=null){const a=Xe(()=>{if(e.shape.length===1)return Fv(e);if(e.shape.length===2){if(e.shape[1]>1)return fw(e,1);if(e.shape[1]===1)return He(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await a.data());zn(a);const o=[];return i.forEach(s=>{if(n[s]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${s} exists in the data but not in classWeight`);o.push(n[s])}),ws(o,"float32")}else return null}function Nnt(e,t){return Pe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Rnt=32;function _ce(e,t){let n,r;const a=t;n=a.xs,r=a.ys,pe(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);const i=_7("input",e.inputNames,n),o=_7("output",e.outputNames,r),s=i[0].shape[0];pe(i.length===e.inputs.length,()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`),pe(o.length===e.outputs.length,()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`);for(let l=0;l<i.length;l++)pe(i[l].shape[0]===s,()=>`Batch size mismatch: input ${e.inputNames[l]} has ${i[l].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`);for(let l=0;l<o.length;l++)pe(o[l].shape[0]===s,()=>`Batch size mismatch: output ${e.outputNames[l]} has ${o[l].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`);return{xs:i,ys:o}}function _7(e,t,n){if(n instanceof Fa)return[n];if(Array.isArray(n))return pe(n.length===t.length,()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`),n;{const r=[];for(const a of t){if(n[a]==null)throw new $e(`The feature data generated by the dataset lacks the required ${e} key '${a}'.`);r.push(n[a])}return r}}function Mnt(e){if(e.length===3)throw new Fn("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}async function $nt(e,t,n){const r=n.batchesPerEpoch!=null;if(pe(e.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),pe(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),pe(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),pe(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),pe(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const a=n.validationData!=null;let i,o;if(a)if(S7(n.validationData))pe(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const g=Mnt(n.validationData);i=g.xs,o=g.ys}const s=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;a?u=l.slice().concat(l.map(g=>"val_"+g)):u=l.slice();const c=fce(n.callbacks,n.yieldEvery),f=n.verbose==null?1:n.verbose,{callbackList:d,history:h}=dce(c,f,n.epochs,null,null,Lnt(t,n),null,a,u);d.setModel(e),e.history=h,await d.onTrainBegin(),e.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,v=await t.iterator();for(;p<n.epochs;){const g={};await d.onEpochBegin(p);let m=0,y=0;for(r||(v=await t.iterator());!r||m<n.batchesPerEpoch;){const b=await v.next();if(r&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${m} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){const{xs:x,ys:_}=_ce(e,b.value),S={};S.batch=y,S.size=x[0].shape[0],await d.onBatchBegin(y,S);const C=[];if(n.classWeight!=null){const I=xce(n.classWeight,e.outputNames);for(let E=0;E<I.length;++E)C.push(await wce(_[E],null,I[E]))}const k=x.concat(_).concat(C),T=s(k);zn(k);for(let I=0;I<l.length;++I){const E=l[I],A=T[I];S[E]=A,Cc(A)}await d.onBatchEnd(y,S),cce(S),y++,m++}if(r?m>=n.batchesPerEpoch:b.done){if(a){let x;S7(n.validationData)?x=Rr(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):x=Rr(e.evaluate(i,o,{batchSize:n.validationBatchSize==null?Rnt:n.validationBatchSize,verbose:0}));for(let _=0;_<e.metricsNames.length;++_)g[`val_${e.metricsNames[_]}`]=x[_]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(p,g),p++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function Lnt(e,t){let n=null;return t.batchesPerEpoch!=null?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function S7(e){return typeof e.iterator=="function"}function Ont(e){return typeof e.next=="function"}async function Pnt(e,t,n){n=n||{};const r=n.batches!=null,a=e.testFunction;let i=[];if(n.verbose>0)throw new Fn("Verbose mode is not implemented yet.");pe(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const o=Ont(t)?t:await t.iterator();let s=0,l=0;for(;!r||l<n.batches;){const u=await o.next();if(i=Xe(()=>{if(u.value){const{xs:c,ys:f}=_ce(e,u.value),d=c.concat(f),h=Xe(()=>a(d));if(zn(d),l===0)for(let v=0;v<h.length;++v)i.push(Cr(0));const p=d[0].shape[0];for(let v=0;v<h.length;++v){const g=h[v],m=i[v];i[v]=Xe(()=>Et(i[v],Pe(p,g))),l>0&&zn(m)}zn(h),s+=p,++l}return i}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<i.length;++u){const c=i[u];i[u]=gn(i[u],s),zn(c)}return Wo(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function rM(e){pe(e>0&&Number.isInteger(e),()=>`batchSize is required to be a positive integer, but got ${e}`)}function H1(e,t,n){return e==null?[null]:Array.isArray(e)?e.map(r=>Vv(r,t,n-t)):Vv(e,t,n-t)}function jP(e,t){return Xe(()=>e==null?null:Array.isArray(e)?e.map(n=>jP(n,t)):que(e,t.dtype==="int32"?t:Ut(t,"int32")))}function aM(e,t){const n=[];let r=0,a=null;for(;r<e;)a=r+t,a>=e&&(a=e),n.push([r,a]),r=a;return n}function Sce(e){const t=[];e instanceof Fa&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(r.rank===1)t.push(VS(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function Xl(e,t){if(e==null)return;const n=[];if(t instanceof Fa)n.push(t.id);else if(Array.isArray(t))t.forEach(a=>n.push(a.id));else if(t!=null)for(const a in t){const i=t[a];n.push(i.id)}const r=[];if(e instanceof Fa)n.indexOf(e.id)===-1&&r.push(e);else if(Array.isArray(e))e.forEach(a=>{n.indexOf(a.id)===-1&&r.push(a)});else if(e!=null)for(const a in e){const i=e[a];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(a=>{a.isDisposed||a.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Fnt(e){return e instanceof Fa}function YP(e){return Array.isArray(e)}function C7(e){return!Fnt(e)&&!YP(e)}function T7(e,t,n,r=!0,a=""){if(t==null||t.length===0){if(e!=null){let o=!1;if(YP(e)&&e.length>0)o=!0;else if(C7(e)){for(const s in e)if(e.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new $e(`Error when checking model ${a} expected no data, but got ${e}`)}return[]}if(e==null)return t.map(o=>null);let i;if(C7(e)){e=e,i=[];for(const o of t){if(e[o]==null)throw new $e(`No data provided for "${o}". Need data for each key in: ${t}`);i.push(e[o])}}else if(YP(e)){if(e=e,e.length!==t.length)throw new $e(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);i=e}else{if(e=e,t.length>1)throw new $e(`The model ${a} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);i=[e]}if(i=Sce(i),n!=null)for(let o=0;o<t.length;++o){if(n[o]==null)continue;const s=i[o];if(s.shape.length!==n[o].length)throw new $e(`Error when checking ${a}: expected ${t[o]} to have ${n[o].length} dimension(s). but got array with shape ${s.shape}`);for(let l=0;l<n[o].length;++l){if(l===0&&!r)continue;const u=s.shape[l],c=n[o][l];if(c!=null&&c>=0&&u!==c)throw new $e(`${a} expected a batch of elements where each example has shape [${n[o].slice(1,n[o].length)}] (i.e.,tensor shape [*,${n[o].slice(1,n[o].length)}]) but the ${a} received an input with ${s.shape[0]} examples, each with shape [${s.shape.slice(1,s.shape.length)}] (tensor shape [${s.shape}])`)}}return i}function Bnt(e,t,n){const r=hh(e.map(i=>i.shape[0]));r.sort();const a=hh(t.map(i=>i.shape[0]));if(a.sort(),r.length>1)throw new $e(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(a.length>1)throw new $e(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(r.length>0&&a.length>0&&!Er(r,a))throw new $e(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${a[0]} target sample(s).`)}function Vnt(e,t,n){const r=[XD,qD,mw];for(let a=0;a<e.length;++a){const i=e[a],o=t[a],s=n[a];if(o!=null){if(o===mw&&i.shape[i.shape.length-1]===1)throw new $e(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(o)!==-1){const l=i.shape.slice(1),u=s.slice(1);for(let c=0;c<l.length;++c){const f=l[c],d=u[c];if(d!=null&&f!==d)throw new $e(`A target Tensor with shape ${i.shape} was passed for an output of shape ${s}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function k7(e,t,n,r=!0,a=""){let i;if(Array.isArray(e)){if(e.length!==t.length)throw new $e(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);i=e}else{if(t.length>1)throw new $e(`The model expects ${t.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);i=[e]}if(n!=null)for(let o=0;o<t.length;++o){if(n[o]==null)continue;const s=i[o];if(s.shape.length!==n[o].length)throw new $e(`Error when checking ${a}: expected ${t[o]} to have ${n[o].length} dimension(s), but got array with shape ${JSON.stringify(s.shape)}`);for(let l=0;l<n[o].length;++l){if(l===0&&!r)continue;const u=s.shape[l],c=n[o][l];if(c!=null&&c!==u)throw new $e(`Error when checking ${a}: expected ${t[o]} to have shape ${JSON.stringify(n[o])} but got array with shape ${JSON.stringify(s.shape)}.`)}}}function znt(e,t){if(e==null||Array.isArray(e)&&e.length===0)return t.map(r=>[]);let n;if(typeof e=="string"||typeof e=="function")n=[e];else if(Array.isArray(e)||typeof e=="object")n=e;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);if(Array.isArray(n))return t.map(r=>n);{const r=[];for(const a of t){let i=n.hasOwnProperty(a)?n[a]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const Wnt="layers-model";class Rm extends nu{constructor(t){super(t),this.isTraining=!1}summary(t,n,r=console.log){if(!this.built)throw new $e("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Cnt(this,t,n,r)}compile(t){if(t.loss==null&&(t.loss=[]),this.loss=t.loss,typeof t.optimizer=="string")this.optimizer_=Snt(t.optimizer),this.isOptimizerOwned=!0;else{if(!(t.optimizer instanceof ip))throw new $e("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=t.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(t.loss)&&typeof t.loss!="string"&&typeof t.loss!="function"){t.loss=t.loss;for(const o in t.loss)if(this.outputNames.indexOf(o)===-1)throw new $e(`Unknown entry in loss dictionary: "${o}". Only expected the following keys: ${this.outputNames}`);for(const o of this.outputNames)t.loss[o]==null&&console.warn(`Output "${o}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${o} during training`),n.push(nM(t.loss[o]))}else if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new $e(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${t.loss}.`);n=t.loss.map(s=>nM(s))}else{const o=nM(t.loss);this.outputs.forEach(s=>{n.push(o)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){const s=this.internalOutputShapes[o],l=this.outputNames[o];this.feedOutputNames.push(l),this.feedOutputShapes.push(s),this.feedLossFns.push(this.lossFunctions[o])}const r=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Bv("loss",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const s=this.lossFunctions[o];this.outputs.length>1&&(this.metricsTensors.push([s,o]),this.metricsNames.push(this.outputNames[o]+"_loss"))}});const a=znt(t.metrics,this.outputNames),i=(o,s,l)=>{this.outputNames.length>1&&(s=this.outputNames[o]+"_"+s),this.metricsNames.push(s),this.metricsTensors.push([l,o])};Bv("metric",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const s=a[o];(u=>{const c="";let f,d,h;for(const p of u){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const g=this.internalOutputShapes[o];g[g.length-1]===1||this.lossFunctions[o]===qD?["accuracy","acc"].indexOf(p)!==-1?d=pce:["crossentropy","ce"].indexOf(p)!==-1&&(d=hnt):this.lossFunctions[o]===kI?["accuracy","acc"].indexOf(p)!==-1?d=pnt:["crossentropy","ce"].indexOf(p)!==-1&&(d=mce):["accuracy","acc"].indexOf(p)!==-1?d=vce:["crossentropy","ce"].indexOf(p)!==-1&&(d=gce);let m;["accuracy","acc"].indexOf(p)!==-1?m="acc":["crossentropy","ce"].indexOf(p)!==-1&&(m="ce"),h=d,f=c+m}else h=_nt(p),f=c+t2(p);let v;Bv(f,()=>{v=h}),i(o,f,v)}})(s)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(t,n,r={}){const a=r.batchSize==null?32:r.batchSize;rM(a);const o=this.standardizeUserDataXY(t,n,!0,a);try{const s=o[0].concat(o[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,s,a,r.verbose,r.steps);return Wo(u)}finally{Xl(o[0],t),Xl(o[1],n)}}async evaluateDataset(t,n){return this.makeTestFunction(),Pnt(this,t,n)}checkNumSamples(t,n,r,a="steps"){let i;if(r!=null){if(i=null,n!=null)throw new $e(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(t!=null)Array.isArray(t)?i=t[0].shape[0]:i=t.shape[0];else throw new $e(`Either the input data should have a defined shape, or ${a} shoud be specified.`);return i}execute(t,n){if(Array.isArray(n)&&n.length===0)throw new $e("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),a=r?n:[n],i=this.retrieveSymbolicTensors(a),o=new jd;if(t instanceof Fa&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new $e(`The number of inputs provided (${t.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)o.add(this.inputs[l],t[l])}else for(const l of this.inputs){const u=t[l.name];if(u==null)throw new $e(`No value is provided for the model's input ${l.name}`);o.add(l,u)}const s=Ib(i,o);return r?s:s[0]}retrieveSymbolicTensors(t){const n=bg(null,t.length);let r=t.length;for(const a of this.layers){const i=Array.isArray(a.output)?a.output:[a.output],o=i.map(s=>s.name);for(let s=0;s<t.length;++s){const l=o.indexOf(t[s]);if(l!==-1&&(n[s]=i[l],r--),r===0)break}if(r===0)break}if(r>0){const a=[];throw n.forEach((i,o)=>{i==null&&a.push(t[o])}),new $e(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return n}predictLoop(t,n=32,r=!1){return Xe(()=>{const a=this.checkNumSamples(t);if(r)throw new Fn("Verbose predictLoop() is not implemented yet.");const i=aM(a,n),o=this.outputs.map(s=>[]);for(let s=0;s<i.length;++s)Xe(()=>{const u=i[s][0],c=i[s][1],f=H1(t,u,c),d=[];if(Array.isArray(f))for(let p=0;p<f.length;++p)d.push({key:this.inputs[p],value:f[p]});else d.push({key:this.inputs[0],value:f});const h=new jd(d);return Ib(this.outputs,h)}).forEach((u,c)=>o[c].push(u));return Wo(o.map(s=>Xo(s,0)))})}predict(t,n={}){const r=Sce(t);k7(r,this.inputNames,this.feedInputShapes,!1);try{const a=n.batchSize==null?32:n.batchSize;return rM(a),this.predictLoop(r,a)}finally{Xl(r,t)}}predictOnBatch(t){k7(t,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(t)?t[0]:t).shape[0];return this.predictLoop(t,n)}standardizeUserDataXY(t,n,r=!0,a){if(this.optimizer_==null)throw new Tl("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let o=0;o<this.feedOutputShapes.length;++o){const s=this.feedOutputShapes[o];this.feedLossFns[o]===kI?i.push(s.slice(0,s.length-1).concat([1])):i.push(s)}if(t=T7(t,this.feedInputNames,this.feedInputShapes,!1,"input"),n=T7(n,this.feedOutputNames,i,!1,"target"),Bnt(t,n),Vnt(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&a!=null&&a>0&&t[0].shape[0]%a!==0)throw new $e(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${t[0].shape[0]} sample(s).`);return[t,n]}async standardizeUserData(t,n,r,a,i=!0,o){const[s,l]=this.standardizeUserDataXY(t,n,i,o);if(r!=null)throw new Error("sample weight is not supported yet.");let u=null;if(a!=null){const c=xce(a,this.outputNames);u=[];for(let f=0;f<c.length;++f)u.push(await wce(l[f],null,c[f]))}return[s,l,u]}testLoop(t,n,r,a=0,i){return Xe(()=>{const o=this.checkNumSamples(n,r,i,"steps"),s=[];if(a>0)throw new Fn("Verbose mode is not implemented yet.");if(i!=null)throw new Fn("steps mode in testLoop() is not implemented yet");{const l=aM(o,r),u=ws($u(0,o));for(let c=0;c<l.length;++c){const f=l[c][0],d=l[c][1],h=Vv(u,f,d-f),p=jP(n,h),v=t(p);if(c===0)for(let g=0;g<v.length;++g)s.push(Cr(0));for(let g=0;g<v.length;++g){const m=v[g];s[g]=Et(s[g],Pe(d-f,m))}}for(let c=0;c<s.length;++c)s[c]=gn(s[c],o)}return s})}getDedupedMetricsNames(){const t=this.metricsNames,n=[];for(let r=0;r<t.length;++r){const a=t[r];let i=a;if(c7(t,a)>1){const o=c7(t.slice(0,r),a);i+=`_${o}`}n.push(i)}return n}makeTrainFunction(){return t=>{const n=[],r=t.slice(0,this.inputs.length),a=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=t.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),o=[],s=()=>{const f=[];for(let v=0;v<this.inputs.length;++v)f.push({key:this.inputs[v],value:r[v]});const d=new jd(f),h=Ib(this.outputs,d,{training:!0});let p;for(let v=0;v<this.lossFunctions.length;++v){const g=this.lossFunctions[v];let m=g(a[v],h[v]);i[v]!=null&&(m=Nnt(m,i[v]));const y=Aa(m);n.push(y),v===0?p=m:p=Et(p,m)}for(let v=0;v<this.metricsTensors.length;++v){let g;if(this.outputs.length>1&&v<this.outputs.length)g=n[v];else{const m=this.metricsTensors[v][0],y=this.metricsTensors[v][1];g=Aa(m(a[y],h[y]))}Cc(g),o.push(g)}return p=Aa(p),this.calculateLosses().forEach(v=>{p=Et(p,v)}),p},l=this.collectedTrainableWeights.map(f=>f.read());return[this.optimizer_.minimize(s,!0,l)].concat(o)}}makeTestFunction(){this.testFunction=t=>Xe(()=>{const n=[];let r;const a=t.slice(0,this.inputs.length),i=t.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let u=0;u<this.inputs.length;++u)o.push({key:this.inputs[u],value:a[u]});const s=new jd(o),l=Ib(this.outputs,s);for(let u=0;u<this.lossFunctions.length;++u){const c=this.lossFunctions[u],f=Aa(c(i[u],l[u]));u===0?r=f:r=Et(r,f),n.push(r)}for(let u=0;u<this.metricsTensors.length;++u){const c=this.metricsTensors[u][0],f=this.metricsTensors[u][1],d=Aa(c(i[f],l[f]));n.push(d)}return n})}async fit(t,n,r={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let a,i,o,s,l,u,c,f,d;try{const h=r.batchSize==null?32:r.batchSize;rM(h);const v=await this.standardizeUserData(t,n,r.sampleWeight,r.classWeight,!1,h);a=v[0],i=v[1],d=v[2];let g=!1,m;if(r.validationData!=null&&r.validationData.length>0){if(g=!0,r.validationData.length===2)l=r.validationData[0],u=r.validationData[1];else throw r.validationData.length===3?new Fn("validationData including sample weights is not supported yet."):new $e(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const I=await this.standardizeUserData(l,u,null,null,!0,h);c=I[0],f=I[1],m=c.concat(f)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){g=!0;const T=Math.floor(a[0].shape[0]*(1-r.validationSplit)),I=a[0].shape[0];c=H1(a,T,I),o=a,a=H1(a,0,T),f=H1(i,T,I),s=i,i=H1(i,0,T),m=c.concat(f)}else r.validationSteps!=null&&(g=!0);const y=a.concat(i).concat(d);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),x=this.getDedupedMetricsNames();let _,S;g?(this.makeTestFunction(),_=this.testFunction,S=x.slice().concat(x.map(T=>"val_"+T))):(_=null,m=[],S=x.slice());const C=fce(r.callbacks,r.yieldEvery);return await this.fitLoop(b,y,x,h,r.epochs,r.verbose,C,_,m,r.shuffle,S,r.initialEpoch,null,null)}finally{this.isTraining=!1,Xl(a,t),Xl(i,n),Xl(o,t),Xl(s,n),Xl(c,l),Xl(f,u),d!=null&&zn(d)}}async fitLoop(t,n,r,a,i,o,s,l,u,c,f,d,h,p){a==null&&(a=32),i==null&&(i=1),c==null&&(c=!0),d==null&&(d=0);let v=!1;if(l!=null&&u!=null&&(v=!0),p!=null&&(v=!0,h==null))throw new $e("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const g=this.checkNumSamples(n,a,h,"steps_per_epoch");let m;g!=null&&(m=$u(0,g)),o==null&&(o=1);const{callbackList:y,history:b}=dce(s,o,i,d,g,h,a,v,f);y.setModel(this),this.history=b,await y.onTrainBegin(),this.stopTraining_=!1;for(let x=d;x<i;++x){await y.onEpochBegin(x);const _={};if(h!=null)throw new Fn("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new Fn("batch shuffling is not implemneted yet");c&&aKe(m);const S=ws(m),C=aM(g,a);for(let k=0;k<C.length;++k){const T={};if(await y.onBatchBegin(k,T),Xe(()=>{const I=C[k][0],E=C[k][1],A=Vv(S,I,E-I);T.batch=k,T.size=E-I;const N=jP(n,A),L=t(N);for(let R=0;R<r.length;++R){const D=r[R],P=L[R];T[D]=P,Cc(P)}if(k===C.length-1&&v){const R=this.testLoop(l,u,a);for(let D=0;D<r.length;++D){const P=r[D],O=R[D];Cc(O),_["val_"+P]=O}}}),await y.onBatchEnd(k,T),cce(T),this.stopTraining_)break}S.dispose()}if(await y.onEpochEnd(x,_),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(t,n){return $nt(this,t,n)}async trainOnBatch(t,n){const r=await this.standardizeUserData(t,n),a=r[0],i=r[1],s=this.makeTrainFunction()(a.concat(i)),l=[];for(const u of s){const c=await u.data();l.push(c[0])}return zn(s),Xl(r[0],t),Xl(r[1],n),Wo(l)}getNamedWeights(t){const n=[],r=t!=null&&t.trainableOnly,a=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let o=0;o<a.length;++o)r&&!a[o].trainable||n.push({name:a[o].originalName,tensor:i[o]});return n}set stopTraining(t){this.stopTraining_=t}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(t){this.optimizer_!==t&&(this.optimizer_=t,this.isOptimizerOwned=!1)}dispose(){const t=super.dispose();if(t.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=O9().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-O9().numTensors}return t}getLossIdentifiers(){let t;if(typeof this.loss=="string")t=bf(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");t=this.loss.map(n=>bf(n))}else{const n=Object.keys(this.loss);t={};const r=this.loss;for(const a of n)if(typeof r[a]=="string")t[a]=bf(r[a]);else throw new Error("Serialization of non-string loss is not supported.")}return t}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[bf(t2(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(t=>bf(t2(t)));{const t={};for(const n in this.metrics)t[n]=bf(t2(this.metrics[n]));return t}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(t){if(t.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(t.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(t.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=DI(t.optimizer_config),r=Ec(n);let a;if(typeof t.loss=="string")a=lv(t.loss);else if(Array.isArray(t.loss))a=t.loss.map(o=>lv(o));else if(t.loss!=null){a={};for(const o in t.loss)a[o]=lv(t.loss[o])}let i;if(Array.isArray(t.metrics))i=t.metrics.map(o=>lv(o));else if(t.metrics!=null){i={};for(const o in t.metrics)i[o]=lv(t.metrics[o])}this.compile({loss:a,metrics:i,optimizer:r})}async save(t,n){if(typeof t=="string"){const u=fje(t);if(u.length===0)throw new $e(`Cannot find any save handlers for URL '${t}'`);if(u.length>1)throw new $e(`Found more than one (${u.length}) save handlers for URL '${t}'`);t=u[0]}if(t.save==null)throw new $e("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await P9(this.getNamedWeights(n)),s={modelTopology:this.toJSON(null,!1),format:Wnt,generatedBy:`TensorFlow.js tfjs-layers v${bce}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){s.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:c,specs:f}=await P9(await this.optimizer.getWeights(),u);r.specs.push(...f),r.data=rje([r.data,c])}return this.userDefinedMetadata!=null&&(w7(this.userDefinedMetadata,this.name,!0),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=r.data,s.weightSpecs=r.specs,t.save(s)}setUserDefinedMetadata(t){w7(t,this.name),this.userDefinedMetadata=t}getUserDefinedMetadata(){return this.userDefinedMetadata}}Rm.className="Model";bt(Rm);class Cce extends Rm{}Cce.className="Functional";bt(Cce);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Hnt(e,t){if(t==null&&(t={}),typeof e=="string"){const n=dje(e,t);if(n.length===0)n.push(YJe(e,t));else if(n.length>1)throw new $e(`Found more than one (${n.length}) load handlers for URL '${e}'`);e=n[0]}return Unt(e,void 0,t)}async function Unt(e,t,n){if(n==null&&(n={}),e.load==null)throw new $e("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await e.load();let a=r.modelTopology;a.model_config!=null&&(a=a.model_config);const i=n.strict==null?!0:n.strict,o=r.weightData!=null&&r.weightSpecs!=null&&i,s=Ec(DI(a),t,o),l=r.trainingConfig;if(l!=null&&s.loadTrainingConfig(l),r.userDefinedMetadata!=null&&s.setUserDefinedMetadata(r.userDefinedMetadata),r.weightData!=null){if(r.weightSpecs==null)throw new $e("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:u,optimizerWeights:c}=Gnt(r.weightData,r.weightSpecs);s.loadWeights(u,i),s.optimizer!=null&&c.length>0&&await s.optimizer.setWeights(c),zn(u),zn(c.map(f=>f.tensor))}return s}function Gnt(e,t){const n=ZKe(e,t),r={},a=[];return t.forEach(i=>{i.group==="optimizer"?a.push({name:i.name,tensor:n[i.name]}):r[i.name]=n[i.name]}),{modelWeights:r,optimizerWeights:a}}class yw extends Rm{constructor(t){if(super({inputs:[],outputs:[]}),t=t||{},this.trainable=!0,this.built=!1,this.name=t.name!=null?t.name:KD("sequential_"),t.layers!=null)for(const n of t.layers)this.add(n)}checkShape(t){if(t.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new $e(`Negative dimension size caused by adding layer ${t.name} with input shape [${t.inboundNodes[0].inputTensors[0].shape}]`)}add(t){const n=t instanceof yw||t instanceof Rm;let r;if(n){if(r=t,r.outputs.length!==1)throw new $e("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new $e("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(t.inboundNodes.length===0){if(t.batchInputShape==null)throw new $e("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const a=Utt({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(a)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(t.inboundNodes.length!==1)throw new $e(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${t.name} which has ${t.inboundNodes.length} pre-existing inbound connections.`);if(t.inboundNodes[0].outputTensors.length!==1)throw new $e("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=ice(this.outputs[0])}this.inboundNodes=[],new YD({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:bg(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{const a=t.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(t,n){return this.model==null&&this.build(),this.model.call(t,n)}build(t){if(xr(t),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Rm({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(t,n,r=console.log){this.built||this.build(),super.summary(t,n,r)}setWeights(t){this.model==null&&this.build(),this.model.setWeights(t)}evaluate(t,n,r={}){if(!this.built)throw new Tl("The model needs to be compiled before being used.");return this.model.evaluate(t,n,r)}async evaluateDataset(t,n){if(!this.built)throw new Tl("The model needs to be compiled before being used.");return this.model.evaluateDataset(t,n)}predict(t,n={}){return this.model==null&&this.build(),this.model.predict(t,n)}predictOnBatch(t){return this.model==null&&this.build(),this.model.predictOnBatch(t)}compile(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(t){this.model.optimizer=t}async fit(t,n,r={}){if(!this.built)throw new Tl("The model needs to be compiled before being used.");return this.model.fit(t,n,r)}async fitDataset(t,n){if(!this.built)throw new Tl("The model needs to be compiled before being used.");return this.model.fitDataset(t,n)}async trainOnBatch(t,n){return this.model.trainOnBatch(t,n)}static fromConfig(t,n,r={},a=!1){let i,o={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new $e("Legacy serialization format not supported yet.");i=n}else pe(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,o=n;const s=new t(o);if(!(s instanceof yw))throw new Fn(`Sequential.fromConfig called on non-Sequential input: ${s}`);for(const l of i){const c=Ec(l,void 0,a);a&&c.setFastWeightInitDuringBuild(!0),s.add(c)}return s}set stopTraining(t){if(this.model==null)throw new $e("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t}get stopTraining(){if(this.model==null)throw new $e("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const t=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),t.push(r)}return{name:this.name,layers:t}}}yw.className="Sequential";bt(yw);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Ji=class extends Wg{getConfig(){return{}}};class Tce extends Ji{apply(t,n=1){return Ett(t,n)}}Tce.className="elu";bt(Tce);class kce extends Ji{apply(t){return zle(t)}}kce.className="selu";bt(kce);class Ice extends Ji{apply(t){return Vg(t)}}Ice.className="relu";bt(Ice);class Ece extends Ji{apply(t){return Xe(()=>pw(6,Vg(t)))}}Ece.className="relu6";bt(Ece);class Ace extends Ji{apply(t){return t}}Ace.className="linear";bt(Ace);class Dce extends Ji{apply(t){return Jy(t)}}Dce.className="sigmoid";bt(Dce);class Nce extends Ji{apply(t){return Dtt(t)}}Nce.className="hardSigmoid";bt(Nce);class Rce extends Ji{apply(t){return RS(t)}}Rce.className="softplus";bt(Rce);class Mce extends Ji{apply(t){return Att(t)}}Mce.className="softsign";bt(Mce);class $ce extends Ji{apply(t){return OD(t)}}$ce.className="tanh";bt($ce);let I6=class extends Ji{apply(t,n=-1){return Az(t,n)}};I6.className="softmax";bt(I6);class Lce extends Ji{apply(t,n=-1){return Mle(t,n)}}Lce.className="logSoftmax";bt(Lce);class Oce extends Ji{apply(t){return Xe(()=>Xe(()=>{const n=Math.sqrt(2),r=Pe(.5,Et(1,Ele(gn(t,n))));return Pe(t,r)}))}}Oce.className="gelu";bt(Oce);class Pce extends Ji{apply(t){return Xe(()=>Pe(.5,Pe(t,Et(1,OD(Pe(Ki(gn(2,Math.PI)),Et(t,Pe(.044715,gg(t,3)))))))))}}Pce.className="gelu_new";bt(Pce);class Fce extends Ji{apply(t){return Xe(()=>Pe(t,OD(RS(t))))}}Fce.className="mish";bt(Fce);class Bce extends Ji{apply(t,n=1){return Xe(()=>Pe(Jy(Pe(t,n)),t))}}Bce.className="swish";bt(Bce);function Rh(e){return e.getClassName()}function iM(e,t={}){return BS(e,xl.getMap().classNameMap,t,"activation")}function Mh(e){if(e==null){const t={};return t.className="linear",t.config={},iM(t)}if(typeof e=="string"){const t={};return t.className=e,t.config={},iM(t)}else return e instanceof Ji?e:iM(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Knt(e){if(e!=null&&typeof e!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}class Vce extends Wg{}class zce extends Vce{constructor(t){super(),Knt(t),this.l1=t==null||t.l1==null?.01:t.l1,this.l2=t==null||t.l2==null?.01:t.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(t){return Xe(()=>{let n=ni([1]);return this.hasL1&&(n=Et(n,pn(Pe(this.l1,oo(t))))),this.hasL2&&(n=Et(n,pn(Pe(this.l2,zS(t))))),He(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(t,n){return new t({l1:n.l1,l2:n.l2})}}zce.className="L1L2";bt(zce);const I7={l1l2:"L1L2"};function Wr(e){return h6(e)}function E7(e,t={}){return BS(e,xl.getMap().classNameMap,t,"regularizer")}function sa(e){if(e==null)return null;if(typeof e=="string"){const n={className:e in I7?I7[e]:e,config:{}};return E7(n)}else return e instanceof Vce?e:E7(e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Wce extends Yn{constructor(t){super(t??{}),this.supportsMasking=!0,t!=null&&(this.maxValue=t.maxValue)}call(t,n){t=Tn(t);let r=Vg(t);return this.maxValue!=null&&(r=js(r,0,this.maxValue)),r}computeOutputShape(t){return t}getConfig(){const t={maxValue:this.maxValue},n=super.getConfig();return Object.assign(t,n),t}}Wce.className="ReLU";bt(Wce);class Hce extends Yn{constructor(t){super(t??{}),this.DEFAULT_ALPHA=.3,t==null&&(t={}),this.alpha=t.alpha==null?this.DEFAULT_ALPHA:t.alpha}call(t,n){const r=Tn(t);return bz(r,this.alpha)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},n=super.getConfig();return Object.assign(t,n),t}}Hce.className="LeakyReLU";bt(Hce);class Uce extends Yn{constructor(t){if(super(t??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",t==null&&(t={}),this.supportsMasking=!0,this.alphaInitializer=oa(t.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=sa(t.alphaRegularizer),this.alphaConstraint=Ka(t.alphaConstraint),t.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(t.sharedAxes))this.sharedAxes=t.sharedAxes;else if(typeof t.sharedAxes=="number")this.sharedAxes=[t.sharedAxes];else throw new $e(`Expected sharedAxes to be a number or an array of numbers, but got ${t.sharedAxes}`)}build(t){t=xr(t);const n=t.slice(1);if(this.sharedAxes!=null)for(const a of this.sharedAxes)n[a-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let a=1;a<t.length;++a)r[a]=t[a];this.inputSpec=[new za({ndim:t.length,axes:r})],this.built=!0}call(t,n){return t=Tn(t),Tz(t,this.alpha.read())}getConfig(){const t={alphaInitializer:fa(this.alphaInitializer),alphaRegularizer:Wr(this.alphaRegularizer),alphaConstraint:Ga(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(t,n),t}}Uce.className="PReLU";bt(Uce);let Gce=class extends Yn{constructor(t){if(super(t??{}),this.DEFAULT_ALPHA=1,t==null&&(t={}),t.alpha!=null&&t.alpha!==this.DEFAULT_ALPHA)throw new Fn(`Non-default alpha value (${t.alpha}) is not supported by the ELU layer yet.`);this.alpha=t.alpha==null?this.DEFAULT_ALPHA:t.alpha}call(t,n){const r=Tn(t);return BD(r)}computeOutputShape(t){return t}getConfig(){const t={alpha:this.alpha},n=super.getConfig();return Object.assign(t,n),t}};Gce.className="ELU";bt(Gce);class Kce extends Yn{constructor(t){super(t??{}),this.DEFAULT_THETA=1,t==null&&(t={}),this.theta=t.theta==null?this.DEFAULT_THETA:t.theta}call(t,n){const r=Tn(t);return Pe(r,Ut(qs(r,this.theta),"float32"))}computeOutputShape(t){return t}getConfig(){const t={theta:this.theta},n=super.getConfig();return Object.assign(t,n),t}}Kce.className="ThresholdedReLU";bt(Kce);class jce extends Yn{constructor(t){super(t??{}),this.DEFAULT_AXIS=1,t==null&&(t={}),this.softmax=new I6().apply,this.axis=t.axis==null?this.DEFAULT_AXIS:t.axis}call(t,n){return Xe(()=>{let r=Tn(t);const a=n.mask;if(a!=null){const i=Pe(Sn(ap(r.shape),Ut(a,r.dtype)),Cr(-1e9));r=Et(r,i)}return this.axis instanceof Array?this.axis.length>1?Oc(Sn(r,$le(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(t){return t}getConfig(){const t={axis:this.axis},n=super.getConfig();return Object.assign(t,n),t}}jce.className="Softmax";bt(jce);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Mm(e,t,n){if(typeof e=="number")return bg(e,t);if(e.length!==t)throw new $e(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const a=e[r];if(!Ctt(a))throw new $e(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${a}`)}return e}function Cu(e,t,n,r,a=1){if(e==null)return e;const i=t+(t-1)*(a-1);let o;return n==="same"?o=e:o=e-i+1,Math.floor((o+r-1)/r)}function fc(e,t,n,r){if(e==null)return null;if(r==="valid")e=e*t+Nh([n-t,0]);else if(r==="same")e=e*t;else throw new $e(`Unsupport padding mode: ${r}.`);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function E6(e,t){return Xe(()=>(Ta(t),t==="channelsFirst"?hr(e,[0,2,3,1]):e))}function Yce(e,t){return Xe(()=>(Ta(t),t==="channelsFirst"?hr(e,[0,2,3,4,1]):e))}function jnt(e,t,n,r=1,a="valid",i,o=1){return Xe(()=>{if(i==null&&(i=Lu()),Ta(i),e.shape.length!==3)throw new $e(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(t.shape.length!==3)throw new $e(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new $e(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(i==="channelsFirst"&&(e=hr(e,[0,2,1])),a==="causal")throw new Fn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let s=Sle(e,t,r,a==="same"?"same":"valid","NWC",o);return n!=null&&(s=Wu(s,n)),s})}function A7(e,t,n,r=[1,1],a="valid",i,o,s=null){return Xe(()=>{if(i==null&&(i=Lu()),Ta(i),e.rank!==3&&e.rank!==4)throw new $e(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(t.rank!==3&&t.rank!==4)throw new $e(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=E6(e,i);if(a==="causal")throw new Fn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=KZe({x:l,filter:t,strides:r,pad:a==="same"?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:s}),i==="channelsFirst"&&(l=hr(l,[0,3,1,2])),l})}function Ynt(e,t,n,r=[1,1,1],a="valid",i,o){return Xe(()=>{if(i==null&&(i=Lu()),Ta(i),e.rank!==4&&e.rank!==5)throw new $e(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(t.rank!==4&&t.rank!==5)throw new $e(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let s=Yce(e,i);if(a==="causal")throw new Fn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=WYe(s,t,r,a==="same"?"same":"valid","NDHWC",o),n!=null&&(s=Wu(s,n)),i==="channelsFirst"&&(s=hr(s,[0,4,1,2,3])),s})}class ZD extends Yn{constructor(t,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",ZD.verifyArgs(n),this.rank=t,ri(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Fn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Mm(n.kernelSize,t,"kernelSize"),this.strides=Mm(n.strides==null?1:n.strides,t,"strides"),this.padding=n.padding==null?"valid":n.padding,Zs(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Ta(this.dataFormat),this.activation=Mh(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=oa(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Ka(n.biasConstraint),this.biasRegularizer=sa(n.biasRegularizer),this.activityRegularizer=sa(n.activityRegularizer),this.dilationRate=Mm(n.dilationRate==null?1:n.dilationRate,t,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new $e(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new $e(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new $e(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(t){if(cc("kernelSize"in t,"required key 'kernelSize' not in config"),typeof t.kernelSize!="number"&&!p6(t.kernelSize,"number",1,3))throw new $e(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(t.kernelSize)}.`)}getConfig(){const t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Rh(this.activation),useBias:this.useBias,biasInitializer:fa(this.biasInitializer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),biasConstraint:Ga(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}}class t1 extends ZD{constructor(t,n){super(t,n),this.kernel=null,t1.verifyArgs(n),this.filters=n.filters,ri(this.filters,"filters"),this.kernelInitializer=oa(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Ka(n.kernelConstraint),this.kernelRegularizer=sa(n.kernelRegularizer)}build(t){t=xr(t);const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new $e(`The channel dimension of the input should be defined. Found ${t[n]}`);const r=t[n],a=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(t,n){return Xe(()=>{t=Tn(t);let r;const a=this.bias==null?null:this.bias.read(),i=Uue(this.activation.getClassName());if(i!=null&&this.rank===2)r=A7(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=jnt(t,this.kernel.read(),a,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=A7(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=Ynt(t,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Fn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(t){t=xr(t);const n=[],r=this.dataFormat==="channelsLast"?t.slice(1,t.length-1):t.slice(2);for(let i=0;i<r.length;++i){const o=Cu(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(o)}let a=[t[0]];return this.dataFormat==="channelsLast"?(a=a.concat(n),a.push(this.filters)):(a.push(this.filters),a=a.concat(n)),a}getConfig(){const t={filters:this.filters,kernelInitializer:fa(this.kernelInitializer),kernelRegularizer:Wr(this.kernelRegularizer),kernelConstraint:Ga(this.kernelConstraint)},n=super.getConfig();return Object.assign(t,n),t}static verifyArgs(t){if(!("filters"in t)||typeof t.filters!="number"||t.filters<1)throw new $e(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(t.filters)}`)}}class GS extends t1{constructor(t){super(2,t),GS.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!p6(t.kernelSize,"number",1,2))throw new $e(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(t.kernelSize)}.`)}}GS.className="Conv2D";bt(GS);class KS extends t1{constructor(t){super(3,t),KS.verifyArgs(t)}getConfig(){const t=super.getConfig();return delete t.rank,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!(Array.isArray(t.kernelSize)&&(t.kernelSize.length===1||t.kernelSize.length===3)))throw new $e(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(t.kernelSize)}.`)}}KS.className="Conv3D";bt(KS);class Xce extends GS{constructor(t){if(super(t),this.inputSpec=[new za({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new $e(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(t=xr(t),t.length!==4)throw new $e("Input should have rank 4; Received input shape: "+JSON.stringify(t));const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new $e("The channel dimension of the inputs should be defined. Found `None`.");const r=t[n],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new za({ndim:4,axes:{[n]:r}})],this.built=!0}call(t,n){return Xe(()=>{let r=Tn(t);if(r.shape.length!==4)throw new $e(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape,i=a[0];let o,s;this.dataFormat==="channelsFirst"?(o=2,s=3):(o=1,s=2);const l=a[o],u=a[s],c=this.kernelSize[0],f=this.kernelSize[1],d=this.strides[0],h=this.strides[1],p=fc(l,d,c,this.padding),v=fc(u,h,f,this.padding),g=[i,p,v,this.filters];this.dataFormat!=="channelsLast"&&(r=hr(r,[0,2,3,1]));let m=Cle(r,this.kernel.read(),g,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(m=hr(m,[0,3,1,2])),this.bias!=null&&(m=Wu(m,this.bias.read(),this.dataFormat)),this.activation!=null&&(m=this.activation.apply(m)),m})}computeOutputShape(t){t=xr(t);const n=t.slice();let r,a,i;this.dataFormat==="channelsFirst"?(r=1,a=2,i=3):(r=3,a=1,i=2);const o=this.kernelSize[0],s=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return n[r]=this.filters,n[a]=fc(n[a],l,o,this.padding),n[i]=fc(n[i],u,s,this.padding),n}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}Xce.className="Conv2DTranspose";bt(Xce);class qce extends KS{constructor(t){if(super(t),this.inputSpec=[new za({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new $e(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(t){if(t=xr(t),t.length!==5)throw new $e("Input should have rank 5; Received input shape: "+JSON.stringify(t));const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null)throw new $e("The channel dimension of the inputs should be defined. Found `None`.");const r=t[n],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new za({ndim:5,axes:{[n]:r}})],this.built=!0}call(t,n){return Xe(()=>{let r=Tn(t);if(r.shape.length!==5)throw new $e(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape,i=a[0];let o,s,l;this.dataFormat==="channelsFirst"?(l=2,o=3,s=4):(l=1,o=2,s=3);const u=a[l],c=a[o],f=a[s],d=this.kernelSize[0],h=this.kernelSize[1],p=this.kernelSize[2],v=this.strides[0],g=this.strides[1],m=this.strides[2],y=fc(u,v,d,this.padding),b=fc(c,g,h,this.padding),x=fc(f,m,p,this.padding),_=[i,y,b,x,this.filters];this.dataFormat!=="channelsLast"&&(r=hr(r,[0,2,3,4,1]));let S=GYe(r,this.kernel.read(),_,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(S=hr(S,[0,4,1,2,3])),this.bias!==null&&(S=Wu(S,this.bias.read(),this.dataFormat)),this.activation!==null&&(S=this.activation.apply(S)),S})}computeOutputShape(t){t=xr(t);const n=t.slice();let r,a,i,o;this.dataFormat==="channelsFirst"?(r=1,a=2,i=3,o=4):(r=4,a=1,i=2,o=3);const s=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],f=this.strides[1],d=this.strides[2];return n[r]=this.filters,n[a]=fc(n[a],c,s,this.padding),n[i]=fc(n[i],f,l,this.padding),n[o]=fc(n[o],d,u,this.padding),n}getConfig(){const t=super.getConfig();return delete t.dilationRate,t}}qce.className="Conv3DTranspose";bt(qce);class Zce extends t1{constructor(t,n){if(super(t,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new $e("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new $e("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new $e(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=oa(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=sa(n.depthwiseRegularizer),this.depthwiseConstraint=Ka(n.depthwiseConstraint),this.pointwiseInitializer=oa(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=sa(n.pointwiseRegularizer),this.pointwiseConstraint=Ka(n.pointwiseConstraint)}build(t){if(t=xr(t),t.length<this.rank+2)throw new $e(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(t)}`);const n=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[n]==null||t[n]<0)throw new $e(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(t[n])}`);const r=t[n],a=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let s=0;s<this.rank;++s)i.push(1);i.push(r*this.depthMultiplier,this.filters);const o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new za({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(t,n){return Xe(()=>{t=Tn(t);let r;if(this.rank===1)throw new Fn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(t=hr(t,[0,2,3,1])),r=Wle(t,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=Wu(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=hr(r,[0,3,1,2])),r})}getConfig(){const t=super.getConfig();return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=fa(this.depthwiseInitializer),t.pointwiseInitializer=fa(this.pointwiseInitializer),t.depthwiseRegularizer=Wr(this.depthwiseRegularizer),t.pointwiseRegularizer=Wr(this.pointwiseRegularizer),t.depthwiseConstraint=Ga(this.depthwiseConstraint),t.pointwiseConstraint=Ga(this.pointwiseConstraint),t}}Zce.className="SeparableConv";class Jce extends Zce{constructor(t){super(2,t)}}Jce.className="SeparableConv2D";bt(Jce);class JD extends t1{constructor(t){super(1,t),JD.verifyArgs(t),this.inputSpec=[{ndim:3}]}getConfig(){const t=super.getConfig();return delete t.rank,delete t.dataFormat,t}static verifyArgs(t){if(typeof t.kernelSize!="number"&&!p6(t.kernelSize,"number",1,1))throw new $e(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(t.kernelSize)}.`)}}JD.className="Conv1D";bt(JD);class Qce extends Yn{constructor(t){super(t),typeof t.cropping=="number"?this.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:typeof t.cropping[0]=="number"?this.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:this.cropping=t.cropping,this.dataFormat=t.dataFormat===void 0?"channelsLast":t.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(t){return this.dataFormat==="channelsFirst"?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[3]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]}call(t,n){return Xe(()=>{if(t=Tn(t),this.dataFormat==="channelsLast"){const r=e2(t,this.cropping[0][0],t.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return e2(r,this.cropping[1][0],t.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=e2(t,this.cropping[0][0],t.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return e2(r,this.cropping[1][0],t.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const t={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}Qce.className="Cropping2D";bt(Qce);class efe extends Yn{constructor(t){super(t),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=t.size==null?this.DEFAULT_SIZE:t.size,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Ta(this.dataFormat),this.interpolation=t.interpolation==null?"nearest":t.interpolation,wtt(this.interpolation)}computeOutputShape(t){if(this.dataFormat==="channelsFirst"){const n=t[2]==null?null:this.size[0]*t[2],r=t[3]==null?null:this.size[1]*t[3];return[t[0],t[1],n,r]}else{const n=t[1]==null?null:this.size[0]*t[1],r=t[2]==null?null:this.size[1]*t[2];return[t[0],n,r,t[3]]}}call(t,n){return Xe(()=>{let r=Tn(t);const a=r.shape;if(this.dataFormat==="channelsFirst"){r=hr(r,[0,2,3,1]);const i=this.size[0]*a[2],o=this.size[1]*a[3],s=this.interpolation==="nearest"?Tf.resizeNearestNeighbor(r,[i,o]):Tf.resizeBilinear(r,[i,o]);return hr(s,[0,3,1,2])}else{const i=this.size[0]*a[1],o=this.size[1]*a[2];return this.interpolation==="nearest"?Tf.resizeNearestNeighbor(r,[i,o]):Tf.resizeBilinear(r,[i,o])}})}getConfig(){const t={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(t,n),t}}efe.className="UpSampling2D";bt(efe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Xnt(e,t,n=[1,1],r="valid",a,i){return Xe(()=>{a==null&&(a=Lu()),Ta(a);let o=E6(e,a);if(e.rank!==4)throw new $e(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(t.rank!==4)throw new $e(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return o=vz(o,t,n,r==="same"?"same":"valid","NHWC",i),a==="channelsFirst"&&(o=hr(o,[0,3,1,2])),o})}class tfe extends ZD{constructor(t){super(2,t),this.depthwiseKernel=null,this.depthMultiplier=t.depthMultiplier==null?1:t.depthMultiplier,this.depthwiseInitializer=oa(t.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Ka(t.depthwiseConstraint),this.depthwiseRegularizer=sa(t.depthwiseRegularizer)}build(t){if(t=xr(t),t.length<4)throw new $e(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(t)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(t[n]==null||t[n]<0)throw new $e(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${t[n]}).`);const r=t[n],a=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",a,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Xe(()=>{t=Tn(t);let r=Xnt(t,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=Wu(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(t){t=xr(t);const n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2],a=this.dataFormat==="channelsFirst"?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,i=Cu(n,this.kernelSize[0],this.padding,this.strides[0]),o=Cu(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[t[0],a,i,o]:[t[0],i,o,a]}getConfig(){const t=super.getConfig();return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=fa(this.depthwiseInitializer),t.depthwiseRegularizer=Wr(this.depthwiseRegularizer),t.depthwiseConstraint=Ga(this.depthwiseRegularizer),t}}tfe.className="DepthwiseConv2D";bt(tfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function nfe(e,t,n,r){if(Array.isArray(e)){if(t!=null||n!=null)throw new $e("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(i){return i==null||Array.isArray(i)?i:[i]}return t=a(t),n=a(n),{inputs:e,initialState:t,constants:n}}function rfe(e,t,n,r=!1,a,i,o=!1,s=!1){return Xe(()=>{const l=t.shape.length;if(l<3)throw new $e(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat($u(2,l));t=hr(t,u),o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),a!=null&&(a=Ut(Ut(a,"bool"),"float32"),a.rank===l-1&&(a=zo(a,-1)),a=hr(a,u)),r&&(t=mg(t,0),a!=null&&(a=mg(a,0)));const c=[];let f,d=n;const h=t.shape[0],p=yg(t);let v;a!=null&&(v=yg(a));for(let m=0;m<h;++m){const y=p[m],b=Xe(()=>e(y,d));if(a==null)f=b[0],d=b[1];else{const x=Xe(()=>{const _=v[m],S=Sn(Pl(_),_),C=Et(Pe(b[0],_),Pe(d[0],S)),k=d.map((T,I)=>Et(Pe(b[1][I],_),Pe(T,S)));return{output:C,newStates:k}});f=x.output,d=x.newStates}s&&c.push(f)}let g;return s&&(g=Uf(c,1)),[f,g,d]})}class op extends Yn{constructor(t){super(t);let n;if(t.cell==null)throw new $e("cell property is missing for the constructor of RNN.");if(Array.isArray(t.cell)?n=new N6({cells:t.cell}):n=t.cell,n.stateSize==null)throw new $e("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=t.returnSequences==null?!1:t.returnSequences,this.returnState=t.returnState==null?!1:t.returnState,this.goBackwards=t.goBackwards==null?!1:t.goBackwards,this._stateful=t.stateful==null?!1:t.stateful,this.unroll=t.unroll==null?!1:t.unroll,this.supportsMasking=!0,this.inputSpec=[new za({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return $u(0,t).map(n=>null)}else return this.states_}setStates(t){this.states_=t}computeOutputShape(t){HP(t)&&(t=t[0]),t=t;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let a;if(this.returnSequences?a=[t[0],t[1],r]:a=[t[0],r],this.returnState){const i=[];for(const o of n)i.push([t[0],o]);return[a].concat(i)}else return a}computeMask(t,n){return Xe(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const a=this.states.map(i=>null);return[r].concat(a)}else return r})}get states(){if(this.states_==null){const t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<t;++r)n.push(null);return n}else return this.states_}set states(t){this.states_=t}build(t){if(this.numConstants!=null)throw new Fn("Constants support is not implemented in RNN yet.");HP(t)&&(t=t[0]),t=t;const n=this.stateful?t[0]:null,r=t.slice(2);this.inputSpec[0]=new za({shape:[n,null,...r]});const a=[t[0]].concat(t.slice(2));this.cell.build(a);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!Er(this.stateSpec.map(o=>o.shape[o.shape.length-1]),i))throw new $e(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(o=>new za({shape:[null,o]}));this.stateful&&this.resetStates()}resetStates(t,n=!1){Xe(()=>{if(!this.stateful)throw new uc("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new $e("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>ni([r,a])):this.states_=[ni([r,this.cell.stateSize])];else if(t==null)zn(this.states_),this.keptStates!=null&&(zn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>ni([r,a])):this.states_[0]=ni([r,this.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new $e(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n===!0?this.keptStates.push(this.states_.slice()):zn(this.states_);for(let a=0;a<this.states_.length;++a){const i=t[a],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,s=[r,o];if(!Er(i.shape,s))throw new $e(`State ${a} is incompatible with layer ${this.name}: expected shape=${s}, received shape=${i.shape}`);this.states_[a]=i}}this.states_=this.states_.map(a=>Cc(a.clone()))})}apply(t,n){let r=n==null?null:n.initialState,a=n==null?null:n.constants;n==null&&(n={});const i=nfe(t,r,a,this.numConstants);t=i.inputs,r=i.initialState,a=i.constants;let o=[],s=[];if(r!=null){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(const u of r)this.stateSpec.push(new za({shape:u.shape}));s=s.concat(this.stateSpec)}if(a!=null&&(n.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof Fc){const u=[t].concat(o),c=this.inputSpec.concat(s),f=this.inputSpec;this.inputSpec=c;const d=super.apply(u,n);return this.inputSpec=f,d}else return super.apply(t,n)}call(t,n){return Xe(()=>{const r=n==null?null:n.mask,a=n==null?null:n.training;let i=n==null?null:n.initialState;t=Tn(t),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(t));const o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==o)throw new $e(`RNN Layer has ${o} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const s={training:a},u=rfe((p,v)=>{const g=this.cell.call([p].concat(v),s);return[g[0],g.slice(1)]},t,i,this.goBackwards,r,null,this.unroll,this.returnSequences),c=u[0],f=u[1],d=u[2];this.stateful&&this.resetStates(d,a);const h=this.returnSequences?f:c;return this.returnState?[h].concat(d):h})}getInitialState(t){return Xe(()=>{let n=ni(t.shape);return n=pn(n,[1,2]),n=VS(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?zP(n,[1,r]):n):this.cell.stateSize>1?[zP(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(t)}getConfig(){const t=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===op.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),t),n)}static fromConfig(t,n,r={}){const a=n.cell,i=Ec(a,r);return new t(Object.assign(n,{cell:i}))}}op.className="RNN";bt(op);class QD extends Yn{}class A6 extends QD{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,ri(this.units,"units"),this.activation=Mh(t.activation==null?this.DEFAULT_ACTIVATION:t.activation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=oa(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=oa(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=oa(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=sa(t.kernelRegularizer),this.recurrentRegularizer=sa(t.recurrentRegularizer),this.biasRegularizer=sa(t.biasRegularizer),this.kernelConstraint=Ka(t.kernelConstraint),this.recurrentConstraint=Ka(t.recurrentConstraint),this.biasConstraint=Ka(t.biasConstraint),this.dropout=py([1,Nh([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=py([1,Nh([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=xr(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Xe(()=>{if(t=t,t.length!==2)throw new $e(`SimpleRNNCell expects 2 input Tensors, got ${t.length}.`);let r=t[1];t=t[0];const a=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=$h({ones:()=>Pl(t),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=$h({ones:()=>Pl(r),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));let i;const o=this.dropoutMask,s=this.recurrentDropoutMask;o!=null?i=Ic(Pe(t,o),this.kernel.read()):i=Ic(t,this.kernel.read()),this.bias!=null&&(i=Wu(i,this.bias.read())),s!=null&&(r=Pe(r,s));let l=Et(i,Ic(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:Rh(this.activation),useBias:this.useBias,kernelInitializer:fa(this.kernelInitializer),recurrentInitializer:fa(this.recurrentInitializer),biasInitializer:fa(this.biasInitializer),kernelRegularizer:Wr(this.kernelRegularizer),recurrentRegularizer:Wr(this.recurrentRegularizer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),kernelConstraint:Ga(this.kernelConstraint),recurrentConstraint:Ga(this.recurrentConstraint),biasConstraint:Ga(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},t),n)}}A6.className="SimpleRNNCell";bt(A6);class afe extends op{constructor(t){t.cell=new A6(t),super(t)}call(t,n){return Xe(()=>{this.cell.dropoutMask!=null&&(zn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(zn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(t,{mask:r,training:a,initialState:i})})}static fromConfig(t,n){return new t(n)}}afe.className="SimpleRNN";bt(afe);class D6 extends QD{constructor(t){if(super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.resetAfter)throw new $e("GRUCell does not support reset_after parameter set to true.");this.units=t.units,ri(this.units,"units"),this.activation=Mh(t.activation===void 0?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=Mh(t.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=oa(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=oa(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=oa(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=sa(t.kernelRegularizer),this.recurrentRegularizer=sa(t.recurrentRegularizer),this.biasRegularizer=sa(t.biasRegularizer),this.kernelConstraint=Ka(t.kernelConstraint),this.recurrentConstraint=Ka(t.recurrentConstraint),this.biasConstraint=Ka(t.biasConstraint),this.dropout=py([1,Nh([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=py([1,Nh([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){t=xr(t);const n=t[t.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(t,n){return Xe(()=>{if(t=t,t.length!==2)throw new $e(`GRUCell expects 2 input Tensors (inputs, h, c), got ${t.length}.`);const r=n.training==null?!1:n.training;let a=t[1];t=t[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=$h({ones:()=>Pl(t),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=$h({ones:()=>Pl(a),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=this.recurrentDropoutMask;let s,l,u;0<this.dropout&&this.dropout<1&&(t=Pe(t,i[0]));let c=Ic(t,this.kernel.read());this.useBias&&(c=Wu(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=Pe(a,o[0]));const f=this.recurrentKernel.read(),[d,h]=Hs(f,[2*this.units,this.units],f.rank-1),p=Ic(a,d),[v,g,m]=Hs(c,3,c.rank-1),[y,b]=Hs(p,2,p.rank-1);s=this.recurrentActivation.apply(Et(v,y)),l=this.recurrentActivation.apply(Et(g,b));const x=Ic(Pe(l,a),h);u=this.activation.apply(Et(m,x));const _=Et(Pe(s,a),Pe(Et(1,ya(s)),u));return[_,_]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:Rh(this.activation),recurrentActivation:Rh(this.recurrentActivation),useBias:this.useBias,kernelInitializer:fa(this.kernelInitializer),recurrentInitializer:fa(this.recurrentInitializer),biasInitializer:fa(this.biasInitializer),kernelRegularizer:Wr(this.kernelRegularizer),recurrentRegularizer:Wr(this.recurrentRegularizer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),kernelConstraint:Ga(this.kernelConstraint),recurrentConstraint:Ga(this.recurrentConstraint),biasConstraint:Ga(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},t),n)}}D6.className="GRUCell";bt(D6);class ife extends op{constructor(t){t.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new D6(t),super(t)}call(t,n){return Xe(()=>{this.cell.dropoutMask!=null&&(zn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(zn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(t,{mask:r,training:a,initialState:i})})}static fromConfig(t,n){return n.implmentation===0&&(n.implementation=1),new t(n)}}ife.className="GRU";bt(ife);class eN extends QD{constructor(t){super(t),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=t.units,ri(this.units,"units"),this.activation=Mh(t.activation===void 0?this.DEFAULT_ACTIVATION:t.activation),this.recurrentActivation=Mh(t.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),this.useBias=t.useBias==null?!0:t.useBias,this.kernelInitializer=oa(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=oa(t.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=oa(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=t.unitForgetBias,this.kernelRegularizer=sa(t.kernelRegularizer),this.recurrentRegularizer=sa(t.recurrentRegularizer),this.biasRegularizer=sa(t.biasRegularizer),this.kernelConstraint=Ka(t.kernelConstraint),this.recurrentConstraint=Ka(t.recurrentConstraint),this.biasConstraint=Ka(t.biasConstraint),this.dropout=py([1,Nh([0,t.dropout==null?0:t.dropout])]),this.recurrentDropout=py([1,Nh([0,t.recurrentDropout==null?0:t.recurrentDropout])]),this.dropoutFunc=t.dropoutFunc,this.implementation=t.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(t){var n;t=xr(t);const r=t[t.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let a;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,o=this.units;a=new(n=class extends Wl{apply(l,u){const c=i.apply([o]),f=new g6().apply([o]),d=i.apply([o*2]);return d7(d7(c,f),d)}},n.className="CustomInit",n)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(t,n){return Xe(()=>{const r=n.training==null?!1:n.training;if(t=t,t.length!==3)throw new $e(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);let a=t[1];const i=t[2];t=t[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=$h({ones:()=>Pl(t),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=$h({ones:()=>Pl(a),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,s=this.recurrentDropoutMask;let l,u,c,f;0<this.dropout&&this.dropout<1&&(t=Pe(t,o[0]));let d=Ic(t,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=Pe(a,s[0])),d=Et(d,Ic(a,this.recurrentKernel.read())),this.useBias&&(d=Wu(d,this.bias.read()));const[h,p,v,g]=Hs(d,4,d.rank-1);l=this.recurrentActivation.apply(h),u=this.recurrentActivation.apply(p),c=Et(Pe(u,i),Pe(l,this.activation.apply(v))),f=this.recurrentActivation.apply(g);const m=Pe(f,this.activation.apply(c));return[m,m,c]})}getConfig(){const t=super.getConfig(),n={units:this.units,activation:Rh(this.activation),recurrentActivation:Rh(this.recurrentActivation),useBias:this.useBias,kernelInitializer:fa(this.kernelInitializer),recurrentInitializer:fa(this.recurrentInitializer),biasInitializer:fa(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Wr(this.kernelRegularizer),recurrentRegularizer:Wr(this.recurrentRegularizer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),kernelConstraint:Ga(this.kernelConstraint),recurrentConstraint:Ga(this.recurrentConstraint),biasConstraint:Ga(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},t),n)}}eN.className="LSTMCell";bt(eN);class ofe extends op{constructor(t){t.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new eN(t),super(t)}call(t,n){return Xe(()=>{this.cell.dropoutMask!=null&&(zn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(zn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(t,{mask:r,training:a,initialState:i})})}static fromConfig(t,n){return n.implmentation===0&&(n.implementation=1),new t(n)}}ofe.className="LSTM";bt(ofe);class N6 extends QD{constructor(t){super(t),this.cells=t.cells}get stateSize(){const t=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?t.push(...n.stateSize):t.push(n.stateSize);return t}call(t,n){return Xe(()=>{t=t;let r=t.slice(1);const a=[];for(const s of this.cells.slice().reverse())Array.isArray(s.stateSize)?a.push(r.splice(0,s.stateSize.length)):a.push(r.splice(0,1));a.reverse();const i=[];let o;for(let s=0;s<this.cells.length;++s){const l=this.cells[s];r=a[s],s===0?o=[t[0]].concat(r):o=[o[0]].concat(r),o=l.call(o,n),i.push(o.slice(1))}r=[];for(const s of i.slice().reverse())r.push(...s);return[o[0]].concat(r)})}build(t){HP(t)&&(t=t[0]),t=t;let n;this.cells.forEach((r,a)=>{Bv(`RNNCell_${a}`,()=>{r.build(t),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,t=[t[0],n]})}),this.built=!0}getConfig(){const t=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),a={cells:this.cells.map(n)};return Object.assign(Object.assign({},t),a)}static fromConfig(t,n,r={}){const a=[];for(const i of n.cells)a.push(Ec(i,r));return new t({cells:a})}get trainableWeights(){if(!this.trainable)return[];const t=[];for(const n of this.cells)t.push(...n.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const n of this.cells)t.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(t)}return t}getWeights(){const t=[];for(const n of this.cells)t.push(...n.weights);return UP(t)}setWeights(t){const n=[];for(const r of this.cells){const a=r.weights.length,i=t.splice(a);for(let o=0;o<r.weights.length;++o)n.push([r.weights[o],i[o]])}S6(n)}}N6.className="StackedRNNCells";bt(N6);function $h(e){const{ones:t,rate:n,training:r=!1,count:a=1,dropoutFunc:i}=e,o=()=>i!=null?i(t(),n):Zue(t(),n),s=()=>WS(o,t,r);return!a||a<=1?Cc(s().clone()):Array(a).fill(void 0).map(s).map(u=>Cc(u.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var qnt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class sfe extends op{constructor(t){if(t.unroll)throw new Fn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(t.cell))throw new Fn("It is not possible at the moment to stack convolutional cells.");super(t),this.inputSpec=[new za({ndim:5})]}call(t,n){return Xe(()=>{if(this.cell.dropoutMask!=null&&(zn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(zn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new $e("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(t,{mask:r,training:a,initialState:i})})}computeOutputShape(t){let n=this.computeSingleOutputShape(t);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([t[0],...n.slice(-3)])]),n}getInitialState(t){return Xe(()=>{const{stateSize:n}=this.cell,r=t.shape,a=this.computeSingleOutputShape(r),i=[a[0],...a.slice(2)],o=ni(i);return Array.isArray(n)?Array(n.length).fill(o):[o]})}resetStates(t,n=!1){Xe(()=>{if(!this.stateful)throw new uc("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,a=this.computeSingleOutputShape(r),i=[a[0],...a.slice(2)];if(r[0]==null)throw new $e("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>ni(i)):this.states_=[ni(i)];else if(t==null)zn(this.states_),this.keptStates!=null&&(zn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>ni(i)):this.states_[0]=ni(i);else{if(Array.isArray(t)||(t=[t]),t.length!==this.states_.length)throw new $e(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${t.length} state value(s). Input received: ${t}`);n?this.keptStates.push(this.states_.slice()):zn(this.states_);for(let s=0;s<this.states_.length;++s){const l=t[s],u=i;if(!Er(l.shape,u))throw new $e(`State ${s} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[s]=l}}this.states_=this.states_.map(s=>Cc(s.clone()))})}computeSingleOutputShape(t){const{dataFormat:n,filters:r,kernelSize:a,padding:i,strides:o,dilationRate:s}=this.cell,l=n==="channelsFirst",u=t[l?3:2],c=t[l?4:3],f=Cu(u,a[0],i,o[0],s[0]),d=Cu(c,a[1],i,o[1],s[1]);return[...t.slice(0,2),...l?[r,f,d]:[f,d,r]]}}sfe.className="ConvRNN2D";class R6 extends eN{constructor(t){const{filters:n,kernelSize:r,strides:a,padding:i,dataFormat:o,dilationRate:s}=t;super(Object.assign(Object.assign({},t),{units:n})),this.filters=n,ri(this.filters,"filters"),this.kernelSize=Mm(r,2,"kernelSize"),this.kernelSize.forEach(l=>ri(l,"kernelSize")),this.strides=Mm(a||1,2,"strides"),this.strides.forEach(l=>ri(l,"strides")),this.padding=i||"valid",Zs(this.padding),this.dataFormat=o||"channelsLast",Ta(this.dataFormat),this.dilationRate=Mm(s||1,2,"dilationRate"),this.dilationRate.forEach(l=>ri(l,"dilationRate"))}build(t){var n;t=xr(t);const r=this.dataFormat==="channelsFirst"?1:t.length-1;if(t[r]==null)throw new $e(`The channel dimension of the input should be defined. Found ${t[r]}`);const a=t[r],i=4,o=this.kernelSize.concat([a,this.filters*i]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const s=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",s,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,c=this.filters;l=new(n=class extends Wl{apply(d,h){const p=u.apply([c]),v=ap([c]),g=u.apply([c*2]);return v6([p,v,g])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(t,n){return Xe(()=>{if(t.length!==3)throw new $e(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${t.length}.`);const r=n.training||!1,a=t[0],i=t[1],o=t[2],s=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=$h({ones:()=>Pl(a),rate:this.dropout,training:r,count:s,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(W,U,V)=>!U||!U[V]?W:Pe(U[V],W);let c=u(a,l,0),f=u(a,l,1),d=u(a,l,2),h=u(a,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=$h({ones:()=>Pl(i),rate:this.recurrentDropout,training:r,count:s,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let v=u(i,p,0),g=u(i,p,1),m=u(i,p,2),y=u(i,p,3);const b=3,[x,_,S,C]=Hs(this.kernel.read(),s,b),[k,T,I,E]=this.useBias?Hs(this.bias.read(),s):[null,null,null,null];c=this.inputConv(c,x,k,this.padding),f=this.inputConv(f,_,T,this.padding),d=this.inputConv(d,S,I,this.padding),h=this.inputConv(h,C,E,this.padding);const[A,N,L,R]=Hs(this.recurrentKernel.read(),s,b);v=this.recurrentConv(v,A),g=this.recurrentConv(g,N),m=this.recurrentConv(m,L),y=this.recurrentConv(y,R);const D=this.recurrentActivation.apply(Et(c,v)),P=this.recurrentActivation.apply(Et(f,g)),O=Et(Pe(P,o),Pe(D,this.activation.apply(Et(d,m)))),M=Pe(this.recurrentActivation.apply(Et(h,y)),this.activation.apply(O));return[M,M,O]})}getConfig(){const t=super.getConfig(),n=qnt(t,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(t,n,r,a){const i=vg(t,n,this.strides,a||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?Wu(i,r,this.dataFormat):i}recurrentConv(t,n){return vg(t,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}R6.className="ConvLSTM2DCell";bt(R6);class lfe extends sfe{constructor(t){const n=new R6(t);super(Object.assign(Object.assign({},t),{cell:n}))}static fromConfig(t,n){return new t(n)}}lfe.className="ConvLSTM2D";bt(lfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class M6 extends Yn{constructor(t){super(t),this.rate=Math.max(Math.min(t.rate,1),0),this.noiseShape=t.noiseShape,this.seed=t.seed,this.supportsMasking=!0}getNoiseShape(t){if(this.noiseShape==null)return this.noiseShape;const n=t.shape,r=[];for(let a=0;a<this.noiseShape.length;++a)r.push(this.noiseShape[a]==null?n[a]:this.noiseShape[a]);return r}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t);if(0<this.rate&&this.rate<1){const a=n.training==null?!1:n.training,i=this.getNoiseShape(r);return WS(()=>Zue(r,this.rate,i,this.seed),()=>r,a)}return t})}getConfig(){const t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(t,n),t}dispose(){return super.dispose()}}M6.className="Dropout";bt(M6);class ufe extends M6{constructor(t){super(t),this.inputSpec=[{ndim:3}]}getNoiseShape(t){const n=t.shape;return[n[0],1,n[2]]}}ufe.className="SpatialDropout1D";bt(ufe);class cfe extends Yn{constructor(t){if(super(t),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",t.batchInputShape==null&&t.inputShape==null&&t.inputDim!=null){let n=null;t.batchSize!=null&&(n=t.batchSize),this.batchInputShape=[n,t.inputDim]}this.units=t.units,ri(this.units,"units"),this.activation=Mh(t.activation),t.useBias!=null&&(this.useBias=t.useBias),this.kernelInitializer=oa(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=oa(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Ka(t.kernelConstraint),this.biasConstraint=Ka(t.biasConstraint),this.kernelRegularizer=sa(t.kernelRegularizer),this.biasRegularizer=sa(t.biasRegularizer),this.activityRegularizer=sa(t.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(t){t=xr(t);const n=t[t.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(t){t=xr(t);const n=t.slice();return n[n.length-1]=this.units,n}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t),a=Uue(this.activation.getClassName());let i;return a!=null?i=Ic(r,this.kernel.read(),a,this.bias?this.bias.read():null):(i=Ic(r,this.kernel.read()),this.bias!=null&&(i=Wu(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const t={units:this.units,activation:Rh(this.activation),useBias:this.useBias,kernelInitializer:fa(this.kernelInitializer),biasInitializer:fa(this.biasInitializer),kernelRegularizer:Wr(this.kernelRegularizer),biasRegularizer:Wr(this.biasRegularizer),activityRegularizer:Wr(this.activityRegularizer),kernelConstraint:Ga(this.kernelConstraint),biasConstraint:Ga(this.biasConstraint)},n=super.getConfig();return Object.assign(t,n),t}}cfe.className="Dense";bt(cfe);class ffe extends Yn{constructor(t){t=t||{},super(t),this.inputSpec=[{minNDim:3}],this.dataFormat=t.dataFormat}computeOutputShape(t){t=xr(t);for(const n of t.slice(1))if(n==null)throw new $e(`The shape of the input to "Flatten" is not fully defined (got ${t.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[t[0],ph(t,1)]}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);let r=Tn(t);if(this.dataFormat==="channelsFirst"&&r.rank>1){const a=[0];for(let i=2;i<r.rank;++i)a.push(i);a.push(1),r=hr(r,a)}return Itt(r)})}getConfig(){const t={};this.dataFormat!=null&&(t.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(t,n),t}}ffe.className="Flatten";bt(ffe);class dfe extends Yn{constructor(t){super(t),this.supportsMasking=!0,this.activation=Mh(t.activation)}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t);return this.activation.apply(r)})}getConfig(){const t={activation:Rh(this.activation)},n=super.getConfig();return Object.assign(t,n),t}}dfe.className="Activation";bt(dfe);class hfe extends Yn{constructor(t){super(t),this.n=t.n,this.inputSpec=[{ndim:2}]}computeOutputShape(t){return[t[0],this.n,t[1]]}call(t,n){return Xe(()=>(t=Tn(t),Ttt(t,this.n)))}getConfig(){const t={n:this.n},n=super.getConfig();return Object.assign(t,n),t}}hfe.className="RepeatVector";bt(hfe);class pfe extends Yn{constructor(t){super(t),this.targetShape=t.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(t){return t<0||t==null}fixUnknownDimension(t,n){const r="Total size of new array must be unchanged.",a=n.slice();let i=1,o=null;for(let l=0;l<a.length;++l){const u=a[l];if(this.isUnknown(u))if(o===null)o=l;else throw new $e("Can only specifiy one unknown dimension.");else i*=u}const s=ph(t);if(o!==null){if(i===0||s%i!==0)throw new $e(r);a[o]=s/i}else if(s!==i)throw new $e(r);return a}computeOutputShape(t){let n=!1;for(let r=0;r<t.length;++r)if(this.isUnknown(t[r])){n=!0;break}return n?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t),a=r.shape,i=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return He(r,i)})}getConfig(){const t={targetShape:this.targetShape},n=super.getConfig();return Object.assign(t,n),t}}pfe.className="Reshape";bt(pfe);class vfe extends Yn{constructor(t){if(super(t),t.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${t.dims} instead.`);const n=$u(1,t.dims.length+1);if(!Er(t.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=t.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new za({ndim:this.dims.length+1})]}computeOutputShape(t){t=xr(t);const n=t.slice();return this.dims.forEach((r,a)=>{n[a+1]=t[r]}),n}call(t,n){return hr(Tn(t),this.dimsIncludingBatch)}getConfig(){const t={dims:this.dims},n=super.getConfig();return Object.assign(t,n),t}}vfe.className="Permute";bt(vfe);class gfe extends Yn{constructor(t){super(t??{}),this.supportsMasking=!0,t!=null?this.maskValue=t.maskValue==null?0:t.maskValue:this.maskValue=0}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,t),n}computeMask(t,n){const r=Tn(t);return $P(yI(r,this.maskValue),-1)}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t),o=$P(yI(r,this.maskValue),-1,!0);return Pe(r,Ut(o,r.dtype))})}}gfe.className="Masking";bt(gfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class mfe extends Yn{constructor(t){if(super(t),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",t.batchInputShape==null&&t.inputShape==null){let n=null;t.batchSize!=null&&(n=t.batchSize),t.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Rr(t.inputLength))}this.inputDim=t.inputDim,ri(this.inputDim,"inputDim"),this.outputDim=t.outputDim,ri(this.outputDim,"outputDim"),this.embeddingsInitializer=oa(t.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=sa(t.embeddingsRegularizer),this.activityRegularizer=sa(t.activityRegularizer),this.embeddingsConstraint=Ka(t.embeddingsConstraint),this.maskZero=t.maskZero,this.supportsMasking=t.maskZero,this.inputLength=t.inputLength}build(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(t){}computeMask(t,n){return Xe(()=>this.maskZero?(t=Tn(t),yI(t,gr(t))):null)}computeOutputShape(t){if(t=xr(t),this.inputLength==null)return[...t,this.outputDim];const n=Rr(this.inputLength);if(n.length!==t.length-1)throw new $e(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);{let r=0;for(let a=0;a<n.length;++a){const i=n[a],o=t[a+1];if(i!=null&&o!=null&&i!==o)throw new $e(`"inputLength" is ${this.inputLength}, but received input shape has shape ${t}`);i==null&&(n[r]=o),r++}}return[t[0],...n,this.outputDim]}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);let r=Tn(t);r.dtype!=="int32"&&(r=kc(r,"int32"));const a=que(this.embeddings.read(),He(r,[r.size]));return He(a,xr(this.computeOutputShape(r.shape)))})}getConfig(){const t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:fa(this.embeddingsInitializer),embeddingsRegularizer:Wr(this.embeddingsRegularizer),activityRegularizer:Wr(this.activityRegularizer),embeddingsConstraint:Ga(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(t,n),t}}mfe.className="Embedding";bt(mfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Ug extends Yn{constructor(t){super(t||{}),this.supportsMasking=!0}mergeFunction(t){throw new Fn}computeElementwiseOpOutputShape(t,n){if(t==null||n==null)return null;if(t.length<n.length)return this.computeElementwiseOpOutputShape(n,t);if(n.length===0)return t;const r=t.slice(0,t.length-n.length);for(let a=0;a<n.length;++a){const i=t[t.length-n.length+a],o=n[a];if(i==null||o==null||i<0||o<0)r.push(null);else if(i===1)r.push(o);else if(o===1)r.push(i);else{if(i!==o)throw new $e("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(n));r.push(i)}}return r}build(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[xr(t)]),t=t,t.length<2)throw new $e(`A merge layer should be called on an Array of at least 2 inputs. Got ${t.length} input(s).`);let n=[];for(const i of t)i!=null&&i[0]!==null&&n.push(i[0]);if(n=hh(n),n.length>1)throw new $e(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(t)}.`);let r=t[0]==null?null:t[0].slice(1);for(let i=1;i<t.length;++i){const o=t[i]==null?null:t[i].slice(1);r=this.computeElementwiseOpOutputShape(r,o)}const a=t.map(i=>i.length);t.indexOf(null)===-1&&hh(a).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(t,n){return Xe(()=>{if(t=t,this.reshapeRequired){const r=[],a=t.map(i=>i.rank);if(a.indexOf(null)===-1){const i=Nh(a);for(let o of t){const s=o.rank;for(let l=0;l<i-s;++l)o=VS(o,1);r.push(o)}return this.mergeFunction(r)}else{let i=!1;for(const l of t){const u=l.rank;if(u==null){const c=l.shape,f=c[0],d=c.slice(1).concat([f]);let h=He(l,[f].concat(ph(c.slice(1))));h=hr(h,[1,0]),h=He(h,d),r.push(h),i=!0}else if(u>1){const c=$u(1,u).concat([0]);r.push(hr(l,c)),i=!0}else r.push(l)}let o=this.mergeFunction(r);const s=o.rank;if(i){if(s==null){const l=o.shape,u=l.length,c=l[u-1],f=[c].concat(l.slice(0,l.length-1));o=He(hr(He(o,[-1,c]),[1,0]),f)}else if(s>1){const l=[s-1].concat($u(0,s-1));o=hr(o,l)}}return o}}else return this.mergeFunction(t)})}computeOutputShape(t){t=t;let n;t[0]==null?n=null:n=t[0].slice(1);for(let a=1;a<t.length;++a){const i=t[a]==null?null:t[a].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const a of t)a!=null&&a[0]!==null&&r.push(a[0]);return r=hh(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(t,n){return Xe(()=>{if(n==null)return null;if(!Array.isArray(n))throw new $e("`mask` should be an Array");if(!Array.isArray(t))throw new $e("`inputs` should be an Array");if(n.length!==t.length)throw new $e(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${t.length} vs ${n.length})`);if(n.every(a=>a==null))return null;n=n.map(a=>a==null?a:zo(a,0));let r=n[0];for(let a=1;a<n.length-1;++a)r=Hf(r,n[a]);return r})}}class yfe extends Ug{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=Et(n,t[r]);return n})}}yfe.className="Add";bt(yfe);class bfe extends Ug{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=Pe(n,t[r]);return n})}}bfe.className="Multiply";bt(bfe);class xfe extends Ug{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0].clone();for(let r=1;r<t.length;++r)n=Et(n,t[r]);return Pe(1/t.length,n)})}}xfe.className="Average";bt(xfe);class wfe extends Ug{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0];for(let r=1;r<t.length;++r)n=rp(n,t[r]);return n})}}wfe.className="Maximum";bt(wfe);class _fe extends Ug{constructor(t){super(t)}mergeFunction(t){return Xe(()=>{let n=t[0];for(let r=1;r<t.length;++r)n=pw(n,t[r]);return n})}}_fe.className="Minimum";bt(_fe);class Sfe extends Ug{constructor(t){super(t),this.DEFAULT_AXIS=-1,t==null&&(t={}),this.axis=t.axis==null?this.DEFAULT_AXIS:t.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){if(!(Array.isArray(t)&&Array.isArray(t[0]))||t.length===1)throw new $e("A `Concatenate` layer should be called on a list of at least 2 inputs");t=t;let n=!0;for(const a of t)if(a!=null){n=!1;break}if(n)return;const r=[];for(let a=0;a<t.length;++a){const i=t[a].slice();i.splice(this.axis,1);let o=!1;for(const s of r)if(Er(s,i)){o=!0;break}o||r.push(i)}if(r.length>1)throw new $e("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}mergeFunction(t){return Xe(()=>v6(t,this.axis))}computeOutputShape(t){if(!(Array.isArray(t)&&Array.isArray(t[0])))throw new $e("A `Concatenate` layer should be called on a list of inputs.");const n=t,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[a]==null||i[a]==null){r[a]=null;break}r[a]+=i[a]}return r}computeMask(t,n){if(n==null)return null;if(!Array.isArray(n))throw new $e("`mask` should be an array for Concatenate");if(!Array.isArray(t))throw new $e("`inputs` should be an array for Concatenate");if(n.length!==t.length)throw new $e(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${t.length})`);return Xe(()=>{let r=!0;if(n.forEach(o=>{if(o!=null){r=!1;return}}),r)return null;const a=[];for(let o=0;o<t.length;++o)n[o]==null?a.push(Ut(Pl(t[o]),"bool")):n[o].rank<t[o].rank?a.push(zo(n[o],-1)):a.push(n[o]);const i=Xo(a,this.axis);return _le(i,-1,!1)})}getConfig(){const t={axis:this.axis},n=super.getConfig();return Object.assign(t,n),t}}Sfe.className="Concatenate";bt(Sfe);function U1(e,t){for(;e<0;)e+=t;return e}function Znt(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Fn("batchDot is not implemented for tensors of 4D or higher rank yet");if(pe(e.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`),pe(e.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),typeof n=="number"&&(n=[n,n]),e.dtype==="complex64"||t.dtype==="complex64")throw new Fn("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,a=t.shape.length;n==null&&(n=[r-1,a-2]);const i=n;return Xe(()=>{let o;if(r>a){o=r-a;const l=[];for(let u=0;u<o;++u)l.push(1);t=He(t,t.shape.concat(l))}else if(a>r){o=a-r;const l=[];for(let u=0;u<o;++u)l.push(1);e=He(e,e.shape.concat(l))}else o=0;let s;if(e.shape.length===2&&t.shape.length===2)i[0]===i[1]?s=pn(Pe(e,t),i[0]):s=pn(Pe(hr(e,[1,0]),t),i[1]);else{const l=i[0]!==e.shape.length-1,u=i[1]===t.shape.length-1;s=Tr(e,t,l,u)}if(o>0){let l;r>a?l=r+a-3:l=r-1;const u=[];for(let c=l;c<l+o;++c)u.push(c);s=$S(s,u)}return s.shape.length===1&&(s=zo(s,1)),s})}class Cfe extends Ug{constructor(t){super(t),this.axes=t.axes,this.normalize=t.normalize==null?!1:t.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(t){pe(Array.isArray(t)&&t.length===2&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=t[0],r=t[1];if(n.length>3||r.length>3)throw new Fn("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(n,r);if(n[a[0]]!==r[a[1]])throw new $e(`Dimension incompatibility: ${n[a[0]]} !== ${r[a[1]]}`)}mergeFunction(t){if(t.length!==2)throw new $e(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${t.length} input(s).`);let n=t[0],r=t[1],a;return Array.isArray(this.axes)?a=this.axes.map((i,o)=>U1(i,t[o].shape.length)):a=[U1(this.axes,n.shape.length),U1(this.axes,r.shape.length)],this.normalize&&(n=TI(n,a[0]),r=TI(r,a[1])),Znt(n,r,a)}interpretAxes(t,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[U1(this.axes,t.length),U1(this.axes,n.length)],r}computeOutputShape(t){pe(Array.isArray(t)&&t.length===2&&Array.isArray(t[0])&&Array.isArray(t[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=t[0].slice(),r=t[1].slice();if(n.length>3||r.length>3)throw new Fn("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(n,r);n.splice(a[0],1),r.splice(a[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(t,n){return null}getConfig(){const t={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(t,n),t}}Cfe.className="Dot";bt(Cfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Tfe extends Yn{constructor(t){super(t),this.supportsMasking=!0,this.stddev=t.stddev}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,t),n}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t);return WS(()=>Et(jD(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}Tfe.className="GaussianNoise";bt(Tfe);class kfe extends Yn{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={rate:this.rate};return Object.assign(n,t),n}call(t,n){return Xe(()=>{this.invokeCallHook(t,n);const r=Tn(t);return this.rate>0&&this.rate<1?WS(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return Pe(r,jD(r.shape,1,i))},()=>r,n.training||!1):r})}}kfe.className="GaussianDropout";bt(kfe);class Ife extends Yn{constructor(t){super(t),this.supportsMasking=!0,this.rate=t.rate,this.noiseShape=t.noiseShape}_getNoiseShape(t){return this.noiseShape||Tn(t).shape}computeOutputShape(t){return t}getConfig(){const t=super.getConfig(),n={rate:this.rate};return Object.assign(n,t),n}call(t,n){return Xe(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(t);return WS(()=>{const i=Tn(t),l=-1.6732632423543772*1.0507009873554805;let u=Bg(MS(r),this.rate);u=kc(u,"float32");const c=((1-this.rate)*(1+this.rate*l**2))**-.5,f=-c*l*this.rate,d=Et(Pe(i,u),Pe(Et(u,-1),l));return Et(Pe(d,c),f)},()=>Tn(t),n.training||!1)}return t})}}Ife.className="AlphaDropout";bt(Ife);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function bw(e,t,n,r,a,i=.001){let o;if(e.rank===2)o=yYe(e,t,n,r,a,i);else if(e.rank===3)o=xYe(e,t,n,r,a,i);else if(e.rank===4)o=_Ye(e,t,n,r,a,i);else throw new Fn(`batchNormalization is not implemented for array of rank ${e.rank} yet`);return o}function Jnt(e,t,n,r,a=.001){return Xe(()=>{const i=_z(e,r),o=i.mean,s=i.variance;return[bw(e,o,s,n,t,a),o,s]})}function Qnt(e,t,n,r,a=.001){return Xe(()=>{const i=_z(e,r),o=i.mean,s=i.variance,l=[];for(const p of $u(0,e.rank))r.indexOf(p)!==-1?l.push(1):l.push(e.shape[p]);const u=He(o,l),c=He(s,l),f=t==null?null:He(t,l),d=n==null?null:He(n,l);return[bw(e,u,c,d,f,a),o,s]})}function ert(e,t,n,r,a=.001){return Er(r.slice().sort(),$u(0,e.rank-1))?Jnt(e,t,n,r,a):Qnt(e,t,n,r,a)}class Efe extends Yn{constructor(t){t==null&&(t={}),super(t),this.supportsMasking=!0,this.axis=t.axis==null?-1:t.axis,this.momentum=t.momentum==null?.99:t.momentum,this.epsilon=t.epsilon==null?.001:t.epsilon,this.center=t.center==null?!0:t.center,this.scale=t.scale==null?!0:t.scale,this.betaInitializer=oa(t.betaInitializer||"zeros"),this.gammaInitializer=oa(t.gammaInitializer||"ones"),this.movingMeanInitializer=oa(t.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=oa(t.movingVarianceInitializer||"ones"),this.betaConstraint=Ka(t.betaConstraint),this.gammaConstraint=Ka(t.gammaConstraint),this.betaRegularizer=sa(t.betaRegularizer),this.gammaRegularizer=sa(t.gammaRegularizer)}build(t){t=xr(t);const n=this.axis>=0?this.axis:this.axis+t.length,r=t[n];if(r==null)throw new $e(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(t)}.`);this.inputSpec=[new za({ndim:t.length,axes:{[n]:r}})];const a=[r];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(t,n){return Xe(()=>{const r=n.training==null?!1:n.training,a=Tn(t),i=a.shape,o=i.length,s=$u(0,o),l=this.axis>=0?this.axis:this.axis+o;s.splice(l,1);const u=bg(1,o);u[l]=i[l];const c=s.slice();c.sort();const f=!Er(c,$u(0,o).slice(0,o-1)),d=()=>{if(f){const y=He(this.movingMean.read(),u),b=He(this.movingVariance.read(),u),x=this.center?He(this.beta.read(),u):null,_=this.scale?He(this.gamma.read(),u):null;return bw(a,y,b,x,_,this.epsilon)}else return bw(a,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return d();const[h,p,v]=ert(a,this.gamma.read(),this.beta.read(),s,this.epsilon),g=(y,b,x)=>{Xe(()=>{const _=1-x,S=y.read(),C=Pe(Sn(S,b),_);y.write(Sn(S,C))})};return(()=>{g(this.movingMean,p,this.momentum),g(this.movingVariance,v,this.momentum)})(),h})}getConfig(){const t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:fa(this.betaInitializer),gammaInitializer:fa(this.gammaInitializer),movingMeanInitializer:fa(this.movingMeanInitializer),movingVarianceInitializer:fa(this.movingVarianceInitializer),betaRegularizer:Wr(this.betaRegularizer),gammaRegularizer:Wr(this.gammaRegularizer),betaConstraint:Ga(this.betaConstraint),gammaConstraint:Ga(this.gammaConstraint)},n=super.getConfig();return Object.assign(t,n),t}}Efe.className="BatchNormalization";bt(Efe);class Afe extends Yn{constructor(t){if(t==null&&(t={}),super(t),this.axis=t.axis==null?-1:t.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=t.epsilon==null?.001:t.epsilon,this.center=t.center==null?!0:t.center,this.scale=t.scale==null?!0:t.scale,this.betaInitializer=oa(t.betaInitializer||"zeros"),this.gammaInitializer=oa(t.gammaInitializer||"ones"),this.betaRegularizer=sa(t.betaRegularizer),this.gammaRegularizer=sa(t.gammaRegularizer),this.supportsMasking=!0}build(t){t=xr(t);const n=t.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==hh(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>t[i]),a=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,a):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,a):this.beta=null,this.built=!0}call(t,n){const r=Tn(t),a=r.shape,i=a.length;return Xe(()=>{let{mean:s,variance:l}=_z(r,this.axis,!0);const u=bg(1,i);for(const v of this.axis)u[v]=a[v];const c=v=>v!=null&&v.shape.length!==i?He(v,u):v;let f=this.scale?c(this.gamma.read()):null,d=this.center?c(this.beta.read()):null;const h=[],p=[];for(let v=0;v<i;++v)this.axis.indexOf(v)!==-1?(h.push(a[v]),p.push(1)):(h.push(1),p.push(a[v]));return s=pu(s,h),l=pu(l,h),f!=null&&(f=pu(f,p)),d!=null&&(d=pu(d,p)),bw(r,s,l,d,f,this.epsilon)})}getConfig(){const t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:fa(this.betaInitializer),gammaInitializer:fa(this.gammaInitializer),betaRegularizer:Wr(this.betaRegularizer),gammaRegularizer:Wr(this.gammaRegularizer)},n=super.getConfig();return Object.assign(t,n),t}}Afe.className="LayerNormalization";bt(Afe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function trt(e,t,n){return Xe(()=>{if(e.rank!==4)throw new $e(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(t==null&&(t=[[1,1],[1,1]]),t.length!==2||t[0].length!==2||t[1].length!==2)throw new $e("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=Lu()),n!=="channelsLast"&&n!=="channelsFirst")throw new $e(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],t[0],t[1]]:r=[[0,0],t[0],t[1],[0,0]],Sz(e,r)})}class Dfe extends Yn{constructor(t){if(t==null&&(t={}),super(t),this.dataFormat=t.dataFormat==null?Lu():t.dataFormat,t.padding==null)this.padding=[[1,1],[1,1]];else if(typeof t.padding=="number")this.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,t.padding.length!==2)throw new $e(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${t.padding.length} array.`);let n,r;if(typeof t.padding[0]=="number")n=[t.padding[0],t.padding[0]],r=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,t.padding[0].length!==2)throw new $e(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${t.padding[0].length} array.`);if(n=t.padding[0],t.padding[1].length!==2)throw new $e(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${t.padding[1].length} array.`);r=t.padding[1]}this.padding=[n,r]}this.inputSpec=[new za({ndim:4})]}computeOutputShape(t){t=xr(t);let n,r;return this.dataFormat==="channelsFirst"?(t[2]!=null&&t[2]>=0?n=t[2]+this.padding[0][0]+this.padding[0][1]:n=null,t[3]!=null&&t[3]>=0?r=t[3]+this.padding[1][0]+this.padding[1][1]:r=null,[t[0],t[1],n,r]):(t[1]!=null&&t[1]>=0?n=t[1]+this.padding[0][0]+this.padding[0][1]:n=null,t[2]!=null&&t[2]>=0?r=t[2]+this.padding[1][0]+this.padding[1][1]:r=null,[t[0],n,r,t[3]])}call(t,n){return Xe(()=>trt(Tn(t),this.padding,this.dataFormat))}getConfig(){const t={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}Dfe.className="ZeroPadding2D";bt(Dfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function tN(e,t,n,r,a,i){return Xe(()=>{Ta(a),Kue(i),Zs(r),n==null&&(n=[1,1]),r==null&&(r="valid"),a==null&&(a=Lu()),i==null&&(i="max"),e=E6(e,a);let o;const s=r==="same"?"same":"valid";return i==="max"?o=wz(e,t,n,s):o=fz(e,t,n,s),a==="channelsFirst"&&(o=hr(o,[0,3,1,2])),o})}function Nfe(e,t,n,r,a,i){return Xe(()=>{Ta(a),Kue(i),Zs(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),a==null&&(a=Lu()),i==null&&(i="max"),e=Yce(e,a);let o;const s=r==="same"?"same":"valid";return i==="max"?o=oqe(e,t,n,s):o=lYe(e,t,n,s),a==="channelsFirst"&&(o=hr(o,[0,4,1,2,3])),o})}class Rfe extends Yn{constructor(t){if(t.poolSize==null&&(t.poolSize=2),super(t),typeof t.poolSize=="number")this.poolSize=[t.poolSize];else if(Array.isArray(t.poolSize)&&t.poolSize.length===1&&typeof t.poolSize[0]=="number")this.poolSize=t.poolSize;else throw new $e(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.poolSize)}`);if(ri(this.poolSize,"poolSize"),t.strides==null)this.strides=this.poolSize;else if(typeof t.strides=="number")this.strides=[t.strides];else if(Array.isArray(t.strides)&&t.strides.length===1&&typeof t.strides[0]=="number")this.strides=t.strides;else throw new $e(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.strides)}`);ri(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,Zs(this.padding),this.inputSpec=[new za({ndim:3})]}computeOutputShape(t){t=xr(t);const n=Cu(t[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],n,t[2]]}call(t,n){return Xe(()=>{this.invokeCallHook(t,n),t=VS(Tn(t),2);const r=this.poolingFunction(Tn(t),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return $S(r,[2])})}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(t,n),t}}class Mfe extends Rfe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Zs(a),tN(t,n,r,a,i,"max")}}Mfe.className="MaxPooling1D";bt(Mfe);class $fe extends Rfe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Zs(a),tN(t,n,r,a,i,"avg")}}$fe.className="AveragePooling1D";bt($fe);class Lfe extends Yn{constructor(t){if(t.poolSize==null&&(t.poolSize=[2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],t.strides==null)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(t.strides.length!==2)throw new $e(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides];ri(this.poolSize,"poolSize"),ri(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Ta(this.dataFormat),Zs(this.padding),this.inputSpec=[new za({ndim:4})]}computeOutputShape(t){t=xr(t);let n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2];return n=Cu(n,this.poolSize[0],this.padding,this.strides[0]),r=Cu(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[t[0],t[1],n,r]:[t[0],n,r,t[3]]}call(t,n){return Xe(()=>(this.invokeCallHook(t,n),this.poolingFunction(Tn(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class Ofe extends Lfe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Zs(a),tN(t,n,r,a,i,"max")}}Ofe.className="MaxPooling2D";bt(Ofe);class Pfe extends Lfe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Zs(a),tN(t,n,r,a,i,"avg")}}Pfe.className="AveragePooling2D";bt(Pfe);class Ffe extends Yn{constructor(t){if(t.poolSize==null&&(t.poolSize=[2,2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],t.strides==null)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(t.strides.length!==3)throw new $e(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides,t.strides];ri(this.poolSize,"poolSize"),ri(this.strides,"strides"),this.padding=t.padding==null?"valid":t.padding,this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Ta(this.dataFormat),Zs(this.padding),this.inputSpec=[new za({ndim:5})]}computeOutputShape(t){t=xr(t);let n=this.dataFormat==="channelsFirst"?t[2]:t[1],r=this.dataFormat==="channelsFirst"?t[3]:t[2],a=this.dataFormat==="channelsFirst"?t[4]:t[3];return n=Cu(n,this.poolSize[0],this.padding,this.strides[0]),r=Cu(r,this.poolSize[1],this.padding,this.strides[1]),a=Cu(a,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[t[0],t[1],n,r,a]:[t[0],n,r,a,t[4]]}call(t,n){return Xe(()=>(this.invokeCallHook(t,n),this.poolingFunction(Tn(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class Bfe extends Ffe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Zs(a),Nfe(t,n,r,a,i,"max")}}Bfe.className="MaxPooling3D";bt(Bfe);class Vfe extends Ffe{constructor(t){super(t)}poolingFunction(t,n,r,a,i){return Ta(i),Zs(a),Nfe(t,n,r,a,i,"avg")}}Vfe.className="AveragePooling3D";bt(Vfe);class zfe extends Yn{constructor(t){super(t),this.inputSpec=[new za({ndim:3})]}computeOutputShape(t){return[t[0],t[2]]}call(t,n){throw new Fn}}class Wfe extends zfe{constructor(t){super(t||{})}call(t,n){return Xe(()=>{const r=Tn(t);return Aa(r,1)})}}Wfe.className="GlobalAveragePooling1D";bt(Wfe);class Hfe extends zfe{constructor(t){super(t||{})}call(t,n){return Xe(()=>{const r=Tn(t);return Su(r,1)})}}Hfe.className="GlobalMaxPooling1D";bt(Hfe);class Ufe extends Yn{constructor(t){super(t),this.dataFormat=t.dataFormat==null?"channelsLast":t.dataFormat,Ta(this.dataFormat),this.inputSpec=[new za({ndim:4})]}computeOutputShape(t){return t=t,this.dataFormat==="channelsLast"?[t[0],t[3]]:[t[0],t[1]]}call(t,n){throw new Fn}getConfig(){const t={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(t,n),t}}class Gfe extends Ufe{call(t,n){return Xe(()=>{const r=Tn(t);return this.dataFormat==="channelsLast"?Aa(r,[1,2]):Aa(r,[2,3])})}}Gfe.className="GlobalAveragePooling2D";bt(Gfe);class Kfe extends Ufe{call(t,n){return Xe(()=>{const r=Tn(t);return this.dataFormat==="channelsLast"?Su(r,[1,2]):Su(r,[2,3])})}}Kfe.className="GlobalMaxPooling2D";bt(Kfe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class jfe extends Yn{constructor(t){super(t),this.layer=t.layer}build(t){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(t){this.layer!=null&&(this.layer.trainable=t)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(t){this.layer.setWeights(t)}getConfig(){const t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(t,n),t}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(t)}static fromConfig(t,n,r={}){const a=n.layer,i=Ec(a,r);delete n.layer;const o={layer:i};return Object.assign(o,n),new t(o)}}class Yfe extends jfe{constructor(t){super(t),this.supportsMasking=!0}build(t){if(t=xr(t),t.length<3)throw new $e(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(t)}`);this.inputSpec=[{shape:t}];const n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(t)}computeOutputShape(t){t=xr(t);const n=[t[0]].concat(t.slice(2)),r=this.layer.computeOutputShape(n),a=t[1];return[r[0],a].concat(r.slice(1))}call(t,n){return Xe(()=>(t=Tn(t),rfe((o,s)=>[Tn(this.layer.call(o,n)),[]],t,[],!1,null,null,!1,!0)[1]))}}Yfe.className="TimeDistributed";bt(Yfe);function nrt(e){Hg(xtt,"BidirectionalMergeMode",e)}const rrt="concat";class Xfe extends jfe{constructor(t){super(t);const n=t.layer.getConfig(),r={};r.className=t.layer.getClassName(),r.config=n,this.forwardLayer=Ec(r),n.goBackwards=n.goBackwards!==!0;const a={};if(a.className=t.layer.getClassName(),a.config=n,this.backwardLayer=Ec(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=t.mergeMode===void 0?rrt:t.mergeMode,nrt(this.mergeMode),t.weights)throw new Fn("weights support is not implemented for Bidirectional layer yet.");this._stateful=t.layer.stateful,this.returnSequences=t.layer.returnSequences,this.returnState=t.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=t.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(t){this._trainable=t,this.forwardLayer!=null&&(this.forwardLayer.trainable=t),this.backwardLayer!=null&&(this.backwardLayer.trainable=t)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(t){const n=t.length,r=Math.floor(n/2);this.forwardLayer.setWeights(t.slice(0,r)),this.backwardLayer.setWeights(t.slice(r))}computeOutputShape(t){let n=this.forwardLayer.computeOutputShape(t);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,a,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,a=[r]):this.mergeMode==null?a=[r,r.slice()]:a=[r],this.returnState?this.mergeMode==null?a.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):Wo(a)}apply(t,n){let r=n==null?null:n.initialState,a=n==null?null:n.constants;n==null&&(n={});const i=nfe(t,r,a,this.numConstants);if(t=i.inputs,r=i.initialState,a=i.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(r==null||r.length===0)&&a==null)return super.apply(t,n);const o=[],s=[];if(r!=null){const u=r.length;if(u%2>0)throw new $e("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push(...r);const c=r.map(f=>new za({shape:f.shape}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),s.push(...c)}if(a!=null)throw new Fn("Support for constants in Bidirectional layers is not implemented yet.");const l=o[0]instanceof Fc;for(const u of o)if(u instanceof Fc!==l)throw new $e("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[t].concat(o),c=this.inputSpec.concat(s),f=this.inputSpec;this.inputSpec=c;const d=super.apply(u,n);return this.inputSpec=f,d}else return super.apply(t,n)}call(t,n){return Xe(()=>{const r=n.initialState;let a,i;if(r==null)a=this.forwardLayer.call(t,n),i=this.backwardLayer.call(t,n);else{const l=r.slice(0,r.length/2),u=r.slice(r.length/2);a=this.forwardLayer.call(t,Object.assign(n,{initialState:l})),i=this.backwardLayer.call(t,Object.assign(n,{initialState:u}))}let o;this.returnState&&(Array.isArray(a)&&(o=a.slice(1).concat(i.slice(1))),a=a[0],i=i[0]),this.returnSequences&&(i=mg(i,1));let s;return this.mergeMode==="concat"?s=v6([a,i]):this.mergeMode==="sum"?s=Et(a,i):this.mergeMode==="ave"?s=Pe(.5,Et(a,i)):this.mergeMode==="mul"?s=Pe(a,i):this.mergeMode==null&&(s=[a,i]),this.returnState?this.mergeMode==null?s.concat(o):[s].concat(o):s})}resetStates(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(t){Bv(this.forwardLayer.name,()=>{this.forwardLayer.build(t)}),Bv(this.backwardLayer.name,()=>{this.backwardLayer.build(t)}),this.built=!0}computeMask(t,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(o=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(t),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(t)}getConfig(){const t={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(t,n),t}static fromConfig(t,n){const r=Ec(n.layer);if(delete n.layer,n.numConstants!=null)throw new Fn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=n;return a.layer=r,new t(a)}}Xfe.className="Bidirectional";bt(Xfe);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class qfe extends Yn{constructor(t){super(t),this.scale=t.scale,t.offset?this.offset=t.offset:this.offset=0}getConfig(){const t={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(t,n),t}call(t,n){return Xe(()=>(t=Tn(t),t.dtype!=="float32"&&(t=kc(t,"float32")),Et(Pe(t,this.scale),this.offset)))}}qfe.className="Rescaling";bt(qfe);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:art,cropAndResize:irt}=Tf;class Zfe extends Yn{constructor(t){super(t),this.height=t.height,this.width=t.width}centerCrop(t,n,r,a,i,o,s,l){return Xe(()=>{let u,c=!1;const f=n/o,d=r/s,h=(a+n)/o,p=(i+r)/s,v=[f,d,h,p],g=[];t.rank===3?(c=!0,u=Uf([t])):u=t;for(let _=0;_<u.shape[0];_++)g.push(v);const m=sx(g,[g.length,4]),y=vw(0,g.length,1,"int32"),x=irt(u,m,y,[a,i],"nearest");return kc(c?Tn(yg(x)):x,l)})}upsize(t,n,r,a){return Xe(()=>{const i=art(t,[n,r]);return kc(i,a)})}call(t,n){return Xe(()=>{const r=Tn(t),a=r.dtype,i=r.shape,o=i[i.length-3],s=i[i.length-2];let l=0;o!==this.height&&(l=Math.floor((o-this.height)/2));let u=0;return s!==this.width&&(u=Math.floor((s-this.width)/2),u===0&&(u=1)),l>=0&&u>=0?this.centerCrop(r,l,u,this.height,this.width,o,s,a):this.upsize(t,this.height,this.width,a)})}getConfig(){const t={height:this.height,width:this.width},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){t=xr(t);const n=t.length-3,r=t.length-2;return t[n]=this.height,t[r]=this.width,t}}Zfe.className="CenterCrop";bt(Zfe);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ort(e,t,n,r){let a=Tn(e);if(a.dtype!=="int32"&&(a=kc(a,"int32")),t==="int")return a;const i=a.shape;if(a.rank===0&&(a=zo(a,-1)),t==="oneHot"&&a.shape[a.shape.length-1]!==1&&(a=zo(a,-1)),a.rank>2)throw new $e(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${i} which would result in output rank ${a.rank}.`);const o=["multiHot","oneHot"].includes(t),s=a;let l;if(typeof r<"u"&&t==="count"?l=z9(s,r,n,o):l=z9(s,[],n,o),t!=="tfIdf")return l;if(r)return Pe(l,r);throw new $e("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Jfe extends Yn{constructor(t){super(t),this.numTokens=t.numTokens,t.outputMode?this.outputMode=t.outputMode:this.outputMode="multiHot"}getConfig(){const t={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){return t=xr(t),t==null?[this.numTokens]:this.outputMode==="oneHot"&&t[t.length-1]!==1?(t.push(this.numTokens),t):(t[t.length-1]=this.numTokens,t)}call(t,n){return Xe(()=>{t=Tn(t),t.dtype!=="int32"&&(t=kc(t,"int32"));let r;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new $e(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);r=Tn(n.countWeights)}const a=Su(t),i=gI(t),o=qs(this.numTokens,a).bufferSync().get(0),s=Bg(i,0).bufferSync().get(0);if(!(o&&s))throw new $e(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return ort(t,this.outputMode,this.numTokens,r)})}}Jfe.className="CategoryEncoding";bt(Jfe);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const srt=["bilinear","nearest"],D7=new Set(srt);class Qfe extends Yn{constructor(t){if(super(t),this.height=t.height,this.width=t.width,t.interpolation)if(D7.has(t.interpolation))this.interpolation=t.interpolation;else throw new $e(`Invalid interpolation parameter: ${t.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!t.cropToAspectRatio}computeOutputShape(t){t=xr(t);const n=t[2];return[this.height,this.width,n]}getConfig(){const t={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(t,n),t}call(t,n){return Xe(()=>{const r=[this.height,this.width];if(this.interpolation==="bilinear")return Tf.resizeBilinear(t,r,!this.cropToAspectRatio);if(this.interpolation==="nearest")return Tf.resizeNearestNeighbor(t,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...D7]} are supported`)})}}Qfe.className="Resizing";bt(Qfe);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ede{constructor(t){this.seed=t}next(){if(this.seed!==void 0)return this.seed++}}ede.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class tde extends Yn{constructor(t){super(t),this.randomGenerator=new ede(t.seed)}getConfig(){const t={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(t,n),t}}tde.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const lrt=["bilinear","nearest"],N7=new Set(lrt);class nde extends tde{constructor(t){super(t);const{factor:n,interpolation:r="bilinear"}=t;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new $e(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new $e(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new $e(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(r)if(N7.has(r))this.interpolation=r;else throw new $e(`Invalid interpolation parameter: ${r} is not implemented`)}getConfig(){const t={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(t,n),t}computeOutputShape(t){t=xr(t);const n=t[2];return[this.imgHeight,-1,n]}call(t,n){return Xe(()=>{const r=Tn(t);this.imgHeight=r.shape[r.shape.length-3];const a=r.shape[r.shape.length-2];this.widthFactor=MS([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let i=this.widthFactor.dataSync()[0]*a;i=Math.round(i);const o=[this.imgHeight,i];switch(this.interpolation){case"bilinear":return Tf.resizeBilinear(t,o);case"nearest":return Tf.resizeNearestNeighbor(t,o);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...N7]} are supported`)}})}}nde.className="RandomWidth";bt(nde);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const urt=tt();urt.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var R7;(function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"})(R7||(R7={}));var M7;(function(e){(function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"})(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))})(M7||(M7={}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var $7;(function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"})($7||($7={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nn(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&pe(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const crt=qle;class nN extends hV{nextDataId(){return nN.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Sse(this,ac())}write(t,n,r){this.firstUse&&(this.firstUse=!1,tt().get("IS_NODE")&&$s(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const a={id:this.nextDataId()};return this.data.set(a,{values:t,dtype:r,refCount:1}),a}makeTensorInfo(t,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&M_(r[0])){const i=r.map(o=>dh(o));a=this.write(i,t,n)}else a=this.write(r,t,n);return{dataId:a,shape:t,dtype:n}}refCount(t){return this.data.has(t)?this.data.get(t).refCount:0}incRef(t){const n=this.data.get(t);n.refCount++}decRef(t){if(this.data.has(t)){const n=this.data.get(t);n.refCount--}}move(t,n,r,a,i){this.data.set(t,{values:n,dtype:a,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(t){return this.readSync(t)}readSync(t){const{dtype:n,complexTensorInfos:r}=this.data.get(t);if(n==="complex64"){const a=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return Gf(a,i)}return cKe(this.data.get(t).values,n)}bufferSync(t){const n=this.readSync(t.dataId);if(t.dtype==="string")try{const r=n.map(a=>Dh(a));return Gn(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Gn(t.shape,t.dtype,n)}makeOutput(t,n,r){return ac().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,t),this)}disposeData(t,n=!1){if(this.data.has(t)){if(this.data.get(t).refCount--,!n&&this.data.get(t).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(t);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(t)}return!0}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}async time(t){const n=Bo();return t(),{kernelMs:Bo()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(t){nn([t],"where");const n=this.readSync(t.dataId);return crt(t.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}nN.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rde(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const frt=e=>{const{x:t}=e.inputs,n=e.backend;nn(t,"abs");let r=new Float32Array(ot(t.shape));const a=n.data.get(t.dataId).values;return r=rde(a),n.makeOutput(r,t.shape,t.dtype)},drt={kernelName:LA,backendName:"cpu",kernelFunc:frt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ka(e){return(t,n,r,a,i)=>{const o=On(t,n),s=o.length,l=dn(o),u=ot(o),c=Ui(i,u),f=t.length,d=n.length,h=dn(t),p=dn(n),v=dy(t,o),g=dy(n,o);if(v.length+g.length===0)for(let m=0;m<c.length;++m)c[m]=e(r[m%r.length],a[m%a.length]);else for(let m=0;m<c.length;++m){const y=qy(m,s,l),b=y.slice(-f);v.forEach(C=>b[C]=0);const x=Sc(b,f,h),_=y.slice(-d);g.forEach(C=>_[C]=0);const S=Sc(_,d,p);c[m]=e(r[x],a[S])}return[c,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ys(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64"),l=n.data.get(s.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},s}const hrt={kernelName:IV,backendName:"cpu",kernelFunc:ys};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NI(e,t,n="float32"){if(n==="complex64"){const a=NI(e,t,"float32"),i=NI(e,t,"float32");return ys({inputs:{real:a,imag:i},backend:e})}const r=Gi(ot(t),n);return e.makeTensorInfo(t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bc(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const prt={kernelName:eS,backendName:"cpu",kernelFunc:Bc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xg(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}const vrt={kernelName:ZV,backendName:"cpu",kernelFunc:xg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ade(e,t,n,r){if(r==="int32"){const a=Int32Array.from(e);return[t,"int32",a]}if(r==="bool"){const a=Fg([0],n),[i,o]=ka((s,l)=>s!==l?1:0)(t,[],e,a,"bool");return[o,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function Lh(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:i}=r;if(i==="complex64"){if(a.dtype==="complex64")return Bc({inputs:{x:a},backend:n});const c=NI(n,a.shape,a.dtype),f=Lh({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),d=ys({inputs:{real:f,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),d}if(a.dtype==="complex64"){const c=xg({inputs:{input:a},backend:n}),f=Lh({inputs:{x:c},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(c),f}if(!Tse(a.dtype,i)){const c=Bc({inputs:{x:a},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:i}}const o=n.data.get(a.dataId).values,[s,l,u]=ade(o,a.shape,a.dtype,i);return n.makeTensorInfo(s,l,u)}const grt={kernelName:z_,backendName:"cpu",kernelFunc:Lh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xa(e,t,n,r){return n==null?({inputs:a,backend:i})=>{const{a:o,b:s}=a,l=i;nn([o,s],e);const u=l.data.get(o.dataId).values,c=l.data.get(s.dataId).values,f=o.dtype==="string"?Kf(u):u,d=o.dtype==="string"?Kf(c):c,h=r||o.dtype,[p,v]=t(o.shape,s.shape,f,d,h);return l.makeTensorInfo(v,h,p)}:({inputs:a,backend:i})=>{const{a:o,b:s}=a,l=i;if(o.dtype==="complex64"||s.dtype==="complex64"){const u=Lh({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),f=c.complexTensorInfos.real,d=c.complexTensorInfos.imag,h=l.data.get(f.dataId).values,p=l.data.get(d.dataId).values,v=Lh({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),g=l.data.get(v.dataId),m=g.complexTensorInfos.real,y=g.complexTensorInfos.imag,b=l.data.get(m.dataId).values,x=l.data.get(y.dataId).values,[_,S,C]=n(o.shape,s.shape,h,p,b,x),k=l.makeTensorInfo(C,"float32",_),T=l.makeTensorInfo(C,"float32",S),I=ys({inputs:{real:k,imag:T},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(v),l.disposeIntermediateTensorInfo(k),l.disposeIntermediateTensorInfo(T),I}else{const u=l.data.get(o.dataId).values,c=l.data.get(s.dataId).values,f=r||o.dtype,[d,h]=t(o.shape,s.shape,u,c,f);return l.makeTensorInfo(h,f,d)}}}function $6(e){return(t,n,r,a,i,o)=>{const s=On(t,n),l=ot(s),u=s.length,c=dn(s),f=Ui("float32",l),d=Ui("float32",l),h=dy(t,s),p=dy(n,s),v=Gf(r,a),g=Gf(i,o),m=t.length,y=dn(t),b=n.length,x=dn(n);if(h.length+p.length===0)for(let _=0;_<f.length;_++){const S=_%v.length,C=_%g.length,k=e(v[S*2],v[S*2+1],g[C*2],g[C*2+1]);f[_]=k.real,d[_]=k.imag}else for(let _=0;_<f.length;_++){const S=qy(_,u,c),C=S.slice(-m);h.forEach(A=>C[A]=0);const k=Sc(C,m,y),T=S.slice(-b);p.forEach(A=>T[A]=0);const I=Sc(T,b,x),E=e(v[k*2],v[k*2+1],g[I*2],g[I*2+1]);f[_]=E.real,d[_]=E.imag}return[f,d,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ide=ka((e,t)=>e+t),mrt=$6((e,t,n,r)=>({real:e+n,imag:t+r})),vy=Xa(Zy,ide,mrt),yrt={kernelName:Zy,backendName:"cpu",kernelFunc:vy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L6(e,t,n,r,a){const i=ot(r),o=Gi(a,n);for(let s=0;s<e.length;s++){const l=e[s];if(l<0)throw new Error("Input x must be non-negative!");l>=a||(i>0?o[l]+=t[s]:o[l]+=1)}return o}function ode(e,t,n,r=!1){const a=e.shape[0],i=e.shape[1],o=Gn([a,n],t.dtype);for(let s=0;s<a;s++)for(let l=0;l<i;l++){const u=e.get(s,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?o.set(1,s,u):t.size>0?o.set(o.get(s,u)+t.get(s,l),s,u):o.set(o.get(s,u)+1,s,u))}return o}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sde=ka((e,t)=>e&t),brt=Xa(kV,sde),xrt={kernelName:kV,backendName:"cpu",kernelFunc:brt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ef(e){return(t,n,r)=>{const a=ma(n,t.length);for(let i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lr(e,t,n){const r=ef(t);return sp(e,r,n)}function sp(e,t,n){return({inputs:r,attrs:a,backend:i})=>{const{x:o}=r;nn(o,e);const s=i,l=s.data.get(o.dataId).values;let u;if(o.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=Kf(l)}else u=l;const c=n||o.dtype,f=t(u,c,a);return s.makeTensorInfo(o.shape,c,f)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lde=ef(e=>Math.ceil(e)),wrt=sp(W_,lde),_rt={kernelName:W_,backendName:"cpu",kernelFunc:wrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ude(e,t,n,r){const a=ma(n,ot(t));if(r&&n!=="string"){let i=0;e.forEach(o=>{const s=ot(o.shape);a.set(o.vals,i),i+=s})}else{let i=0;e.forEach(o=>{const s=n==="string"?Kf(o.vals):o.vals;let l=0;for(let u=0;u<o.shape[0];++u){const c=u*t[1]+i;for(let f=0;f<o.shape[1];++f)a[c+f]=s[l++]}i+=o.shape[1]})}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cde=ka((e,t)=>e===t?1:0),fde=Xa(qA,cde,null,"bool"),Srt={kernelName:qA,backendName:"cpu",kernelFunc:fde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dde=ef(e=>Math.exp(e)),hde=sp(X_,dde,"float32"),Crt={kernelName:X_,backendName:"cpu",kernelFunc:hde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pde=ef(e=>Math.expm1(e)),Trt=sp(q_,pde),krt={kernelName:q_,backendName:"cpu",kernelFunc:Trt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vde=ef(e=>Math.floor(e)),Irt=sp(Z_,vde),Ert={kernelName:Z_,backendName:"cpu",kernelFunc:Irt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gde=ka((e,t)=>Math.floor(e/t)),Art=Xa(J_,gde,null,"int32"),Drt={kernelName:J_,backendName:"cpu",kernelFunc:Art};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mde(e,t,n,r,a,i,o,s,l){const u=Gn([r,i],n);for(let c=0;c<r;c++){const f=[];let d=0;for(let h=0;h<a;h++){const p=e[c*a+h];d+=p*o[h],f.push(p)}if(d<0||d>=l/i)throw new Error(`Invalid indices: ${f} does not index into ${s}`);for(let h=0;h<i;h++)u.values[c*i+h]=t.get(...t.indexToLoc(d*i+h))}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yde(e,t,n){const r=Gn(n,e.dtype);for(let a=0;a<r.size;++a){const o=r.indexToLoc(a).slice(),s=o[0],l=o[2],u=t.locToIndex([s,l]);o[2]=t.values[u];const c=e.locToIndex(o);0<=c&&c<e.values.length&&(r.values[a]=e.values[c])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bde=ka((e,t)=>e>t?1:0),Nrt=Xa(eD,bde,null,"bool"),Rrt={kernelName:eD,backendName:"cpu",kernelFunc:Nrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xde=ka((e,t)=>e>=t?1:0),Mrt=Xa(Q_,xde,null,"bool"),$rt={kernelName:Q_,backendName:"cpu",kernelFunc:Mrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wde=ka((e,t)=>e<t?1:0),Lrt=Xa(nD,wde,null,"bool"),Ort={kernelName:nD,backendName:"cpu",kernelFunc:Lrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _de=ka((e,t)=>e<=t?1:0),Prt=Xa(rD,_de,null,"bool"),Frt={kernelName:rD,backendName:"cpu",kernelFunc:Prt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sde(e,t,n){const r=(t-e)/(n-1),a=Gi(n,"float32");a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cde=ef(e=>Math.log(e)),Brt=sp(aS,Cde),Vrt={kernelName:aS,backendName:"cpu",kernelFunc:Brt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tde(e,t,n,r){const a=Ui(r,ot(n));for(let i=0;i<a.length;++i){const o=i*t;let s=e[o];for(let l=0;l<t;++l){const u=e[o+l];(Number.isNaN(u)||u>s)&&(s=u)}a[i]=s}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kde=ka((e,t)=>Math.max(e,t)),zrt=Xa(oS,kde),Wrt={kernelName:oS,backendName:"cpu",kernelFunc:zrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ide=ka((e,t)=>Math.min(e,t)),Hrt=Xa(sS,Ide),Urt={kernelName:sS,backendName:"cpu",kernelFunc:Hrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O6=ka((e,t)=>e*t),Grt=$6((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})),rN=Xa(uS,O6,Grt),Krt={kernelName:uS,backendName:"cpu",kernelFunc:rN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ede(e,t,n){const r=Qh(-1,n);return O6([],t,r,e,n)}function jrt(e){const{inputs:t,backend:n}=e,{x:r}=t;nn(r,"neg");const a=n.data.get(r.dataId).values,[i,o]=Ede(a,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,i)}const Yrt={kernelName:pD,backendName:"cpu",kernelFunc:jrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ade=ka((e,t)=>e!==t?1:0),Xrt=Xa(vD,Ade,null,"bool"),qrt={kernelName:vD,backendName:"cpu",kernelFunc:Xrt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P6(e,t,n,r,a){const i=t.length,o=ot(t),s=dn(t),l=dn(a),u=Ui(n,ot(a));for(let c=0;c<o;++c){const f=qy(c,i,s),d=new Array(f.length);for(let p=0;p<d.length;p++)d[p]=f[r[p]];const h=Sc(d,i,l);u[h]=e[c]}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rs(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:i}=n;nn(a,"transpose");const o=a.shape.length,s=new Array(o);for(let f=0;f<s.length;f++)s[f]=a.shape[i[f]];const l=r.data.get(a.dataId).values,u=P6(l,a.shape,a.dtype,i,s);return{dataId:r.write(u,s,a.dtype),shape:s,dtype:a.dtype}}const Zrt={kernelName:Dm,backendName:"cpu",kernelFunc:rs};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dde(e,t,n,r){const[a,i]=mi(e,r),o=Ts(t,"int32"),s=Gi(ot(a),o),l=ot(i);for(let u=0;u<s.length;++u){const c=u*l;let f=1;for(let d=0;d<l;++d)f*=n[c+d];s[u]=f}return{outVals:s,outShape:a,outDtype:o}}function Jrt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"prod");const s=a.shape.length,l=jn(i,a.shape),u=da(l,s);let c=l,f=a;const d=[];u!=null&&(f=rs({inputs:{x:a},backend:n,attrs:{perm:u}}),d.push(f),c=Ca(c.length,s));const h=n.data.get(f.dataId).values,{outVals:p,outShape:v,outDtype:g}=Dde(f.shape,f.dtype,h,c);let m=v;return o&&(m=Ra(v,l)),d.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(m,g,p)}const Qrt={kernelName:wD,backendName:"cpu",kernelFunc:Jrt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eat(e,t,n){e.forEach((r,a)=>{if(r<0||r>=n){const i=qy(a,t.length,dn(t)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function tat(e,t){for(let n=0;n<e.length;++n){const r=e[n],a=n===e.length-1?t:e[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function nat(e,t,n,r){const a=[];let i=0;const o=t.length-1+n.length,s=new Array(o).fill(null).map(()=>[0]);tat(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const c=t[u+1];for(let f=1;f<l+1;++f)s[u].push(f*c)}for(let u=0;u<e.length;++u){let c=e[u],f=e[u]+1;for(let d=0;d<n.length;++d){const h=n[d],p=d+t.length-1;if(p>=0){const v=s[p],g=v[v.length-1]-h[c];for(let m=c;m<f;++m)s[p].push(h[m+1]+g)}c=h[c],f=h[f]}f!==c&&(a.push([c,f]),i+=f-c)}return{outSplits:s,valueSlices:a,numValues:i}}function rat(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n].length,a=ma("int32",r);t.push(a),e[n].forEach((i,o)=>a[o]=i)}return t}function L7(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function aat(e,t,n,r,a,i){const o=L7(t,2)[1],s=L7(i,2)[1];let l=0;for(const u of n)for(let c=u[0];c<u[1];++c){for(let f=0;f<r;++f)a[l*s+f]=e[c*o+f];++l}}function iat(e,t,n,r,a){const i=t.slice();i[0]=a;const o=ma(n,ot(i)),s=e.length,l=s===0?0:s/t[0];return aat(e,t,r,l,o,i),[o,i]}function Nde(e,t,n,r,a,i,o,s){if(e.length===0)throw new Error("paramsNestedSplits must be non empty");if(t[0].length===0)throw new Error("Split tensors must not be scalars");const l=t[0][0]-1;if(eat(i,o,l),r.length===0)throw new Error("params.rank must be nonzero");const u=r[0],{outSplits:c,valueSlices:f,numValues:d}=nat(i,o,e,u),h=rat(c),p=iat(n,r,a,f,d);return[h,p[0],p[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O7=2147483647;function Rde(e,t,n,r,a,i,o){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(o.length>1)throw new Error("deltas must be a scalar or vector");const s=t.length===0,l=a.length===0,u=o.length===0,c=[];s||c.push(t[0]),l||c.push(a[0]),u||c.push(o[0]);for(let g=1;g<c.length;++g)if(c[g]!==c[g-1])throw new Error("starts, limits, and deltas must have the same shape");const f=c.length===0?1:c[0],d=ma("int32",f+1);d[0]=0;for(let g=0;g<f;++g){const m=s?e[0]:e[g],y=l?r[0]:r[g],b=u?i[0]:i[g];if(b===0)throw new Error("Requires delta != 0");let x;if(b>0&&y<m||b<0&&y>m)x=0;else if(x=Math.ceil(Math.abs((y-m)/b)),x>O7)throw new Error(`Requires ((limit - start) / delta) <= ${O7}`);d[g+1]=d[g]+x}const h=d[f],p=ma(n,h);let v=0;for(let g=0;g<f;++g){const m=d[g+1]-d[g];let y=s?e[0]:e[g];const b=u?i[0]:i[g];for(let x=0;x<m;++x)p[v++]=y,y+=b}return[d,p]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var el=uu;class RI{constructor(t,n,r,a,i,o,s,l,u,c){this.shape=t,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=i,this.defaultValue=o,this.defaultValueShape=s,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=mue(c),this.raggedRank=yue(this.rowPartitionTypes)}getRowPartitionTypeByDimension(t){return this.rowPartitionTypes[0]===el.FIRST_DIM_SIZE?this.rowPartitionTypes[t+1]:this.rowPartitionTypes[t]}getRowPartitionTensor(t){return this.rowPartitionTypes[0]===el.FIRST_DIM_SIZE?this.rowPartitionValues[t+1]:this.rowPartitionValues[t]}getMaxWidth(t){const n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case el.VALUE_ROWIDS:return RI.getMaxWidthValueRowID(n);case el.ROW_SPLITS:return RI.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${el[this.getRowPartitionTypeByDimension(t-1)]}`)}}static getMaxWidthRowSplit(t){const n=t.length;if(n===0||n===1)return 0;let r=0;for(let a=0;a<n-1;++a){const i=t[a+1]-t[a];i>r&&(r=i)}return r}static getMaxWidthValueRowID(t){const n=t.length;if(n===0)return 0;let r=0,a=t[0],i=0;for(let o=1;o<n;++o){const s=t[o];s!==a&&(a=s,i=Math.max(o-r,i),r=o)}return Math.max(n-r,i)}tensorShapeFromTensor(t,n,r=!0){if(n.length===0){if(t[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return F7(t,r)}calculateOutputSize(t){const n=this.valuesShape,r=this.defaultValueShape;bue(r,n);const a=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=gue(this.raggedRank,a,n);o[0]<0&&(o[0]=t);for(let s=1;s<=this.raggedRank;++s)o[s]<0&&(o[s]=this.getMaxWidth(s));return o}calculateFirstParentOutputIndex(t,n,r){const a=Math.min(t,r),i=[];let o=0;for(let s=0;s<a;++s,o+=n)i.push(o);for(let s=a;s<t;++s)i.push(-1);return pe(i.length===t,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(t,n,r,a){const i=t.length,o=[];for(let s=0;s<i-1;++s){const l=t[s+1]-t[s];let u=Math.min(a,l),c=n[s];c===-1&&(u=0);for(let f=0;f<u;++f)o.push(c),c+=r;for(let f=0;f<l-u;++f)o.push(-1)}if(i>0&&o.length!==t[i-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(t,n,r,a){const i=t.length,o=[];if(i===0)return[];let s=0,l=t[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];o.push(u);for(let c=1;c<i;++c){const f=t[c];if(f===l)u>=0&&(++s,s<a?u+=r:u=-1);else{if(s=0,l=f,f>=n.length)throw new Error(`Got nextValueRowId=${f} which is not less than ${n.length}`);u=n[f]}o.push(u)}if(o.length!==t.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(t,n,r,a){const i=this.getRowPartitionTensor(t),o=this.getRowPartitionTypeByDimension(t);switch(o){case el.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,a);case el.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,a);default:throw new Error(`Unsupported partition type: ${el[o]}`)}}getFirstDimensionSize(){const t=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case el.FIRST_DIM_SIZE:return t[0];case el.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case el.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${el[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),a=new Array(this.raggedRank+1);a[a.length-1]=1;for(let l=a.length-2;l>=0;--l)a[l]=a[l+1]*r[l+1];const i=F7(r,!1),o=ma(this.valuesDType,ot(i));if(a[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,a[0],r[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,a[u],r[u]);this.setOutput(this.raggedRank,l,o,i)}return[i,o]}setOutput(t,n,r,a){if(r.length===0)return;const i=this.values,o=r;let s=a.slice();s=s.slice(t+1);const l=ot(s),u=n.length;let c=this.defaultValue;if(c.length!==l&&c.length!==1){const p=this.defaultValueShape;Xe(()=>{const v=He(c,p);c=lx(v,s).dataSync()})}let f=0,d=0,h=0;for(let p=0;p<=u;++p){let v=p<u?n[p]:-1;if(v===h){++h;continue}if(d<h){const g=i.subarray(f*l),m=o.subarray(d*l),y=(h-d)*l;P7(m,g,y)}if(p>=u){const g=r.length;v=Math.floor(g/l)}if(v>h)if(this.defaultValue.length===1)o.subarray(h*l,v*l).fill(this.defaultValue[0]),h=v;else for(;v>h;){const g=o.slice(h*l);P7(g,c,l),++h}v<0?(f=p+1,d=h):(f=p,d=h,h=d+1)}}}function P7(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function F7(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function Mde(e,t,n,r,a,i,o,s,l,u){return new RI(e,t,n,r,a,i,o,s,l,u).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $de(e,t,n,r){const a=e===t,i=e<t&&n<0,o=t<e&&n>1;if(a||i||o)return Gi(0,r);const s=Math.abs(Math.ceil((t-e)/n)),l=Gi(s,r);t<e&&n===1&&(n=-1),l[0]=e;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lde=ef(e=>1/Math.sqrt(e)),oat=sp(vS,Lde),sat={kernelName:vS,backendName:"cpu",kernelFunc:oat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _v(e,t,n,r,a,i,o,s,l,u){const c=[r/a,a],f=e.values,d=t.values;if(r===0)return Gn(n,t.dtype);const h=l instanceof Ti?l:Gn(c,t.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let p=0;p<i;p++){const v=[];let g=0;for(let m=0;m<o;m++){const y=f[p*o+m];v.push(y),g+=y*s[m]}if(g<0||g>=r/a)throw new Error(`Invalid indices: ${v} does not index into ${n}`);for(let m=0;m<a;m++)u?h.values[g*a+m]+=d[p*a+m]:h.values[g*a+m]=t.rank===0?d[0]:d[p*a+m]}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lat=ef(e=>1/(1+Math.exp(-e))),Ode=Lr(xS,e=>1/(1+Math.exp(-e))),uat={kernelName:xS,backendName:"cpu",kernelFunc:Ode};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pde(e,t,n,r,a){const i=Uz(r,t,n),o=ot(n),s=dn(r);if(i){const f=Gz(t,s);return a==="string"?e.slice(f,f+o):e.subarray(f,f+o)}const l=a==="string"?Kf(e):e,u=Gn(r,a,l),c=Gn(n,a);for(let f=0;f<c.size;++f){const d=c.indexToLoc(f),h=d.map((p,v)=>p+t[v]);c.set(u.get(...h),...d)}return a==="string"?Bue(c.values):c.values}function wg(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:o}=r;nn(a,"slice");const[s,l]=WD(a,i,o);Wz(a,s,l);const u=n.data.get(a.dataId).values,c=Pde(u,s,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,c)}const cat={kernelName:ID,backendName:"cpu",kernelFunc:wg};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fde(e,t,n,r,a,i,o){const s=t[0],l=i[0],u=new Array(l),c=new Array(s),f=t[1];if(l===0){if(s!==0)throw new Error(kue(s));const g=ma(n,0),m=ma(a,0);return[g,[0,f],m,u,c]}let d=!0,h=0;const p=new Array(l).fill(0);for(let g=0;g<s;++g){const m=e[g*f];if(m<0)throw new Error(Iue(g,m));if(m>=l)throw new Error(Eue(g,m,l));++p[m],d=d&&m>=h,h=m}let v=!0;for(let g=0;g<l;++g){const m=p[g]===0;u[g]=m,v=v&&!m,p[g]=Math.max(p[g],1),g>0&&(p[g]+=p[g-1])}if(v&&d){const g=e,m=r;for(let y=0;y<s;++y)c[y]=y;return[g,[s,f],m,u,c]}else{const g=p[l-1],m=ma(n,g*f),y=ma(a,g),b=new Array(l).fill(0);for(let x=0;x<s;++x){const _=e[x*f],S=b[_],C=(_===0?0:p[_-1])+S;b[_]++;for(let k=0;k<f;++k)m[C*f+k]=e[x*f+k];y[C]=r[x],c[x]=C}for(let x=0;x<l;++x)if(b[x]===0){const S=x===0?0:p[x-1];m[S*f+0]=x;for(let C=1;C<f;++C)m[S*f+C]=0;y[S]=o}return[m,[g,f],y,u,c]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bde(e,t,n,r,a){const i=ot(r),o=t[0],s=a.length,l=[];let u=1,c=-1;for(let g=0;g<s;++g){const m=a[g];if(m===-1){if(c!==-1)throw new Error(Aue(c,g));c=g,l.push(1)}else{if(m<0)throw new Error(Due(g,m));u*=m,l.push(m)}}if(c!==-1){if(u<=0)throw new Error(Nue());const g=Math.trunc(i/u);if(u*g!==i)throw new Error(Rue(r,l));l[c]=g}if(ot(l)!==i)throw new Error(Mue(r,l));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let g=d-2;g>=0;--g)h[g]=h[g+1]*r[g+1]}const p=[];if(s>0){p[s-1]=1;for(let g=s-2;g>=0;--g)p[g]=p[g+1]*l[g+1]}const v=ma(n,o*s);for(let g=0;g<o;++g){let m=0;for(let y=0;y<d;++y)m+=e[g*d+y]*h[y];for(let y=0;y<s;++y)v[g*s+y]=Math.trunc(m/p[y]),m%=p[y]}return[v,[o,s],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F6(e,t,n,r,a,i=!1,o=0){const s=r.length,l=[t[0],e.length/t[0]],u=l[1],f=s>0?a[s-1]+1:0;if(f<0)throw new Error(BP());const d=t.slice();d[0]=f;const h=d.reduce((b,x)=>b*x,1),p=ma(n,h);if(s===0)return f>0&&p.fill(o),[p,d];if(f<=0)throw new Error(BP());let v=0,g=1,m=0,y=a[v];for(;;){let b=0;if(g<s){if(b=a[g],y===b){++g;continue}if(y>=b)throw new Error($ue())}if(y<0||y>=f)throw new Error(Lue(y,f));y>m&&p.fill(o,m*u,y*u);for(let x=v;x<g;++x){const _=r[x];if(_<0||_>=l[0])throw new Error(Oue(x,r[x],l[0]));for(let S=0;S<u;S++)p[y*u+S]+=e[_*u+S]}if(i)for(let x=0;x<u;x++)p[y*u+x]/=g-v;if(v=g,++g,m=y+1,y=b,g>s)break}return m<f&&p.fill(o,m*u,f*u),[p,d]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fat=ef(e=>Math.sqrt(e)),dat=Lr(_S,e=>Math.sqrt(e)),hat={kernelName:_S,backendName:"cpu",kernelFunc:dat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vde=ka((e,t)=>{const n=e-t;return n*n}),pat=Xa(SS,Vde),vat={kernelName:SS,backendName:"cpu",kernelFunc:pat};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zde=ef((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)}),gat=sp(tz,zde),mat={kernelName:tz,backendName:"cpu",kernelFunc:gat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wde(e,t,n,r){const a=Gn(e,t.dtype);for(let i=0;i<a.size;i++){const o=a.indexToLoc(i),s=new Array(o.length);for(let l=0;l<s.length;l++)s[l]=o[l]*n[l]+r[l];a.set(t.get(...s),...o)}return a}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yat{constructor(t,n,r,a,i,o){this.separator=dh(t),this.nGramWidths=n,this.leftPad=dh(r),this.rightPad=dh(a),this.padWidth=i,this.preserveShort=o}getPadWidth(t){return Math.min(this.padWidth<0?t-1:this.padWidth,t-1)}getNumNGrams(t,n){const r=this.getPadWidth(n);return Math.max(0,t+2*r-n+1)}createNGrams(t,n,r,a,i,o){for(let s=0;s<i;++s){const l=this.getPadWidth(o),u=Math.max(0,l-s),c=Math.max(0,l-(i-(s+1))),f=o-(u+c),d=n+(u>0?0:s-l);let h=0;h+=u*this.leftPad.length;for(let y=0;y<f;++y)h+=t[d+y].length;h+=c*this.rightPad.length;const p=u+c+f-1;h+=p*this.separator.length,r[a+s]=new Uint8Array(h);const v=r[a+s];let g=0;const m=y=>y.forEach(b=>v[g++]=b);for(let y=0;y<u;++y)m(this.leftPad),m(this.separator);for(let y=0;y<f-1;++y)m(t[d+y]),m(this.separator);if(f>0){m(t[d+f-1]);for(let y=0;y<c;++y)m(this.separator),m(this.rightPad)}else{for(let y=0;y<c-1;++y)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(t,n){const r=t.length,a=n.length;if(a>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<a;++u){let c=n[u]>=l;if(c=c&&n[u]<=r,!c)throw new Error(`Invalid split value ${n[u]}, must be in [${l}, ${r}]`);l=n[u]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const i=a-1,o=ma("int32",a);if(r===0||a===0){const l=new Array(r);for(let u=0;u<=i;++u)o[u]=0;return[l,o]}o[0]=0;for(let l=1;l<=i;++l){const u=n[l]-n[l-1];let c=0;this.nGramWidths.forEach(f=>{c+=this.getNumNGrams(u,f)}),this.preserveShort&&u>0&&c===0&&(c=1),o[l]=o[l-1]+c}const s=new Array(o[i]);for(let l=0;l<i;++l){const u=n[l];let c=o[l];if(this.nGramWidths.forEach(f=>{const d=n[l+1]-n[l],h=this.getNumNGrams(d,f);this.createNGrams(t,u,s,c,h,f),c+=h}),this.preserveShort&&c===o[l]){const f=n[l+1]-n[l];if(f===0)continue;const d=f+2*this.padWidth;this.createNGrams(t,u,s,c,1,d)}}return[s,o]}}function Hde(e,t,n,r,a,i,o,s){return new yat(n,r,a,i,o,s).compute(e,t)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bat(e,t,n,r){if(!e.length)return;if(t.length===0){for(let i=0;i<e.length;++i)r.push(e.subarray(i,i+1));return}if(t.length===1){const i=t[0];let o=e.indexOf(i);for(;o!==-1;){const s=e.subarray(0,o);(!n||s.length!==0)&&r.push(s),e=e.subarray(o+1),o=e.indexOf(i)}(!n||e.length!==0)&&r.push(e);return}let a=0;for(let i=0;i<e.length+1;i++)if(i===e.length||t.indexOf(e[i])!==-1){const o=e.subarray(a,i);(!n||o.length!==0)&&r.push(o),a=i+1}}function Ude(e,t,n){const r=e.length,a=[];let i=0,o=0;const s=new Array(r);for(let d=0;d<r;++d){const h=a.length;bat(e[d],t,n,a);const p=a.length-h;s[d]=p,i+=p,o=Math.max(o,p)}const l=ma("int32",i*2),u=new Array(i),c=[r,o];let f=0;for(let d=0;d<r;++d)for(let h=0;h<s[d];++h)l[f*2]=d,l[f*2+1]=h,u[f]=a[f],++f;return[l,u,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gde(e,t){const n=ma("int32",e.length);for(let r=0;r<e.length;++r)n[r]=AKe(e[r]).modulo(t).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kde=ka((e,t)=>e-t),xat=$6((e,t,n,r)=>({real:e-n,imag:t-r})),B6=Xa(CS,Kde,xat),wat={kernelName:CS,backendName:"cpu",kernelFunc:B6};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jde(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const r=Gn(n,e.dtype);for(let a=0;a<r.values.length;++a){const i=r.indexToLoc(a),o=new Array(e.rank);for(let l=0;l<o.length;l++)o[l]=i[l]%e.shape[l];const s=e.locToIndex(o);r.values[a]=e.values[s]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eb=(e,t)=>{const n=t.value-e.value;return n===0?e.index-t.index:n};function Yde(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const s=r-n+1,l=t-n+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*Math.sign(l-s/2),d=Math.max(n,Math.floor(t-l*c/s+f)),h=Math.min(r,Math.floor(t+(s-l)*c/s+f));Yde(e,t,d,h)}const a=e[t];let i=n,o=r;for(Q0(e,n,t),Eb(e[r],a)>0&&Q0(e,n,r);i<o;){for(Q0(e,i,o),i++,o--;Eb(e[i],a)<0;)i=i+1;for(;Eb(e[o],a)>0;)o=o-1}Eb(e[n],a)===0?Q0(e,n,o):(o=o+1,Q0(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}}function Xde(e,t,n,r,a){const i=t[t.length-1],[o,s]=[e.length/i,i],l=Ui(n,o*r),u=Ui("int32",o*r);for(let f=0;f<o;f++){const d=f*s,h=e.subarray(d,d+s);let p=new Array(h.length);h.forEach((y,b)=>p[b]={value:y,index:b}),r<p.length&&(Yde(p,r),p=p.slice(0,r)),a&&p.sort(Eb);const v=f*r,g=l.subarray(v,v+r),m=u.subarray(v,v+r);for(let y=0;y<r;y++)g[y]=p[y].value,m[y]=p[y].index}const c=t.slice();return c[c.length-1]=r,[Gn(c,n,l),Gn(c,"int32",u)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qde(e,t,n,r){const a=jn(t,n)[0],i=[1,n[0],1];for(let p=0;p<a;p++)i[0]*=n[p];i[1]=n[a];for(let p=a+1;p<n.length;p++)i[2]*=n[p];const o=new Map,s=new Int32Array(n[a]),l=new Ti(i,r,e),u=[],c=i[0]===1&&i[2]===1;for(let p=0;p<n[a];p++){let v;if(c)v=e[p].toString();else{const m=[];for(let y=0;y<i[0];y++)for(let b=0;b<i[2];b++)m.push(l.get(y,p,b));v=m.join(",")}const g=o.get(v);if(g!=null)s[p]=g;else{const m=o.size;o.set(v,m),s[p]=m,u.push(p)}}const f=i.slice();f[1]=o.size;const d=new Ti(f,r);u.forEach((p,v)=>{for(let g=0;g<i[0];g++)for(let m=0;m<i[2];m++)d.set(l.get(g,p,m),g,v,m)});const h=n.slice();return h[a]=f[1],{outputValues:d.values,outputShape:h,indices:s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _at=Object.freeze(Object.defineProperty({__proto__:null,addImpl:ide,bincountImpl:L6,bincountReduceImpl:ode,bitwiseAndImpl:sde,castImpl:ade,ceilImpl:lde,concatImpl:ude,equalImpl:cde,expImpl:dde,expm1Impl:pde,floorDivImpl:gde,floorImpl:vde,gatherNdImpl:mde,gatherV2Impl:yde,greaterEqualImpl:xde,greaterImpl:bde,lessEqualImpl:_de,lessImpl:wde,linSpaceImpl:Sde,logImpl:Cde,maxImpl:Tde,maximumImpl:kde,minimumImpl:Ide,multiplyImpl:O6,negImpl:Ede,notEqualImpl:Ade,prodImpl:Dde,raggedGatherImpl:Nde,raggedRangeImpl:Rde,raggedTensorToTensorImpl:Mde,rangeImpl:$de,rsqrtImpl:Lde,scatterImpl:_v,sigmoidImpl:lat,simpleAbsImpl:rde,sliceImpl:Pde,sparseFillEmptyRowsImpl:Fde,sparseReshapeImpl:Bde,sparseSegmentReductionImpl:F6,sqrtImpl:fat,squaredDifferenceImpl:Vde,staticRegexReplaceImpl:zde,stridedSliceImpl:Wde,stringNGramsImpl:Hde,stringSplitImpl:Ude,stringToHashBucketFastImpl:Gde,subImpl:Kde,tileImpl:jde,topKImpl:Xde,transposeImpl:P6,uniqueImpl:qde},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ple("cpu",()=>new nN,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zde=Lr(j_,e=>e>=0?e:Math.exp(e)-1),Sat={kernelName:j_,backendName:"cpu",kernelFunc:Zde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jde(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r;nn([a],"leakyRelu");const o=ot(a.shape),s=n.data.get(a.dataId).values,l=Ui("float32",o);for(let u=0;u<s.length;u++)l[u]=s[u]<0?i*s[u]:s[u];return n.makeTensorInfo(a.shape,"float32",l)}const Cat={kernelName:tD,backendName:"cpu",kernelFunc:Jde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tat=ka((e,t)=>e<0?t*e:e);function Qde(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;nn([r,a],"prelu");const i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,[s,l]=Tat(r.shape,a.shape,i,o,"float32");return n.makeTensorInfo(l,"float32",s)}const kat={kernelName:xD,backendName:"cpu",kernelFunc:Qde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ehe=Lr(dS,e=>Math.max(0,e)),Iat={kernelName:dS,backendName:"cpu",kernelFunc:ehe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const the=Lr(hS,e=>Math.min(Math.max(0,e),6)),Eat={kernelName:hS,backendName:"cpu",kernelFunc:the};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MI(e,t,n,r,a){if(n==="linear")return Bc({inputs:{x:t},backend:e});if(n==="relu")return ehe({inputs:{x:t},backend:e});if(n==="elu")return Zde({inputs:{x:t},backend:e});if(n==="relu6")return the({inputs:{x:t},backend:e});if(n==="prelu")return Qde({inputs:{x:t,alpha:r},backend:e});if(n==="leakyrelu")return Jde({inputs:{x:t},backend:e,attrs:{alpha:a}});if(n==="sigmoid")return Ode({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qr(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,o=ot(a.shape),s=Cse(i,o),l=ot(s);pe(o===l,()=>`The new shape (${s}) has ${l} elements and the old shape (${a.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),n.incRef(a.dataId);const u=n.data.get(a.dataId);if(u.complexTensorInfos!=null){const c=u.complexTensorInfos.real,f=u.complexTensorInfos.imag;c.shape=s,f.shape=s}return{dataId:a.dataId,shape:s,dtype:a.dtype}}const Aat={kernelName:_D,backendName:"cpu",kernelFunc:qr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nhe(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:i}=t,{transposeA:o,transposeB:s}=r;nn([a,i],"matMul");const l=a.shape.length,u=i.shape.length,c=o?a.shape[l-2]:a.shape[l-1],f=s?i.shape[u-1]:i.shape[u-2],d=o?a.shape[l-1]:a.shape[l-2],h=s?i.shape[u-2]:i.shape[u-1],p=a.shape.slice(0,-2),v=i.shape.slice(0,-2),g=ot(p),m=ot(v),b=On(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,h]);pe(c===f,()=>`Error in matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${a.shape} and ${i.shape} and transposeA=${o} and transposeB=${s} must match.`);const x=o?[g,c,d]:[g,d,c],_=s?[m,h,f]:[m,f,h],S=qr({inputs:{x:a},backend:n,attrs:{shape:x}}),C=qr({inputs:{x:i},backend:n,attrs:{shape:_}}),k=o?S.shape[1]:S.shape[2],T=o?S.shape[2]:S.shape[1],I=s?C.shape[1]:C.shape[2],E=Math.max(g,m),A=n.data.get(S.dataId).values,N=n.data.get(C.dataId).values,L=dn(S.shape),R=dn(C.shape),[D,P,O]=o?[L[0],1,L[1]]:[L[0],L[1],1],[M,W,U]=s?[1,R[1],R[0]]:[R[1],1,R[0]],V=T*I,H=Gn([E,T,I],S.dtype),K=H.values,j=n.blockSize;for(let ne=0;ne<E;ne++){const Q=ne%g,oe=ne%m;for(let ae=0;ae<T;ae+=j){const me=Math.min(ae+j,T);for(let ve=0;ve<I;ve+=j){const B=Math.min(ve+j,I);for(let re=0;re<k;re+=j){const ge=Math.min(re+j,k);for(let Ie=ae;Ie<me;Ie++)for(let Ce=ve;Ce<B;Ce++){let he=0;for(let J=re;J<ge;J++){const te=A[Q*D+Ie*P+J*O],xe=N[J*M+Ce*W+oe*U];he+=te*xe}K[ne*V+(Ie*I+Ce)]+=he}}}}}return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(C),n.makeTensorInfo(b,H.dtype,H.values)}const Dat={kernelName:VA,backendName:"cpu",kernelFunc:nhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nat(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:i,bias:o,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;let d,h,p;const v=[];d=nhe({inputs:{a,b:i},attrs:{transposeA:l,transposeB:u},backend:n}),o&&(h=vy({inputs:{a:d,b:o},backend:n}),v.push(d),d=h),c&&(p=MI(n,d,c,s,f),v.push(d),d=p);for(const m of v)n.disposeIntermediateTensorInfo(m);return d}const Rat={kernelName:fI,backendName:"cpu",kernelFunc:Nat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mat=Lr($_,e=>Math.acos(e)),$at={kernelName:$_,backendName:"cpu",kernelFunc:Mat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lat=Lr(L_,e=>Math.acosh(e)),Oat={kernelName:L_,backendName:"cpu",kernelFunc:Lat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pat(e){const{inputs:t,backend:n}=e,r=t;nn(t,"addN");const a=r.map(s=>n.data.get(s.dataId).values),i=Gn(r[0].shape,r[0].dtype),o=i.values;for(let s=0;s<r.length;s++){const l=a[s];for(let u=0;u<o.length;u++)o[u]+=l[u]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}const Fat={kernelName:xV,backendName:"cpu",kernelFunc:Pat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"all");const s=jn(i,a.shape);let l=s;const u=da(l,a.shape.length);let c=a;u!=null&&(c=rs({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Ca(l.length,a.shape.length)),Di("all",l,c.shape.length);const[f,d]=mi(c.shape,l),h=ot(d),p=Gi(ot(f),c.dtype),v=n.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*h;let b=v[y];for(let x=0;x<h;++x){const _=v[y+x];b=b&&_}p[m]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(o){const m=Ra(f,s),y=qr({inputs:{x:g},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(g),y}return g}const Vat={kernelName:wV,backendName:"cpu",kernelFunc:Bat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"any");const s=jn(i,a.shape);let l=s;const u=da(l,a.shape.length);let c=a;u!=null&&(c=rs({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Ca(l.length,a.shape.length)),Di("any",l,c.shape.length);const[f,d]=mi(c.shape,l),h=ot(d),p=Gi(ot(f),c.dtype),v=n.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*h;let b=v[y];for(let x=0;x<h;++x){const _=v[y+x];b=b||_}p[m]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(o){const m=Ra(f,s),y=qr({inputs:{x:g},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(g),y}return g}const Wat={kernelName:_V,backendName:"cpu",kernelFunc:zat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;nn(a,"argMax");let o=jn(i,a.shape);const s=da(o,a.shape.length);let l=a;const u=[];s!=null&&(l=rs({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=Ca(o.length,l.shape.length)),o=[o[0]],Di("argMax",o,l.shape.length);const[c,f]=mi(l.shape,o),d=ot(c),h=Gi(d,"int32"),p=ot(f),v=n.data.get(l.dataId).values;for(let g=0;g<h.length;++g){const m=g*p;let y=v[m],b=0;for(let x=0;x<p;++x){const _=v[m+x];_>y&&(y=_,b=x)}h[g]=b}return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(c,"int32",h)}const Uat={kernelName:OA,backendName:"cpu",kernelFunc:Hat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gat(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;nn(a,"argMin");let o=jn(i,a.shape);const s=da(o,a.shape.length);let l=a;const u=[];s!=null&&(l=rs({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=Ca(o.length,l.shape.length)),o=[o[0]],Di("argMin",o,l.shape.length);const[c,f]=mi(l.shape,o),d=ot(c),h=Gi(d,"int32"),p=ot(f),v=n.data.get(l.dataId).values;for(let g=0;g<h.length;++g){const m=g*p;let y=v[m],b=0;for(let x=0;x<p;++x){const _=v[m+x];_<y&&(y=_,b=x)}h[g]=b}return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(c,"int32",h)}const Kat={kernelName:PA,backendName:"cpu",kernelFunc:Gat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jat=Lr(O_,e=>Math.asin(e)),Yat={kernelName:O_,backendName:"cpu",kernelFunc:jat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xat=Lr(P_,e=>Math.asinh(e)),qat={kernelName:P_,backendName:"cpu",kernelFunc:Xat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zat=Lr(F_,e=>Math.atan(e)),Jat={kernelName:F_,backendName:"cpu",kernelFunc:Zat};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qat=ka((e,t)=>Math.atan2(e,t)),eit=Xa(V_,Qat),tit={kernelName:V_,backendName:"cpu",kernelFunc:eit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nit=Lr(B_,e=>Math.atanh(e)),rit={kernelName:B_,backendName:"cpu",kernelFunc:nit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V6(e,t,n,r,a,i){const o=a.strideHeight,s=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,f=a.effectiveFilterWidth,d=a.padInfo.top,h=a.padInfo.left,p=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=Gn(a.outShape,n),g=v.values,m=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],b=a.outShape[3];for(let x=0;x<a.batchSize;++x){const _=x*m,S=x*r[0];for(let C=0;C<a.inChannels;++C)for(let k=0;k<a.outHeight;++k){const T=k*o-d,I=Math.max(0,T),E=Math.min(a.inHeight,c+T),A=_+k*y;for(let N=0;N<a.outWidth;++N){const L=N*s-h,R=Math.max(0,L),D=Math.min(a.inWidth,f+L);let P=p,O=0,M=0;for(let U=I;U<E;U+=l){const V=S+U*r[1];for(let H=R;H<D;H+=u){const K=V+H*r[2],j=e[K+C];i==="max"&&j>P?P=j:i==="avg"&&(O+=j,M++)}if(isNaN(P))break}const W=A+N*b+C;g[W]=i==="avg"?O/M:P}}}return v}function rhe(e,t,n,r,a=!1,i=!1){const o=Gn(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,v=Gn(t,n,e);for(let g=0;g<r.batchSize;++g)for(let m=0;m<r.inChannels;++m)for(let y=0;y<r.outHeight;++y){const b=y*s-h;let x=b;for(;x<0;)x+=u;const _=Math.min(r.inHeight,f+b);for(let S=0;S<r.outWidth;++S){const C=S*l-p;let k=C;for(;k<0;)k+=c;const T=Math.min(r.inWidth,d+C);let I=Number.NEGATIVE_INFINITY,E=-1;for(let A=x;A<_;A+=u){const N=A-b;for(let L=k;L<T;L+=c){const R=L-C,D=v.get(g,A,L,m);D>I&&(I=D,a?E=i?((g*r.inHeight+A)*r.inWidth+L)*r.inChannels+m:(A*r.inWidth+L)*r.inChannels+m:E=N*d+R)}}o.set(E,g,y,S,m)}}return o}function ahe(e,t,n,r,a,i){const o=a.strideDepth,s=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,f=a.dilationWidth,d=a.effectiveFilterDepth,h=a.effectiveFilterHeight,p=a.effectiveFilterWidth,v=a.padInfo.front,g=a.padInfo.top,m=a.padInfo.left,y=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Gn(a.outShape,n),x=b.values,_=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[2]*a.outShape[3]*a.outShape[4],C=a.outShape[3]*a.outShape[4],k=a.outShape[4];for(let T=0;T<a.batchSize;++T){const I=T*_,E=T*r[0];for(let A=0;A<a.inChannels;++A)for(let N=0;N<a.outDepth;++N){const L=N*o-v;let R=L;for(;R<0;)R+=u;const D=Math.min(a.inDepth,d+L),P=I+N*S;for(let O=0;O<a.outHeight;++O){const M=O*s-g;let W=M;for(;W<0;)W+=c;const U=Math.min(a.inHeight,h+M),V=P+O*C;for(let H=0;H<a.outWidth;++H){const K=H*l-m;let j=K;for(;j<0;)j+=f;const ne=Math.min(a.inWidth,p+K),Q=V+H*k;let oe=y,ae=0,me=0;for(let B=R;B<D;B+=u){const re=E+B*r[1];for(let ge=W;ge<U;ge+=c){const Ie=re+ge*r[2];for(let Ce=j;Ce<ne;Ce+=f){const he=Ie+Ce*r[3],J=e[he+A];if(i==="max"&&J>oe?oe=J:i==="avg"&&(ae+=J,me++),isNaN(oe))break}if(isNaN(oe))break}if(isNaN(oe))break}const ve=Q+A;x[ve]=i==="avg"?ae/Math.max(me,1):oe}}}}return b}function ait(e,t){const n=Gn(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left;for(let v=0;v<t.batchSize;++v)for(let g=0;g<t.inChannels;++g)for(let m=0;m<t.outDepth;++m){const y=m*r-d;let b=y;for(;b<0;)b+=o;const x=Math.min(t.inDepth,u+y);for(let _=0;_<t.outHeight;++_){const S=_*a-h;let C=S;for(;C<0;)C+=s;const k=Math.min(t.inHeight,c+S);for(let T=0;T<t.outWidth;++T){const I=T*i-p;let E=I;for(;E<0;)E+=l;const A=Math.min(t.inWidth,f+I);let N=Number.NEGATIVE_INFINITY,L=-1;for(let R=b;R<x;R+=o){const D=R-y;for(let P=C;P<k;P+=s){const O=P-S;for(let M=E;M<A;M+=l){const W=M-I,U=e.get(v,R,P,M,g);U>=N&&(N=U,L=D*c*f+O*c+W)}}}n.set(L,v,m,_,T,g)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;nn(a,"avgPool");const{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=r,u=1;pe(Zi(o,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=zl(a.shape,i,o,u,s,l);let f;if(c.filterWidth===1&&c.filterHeight===1&&Er(c.inShape,c.outShape))f=Bc({inputs:{x:a},backend:n});else{const d=n.data.get(a.dataId).values,h=dn(a.shape),p=V6(d,a.shape,a.dtype,h,c,"avg");f=n.makeTensorInfo(c.outShape,a.dtype,p.values)}return f}const oit={kernelName:FA,backendName:"cpu",kernelFunc:iit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:o,pad:s,dimRoundingMode:l,dataFormat:u}=r;nn(a,"avgPool3d");const c=ud(a.shape,i,o,1,s,l,u),f=n.data.get(a.dataId).values,d=ahe(f,a.shape,a.dtype,dn(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}const lit={kernelName:BA,backendName:"cpu",kernelFunc:sit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uit(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:o,strides:s,pad:l,dimRoundingMode:u}=r;nn([a,i],"avgPool3DGrad");const c=ud(i.shape,o,s,1,l,u),f=c.strideDepth,d=c.strideHeight,h=c.strideWidth,p=c.filterDepth,v=c.filterHeight,g=c.filterWidth,m=c.dilationDepth,y=c.dilationHeight,b=c.dilationWidth,x=c.effectiveFilterDepth,_=c.effectiveFilterHeight,S=c.effectiveFilterWidth,C=x-1-c.padInfo.front,k=S-1-c.padInfo.left,T=_-1-c.padInfo.top,I=Gn(i.shape,"float32"),E=1/(p*v*g),A=n.bufferSync(a);for(let N=0;N<c.batchSize;++N)for(let L=0;L<c.inChannels;++L)for(let R=0;R<c.inDepth;++R)for(let D=0;D<c.inHeight;++D)for(let P=0;P<c.inWidth;++P){const O=R-C,M=D-T,W=P-k;let U=0;for(let V=0;V<x;V+=m){const H=(O+V)/f;if(!(H<0||H>=c.outDepth||Math.floor(H)!==H))for(let K=0;K<_;K+=y){const j=(M+K)/d;if(!(j<0||j>=c.outHeight||Math.floor(j)!==j))for(let ne=0;ne<S;ne+=b){const Q=(W+ne)/h;if(Q<0||Q>=c.outWidth||Math.floor(Q)!==Q)continue;const oe=A.get(N,H,j,Q,L);U+=oe}}}I.set(U*E,N,R,D,P,L)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const cit={kernelName:CV,backendName:"cpu",kernelFunc:uit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fit(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,o=i;nn([a,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=zl(o.shape,s,l,1,u),f=c.strideHeight,d=c.strideWidth,h=c.filterHeight,p=c.filterWidth,v=c.dilationHeight,g=c.dilationWidth,m=c.effectiveFilterHeight,y=c.effectiveFilterWidth,b=y-1-c.padInfo.left,x=m-1-c.padInfo.top,_=Gn(o.shape,"float32"),S=1/(h*p),C=n.data.get(a.dataId).values,k=Gn(a.shape,"float32",C);for(let T=0;T<c.batchSize;++T)for(let I=0;I<c.inChannels;++I)for(let E=0;E<c.inHeight;++E)for(let A=0;A<c.inWidth;++A){const N=E-x,L=A-b;let R=0;for(let D=0;D<m;D+=v){const P=(N+D)/f;if(!(P<0||P>=c.outHeight||Math.floor(P)!==P))for(let O=0;O<y;O+=g){const M=(L+O)/d;if(M<0||M>=c.outWidth||Math.floor(M)!==M)continue;const W=k.get(T,P,M,I);R+=W}}_.set(R*S,T,E,A,I)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const dit={kernelName:SV,backendName:"cpu",kernelFunc:fit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:i,offset:o,mean:s,variance:l}=t;pe(s.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),pe(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),pe(i==null||s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),nn([a,s,l,i,o],"batchNorm");let{varianceEpsilon:u}=r;u==null&&(u=.001);const c=n.data.get(a.dataId).values,f=n.data.get(s.dataId).values,d=n.data.get(l.dataId).values,h=i?n.data.get(i.dataId).values:new Float32Array([1]),p=o?n.data.get(o.dataId).values:new Float32Array([0]),v=new Float32Array(c.length),g=p.length,m=h.length,y=d.length,b=f.length;let x=0,_=0,S=0,C=0;for(let k=0;k<c.length;++k)v[k]=p[x++]+(c[k]-f[_++])*h[S++]/Math.sqrt(d[C++]+u),x>=g&&(x=0),_>=b&&(_=0),S>=m&&(S=0),C>=y&&(C=0);return n.makeTensorInfo(a.shape,a.dtype,v)}const pit={kernelName:JA,backendName:"cpu",kernelFunc:hit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:o}=r;nn([a],"batchToSpaceND");const s=i.reduce((m,y)=>m*y),l=OS(a.shape,i,s),u=PS(l.length,i.length),c=FS(a.shape,i,s),f=qz(o,i.length),d=Zz(c,o,i.length),h=qr({inputs:{x:a},backend:n,attrs:{shape:l}}),p=rs({inputs:{x:h},backend:n,attrs:{perm:u}}),v=qr({inputs:{x:p},backend:n,attrs:{shape:c}}),g=wg({inputs:{x:v},backend:n,attrs:{begin:f,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),g}const git={kernelName:zA,backendName:"cpu",kernelFunc:vit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:o}=r,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,u=L6(s,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}const yit={kernelName:TV,backendName:"cpu",kernelFunc:mit};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bit(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=On(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}const xit={kernelName:Dse,backendName:"cpu",kernelFunc:bit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wit=Lr(H_,(e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),_it={kernelName:H_,backendName:"cpu",kernelFunc:wit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sit=e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(ot(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,o=a.complexTensorInfos.imag,s=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values;for(let u=0;u<s.length;u++){const c=s[u],f=l[u];r[u]=Math.hypot(c,f)}return n.makeOutput(r,t.shape,"float32")},Cit={kernelName:WA,backendName:"cpu",kernelFunc:Sit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gy(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}const Tit={kernelName:HV,backendName:"cpu",kernelFunc:gy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function my(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=jn(a,t[0].shape)[0],o=t.map(v=>v.shape);jz(o,i);let s=Tc(t.map(v=>v.shape),i);if(ot(s)===0)return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter(v=>ot(v.shape)>0);if(l.length===1)return Bc({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const v=l.map(x=>xg({inputs:{input:x},backend:n})),g=l.map(x=>gy({inputs:{input:x},backend:n})),m=my({inputs:v,backend:n,attrs:{axis:i}}),y=my({inputs:g,backend:n,attrs:{axis:i}}),b=ys({inputs:{real:m,imag:y},backend:n});return v.forEach(x=>n.disposeIntermediateTensorInfo(x)),g.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),b}const u=l.map(v=>{const m=[-1,ot(v.shape.slice(i))];return qr({inputs:{x:v},backend:n,attrs:{shape:m}})}),c=u.map(v=>({vals:n.data.get(v.dataId).values,shape:v.shape}));s=Tc(u.map(v=>v.shape),1);const f=u[0].shape[0]===1,d=ude(c,s,t[0].dtype,f),h=Tc(l.map(v=>v.shape),i),p=n.makeTensorInfo(h,t[0].dtype,d);return u.forEach(v=>n.disposeIntermediateTensorInfo(v)),p}const kit={kernelName:HA,backendName:"cpu",kernelFunc:my};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ihe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r;nn([a,i],"conv2d");const f=cd(l),d=Ai(a.shape,i.shape,o,u,s,c,!1,f),h=d.filterHeight,p=d.filterWidth,v=d.dilationHeight,g=d.dilationWidth,m=d.padInfo.left,y=d.padInfo.top,b=d.dataFormat==="channelsLast",x=new Ti(d.outShape,a.dtype),_=dn(a.shape),S=dn(i.shape),C=_[0],k=b?_[1]:_[2],T=b?_[2]:1,I=b?1:_[1],E=x.strides[0],A=b?x.strides[1]:x.strides[2],N=b?x.strides[2]:1,L=b?1:x.strides[1],R=n.data.get(a.dataId).values,D=n.data.get(i.dataId).values,P=x.values;for(let O=0;O<d.batchSize;++O){const M=O*C,W=O*E;for(let U=0;U<d.outHeight;++U){const V=W+U*A,H=U*d.strideHeight-y;for(let K=0;K<h;++K){const j=H+K*v;if(j<0||j>=d.inHeight)continue;const ne=K*S[0],Q=M+j*k;for(let oe=0;oe<d.outWidth;++oe){const ae=V+oe*N,me=oe*d.strideWidth-m;for(let ve=0;ve<p;++ve){const B=me+ve*g;if(B<0||B>=d.inWidth)continue;const re=ne+ve*S[1],ge=Q+B*T;let Ie=re;for(let Ce=0;Ce<d.inChannels;++Ce){const he=R[ge+Ce*I];for(let J=0;J<d.outChannels;++J)P[ae+J*L]+=he*D[Ie+J];Ie+=d.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,P)}const Iit={kernelName:UA,backendName:"cpu",kernelFunc:ihe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;nn([a,i],"conv2dBackpropFilter");const f=cd(l),d=Ai(a.shape,c,o,1,s,u,!1,f),{strideHeight:h,strideWidth:p,filterHeight:v,filterWidth:g}=d,m=d.dataFormat==="channelsLast",y=new Ti(d.filterShape,"float32"),b=d.padInfo.left,x=d.padInfo.top,_=n.data.get(a.dataId).values,S=n.data.get(i.dataId).values,C=new Ti(a.shape,a.dtype,_),k=new Ti(i.shape,i.dtype,S);for(let T=0;T<v;++T){const I=Math.max(0,Math.ceil((x-T)/h)),E=Math.min(d.outHeight,(d.inHeight+x-T)/h);for(let A=0;A<g;++A){const N=Math.max(0,Math.ceil((b-A)/p)),L=Math.min(d.outWidth,(d.inWidth+b-A)/p);for(let R=0;R<d.inChannels;++R)for(let D=0;D<d.outChannels;++D){let P=0;for(let O=0;O<d.batchSize;++O)for(let M=I;M<E;++M){const W=T+M*h-x;for(let U=N;U<L;++U){const V=A+U*p-b;m?P+=C.get(O,W,V,R)*k.get(O,M,U,D):P+=C.get(O,R,W,V)*k.get(O,D,M,U)}}y.set(P,T,A,R,D)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Ait={kernelName:EV,backendName:"cpu",kernelFunc:Eit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dit(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:o,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r;nn([a,i],"conv2dBackpropInput");const f=dn(i.shape),d=dn(a.shape);let h=cd(u);const p=Ai(o,i.shape,s,1,l,c,!1,h),v=new Ti(p.inShape,"float32"),g=v.values,m=n.data.get(a.dataId).values,y=n.data.get(i.dataId).values,[b,x,_]=f,{batchSize:S,filterHeight:C,filterWidth:k,inChannels:T,inHeight:I,inWidth:E,outChannels:A,outHeight:N,outWidth:L,strideHeight:R,strideWidth:D}=p;h=p.dataFormat;const P=C-1-p.padInfo.top,O=k-1-p.padInfo.left,M=h==="channelsLast",W=v.strides[0],U=M?v.strides[1]:v.strides[2],V=M?v.strides[2]:1,H=M?1:v.strides[1],K=d[0],j=M?d[1]:d[2],ne=M?d[2]:1,Q=M?1:d[1];for(let oe=0;oe<S;++oe)for(let ae=0;ae<T;++ae)for(let me=0;me<I;++me){const ve=me-P,B=Math.max(0,Math.ceil(ve/R)),re=Math.min(N,(C+ve)/R);for(let ge=0;ge<E;++ge){const Ie=ge-O,Ce=Math.max(0,Math.ceil(Ie/D)),he=Math.min(L,(k+Ie)/D);let J=0;for(let xe=B;xe<re;++xe){const Ee=xe*R-ve;for(let Qe=Ce;Qe<he;++Qe){const Be=Qe*D-Ie,ce=K*oe+j*xe+ne*Qe,Re=b*(C-1-Ee)+x*(k-1-Be)+_*ae;for(let ct=0;ct<A;++ct){const It=m[ce+Q*ct],wt=y[Re+ct];J+=It*wt}}}const te=W*oe+U*me+V*ge+H*ae;g[te]=J}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const Nit={kernelName:GA,backendName:"cpu",kernelFunc:Dit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l}=r;nn([a,i],"conv3d");const u=tp(a.shape,i.shape,o,l,s),{filterDepth:c,filterHeight:f,filterWidth:d,dilationDepth:h,dilationHeight:p,dilationWidth:v,padInfo:g}=u,m=g.front,y=g.left,b=g.top,x=new Ti(u.outShape,a.dtype),_=n.data.get(a.dataId).values,S=n.data.get(i.dataId).values,C=x.values,k=dn(a.shape),T=dn(i.shape);for(let I=0;I<u.batchSize;++I){const E=I*k[0],A=I*x.strides[0];for(let N=0;N<u.outDepth;++N){const L=A+N*x.strides[1],R=N*u.strideDepth-m;for(let D=0;D<c;++D){const P=R+D*h;if(P<0||P>=u.inDepth)continue;const O=D*T[0],M=E+P*k[1];for(let W=0;W<u.outHeight;++W){const U=L+W*x.strides[2],V=W*u.strideHeight-b;for(let H=0;H<f;++H){const K=V+H*p;if(K<0||K>=u.inHeight)continue;const j=O+H*T[1],ne=M+K*k[2];for(let Q=0;Q<u.outWidth;++Q){const oe=U+Q*u.outChannels,ae=Q*u.strideWidth-y;for(let me=0;me<d;++me){const ve=ae+me*v;if(ve<0||ve>=u.inWidth)continue;const B=j+me*T[2],re=ne+ve*u.inChannels;let ge=B;for(let Ie=0;Ie<u.inChannels;++Ie){const Ce=_[re+Ie];for(let he=0;he<u.outChannels;++he)C[oe+he]+=Ce*S[ge+he];ge+=u.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const Mit={kernelName:KA,backendName:"cpu",kernelFunc:Rit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $it(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,pad:s,filterShape:l}=r;nn([a,i],"conv3dBackpropFilterV2");const u=dn(a.shape),c=dn(i.shape),f=tp(a.shape,l,o,1,s),d=f.strideDepth,h=f.strideHeight,p=f.strideWidth,v=f.filterDepth,g=f.filterHeight,m=f.filterWidth,y=new Ti(f.filterShape,"float32"),b=y.values,[x,_,S,C]=y.strides,k=n.data.get(i.dataId).values,[T,I,E,A]=c,N=n.data.get(a.dataId).values,[L,R,D,P]=u,O=f.padInfo.front,M=f.padInfo.left,W=f.padInfo.top;for(let U=0;U<v;++U){const V=Math.max(0,Math.ceil((O-U)/d)),H=Math.min(f.outDepth,(f.inDepth+O-U)/d),K=U*x;for(let j=0;j<g;++j){const ne=Math.max(0,Math.ceil((W-j)/h)),Q=Math.min(f.outHeight,(f.inHeight+W-j)/h),oe=j*_+K;for(let ae=0;ae<m;++ae){const me=Math.max(0,Math.ceil((M-ae)/p)),ve=Math.min(f.outWidth,(f.inWidth+M-ae)/p),B=ae*S+oe;for(let re=0;re<f.inChannels;++re){const ge=re*C+B;for(let Ie=0;Ie<f.outChannels;++Ie){let Ce=0;for(let he=0;he<f.batchSize;++he){const J=he*L,te=he*T;for(let xe=V;xe<H;++xe){const Qe=(U+xe*d-O)*R+J,Be=xe*I+te;for(let ce=ne;ce<Q;++ce){const ct=(j+ce*h-W)*D+Qe,It=ce*E+Be;for(let wt=me;wt<ve;++wt){const _t=(ae+wt*p-M)*P+ct,ln=wt*A+It;Ce+=N[_t+re]*k[ln+Ie]}}}}b[ge+Ie]=Ce}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Lit={kernelName:AV,backendName:"cpu",kernelFunc:$it};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oit(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:o,strides:s,inputShape:l}=r;nn([a],"conv3dBackpropInputV2");const u=dn(a.shape),c=dn(i.shape),f=tp(l,i.shape,s,1,o),d=new Ti(f.inShape,"float32"),h=d.values,[p,v,g,m]=d.strides,y=n.data.get(a.dataId).values,[b,x,_,S]=u,C=n.data.get(i.dataId).values,[k,T,I,E]=c,{batchSize:A,filterDepth:N,filterHeight:L,filterWidth:R,inChannels:D,inDepth:P,inHeight:O,inWidth:M,outChannels:W,outDepth:U,outHeight:V,outWidth:H,strideDepth:K,strideHeight:j,strideWidth:ne}=f,Q=N-1-f.padInfo.front,oe=L-1-f.padInfo.top,ae=R-1-f.padInfo.left;for(let me=0;me<A;++me)for(let ve=0;ve<D;++ve)for(let B=0;B<P;++B){const re=B-Q,ge=Math.max(0,Math.ceil(re/K)),Ie=Math.min(U,(N+re)/K);for(let Ce=0;Ce<O;++Ce){const he=Ce-oe,J=Math.max(0,Math.ceil(he/j)),te=Math.min(V,(L+he)/j);for(let xe=0;xe<M;++xe){const Ee=xe-ae,Qe=Math.max(0,Math.ceil(Ee/ne)),Be=Math.min(H,(R+Ee)/ne);let ce=0;for(let Re=ge;Re<Ie;++Re){const ct=Re*K-re;for(let It=J;It<te;++It){const wt=It*j-he;for(let Qt=Qe;Qt<Be;++Qt){const _t=Qt*ne-Ee,ln=b*me+x*Re+_*It+S*Qt,Ne=k*(N-1-ct)+T*(L-1-wt)+I*(R-1-_t)+E*ve;for(let nt=0;nt<W;++nt){const _e=y[ln+nt],We=C[Ne+nt];ce+=_e*We}}}}h[p*me+v*B+g*Ce+m*xe+ve]=ce}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}const Pit={kernelName:DV,backendName:"cpu",kernelFunc:Oit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fit=Lr(U_,e=>Math.cos(e)),Bit={kernelName:U_,backendName:"cpu",kernelFunc:Fit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vit=Lr(G_,e=>Math.cosh(e)),zit={kernelName:G_,backendName:"cpu",kernelFunc:Vit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wit(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:o}=t,{cropSize:s,method:l,extrapolationValue:u}=r,[c,f,d,h]=a.shape,p=i.shape[0],[v,g]=s,m=Gn([p,v,g,h],"float32"),y=n.data.get(i.dataId).values,b=n.data.get(o.dataId).values,x=n.data.get(a.dataId).values,_=dn(a.shape),S=dn(m.shape);for(let C=0;C<p;C++){const k=C*4,T=y[k],I=y[k+1],E=y[k+2],A=y[k+3],N=b[C];if(N>=c)continue;const L=v>1?(E-T)*(f-1)/(v-1):0,R=g>1?(A-I)*(d-1)/(g-1):0;for(let D=0;D<v;D++){const P=v>1?T*(f-1)+D*L:.5*(T+E)*(f-1);if(P<0||P>f-1){for(let O=0;O<g;O++)for(let M=0;M<h;M++){const W=M+O*S[2]+D*S[1]+C*S[0];m.values[W]=u}continue}if(l==="bilinear"){const O=Math.floor(P),M=Math.ceil(P),W=P-O;for(let U=0;U<g;U++){const V=g>1?I*(d-1)+U*R:.5*(I+A)*(d-1);if(V<0||V>d-1){for(let ne=0;ne<h;ne++){const Q=ne+U*S[2]+D*S[1]+C*S[0];m.values[Q]=u}continue}const H=Math.floor(V),K=Math.ceil(V),j=V-H;for(let ne=0;ne<h;ne++){let Q=ne+H*_[2]+O*_[1]+N*_[0];const oe=x[Q];Q=ne+K*_[2]+O*_[1]+N*_[0];const ae=x[Q];Q=ne+H*_[2]+M*_[1]+N*_[0];const me=x[Q];Q=ne+K*_[2]+M*_[1]+N*_[0];const ve=x[Q],B=oe+(ae-oe)*j,re=me+(ve-me)*j;Q=ne+U*S[2]+D*S[1]+C*S[0],m.values[Q]=B+(re-B)*W}}}else for(let O=0;O<g;++O){const M=g>1?I*(d-1)+O*R:.5*(I+A)*(d-1);if(M<0||M>d-1){for(let V=0;V<h;V++){const H=V+O*S[2]+D*S[1]+C*S[0];m.values[H]=u}continue}const W=Math.round(M),U=Math.round(P);for(let V=0;V<h;V++){const H=V+W*_[2]+U*_[1]+N*_[0],K=V+O*S[2]+D*S[1]+C*S[0];m.values[K]=x[H]}}}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const Hit={kernelName:RV,backendName:"cpu",kernelFunc:Wit};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:o,reverse:s}=r;nn(a,"cumprod");const l=da([i],a.shape.length);let u=a;l!=null&&(u=rs({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=Ca(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=Ts(u.dtype,"int32"),d=mV(ot(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],v=s?(m,y)=>m+p-y-1:(m,y)=>m+y;for(let m=0;m<h.length;m+=p)for(let y=0;y<p;y++){const b=v(m,y);if(y===0)d[b]=o?1:h[b];else{const x=v(m,y-1);d[b]=o?h[x]*d[x]:h[b]*d[x]}}const g=n.makeTensorInfo(u.shape,f,d);if(l!=null){const m=np(l),y=rs({inputs:{x:g},backend:n,attrs:{perm:m}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),y}return g}const Git={kernelName:NV,backendName:"cpu",kernelFunc:Uit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:o,reverse:s}=r;nn(a,"cumsum");const l=da([i],a.shape.length);let u=a;l!=null&&(u=rs({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=Ca(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=Ts(u.dtype,"int32"),d=Gi(ot(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],v=s?(m,y)=>m+p-y-1:(m,y)=>m+y;for(let m=0;m<h.length;m+=p)for(let y=0;y<p;y++){const b=v(m,y);if(y===0)d[b]=o?0:h[b];else{const x=v(m,y-1);d[b]=o?h[x]+d[x]:h[b]+d[x]}}const g=n.makeTensorInfo(u.shape,f,d);if(l!=null){const m=np(l),y=rs({inputs:{x:g},backend:n,attrs:{perm:m}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),y}return g}const jit={kernelName:jA,backendName:"cpu",kernelFunc:Kit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:o,binaryOutput:s}=r;if(a.shape.length===1){const l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=L6(l,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}else if(a.shape.length===2){const l=n.bufferSync(a),u=n.bufferSync(i),c=ode(l,u,o,s);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const Xit={kernelName:MV,backendName:"cpu",kernelFunc:Yit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:o}=r;pe(o==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`);const s=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],f=l*i,d=u*i,h=c/(i*i),p=n.data.get(a.dataId).values,v=new Float32Array(s*f*d*h);let g=0;for(let m=0;m<s;++m)for(let y=0;y<f;++y){const b=Math.floor(y/i),x=y%i;for(let _=0;_<d;++_){const S=Math.floor(_/i),C=_%i,k=(x*i+C)*h;for(let T=0;T<h;++T){const E=T+k+c*(S+u*(b+l*m));v[g++]=p[E]}}}return n.makeTensorInfo([s,f,d,h],a.dtype,v)}const Zit={kernelName:$V,backendName:"cpu",kernelFunc:qit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l,dimRoundingMode:u}=r;nn([a,i],"depthwiseConv2DNative");const c=dn(a.shape),f=dn(i.shape);let d=l;d==null&&(d=[1,1]),pe(Zi(o,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`);const h=Ai(a.shape,i.shape,o,d,s,u,!0),{filterHeight:p,filterWidth:v,dilationHeight:g,dilationWidth:m,padInfo:y}=h,b=y.left,x=y.top,_=h.outChannels/h.inChannels,S=new Ti(h.outShape,a.dtype),C=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,T=S.values;for(let I=0;I<h.batchSize;++I){const E=I*c[0],A=I*S.strides[0];for(let N=0;N<h.outHeight;++N){const L=A+N*S.strides[1],R=N*h.strideHeight-x;for(let D=0;D<p;++D){const P=R+D*g;if(P<0||P>=h.inHeight)continue;const O=D*f[0],M=E+P*c[1];for(let W=0;W<h.outWidth;++W){const U=L+W*S.strides[2],V=W*h.strideWidth-b;for(let H=0;H<v;++H){const K=V+H*m;if(K<0||K>=h.inWidth)continue;const j=O+H*f[1],ne=M+K*h.inChannels;let Q=U,oe=j;for(let ae=0;ae<h.inChannels;++ae){const me=C[ne+ae];for(let ve=0;ve<_;++ve)T[Q+ve]+=me*k[oe+ve];Q+=_,oe+=_}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const Jit={kernelName:YA,backendName:"cpu",kernelFunc:ohe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qit(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r;nn([a,i],"depthwiseConv2dNativeBackpropFilter");const f=Ai(a.shape,c,o,s,l,u,!0),{strideHeight:d,strideWidth:h,filterHeight:p,filterWidth:v}=f,g=new Ti(f.filterShape,"float32"),m=f.padInfo.left,y=f.padInfo.top,b=f.outChannels/f.inChannels,x=n.data.get(a.dataId).values,_=new Ti(a.shape,a.dtype,x),S=n.data.get(i.dataId).values,C=new Ti(i.shape,i.dtype,S);for(let k=0;k<p;++k){const T=Math.max(0,Math.ceil((y-k)/d)),I=Math.min(f.outHeight,(f.inHeight+y-k)/d);for(let E=0;E<v;++E){const A=Math.max(0,Math.ceil((m-E)/h)),N=Math.min(f.outWidth,(f.inWidth+m-E)/h);for(let L=0;L<f.outChannels;++L){const R=Math.trunc(L/b),D=L%b;let P=0;for(let O=0;O<f.batchSize;++O)for(let M=T;M<I;++M){const W=k+M*d-y;for(let U=A;U<N;++U){const V=E+U*h-m;P+=_.get(O,W,V,R)*C.get(O,M,U,L)}}g.set(P,k,E,R,D)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const eot={kernelName:LV,backendName:"cpu",kernelFunc:Qit};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tot(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r;nn([a,i],"depthwiseConv2DNativeBackpropInput");const f=dn(a.shape),d=dn(i.shape),h=Ai(c,i.shape,o,s,l,u,!0),p=new Ti(h.inShape,"float32"),v=p.values,[g,m,y]=p.strides,b=n.data.get(a.dataId).values,[x,_,S]=f,C=n.data.get(i.dataId).values,[k,T,I]=d,{batchSize:E,filterHeight:A,filterWidth:N,inChannels:L,inHeight:R,inWidth:D,outChannels:P,outHeight:O,outWidth:M,strideHeight:W,strideWidth:U}=h,V=A-1-h.padInfo.top,H=N-1-h.padInfo.left,K=P/L;for(let j=0;j<E;++j)for(let ne=0;ne<L;++ne)for(let Q=0;Q<R;++Q){const oe=Q-V,ae=Math.max(0,Math.ceil(oe/W)),me=Math.min(O,(A+oe)/W);for(let ve=0;ve<D;++ve){const B=ve-H,re=Math.max(0,Math.ceil(B/U)),ge=Math.min(M,(N+B)/U);let Ie=0;for(let Ce=ae;Ce<me;++Ce){const he=Ce*W-oe;for(let J=re;J<ge;++J){const te=J*U-B,xe=x*j+_*Ce+S*J,Ee=k*(A-1-he)+T*(N-1-te)+I*ne;for(let Qe=0;Qe<K;++Qe){const Be=ne*K+Qe,ce=b[xe+Be],Re=C[Ee+Qe];Ie+=ce*Re}}}v[g*j+m*Q+y*ve+ne]=Ie}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const not={kernelName:OV,backendName:"cpu",kernelFunc:tot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rot(e){const{inputs:t,backend:n}=e,{x:r}=t,a=ot(r.shape),i=n.data.get(r.dataId).values,o=Gn([a,a],r.dtype),s=o.values;for(let u=0;u<i.length;u++)s[u*a+u]=i[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,o.dtype,o.values)}const aot={kernelName:Nse,backendName:"cpu",kernelFunc:rot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iot={kernelName:XA,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a}=e,{strides:i,pad:o,dilations:s}=n,l=t,u=l.data.get(r.dataId).values,c=r.shape.length,f=l.data.get(a.dataId).values,d=a.shape.length,{batchSize:h,inHeight:p,inWidth:v,inChannels:g,outHeight:m,outWidth:y,padInfo:b,strideHeight:x,strideWidth:_,filterHeight:S,filterWidth:C,dilationHeight:k,dilationWidth:T,outShape:I}=NS(r.shape,a.shape,i,o,"NHWC",s),E=ot(I),A=I.length,N=ma(r.dtype,E);for(let R=0;R<h;++R)for(let D=0;D<m;++D){const P=D*x-b.top;for(let O=0;O<y;++O){const M=O*_-b.left;for(let W=0;W<g;++W){let U=Number.MIN_SAFE_INTEGER;for(let H=0;H<S;++H){const K=P+H*k;if(K>=0&&K<p)for(let j=0;j<C;++j){const ne=M+j*T;if(ne>=0&&ne<v){const Q=Sc([R,K,ne,W],c,dn(r.shape)),oe=Sc([H,j,W],d,dn(a.shape)),ae=u[Q]+f[oe];ae>U&&(U=ae)}}}const V=Sc([R,D,O,W],A,dn(I));N[V]=U}}}return{dataId:l.write(Fg(N,r.dtype),I,r.dtype),shape:I,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oot={kernelName:CP,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a,dy:i}=e,{strides:o,pad:s,dilations:l}=n,u=t,c=_u(r.shape,u.data.get(r.dataId).values),f=_u(a.shape,u.data.get(a.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:v,outHeight:g,outWidth:m,padInfo:y,strideHeight:b,strideWidth:x,filterHeight:_,filterWidth:S,dilationHeight:C,dilationWidth:k,outShape:T}=NS(r.shape,a.shape,o,s,"NHWC",l);pe(i.rank===T.length,()=>`Error in ${CP}, dy must have the same rank as output ${T.length}, but got ${i.rank}`);const I=_u(T,u.data.get(i.dataId).values),E=Ise(a.shape,a.dtype);for(let N=0;N<d;++N)for(let L=0;L<g;++L){const R=L*b-y.top;for(let D=0;D<m;++D){const P=D*x-y.left;for(let O=0;O<v;++O){let M=Number.MIN_SAFE_INTEGER,W=0,U=0;for(let V=0;V<_;++V){const H=R+V*C;if(H>=0&&H<h)for(let K=0;K<S;++K){const j=P+K*k;if(j>=0&&j<p){const ne=c[N][H][j][O]+f[V][K][O];ne>M&&(M=ne,W=V,U=K)}}}E[W][U][O]+=I[N][L][D][O]}}}return{dataId:u.write(Fg(E,r.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sot={kernelName:SP,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:a,dy:i}=e,{strides:o,pad:s,dilations:l}=n,u=t,c=_u(r.shape,u.data.get(r.dataId).values),f=_u(a.shape,u.data.get(a.dataId).values),{batchSize:d,inHeight:h,inWidth:p,inChannels:v,outHeight:g,outWidth:m,padInfo:y,strideHeight:b,strideWidth:x,filterHeight:_,filterWidth:S,dilationHeight:C,dilationWidth:k,outShape:T}=NS(r.shape,a.shape,o,s,"NHWC",l);pe(i.rank===T.length,()=>`Error in ${SP}, dy must have the same rank as output ${T.length}, but got ${i.rank}`);const I=_u(T,u.data.get(i.dataId).values),E=Ise(r.shape,r.dtype);for(let N=0;N<d;++N)for(let L=0;L<g;++L){const R=L*b-y.top;for(let D=0;D<m;++D){const P=D*x-y.left;for(let O=0;O<v;++O){let M=Number.MIN_SAFE_INTEGER,W=R<0?0:R,U=P<0?0:P;for(let V=0;V<_;++V){const H=R+V*C;if(H>=0&&H<h)for(let K=0;K<S;++K){const j=P+K*k;if(j>=0&&j<p){const ne=c[N][H][j][O]+f[V][K][O];ne>M&&(M=ne,W=H,U=j)}}}E[N][W][U][O]+=I[N][L][D][O]}}}return{dataId:u.write(Fg(E,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lot(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:i,options:o}=r,{contextOptions:s,imageOptions:l}=o||{},u=(l==null?void 0:l.alpha)||1,c=(s==null?void 0:s.contextType)||"2d";if(c!=="2d")throw new Error(`Context type ${s.contextType} is not supported by the CPU backend.`);const f=i.getContext(c,(s==null?void 0:s.contextAttributes)||{});if(f==null)throw new Error(`Could not get the context with ${c} type.`);const[d,h]=a.shape.slice(0,2),p=a.shape.length===2?1:a.shape[2],v=n.data.get(a.dataId).values,g=a.dtype==="float32"?255:1,m=new Uint8ClampedArray(h*d*4);for(let b=0;b<d*h;++b){const x=[0,0,0,255*u];for(let S=0;S<p;S++){const C=v[b*p+S];if(a.dtype==="float32"){if(C<0||C>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${C}.`)}else if(a.dtype==="int32"&&(C<0||C>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${C}.`);p===1?(x[0]=C*g,x[1]=C*g,x[2]=C*g):x[S]=C*g}const _=b*4;m[_+0]=Math.round(x[0]),m[_+1]=Math.round(x[1]),m[_+2]=Math.round(x[2]),m[_+3]=Math.round(x[3])}i.width=h,i.height=d;const y=new ImageData(m,h,d);return f.putImageData(y,0,0),a}const uot={kernelName:yKe,backendName:"cpu",kernelFunc:lot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jS(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"sum");let s;a.dtype==="bool"?s=Lh({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):s=Bc({inputs:{x:a},backend:n});const l=s.shape.length,u=jn(i,s.shape),c=da(u,l);let f=u,d=s;c!=null&&(d=rs({inputs:{x:s},backend:n,attrs:{perm:c}}),f=Ca(f.length,l)),Di("sum",f,d.shape.length);const[h,p]=mi(d.shape,f),v=Ts(d.dtype,"int32");let g=NI(n,h,v);const m=ot(p),y=n.data.get(g.dataId).values,b=n.data.get(d.dataId).values;for(let x=0;x<y.length;++x){const _=x*m;let S=0;for(let C=0;C<m;++C)S+=b[_+C];y[x]=S}if(o){const x=Ra(g.shape,u),_=g;g=qr({inputs:{x:g},backend:n,attrs:{shape:x}}),n.disposeIntermediateTensorInfo(_)}return n.disposeIntermediateTensorInfo(s),c!=null&&n.disposeIntermediateTensorInfo(d),g}const cot={kernelName:ED,backendName:"cpu",kernelFunc:jS};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fot(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:o,summedDims:s,idDims:l}=i6(a,i.length);s6(o.length,l,i);const{path:u,steps:c}=l6(s,l),f=c.length;let d=null,h=o.length;const p=[];for(let v=0;v<f;++v){for(const g of c[v]){const{permutationIndices:m,expandDims:y}=o6(h,l[g]);let b;u6(m)?b=i[g]:(b=rs({inputs:{x:i[g]},backend:n,attrs:{perm:m}}),p.push(b));const x=b.shape.slice();for(let _=0;_<y.length;++_)x.splice(y[_],0,1);Er(b.shape,x)||(b=qr({inputs:{x:b},backend:n,attrs:{shape:x}}),p.push(b)),d===null?d=b:(d=rN({inputs:{a:b,b:d},backend:n}),p.push(d))}v<f-1&&(u[v]>=0&&(d=jS({inputs:{x:d},backend:n,attrs:{axis:u[v]-(o.length-h),keepDims:!1}}),p.push(d)),h--)}for(const v of p)v!==d&&n.disposeIntermediateTensorInfo(v);return d}const dot={kernelName:PV,backendName:"cpu",kernelFunc:fot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hot(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;nn([r,a],"eluGrad");const i=new Float32Array(ot(a.shape)),o=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values;for(let l=0;l<o.length;++l){const u=o[l];u>=0?i[l]=s[l]:i[l]=s[l]*(u+1)}return n.makeTensorInfo(a.shape,"float32",i)}const pot={kernelName:FV,backendName:"cpu",kernelFunc:hot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vot=Jz,got=Qz,mot=e6,yot=t6,bot=n6,xot=r6,wot=Lr(Y_,e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+vot*n);return t*(1-((((xot*r+bot)*r+yot)*r+mot)*r+got)*r*Math.exp(-n*n))}),_ot={kernelName:Y_,backendName:"cpu",kernelFunc:wot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $I(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:i}=r,o=a.shape.length,s=a.shape.slice();let l=i;return i<0&&(pe(-(o+1)<=i,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+i+1),s.splice(l,0,1),qr({inputs:{x:a},backend:n,attrs:{shape:s}})}const Sot={kernelName:ZA,backendName:"cpu",kernelFunc:$I};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cot=ka((e,t)=>e/t),z6=Xa(K_,Cot),XP={kernelName:K_,backendName:"cpu",kernelFunc:z6};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function she(e,t,n){const r=e.shape,a=r[0],i=r[1],o=n.data.get(e.dataId),s=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,u=[a,i],c=ot(u),f=Ui("float32",c),d=Ui("float32",c);for(let g=0;g<a;g++){const m=wg({inputs:{x:s},backend:n,attrs:{begin:[g,0],size:[1,i]}}),y=wg({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,i]}}),b=ys({inputs:{real:m,imag:y},backend:n}),{real:x,imag:_}=Tot(b,t,n),S=Gf(x,_);for(let C=0;C<i;C++){const k=a6(S,C);f[g*i+C]=k.real,d[g*i+C]=k.imag}n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b)}const h=n.makeTensorInfo(u,"float32",f),p=n.makeTensorInfo(u,"float32",d),v=ys({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),v}function Tot(e,t,n){const r=ot(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,o=n.data.get(a.complexTensorInfos.imag.dataId).values;if(kot(r)){const s=qP(i,o,r,t,n),l=[e.shape[0],e.shape[1]];if(t){const u=n.makeTensorInfo(l,"float32",s.real),c=n.makeTensorInfo(l,"float32",s.imag),f=n.makeTensorInfo([],"float32",Qh(r,"float32")),d=Bc({inputs:{x:f},backend:n}),h=XP.kernelFunc({inputs:{a:u,b:f},backend:n}),p=XP.kernelFunc({inputs:{a:c,b:d},backend:n}),v=n.data.get(h.dataId).values,g=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:v,imag:g}}return s}else{const s=Gf(i,o),l=Iot(s,r,t);return xue(l)}}function kot(e){return(e&e-1)===0}function qP(e,t,n,r,a){if(n===1)return{real:e,imag:t};const i=Gf(e,t),o=n/2,s=wue(i),l=s.real,u=s.imag,c=[l.length],f=a.makeTensorInfo(c,"float32",l),d=a.makeTensorInfo(c,"float32",u),h=ys({inputs:{real:f,imag:d},backend:a}),p=_ue(i),v=p.real,g=p.imag,m=[v.length],y=a.makeTensorInfo(m,"float32",v),b=a.makeTensorInfo(m,"float32",g),x=ys({inputs:{real:y,imag:b},backend:a}),_=qP(l,u,o,r,a),S=_.real,C=_.imag,k=[S.length],T=a.makeTensorInfo(k,"float32",S),I=a.makeTensorInfo(k,"float32",C),E=ys({inputs:{real:T,imag:I},backend:a}),A=qP(v,g,o,r,a),N=A.real,L=A.imag,R=[N.length],D=a.makeTensorInfo(R,"float32",N),P=a.makeTensorInfo(R,"float32",L),O=ys({inputs:{real:D,imag:P},backend:a}),M=Cue(n,r),W=[M.real.length],U=a.makeTensorInfo(W,"float32",M.real),V=a.makeTensorInfo(W,"float32",M.imag),H=ys({inputs:{real:U,imag:V},backend:a}),K=rN({inputs:{a:H,b:O},backend:a}),j=vy({inputs:{a:E,b:K},backend:a}),ne=B6({inputs:{a:E,b:K},backend:a}),Q=xg({inputs:{input:j},backend:a}),oe=xg({inputs:{input:ne},backend:a}),ae=gy({inputs:{input:j},backend:a}),me=gy({inputs:{input:ne},backend:a}),ve=my({inputs:[Q,oe],backend:a,attrs:{axis:0}}),B=my({inputs:[ae,me],backend:a,attrs:{axis:0}}),re=a.data.get(ve.dataId).values,ge=a.data.get(B.dataId).values;return a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(P),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(ne),a.disposeIntermediateTensorInfo(Q),a.disposeIntermediateTensorInfo(ae),a.disposeIntermediateTensorInfo(oe),a.disposeIntermediateTensorInfo(me),a.disposeIntermediateTensorInfo(ve),a.disposeIntermediateTensorInfo(B),{real:re,imag:ge}}function Iot(e,t,n){const r=new Float32Array(t*2);for(let a=0;a<t;a++){let i=0,o=0;for(let s=0;s<t;s++){const l=Tue(a*s,t,n),u=a6(e,s);i+=u.real*l.real-u.imag*l.imag,o+=u.real*l.imag+u.imag*l.real}n&&(i/=t,o/=t),Sue(r,i,o,a)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eot(e){const{inputs:t,backend:n}=e,{input:r}=t,a=ot(r.shape),i=r.shape[r.shape.length-1],o=a/i,s=qr({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),l=she(s,!1,n),u=qr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),u}const Aot={kernelName:BV,backendName:"cpu",kernelFunc:Eot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W6(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:i}=n,o=i||Xy(a),s=ma(o,ot(r));return Not(s,a,o),t.makeTensorInfo(r,o,s)}const Dot={kernelName:VV,backendName:"cpu",kernelFunc:W6};function Not(e,t,n){e.fill(t)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rot={kernelName:zV,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,a=n,i=Ui(r.dtype,ot(r.shape)),[o,s,l,u]=r.shape,c=a.data.get(r.dataId).values;for(let d=0;d<o;d++){const h=d*l*s*u;for(let p=0;p<s;p++){const v=p*(l*u);for(let g=0;g<l;g++){const m=g*u;for(let y=0;y<u;y++){const b=Math.round(l-g-1),x=h+v+m+y;let _=c[x];if(b>=0&&b<l){const S=b*u,C=h+v+S+y;_=c[C]}i[x]=_}}}}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:o,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let v=ihe({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(o){const g=v;if(c==="NCHW"&&o.shape.length===1&&o.shape[0]!==1){const m=qr({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});v=vy({inputs:{a:v,b:m},backend:n}),n.disposeIntermediateTensorInfo(m)}else v=vy({inputs:{a:v,b:o},backend:n});n.disposeIntermediateTensorInfo(g)}if(h){const g=v;if(c==="NCHW"&&h==="prelu"&&s.shape.length===1&&s.shape[0]!==1){const m=qr({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});v=MI(n,v,h,m,p),n.disposeIntermediateTensorInfo(m)}else v=MI(n,v,h,s,p);n.disposeIntermediateTensorInfo(g)}return v}const $ot={kernelName:dI,backendName:"cpu",kernelFunc:Mot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:o,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let v=ohe({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(o){const g=v;v=vy({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(g)}if(h){const g=v;v=MI(n,v,h,s,p),n.disposeIntermediateTensorInfo(g)}return v}const Oot={kernelName:qse,backendName:"cpu",kernelFunc:Lot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pot(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=ot(r.shape),o=a.shape,s=o[o.length-1],[l,u,c,f]=zz(r,a);if(u===0)return n.makeTensorInfo(l,r.dtype,[]);const d=n.data.get(a.dataId).values,h=n.bufferSync(r),p=mde(d,h,r.dtype,u,s,c,f,r.shape,i);return n.makeTensorInfo(l,r.dtype,p.values)}const Fot={kernelName:Rse,backendName:"cpu",kernelFunc:Pot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:o,batchDims:s}=r;nn([a,i],"gatherV2");const l=jn(o,a.shape)[0],u=n.data.get(i.dataId).values,c=a.shape[l];for(let x=0;x<u.length;++x){const _=u[x];pe(_<=c-1&&_>=0,()=>`GatherV2: the index value ${_} is not in [0, ${c-1}]`)}let f=s;s==null&&(f=0);const d=ot(i.shape),h=f6(a,i,l,f),p=qr({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),v=qr({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,d/h.batchSize]}}),g=[h.batchSize,h.outerSize,d/h.batchSize,h.sliceSize],m=n.bufferSync(v),y=n.bufferSync(p),b=yde(y,m,g);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}const Vot={kernelName:QA,backendName:"cpu",kernelFunc:Bot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zot(e){const{inputs:t,backend:n}=e,{input:r}=t,a=ot(r.shape),i=r.shape[r.shape.length-1],o=a/i,s=qr({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),l=she(s,!0,n),u=qr({inputs:{x:l},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),u}const Wot={kernelName:WV,backendName:"cpu",kernelFunc:zot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hot=Lr(tS,e=>Number.isFinite(e)?1:0,"bool"),Uot={kernelName:tS,backendName:"cpu",kernelFunc:Hot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Got=Lr(nS,e=>Math.abs(e)===1/0?1:0,"bool"),Kot={kernelName:nS,backendName:"cpu",kernelFunc:Got};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jot=Lr(rS,e=>Number.isNaN(e)?1:0,"bool"),Yot={kernelName:rS,backendName:"cpu",kernelFunc:jot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xot(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,o=Sde(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}const qot={kernelName:Mse,backendName:"cpu",kernelFunc:Xot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zot=Lr(iS,e=>Math.log1p(e)),Jot={kernelName:iS,backendName:"cpu",kernelFunc:Zot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qot=ka((e,t)=>e&&t),est=Xa(aD,Qot,null,"bool"),tst={kernelName:aD,backendName:"cpu",kernelFunc:est};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nst=Lr(iD,e=>e?0:1,"bool"),rst={kernelName:iD,backendName:"cpu",kernelFunc:nst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ast=ka((e,t)=>e||t),ist=Xa(oD,ast,null,"bool"),ost={kernelName:oD,backendName:"cpu",kernelFunc:ist};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:o,alpha:s,beta:l}=r;nn(a,"LRN");const u=a.shape[3],c=u-1,f=n.data.get(a.dataId).values,d=ot(a.shape),h=new Float32Array(d);function p(v){const g=v%u;let m=v-g+Math.max(0,g-i);const y=v-g+Math.min(g+i,c);let b=0;for(;m<=y;m++){const x=f[m];b+=x*x}return b}for(let v=0;v<d;v++){const g=p(v),m=f[v]*Math.pow(o+s*g,-l);h[v]=m}return n.makeTensorInfo(a.shape,a.dtype,h)}const lst={kernelName:sD,backendName:"cpu",kernelFunc:sst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ust(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:o}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r;nn(o,"LRNGrad");const f=ot(o.shape),d=o.shape[3],h=n.data.get(o.dataId).values,p=n.data.get(a.dataId).values,v=n.data.get(i.dataId).values,g=new Float32Array(f),m=f;for(let y=0;y<m;y++){const b=y%d,x=y-b+Math.max(0,b-s),_=y-b+Math.min(d,b+s+1);let S=0;for(let C=x;C<_;C++)S+=Math.pow(p[C],2);S=u*S+l;for(let C=x;C<_;C++){let k=-2*u*c*p[C]*v[y]/S;y===C&&(k+=Math.pow(S,-c)),k*=h[y],g[C]+=k}}return n.makeTensorInfo(o.shape,a.dtype,g)}const cst={kernelName:UV,backendName:"cpu",kernelFunc:ust};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lhe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:o}=r,s=n;let l=a.shape;const u=l.length,c=jn(i,l);let f=c;const d=da(f,u);let h=s.data.get(a.dataId).values;if(d!=null){const x=new Array(u);for(let _=0;_<x.length;_++)x[_]=l[d[_]];h=P6(h,l,a.dtype,d,x),f=Ca(f.length,u),l=x}nn(a,"max"),Di("max",f,u);const[p,v]=mi(l,f),g=ot(v),m=Tde(h,g,p,a.dtype),y=s.write(m,p,a.dtype);let b=p;return o&&(b=Ra(p,c)),{dataId:y,shape:b,dtype:a.dtype}}const fst={kernelName:lD,backendName:"cpu",kernelFunc:lhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;nn(a,"maxPool");const{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=r,u=1;pe(Zi(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=zl(a.shape,i,o,u,s,l);let f;if(c.filterWidth===1&&c.filterHeight===1&&Er(c.inShape,c.outShape))f=Bc({inputs:{x:a},backend:n});else{const d=n.data.get(a.dataId).values,h=dn(a.shape),p=V6(d,a.shape,a.dtype,h,c,"max");f=n.makeTensorInfo(c.outShape,a.dtype,p.values)}return f}const hst={kernelName:uD,backendName:"cpu",kernelFunc:dst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:o,pad:s,dimRoundingMode:l,dataFormat:u}=r;nn(a,"maxPool3d");const c=ud(a.shape,i,o,1,s,l,u),f=n.data.get(a.dataId).values,d=ahe(f,a.shape,a.dtype,dn(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}const vst={kernelName:cD,backendName:"cpu",kernelFunc:pst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gst(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:o,strides:s,pad:l,dimRoundingMode:u}=r;nn([a,i],"maxPool3DGrad");const c=ud(i.shape,o,s,1,l,u),f=n.bufferSync(i),d=ait(f,c),h=c.strideDepth,p=c.strideHeight,v=c.strideWidth,g=c.dilationDepth,m=c.dilationHeight,y=c.dilationWidth,b=c.effectiveFilterDepth,x=c.effectiveFilterHeight,_=c.effectiveFilterWidth,S=b-1-c.padInfo.front,C=_-1-c.padInfo.left,k=x-1-c.padInfo.top,T=Gn(i.shape,"float32"),I=n.bufferSync(a);for(let E=0;E<c.batchSize;++E)for(let A=0;A<c.inChannels;++A)for(let N=0;N<c.inDepth;++N)for(let L=0;L<c.inHeight;++L)for(let R=0;R<c.inWidth;++R){const D=N-S,P=L-k,O=R-C;let M=0;for(let W=0;W<b;W+=g){const U=(D+W)/h;if(!(U<0||U>=c.outDepth||Math.floor(U)!==U))for(let V=0;V<x;V+=m){const H=(P+V)/p;if(!(H<0||H>=c.outHeight||Math.floor(H)!==H))for(let K=0;K<_;K+=y){const j=(O+K)/v;if(j<0||j>=c.outWidth||Math.floor(j)!==j)continue;const ne=b*x*_-1-d.get(E,U,H,j,A),Q=W*x*_+V*_+K,oe=ne===Q?1:0;if(oe===0)continue;const ae=I.get(E,U,H,j,A);M+=ae*oe}}}T.set(M,E,N,L,R,A)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const mst={kernelName:KV,backendName:"cpu",kernelFunc:gst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yst(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:o}=t,s=i;nn([i,o],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=zl(s.shape,l,u,1,c,f),h=n.data.get(s.dataId).values,p=Gn(d.outShape,s.dtype,rhe(h,s.shape,s.dtype,d).values),v=d.strideHeight,g=d.strideWidth,m=d.dilationHeight,y=d.dilationWidth,b=d.effectiveFilterHeight,x=d.effectiveFilterWidth,_=x-1-d.padInfo.left,S=b-1-d.padInfo.top,C=Gn(s.shape,"float32"),k=n.data.get(a.dataId).values,T=Gn(a.shape,"float32",k);for(let I=0;I<d.batchSize;++I)for(let E=0;E<d.inChannels;++E)for(let A=0;A<d.inHeight;++A)for(let N=0;N<d.inWidth;++N){const L=A-S,R=N-_;let D=0;for(let P=0;P<b;P+=m){const O=(L+P)/v;if(!(O<0||O>=d.outHeight||Math.floor(O)!==O))for(let M=0;M<x;M+=y){const W=(R+M)/g;if(W<0||W>=d.outWidth||Math.floor(W)!==W)continue;const U=b*x-1-p.get(I,O,W,E),V=P*x+M,H=U===V?1:0;if(H===0)continue;const K=T.get(I,O,W,E);D+=K*H}}C.set(D,I,A,N,E)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const bst={kernelName:GV,backendName:"cpu",kernelFunc:yst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xst(e,t,n,r,a){const i=dn(t),o=V6(e,t,n,i,a,"max"),s=rhe(e,t,n,a,!0,r);return[o.values,s.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wst={kernelName:$se,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:a,strides:i,pad:o,includeBatchInIndex:s}=t,l=n;nn(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,c=zl(r.shape,a,i,[1,1],o),[f,d]=xst(u,r.shape,r.dtype,s,c),h=l.write(f,c.outShape,r.dtype),p=l.write(d,c.outShape,r.dtype);return[{dataId:h,shape:c.outShape,dtype:r.dtype},{dataId:p,shape:c.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _st(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=jn(i,a.shape),u=mi(a.shape,s)[1],c=ot(u),f=[],d=n.makeTensorInfo([],"float32",new Float32Array([c]));f.push(d);const h=Lh({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});f.push(h);const p=z6({inputs:{a:h,b:d},backend:n});f.push(p);const v=jS({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:o}});return f.forEach(g=>n.disposeIntermediateTensorInfo(g)),v}const Sst={kernelName:fD,backendName:"cpu",kernelFunc:_st};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;nn(a,"min");const s=jn(i,a.shape);let l=s;const u=da(l,a.shape.length);let c=a;u!=null&&(c=rs({inputs:{x:a},backend:n,attrs:{perm:u}}),l=Ca(l.length,a.shape.length)),Di("min",l,c.shape.length);const[f,d]=mi(c.shape,l),h=ot(d),p=Gi(ot(f),c.dtype),v=n.data.get(c.dataId).values;for(let m=0;m<p.length;++m){const y=m*h;let b=v[y];for(let x=0;x<h;++x){const _=v[y+x];(Number.isNaN(_)||_<b)&&(b=_)}p[m]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(o){const m=Ra(f,s),y=qr({inputs:{x:g},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(g),y}return g}const Tst={kernelName:dD,backendName:"cpu",kernelFunc:Cst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,mode:o}=r;nn(a,"mirrorPad");const s=i.map((b,x)=>b[0]+a.shape[x]+b[1]),l=i.map(b=>b[0]),u=i.map((b,x)=>b[0]+a.shape[x]),c=o==="reflect"?0:1,f=n.data.get(a.dataId).values,d=a.shape.length,h=dn(a.shape),p=ot(s),v=s.length,g=dn(s),m=Ui(a.dtype,p);for(let b=0;b<p;b++){let x=qy(b,v,g);for(let S=0;S<v;S++)x[S]<l[S]?x[S]=l[S]*2-x[S]-c:x[S]>=u[S]&&(x[S]=(u[S]-1)*2-x[S]+c);x=x.map((S,C)=>S-l[C]);const _=Sc(x,d,h);m[b]=f[_]}return{dataId:n.write(m,s,a.dtype),shape:s,dtype:a.dtype}}const Ist={kernelName:hD,backendName:"cpu",kernelFunc:kst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Est=ka((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}),Ast=Xa(lS,Est),Dst={kernelName:lS,backendName:"cpu",kernelFunc:Ast};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uhe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,o=a.shape.length;let s=i;if(s===-1&&(s=o-1),s!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${s}`);const l=jn([s],a.shape),u=lhe({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=Ra(u.shape,l),f=qr({inputs:{x:u},backend:n,attrs:{shape:c}}),d=B6({inputs:{a,b:f},backend:n}),h=hde({inputs:{x:d},backend:n}),p=jS({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),v=qr({inputs:{x:p},backend:n,attrs:{shape:c}}),g=z6({inputs:{a:h,b:v},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),g}const Nst={kernelName:ND,backendName:"cpu",kernelFunc:uhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rst(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:o,normalized:s}=r;nn(a,"multinomial");const l=s?a:uhe({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],f=n.data.get(l.dataId).values,d=[u,i],h=Gi(ot(d),"int32");for(let p=0;p<u;++p){const v=p*c,g=new Float32Array(c-1);g[0]=f[v];for(let b=1;b<g.length;++b)g[b]=g[b-1]+f[v+b];const m=kz.alea(o.toString()),y=p*i;for(let b=0;b<i;++b){const x=m();h[y+b]=g.length;for(let _=0;_<g.length;_++)if(x<g[_]){h[y+b]=_;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",h)}const Mst={kernelName:Lse,backendName:"cpu",kernelFunc:Rst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $st=Lz;function Lst(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l}=r;nn(a,"NonMaxSuppression");const u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,{selectedIndices:f}=$st(u,c,o,s,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const Ost={kernelName:jV,backendName:"cpu",kernelFunc:Lst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pst=Oz;function Fst(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r;nn(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:h}=Pst(c,f,o,s,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const Bst={kernelName:YV,backendName:"cpu",kernelFunc:Fst};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vst=Pz;function zst(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r;nn(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,d=o,h=s,p=l,v=u,{selectedIndices:g,selectedScores:m}=Vst(c,f,d,h,p,v);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}const Wst={kernelName:XV,backendName:"cpu",kernelFunc:zst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hst(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:o,onValue:s,offValue:l}=r;nn(a,"oneHot");const u=ot(a.shape),c=new Float32Array(u*o);c.fill(l);const f=n.data.get(a.dataId).values;for(let d=0;d<u;++d)f[d]>=0&&f[d]<o&&(c[d*o+f[d]]=s);return n.makeTensorInfo([...a.shape,o],i,c)}const Ust={kernelName:mD,backendName:"cpu",kernelFunc:Hst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LI(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const a=xg({inputs:{input:r},backend:n}),i=LI({inputs:{x:a},backend:n}),o=gy({inputs:{input:r},backend:n}),s=LI({inputs:{x:o},backend:n}),l=ys({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}else return W6({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const Gst={kernelName:$D,backendName:"cpu",kernelFunc:LI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function che(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const a=xg({inputs:{input:r},backend:n}),i=che({inputs:{x:a},backend:n}),o=gy({inputs:{input:r},backend:n}),s=LI({inputs:{x:o},backend:n}),l=ys({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}else return W6({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const Kst={kernelName:gD,backendName:"cpu",kernelFunc:che};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fhe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(t.length===1)return $I({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const i=t[0].shape,o=t[0].dtype;t.forEach(c=>{vV(i,c.shape,"All tensors passed to stack must have matching shapes"),pe(o===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const s=[],l=t.map(c=>{const f=$I({inputs:{input:c},backend:n,attrs:{dim:a}});return s.push(f),f}),u=my({inputs:l,backend:n,attrs:{axis:a}});return s.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const jst={kernelName:yD,backendName:"cpu",kernelFunc:fhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yst(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:o}=r;nn(a,"pad");const s=i.map((y,b)=>y[0]+a.shape[b]+y[1]),l=i.map(y=>y[0]),u=n.data.get(a.dataId).values,c=ot(a.shape),f=a.shape.length,d=dn(a.shape),h=ot(s),p=s.length,v=dn(s),g=Ui(a.dtype,h);o!==0&&g.fill(o);for(let y=0;y<c;y++){const x=qy(y,f,d).map((S,C)=>S+l[C]),_=Sc(x,p,v);g[_]=u[y]}return{dataId:n.write(g,s,a.dtype),shape:s,dtype:a.dtype}}const dhe={kernelName:bD,backendName:"cpu",kernelFunc:Yst};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xst=ka((e,t)=>Math.pow(e,t)),qst=Xa(cS,Xst),Zst={kernelName:cS,backendName:"cpu",kernelFunc:qst};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jst(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:o}=t,s=a.map(g=>n.data.get(g.dataId).values),l=a.map(g=>g.shape),u=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values,[f,d,h]=Nde(s,l,u,i.shape,i.dtype,c,o.shape),p=f.map(g=>n.makeTensorInfo([g.length],"int32",g)),v=n.makeTensorInfo(h,i.dtype,d);return p.concat([v])}const Qst={kernelName:Ose,backendName:"cpu",kernelFunc:Jst};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function elt(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=Rde(o,r.shape,r.dtype,s,a.shape,l,i.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}const tlt={kernelName:Pse,backendName:"cpu",kernelFunc:elt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nlt(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:o,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,f=n.data.get(o.dataId).values,d=s.map(g=>n.data.get(g.dataId).values),h=s.map(g=>g.shape),[p,v]=Mde(u,a.shape,c,i.shape,i.dtype,f,o.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,v)}const rlt={kernelName:Fse,backendName:"cpu",kernelFunc:nlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function alt(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:i,step:o}=n,s=$de(r,a,o,i);return t.makeTensorInfo([s.length],i,s)}const ilt={kernelName:qV,backendName:"cpu",kernelFunc:alt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const olt=Lr(fS,e=>1/e),slt={kernelName:fS,backendName:"cpu",kernelFunc:olt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function llt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:o,size:s}=r;nn(a,"resizeBilinear");const l=dn(a.shape),[u,c]=s,[f,d,h,p]=a.shape,v=n.data.get(a.dataId).values,g=new Float32Array(ot([f,u,c,p])),m=[i&&u>1?d-1:d,i&&c>1?h-1:h],y=[i&&u>1?u-1:u,i&&c>1?c-1:c];let b=0;const x=m[0]/y[0],_=m[1]/y[1];for(let S=0;S<f;S++)for(let C=0;C<u;C++){let k;o?k=x*(C+.5)-.5:k=x*C;const T=Math.max(0,Math.floor(k)),I=k-T,E=Math.min(d-1,Math.ceil(k)),A=S*l[0]+T*l[1],N=S*l[0]+E*l[1];for(let L=0;L<c;L++){let R;o?R=_*(L+.5)-.5:R=_*L;const D=Math.max(0,Math.floor(R)),P=R-D,O=Math.min(h-1,Math.ceil(R)),M=A+D*l[2],W=N+D*l[2],U=A+O*l[2],V=N+O*l[2];for(let H=0;H<p;H++){const K=v[M+H],j=v[W+H],ne=v[U+H],Q=v[V+H],oe=K+(ne-K)*P,ae=j+(Q-j)*P,me=oe+(ae-oe)*I;g[b++]=me}}}return n.makeTensorInfo([f,u,c,p],"float32",g)}const ult={kernelName:CD,backendName:"cpu",kernelFunc:llt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function clt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:o}=r;nn([i,a],"resizeBilinearGrad");const s=dn(a.shape),[l,u,c,f]=a.shape,[,d,h]=i.shape,p=new Float32Array(l*u*c*f),v=[o&&d>1?u-1:u,o&&h>1?c-1:c],g=[o&&d>1?d-1:d,o&&h>1?h-1:h],m=v[0]/g[0],y=v[1]/g[1],b=n.data.get(i.dataId).values;let x=0;for(let _=0;_<l;_++){const S=_*s[0];for(let C=0;C<d;C++){const k=C*m,T=Math.floor(k),I=Math.min(Math.ceil(k),u-1),E=S+T*s[1],A=S+I*s[1],N=k-T,L=1-N;for(let R=0;R<h;R++){const D=R*y,P=Math.floor(D),O=Math.min(Math.ceil(D),c-1),M=D-P,W=1-M,U=E+P*s[2],V=E+O*s[2],H=A+P*s[2],K=A+O*s[2],j=L*W,ne=L*M,Q=N*W,oe=N*M;for(let ae=0;ae<f;ae++){const me=b[x++];p[U+ae]+=me*j,p[V+ae]+=me*ne,p[H+ae]+=me*Q,p[K+ae]+=me*oe}}}}return n.makeTensorInfo([l,c,u,f],"float32",p)}const flt={kernelName:QV,backendName:"cpu",kernelFunc:clt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dlt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:o,size:s}=r;nn(a,"resizeNearestNeighbor");const l=dn(a.shape),[u,c]=s,[f,d,h,p]=a.shape,v=n.data.get(a.dataId).values,g=new Float32Array(f*u*c*p),m=[i&&u>1?d-1:d,i&&c>1?h-1:h],y=[i&&u>1?u-1:u,i&&c>1?c-1:c],b=m[0]/y[0],x=m[1]/y[1];let _=0;for(let S=0;S<f;S++){const C=S*l[0];for(let k=0;k<u;k++){const T=o?b*(k+.5):b*k;let I=Math.min(d-1,i?Math.round(T):Math.floor(T));o&&(I=Math.max(0,I));const E=C+I*l[1];for(let A=0;A<c;A++){const N=o?x*(A+.5):x*A;let L=Math.min(h-1,i?Math.round(N):Math.floor(N));o&&(L=Math.max(0,L));const R=E+L*l[2];for(let D=0;D<p;D++){const P=v[R+D];g[_++]=P}}}}return n.makeTensorInfo([f,u,c,p],a.dtype,g)}const hlt={kernelName:SD,backendName:"cpu",kernelFunc:dlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function plt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:o}=r;nn([i,a],"resizeNearestNeighborGrad");const s=dn(a.shape),l=dn(i.shape),[u,c,f,d]=a.shape,[,h,p]=i.shape,v=new Float32Array(u*c*f*d),g=n.data.get(i.dataId).values,m=[o&&h>1?c-1:c,o&&p>1?f-1:f],y=[o&&h>1?h-1:h,o&&p>1?p-1:p],b=m[0]/y[0],x=m[1]/y[1],_=1/b,S=1/x,C=Math.ceil(_)*2+2,k=Math.ceil(S)*2+2;for(let T=0;T<u;T++){const I=T*s[0];for(let E=0;E<c;E++){const A=I+E*s[1],N=Math.floor(E*_),L=Math.floor(N-C/2);for(let R=0;R<f;R++){const D=A+R*s[2],P=Math.floor(R*S),O=Math.floor(P-k/2);for(let M=0;M<d;M++){let W=0;for(let U=0;U<C;U++){const V=U+L;if(V<0||V>=h)continue;const H=I+V*l[1],K=V*b,j=Math.min(c-1,o?Math.round(K):Math.floor(K));if(E===j)for(let ne=0;ne<k;ne++){const Q=ne+O;if(Q<0||Q>=p)continue;const oe=H+Q*l[2],ae=Q*x,me=Math.min(f-1,o?Math.round(ae):Math.floor(ae));R===me&&(W+=g[oe+M])}}v[D+M]=W}}}}return n.makeTensorInfo(a.shape,a.dtype,v)}const vlt={kernelName:JV,backendName:"cpu",kernelFunc:plt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function glt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r;nn(a,"reverse");const o=a.shape.length,s=jn(i,a.shape);if(o===0)return Bc({inputs:{x:a},backend:n});const l=new Ti(a.shape,a.dtype),u=n.bufferSync(a);for(let c=0;c<l.size;c++){const f=l.indexToLoc(c),d=f.slice();s.forEach(h=>d[h]=a.shape[h]-1-d[h]),l.set(u.get(...d),...f)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const mlt={kernelName:TD,backendName:"cpu",kernelFunc:glt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ylt={kernelName:oz,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:a,fillValue:i,center:o}=t,s=n,l=Ui(r.dtype,ot(r.shape)),[u,c,f,d]=r.shape,[h,p]=Xz(o,c,f),v=255,g=Math.sin(a),m=Math.cos(a),y=s.data.get(r.dataId).values;for(let x=0;x<u;x++){const _=x*f*c*d;for(let S=0;S<c;S++){const C=S*(f*d);for(let k=0;k<f;k++){const T=k*d;for(let I=0;I<d;I++){const E=[u,S,k,I],A=E[2],N=E[1];let L=(A-h)*m-(N-p)*g,R=(A-h)*g+(N-p)*m;L=Math.round(L+h),R=Math.round(R+p);let D=i;if(typeof i!="number"&&(I===3?D=v:D=i[I]),L>=0&&L<f&&R>=0&&R<c){const O=R*(f*d),M=L*d,W=_+O+M+I;D=y[W]}const P=_+C+T+I;l[P]=D}}}}return{dataId:s.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const blt=Lr(pS,e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),xlt={kernelName:pS,backendName:"cpu",kernelFunc:blt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wlt(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:o}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=zg(i,a,o),d=!0,h=n.bufferSync(a),p=n.bufferSync(i),v=_v(h,p,o,f,u,l,s,c,0,d);return n.makeTensorInfo(o,v.dtype,v.values)}const _lt={kernelName:Bse,backendName:"cpu",kernelFunc:wlt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Slt(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function Clt(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}function Tlt(e,t,n,r,a,i){const o=ma("int32",n*a);for(let s=0;s<n;++s){const l=e.slice(s*r,(s+1)*r),u=s*a;for(let c=0;c<a;++c)o[u+c]=i==="left"?Slt(l,t[c+u]):Clt(l,t[c+u])}return o}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function klt(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:o}=r,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,u=Tlt(s,l,a.shape[0],a.shape[1],i.shape[1],o);return n.makeTensorInfo(i.shape,"int32",u)}const Ilt={kernelName:zse,backendName:"cpu",kernelFunc:klt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Elt(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t;nn([r,a,i],"select");const o=r.shape.length,s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=Ts(a.dtype,i.dtype),f=Gi(ot(a.shape),c);let d=0;const h=o===0||o>1||a.shape.length===1?1:ot(a.shape.slice(1));for(let p=0;p<s.length;p++)for(let v=0;v<h;v++)s[p]===1?f[d++]=l[p]:f[d++]=u[p];return n.makeTensorInfo(a.shape,c,f)}const Alt={kernelName:kD,backendName:"cpu",kernelFunc:Elt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dlt=UD,Nlt=GD,Rlt=Lr(gS,e=>e>=0?Nlt*e:Dlt*(Math.exp(e)-1)),Mlt={kernelName:gS,backendName:"cpu",kernelFunc:Rlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $lt=Lr(bS,e=>e<0?-1:e>0?1:0),Llt={kernelName:bS,backendName:"cpu",kernelFunc:$lt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Olt=Lr(mS,e=>Math.sin(e)),Plt={kernelName:mS,backendName:"cpu",kernelFunc:Olt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Flt=Lr(yS,e=>Math.sinh(e)),Blt={kernelName:yS,backendName:"cpu",kernelFunc:Flt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vlt=11920928955078125e-23,B7=Math.log(Vlt)+2,zlt=Lr(wS,e=>{const t=e>-B7,n=e<B7,r=Math.exp(e);let a;return n?a=r:t?a=e:a=Math.log(1+r),a}),Wlt={kernelName:wS,backendName:"cpu",kernelFunc:zlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hlt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:o}=r;nn([a],"spaceToBatchND");const s=ot(i),l=[[0,0]];l.push(...o);for(let S=1+i.length;S<a.shape.length;++S)l.push([0,0]);const u=dhe.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=OS(u.shape,i,s,!1),f=PS(c.length,i.length,!1),d=FS(u.shape,i,s,!1),v=qr({inputs:{x:u},backend:n,attrs:{shape:c}}),y=rs({inputs:{x:v},backend:n,attrs:{perm:f}}),_=qr({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(y),_}const Ult={kernelName:AD,backendName:"cpu",kernelFunc:Hlt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Glt(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:o}=t;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${a.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values[0],[f,d,h,p,v]=Fde(s,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],a.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(g=>Number(g)))),n.makeTensorInfo([v.length],r.dtype,new Int32Array(v))]}const Klt={kernelName:Wse,backendName:"cpu",kernelFunc:Glt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jlt(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.data.get(a.dataId).values),s=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[u,c,f]=Bde(s,r.shape,r.dtype,o,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}const Ylt={kernelName:Hse,backendName:"cpu",kernelFunc:jlt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xlt(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=F6(o,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const qlt={kernelName:Use,backendName:"cpu",kernelFunc:Xlt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zlt(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=F6(o,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}const Jlt={kernelName:Gse,backendName:"cpu",kernelFunc:Zlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qlt(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:o}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=zg(i,a,s),h=!1,p=n.bufferSync(a);let v;switch(i.dtype){case"bool":{const g=n.bufferSync(i),m=!!n.data.get(o.dataId).values[0];v=_v(p,g,s,d,c,u,l,f,m,h);break}case"float32":{const g=n.bufferSync(i),m=n.data.get(o.dataId).values[0];v=_v(p,g,s,d,c,u,l,f,m,h);break}case"int32":{const g=n.bufferSync(i),m=n.data.get(o.dataId).values[0];v=_v(p,g,s,d,c,u,l,f,m,h);break}case"string":{const g=n.bufferSync(i),m=Dh(n.data.get(o.dataId).values[0]);v=_v(p,g,s,d,c,u,l,f,m,h);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(s,v.dtype,v.values)}const eut={kernelName:Kse,backendName:"cpu",kernelFunc:Qlt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tut(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:o}=r,s=jn(o,a.shape)[0],l=c6(a,i,s),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map(f=>{const d=[...c];d[s]=f;const h=wg({inputs:{x:a},backend:n,attrs:{begin:u,size:d}});return u[s]+=f,h})}const nut={kernelName:DD,backendName:"cpu",kernelFunc:tut};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rut={kernelName:ez,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t;nn(n,"square");const a=r.data.get(n.dataId).values,i=new Float32Array(a.length);for(let s=0;s<a.length;++s){const l=a[s];i[s]=l*l}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aut=Lr(ES,(e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),iut={kernelName:ES,backendName:"cpu",kernelFunc:aut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function out(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:o,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r;nn(a,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:v,sliceDim0:g,isSimpleSlice:m,begin:y,end:b,strides:x}=Kz(a.shape,i,o,s,l,u,c,f,d);let _;if(v)_=qr({inputs:{x:a},backend:n,attrs:{shape:p}});else if(g||m){pe(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const S=Hz(y,b,x),C=wg({inputs:{x:a},backend:n,attrs:{begin:y,size:S}});_=qr({inputs:{x:C},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(C)}else{const S=n.bufferSync(a),C=Wde(h,S,x,y);_=n.makeTensorInfo(p,C.dtype,C.values)}return _}const sut={kernelName:nz,backendName:"cpu",kernelFunc:out};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lut(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:o,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.data.get(c.dataId).values,h=n.data.get(f.dataId).values,[p,v]=Hde(d,h,a,i,o,s,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",v)]}const uut={kernelName:jse,backendName:"cpu",kernelFunc:lut};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cut(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:o}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const s=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values[0],[u,c,f]=Ude(s,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const fut={kernelName:Yse,backendName:"cpu",kernelFunc:cut};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dut(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const o=n.data.get(i.dataId).values,s=Gde(o,a);return n.makeTensorInfo(i.shape,"int32",s)}const hut={kernelName:Xse,backendName:"cpu",kernelFunc:dut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const put=Lr(TS,e=>Math.tan(e)),vut={kernelName:TS,backendName:"cpu",kernelFunc:put};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gut=Lr(kS,e=>Math.tanh(e)),mut={kernelName:kS,backendName:"cpu",kernelFunc:gut};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yut(e){const{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:i}=t,{sliceRank:o,numUpdates:s,sliceSize:l,strides:u,outputSize:c}=zg(i,a,r.shape),f=!1,d=n.bufferSync(a),h=n.bufferSync(i),p=n.bufferSync(r),v=_v(d,h,r.shape,c,l,s,o,u,p,f);return n.makeTensorInfo(r.shape,v.dtype,v.values)}const but={kernelName:Vse,backendName:"cpu",kernelFunc:yut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xut(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;nn(a,"tile");const o=jde(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const wut={kernelName:IS,backendName:"cpu",kernelFunc:xut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ut(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:o}=r;nn(a,"topk");const s=n.data.get(a.dataId).values,[l,u]=Xde(s,a.shape,a.dtype,i,o);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}const Sut={kernelName:rz,backendName:"cpu",kernelFunc:_ut};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cut(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:i}=t,{interpolation:o,fillMode:s,fillValue:l,outputShape:u}=n,[c,f,d,h]=a.shape,[p,v]=u??[f,d],g=[c,p,v,h],m=dn(a.shape),y=m[0],b=m[1],x=m[2],_=dn(g),S=_[0],C=_[1],k=_[2],T=Ui(a.dtype,ot(g));T.fill(l);const I=r.data.get(a.dataId).values,E=r.data.get(i.dataId).values;for(let N=0;N<c;++N){const L=i.shape[0]===1?E:E.subarray(N*8,N*8+8);for(let R=0;R<p;++R)for(let D=0;D<v;++D)for(let P=0;P<h;++P){let O;const M=L[6]*D+L[7]*R+1;if(M===0)continue;const W=(L[0]*D+L[1]*R+L[2])/M,U=(L[3]*D+L[4]*R+L[5])/M,V=V7(W,d,s),H=V7(U,f,s);switch(o){case"nearest":O=Dut(I,f,d,y,b,x,N,H,V,P,l);break;case"bilinear":O=Nut(I,f,d,y,b,x,N,H,V,P,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}const K=N*S+R*C+D*k+P;T[K]=O}return r.makeTensorInfo(g,a.dtype,T)}return{dataId:r.write(T,g,a.dtype),shape:a.shape,dtype:a.dtype}}const Tut={kernelName:az,backendName:"cpu",kernelFunc:Cut};function V7(e,t,n){switch(n){case"reflect":return kut(e,t);case"wrap":return Iut(e,t);case"nearest":return Aut(e,t);case"constant":default:return Eut(e)}}function kut(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{const r=2*t;n-=r*Math.trunc(n/r),n>=t&&(n=r-n-1)}return lg(0,n,t-1)}function Iut(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{const r=t-1;n-=t*Math.trunc(n/r)}return lg(0,n,t-1)}function Eut(e,t){return e}function Aut(e,t){return lg(0,e,t-1)}function Ab(e,t,n,r,a,i,o,s,l,u,c){const f=o*r+s*a+l*i+u;return 0<=s&&s<t&&0<=l&&l<n?e[f]:c}function Dut(e,t,n,r,a,i,o,s,l,u,c){const f=Math.round(s),d=Math.round(l);return Ab(e,t,n,r,a,i,o,f,d,u,c)}function Nut(e,t,n,r,a,i,o,s,l,u,c){const f=Math.floor(s),d=Math.floor(l),h=f+1,p=d+1,v=(p-l)*Ab(e,t,n,r,a,i,o,f,d,u,c)+(l-d)*Ab(e,t,n,r,a,i,o,f,p,u,c),g=(p-l)*Ab(e,t,n,r,a,i,o,h,d,u,c)+(l-d)*Ab(e,t,n,r,a,i,o,h,p,u,c);return(h-s)*v+(s-f)*g}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rut(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;nn(i,"unique");const o=r.data.get(i.dataId).values,{outputValues:s,outputShape:l,indices:u}=qde(o,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}const Mut={kernelName:iz,backendName:"cpu",kernelFunc:Rut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ut(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:i}=r;i<0&&(i+=a.shape.length);const o=a.shape.length,s=a.shape[i],l=new Array(o-1);let u=0;for(let h=0;h<o;h++)h!==i&&(l[u++]=a.shape[h]);const c=new Array(o).fill(0),f=a.shape.slice();f[i]=1;const d=new Array(s);for(let h=0;h<d.length;h++){c[i]=h;const p=wg({inputs:{x:a},backend:n,attrs:{begin:c,size:f}});d[h]=qr({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return d}const Lut={kernelName:RD,backendName:"cpu",kernelFunc:$ut};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Out(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:o}=r;nn(a,"unsortedSegmentSum");const s=a.shape.length,l=i.shape.length,u=[],c=[],f=s-l;let d=i;for(let p=0;p<f;++p){const v=$I({inputs:{input:d},backend:n,attrs:{dim:p+1}});d=v,c.push(v)}for(let p=0;p<o;++p){const v=Qh(p,"int32"),g=n.makeTensorInfo([],"int32",v),m=fde({inputs:{a:g,b:d},backend:n}),y=Lh({inputs:{x:m},backend:n,attrs:{dtype:"float32"}}),b=rN({inputs:{a:y,b:a},backend:n}),x=jS({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});u.push(x),c.push(g),c.push(m),c.push(y),c.push(b),c.push(x)}const h=fhe({inputs:u,backend:n,attrs:{axis:0}});return c.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const Put={kernelName:MD,backendName:"cpu",kernelFunc:Out};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fut=[Rat,drt,$at,Oat,yrt,Fat,Vat,Wat,Uat,Kat,Yat,qat,Jat,tit,rit,oit,lit,cit,dit,Dat,pit,git,yit,xrt,xit,grt,_rt,_it,hrt,Cit,kit,Iit,Ait,Nit,Mit,Lit,Pit,Bit,zit,Hit,Git,jit,Xit,Zit,Jit,eot,not,aot,iot,oot,sot,uot,dot,Sat,pot,Srt,_ot,Crt,Sot,krt,Aot,Dot,Rot,Ert,Drt,$ot,Oot,Fot,Vot,Rrt,$rt,prt,Wot,Tit,Uot,Kot,Yot,Cat,Ort,Frt,qot,Vrt,Jot,tst,rst,ost,lst,cst,fst,Wrt,hst,vst,mst,bst,wst,Sst,Tst,Urt,Ist,Dst,Mst,Krt,Yrt,Ost,Bst,Wst,qrt,Ust,Kst,jst,dhe,Zst,kat,Qrt,Qst,tlt,rlt,ilt,vrt,XP,slt,Iat,Eat,Aat,ult,flt,hlt,vlt,mlt,ylt,xlt,sat,_lt,Ilt,Alt,Mlt,uat,Llt,Plt,Blt,cat,Nst,Wlt,Ult,Klt,Ylt,qlt,Jlt,eut,nut,hat,rut,vat,mat,iut,sut,uut,fut,hut,wat,cot,vut,mut,but,wut,Sut,Tut,Zrt,Mut,Lut,Put,Gst];for(const e of Fut)Zse(e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uv={},n2={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function But(e,t){uv[e]=t}function Ou(e,t){if(!(e in uv)||t!=null){const r=zut(e,t);if(r!==null)uv[e]=r;else return console.log("Could not get context for WebGL version",e),null}const n=uv[e];return n==null||n.isContextLost()?(delete uv[e],Ou(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),uv[e])}function Vut(e){if(!tt().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&e===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function zut(e,t){if(e!==1&&e!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=t??Vut(e);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete uv[e]},!1),tt().getBool("SOFTWARE_WEBGL_ENABLED")&&(n2.failIfMajorPerformanceCaveat=!1),e===1?n.getContext("webgl",n2)||n.getContext("experimental-webgl",n2):n.getContext("webgl2",n2)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var xw;(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(xw||(xw={}));var Bs;(function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"})(Bs||(Bs={}));var wi;(function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(wi||(wi={}));function YS(e,t){return[t,e]}function Wut(e,t){return e*t}function r2(e){const t=ot(e),n=Math.ceil(t/4);return bP(n)}function n1(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Hut(e,t){const[n,r]=n1(e,t);return n*r*4}function H6(e,t){const n=e;let r,a,i,o,s,l,u,c,f,d;return tt().getNumber("WEBGL_VERSION")===2?(r=n.R32F,a=n.R16F,i=n.RGBA16F,o=n.RGBA32F,s=n.RED,u=4,c=1,f=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,a=e.RGBA,i=e.RGBA,o=n.RGBA,s=e.RGBA,u=4,c=4,f=t!=null?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:d}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wt(e,t){const n=t();return tt().getBool("DEBUG")&&Uut(e),n}function Uut(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+Yut(e,t))}const Gut=596e-10,Kut=65504;function jut(e){return!!(tt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||Gut<Math.abs(e)&&Math.abs(e)<Kut)}function Yut(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function a2(e,t){return fd(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}function Xut(e,t){const n=fd(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Wt(e,()=>e.shaderSource(n,t)),Wt(e,()=>e.compileShader(n)),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function qut(e,t){const n=fd(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Wt(e,()=>e.shaderSource(n,t)),Wt(e,()=>e.compileShader(n)),tt().get("ENGINE_COMPILE_ONLY"))return n;if(e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw hhe(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const Zut=/ERROR: [0-9]+:([0-9]+):/g;function hhe(e,t){const n=Zut.exec(t);if(n==null){console.log(`Couldn't parse line number in error: ${t}`),console.log(e);return}const r=+n[1],a=e.split(`
`),i=a.length.toString().length+2,o=a.map((f,d)=>Am((d+1).toString(),i)+f);let s=0;for(let f=0;f<o.length;f++)s=Math.max(o[f].length,s);const l=o.slice(0,r-1),u=o.slice(r-1,r),c=o.slice(r);console.log(l.join(`
`)),console.log(t.split(`
`)[0]),console.log(`%c ${Am(u[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function Jut(e){return fd(e,()=>e.createProgram(),"Unable to create WebGLProgram.")}function Qut(e,t){if(Wt(e,()=>e.linkProgram(t)),!tt().get("ENGINE_COMPILE_ONLY")&&e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function oM(e,t){if(Wt(e,()=>e.validateProgram(t)),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function ect(e,t){const n=fd(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Wt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),Wt(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function tct(e,t){const n=fd(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return Wt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)),Wt(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),n}function nct(e){return fd(e,()=>e.createTexture(),"Unable to create WebGLTexture.")}function rct(e,t){const n=tt().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const r=`[${e}x${t}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){const r=`[${e}x${t}]`,a=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+a+".")}}function act(e){return fd(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function z7(e,t,n,r,a,i,o){const s=e.getAttribLocation(t,n);return s===-1?!1:(Wt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),Wt(e,()=>e.vertexAttribPointer(s,a,e.FLOAT,!1,i,o)),Wt(e,()=>e.enableVertexAttribArray(s)),!0)}function ict(e,t,n){cct(e,n),Wt(e,()=>e.activeTexture(e.TEXTURE0+n)),Wt(e,()=>e.bindTexture(e.TEXTURE_2D,t))}function oct(e,t,n){return fd(e,()=>e.getUniformLocation(t,n),'uniform "'+n+'" not present in program.')}function sct(e,t,n){return e.getUniformLocation(t,n)}function lct(e,t,n,r){Wt(e,()=>ict(e,t,r)),Wt(e,()=>e.uniform1i(n,r))}function sM(e,t,n){Wt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,n)),Wt(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function W7(e,t){Wt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),Wt(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function i2(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+uct(e,t))}function uct(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function fd(e,t,n){const r=Wt(e,()=>t());if(r==null)throw new Error(n);return r}function cct(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){const a=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${a}.`)}}function yy(e,t=2){return ot(e.slice(0,e.length-t))}function by(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function o2(e){let t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[yy(e),...by(e)]),t}function fct(e,t=!1){let n=tt().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=tt().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&tt().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n=n*2,r=r*2,e=e.map((s,l)=>l>=e.length-2?pV(e[l]):e[l]),e.length===1&&(e=[2,e[0]])),e.length!==2&&(e=Jh(e).newShape);let a=ot(e),i=null;e.length<=1&&a<=n?i=[1,a]:e.length===2&&e[0]<=n&&e[1]<=n?i=e:e.length===3&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:e.length===3&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);const o=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(i==null||o)if(t){const s=yy(e);let l=2,u=2;e.length&&([l,u]=by(e)),a=s*(l/2)*(u/2),i=bP(a).map(c=>c*2)}else i=bP(a);return i}function s2(e){return e%2===0}function OI(e,t){if(e=e.slice(-2),t=t.slice(-2),Er(e,t)||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r||s2(n)&&s2(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&s2(e[0])&&s2(t[0])}let lM,uM;function dct(e){if(lM==null){const t=Ou(e);lM=t.getParameter(t.MAX_TEXTURE_SIZE)}return lM}function hct(e){if(uM==null){const t=Ou(e);uM=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,uM)}function pct(e){if(e===0)return 0;let t;const n=Ou(e);return kl(n,"EXT_disjoint_timer_query_webgl2")&&e===2?t=2:kl(n,"EXT_disjoint_timer_query")?t=1:t=0,t}function kl(e,t){return e.getExtension(t)!=null}function H7(e){try{if(Ou(e)!=null)return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function vct(e){if(e===0)return!1;const t=Ou(e);if(e===1){if(!kl(t,"OES_texture_float"))return!1}else if(!kl(t,"EXT_color_buffer_float"))return!1;return ZP(t)}function gct(e){if(e===0)return!1;const t=Ou(e);if(e===1){if(!kl(t,"OES_texture_float")||!kl(t,"WEBGL_color_buffer_float"))return!1}else{if(kl(t,"EXT_color_buffer_float"))return ZP(t);const r="EXT_color_buffer_half_float";if(kl(t,r)){const a=t.getExtension(r);return mct(t,a)}return!1}return ZP(t)}function ZP(e){const t=H6(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(i),o}function mct(e,t){const n=H6(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}function yct(e){return e!==2?!1:Ou(e).fenceSync!=null}function XS(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>{n!=null&&pe(n.dtype!=="complex64",()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const on=tt();on.registerFlag("HAS_WEBGL",()=>on.getNumber("WEBGL_VERSION")>0);on.registerFlag("WEBGL_VERSION",()=>H7(2)?2:H7(1)?1:0);on.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);on.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>on.get("WEBGL_VERSION")===2);on.registerFlag("WEBGL_CPU_FORWARD",()=>!0);on.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);on.registerFlag("WEBGL_PACK",()=>on.getBool("HAS_WEBGL"));on.registerFlag("WEBGL_PACK_NORMALIZATION",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_CLIP",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_REDUCE",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_LAZILY_UNPACK",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_CONV_IM2COL",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>on.getBool("WEBGL_PACK"));on.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>dct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>hct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const e=on.getNumber("WEBGL_VERSION");return e===0?0:pct(e)});on.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>on.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!cle());on.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>vct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>on.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:on.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));on.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>gct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_FENCE_API_ENABLED",()=>yct(on.getNumber("WEBGL_VERSION")));on.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>on.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);on.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)});on.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>cle()?1:-1,e=>{if(typeof e!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&e!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)});on.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);on.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);on.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);on.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);on.registerFlag("WEBGL_EXP_CONV",()=>!1);on.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>on.getBool("IS_TEST"));on.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);on.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);on.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);on.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ko(){let e,t,n,r,a,i,o,s,l,u;return tt().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",s=tt().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gg(e,t,n="index"){const r=dn(t);return r.map((a,i)=>{const o=`int ${e[i]} = ${n} / ${a}`,s=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${a}`:`index -= ${e[i]} * ${a}`;return`${o}; ${s};`}).join("")}function aN(e,t,n="index"){const r=dn(t);return r.map((a,i)=>{const o=`int ${e[i]} = ${n} / outShapeStrides[${i}]`,s=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`;return`${o}; ${s};`}).join("")}function bct(e,t){const n=e.length,r=e.map(i=>`${t}[${i}]`),a=new Array(n-1);a[n-2]=r[n-1];for(let i=n-3;i>=0;--i)a[i]=`(${a[i+1]} * ${r[i+1]})`;return a}function xct(e,t,n="index"){const r=e.map((i,o)=>o),a=bct(r,t);return a.map((i,o)=>{const s=`int ${e[o]} = ${n} / ${a[o]}`,l=o===a.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${a[o]}`:`index -= ${e[o]} * ${a[o]}`;return`${s}; ${l};`}).join("")}function U6(e){const t=dn(e).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;
  }
`}function G6(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const phe=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:vhe}=iQe;function wct(e,t,n){const r=[];if(e.forEach(h=>{const p=ot(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?r.push(`uniform float ${h.name}${p>1?`[${p}]`:""};`):(r.push(`uniform sampler2D ${h.name};`),r.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:v}=K6(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(v.length){case 1:r.push(`uniform int ${h.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${h.name}Shape;`);break}r.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{r.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const a=r.join(`
`),i=e.map(h=>_ct(h,t,n.packedInputs,n.enableShapeUniforms)).join(`
`),o=t.texShape,s=ko(),l=Tct(s);let u,c,f=Ect(s);return t.isPacked?(u=Sct(t.logicalShape,o,n.enableShapeUniforms),c=Ict(s)):(u=Cct(t.logicalShape,o,n.enableShapeUniforms),c=kct(s)),n.packedInputs&&(f+=Rct),[f,l,c,a,u,i,n.userCode].join(`
`)}function r1(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return Uct(e,t);case 1:return Kct(e,t);case 2:return Yct(e,t);case 3:return qct(e,t);case 4:return Jct(e,t);case 5:return Qct(e);case 6:return eft(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function ghe(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return Hct(e);case 1:return Gct(e,t);case 2:return jct(e,t);case 3:return Xct(e,t);default:return Zct(e,t)}}function _ct(e,t,n=!1,r){let a="";n?a+=ghe(e,r):a+=r1(e,r);const i=e.shapeInfo.logicalShape,o=t.logicalShape;return i.length<=o.length&&(n?a+=tft(e,t):a+=nft(e,t)),a}function Sct(e,t,n){switch(e.length){case 0:return mhe();case 1:return Mct(e,t,n);case 2:return zct(e,t,n);case 3:return Lct(e,t,n);default:return Pct(e,t,n)}}function Cct(e,t,n){switch(e.length){case 0:return mhe();case 1:return $ct(e,t,n);case 2:return Wct(e,t,n);case 3:return Oct(e,t,n);case 4:return Fct(e,t,n);case 5:return Bct(e,t);case 6:return Vct(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}function Tct(e){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${e.texture2D}(textureSampler, uv).r;
    }
  `}function kct(e){return`
    void setOutput(float val) {
      ${e.output} = vec4(val, 0, 0, 0);
    }
  `}function Ict(e){return`
    void setOutput(vec4 val) {
      ${e.output} = val;
    }
  `}function Ect(e){return`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFs} vec2 resultUV;
    ${e.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${e.defineSpecialNaN}
    ${e.defineSpecialInf}
    ${e.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${Act}
    ${Dct}
    ${Nct}
  `}const Act=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Dct=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Nct=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Rct=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function mhe(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function Mct(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function $ct(e,t,n){return t[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${t[1]}.0);
      }
    `:t[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${t[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      return resTexRC.x * ${t[1]} + resTexRC.y;
    }
  `}function Lct(e,t,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec3(b, r, c);
    }
  `}function Oct(e,t,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${aN(["r","c","d"],e)}
    return ivec3(r, c, d);
  }
`;const r=Gg(["r","c","d"],e);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function Pct(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2);let o=i,s="",l="b, r, c";for(let u=2;u<e.length-1;u++)o*=e[e.length-u-1],s=`
      int b${u} = index / ${o};
      index -= b${u} * ${o};
    `+s,l=`b${u}, `+l;return`
    ivec${e.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${s}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec${e.length}(${l});
    }
  `}function Fct(e,t,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${aN(["r","c","d","d2"],e)}
      return ivec4(r, c, d, d2);
    }
  `;const r=Gg(["r","c","d","d2"],e);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function Bct(e,t){const n=Gg(["r","c","d","d2","d3"],e);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},
                             ${t[1]}));

      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function Vct(e,t){const n=Gg(["r","c","d","d2","d3","d4"],e);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function zct(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Er(e,t))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const a=Math.ceil(e[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec2(r, c);
    }
  `}function Wct(e,t,n){return Er(e,t)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));
      }
    `:e[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:e[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${t[0]}, ${t[1]}));
        int index = resTexRC.x * ${t[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${t[0]}, ${t[1]}));
      int index = resTexRC.x * ${t[1]} + resTexRC.y;
      int r = index / ${e[1]};
      int c = index - r * ${e[1]};
      return ivec2(r, c);
    }
  `}function Kg(e){return`offset${e}`}function Hct(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=ko();return`
    vec4 ${n}() {
      return ${r.texture2D}(${t}, halfCR);
    }
  `}function Uct(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[a,i]=e.shapeInfo.texShape;if(a===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=Kg(n);if(t)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${o});
      return sampleTexture(${n}, uv);
    }
  `;const[s,l]=e.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${s}, ${l}, ${o});
      return sampleTexture(${n}, uv);
    }
  `}function Gct(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=ko();if(t)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${o[0]}, ${o[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function Kct(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${a1(e)}
      }
    `;const a=e.shapeInfo.texShape,i=a[0],o=a[1];if(o===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const s=Kg(n);return o===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?t?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${o}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:t?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${o}, index + ${s});
      return sampleTexture(${n}, uv);
    }
  `}function jct(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=i[0],s=i[1],l=ko();if(i!=null&&Er(n,i))return t?`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${o}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(t)return`
    vec4 ${a}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${a}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function Yct(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(i!=null&&Er(n,i)){if(t)return`
      float ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const d=i[0],h=i[1];return`
    float ${a}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:o,keptDims:s}=Jh(n),l=o;if(l.length<n.length){const d=i1(e,l),h=["row","col"];return`
      ${r1(d,t)}
      float ${a}(int row, int col) {
        return ${a}(${o1(h,s)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${a1(e)}
      }
    `;const u=i[0],c=i[1],f=Kg(r);return c===1?t?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?t?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:t?`
      float ${a}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${f};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${a}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${f};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${r}, uv);
  }
`}function Xct(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const d=n.slice(1),h=[1,2],p=i1(e,d),v=["b","row","col"];return`
        ${ghe(p,t)}
        vec4 ${a}(int b, int row, int col) {
          return ${a}(${o1(v,h)});
        }
      `}const s=ko();if(t)return`
    vec4 ${a}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${s.texture2D}(${r}, uv);
    }
  `;const l=o[0],u=o[1],c=Math.ceil(n[2]/2),f=c*Math.ceil(n[1]/2);return`
    vec4 ${a}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${f}, ${c}, b, row, col);
      return ${s.texture2D}(${r}, uv);
    }
  `}function qct(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],o=n[2],{newShape:s,keptDims:l}=Jh(n),u=s;if(u.length<n.length){const v=i1(e,u),g=["row","col","depth"];return`
        ${r1(v,t)}
        float ${a}(int row, int col, int depth) {
          return ${a}(${o1(g,l)});
        }
      `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${o}, 1)));
        ${a1(e)}
      }
    `;const c=e.shapeInfo.texShape,f=c[0],d=c[1],h=e.shapeInfo.flatOffset;if(d===i&&h==null)return t?`
      float ${a}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${a}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${o}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${d}.0, ${f}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(d===o&&h==null)return t?`
      float ${a}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `;const p=Kg(r);return t?`
    float ${a}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${a}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${o} + depth + ${p};
        vec2 uv = uvFromFlat(${f}, ${d}, index);
        return sampleTexture(${r}, uv);
      }
  `}function Zct(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=ko();if(t)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);
    }
  `;const i=e.shapeInfo.logicalShape,o=i.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],f=Math.ceil(i[o-1]/2);let d=f*Math.ceil(i[o-2]/2),h="int b, int row, int col",p=`b * ${d} + (row / 2) * ${f} + (col / 2)`;for(let v=2;v<o-1;v++)h=`int b${v}, `+h,d*=i[o-v-1],p=`b${v} * ${d} + `+p;return`
    vec4 ${r}(${h}) {
      int index = ${p};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${a.texture2D}(${n}, uv);
    }
  `}function Jct(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],o=n[2]*i,s=n[1]*o,{newShape:l,keptDims:u}=Jh(n);if(l.length<n.length){const y=i1(e,l),b=["row","col","depth","depth2"];return`
      ${r1(y,t)}
      float ${a}(int row, int col, int depth, int depth2) {
        return ${a}(${o1(b,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${s}, ${o}, ${i}, 1)));
        ${a1(e)}
      }
    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1],p=`int stride2 = ${r}Shape[3];`,v=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(h===s&&c==null)return t?`
      float ${a}(int row, int col, int depth, int depth2) {
        ${p}
        ${v}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${o}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(h===i&&c==null)return t?`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;const m=Kg(r);return t?`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${v}
      ${g}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${m});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${s} + col * ${o} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${d}, ${h}, index + ${m});
      return sampleTexture(${r}, uv);
    }
  `}function Qct(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,o=t[2]*i,s=t[1]*o,{newShape:l,keptDims:u}=Jh(t);if(l.length<t.length){const v=i1(e,l),g=["row","col","depth","depth2","depth3"];return`
      ${r1(v)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${o1(g,u)});
      }
    `}if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${s}, ${o}, ${i}, ${a})) +
          depth3;
        ${a1(e)}
      }
    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1];if(h===s&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${o}, ${i}, ${a}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===a&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]},
               ${t[2]*t[3]}, ${t[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=Kg(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${s} + col * ${o} + depth * ${i} +
          depth2 * ${a} + depth3 + ${p};
      vec2 uv = uvFromFlat(${d}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function eft(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:i}=Jh(t);if(a.length<t.length){const g=i1(e,a),m=["row","col","depth","depth2","depth3","depth4"];return`
      ${r1(g)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${o1(m,i)});
      }
    `}const o=t[5],s=t[4]*o,l=t[3]*s,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${s})) +
          dot(
            vec2(depth3, depth4),
            vec2(${o}, 1)));
        ${a1(e)}
      }
    `;const f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];if(p===c&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${s}, ${o})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===o&&f==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${t[1]*t[2]*t[3]*t[4]},
               ${t[2]*t[3]*t[4]},
               ${t[3]*t[4]},
               ${t[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const v=Kg(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${s} + depth3 * ${o} + depth4 + ${v};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function a1(e){const t=e.name,n=ot(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${t}[i];
      }
    }
  `}function tft(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,o=t.logicalShape.length,s=vhe(e.shapeInfo.logicalShape,t.logicalShape),l=Br(o),u=o-i;let c;const f=["x","y","z","w","u","v"];i===0?c="":o<2&&s.length>=1?c="coords = 0;":c=s.map(y=>`coords.${f[y+u]} = 0;`).join(`
`);let d="";o<2&&i>0?d="coords":d=e.shapeInfo.logicalShape.map((y,b)=>`coords.${f[b+u]}`).join(", ");let h="return outputValue;";const v=ot(e.shapeInfo.logicalShape)===1,m=ot(t.logicalShape)===1;if(i===1&&!v&&!m)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(v&&!m)o===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(s.length){const y=i-2,b=i-1;s.indexOf(y)>-1&&s.indexOf(b)>-1?h="return vec4(outputValue.x);":s.indexOf(y)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${a}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${r}(${d});
      ${h}
    }
  `}function nft(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&e.shapeInfo.flatOffset==null&&Er(o,i))return`
      float ${a}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=Br(l),c=vhe(e.shapeInfo.logicalShape,t.logicalShape),f=l-s;let d;const h=["x","y","z","w","u","v"];s===0?d="":l<2&&c.length>=1?d="coords = 0;":d=c.map(v=>`coords.${h[v+f]} = 0;`).join(`
`);let p="";return l<2&&s>0?p="coords":p=e.shapeInfo.logicalShape.map((v,g)=>`coords.${h[g+f]}`).join(", "),`
    float ${a}() {
      ${u} coords = getOutputCoords();
      ${d}
      return get${r}(${p});
    }
  `}function Br(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function K6(e,t,n){const{newShape:r,keptDims:a}=Jh(t),i=t.length,o=e&&i===3&&t[0]===1,s=o?t.slice(1):r,l=!e&&i>1&&!Er(t,n)&&r.length<i||o;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:a}}function i1(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function o1(e,t){return t.map(n=>e[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rft(e,t,n,r){const a=n.map((c,f)=>{const d={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(d.flatOffset=c.texData.slice.flatOffset),{name:t.variableNames[f],shapeInfo:d}}),i=a.map(c=>c.shapeInfo),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=wct(a,o,t),l=qut(e.gl,s),u=e.createProgram(l);return tt().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:o,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:o},yhe(e,t,u)))}function yhe(e,t,n){const r=[],a=[];let i,o,s,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),tt().getNumber("WEBGL_VERSION")===1&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const f of t.variableNames){const d={name:f,uniform:e.getUniformLocation(n,f,c),offset:e.getUniformLocation(n,`offset${f}`,c)};t.enableShapeUniforms&&(d.shape=e.getUniformLocation(n,`${f}Shape`,c),d.texShape=e.getUniformLocation(n,`${f}TexShape`,c)),r.push(d)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",c),s=e.getUniformLocation(n,"outShapeStrides",c),o=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const f of t.customUniforms)a.push(e.getUniformLocation(n,f.name,c));return{variablesLocations:r,customUniformLocations:a,infLoc:l,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:o}}function U7(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((n,r)=>{const a=n.logicalShape,i=t[r],o=i.shape;if(!Er(a,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${o} must match`);if(n.isUniform&&i.isUniform)return;const s=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!Er(s,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${l} must match`)})}function aft(e,t,n,r,a){t.program.enableShapeUniforms||(U7(t.inShapeInfos,n),U7([t.outShapeInfo],[r]));const i=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,o[0],o[1]):e.setOutputMatrixTexture(i.texture,o[0],o[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),tt().getNumber("WEBGL_VERSION")===1&&t.infLoc!==null&&e.gl.uniform1f(t.infLoc,1/0),t.nanLoc!==null&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const u=n[l],{uniform:c,offset:f,shape:d,texShape:h}=t.variablesLocations[l];if(d){const{uniformShape:p}=K6(t.program.packedInputs,u.shape,u.texData.texShape);switch(p.length){case 1:e.gl.uniform1iv(d,new Int32Array(p));break;case 2:e.gl.uniform2iv(d,new Int32Array(p));break;case 3:e.gl.uniform3iv(d,new Int32Array(p));break;case 4:e.gl.uniform4iv(d,new Int32Array(p));break}}if(h&&e.gl.uniform2i(h,u.texData.texShape[0],u.texData.texShape[1]),c!=null){if(u.isUniform){if(ot(u.shape)<2)e.gl.uniform1f(c,u.uniformValues[0]);else{let p=u.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),e.gl.uniform1fv(c,p)}continue}u.texData.slice!=null&&f!=null&&e.gl.uniform1i(f,u.texData.slice.flatOffset),e.setInputMatrixTexture(u.texData.texture.texture,c,l)}}const s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape));break}if(t.outShapeStridesLocation){const l=dn(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(l));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(l));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(l));break}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a)for(let l=0;l<t.program.customUniforms.length;++l){const u=t.program.customUniforms[l],c=t.customUniformLocations[l],f=a[l];if(u.type==="float")e.gl.uniform1fv(c,f);else if(u.type==="vec2")e.gl.uniform2fv(c,f);else if(u.type==="vec3")e.gl.uniform3fv(c,f);else if(u.type==="vec4")e.gl.uniform4fv(c,f);else if(u.type==="int")e.gl.uniform1iv(c,f);else if(u.type==="ivec2")e.gl.uniform2iv(c,f);else if(u.type==="ivec3")e.gl.uniform3iv(c,f);else if(u.type==="ivec4")e.gl.uniform4iv(c,f);else throw Error(`uniform type ${u.type} is not supported yet.`)}e.executeProgram()}function ift(e,t,n){let r="";t.concat(n).forEach(o=>{const s=o.texData!=null&&o.texData.slice!=null&&o.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!o.isUniform){const l=o.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:f}=K6(e.packedInputs,o.shape,l);let d="",h="",p="";if(c.length===1&&e.packedInputs){const _=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];d=`${_[0]>1}_${_[1]>1}`}else if(c.length===2&&!e.packedInputs)h=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!e.packedInputs){const _=dn(c);p=`${_[0]===l[1]}_${_[_.length-1]===l[1]}`}const v=o.shape.length,g=c.length===2&&Er(o.shape,l),m=ot(o.shape)===1,y=dy(o.shape,n.shape),b=!e.packedInputs&&v===n.shape.length&&Er(l,n.texData.texShape),x=e.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${v}_${b}_${u?f:""}_${c.length}_${m}_${y}_${g}_${d}_${h}_${p}_${x}_${s}`}else{const l=o.isUniform?"uniform":o.texData.texShape;r+=`${o.shape}_${l}_${s}`}});const a=e.userCode;let i=e.constructor.name;return i+="_"+r+"_"+a+`${tt().getNumber("WEBGL_VERSION")}`,i}function Qi(e){return tt().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oft{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=xw.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ko();this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?aN(["r","c","d"],t):Gg(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sft{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=xw.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ko();this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?aN(["r","c","d"],t):Gg(["r","c","d"],t)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lft{constructor(t){this.variableNames=["A"],this.outTexUsage=Bs.DOWNLOAD;const n=ko();this.outputShape=t,this.userCode=`
      ${phe}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uft{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Bs.DOWNLOAD;const n=ko();this.outputShape=t,this.userCode=`
      ${phe}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cft={R:0,G:1,B:2,A:3};class G7{constructor(t,n=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=ko();this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);let i="result";n&&(i="floor(result * 255. + 0.5)");let o="";for(let s=0;s<r.length;s++){const l=r[s];o+=`
          if(offset == ${s}) {
            result = values[${cft[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?G6():U6(t)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${a.texture2D}(A, uv);
          ${o}
        }
        ${a.output} = vec4(${i}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fft{constructor(t,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ko();this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);let a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let s=0;s<=1;s++){const l=o*2+s;a+=`
          localCoords = coords;
          if(localCoords[2] + ${s} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {
          localCoords[2] += ${s};
          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {
            localCoords[1] += ${o};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?G6():U6(t)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${a}

          ${r.output} = ${i};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dft(e){const t=ko(),n=`${t.version}
    precision highp float;
    ${t.attribute} vec3 clipSpacePos;
    ${t.attribute} vec2 uv;
    ${t.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return Xut(e,n)}function hft(e){const t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return ect(e,t)}function pft(e){const t=new Uint16Array([0,1,2,2,1,3]);return tct(e,t)}function qS(e,t,n,r,a,i){rct(t,n);const o=nct(e),s=e.TEXTURE_2D;return Wt(e,()=>e.bindTexture(s,o)),Wt(e,()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),Wt(e,()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),Wt(e,()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)),Wt(e,()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)),tt().getNumber("WEBGL_VERSION")===1?Wt(e,()=>e.texImage2D(s,0,r,t,n,0,a,i,null)):Wt(e,()=>e.texStorage2D(s,1,r,t,n)),Wt(e,()=>e.bindTexture(e.TEXTURE_2D,null)),{texture:o,texShape:[n,t]}}function bhe(e){return e.internalFormatFloat}function vft(e,t,n,r){const[a,i]=YS(t,n);return qS(e,a,i,bhe(r),r.textureFormatFloat,e.FLOAT)}function xhe(e){return e.internalFormatHalfFloat}function gft(e,t,n,r){const[a,i]=YS(t,n);return qS(e,a,i,xhe(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function whe(e){return e.downloadTextureFormat}function mft(e,t,n,r){const[a,i]=YS(t,n);return qS(e,a,i,whe(r),e.RGBA,e.UNSIGNED_BYTE)}function _he(e){return e.internalFormatPackedFloat}function yft(e,t,n,r){const[a,i]=n1(t,n);return qS(e,a,i,_he(r),e.RGBA,e.FLOAT)}function She(e){return e.internalFormatPackedHalfFloat}function bft(e,t,n,r){const[a,i]=n1(t,n);return qS(e,a,i,She(r),e.RGBA,r.textureTypeHalfFloat)}function xft(e,t,n){return Wt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,n)),z7(e,t,"clipSpacePos",n,3,20,0)&&z7(e,t,"uv",n,2,20,12)}function wft(e,t,n,r,a,i){Wt(e,()=>e.bindTexture(e.TEXTURE_2D,t));let o,s,l;a instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,l=i.internalFormatPackedFloat),o.set(a),tt().getNumber("WEBGL_VERSION")===2?Wt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)):Wt(e,()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,o)),Wt(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function _ft(e,t,n){Wt(e,()=>e.bindTexture(e.TEXTURE_2D,t)),n.data instanceof Uint8Array?tt().getNumber("WEBGL_VERSION")===2?Wt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)):Wt(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)):tt().getNumber("WEBGL_VERSION")===2?Wt(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)):Wt(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),Wt(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function Sft(e,t,n,r){const a=e.createBuffer();Wt(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,a));const s=4*4*t*n;return Wt(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,s,e.STREAM_READ)),Wt(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)),Wt(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),a}function Cft(e,t,n){const r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function Tft(e,t,n,r){const[a,i]=YS(t,n),o=4,s=new Uint8Array(Wut(t*n,o));return Wt(e,()=>e.readPixels(0,0,a,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,s)),new Float32Array(s.buffer)}function kft(e,t,n,r,a,i,o,s){const l=e,u=new Float32Array(Hut(i,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function Ift(e,t,n){const r=new Float32Array(t*n*4);return Wt(e,()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cM{constructor(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=tt().getNumber("WEBGL_VERSION");if(t!=null?(this.gl=t,But(n,t)):this.gl=Ou(n),t=this.gl,tt().getNumber("WEBGL_VERSION")===2){const i=t;this.createVertexArray=()=>Wt(i,()=>i.createVertexArray()),this.bindVertexArray=o=>Wt(i,()=>i.bindVertexArray(o)),this.deleteVertexArray=o=>Wt(i,()=>i.deleteVertexArray(o)),this.getVertexArray=()=>Wt(i,()=>i.getParameter(i.VERTEX_ARRAY_BINDING))}else if(t!=null){const i=t.getExtension("OES_vertex_array_object");if(i==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Wt(t,()=>i.createVertexArrayOES()),this.bindVertexArray=o=>Wt(t,()=>i.bindVertexArrayOES(o)),this.deleteVertexArray=o=>Wt(t,()=>i.deleteVertexArrayOES(o)),this.getVertexArray=()=>Wt(t,()=>t.getParameter(i.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),tt().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",o="OES_texture_half_float";if(this.textureFloatExtension=a2(this.gl,i),kl(this.gl,o))this.textureHalfFloatExtension=a2(this.gl,o);else if(tt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),kl(this.gl,a))this.colorBufferHalfFloatExtension=a2(this.gl,a);else if(tt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",kl(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(kl(this.gl,a))this.colorBufferHalfFloatExtension=this.gl.getExtension(a);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=hft(this.gl),this.indexBuffer=pft(this.gl),this.framebuffer=act(this.gl),this.textureConfig=H6(this.gl,this.textureHalfFloatExtension)}get debug(){return tt().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const t=this.gl;Wt(t,()=>t.finish()),Wt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),Wt(t,()=>t.deleteFramebuffer(this.framebuffer)),Wt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,null)),Wt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)),Wt(t,()=>t.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(t,n){return this.throwIfDisposed(),vft(this.gl,t,n,this.textureConfig)}createFloat16MatrixTexture(t,n){return this.throwIfDisposed(),gft(this.gl,t,n,this.textureConfig)}createUnsignedBytesMatrixTexture(t,n){return this.throwIfDisposed(),mft(this.gl,t,n,this.textureConfig)}uploadPixelDataToTexture(t,n){this.throwIfDisposed(),_ft(this.gl,t,n)}uploadDenseMatrixToTexture(t,n,r,a){this.throwIfDisposed(),wft(this.gl,t,n,r,a,this.textureConfig)}createFloat16PackedMatrixTexture(t,n){return this.throwIfDisposed(),bft(this.gl,t,n,this.textureConfig)}createPackedMatrixTexture(t,n){return this.throwIfDisposed(),yft(this.gl,t,n,this.textureConfig)}deleteMatrixTexture(t){this.throwIfDisposed(),this.outputTexture===t&&(W7(this.gl,this.framebuffer),this.outputTexture=null),Wt(this.gl,()=>this.gl.deleteTexture(t))}downloadByteEncodedFloatMatrixFromOutputTexture(t,n,r){return this.downloadMatrixDriver(t,()=>Tft(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(t,n,r,a,i,o){return kft(this.gl,t,n,r,a,i,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(t,n){return Cft(this.gl,t,n)}createBufferFromTexture(t,n,r){this.bindTextureToFrameBuffer(t);const a=Sft(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let n,r;if(tt().getBool("WEBGL_FENCE_API_ENABLED")){const a=t,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=()=>{const o=a.clientWaitSync(i,0,0);return o===a.ALREADY_SIGNALED||o===a.CONDITION_SATISFIED},n=i}else tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(t,n,r){return this.downloadMatrixDriver(t,()=>Ift(this.gl,n,r))}createProgram(t){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=dft(n));const r=Jut(n);Wt(n,()=>n.attachShader(r,this.vertexShader)),Wt(n,()=>n.attachShader(r,t)),Qut(n,r);const a=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&oM(n,a),a}buildVao(t){this.setProgram(t),this.bindVertexArray(t.vao);const n=this.gl;Wt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),xft(n,t,this.vertexBuffer)}deleteProgram(t){this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&(Wt(this.gl,()=>this.gl.deleteProgram(t)),this.deleteVertexArray(t.vao))}setProgram(t){this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&oM(this.gl,this.program),Wt(this.gl,()=>this.gl.useProgram(t))}getUniformLocation(t,n,r=!0){return this.throwIfDisposed(),r?oct(this.gl,t,n):sct(this.gl,t,n)}getAttributeLocation(t,n){return this.throwIfDisposed(),Wt(this.gl,()=>this.gl.getAttribLocation(t,n))}getUniformLocationNoThrow(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)}setInputMatrixTexture(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),lct(this.gl,t,n,r)}setOutputMatrixTexture(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)}setOutputPackedMatrixTexture(t,n,r){this.throwIfDisposed();const[a,i]=n1(n,r);this.setOutputMatrixTextureDriver(t,a,i)}setOutputMatrixWriteRegion(t,n,r,a){this.setOutputMatrixWriteRegionDriver(r,t,a,n)}setOutputPackedMatrixWriteRegion(t,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&oM(this.gl,this.program),i2(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const t=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Wt(t,()=>t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Wt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=a2(this.gl,tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(a.TIME_ELAPSED_EXT,i),i}const t=this.getQueryTimerExtensionWebGL1(),n=t.createQueryEXT();return t.beginQueryEXT(t.TIME_ELAPSED_EXT,n),n}endQuery(){if(tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(t){return await T9(()=>this.disposed||this.isQueryAvailable(t,tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(t,tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(t,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(t,n){if(n===0)return!0;if(n===2){const r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),a=r.getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}}pollFence(t){return new Promise(n=>{this.addItemToPoll(()=>t.isFencePassed(),()=>n())})}pollItems(){const t=Eft(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=t;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}addItemToPoll(t,n){if(this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in tt().platform&&(r=tt().platform.setTimeoutCustom.bind(tt().platform)),T9(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(t){this.throwIfDisposed(),sM(this.gl,t,this.framebuffer),this.debug&&i2(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(sM(this.gl,this.outputTexture,this.framebuffer),this.debug&&i2(this.gl)):W7(this.gl,this.framebuffer)}downloadMatrixDriver(t,n){this.bindTextureToFrameBuffer(t);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(t,n,r){this.throwIfDisposed();const a=this.gl;sM(a,t,this.framebuffer),this.debug&&i2(a),this.outputTexture=t,Wt(a,()=>a.viewport(0,0,n,r)),Wt(a,()=>a.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(t,n,r,a){this.throwIfDisposed(),Wt(this.gl,()=>this.gl.scissor(t,n,r,a))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function Eft(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:Aft,bincountImpl:Che,bincountReduceImpl:Dft,bitwiseAndImpl:Nft,castImpl:Rft,ceilImpl:Mft,concatImpl:$ft,equalImpl:Lft,expImpl:Oft,expm1Impl:Pft,floorImpl:Fft,gatherNdImpl:Bft,gatherV2Impl:Vft,greaterImpl:zft,greaterEqualImpl:Wft,lessImpl:Hft,lessEqualImpl:Uft,linSpaceImpl:Gft,logImpl:Kft,maxImpl:jft,maximumImpl:Yft,minimumImpl:Xft,multiplyImpl:qft,negImpl:Zft,notEqualImpl:Jft,prodImpl:Qft,raggedGatherImpl:edt,raggedRangeImpl:tdt,raggedTensorToTensorImpl:ndt,rangeImpl:rdt,rsqrtImpl:adt,scatterImpl:idt,sigmoidImpl:odt,simpleAbsImpl:The,sliceImpl:sdt,sparseFillEmptyRowsImpl:ldt,sparseReshapeImpl:udt,sparseSegmentReductionImpl:khe,sqrtImpl:cdt,staticRegexReplaceImpl:fdt,stridedSliceImpl:ddt,stringNGramsImpl:hdt,stringSplitImpl:pdt,stringToHashBucketFastImpl:vdt,subImpl:gdt,tileImpl:mdt,topKImpl:ydt,transposeImpl:j6,uniqueImpl:bdt}=_at;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ihe(e,t){return["x","y","z","w","u","v"].slice(0,t).map(n=>`${e}.${n}`)}function vo(e,t){return t===1?[e]:Ihe(e,t)}function xdt(e,t){if(e===1)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wdt{constructor(t){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=Qi(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=vo("rc",this.rank),r=Br(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${a}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${o}));
          }
        }
      `}}getSourceCoordsArr(t){const n=[];for(let r=0;r<=1;r++)for(let a=0;a<=1;a++){let i=`${r===0?"r":"rp1"}, ${a===0?"c":"cp1"}`;for(let o=2;o<this.rank;o++)i=`${t[t.length-1-o]},`+i;n.push(i)}return n}getOutOfBoundsCondition(t){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${t[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(t){if(this.rank===1)return"";const n=t.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],a=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${a};
    `}getOutput(t){const n=this.getSourceCoordsArr(t);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ehe{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);let r="";for(let a=0;a<4;a++){let i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${a}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${a>0?"}":""}
      `}this.userCode=`
      ${_dt(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?G6():U6(t)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};

        ${r}

        setOutput(result);
      }
    `}}function _dt(e,t){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${t?xct(["r","c","d"],"inputShape"):Gg(["r","c","d"],e)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sdt{constructor(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(t,n,r){const a=j7(n,r),i=Y7(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const o=K7(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const l=this.freeTextures[i].pop();return this.usedTextures[i].push(l),l}let s;return a===wi.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):a===wi.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):a===wi.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):a===wi.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):a===wi.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[i].push(s),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),s}releaseTexture(t,n,r,a){if(this.freeTextures==null)return;const i=j7(r,a),o=Y7(n,i,a);o in this.freeTextures||(this.freeTextures[o]=[]);const s=K7(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,a),l=tt().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(t.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(t),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const u=this.usedTextures[o],c=u&&u.indexOf(t);if(c==null||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u[c]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;const t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${t})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const t in this.freeTextures)this.freeTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const t in this.usedTextures)this.usedTextures[t].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function Cdt(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}function K7(e,t,n,r,a){const i=Tdt(t,r);let o;if(a){const[l,u]=n1(e[0],e[1]);o=l*u}else{const[l,u]=YS(e[0],e[1]);o=l*u}const s=Cdt(n,i);return o*s}function Tdt(e,t){switch(e){case wi.PACKED_2X2_FLOAT32:return _he(t);case wi.PACKED_2X2_FLOAT16:return She(t);case wi.UNPACKED_FLOAT32:return bhe(t);case wi.UNPACKED_FLOAT16:return xhe(t);case wi.PACKED_4X1_UNSIGNED_BYTE:return whe(t);default:throw new Error(`Unknown physical texture type ${e}`)}}function kdt(e){return tt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?wi.PACKED_2X2_FLOAT32:wi.UNPACKED_FLOAT32:e?wi.PACKED_2X2_FLOAT16:wi.UNPACKED_FLOAT16}function j7(e,t){if(e===Bs.UPLOAD)return wi.PACKED_2X2_FLOAT32;if(e===Bs.RENDER||e==null)return kdt(t);if(e===Bs.DOWNLOAD||e===Bs.PIXELS)return wi.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function Y7(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gc{constructor(t,n){this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Hl="if (isnan(x)) return x;",Idt="return x;",X7="return abs(x);",Edt="return (x >= 0.0) ? x : (exp(x) - 1.0);",Adt=Hl+`
  return (x < 0.0) ? 0.0 : x;
`,Ddt=Hl+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Bd="return x;",Ndt="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rdt="return x;",Mdt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,$dt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Ldt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Odt="return 1.0 / (1.0 + exp(-1.0 * x));";class Yd{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pdt{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);const n=t.length,r=vo("rc",n),a=Br(n),i=xdt(n,r),o=r.slice(-2),s=n<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`
      void main() {
        ${a} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${s}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fdt=qle,Bdt=1e-7,Vdt=1e-4,l2={};function zdt(e){return e in l2||(l2[e]={}),l2[e]}const Wdt=tt().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),Hdt=600;function Udt(){return tt().global.screen==null?1024:tt().global.screen.height*tt().global.screen.width*window.devicePixelRatio*Hdt/1024/1024}class iN extends hV{nextDataId(){return iN.nextDataId++}constructor(t){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!tt().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(t!=null){if(t instanceof cM)n=t;else{const r=Ou(tt().getNumber("WEBGL_VERSION"),t);n=new cM(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=Ou(tt().getNumber("WEBGL_VERSION"));n=new cM(r),this.binaryCache=zdt(tt().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Sdt(this.gpgpu),this.numMBBeforeWarning=Udt(),this.texData=new Sse(this,ac())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(t,n,r,a,i,o){const s=this.makeTensorInfo(n,r),l=this.texData.get(s.dataId);l.isPacked=!1,l.texture={texture:t,texShape:[a,i]},l.texShape=[a,i];const u=o2(n),c=new G7(u,!1,o),f=this.runWebGLProgram(c,[s],r,[[a,i]]);return f.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(s),f.dataId}write(t,n,r){if((tt().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||tt().getBool("DEBUG"))&&this.checkNumericalProblems(t),r==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:n,dtype:r,values:t,usage:Bs.UPLOAD,refCount:1}),a}refCount(t){return this.texData.has(t)?this.texData.get(t).refCount:0}incRef(t){const n=this.texData.get(t);n.refCount++}decRef(t){if(this.texData.has(t)){const n=this.texData.get(t);n.refCount--}}move(t,n,r,a,i){if(tt().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:r,dtype:a,values:n,usage:Bs.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(t){this.disposeData(t.dataId)}readSync(t){const n=this.texData.get(t),{values:r,dtype:a,complexTensorInfos:i,slice:o,shape:s,isPacked:l}=n;if(o!=null){let d;l?d=new Yd(s,Bd):d=new gc(s,Bd);const h=this.runWebGLProgram(d,[{dataId:t,shape:s,dtype:a}],a),p=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),p}if(r!=null)return this.convertAndCacheOnCPU(t);if(a==="string")return r;const u=this.activeTimers!=null;let c;u&&(c=Bo());let f;if(a==="complex64"){const d=this.readSync(i.real.dataId),h=this.readSync(i.imag.dataId);f=Gf(d,h)}else f=this.getValuesFromTexture(t);return u&&(this.downloadWaitMs+=Bo()-c),this.convertAndCacheOnCPU(t,f)}async read(t){if(this.pendingRead.has(t)){const p=this.pendingRead.get(t);return new Promise(v=>p.push(v))}const n=this.texData.get(t),{values:r,shape:a,slice:i,dtype:o,complexTensorInfos:s,isPacked:l}=n;if(i!=null){let p;l?p=new Yd(a,Bd):p=new gc(a,Bd);const v=this.runWebGLProgram(p,[{dataId:t,shape:a,dtype:o}],o),g=this.read(v.dataId);return this.disposeIntermediateTensorInfo(v),g}if(r!=null)return this.convertAndCacheOnCPU(t);if(tt().getBool("DEBUG")&&!tt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&tt().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(o!=="complex64"&&tt().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(t);const p=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(p.texture.texture,...r2(a))}this.pendingRead.set(t,[]),o!=="complex64"&&await this.gpgpu.createAndWaitForFence();let f;if(o==="complex64"){const p=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]),v=p[0],g=p[1];f=Gf(v,g)}else if(u==null)f=this.getValuesFromTexture(t);else{const p=ot(a);f=this.gpgpu.downloadFloat32MatrixFromBuffer(u,p)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){const p=this.gpgpu.gl;Wt(p,()=>p.deleteBuffer(u))}const d=this.convertAndCacheOnCPU(t,f),h=this.pendingRead.get(t);return this.pendingRead.delete(t),h.forEach(p=>p(d)),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&ac().removeDataId(t,this),this.pendingDeletes--),d}readToGPU(t,n={}){const r=this.texData.get(t),{values:a,shape:i,slice:o,dtype:s,isPacked:l,texture:u}=r;if(s==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(o!=null){let h;l?h=new Yd(i,Bd):h=new gc(i,Bd);const p=this.runWebGLProgram(h,[{dataId:t,shape:i,dtype:s}],s),v=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),v}if(u==null)throw a!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(t,n.customTexShape),f=ac().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:f},d.texture)}bufferSync(t){const n=this.readSync(t.dataId);if(t.dtype==="string")try{const r=n.map(a=>Dh(a));return Gn(t.shape,t.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Gn(t.shape,t.dtype,n)}checkNumericalProblems(t){if(t!=null)for(let n=0;n<t.length;n++){const r=t[n];if(!jut(r))throw tt().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(t){const{shape:n,dtype:r,isPacked:a}=this.texData.get(t),i=ot(n);if(tt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const d=this.decode(t),h=this.texData.get(d.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...r2(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(d),p}const o=tt().getBool("WEBGL_PACK")&&a===!0,s=o?o2(n):n,l=o?new uft(s):new lft(s),u=this.runWebGLProgram(l,[{shape:s,dtype:r,dataId:t}],"float32"),c=this.texData.get(u.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(u),f}timerAvailable(){return tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(t){const n=this.activeTimers,r=[];let a=!1;this.programTimersStack==null?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,t();const i=ug(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),o=ug(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,a&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(i);s.kernelMs=iKe(l),s.getExtraProfileInfo=()=>l.map((u,c)=>({name:o[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Bo(),endMs:null}}endTimer(t){return tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=Bo(),t)}async getQueryTime(t){if(tt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(t);const n=t;return n.endMs-n.startMs}disposeData(t,n=!1){if(this.pendingDisposal.has(t))return!1;if(!this.texData.has(t))return!0;if(n?this.texData.get(t).refCount=0:this.texData.get(t).refCount--,!n&&this.texData.get(t).refCount>0)return!1;if(this.pendingRead.has(t))return this.pendingDisposal.add(t),this.pendingDeletes++,!1;this.releaseGPUData(t);const{complexTensorInfos:r}=this.texData.get(t);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(t),!0}releaseGPUData(t){const{texture:n,dtype:r,texShape:a,usage:i,isPacked:o,slice:s}=this.texData.get(t),l=s&&s.origDataId||t,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));const c=this.texData.get(t);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(t){return this.uploadToGPU(t),this.texData.get(t).texture.texture}getDataInfo(t){return this.texData.get(t)}shouldExecuteOnCPU(t,n=Wdt){return tt().getBool("WEBGL_CPU_FORWARD")&&t.every(r=>this.texData.get(r.dataId).texture==null&&ot(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(t){$s("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=t.dataSync();return Fdt(t.shape,n)}packedUnaryOp(t,n,r){const a=new Yd(t.shape,n),i=this.compileAndRun(a,[t],r);return ac().makeTensorFromTensorInfo(i)}abs(t){if(this.shouldExecuteOnCPU([t])&&t.dtype!=="complex64"){const a=The(this.texData.get(t.dataId).values);return this.makeOutput(t.shape,t.dtype,a)}if(tt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,X7,t.dtype);const n=new gc(t.shape,X7),r=this.compileAndRun(n,[t]);return ac().makeTensorFromTensorInfo(r)}makeTensorInfo(t,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&M_(r[0])){const i=r.map(o=>dh(o));a=this.write(i,t,n)}else a=this.write(r,t,n);return this.texData.get(a).usage=null,{dataId:a,shape:t,dtype:n}}makeOutput(t,n,r){return ac().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,r),this)}unpackTensor(t){const n=new Pdt(t.shape);return this.runWebGLProgram(n,[t],t.dtype)}packTensor(t){const n=new wdt(t.shape);return this.runWebGLProgram(n,[t],t.dtype,null,!0)}packedReshape(t,n){const r=[yy(t.shape),...by(t.shape)],a={dtype:t.dtype,shape:r,dataId:t.dataId},i=[yy(n),...by(n)],o=new Ehe(i,r),s=!0,l=[r],u=this.runWebGLProgram(o,[a],t.dtype,l,s);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(t,n){const r=this.texData.get(t),{isPacked:a,shape:i,dtype:o}=r;if(n!=null){const d=ot(i),h=n[0]*n[1]*4;pe(d<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const s=o2(i);let l;a?l=new sft(s):l=new oft(s);const u=!0,c=[n??r2(s)],f=this.runWebGLProgram(l,[{shape:s,dtype:o,dataId:t}],o,c,u,n);return{dtype:o,shape:i,dataId:f.dataId}}runWebGLProgram(t,n,r,a,i=!1,o){const s=this.makeTensorInfo(t.outputShape,r),l=this.texData.get(s.dataId);if(t.packedOutput&&(l.isPacked=!0),t.outPackingScheme===xw.DENSE){const m=o??r2(t.outputShape);l.texShape=m.map(y=>y*2)}if(t.outTexUsage!=null&&(l.usage=t.outTexUsage),ot(s.shape)===0)return l.values=Ui(s.dtype,0),s;const u=[],c=n.map(m=>{if(m.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let y=this.texData.get(m.dataId);if(y.texture==null){if(!t.packedInputs&&ot(m.shape)<=tt().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:m.shape,texData:null,isUniform:!0,uniformValues:y.values};t.packedInputs&&(y.isPacked=!0,y.shape=m.shape)}if(this.uploadToGPU(m.dataId),!!y.isPacked!=!!t.packedInputs)m=y.isPacked?this.unpackTensor(m):this.packTensor(m),u.push(m),y=this.texData.get(m.dataId);else if(y.isPacked&&!OI(y.shape,m.shape)){const b=m,x=m.shape;m.shape=y.shape,m=this.packedReshape(m,x),u.push(m),y=this.texData.get(m.dataId),b.shape=x}return{shape:m.shape,texData:y,isUniform:!1}});this.uploadToGPU(s.dataId);const f={shape:s.shape,texData:l,isUniform:!1},d=ift(t,c,f),h=this.getAndSaveBinary(d,()=>rft(this.gpgpu,t,c,f)),p=this.activeTimers!=null;let v;p&&(v=this.startTimer()),tt().get("ENGINE_COMPILE_ONLY")||aft(this.gpgpu,h,c,f,a),u.forEach(m=>this.disposeIntermediateTensorInfo(m)),p&&(v=this.endTimer(v),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(v)}));const g=tt().getNumber("WEBGL_FLUSH_THRESHOLD");if(g>0){const m=Bo();m-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=m)}if(!tt().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){const m=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),m}return s}compileAndRun(t,n,r,a,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(t,n,r,a,i)}getAndSaveBinary(t,n){return t in this.binaryCache||(this.binaryCache[t]=n()),this.binaryCache[t]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(tt().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Xe(()=>{if(!tt().get("WEBGL_RENDER_FLOAT32_ENABLED")){const t=tt().getBool("DEBUG");tt().set("DEBUG",!1);const n=this.abs(Cr(1e-8)).dataSync()[0];if(tt().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?Bdt:Vdt}uploadToGPU(t){const n=this.texData.get(t),{shape:r,dtype:a,values:i,texture:o,usage:s,isPacked:l}=n;if(o!=null)return;const u=this.activeTimers!=null;let c;u&&(c=Bo());let f=n.texShape;if(f==null&&(f=fct(r,l),n.texShape=f),i!=null){const d=o2(r);let h,p=f[1],v=f[0];const g=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!g)&&([p,v]=n1(f[0],f[1])),l?h=new fft(d,g):h=new G7(d,g);const m=g?[v,p]:f,y=this.makeTensorInfo(m,a),b=this.texData.get(y.dataId);g?b.usage=Bs.PIXELS:b.usage=Bs.UPLOAD,b.texShape=m,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(y.dataId),p,v,i);const x=[[v,p]],S=this.runWebGLProgram(h,[y],a,x,!0),C=this.texData.get(S.dataId);n.texShape=C.texShape,n.isPacked=C.isPacked,n.usage=C.usage,tt().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(n.texture=C.texture,n.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(y),u&&(this.uploadWaitMs+=Bo()-c)}else{const d=this.acquireTexture(f,s,a,l);n.texture=d}}convertAndCacheOnCPU(t,n){const r=this.texData.get(t),{dtype:a}=r;return n!=null&&(r.values=Gdt(n,a)),r.values}acquireTexture(t,n,r,a){if(this.numBytesInGPU+=this.computeBytes(t,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(t,n,a)}computeBytes(t,n){return t[0]*t[1]*cI(n)}checkCompileCompletion(){for(const[,t]of Object.entries(this.binaryCache))this.checkCompletion_(t)}async checkCompileCompletionAsync(){const t=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))t.push(this.checkCompletionAsync_(n));return Promise.all(t)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(a=>{try{this.checkCompletion_(n),a(!0)}catch(i){throw i}});t.push(r)}return Promise.all(t)}}async checkCompletionAsync_(t){return this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(t):(await vue(),this.checkCompletionAsync_(t))}checkCompletion_(t){if(this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(t.webGLProgram)),this.gpgpu.gl.getShaderParameter(t.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(hhe(t.source,this.gpgpu.gl.getShaderInfoLog(t.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const t of Object.values(this.binaryCache)){this.gpgpu.buildVao(t.webGLProgram);const{variablesLocations:n,customUniformLocations:r,infLoc:a,nanLoc:i,outShapeLocation:o,outShapeStridesLocation:s,outTexShapeLocation:l}=yhe(this.gpgpu,t.program,t.webGLProgram);t.variablesLocations=n,t.customUniformLocations=r,t.infLoc=a,t.nanLoc=i,t.outShapeLocation=o,t.outShapeStridesLocation=s,t.outTexShapeLocation=l}}createTensorFromGPUData(t,n,r){t.channels=t.channels||"RGBA";const{texture:a,height:i,width:o,channels:s}=t,l=ac().backend;if(!l.gpgpu.gl.isTexture(a))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=l.writeTexture(a,n,r,i,o,s);return ac().makeTensorFromDataId(u,n,r,l)}}iN.nextDataId=0;function Gdt(e,t){if(t==="float32"||t==="complex64")return e;if(t==="int32"||t==="bool"){const n=t==="int32"?new Int32Array(e.length):new Uint8Array(e.length);for(let r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}else throw new Error(`Unknown dtype ${t}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */fle()&&ple("webgl",()=>new iN,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y6=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class _g{constructor(t,n,r){this.variableNames=["A","B"],this.outputShape=On(n,r),this.enableShapeUniforms=Qi(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${t}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jg=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class s1{constructor(t,n,r,a=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=On(n,r);const i=this.outputShape.length;this.enableShapeUniforms=Qi(i);let o="";if(a)if(i===0||ot(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          ${Br(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?o+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:o+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=vo("coords",i);this.enableShapeUniforms?o+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:o+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${t}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${o}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Is(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Kdt={kernelName:eS,backendName:"webgl",kernelFunc:Is};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lp(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),s=Is({inputs:{x:r},backend:n}),l=Is({inputs:{x:a},backend:n});return o.complexTensorInfos={real:s,imag:l},i}const jdt={kernelName:IV,backendName:"webgl",kernelFunc:lp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ahe="return (a < 0.) ? b * a : a;",Dhe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function Ydt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r,o=n.makeTensorInfo([],"float32",Qh(i,"float32")),s=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new s1(Dhe,a.shape,o.shape):new _g(Ahe,a.shape,o.shape),l=n.runWebGLProgram(s,[a,o],"float32");return n.disposeIntermediateTensorInfo(o),l}const Xdt={kernelName:tD,backendName:"webgl",kernelFunc:Ydt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nhe="return (a < 0.) ? b * a : a;",Rhe=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function qdt(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,i=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new s1(Rhe,r.shape,a.shape):new _g(Nhe,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}const Zdt={kernelName:xD,backendName:"webgl",kernelFunc:qdt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l1="if (isnan(x)) return x;";function mr({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:a,backend:i})=>{const{x:o}=a,s=i,l=r||o.dtype;if(s.shouldExecuteOnCPU([o])&&n!=null){const f=s.texData.get(o.dataId),d=n(f.values,l);return s.makeTensorInfo(o.shape,l,d)}const u=tt().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&t!=null;let c;return u?c=new Yd(o.shape,t):c=new gc(o.shape,e),s.runWebGLProgram(c,[o],l)}}function Ni({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:a,dtype:i}){return({inputs:o,backend:s})=>{const{a:l,b:u}=o,c=s;if(r&&l.dtype==="complex64"){const p=c.texData.get(l.dataId),v=c.texData.get(u.dataId),[g,m]=[[p.complexTensorInfos.real,v.complexTensorInfos.real],[p.complexTensorInfos.imag,v.complexTensorInfos.imag]].map(b=>{const[x,_]=b,S={dataId:x.dataId,dtype:x.dtype,shape:l.shape},C={dataId:_.dataId,dtype:_.dtype,shape:u.shape},k=new _g(e,l.shape,u.shape);return c.runWebGLProgram(k,[S,C],Ts(x.dtype,_.dtype))}),y=lp({inputs:{real:g,imag:m},backend:c});return c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(m),y}const f=i||Ts(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&a!=null){const p=c.texData.get(l.dataId).values,v=c.texData.get(u.dataId).values,g=l.dtype==="string"?Kf(p):p,m=l.dtype==="string"?Kf(v):v,[y,b]=a(l.shape,u.shape,g,m,f),x=c.makeTensorInfo(b,f),_=c.texData.get(x.dataId);return _.values=y,x}const d=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&t!=null;let h;return d?h=new s1(t,l.shape,u.shape,n):h=new _g(e,l.shape,u.shape),c.runWebGLProgram(h,[l,u],f)}}function ww(e,t=!1){if(e==="linear")return t?Rdt:Idt;if(e==="relu")return t?$dt:Adt;if(e==="elu")return t?Mdt:Edt;if(e==="relu6")return t?Ldt:Ddt;if(e==="prelu")return t?Rhe:Nhe;if(e==="leakyrelu")return t?Dhe:Ahe;if(e==="sigmoid")return t?Odt:Ndt;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mhe{constructor(t,n,r,a=!1,i=!1,o=!1,s=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Qi(this.outputShape.length);const c=a?t[1]:t[2],f=Math.ceil(c/2),d=a?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",p=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let g="",m="";s&&(l?g=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:u?g=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:g=`vec4 activation(vec4 x) {
          ${s}
        }`,m="result = activation(result);");const y=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let b="rc.x",x="rc.x";t[0]<n[0]?b=`imod(rc.x, ${t[0]})`:n[0]<t[0]&&(x=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${g}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${f}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${b};
        int batchB = ${x};
        for (int i = 0; i < ${f}; i++) {
          vec4 a = getMatrixA(batchA, ${d});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${v[0]});
          result += (${p[1]} * ${v[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${y}

        ${m}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q7={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Z7{constructor(t,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=On(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${t}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J7="return a * b;";function X6(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,i=Ts(r.dtype,a.dtype);if(r.dtype==="complex64"){const s=n.texData.get(r.dataId),l=n.texData.get(a.dataId),u=new Z7(q7.REAL,r.shape,a.shape),c=new Z7(q7.IMAG,r.shape,a.shape),f=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:r.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:a.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:a.shape}],d=n.runWebGLProgram(u,f,"float32"),h=n.runWebGLProgram(c,f,"float32"),p=lp({inputs:{real:d,imag:h},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}if(n.shouldExecuteOnCPU([r,a])){const s=n.texData.get(r.dataId),l=n.texData.get(a.dataId),[u,c]=qft(r.shape,a.shape,s.values,l.values,i),f=n.makeTensorInfo(c,i),d=n.texData.get(f.dataId);return d.values=u,f}let o;return tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?o=new s1(J7,r.shape,a.shape):o=new _g(J7,r.shape,a.shape),n.runWebGLProgram(o,[r,a],i)}const Jdt={kernelName:uS,backendName:"webgl",kernelFunc:X6};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qdt(e,t,n){const r=[yy(e.shape),...by(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[yy(t),...by(t)],o=new Ehe(i,r),s=!0,l=[r],u=n.runWebGLProgram(o,[a],e.dtype,l,s);return{dataId:u.dataId,shape:t,dtype:u.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ot(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,o=n,s=ot(a.shape),l=Cse(i,s),u=ot(l);pe(s===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${a.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`);const c=o.texData.get(a.dataId);return c.isPacked&&!OI(a.shape,l)&&!(c.texture!==null&&OI(c.shape,l))?Qdt(a,l,o):(o.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype})}const eht={kernelName:_D,backendName:"webgl",kernelFunc:Ot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Q7{constructor(t,n){this.variableNames=["x"];const{windowSize:r,batchSize:a,inSize:i,outSize:o}=t;this.outputShape=[a,o];const s=Math.floor(r/4)*4,l=r%4;let u="sumValue += dot(values, ones);";if(n!=null){const f=1/n;u=`sumValue += dot(values * ${uy(f)?f.toPrecision(2):f}, ones);`}let c="";i%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${s}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${s};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tht{constructor(t,n){this.variableNames=["x"];const{windowSize:r,batchSize:a,inSize:i,outSize:o}=t;this.outputShape=[a,o];let s="0.0",l="";n==="prod"?s="1.0":n==="min"?(s="1.0 / 1e-20",l="min"):n==="max"&&(s="-1.0 / 1e-20",l="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const c=Math.floor(r/4)*4,f=r%4;let d=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(s="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(s="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${s};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${s});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${f===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${f===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${f===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${d}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nht(e){const t=[];for(;t.length===0||t[t.length-1].outSize!==1;){const n=t.length?t[t.length-1].outSize:e[1],r=HD(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}function Yg(e,t,n,r){const a=nht(e.shape);let i=e;for(let o=0;o<a.length;o++){const{inSize:s,windowSize:l,outSize:u}=a[o];let c,f;n==="mean"?c=o===0?new Q7({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},s):new Q7({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u}):c=new tht({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},n),f=i,i=r.runWebGLProgram(c,[i],t),f.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(f)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rht{constructor(t,n){this.variableNames=["A"];const r=new Array(t.length);for(let o=0;o<r.length;o++)r[o]=t[n[o]];this.outputShape=r,this.rank=r.length;const a=Br(this.rank),i=aht(n);this.userCode=`
    void main() {
      ${a} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function aht(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iht{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(t.length);for(let c=0;c<r.length;c++)r[c]=t[n[c]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=Br(this.rank),i=Ihe("rc",this.rank),o=new Array(this.rank);for(let c=0;c<n.length;c++)o[n[c]]=i[c];const s=`vec2(${o.slice(-2).join()})`,l=`++${i[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${o.join()}), ${s})`;this.userCode=`
    void main() {
      ${a} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oN(e,t,n){const r=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new iht(e.shape,t):new rht(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oht(e,t,n,r){const a=t,i=e.shape.length,o=jn(a,e.shape);let s=o;const l=da(s,i),u=l!=null;let c=e;u&&(c=oN(e,l,r),s=Ca(s.length,i)),Di("sum",s,i);const[f,d]=mi(c.shape,s);let h=f;n&&(h=Ra(f,o));const p=ot(d),g=ot(e.shape)/p,m=Ot({inputs:{x:c},attrs:{shape:[g,p]},backend:r}),y=sz(e.dtype),b=Yg(m,y,"sum",r),x=Ot({inputs:{x:b},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(b),u&&r.disposeIntermediateTensorInfo(c),x}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sN(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r;return oht(a,i,o,n)}const sht={kernelName:ED,backendName:"webgl",kernelFunc:sN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _o(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{perm:i}=r,o=n,s=a.shape.length,l=new Array(s);for(let c=0;c<l.length;c++)l[c]=a.shape[i[c]];let u;if(o.shouldExecuteOnCPU([a])){const f=o.texData.get(a.dataId).values,d=j6(f,a.shape,a.dtype,i,l);u=o.makeTensorInfo(l,a.dtype);const h=o.texData.get(u.dataId);h.values=d}else u=oN(a,i,o);return u}const lht={kernelName:Dm,backendName:"webgl",kernelFunc:_o};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $he=1e3;function PI({a:e,b:t,transposeA:n,transposeB:r,backend:a,bias:i=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}){const u=e.shape.length,c=t.shape.length,f=n?e.shape[u-2]:e.shape[u-1],d=r?t.shape[c-1]:t.shape[c-2],h=n?e.shape[u-1]:e.shape[u-2],p=r?t.shape[c-2]:t.shape[c-1],v=e.shape.slice(0,-2),g=t.shape.slice(0,-2),m=ot(v),y=ot(g),x=On(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([h,p]);pe(f===d,()=>`Error in matMul: inner shapes (${f}) and (${d}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`);const _=n?[m,f,h]:[m,h,f],S=r?[y,p,d]:[y,d,p],C=Ot({inputs:{x:e},backend:a,attrs:{shape:_}}),k=Ot({inputs:{x:t},backend:a,attrs:{shape:S}}),T=[C,k],I=Math.max(m,y),E=n?C.shape[1]:C.shape[2],A=i!=null,N=o!=null,L=l==="leakyrelu",R=l!=null?ww(l,!0):null,D=A||N||L||R!=null;let P;if((h===1||p===1)&&E>$he&&D===!1){let M=C,W=k;n&&(M=_o({inputs:{x:C},backend:a,attrs:{perm:[0,2,1]}}),T.push(M)),r&&(W=_o({inputs:{x:k},backend:a,attrs:{perm:[0,2,1]}}),T.push(W));const U=p!==1,V=p===1;let H=M;U&&(H=Ot({inputs:{x:M},backend:a,attrs:{shape:[I,E,1]}}),T.push(H));const K=p===1?2:1;let j=W;V&&(j=Ot({inputs:{x:W},backend:a,attrs:{shape:[I,1,E]}}),T.push(j));const ne=X6({inputs:{a:H,b:j},backend:a});P=sN({inputs:{x:ne},backend:a,attrs:{axis:K,keepDims:!0}}),T.push(ne)}else{const M=Ts(e.dtype,t.dtype),W=new Mhe(_,S,[I,h,p],n,r,A,R,N,L),U=[C,k];if(i!=null&&U.push(i),N&&U.push(o),L){const V=a.makeTensorInfo([],"float32",Qh(s,"float32"));U.push(V),T.push(V)}P=a.runWebGLProgram(W,U,M)}const O=Ot({inputs:{x:P},backend:a,attrs:{shape:x}});T.push(P);for(const M of T)a.disposeIntermediateTensorInfo(M);return O}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uht(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:i,bias:o,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;return PI({a,b:i,transposeA:l,transposeB:u,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:f,activation:c})}const cht={kernelName:fI,backendName:"webgl",kernelFunc:uht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eK="return abs(x);";function fht(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),o=The(i.values);return n.makeTensorInfo(r.shape,r.dtype,o)}let a;return tt().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new Yd(r.shape,eK):a=new gc(r.shape,eK),n.runWebGLProgram(a,[r],r.dtype)}const dht={kernelName:LA,backendName:"webgl",kernelFunc:fht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hht=Hl+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,pht=mr({opSnippet:hht}),vht={kernelName:$_,backendName:"webgl",kernelFunc:pht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ght=Hl+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,mht=mr({opSnippet:ght}),yht={kernelName:L_,backendName:"webgl",kernelFunc:mht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tK="return a + b;",bht=Ni({opSnippet:tK,packedOpSnippet:tK,supportsComplex:!0,cpuKernelImpl:Aft}),xht={kernelName:Zy,backendName:"webgl",kernelFunc:bht};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wht{constructor(t,n){this.outputShape=[],this.outputShape=t,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const a=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${a};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _ht{constructor(t,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const a=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${a};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uk(e){const{inputs:t,backend:n}=e,r=t;if(r.length===1)return Is({inputs:{x:r[0]},backend:n});if(r.length>tt().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),u=uk({inputs:r.slice(0,l),backend:n}),c=uk({inputs:r.slice(l),backend:n});return uk({inputs:[u,c],backend:n})}const a=r.map(l=>l.dtype).reduce((l,u)=>Ts(l,u)),i=r.map(l=>l.shape),s=tt().getBool("WEBGL_PACK")?new _ht(r[0].shape,i):new wht(r[0].shape,i);return n.runWebGLProgram(s,r,a)}const Sht={kernelName:xV,backendName:"webgl",kernelFunc:uk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=a.shape.length,l=jn(i,a.shape);let u=l;const c=da(u,s);let f=a;c!=null&&(f=_o({inputs:{x:a},backend:n,attrs:{perm:c}}),u=Ca(u.length,s)),Di("all",u,s);const[d,h]=mi(f.shape,u),p=ot(h),v=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),g=Yg(v,v.dtype,"all",n);let m;if(o){const y=Ra(d,l);m=Ot({inputs:{x:g},backend:n,attrs:{shape:y}})}else m=Ot({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),m}const Tht={kernelName:wV,backendName:"webgl",kernelFunc:Cht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=a.shape.length,l=jn(i,a.shape);let u=l;const c=da(u,s);let f=a;c!=null&&(f=_o({inputs:{x:a},backend:n,attrs:{perm:c}}),u=Ca(u.length,s)),Di("any",u,s);const[d,h]=mi(f.shape,u),p=ot(h),v=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),g=Yg(v,v.dtype,"any",n);let m;if(o){const y=Ra(d,l);m=Ot({inputs:{x:g},backend:n,attrs:{shape:y}})}else m=Ot({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),m}const Iht={kernelName:_V,backendName:"webgl",kernelFunc:kht};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Eht{constructor(t,n,r){this.variableNames=["A"];const{windowSize:a,batchSize:i,outSize:o}=t;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];const s=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${a};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${a}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${s} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Aht{constructor(t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,pe(t.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=t[t.length-1],o=Math.ceil(i/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");const s=this.outputShape,l=s.length,u=Br(l),c=vo("coords",l);let f,d;if(o===1){d=l+1;const k=Br(d);f=`
        ${k} sourceLocR = ${k}(${c.join()}, 0);
        ++${c[l-1]};
        ${k} sourceLocG = ${k}(${c.join()}, 0);
        ++${c[l-2]};
        ${k} sourceLocA = ${k}(${c.join()}, 0);
        --${c[l-1]};
        ${k} sourceLocB = ${k}(${c.join()}, 0);
        --${c[l-2]};`}else d=l,f=`
        ${u} sourceLocR = coords;
        ++${c[l-1]};
        ${u} sourceLocG = coords;
        ++${c[l-2]};
        ${u} sourceLocA = coords;
        --${c[l-1]};
        ${u} sourceLocB = coords;
        --${c[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],v=h.map(k=>"int "+k),g=vo("sourceLocR",d-1).concat("inIdx.r"),m=vo("sourceLocG",d-1).concat("inIdx.g"),y=vo("sourceLocB",d-1).concat("inIdx.b"),b=vo("sourceLocA",d-1).concat("inIdx.a"),x=r==="max"?"greaterThan":"lessThan",_=a?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${b.join()})));`,S=`vec4(
            getAChannel(${g.join()}),
            hasNextCol ? getAChannel(${m.join()}) : 0.,
            hasNextRow ? getAChannel(${y.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,C=a?"":`
      float getBestIndicesAChannel(${v.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${v.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${C}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${c[l-1]} < ${s[l-1]-1};
        bool hasNextRow = ${c[l-2]} < ${s[l-2]-1};
        ${f}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${S};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${_}
          vec4 candidate = ${S};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${x}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lhe(e,t,n,r=null){let a=t.shape[0],i=t.shape[1];r!=null&&(a=r.shape[0],i=r.shape[1]);const o=HD(i),s={windowSize:o,inSize:i,batchSize:a,outSize:Math.ceil(i/o)},l=new Eht(s,n,r==null),u=[t];r!=null&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;const f=Lhe(e,t,n,c);return e.disposeIntermediateTensorInfo(c),f}function Ohe(e,t,n,r=null){const a=r!=null?r.shape:t.shape,i=a[a.length-1],o=HD(i),s=new Aht(a,o,n,r==null),l=r==null?[t]:[t,r],u=e.runWebGLProgram(s,l,"int32");if(u.shape.length===t.shape.length){const c=Ohe(e,t,n,u);return e.disposeIntermediateTensorInfo(u),c}return u}function Phe(e,t,n,r){const a=[n];if(Di("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!tt().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const i=[],o=e.texData.get(t.dataId),s=o!==null&&o.isPacked;let l=t;s&&(l=e.unpackTensor(t),i.push(l));const[u,c]=mi(l.shape,a),f=ot(c),d=Ot({inputs:{x:l},backend:e,attrs:{shape:[-1,f]}});i.push(d);const h=Lhe(e,d,r);i.push(h);const p=Ot({inputs:{x:h},backend:e,attrs:{shape:u}});return i.forEach(v=>e.disposeIntermediateTensorInfo(v)),p}return Ohe(e,t,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;let o=jn(i,a.shape);const s=da(o,a.shape.length);let l=a;const u=[];s!=null&&(l=_o({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=Ca(o.length,l.shape.length)),Di("argMax",[o[0]],l.shape.length);const c=Phe(n,l,o[0],"max");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}const Nht={kernelName:OA,backendName:"webgl",kernelFunc:Dht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;let o=jn(i,a.shape);const s=da(o,a.shape.length);let l=a;const u=[];s!=null&&(l=_o({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=Ca(o.length,l.shape.length)),Di("argMin",[o[0]],l.shape.length);const c=Phe(n,l,o[0],"min");return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),c}const Mht={kernelName:PA,backendName:"webgl",kernelFunc:Rht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ht=Hl+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Lht=mr({opSnippet:$ht}),Oht={kernelName:O_,backendName:"webgl",kernelFunc:Lht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pht=Hl+"return log(x + sqrt(x * x + 1.0));",Fht=mr({opSnippet:Pht}),Bht={kernelName:P_,backendName:"webgl",kernelFunc:Fht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vht=Hl+`
  return atan(x);
`,zht=mr({opSnippet:Vht}),Wht={kernelName:F_,backendName:"webgl",kernelFunc:zht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hht=Y6+`
  return atan(a, b);
`,Uht=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+jg+`
  return result;
`,Ght=Ni({opSnippet:Hht,packedOpSnippet:Uht}),Kht={kernelName:V_,backendName:"webgl",kernelFunc:Ght};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jht=Hl+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Yht=mr({opSnippet:jht}),Xht={kernelName:B_,backendName:"webgl",kernelFunc:Yht};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _w{constructor(t,n,r,a=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=t.filterWidth,s=t.strideHeight,l=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;const v=n==="avg",g=`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`,m=`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`;let y="0.0";if(v||(y="-1.0 / 1e-20"),r){const k=">=";this.userCode=`
        const ivec2 strides = ivec2(${s}, ${l});
        const ivec2 pads = ivec2(${h}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${k} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${a?i?g:m:`wR * ${d} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const b="max";let x=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(x="avgValue / max(count, 1.0)");const _=Math.floor(o/4)*4,S=o%4,C=`
      if (${v}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${b}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${l});
      const ivec2 pads = ivec2(${h}, ${p});
      const float initializationValue = ${y};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${y});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${f};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${_}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${C}
          }

          int xC = xCCorner + ${_};
          if (${S===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${C}
          } else if (${S===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${C}
          } else if (${S===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${C}
          }
        }
        setOutput(${x});
      }
    `}}class q6{constructor(t,n,r,a=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=t.filterWidth,s=t.strideDepth,l=t.strideHeight,u=t.strideWidth,c=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,p=t.effectiveFilterHeight,v=t.effectiveFilterWidth,g=t.padInfo.front,m=t.padInfo.top,y=t.padInfo.left;this.outputShape=t.outShape;const b=n==="avg";let x="0.0";if(b||(x="-1.0 / 1e-20"),r){const I=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${s}, ${l}, ${u});
        const ivec3 pads = ivec3(${g}, ${m}, ${y});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${t.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${f}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${v};
                  wC += ${d}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${I} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${a?i?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${p} * ${v} +
                      wR * ${v} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const _="max";let S=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(S="avgValue / max(count, 1.0)");const C=Math.floor(o/4)*4,k=o%4,T=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${_}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${s}, ${l}, ${u});
      const ivec3 pads = ivec3(${g}, ${m}, ${y});
      const float initializationValue = ${x};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${t.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${x});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${f}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${C}; wC += 4) {
              int xC = xCCorner + wC * ${d};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                getValue(batch, xD, xR, xC + 3 * ${d}, ch)
              );

              ${T}
            }

            int xC = xCCorner + ${C};
            if (${k===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${k===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${k===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                initializationValue
              );

              ${T}
            }
          }
        }
        setOutput(${S});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;XS(a,"avgPool");const{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=r,u=1;pe(Zi(o,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=zl(a.shape,i,o,u,s,l);if(c.filterWidth===1&&c.filterHeight===1&&Er(c.inShape,c.outShape))return Is({inputs:{x:a},backend:n});const f=new _w(c,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}const Zht={kernelName:FA,backendName:"webgl",kernelFunc:qht};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jht(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:o,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=[1,1,1],f=ud(a.shape,i,o,c,s,l,u),d=new q6(f,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}const Qht={kernelName:BA,backendName:"webgl",kernelFunc:Jht};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ept{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,l=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=l-1-t.padInfo.top,f=u-1-t.padInfo.left,d=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${f});
      const float avgMultiplier = float(${d});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${s}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class tpt{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,p=f-1-t.padInfo.front,v=d-1-t.padInfo.top,g=h-1-t.padInfo.left,m=1/(n*r*a);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${v}, ${g});
      const float avgMultiplier = float(${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${f};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${d};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,o=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=ud(o.shape,s,l,f,u,c),h=new tpt(d);return n.runWebGLProgram(h,[a],o.dtype)}const rpt={kernelName:CV,backendName:"webgl",kernelFunc:npt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function apt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,o=i;XS([a,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=zl(o.shape,s,l,1,u),f=new ept(c);return n.runWebGLProgram(f,[a],o.dtype)}const ipt={kernelName:SV,backendName:"webgl",kernelFunc:apt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function opt(e){const{inputs:t,backend:n,attrs:r}=e,{a,b:i}=t,{transposeA:o,transposeB:s}=r;return PI({a,b:i,transposeA:o,transposeB:s,backend:n})}const spt={kernelName:VA,backendName:"webgl",kernelFunc:opt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lpt{constructor(t,n,r,a,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],On(t,n),On(t,r);let s="0.0";a!=null&&(On(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let l="1.0";i!=null&&(On(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${s};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${o}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class upt{constructor(t,n,r,a,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],On(t,n),On(t,r);let s="vec4(0.0)";a!=null&&(On(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let l="vec4(1.0)";i!=null&&(On(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = ${s};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${o}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cpt=({inputs:e,backend:t,attrs:n})=>{const{x:r,mean:a,variance:i,offset:o,scale:s}=e;pe(a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),pe(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),pe(s==null||a.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=[r,a,i];let c=null;o!=null&&(c=o.shape,u.push(o));let f=null;s!=null&&(f=s.shape,u.push(s));const d=tt().getBool("WEBGL_PACK_NORMALIZATION")?new upt(r.shape,a.shape,i.shape,c,f,l):new lpt(r.shape,a.shape,i.shape,c,f,l);return t.runWebGLProgram(d,u,u[0].dtype)},fpt={kernelName:JA,backendName:"webgl",kernelFunc:cpt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dpt{constructor(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;const n=Br(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=hpt(this.rank);let a;const i=t.map((o,s)=>`sourceLoc.${JP[s]} = start[${s}] + coords.${JP[s]};`);a=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${a}
        setOutput(getSource(${r}));
      }
    `}}const JP=["x","y","z","w","u","v"];function hpt(e){if(e===1)return"sourceLoc";if(e<=6)return JP.slice(0,e).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ppt{constructor(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Br(this.rank),r=vo("coords",this.rank),a=vo("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${a.slice(-2).join()})`,o=`getChannel(getSource(${a.join()}), ${i})`,s=`
      result.x = ${o};
      if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
        ++${a[this.rank-1]};
        result.y = ${o};
        --${a[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${t[this.rank-2]}) {
        ++${a[this.rank-2]};
        result.z = ${o};
        if (++${r[this.rank-1]} < ${t[this.rank-1]}) {
          ++${a[this.rank-1]};
          result.w = ${o};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${t.map((c,f)=>`start[${f}]`).join()});`:t.map((c,f)=>`${a[f]} = ${r[f]} + start[${f}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${s}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vpt(e,t,n,r){const a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),o=r.texData.get(i.dataId);Object.assign(o,a),o.refCount=1,o.shape=n,o.dtype=e.dtype;let s=Gz(t,dn(e.shape));a.slice&&(s+=a.slice.flatOffset),o.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};const l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),i}function u1(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:o}=r,[s,l]=WD(a,i,o);if(Wz(a,s,l),ot(l)===0)return n.makeTensorInfo(l,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||a.dtype==="string"){const f=n.texData.get(a.dataId),d=sdt(f.values,s,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,d)}const{isPacked:u}=n.texData.get(a.dataId),c=Uz(a.shape,s,l);if(u||!c){const f=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ppt(l):new dpt(l),d=[s];return n.runWebGLProgram(f,[a],a.dtype,d)}return n.uploadToGPU(a.dataId),vpt(a,s,l,n)}const gpt={kernelName:ID,backendName:"webgl",kernelFunc:u1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mpt=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:o}=r;pe(a.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const s=i.reduce((y,b)=>y*b),l=OS(a.shape,i,s),u=PS(l.length,i.length),c=FS(a.shape,i,s),f=qz(o,i.length),d=Zz(c,o,i.length),h=[],p=Ot({inputs:{x:a},backend:n,attrs:{shape:l}}),v=_o({inputs:{x:p},backend:n,attrs:{perm:u}}),g=Ot({inputs:{x:v},backend:n,attrs:{shape:c}}),m=u1({inputs:{x:g},backend:n,attrs:{begin:f,size:d}});return h.push(p),h.push(v),h.push(g),h.forEach(y=>n.disposeIntermediateTensorInfo(y)),m},ypt={kernelName:zA,backendName:"webgl",kernelFunc:mpt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:o}=r,s=n.readSync(a.dataId),l=n.readSync(i.dataId),u=Che(s,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}const xpt={kernelName:TV,backendName:"webgl",kernelFunc:bpt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wpt=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,_pt=`
  return float(int(a.r) & int(b.r));
`;function Spt(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,i=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS"),o=tt().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,a])||o===1){const l=n.texData.get(r.dataId).values,u=n.texData.get(a.dataId).values,[c,f]=Nft(r.shape,a.shape,l,u,r.dtype),d=n.makeTensorInfo(f,r.dtype),h=n.texData.get(d.dataId);return h.values=c,d}let s;return i?s=new s1(wpt,r.shape,a.shape,!1):s=new _g(_pt,r.shape,a.shape),n.runWebGLProgram(s,[r,a],r.dtype)}const Cpt={kernelName:kV,backendName:"webgl",kernelFunc:Spt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tpt(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.readSync(r.dataId),o=n.readSync(a.dataId),s=On(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}const kpt={kernelName:Dse,backendName:"webgl",kernelFunc:Tpt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ipt="return float(a != b);",Fhe=Ni({opSnippet:Ipt,cpuKernelImpl:Jft,dtype:"bool"}),Ept={kernelName:vD,backendName:"webgl",kernelFunc:Fhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZS(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.texData.get(r.dataId);return Is({inputs:{x:a.complexTensorInfos.real},backend:n})}const Apt={kernelName:ZV,backendName:"webgl",kernelFunc:ZS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dpt="return float(int(x));";function Npt(e,t){const n=new gc(e.shape,Dpt),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QP(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:i}=r;if(i==="complex64"){if(a.dtype==="complex64")return Is({inputs:{x:a},backend:n});const o=ni(a.shape),s=QP({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=lp({inputs:{real:s,imag:o},backend:n});return o.dispose(),n.disposeIntermediateTensorInfo(s),l}if(a.dtype==="complex64"){const o=ZS({inputs:{input:a},backend:n}),s=QP({inputs:{x:o},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(o),s}if(!Tse(a.dtype,i)){const o=Is({inputs:{x:a},backend:n});return{dataId:o.dataId,shape:o.shape,dtype:i}}if(n.shouldExecuteOnCPU([a])){const o=n.texData.get(a.dataId).values,[s,l,u]=Rft(o,a.shape,a.dtype,i);return n.makeTensorInfo(s,l,u)}if(i==="int32")return Npt(a,n);if(i==="bool"){const o=n.makeTensorInfo([],"bool",Ui("bool",1)),l=Fhe({inputs:{a,b:o},backend:n});return n.disposeIntermediateTensorInfo(o),l}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${i}`)}const Rpt={kernelName:z_,backendName:"webgl",kernelFunc:QP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nK="return ceil(x);",Mpt=mr({opSnippet:nK,packedOpSnippet:nK,cpuKernelImpl:Mft}),$pt={kernelName:W_,backendName:"webgl",kernelFunc:Mpt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lpt{constructor(t){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Opt{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ppt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:i,clipValueMax:o}=r;let s;tt().getBool("WEBGL_PACK_CLIP")?s=new Opt(a.shape):s=new Lpt(a.shape);const l=[[i],[o]];return n.runWebGLProgram(s,[a],a.dtype,l)}const Fpt={kernelName:H_,backendName:"webgl",kernelFunc:Ppt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bpt{constructor(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rK(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function Vpt(e){const{inputs:t,backend:n}=e,{x:r}=t,a=n.texData.get(r.dataId),i=new Bpt(r.shape),o=[rK(r,a.complexTensorInfos.real),rK(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}const zpt={kernelName:WA,backendName:"webgl",kernelFunc:Vpt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wpt{constructor(t){this.outputShape=[],this.outputShape=Tc(t,1),this.variableNames=t.map((o,s)=>`T${s}`);const n=new Array(t.length-1);n[0]=t[0][1];for(let o=1;o<n.length;o++)n[o]=n[o-1]+t[o][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let o=1;o<n.length;o++){const s=n[o-1];r.push(`else if (yC < ${n[o]}) setOutput(getT${o}(yR, yC-${s}));`)}const a=n.length,i=n[n.length-1];r.push(`else setOutput(getT${a}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hpt{constructor(t,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Tc(t,n);const r=this.outputShape,a=r.length,i=Br(a),o=vo("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((v,g)=>`T${g}`);const l=new Array(t.length-1);l[0]=t[0][n];for(let v=1;v<l.length;v++)l[v]=l[v-1]+t[v][n];const u=s[n],c=s.slice(-2),f=s.join();let d=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${f}), vec2(${c.join()}));
        }`;for(let v=1;v<l.length;v++){const g=l[v-1];d+=`
        if (${u} < ${l[v]}  && ${u} >= ${l[v-1]}) {
          return getChannel(
            getT${v}(${u2(s,u,g)}),
            vec2(${u2(c,u,g)}));
        }`}const h=l.length,p=l[l.length-1];d+=`
        return getChannel(
          getT${h}(${u2(s,u,p)}),
          vec2(${u2(c,u,p)}));`,this.userCode=`
      float getValue(${s.map(v=>"int "+v)}) {
        ${d}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${o}), 0., 0., 0.);

        ${o[a-1]} = ${o[a-1]} + 1;
        if (${o[a-1]} < ${r[a-1]}) {
          result.g = getValue(${o});
        }

        ${o[a-2]} = ${o[a-2]} + 1;
        if (${o[a-2]} < ${r[a-2]}) {
          result.a = getValue(${o});
        }

        ${o[a-1]} = ${o[a-1]} - 1;
        if (${o[a-2]} < ${r[a-2]} &&
            ${o[a-1]} < ${r[a-1]}) {
          result.b = getValue(${o});
        }
        setOutput(result);
      }
    `}}function u2(e,t,n){const r=e.indexOf(t);return e.map((i,o)=>o===r?`${i} - ${n}`:i).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lN(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.texData.get(r.dataId);return Is({inputs:{x:a.complexTensorInfos.imag},backend:n})}const Upt={kernelName:HV,backendName:"webgl",kernelFunc:lN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Db(e,t,n){const r=e[0].dtype;if(r==="complex64"){const h=e.map(y=>ZS({inputs:{input:y},backend:n})),p=e.map(y=>lN({inputs:{input:y},backend:n})),v=Db(h,t,n),g=Db(p,t,n),m=lp({inputs:{real:v,imag:g},backend:n});return h.forEach(y=>n.disposeIntermediateTensorInfo(y)),p.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),m}let a=n.shouldExecuteOnCPU(e);if(r==="string"&&(a=!0),a){const h=e.map(x=>{const S=[-1,ot(x.shape.slice(t))];return Ot({inputs:{x},backend:n,attrs:{shape:S}})}),p=h.map(x=>({vals:n.readSync(x.dataId),shape:x.shape})),v=Tc(h.map(x=>x.shape),1),g=h[0].shape[0]===1,m=$ft(p,v,r,g),y=Tc(e.map(x=>x.shape),t),b=n.makeTensorInfo(y,r,m);return h.forEach(x=>n.disposeIntermediateTensorInfo(x)),b}const i=e.filter(h=>ot(h.shape)>0),o=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(i.length===1){const h=o?new gc(e[0].shape,Bd):new Yd(e[0].shape,Bd);return n.runWebGLProgram(h,e,r)}const s=tt().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>s){const h=[];for(let v=0;v<i.length;v+=s){const g=i.slice(v,v+s);h.push(Db(g,t,n))}const p=Db(h,t,n);for(const v of h)n.disposeIntermediateTensorInfo(v);return p}if(o){const h=new Hpt(i.map(p=>p.shape),t);return n.runWebGLProgram(h,i,r)}const{tensors2D:l,outShape:u}=Gpt(i,t,n),c=new Wpt(l.map(h=>h.shape)),f=n.runWebGLProgram(c,l,r);l.forEach(h=>n.disposeIntermediateTensorInfo(h));const d=Ot({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),d}function Gpt(e,t,n){const r=Tc(e.map(i=>i.shape),t);return{tensors2D:e.map(i=>Ot({inputs:{x:i},attrs:{shape:[-1,ot(i.shape.slice(t))]},backend:n})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bhe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=jn(a,t[0].shape)[0],o=t.map(u=>u.shape);jz(o,i);const s=Tc(t.map(u=>u.shape),i);if(ot(s)===0)return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter(u=>ot(u.shape)>0);return l.length===1?Is({inputs:{x:l[0]},backend:n}):Db(l,i,n)}const Kpt={kernelName:HA,backendName:"webgl",kernelFunc:Bhe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Vhe{constructor(t,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.outputShape=t.outShape;const o=t.padInfo.top,s=t.padInfo.left,l=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,p=Math.floor(t.inChannels/4)*4,v=t.inChannels%4,g=t.dataFormat==="channelsLast",m=g?1:2,y=g?2:3,b=g?3:1;let x="",_="";r&&(a?x=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?x=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:x=`
          float activation(float x) {
            ${r}
          }
        `,_="result = activation(result);");const S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${x}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${o}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${b}];

        ivec2 xRCCorner =
            ivec2(coords[${m}], coords[${y}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${d}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${t.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${f};

            if (xC < 0 || xC >= ${t.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${g}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${v===1}) {

              if (${g}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${v===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${g}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${v===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${g}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${S}
        ${_}
        setOutput(result);
      }
    `}}class jpt{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,p=Math.floor(t.inChannels/4)*4,v=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${o}, ${s});
      const ivec3 pads = ivec3(${n}, ${r}, ${a});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${f}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${t.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${d}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${v===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${v===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${v===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zhe{constructor(t,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Qi(this.outputShape.length);const o=t.padInfo.left,s=t.strideWidth,l=t.dilationWidth,u=t.filterHeight,c=t.filterWidth,f=c;let d=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<c;g++)d+=`
           vec4 xTexelC${g*2};
           int xTexelC${g*2}Ready;
           vec4 xTexelC${g*2+1};
           int xTexelC${g*2+1}Ready;
           vec4 xC${g};`;d+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${t.inChannels}; d1 += 2) {
       `;for(let g=0;g<c;g++)d+=`
           xTexelC${g*2} = vec4(0.0);
           xTexelC${g*2}Ready = 0;
           xTexelC${g*2+1} = vec4(0.0);
           xTexelC${g*2+1}Ready = 0;
           xC${g} = vec4(0.0);`;d+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let g=0;g<(f+1)/2;g++){const m=g*2;if(d+=`
           xC = xCCorner + ${m*l};
           `,s===1){if(m<c&&(o%2===1?(d+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }
               `,l===1&&m>0?d+=`
                 xC${m} = vec4(xTexelC${m-2}.zw, xTexelC${m}.xy);
                 `:d+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${m} = vec4(previous.zw, xTexelC${m}.xy);
                   } else {
                     xC${m} = vec4(0.0, 0.0, xTexelC${m}.xy);
                   }
                   `):d+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 xC${m} = xTexelC${m};
                 `,m+1<c)){const y=o%2===0?pV(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(d+=`
                   xCOffset = xC + imod(pads[1], 2) + ${y};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                     xTexelC${m+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${m+1}.zw = vec2(0.0);
                     }
                     xTexelC${m+1}Ready = 1;
                   }
                   `,l>1?d+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${m+1} = vec4(previous.zw, xTexelC${m+1}.xy);
                     } else {
                      xC${m+1} = vec4(0.0, 0.0, xTexelC${m+1}.xy);
                     }
                     `:d+=`
                     xC${m+1} = vec4(xTexelC${m}.zw, xTexelC${m+1}.xy);
                     `):y===1?d+=`
                     xC${m+1} = xTexelC${m};
                     `:d+=`
                     xCOffset = xC + ${y};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                       xTexelC${m+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${m+1}.zw = vec2(0.0);
                       }
                       xTexelC${m+1}Ready = 1;
                     }

                     xC${m+1} = xTexelC${m+1};
                     `}}else m<c&&(o%2===1?(d+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${m+1}Ready == 0) {
                   xTexelC${m+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${m+1}.zw = vec2(0.0);
                   }
                   xTexelC${m+1}Ready = 1;
                 }

                 xC${m} = vec4(xTexelC${m}.zw, xTexelC${m+1}.zw);
               `,m+1<c&&(d+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${m+1} = vec4(xTexelC${m+1}.xy, final.xy);
                 `)):(d+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${m}Ready == 0) {
                   xTexelC${m} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${m}.zw = vec2(0.0);
                   }
                   xTexelC${m}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${m+1}Ready == 0) {
                   xTexelC${m+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${m+1}.zw = vec2(0.);
                   }
                   xTexelC${m+1}Ready = 1;
                 }

                 xC${m} = vec4(
                   xTexelC${m}.xy, xTexelC${m+1}.xy);
               `,m+1<c&&(d+=`
                   xC${m+1} = vec4(xTexelC${m}.zw, xTexelC${m+1}.zw);
                 `)));m<c&&(d+=`
             wTexel = getW(r, ${m}, d1, d2);
             dotProd += xC${m}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${t.inChannels}) {
               dotProd += xC${m}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,m+1<c&&(d+=`
               wTexel = getW(r, ${m+1}, d1, d2);
               dotProd += xC${m+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${t.inChannels}) {
                 dotProd += xC${m+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}d+=`
     }
   `,d+=`
     }
   `,d+=`
     }
   `;let h="",p="";r&&(a?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:h=`vec4 activation(vec4 x) {
           ${r}
         }`,p="result = activation(result);");const v=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${d}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${v}
         ${p}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ypt{constructor(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=Qi(this.outputShape.length);const{dataFormat:r}=n,a=ko(),i=r==="channelsLast",o=i?1:2,s=i?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${t[2]} && pos < ${t[1]}) {`;let u="";for(let c=0;c<=1;c++)for(let f=0;f<=1;f++)u+=`
          blockIndex = rc.z + ${f};
          pos = rc.y + ${c};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${o}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${s}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+f}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+f}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${a.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FI(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&n===1&&e[0]>1?[e[0],1]:null}function Whe({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:s=null}){const l=e.shape,u=r.texData.get(e.dataId),c=n.inChannels,f=l[0]*l[1]*l[2],d=n.outChannels,h=n.dataFormat==="channelsLast",p=!1,v=!1;let g;const m=[];if(i!=null){const x=FI(i.shape,h);x!=null&&(i=Ot({inputs:{x:i},backend:r,attrs:{shape:x}}),m.push(i))}if(a!=null){const x=FI(a.shape,h);x!=null&&(a=Ot({inputs:{x:a},backend:r,attrs:{shape:x}}),m.push(a))}if(!((f===1||d===1)&&c>$he)&&u.isPacked&&h&&u.texture!=null&&l[2]%2!==0&&Er(u.shape.slice(-3),l.slice(-3))){const x=l[0]*l[1]*(l[2]+1),_={dataId:e.dataId,shape:[1,x,n.inChannels],dtype:e.dtype},S=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,pe(OI(u.shape,_.shape),()=>`packed reshape ${u.shape} to ${_.shape} isn't free`);const C=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});m.push(C);const k=PI({a:_,b:C,backend:r,transposeA:p,transposeB:v,bias:a,activation:s,preluActivationWeights:i,leakyreluAlpha:o}),T=r.texData.get(k.dataId);pe(T.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=S,T.shape=n.outShape,g=Is({inputs:{x:k},backend:r}),g.shape=n.outShape,m.push(k)}else{const x=n.outHeight*n.outWidth,_=Ot({inputs:{x:e},backend:r,attrs:{shape:h?[n.batchSize,x,n.inChannels]:[n.batchSize,n.inChannels,x]}}),S=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),C=PI({a:h?_:S,b:h?S:_,transposeA:!h,transposeB:v,backend:r,bias:a,activation:s,preluActivationWeights:i,leakyreluAlpha:o});g=Ot({inputs:{x:C},backend:r,attrs:{shape:n.outShape}}),m.push(_),m.push(S),m.push(C)}for(const x of m)r.disposeIntermediateTensorInfo(x);return g}function Hhe({x:e,filter:t,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:s=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:f,outHeight:d,dataFormat:h}=n,p=h==="channelsLast",v=l*u*c,g=d*f,m=[n.batchSize,v,g],y=!0,b=!1,x=[];if(i!=null){const O=FI(i.shape,p);O!=null&&(i=Ot({inputs:{x:i},backend:r,attrs:{shape:O}}),x.push(i))}if(a!=null){const O=FI(a.shape,p);O!=null&&(a=Ot({inputs:{x:a},backend:r,attrs:{shape:O}}),x.push(a))}const _=Ot({inputs:{x:t},backend:r,attrs:{shape:[1,v,ot(t.shape)/v]}});x.push(_);const S=new Ypt(m,n),C=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=r.runWebGLProgram(S,[e],"float32",C),T=Ot({inputs:{x:k},backend:r,attrs:{shape:m}});x.push(k),x.push(T);const I=a!=null,E=i!=null,A=s==="leakyrelu",N=s?ww(s,!0):null,L=new Mhe(p?T.shape:_.shape,p?_.shape:T.shape,p?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],y,b,I,N,E,A),R=p?[T,_]:[_,T];if(a&&R.push(a),E&&R.push(i),A){const O=r.makeTensorInfo([],"float32",Qh(o,"float32"));R.push(O),x.push(O)}const D=r.runWebGLProgram(L,R,"float32"),P=Ot({inputs:{x:D},backend:r,attrs:{shape:n.outShape}});x.push(D);for(const O of x)r.disposeIntermediateTensorInfo(O);return P}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xpt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r,f=cd(l),d=Ai(a.shape,i.shape,o,u,s,c,!1,f);let h;if(d.filterHeight===1&&d.filterWidth===1&&d.dilationHeight===1&&d.dilationWidth===1&&d.strideHeight===1&&d.strideWidth===1&&(d.padInfo.type==="SAME"||d.padInfo.type==="VALID"))h=Whe({x:a,filter:i,convInfo:d,backend:n});else if(d.strideWidth<=2&&f==="channelsLast"&&tt().getBool("WEBGL_EXP_CONV")){const v=new zhe(d),g=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];h=n.runWebGLProgram(v,[a,i],"float32",g)}else if(tt().getBool("WEBGL_CONV_IM2COL"))h=Hhe({x:a,filter:i,convInfo:d,backend:n});else{const v=new Vhe(d);h=n.runWebGLProgram(v,[a,i],"float32")}const p=Ot({inputs:{x:h},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(h),p}const qpt={kernelName:UA,backendName:"webgl",kernelFunc:Xpt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Zpt{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${a};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              ${o?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Jpt{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dataFormat==="channelsLast",s=n-1-t.padInfo.top,l=r-1-t.padInfo.left,u=o?1:2,c=o?2:3,f=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${f}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {

              if (${o}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Qpt{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yF = 0; yF < ${t.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${t.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${t.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${o};

              if (xR < 0 || xR >= ${t.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${t.outWidth}; yC++) {
                int xC = wC + yC * ${a} - ${s};

                if (xC < 0 || xC >= ${t.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class evt{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=n-1-t.padInfo.front,u=r-1-t.padInfo.top,c=a-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${a}; wC++) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${a} - 1 - wC;

              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,f=cd(l),d=Ai(a.shape,c,o,1,s,u,!1,f),h=new Zpt(d);return n.runWebGLProgram(h,[a,i],"float32")}const nvt={kernelName:EV,backendName:"webgl",kernelFunc:tvt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rvt{constructor(t){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=Qi(this.outputShape.length);const n=t.filterHeight,r=t.filterWidth,a=n-1-t.padInfo.top,i=r-1-t.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${t.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${t.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function avt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:o,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r,f=cd(u),d=Ai(o,i.shape,s,1,l,c,!1,f);if(tt().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&f==="channelsLast"){const h=[[d.strideHeight,d.strideWidth]],p=new rvt(d);return n.runWebGLProgram(p,[a,i],"float32",h)}else{const h=new Jpt(d);return n.runWebGLProgram(h,[a,i],"float32")}}const ivt={kernelName:GA,backendName:"webgl",kernelFunc:avt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ovt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l}=r,u=tp(a.shape,i.shape,o,l,s),c=new jpt(u);return n.runWebGLProgram(c,[a,i],"float32")}const svt={kernelName:KA,backendName:"webgl",kernelFunc:ovt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,pad:s,filterShape:l}=r,u=tp(a.shape,l,o,1,s),c=new Qpt(u);return n.runWebGLProgram(c,[a,i],"float32")}const uvt={kernelName:AV,backendName:"webgl",kernelFunc:lvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cvt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:o,strides:s,inputShape:l}=r,u=tp(l,i.shape,s,1,o),c=new evt(u);return n.runWebGLProgram(c,[a,i],"float32")}const fvt={kernelName:DV,backendName:"webgl",kernelFunc:cvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dvt=l1+`
  return cos(x);
`,hvt=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${jg}
  return result;
`,pvt=mr({opSnippet:dvt,packedOpSnippet:hvt}),vvt={kernelName:U_,backendName:"webgl",kernelFunc:pvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gvt=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,mvt=mr({opSnippet:gvt}),yvt={kernelName:G_,backendName:"webgl",kernelFunc:mvt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bvt{constructor(t,n,r,a,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,s,l,u]=t,[c]=n,[f,d]=r;this.outputShape=[c,f,d,u];const h=a==="bilinear"?1:0,[p,v]=[`${s-1}.0`,`${l-1}.0`],[g,m,y]=f>1?[`${(s-1)/(f-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,x,_]=d>1?[`${(l-1)/(d-1)}`,"(x2-x1) * width_ratio",`x1*${v} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${v}`];this.userCode=`
      const float height_ratio = float(${g});
      const float width_ratio = float(${b});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${o}) {
          return;
        }

        float height_scale = ${m};
        float width_scale = ${x};

        float in_y = ${y};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${_};
        if( in_x < 0.0 || in_x > ${v} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xvt=e=>{const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:o}=t,{cropSize:s,method:l,extrapolationValue:u}=r,c=new bvt(a.shape,i.shape,s,l,u);return n.runWebGLProgram(c,[a,i,o],"float32")},wvt={kernelName:RV,backendName:"webgl",kernelFunc:xvt};var Sw;(function(e){e.Prod="*",e.Sum="+"})(Sw||(Sw={}));class aK{constructor(t,n,r,a){this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,o=this.op===Sw.Prod?"1.0":"0.0",s=r?o:`getX(${iK(i,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",c="";r?(u=a?`end != ${l-1}`:"end != 0",c=a?"end + 1":"end - 1"):(u=a?`end + pow2 < ${l}`:"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Br(i)} coords = getOutputCoords();
        int end = ${oK(i,"coords",this.op)};
        float val = ${s};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${oK(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${iK(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function iK(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.x, ${t}.y`;if(e===3)return`${t}.x, ${t}.y, ${t}.z`;if(e===4)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function oK(e,t,n){if(e===1)return`${t}`;if(e===2)return`${t}.y`;if(e===3)return`${t}.z`;if(e===4)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uhe(e,t,n,r,a,i){const o=t.shape.length,s=da([r],o);let l=t;s!=null&&(l=_o({inputs:{x:t},backend:n,attrs:{perm:s}}));const u=Ca(1,o)[0];if(u!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let f=Is({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(c))-1;d++){const h=new aK(e,l.shape,!1,i),p=[[d]],v=f;f=n.runWebGLProgram(h,[f],f.dtype,p),n.disposeIntermediateTensorInfo(v)}if(a){const d=new aK(e,l.shape,a,i),h=f;f=n.runWebGLProgram(d,[f],f.dtype),n.disposeIntermediateTensorInfo(h)}if(s!=null){const d=np(s),h=_o({inputs:{x:f},backend:n,attrs:{perm:d}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),h}return f}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _vt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:o,reverse:s}=r;return Uhe(Sw.Prod,a,n,i,o,s)}const Svt={kernelName:NV,backendName:"webgl",kernelFunc:_vt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:o,reverse:s}=r;return Uhe(Sw.Sum,a,n,i,o,s)}const Tvt={kernelName:jA,backendName:"webgl",kernelFunc:Cvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:o,binaryOutput:s}=r;if(a.shape.length===1){const l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=Che(l,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}else if(a.shape.length===2){const l=n.bufferSync(a),u=n.bufferSync(i),c=Dft(l,u,o,s);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const Ivt={kernelName:MV,backendName:"webgl",kernelFunc:kvt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Evt{constructor(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Avt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:o}=r,s=a.shape[0],l=o==="NHWC"?a.shape[1]:a.shape[2],u=o==="NHWC"?a.shape[2]:a.shape[3],c=o==="NHWC"?a.shape[3]:a.shape[1],f=l*i,d=u*i,h=c/(i*i),p=o==="NHWC"?[s,f,d,h]:[s,h,f,d],v=new Evt(p,i,o);return n.runWebGLProgram(v,[a],a.dtype)}const Dvt={kernelName:$V,backendName:"webgl",kernelFunc:Avt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ghe{constructor(t,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Qi(this.outputShape.length);const o=t.filterHeight,s=t.filterWidth,l=t.outChannels/t.inChannels;let u="",c="";r&&(a?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,c="result = activation(result);");const f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${o}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${s}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${f}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Khe{constructor(t,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Qi(this.outputShape.length);const o=t.outChannels/t.inChannels,s=t.padInfo.left,l=t.strideWidth,u=t.dilationWidth,c=t.filterHeight,f=t.filterWidth,d=f;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let m=0;m<f;m++)h+=`
          vec4 xTexelC${m*2};
          int xTexelC${m*2}Ready;
          vec4 xTexelC${m*2+1};
          int xTexelC${m*2+1}Ready;
          vec4 xC${m};`;h+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let m=0;m<f;m++)h+=`
          xTexelC${m*2} = vec4(0.0);
          xTexelC${m*2}Ready = 0;
          xTexelC${m*2+1} = vec4(0.0);
          xTexelC${m*2+1}Ready = 0;
          xC${m} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let m=0;m<(d+1)/2;m++){const y=m*2;if(h+=`
          xC = xCCorner + ${y*u};
          `,l===1){if(y<f&&(s%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }
              `,u===1&&y>0?h+=`
                xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                  } else {
                    xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xC${y} = xTexelC${y};
                `,y+1<f)){const b=s%2===0?pV(u):u;u%2===0&&s%2===1||u%2!==0&&s%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${b};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                    xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${y+1}.zw = vec2(0.0);
                    }
                    xTexelC${y+1}Ready = 1;
                  }
                  `,u>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                    } else {
                     xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                    }
                    `:h+=`
                    xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                    `):b===1?h+=`
                    xC${y+1} = xTexelC${y};
                    `:h+=`
                    xCOffset = xC + ${b};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                      xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${y+1}.zw = vec2(0.0);
                      }
                      xTexelC${y+1}Ready = 1;
                    }

                    xC${y+1} = xTexelC${y+1};
                    `}}else y<f&&(s%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.0);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
              `,y+1<f&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(
                  xTexelC${y}.xy, xTexelC${y+1}.xy);
              `,y+1<f&&(h+=`
                  xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                `)));y<f&&(h+=`
            wTexel = getW(r, ${y}, d1, q);
            dotProd += xC${y} * vec4(wTexel.xz, wTexel.xz);
          `,y+1<f&&(h+=`
              wTexel = getW(r, ${y+1}, d1, q);
              dotProd += xC${y+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let p="",v="";r&&(a?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:p=`vec4 activation(vec4 x) {
          ${r}
        }`,v="result = activation(result);");const g=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${g}
        ${v}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l,dimRoundingMode:u}=r;let c=l;c==null&&(c=[1,1]),pe(Zi(o,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const f=Ai(a.shape,i.shape,o,c,s,u,!0);let d;tt().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?d=new Khe(f):d=new Ghe(f);const h=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(d,[a,i],"float32",h)}const Rvt={kernelName:YA,backendName:"webgl",kernelFunc:Nvt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mvt{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;const n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${o} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${t.batchSize}; b++) {
          for (int yR = 0; yR < ${t.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${a};

            if (xR < 0 || xR >= ${t.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${t.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${t.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class $vt{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,l=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r,f=Ai(a.shape,c,o,s,l,u,!0),d=new Mvt(f);return n.runWebGLProgram(d,[a,i],"float32")}const Ovt={kernelName:LV,backendName:"webgl",kernelFunc:Lvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pvt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:o,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r,f=Ai(c,i.shape,o,s,l,u,!0),d=new $vt(f);return n.runWebGLProgram(d,[a,i],"float32")}const Fvt={kernelName:OV,backendName:"webgl",kernelFunc:Pvt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bvt{constructor(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vvt(e){const{inputs:t,backend:n}=e,{x:r}=t,a=[...r.shape,...r.shape],i=ot(r.shape),o=Ot({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new Bvt(i),l=n.runWebGLProgram(s,[o],o.dtype),u=Ot({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),u}const zvt={kernelName:Nse,backendName:"webgl",kernelFunc:Vvt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wvt{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const{inHeight:n,inWidth:r,padInfo:a,strideHeight:i,strideWidth:o,filterHeight:s,filterWidth:l,dilationHeight:u,dilationWidth:c}=t,{top:f,left:d}=a;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${o});
      const ivec2 pads = ivec2(${f}, ${d});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${s}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hvt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:o,pad:s,dilations:l}=r,u=NS(a.shape,i.shape,o,s,"NHWC",l);let c;const f=new Wvt(u);c=n.runWebGLProgram(f,[a,i],"float32");const d=Ot({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),d}const Uvt={kernelName:XA,backendName:"webgl",kernelFunc:Hvt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gvt(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:o,summedDims:s,idDims:l}=i6(a,i.length);s6(o.length,l,i);const{path:u,steps:c}=l6(s,l),f=c.length;let d=null,h=o.length;const p=[];for(let v=0;v<f;++v){for(const g of c[v]){const{permutationIndices:m,expandDims:y}=o6(h,l[g]);let b;u6(m)?b=i[g]:(b=_o({inputs:{x:i[g]},backend:n,attrs:{perm:m}}),p.push(b));const x=b.shape.slice();for(let _=0;_<y.length;++_)x.splice(y[_],0,1);Er(b.shape,x)||(b=Ot({inputs:{x:b},backend:n,attrs:{shape:x}}),p.push(b)),d===null?d=b:(d=X6({inputs:{a:b,b:d},backend:n}),p.push(d))}v<f-1&&(u[v]>=0&&(d=sN({inputs:{x:d},backend:n,attrs:{axis:u[v]-(o.length-h),keepDims:!1}}),p.push(d)),h--)}for(const v of p)v!==d&&n.disposeIntermediateTensorInfo(v);return d}const Kvt={kernelName:PV,backendName:"webgl",kernelFunc:Gvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jvt="return (x >= 0.0) ? x : (exp(x) - 1.0);",Yvt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Xvt=mr({opSnippet:jvt,packedOpSnippet:Yvt}),qvt={kernelName:j_,backendName:"webgl",kernelFunc:Xvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zvt="return (b >= 0.0) ? a : a * (b + 1.0);",Jvt=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,Qvt=e=>{const{inputs:t,backend:n}=e,{dy:r,y:a}=t,i=tt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new s1(Jvt,r.shape,a.shape):new _g(Zvt,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)},egt={kernelName:FV,backendName:"webgl",kernelFunc:Qvt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tgt=`
  return vec4(equal(a, b));
`,ngt="return float(a == b);",rgt=Ni({opSnippet:ngt,packedOpSnippet:tgt,dtype:"bool",cpuKernelImpl:Lft}),agt={kernelName:qA,backendName:"webgl",kernelFunc:rgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const igt=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${Jz};
  float a1 = ${Qz};
  float a2 = ${e6};
  float a3 = ${t6};
  float a4 = ${n6};
  float a5 = ${r6};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,ogt=mr({opSnippet:igt}),sgt={kernelName:Y_,backendName:"webgl",kernelFunc:ogt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lgt=l1+`
  return exp(x);
`,ugt=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,jhe=mr({opSnippet:lgt,packedOpSnippet:ugt,cpuKernelImpl:Oft,dtype:"float32"}),cgt={kernelName:X_,backendName:"webgl",kernelFunc:jhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eF(e){const{inputs:t,attrs:n,backend:r}=e,{dim:a}=n,{input:i}=t,o=i.shape.length,s=i.shape.slice();let l=a;return a<0&&(pe(-(o+1)<=a,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+a+1),s.splice(l,0,1),Ot({inputs:{x:i},backend:r,attrs:{shape:s}})}const fgt={kernelName:ZA,backendName:"webgl",kernelFunc:eF};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sK="return exp(x) - 1.0;",dgt=mr({opSnippet:sK,packedOpSnippet:sK,cpuKernelImpl:Pft}),hgt={kernelName:q_,backendName:"webgl",kernelFunc:dgt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lK{constructor(t,n,r){this.variableNames=["real","imag"];const a=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=r?`${a}.0`:"1.0";let s;if(t==="real")s="return real * expR - imag * expI;";else if(t==="imag")s="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${s}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${a});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${a}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${o};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yhe(e,t,n){const r=n.texData.get(e.dataId),a=ot(e.shape),i=e.shape[e.shape.length-1],o=a/i,s=Ot({inputs:{x:e},backend:n,attrs:{shape:[o,i]}}),l=s.shape,u=new lK("real",l,t),c=new lK("imag",l,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],d=n.runWebGLProgram(u,f,"float32"),h=n.runWebGLProgram(c,f,"float32"),p=lp({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const v=Ot({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(p),v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pgt(e){const{inputs:t,backend:n}=e,{input:r}=t;return Yhe(r,!1,n)}const vgt={kernelName:BV,backendName:"webgl",kernelFunc:pgt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ggt{constructor(t,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JS(e){const{backend:t,attrs:n}=e,{shape:r,value:a}=n;let{dtype:i}=n;if(i=i||Xy(a),i==="string"){const o=ma(i,ot(r));return o.fill(a),t.makeTensorInfo(r,i,o)}else{const o=new ggt(r,a),s=[[a]];return t.runWebGLProgram(o,[],i,s)}}const mgt={kernelName:VV,backendName:"webgl",kernelFunc:JS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ygt{constructor(t){this.variableNames=["Image"],this.outputShape=[];const n=t[2];this.outputShape=t,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bgt={kernelName:zV,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,r=t,a=new ygt(n.shape);return r.runWebGLProgram(a,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uK="return floor(x);",xgt=mr({opSnippet:uK,packedOpSnippet:uK,cpuKernelImpl:Fft}),wgt={kernelName:Z_,backendName:"webgl",kernelFunc:xgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _gt=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,Sgt=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,Cgt=Ni({opSnippet:_gt,packedOpSnippet:Sgt,dtype:"int32"}),Tgt={kernelName:J_,backendName:"webgl",kernelFunc:Cgt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kgt{constructor(t){this.variableNames=["A"];const n=ko(),[r,a]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Igt{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=ko(),[r,a]=t;this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${a}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Egt={kernelName:xKe,backendName:"webgl",kernelFunc:Agt};let C0,fM=tt().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function Agt(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:a}=t;const{numChannels:i}=r,o=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,[l,u]=o?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=[u,l],f=[u,l,i];if(s||o){const v=tt().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(C0==null||v!==fM)&&(fM=v,C0=document.createElement("canvas").getContext("2d",{willReadFrequently:fM})),C0.canvas.width=l,C0.canvas.height=u,C0.drawImage(a,0,0,l,u),a=C0.canvas}const d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=Bs.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),a);const h=tt().getBool("WEBGL_PACK")?new Igt(f):new kgt(f),p=n.runWebGLProgram(h,[d],"int32");return n.disposeData(d.dataId),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dgt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:o,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,v=cd(c),g=Ai(a.shape,i.shape,l,f,u,d,!1,v);let m;const y=[],b=o!=null,x=s!=null,_=h==="leakyrelu",S=()=>{const k=[a,i],T=(I,E)=>{if(E==="NCHW"&&I.shape.length===1&&I.shape[0]!==1){const A=Ot({inputs:{x:I},backend:n,attrs:{shape:[I.shape[0],1,1]}});return y.push(A),A}return I};if(b&&k.push(T(o,c)),x&&k.push(T(s,c)),_){const I=n.makeTensorInfo([],"float32",Qh(p,"float32"));k.push(I),y.push(I)}return k};if(g.filterHeight===1&&g.filterWidth===1&&g.dilationHeight===1&&g.dilationWidth===1&&g.strideHeight===1&&g.strideWidth===1&&(g.padInfo.type==="SAME"||g.padInfo.type==="VALID"))m=Whe({x:a,filter:i,convInfo:g,backend:n,bias:o,activation:h,preluActivationWeights:s,leakyreluAlpha:p});else if(g.strideWidth<=2&&v==="channelsLast"&&tt().getBool("WEBGL_EXP_CONV")){const k=h?ww(h,!0):null,T=new zhe(g,b,k,x,_),I=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],E=S();m=n.runWebGLProgram(T,E,"float32",I)}else if(tt().getBool("WEBGL_CONV_IM2COL"))m=Hhe({x:a,filter:i,convInfo:g,backend:n,bias:o,activation:h,preluActivationWeights:s,leakyreluAlpha:p});else{const k=h?ww(h,!1):null,T=new Vhe(g,b,k,x,_),I=S();m=n.runWebGLProgram(T,I,"float32")}const C=Ot({inputs:{x:m},backend:n,attrs:{shape:g.outShape}});return y.push(m),y.forEach(k=>n.disposeIntermediateTensorInfo(k)),C}const Ngt={kernelName:dI,backendName:"webgl",kernelFunc:Dgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rgt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:o,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:f,activation:d,leakyreluAlpha:h}=r,p=[];let v=c;v==null&&(v=[1,1]),pe(Zi(l,v),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${v}'`);const g=Ai(a.shape,i.shape,l,v,u,f,!0),m=tt().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,y=d?ww(d,m):null,b=[a,i],x=o!=null,_=s!=null,S=d==="leakyrelu";if(x&&b.push(o),_&&b.push(s),S){const I=n.makeTensorInfo([],"float32",Qh(h,"float32"));b.push(I),p.push(I)}let C;m?C=new Khe(g,x,y,_,S):C=new Ghe(g,x,y,_,S);const k=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],T=n.runWebGLProgram(C,b,"float32",k);return p.forEach(I=>n.disposeIntermediateTensorInfo(I)),T}const Mgt={kernelName:qse,backendName:"webgl",kernelFunc:Rgt};class $gt{constructor(t,n,r,a){this.sliceDim=t,this.strides=n,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=r;const i=Br(r.length);let o=`
    int index;`;for(let s=0;s<this.sliceDim;s++)o+=`
          index = round(getIndices(coords[0], ${s}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[s]};
          flattenIndex += index * ${this.strides[s]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${o}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lgt(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=a.shape,o=i[i.length-1],s=ot(r.shape),[l,u,c,f]=zz(r,a),d=Ot({inputs:{x:a},backend:n,attrs:{shape:[u,o]}}),h=Ot({inputs:{x:r},backend:n,attrs:{shape:[ot(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,a])||r.dtype==="string"){const m=n.readSync(a.dataId),y=n.bufferSync(r),b=Bft(m,y,r.dtype,u,o,c,f,r.shape,s);return n.makeTensorInfo(l,r.dtype,b.values)}const p=new $gt(o,f,[u,c],r.shape),v=n.runWebGLProgram(p,[h,d],h.dtype),g=Ot({inputs:{x:v},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),g}const Ogt={kernelName:Rse,backendName:"webgl",kernelFunc:Lgt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pgt{constructor(t,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Br(this.rank),a=Fgt(t);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${t[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${a}));
      }
    `}}function Fgt(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let a=0;a<e.length;a++)a===2?r.push("index"):r.push(`${n[a]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xhe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:o,batchDims:s}=r,l=jn(o,a.shape)[0];if(tt().get("DEBUG")){const y=n.readSync(i.dataId),b=a.shape[l];for(let x=0;x<y.length;++x){const _=y[x];pe(_<=b-1&&_>=0,()=>`GatherV2: the index value ${_} is not in [0, ${b-1}]`)}}const u=f6(a,i,l,s),c=ot(i.shape),f=[],d=Ot({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=Ot({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});f.push(d),f.push(h);const p=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([a,i])||a.dtype==="string"){const y=n.bufferSync(h),b=n.bufferSync(d),x=Vft(b,y,p);return f.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.makeTensorInfo(u.outputShape,x.dtype,x.values)}const v=new Pgt(d.shape,p),g=n.runWebGLProgram(v,[d,h],d.dtype);f.push(g);const m=Ot({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return f.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const Bgt={kernelName:QA,backendName:"webgl",kernelFunc:Xhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vgt="return float(a > b);",zgt=`
  return vec4(greaterThan(a, b));
`,Wgt=Ni({opSnippet:Vgt,packedOpSnippet:zgt,cpuKernelImpl:zft,dtype:"bool"}),Hgt={kernelName:eD,backendName:"webgl",kernelFunc:Wgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ugt="return float(a >= b);",Ggt=`
  return vec4(greaterThanEqual(a, b));
`,Kgt=Ni({opSnippet:Ugt,packedOpSnippet:Ggt,dtype:"bool",cpuKernelImpl:Wft}),jgt={kernelName:Q_,backendName:"webgl",kernelFunc:Kgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ygt(e){const{inputs:t,backend:n}=e,{input:r}=t;return Yhe(r,!0,n)}const Xgt={kernelName:WV,backendName:"webgl",kernelFunc:Ygt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qgt="return float(!isnan(x) && !isinf(x));",Zgt=mr({opSnippet:qgt,dtype:"bool"}),Jgt={kernelName:tS,backendName:"webgl",kernelFunc:Zgt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qgt="return float(isinf(x));",e0t=mr({opSnippet:Qgt,dtype:"bool"}),t0t={kernelName:nS,backendName:"webgl",kernelFunc:e0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n0t="return float(isnan(x));",r0t=mr({opSnippet:n0t,dtype:"bool"}),a0t={kernelName:rS,backendName:"webgl",kernelFunc:r0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i0t="return float(a < b);",o0t=`
  return vec4(lessThan(a, b));
`,s0t=Ni({opSnippet:i0t,packedOpSnippet:o0t,cpuKernelImpl:Hft,dtype:"bool"}),l0t={kernelName:nD,backendName:"webgl",kernelFunc:s0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u0t="return float(a <= b);",c0t=`
  return vec4(lessThanEqual(a, b));
`,f0t=Ni({opSnippet:u0t,packedOpSnippet:c0t,cpuKernelImpl:Uft,dtype:"bool"}),d0t={kernelName:rD,backendName:"webgl",kernelFunc:f0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h0t(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,o=Gft(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}const p0t={kernelName:Mse,backendName:"webgl",kernelFunc:h0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v0t=l1+`
  return x < 0.0 ? 0./0. : log(x);
`,g0t=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,m0t=mr({opSnippet:v0t,packedOpSnippet:g0t,cpuKernelImpl:Kft}),y0t={kernelName:aS,backendName:"webgl",kernelFunc:m0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b0t=l1+`
  return log(1.0 + x);
`,x0t=mr({opSnippet:b0t}),w0t={kernelName:iS,backendName:"webgl",kernelFunc:x0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _0t="return float(a >= 1.0 && b >= 1.0);",S0t=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,C0t=Ni({opSnippet:_0t,packedOpSnippet:S0t,dtype:"bool"}),T0t={kernelName:aD,backendName:"webgl",kernelFunc:C0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k0t="return float(!(x >= 1.0));",I0t=mr({opSnippet:k0t}),E0t={kernelName:iD,backendName:"webgl",kernelFunc:I0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A0t="return float(a >= 1.0 || b >= 1.0);",D0t=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,N0t=Ni({opSnippet:A0t,packedOpSnippet:D0t,dtype:"bool"}),R0t={kernelName:oD,backendName:"webgl",kernelFunc:N0t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M0t{constructor(t,n,r,a,i){this.variableNames=["x"],this.outputShape=[];const o=n,s=t[3]-1;this.outputShape=t;let l;const u=`float(${r}) + float(${a}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${o}; j <= ${o}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${s}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $0t{constructor(t,n,r,a,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=n,s=t[3]-1;this.outputShape=t;let l;const u=`float(${r}) + float(${a}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${o};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${o}; j <= ${o}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L0t=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:o,alpha:s,beta:l}=r,u=tt().getBool("WEBGL_PACK_NORMALIZATION")?new $0t(a.shape,i,o,s,l):new M0t(a.shape,i,o,s,l);return n.runWebGLProgram(u,[a],a.dtype)},O0t={kernelName:sD,backendName:"webgl",kernelFunc:L0t};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class P0t{constructor(t,n,r,a,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${a}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${a})
                * float(${i})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F0t=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:o}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r,f=new P0t(a.shape,s,l,u,c);return n.runWebGLProgram(f,[a,i,o],a.dtype)},B0t={kernelName:UV,backendName:"webgl",kernelFunc:F0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V0t(e,t,n,r){const a=ot(t),o=ot(e.shape)/a,s=Ot({inputs:{x:e},attrs:{shape:[o,a]},backend:r}),l=Yg(s,e.dtype,"max",r),u=Ot({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qhe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:o}=r,s=a.shape.length,l=jn(i,a.shape);let u=l;const c=da(u,s),f=c!=null,d=n.shouldExecuteOnCPU([a]);let h=a;if(f){if(d){const b=n.texData.get(h.dataId).values,x=new Array(s);for(let C=0;C<x.length;C++)x[C]=a.shape[c[C]];const _=j6(b,a.shape,a.dtype,c,x);h=n.makeTensorInfo(x,a.dtype);const S=n.texData.get(h.dataId);S.values=_}else h=oN(a,c,n);u=Ca(u.length,s)}Di("max",u,s);const[p,v]=mi(h.shape,u);let g=p;o&&(g=Ra(p,l));let m;if(d){const b=n.texData.get(h.dataId).values,x=jft(b,ot(v),g,a.dtype);m=n.makeTensorInfo(g,a.dtype);const _=n.texData.get(m.dataId);_.values=x}else m=V0t(h,v,g,n);return f&&n.disposeIntermediateTensorInfo(h),m}const z0t={kernelName:lD,backendName:"webgl",kernelFunc:qhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W0t=Y6+`
  return max(a, b);
`,H0t=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+jg+`
  return result;
`,U0t=Ni({opSnippet:W0t,packedOpSnippet:H0t,cpuKernelImpl:Yft}),G0t={kernelName:oS,backendName:"webgl",kernelFunc:U0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K0t(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;XS(a,"maxPool");const{filterSize:i,strides:o,pad:s,dimRoundingMode:l}=r,u=1;pe(Zi(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=zl(a.shape,i,o,u,s,l);if(c.filterWidth===1&&c.filterHeight===1&&Er(c.inShape,c.outShape))return Is({inputs:{x:a},backend:n});const f=new _w(c,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}const j0t={kernelName:uD,backendName:"webgl",kernelFunc:K0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y0t(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:o,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=[1,1,1],f=ud(a.shape,i,o,c,s,u,l),d=new q6(f,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}const X0t={kernelName:cD,backendName:"webgl",kernelFunc:Y0t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q0t{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=i-1-t.padInfo.top,l=o-1-t.padInfo.left,u=i*o-1;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${o} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class Z0t{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,l=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,f=l-1-t.padInfo.front,d=u-1-t.padInfo.top,h=c-1-t.padInfo.left,p=l*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(${f}, ${d}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${o}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${s}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J0t(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,o=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,f=[1,1,1],d=ud(o.shape,s,l,f,u,c),h=new q6(d,"max",!0),p=n.runWebGLProgram(h,[o],o.dtype),v=new Z0t(d),g=n.runWebGLProgram(v,[a,p],o.dtype);return n.disposeIntermediateTensorInfo(p),g}const Q0t={kernelName:KV,backendName:"webgl",kernelFunc:J0t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function emt(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:o}=t,s=i;XS([i,o],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=zl(s.shape,l,u,1,c,f),h=!0,p=new _w(d,"max",h),v=n.runWebGLProgram(p,[s],s.dtype),g=new q0t(d),m=n.runWebGLProgram(g,[a,v],s.dtype);return n.disposeIntermediateTensorInfo(v),m}const tmt={kernelName:GV,backendName:"webgl",kernelFunc:emt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nmt(e,t,n,r){let a=new _w(n,"max",!1);const i=r.runWebGLProgram(a,[e],"float32");a=new _w(n,"max",!0,!0,t);const o=r.runWebGLProgram(a,[e],"float32");return[i,o]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rmt={kernelName:$se,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:a,strides:i,pad:o,includeBatchInIndex:s}=t,l=n;pe(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];pe(Zi(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=zl(r.shape,a,i,u,o),[f,d]=nmt(r,s,c,l);return[f,d]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function amt(e,t,n,r){const a=ot(t),o=ot(e.shape)/a,s=Ot({inputs:{x:e},attrs:{shape:[o,a]},backend:r}),l=Yg(s,"float32","mean",r),u=Ot({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const imt={kernelName:fD,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{keepDims:a,axis:i}=t,o=n,s=r.shape.length,l=jn(i,r.shape);let u=l;const c=da(u,s),f=c!=null,d=o.shouldExecuteOnCPU([r]),h=[];let p=r;if(f){if(d){const x=o.texData.get(p.dataId).values,_=new Array(s);for(let k=0;k<_.length;k++)_[k]=r.shape[c[k]];const S=j6(x,r.shape,r.dtype,c,_);p=o.makeTensorInfo(_,r.dtype);const C=o.texData.get(p.dataId);C.values=S}else p=oN(r,c,o);h.push(p),u=Ca(u.length,s)}Di("sum",u,s);const[v,g]=mi(p.shape,u);let m=v;a&&(m=Ra(v,l));const y=amt(p,g,m,o);for(const b of h)o.disposeIntermediateTensorInfo(b);return y}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function omt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=a.shape.length,l=jn(i,a.shape);let u=l;const c=da(u,s);let f=a;c!=null&&(f=_o({inputs:{x:a},backend:n,attrs:{perm:c}}),u=Ca(u.length,a.shape.length)),Di("min",u,s);const[d,h]=mi(f.shape,u),p=ot(h),v=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,p]}}),g=Yg(v,v.dtype,"min",n);let m;if(o){const y=Ra(d,l);m=Ot({inputs:{x:g},backend:n,attrs:{shape:y}})}else m=Ot({inputs:{x:g},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(f),m}const smt={kernelName:dD,backendName:"webgl",kernelFunc:omt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lmt=Y6+`
  return min(a, b);
`,umt=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+jg+`
  return result;
`,cmt=Ni({opSnippet:lmt,packedOpSnippet:umt,cpuKernelImpl:Xft}),fmt={kernelName:sS,backendName:"webgl",kernelFunc:cmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dmt{constructor(t,n,r){this.variableNames=["x"],this.outputShape=n.map((c,f)=>c[0]+t[f]+c[1]);const a=t.length,i=Br(a),o=n.map(c=>c[0]).join(","),s=n.map((c,f)=>c[0]+t[f]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),u=r==="reflect"?0:1;if(a===1){this.userCode=`
        int start = ${o};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${s});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${a}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hmt{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,v)=>p[0]+t[v]+p[1]);const a=t.length,i=Br(a),o=n.map(p=>p[0]).join(","),s=n.map((p,v)=>p[0]+t[v]).join(","),l=vo("rc",a),u=vo("source",a),c=`${l[a-1]} < ${this.outputShape[a-1]}`,f=a===1?"source":`vec2(${u.slice(-2).join()})`,d=r==="reflect"?0:1;let h="";if(a===1){const p=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${d};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${d};
        }
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[a-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
      `}else{const p=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${d}) +
                gte * ((end - 1) * 2 - source + ${d});
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${f});
        ${l[a-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${f});
        }
        rc = outputLoc;
        ${l[a-2]} += 1;
        if(${l[a-2]} < ${this.outputShape[a-2]}) {
          ${p}
          result[2] = getChannel(getX(${u.join()}), ${f});
          ${l[a-1]} += 1;
          if(${c}) {
            ${p}
            result[3] = getChannel(getX(${u.join()}), ${f});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${s});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pmt=({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{paddings:a,mode:i}=n,o=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new hmt(r.shape,a,i):new dmt(r.shape,a,i);return t.runWebGLProgram(o,[r],r.dtype)},vmt={kernelName:hD,backendName:"webgl",kernelFunc:pmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gmt=`if (b == 0.0) return NAN;
  return mod(a, b);`,mmt=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+jg+`
  return result;
`,ymt=Ni({opSnippet:gmt,packedOpSnippet:mmt}),bmt={kernelName:lS,backendName:"webgl",kernelFunc:ymt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xmt{constructor(t,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wmt=`
if (a == b) {
  return 1.0;
};
return a / b;`,_mt=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,Zhe=Ni({opSnippet:wmt,packedOpSnippet:_mt,checkOutOfBounds:!0}),Smt={kernelName:K_,backendName:"webgl",kernelFunc:Zhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cK="return a - b;",Jhe=Ni({opSnippet:cK,packedOpSnippet:cK,supportsComplex:!0,cpuKernelImpl:gdt}),Cmt={kernelName:CS,backendName:"webgl",kernelFunc:Jhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qhe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,o=jn([i],a.shape),s=qhe({inputs:{x:a},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=Ra(s.shape,o),u=Ot({inputs:{x:s},backend:n,attrs:{shape:l}}),c=Jhe({inputs:{a,b:u},backend:n}),f=jhe({inputs:{x:c},backend:n}),d=sN({inputs:{x:f},backend:n,attrs:{axis:o,keepDims:!1}}),h=Ot({inputs:{x:d},backend:n,attrs:{shape:l}}),p=Zhe({inputs:{a:f,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}const Tmt={kernelName:ND,backendName:"webgl",kernelFunc:Qhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kmt(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:o,normalized:s}=r,l=s?a:Qhe({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),u=l.shape[0],c=l.shape[1],f=new xmt(u,c,i),d=[[o]],h=n.runWebGLProgram(f,[l],"int32",d);return s||n.disposeIntermediateTensorInfo(l),h}const Imt={kernelName:Lse,backendName:"webgl",kernelFunc:kmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Emt=Hl+`
  return -x;
`,Amt=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function Dmt(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[o,s]=Zft(i.values,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,o)}let a;return tt().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new Yd(r.shape,Amt):a=new gc(r.shape,Emt),n.runWebGLProgram(a,[r],r.dtype)}const Nmt={kernelName:pD,backendName:"webgl",kernelFunc:Dmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rmt=Lz;function Mmt(e){$s("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),{selectedIndices:f}=Rmt(u,c,o,s,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}const $mt={kernelName:jV,backendName:"webgl",kernelFunc:Mmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lmt=Oz;function Omt(e){$s("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(a.dataId),f=n.readSync(i.dataId),{selectedIndices:d,validOutputs:h}=Lmt(c,f,o,s,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const Pmt={kernelName:YV,backendName:"webgl",kernelFunc:Omt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fmt=Pz;function Bmt(e){$s("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:o,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(a.dataId),f=n.readSync(i.dataId),d=o,h=s,p=l,v=u,{selectedIndices:g,selectedScores:m}=Fmt(c,f,d,h,p,v);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}const Vmt={kernelName:XV,backendName:"webgl",kernelFunc:Bmt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zmt{constructor(t,n,r,a){this.variableNames=["indices"],this.outputShape=[t,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${a}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wmt=e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:o,onValue:s,offValue:l}=r,u=ot(a.shape),c=new zmt(u,o,s,l),f=Ot({inputs:{x:a},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(c,[f],i);n.disposeIntermediateTensorInfo(f);const h=[...a.shape,o],p=Ot({inputs:{x:d},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),p},Hmt={kernelName:mD,backendName:"webgl",kernelFunc:Wmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BI(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="complex64"){const a=ZS({inputs:{input:r},backend:n}),i=BI({inputs:{x:a},backend:n}),o=lN({inputs:{input:r},backend:n}),s=BI({inputs:{x:o},backend:n}),l=lp({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}else return JS({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const Umt={kernelName:$D,backendName:"webgl",kernelFunc:BI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function epe(e){const{inputs:t,backend:n}=e,{x:r}=t;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const a=ZS({inputs:{input:r},backend:n}),i=epe({inputs:{x:a},backend:n}),o=lN({inputs:{input:r},backend:n}),s=BI({inputs:{x:o},backend:n}),l=lp({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}else return JS({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const Gmt={kernelName:gD,backendName:"webgl",kernelFunc:epe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kmt(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(t.length===1)return eF({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const i=t[0].shape,o=t[0].dtype;t.forEach(c=>{vV(i,c.shape,"All tensors passed to stack must have matching shapes"),pe(o===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const s=[],l=t.map(c=>{const f=eF({inputs:{input:c},backend:n,attrs:{dim:a}});return s.push(f),f}),u=Bhe({inputs:l,backend:n,attrs:{axis:a}});return s.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const jmt={kernelName:yD,backendName:"webgl",kernelFunc:Kmt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ymt{constructor(t,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,c)=>u[0]+t[c]+u[1]);const a=t.length,i=Br(a),o=n.map(u=>u[0]).join(","),s=n.map((u,c)=>u[0]+t[c]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);if(a===1){this.userCode=`
        int start = ${o};
        int end = ${s};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${s});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xmt{constructor(t,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((v,g)=>v[0]+t[g]+v[1]);const a=t.length,i=Br(a),o=n.map(v=>v[0]).join(","),s=n.map((v,g)=>v[0]+t[g]).join(","),l=vo("rc",a),u=vo("source",a),c=`${l[a-1]} < ${this.outputShape[a-1]}`,f=a===1?"source":`vec2(${u.slice(-2).join()})`,d=[`${i} rc = outputLoc;`,`${l[a-1]} += 1;
       if(${c}) {
      `,a===1?"":`}
       rc = outputLoc;
       ${l[a-2]} += 1;
       if(${l[a-2]} < ${this.outputShape[a-2]}) {`,a===1?"":`  ${l[a-1]} += 1;
         if(${c}) {`],h=a===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let v=0,g=a===1?2:4;v<g;v++)p+=`
        ${d[v]}
        if (${h}) {
          result[${v}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${v}] = getChannel(getX(${u.join()}), ${f});
        }
      `;p+=a===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${s});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tpe=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:o}=r;if(ot(a.shape)===0){const u=i.map((c,f)=>c[0]+a.shape[f]+c[1]);return JS({backend:n,attrs:{shape:u,value:o,dtype:a.dtype}})}const s=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Xmt(a.shape,i,o):new Ymt(a.shape,i,o),l=[[o]];return n.runWebGLProgram(s,[a],a.dtype,l)},qmt={kernelName:bD,backendName:"webgl",kernelFunc:tpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zmt=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,Jmt=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+jg+`
  return result;
`,Qmt=Ni({opSnippet:Zmt,packedOpSnippet:Jmt}),eyt={kernelName:cS,backendName:"webgl",kernelFunc:Qmt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tyt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:o}=r,s=a.shape.length,l=[],u=jn(i,a.shape);let c=u;const f=da(c,s);let d=a;f!=null&&(d=_o({inputs:{x:a},backend:n,attrs:{perm:f}}),c=Ca(c.length,s),l.push(d)),Di("prod",c,s);let h;if(n.shouldExecuteOnCPU([d])){const p=n.texData.get(d.dataId).values,{outVals:v,outShape:g,outDtype:m}=Qft(d.shape,d.dtype,p,c);h=n.makeTensorInfo(g,m,v)}else{const[p,v]=mi(d.shape,c),g=ot(v),m=Ot({inputs:{x:d},backend:n,attrs:{shape:[-1,g]}}),y=sz(a.dtype),b=Yg(m,y,"prod",n);h=Ot({inputs:{x:b},backend:n,attrs:{shape:p}}),l.push(m),l.push(b)}if(o){l.push(h);const p=Ra(h.shape,u);h=Ot({inputs:{x:h},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const nyt={kernelName:wD,backendName:"webgl",kernelFunc:tyt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ryt(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:o}=t,{outputRaggedRank:s}=r,l=a.map(m=>n.readSync(m.dataId)),u=a.map(m=>m.shape),c=n.readSync(i.dataId),f=n.readSync(o.dataId),[d,h,p]=edt(l,u,c,i.shape,i.dtype,f,o.shape,s),v=d.map(m=>n.makeTensorInfo([m.length],"int32",m)),g=n.makeTensorInfo(p,i.dtype,h);return v.concat([g])}const ayt={kernelName:Ose,backendName:"webgl",kernelFunc:ryt};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iyt(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,o=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=tdt(o,r.shape,r.dtype,s,a.shape,l,i.shape),f=n.makeTensorInfo([u.length],"int32",u),d=n.makeTensorInfo([c.length],r.dtype,c);return[f,d]}const oyt={kernelName:Pse,backendName:"webgl",kernelFunc:iyt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function syt(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:o,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),f=n.readSync(o.dataId),d=s.map(g=>n.readSync(g.dataId)),h=s.map(g=>g.shape),[p,v]=ndt(u,a.shape,c,i.shape,i.dtype,f,o.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,v)}const lyt={kernelName:Fse,backendName:"webgl",kernelFunc:syt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const npe=e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:i,dtype:o}=n,s=rdt(r,a,i,o);return t.makeTensorInfo([s.length],o,s)},uyt={kernelName:qV,backendName:"webgl",kernelFunc:npe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cyt="return 1.0 / x;",fyt=mr({opSnippet:cyt}),dyt={kernelName:fS,backendName:"webgl",kernelFunc:fyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hyt=Hl+`
  return (x < 0.0) ? 0.0 : x;
`,pyt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,vyt=mr({opSnippet:hyt,packedOpSnippet:pyt}),gyt={kernelName:dS,backendName:"webgl",kernelFunc:vyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const myt=Hl+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,yyt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,byt=mr({opSnippet:myt,packedOpSnippet:yyt}),xyt={kernelName:hS,backendName:"webgl",kernelFunc:byt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wyt{constructor(t,n,r,a,i){this.variableNames=["A"],this.outputShape=[];const[o,s,l,u]=t;this.outputShape=[o,n,r,u];const c=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];let d;i?d="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/f[0]},
          ${c[1]/f[1]});
      const vec2 inputShapeRC = vec2(${s}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _yt{constructor(t,n,r,a,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,l,u]=t;this.outputShape=[o,n,r,u];const c=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];let d;i?d="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/f[0]},
          ${c[1]/f[1]},
          ${c[1]/f[1]});
      const vec3 inputShapeRC = vec3(${s}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Syt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:o,size:s}=r,[l,u]=s,c=tt().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new _yt(a.shape,l,u,i,o):new wyt(a.shape,l,u,i,o);return n.runWebGLProgram(c,[a],"float32")}const Cyt={kernelName:CD,backendName:"webgl",kernelFunc:Syt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tyt{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,i]=n,[,o,s]=t,l=[r&&o>1?a-1:a,r&&s>1?i-1:i],u=[r&&o>1?o-1:o,r&&s>1?s-1:s],c=l[0]/u[0],f=l[1]/u[1],d=1/c,h=1/f,p=Math.ceil(d)*2+2,v=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${f});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${v});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${a-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kyt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:o}=r,s=new Tyt(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}const Iyt={kernelName:QV,backendName:"webgl",kernelFunc:kyt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Eyt{constructor(t,n,r,a,i){this.variableNames=["A"],this.outputShape=[];const[o,s,l,u]=t;this.outputShape=[o,n,r,u];const c=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],d=a?"0.5":"0.0";let h;i?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/f[0]},
          ${c[1]/f[1]});
      const vec2 inputShapeRC = vec2(${s}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ayt{constructor(t,n,r,a,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,l,u]=t;this.outputShape=[o,n,r,u];const c=[a&&n>1?s-1:s,a&&r>1?l-1:l],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],d=a?"0.5":"0.0";let h;i?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/f[0]},
          ${c[1]/f[1]},
          ${c[1]/f[1]});
      const vec3 inputShapeRC = vec3(${s}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dyt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:o,size:s}=r,[l,u]=s,c=tt().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ayt(a.shape,l,u,i,o):new Eyt(a.shape,l,u,i,o);return n.runWebGLProgram(c,[a],a.dtype)}const Nyt={kernelName:SD,backendName:"webgl",kernelFunc:Dyt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ryt{constructor(t,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,i]=n,[,o,s]=t,l=[r&&o>1?a-1:a,r&&s>1?i-1:i],u=[r&&o>1?o-1:o,r&&s>1?s-1:s],c=l[0]/u[0],f=l[1]/u[1],d=1/c,h=1/f,p=Math.ceil(d)*2+2,v=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${f});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${v});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${s}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${a}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Myt(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:o}=r,s=new Ryt(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}const $yt={kernelName:JV,backendName:"webgl",kernelFunc:Myt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lyt{constructor(t,n){this.variableNames=["x"];const r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=t,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${t[0]} - coord - 1));
        }
      `;return}const a=s=>n.indexOf(s)!==-1&&t[s]!==1?`${t[s]} - coords[${s}] - 1`:`coords[${s}]`,i=t.map((s,l)=>a(l)).join(","),o=Br(r);this.userCode=`
      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Oyt{constructor(t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=t;const a=vo("rc",r),i=`${a[r-1]} + 1 < ${this.outputShape[r-1]}`,o=`${a[r-2]} + 1 < ${this.outputShape[r-2]}`,s=Br(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${t[0]} - rc - 1),
            ${t[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),
                ${t[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${s} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(a.slice())};
          if(${i}){
            result.g = ${u(a.slice())};
          }
          if(${o}) {
            result.b = ${c(a.slice())};
            if(${i}) {
              result.a = ${f(a.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return d(p)}function u(p){return p[r-1]="("+p[r-1]+" + 1)",d(p)}function c(p){return p[r-2]="("+p[r-2]+" + 1)",d(p)}function f(p){return p[r-1]="("+p[r-1]+" + 1)",p[r-2]="("+p[r-2]+" + 1)",d(p)}function d(p){const v=t.map((y,b)=>h(b,p)),g=v.join(","),m=v.slice(-2).join(",");return`getChannel(getX(${g}), vec2(${m}))`}function h(p,v){return n.indexOf(p)!==-1&&t[p]!==1?`${t[p]} - ${v[p]} - 1`:`${v[p]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pyt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r,o=a.shape.length,s=jn(i,a.shape);if(o===0)return Is({inputs:{x:a},backend:n});const l=tt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Oyt(a.shape,s):new Lyt(a.shape,s);return n.runWebGLProgram(l,[a],a.dtype)}const Fyt={kernelName:TD,backendName:"webgl",kernelFunc:Pyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Byt{constructor(t,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=t[1],a=t[2];this.outputShape=t;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${a} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vyt={kernelName:oz,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:a,fillValue:i,center:o}=t,s=n,l=new Byt(r.shape,i),[u,c]=Xz(o,r.shape[1],r.shape[2]),f=[[u,c,Math.sin(a),Math.cos(a)]];return s.runWebGLProgram(l,[r],r.dtype,f)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zyt=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,Wyt=mr({opSnippet:zyt}),Hyt={kernelName:pS,backendName:"webgl",kernelFunc:Wyt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uyt="return inversesqrt(x);",Gyt=mr({opSnippet:Uyt,cpuKernelImpl:adt}),Kyt={kernelName:vS,backendName:"webgl",kernelFunc:Gyt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Z6{constructor(t,n,r,a,i,o,s=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const u=Br(i.length),c=Br(o.length);let f="";r===1?f="i":r===2&&(f="i, j");const d=`getIndices(${f})`;let h="";a===1?h="i":a===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let v="";l&&(v="coords[0], coords[1]");const g=`getDefaultValue(${v})`,m=n>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${c} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${t}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${m};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${g}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jyt{constructor(t,n,r,a,i,o,s=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;const u=Br(i.length),c=Br(o.length);let f="";r===1?f="i":r===2&&(f="i, j");const d=`getIndices(${f})`;let h="";a===1?h="i":a===2&&(h="i, coords[1]");const p=`getUpdates(${h})`;let v="";l&&(v="coords[0], coords[1]");const g=`getDefaultValue(${v})`,m=n>1?"strides[j]":"strides",y=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${c} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${t}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${d});
              flattenedIndex += index.xz * ${m};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${y};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${g}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yyt(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:o}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=zg(i,a,o),d=[f/u,u];if(f===0)return n.makeTensorInfo(o,a.dtype);const h=Ot({inputs:{x:a},backend:n,attrs:{shape:[l,s]}}),p=Ot({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),v=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;tt().getBool("WEBGL_PACK")?g=new jyt(l,s,h.shape.length,p.shape.length,c,d):g=new Z6(l,s,h.shape.length,p.shape.length,c,d);const m=n.runWebGLProgram(g,[p,h,v],p.dtype),y=Ot({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),y}const Xyt={kernelName:Bse,backendName:"webgl",kernelFunc:Yyt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qyt{constructor(t,n,r,a){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];const i="while (left < right) {",o=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,s=tt().getNumber("WEBGL_VERSION")===2?i:o,l=a==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${s}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zyt(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:o}=r,s=new qyt(a.shape[0],a.shape[1],i.shape[1],o),l=[[a.shape[1]]];return n.runWebGLProgram(s,[a,i],"int32",l)}const Jyt={kernelName:zse,backendName:"webgl",kernelFunc:Zyt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Qyt{constructor(t,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let a,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",a="resRC";else{const s=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let c=0;c<n.length;c++)u.push(`${s[c]}`),c<t&&l.push(`${s[c]}`);a=l.join(),i=u.join()}const o=Br(r);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        float cVal = getC(${a});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e1t(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t,o=new Qyt(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(o,[r,a,i],Ts(a.dtype,i.dtype))}const t1t={kernelName:kD,backendName:"webgl",kernelFunc:e1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n1t=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${UD};
  float scale = ${GD};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,r1t=mr({opSnippet:n1t}),a1t={kernelName:gS,backendName:"webgl",kernelFunc:r1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i1t=l1+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,o1t=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,s1t=mr({opSnippet:i1t,packedOpSnippet:o1t,cpuKernelImpl:odt}),l1t={kernelName:xS,backendName:"webgl",kernelFunc:s1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u1t=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,c1t=mr({opSnippet:u1t}),f1t={kernelName:bS,backendName:"webgl",kernelFunc:c1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d1t=l1+`
  return sin(x);
`,h1t=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${jg}
  return result;
`,p1t=mr({opSnippet:d1t,packedOpSnippet:h1t}),v1t={kernelName:mS,backendName:"webgl",kernelFunc:p1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g1t=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,m1t=mr({opSnippet:g1t}),y1t={kernelName:yS,backendName:"webgl",kernelFunc:m1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b1t=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,x1t=mr({opSnippet:b1t}),w1t={kernelName:wS,backendName:"webgl",kernelFunc:x1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _1t=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:o}=r;pe(a.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const s=i.reduce((m,y)=>m*y),l=[[0,0]];l.push(...o);for(let m=1+i.length;m<a.shape.length;++m)l.push([0,0]);const u=[],c=tpe({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),f=OS(c.shape,i,s,!1),d=PS(f.length,i.length,!1),h=FS(c.shape,i,s,!1),p=Ot({inputs:{x:c},backend:n,attrs:{shape:f}}),v=_o({inputs:{x:p},backend:n,attrs:{perm:d}}),g=Ot({inputs:{x:v},backend:n,attrs:{shape:h}});return u.push(c),u.push(p),u.push(v),u.forEach(m=>n.disposeIntermediateTensorInfo(m)),g},S1t={kernelName:AD,backendName:"webgl",kernelFunc:_1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C1t(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:o}=t;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${a.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const s=n.readSync(r.dataId),l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=n.readSync(o.dataId)[0],[f,d,h,p,v]=ldt(s,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],a.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(g=>Number(g)))),n.makeTensorInfo([v.length],r.dtype,new Int32Array(v))]}const T1t={kernelName:Wse,backendName:"webgl",kernelFunc:C1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k1t(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.readSync(a.dataId)),s=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[u,c,f]=udt(s,r.shape,r.dtype,o,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}const I1t={kernelName:Hse,backendName:"webgl",kernelFunc:k1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E1t(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const o=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=khe(o,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const A1t={kernelName:Use,backendName:"webgl",kernelFunc:E1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D1t(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const o=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=khe(o,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}const N1t={kernelName:Gse,backendName:"webgl",kernelFunc:D1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R1t(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:o}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=zg(i,a,s),h=!1;if(i.dtype==="string"){const m=n.bufferSync(a),y=n.bufferSync(i),b=Dh(n.readSync(o.dataId)[0]),x=idt(m,y,s,d,c,u,l,f,b,h);return n.makeTensorInfo(s,x.dtype,x.values)}const p=new Z6(u,l,a.shape.length,i.shape.length,f,[d,1],h),v=n.runWebGLProgram(p,[i,a,o],i.dtype),g=Ot({inputs:{x:v},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(v),g}const M1t={kernelName:Kse,backendName:"webgl",kernelFunc:R1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $1t(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:o}=r,s=jn(o,a.shape)[0],l=c6(a,i,s),u=a.shape.length,c=new Array(u).fill(0),f=a.shape.slice();return l.map(d=>{const h=[...f];h[s]=d;const p=u1({inputs:{x:a},backend:n,attrs:{begin:c,size:h}});return c[s]+=d,p})}const L1t={kernelName:DD,backendName:"webgl",kernelFunc:$1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fK="return sqrt(x);",O1t=mr({opSnippet:fK,packedOpSnippet:fK,cpuKernelImpl:cdt}),P1t={kernelName:_S,backendName:"webgl",kernelFunc:O1t};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F1t="return x * x;",B1t=mr({opSnippet:F1t}),V1t={kernelName:ez,backendName:"webgl",kernelFunc:B1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dK="return (a - b) * (a - b);",z1t=Ni({opSnippet:dK,packedOpSnippet:dK}),W1t={kernelName:SS,backendName:"webgl",kernelFunc:z1t};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H1t(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;if(a.dtype!=="string")throw new Error("Input must be of datatype string");const i=n.readSync(a.dataId),o=Kf(i),s=fdt(o,"string",r);return n.makeTensorInfo(a.shape,"string",s)}const U1t={kernelName:tz,backendName:"webgl",kernelFunc:H1t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G1t({inputs:e,attrs:t,backend:n}){const{x:r}=e,a=Hl+`
    return x > 0.0 ? 1.0 : float(${t.alpha});
  `,i=new gc(r.shape,a);return n.runWebGLProgram(i,[r],r.dtype)}const K1t={kernelName:ES,backendName:"webgl",kernelFunc:G1t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j1t{constructor(t,n,r){this.variableNames=["x"],this.outputShape=r;const a=r.length,i=Br(r.length),o=Br(r.length);let s="";if(a===1)s="coords * strides + begin";else{let l=0;s=r.map((u,c)=>(l++,r.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${l-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${t});
      ${i} strides = ${i}(${n});

      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y1t(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:o,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r,{finalShapeSparse:h,finalShape:p,isIdentity:v,sliceDim0:g,isSimpleSlice:m,begin:y,end:b,strides:x}=Kz(a.shape,i,o,s,l,u,c,f,d);let _;if(v)_=Ot({inputs:{x:a},backend:n,attrs:{shape:p}});else if(g||m){pe(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const C=Hz(y,b,x),k=u1({inputs:{x:a},backend:n,attrs:{begin:y,size:C}});_=Ot({inputs:{x:k},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(k)}else if(n.shouldExecuteOnCPU([a])){const k=n.readSync(a.dataId),T=Gn(a.shape,a.dtype,k),I=ddt(h,T,x,y);_=n.makeTensorInfo(p,a.dtype,I.values)}else{const k=new j1t(y,x,h);_=n.runWebGLProgram(k,[a],a.dtype)}const S=Ot({inputs:{x:_},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(_),S}const X1t={kernelName:nz,backendName:"webgl",kernelFunc:Y1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q1t(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:o,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.readSync(c.dataId),h=n.readSync(f.dataId),[p,v]=hdt(d,h,a,i,o,s,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",v)]}const Z1t={kernelName:jse,backendName:"webgl",kernelFunc:q1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J1t(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:o}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const s=n.readSync(i.dataId),l=n.readSync(o.dataId)[0],[u,c,f]=pdt(s,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}const Q1t={kernelName:Yse,backendName:"webgl",kernelFunc:J1t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ebt(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(i.dataId),s=vdt(o,a);return n.makeTensorInfo(i.shape,"int32",s)}const tbt={kernelName:Xse,backendName:"webgl",kernelFunc:ebt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nbt="return tan(x);",rbt=mr({opSnippet:nbt}),abt={kernelName:TS,backendName:"webgl",kernelFunc:rbt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ibt=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,obt=mr({opSnippet:ibt}),sbt={kernelName:kS,backendName:"webgl",kernelFunc:obt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lbt(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:a,indices:i,updates:o}=t,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=zg(o,i,a.shape),d=[f/u,u];if(f===0)return n.makeTensorInfo(a.shape,i.dtype);const h=Ot({inputs:{x:i},backend:n,attrs:{shape:[l,s]}}),p=Ot({inputs:{x:o},backend:n,attrs:{shape:[l,u]}}),v=Ot({inputs:{x:a},backend:n,attrs:{shape:d}}),g=new Z6(l,s,h.shape.length,p.shape.length,c,d,!1,!0),m=n.runWebGLProgram(g,[p,h,v],v.dtype),y=Ot({inputs:{x:m},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),y}const ubt={kernelName:Vse,backendName:"webgl",kernelFunc:lbt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cbt{constructor(t,n){this.variableNames=["A"];const r=new Array(t.length);for(let o=0;o<r.length;o++)r[o]=t[o]*n[o];this.outputShape=r,this.rank=r.length;const a=Br(this.rank),i=fbt(t);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function fbt(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(t===1)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let a=0;a<e.length;a++)r.push(`imod(${n[a]}, ${e[a]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rpe(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;if(a.dtype==="string"||a.shape.length>5){const l=n.readSync(a.dataId),u=a.dtype==="string"?l.map(d=>Dh(d)):l,c=Gn(a.shape,a.dtype,u),f=mdt(c,i);return n.makeTensorInfo(f.shape,f.dtype,f.values)}const o=new cbt(a.shape,i);return n.runWebGLProgram(o,[a],a.dtype)}const dbt={kernelName:IS,backendName:"webgl",kernelFunc:rpe};class hbt{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class pbt{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tp(e,t){t!==null&&e.disposeIntermediateTensorInfo(t)}function hK(e){let t=1;for(;t<e;)t*=2;return t}function vbt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:o}=r,s=tt().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=tt().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=a.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([a])||c<s||i>l){const I=n.readSync(a.dataId),[E,A]=ydt(I,u,a.dtype,i,o);return[n.makeTensorInfo(E.shape,E.dtype,E.values),n.makeTensorInfo(A.shape,A.dtype,A.values)]}if(i===0)return u[u.length-1]=0,[n.makeTensorInfo(u,a.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(c===1)return[a,JS({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const f=n.texData.get(a.dataId),d=f!==null&&f.isPacked,h=d?n.unpackTensor(a):a,v=ot(u)/c,g=Ot({inputs:{x:h},attrs:{shape:[v,c]},backend:n});d&&Tp(n,h);const m=hK(i),y=hK(c);let b=null;const x=()=>b===null?[g,g]:[g,b],_=(I,E,A)=>{const N=x(),L=new hbt(A),D=[[c],[b===null?1:0],[Number.NEGATIVE_INFINITY],[I],[E]],P=b;b=n.runWebGLProgram(L,N,"int32",D),Tp(n,P)};for(let I=1;I<m;I*=2){const E=I*2;for(let A=I;A>=1;A/=2)_(E,A,[v,y])}for(let I=y;I>m;I/=2){const E=x(),A=new pbt([v,I/2]),L=[[c],[b===null?1:0],[m]],R=b;b=n.runWebGLProgram(A,E,"int32",L),Tp(n,R);const D=m/2,P=D*2;for(let O=D;O>=1;O/=2)_(P,O,b.shape)}let S=b;b=u1({inputs:{x:b},backend:n,attrs:{begin:0,size:[v,i]}}),Tp(n,S);let C=Xhe({inputs:{x:g,indices:b},backend:n,attrs:{axis:1,batchDims:1}});Tp(n,g);const k=u.slice(0,-1);k.push(i),S=b,b=Ot({inputs:{x:b},attrs:{shape:k},backend:n}),Tp(n,S);const T=C;return C=Ot({inputs:{x:C},attrs:{shape:k},backend:n}),Tp(n,T),[C,b]}const gbt={kernelName:rz,backendName:"webgl",kernelFunc:vbt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mbt{constructor(t,n,r,a,i,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const s=r==="nearest"?1:2;let l;switch(a){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${t}));

                if (${s} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ybt(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,transforms:i}=t,{interpolation:o,fillMode:s,fillValue:l,outputShape:u}=r,[c,f,d,h]=a.shape,[p,v]=u??[f,d],g=[c,p,v,h],m=new mbt(f,d,o,s,l,g);return n.runWebGLProgram(m,[a,i],"float32")}const bbt={kernelName:az,backendName:"webgl",kernelFunc:ybt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xbt(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;XS(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=r.readSync(i.dataId),{outputValues:s,outputShape:l,indices:u}=bdt(o,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}const wbt={kernelName:iz,backendName:"webgl",kernelFunc:xbt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _bt(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:i}=r;i<0&&(i+=a.shape.length);const o=a,s=o.shape.length,l=a.shape[i],u=new Array(s-1);let c=0;for(let v=0;v<s;v++)v!==i&&(u[c++]=o.shape[v]);const f=[],d=new Array(s).fill(0),h=o.shape.slice();h[i]=1;const p=new Array(l);for(let v=0;v<p.length;v++){d[i]=v;const g=u1({inputs:{x:o},backend:n,attrs:{begin:d,size:h}}),m=Ot({inputs:{x:g},backend:n,attrs:{shape:u}});p[v]=m,f.push(g)}return f.forEach(v=>n.disposeIntermediateTensorInfo(v)),p}const Sbt={kernelName:RD,backendName:"webgl",kernelFunc:_bt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cbt{constructor(t,n){this.variableNames=["x","segmentIds"];const r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,s=o*Math.ceil(i/r);this.outputShape=[a,s];const l="0.0",u="sumValue",c=Math.floor(r/4)*4,f=r%4,d=`
        sumValue += dot(values, segFilter);
    `;let h="";i%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${o})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${o})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${f===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${d}
        } else if (${f===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${d}
        } else if (${f===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${d}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tbt(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:o}=r,s=a.shape.length,l=[];let u=0;const c=da([u],s);let f=a;c!=null&&(f=_o({inputs:{x:a},backend:n,attrs:{perm:c}}),l.push(f),u=Ca(1,s)[0]);const d=Fue(f.shape,u,o),h=ot([f.shape[u]]),p=Ot({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}});l.push(p);const v=sz(a.dtype),g=(x,_,S,C,k)=>{const T=x.shape[0],I=x.shape[1],E=Pue(I,k),A={windowSize:E,inSize:I,batchSize:T,numSegments:k},N=new Cbt(A,_),L=n.compileAndRun(N,[x,S],C);if(l.push(L),L.shape[1]===k)return L;const R=npe({backend:n,attrs:{start:0,stop:k,step:1,dtype:"float32"}}),D=rpe({inputs:{x:R},backend:n,attrs:{reps:[I/E]}});return l.push(R),l.push(D),g(L,_,D,C,k)},m=g(p,"unsortedSegmentSum",i,v,o),y=Ot({inputs:{x:m},backend:n,attrs:{shape:d}});let b=y;if(c!=null){l.push(y);const x=np(c);b=_o({inputs:{x:b},backend:n,attrs:{perm:x}})}return l.forEach(x=>n.disposeIntermediateTensorInfo(x)),b}const kbt={kernelName:MD,backendName:"webgl",kernelFunc:Tbt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ibt=[cht,dht,vht,yht,xht,Sht,Tht,Iht,Nht,Mht,Oht,Bht,Wht,Kht,Xht,Zht,Qht,rpt,ipt,spt,fpt,ypt,xpt,Cpt,kpt,Rpt,$pt,Fpt,jdt,zpt,Kpt,qpt,nvt,ivt,svt,uvt,fvt,vvt,yvt,wvt,Svt,Tvt,Ivt,Dvt,Rvt,Ovt,Fvt,zvt,Uvt,Kvt,qvt,egt,agt,sgt,cgt,fgt,hgt,vgt,mgt,bgt,wgt,Tgt,Egt,Ngt,Mgt,Ogt,Bgt,Hgt,jgt,Kdt,Xgt,Upt,Jgt,t0t,a0t,Xdt,l0t,d0t,p0t,y0t,w0t,T0t,E0t,R0t,O0t,B0t,z0t,G0t,j0t,X0t,Q0t,tmt,rmt,imt,smt,fmt,vmt,bmt,Imt,Jdt,Nmt,$mt,Pmt,Vmt,Ept,Hmt,Gmt,jmt,qmt,eyt,Zdt,nyt,ayt,oyt,lyt,uyt,Apt,Smt,dyt,gyt,xyt,eht,Cyt,Iyt,Nyt,$yt,Fyt,Vyt,Hyt,Kyt,Xyt,Jyt,t1t,a1t,l1t,f1t,v1t,y1t,gpt,Tmt,w1t,S1t,T1t,I1t,A1t,N1t,M1t,L1t,P1t,V1t,W1t,U1t,K1t,X1t,Z1t,Q1t,tbt,Cmt,sht,abt,sbt,ubt,dbt,gbt,bbt,lht,wbt,Sbt,kbt,Umt];for(const e of Ibt)Zse(e);function Ebt(e,t){if(isNaN(e))return 0;if(e<=t[0])return 1;if(e>t[t.length-1])return 255;for(let n=1;n<254;n++)if(t[n-1]<e&&e<=t[n])return n+1;return 254}async function Abt(e,t){try{const r=await(await fetch("./model/saved_quantiles.json")).json();return e.map(i=>i.map((o,s)=>{const l=t[s];return r[l]?Ebt(o,r[l]):(console.error(`没有找到列 ${l} 的分位数数据`),o)}))}catch(n){throw console.error("加载或处理分位数文件时出错:",n),n}}/*!
  * shared v11.0.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const VI=typeof window<"u",up=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Dbt=(e,t,n)=>Nbt({l:e,k:t,s:n}),Nbt=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ba=e=>typeof e=="number"&&isFinite(e),Rbt=e=>J6(e)==="[object Date]",xy=e=>J6(e)==="[object RegExp]",uN=e=>nr(e)&&Object.keys(e).length===0,li=Object.assign,Mbt=Object.create,Hr=(e=null)=>Mbt(e);let pK;const Sv=()=>pK||(pK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Hr());function vK(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const $bt=Object.prototype.hasOwnProperty;function vu(e,t){return $bt.call(e,t)}const Wa=Array.isArray,ia=e=>typeof e=="function",Zt=e=>typeof e=="string",kr=e=>typeof e=="boolean",Ar=e=>e!==null&&typeof e=="object",Lbt=e=>Ar(e)&&ia(e.then)&&ia(e.catch),ape=Object.prototype.toString,J6=e=>ape.call(e),nr=e=>J6(e)==="[object Object]",Obt=e=>e==null?"":Wa(e)||nr(e)&&e.toString===ape?JSON.stringify(e,null,2):String(e);function Q6(e,t=""){return e.reduce((n,r,a)=>a===0?n+r:n+t+r,"")}function Pbt(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const c2=e=>!Ar(e)||Wa(e);function ck(e,t){if(c2(e)||c2(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:a}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(Ar(r[i])&&!Ar(a[i])&&(a[i]=Array.isArray(r[i])?[]:Hr()),c2(a[i])||c2(r[i])?a[i]=r[i]:n.push({src:r[i],des:a[i]}))})}}/*!
  * message-compiler v11.0.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Fbt(e,t,n){return{line:e,column:t,offset:n}}function tF(e,t,n){return{start:e,end:t}}const Or={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},Bbt=17;function cN(e,t,n={}){const{domain:r,messages:a,args:i}=n,o=e,s=new SyntaxError(String(o));return s.code=e,t&&(s.location=t),s.domain=r,s}function Vbt(e){throw e}const ff=" ",zbt="\r",Ro=`
`,Wbt="\u2028",Hbt="\u2029";function Ubt(e){const t=e;let n=0,r=1,a=1,i=0;const o=C=>t[C]===zbt&&t[C+1]===Ro,s=C=>t[C]===Ro,l=C=>t[C]===Hbt,u=C=>t[C]===Wbt,c=C=>o(C)||s(C)||l(C)||u(C),f=()=>n,d=()=>r,h=()=>a,p=()=>i,v=C=>o(C)||l(C)||u(C)?Ro:t[C],g=()=>v(n),m=()=>v(n+i);function y(){return i=0,c(n)&&(r++,a=0),o(n)&&n++,n++,a++,t[n]}function b(){return o(n+i)&&i++,i++,t[n+i]}function x(){n=0,r=1,a=1,i=0}function _(C=0){i=C}function S(){const C=n+i;for(;C!==n;)y();i=0}return{index:f,line:d,column:h,peekOffset:p,charAt:v,currentChar:g,currentPeek:m,next:y,peek:b,reset:x,resetPeek:_,skipToPeek:S}}const bd=void 0,Gbt=".",gK="'",Kbt="tokenizer";function jbt(e,t={}){const n=t.location!==!1,r=Ubt(e),a=()=>r.index(),i=()=>Fbt(r.line(),r.column(),r.index()),o=i(),s=a(),l={currentType:13,offset:s,startLoc:o,endLoc:o,lastType:13,lastOffset:s,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function f(J,te,xe,...Ee){const Qe=u();if(te.column+=xe,te.offset+=xe,c){const Be=n?tF(Qe.startLoc,te):null,ce=cN(J,Be,{domain:Kbt,args:Ee});c(ce)}}function d(J,te,xe){J.endLoc=i(),J.currentType=te;const Ee={type:te};return n&&(Ee.loc=tF(J.startLoc,J.endLoc)),xe!=null&&(Ee.value=xe),Ee}const h=J=>d(J,13);function p(J,te){return J.currentChar()===te?(J.next(),te):(f(Or.EXPECTED_TOKEN,i(),0,te),"")}function v(J){let te="";for(;J.currentPeek()===ff||J.currentPeek()===Ro;)te+=J.currentPeek(),J.peek();return te}function g(J){const te=v(J);return J.skipToPeek(),te}function m(J){if(J===bd)return!1;const te=J.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te===95}function y(J){if(J===bd)return!1;const te=J.charCodeAt(0);return te>=48&&te<=57}function b(J,te){const{currentType:xe}=te;if(xe!==2)return!1;v(J);const Ee=m(J.currentPeek());return J.resetPeek(),Ee}function x(J,te){const{currentType:xe}=te;if(xe!==2)return!1;v(J);const Ee=J.currentPeek()==="-"?J.peek():J.currentPeek(),Qe=y(Ee);return J.resetPeek(),Qe}function _(J,te){const{currentType:xe}=te;if(xe!==2)return!1;v(J);const Ee=J.currentPeek()===gK;return J.resetPeek(),Ee}function S(J,te){const{currentType:xe}=te;if(xe!==7)return!1;v(J);const Ee=J.currentPeek()===".";return J.resetPeek(),Ee}function C(J,te){const{currentType:xe}=te;if(xe!==8)return!1;v(J);const Ee=m(J.currentPeek());return J.resetPeek(),Ee}function k(J,te){const{currentType:xe}=te;if(!(xe===7||xe===11))return!1;v(J);const Ee=J.currentPeek()===":";return J.resetPeek(),Ee}function T(J,te){const{currentType:xe}=te;if(xe!==9)return!1;const Ee=()=>{const Be=J.currentPeek();return Be==="{"?m(J.peek()):Be==="@"||Be==="|"||Be===":"||Be==="."||Be===ff||!Be?!1:Be===Ro?(J.peek(),Ee()):E(J,!1)},Qe=Ee();return J.resetPeek(),Qe}function I(J){v(J);const te=J.currentPeek()==="|";return J.resetPeek(),te}function E(J,te=!0){const xe=(Qe=!1,Be="")=>{const ce=J.currentPeek();return ce==="{"||ce==="@"||!ce?Qe:ce==="|"?!(Be===ff||Be===Ro):ce===ff?(J.peek(),xe(!0,ff)):ce===Ro?(J.peek(),xe(!0,Ro)):!0},Ee=xe();return te&&J.resetPeek(),Ee}function A(J,te){const xe=J.currentChar();return xe===bd?bd:te(xe)?(J.next(),xe):null}function N(J){const te=J.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te>=48&&te<=57||te===95||te===36}function L(J){return A(J,N)}function R(J){const te=J.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te>=48&&te<=57||te===95||te===36||te===45}function D(J){return A(J,R)}function P(J){const te=J.charCodeAt(0);return te>=48&&te<=57}function O(J){return A(J,P)}function M(J){const te=J.charCodeAt(0);return te>=48&&te<=57||te>=65&&te<=70||te>=97&&te<=102}function W(J){return A(J,M)}function U(J){let te="",xe="";for(;te=O(J);)xe+=te;return xe}function V(J){let te="";for(;;){const xe=J.currentChar();if(xe==="{"||xe==="}"||xe==="@"||xe==="|"||!xe)break;if(xe===ff||xe===Ro)if(E(J))te+=xe,J.next();else{if(I(J))break;te+=xe,J.next()}else te+=xe,J.next()}return te}function H(J){g(J);let te="",xe="";for(;te=D(J);)xe+=te;return J.currentChar()===bd&&f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),xe}function K(J){g(J);let te="";return J.currentChar()==="-"?(J.next(),te+=`-${U(J)}`):te+=U(J),J.currentChar()===bd&&f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),te}function j(J){return J!==gK&&J!==Ro}function ne(J){g(J),p(J,"'");let te="",xe="";for(;te=A(J,j);)te==="\\"?xe+=Q(J):xe+=te;const Ee=J.currentChar();return Ee===Ro||Ee===bd?(f(Or.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),Ee===Ro&&(J.next(),p(J,"'")),xe):(p(J,"'"),xe)}function Q(J){const te=J.currentChar();switch(te){case"\\":case"'":return J.next(),`\\${te}`;case"u":return oe(J,te,4);case"U":return oe(J,te,6);default:return f(Or.UNKNOWN_ESCAPE_SEQUENCE,i(),0,te),""}}function oe(J,te,xe){p(J,te);let Ee="";for(let Qe=0;Qe<xe;Qe++){const Be=W(J);if(!Be){f(Or.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${te}${Ee}${J.currentChar()}`);break}Ee+=Be}return`\\${te}${Ee}`}function ae(J){return J!=="{"&&J!=="}"&&J!==ff&&J!==Ro}function me(J){g(J);let te="",xe="";for(;te=A(J,ae);)xe+=te;return xe}function ve(J){let te="",xe="";for(;te=L(J);)xe+=te;return xe}function B(J){const te=xe=>{const Ee=J.currentChar();return Ee==="{"||Ee==="@"||Ee==="|"||Ee==="("||Ee===")"||!Ee||Ee===ff?xe:(xe+=Ee,J.next(),te(xe))};return te("")}function re(J){g(J);const te=p(J,"|");return g(J),te}function ge(J,te){let xe=null;switch(J.currentChar()){case"{":return te.braceNest>=1&&f(Or.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),J.next(),xe=d(te,2,"{"),g(J),te.braceNest++,xe;case"}":return te.braceNest>0&&te.currentType===2&&f(Or.EMPTY_PLACEHOLDER,i(),0),J.next(),xe=d(te,3,"}"),te.braceNest--,te.braceNest>0&&g(J),te.inLinked&&te.braceNest===0&&(te.inLinked=!1),xe;case"@":return te.braceNest>0&&f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),xe=Ie(J,te)||h(te),te.braceNest=0,xe;default:{let Qe=!0,Be=!0,ce=!0;if(I(J))return te.braceNest>0&&f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),xe=d(te,1,re(J)),te.braceNest=0,te.inLinked=!1,xe;if(te.braceNest>0&&(te.currentType===4||te.currentType===5||te.currentType===6))return f(Or.UNTERMINATED_CLOSING_BRACE,i(),0),te.braceNest=0,Ce(J,te);if(Qe=b(J,te))return xe=d(te,4,H(J)),g(J),xe;if(Be=x(J,te))return xe=d(te,5,K(J)),g(J),xe;if(ce=_(J,te))return xe=d(te,6,ne(J)),g(J),xe;if(!Qe&&!Be&&!ce)return xe=d(te,12,me(J)),f(Or.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,xe.value),g(J),xe;break}}return xe}function Ie(J,te){const{currentType:xe}=te;let Ee=null;const Qe=J.currentChar();switch((xe===7||xe===8||xe===11||xe===9)&&(Qe===Ro||Qe===ff)&&f(Or.INVALID_LINKED_FORMAT,i(),0),Qe){case"@":return J.next(),Ee=d(te,7,"@"),te.inLinked=!0,Ee;case".":return g(J),J.next(),d(te,8,".");case":":return g(J),J.next(),d(te,9,":");default:return I(J)?(Ee=d(te,1,re(J)),te.braceNest=0,te.inLinked=!1,Ee):S(J,te)||k(J,te)?(g(J),Ie(J,te)):C(J,te)?(g(J),d(te,11,ve(J))):T(J,te)?(g(J),Qe==="{"?ge(J,te)||Ee:d(te,10,B(J))):(xe===7&&f(Or.INVALID_LINKED_FORMAT,i(),0),te.braceNest=0,te.inLinked=!1,Ce(J,te))}}function Ce(J,te){let xe={type:13};if(te.braceNest>0)return ge(J,te)||h(te);if(te.inLinked)return Ie(J,te)||h(te);switch(J.currentChar()){case"{":return ge(J,te)||h(te);case"}":return f(Or.UNBALANCED_CLOSING_BRACE,i(),0),J.next(),d(te,3,"}");case"@":return Ie(J,te)||h(te);default:{if(I(J))return xe=d(te,1,re(J)),te.braceNest=0,te.inLinked=!1,xe;if(E(J))return d(te,0,V(J));break}}return xe}function he(){const{currentType:J,offset:te,startLoc:xe,endLoc:Ee}=l;return l.lastType=J,l.lastOffset=te,l.lastStartLoc=xe,l.lastEndLoc=Ee,l.offset=a(),l.startLoc=i(),r.currentChar()===bd?d(l,13):Ce(r,l)}return{nextToken:he,currentOffset:a,currentPosition:i,context:u}}const Ybt="parser",Xbt=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function qbt(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function Zbt(e={}){const t=e.location!==!1,{onError:n}=e;function r(m,y,b,x,..._){const S=m.currentPosition();if(S.offset+=x,S.column+=x,n){const C=t?tF(b,S):null,k=cN(y,C,{domain:Ybt,args:_});n(k)}}function a(m,y,b){const x={type:m};return t&&(x.start=y,x.end=y,x.loc={start:b,end:b}),x}function i(m,y,b,x){t&&(m.end=y,m.loc&&(m.loc.end=b))}function o(m,y){const b=m.context(),x=a(3,b.offset,b.startLoc);return x.value=y,i(x,m.currentOffset(),m.currentPosition()),x}function s(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:_}=b,S=a(5,x,_);return S.index=parseInt(y,10),m.nextToken(),i(S,m.currentOffset(),m.currentPosition()),S}function l(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:_}=b,S=a(4,x,_);return S.key=y,m.nextToken(),i(S,m.currentOffset(),m.currentPosition()),S}function u(m,y){const b=m.context(),{lastOffset:x,lastStartLoc:_}=b,S=a(9,x,_);return S.value=y.replace(Xbt,qbt),m.nextToken(),i(S,m.currentOffset(),m.currentPosition()),S}function c(m){const y=m.nextToken(),b=m.context(),{lastOffset:x,lastStartLoc:_}=b,S=a(8,x,_);return y.type!==11?(r(m,Or.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),S.value="",i(S,x,_),{nextConsumeToken:y,node:S}):(y.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ku(y)),S.value=y.value||"",i(S,m.currentOffset(),m.currentPosition()),{node:S})}function f(m,y){const b=m.context(),x=a(7,b.offset,b.startLoc);return x.value=y,i(x,m.currentOffset(),m.currentPosition()),x}function d(m){const y=m.context(),b=a(6,y.offset,y.startLoc);let x=m.nextToken();if(x.type===8){const _=c(m);b.modifier=_.node,x=_.nextConsumeToken||m.nextToken()}switch(x.type!==9&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(x)),x=m.nextToken(),x.type===2&&(x=m.nextToken()),x.type){case 10:x.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(x)),b.key=f(m,x.value||"");break;case 4:x.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(x)),b.key=l(m,x.value||"");break;case 5:x.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(x)),b.key=s(m,x.value||"");break;case 6:x.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(x)),b.key=u(m,x.value||"");break;default:{r(m,Or.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const _=m.context(),S=a(7,_.offset,_.startLoc);return S.value="",i(S,_.offset,_.startLoc),b.key=S,i(b,_.offset,_.startLoc),{nextConsumeToken:x,node:b}}}return i(b,m.currentOffset(),m.currentPosition()),{node:b}}function h(m){const y=m.context(),b=y.currentType===1?m.currentOffset():y.offset,x=y.currentType===1?y.endLoc:y.startLoc,_=a(2,b,x);_.items=[];let S=null;do{const T=S||m.nextToken();switch(S=null,T.type){case 0:T.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(T)),_.items.push(o(m,T.value||""));break;case 5:T.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(T)),_.items.push(s(m,T.value||""));break;case 4:T.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(T)),_.items.push(l(m,T.value||""));break;case 6:T.value==null&&r(m,Or.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,Ku(T)),_.items.push(u(m,T.value||""));break;case 7:{const I=d(m);_.items.push(I.node),S=I.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const C=y.currentType===1?y.lastOffset:m.currentOffset(),k=y.currentType===1?y.lastEndLoc:m.currentPosition();return i(_,C,k),_}function p(m,y,b,x){const _=m.context();let S=x.items.length===0;const C=a(1,y,b);C.cases=[],C.cases.push(x);do{const k=h(m);S||(S=k.items.length===0),C.cases.push(k)}while(_.currentType!==13);return S&&r(m,Or.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),i(C,m.currentOffset(),m.currentPosition()),C}function v(m){const y=m.context(),{offset:b,startLoc:x}=y,_=h(m);return y.currentType===13?_:p(m,b,x,_)}function g(m){const y=jbt(m,li({},e)),b=y.context(),x=a(0,b.offset,b.startLoc);return t&&x.loc&&(x.loc.source=m),x.body=v(y),e.onCacheKey&&(x.cacheKey=e.onCacheKey(m)),b.currentType!==13&&r(y,Or.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,m[b.offset]||""),i(x,y.currentOffset(),y.currentPosition()),x}return{parse:g}}function Ku(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function Jbt(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function mK(e,t){for(let n=0;n<e.length;n++)e8(e[n],t)}function e8(e,t){switch(e.type){case 1:mK(e.cases,t),t.helper("plural");break;case 2:mK(e.items,t);break;case 6:{e8(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Qbt(e,t={}){const n=Jbt(e);n.helper("normalize"),e.body&&e8(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function ext(e){const t=e.body;return t.type===2?yK(t):t.cases.forEach(n=>yK(n)),e}function yK(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=Q6(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function nm(e){switch(e.t=e.type,e.type){case 0:{const t=e;nm(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)nm(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)nm(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;nm(t.key),t.k=t.key,delete t.key,t.modifier&&(nm(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function txt(e,t){const{sourceMap:n,filename:r,breakLineCode:a,needIndent:i}=t,o=t.location!==!1,s={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:i,indentLevel:0};o&&e.loc&&(s.source=e.loc.source);const l=()=>s;function u(g,m){s.code+=g}function c(g,m=!0){const y=m?a:"";u(i?y+"  ".repeat(g):y)}function f(g=!0){const m=++s.indentLevel;g&&c(m)}function d(g=!0){const m=--s.indentLevel;g&&c(m)}function h(){c(s.indentLevel)}return{context:l,push:u,indent:f,deindent:d,newline:h,helper:g=>`_${g}`,needIndent:()=>s.needIndent}}function nxt(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),wy(e,t.key),t.modifier?(e.push(", "),wy(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function rxt(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const a=t.items.length;for(let i=0;i<a&&(wy(e,t.items[i]),i!==a-1);i++)e.push(", ");e.deindent(r()),e.push("])")}function axt(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const a=t.cases.length;for(let i=0;i<a&&(wy(e,t.cases[i]),i!==a-1);i++)e.push(", ");e.deindent(r()),e.push("])")}}function ixt(e,t){t.body?wy(e,t.body):e.push("null")}function wy(e,t){const{helper:n}=e;switch(t.type){case 0:ixt(e,t);break;case 1:axt(e,t);break;case 2:rxt(e,t);break;case 6:nxt(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const oxt=(e,t={})=>{const n=Zt(t.mode)?t.mode:"normal",r=Zt(t.filename)?t.filename:"message.intl",a=!!t.sourceMap,i=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,o=t.needIndent?t.needIndent:n!=="arrow",s=e.helpers||[],l=txt(e,{mode:n,filename:r,sourceMap:a,breakLineCode:i,needIndent:o});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),s.length>0&&(l.push(`const { ${Q6(s.map(f=>`${f}: _${f}`),", ")} } = ctx`),l.newline()),l.push("return "),wy(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:u,map:c}=l.context();return{ast:e,code:u,map:c?c.toJSON():void 0}};function sxt(e,t={}){const n=li({},t),r=!!n.jit,a=!!n.minify,i=n.optimize==null?!0:n.optimize,s=Zbt(n).parse(e);return r?(i&&ext(s),a&&nm(s),{ast:s,code:""}):(Qbt(s,n),oxt(s,n))}/*!
  * core-base v11.0.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function lxt(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Sv().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Sv().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function dM(e){return n=>uxt(n,e)}function uxt(e,t){const n=fxt(t);if(n==null)throw Cw(0);if(t8(n)===1){const i=hxt(n);return e.plural(i.reduce((o,s)=>[...o,bK(e,s)],[]))}else return bK(e,n)}const cxt=["b","body"];function fxt(e){return cp(e,cxt)}const dxt=["c","cases"];function hxt(e){return cp(e,dxt,[])}function bK(e,t){const n=vxt(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const r=mxt(t).reduce((a,i)=>[...a,nF(e,i)],[]);return e.normalize(r)}}const pxt=["s","static"];function vxt(e){return cp(e,pxt)}const gxt=["i","items"];function mxt(e){return cp(e,gxt,[])}function nF(e,t){const n=t8(t);switch(n){case 3:return f2(t,n);case 9:return f2(t,n);case 4:{const r=t;if(vu(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(vu(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Cw(n)}case 5:{const r=t;if(vu(r,"i")&&Ba(r.i))return e.interpolate(e.list(r.i));if(vu(r,"index")&&Ba(r.index))return e.interpolate(e.list(r.index));throw Cw(n)}case 6:{const r=t,a=wxt(r),i=Sxt(r);return e.linked(nF(e,i),a?nF(e,a):void 0,e.type)}case 7:return f2(t,n);case 8:return f2(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const yxt=["t","type"];function t8(e){return cp(e,yxt)}const bxt=["v","value"];function f2(e,t){const n=cp(e,bxt);if(n)return n;throw Cw(t)}const xxt=["m","modifier"];function wxt(e){return cp(e,xxt)}const _xt=["k","key"];function Sxt(e){const t=cp(e,_xt);if(t)return t;throw Cw(6)}function cp(e,t,n){for(let r=0;r<t.length;r++){const a=t[r];if(vu(e,a)&&e[a]!=null)return e[a]}return n}function Cw(e){return new Error(`unhandled node type: ${e}`)}const Cxt=e=>e;let d2=Hr();function _y(e){return Ar(e)&&t8(e)===0&&(vu(e,"b")||vu(e,"body"))}function Txt(e,t={}){let n=!1;const r=t.onError||Vbt;return t.onError=a=>{n=!0,r(a)},{...sxt(e,t),detectError:n}}function kxt(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Zt(e)){kr(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||Cxt)(e),a=d2[r];if(a)return a;const{ast:i,detectError:o}=Txt(e,{...t,location:!1,jit:!0}),s=dM(i);return o?s:d2[r]=s}else{const n=e.cacheKey;if(n){const r=d2[n];return r||(d2[n]=dM(e))}else return dM(e)}}let Tw=null;function Ixt(e){Tw=e}function Ext(e,t,n){Tw&&Tw.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const Axt=Dxt("function:translate");function Dxt(e){return t=>Tw&&Tw.emit(e,t)}const kf={INVALID_ARGUMENT:Bbt,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Nxt=24;function If(e){return cN(e,null,void 0)}function n8(e,t){return t.locale!=null?xK(t.locale):xK(e.locale)}let hM;function xK(e){if(Zt(e))return e;if(ia(e)){if(e.resolvedOnce&&hM!=null)return hM;if(e.constructor.name==="Function"){const t=e();if(Lbt(t))throw If(kf.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return hM=t}else throw If(kf.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw If(kf.NOT_SUPPORT_LOCALE_TYPE)}function Rxt(e,t,n){return[...new Set([n,...Wa(t)?t:Ar(t)?Object.keys(t):Zt(t)?[t]:[n]])]}function ipe(e,t,n){const r=Zt(n)?n:kw,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let i=a.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Wa(o);)o=wK(i,o,t);const s=Wa(t)||!nr(t)?t:t.default?t.default:null;o=Zt(s)?[s]:s,Wa(o)&&wK(i,o,!1),a.__localeChainCache.set(r,i)}return i}function wK(e,t,n){let r=!0;for(let a=0;a<t.length&&kr(r);a++){const i=t[a];Zt(i)&&(r=Mxt(e,t[a],n))}return r}function Mxt(e,t,n){let r;const a=t.split("-");do{const i=a.join("-");r=$xt(e,i,n),a.splice(-1,1)}while(a.length&&r===!0);return r}function $xt(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const a=t.replace(/!/g,"");e.push(a),(Wa(n)||nr(n))&&n[a]&&(r=n[a])}return r}const fp=[];fp[0]={w:[0],i:[3,0],"[":[4],o:[7]};fp[1]={w:[1],".":[2],"[":[4],o:[7]};fp[2]={w:[2],i:[3,0],0:[3,0]};fp[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};fp[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};fp[5]={"'":[4,0],o:8,l:[5,0]};fp[6]={'"':[4,0],o:8,l:[6,0]};const Lxt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Oxt(e){return Lxt.test(e)}function Pxt(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function Fxt(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Bxt(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Oxt(t)?Pxt(t):"*"+t}function Vxt(e){const t=[];let n=-1,r=0,a=0,i,o,s,l,u,c,f;const d=[];d[0]=()=>{o===void 0?o=s:o+=s},d[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},d[2]=()=>{d[0](),a++},d[3]=()=>{if(a>0)a--,r=4,d[0]();else{if(a=0,o===void 0||(o=Bxt(o),o===!1))return!1;d[1]()}};function h(){const p=e[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,s="\\"+p,d[0](),!0}for(;r!==null;)if(n++,i=e[n],!(i==="\\"&&h())){if(l=Fxt(i),f=fp[r],u=f[l]||f.l||8,u===8||(r=u[0],u[1]!==void 0&&(c=d[u[1]],c&&(s=i,c()===!1))))return;if(r===7)return t}}const _K=new Map;function zxt(e,t){return Ar(e)?e[t]:null}function Wxt(e,t){if(!Ar(e))return null;let n=_K.get(t);if(n||(n=Vxt(t),n&&_K.set(t,n)),!n)return null;const r=n.length;let a=e,i=0;for(;i<r;){const o=a[n[i]];if(o===void 0||ia(a))return null;a=o,i++}return a}const Hxt="11.0.1",fN=-1,kw="en-US",SK="",CK=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Uxt(){return{upper:(e,t)=>t==="text"&&Zt(e)?e.toUpperCase():t==="vnode"&&Ar(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Zt(e)?e.toLowerCase():t==="vnode"&&Ar(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Zt(e)?CK(e):t==="vnode"&&Ar(e)&&"__v_isVNode"in e?CK(e.children):e}}let ope;function Gxt(e){ope=e}let spe;function Kxt(e){spe=e}let lpe;function jxt(e){lpe=e}let upe=null;const Yxt=e=>{upe=e},Xxt=()=>upe;let cpe=null;const TK=e=>{cpe=e},qxt=()=>cpe;let kK=0;function Zxt(e={}){const t=ia(e.onWarn)?e.onWarn:Pbt,n=Zt(e.version)?e.version:Hxt,r=Zt(e.locale)||ia(e.locale)?e.locale:kw,a=ia(r)?kw:r,i=Wa(e.fallbackLocale)||nr(e.fallbackLocale)||Zt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,o=nr(e.messages)?e.messages:pM(a),s=nr(e.datetimeFormats)?e.datetimeFormats:pM(a),l=nr(e.numberFormats)?e.numberFormats:pM(a),u=li(Hr(),e.modifiers,Uxt()),c=e.pluralRules||Hr(),f=ia(e.missing)?e.missing:null,d=kr(e.missingWarn)||xy(e.missingWarn)?e.missingWarn:!0,h=kr(e.fallbackWarn)||xy(e.fallbackWarn)?e.fallbackWarn:!0,p=!!e.fallbackFormat,v=!!e.unresolving,g=ia(e.postTranslation)?e.postTranslation:null,m=nr(e.processor)?e.processor:null,y=kr(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,x=ia(e.messageCompiler)?e.messageCompiler:ope,_=ia(e.messageResolver)?e.messageResolver:spe||zxt,S=ia(e.localeFallbacker)?e.localeFallbacker:lpe||Rxt,C=Ar(e.fallbackContext)?e.fallbackContext:void 0,k=e,T=Ar(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,I=Ar(k.__numberFormatters)?k.__numberFormatters:new Map,E=Ar(k.__meta)?k.__meta:{};kK++;const A={version:n,cid:kK,locale:r,fallbackLocale:i,messages:o,modifiers:u,pluralRules:c,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:p,unresolving:v,postTranslation:g,processor:m,warnHtmlMessage:y,escapeParameter:b,messageCompiler:x,messageResolver:_,localeFallbacker:S,fallbackContext:C,onWarn:t,__meta:E};return A.datetimeFormats=s,A.numberFormats=l,A.__datetimeFormatters=T,A.__numberFormatters=I,__INTLIFY_PROD_DEVTOOLS__&&Ext(A,n,E),A}const pM=e=>({[e]:Hr()});function r8(e,t,n,r,a){const{missing:i,onWarn:o}=e;if(i!==null){const s=i(e,n,t,a);return Zt(s)?s:t}else return t}function G1(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Jxt(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Qxt(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(Jxt(e,t[r]))return!0;return!1}function IK(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,onWarn:i,localeFallbacker:o}=e,{__datetimeFormatters:s}=e,[l,u,c,f]=rF(...t),d=kr(c.missingWarn)?c.missingWarn:e.missingWarn;kr(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const h=!!c.part,p=n8(e,c),v=o(e,a,p);if(!Zt(l)||l==="")return new Intl.DateTimeFormat(p,f).format(u);let g={},m,y=null;const b="datetime format";for(let S=0;S<v.length&&(m=v[S],g=n[m]||{},y=g[l],!nr(y));S++)r8(e,l,m,d,b);if(!nr(y)||!Zt(m))return r?fN:l;let x=`${m}__${l}`;uN(f)||(x=`${x}__${JSON.stringify(f)}`);let _=s.get(x);return _||(_=new Intl.DateTimeFormat(m,li({},y,f)),s.set(x,_)),h?_.formatToParts(u):_.format(u)}const fpe=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function rF(...e){const[t,n,r,a]=e,i=Hr();let o=Hr(),s;if(Zt(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw If(kf.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();s=new Date(u);try{s.toISOString()}catch{throw If(kf.INVALID_ISO_DATE_ARGUMENT)}}else if(Rbt(t)){if(isNaN(t.getTime()))throw If(kf.INVALID_DATE_ARGUMENT);s=t}else if(Ba(t))s=t;else throw If(kf.INVALID_ARGUMENT);return Zt(n)?i.key=n:nr(n)&&Object.keys(n).forEach(l=>{fpe.includes(l)?o[l]=n[l]:i[l]=n[l]}),Zt(r)?i.locale=r:nr(r)&&(o=r),nr(a)&&(o=a),[i.key||"",s,i,o]}function EK(e,t,n){const r=e;for(const a in n){const i=`${t}__${a}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function AK(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,onWarn:i,localeFallbacker:o}=e,{__numberFormatters:s}=e,[l,u,c,f]=aF(...t),d=kr(c.missingWarn)?c.missingWarn:e.missingWarn;kr(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const h=!!c.part,p=n8(e,c),v=o(e,a,p);if(!Zt(l)||l==="")return new Intl.NumberFormat(p,f).format(u);let g={},m,y=null;const b="number format";for(let S=0;S<v.length&&(m=v[S],g=n[m]||{},y=g[l],!nr(y));S++)r8(e,l,m,d,b);if(!nr(y)||!Zt(m))return r?fN:l;let x=`${m}__${l}`;uN(f)||(x=`${x}__${JSON.stringify(f)}`);let _=s.get(x);return _||(_=new Intl.NumberFormat(m,li({},y,f)),s.set(x,_)),h?_.formatToParts(u):_.format(u)}const dpe=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function aF(...e){const[t,n,r,a]=e,i=Hr();let o=Hr();if(!Ba(t))throw If(kf.INVALID_ARGUMENT);const s=t;return Zt(n)?i.key=n:nr(n)&&Object.keys(n).forEach(l=>{dpe.includes(l)?o[l]=n[l]:i[l]=n[l]}),Zt(r)?i.locale=r:nr(r)&&(o=r),nr(a)&&(o=a),[i.key||"",s,i,o]}function DK(e,t,n){const r=e;for(const a in n){const i=`${t}__${a}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const ewt=e=>e,twt=e=>"",nwt="text",rwt=e=>e.length===0?"":Q6(e),awt=Obt;function NK(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function iwt(e){const t=Ba(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ba(e.named.count)||Ba(e.named.n))?Ba(e.named.count)?e.named.count:Ba(e.named.n)?e.named.n:t:t}function owt(e,t){t.count||(t.count=e),t.n||(t.n=e)}function swt(e={}){const t=e.locale,n=iwt(e),r=Ar(e.pluralRules)&&Zt(t)&&ia(e.pluralRules[t])?e.pluralRules[t]:NK,a=Ar(e.pluralRules)&&Zt(t)&&ia(e.pluralRules[t])?NK:void 0,i=m=>m[r(n,m.length,a)],o=e.list||[],s=m=>o[m],l=e.named||Hr();Ba(e.pluralIndex)&&owt(n,l);const u=m=>l[m];function c(m,y){const b=ia(e.messages)?e.messages(m,!!y):Ar(e.messages)?e.messages[m]:!1;return b||(e.parent?e.parent.message(m):twt)}const f=m=>e.modifiers?e.modifiers[m]:ewt,d=nr(e.processor)&&ia(e.processor.normalize)?e.processor.normalize:rwt,h=nr(e.processor)&&ia(e.processor.interpolate)?e.processor.interpolate:awt,p=nr(e.processor)&&Zt(e.processor.type)?e.processor.type:nwt,g={list:s,named:u,plural:i,linked:(m,...y)=>{const[b,x]=y;let _="text",S="";y.length===1?Ar(b)?(S=b.modifier||S,_=b.type||_):Zt(b)&&(S=b||S):y.length===2&&(Zt(b)&&(S=b||S),Zt(x)&&(_=x||_));const C=c(m,!0)(g),k=_==="vnode"&&Wa(C)&&S?C[0]:C;return S?f(S)(k,_):k},message:c,type:p,interpolate:h,normalize:d,values:li(Hr(),o,l)};return g}const RK=()=>"",ml=e=>ia(e);function MK(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:i,fallbackLocale:o,messages:s}=e,[l,u]=iF(...t),c=kr(u.missingWarn)?u.missingWarn:e.missingWarn,f=kr(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,d=kr(u.escapeParameter)?u.escapeParameter:e.escapeParameter,h=!!u.resolvedMessage,p=Zt(u.default)||kr(u.default)?kr(u.default)?i?l:()=>l:u.default:n?i?l:()=>l:null,v=n||p!=null&&(Zt(p)||ia(p)),g=n8(e,u);d&&lwt(u);let[m,y,b]=h?[l,g,s[g]||Hr()]:hpe(e,l,g,o,f,c),x=m,_=l;if(!h&&!(Zt(x)||_y(x)||ml(x))&&v&&(x=p,_=x),!h&&(!(Zt(x)||_y(x)||ml(x))||!Zt(y)))return a?fN:l;let S=!1;const C=()=>{S=!0},k=ml(x)?x:ppe(e,l,y,x,_,C);if(S)return x;const T=fwt(e,y,b,u),I=swt(T),E=uwt(e,k,I),A=r?r(E,l):E;if(__INTLIFY_PROD_DEVTOOLS__){const N={timestamp:Date.now(),key:Zt(l)?l:ml(x)?x.key:"",locale:y||(ml(x)?x.locale:""),format:Zt(x)?x:ml(x)?x.source:"",message:A};N.meta=li({},e.__meta,Xxt()||{}),Axt(N)}return A}function lwt(e){Wa(e.list)?e.list=e.list.map(t=>Zt(t)?vK(t):t):Ar(e.named)&&Object.keys(e.named).forEach(t=>{Zt(e.named[t])&&(e.named[t]=vK(e.named[t]))})}function hpe(e,t,n,r,a,i){const{messages:o,onWarn:s,messageResolver:l,localeFallbacker:u}=e,c=u(e,r,n);let f=Hr(),d,h=null;const p="translate";for(let v=0;v<c.length&&(d=c[v],f=o[d]||Hr(),(h=l(f,t))===null&&(h=f[t]),!(Zt(h)||_y(h)||ml(h)));v++)if(!Qxt(d,c)){const g=r8(e,t,d,i,p);g!==t&&(h=g)}return[h,d,f]}function ppe(e,t,n,r,a,i){const{messageCompiler:o,warnHtmlMessage:s}=e;if(ml(r)){const u=r;return u.locale=u.locale||n,u.key=u.key||t,u}if(o==null){const u=()=>r;return u.locale=n,u.key=t,u}const l=o(r,cwt(e,n,a,r,s,i));return l.locale=n,l.key=t,l.source=r,l}function uwt(e,t,n){return t(n)}function iF(...e){const[t,n,r]=e,a=Hr();if(!Zt(t)&&!Ba(t)&&!ml(t)&&!_y(t))throw If(kf.INVALID_ARGUMENT);const i=Ba(t)?String(t):(ml(t),t);return Ba(n)?a.plural=n:Zt(n)?a.default=n:nr(n)&&!uN(n)?a.named=n:Wa(n)&&(a.list=n),Ba(r)?a.plural=r:Zt(r)?a.default=r:nr(r)&&li(a,r),[i,a]}function cwt(e,t,n,r,a,i){return{locale:t,key:n,warnHtmlMessage:a,onError:o=>{throw i&&i(o),o},onCacheKey:o=>Dbt(t,n,o)}}function fwt(e,t,n,r){const{modifiers:a,pluralRules:i,messageResolver:o,fallbackLocale:s,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,d={locale:t,modifiers:a,pluralRules:i,messages:(h,p)=>{let v=o(n,h);if(v==null&&(c||p)){const[,,g]=hpe(c||e,h,t,s,l,u);v=o(g,h)}if(Zt(v)||_y(v)){let g=!1;const y=ppe(e,h,t,v,h,()=>{g=!0});return g?RK:y}else return ml(v)?v:RK}};return e.processor&&(d.processor=e.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),Ba(r.plural)&&(d.pluralIndex=r.plural),d}lxt();/*!
  * vue-i18n v11.0.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const dwt="11.0.1";function hwt(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Sv().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Sv().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Sv().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Sv().__INTLIFY_PROD_DEVTOOLS__=!1)}const Es={UNEXPECTED_RETURN_TYPE:Nxt,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function Ys(e,...t){return cN(e,null,void 0)}const oF=up("__translateVNode"),sF=up("__datetimeParts"),lF=up("__numberParts"),vpe=up("__setPluralRules"),gpe=up("__injectWithOption"),uF=up("__dispose");function Iw(e){if(!Ar(e))return e;for(const t in e)if(vu(e,t))if(!t.includes("."))Ar(e[t])&&Iw(e[t]);else{const n=t.split("."),r=n.length-1;let a=e,i=!1;for(let o=0;o<r;o++){if(n[o]in a||(a[n[o]]=Hr()),!Ar(a[n[o]])){i=!0;break}a=a[n[o]]}i||(a[n[r]]=e[t],delete e[t]),Ar(a[n[r]])&&Iw(a[n[r]])}return e}function a8(e,t){const{messages:n,__i18n:r,messageResolver:a,flatJson:i}=t,o=nr(n)?n:Wa(r)?Hr():{[e]:Hr()};if(Wa(r)&&r.forEach(s=>{if("locale"in s&&"resource"in s){const{locale:l,resource:u}=s;l?(o[l]=o[l]||Hr(),ck(u,o[l])):ck(u,o)}else Zt(s)&&ck(JSON.parse(s),o)}),a==null&&i)for(const s in o)vu(o,s)&&Iw(o[s]);return o}function mpe(e){return e.type}function ype(e,t,n){let r=Ar(t.messages)?t.messages:Hr();"__i18nGlobal"in n&&(r=a8(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const a=Object.keys(r);a.length&&a.forEach(i=>{e.mergeLocaleMessage(i,r[i])});{if(Ar(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(Ar(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function $K(e){return ie(Mg,null,e,0)}const LK="__INTLIFY_META__",OK=()=>[],pwt=()=>!1;let PK=0;function FK(e){return(t,n,r,a)=>e(n,r,jt()||void 0,a)}const vwt=()=>{const e=jt();let t=null;return e&&(t=mpe(e)[LK])?{[LK]:t}:null};function i8(e={}){const{__root:t,__injectWithOption:n}=e,r=t===void 0,a=e.flatJson,i=VI?Y:dr;let o=kr(e.inheritLocale)?e.inheritLocale:!0;const s=i(t&&o?t.locale.value:Zt(e.locale)?e.locale:kw),l=i(t&&o?t.fallbackLocale.value:Zt(e.fallbackLocale)||Wa(e.fallbackLocale)||nr(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s.value),u=i(a8(s.value,e)),c=i(nr(e.datetimeFormats)?e.datetimeFormats:{[s.value]:{}}),f=i(nr(e.numberFormats)?e.numberFormats:{[s.value]:{}});let d=t?t.missingWarn:kr(e.missingWarn)||xy(e.missingWarn)?e.missingWarn:!0,h=t?t.fallbackWarn:kr(e.fallbackWarn)||xy(e.fallbackWarn)?e.fallbackWarn:!0,p=t?t.fallbackRoot:kr(e.fallbackRoot)?e.fallbackRoot:!0,v=!!e.fallbackFormat,g=ia(e.missing)?e.missing:null,m=ia(e.missing)?FK(e.missing):null,y=ia(e.postTranslation)?e.postTranslation:null,b=t?t.warnHtmlMessage:kr(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter;const _=t?t.modifiers:nr(e.modifiers)?e.modifiers:{};let S=e.pluralRules||t&&t.pluralRules,C;C=(()=>{r&&TK(null);const ce={version:dwt,locale:s.value,fallbackLocale:l.value,messages:u.value,modifiers:_,pluralRules:S,missing:m===null?void 0:m,missingWarn:d,fallbackWarn:h,fallbackFormat:v,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:b,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};ce.datetimeFormats=c.value,ce.numberFormats=f.value,ce.__datetimeFormatters=nr(C)?C.__datetimeFormatters:void 0,ce.__numberFormatters=nr(C)?C.__numberFormatters:void 0;const Re=Zxt(ce);return r&&TK(Re),Re})(),G1(C,s.value,l.value);function T(){return[s.value,l.value,u.value,c.value,f.value]}const I=F({get:()=>s.value,set:ce=>{s.value=ce,C.locale=s.value}}),E=F({get:()=>l.value,set:ce=>{l.value=ce,C.fallbackLocale=l.value,G1(C,s.value,ce)}}),A=F(()=>u.value),N=F(()=>c.value),L=F(()=>f.value);function R(){return ia(y)?y:null}function D(ce){y=ce,C.postTranslation=ce}function P(){return g}function O(ce){ce!==null&&(m=FK(ce)),g=ce,C.missing=m}const M=(ce,Re,ct,It,wt,Qt)=>{T();let _t;try{__INTLIFY_PROD_DEVTOOLS__,r||(C.fallbackContext=t?qxt():void 0),_t=ce(C)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(C.fallbackContext=void 0)}if(ct!=="translate exists"&&Ba(_t)&&_t===fN||ct==="translate exists"&&!_t){const[ln,Ne]=Re();return t&&p?It(t):wt(ln)}else{if(Qt(_t))return _t;throw Ys(Es.UNEXPECTED_RETURN_TYPE)}};function W(...ce){return M(Re=>Reflect.apply(MK,null,[Re,...ce]),()=>iF(...ce),"translate",Re=>Reflect.apply(Re.t,Re,[...ce]),Re=>Re,Re=>Zt(Re))}function U(...ce){const[Re,ct,It]=ce;if(It&&!Ar(It))throw Ys(Es.INVALID_ARGUMENT);return W(Re,ct,li({resolvedMessage:!0},It||{}))}function V(...ce){return M(Re=>Reflect.apply(IK,null,[Re,...ce]),()=>rF(...ce),"datetime format",Re=>Reflect.apply(Re.d,Re,[...ce]),()=>SK,Re=>Zt(Re))}function H(...ce){return M(Re=>Reflect.apply(AK,null,[Re,...ce]),()=>aF(...ce),"number format",Re=>Reflect.apply(Re.n,Re,[...ce]),()=>SK,Re=>Zt(Re))}function K(ce){return ce.map(Re=>Zt(Re)||Ba(Re)||kr(Re)?$K(String(Re)):Re)}const ne={normalize:K,interpolate:ce=>ce,type:"vnode"};function Q(...ce){return M(Re=>{let ct;const It=Re;try{It.processor=ne,ct=Reflect.apply(MK,null,[It,...ce])}finally{It.processor=null}return ct},()=>iF(...ce),"translate",Re=>Re[oF](...ce),Re=>[$K(Re)],Re=>Wa(Re))}function oe(...ce){return M(Re=>Reflect.apply(AK,null,[Re,...ce]),()=>aF(...ce),"number format",Re=>Re[lF](...ce),OK,Re=>Zt(Re)||Wa(Re))}function ae(...ce){return M(Re=>Reflect.apply(IK,null,[Re,...ce]),()=>rF(...ce),"datetime format",Re=>Re[sF](...ce),OK,Re=>Zt(Re)||Wa(Re))}function me(ce){S=ce,C.pluralRules=S}function ve(ce,Re){return M(()=>{if(!ce)return!1;const ct=Zt(Re)?Re:s.value,It=ge(ct),wt=C.messageResolver(It,ce);return _y(wt)||ml(wt)||Zt(wt)},()=>[ce],"translate exists",ct=>Reflect.apply(ct.te,ct,[ce,Re]),pwt,ct=>kr(ct))}function B(ce){let Re=null;const ct=ipe(C,l.value,s.value);for(let It=0;It<ct.length;It++){const wt=u.value[ct[It]]||{},Qt=C.messageResolver(wt,ce);if(Qt!=null){Re=Qt;break}}return Re}function re(ce){const Re=B(ce);return Re??(t?t.tm(ce)||{}:{})}function ge(ce){return u.value[ce]||{}}function Ie(ce,Re){if(a){const ct={[ce]:Re};for(const It in ct)vu(ct,It)&&Iw(ct[It]);Re=ct[ce]}u.value[ce]=Re,C.messages=u.value}function Ce(ce,Re){u.value[ce]=u.value[ce]||{};const ct={[ce]:Re};if(a)for(const It in ct)vu(ct,It)&&Iw(ct[It]);Re=ct[ce],ck(Re,u.value[ce]),C.messages=u.value}function he(ce){return c.value[ce]||{}}function J(ce,Re){c.value[ce]=Re,C.datetimeFormats=c.value,EK(C,ce,Re)}function te(ce,Re){c.value[ce]=li(c.value[ce]||{},Re),C.datetimeFormats=c.value,EK(C,ce,Re)}function xe(ce){return f.value[ce]||{}}function Ee(ce,Re){f.value[ce]=Re,C.numberFormats=f.value,DK(C,ce,Re)}function Qe(ce,Re){f.value[ce]=li(f.value[ce]||{},Re),C.numberFormats=f.value,DK(C,ce,Re)}PK++,t&&VI&&(Oe(t.locale,ce=>{o&&(s.value=ce,C.locale=ce,G1(C,s.value,l.value))}),Oe(t.fallbackLocale,ce=>{o&&(l.value=ce,C.fallbackLocale=ce,G1(C,s.value,l.value))}));const Be={id:PK,locale:I,fallbackLocale:E,get inheritLocale(){return o},set inheritLocale(ce){o=ce,ce&&t&&(s.value=t.locale.value,l.value=t.fallbackLocale.value,G1(C,s.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:A,get modifiers(){return _},get pluralRules(){return S||{}},get isGlobal(){return r},get missingWarn(){return d},set missingWarn(ce){d=ce,C.missingWarn=d},get fallbackWarn(){return h},set fallbackWarn(ce){h=ce,C.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(ce){p=ce},get fallbackFormat(){return v},set fallbackFormat(ce){v=ce,C.fallbackFormat=v},get warnHtmlMessage(){return b},set warnHtmlMessage(ce){b=ce,C.warnHtmlMessage=ce},get escapeParameter(){return x},set escapeParameter(ce){x=ce,C.escapeParameter=ce},t:W,getLocaleMessage:ge,setLocaleMessage:Ie,mergeLocaleMessage:Ce,getPostTranslationHandler:R,setPostTranslationHandler:D,getMissingHandler:P,setMissingHandler:O,[vpe]:me};return Be.datetimeFormats=N,Be.numberFormats=L,Be.rt=U,Be.te=ve,Be.tm=re,Be.d=V,Be.n=H,Be.getDateTimeFormat=he,Be.setDateTimeFormat=J,Be.mergeDateTimeFormat=te,Be.getNumberFormat=xe,Be.setNumberFormat=Ee,Be.mergeNumberFormat=Qe,Be[gpe]=n,Be[oF]=Q,Be[sF]=ae,Be[lF]=oe,Be}function gwt(e){const t=Zt(e.locale)?e.locale:kw,n=Zt(e.fallbackLocale)||Wa(e.fallbackLocale)||nr(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=ia(e.missing)?e.missing:void 0,a=kr(e.silentTranslationWarn)||xy(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,i=kr(e.silentFallbackWarn)||xy(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=kr(e.fallbackRoot)?e.fallbackRoot:!0,s=!!e.formatFallbackMessages,l=nr(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=ia(e.postTranslation)?e.postTranslation:void 0,f=Zt(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,d=!!e.escapeParameterHtml,h=kr(e.sync)?e.sync:!0;let p=e.messages;if(nr(e.sharedMessages)){const _=e.sharedMessages;p=Object.keys(_).reduce((C,k)=>{const T=C[k]||(C[k]={});return li(T,_[k]),C},p||{})}const{__i18n:v,__root:g,__injectWithOption:m}=e,y=e.datetimeFormats,b=e.numberFormats,x=e.flatJson;return{locale:t,fallbackLocale:n,messages:p,flatJson:x,datetimeFormats:y,numberFormats:b,missing:r,missingWarn:a,fallbackWarn:i,fallbackRoot:o,fallbackFormat:s,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:f,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:h,__i18n:v,__root:g,__injectWithOption:m}}function cF(e={}){const t=i8(gwt(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(a){t.locale.value=a},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(a){t.fallbackLocale.value=a},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(a){t.setMissingHandler(a)},get silentTranslationWarn(){return kr(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(a){t.missingWarn=kr(a)?!a:a},get silentFallbackWarn(){return kr(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(a){t.fallbackWarn=kr(a)?!a:a},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(a){t.fallbackFormat=a},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(a){t.setPostTranslationHandler(a)},get sync(){return t.inheritLocale},set sync(a){t.inheritLocale=a},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(a){t.warnHtmlMessage=a!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(a){t.escapeParameter=a},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...a){return Reflect.apply(t.t,t,[...a])},rt(...a){return Reflect.apply(t.rt,t,[...a])},te(a,i){return t.te(a,i)},tm(a){return t.tm(a)},getLocaleMessage(a){return t.getLocaleMessage(a)},setLocaleMessage(a,i){t.setLocaleMessage(a,i)},mergeLocaleMessage(a,i){t.mergeLocaleMessage(a,i)},d(...a){return Reflect.apply(t.d,t,[...a])},getDateTimeFormat(a){return t.getDateTimeFormat(a)},setDateTimeFormat(a,i){t.setDateTimeFormat(a,i)},mergeDateTimeFormat(a,i){t.mergeDateTimeFormat(a,i)},n(...a){return Reflect.apply(t.n,t,[...a])},getNumberFormat(a){return t.getNumberFormat(a)},setNumberFormat(a,i){t.setNumberFormat(a,i)},mergeNumberFormat(a,i){t.mergeNumberFormat(a,i)}};return r.__extender=n,r}function mwt(e,t,n){return{beforeCreate(){const r=jt();if(!r)throw Ys(Es.UNEXPECTED_ERROR);const a=this.$options;if(a.i18n){const i=a.i18n;if(a.__i18n&&(i.__i18n=a.__i18n),i.__root=t,this===this.$root)this.$i18n=BK(e,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=cF(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(a.__i18n)if(this===this.$root)this.$i18n=BK(e,a);else{this.$i18n=cF({__i18n:a.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=e;a.__i18nGlobal&&ype(t,a,a),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=jt();if(!r)throw Ys(Es.UNEXPECTED_ERROR);const a=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,a.__disposer&&(a.__disposer(),delete a.__disposer,delete a.__extender),n.__deleteInstance(r),delete this.$i18n}}}function BK(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[vpe](t.pluralizationRules||e.pluralizationRules);const n=a8(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const o8={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function ywt({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,a)=>[...r,...a.type===gt?a.children:[a]],[]):t.reduce((n,r)=>{const a=e[r];return a&&(n[r]=a()),n},Hr())}function bpe(){return gt}const bwt=se({name:"i18n-t",props:li({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ba(e)||!isNaN(e)}},o8),setup(e,t){const{slots:n,attrs:r}=t,a=e.i18n||dp({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(f=>f!=="_"),o=Hr();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=Zt(e.plural)?+e.plural:e.plural);const s=ywt(t,i),l=a[oF](e.keypath,s,o),u=li(Hr(),r),c=Zt(e.tag)||Ar(e.tag)?e.tag:bpe();return Ct(c,u,l)}}}),VK=bwt;function xwt(e){return Wa(e)&&!Zt(e[0])}function xpe(e,t,n,r){const{slots:a,attrs:i}=t;return()=>{const o={part:!0};let s=Hr();e.locale&&(o.locale=e.locale),Zt(e.format)?o.key=e.format:Ar(e.format)&&(Zt(e.format.key)&&(o.key=e.format.key),s=Object.keys(e.format).reduce((d,h)=>n.includes(h)?li(Hr(),d,{[h]:e.format[h]}):d,Hr()));const l=r(e.value,o,s);let u=[o.key];Wa(l)?u=l.map((d,h)=>{const p=a[d.type],v=p?p({[d.type]:d.value,index:h,parts:l}):[d.value];return xwt(v)&&(v[0].key=`${d.type}-${h}`),v}):Zt(l)&&(u=[l]);const c=li(Hr(),i),f=Zt(e.tag)||Ar(e.tag)?e.tag:bpe();return Ct(f,c,u)}}const wwt=se({name:"i18n-n",props:li({value:{type:Number,required:!0},format:{type:[String,Object]}},o8),setup(e,t){const n=e.i18n||dp({useScope:e.scope,__useComponent:!0});return xpe(e,t,dpe,(...r)=>n[lF](...r))}}),zK=wwt;function _wt(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Swt(e){const t=o=>{const{instance:s,value:l}=o;if(!s||!s.$)throw Ys(Es.UNEXPECTED_ERROR);const u=_wt(e,s.$),c=WK(l);return[Reflect.apply(u.t,u,[...HK(c)]),u]};return{created:(o,s)=>{const[l,u]=t(s);VI&&e.global===u&&(o.__i18nWatcher=Oe(u.locale,()=>{s.instance&&s.instance.$forceUpdate()})),o.__composer=u,o.textContent=l},unmounted:o=>{VI&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:s})=>{if(o.__composer){const l=o.__composer,u=WK(s);o.textContent=Reflect.apply(l.t,l,[...HK(u)])}},getSSRProps:o=>{const[s]=t(o);return{textContent:s}}}}function WK(e){if(Zt(e))return{path:e};if(nr(e)){if(!("path"in e))throw Ys(Es.REQUIRED_VALUE,"path");return e}else throw Ys(Es.INVALID_VALUE)}function HK(e){const{path:t,locale:n,args:r,choice:a,plural:i}=e,o={},s=r||{};return Zt(n)&&(o.locale=n),Ba(a)&&(o.plural=a),Ba(i)&&(o.plural=i),[t,s,o]}function Cwt(e,t,...n){const r=nr(n[0])?n[0]:{};(kr(r.globalInstall)?r.globalInstall:!0)&&([VK.name,"I18nT"].forEach(i=>e.component(i,VK)),[zK.name,"I18nN"].forEach(i=>e.component(i,zK)),[GK.name,"I18nD"].forEach(i=>e.component(i,GK))),e.directive("t",Swt(t))}const Twt=up("global-vue-i18n");function kwt(e={}){const t=__VUE_I18N_LEGACY_API__&&kr(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=kr(e.globalInjection)?e.globalInjection:!0,r=new Map,[a,i]=Iwt(e,t),o=up("");function s(f){return r.get(f)||null}function l(f,d){r.set(f,d)}function u(f){r.delete(f)}const c={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(f,...d){if(f.__VUE_I18N_SYMBOL__=o,f.provide(f.__VUE_I18N_SYMBOL__,c),nr(d[0])){const v=d[0];c.__composerExtend=v.__composerExtend,c.__vueI18nExtend=v.__vueI18nExtend}let h=null;!t&&n&&(h=Lwt(f,c.global)),__VUE_I18N_FULL_INSTALL__&&Cwt(f,c,...d),__VUE_I18N_LEGACY_API__&&t&&f.mixin(mwt(i,i.__composer,c));const p=f.unmount;f.unmount=()=>{h&&h(),c.dispose(),p()}},get global(){return i},dispose(){a.stop()},__instances:r,__getInstance:s,__setInstance:l,__deleteInstance:u};return c}function dp(e={}){const t=jt();if(t==null)throw Ys(Es.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ys(Es.NOT_INSTALLED);const n=Ewt(t),r=Dwt(n),a=mpe(t),i=Awt(e,a);if(i==="global")return ype(r,e,a),r;if(i==="parent"){let l=Nwt(n,t,e.__useComponent);return l==null&&(l=r),l}const o=n;let s=o.__getInstance(t);if(s==null){const l=li({},e);"__i18n"in a&&(l.__i18n=a.__i18n),r&&(l.__root=r),s=i8(l),o.__composerExtend&&(s[uF]=o.__composerExtend(s)),Mwt(o,t,s),o.__setInstance(t,s)}return s}function Iwt(e,t){const n=ote(),r=__VUE_I18N_LEGACY_API__&&t?n.run(()=>cF(e)):n.run(()=>i8(e));if(r==null)throw Ys(Es.UNEXPECTED_ERROR);return[n,r]}function Ewt(e){const t=ht(e.isCE?Twt:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Ys(e.isCE?Es.NOT_INSTALLED_WITH_PROVIDE:Es.UNEXPECTED_ERROR);return t}function Awt(e,t){return uN(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Dwt(e){return e.mode==="composition"?e.global:e.global.__composer}function Nwt(e,t,n=!1){let r=null;const a=t.root;let i=Rwt(t,n);for(;i!=null;){const o=e;if(e.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const s=o.__getInstance(i);s!=null&&(r=s.__composer,n&&r&&!r[gpe]&&(r=null))}if(r!=null||a===i)break;i=i.parent}return r}function Rwt(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Mwt(e,t,n){zt(()=>{},t),jc(()=>{const r=n;e.__deleteInstance(t);const a=r[uF];a&&(a(),delete r[uF])},t)}const $wt=["locale","fallbackLocale","availableLocales"],UK=["t","rt","d","n","tm","te"];function Lwt(e,t){const n=Object.create(null);return $wt.forEach(a=>{const i=Object.getOwnPropertyDescriptor(t,a);if(!i)throw Ys(Es.UNEXPECTED_ERROR);const o=vr(i.value)?{get(){return i.value.value},set(s){i.value.value=s}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,a,o)}),e.config.globalProperties.$i18n=n,UK.forEach(a=>{const i=Object.getOwnPropertyDescriptor(t,a);if(!i||!i.value)throw Ys(Es.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${a}`,i)}),()=>{delete e.config.globalProperties.$i18n,UK.forEach(a=>{delete e.config.globalProperties[`$${a}`]})}}const Owt=se({name:"i18n-d",props:li({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},o8),setup(e,t){const n=e.i18n||dp({useScope:e.scope,__useComponent:!0});return xpe(e,t,fpe,(...r)=>n[sF](...r))}}),GK=Owt;hwt();Gxt(kxt);Kxt(Wxt);jxt(ipe);if(__INTLIFY_PROD_DEVTOOLS__){const e=Sv();e.__INTLIFY__=!0,Ixt(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const oc=["NA2O(WT%)","MGO(WT%)","AL2O3(WT%)","SIO2(WT%)","P2O5(WT%)","K2O(WT%)","CAO(WT%)","TIO2(WT%)","MNO(WT%)","FEOT(WT%)","RB(PPM)","V(PPM)","CR(PPM)","CO(PPM)","NI(PPM)","BA(PPM)","SR(PPM)","Y(PPM)","ZR(PPM)","NB(PPM)","LA(PPM)","CE(PPM)","PR(PPM)","ND(PPM)","SM(PPM)","EU(PPM)","GD(PPM)","TB(PPM)","DY(PPM)","HO(PPM)","ER(PPM)","YB(PPM)","LU(PPM)","HF(PPM)","TA(PPM)","TH(PPM)"],Pwt=["BACK-ARC_BASIN","CONTINENTAL FLOOD BASALT","CONTINENTAL_RIFT","Continental arc","Intra-oceanic arc","Island arc","OCEAN ISLAND","OCEANIC PLATEAU","Mid-Oceanic Ridge"],Fwt={"BACK-ARC_BASIN":"弧后盆地","CONTINENTAL FLOOD BASALT":"大陆溢流玄武岩",CONTINENTAL_RIFT:"大陆裂谷","Continental arc":"大陆弧","Intra-oceanic arc":"洋内弧","Island arc":"岛弧","OCEAN ISLAND":"洋岛","OCEANIC PLATEAU":"洋底高原","Mid-Oceanic Ridge":"弧后盆地"};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var wpe=1252,Bwt=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],s8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},l8=function(e){Bwt.indexOf(e)!=-1&&(wpe=s8[0]=e)};function Vwt(){l8(1252)}var gu=function(e){l8(e)};function _pe(){gu(1200),Vwt()}function KK(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function zwt(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function Spe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Nb=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?zwt(e.slice(2)):t==254&&n==255?Spe(e.slice(2)):t==65279?e.slice(1):e},h2=function(t){return String.fromCharCode(t)},jK=function(t){return String.fromCharCode(t)},Ew,Xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function YK(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0,u=0;u<e.length;)n=e.charCodeAt(u++),i=n>>2,r=e.charCodeAt(u++),o=(n&3)<<4|r>>4,a=e.charCodeAt(u++),s=(r&15)<<2|a>>6,l=a&63,isNaN(r)?s=l=64:isNaN(a)&&(l=64),t+=Xd.charAt(i)+Xd.charAt(o)+Xd.charAt(s)+Xd.charAt(l);return t}function Xs(e){var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Xd.indexOf(e.charAt(u++)),o=Xd.indexOf(e.charAt(u++)),n=i<<2|o>>4,t+=String.fromCharCode(n),s=Xd.indexOf(e.charAt(u++)),r=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(r)),l=Xd.indexOf(e.charAt(u++)),a=(s&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var fr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Xg=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Oh(e){return fr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function XK(e){return fr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var cu=function(t){return fr?Xg(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function qg(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function u8(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return u8(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Hd=fr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Xg(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Wwt(e){for(var t=[],n=0,r=e.length+250,a=Oh(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++i)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|s>>6&15|(o&3)<<4,a[n++]=128|s&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>r&&(t.push(a.slice(0,n)),n=0,a=Oh(65535),r=65530)}return t.push(a.slice(0,n)),Hd(t)}var qo=/\u0000/g,Rb=/[\u0001-\u0006]/g;function $m(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function mu(e,t){var n=""+e;return n.length>=t?n:ga("0",t-n.length)+n}function c8(e,t){var n=""+e;return n.length>=t?n:ga(" ",t-n.length)+n}function zI(e,t){var n=""+e;return n.length>=t?n:n+ga(" ",t-n.length)}function Hwt(e,t){var n=""+Math.round(e);return n.length>=t?n:ga("0",t-n.length)+n}function Uwt(e,t){var n=""+e;return n.length>=t?n:ga("0",t-n.length)+n}var qK=Math.pow(2,32);function T0(e,t){if(e>qK||e<-qK)return Hwt(e,t);var n=Math.round(e);return Uwt(n,t)}function WI(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var ZK=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],vM=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Gwt(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Pn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},JK={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Kwt={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function HI(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,s=0,l=1,u=0,c=0,f=Math.floor(a);u<t&&(f=Math.floor(a),s=f*o+i,c=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=o,o=s,l=u,u=c;if(c>t&&(u>t?(c=l,s=i):(c=u,s=o)),!n)return[0,r*s,c];var d=Math.floor(r*s/c);return[d,r*s-d*c,c]}function Cv(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),i=0,o=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,++a==86400&&(s.T=a=0,++r,++s.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=Jwt(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var Cpe=new Date(1899,11,31,0,0,0),jwt=Cpe.getTime(),Ywt=new Date(1900,2,1,0,0,0);function Tpe(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=Ywt&&(n+=24*60*60*1e3),(n-(jwt+(e.getTimezoneOffset()-Cpe.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function f8(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Xwt(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function qwt(e){var t=e<0?12:11,n=f8(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function Zwt(e){var t=f8(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Aw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=qwt(e):t===10?n=e.toFixed(10).substr(0,12):n=Zwt(e),f8(Xwt(n.toUpperCase()))}function Sg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Aw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Fl(14,Tpe(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Jwt(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function Qwt(e,t,n,r){var a="",i=0,o=0,s=n.y,l,u=0;switch(e){case 98:s=n.y+543;case 121:switch(t.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,u=t.length;break;case 3:return vM[n.m-1][1];case 5:return vM[n.m-1][0];default:return vM[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,u=t.length;break;case 3:return ZK[n.q][0];default:return ZK[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?mu(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=mu(i,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=s,u=1;break}var c=u>0?mu(l,u):"";return c}function qd(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var kpe=/%/g;function e_t(e,t,n){var r=t.replace(kpe,""),a=t.length-r.length;return Rf(e,r,n*Math.pow(10,2*a))+ga("%",a)}function t_t(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Rf(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function Ipe(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ipe(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,c){return l+u+c.substr(0,(a+i)%a)+"."+c.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Epe=/# (\?+)( ?)\/( ?)(\d+)/;function n_t(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,s=r;return n+(i===0?"":""+i)+" "+(o===0?ga(" ",e[1].length+1+e[4].length):c8(o,e[1].length)+e[2]+"/"+e[3]+mu(s,e[4].length))}function r_t(e,t,n){return n+(t===0?"":""+t)+ga(" ",e[1].length+2+e[4].length)}var Ape=/^#*0*\.([0#]+)/,Dpe=/\).*[0#]/,Npe=/\(###\) ###\\?-####/;function Oo(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function QK(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function ej(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function a_t(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function i_t(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function sl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Dpe)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?sl("n",r,n):"("+sl("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return t_t(e,t,n);if(t.indexOf("%")!==-1)return e_t(e,t,n);if(t.indexOf("E")!==-1)return Ipe(t,n);if(t.charCodeAt(0)===36)return"$"+sl(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+T0(l,t.length);if(t.match(/^[#?]+$/))return a=T0(n,0),a==="0"&&(a=""),a.length>t.length?a:Oo(t.substr(0,t.length-a.length))+a;if(i=t.match(Epe))return n_t(i,l,u);if(t.match(/^#+0+$/))return u+T0(l,t.length-t.indexOf("0"));if(i=t.match(Ape))return a=QK(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Oo(i[1])).replace(/\.$/,"."+Oo(i[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+ga("0",Oo(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+QK(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+qd(T0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+sl(e,t,-n):qd(""+(Math.floor(n)+a_t(n,i[1].length)))+"."+mu(ej(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return sl(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=$m(sl(e,t.replace(/[\\-]/g,""),n)),o=0,$m($m(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(Npe))return a=sl(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var c="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=HI(l,Math.pow(10,o)-1,!1),a=""+u,c=Rf("n",i[1],s[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),a+=c+i[2]+"/"+i[3],c=zI(s[2],o),c.length<i[4].length&&(c=Oo(i[4].substr(i[4].length-c.length))+c),a+=c,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=HI(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?c8(s[1],o)+i[2]+"/"+i[3]+zI(s[2],o):ga(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=T0(n,0),t.length<=a.length?a:Oo(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,d=t.length-a.length-f;return Oo(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=ej(n,i[1].length),n<0?"-"+sl(e,t,-n):qd(i_t(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?mu(0,3-p.length):"")+p})+"."+mu(o,i[1].length);switch(t){case"###,##0.00":return sl(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var h=qd(T0(l,0));return h!=="0"?u+h:"";case"###,###.00":return sl(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return sl(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function o_t(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Rf(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function s_t(e,t,n){var r=t.replace(kpe,""),a=t.length-r.length;return Rf(e,r,n*Math.pow(10,2*a))+ga("%",a)}function Rpe(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Rpe(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,c){return l+u+c.substr(0,(a+i)%a)+"."+c.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ec(e,t,n){if(e.charCodeAt(0)===40&&!t.match(Dpe)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ec("n",r,n):"("+ec("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return o_t(e,t,n);if(t.indexOf("%")!==-1)return s_t(e,t,n);if(t.indexOf("E")!==-1)return Rpe(t,n);if(t.charCodeAt(0)===36)return"$"+ec(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+mu(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:Oo(t.substr(0,t.length-a.length))+a;if(i=t.match(Epe))return r_t(i,l,u);if(t.match(/^#+0+$/))return u+mu(l,t.length-t.indexOf("0"));if(i=t.match(Ape))return a=(""+n).replace(/^([^\.]+)$/,"$1."+Oo(i[1])).replace(/\.$/,"."+Oo(i[1])),a=a.replace(/\.(\d*)$/,function(p,v){return"."+v+ga("0",Oo(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+qd(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ec(e,t,-n):qd(""+n)+"."+ga("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ec(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=$m(ec(e,t.replace(/[\\-]/g,""),n)),o=0,$m($m(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(Npe))return a=ec(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var c="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=HI(l,Math.pow(10,o)-1,!1),a=""+u,c=Rf("n",i[1],s[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),a+=c+i[2]+"/"+i[3],c=zI(s[2],o),c.length<i[4].length&&(c=Oo(i[4].substr(i[4].length-c.length))+c),a+=c,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),s=HI(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?c8(s[1],o)+i[2]+"/"+i[3]+zI(s[2],o):ga(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Oo(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,d=t.length-a.length-f;return Oo(t.substr(0,f)+a+t.substr(t.length-d))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ec(e,t,-n):qd(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?mu(0,3-p.length):"")+p})+"."+mu(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=qd(""+l);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return ec(e,t.slice(0,t.lastIndexOf(".")),n)+Oo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Rf(e,t,n){return(n|0)===n?ec(e,t,n):sl(e,t,n)}function l_t(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Mpe=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function c1(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":WI(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(Mpe))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function u_t(e,t,n,r){for(var a=[],i="",o=0,s="",l="t",u,c,f,d="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!WI(e,o))throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),p=h==="("||h===")"?h:"t";a[a.length]={t:p,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Cv(t,n,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Cv(t,n),u==null))return"";for(i=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)i+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=d),a[a.length]={t:s,v:i},l=s;break;case"A":case"a":case"上":var v={t:s,v:s};if(u==null&&(u=Cv(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",d="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,d="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(v.v=u.H>=12?"下午":"上午"),v.t="T",o+=5,d="h"):(v.t="t",++o),u==null&&v.t==="T")return"";a[a.length]=v,l=s;break;case"[":for(i=s;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Mpe)){if(u==null&&(u=Cv(t,n),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",c1(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=s;++o<e.length&&(s=e.charAt(o))==="0";)i+=s;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)i+=s;a[a.length]={t:"n",v:i};break;case"?":for(i=s;e.charAt(++o)===s;)i+=s;a[a.length]={t:s,v:i},l=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:r===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:s,v:s},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);a[a.length]={t:"t",v:s},++o;break}var g=0,m=0,y;for(o=a.length-1,l="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=d,l="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(m=Math.max(m,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[o].t;break;case"m":l==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",x;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Qwt(a[o].t.charCodeAt(0),a[o].v,u,m),a[o].t="t";break;case"n":case"?":for(x=o+1;a[x]!=null&&((s=a[x].t)==="?"||s==="D"||(s===" "||s==="t")&&a[x+1]!=null&&(a[x+1].t==="?"||a[x+1].t==="t"&&a[x+1].v==="/")||a[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(a[x].v==="/"||a[x].v===" "&&a[x+1]!=null&&a[x+1].t=="?"));)a[o].v+=a[x].v,a[x]={v:"",t:";"},++x;b+=a[o].v,o=x-1;break;case"G":a[o].t="t",a[o].v=Sg(t,n);break}var _="",S,C;if(b.length>0){b.charCodeAt(0)==40?(S=t<0&&b.charCodeAt(0)===45?-t:t,C=Rf("n",b,S)):(S=t<0&&r>1?-t:t,C=Rf("n",b,S),S<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),x=C.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var T=a.length;if(k===a.length&&C.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(x>=a[o].v.length-1?(x-=a[o].v.length,a[o].v=C.substr(x+1,a[o].v.length)):x<0?a[o].v="":(a[o].v=C.substr(0,x+1),x=-1),a[o].t="t",T=o);x>=0&&T<a.length&&(a[T].v=C.substr(0,x+1)+a[T].v)}else if(k!==a.length&&C.indexOf("E")===-1){for(x=C.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(c=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(c+1);c>=0;--c)x>=0&&(a[o].v.charAt(c)==="0"||a[o].v.charAt(c)==="#")&&(_=C.charAt(x--)+_);a[o].v=_,a[o].t="t",T=o}for(x>=0&&T<a.length&&(a[T].v=C.substr(0,x+1)+a[T].v),x=C.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(c=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,c);c<a[o].v.length;++c)x<C.length&&(_+=C.charAt(x++));a[o].v=_,a[o].t="t",T=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=r>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Rf(a[o].t,a[o].v,S),a[o].t="t");var I="";for(o=0;o!==a.length;++o)a[o]!=null&&(I+=a[o].v);return I}var tj=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function nj(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function c_t(e,t){var n=l_t(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(tj),s=n[1].match(tj);return nj(t,o)?[r,n[0]]:nj(t,s)?[r,n[1]]:[r,n[o!=null&&s!=null?2:1]]}return[r,i]}function Fl(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Pn)[e],r==null&&(r=n.table&&n.table[JK[e]]||Pn[JK[e]]),r==null&&(r=Kwt[e]||"General");break}if(WI(r,0))return Sg(t,n);t instanceof Date&&(t=Tpe(t,n.date1904));var a=c_t(r,t);if(WI(a[1]))return Sg(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return u_t(a[1],t,n,a[0])}function zv(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Pn[n]==null){t<0&&(t=n);continue}if(Pn[n]==e){t=n;break}}t<0&&(t=391)}return Pn[t]=e,t}function $pe(){Pn=Gwt()}var f_t={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Lpe=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function d_t(e){var t=typeof e=="number"?Pn[e]:e;return t=t.replace(Lpe,"(\\d+)"),new RegExp("^"+t+"$")}function h_t(e,t,n){var r=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(Lpe)||[]).forEach(function(f,d){var h=parseInt(n[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=h;break;case"d":i=h;break;case"h":o=h;break;case"s":l=h;break;case"m":o>=0?s=h:a=h;break}}),l>=0&&s==-1&&a>=0&&(s=a,a=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?u:r==-1&&a==-1&&i==-1?c:u+"T"+c}var p_t=function(){var e={};e.version="1.2.0";function t(){for(var C=0,k=new Array(256),T=0;T!=256;++T)C=T,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,k[T]=C;return typeof Int32Array<"u"?new Int32Array(k):k}var n=t();function r(C){var k=0,T=0,I=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)E[I]=C[I];for(I=0;I!=256;++I)for(T=C[I],k=256+I;k<4096;k+=256)T=E[k]=T>>>8^C[T&255];var A=[];for(I=1;I!=16;++I)A[I-1]=typeof Int32Array<"u"?E.subarray(I*256,I*256+256):E.slice(I*256,I*256+256);return A}var a=r(n),i=a[0],o=a[1],s=a[2],l=a[3],u=a[4],c=a[5],f=a[6],d=a[7],h=a[8],p=a[9],v=a[10],g=a[11],m=a[12],y=a[13],b=a[14];function x(C,k){for(var T=k^-1,I=0,E=C.length;I<E;)T=T>>>8^n[(T^C.charCodeAt(I++))&255];return~T}function _(C,k){for(var T=k^-1,I=C.length-15,E=0;E<I;)T=b[C[E++]^T&255]^y[C[E++]^T>>8&255]^m[C[E++]^T>>16&255]^g[C[E++]^T>>>24]^v[C[E++]]^p[C[E++]]^h[C[E++]]^d[C[E++]]^f[C[E++]]^c[C[E++]]^u[C[E++]]^l[C[E++]]^s[C[E++]]^o[C[E++]]^i[C[E++]]^n[C[E++]];for(I+=15;E<I;)T=T>>>8^n[(T^C[E++])&255];return~T}function S(C,k){for(var T=k^-1,I=0,E=C.length,A=0,N=0;I<E;)A=C.charCodeAt(I++),A<128?T=T>>>8^n[(T^A)&255]:A<2048?(T=T>>>8^n[(T^(192|A>>6&31))&255],T=T>>>8^n[(T^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,N=C.charCodeAt(I++)&1023,T=T>>>8^n[(T^(240|A>>8&7))&255],T=T>>>8^n[(T^(128|A>>2&63))&255],T=T>>>8^n[(T^(128|N>>6&15|(A&3)<<4))&255],T=T>>>8^n[(T^(128|N&63))&255]):(T=T>>>8^n[(T^(224|A>>12&15))&255],T=T>>>8^n[(T^(128|A>>6&63))&255],T=T>>>8^n[(T^(128|A&63))&255]);return~T}return e.table=n,e.bstr=x,e.buf=_,e.str=S,e}(),yr=function(){var t={};t.version="1.2.1";function n(le,ke){for(var ye=le.split("/"),ee=ke.split("/"),ue=0,we=0,Ge=Math.min(ye.length,ee.length);ue<Ge;++ue){if(we=ye[ue].length-ee[ue].length)return we;if(ye[ue]!=ee[ue])return ye[ue]<ee[ue]?-1:1}return ye.length-ee.length}function r(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:r(le.slice(0,-1));var ke=le.lastIndexOf("/");return ke===-1?le:le.slice(0,ke+1)}function a(le){if(le.charAt(le.length-1)=="/")return a(le.slice(0,-1));var ke=le.lastIndexOf("/");return ke===-1?le:le.slice(ke+1)}function i(le,ke){typeof ke=="string"&&(ke=new Date(ke));var ye=ke.getHours();ye=ye<<6|ke.getMinutes(),ye=ye<<5|ke.getSeconds()>>>1,le.write_shift(2,ye);var ee=ke.getFullYear()-1980;ee=ee<<4|ke.getMonth()+1,ee=ee<<5|ke.getDate(),le.write_shift(2,ee)}function o(le){var ke=le.read_shift(2)&65535,ye=le.read_shift(2)&65535,ee=new Date,ue=ye&31;ye>>>=5;var we=ye&15;ye>>>=4,ee.setMilliseconds(0),ee.setFullYear(ye+1980),ee.setMonth(we-1),ee.setDate(ue);var Ge=ke&31;ke>>>=5;var at=ke&63;return ke>>>=6,ee.setHours(ke),ee.setMinutes(at),ee.setSeconds(Ge<<1),ee}function s(le){Li(le,0);for(var ke={},ye=0;le.l<=le.length-4;){var ee=le.read_shift(2),ue=le.read_shift(2),we=le.l+ue,Ge={};switch(ee){case 21589:ye=le.read_shift(1),ye&1&&(Ge.mtime=le.read_shift(4)),ue>5&&(ye&2&&(Ge.atime=le.read_shift(4)),ye&4&&(Ge.ctime=le.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}le.l=we,ke[ee]=Ge}return ke}var l;function u(){return l||(l={})}function c(le,ke){if(le[0]==80&&le[1]==75)return ir(le,ke);if((le[0]|32)==109&&(le[1]|32)==105)return gp(le,ke);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var ye=3,ee=512,ue=0,we=0,Ge=0,at=0,qe=0,Je=[],et=le.slice(0,512);Li(et,0);var kt=f(et);switch(ye=kt[0],ye){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(kt[1]==0)return ir(le,ke);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}ee!==512&&(et=le.slice(0,ee),Li(et,28));var $t=le.slice(0,ee);d(et,ye);var Me=et.read_shift(4,"i");if(ye===3&&Me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Me);et.l+=4,Ge=et.read_shift(4,"i"),et.l+=4,et.chk("00100000","Mini Stream Cutoff Size: "),at=et.read_shift(4,"i"),ue=et.read_shift(4,"i"),qe=et.read_shift(4,"i"),we=et.read_shift(4,"i");for(var Ye=-1,dt=0;dt<109&&(Ye=et.read_shift(4,"i"),!(Ye<0));++dt)Je[dt]=Ye;var Rt=h(le,ee);g(qe,we,Rt,ee,Je);var Xn=y(Rt,Ge,Je,ee);Xn[Ge].name="!Directory",ue>0&&at!==N&&(Xn[at].name="!MiniFAT"),Xn[Je[0]].name="!FAT",Xn.fat_addrs=Je,Xn.ssz=ee;var _r={},eo=[],D1=[],N1=[];b(Ge,Xn,Rt,eo,ue,_r,D1,at),p(D1,N1,eo),eo.shift();var R1={FileIndex:D1,FullPaths:N1};return ke&&ke.raw&&(R1.raw={header:$t,sectors:Rt}),R1}function f(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(L,"Header Signature: "),le.l+=16;var ke=le.read_shift(2,"u");return[le.read_shift(2,"u"),ke]}function d(le,ke){var ye=9;switch(le.l+=2,ye=le.read_shift(2)){case 9:if(ke!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(ke!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function h(le,ke){for(var ye=Math.ceil(le.length/ke)-1,ee=[],ue=1;ue<ye;++ue)ee[ue-1]=le.slice(ue*ke,(ue+1)*ke);return ee[ye-1]=le.slice(ye*ke),ee}function p(le,ke,ye){for(var ee=0,ue=0,we=0,Ge=0,at=0,qe=ye.length,Je=[],et=[];ee<qe;++ee)Je[ee]=et[ee]=ee,ke[ee]=ye[ee];for(;at<et.length;++at)ee=et[at],ue=le[ee].L,we=le[ee].R,Ge=le[ee].C,Je[ee]===ee&&(ue!==-1&&Je[ue]!==ue&&(Je[ee]=Je[ue]),we!==-1&&Je[we]!==we&&(Je[ee]=Je[we])),Ge!==-1&&(Je[Ge]=ee),ue!==-1&&ee!=Je[ee]&&(Je[ue]=Je[ee],et.lastIndexOf(ue)<at&&et.push(ue)),we!==-1&&ee!=Je[ee]&&(Je[we]=Je[ee],et.lastIndexOf(we)<at&&et.push(we));for(ee=1;ee<qe;++ee)Je[ee]===ee&&(we!==-1&&Je[we]!==we?Je[ee]=Je[we]:ue!==-1&&Je[ue]!==ue&&(Je[ee]=Je[ue]));for(ee=1;ee<qe;++ee)if(le[ee].type!==0){if(at=ee,at!=Je[at])do at=Je[at],ke[ee]=ke[at]+"/"+ke[ee];while(at!==0&&Je[at]!==-1&&at!=Je[at]);Je[ee]=-1}for(ke[0]+="/",ee=1;ee<qe;++ee)le[ee].type!==2&&(ke[ee]+="/")}function v(le,ke,ye){for(var ee=le.start,ue=le.size,we=[],Ge=ee;ye&&ue>0&&Ge>=0;)we.push(ke.slice(Ge*A,Ge*A+A)),ue-=A,Ge=cv(ye,Ge*4);return we.length===0?Za(0):Hd(we).slice(0,le.size)}function g(le,ke,ye,ee,ue){var we=N;if(le===N){if(ke!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Ge=ye[le],at=(ee>>>2)-1;if(!Ge)return;for(var qe=0;qe<at&&(we=cv(Ge,qe*4))!==N;++qe)ue.push(we);g(cv(Ge,ee-4),ke-1,ye,ee,ue)}}function m(le,ke,ye,ee,ue){var we=[],Ge=[];ue||(ue=[]);var at=ee-1,qe=0,Je=0;for(qe=ke;qe>=0;){ue[qe]=!0,we[we.length]=qe,Ge.push(le[qe]);var et=ye[Math.floor(qe*4/ee)];if(Je=qe*4&at,ee<4+Je)throw new Error("FAT boundary crossed: "+qe+" 4 "+ee);if(!le[et])break;qe=cv(le[et],Je)}return{nodes:we,data:dj([Ge])}}function y(le,ke,ye,ee){var ue=le.length,we=[],Ge=[],at=[],qe=[],Je=ee-1,et=0,kt=0,$t=0,Me=0;for(et=0;et<ue;++et)if(at=[],$t=et+ke,$t>=ue&&($t-=ue),!Ge[$t]){qe=[];var Ye=[];for(kt=$t;kt>=0;){Ye[kt]=!0,Ge[kt]=!0,at[at.length]=kt,qe.push(le[kt]);var dt=ye[Math.floor(kt*4/ee)];if(Me=kt*4&Je,ee<4+Me)throw new Error("FAT boundary crossed: "+kt+" 4 "+ee);if(!le[dt]||(kt=cv(le[dt],Me),Ye[kt]))break}we[$t]={nodes:at,data:dj([qe])}}return we}function b(le,ke,ye,ee,ue,we,Ge,at){for(var qe=0,Je=ee.length?2:0,et=ke[le].data,kt=0,$t=0,Me;kt<et.length;kt+=128){var Ye=et.slice(kt,kt+128);Li(Ye,64),$t=Ye.read_shift(2),Me=g8(Ye,0,$t-Je),ee.push(Me);var dt={name:Me,type:Ye.read_shift(1),color:Ye.read_shift(1),L:Ye.read_shift(4,"i"),R:Ye.read_shift(4,"i"),C:Ye.read_shift(4,"i"),clsid:Ye.read_shift(16),state:Ye.read_shift(4,"i"),start:0,size:0},Rt=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Rt!==0&&(dt.ct=x(Ye,Ye.l-8));var Xn=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Xn!==0&&(dt.mt=x(Ye,Ye.l-8)),dt.start=Ye.read_shift(4,"i"),dt.size=Ye.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=N,dt.name=""),dt.type===5?(qe=dt.start,ue>0&&qe!==N&&(ke[qe].name="!StreamData")):dt.size>=4096?(dt.storage="fat",ke[dt.start]===void 0&&(ke[dt.start]=m(ye,dt.start,ke.fat_addrs,ke.ssz)),ke[dt.start].name=dt.name,dt.content=ke[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:qe!==N&&dt.start!==N&&ke[qe]&&(dt.content=v(dt,ke[qe].data,(ke[at]||{}).data))),dt.content&&Li(dt.content,0),we[Me]=dt,Ge.push(dt)}}function x(le,ke){return new Date((Rs(le,ke+4)/1e7*Math.pow(2,32)+Rs(le,ke)/1e7-11644473600)*1e3)}function _(le,ke){return u(),c(l.readFileSync(le),ke)}function S(le,ke){var ye=ke&&ke.type;switch(ye||fr&&Buffer.isBuffer(le)&&(ye="buffer"),ye||"base64"){case"file":return _(le,ke);case"base64":return c(cu(Xs(le)),ke);case"binary":return c(cu(le),ke)}return c(le,ke)}function C(le,ke){var ye=ke||{},ee=ye.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=ee+"/",le.FileIndex[0]={name:ee,type:5}),ye.CLSID&&(le.FileIndex[0].clsid=ye.CLSID),k(le)}function k(le){var ke="Sh33tJ5";if(!yr.find(le,"/"+ke)){var ye=Za(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,le.FileIndex.push({name:ke,type:2,content:ye,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+ke),T(le)}}function T(le,ke){C(le);for(var ye=!1,ee=!1,ue=le.FullPaths.length-1;ue>=0;--ue){var we=le.FileIndex[ue];switch(we.type){case 0:ee?ye=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(we.R*we.L*we.C)&&(ye=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!ke)){var Ge=new Date(1987,1,19),at=0,qe=Object.create?Object.create(null):{},Je=[];for(ue=0;ue<le.FullPaths.length;++ue)qe[le.FullPaths[ue]]=!0,le.FileIndex[ue].type!==0&&Je.push([le.FullPaths[ue],le.FileIndex[ue]]);for(ue=0;ue<Je.length;++ue){var et=r(Je[ue][0]);ee=qe[et],ee||(Je.push([et,{name:a(et).replace("/",""),type:1,clsid:D,ct:Ge,mt:Ge,content:null}]),qe[et]=!0)}for(Je.sort(function(Me,Ye){return n(Me[0],Ye[0])}),le.FullPaths=[],le.FileIndex=[],ue=0;ue<Je.length;++ue)le.FullPaths[ue]=Je[ue][0],le.FileIndex[ue]=Je[ue][1];for(ue=0;ue<Je.length;++ue){var kt=le.FileIndex[ue],$t=le.FullPaths[ue];if(kt.name=a($t).replace("/",""),kt.L=kt.R=kt.C=-(kt.color=1),kt.size=kt.content?kt.content.length:0,kt.start=0,kt.clsid=kt.clsid||D,ue===0)kt.C=Je.length>1?1:-1,kt.size=0,kt.type=5;else if($t.slice(-1)=="/"){for(at=ue+1;at<Je.length&&r(le.FullPaths[at])!=$t;++at);for(kt.C=at>=Je.length?-1:at,at=ue+1;at<Je.length&&r(le.FullPaths[at])!=r($t);++at);kt.R=at>=Je.length?-1:at,kt.type=1}else r(le.FullPaths[ue+1]||"")==r($t)&&(kt.R=ue+1),kt.type=2}}}function I(le,ke){var ye=ke||{};if(ye.fileType=="mad")return sf(le,ye);switch(T(le),ye.fileType){case"zip":return ra(le,ye)}var ee=function(Me){for(var Ye=0,dt=0,Rt=0;Rt<Me.FileIndex.length;++Rt){var Xn=Me.FileIndex[Rt];if(Xn.content){var _r=Xn.content.length;_r>0&&(_r<4096?Ye+=_r+63>>6:dt+=_r+511>>9)}}for(var eo=Me.FullPaths.length+3>>2,D1=Ye+7>>3,N1=Ye+127>>7,R1=D1+dt+eo+N1,yp=R1+127>>7,aR=yp<=109?0:Math.ceil((yp-109)/127);R1+yp+aR+127>>7>yp;)aR=++yp<=109?0:Math.ceil((yp-109)/127);var lf=[1,aR,yp,N1,eo,dt,Ye,0];return Me.FileIndex[0].size=Ye<<6,lf[7]=(Me.FileIndex[0].start=lf[0]+lf[1]+lf[2]+lf[3]+lf[4]+lf[5])+(lf[6]+7>>3),lf}(le),ue=Za(ee[7]<<9),we=0,Ge=0;{for(we=0;we<8;++we)ue.write_shift(1,R[we]);for(we=0;we<8;++we)ue.write_shift(2,0);for(ue.write_shift(2,62),ue.write_shift(2,3),ue.write_shift(2,65534),ue.write_shift(2,9),ue.write_shift(2,6),we=0;we<3;++we)ue.write_shift(2,0);for(ue.write_shift(4,0),ue.write_shift(4,ee[2]),ue.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),ue.write_shift(4,0),ue.write_shift(4,4096),ue.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:N),ue.write_shift(4,ee[3]),ue.write_shift(-4,ee[1]?ee[0]-1:N),ue.write_shift(4,ee[1]),we=0;we<109;++we)ue.write_shift(-4,we<ee[2]?ee[1]+we:-1)}if(ee[1])for(Ge=0;Ge<ee[1];++Ge){for(;we<236+Ge*127;++we)ue.write_shift(-4,we<ee[2]?ee[1]+we:-1);ue.write_shift(-4,Ge===ee[1]-1?N:Ge+1)}var at=function(Me){for(Ge+=Me;we<Ge-1;++we)ue.write_shift(-4,we+1);Me&&(++we,ue.write_shift(-4,N))};for(Ge=we=0,Ge+=ee[1];we<Ge;++we)ue.write_shift(-4,P.DIFSECT);for(Ge+=ee[2];we<Ge;++we)ue.write_shift(-4,P.FATSECT);at(ee[3]),at(ee[4]);for(var qe=0,Je=0,et=le.FileIndex[0];qe<le.FileIndex.length;++qe)et=le.FileIndex[qe],et.content&&(Je=et.content.length,!(Je<4096)&&(et.start=Ge,at(Je+511>>9)));for(at(ee[6]+7>>3);ue.l&511;)ue.write_shift(-4,P.ENDOFCHAIN);for(Ge=we=0,qe=0;qe<le.FileIndex.length;++qe)et=le.FileIndex[qe],et.content&&(Je=et.content.length,!(!Je||Je>=4096)&&(et.start=Ge,at(Je+63>>6)));for(;ue.l&511;)ue.write_shift(-4,P.ENDOFCHAIN);for(we=0;we<ee[4]<<2;++we){var kt=le.FullPaths[we];if(!kt||kt.length===0){for(qe=0;qe<17;++qe)ue.write_shift(4,0);for(qe=0;qe<3;++qe)ue.write_shift(4,-1);for(qe=0;qe<12;++qe)ue.write_shift(4,0);continue}et=le.FileIndex[we],we===0&&(et.start=et.size?et.start-1:N);var $t=we===0&&ye.root||et.name;if(Je=2*($t.length+1),ue.write_shift(64,$t,"utf16le"),ue.write_shift(2,Je),ue.write_shift(1,et.type),ue.write_shift(1,et.color),ue.write_shift(-4,et.L),ue.write_shift(-4,et.R),ue.write_shift(-4,et.C),et.clsid)ue.write_shift(16,et.clsid,"hex");else for(qe=0;qe<4;++qe)ue.write_shift(4,0);ue.write_shift(4,et.state||0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(4,et.start),ue.write_shift(4,et.size),ue.write_shift(4,0)}for(we=1;we<le.FileIndex.length;++we)if(et=le.FileIndex[we],et.size>=4096)if(ue.l=et.start+1<<9,fr&&Buffer.isBuffer(et.content))et.content.copy(ue,ue.l,0,et.size),ue.l+=et.size+511&-512;else{for(qe=0;qe<et.size;++qe)ue.write_shift(1,et.content[qe]);for(;qe&511;++qe)ue.write_shift(1,0)}for(we=1;we<le.FileIndex.length;++we)if(et=le.FileIndex[we],et.size>0&&et.size<4096)if(fr&&Buffer.isBuffer(et.content))et.content.copy(ue,ue.l,0,et.size),ue.l+=et.size+63&-64;else{for(qe=0;qe<et.size;++qe)ue.write_shift(1,et.content[qe]);for(;qe&63;++qe)ue.write_shift(1,0)}if(fr)ue.l=ue.length;else for(;ue.l<ue.length;)ue.write_shift(1,0);return ue}function E(le,ke){var ye=le.FullPaths.map(function(qe){return qe.toUpperCase()}),ee=ye.map(function(qe){var Je=qe.split("/");return Je[Je.length-(qe.slice(-1)=="/"?2:1)]}),ue=!1;ke.charCodeAt(0)===47?(ue=!0,ke=ye[0].slice(0,-1)+ke):ue=ke.indexOf("/")!==-1;var we=ke.toUpperCase(),Ge=ue===!0?ye.indexOf(we):ee.indexOf(we);if(Ge!==-1)return le.FileIndex[Ge];var at=!we.match(Rb);for(we=we.replace(qo,""),at&&(we=we.replace(Rb,"!")),Ge=0;Ge<ye.length;++Ge)if((at?ye[Ge].replace(Rb,"!"):ye[Ge]).replace(qo,"")==we||(at?ee[Ge].replace(Rb,"!"):ee[Ge]).replace(qo,"")==we)return le.FileIndex[Ge];return null}var A=64,N=-2,L="d0cf11e0a1b11ae1",R=[208,207,17,224,161,177,26,225],D="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:D,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function O(le,ke,ye){u();var ee=I(le,ye);l.writeFileSync(ke,ee)}function M(le){for(var ke=new Array(le.length),ye=0;ye<le.length;++ye)ke[ye]=String.fromCharCode(le[ye]);return ke.join("")}function W(le,ke){var ye=I(le,ke);switch(ke&&ke.type||"buffer"){case"file":return u(),l.writeFileSync(ke.filename,ye),ye;case"binary":return typeof ye=="string"?ye:M(ye);case"base64":return YK(typeof ye=="string"?ye:M(ye));case"buffer":if(fr)return Buffer.isBuffer(ye)?ye:Xg(ye);case"array":return typeof ye=="string"?cu(ye):ye}return ye}var U;function V(le){try{var ke=le.InflateRaw,ye=new ke;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)U=le;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function H(le,ke){if(!U)return Gt(le,ke);var ye=U.InflateRaw,ee=new ye,ue=ee._processChunk(le.slice(le.l),ee._finishFlushFlag);return le.l+=ee.bytesRead,ue}function K(le){return U?U.deflateRawSync(le):_t(le)}var j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function oe(le){var ke=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(ke>>16|ke>>8|ke)&255}for(var ae=typeof Uint8Array<"u",me=ae?new Uint8Array(256):[],ve=0;ve<256;++ve)me[ve]=oe(ve);function B(le,ke){var ye=me[le&255];return ke<=8?ye>>>8-ke:(ye=ye<<8|me[le>>8&255],ke<=16?ye>>>16-ke:(ye=ye<<8|me[le>>16&255],ye>>>24-ke))}function re(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=6?0:le[ee+1]<<8))>>>ye&3}function ge(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=5?0:le[ee+1]<<8))>>>ye&7}function Ie(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=4?0:le[ee+1]<<8))>>>ye&15}function Ce(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=3?0:le[ee+1]<<8))>>>ye&31}function he(le,ke){var ye=ke&7,ee=ke>>>3;return(le[ee]|(ye<=1?0:le[ee+1]<<8))>>>ye&127}function J(le,ke,ye){var ee=ke&7,ue=ke>>>3,we=(1<<ye)-1,Ge=le[ue]>>>ee;return ye<8-ee||(Ge|=le[ue+1]<<8-ee,ye<16-ee)||(Ge|=le[ue+2]<<16-ee,ye<24-ee)||(Ge|=le[ue+3]<<24-ee),Ge&we}function te(le,ke,ye){var ee=ke&7,ue=ke>>>3;return ee<=5?le[ue]|=(ye&7)<<ee:(le[ue]|=ye<<ee&255,le[ue+1]=(ye&7)>>8-ee),ke+3}function xe(le,ke,ye){var ee=ke&7,ue=ke>>>3;return ye=(ye&1)<<ee,le[ue]|=ye,ke+1}function Ee(le,ke,ye){var ee=ke&7,ue=ke>>>3;return ye<<=ee,le[ue]|=ye&255,ye>>>=8,le[ue+1]=ye,ke+8}function Qe(le,ke,ye){var ee=ke&7,ue=ke>>>3;return ye<<=ee,le[ue]|=ye&255,ye>>>=8,le[ue+1]=ye&255,le[ue+2]=ye>>>8,ke+16}function Be(le,ke){var ye=le.length,ee=2*ye>ke?2*ye:ke+5,ue=0;if(ye>=ke)return le;if(fr){var we=XK(ee);if(le.copy)le.copy(we);else for(;ue<le.length;++ue)we[ue]=le[ue];return we}else if(ae){var Ge=new Uint8Array(ee);if(Ge.set)Ge.set(le);else for(;ue<ye;++ue)Ge[ue]=le[ue];return Ge}return le.length=ee,le}function ce(le){for(var ke=new Array(le),ye=0;ye<le;++ye)ke[ye]=0;return ke}function Re(le,ke,ye){var ee=1,ue=0,we=0,Ge=0,at=0,qe=le.length,Je=ae?new Uint16Array(32):ce(32);for(we=0;we<32;++we)Je[we]=0;for(we=qe;we<ye;++we)le[we]=0;qe=le.length;var et=ae?new Uint16Array(qe):ce(qe);for(we=0;we<qe;++we)Je[ue=le[we]]++,ee<ue&&(ee=ue),et[we]=0;for(Je[0]=0,we=1;we<=ee;++we)Je[we+16]=at=at+Je[we-1]<<1;for(we=0;we<qe;++we)at=le[we],at!=0&&(et[we]=Je[at+16]++);var kt=0;for(we=0;we<qe;++we)if(kt=le[we],kt!=0)for(at=B(et[we],ee)>>ee-kt,Ge=(1<<ee+4-kt)-1;Ge>=0;--Ge)ke[at|Ge<<kt]=kt&15|we<<4;return ee}var ct=ae?new Uint16Array(512):ce(512),It=ae?new Uint16Array(32):ce(32);if(!ae){for(var wt=0;wt<512;++wt)ct[wt]=0;for(wt=0;wt<32;++wt)It[wt]=0}(function(){for(var le=[],ke=0;ke<32;ke++)le.push(5);Re(le,It,32);var ye=[];for(ke=0;ke<=143;ke++)ye.push(8);for(;ke<=255;ke++)ye.push(9);for(;ke<=279;ke++)ye.push(7);for(;ke<=287;ke++)ye.push(8);Re(ye,ct,288)})();var Qt=function(){for(var ke=ae?new Uint8Array(32768):[],ye=0,ee=0;ye<Q.length-1;++ye)for(;ee<Q[ye+1];++ee)ke[ee]=ye;for(;ee<32768;++ee)ke[ee]=29;var ue=ae?new Uint8Array(259):[];for(ye=0,ee=0;ye<ne.length-1;++ye)for(;ee<ne[ye+1];++ee)ue[ee]=ye;function we(at,qe){for(var Je=0;Je<at.length;){var et=Math.min(65535,at.length-Je),kt=Je+et==at.length;for(qe.write_shift(1,+kt),qe.write_shift(2,et),qe.write_shift(2,~et&65535);et-- >0;)qe[qe.l++]=at[Je++]}return qe.l}function Ge(at,qe){for(var Je=0,et=0,kt=ae?new Uint16Array(32768):[];et<at.length;){var $t=Math.min(65535,at.length-et);if($t<10){for(Je=te(qe,Je,+(et+$t==at.length)),Je&7&&(Je+=8-(Je&7)),qe.l=Je/8|0,qe.write_shift(2,$t),qe.write_shift(2,~$t&65535);$t-- >0;)qe[qe.l++]=at[et++];Je=qe.l*8;continue}Je=te(qe,Je,+(et+$t==at.length)+2);for(var Me=0;$t-- >0;){var Ye=at[et];Me=(Me<<5^Ye)&32767;var dt=-1,Rt=0;if((dt=kt[Me])&&(dt|=et&-32768,dt>et&&(dt-=32768),dt<et))for(;at[dt+Rt]==at[et+Rt]&&Rt<250;)++Rt;if(Rt>2){Ye=ue[Rt],Ye<=22?Je=Ee(qe,Je,me[Ye+1]>>1)-1:(Ee(qe,Je,3),Je+=5,Ee(qe,Je,me[Ye-23]>>5),Je+=3);var Xn=Ye<8?0:Ye-4>>2;Xn>0&&(Qe(qe,Je,Rt-ne[Ye]),Je+=Xn),Ye=ke[et-dt],Je=Ee(qe,Je,me[Ye]>>3),Je-=3;var _r=Ye<4?0:Ye-2>>1;_r>0&&(Qe(qe,Je,et-dt-Q[Ye]),Je+=_r);for(var eo=0;eo<Rt;++eo)kt[Me]=et&32767,Me=(Me<<5^at[et])&32767,++et;$t-=Rt-1}else Ye<=143?Ye=Ye+48:Je=xe(qe,Je,1),Je=Ee(qe,Je,me[Ye]),kt[Me]=et&32767,++et}Je=Ee(qe,Je,0)-1}return qe.l=(Je+7)/8|0,qe.l}return function(qe,Je){return qe.length<8?we(qe,Je):Ge(qe,Je)}}();function _t(le){var ke=Za(50+Math.floor(le.length*1.1)),ye=Qt(le,ke);return ke.slice(0,ye)}var ln=ae?new Uint16Array(32768):ce(32768),Ne=ae?new Uint16Array(32768):ce(32768),nt=ae?new Uint16Array(128):ce(128),_e=1,We=1;function de(le,ke){var ye=Ce(le,ke)+257;ke+=5;var ee=Ce(le,ke)+1;ke+=5;var ue=Ie(le,ke)+4;ke+=4;for(var we=0,Ge=ae?new Uint8Array(19):ce(19),at=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe=1,Je=ae?new Uint8Array(8):ce(8),et=ae?new Uint8Array(8):ce(8),kt=Ge.length,$t=0;$t<ue;++$t)Ge[j[$t]]=we=ge(le,ke),qe<we&&(qe=we),Je[we]++,ke+=3;var Me=0;for(Je[0]=0,$t=1;$t<=qe;++$t)et[$t]=Me=Me+Je[$t-1]<<1;for($t=0;$t<kt;++$t)(Me=Ge[$t])!=0&&(at[$t]=et[Me]++);var Ye=0;for($t=0;$t<kt;++$t)if(Ye=Ge[$t],Ye!=0){Me=me[at[$t]]>>8-Ye;for(var dt=(1<<7-Ye)-1;dt>=0;--dt)nt[Me|dt<<Ye]=Ye&7|$t<<3}var Rt=[];for(qe=1;Rt.length<ye+ee;)switch(Me=nt[he(le,ke)],ke+=Me&7,Me>>>=3){case 16:for(we=3+re(le,ke),ke+=2,Me=Rt[Rt.length-1];we-- >0;)Rt.push(Me);break;case 17:for(we=3+ge(le,ke),ke+=3;we-- >0;)Rt.push(0);break;case 18:for(we=11+he(le,ke),ke+=7;we-- >0;)Rt.push(0);break;default:Rt.push(Me),qe<Me&&(qe=Me);break}var Xn=Rt.slice(0,ye),_r=Rt.slice(ye);for($t=ye;$t<286;++$t)Xn[$t]=0;for($t=ee;$t<30;++$t)_r[$t]=0;return _e=Re(Xn,ln,286),We=Re(_r,Ne,30),ke}function ft(le,ke){if(le[0]==3&&!(le[1]&3))return[Oh(ke),2];for(var ye=0,ee=0,ue=XK(ke||1<<18),we=0,Ge=ue.length>>>0,at=0,qe=0;!(ee&1);){if(ee=ge(le,ye),ye+=3,ee>>>1)ee>>1==1?(at=9,qe=5):(ye=de(le,ye),at=_e,qe=We);else{ye&7&&(ye+=8-(ye&7));var Je=le[ye>>>3]|le[(ye>>>3)+1]<<8;if(ye+=32,Je>0)for(!ke&&Ge<we+Je&&(ue=Be(ue,we+Je),Ge=ue.length);Je-- >0;)ue[we++]=le[ye>>>3],ye+=8;continue}for(;;){!ke&&Ge<we+32767&&(ue=Be(ue,we+32767),Ge=ue.length);var et=J(le,ye,at),kt=ee>>>1==1?ct[et]:ln[et];if(ye+=kt&15,kt>>>=4,!(kt>>>8&255))ue[we++]=kt;else{if(kt==256)break;kt-=257;var $t=kt<8?0:kt-4>>2;$t>5&&($t=0);var Me=we+ne[kt];$t>0&&(Me+=J(le,ye,$t),ye+=$t),et=J(le,ye,qe),kt=ee>>>1==1?It[et]:Ne[et],ye+=kt&15,kt>>>=4;var Ye=kt<4?0:kt-2>>1,dt=Q[kt];for(Ye>0&&(dt+=J(le,ye,Ye),ye+=Ye),!ke&&Ge<Me&&(ue=Be(ue,Me+100),Ge=ue.length);we<Me;)ue[we]=ue[we-dt],++we}}}return ke?[ue,ye+7>>>3]:[ue.slice(0,we),ye+7>>>3]}function Gt(le,ke){var ye=le.slice(le.l||0),ee=ft(ye,ke);return le.l+=ee[1],ee[0]}function cn(le,ke){if(le)typeof console<"u"&&console.error(ke);else throw new Error(ke)}function ir(le,ke){var ye=le;Li(ye,0);var ee=[],ue=[],we={FileIndex:ee,FullPaths:ue};C(we,{root:ke.root});for(var Ge=ye.length-4;(ye[Ge]!=80||ye[Ge+1]!=75||ye[Ge+2]!=5||ye[Ge+3]!=6)&&Ge>=0;)--Ge;ye.l=Ge+4,ye.l+=4;var at=ye.read_shift(2);ye.l+=6;var qe=ye.read_shift(4);for(ye.l=qe,Ge=0;Ge<at;++Ge){ye.l+=20;var Je=ye.read_shift(4),et=ye.read_shift(4),kt=ye.read_shift(2),$t=ye.read_shift(2),Me=ye.read_shift(2);ye.l+=8;var Ye=ye.read_shift(4),dt=s(ye.slice(ye.l+kt,ye.l+kt+$t));ye.l+=kt+$t+Me;var Rt=ye.l;ye.l=Ye+4,Eo(ye,Je,et,we,dt),ye.l=Rt}return we}function Eo(le,ke,ye,ee,ue){le.l+=2;var we=le.read_shift(2),Ge=le.read_shift(2),at=o(le);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var qe=le.read_shift(4),Je=le.read_shift(4),et=le.read_shift(4),kt=le.read_shift(2),$t=le.read_shift(2),Me="",Ye=0;Ye<kt;++Ye)Me+=String.fromCharCode(le[le.l++]);if($t){var dt=s(le.slice(le.l,le.l+$t));(dt[21589]||{}).mt&&(at=dt[21589].mt),((ue||{})[21589]||{}).mt&&(at=ue[21589].mt)}le.l+=$t;var Rt=le.slice(le.l,le.l+Je);switch(Ge){case 8:Rt=H(le,et);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var Xn=!1;we&8&&(qe=le.read_shift(4),qe==134695760&&(qe=le.read_shift(4),Xn=!0),Je=le.read_shift(4),et=le.read_shift(4)),Je!=ke&&cn(Xn,"Bad compressed size: "+ke+" != "+Je),et!=ye&&cn(Xn,"Bad uncompressed size: "+ye+" != "+et),mp(ee,Me,Rt,{unsafe:!0,mt:at})}function ra(le,ke){var ye=ke||{},ee=[],ue=[],we=Za(1),Ge=ye.compression?8:0,at=0,qe=0,Je=0,et=0,kt=0,$t=le.FullPaths[0],Me=$t,Ye=le.FileIndex[0],dt=[],Rt=0;for(qe=1;qe<le.FullPaths.length;++qe)if(Me=le.FullPaths[qe].slice($t.length),Ye=le.FileIndex[qe],!(!Ye.size||!Ye.content||Me=="Sh33tJ5")){var Xn=et,_r=Za(Me.length);for(Je=0;Je<Me.length;++Je)_r.write_shift(1,Me.charCodeAt(Je)&127);_r=_r.slice(0,_r.l),dt[kt]=p_t.buf(Ye.content,0);var eo=Ye.content;Ge==8&&(eo=K(eo)),we=Za(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,at),we.write_shift(2,Ge),Ye.mt?i(we,Ye.mt):we.write_shift(4,0),we.write_shift(-4,dt[kt]),we.write_shift(4,eo.length),we.write_shift(4,Ye.content.length),we.write_shift(2,_r.length),we.write_shift(2,0),et+=we.length,ee.push(we),et+=_r.length,ee.push(_r),et+=eo.length,ee.push(eo),we=Za(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,at),we.write_shift(2,Ge),we.write_shift(4,0),we.write_shift(-4,dt[kt]),we.write_shift(4,eo.length),we.write_shift(4,Ye.content.length),we.write_shift(2,_r.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Xn),Rt+=we.l,ue.push(we),Rt+=_r.length,ue.push(_r),++kt}return we=Za(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,kt),we.write_shift(2,kt),we.write_shift(4,Rt),we.write_shift(4,et),we.write_shift(2,0),Hd([Hd(ee),Hd(ue),we])}var wr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function yn(le,ke){if(le.ctype)return le.ctype;var ye=le.name||"",ee=ye.match(/\.([^\.]+)$/);return ee&&wr[ee[1]]||ke&&(ee=(ye=ke).match(/[\.\\]([^\.\\])+$/),ee&&wr[ee[1]])?wr[ee[1]]:"application/octet-stream"}function Mi(le){for(var ke=YK(le),ye=[],ee=0;ee<ke.length;ee+=76)ye.push(ke.slice(ee,ee+76));return ye.join(`\r
`)+`\r
`}function c0(le){var ke=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Je){var et=Je.charCodeAt(0).toString(16).toUpperCase();return"="+(et.length==1?"0"+et:et)});ke=ke.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ke.charAt(0)==`
`&&(ke="=0D"+ke.slice(1)),ke=ke.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],ee=ke.split(`\r
`),ue=0;ue<ee.length;++ue){var we=ee[ue];if(we.length==0){ye.push("");continue}for(var Ge=0;Ge<we.length;){var at=76,qe=we.slice(Ge,Ge+at);qe.charAt(at-1)=="="?at--:qe.charAt(at-2)=="="?at-=2:qe.charAt(at-3)=="="&&(at-=3),qe=we.slice(Ge,Ge+at),Ge+=at,Ge<we.length&&(qe+="="),ye.push(qe)}}return ye.join(`\r
`)}function f0(le){for(var ke=[],ye=0;ye<le.length;++ye){for(var ee=le[ye];ye<=le.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+le[++ye];ke.push(ee)}for(var ue=0;ue<ke.length;++ue)ke[ue]=ke[ue].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return cu(ke.join(`\r
`))}function d0(le,ke,ye){for(var ee="",ue="",we="",Ge,at=0;at<10;++at){var qe=ke[at];if(!qe||qe.match(/^\s*$/))break;var Je=qe.match(/^(.*?):\s*([^\s].*)$/);if(Je)switch(Je[1].toLowerCase()){case"content-location":ee=Je[2].trim();break;case"content-type":we=Je[2].trim();break;case"content-transfer-encoding":ue=Je[2].trim();break}}switch(++at,ue.toLowerCase()){case"base64":Ge=cu(Xs(ke.slice(at).join("")));break;case"quoted-printable":Ge=f0(ke.slice(at));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ue)}var et=mp(le,ee.slice(ye.length),Ge,{unsafe:!0});we&&(et.ctype=we)}function gp(le,ke){if(M(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=ke&&ke.root||"",ee=(fr&&Buffer.isBuffer(le)?le.toString("binary"):M(le)).split(`\r
`),ue=0,we="";for(ue=0;ue<ee.length;++ue)if(we=ee[ue],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),ye||(ye=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),we.slice(0,ye.length)!=ye););var Ge=(ee[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var at="--"+(Ge[1]||""),qe=[],Je=[],et={FileIndex:qe,FullPaths:Je};C(et);var kt,$t=0;for(ue=0;ue<ee.length;++ue){var Me=ee[ue];Me!==at&&Me!==at+"--"||($t++&&d0(et,ee.slice(kt,ue),ye),kt=ue)}return et}function sf(le,ke){var ye=ke||{},ee=ye.boundary||"SheetJS";ee="------="+ee;for(var ue=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],we=le.FullPaths[0],Ge=we,at=le.FileIndex[0],qe=1;qe<le.FullPaths.length;++qe)if(Ge=le.FullPaths[qe].slice(we.length),at=le.FileIndex[qe],!(!at.size||!at.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Rt){return"_x"+Rt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Rt){return"_u"+Rt.charCodeAt(0).toString(16)+"_"});for(var Je=at.content,et=fr&&Buffer.isBuffer(Je)?Je.toString("binary"):M(Je),kt=0,$t=Math.min(1024,et.length),Me=0,Ye=0;Ye<=$t;++Ye)(Me=et.charCodeAt(Ye))>=32&&Me<128&&++kt;var dt=kt>=$t*4/5;ue.push(ee),ue.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+Ge),ue.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),ue.push("Content-Type: "+yn(at,Ge)),ue.push(""),ue.push(dt?c0(et):Mi(et))}return ue.push(ee+`--\r
`),ue.join(`\r
`)}function h0(le){var ke={};return C(ke,le),ke}function mp(le,ke,ye,ee){var ue=ee&&ee.unsafe;ue||C(le);var we=!ue&&yr.find(le,ke);if(!we){var Ge=le.FullPaths[0];ke.slice(0,Ge.length)==Ge?Ge=ke:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+ke).replace("//","/")),we={name:a(ke),type:2},le.FileIndex.push(we),le.FullPaths.push(Ge),ue||yr.utils.cfb_gc(le)}return we.content=ye,we.size=ye?ye.length:0,ee&&(ee.CLSID&&(we.clsid=ee.CLSID),ee.mt&&(we.mt=ee.mt),ee.ct&&(we.ct=ee.ct)),we}function gd(le,ke){C(le);var ye=yr.find(le,ke);if(ye){for(var ee=0;ee<le.FileIndex.length;++ee)if(le.FileIndex[ee]==ye)return le.FileIndex.splice(ee,1),le.FullPaths.splice(ee,1),!0}return!1}function p0(le,ke,ye){C(le);var ee=yr.find(le,ke);if(ee){for(var ue=0;ue<le.FileIndex.length;++ue)if(le.FileIndex[ue]==ee)return le.FileIndex[ue].name=a(ye),le.FullPaths[ue]=ye,!0}return!1}function A1(le){T(le,!0)}return t.find=E,t.read=S,t.parse=c,t.write=W,t.writeFile=O,t.utils={cfb_new:h0,cfb_add:mp,cfb_del:gd,cfb_mov:p0,cfb_gc:A1,ReadShift:cx,CheckField:rve,prep_blob:Li,bconcat:Hd,use_zlib:V,_deflateRaw:_t,_inflateRaw:Gt,consts:P},t}();function v_t(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Vc(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function d8(e){for(var t=[],n=Vc(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var UI=new Date(1899,11,30,0,0,0);function as(e,t){var n=e.getTime(),r=UI.getTime()+(e.getTimezoneOffset()-UI.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var Ope=new Date,g_t=UI.getTime()+(Ope.getTimezoneOffset()-UI.getTimezoneOffset())*6e4,rj=Ope.getTimezoneOffset();function dN(e){var t=new Date;return t.setTime(e*24*60*60*1e3+g_t),t.getTimezoneOffset()!==rj&&t.setTime(t.getTime()+(t.getTimezoneOffset()-rj)*6e4),t}function m_t(e){var t=0,n=0,r=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(n=1,i>3&&(r=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(a[i],10)}return t}var aj=new Date("2017-02-19T19:06:09.000Z"),Ppe=isNaN(aj.getFullYear())?new Date("2/19/17"):aj,y_t=Ppe.getFullYear()==2017;function ki(e,t){var n=new Date(e);if(y_t)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(Ppe.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Cg(e,t){if(fr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return $b(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return $b(Spe(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return $b(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return $b(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return n[i]||i})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function Vi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Vi(e[n]));return t}function ga(e,t){for(var n="";n.length<t;)n+=e;return n}function Tu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,i){return n=-n,i}),!isNaN(t=Number(r)))?t/n:t}var b_t=["january","february","march","april","may","june","july","august","september","october","november","december"];function Sy(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&b_t.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var x_t=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,a){if(e||typeof r=="string")return n.split(r);for(var i=n.split(r),o=[i[0]],s=1;s<i.length;++s)o.push(a),o.push(i[s]);return o}}();function Fpe(e){return e?e.content&&e.type?Cg(e.content,!0):e.data?Nb(e.data):e.asNodeBuffer&&fr?Nb(e.asNodeBuffer().toString("binary")):e.asBinary?Nb(e.asBinary()):e._data&&e._data.getContent?Nb(Cg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Bpe(e){if(!e)return null;if(e.data)return KK(e.data);if(e.asNodeBuffer&&fr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?KK(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function w_t(e){return e&&e.name.slice(-4)===".bin"?Bpe(e):Fpe(e)}function cl(e,t){for(var n=e.FullPaths||Vc(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),a=r.replace(/\\/g,"/"),i=0;i<n.length;++i){var o=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||a==o)return e.files?e.files[n[i]]:e.FileIndex[i]}return null}function h8(e,t){var n=cl(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Oa(e,t,n){if(!n)return w_t(h8(e,t));if(!t)return null;try{return Oa(e,t)}catch{return null}}function Ls(e,t,n){if(!n)return Fpe(h8(e,t));if(!t)return null;try{return Ls(e,t)}catch{return null}}function __t(e,t,n){return Bpe(h8(e,t))}function ij(e){for(var t=e.FullPaths||Vc(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function S_t(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return fr?r=Xg(n):r=Wwt(n),yr.utils.cfb_add(e,t,r)}yr.utils.cfb_add(e,t,n)}else e.file(t,n)}function Vpe(e,t){switch(t.type){case"base64":return yr.read(e,{type:"base64"});case"binary":return yr.read(e,{type:"binary"});case"buffer":case"array":return yr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Mb(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var a=r.shift();a===".."?n.pop():a!=="."&&n.push(a)}return n.join("/")}var zpe=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,C_t=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,oj=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,T_t=/<[^>]*>/g,Io=zpe.match(oj)?oj:T_t,k_t=/<\w*:/,I_t=/<(\/?)\w+:/;function In(e,t,n){for(var r={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(r[0]=e.slice(0,a)),a===e.length)return r;var o=e.match(C_t),s=0,l="",u=0,c="",f="",d=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(c=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(d=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+d,f.length-d),s=0;s!=c.length&&c.charCodeAt(s)!==58;++s);if(s===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),r[c]=l,r[c.toLowerCase()]=l;else{var h=(s===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(s+1);if(r[h]&&c.slice(s-3,s)=="ext")continue;r[h]=l,r[h.toLowerCase()]=l}}return r}function tf(e){return e.replace(I_t,"<$1")}var Wpe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},E_t=d8(Wpe),Sr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var a=r+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(s,l){return Wpe[s]||String.fromCharCode(parseInt(l,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,l){return String.fromCharCode(parseInt(l,16))});var o=a.indexOf("]]>");return n(a.slice(0,i))+a.slice(i+9,o)+n(a.slice(o+3))}}(),A_t=/[&<>'"]/g,D_t=/[\u0000-\u001f]/g;function p8(e){var t=e+"";return t.replace(A_t,function(n){return E_t[n]}).replace(/\n/g,"<br/>").replace(D_t,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var sj=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function ua(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gM(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(n++),s=((r&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function lj(e){var t=Oh(2*e.length),n,r,a=1,i=0,o=0,s;for(r=0;r<e.length;r+=a)a=1,(s=e.charCodeAt(r))<128?n=s:s<224?(n=(s&31)*64+(e.charCodeAt(r+1)&63),a=2):s<240?(n=(s&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(s&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function uj(e){return Xg(e,"binary").toString("utf8")}var p2="foo bar bazâð£",ea=fr&&(uj(p2)==gM(p2)&&uj||lj(p2)==gM(p2)&&lj)||gM,$b=fr?function(e){return Xg(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Dw=function(){var e={};return function(n,r){var a=n+"|"+(r||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),Hpe=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}}(),N_t=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),R_t=/<\/?(?:vt:)?variant>/g,M_t=/<(?:vt:)([^>]*)>([\s\S]*)</;function cj(e,t){var n=In(e),r=e.match(N_t(n.baseType))||[],a=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return a}return r.forEach(function(i){var o=i.replace(R_t,"").match(M_t);o&&a.push({v:ea(o[2]),t:o[1]})}),a}var $_t=/(^\s|\s$|\n)/;function L_t(e){return Vc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function O_t(e,t,n){return"<"+e+(n!=null?L_t(n):"")+(t!=null?(t.match($_t)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function v8(e){if(fr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ea(qg(u8(e)));throw new Error("Bad input format: expected Buffer or string")}var Nw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,P_t={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},F_t=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function B_t(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function V_t(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[n+s]=i&255;e[n+6]=(a&15)<<4|i&15,e[n+7]=a>>4|r}var fj=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,i=e[0][r].length;a<i;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},dj=fr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Xg(t)})):fj(e)}:fj,hj=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(Ef(e,a)));return r.join("").replace(qo,"")},g8=fr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(qo,""):hj(e,t,n)}:hj,pj=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},Upe=fr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):pj(e,t,n)}:pj,vj=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(rm(e,a)));return r.join("")},QS=fr?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):vj(t,n,r)}:vj,Gpe=function(e,t){var n=Rs(e,t);return n>0?QS(e,t+4,t+4+n-1):""},Kpe=Gpe,jpe=function(e,t){var n=Rs(e,t);return n>0?QS(e,t+4,t+4+n-1):""},Ype=jpe,Xpe=function(e,t){var n=2*Rs(e,t);return n>0?QS(e,t+4,t+4+n-1):""},qpe=Xpe,Zpe=function(t,n){var r=Rs(t,n);return r>0?g8(t,n+4,n+4+r):""},Jpe=Zpe,Qpe=function(e,t){var n=Rs(e,t);return n>0?QS(e,t+4,t+4+n):""},eve=Qpe,tve=function(e,t){return B_t(e,t)},GI=tve,nve=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};fr&&(Kpe=function(t,n){if(!Buffer.isBuffer(t))return Gpe(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},Ype=function(t,n){if(!Buffer.isBuffer(t))return jpe(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},qpe=function(t,n){if(!Buffer.isBuffer(t))return Xpe(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},Jpe=function(t,n){if(!Buffer.isBuffer(t))return Zpe(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},eve=function(t,n){if(!Buffer.isBuffer(t))return Qpe(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},GI=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):tve(t,n)},nve=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var rm=function(e,t){return e[t]},Ef=function(e,t){return e[t+1]*256+e[t]},z_t=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Rs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},cv=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},W_t=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function cx(e,t){var n="",r,a,i=[],o,s,l,u;switch(t){case"dbcs":if(u=this.l,fr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Ef(this,u)),u+=2;e*=2;break;case"utf8":n=QS(this,this.l,this.l+e);break;case"utf16le":e*=2,n=g8(this,this.l,this.l+e);break;case"wstr":return cx.call(this,e,"dbcs");case"lpstr-ansi":n=Kpe(this,this.l),e=4+Rs(this,this.l);break;case"lpstr-cp":n=Ype(this,this.l),e=4+Rs(this,this.l);break;case"lpwstr":n=qpe(this,this.l),e=4+2*Rs(this,this.l);break;case"lpp4":e=4+Rs(this,this.l),n=Jpe(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Rs(this,this.l),n=eve(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=rm(this,this.l+e++))!==0;)i.push(h2(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=Ef(this,this.l+e))!==0;)i.push(h2(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=rm(this,u),this.l=u+1,s=cx.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(h2(Ef(this,u))),u+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=rm(this,u),this.l=u+1,s=cx.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),i.join("")+s;i.push(h2(rm(this,u))),u+=1}n=i.join("");break;default:switch(e){case 1:return r=rm(this,this.l),this.l++,r;case 2:return r=(t==="i"?z_t:Ef)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(e>0?cv:W_t)(this,this.l),this.l+=4,r):(a=Rs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=GI(this,this.l):a=GI([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=Upe(this,this.l,e);break}}return this.l+=e,n}var H_t=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},U_t=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},G_t=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function K_t(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)G_t(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,H_t(this,t,this.l);break;case 8:if(r=8,n==="f"){V_t(this,t,this.l);break}case 16:break;case-4:r=4,U_t(this,t,this.l);break}return this.l+=r,this}function rve(e,t){var n=Upe(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Li(e,t){e.l=t,e.read_shift=cx,e.chk=rve,e.write_shift=K_t}function So(e,t){e.l+=t}function Za(e){var t=Oh(e);return Li(t,0),t}function dd(e,t,n){if(e){var r,a,i;Li(e,e.l||0);for(var o=e.length,s=0,l=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var u=ZI[s]||ZI[65535];for(r=e.read_shift(1),i=r&127,a=1;a<4&&r&128;++a)i+=((r=e.read_shift(1))&127)<<7*a;l=e.l+i;var c=u.f&&u.f(e,i,n);if(e.l=l,t(c,u,s))return}}}function fF(){var e=[],t=fr?256:2048,n=function(u){var c=Za(u);return Li(c,0),c},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},i=function(u){return r&&u<r.length-r.l?r:(a(),r=n(Math.max(u+1,t)))},o=function(){return a(),Hd(e)},s=function(u){a(),r=u,r.l==null&&(r.l=r.length),i(t)};return{next:i,push:s,end:o,_bufs:e}}function fx(e,t,n){var r=Vi(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function gj(e,t,n){var r=Vi(e);return r.s=fx(r.s,t.s,n),r.e=fx(r.e,t.s,n),r}function dx(e,t){if(e.cRel&&e.c<0)for(e=Vi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Vi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=$n(e);return!e.cRel&&e.cRel!=null&&(n=X_t(n)),!e.rRel&&e.rRel!=null&&(n=j_t(n)),n}function mM(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ai(e.s.c)+":"+(e.e.cRel?"":"$")+ai(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+zi(e.s.r)+":"+(e.e.rRel?"":"$")+zi(e.e.r):dx(e.s,t.biff)+":"+dx(e.e,t.biff)}function m8(e){return parseInt(Y_t(e),10)-1}function zi(e){return""+(e+1)}function j_t(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Y_t(e){return e.replace(/\$(\d+)$/,"$1")}function y8(e){for(var t=q_t(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function ai(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function X_t(e){return e.replace(/^([A-Z])/,"$$$1")}function q_t(e){return e.replace(/^\$([A-Z])/,"$1")}function Z_t(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jo(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function $n(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function f1(e){var t=e.indexOf(":");return t==-1?{s:jo(e),e:jo(e)}:{s:jo(e.slice(0,t)),e:jo(e.slice(t+1))}}function br(e,t){return typeof t>"u"||typeof t=="number"?br(e.s,e.e):(typeof e!="string"&&(e=$n(e)),typeof t!="string"&&(t=$n(t)),e==t?e:e+":"+t)}function _a(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function mj(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Fl(e.z,n?as(t):t)}catch{}try{return e.w=Fl((e.XF||{}).numFmtId||(n?14:0),n?as(t):t)}catch{return""+t}}function jf(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Qg[e.v]||e.v:t==null?mj(e,e.v):mj(e,t))}function hp(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function ave(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,i=e||(a?[]:{}),o=0,s=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?jo(r.origin):r.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var c=_a(i["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),o==-1&&(u.e.r=o=c.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[f].length;++d)if(!(typeof t[f][d]>"u")){var h={v:t[f][d]},p=o+f,v=s+d;if(u.s.r>p&&(u.s.r=p),u.s.c>v&&(u.s.c=v),u.e.r<p&&(u.e.r=p),u.e.c<v&&(u.e.c=v),t[f][d]&&typeof t[f][d]=="object"&&!Array.isArray(t[f][d])&&!(t[f][d]instanceof Date))h=t[f][d];else if(Array.isArray(h.v)&&(h.f=t[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else if(r.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=r.dateNF||Pn[14],r.cellDates?(h.t="d",h.w=Fl(h.z,as(h.v))):(h.t="n",h.v=as(h.v),h.w=Fl(h.z,h.v))):h.t="s";if(a)i[p]||(i[p]=[]),i[p][v]&&i[p][v].z&&(h.z=i[p][v].z),i[p][v]=h;else{var g=$n({c:v,r:p});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return u.s.c<1e7&&(i["!ref"]=br(u)),i}function d1(e,t){return ave(null,e,t)}function J_t(e){return e.read_shift(4,"i")}function wo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Q_t(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function b8(e,t){var n=e.l,r=e.read_shift(1),a=wo(e),i=[],o={t:a,h:a};if(r&1){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(Q_t(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var eSt=b8;function Ul(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Zg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var tSt=wo;function x8(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var nSt=wo,dF=x8;function w8(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?GI([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):cv(t,0)>>2;return n?a/100:a}function ive(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Jg=ive;function go(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function rSt(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var u=Wv[a];u&&(t.rgb=Mw(u));break;case 2:t.rgb=Mw([o,s,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function aSt(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function ove(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function iSt(e){return ove(e,1)}function oSt(e){return ove(e,2)}var _8=2,vs=3,v2=11,yj=12,KI=19,g2=64,sSt=65,lSt=71,uSt=4108,cSt=4126,bi=80,sve=81,fSt=[bi,sve],dSt={1:{n:"CodePage",t:_8},2:{n:"Category",t:bi},3:{n:"PresentationFormat",t:bi},4:{n:"ByteCount",t:vs},5:{n:"LineCount",t:vs},6:{n:"ParagraphCount",t:vs},7:{n:"SlideCount",t:vs},8:{n:"NoteCount",t:vs},9:{n:"HiddenCount",t:vs},10:{n:"MultimediaClipCount",t:vs},11:{n:"ScaleCrop",t:v2},12:{n:"HeadingPairs",t:uSt},13:{n:"TitlesOfParts",t:cSt},14:{n:"Manager",t:bi},15:{n:"Company",t:bi},16:{n:"LinksUpToDate",t:v2},17:{n:"CharacterCount",t:vs},19:{n:"SharedDoc",t:v2},22:{n:"HyperlinksChanged",t:v2},23:{n:"AppVersion",t:vs,p:"version"},24:{n:"DigSig",t:sSt},26:{n:"ContentType",t:bi},27:{n:"ContentStatus",t:bi},28:{n:"Language",t:bi},29:{n:"Version",t:bi},255:{},2147483648:{n:"Locale",t:KI},2147483651:{n:"Behavior",t:KI},1919054434:{}},hSt={1:{n:"CodePage",t:_8},2:{n:"Title",t:bi},3:{n:"Subject",t:bi},4:{n:"Author",t:bi},5:{n:"Keywords",t:bi},6:{n:"Comments",t:bi},7:{n:"Template",t:bi},8:{n:"LastAuthor",t:bi},9:{n:"RevNumber",t:bi},10:{n:"EditTime",t:g2},11:{n:"LastPrinted",t:g2},12:{n:"CreatedDate",t:g2},13:{n:"ModifiedDate",t:g2},14:{n:"PageCount",t:vs},15:{n:"WordCount",t:vs},16:{n:"CharCount",t:vs},17:{n:"Thumbnail",t:lSt},18:{n:"Application",t:bi},19:{n:"DocSecurity",t:vs},255:{},2147483648:{n:"Locale",t:KI},2147483651:{n:"Behavior",t:KI},1919054434:{}},bj={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},pSt=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function vSt(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var gSt=vSt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Wv=Vi(gSt),Qg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lve={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},xj={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function mSt(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function ySt(e){var t=mSt();if(!e||!e.match)return t;var n={};if((e.match(Io)||[]).forEach(function(r){var a=In(r);switch(a[0].replace(k_t,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[a.Extension]=a.ContentType;break;case"<Override":t[xj[a.ContentType]]!==void 0&&t[xj[a.ContentType]].push(a.PartName);break}}),t.xmlns!==P_t.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var dm={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function hF(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function hx(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Io)||[]).forEach(function(a){var i=In(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var s=i.TargetMode==="External"?i.Target:Mb(i.Target,t);n[s]=o,r[i.Id]=o}}),n["!id"]=r,n}var bSt="application/vnd.oasis.opendocument.spreadsheet";function xSt(e,t){for(var n=v8(e),r,a;r=Nw.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(a=In(r[0],!1),a.path=="/"&&a.type!==bSt)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var px=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wSt=function(){for(var e=new Array(px.length),t=0;t<px.length;++t){var n=px[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function uve(e){var t={};e=ea(e);for(var n=0;n<px.length;++n){var r=px[n],a=e.match(wSt[n]);a!=null&&a.length>0&&(t[r[1]]=Sr(a[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=ki(t[r[1]]))}return t}var _St=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function cve(e,t,n,r){var a=[];if(typeof e=="string")a=cj(e,r);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(c){return{v:c}}));var o=typeof t=="string"?cj(t,r).map(function(c){return c.v}):t,s=0,l=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(s,s+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":n.NamedRanges=l,n.DefinedNames=o.slice(s,s+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(s,s+l);break}s+=l}}function SSt(e,t,n){var r={};return t||(t={}),e=ea(e),_St.forEach(function(a){var i=(e.match(Dw(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Sr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(r[a[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&cve(r.HeadingPairs,r.TitlesOfParts,t,n),t}var CSt=/<[^>]+>[^<]*/g;function TSt(e,t){var n={},r="",a=e.match(CSt);if(a)for(var i=0;i!=a.length;++i){var o=a[i],s=In(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Sr(s.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":n[r]=Sr(c);break;case"bool":n[r]=ua(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(c,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(c);break;case"filetime":case"date":n[r]=ki(c);break;case"cy":case"error":n[r]=Sr(c);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}var kSt={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},yM;function ISt(e,t,n){yM||(yM=d8(kSt)),t=yM[t]||t,e[t]=n}function S8(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function fve(e,t,n){var r=e.l,a=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return a}function dve(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function hve(e,t,n){return t===31?dve(e):fve(e,t,n)}function pF(e,t,n){return hve(e,t,n===!1?0:4)}function ESt(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return hve(e,t,0)}function ASt(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var a=e.l;n[r]=e.read_shift(0,"lpwstr").replace(qo,""),e.l-a&2&&(e.l+=2)}return n}function DSt(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(qo,"");return n}function NSt(e){var t=e.l,n=jI(e,sve);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=jI(e,vs);return[n,r]}function RSt(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(NSt(e));return n}function wj(e,t){for(var n=e.read_shift(4),r={},a=0;a!=n;++a){var i=e.read_shift(4),o=e.read_shift(4);r[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(qo,"").replace(Rb,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function pve(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function MSt(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function jI(e,t,n){var r=e.read_shift(2),a,i=n||{};if(e.l+=2,t!==yj&&r!==t&&fSt.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===yj?r:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return fve(e,r,4).replace(qo,"");case 31:return dve(e);case 64:return S8(e);case 65:return pve(e);case 71:return MSt(e);case 80:return pF(e,r,!i.raw).replace(qo,"");case 81:return ESt(e,r).replace(qo,"");case 4108:return RSt(e);case 4126:case 4127:return r==4127?ASt(e):DSt(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function _j(e,t){var n=e.l,r=e.read_shift(4),a=e.read_shift(4),i=[],o=0,s=0,l=-1,u={};for(o=0;o!=a;++o){var c=e.read_shift(4),f=e.read_shift(4);i[o]=[c,f+n]}i.sort(function(y,b){return y[1]-b[1]});var d={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var h=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,h=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],h=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],h=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(h=!1,e.l=i[o][1]),h)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[i[o][0]];if(d[p.n]=jI(e,p.t,{raw:!0}),p.p==="version"&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:gu(s=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(i[o][0]===1){if(s=d.CodePage=jI(e,_8),gu(s),l!==-1){var v=e.l;e.l=i[l][1],u=wj(e,s),e.l=v}}else if(i[o][0]===0){if(s===0){l=o,e.l=i[o+1][1];continue}u=wj(e,s)}else{var g=u[i[o][0]],m;switch(e[e.l]){case 65:e.l+=4,m=pve(e);break;case 30:e.l+=4,m=pF(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,m=pF(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=Ia(e,4);break;case 64:e.l+=4,m=ki(S8(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[g]=m}}return e.l=n+r,d}function Sj(e,t,n){var r=e.content;if(!r)return{};Li(r,0);var a,i,o,s,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),c=r.read_shift(16);if(c!==yr.utils.consts.HEADER_CLSID&&c!==n)throw new Error("Bad PropertySet CLSID "+c);if(a=r.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=r.read_shift(16),s=r.read_shift(4),a===1&&s!==r.l)throw new Error("Length mismatch: "+s+" !== "+r.l);a===2&&(o=r.read_shift(16),l=r.read_shift(4));var f=_j(r,t),d={SystemIdentifier:u};for(var h in f)d[h]=f[h];if(d.FMTID=i,a===1)return d;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var p;try{p=_j(r,null)}catch{}for(h in p)d[h]=p[h];return d.FMTID=[i,o],d}function xd(e,t){return e.read_shift(t),null}function $St(e,t,n){for(var r=[],a=e.l+t;e.l<a;)r.push(n(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return r}function Ia(e,t){return e.read_shift(t)===1}function Pa(e){return e.read_shift(2,"u")}function vve(e,t){return $St(e,t,Pa)}function LSt(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function eC(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return o}function OSt(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,a=n&8,i=1+(n&1),o=0,s,l={};a&&(o=e.read_shift(2)),r&&(s=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",c=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),r&&(e.l+=s),l.t=c,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Tg(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function tC(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Tg(e,r,n)}function e0(e,t,n){if(n.biff>5)return tC(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function PSt(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function FSt(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var a=e.read_shift((r?t-24:t)>>1,"utf16le").replace(qo,"");return r&&(e.l+=24),a}function BSt(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return n+r.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(qo,"");return n+o}function VSt(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return FSt(e);case"0303000000000000c000000000000046":return BSt(e);default:throw new Error("Unsupported Moniker "+n)}}function m2(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(qo,""):"";return n}function zSt(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var a=e.read_shift(2);e.l+=2;var i,o,s,l,u="",c,f;a&16&&(i=m2(e,n-e.l)),a&128&&(o=m2(e,n-e.l)),(a&257)===257&&(s=m2(e,n-e.l)),(a&257)===1&&(l=VSt(e,n-e.l)),a&8&&(u=m2(e,n-e.l)),a&32&&(c=e.read_shift(16)),a&64&&(f=S8(e)),e.l=n;var d=o||s||l||"";d&&u&&(d+="#"+u),d||(d="#"+u),a&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return c&&(h.guid=c),f&&(h.time=f),i&&(h.Tooltip=i),h}function gve(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1);return[t,n,r,a]}function mve(e,t){var n=gve(e);return n[3]=0,n}function nf(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function WSt(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function HSt(e,t,n){return t===0?"":e0(e,t,n)}function USt(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),i=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[a,i,o]}function yve(e){var t=e.read_shift(2),n=w8(e);return[t,n]}function GSt(e,t,n){e.l+=4,t-=4;var r=e.l+t,a=eC(e,t,n),i=e.read_shift(2);if(r-=e.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return e.l+=i,a}function hN(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function bve(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),a=e.read_shift(1);return{s:{c:r,r:t},e:{c:a,r:n}}}var KSt=bve;function xve(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function jSt(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function YSt(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function to(e){e.l+=2,e.l+=e.read_shift(2)}var XSt={0:to,4:to,5:to,6:to,7:YSt,8:to,9:to,10:to,11:to,12:to,13:jSt,14:to,15:to,16:to,17:to,18:to,19:to,20:to,21:xve};function qSt(e,t){for(var n=e.l+t,r=[];e.l<n;){var a=e.read_shift(2);e.l-=2;try{r.push(XSt[a](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function y2(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function ZSt(e,t){return t===0||e.read_shift(2),1200}function JSt(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,a=e0(e,0,n);return e.read_shift(t+r-e.l),a}function QSt(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function eCt(e,t,n){var r=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=eC(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:a,dt:i,name:o}}function tCt(e,t){for(var n=e.l+t,r=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<n;++o)i.push(OSt(e));return i.Count=r,i.Unique=a,i}function nCt(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function rCt(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function aCt(e){var t=WSt(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function iCt(e){return e.read_shift(2),e.read_shift(4)}function Cj(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var a=e.read_shift(2);n&&n.biff==2&&(r=1-(a>>15),a&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,a]}function oCt(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,n],Dim:[r,a],Flags:i,CurTab:o,FirstTab:s,Selected:l,TabRatio:u}}function sCt(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function lCt(){}function uCt(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=eC(e,0,n),r}function cCt(e){var t=nf(e);return t.isst=e.read_shift(4),t}function fCt(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,a=nf(e);n.biff==2&&e.l++;var i=tC(e,r-e.l,n);return a.val=i,a}function dCt(e,t,n){var r=e.read_shift(2),a=e0(e,0,n);return[r,a]}var hCt=e0;function Tj(e,t,n){var r=e.l+t,a=n.biff==8||!n.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),s=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:i,c:s},e:{r:o,c:l}}}function pCt(e){var t=e.read_shift(2),n=e.read_shift(2),r=yve(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function vCt(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(yve(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r,c:a,C:o,rkrec:i}}function gCt(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),i=[];e.l<n;)i.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r,c:a,C:o,ixfe:i}}function mCt(e,t,n,r){var a={},i=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(2);return a.patternType=pSt[s>>26],r.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=s&127,a.icvBottom=s>>7&127,a.icvDiag=s>>14&127,a.dgDiag=s>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function yCt(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=mCt(e,t,r.fStyle,n),r}function bCt(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function kj(e,t,n){var r=nf(e);(n.biff==2||t==9)&&++e.l;var a=LSt(e);return r.val=a,r.t=a===!0||a===!1?"b":"e",r}function xCt(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=nf(e),a=go(e);return r.val=a,r}var Ij=HSt;function wCt(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Tg(e,i),s=[];r>e.l;)s.push(tC(e));return[i,a,o,s]}function Ej(e,t,n){var r=e.read_shift(2),a,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(a=GSt(e,t-2,n)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var _Ct=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Aj(e,t,n){var r=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var u=Tg(e,o,n);a&32&&(u=_Ct[u.charCodeAt(0)]);var c=r-e.l;n&&n.biff==2&&--c;var f=r==e.l||s===0||!(c>0)?[]:rIt(e,c,n,s);return{chKey:i,Name:u,itab:l,rgce:f}}function wve(e,t,n){if(n.biff<8)return SCt(e,t,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)r.push(USt(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function SCt(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=eC(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function CCt(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),a=e.read_shift(2),i=Tg(e,r,n),o=Tg(e,a,n);return[i,o]}function TCt(e,t,n){var r=bve(e);e.l++;var a=e.read_shift(1);return t-=8,[aIt(e,t,n),a,r]}function Dj(e,t,n){var r=KSt(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,tIt(e,t,n)]}function kCt(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function ICt(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),s=e0(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:a},s,o,i]}}function ECt(e,t,n){return ICt(e,t,n)}function ACt(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(hN(e));return n}function DCt(e,t,n){if(n&&n.biff<8)return RCt(e,t,n);var r=xve(e),a=qSt(e,t-22,r[1]);return{cmo:r,ft:a}}var NCt={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=n,{fmt:r}}};function RCt(e,t,n){e.l+=4;var r=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((NCt[r]||So)(e,t,n)),{cmo:[a,r,i],ft:o}}function MCt(e,t,n){var r=e.l,a="";try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=PSt(e,6,n);var s=e.read_shift(2);e.read_shift(2),Pa(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-r!=e.lens[u])throw new Error("TxO: bad continue record");var c=e[e.l],f=Tg(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(c?s:2*s))break}if(a.length!==s&&a.length!==s*2)throw new Error("cchText: "+s+" != "+a.length);return e.l=r+t,{t:a}}catch{return e.l=r+t,{t:a}}}function $Ct(e,t){var n=hN(e);e.l+=16;var r=zSt(e,t-24);return[n,r]}function LCt(e,t){e.read_shift(2);var n=hN(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(qo,""),[n,r]}function OCt(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=bj[n]||n,n=e.read_shift(2),t[1]=bj[n]||n,t}function PCt(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(mve(e));return n}function FCt(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(mve(e));return n}function BCt(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function _ve(e,t,n){if(!n.cellStyles)return So(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function VCt(e,t){var n={};return t<32||(e.l+=16,n.header=go(e),n.footer=go(e),e.l+=2),n}function zCt(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var a=e.read_shift(1);return e.l+=3,a&16&&(r.area=!0),r}var WCt=nf,HCt=vve,UCt=tC;function GCt(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,a}function KCt(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=nf(e);++e.l;var a=e0(e,t-7,n);return r.t="str",r.val=a,r}function jCt(e){var t=nf(e);++e.l;var n=go(e);return t.t="n",t.val=n,t}function YCt(e){var t=nf(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function XCt(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function qCt(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function ZCt(e,t,n){var r=e.l+t,a=nf(e),i=e.read_shift(2),o=Tg(e,i,n);return e.l=r,a.t="str",a.val=o,a}var JCt=[2,3,48,49,131,139,140,245],Nj=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=d8({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(s,l){var u=[],c=Oh(1);switch(l.type){case"base64":c=cu(Xs(s));break;case"binary":c=cu(s);break;case"buffer":case"array":c=s;break}Li(c,0);var f=c.read_shift(1),d=!!(f&136),h=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=c.read_shift(2)),c.l+=3,f!=2&&(v=c.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=c.read_shift(2));var m=c.read_shift(2),y=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(y=e[c[c.l]]),c.l+=1,c.l+=2),p&&(c.l+=36);for(var b=[],x={},_=Math.min(c.length,f==2?521:g-10-(h?264:0)),S=p?32:11;c.l<_&&c[c.l]!=13;)switch(x={},x.name=Ew.utils.decode(y,c.slice(c.l,c.l+S)).replace(/[\u0000\r\n].*$/g,""),c.l+=S,x.type=String.fromCharCode(c.read_shift(1)),f!=2&&!p&&(x.offset=c.read_shift(4)),x.len=c.read_shift(1),f==2&&(x.offset=c.read_shift(2)),x.dec=c.read_shift(1),x.name.length&&b.push(x),f!=2&&(c.l+=p?13:14),x.type){case"B":(!h||x.len!=8)&&l.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+x.type)}if(c[c.l]!==13&&(c.l=g-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=g;var C=0,k=0;for(u[0]=[],k=0;k!=b.length;++k)u[0][k]=b[k].name;for(;v-- >0;){if(c[c.l]===42){c.l+=m;continue}for(++c.l,u[++C]=[],k=0,k=0;k!=b.length;++k){var T=c.slice(c.l,c.l+b[k].len);c.l+=b[k].len,Li(T,0);var I=Ew.utils.decode(y,T);switch(b[k].type){case"C":I.trim().length&&(u[C][k]=I.replace(/\s+$/,""));break;case"D":I.length===8?u[C][k]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):u[C][k]=I;break;case"F":u[C][k]=parseFloat(I.trim());break;case"+":case"I":u[C][k]=p?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":u[C][k]=!0;break;case"N":case"F":u[C][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[C][k]="##MEMO##"+(p?parseInt(I.trim(),10):T.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(u[C][k]=+I||0);break;case"@":u[C][k]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[C][k]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[C][k]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[C][k]=-T.read_shift(-8,"f");break;case"B":if(h&&b[k].len==8){u[C][k]=T.read_shift(8,"f");break}case"G":case"P":T.l+=b[k].len;break;case"0":if(b[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[k].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=b,u}function r(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=d1(n(s,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function a(s,l){try{return hp(r(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var u=l||{};if(+u.codepage>=0&&gu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=fF(),f=wF(s,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),p=s["!cols"]||[],v=0,g=0,m=0,y=1;for(v=0;v<d.length;++v){if(((p[v]||{}).DBF||{}).name){d[v]=p[v].DBF.name,++m;continue}if(d[v]!=null){if(++m,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(g=0;g<1024;++g)if(d.indexOf(d[v]+"_"+g)==-1){d[v]+="_"+g;break}}}}var b=_a(s["!ref"]),x=[],_=[],S=[];for(v=0;v<=b.e.c-b.s.c;++v){var C="",k="",T=0,I=[];for(g=0;g<h.length;++g)h[g][v]!=null&&I.push(h[g][v]);if(I.length==0||d[v]==null){x[v]="?";continue}for(g=0;g<I.length;++g){switch(typeof I[g]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=I[g]instanceof Date?"D":"C";break;default:k="C"}T=Math.max(T,String(I[g]).length),C=C&&C!=k?"C":k}T>250&&(T=250),k=((p[v]||{}).DBF||{}).type,k=="C"&&p[v].DBF.len>T&&(T=p[v].DBF.len),C=="B"&&k=="N"&&(C="N",S[v]=p[v].DBF.dec,T=p[v].DBF.len),_[v]=C=="C"||k=="N"?T:i[C]||0,y+=_[v],x[v]=C}var E=c.next(32);for(E.write_shift(4,318902576),E.write_shift(4,h.length),E.write_shift(2,296+32*m),E.write_shift(2,y),v=0;v<4;++v)E.write_shift(4,0);for(E.write_shift(4,0|(+t[wpe]||3)<<8),v=0,g=0;v<d.length;++v)if(d[v]!=null){var A=c.next(32),N=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,N,"sbcs"),A.write_shift(1,x[v]=="?"?"C":x[v],"sbcs"),A.write_shift(4,g),A.write_shift(1,_[v]||i[x[v]]||0),A.write_shift(1,S[v]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),g+=_[v]||i[x[v]]||0}var L=c.next(264);for(L.write_shift(4,13),v=0;v<65;++v)L.write_shift(4,0);for(v=0;v<h.length;++v){var R=c.next(y);for(R.write_shift(1,0),g=0;g<d.length;++g)if(d[g]!=null)switch(x[g]){case"L":R.write_shift(1,h[v][g]==null?63:h[v][g]?84:70);break;case"B":R.write_shift(8,h[v][g]||0,"f");break;case"N":var D="0";for(typeof h[v][g]=="number"&&(D=h[v][g].toFixed(S[g]||0)),m=0;m<_[g]-D.length;++m)R.write_shift(1,32);R.write_shift(1,D,"sbcs");break;case"D":h[v][g]?(R.write_shift(4,("0000"+h[v][g].getFullYear()).slice(-4),"sbcs"),R.write_shift(2,("00"+(h[v][g].getMonth()+1)).slice(-2),"sbcs"),R.write_shift(2,("00"+h[v][g].getDate()).slice(-2),"sbcs")):R.write_shift(8,"00000000","sbcs");break;case"C":var P=String(h[v][g]!=null?h[v][g]:"").slice(0,_[g]);for(R.write_shift(1,P,"sbcs"),m=0;m<_[g]-P.length;++m)R.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:a,to_sheet:r,from_sheet:o}}(),QCt=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Vc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(d,h){var p=e[h];return typeof p=="number"?jK(p):p},r=function(d,h,p){var v=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?d:jK(v)};e["|"]=254;function a(d,h){switch(h.type){case"base64":return i(Xs(d),h);case"binary":return i(d,h);case"buffer":return i(fr&&Buffer.isBuffer(d)?d.toString("binary"):qg(d),h);case"array":return i(Cg(d),h)}throw new Error("Unrecognized type "+h.type)}function i(d,h){var p=d.split(/[\n\r]+/),v=-1,g=-1,m=0,y=0,b=[],x=[],_=null,S={},C=[],k=[],T=[],I=0,E;for(+h.codepage>=0&&gu(+h.codepage);m!==p.length;++m){I=0;var A=p[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),N=A.replace(/;;/g,"\0").split(";").map(function(j){return j.replace(/\u0000/g,";")}),L=N[0],R;if(A.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&x.push(A.slice(3).replace(/;;/g,";"));break;case"C":var D=!1,P=!1,O=!1,M=!1,W=-1,U=-1;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"A":break;case"X":g=parseInt(N[y].slice(1))-1,P=!0;break;case"Y":for(v=parseInt(N[y].slice(1))-1,P||(g=0),E=b.length;E<=v;++E)b[E]=[];break;case"K":R=N[y].slice(1),R.charAt(0)==='"'?R=R.slice(1,R.length-1):R==="TRUE"?R=!0:R==="FALSE"?R=!1:isNaN(Tu(R))?isNaN(Sy(R).getDate())||(R=ki(R)):(R=Tu(R),_!==null&&c1(_)&&(R=dN(R))),D=!0;break;case"E":M=!0;var V=Lm(N[y].slice(1),{r:v,c:g});b[v][g]=[b[v][g],V];break;case"S":O=!0,b[v][g]=[b[v][g],"S5S"];break;case"G":break;case"R":W=parseInt(N[y].slice(1))-1;break;case"C":U=parseInt(N[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+A)}if(D&&(b[v][g]&&b[v][g].length==2?b[v][g][0]=R:b[v][g]=R,_=null),O){if(M)throw new Error("SYLK shared formula cannot have own formula");var H=W>-1&&b[W][U];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");b[v][g][1]=Rve(H[1],{r:v-W,c:g-U})}break;case"F":var K=0;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"X":g=parseInt(N[y].slice(1))-1,++K;break;case"Y":for(v=parseInt(N[y].slice(1))-1,E=b.length;E<=v;++E)b[E]=[];break;case"M":I=parseInt(N[y].slice(1))/20;break;case"F":break;case"G":break;case"P":_=x[parseInt(N[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=N[y].slice(1).split(" "),E=parseInt(T[0],10);E<=parseInt(T[1],10);++E)I=parseInt(T[2],10),k[E-1]=I===0?{hidden:!0}:{wch:I},Cy(k[E-1]);break;case"C":g=parseInt(N[y].slice(1))-1,k[g]||(k[g]={});break;case"R":v=parseInt(N[y].slice(1))-1,C[v]||(C[v]={}),I>0?(C[v].hpt=I,C[v].hpx=$w(I)):I===0&&(C[v].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+A)}K<1&&(_=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+A)}}return C.length>0&&(S["!rows"]=C),k.length>0&&(S["!cols"]=k),h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),[b,S]}function o(d,h){var p=a(d,h),v=p[0],g=p[1],m=d1(v,h);return Vc(g).forEach(function(y){m[y]=g[y]}),m}function s(d,h){return hp(o(d,h),h)}function l(d,h,p,v){var g="C;Y"+(p+1)+";X"+(v+1)+";K";switch(d.t){case"n":g+=d.v||0,d.f&&!d.F&&(g+=";E"+BTt(d.f,{r:p,c:v}));break;case"b":g+=d.v?"TRUE":"FALSE";break;case"e":g+=d.w||d.v;break;case"d":g+='"'+(d.w||d.v)+'"';break;case"s":g+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(d,h){h.forEach(function(p,v){var g="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=XI(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=qI(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&d.push(g)})}function c(d,h){h.forEach(function(p,v){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*Ave(p.hpx)+";"),g.length>2&&d.push(g+"R"+(v+1))})}function f(d,h){var p=["ID;PWXL;N;E"],v=[],g=_a(d["!ref"]),m,y=Array.isArray(d),b=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),d["!cols"]&&u(p,d["!cols"]),d["!rows"]&&c(p,d["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var x=g.s.r;x<=g.e.r;++x)for(var _=g.s.c;_<=g.e.c;++_){var S=$n({r:x,c:_});m=y?(d[x]||[])[_]:d[S],!(!m||m.v==null&&(!m.f||m.F))&&v.push(l(m,d,x,_))}return p.join(b)+b+v.join(b)+b+"E"+b}return{to_workbook:s,to_sheet:o,from_sheet:f}}(),e2t=function(){function e(i,o){switch(o.type){case"base64":return t(Xs(i),o);case"binary":return t(i,o);case"buffer":return t(fr&&Buffer.isBuffer(i)?i.toString("binary"):qg(i),o);case"array":return t(Cg(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var s=i.split(`
`),l=-1,u=-1,c=0,f=[];c!==s.length;++c){if(s[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var d=s[c].trim().split(","),h=d[0],p=d[1];++c;for(var v=s[c]||"";(v.match(/["]/g)||[]).length&1&&c<s.length-1;)v+=`
`+s[++c];switch(v=v.trim(),+h){case-1:if(v==="BOT"){f[++l]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][u]=!0:v==="FALSE"?f[l][u]=!1:isNaN(Tu(p))?isNaN(Sy(p).getDate())?f[l][u]=p:f[l][u]=ki(p):f[l][u]=Tu(p),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][u++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(i,o){return d1(e(i,o),o)}function r(i,o){return hp(n(i,o),o)}var a=function(){var i=function(l,u,c,f,d){l.push(u),l.push(c+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},o=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=_a(l["!ref"]),f,d=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,c.e.r-c.s.r+1,""),i(u,"TUPLES",0,c.e.c-c.s.c+1,""),i(u,"DATA",0,0,"");for(var h=c.s.r;h<=c.e.r;++h){o(u,-1,0,"BOT");for(var p=c.s.c;p<=c.e.c;++p){var v=$n({r:h,c:p});if(f=d?(l[h]||[])[p]:l[v],!f){o(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Fl(f.z||Pn[14],as(ki(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var m=`\r
`,y=u.join(m);return y}}();return{to_workbook:r,to_sheet:n,from_sheet:a}}(),t2t=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,d){for(var h=f.split(`
`),p=-1,v=-1,g=0,m=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var b=jo(y[1]);if(m.length<=b.r)for(p=m.length;p<=b.r;++p)m[p]||(m[p]=[]);switch(p=b.r,v=b.c,y[2]){case"t":m[p][v]=e(y[3]);break;case"v":m[p][v]=+y[3];break;case"vtf":var x=y[y.length-1];case"vtc":switch(y[3]){case"nl":m[p][v]=!!+y[4];break;default:m[p][v]=+y[4];break}y[2]=="vtf"&&(m[p][v]=[m[p][v],x])}}}return d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}function r(f,d){return d1(n(f,d),d)}function a(f,d){return hp(r(f,d),d)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],p,v="",g=f1(f["!ref"]),m=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var b=g.s.c;b<=g.e.c;++b)if(v=$n({r:y,c:b}),p=m?(f[y]||[])[b]:f[v],!(!p||p.v==null||p.t==="z")){switch(h=["cell",v,"t"],p.t){case"s":case"str":h.push(t(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=t(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var x=as(ki(p.v));h[2]="vtc",h[3]="nd",h[4]=""+x,h[5]=p.w||Fl(p.z||Pn[14],x);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function c(f){return[i,o,s,o,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:c}}(),Rw=function(){function e(c,f,d,h,p){p.raw?f[d][h]=c:c===""||(c==="TRUE"?f[d][h]=!0:c==="FALSE"?f[d][h]=!1:isNaN(Tu(c))?isNaN(Sy(c).getDate())?f[d][h]=c:f[d][h]=ki(c):f[d][h]=Tu(c))}function t(c,f){var d=f||{},h=[];if(!c||c.length===0)return h;for(var p=c.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var g=10,m=0,y=0;y<=v;++y)m=p[y].indexOf(" "),m==-1?m=p[y].length:m++,g=Math.max(g,m);for(y=0;y<=v;++y){h[y]=[];var b=0;for(e(p[y].slice(0,g).trim(),h,y,b,d),b=1;b<=(p[y].length-g)/10+1;++b)e(p[y].slice(g+(b-1)*10,g+b*10).trim(),h,y,b,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(c){for(var f={},d=!1,h=0,p=0;h<c.length;++h)(p=c.charCodeAt(h))==34?d=!d:!d&&p in n&&(f[p]=(f[p]||0)+1);p=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h]);if(!p.length){f=r;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&p.push([f[h],h])}return p.sort(function(v,g){return v[0]-g[0]||r[v[1]]-r[g[1]]}),n[p.pop()[1]]||44}function i(c,f){var d=f||{},h="",p=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(h=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(h=c.charAt(4),c=c.slice(6)):h=a(c.slice(0,1024)):d.FS?h=d.FS:h=a(c.slice(0,1024));var g=0,m=0,y=0,b=0,x=0,_=h.charCodeAt(0),S=!1,C=0,k=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var T=d.dateNF!=null?d_t(d.dateNF):null;function I(){var E=c.slice(b,x),A={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)A.t="z";else if(d.raw)A.t="s",A.v=E;else if(E.trim().length===0)A.t="s",A.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(A.t="s",A.v=E.slice(2,-1).replace(/""/g,'"')):zTt(E)?(A.t="n",A.f=E.slice(1)):(A.t="s",A.v=E);else if(E=="TRUE")A.t="b",A.v=!0;else if(E=="FALSE")A.t="b",A.v=!1;else if(!isNaN(y=Tu(E)))A.t="n",d.cellText!==!1&&(A.w=E),A.v=y;else if(!isNaN(Sy(E).getDate())||T&&E.match(T)){A.z=d.dateNF||Pn[14];var N=0;T&&E.match(T)&&(E=h_t(E,d.dateNF,E.match(T)||[]),N=1),d.cellDates?(A.t="d",A.v=ki(E,N)):(A.t="n",A.v=as(ki(E,N))),d.cellText!==!1&&(A.w=Fl(A.z,A.v instanceof Date?as(A.v):A.v)),d.cellNF||delete A.z}else A.t="s",A.v=E;if(A.t=="z"||(d.dense?(p[g]||(p[g]=[]),p[g][m]=A):p[$n({c:m,r:g})]=A),b=x+1,k=c.charCodeAt(b),v.e.c<m&&(v.e.c=m),v.e.r<g&&(v.e.r=g),C==_)++m;else if(m=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;x<c.length;++x)switch(C=c.charCodeAt(x)){case 34:k===34&&(S=!S);break;case _:case 10:case 13:if(!S&&I())break e;break}return x-b>0&&I(),p["!ref"]=br(v),p}function o(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?i(c,f):d1(t(c,f),f)}function s(c,f){var d="",h=f.type=="string"?[0,0,0,0]:N8(c,f);switch(f.type){case"base64":d=Xs(c);break;case"binary":d=c;break;case"buffer":f.codepage==65001?d=c.toString("utf8"):f.codepage&&typeof Ew<"u"||(d=fr&&Buffer.isBuffer(c)?c.toString("binary"):qg(c));break;case"array":d=Cg(c);break;case"string":d=c;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=ea(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=ea(d):f.type=="binary"&&typeof Ew<"u",d.slice(0,19)=="socialcalc:version:"?t2t.to_sheet(f.type=="string"?d:ea(d),f):o(d,f)}function l(c,f){return hp(s(c,f),f)}function u(c){for(var f=[],d=_a(c["!ref"]),h,p=Array.isArray(c),v=d.s.r;v<=d.e.r;++v){for(var g=[],m=d.s.c;m<=d.e.c;++m){var y=$n({r:v,c:m});if(h=p?(c[v]||[])[m]:c[y],!h||h.v==null){g.push("          ");continue}for(var b=(h.w||(jf(h),h.w)||"").slice(0,10);b.length<10;)b+=" ";g.push(b+(m===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:u}}();function n2t(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var a=QCt.to_workbook(e,n);return n.WTF=r,a}catch(i){if(n.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return Rw.to_workbook(e,t)}}var vx=function(){function e(V,H,K){if(V){Li(V,V.l||0);for(var j=K.Enum||W;V.l<V.length;){var ne=V.read_shift(2),Q=j[ne]||j[65535],oe=V.read_shift(2),ae=V.l+oe,me=Q.f&&Q.f(V,oe,K);if(V.l=ae,H(me,Q,ne))return}}}function t(V,H){switch(H.type){case"base64":return n(cu(Xs(V)),H);case"binary":return n(cu(V),H);case"buffer":case"array":return n(V,H)}throw"Unsupported type "+H.type}function n(V,H){if(!V)return V;var K=H||{},j=K.dense?[]:{},ne="Sheet1",Q="",oe=0,ae={},me=[],ve=[],B={s:{r:0,c:0},e:{r:0,c:0}},re=K.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)K.Enum=W,e(V,function(he,J,te){switch(te){case 0:K.vers=he,he>=4096&&(K.qpro=!0);break;case 6:B=he;break;case 204:he&&(Q=he);break;case 222:Q=he;break;case 15:case 51:K.qpro||(he[1].v=he[1].v.slice(1));case 13:case 14:case 16:te==14&&(he[2]&112)==112&&(he[2]&15)>1&&(he[2]&15)<15&&(he[1].z=K.dateNF||Pn[14],K.cellDates&&(he[1].t="d",he[1].v=dN(he[1].v))),K.qpro&&he[3]>oe&&(j["!ref"]=br(B),ae[ne]=j,me.push(ne),j=K.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},oe=he[3],ne=Q||"Sheet"+(oe+1),Q="");var xe=K.dense?(j[he[0].r]||[])[he[0].c]:j[$n(he[0])];if(xe){xe.t=he[1].t,xe.v=he[1].v,he[1].z!=null&&(xe.z=he[1].z),he[1].f!=null&&(xe.f=he[1].f);break}K.dense?(j[he[0].r]||(j[he[0].r]=[]),j[he[0].r][he[0].c]=he[1]):j[$n(he[0])]=he[1];break}},K);else if(V[2]==26||V[2]==14)K.Enum=U,V[2]==14&&(K.qpro=!0,V.l=0),e(V,function(he,J,te){switch(te){case 204:ne=he;break;case 22:he[1].v=he[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(he[3]>oe&&(j["!ref"]=br(B),ae[ne]=j,me.push(ne),j=K.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},oe=he[3],ne="Sheet"+(oe+1)),re>0&&he[0].r>=re)break;K.dense?(j[he[0].r]||(j[he[0].r]=[]),j[he[0].r][he[0].c]=he[1]):j[$n(he[0])]=he[1],B.e.c<he[0].c&&(B.e.c=he[0].c),B.e.r<he[0].r&&(B.e.r=he[0].r);break;case 27:he[14e3]&&(ve[he[14e3][0]]=he[14e3][1]);break;case 1537:ve[he[0]]=he[1],he[0]==oe&&(ne=he[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(j["!ref"]=br(B),ae[Q||ne]=j,me.push(Q||ne),!ve.length)return{SheetNames:me,Sheets:ae};for(var ge={},Ie=[],Ce=0;Ce<ve.length;++Ce)ae[me[Ce]]?(Ie.push(ve[Ce]||me[Ce]),ge[ve[Ce]]=ae[ve[Ce]]||ae[me[Ce]]):(Ie.push(ve[Ce]),ge[ve[Ce]]={"!ref":"A1"});return{SheetNames:Ie,Sheets:ge}}function r(V,H){var K=H||{};if(+K.codepage>=0&&gu(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var j=fF(),ne=_a(V["!ref"]),Q=Array.isArray(V),oe=[];Zl(j,0,i(1030)),Zl(j,6,l(ne));for(var ae=Math.min(ne.e.r,8191),me=ne.s.r;me<=ae;++me)for(var ve=zi(me),B=ne.s.c;B<=ne.e.c;++B){me===ne.s.r&&(oe[B]=ai(B));var re=oe[B]+ve,ge=Q?(V[me]||[])[B]:V[re];if(!(!ge||ge.t=="z"))if(ge.t=="n")(ge.v|0)==ge.v&&ge.v>=-32768&&ge.v<=32767?Zl(j,13,h(me,B,ge.v)):Zl(j,14,v(me,B,ge.v));else{var Ie=jf(ge);Zl(j,15,f(me,B,Ie.slice(0,239)))}}return Zl(j,1),j.end()}function a(V,H){var K=H||{};if(+K.codepage>=0&&gu(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var j=fF();Zl(j,0,o(V));for(var ne=0,Q=0;ne<V.SheetNames.length;++ne)(V.Sheets[V.SheetNames[ne]]||{})["!ref"]&&Zl(j,27,M(V.SheetNames[ne],Q++));var oe=0;for(ne=0;ne<V.SheetNames.length;++ne){var ae=V.Sheets[V.SheetNames[ne]];if(!(!ae||!ae["!ref"])){for(var me=_a(ae["!ref"]),ve=Array.isArray(ae),B=[],re=Math.min(me.e.r,8191),ge=me.s.r;ge<=re;++ge)for(var Ie=zi(ge),Ce=me.s.c;Ce<=me.e.c;++Ce){ge===me.s.r&&(B[Ce]=ai(Ce));var he=B[Ce]+Ie,J=ve?(ae[ge]||[])[Ce]:ae[he];if(!(!J||J.t=="z"))if(J.t=="n")Zl(j,23,I(ge,Ce,oe,J.v));else{var te=jf(J);Zl(j,22,C(ge,Ce,oe,te.slice(0,239)))}}++oe}}return Zl(j,1),j.end()}function i(V){var H=Za(2);return H.write_shift(2,V),H}function o(V){var H=Za(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var K=0,j=0,ne=0,Q=0;Q<V.SheetNames.length;++Q){var oe=V.SheetNames[Q],ae=V.Sheets[oe];if(!(!ae||!ae["!ref"])){++ne;var me=f1(ae["!ref"]);K<me.e.r&&(K=me.e.r),j<me.e.c&&(j=me.e.c)}}return K>8191&&(K=8191),H.write_shift(2,K),H.write_shift(1,ne),H.write_shift(1,j),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function s(V,H,K){var j={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&K.qpro?(j.s.c=V.read_shift(1),V.l++,j.s.r=V.read_shift(2),j.e.c=V.read_shift(1),V.l++,j.e.r=V.read_shift(2),j):(j.s.c=V.read_shift(2),j.s.r=V.read_shift(2),H==12&&K.qpro&&(V.l+=2),j.e.c=V.read_shift(2),j.e.r=V.read_shift(2),H==12&&K.qpro&&(V.l+=2),j.s.c==65535&&(j.s.c=j.e.c=j.s.r=j.e.r=0),j)}function l(V){var H=Za(8);return H.write_shift(2,V.s.c),H.write_shift(2,V.s.r),H.write_shift(2,V.e.c),H.write_shift(2,V.e.r),H}function u(V,H,K){var j=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(j[0].c=V.read_shift(1),j[3]=V.read_shift(1),j[0].r=V.read_shift(2),V.l+=2):(j[2]=V.read_shift(1),j[0].c=V.read_shift(2),j[0].r=V.read_shift(2)),j}function c(V,H,K){var j=V.l+H,ne=u(V,H,K);if(ne[1].t="s",K.vers==20768){V.l++;var Q=V.read_shift(1);return ne[1].v=V.read_shift(Q,"utf8"),ne}return K.qpro&&V.l++,ne[1].v=V.read_shift(j-V.l,"cstr"),ne}function f(V,H,K){var j=Za(7+K.length);j.write_shift(1,255),j.write_shift(2,H),j.write_shift(2,V),j.write_shift(1,39);for(var ne=0;ne<j.length;++ne){var Q=K.charCodeAt(ne);j.write_shift(1,Q>=128?95:Q)}return j.write_shift(1,0),j}function d(V,H,K){var j=u(V,H,K);return j[1].v=V.read_shift(2,"i"),j}function h(V,H,K){var j=Za(7);return j.write_shift(1,255),j.write_shift(2,H),j.write_shift(2,V),j.write_shift(2,K,"i"),j}function p(V,H,K){var j=u(V,H,K);return j[1].v=V.read_shift(8,"f"),j}function v(V,H,K){var j=Za(13);return j.write_shift(1,255),j.write_shift(2,H),j.write_shift(2,V),j.write_shift(8,K,"f"),j}function g(V,H,K){var j=V.l+H,ne=u(V,H,K);if(ne[1].v=V.read_shift(8,"f"),K.qpro)V.l=j;else{var Q=V.read_shift(2);x(V.slice(V.l,V.l+Q),ne),V.l+=Q}return ne}function m(V,H,K){var j=H&32768;return H&=-32769,H=(j?V:0)+(H>=8192?H-16384:H),(j?"":"$")+(K?ai(H):zi(H))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function x(V,H){Li(V,0);for(var K=[],j=0,ne="",Q="",oe="",ae="";V.l<V.length;){var me=V[V.l++];switch(me){case 0:K.push(V.read_shift(8,"f"));break;case 1:Q=m(H[0].c,V.read_shift(2),!0),ne=m(H[0].r,V.read_shift(2),!1),K.push(Q+ne);break;case 2:{var ve=m(H[0].c,V.read_shift(2),!0),B=m(H[0].r,V.read_shift(2),!1);Q=m(H[0].c,V.read_shift(2),!0),ne=m(H[0].r,V.read_shift(2),!1),K.push(ve+B+":"+Q+ne)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(V.read_shift(2));break;case 6:{for(var re="";me=V[V.l++];)re+=String.fromCharCode(me);K.push('"'+re.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ae=K.pop(),oe=K.pop(),K.push(["AND","OR"][me-20]+"("+oe+","+ae+")");break;default:if(me<32&&b[me])ae=K.pop(),oe=K.pop(),K.push(oe+b[me]+ae);else if(y[me]){if(j=y[me][1],j==69&&(j=V[V.l++]),j>K.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+K.join("|")+"|");return}var ge=K.slice(-j);K.length-=j,K.push(y[me][0]+"("+ge.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}K.length==1?H[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function _(V){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=V.read_shift(2),H[3]=V[V.l++],H[0].c=V[V.l++],H}function S(V,H){var K=_(V);return K[1].t="s",K[1].v=V.read_shift(H-4,"cstr"),K}function C(V,H,K,j){var ne=Za(6+j.length);ne.write_shift(2,V),ne.write_shift(1,K),ne.write_shift(1,H),ne.write_shift(1,39);for(var Q=0;Q<j.length;++Q){var oe=j.charCodeAt(Q);ne.write_shift(1,oe>=128?95:oe)}return ne.write_shift(1,0),ne}function k(V,H){var K=_(V);K[1].v=V.read_shift(2);var j=K[1].v>>1;if(K[1].v&1)switch(j&7){case 0:j=(j>>3)*5e3;break;case 1:j=(j>>3)*500;break;case 2:j=(j>>3)/20;break;case 3:j=(j>>3)/200;break;case 4:j=(j>>3)/2e3;break;case 5:j=(j>>3)/2e4;break;case 6:j=(j>>3)/16;break;case 7:j=(j>>3)/64;break}return K[1].v=j,K}function T(V,H){var K=_(V),j=V.read_shift(4),ne=V.read_shift(4),Q=V.read_shift(2);if(Q==65535)return j===0&&ne===3221225472?(K[1].t="e",K[1].v=15):j===0&&ne===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var oe=Q&32768;return Q=(Q&32767)-16446,K[1].v=(1-oe*2)*(ne*Math.pow(2,Q+32)+j*Math.pow(2,Q)),K}function I(V,H,K,j){var ne=Za(14);if(ne.write_shift(2,V),ne.write_shift(1,K),ne.write_shift(1,H),j==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var Q=0,oe=0,ae=0,me=0;return j<0&&(Q=1,j=-j),oe=Math.log2(j)|0,j/=Math.pow(2,oe-31),me=j>>>0,me&2147483648||(j/=2,++oe,me=j>>>0),j-=me,me|=2147483648,me>>>=0,j*=Math.pow(2,32),ae=j>>>0,ne.write_shift(4,ae),ne.write_shift(4,me),oe+=16383+(Q?32768:0),ne.write_shift(2,oe),ne}function E(V,H){var K=T(V);return V.l+=H-14,K}function A(V,H){var K=_(V),j=V.read_shift(4);return K[1].v=j>>6,K}function N(V,H){var K=_(V),j=V.read_shift(8,"f");return K[1].v=j,K}function L(V,H){var K=N(V);return V.l+=H-10,K}function R(V,H){return V[V.l+H-1]==0?V.read_shift(H,"cstr"):""}function D(V,H){var K=V[V.l++];K>H-1&&(K=H-1);for(var j="";j.length<K;)j+=String.fromCharCode(V[V.l++]);return j}function P(V,H,K){if(!(!K.qpro||H<21)){var j=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var ne=V.read_shift(H-21,"cstr");return[j,ne]}}function O(V,H){for(var K={},j=V.l+H;V.l<j;){var ne=V.read_shift(2);if(ne==14e3){for(K[ne]=[0,""],K[ne][0]=V.read_shift(2);V[V.l];)K[ne][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return K}function M(V,H){var K=Za(5+V.length);K.write_shift(2,14e3),K.write_shift(2,H);for(var j=0;j<V.length;++j){var ne=V.charCodeAt(j);K[K.l++]=ne>127?95:ne}return K[K.l++]=0,K}var W={0:{n:"BOF",f:Pa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:R},222:{n:"SHEETNAMELP",f:D},65535:{n:""}},U={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:O},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:R},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}}();function r2t(e){var t={},n=e.match(Io),r=0,a=!1;if(n)for(;r!=n.length;++r){var i=In(n[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=s8[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var a2t=function(){var e=Dw("t"),t=Dw("rPr");function n(i){var o=i.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:Sr(o[1])},l=i.match(t);return l&&(s.s=r2t(l[1])),s}var r=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(a).map(n).filter(function(s){return s.v})}}(),i2t=function(){var t=/(\r\n|\n)/g;function n(a,i,o){var s=[];a.u&&s.push("text-decoration: underline;"),a.uval&&s.push("text-underline-style:"+a.uval+";"),a.sz&&s.push("font-size:"+a.sz+"pt;"),a.outline&&s.push("text-effect: outline;"),a.shadow&&s.push("text-shadow: auto;"),i.push('<span style="'+s.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),a}function r(a){var i=[[],a.v,[]];return a.v?(a.s&&n(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}}(),o2t=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,s2t=/<(?:\w+:)?r>/,l2t=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function C8(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Sr(ea(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=ea(e),n&&(r.h=p8(r.t))):e.match(s2t)&&(r.r=ea(e),r.t=Sr(ea((e.replace(l2t,"").match(o2t)||[]).join("").replace(Io,""))),n&&(r.h=i2t(a2t(r.r)))),r):{t:""}}var u2t=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,c2t=/<(?:\w+:)?(?:si|sstItem)>/g,f2t=/<\/(?:\w+:)?(?:si|sstItem)>/;function d2t(e,t){var n=[],r="";if(!e)return n;var a=e.match(u2t);if(a){r=a[2].replace(c2t,"").split(f2t);for(var i=0;i!=r.length;++i){var o=C8(r[i].trim(),t);o!=null&&(n[n.length]=o)}a=In(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n}function h2t(e){return[e.read_shift(4),e.read_shift(4)]}function p2t(e,t){var n=[],r=!1;return dd(e,function(i,o,s){switch(s){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}function Sve(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Mf(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function v2t(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Mf(e,4),t.U=Mf(e,4),t.W=Mf(e,4),t}function g2t(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=i,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function m2t(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(g2t(e));return t}function y2t(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function b2t(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Mf(e,4),t.U=Mf(e,4),t.W=Mf(e,4),t}function x2t(e){var t=b2t(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Cve(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var a=!1;switch(r.AlgID){case 26126:case 26127:case 26128:a=r.Flags==36;break;case 26625:a=r.Flags==4;break;case 0:a=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function Tve(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function w2t(e){var t=Mf(e);switch(t.Minor){case 2:return[t.Minor,_2t(e)];case 3:return[t.Minor,S2t()];case 4:return[t.Minor,C2t(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function _2t(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=Cve(e,n),a=Tve(e,e.length-e.l);return{t:"Std",h:r,v:a}}function S2t(){throw new Error("File is password-protected: ECMA-376 Extensible")}function C2t(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Io,function(i){var o=In(i);switch(tf(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){r[s]=o[s]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function T2t(e,t){var n={},r=n.EncryptionVersionInfo=Mf(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,n.EncryptionHeader=Cve(e,a),t-=a,n.EncryptionVerifier=Tve(e,t),n}function k2t(e){var t={},n=t.EncryptionVersionInfo=Mf(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function I2t(e){var t=0,n,r=Sve(e),a=r.length+1,i,o,s,l,u;for(n=Oh(a),n[0]=r.length,i=1;i!=a;++i)n[i]=r[i-1];for(i=a-1;i>=0;--i)o=n[i],s=t&16384?1:0,l=t<<1&32767,u=s|l,t=u^o;return t^52811}var kve=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},a=function(o,s){return r(o^s)},i=function(o){for(var s=t[o.length-1],l=104,u=o.length-1;u>=0;--u)for(var c=o[u],f=0;f!=7;++f)c&64&&(s^=n[l]),c*=2,--l;return s};return function(o){for(var s=Sve(o),l=i(s),u=s.length,c=Oh(16),f=0;f!=16;++f)c[f]=0;var d,h,p;for((u&1)===1&&(d=l>>8,c[u]=a(e[0],d),--u,d=l&255,h=s[s.length-1],c[u]=a(h,d));u>0;)--u,d=l>>8,c[u]=a(s[u],d),--u,d=l&255,c[u]=a(s[u],d);for(u=15,p=15-s.length;p>0;)d=l>>8,c[u]=a(e[p],d),--u,--p,d=l&255,c[u]=a(s[u],d),--u,--p;return c}}(),E2t=function(e,t,n,r,a){a||(a=t),r||(r=kve(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=r[n],o=(o>>5|o<<3)&255,a[i]=o,++n;return[a,n,r]},A2t=function(e){var t=0,n=kve(e);return function(r){var a=E2t("",r,t,n);return t=a[1],a[0]}};function D2t(e,t,n,r){var a={key:Pa(e),verificationBytes:Pa(e)};return n.password&&(a.verifier=I2t(n.password)),r.valid=a.verificationBytes===a.verifier,r.valid&&(r.insitu=A2t(n.password)),a}function N2t(e,t,n){var r=n;return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=k2t(e):r.Data=T2t(e,t),r}function R2t(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?N2t(e,t-2,r):D2t(e,n.biff>=8?t:t-2,n,r),r}var M2t=function(){function e(a,i){switch(i.type){case"base64":return t(Xs(a),i);case"binary":return t(a,i);case"buffer":return t(fr&&Buffer.isBuffer(a)?a.toString("binary"):qg(a),i);case"array":return t(Cg(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},s=o.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(s)&&(s[f]=[]);for(var d=/\\\w+\b/g,h=0,p,v=-1;p=d.exec(c);){switch(p[0]){case"\\cell":var g=c.slice(h,d.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var m={v:g,t:"s"};Array.isArray(s)?s[f][v]=m:s[$n({r:f,c:v})]=m}break}h=d.lastIndex}v>u.e.c&&(u.e.c=v)}),s["!ref"]=br(u),s}function n(a,i){return hp(e(a,i),i)}function r(a){for(var i=["{\\rtf1\\ansi"],o=_a(a["!ref"]),s,l=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var c=o.s.c;c<=o.e.c;++c)i.push("\\cellx"+(c+1));for(i.push("\\pard\\intbl"),c=o.s.c;c<=o.e.c;++c){var f=$n({r:u,c});s=l?(a[u]||[])[c]:a[f],!(!s||s.v==null&&(!s.f||s.F))&&(i.push(" "+(s.w||(jf(s),s.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function $2t(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Mw(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function L2t(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(t,n,r),i=Math.min(t,n,r),o=a-i;if(o===0)return[0,0,t];var s=0,l=0,u=a+i;switch(l=o/(u>1?2-u:u),a){case t:s=((n-r)/o+6)%6;break;case n:s=(r-t)/o+2;break;case r:s=(t-n)/o+4;break}return[s/6,l,u/2]}function O2t(e){var t=e[0],n=e[1],r=e[2],a=n*2*(r<.5?r:1-r),i=r-a/2,o=[i,i,i],s=6*t,l;if(n!==0)switch(s|0){case 0:case 6:l=a*s,o[0]+=a,o[1]+=l;break;case 1:l=a*(2-s),o[0]+=l,o[1]+=a;break;case 2:l=a*(s-2),o[1]+=a,o[2]+=l;break;case 3:l=a*(4-s),o[1]+=l,o[2]+=a;break;case 4:l=a*(s-4),o[2]+=a,o[0]+=l;break;case 5:l=a*(6-s),o[2]+=l,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function YI(e,t){if(t===0)return e;var n=L2t($2t(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Mw(O2t(n))}var Ive=6,P2t=15,F2t=1,Ho=Ive;function XI(e){return Math.floor((e+Math.round(128/Ho)/256)*Ho)}function qI(e){return Math.floor((e-5)/Ho*100+.5)/100}function vF(e){return Math.round((e*Ho+5)/Ho*256)/256}function bM(e){return vF(qI(XI(e)))}function T8(e){var t=Math.abs(e-bM(e)),n=Ho;if(t>.005)for(Ho=F2t;Ho<P2t;++Ho)Math.abs(e-bM(e))<=t&&(t=Math.abs(e-bM(e)),n=Ho);Ho=n}function Cy(e){e.width?(e.wpx=XI(e.width),e.wch=qI(e.wpx),e.MDW=Ho):e.wpx?(e.wch=qI(e.wpx),e.width=vF(e.wch),e.MDW=Ho):typeof e.wch=="number"&&(e.width=vF(e.wch),e.wpx=XI(e.width),e.MDW=Ho),e.customWidth&&delete e.customWidth}var B2t=96,Eve=B2t;function Ave(e){return e*96/Eve}function $w(e){return e*Eve/96}var V2t={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function z2t(e,t,n,r){t.Borders=[];var a={},i=!1;(e[0].match(Io)||[]).forEach(function(o){var s=In(o);switch(tf(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},s.diagonalUp&&(a.diagonalUp=ua(s.diagonalUp)),s.diagonalDown&&(a.diagonalDown=ua(s.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in borders")}})}function W2t(e,t,n,r){t.Fills=[];var a={},i=!1;(e[0].match(Io)||[]).forEach(function(o){var s=In(o);switch(tf(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":s.patternType&&(a.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),s.indexed&&(a.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(a.bgColor.theme=parseInt(s.theme,10)),s.tint&&(a.bgColor.tint=parseFloat(s.tint)),s.rgb&&(a.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),s.theme&&(a.fgColor.theme=parseInt(s.theme,10)),s.tint&&(a.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(a.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fills")}})}function H2t(e,t,n,r){t.Fonts=[];var a={},i=!1;(e[0].match(Io)||[]).forEach(function(o){var s=In(o);switch(tf(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":s.val&&(a.name=ea(s.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=s.val?ua(s.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=s.val?ua(s.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(s.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=s.val?ua(s.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=s.val?ua(s.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=s.val?ua(s.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=s.val?ua(s.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=s.val?ua(s.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":s.val&&(a.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(a.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(a.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(a.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=s8[parseInt(s.val,10)];break;case"<color":if(a.color||(a.color={}),s.auto&&(a.color.auto=ua(s.auto)),s.rgb)a.color.rgb=s.rgb.slice(-6);else if(s.indexed){a.color.index=parseInt(s.indexed,10);var l=Wv[a.color.index];a.color.index==81&&(l=Wv[1]),l||(l=Wv[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else s.theme&&(a.color.theme=parseInt(s.theme,10),s.tint&&(a.color.tint=parseFloat(s.tint)),s.theme&&n.themeElements&&n.themeElements.clrScheme&&(a.color.rgb=YI(n.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in fonts")}})}function U2t(e,t,n){t.NumberFmt=[];for(var r=Vc(Pn),a=0;a<r.length;++a)t.NumberFmt[r[a]]=Pn[r[a]];var i=e[0].match(Io);if(i)for(a=0;a<i.length;++a){var o=In(i[a]);switch(tf(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=Sr(ea(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=s,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=s}zv(s,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var b2=["numFmtId","fillId","fontId","borderId","xfId"],x2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function G2t(e,t,n){t.CellXf=[];var r,a=!1;(e[0].match(Io)||[]).forEach(function(i){var o=In(i),s=0;switch(tf(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],s=0;s<b2.length;++s)r[b2[s]]&&(r[b2[s]]=parseInt(r[b2[s]],10));for(s=0;s<x2.length;++s)r[x2[s]]&&(r[x2[s]]=ua(r[x2[s]]));if(t.NumberFmt&&r.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[s]){r.numFmtId=s;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=ua(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var K2t=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,l,u){var c={};if(!s)return c;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&U2t(f,c,u),(f=s.match(a))&&H2t(f,c,l,u),(f=s.match(r))&&W2t(f,c,l,u),(f=s.match(i))&&z2t(f,c,l,u),(f=s.match(n))&&G2t(f,c,u),c}}();function j2t(e,t){var n=e.read_shift(2),r=wo(e);return[n,r]}function Y2t(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=aSt(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var i=e.read_shift(2);switch(i===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var s=e.read_shift(1);s>0&&(r.family=s);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=rSt(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=wo(e),r}var X2t=So;function q2t(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}var Z2t=So;function J2t(e,t,n){var r={};r.NumberFmt=[];for(var a in Pn)r.NumberFmt[a]=Pn[a];r.CellXf=[],r.Fonts=[];var i=[],o=!1;return dd(e,function(l,u,c){switch(c){case 44:r.NumberFmt[l[0]]=l[1],zv(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=YI(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(c),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(c);else if(u.T<0)i.pop();else if(!o||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}var Q2t=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function eTt(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Io)||[]).forEach(function(a){var i=In(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Q2t.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function tTt(){}function nTt(){}var rTt=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,aTt=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,iTt=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function oTt(e,t,n){t.themeElements={};var r;[["clrScheme",rTt,eTt],["fontScheme",aTt,tTt],["fmtScheme",iTt,nTt]].forEach(function(a){if(!(r=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](r,t,n)})}var sTt=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Dve(e,t){(!e||e.length===0)&&(e=lTt());var n,r={};if(!(n=e.match(sTt)))throw new Error("themeElements not found in theme");return oTt(n[0],r,t),r.raw=e,r}function lTt(e,t){var n=[zpe];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function uTt(e,t,n){var r=e.l+t,a=e.read_shift(4);if(a!==124226){if(!n.cellStyles){e.l=r;return}var i=e.slice(e.l);e.l=r;var o;try{o=Vpe(i,{type:"array"})}catch{return}var s=Ls(o,"theme/theme/theme1.xml",!0);if(s)return Dve(s,n)}}function cTt(e){return e.read_shift(4)}function fTt(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=dTt(e,4);break;case 2:t.xclrValue=gve(e);break;case 3:t.xclrValue=cTt(e);break;case 4:e.l+=4;break}return e.l+=8,t}function dTt(e,t){return So(e,t)}function hTt(e,t){return So(e,t)}function pTt(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=fTt(e);break;case 6:r[1]=hTt(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function vTt(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(pTt(e,n-e.l));return{ixfe:r,ext:i}}function gTt(e,t){t.forEach(function(n){switch(n[0]){}})}function mTt(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:wo(e)}}function yTt(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function bTt(e){return e.l+=4,e.read_shift(4)!=0}function xTt(e,t,n){var r={Types:[],Cell:[],Value:[]},a=n||{},i=[],o=!1,s=2;return dd(e,function(l,u,c){switch(c){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){s==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):s==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:s=l?1:0;break;case 338:s=2;break;case 35:i.push(c),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function wTt(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var a=!1,i=2,o;return e.replace(Io,function(s){var l=In(s);switch(tf(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==l.name&&(o=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):i==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!a&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return s}),r}function _Tt(e){var t=[];if(!e)return t;var n=1;return(e.match(Io)||[]).forEach(function(r){var a=In(r);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?n=a.i:a.i=n,t.push(a);break}}),t}function STt(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=$n(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function CTt(e,t,n){var r=[];return dd(e,function(i,o,s){switch(s){case 63:r.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function TTt(e,t,n,r){if(!e)return e;var a=r||{},i=!1;dd(e,function(s,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function kTt(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function Rj(e,t,n,r){var a=Array.isArray(e),i;t.forEach(function(o){var s=jo(o.ref);if(a?(e[s.r]||(e[s.r]=[]),i=e[s.r][s.c]):i=e[o.ref],!i){i={t:"z"},a?e[s.r][s.c]=i:e[o.ref]=i;var l=_a(e["!ref"]||"BDWGO1000001:A1");l.s.r>s.r&&(l.s.r=s.r),l.e.r<s.r&&(l.e.r=s.r),l.s.c>s.c&&(l.s.c=s.c),l.e.c<s.c&&(l.e.c=s.c);var u=br(l);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var c={a:o.author,t:o.t,r:o.r,T:n};o.h&&(c.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!n&&i.c[f].T)return;n&&!i.c[f].T&&i.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(c.a==r[f].id){c.a=r[f].name||c.a;break}}i.c.push(c)})}function ITt(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&n.push(s[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var l=In(s[0]),u={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=jo(l.ref);if(!(t.sheetRows&&t.sheetRows<=c.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&C8(f[1])||{r:"",t:"",h:""};u.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),u.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=d.h),r.push(u)}}}}),r}function ETt(e,t){var n=[],r=!1,a={},i=0;return e.replace(Io,function(s,l){var u=In(s);switch(tf(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&n.push(a);break;case"<text>":case"<text":i=l+s.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return s}),n}function ATt(e,t){var n=[],r=!1;return e.replace(Io,function(i){var o=In(i);switch(tf(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),n}function DTt(e){var t={};t.iauthor=e.read_shift(4);var n=Jg(e);return t.rfx=n.s,t.ref=$n(n.s),e.l+=16,t}var NTt=wo;function RTt(e,t){var n=[],r=[],a={},i=!1;return dd(e,function(s,l,u){switch(u){case 632:r.push(s);break;case 635:a=s;break;case 637:a.t=s.t,a.h=s.h,a.r=s.r;break;case 636:if(a.author=r[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,n.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}var MTt="application/vnd.ms-office.vbaProject";function $Tt(e){var t=yr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var a=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");yr.utils.cfb_add(t,a,e.FileIndex[r].content)}}),yr.write(t)}function LTt(){return{"!type":"dialog"}}function OTt(){return{"!type":"dialog"}}function PTt(){return{"!type":"macro"}}function FTt(){return{"!type":"macro"}}var Lm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,i,o){var s=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,c=o.length>0?parseInt(o,10)|0:0;return s?c+=t.c:--c,l?u+=t.r:--u,a+(s?"":"$")+ai(c)+(l?"":"$")+zi(u)}return function(a,i){return t=i,a.replace(e,n)}}(),Nve=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,BTt=function(){return function(t,n){return t.replace(Nve,function(r,a,i,o,s,l){var u=y8(o)-(i?0:n.c),c=m8(l)-(s?0:n.r),f=c==0?"":s?c+1:"["+c+"]",d=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+d})}}();function Rve(e,t){return e.replace(Nve,function(n,r,a,i,o,s){return r+(a=="$"?a+i:ai(y8(i)+t.c))+(o=="$"?o+s:zi(m8(s)+t.r))})}function VTt(e,t,n){var r=f1(t),a=r.s,i=jo(n),o={r:i.r-a.r,c:i.c-a.c};return Rve(e,o)}function zTt(e){return e.length!=1}function Mj(e){return e.replace(/_xlfn\./g,"")}function La(e){e.l+=1}function Ph(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function Mve(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return $ve(e);n.biff==12&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=Ph(e),s=Ph(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function $ve(e){var t=Ph(e),n=Ph(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function WTt(e,t,n){if(n.biff<8)return $ve(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),i=Ph(e),o=Ph(e);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Lve(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return HTt(e);var r=e.read_shift(n&&n.biff==12?4:2),a=Ph(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function HTt(e){var t=Ph(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function UTt(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function GTt(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return KTt(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,s=(i&32768)>>15;if(i&=16383,s==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:s}}function KTt(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function jTt(e,t,n){var r=(e[e.l++]&96)>>5,a=Mve(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function YTt(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Mve(e,i,n);return[r,a,o]}function XTt(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function qTt(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[r,a]}function ZTt(e,t,n){var r=(e[e.l++]&96)>>5,a=WTt(e,t-1,n);return[r,a]}function JTt(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function $j(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function QTt(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function ekt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function tkt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function nkt(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function rkt(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function Ove(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function akt(e){return e.read_shift(2),Ove(e)}function ikt(e){return e.read_shift(2),Ove(e)}function okt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=Lve(e,0,n);return[r,a]}function skt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=GTt(e,0,n);return[r,a]}function lkt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=Lve(e,0,n);return[r,a,i]}function ukt(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[cIt[a],Bve[a],r]}function ckt(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:fkt(e);return[a,(i[0]===0?Bve:uIt)[i[1]]]}function fkt(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function dkt(e,t,n){e.l+=n&&n.biff==2?3:4}function hkt(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function pkt(e){return e.l++,Qg[e.read_shift(1)]}function vkt(e){return e.l++,e.read_shift(2)}function gkt(e){return e.l++,e.read_shift(1)!==0}function mkt(e){return e.l++,go(e)}function ykt(e,t,n){return e.l++,eC(e,t-1,n)}function bkt(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Ia(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=Qg[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=go(e);break;case 2:n[1]=e0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function xkt(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],i=0;i!=r;++i)a.push((n.biff==12?Jg:hN)(e));return a}function wkt(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=bkt(e,n.biff);return o}function _kt(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,i]}function Skt(e,t,n){if(n.biff==5)return Ckt(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[r,a,i]}function Ckt(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function Tkt(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function kkt(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function Ikt(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function Ekt(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[r,a]}var Akt=So,Dkt=So,Nkt=So;function nC(e,t,n){return e.l+=2,[UTt(e)]}function k8(e){return e.l+=6,[]}var Rkt=nC,Mkt=k8,$kt=k8,Lkt=nC;function Pve(e){return e.l+=2,[Pa(e),e.read_shift(2)&1]}var Okt=nC,Pkt=Pve,Fkt=k8,Bkt=nC,Vkt=nC,zkt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Wkt(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=zkt[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:a,C:i}}function Hkt(e){return e.l+=2,[e.read_shift(4)]}function Ukt(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function Gkt(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Kkt(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function jkt(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Ykt(e){return e.l+=4,[0,0]}var Lj={1:{n:"PtgExp",f:hkt},2:{n:"PtgTbl",f:Nkt},3:{n:"PtgAdd",f:La},4:{n:"PtgSub",f:La},5:{n:"PtgMul",f:La},6:{n:"PtgDiv",f:La},7:{n:"PtgPower",f:La},8:{n:"PtgConcat",f:La},9:{n:"PtgLt",f:La},10:{n:"PtgLe",f:La},11:{n:"PtgEq",f:La},12:{n:"PtgGe",f:La},13:{n:"PtgGt",f:La},14:{n:"PtgNe",f:La},15:{n:"PtgIsect",f:La},16:{n:"PtgUnion",f:La},17:{n:"PtgRange",f:La},18:{n:"PtgUplus",f:La},19:{n:"PtgUminus",f:La},20:{n:"PtgPercent",f:La},21:{n:"PtgParen",f:La},22:{n:"PtgMissArg",f:La},23:{n:"PtgStr",f:ykt},26:{n:"PtgSheet",f:Ukt},27:{n:"PtgEndSheet",f:Gkt},28:{n:"PtgErr",f:pkt},29:{n:"PtgBool",f:gkt},30:{n:"PtgInt",f:vkt},31:{n:"PtgNum",f:mkt},32:{n:"PtgArray",f:JTt},33:{n:"PtgFunc",f:ukt},34:{n:"PtgFuncVar",f:ckt},35:{n:"PtgName",f:_kt},36:{n:"PtgRef",f:okt},37:{n:"PtgArea",f:jTt},38:{n:"PtgMemArea",f:Tkt},39:{n:"PtgMemErr",f:Akt},40:{n:"PtgMemNoMem",f:Dkt},41:{n:"PtgMemFunc",f:kkt},42:{n:"PtgRefErr",f:Ikt},43:{n:"PtgAreaErr",f:XTt},44:{n:"PtgRefN",f:skt},45:{n:"PtgAreaN",f:ZTt},46:{n:"PtgMemAreaN",f:Kkt},47:{n:"PtgMemNoMemN",f:jkt},57:{n:"PtgNameX",f:Skt},58:{n:"PtgRef3d",f:lkt},59:{n:"PtgArea3d",f:YTt},60:{n:"PtgRefErr3d",f:Ekt},61:{n:"PtgAreaErr3d",f:qTt},255:{}},Xkt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qkt={1:{n:"PtgElfLel",f:Pve},2:{n:"PtgElfRw",f:Bkt},3:{n:"PtgElfCol",f:Rkt},6:{n:"PtgElfRwV",f:Vkt},7:{n:"PtgElfColV",f:Lkt},10:{n:"PtgElfRadical",f:Okt},11:{n:"PtgElfRadicalS",f:Fkt},13:{n:"PtgElfColS",f:Mkt},15:{n:"PtgElfColSV",f:$kt},16:{n:"PtgElfRadicalLel",f:Pkt},25:{n:"PtgList",f:Wkt},29:{n:"PtgSxName",f:Hkt},255:{}},Zkt={0:{n:"PtgAttrNoop",f:Ykt},1:{n:"PtgAttrSemi",f:rkt},2:{n:"PtgAttrIf",f:tkt},4:{n:"PtgAttrChoose",f:QTt},8:{n:"PtgAttrGoto",f:ekt},16:{n:"PtgAttrSum",f:dkt},32:{n:"PtgAttrBaxcel",f:$j},33:{n:"PtgAttrBaxcel",f:$j},64:{n:"PtgAttrSpace",f:akt},65:{n:"PtgAttrSpaceSemi",f:ikt},128:{n:"PtgAttrIfError",f:nkt},255:{}};function rC(e,t,n,r){if(r.biff<8)return So(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=wkt(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=xkt(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&i.push(So(e,t)),i}function aC(e,t,n){for(var r=e.l+t,a,i,o=[];r!=e.l;)t=r-e.l,i=e[e.l],a=Lj[i]||Lj[Xkt[i]],(i===24||i===25)&&(a=(i===24?qkt:Zkt)[e[e.l+1]]),!a||!a.f?So(e,t):o.push([a.n,a.f(e,t,n)]);return o}function Jkt(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Qkt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function eIt(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Fve(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Oj(e,t,n){var r=Fve(e,t,n);return r=="#REF"?r:eIt(r,n)}function lo(e,t,n,r,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},s=[],l,u,c,f=0,d=0,h,p="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",m=0,y=e[0].length;m<y;++m){var b=e[0][m];switch(b[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=ga(" ",e[0][v][1][1]);break;case 1:g=ga("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+g,v=-1}s.push(u+Qkt[b[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=fx(b[1][1],o,a),s.push(dx(c,i));break;case"PtgRefN":c=n?fx(b[1][1],n,a):b[1][1],s.push(dx(c,i));break;case"PtgRef3d":f=b[1][1],c=fx(b[1][2],o,a),p=Oj(r,f,a),s.push(p+"!"+dx(c,i));break;case"PtgFunc":case"PtgFuncVar":var x=b[1][0],_=b[1][1];x||(x=0),x&=127;var S=x==0?[]:s.slice(-x);s.length-=x,_==="User"&&(_=S.shift()),s.push(_+"("+S.join(",")+")");break;case"PtgBool":s.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(b[1]);break;case"PtgNum":s.push(String(b[1]));break;case"PtgStr":s.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(b[1]);break;case"PtgAreaN":h=gj(b[1][1],n?{s:n}:o,a),s.push(mM(h,a));break;case"PtgArea":h=gj(b[1][1],o,a),s.push(mM(h,a));break;case"PtgArea3d":f=b[1][1],h=b[1][2],p=Oj(r,f,a),s.push(p+"!"+mM(h,a));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=b[1][2];var C=(r.names||[])[d-1]||(r[0]||[])[d],k=C?C.Name:"SH33TJSNAME"+String(d);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),s.push(k);break;case"PtgNameX":var T=b[1][1];d=b[1][2];var I;if(a.biff<=5)T<0&&(T=-T),r[T]&&(I=r[T][d]);else{var E="";if(((r[T]||[])[0]||[])[0]==14849||(((r[T]||[])[0]||[])[0]==1025?r[T][d]&&r[T][d].itab>0&&(E=r.SheetNames[r[T][d].itab-1]+"!"):E=r.SheetNames[d-1]+"!"),r[T]&&r[T][d])E+=r[T][d].Name;else if(r[0]&&r[0][d])E+=r[0][d].Name;else{var A=(Fve(r,T,a)||"").split(";;");A[d-1]?E=A[d-1]:E+="SH33TJSERRX"}s.push(E);break}I||(I={Name:"SH33TJSERRY"}),s.push(I.Name);break;case"PtgParen":var N="(",L=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:N=ga(" ",e[0][v][1][1])+N;break;case 3:N=ga("\r",e[0][v][1][1])+N;break;case 4:L=ga(" ",e[0][v][1][1])+L;break;case 5:L=ga("\r",e[0][v][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}s.push(N+s.pop()+L);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":c={c:b[1][1],r:b[1][0]};var R={c:n.c,r:n.r};if(r.sharedf[$n(c)]){var D=r.sharedf[$n(c)];s.push(lo(D,o,R,r,a))}else{var P=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){s.push(lo(u[1],o,R,r,a)),P=!0;break}P||s.push(b[1])}break;case"PtgArray":s.push("{"+Jkt(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var O=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&O.indexOf(e[0][m][0])==-1){b=e[0][v];var M=!0;switch(b[1][0]){case 4:M=!1;case 0:g=ga(" ",b[1][1]);break;case 5:M=!1;case 1:g=ga("\r",b[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}s.push((M?g:"")+s.pop()+(M?"":g)),v=-1}}if(s.length>1&&a.WTF)throw new Error("bad formula stack");return s[0]}function tIt(e,t,n){var r=e.l+t,a=n.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],So(e,t-2)];var s=aC(e,o,n);return t!==o+a&&(i=rC(e,t-o-a,s,n)),e.l=r,[s,i]}function nIt(e,t,n){var r=e.l+t,a=n.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],So(e,t-2)];var s=aC(e,o,n);return t!==o+a&&(i=rC(e,t-o-a,s,n)),e.l=r,[s,i]}function rIt(e,t,n,r){var a=e.l+t,i=aC(e,r,n),o;return a!==e.l&&(o=rC(e,a-e.l,i,n)),[i,o]}function aIt(e,t,n){var r=e.l+t,a,i=e.read_shift(2),o=aC(e,i,n);return i==65535?[[],So(e,t-2)]:(t!==i+2&&(a=rC(e,r-i-2,o,n)),[o,a])}function iIt(e){var t;if(Ef(e,e.l+6)!==65535)return[go(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function xM(e,t,n){var r=e.l+t,a=nf(e);n.biff==2&&++e.l;var i=iIt(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var s=nIt(e,r-e.l,n);return{cell:a,val:i[0],formula:s,shared:o>>3&1,tt:i[1]}}function pN(e,t,n){var r=e.read_shift(4),a=aC(e,r,n),i=e.read_shift(4),o=i>0?rC(e,i,a,n):null;return[a,o]}var oIt=pN,vN=pN,sIt=pN,lIt=pN,uIt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Bve={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cIt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Pj(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function wM(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var gx={},Om={};function mx(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Vve(e,t,n,r,a,i){try{r.cellNF&&(e.z=Pn[t])}catch(s){if(r.WTF)throw s}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ki(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Pn[t]==null&&zv(f_t[t]||"General",t),e.t==="e")e.w=e.w||Qg[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Aw(e.v);else if(e.t==="d"){var o=as(e.v);(o|0)===o?e.w=o.toString(10):e.w=Aw(o)}else{if(e.v===void 0)return"";e.w=Sg(e.v,Om)}else e.t==="d"?e.w=Fl(t,as(e.v),Om):e.w=Fl(t,e.v,Om)}catch(s){if(r.WTF)throw s}if(r.cellStyles&&n!=null)try{e.s=i.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=YI(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=YI(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(r.WTF&&i.Fills)throw s}}}function fIt(e,t){var n=_a(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=br(n))}var dIt=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,hIt=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,pIt=/<(?:\w:)?hyperlink [^>]*>/mg,vIt=/"(\w*:\w*)"/,gIt=/<(?:\w:)?col\b[^>]*[\/]?>/g,mIt=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,yIt=/<(?:\w:)?pageMargins[^>]*\/>/g,zve=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,bIt=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,xIt=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function wIt(e,t,n,r,a,i,o){if(!e)return e;r||(r={"!id":{}});var s=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",f=e.match(hIt);f?(u=e.slice(0,f.index),c=e.slice(f.index+f[0].length)):u=c=e;var d=u.match(zve);d?I8(d[0],s,a,n):(d=u.match(bIt))&&_It(d[0],d[1]||"",s,a,n);var h=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p=u.slice(h,h+50).match(vIt);p&&fIt(s,p[1])}var v=u.match(xIt);v&&v[1]&&EIt(v[1],a);var g=[];if(t.cellStyles){var m=u.match(gIt);m&&TIt(g,m)}f&&AIt(f[1],s,t,l,i,o);var y=c.match(mIt);y&&(s["!autofilter"]=kIt(y[0]));var b=[],x=c.match(dIt);if(x)for(h=0;h!=x.length;++h)b[h]=_a(x[h].slice(x[h].indexOf('"')+1));var _=c.match(pIt);_&&SIt(s,_,r);var S=c.match(yIt);if(S&&(s["!margins"]=CIt(In(S[0]))),!s["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(s["!ref"]=br(l)),t.sheetRows>0&&s["!ref"]){var C=_a(s["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>l.e.r&&(C.e.r=l.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>l.e.c&&(C.e.c=l.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),s["!fullref"]=s["!ref"],s["!ref"]=br(C))}return g.length>0&&(s["!cols"]=g),b.length>0&&(s["!merges"]=b),s}function I8(e,t,n,r){var a=In(e);n.Sheets[r]||(n.Sheets[r]={}),a.codeName&&(n.Sheets[r].CodeName=Sr(ea(a.codeName)))}function _It(e,t,n,r,a){I8(e.slice(0,e.indexOf(">")),n,r,a)}function SIt(e,t,n){for(var r=Array.isArray(e),a=0;a!=t.length;++a){var i=In(ea(t[a]),!0);if(!i.ref)return;var o=((n||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Sr(i.location))):(i.Target="#"+Sr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var s=_a(i.ref),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var c=$n({c:u,r:l});r?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=i):(e[c]||(e[c]={t:"z",v:void 0}),e[c].l=i)}}}function CIt(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function TIt(e,t){for(var n=!1,r=0;r!=t.length;++r){var a=In(t[r],!0);a.hidden&&(a.hidden=ua(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!n&&a.width&&(n=!0,T8(a.width)),Cy(a);i<=o;)e[i++]=Vi(a)}}function kIt(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var IIt=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function EIt(e,t){t.Views||(t.Views=[{}]),(e.match(IIt)||[]).forEach(function(n,r){var a=In(n);t.Views[r]||(t.Views[r]={}),+a.zoomScale&&(t.Views[r].zoom=+a.zoomScale),ua(a.rightToLeft)&&(t.Views[r].RTL=!0)})}var AIt=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Dw("v"),o=Dw("f");return function(l,u,c,f,d,h){for(var p=0,v="",g=[],m=[],y=0,b=0,x=0,_="",S,C,k=0,T=0,I,E,A=0,N=0,L=Array.isArray(h.CellXf),R,D=[],P=[],O=Array.isArray(u),M=[],W={},U=!1,V=!!c.sheetStubs,H=l.split(t),K=0,j=H.length;K!=j;++K){v=H[K].trim();var ne=v.length;if(ne!==0){var Q=0;e:for(p=0;p<ne;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(c&&c.cellStyles){if(C=In(v.slice(Q,p),!0),k=C.r!=null?parseInt(C.r,10):k+1,T=-1,c.sheetRows&&c.sheetRows<k)continue;W={},U=!1,C.ht&&(U=!0,W.hpt=parseFloat(C.ht),W.hpx=$w(W.hpt)),C.hidden=="1"&&(U=!0,W.hidden=!0),C.outlineLevel!=null&&(U=!0,W.level=+C.outlineLevel),U&&(M[k-1]=W)}break;case"<":Q=p;break}if(Q>=p)break;if(C=In(v.slice(Q,p),!0),k=C.r!=null?parseInt(C.r,10):k+1,T=-1,!(c.sheetRows&&c.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),c&&c.cellStyles&&(W={},U=!1,C.ht&&(U=!0,W.hpt=parseFloat(C.ht),W.hpx=$w(W.hpt)),C.hidden=="1"&&(U=!0,W.hidden=!0),C.outlineLevel!=null&&(U=!0,W.level=+C.outlineLevel),U&&(M[k-1]=W)),g=v.slice(p).split(e);for(var oe=0;oe!=g.length&&g[oe].trim().charAt(0)=="<";++oe);for(g=g.slice(oe),p=0;p!=g.length;++p)if(v=g[p].trim(),v.length!==0){if(m=v.match(n),y=p,b=0,x=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,m!=null&&m.length===2){for(y=0,_=m[1],b=0;b!=_.length&&!((x=_.charCodeAt(b)-64)<1||x>26);++b)y=26*y+x;--y,T=y}else++T;for(b=0;b!=v.length&&v.charCodeAt(b)!==62;++b);if(++b,C=In(v.slice(0,b),!0),C.r||(C.r=$n({r:k-1,c:T})),_=v.slice(b),S={t:""},(m=_.match(i))!=null&&m[1]!==""&&(S.v=Sr(m[1])),c.cellFormula){if((m=_.match(o))!=null&&m[1]!==""){if(S.f=Sr(ea(m[1])).replace(/\r\n/g,`
`),c.xlfn||(S.f=Mj(S.f)),m[0].indexOf('t="array"')>-1)S.F=(_.match(a)||[])[1],S.F.indexOf(":")>-1&&D.push([_a(S.F),S.F]);else if(m[0].indexOf('t="shared"')>-1){E=In(m[0]);var ae=Sr(ea(m[1]));c.xlfn||(ae=Mj(ae)),P[parseInt(E.si,10)]=[E,ae,C.r]}}else(m=_.match(/<f[^>]*\/>/))&&(E=In(m[0]),P[E.si]&&(S.f=VTt(P[E.si][1],P[E.si][2],C.r)));var me=jo(C.r);for(b=0;b<D.length;++b)me.r>=D[b][0].s.r&&me.r<=D[b][0].e.r&&me.c>=D[b][0].s.c&&me.c<=D[b][0].e.c&&(S.F=D[b][1])}if(C.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(V)S.t="z";else continue;else S.t=C.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),S.t){case"n":if(S.v==""||S.v==null){if(!V)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!V)continue;S.t="z"}else I=gx[parseInt(S.v,10)],S.v=I.t,S.r=I.r,c.cellHTML&&(S.h=I.h);break;case"str":S.t="s",S.v=S.v!=null?ea(S.v):"",c.cellHTML&&(S.h=p8(S.v));break;case"inlineStr":m=_.match(r),S.t="s",m!=null&&(I=C8(m[1]))?(S.v=I.t,c.cellHTML&&(S.h=I.h)):S.v="";break;case"b":S.v=ua(S.v);break;case"d":c.cellDates?S.v=ki(S.v,1):(S.v=as(ki(S.v,1)),S.t="n");break;case"e":(!c||c.cellText!==!1)&&(S.w=S.v),S.v=lve[S.v];break}if(A=N=0,R=null,L&&C.s!==void 0&&(R=h.CellXf[C.s],R!=null&&(R.numFmtId!=null&&(A=R.numFmtId),c.cellStyles&&R.fillId!=null&&(N=R.fillId))),Vve(S,A,N,c,d,h),c.cellDates&&L&&S.t=="n"&&c1(Pn[A])&&(S.t="d",S.v=dN(S.v)),C.cm&&c.xlmeta){var ve=(c.xlmeta.Cell||[])[+C.cm-1];ve&&ve.type=="XLDAPR"&&(S.D=!0)}if(O){var B=jo(C.r);u[B.r]||(u[B.r]=[]),u[B.r][B.c]=S}else u[C.r]=S}}}}M.length>0&&(u["!rows"]=M)}}();function DIt(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=a/20),n}var NIt=Jg;function RIt(){}function MIt(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=tSt(e),n}function $It(e){var t=Ul(e);return[t]}function LIt(e){var t=Zg(e);return[t]}function OIt(e){var t=Ul(e),n=e.read_shift(1);return[t,n,"b"]}function PIt(e){var t=Zg(e),n=e.read_shift(1);return[t,n,"b"]}function FIt(e){var t=Ul(e),n=e.read_shift(1);return[t,n,"e"]}function BIt(e){var t=Zg(e),n=e.read_shift(1);return[t,n,"e"]}function VIt(e){var t=Ul(e),n=e.read_shift(4);return[t,n,"s"]}function zIt(e){var t=Zg(e),n=e.read_shift(4);return[t,n,"s"]}function WIt(e){var t=Ul(e),n=go(e);return[t,n,"n"]}function Wve(e){var t=Zg(e),n=go(e);return[t,n,"n"]}function HIt(e){var t=Ul(e),n=w8(e);return[t,n,"n"]}function UIt(e){var t=Zg(e),n=w8(e);return[t,n,"n"]}function GIt(e){var t=Ul(e),n=b8(e);return[t,n,"is"]}function KIt(e){var t=Ul(e),n=wo(e);return[t,n,"str"]}function jIt(e){var t=Zg(e),n=wo(e);return[t,n,"str"]}function YIt(e,t,n){var r=e.l+t,a=Ul(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(n.cellFormula){e.l+=2;var s=vN(e,r-e.l,n);o[3]=lo(s,null,a,n.supbooks,n)}else e.l=r;return o}function XIt(e,t,n){var r=e.l+t,a=Ul(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(n.cellFormula){e.l+=2;var s=vN(e,r-e.l,n);o[3]=lo(s,null,a,n.supbooks,n)}else e.l=r;return o}function qIt(e,t,n){var r=e.l+t,a=Ul(e);a.r=n["!row"];var i=go(e),o=[a,i,"n"];if(n.cellFormula){e.l+=2;var s=vN(e,r-e.l,n);o[3]=lo(s,null,a,n.supbooks,n)}else e.l=r;return o}function ZIt(e,t,n){var r=e.l+t,a=Ul(e);a.r=n["!row"];var i=wo(e),o=[a,i,"str"];if(n.cellFormula){e.l+=2;var s=vN(e,r-e.l,n);o[3]=lo(s,null,a,n.supbooks,n)}else e.l=r;return o}var JIt=Jg;function QIt(e,t){var n=e.l+t,r=Jg(e),a=x8(e),i=wo(e),o=wo(e),s=wo(e);e.l=n;var l={rfx:r,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}function eEt(){}function tEt(e,t,n){var r=e.l+t,a=ive(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var s=oIt(e,r-e.l,n);o[1]=s}else e.l=r;return o}function nEt(e,t,n){var r=e.l+t,a=Jg(e),i=[a];if(n.cellFormula){var o=lIt(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}var rEt=["left","right","top","bottom","header","footer"];function aEt(e){var t={};return rEt.forEach(function(n){t[n]=go(e)}),t}function iEt(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function oEt(){}function sEt(){}function lEt(e,t,n,r,a,i,o){if(!e)return e;var s=t||{};r||(r={"!id":{}});var l=s.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,p,v,g,m,y,b,x,_,S=[];s.biff=12,s["!row"]=0;var C=0,k=!1,T=[],I={},E=s.supbooks||a.supbooks||[[]];if(E.sharedf=I,E.arrayf=T,E.SheetNames=a.SheetNames||a.Sheets.map(function(O){return O.name}),!s.supbooks&&(s.supbooks=E,a.Names))for(var A=0;A<a.Names.length;++A)E[0][A+1]=a.Names[A];var N=[],L=[],R=!1;ZI[16]={n:"BrtShortReal",f:Wve};var D;if(dd(e,function(M,W,U){if(!d)switch(U){case 148:u=M;break;case 0:h=M,s.sheetRows&&s.sheetRows<=h.r&&(d=!0),x=zi(g=h.r),s["!row"]=h.r,(M.hidden||M.hpt||M.level!=null)&&(M.hpt&&(M.hpx=$w(M.hpt)),L[M.r]=M);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:M[2]},M[2]){case"n":p.v=M[1];break;case"s":b=gx[M[1]],p.v=b.t,p.r=b.r;break;case"b":p.v=!!M[1];break;case"e":p.v=M[1],s.cellText!==!1&&(p.w=Qg[p.v]);break;case"str":p.t="s",p.v=M[1];break;case"is":p.t="s",p.v=M[1].t;break}if((v=o.CellXf[M[0].iStyleRef])&&Vve(p,v.numFmtId,null,s,i,o),m=M[0].c==-1?m+1:M[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[ai(m)+x]=p,s.cellFormula){for(k=!1,C=0;C<T.length;++C){var V=T[C];h.r>=V[0].s.r&&h.r<=V[0].e.r&&m>=V[0].s.c&&m<=V[0].e.c&&(p.F=br(V[0]),k=!0)}!k&&M.length>3&&(p.f=M[3])}if(c.s.r>h.r&&(c.s.r=h.r),c.s.c>m&&(c.s.c=m),c.e.r<h.r&&(c.e.r=h.r),c.e.c<m&&(c.e.c=m),s.cellDates&&v&&p.t=="n"&&c1(Pn[v.numFmtId])){var H=Cv(p.v);H&&(p.t="d",p.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}D&&(D.type=="XLDAPR"&&(p.D=!0),D=void 0);break;case 1:case 12:if(!s.sheetStubs||f)break;p={t:"z",v:void 0},m=M[0].c==-1?m+1:M[0].c,s.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[ai(m)+x]=p,c.s.r>h.r&&(c.s.r=h.r),c.s.c>m&&(c.s.c=m),c.e.r<h.r&&(c.e.r=h.r),c.e.c<m&&(c.e.c=m),D&&(D.type=="XLDAPR"&&(p.D=!0),D=void 0);break;case 176:S.push(M);break;case 49:D=((s.xlmeta||{}).Cell||[])[M-1];break;case 494:var K=r["!id"][M.relId];for(K?(M.Target=K.Target,M.loc&&(M.Target+="#"+M.loc),M.Rel=K):M.relId==""&&(M.Target="#"+M.loc),g=M.rfx.s.r;g<=M.rfx.e.r;++g)for(m=M.rfx.s.c;m<=M.rfx.e.c;++m)s.dense?(l[g]||(l[g]=[]),l[g][m]||(l[g][m]={t:"z",v:void 0}),l[g][m].l=M):(y=$n({c:m,r:g}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=M);break;case 426:if(!s.cellFormula)break;T.push(M),_=s.dense?l[g][m]:l[ai(m)+x],_.f=lo(M[1],c,{r:h.r,c:m},E,s),_.F=br(M[0]);break;case 427:if(!s.cellFormula)break;I[$n(M[0].s)]=M[1],_=s.dense?l[g][m]:l[ai(m)+x],_.f=lo(M[1],c,{r:h.r,c:m},E,s);break;case 60:if(!s.cellStyles)break;for(;M.e>=M.s;)N[M.e--]={width:M.w/256,hidden:!!(M.flags&1),level:M.level},R||(R=!0,T8(M.w/256)),Cy(N[M.e+1]);break;case 161:l["!autofilter"]={ref:br(M)};break;case 476:l["!margins"]=M;break;case 147:a.Sheets[n]||(a.Sheets[n]={}),M.name&&(a.Sheets[n].CodeName=M.name),(M.above||M.left)&&(l["!outline"]={above:M.above,left:M.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),M.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!W.T){if(!f||s.WTF)throw new Error("Unexpected record 0x"+U.toString(16))}}},s),delete s.supbooks,delete s["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=br(u||c)),s.sheetRows&&l["!ref"]){var P=_a(l["!ref"]);s.sheetRows<=+P.e.r&&(P.e.r=s.sheetRows-1,P.e.r>c.e.r&&(P.e.r=c.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>c.e.c&&(P.e.c=c.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),l["!fullref"]=l["!ref"],l["!ref"]=br(P))}return S.length>0&&(l["!merges"]=S),N.length>0&&(l["!cols"]=N),L.length>0&&(l["!rows"]=L),l}function uEt(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var a=Sr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[t,a,r]}function cEt(e,t,n,r,a,i){var o=i||{"!type":"chart"};if(!e)return i;var s=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=uEt(f);c.s.r=c.s.c=0,c.e.c=s,u=ai(s),d[0].forEach(function(h,p){o[u+zi(p)]={t:"n",v:h,z:d[1]},l=p}),c.e.r<l&&(c.e.r=l),++s}),s>0&&(o["!ref"]=br(c)),o}function fEt(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(zve);return s&&I8(s[0],i,a,n),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function dEt(e,t){e.l+=10;var n=wo(e);return{name:n}}function hEt(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return dd(e,function(l,u,c){switch(c){case 550:i["!rel"]=l;break;case 651:a.Sheets[n]||(a.Sheets[n]={}),l.name&&(a.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},t),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var Hve=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],pEt=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],vEt=[],gEt=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Fj(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],a=0;a!=t.length;++a){var i=t[a];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=ua(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function Bj(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=ua(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function Uve(e){Bj(e.WBProps,Hve),Bj(e.CalcPr,gEt),Fj(e.WBView,pEt),Fj(e.Sheets,vEt),Om.date1904=ua(e.WBProps.date1904)}var mEt="][*?/\\".split("");function yEt(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return mEt.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var bEt=/<\w+:workbook/;function xEt(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,a="xmlns",i={},o=0;if(e.replace(Io,function(l,u){var c=In(l);switch(tf(c[0])){case"<?xml":break;case"<workbook":l.match(bEt)&&(a="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=c[a];break;case"</workbook>":break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Hve.forEach(function(f){if(c[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=ua(c[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(c[f[0]],10);break;default:n.WBProps[f[0]]=c[f[0]]}}),c.codeName&&(n.WBProps.CodeName=ea(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Sr(ea(c.name)),delete c[0],n.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=ea(c.name),c.comment&&(i.Comment=c.comment),c.localSheetId&&(i.Sheet=+c.localSheetId),ua(c.hidden||"0")&&(i.Hidden=!0),o=u+l.length;break;case"</definedName>":i.Ref=Sr(ea(e.slice(o,u))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete c[0],n.CalcPr=c;break;case"<calcPr/>":delete c[0],n.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),F_t.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return Uve(n),n}function wEt(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=dF(e),n.name=wo(e),n}function _Et(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?wo(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function SEt(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function CEt(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=nSt(e),o=sIt(e,0,n),s=x8(e);e.l=r;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}function TEt(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],ZI[16]={n:"BrtFRTArchID$",f:SEt},dd(e,function(l,u,c){switch(c){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=lo(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([c,l]):o[0]=[c,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(c),a=!0;break;case 36:r.pop(),a=!1;break;case 37:r.push(c),a=!0;break;case 38:r.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},t),Uve(n),n.Names=i,n.supbooks=o,n}function kEt(e,t,n){return t.slice(-4)===".bin"?TEt(e,n):xEt(e,n)}function IEt(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?lEt(e,r,n,a,i,o,s):wIt(e,r,n,a,i,o,s)}function EEt(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?hEt(e,r,n,a,i):fEt(e,r,n,a,i)}function AEt(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?PTt():FTt()}function DEt(e,t,n,r,a,i,o,s){return t.slice(-4)===".bin"?LTt():OTt()}function NEt(e,t,n,r){return t.slice(-4)===".bin"?J2t(e,n,r):K2t(e,n,r)}function REt(e,t,n){return Dve(e,n)}function MEt(e,t,n){return t.slice(-4)===".bin"?p2t(e,n):d2t(e,n)}function $Et(e,t,n){return t.slice(-4)===".bin"?RTt(e,n):ITt(e,n)}function LEt(e,t,n){return t.slice(-4)===".bin"?CTt(e):_Tt(e)}function OEt(e,t,n,r){return n.slice(-4)===".bin"?TTt(e,t,n,r):void 0}function PEt(e,t,n){return t.slice(-4)===".bin"?xTt(e,t,n):wTt(e,t,n)}var Gve=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Kve=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ql(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var a=e.match(Gve),i,o,s,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(Kve),(o=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(o+1),r[s]=i[2].slice(1,i[2].length-1));return r}function FEt(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(Gve),a,i,o,s;if(r)for(s=0;s!=r.length;++s)a=r[s].match(Kve),(i=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),n[o]=a[2].slice(1,a[2].length-1));return n}var yx;function BEt(e,t){var n=yx[e]||Sr(e);return n==="General"?Sg(t):Fl(n,t)}function VEt(e,t,n,r){var a=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ua(r);break;case"i2":case"int":a=parseInt(r,10);break;case"r4":case"float":a=parseFloat(r);break;case"date":case"dateTime.tz":a=ki(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Sr(t)]=a}function zEt(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||Qg[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Aw(e.v):e.w=Sg(e.v):e.w=BEt(t||"General",e.v)}catch(i){if(n.WTF)throw i}try{var r=yx[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&c1(r)){var a=Cv(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(n.WTF)throw i}}}function WEt(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=V2t[r.Pattern]||r.Pattern)}e[t.ID]=t}function HEt(e,t,n,r,a,i,o,s,l,u){var c="General",f=r.StyleID,d={};u=u||{};var h=[],p=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(c=i[f].nf),i[f].Interior&&h.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=ua(e);break;case"String":r.t="s",r.r=sj(Sr(e)),r.v=e.indexOf("<")>-1?Sr(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(ki(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=Sr(e):r.v<60&&(r.v=r.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=lve[e],u.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=sj(t||e));break}if(zEt(r,c,u),u.cellFormula!==!1)if(r.Formula){var v=Sr(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=Lm(v,a),delete r.Formula,r.ArrayRange=="RC"?r.F=Lm("RC:RC",a):r.ArrayRange&&(r.F=Lm(r.ArrayRange,a),l.push([_a(r.F),r.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(r.F=l[p][1]);u.cellStyles&&(h.forEach(function(g){!d.patternType&&g.patternType&&(d.patternType=g.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function UEt(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function _M(e,t){var n=t||{};$pe();var r=Nb(v8(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=ea(r));var a=r.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Vi(n);return o.type="string",Rw.to_workbook(r,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(J){a.indexOf("<"+J)>=0&&(i=!0)}),i)return QEt(r,n);yx={"General Number":"General","General Date":Pn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Pn[15],"Short Date":Pn[14],"Long Time":Pn[19],"Medium Time":Pn[18],"Short Time":Pn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Pn[2],Standard:Pn[4],Percent:Pn[10],Scientific:Pn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,l=[],u,c={},f=[],d=n.dense?[]:{},h="",p={},v={},g=ql('<Data ss:Type="String">'),m=0,y=0,b=0,x={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},S={},C="",k=0,T=[],I={},E={},A=0,N=[],L=[],R={},D=[],P,O=!1,M=[],W=[],U={},V=0,H=0,K={Sheets:[],WBProps:{date1904:!1}},j={};Nw.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";s=Nw.exec(r);)switch(s[3]=(ne=s[3]).toLowerCase()){case"data":if(ne=="data"){if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break}if(l[l.length-1][1])break;s[1]==="/"?HEt(r.slice(m,s.index),C,g,l[l.length-1][0]=="comment"?R:p,{c:y,r:b},_,D[y],v,M,n):(C="",g=ql(s[0]),m=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(L.length>0&&(p.c=L),(!n.sheetRows||n.sheetRows>b)&&p.v!==void 0&&(n.dense?(d[b]||(d[b]=[]),d[b][y]=p):d[ai(y)+zi(b)]=p),p.HRef&&(p.l={Target:Sr(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(V=y+(parseInt(p.MergeAcross,10)|0),H=b+(parseInt(p.MergeDown,10)|0),T.push({s:{c:y,r:b},e:{c:V,r:H}})),!n.sheetStubs)p.MergeAcross?y=V+1:++y;else if(p.MergeAcross||p.MergeDown){for(var Q=y;Q<=V;++Q)for(var oe=b;oe<=H;++oe)(Q>y||oe>b)&&(n.dense?(d[oe]||(d[oe]=[]),d[oe][Q]={t:"z"}):d[ai(Q)+zi(oe)]={t:"z"});y=V+1}else++y;else p=FEt(s[0]),p.Index&&(y=+p.Index-1),y<x.s.c&&(x.s.c=y),y>x.e.c&&(x.e.c=y),s[0].slice(-2)==="/>"&&++y,L=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(b<x.s.r&&(x.s.r=b),b>x.e.r&&(x.e.r=b),s[0].slice(-2)==="/>"&&(v=ql(s[0]),v.Index&&(b=+v.Index-1)),y=0,++b):(v=ql(s[0]),v.Index&&(b=+v.Index-1),U={},(v.AutoFitHeight=="0"||v.Height)&&(U.hpx=parseInt(v.Height,10),U.hpt=Ave(U.hpx),W[b]=U),v.Hidden=="1"&&(U.hidden=!0,W[b]=U));break;case"worksheet":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));f.push(h),x.s.r<=x.e.r&&x.s.c<=x.e.c&&(d["!ref"]=br(x),n.sheetRows&&n.sheetRows<=x.e.r&&(d["!fullref"]=d["!ref"],x.e.r=n.sheetRows-1,d["!ref"]=br(x))),T.length&&(d["!merges"]=T),D.length>0&&(d["!cols"]=D),W.length>0&&(d["!rows"]=W),c[h]=d}else x={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,l.push([s[3],!1]),u=ql(s[0]),h=Sr(u.Name),d=n.dense?[]:{},T=[],M=[],W=[],j={name:h,Hidden:0},K.Sheets.push(j);break;case"table":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else{if(s[0].slice(-2)=="/>")break;l.push([s[3],!1]),D=[],O=!1}break;case"style":s[1]==="/"?WEt(_,S,n):S=ql(s[0]);break;case"numberformat":S.nf=Sr(ql(s[0]).Format||"General"),yx[S.nf]&&(S.nf=yx[S.nf]);for(var ae=0;ae!=392&&Pn[ae]!=S.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Pn[ae]==null){zv(S.nf,ae);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(P=ql(s[0]),P.Hidden&&(P.hidden=!0,delete P.Hidden),P.Width&&(P.wpx=parseInt(P.Width,10)),!O&&P.wpx>10){O=!0,Ho=Ive;for(var me=0;me<D.length;++me)D[me]&&Cy(D[me])}O&&Cy(P),D[P.Index-1||D.length]=P;for(var ve=0;ve<+P.Span;++ve)D[D.length]=Vi(P);break;case"namedrange":if(s[1]==="/")break;K.Names||(K.Names=[]);var B=In(s[0]),re={Name:B.Name,Ref:Lm(B.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(re.Sheet=K.Sheets.length-1),K.Names.push(re);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?C+=r.slice(k,s.index):k=s.index+s[0].length;break;case"interior":if(!n.cellStyles)break;S.Interior=ql(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?ISt(I,ne,r.slice(A,s.index)):A=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else l.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));UEt(R),L.push(R)}else l.push([s[3],!1]),u=ql(s[0]),R={a:u.Author};break;case"autofilter":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var ge=ql(s[0]);d["!autofilter"]={ref:Lm(ge.Range).replace(/\$/g,"")},l.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((u=l.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&l.push([s[3],!0]);break;case"null":break;default:if(l.length==0&&s[3]=="document"||l.length==0&&s[3]=="uof")return Gj(r,n);var Ie=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ie=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ie=!1}break;case"excelworkbook":switch(s[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ie=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:Ie=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(r.slice(A,s.index)){case"SheetHidden":j.Hidden=1;break;case"SheetVeryHidden":j.Hidden=2;break}else A=s.index+s[0].length;break;case"header":d["!margins"]||mx(d["!margins"]={},"xlml"),isNaN(+In(s[0]).Margin)||(d["!margins"].header=+In(s[0]).Margin);break;case"footer":d["!margins"]||mx(d["!margins"]={},"xlml"),isNaN(+In(s[0]).Margin)||(d["!margins"].footer=+In(s[0]).Margin);break;case"pagemargins":var Ce=In(s[0]);d["!margins"]||mx(d["!margins"]={},"xlml"),isNaN(+Ce.Top)||(d["!margins"].top=+Ce.Top),isNaN(+Ce.Left)||(d["!margins"].left=+Ce.Left),isNaN(+Ce.Right)||(d["!margins"].right=+Ce.Right),isNaN(+Ce.Bottom)||(d["!margins"].bottom=+Ce.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ie=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ie=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ie=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ie=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ie=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ie=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ie=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ie=!1}break;case"smarttags":break;default:Ie=!1;break}if(Ie||s[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?VEt(E,ne,N,r.slice(A,s.index)):(N=s,A=s.index+s[0].length);break}if(n.WTF)throw"Unrecognized tag: "+s[3]+"|"+l.join("|")}var he={};return!n.bookSheets&&!n.bookProps&&(he.Sheets=c),he.SheetNames=f,he.Workbook=K,he.SSF=Vi(Pn),he.Props=I,he.Custprops=E,he}function gF(e,t){switch(D8(t=t||{}),t.type||"base64"){case"base64":return _M(Xs(e),t);case"binary":case"buffer":case"file":return _M(e,t);case"array":return _M(qg(e),t)}}function GEt(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=iSt(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=oSt(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var KEt=[60,1084,2066,2165,2175];function jEt(e,t,n,r,a){var i=r,o=[],s=n.slice(n.l,n.l+i);if(a.enc&&a.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(s)}o.push(s),n.l+=i;for(var l=Ef(n,n.l),u=mF[l],c=0;u!=null&&KEt.indexOf(l)>-1;)i=Ef(n,n.l+2),c=n.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),s=n.slice(c,n.l+4+i),o.push(s),n.l+=4+i,u=mF[l=Ef(n,n.l)];var f=Hd(o);Li(f,0);var d=0;f.lens=[];for(var h=0;h<o.length;++h)f.lens.push(d),d+=o[h].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,a)}function ju(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Pn[r])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Qg[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Aw(e.v):e.w=Sg(e.v):e.w=Fl(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&r&&e.t=="n"&&c1(Pn[r]||String(r))){var a=Cv(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function w2(e,t,n){return{v:e,ixfe:t,t:n}}function YEt(e,t){var n={opts:{}},r={},a=t.dense?[]:{},i={},o={},s=null,l=[],u="",c={},f,d="",h,p,v,g,m={},y=[],b,x,_=[],S=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},T=function(_t){return _t<8?Wv[_t]:_t<64&&S[_t-8]||Wv[_t]},I=function(_t,ln,Ne){var nt=ln.XF.data;if(!(!nt||!nt.patternType||!Ne||!Ne.cellStyles)){ln.s={},ln.s.patternType=nt.patternType;var _e;(_e=Mw(T(nt.icvFore)))&&(ln.s.fgColor={rgb:_e}),(_e=Mw(T(nt.icvBack)))&&(ln.s.bgColor={rgb:_e})}},E=function(_t,ln,Ne){if(!(U>1)&&!(Ne.sheetRows&&_t.r>=Ne.sheetRows)){if(Ne.cellStyles&&ln.XF&&ln.XF.data&&I(_t,ln,Ne),delete ln.ixfe,delete ln.XF,f=_t,d=$n(_t),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),_t.r<o.s.r&&(o.s.r=_t.r),_t.c<o.s.c&&(o.s.c=_t.c),_t.r+1>o.e.r&&(o.e.r=_t.r+1),_t.c+1>o.e.c&&(o.e.c=_t.c+1),Ne.cellFormula&&ln.f){for(var nt=0;nt<y.length;++nt)if(!(y[nt][0].s.c>_t.c||y[nt][0].s.r>_t.r)&&!(y[nt][0].e.c<_t.c||y[nt][0].e.r<_t.r)){ln.F=br(y[nt][0]),(y[nt][0].s.c!=_t.c||y[nt][0].s.r!=_t.r)&&delete ln.f,ln.f&&(ln.f=""+lo(y[nt][1],o,_t,M,A));break}}Ne.dense?(a[_t.r]||(a[_t.r]=[]),a[_t.r][_t.c]=ln):a[d]=ln}},A={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(A.password=t.password);var N,L=[],R=[],D=[],P=[],O=!1,M=[];M.SheetNames=A.snames,M.sharedf=A.sharedf,M.arrayf=A.arrayf,M.names=[],M.XTI=[];var W=0,U=0,V=0,H=[],K=[],j;A.codepage=1200,gu(1200);for(var ne=!1;e.l<e.length-1;){var Q=e.l,oe=e.read_shift(2);if(oe===0&&W===10)break;var ae=e.l===e.length?0:e.read_shift(2),me=mF[oe];if(me&&me.f){if(t.bookSheets&&W===133&&oe!==133)break;if(W=oe,me.r===2||me.r==12){var ve=e.read_shift(2);if(ae-=2,!A.enc&&ve!==oe&&((ve&255)<<8|ve>>8)!==oe)throw new Error("rt mismatch: "+ve+"!="+oe);me.r==12&&(e.l+=10,ae-=10)}var B={};if(oe===10?B=me.f(e,ae,A):B=jEt(oe,me,e,ae,A),U==0&&[9,521,1033,2057].indexOf(W)===-1)continue;switch(oe){case 34:n.opts.Date1904=C.WBProps.date1904=B;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(A.enc||(e.l=0),A.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=B;break;case 66:var re=Number(B);switch(re){case 21010:re=1200;break;case 32768:re=1e4;break;case 32769:re=1252;break}gu(A.codepage=re),ne=!0;break;case 317:A.rrtabid=B;break;case 25:A.winlocked=B;break;case 439:n.opts.RefreshAll=B;break;case 12:n.opts.CalcCount=B;break;case 16:n.opts.CalcDelta=B;break;case 17:n.opts.CalcIter=B;break;case 13:n.opts.CalcMode=B;break;case 14:n.opts.CalcPrecision=B;break;case 95:n.opts.CalcSaveRecalc=B;break;case 15:A.CalcRefMode=B;break;case 2211:n.opts.FullCalc=B;break;case 129:B.fDialog&&(a["!type"]="dialog"),B.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),B.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(B);break;case 430:M.push([B]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(B);break;case 24:case 536:j={Name:B.Name,Ref:lo(B.rgce,o,null,M,A)},B.itab>0&&(j.Sheet=B.itab-1),M.names.push(j),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(K[B.itab-1]={ref:br(B.rgce[0][0][1][2])});break;case 22:A.ExternCount=B;break;case 23:M.length==0&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(B),M.XTI=M.XTI.concat(B);break;case 2196:if(A.biff<8)break;j!=null&&(j.Comment=B[1]);break;case 18:a["!protect"]=B;break;case 19:B!==0&&A.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,A.snames.push(B.name);break;case 10:{if(--U)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=br(o),t.sheetRows&&t.sheetRows<=o.e.r){var ge=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=br(o),o.e.r=ge}o.e.r++,o.e.c++}L.length>0&&(a["!merges"]=L),R.length>0&&(a["!objects"]=R),D.length>0&&(a["!cols"]=D),P.length>0&&(a["!rows"]=P),C.Sheets.push(k)}u===""?c=a:r[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[oe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),A.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(A.biff=5,ne=!0,gu(A.codepage=28591)),A.biff==8&&B.BIFFVer==0&&B.dt==16&&(A.biff=2),U++)break;if(a=t.dense?[]:{},A.biff<8&&!ne&&(ne=!0,gu(A.codepage=t.codepage||1252)),A.biff<5||B.BIFFVer==0&&B.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ie={pos:e.l-ae,name:u};i[Ie.pos]=Ie,A.snames.push(u)}else u=(i[Q]||{name:""}).name;B.dt==32&&(a["!type"]="chart"),B.dt==64&&(a["!type"]="macro"),L=[],R=[],A.arrayf=y=[],D=[],P=[],O=!1,k={Hidden:(i[Q]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[B.r]||[])[B.c]:a[$n({c:B.c,r:B.r})])&&++B.c,b={ixfe:B.ixfe,XF:_[B.ixfe]||{},v:B.val,t:"n"},V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 5:case 517:b={ixfe:B.ixfe,XF:_[B.ixfe],v:B.val,t:B.t},V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 638:b={ixfe:B.ixfe,XF:_[B.ixfe],v:B.rknum,t:"n"},V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 189:for(var Ce=B.c;Ce<=B.C;++Ce){var he=B.rkrec[Ce-B.c][0];b={ixfe:he,XF:_[he],v:B.rkrec[Ce-B.c][1],t:"n"},V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E({c:Ce,r:B.r},b,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){s=B;break}if(b=w2(B.val,B.cell.ixfe,B.tt),b.XF=_[b.ixfe],t.cellFormula){var J=B.formula;if(J&&J[0]&&J[0][0]&&J[0][0][0]=="PtgExp"){var te=J[0][0][1][0],xe=J[0][0][1][1],Ee=$n({r:te,c:xe});m[Ee]?b.f=""+lo(B.formula,o,B.cell,M,A):b.F=((t.dense?(a[te]||[])[xe]:a[Ee])||{}).F}else b.f=""+lo(B.formula,o,B.cell,M,A)}V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E(B.cell,b,t),s=B}break;case 7:case 519:if(s)s.val=B,b=w2(B,s.cell.ixfe,"s"),b.XF=_[b.ixfe],t.cellFormula&&(b.f=""+lo(s.formula,o,s.cell,M,A)),V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E(s.cell,b,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(B);var Qe=$n(B[0].s);if(h=t.dense?(a[B[0].s.r]||[])[B[0].s.c]:a[Qe],t.cellFormula&&h){if(!s||!Qe||!h)break;h.f=""+lo(B[1],o,B[0],M,A),h.F=br(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(d){if(!s)break;m[$n(s.cell)]=B[0],h=t.dense?(a[s.cell.r]||[])[s.cell.c]:a[$n(s.cell)],(h||{}).f=""+lo(B[0],o,f,M,A)}}break;case 253:b=w2(l[B.isst].t,B.ixfe,"s"),l[B.isst].h&&(b.h=l[B.isst].h),b.XF=_[b.ixfe],V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:B.ixfe,XF:_[B.ixfe],t:"z"},V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E({c:B.c,r:B.r},b,t));break;case 190:if(t.sheetStubs)for(var Be=B.c;Be<=B.C;++Be){var ce=B.ixfe[Be-B.c];b={ixfe:ce,XF:_[ce],t:"z"},V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E({c:Be,r:B.r},b,t)}break;case 214:case 516:case 4:b=w2(B.val,B.ixfe,"s"),b.XF=_[b.ixfe],V>0&&(b.z=H[b.ixfe>>8&63]),ju(b,t,n.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 0:case 512:U===1&&(o=B);break;case 252:l=B;break;case 1054:if(A.biff==4){H[V++]=B[1];for(var Re=0;Re<V+163&&Pn[Re]!=B[1];++Re);Re>=163&&zv(B[1],V+163)}else zv(B[1],B[0]);break;case 30:{H[V++]=B;for(var ct=0;ct<V+163&&Pn[ct]!=B;++ct);ct>=163&&zv(B,V+163)}break;case 229:L=L.concat(B);break;case 93:R[B.cmo[0]]=A.lastobj=B;break;case 438:A.lastobj.TxO=B;break;case 127:A.lastobj.ImData=B;break;case 440:for(g=B[0].s.r;g<=B[0].e.r;++g)for(v=B[0].s.c;v<=B[0].e.c;++v)h=t.dense?(a[g]||[])[v]:a[$n({c:v,r:g})],h&&(h.l=B[1]);break;case 2048:for(g=B[0].s.r;g<=B[0].e.r;++g)for(v=B[0].s.c;v<=B[0].e.c;++v)h=t.dense?(a[g]||[])[v]:a[$n({c:v,r:g})],h&&h.l&&(h.l.Tooltip=B[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;h=t.dense?(a[B[0].r]||[])[B[0].c]:a[$n(B[0])];var It=R[B[2]];h||(t.dense?(a[B[0].r]||(a[B[0].r]=[]),h=a[B[0].r][B[0].c]={t:"z"}):h=a[$n(B[0])]={t:"z"},o.e.r=Math.max(o.e.r,B[0].r),o.s.r=Math.min(o.s.r,B[0].r),o.e.c=Math.max(o.e.c,B[0].c),o.s.c=Math.min(o.s.c,B[0].c)),h.c||(h.c=[]),p={a:B[1],t:It.TxO.t},h.c.push(p)}break;case 2173:gTt(_[B.ixfe],B.ext);break;case 125:{if(!A.cellStyles)break;for(;B.e>=B.s;)D[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},O||(O=!0,T8(B.w/256)),Cy(D[B.e+1])}break;case 520:{var wt={};B.level!=null&&(P[B.r]=wt,wt.level=B.level),B.hidden&&(P[B.r]=wt,wt.hidden=!0),B.hpt&&(P[B.r]=wt,wt.hpt=B.hpt,wt.hpx=$w(B.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||mx(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[oe]]=B;break;case 161:a["!margins"]||mx(a["!margins"]={}),a["!margins"].header=B.header,a["!margins"].footer=B.footer;break;case 574:B.RTL&&(C.Views[0].RTL=!0);break;case 146:S=B;break;case 2198:N=B;break;case 140:x=B;break;case 442:u?k.CodeName=B||k.name:C.WBProps.CodeName=B||"ThisWorkbook";break}}else me||console.error("Missing Info for XLS Record 0x"+oe.toString(16)),e.l+=ae}return n.SheetNames=Vc(i).sort(function(Qt,_t){return Number(Qt)-Number(_t)}).map(function(Qt){return i[Qt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&c["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=c)):n.Preamble=c,n.Sheets&&K.forEach(function(Qt,_t){n.Sheets[n.SheetNames[_t]]["!autofilter"]=Qt}),n.Strings=l,n.SSF=Vi(Pn),A.enc&&(n.Encryption=A.enc),N&&(n.Themes=N),n.Metadata={},x!==void 0&&(n.Metadata.Country=x),M.names.length>0&&(C.Names=M.names),n.Workbook=C,n}var Vj={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function XEt(e,t,n){var r=yr.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var a=Sj(r,dSt,Vj.DSI);for(var i in a)t[i]=a[i]}catch(u){if(n.WTF)throw u}var o=yr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=Sj(o,hSt,Vj.SI);for(var l in s)t[l]==null&&(t[l]=s[l])}catch(u){if(n.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(cve(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function jve(e,t){t||(t={}),D8(t),_pe(),t.codepage&&l8(t.codepage);var n,r;if(e.FullPaths){if(yr.find(e,"/encryption"))throw new Error("File is password-protected");n=yr.find(e,"!CompObj"),r=yr.find(e,"/Workbook")||yr.find(e,"/Book")}else{switch(t.type){case"base64":e=cu(Xs(e));break;case"binary":e=cu(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Li(e,0),r={content:e}}var a,i;if(n&&GEt(n),t.bookProps&&!t.bookSheets)a={};else{var o=fr?"buffer":"array";if(r&&r.content)a=YEt(r.content,t);else if((i=yr.find(e,"PerfectOffice_MAIN"))&&i.content)a=vx.to_workbook(i.content,(t.type=o,t));else if((i=yr.find(e,"NativeContent_MAIN"))&&i.content)a=vx.to_workbook(i.content,(t.type=o,t));else throw(i=yr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&yr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=$Tt(e))}var s={};return e.FullPaths&&XEt(e,s,t),a.Props=a.Custprops=s,t.bookFiles&&(a.cfb=e),a}var ZI={0:{f:DIt},1:{f:$It},2:{f:HIt},3:{f:FIt},4:{f:OIt},5:{f:WIt},6:{f:KIt},7:{f:VIt},8:{f:ZIt},9:{f:qIt},10:{f:YIt},11:{f:XIt},12:{f:LIt},13:{f:UIt},14:{f:BIt},15:{f:PIt},16:{f:Wve},17:{f:jIt},18:{f:zIt},19:{f:b8},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:CEt},40:{},42:{},43:{f:Y2t},44:{f:j2t},45:{f:X2t},46:{f:Z2t},47:{f:q2t},48:{},49:{f:J_t},50:{},51:{f:yTt},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_ve},62:{f:GIt},63:{f:STt},64:{f:oEt},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:So,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:iEt},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:MIt},148:{f:NIt,p:16},151:{f:eEt},152:{},153:{f:_Et},154:{},155:{},156:{f:wEt},157:{},158:{},159:{T:1,f:h2t},160:{T:-1},161:{T:1,f:Jg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:JIt},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mTt},336:{T:-1},337:{f:bTt,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:dF},357:{},358:{},359:{},360:{T:1},361:{},362:{f:wve},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:tEt},427:{f:nEt},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:aEt},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:RIt},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:QIt},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:dF},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:NTt},633:{T:1},634:{T:-1},635:{T:1,f:DTt},636:{T:-1},637:{f:eSt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:dEt},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:sEt},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},mF={6:{f:xM},10:{f:xd},12:{f:Pa},13:{f:Pa},14:{f:Ia},15:{f:Ia},16:{f:go},17:{f:Ia},18:{f:Ia},19:{f:Pa},20:{f:Ij},21:{f:Ij},23:{f:wve},24:{f:Aj},25:{f:Ia},26:{},27:{},28:{f:ECt},29:{},34:{f:Ia},35:{f:Ej},38:{f:go},39:{f:go},40:{f:go},41:{f:go},42:{f:Ia},43:{f:Ia},47:{f:R2t},49:{f:uCt},51:{f:Pa},60:{},61:{f:oCt},64:{f:Ia},65:{f:lCt},66:{f:Pa},77:{},80:{},81:{},82:{},85:{f:Pa},89:{},90:{},91:{},92:{f:JSt},93:{f:DCt},94:{},95:{f:Ia},96:{},97:{},99:{f:Ia},125:{f:_ve},128:{f:bCt},129:{f:QSt},130:{f:Pa},131:{f:Ia},132:{f:Ia},133:{f:eCt},134:{},140:{f:OCt},141:{f:Pa},144:{},146:{f:FCt},151:{},152:{},153:{},154:{},155:{},156:{f:Pa},157:{},158:{},160:{f:HCt},161:{f:VCt},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:vCt},190:{f:gCt},193:{f:xd},197:{},198:{},199:{},200:{},201:{},202:{f:Ia},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Pa},220:{},221:{f:Ia},222:{},224:{f:yCt},225:{f:ZSt},226:{f:xd},227:{},229:{f:ACt},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:tCt},253:{f:cCt},255:{f:nCt},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:vve},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ia},353:{f:xd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:wCt},431:{f:Ia},432:{},433:{},434:{},437:{},438:{f:MCt},439:{f:Ia},440:{f:$Ct},441:{},442:{f:tC},443:{},444:{f:Pa},445:{},446:{},448:{f:xd},449:{f:iCt,r:2},450:{f:xd},512:{f:Tj},513:{f:WCt},515:{f:xCt},516:{f:fCt},517:{f:kj},519:{f:UCt},520:{f:rCt},523:{},545:{f:Dj},549:{f:Cj},566:{},574:{f:sCt},638:{f:pCt},659:{},1048:{},1054:{f:dCt},1084:{},1212:{f:TCt},2048:{f:LCt},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:y2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:xd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:BCt,r:12},2173:{f:vTt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ia,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:CCt,r:12},2197:{},2198:{f:uTt,r:12},2199:{},2200:{},2201:{},2202:{f:kCt,r:12},2203:{f:xd},2204:{},2205:{},2206:{},2207:{},2211:{f:aCt},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Pa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:zCt},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:PCt},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Tj},1:{},2:{f:YCt},3:{f:jCt},4:{f:KCt},5:{f:kj},7:{f:XCt},8:{},9:{f:y2},11:{},22:{f:Pa},30:{f:hCt},31:{},32:{},33:{f:Dj},36:{},37:{f:Cj},50:{f:qCt},62:{},52:{},67:{},68:{f:Pa},69:{},86:{},126:{},127:{f:GCt},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ZCt},223:{},234:{},354:{},421:{},518:{f:xM},521:{f:y2},536:{f:Aj},547:{f:Ej},561:{},579:{},1030:{f:xM},1033:{f:y2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Zl(e,t,n,r){var a=t;if(!isNaN(a)){var i=(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&nve(n)&&e.push(n)}}function zj(e,t){var n=t,r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,s=i&&i.index||e.length,l=x_t(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<l.length;++o){var v=l[o].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}c=0;continue}if(!(g!="<td"&&g!="<th")){var m=v.split(/<\/t[dh]>/i);for(s=0;s<m.length;++s){var y=m[s].trim();if(y.match(/<t[dh]/i)){for(var b=y,x=0;b.charAt(0)=="<"&&(x=b.indexOf(">"))>-1;)b=b.slice(x+1);for(var _=0;_<p.length;++_){var S=p[_];S.s.c==c&&S.s.r<u&&u<=S.e.r&&(c=S.e.c+1,_=-1)}var C=In(y.slice(0,y.indexOf(">")));d=C.colspan?+C.colspan:1,((f=+C.rowspan)>1||d>1)&&p.push({s:{r:u,c},e:{r:u+(f||1)-1,c:c+d-1}});var k=C.t||C["data-t"]||"";if(!b.length){c+=d;continue}if(b=Hpe(b),h.s.r>u&&(h.s.r=u),h.e.r<u&&(h.e.r=u),h.s.c>c&&(h.s.c=c),h.e.c<c&&(h.e.c=c),!b.length){c+=d;continue}var T={t:"s",v:b};n.raw||!b.trim().length||k=="s"||(b==="TRUE"?T={t:"b",v:!0}:b==="FALSE"?T={t:"b",v:!1}:isNaN(Tu(b))?isNaN(Sy(b).getDate())||(T={t:"d",v:ki(b)},n.cellDates||(T={t:"n",v:as(T.v)}),T.z=n.dateNF||Pn[14]):T={t:"n",v:Tu(b)}),n.dense?(r[u]||(r[u]=[]),r[u][c]=T):r[$n({r:u,c})]=T,c+=d}}}}return r["!ref"]=br(h),p.length&&(r["!merges"]=p),r}function qEt(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>n||a[u].s.c>o)&&!(a[u].e.r<n||a[u].e.c<o)){if(a[u].s.r<n||a[u].s.c<o){s=-1;break}s=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(s<0)){var c=$n({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[c],d=f&&f.v!=null&&(f.h||p8(f.w||(jf(f),f.w)||""))||"",h={};s>1&&(h.rowspan=s),l>1&&(h.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(r.id||"sjs")+"-"+c,i.push(O_t("td",d,h))}}var p="<tr>";return p+i.join("")+"</tr>"}var ZEt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',JEt="</body></html>";function QEt(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return hp(zj(n[0],t),t);var r=R8();return n.forEach(function(a,i){M8(r,zj(a,t),"Sheet"+(i+1))}),r}function eAt(e,t,n){var r=[];return r.join("")+"<table"+(n.id?' id="'+n.id+'"':"")+">"}function tAt(e,t){var n=t||{},r=n.header!=null?n.header:ZEt,a=n.footer!=null?n.footer:JEt,i=[r],o=f1(e["!ref"]);n.dense=Array.isArray(e),i.push(eAt(e,o,n));for(var s=o.s.r;s<=o.e.r;++s)i.push(qEt(e,o,s,n));return i.push("</table>"+a),i.join("")}function Yve(e,t,n){var r=n||{},a=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?jo(r.origin):r.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var c=f1(e["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),a==-1&&(u.e.r=a=c.e.r+1)}var f=[],d=0,h=e["!rows"]||(e["!rows"]=[]),p=0,v=0,g=0,m=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&v<l;++p){var x=s[p];if(Wj(x)){if(r.display)continue;h[v]={hidden:!0}}var _=x.children;for(g=m=0;g<_.length;++g){var S=_[g];if(!(r.display&&Wj(S))){var C=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):Hpe(S.innerHTML),k=S.getAttribute("data-z")||S.getAttribute("z");for(d=0;d<f.length;++d){var T=f[d];T.s.c==m+i&&T.s.r<v+a&&v+a<=T.e.r&&(m=T.e.c+1-i,d=-1)}b=+S.getAttribute("colspan")||1,((y=+S.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:v+a,c:m+i},e:{r:v+a+(y||1)-1,c:m+i+(b||1)-1}});var I={t:"s",v:C},E=S.getAttribute("data-t")||S.getAttribute("t")||"";C!=null&&(C.length==0?I.t=E||"z":r.raw||C.trim().length==0||E=="s"||(C==="TRUE"?I={t:"b",v:!0}:C==="FALSE"?I={t:"b",v:!1}:isNaN(Tu(C))?isNaN(Sy(C).getDate())||(I={t:"d",v:ki(C)},r.cellDates||(I={t:"n",v:as(I.v)}),I.z=r.dateNF||Pn[14]):I={t:"n",v:Tu(C)})),I.z===void 0&&k!=null&&(I.z=k);var A="",N=S.getElementsByTagName("A");if(N&&N.length)for(var L=0;L<N.length&&!(N[L].hasAttribute("href")&&(A=N[L].getAttribute("href"),A.charAt(0)!="#"));++L);A&&A.charAt(0)!="#"&&(I.l={Target:A}),r.dense?(e[v+a]||(e[v+a]=[]),e[v+a][m+i]=I):e[$n({c:m+i,r:v+a})]=I,u.e.c<m+i&&(u.e.c=m+i),m+=b}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,v-1+a),e["!ref"]=br(u),v>=l&&(e["!fullref"]=br((u.e.r=s.length-p+v-1+a,u))),e}function Xve(e,t){var n=t||{},r=n.dense?[]:{};return Yve(r,e,t)}function nAt(e,t){return hp(Xve(e,t),t)}function Wj(e){var t="",n=rAt(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function rAt(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function aAt(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Sr(t.replace(/<[^>]*>/g,""));return[n]}var Hj={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function qve(e,t){var n=t||{},r=v8(e),a=[],i,o,s={name:""},l="",u=0,c,f,d={},h=[],p=n.dense?[]:{},v,g,m={value:""},y="",b=0,x=[],_=-1,S=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,T={},I=[],E={},A=0,N=0,L=[],R=1,D=1,P=[],O={Names:[]},M={},W=["",""],U=[],V={},H="",K=0,j=!1,ne=!1,Q=0;for(Nw.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Nw.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"工作表":v[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?p["!ref"]=br(C):p["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=C.e.r&&(p["!fullref"]=p["!ref"],C.e.r=n.sheetRows-1,p["!ref"]=br(C)),I.length&&(p["!merges"]=I),L.length&&(p["!rows"]=L),c.name=c.名称||c.name,typeof JSON<"u"&&JSON.stringify(c),h.push(c.name),d[c.name]=p,ne=!1):v[0].charAt(v[0].length-2)!=="/"&&(c=In(v[0],!1),_=S=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,p=n.dense?[]:{},I=[],L=[],ne=!0);break;case"table-row-group":v[1]==="/"?--k:++k;break;case"table-row":case"行":if(v[1]==="/"){_+=R,R=1;break}if(f=In(v[0],!1),f.行号?_=f.行号-1:_==-1&&(_=0),R=+f["number-rows-repeated"]||1,R<10)for(Q=0;Q<R;++Q)k>0&&(L[_+Q]={level:k});S=-1;break;case"covered-table-cell":v[1]!=="/"&&++S,n.sheetStubs&&(n.dense?(p[_]||(p[_]=[]),p[_][S]={t:"z"}):p[$n({r:_,c:S})]={t:"z"}),y="",x=[];break;case"table-cell":case"数据":if(v[0].charAt(v[0].length-2)==="/")++S,m=In(v[0],!1),D=parseInt(m["number-columns-repeated"]||"1",10),g={t:"z",v:null},m.formula&&n.cellFormula!=!1&&(g.f=Pj(Sr(m.formula))),(m.数据类型||m["value-type"])=="string"&&(g.t="s",g.v=Sr(m["string-value"]||""),n.dense?(p[_]||(p[_]=[]),p[_][S]=g):p[$n({r:_,c:S})]=g),S+=D-1;else if(v[1]!=="/"){++S,y="",b=0,x=[],D=1;var oe=R?_+R-1:_;if(S>C.e.c&&(C.e.c=S),S<C.s.c&&(C.s.c=S),_<C.s.r&&(C.s.r=_),oe>C.e.r&&(C.e.r=oe),m=In(v[0],!1),U=[],V={},g={t:m.数据类型||m["value-type"],v:null},n.cellFormula)if(m.formula&&(m.formula=Sr(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(A=parseInt(m["number-matrix-rows-spanned"],10)||0,N=parseInt(m["number-matrix-columns-spanned"],10)||0,E={s:{r:_,c:S},e:{r:_+A-1,c:S+N-1}},g.F=br(E),P.push([E,g.F])),m.formula)g.f=Pj(m.formula);else for(Q=0;Q<P.length;++Q)_>=P[Q][0].s.r&&_<=P[Q][0].e.r&&S>=P[Q][0].s.c&&S<=P[Q][0].e.c&&(g.F=P[Q][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(A=parseInt(m["number-rows-spanned"],10)||0,N=parseInt(m["number-columns-spanned"],10)||0,E={s:{r:_,c:S},e:{r:_+A-1,c:S+N-1}},I.push(E)),m["number-columns-repeated"]&&(D=parseInt(m["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=ua(m["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(m.value);break;case"percentage":g.t="n",g.v=parseFloat(m.value);break;case"currency":g.t="n",g.v=parseFloat(m.value);break;case"date":g.t="d",g.v=ki(m["date-value"]),n.cellDates||(g.t="n",g.v=as(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=m_t(m["time-value"])/86400,n.cellDates&&(g.t="d",g.v=dN(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(m.数据数值);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",m["string-value"]!=null&&(y=Sr(m["string-value"]),x=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(j=!1,g.t==="s"&&(g.v=y||"",x.length&&(g.R=x),j=b==0),M.Target&&(g.l=M),U.length>0&&(g.c=U,U=[]),y&&n.cellText!==!1&&(g.w=y),j&&(g.t="z",delete g.v),(!j||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=_))for(var ae=0;ae<R;++ae){if(D=parseInt(m["number-columns-repeated"]||"1",10),n.dense)for(p[_+ae]||(p[_+ae]=[]),p[_+ae][S]=ae==0?g:Vi(g);--D>0;)p[_+ae][S+D]=Vi(g);else for(p[$n({r:_+ae,c:S})]=g;--D>0;)p[$n({r:_+ae,c:S+D})]=Vi(g);C.e.c<=S&&(C.e.c=S)}D=parseInt(m["number-columns-repeated"]||"1",10),S+=D-1,D=0,g={},y="",x=[]}M={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;V.t=y,x.length&&(V.R=x),V.a=H,U.push(V)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);H="",K=0,y="",b=0,x=[];break;case"creator":v[1]==="/"?H=r.slice(K,v.index):K=v.index+v[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);y="",b=0,x=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(T[s.name]=l,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(l="",s=In(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=In(v[0],!1),l+=Hj[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=In(v[0],!1),l+=Hj[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(u,v.index);break}else u=v.index+v[0].length;break;case"named-range":o=In(v[0],!1),W=wM(o["cell-range-address"]);var me={Name:o.name,Ref:W[0]+"!"+W[1]};ne&&(me.Sheet=h.length),O.Names.push(me);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!m||!m["string-value"])){var ve=aAt(r.slice(b,v.index));y=(y.length>0?y+`
`:"")+ve[0]}else In(v[0],!1),b=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{W=wM(In(v[0])["target-range-address"]),d[W[0]]["!autofilter"]={ref:W[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(M=In(v[0],!1),!M.href)break;M.Target=Sr(M.href),delete M.href,M.Target.charAt(0)=="#"&&M.Target.indexOf(".")>-1?(W=wM(M.Target.slice(1)),M.Target="#"+W[0]+"!"+W[1]):M.Target.match(/^\.\.[\\\/]/)&&(M.Target=M.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(n.WTF)throw new Error(v)}}var B={Sheets:d,SheetNames:h,Workbook:O};return n.bookSheets&&delete B.Sheets,B}function Uj(e,t){t=t||{},cl(e,"META-INF/manifest.xml")&&xSt(Oa(e,"META-INF/manifest.xml"),t);var n=Ls(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=qve(ea(n),t);return cl(e,"meta.xml")&&(r.Props=uve(Oa(e,"meta.xml"))),r}function Gj(e,t){return qve(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function E8(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function yF(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ea(qg(e))}function bF(e){var t=e.reduce(function(a,i){return a+i.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function Kj(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function iAt(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,a=t+13;a>=t;--a)r=r*256+e[a];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Lw(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function ui(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function yo(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=Lw(e,n),i=a&7;a=Math.floor(a/8);var o=0,s;if(a==0)break;switch(i){case 0:{for(var l=n[0];e[n[0]++]>=128;);s=e.slice(l,n[0])}break;case 5:o=4,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Lw(e,n),s=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(r))}var u={data:s,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function A8(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function oAt(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=Lw(e,r),i=yo(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:ui(i[1][0].data),messages:[]};i[2].forEach(function(s){var l=yo(s.data),u=ui(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+u)}),r[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=ui(i[3][0].data)>>>0>0),n.push(o)}return n}function sAt(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Lw(t,n),a=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[n[0]],s>1&&(o|=t[n[0]+1]<<8),s>2&&(o|=t[n[0]+2]<<16),s>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=s}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,u=0;if(i==1?(u=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,i==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[bF(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var c=bF(a);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function lAt(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(sAt(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return bF(t)}function uAt(e,t,n,r){var a=E8(e),i=a.getUint32(4,!0),o=(r>1?12:8)+Kj(i&(r>1?3470:398))*4,s=-1,l=-1,u=NaN,c=new Date(2001,0,1);i&512&&(s=a.getUint32(o,!0),o+=4),o+=Kj(i&(r>1?12288:4096))*4,i&16&&(l=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(c.setTime(c.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:n[s]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function cAt(e,t,n){var r=E8(e),a=r.getUint32(8,!0),i=12,o=-1,s=-1,l=NaN,u=NaN,c=new Date(2001,0,1);a&1&&(l=iAt(e,i),i+=16),a&2&&(u=r.getFloat64(i,!0),i+=8),a&4&&(c.setTime(c.getTime()+r.getFloat64(i,!0)*1e3),i+=8),a&8&&(s=r.getUint32(i,!0),i+=4),a&16&&(o=r.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:c};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function fAt(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return uAt(e,t,n,e[0]);case 5:return cAt(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function vh(e){var t=yo(e);return Lw(t[1][0].data)}function jj(e,t){var n=yo(t.data),r=ui(n[1][0].data),a=n[3],i=[];return(a||[]).forEach(function(o){var s=yo(o.data),l=ui(s[1][0].data)>>>0;switch(r){case 1:i[l]=yF(s[3][0].data);break;case 8:{var u=e[vh(s[9][0].data)][0],c=yo(u.data),f=e[vh(c[1][0].data)][0],d=ui(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=yo(f.data);i[l]=h[3].map(function(p){return yF(p.data)}).join("")}break}}),i}function dAt(e,t){var n,r,a,i,o,s,l,u,c,f,d,h,p,v,g=yo(e),m=ui(g[1][0].data)>>>0,y=ui(g[2][0].data)>>>0,b=((r=(n=g[8])==null?void 0:n[0])==null?void 0:r.data)&&ui(g[8][0].data)>0||!1,x,_;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&t!=0)x=(s=(o=g[7])==null?void 0:o[0])==null?void 0:s.data,_=(u=(l=g[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(c=g[4])==null?void 0:c[0])!=null&&f.data&&t!=1)x=(h=(d=g[4])==null?void 0:d[0])==null?void 0:h.data,_=(v=(p=g[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=b?4:1,C=E8(x),k=[],T=0;T<x.length/2;++T){var I=C.getUint16(T*2,!0);I<65535&&k.push([T,I])}if(k.length!=y)throw"Expected ".concat(y," cells, found ").concat(k.length);var E=[];for(T=0;T<k.length-1;++T)E[k[T][0]]=_.subarray(k[T][1]*S,k[T+1][1]*S);return k.length>=1&&(E[k[k.length-1][0]]=_.subarray(k[k.length-1][1]*S)),{R:m,cells:E}}function hAt(e,t){var n,r=yo(t.data),a=(n=r==null?void 0:r[7])!=null&&n[0]?ui(r[7][0].data)>>>0>0?1:0:-1,i=A8(r[5],function(o){return dAt(o,a)});return{nrows:ui(r[4][0].data)>>>0,data:i.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(l,u){if(o[s.R][u])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(u));o[s.R][u]=l}),o},[])}}function pAt(e,t,n){var r,a=yo(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ui(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ui(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));n["!ref"]=br(i);var o=yo(a[4][0].data),s=jj(e,e[vh(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?jj(e,e[vh(o[17][0].data)][0]):[],u=yo(o[3][0].data),c=0;u[1].forEach(function(f){var d=yo(f.data),h=e[vh(d[2][0].data)][0],p=ui(h.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=hAt(e,h);v.data.forEach(function(g,m){g.forEach(function(y,b){var x=$n({r:c+m,c:b}),_=fAt(y,s,l);_&&(n[x]=_)})}),c+=v.nrows})}function vAt(e,t){var n=yo(t.data),r={"!ref":"A1"},a=e[vh(n[2][0].data)],i=ui(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return pAt(e,a[0],r),r}function gAt(e,t){var n,r=yo(t.data),a={name:(n=r[1])!=null&&n[0]?yF(r[1][0].data):"",sheets:[]},i=A8(r[2],vh);return i.forEach(function(o){e[o].forEach(function(s){var l=ui(s.meta[1][0].data);l==6e3&&a.sheets.push(vAt(e,s))})}),a}function mAt(e,t){var n=R8(),r=yo(t.data),a=A8(r[1],vh);if(a.forEach(function(i){e[i].forEach(function(o){var s=ui(o.meta[1][0].data);if(s==2){var l=gAt(e,o);l.sheets.forEach(function(u,c){M8(n,u,c==0?l.name:l.name+"_"+c,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function SM(e){var t,n,r,a,i={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=lAt(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var c;try{c=oAt(u)}catch(f){return console.log("## "+(f.message||f))}c.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((a=(r=(n=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:a[0].data)&&ui(i[1][0].meta[1][0].data)==1&&i[1][0];if(s||o.forEach(function(l){i[l].forEach(function(u){var c=ui(u.meta[1][0].data)>>>0;if(c==1)if(!s)s=u;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return mAt(i,s)}function yAt(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function D8(e){yAt([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function bAt(e){return dm.WS.indexOf(e)>-1?"sheet":e==dm.CS?"chart":e==dm.DS?"dialog":e==dm.MS?"macro":e&&e.length?e:"sheet"}function xAt(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,bAt(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function wAt(e,t,n,r,a,i,o,s,l,u,c,f){try{i[r]=hx(Ls(e,n,!0),t);var d=Oa(e,t),h;switch(s){case"sheet":h=IEt(d,t,a,l,i[r],u,c,f);break;case"chart":if(h=EEt(d,t,a,l,i[r],u,c,f),!h||!h["!drawel"])break;var p=Mb(h["!drawel"].Target,t),v=hF(p),g=kTt(Ls(e,p,!0),hx(Ls(e,v,!0),p)),m=Mb(g,p),y=hF(m);h=cEt(Ls(e,m,!0),m,l,hx(Ls(e,y,!0),m),u,h);break;case"macro":h=AEt(d,t,a,l,i[r],u,c,f);break;case"dialog":h=DEt(d,t,a,l,i[r],u,c,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[r]=h;var b=[];i&&i[r]&&Vc(i[r]).forEach(function(x){var _="";if(i[r][x].Type==dm.CMNT){_=Mb(i[r][x].Target,t);var S=$Et(Oa(e,_,!0),_,l);if(!S||!S.length)return;Rj(h,S,!1)}i[r][x].Type==dm.TCMNT&&(_=Mb(i[r][x].Target,t),b=b.concat(ETt(Oa(e,_,!0),l)))}),b&&b.length&&Rj(h,b,!0,l.people||[])}catch(x){if(l.WTF)throw x}}function tl(e){return e.charAt(0)=="/"?e.slice(1):e}function _At(e,t){if($pe(),t=t||{},D8(t),cl(e,"META-INF/manifest.xml")||cl(e,"objectdata.xml"))return Uj(e,t);if(cl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof SM<"u"){if(e.FileIndex)return SM(e);var n=yr.utils.cfb_new();return ij(e).forEach(function(L){S_t(n,L,__t(e,L))}),SM(n)}throw new Error("Unsupported NUMBERS file")}if(!cl(e,"[Content_Types].xml"))throw cl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):cl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=ij(e),a=ySt(Ls(e,"[Content_Types].xml")),i=!1,o,s;if(a.workbooks.length===0&&(s="xl/workbook.xml",Oa(e,s,!0)&&a.workbooks.push(s)),a.workbooks.length===0){if(s="xl/workbook.bin",!Oa(e,s,!0))throw new Error("Could not find workbook");a.workbooks.push(s),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(gx=[],a.sst)try{gx=MEt(Oa(e,tl(a.sst)),a.sst,t)}catch(L){if(t.WTF)throw L}t.cellStyles&&a.themes.length&&(l=REt(Ls(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=NEt(Oa(e,tl(a.style)),a.style,l,t))}a.links.map(function(L){try{var R=hx(Ls(e,hF(tl(L))),L);return OEt(Oa(e,tl(L)),R,L,t)}catch{}});var c=kEt(Oa(e,tl(a.workbooks[0])),a.workbooks[0],t),f={},d="";a.coreprops.length&&(d=Oa(e,tl(a.coreprops[0]),!0),d&&(f=uve(d)),a.extprops.length!==0&&(d=Oa(e,tl(a.extprops[0]),!0),d&&SSt(d,f,t)));var h={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(d=Ls(e,tl(a.custprops[0]),!0),d&&(h=TSt(d,t)));var p={};if((t.bookSheets||t.bookProps)&&(c.Sheets?o=c.Sheets.map(function(R){return R.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=h),t.bookSheets&&typeof o<"u"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var v={};t.bookDeps&&a.calcchain&&(v=LEt(Oa(e,tl(a.calcchain)),a.calcchain));var g=0,m={},y,b;{var x=c.Sheets;f.Worksheets=x.length,f.SheetNames=[];for(var _=0;_!=x.length;++_)f.SheetNames[_]=x[_].name}var S=i?"bin":"xml",C=a.workbooks[0].lastIndexOf("/"),k=(a.workbooks[0].slice(0,C+1)+"_rels/"+a.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");cl(e,k)||(k="xl/_rels/workbook."+S+".rels");var T=hx(Ls(e,k,!0),k.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=PEt(Oa(e,tl(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=ATt(Oa(e,tl(a.people[0])),t)),T&&(T=xAt(T,c.Sheets));var I=Oa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var E="sheet";if(T&&T[g]?(y="xl/"+T[g][1].replace(/[\/]?xl\//,""),cl(e,y)||(y=T[g][1]),cl(e,y)||(y=k.replace(/_rels\/.*$/,"")+T[g][1]),E=T[g][2]):(y="xl/worksheets/sheet"+(g+1-I)+"."+S,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,N=0;N!=t.sheets.length;++N)typeof t.sheets[N]=="number"&&t.sheets[N]==g&&(A=1),typeof t.sheets[N]=="string"&&t.sheets[N].toLowerCase()==f.SheetNames[g].toLowerCase()&&(A=1);if(!A)continue e}}wAt(e,y,b,f.SheetNames[g],g,m,o,E,t,c,l,u)}return p={Directory:a,Workbook:c,Props:f,Custprops:h,Deps:v,Sheets:o,SheetNames:f.SheetNames,Strings:gx,Styles:u,Themes:l,SSF:Vi(Pn)},t&&t.bookFiles&&(e.files?(p.keys=r,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(L,R){L=L.replace(/^Root Entry[\/]/,""),p.keys.push(L),p.files[L]=e.FileIndex[R]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=Oa(e,tl(a.vba[0]),!0):a.defaults&&a.defaults.bin===MTt&&(p.vbaraw=Oa(e,"xl/vbaProject.bin",!0))),p}function SAt(e,t){var n=t||{},r="Workbook",a=yr.find(e,r);try{if(r="/!DataSpaces/Version",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(v2t(a.content),r="/!DataSpaces/DataSpaceMap",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=m2t(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=y2t(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);x2t(a.content)}catch{}if(r="/EncryptionInfo",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=w2t(a.content);if(r="/EncryptedPackage",a=yr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],a.content,n.password||"",n);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],a.content,n.password||"",n);throw new Error("File is password-protected")}function N8(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Xs(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function CAt(e,t){return yr.find(e,"EncryptedPackage")?SAt(e,t):jve(e,t)}function TAt(e,t){var n,r=e,a=t||{};return a.type||(a.type=fr&&Buffer.isBuffer(e)?"buffer":"base64"),n=Vpe(r,a),_At(n,a)}function Zve(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return gF(e.slice(n),t);default:break e}return Rw.to_workbook(e,t)}function kAt(e,t){var n="",r=N8(e,t);switch(t.type){case"base64":n=Xs(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Cg(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=ea(n)),t.type="binary",Zve(n,t)}function IAt(e,t){var n=e;return t.type=="base64"&&(n=Xs(n)),n=Ew.utils.decode(1200,n.slice(2),"str"),t.type="binary",Zve(n,t)}function EAt(e){return e.match(/[^\x00-\x7F]/)?$b(e):e}function CM(e,t,n,r){return r?(n.type="string",Rw.to_workbook(e,n)):Rw.to_workbook(t,n)}function xF(e,t){_pe();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return xF(new Uint8Array(e),(n=Vi(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,a=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Om={},n.dateNF&&(Om.dateNF=n.dateNF),n.type||(n.type=fr&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=fr?"buffer":"binary",r=v_t(e),typeof Uint8Array<"u"&&!fr&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,r=EAt(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return n=Vi(n),n.type="array",xF(u8(r),n)}switch((a=N8(r,n))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return CAt(yr.read(r,n),n);break;case 9:if(a[1]<=8)return jve(r,n);break;case 60:return gF(r,n);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return n2t(r,n);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return e2t.to_workbook(r,n);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?TAt(r,n):CM(e,r,n,i);case 239:return a[3]===60?gF(r,n):CM(e,r,n,i);case 255:if(a[1]===254)return IAt(r,n);if(a[1]===0&&a[2]===2&&a[3]===0)return vx.to_workbook(r,n);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return vx.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return Nj.to_workbook(r,n);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return M2t.to_workbook(r,n);break;case 10:case 13:case 32:return kAt(r,n);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return JCt.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?Nj.to_workbook(r,n):CM(e,r,n,i)}function AAt(e,t,n,r,a,i,o,s){var l=zi(n),u=s.defval,c=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,d=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch{d.__rowNum__=n}else d.__rowNum__=n;if(!o||e[n])for(var h=t.s.c;h<=t.e.c;++h){var p=o?e[n][h]:e[r[h]+l];if(p===void 0||p.t===void 0){if(u===void 0)continue;i[h]!=null&&(d[i[h]]=u);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[h]!=null){if(v==null)if(p.t=="e"&&v===null)d[i[h]]=null;else if(u!==void 0)d[i[h]]=u;else if(c&&v===null)d[i[h]]=null;else continue;else d[i[h]]=c&&(p.t!=="n"||p.t==="n"&&s.rawNumbers!==!1)?v:jf(p,v,s);v!=null&&(f=!1)}}return{row:d,isempty:f}}function wF(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=u.range!=null?u.range:e["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof c){case"string":l=_a(c);break;case"number":l=_a(e["!ref"]),l.s.r=c;break;default:l=c}r>0&&(a=0);var f=zi(l.s.r),d=[],h=[],p=0,v=0,g=Array.isArray(e),m=l.s.r,y=0,b={};g&&!e[m]&&(e[m]=[]);var x=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(x[y]||{}).hidden)switch(d[y]=ai(y),n=g?e[m][y]:e[d[y]+f],r){case 1:i[y]=y-l.s.c;break;case 2:i[y]=d[y];break;case 3:i[y]=u.header[y-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),s=o=jf(n,null,u),v=b[o]||0,!v)b[o]=1;else{do s=o+"_"+v++;while(b[s]);b[o]=v,b[s]=1}i[y]=s}for(m=l.s.r+a;m<=l.e.r;++m)if(!(_[m]||{}).hidden){var S=AAt(e,l,m,d,r,i,g,u);(S.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(h[p++]=S.row)}return h.length=p,h}var Yj=/"/g;function DAt(e,t,n,r,a,i,o,s){for(var l=!0,u=[],c="",f=zi(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var h=s.dense?(e[n]||[])[d]:e[r[d]+f];if(h==null)c="";else if(h.v!=null){l=!1,c=""+(s.rawNumbers&&h.t=="n"?h.v:jf(h,null,s));for(var p=0,v=0;p!==c.length;++p)if((v=c.charCodeAt(p))===a||v===i||v===34||s.forceQuotes){c='"'+c.replace(Yj,'""')+'"';break}c=="ID"&&(c='"ID"')}else h.f!=null&&!h.F?(l=!1,c="="+h.f,c.indexOf(",")>=0&&(c='"'+c.replace(Yj,'""')+'"')):c="";u.push(c)}return s.blankrows===!1&&l?null:u.join(o)}function Jve(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=_a(e["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),s=r.RS!==void 0?r.RS:`
`,l=s.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),c="",f=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],h=r.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(d[p]||{}).hidden||(f[p]=ai(p));for(var v=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(c=DAt(e,a,g,f,o,l,i,r),c!=null&&(r.strip&&(c=c.replace(u,"")),(c||r.blankrows!==!1)&&n.push((v++?s:"")+c)));return delete r.dense,n.join("")}function NAt(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=Jve(e,t);return n}function RAt(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=_a(e["!ref"]),i="",o=[],s,l=[],u=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=ai(s);for(var c=a.s.r;c<=a.e.r;++c)for(i=zi(c),s=a.s.c;s<=a.e.c;++s)if(t=o[s]+i,n=u?(e[c]||[])[s]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function Qve(e,t,n){var r=n||{},a=+!r.skipHeader,i=e||{},o=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?jo(r.origin):r.origin;o=l.r,s=l.c}var u,c={s:{c:0,r:0},e:{c:s,r:o+t.length-1+a}};if(i["!ref"]){var f=_a(i["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),o==-1&&(o=f.e.r+1,c.e.r=o+t.length-1+a)}else o==-1&&(o=0,c.e.r=t.length-1+a);var d=r.header||[],h=0;t.forEach(function(v,g){Vc(v).forEach(function(m){(h=d.indexOf(m))==-1&&(d[h=d.length]=m);var y=v[m],b="z",x="",_=$n({c:s+h,r:o+g+a});u=Ow(i,_),y&&typeof y=="object"&&!(y instanceof Date)?i[_]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",r.cellDates||(b="n",y=as(y)),x=r.dateNF||Pn[14]):y===null&&r.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,x&&(u.z=x)):i[_]=u={t:b,v:y},x&&(u.z=x))})}),c.e.c=Math.max(c.e.c,s+d.length-1);var p=zi(o);if(a)for(h=0;h<d.length;++h)i[ai(h+s)+p]={t:"s",v:d[h]};return i["!ref"]=br(c),i}function MAt(e,t){return Qve(null,e,t)}function Ow(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=jo(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ow(e,$n(t)):Ow(e,$n({r:t,c:n||0}))}function $At(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function R8(){return{SheetNames:[],Sheets:{}}}function M8(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(yEt(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function LAt(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=$At(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function OAt(e,t){return e.z=t,e}function ege(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function PAt(e,t,n){return ege(e,"#"+t,n)}function FAt(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function BAt(e,t,n,r){for(var a=typeof t!="string"?t:_a(t),i=typeof t=="string"?t:br(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=Ow(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=n,r&&(l.D=!0))}return e}var VAt={encode_col:ai,encode_row:zi,encode_cell:$n,encode_range:br,decode_col:y8,decode_row:m8,split_cell:Z_t,decode_cell:jo,decode_range:f1,format_cell:jf,sheet_add_aoa:ave,sheet_add_json:Qve,sheet_add_dom:Yve,aoa_to_sheet:d1,json_to_sheet:MAt,table_to_sheet:Xve,table_to_book:nAt,sheet_to_csv:Jve,sheet_to_txt:NAt,sheet_to_json:wF,sheet_to_html:tAt,sheet_to_formulae:RAt,sheet_to_row_object_array:wF,sheet_get_cell:Ow,book_new:R8,book_append_sheet:M8,book_set_sheet_visibility:LAt,cell_set_number_format:OAt,cell_set_hyperlink:ege,cell_set_internal_link:PAt,cell_add_comment:FAt,sheet_set_array_formula:BAt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const gN=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},zAt={class:"el-upload__text"},WAt={class:"el-upload__tip"},HAt={__name:"UploadDialog",props:{visible:{type:Boolean,required:!0}},emits:["update:visible","file-processed"],setup(e,{emit:t}){const n=t,{t:r}=dp(),a=Y(!1),i=Y(null),o=()=>{n("update:visible",!1)},s=d=>new Promise((h,p)=>{const v=new FileReader;v.onload=g=>h(g.target.result),v.onerror=g=>p(g),v.readAsText(d)}),l=d=>new Promise((h,p)=>{const v=new FileReader;v.onload=g=>h(g.target.result),v.onerror=g=>p(g),v.readAsArrayBuffer(d)}),u=d=>!d||!d.length?!1:d.every(p=>!p||!Array.isArray(p)?!1:p.length>=oc.length),c=async d=>{if(a.value||i.value===d)return!1;i.value=d,a.value=!0;try{const h=d.raw.name.toLowerCase().split(".").pop();let p=[];if(h==="csv")p=(await s(d.raw)).split(`
`).filter(b=>b.trim()).map(b=>b.split(",").map(x=>x.trim()));else if(h==="xlsx"||h==="xls"){const y=await l(d.raw),b=xF(y,{type:"array"}),x=b.Sheets[b.SheetNames[0]];p=VAt.sheet_to_json(x,{header:1})}const v=p[0],g=[],m=oc.map(y=>v.indexOf(y));if(m.some(y=>y===-1))throw new Error("缺少必要的列");for(let y=1;y<p.length;y++){const b=p[y];if(b&&b.length){const x=m.map(_=>{const S=parseFloat(b[_]);return isNaN(S)?0:S});g.push(x)}}if(!u(g)){yi.error(r("message.uploadFail"));return}n("file-processed",g,d.raw.name),n("update:visible",!1),yi.success(r("message.uploadSuccess"))}catch(h){console.error("文件处理错误:",h),yi.error(r("message.uploadError"))}finally{a.value=!1,setTimeout(()=>{i.value=null},1e3)}},f=d=>(c(d),!1);return(d,h)=>{const p=Ft("el-icon"),v=Ft("el-upload"),g=Ft("el-dialog");return z(),Ae(g,{"model-value":e.visible,title:w(r)("upload.title"),onClose:o,width:"30%"},{default:fe(()=>[ie(v,{class:"upload-demo",drag:"","auto-upload":!1,"show-file-list":!1,"on-change":f,accept:".csv,.xlsx,.xls"},{tip:fe(()=>[Z("div",WAt,Ve(w(r)("upload.tip")),1)]),default:fe(()=>[ie(p,{class:"el-icon--upload"},{default:fe(()=>[ie(w(GAe))]),_:1}),Z("div",zAt,[Kt(Ve(w(r)("upload.drag"))+" ",1),Z("em",null,Ve(w(r)("upload.or"))+Ve(w(r)("upload.click")),1)])]),_:1})]),_:1},8,["model-value","title"])}}},UAt=gN(HAt,[["__scopeId","data-v-9196b71a"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _F=function(e,t){return _F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},_F(e,t)};function Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_F(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var GAt=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),KAt=function(){function e(){this.browser=new GAt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Nn=new KAt;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Nn.wxa=!0,Nn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Nn.worker=!0:!Nn.hasGlobalWindow||"Deno"in window?(Nn.node=!0,Nn.svgSupported=!0):jAt(navigator.userAgent,Nn);function jAt(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]),a&&(n.ie=!0,n.version=a[1]),i&&(n.edge=!0,n.version=i[1],n.newEdge=+i[1].split(".")[0]>18),o&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}var $8=12,tge="sans-serif",Fh=$8+"px "+tge,YAt=20,XAt=100,qAt="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function ZAt(e){var t={};if(typeof JSON>"u")return t;for(var n=0;n<e.length;n++){var r=String.fromCharCode(n+32),a=(e.charCodeAt(n)-YAt)/XAt;t[r]=a}return t}var JAt=ZAt(qAt),Bh={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,r){if(!e){var a=Bh.createCanvas();e=a&&a.getContext("2d")}if(e)return t!==r&&(t=e.font=r||Fh),e.measureText(n);n=n||"",r=r||Fh;var i=/((?:\d+)?\.?\d*)px/.exec(r),o=i&&+i[1]||$8,s=0;if(r.indexOf("mono")>=0)s=o*n.length;else for(var l=0;l<n.length;l++){var u=JAt[n[l]];s+=u==null?o:u*o}return{width:s}}}(),loadImage:function(e,t,n){var r=new Image;return r.onload=t,r.onerror=n,r.src=e,r}},nge=zc(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),rge=zc(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),h1=Object.prototype.toString,mN=Array.prototype,QAt=mN.forEach,eDt=mN.filter,L8=mN.slice,tDt=mN.map,Xj=(function(){}).constructor,_2=Xj?Xj.prototype:null,O8="__proto__",nDt=2311;function age(){return nDt++}function P8(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function en(e){if(e==null||typeof e!="object")return e;var t=e,n=h1.call(e);if(n==="[object Array]"){if(!bx(e)){t=[];for(var r=0,a=e.length;r<a;r++)t[r]=en(e[r])}}else if(rge[n]){if(!bx(e)){var i=e.constructor;if(i.from)t=i.from(e);else{t=new i(e.length);for(var r=0,a=e.length;r<a;r++)t[r]=e[r]}}}else if(!nge[n]&&!bx(e)&&!Ty(e)){t={};for(var o in e)e.hasOwnProperty(o)&&o!==O8&&(t[o]=en(e[o]))}return t}function mn(e,t,n){if(!Jt(t)||!Jt(e))return n?en(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==O8){var a=e[r],i=t[r];Jt(i)&&Jt(a)&&!st(i)&&!st(a)&&!Ty(i)&&!Ty(a)&&!qj(i)&&!qj(a)&&!bx(i)&&!bx(a)?mn(a,i,n):(n||!(r in e))&&(e[r]=en(t[r]))}return e}function F8(e,t){for(var n=e[0],r=1,a=e.length;r<a;r++)n=mn(n,e[r],t);return n}function rt(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==O8&&(e[n]=t[n]);return e}function Xt(e,t,n){for(var r=Mn(t),a=0,i=r.length;a<i;a++){var o=r[a];(n?t[o]!=null:e[o]==null)&&(e[o]=t[o])}return e}function Cn(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function rDt(e,t){var n=e.prototype;function r(){}r.prototype=t.prototype,e.prototype=new r;for(var a in n)n.hasOwnProperty(a)&&(e.prototype[a]=n[a]);e.prototype.constructor=e,e.superClass=t}function $a(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a];i!=="constructor"&&(n?t[i]!=null:e[i]==null)&&(e[i]=t[i])}else Xt(e,t,n)}function Co(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function X(e,t,n){if(e&&t)if(e.forEach&&e.forEach===QAt)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function ut(e,t,n){if(!e)return[];if(!t)return B8(e);if(e.map&&e.map===tDt)return e.map(t,n);for(var r=[],a=0,i=e.length;a<i;a++)r.push(t.call(n,e[a],a,e));return r}function zc(e,t,n,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)n=t.call(r,n,e[a],a,e);return n}}function sr(e,t,n){if(!e)return[];if(!t)return B8(e);if(e.filter&&e.filter===eDt)return e.filter(t,n);for(var r=[],a=0,i=e.length;a<i;a++)t.call(n,e[a],a,e)&&r.push(e[a]);return r}function aDt(e,t,n){if(e&&t){for(var r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return e[r]}}function Mn(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function iDt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(L8.call(arguments)))}}var Nt=_2&&Yt(_2.bind)?_2.call.bind(_2.bind):iDt;function vn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(L8.call(arguments)))}}function st(e){return Array.isArray?Array.isArray(e):h1.call(e)==="[object Array]"}function Yt(e){return typeof e=="function"}function Dt(e){return typeof e=="string"}function SF(e){return h1.call(e)==="[object String]"}function Kn(e){return typeof e=="number"}function Jt(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function qj(e){return!!nge[h1.call(e)]}function As(e){return!!rge[h1.call(e)]}function Ty(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function yN(e){return e.colorStops!=null}function oDt(e){return e.image!=null}function sDt(e){return h1.call(e)==="[object RegExp]"}function Pw(e){return e!==e}function Si(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(e[n]!=null)return e[n]}function fn(e,t){return e??t}function Ac(e,t,n){return e??t??n}function B8(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return L8.apply(e,t)}function V8(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function is(e,t){if(!e)throw new Error(t)}function yu(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ige="__ec_primitive__";function JI(e){e[ige]=!0}function bx(e){return e[ige]}var lDt=function(){function e(){this.data={}}return e.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,n){return this.data[t]=n,this},e.prototype.keys=function(){return Mn(this.data)},e.prototype.forEach=function(t){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)},e}(),oge=typeof Map=="function";function uDt(){return oge?new Map:new lDt}var cDt=function(){function e(t){var n=st(t);this.data=uDt();var r=this;t instanceof e?t.each(a):t&&X(t,a);function a(i,o){n?r.set(i,o):r.set(o,i)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,n){return this.data.set(t,n),n},e.prototype.each=function(t,n){this.data.forEach(function(r,a){t.call(n,r,a)})},e.prototype.keys=function(){var t=this.data.keys();return oge?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Pt(e){return new cDt(e)}function Fw(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];for(var a=e.length,r=0;r<t.length;r++)n[r+a]=t[r];return n}function bN(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&rt(n,t),n}function sge(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Mt(e,t){return e.hasOwnProperty(t)}function ba(){}var fk=180/Math.PI;function t0(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function $o(e,t){return e[0]=t[0],e[1]=t[1],e}function $f(e){return[e[0],e[1]]}function fDt(e,t,n){return e[0]=t,e[1]=n,e}function Zj(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function CF(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function Tv(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function TF(e){return Math.sqrt(dDt(e))}function dDt(e){return e[0]*e[0]+e[1]*e[1]}function dk(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function p1(e,t){var n=TF(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function kF(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Zd=kF;function hDt(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Hv=hDt;function hk(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function Wi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function Jd(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Qd(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var k0=function(){function e(t,n){this.target=t,this.topTarget=n&&n.topTarget}return e}(),pDt=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new k0(n,t),"dragstart",t.event))},e.prototype._drag=function(t){var n=this._draggingTarget;if(n){var r=t.offsetX,a=t.offsetY,i=r-this._x,o=a-this._y;this._x=r,this._y=a,n.drift(i,o,t),this.handler.dispatchToElement(new k0(n,t),"drag",t.event);var s=this.handler.findHover(r,a,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new k0(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new k0(s,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new k0(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new k0(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),Gl=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,n,r,a){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof n=="function"&&(a=r,r=n,n=null),!r||!t)return this;var o=this._$eventProcessor;n!=null&&o&&o.normalizeQuery&&(n=o.normalizeQuery(n)),i[t]||(i[t]=[]);for(var s=0;s<i[t].length;s++)if(i[t][s].h===r)return this;var l={h:r,query:n,ctx:a||this,callAtLast:r.zrEventfulCallAtLast},u=i[t].length-1,c=i[t][u];return c&&c.callAtLast?i[t].splice(u,0,l):i[t].push(l),this},e.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},e.prototype.off=function(t,n){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(n){if(r[t]){for(var a=[],i=0,o=r[t].length;i<o;i++)r[t][i].h!==n&&a.push(r[t][i]);r[t]=a}r[t]&&r[t].length===0&&delete r[t]}else delete r[t];return this},e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var o=n.length,s=a.length,l=0;l<s;l++){var u=a[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,n[0]);break;case 2:u.h.call(u.ctx,n[0],n[1]);break;default:u.h.apply(u.ctx,n);break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var o=n.length,s=n[o-1],l=a.length,u=0;u<l;u++){var c=a[u];if(!(i&&i.filter&&c.query!=null&&!i.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,n[0]);break;case 2:c.h.call(s,n[0],n[1]);break;default:c.h.apply(s,n.slice(1,o-1));break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e}(),vDt=Math.log(2);function IF(e,t,n,r,a,i){var o=r+"-"+a,s=e.length;if(i.hasOwnProperty(o))return i[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~a)/vDt);return e[n][l]}for(var u=r|1<<n,c=n+1;r&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var p=1<<d;p&a||(f+=(h%2?-1:1)*e[n][d]*IF(e,t-1,c,u,a|p,i),h++)}return i[o]=f,f}function Jj(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},a=IF(n,8,0,0,0,r);if(a!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*IF(n,7,o===0?1:0,1<<o,1<<s,r)/a*t[o];return function(l,u,c){var f=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/f,l[1]=(u*i[3]+c*i[4]+i[5])/f}}}var Qj="___zrEVENTSAVED",TM=[];function gDt(e,t,n,r,a){return EF(TM,t,r,a,!0)&&EF(e,n,TM[0],TM[1])}function EF(e,t,n,r,a){if(t.getBoundingClientRect&&Nn.domSupported&&!lge(t)){var i=t[Qj]||(t[Qj]={}),o=mDt(t,i),s=yDt(o,i,a);if(s)return s(e,n,r),!0}return!1}function mDt(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],a=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",a[u]+":0",r[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function yDt(e,t,n){for(var r=n?"invTrans":"trans",a=t[r],i=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;o.push(d,h),l=l&&i&&d===i[f]&&h===i[f+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&a?a:(t.srcCoords=o,t[r]=n?Jj(s,o):Jj(o,s))}function lge(e){return e.nodeName.toUpperCase()==="CANVAS"}var bDt=/([&<>"'])/g,xDt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Uo(e){return e==null?"":(e+"").replace(bDt,function(t,n){return xDt[n]})}var wDt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kM=[],_Dt=Nn.browser.firefox&&+Nn.browser.version.split(".")[0]<39;function AF(e,t,n,r){return n=n||{},r?eY(e,t,n):_Dt&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):eY(e,t,n),n}function eY(e,t,n){if(Nn.domSupported&&e.getBoundingClientRect){var r=t.clientX,a=t.clientY;if(lge(e)){var i=e.getBoundingClientRect();n.zrX=r-i.left,n.zrY=a-i.top;return}else if(EF(kM,e,r,a)){n.zrX=kM[0],n.zrY=kM[1];return}}n.zrX=n.zrY=0}function z8(e){return e||window.event}function fl(e,t,n){if(t=z8(t),t.zrX!=null)return t;var r=t.type,a=r&&r.indexOf("touch")>=0;if(a){var o=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&AF(e,o,t,n)}else{AF(e,t,t,n);var i=SDt(t);t.zrDelta=i?i/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&wDt.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function SDt(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(n==null||r==null)return t;var a=Math.abs(r!==0?r:n),i=r>0?-1:r<0?1:n>0?-1:1;return 3*a*i}function DF(e,t,n,r){e.addEventListener(t,n,r)}function CDt(e,t,n,r){e.removeEventListener(t,n,r)}var Yf=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function tY(e){return e.which===2||e.which===3}var TDt=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,n,r){return this._doTrack(t,n,r),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,n,r){var a=t.touches;if(a){for(var i={points:[],touches:[],target:n,event:t},o=0,s=a.length;o<s;o++){var l=a[o],u=AF(r,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},e.prototype._recognize=function(t){for(var n in IM)if(IM.hasOwnProperty(n)){var r=IM[n](this._track,t);if(r)return r}},e}();function nY(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function kDt(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var IM={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,a=(e[n-2]||{}).points||r;if(a&&a.length>1&&r&&r.length>1){var i=nY(r)/nY(a);!isFinite(i)&&(i=1),t.pinchScale=i;var o=kDt(r);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}};function Us(){return[1,0,0,1,0,0]}function xN(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function W8(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Lf(e,t,n){var r=t[0]*n[0]+t[2]*n[1],a=t[1]*n[0]+t[3]*n[1],i=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e}function Wc(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function n0(e,t,n,r){r===void 0&&(r=[0,0]);var a=t[0],i=t[2],o=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(n),f=Math.cos(n);return e[0]=a*f+s*c,e[1]=-a*c+s*f,e[2]=i*f+l*c,e[3]=-i*c+f*l,e[4]=f*(o-r[0])+c*(u-r[1])+r[0],e[5]=f*(u-r[1])-c*(o-r[0])+r[1],e}function H8(e,t,n){var r=n[0],a=n[1];return e[0]=t[0]*r,e[1]=t[1]*a,e[2]=t[2]*r,e[3]=t[3]*a,e[4]=t[4]*r,e[5]=t[5]*a,e}function v1(e,t){var n=t[0],r=t[2],a=t[4],i=t[1],o=t[3],s=t[5],l=n*o-i*r;return l?(l=1/l,e[0]=o*l,e[1]=-i*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-o*a)*l,e[5]=(i*a-n*s)*l,e):null}function IDt(e){var t=Us();return W8(t,e),t}var bn=function(){function e(t,n){this.x=t||0,this.y=n||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,n){return this.x=t,this.y=n,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)},e.prototype.distanceSquare=function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var n=this.x,r=this.y;return this.x=t[0]*n+t[2]*r+t[4],this.y=t[1]*n+t[3]*r+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,n,r){t.x=n,t.y=r},e.copy=function(t,n){t.x=n.x,t.y=n.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,n){return t.x*n.x+t.y*n.y},e.add=function(t,n,r){t.x=n.x+r.x,t.y=n.y+r.y},e.sub=function(t,n,r){t.x=n.x-r.x,t.y=n.y-r.y},e.scale=function(t,n,r){t.x=n.x*r,t.y=n.y*r},e.scaleAndAdd=function(t,n,r,a){t.x=n.x+r.x*a,t.y=n.y+r.y*a},e.lerp=function(t,n,r,a){var i=1-a;t.x=i*n.x+a*r.x,t.y=i*n.y+a*r.y},e}(),S2=Math.min,C2=Math.max,kp=new bn,Ip=new bn,Ep=new bn,Ap=new bn,K1=new bn,j1=new bn,xn=function(){function e(t,n,r,a){r<0&&(t=t+r,r=-r),a<0&&(n=n+a,a=-a),this.x=t,this.y=n,this.width=r,this.height=a}return e.prototype.union=function(t){var n=S2(t.x,this.x),r=S2(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=C2(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=C2(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=n,this.y=r},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var n=this,r=t.width/n.width,a=t.height/n.height,i=Us();return Wc(i,i,[-n.x,-n.y]),H8(i,i,[r,a]),Wc(i,i,[t.x,t.y]),i},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,a=r.x,i=r.x+r.width,o=r.y,s=r.y+r.height,l=t.x,u=t.x+t.width,c=t.y,f=t.y+t.height,d=!(i<l||u<a||s<c||f<o);if(n){var h=1/0,p=0,v=Math.abs(i-l),g=Math.abs(u-a),m=Math.abs(s-c),y=Math.abs(f-o),b=Math.min(v,g),x=Math.min(m,y);i<l||u<a?b>p&&(p=b,v<g?bn.set(j1,-v,0):bn.set(j1,g,0)):b<h&&(h=b,v<g?bn.set(K1,v,0):bn.set(K1,-g,0)),s<c||f<o?x>p&&(p=x,m<y?bn.set(j1,0,-m):bn.set(j1,0,y)):b<h&&(h=b,m<y?bn.set(K1,0,m):bn.set(K1,0,-y))}return n&&bn.copy(n,d?K1:j1),d},e.prototype.contain=function(t,n){var r=this;return t>=r.x&&t<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},e.applyTransform=function(t,n,r){if(!r){t!==n&&e.copy(t,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var a=r[0],i=r[3],o=r[4],s=r[5];t.x=n.x*a+o,t.y=n.y*i+s,t.width=n.width*a,t.height=n.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}kp.x=Ep.x=n.x,kp.y=Ap.y=n.y,Ip.x=Ap.x=n.x+n.width,Ip.y=Ep.y=n.y+n.height,kp.transform(r),Ap.transform(r),Ip.transform(r),Ep.transform(r),t.x=S2(kp.x,Ip.x,Ep.x,Ap.x),t.y=S2(kp.y,Ip.y,Ep.y,Ap.y);var l=C2(kp.x,Ip.x,Ep.x,Ap.x),u=C2(kp.y,Ip.y,Ep.y,Ap.y);t.width=l-t.x,t.height=u-t.y},e}(),uge="silent";function EDt(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:ADt}}function ADt(){Yf(this.event)}var DDt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Gl),Y1=function(){function e(t,n){this.x=t,this.y=n}return e}(),NDt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],EM=new xn(0,0,0,0),cge=function(e){Le(t,e);function t(n,r,a,i,o){var s=e.call(this)||this;return s._hovered=new Y1(0,0),s.storage=n,s.painter=r,s.painterRoot=i,s._pointerSize=o,a=a||new DDt,s.proxy=null,s.setHandlerProxy(a),s._draggingMgr=new pDt(s),s}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(X(NDt,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var r=n.zrX,a=n.zrY,i=fge(this,r,a),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=i?new Y1(r,a):this.findHover(r,a),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",n),this.dispatchToElement(l,"mousemove",n),u&&u!==s&&this.dispatchToElement(l,"mouseover",n)},t.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new Y1(0,0)},t.prototype.dispatch=function(n,r){var a=this[n];a&&a.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},t.prototype.dispatchToElement=function(n,r,a){n=n||{};var i=n.target;if(!(i&&i.silent)){for(var o="on"+r,s=EDt(r,n,a);i&&(i[o]&&(s.cancelBubble=!!i[o].call(i,s)),i.trigger(r,s),i=i.__hostTarget?i.__hostTarget:i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},t.prototype.findHover=function(n,r,a){var i=this.storage.getDisplayList(),o=new Y1(n,r);if(rY(i,o,n,r,a),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new xn(n-u,r-u,l,l),f=i.length-1;f>=0;f--){var d=i[f];d!==a&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(EM.copy(d.getBoundingRect()),d.transform&&EM.applyTransform(d.transform),EM.intersect(c)&&s.push(d))}if(s.length)for(var h=4,p=Math.PI/12,v=Math.PI*2,g=0;g<u;g+=h)for(var m=0;m<v;m+=p){var y=n+g*Math.cos(m),b=r+g*Math.sin(m);if(rY(s,o,y,b,a),o.target)return o}}return o},t.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new TDt);var a=this._gestureMgr;r==="start"&&a.clear();var i=a.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&a.clear(),i){var o=i.type;n.gestureEvent=o;var s=new Y1;s.target=i.target,this.dispatchToElement(s,o,i.event)}},t}(Gl);X(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){cge.prototype[e]=function(t){var n=t.zrX,r=t.zrY,a=fge(this,n,r),i,o;if((e!=="mouseup"||!a)&&(i=this.findHover(n,r),o=i.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||Zd(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});function RDt(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,a=void 0,i=!1;r;){if(r.ignoreClip&&(i=!0),!i){var o=r.getClipPath();if(o&&!o.contain(t,n))return!1}r.silent&&(a=!0);var s=r.__hostTarget;r=s||r.parent}return a?uge:!0}return!1}function rY(e,t,n,r,a){for(var i=e.length-1;i>=0;i--){var o=e[i],s=void 0;if(o!==a&&!o.ignore&&(s=RDt(o,n,r))&&(!t.topTarget&&(t.topTarget=o),s!==uge)){t.target=o;break}}}function fge(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var dge=32,X1=7;function MDt(e){for(var t=0;e>=dge;)t|=e&1,e>>=1;return e+t}function aY(e,t,n,r){var a=t+1;if(a===n)return 1;if(r(e[a++],e[t])<0){for(;a<n&&r(e[a],e[a-1])<0;)a++;$Dt(e,t,a)}else for(;a<n&&r(e[a],e[a-1])>=0;)a++;return a-t}function $Dt(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function iY(e,t,n,r,a){for(r===t&&r++;r<n;r++){for(var i=e[r],o=t,s=r,l;o<s;)l=o+s>>>1,a(i,e[l])<0?s=l:o=l+1;var u=r-o;switch(u){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;u>0;)e[o+u]=e[o+u-1],u--}e[o]=i}}function AM(e,t,n,r,a,i){var o=0,s=0,l=1;if(i(e,t[n+a])>0){for(s=r-a;l<s&&i(e,t[n+a+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}else{for(s=a+1;l<s&&i(e,t[n+a-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])>0?o=c+1:l=c}return l}function DM(e,t,n,r,a,i){var o=0,s=0,l=1;if(i(e,t[n+a])<0){for(s=a+1;l<s&&i(e,t[n+a-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}else{for(s=r-a;l<s&&i(e,t[n+a+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])<0?l=c:o=c+1}return l}function LDt(e,t){var n=X1,r,a,i=0,o=[];r=[],a=[];function s(h,p){r[i]=h,a[i]=p,i+=1}function l(){for(;i>1;){var h=i-2;if(h>=1&&a[h-1]<=a[h]+a[h+1]||h>=2&&a[h-2]<=a[h]+a[h-1])a[h-1]<a[h+1]&&h--;else if(a[h]>a[h+1])break;c(h)}}function u(){for(;i>1;){var h=i-2;h>0&&a[h-1]<a[h+1]&&h--,c(h)}}function c(h){var p=r[h],v=a[h],g=r[h+1],m=a[h+1];a[h]=v+m,h===i-3&&(r[h+1]=r[h+2],a[h+1]=a[h+2]),i--;var y=DM(e[g],e,p,v,0,t);p+=y,v-=y,v!==0&&(m=AM(e[p+v-1],e,g,m,m-1,t),m!==0&&(v<=m?f(p,v,g,m):d(p,v,g,m)))}function f(h,p,v,g){var m=0;for(m=0;m<p;m++)o[m]=e[h+m];var y=0,b=v,x=h;if(e[x++]=e[b++],--g===0){for(m=0;m<p;m++)e[x+m]=o[y+m];return}if(p===1){for(m=0;m<g;m++)e[x+m]=e[b+m];e[x+g]=o[y];return}for(var _=n,S,C,k;;){S=0,C=0,k=!1;do if(t(e[b],o[y])<0){if(e[x++]=e[b++],C++,S=0,--g===0){k=!0;break}}else if(e[x++]=o[y++],S++,C=0,--p===1){k=!0;break}while((S|C)<_);if(k)break;do{if(S=DM(e[b],o,y,p,0,t),S!==0){for(m=0;m<S;m++)e[x+m]=o[y+m];if(x+=S,y+=S,p-=S,p<=1){k=!0;break}}if(e[x++]=e[b++],--g===0){k=!0;break}if(C=AM(o[y],e,b,g,0,t),C!==0){for(m=0;m<C;m++)e[x+m]=e[b+m];if(x+=C,b+=C,g-=C,g===0){k=!0;break}}if(e[x++]=o[y++],--p===1){k=!0;break}_--}while(S>=X1||C>=X1);if(k)break;_<0&&(_=0),_+=2}if(n=_,n<1&&(n=1),p===1){for(m=0;m<g;m++)e[x+m]=e[b+m];e[x+g]=o[y]}else{if(p===0)throw new Error;for(m=0;m<p;m++)e[x+m]=o[y+m]}}function d(h,p,v,g){var m=0;for(m=0;m<g;m++)o[m]=e[v+m];var y=h+p-1,b=g-1,x=v+g-1,_=0,S=0;if(e[x--]=e[y--],--p===0){for(_=x-(g-1),m=0;m<g;m++)e[_+m]=o[m];return}if(g===1){for(x-=p,y-=p,S=x+1,_=y+1,m=p-1;m>=0;m--)e[S+m]=e[_+m];e[x]=o[b];return}for(var C=n;;){var k=0,T=0,I=!1;do if(t(o[b],e[y])<0){if(e[x--]=e[y--],k++,T=0,--p===0){I=!0;break}}else if(e[x--]=o[b--],T++,k=0,--g===1){I=!0;break}while((k|T)<C);if(I)break;do{if(k=p-DM(o[b],e,h,p,p-1,t),k!==0){for(x-=k,y-=k,p-=k,S=x+1,_=y+1,m=k-1;m>=0;m--)e[S+m]=e[_+m];if(p===0){I=!0;break}}if(e[x--]=o[b--],--g===1){I=!0;break}if(T=g-AM(e[y],o,0,g,g-1,t),T!==0){for(x-=T,b-=T,g-=T,S=x+1,_=b+1,m=0;m<T;m++)e[S+m]=o[_+m];if(g<=1){I=!0;break}}if(e[x--]=e[y--],--p===0){I=!0;break}C--}while(k>=X1||T>=X1);if(I)break;C<0&&(C=0),C+=2}if(n=C,n<1&&(n=1),g===1){for(x-=p,y-=p,S=x+1,_=y+1,m=p-1;m>=0;m--)e[S+m]=e[_+m];e[x]=o[b]}else{if(g===0)throw new Error;for(_=x-(g-1),m=0;m<g;m++)e[_+m]=o[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function pk(e,t,n,r){n||(n=0),r||(r=e.length);var a=r-n;if(!(a<2)){var i=0;if(a<dge){i=aY(e,n,r,t),iY(e,n,r,n+i,t);return}var o=LDt(e,t),s=MDt(a);do{if(i=aY(e,n,r,t),i<s){var l=a;l>s&&(l=s),iY(e,n,n+l,n+i,t),i=l}o.pushRun(n,i),o.mergeRuns(),a-=i,n+=i}while(a!==0);o.forceMergeRuns()}}var Os=1,Lb=2,am=4,oY=!1;function NM(){oY||(oY=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function sY(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var ODt=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=sY}return e.prototype.traverse=function(t,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,n)},e.prototype.getDisplayList=function(t,n){n=n||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(n),r},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,r=this._displayList,a=0,i=n.length;a<i;a++)this._updateAndAddDisplayable(n[a],null,t);r.length=this._displayListLen,pk(r,sY)},e.prototype._updateAndAddDisplayable=function(t,n,r){if(!(t.ignore&&!r)){t.beforeUpdate(),t.update(),t.afterUpdate();var a=t.getClipPath();if(t.ignoreClip)n=null;else if(a){n?n=n.slice():n=[];for(var i=a,o=t;i;)i.parent=o,i.updateTransform(),n.push(i),o=i,i=i.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=Os),this._updateAndAddDisplayable(u,n,r)}t.__dirty=0}else{var c=t;n&&n.length?c.__clipPaths=n:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(NM(),c.z=0),isNaN(c.z2)&&(NM(),c.z2=0),isNaN(c.zlevel)&&(NM(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=t.getDecalElement&&t.getDecalElement();f&&this._updateAndAddDisplayable(f,n,r);var d=t.getTextGuideLine();d&&this._updateAndAddDisplayable(d,n,r);var h=t.getTextContent();h&&this._updateAndAddDisplayable(h,n,r)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);return}var a=Cn(this._roots,t);a>=0&&this._roots.splice(a,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),QI;QI=Nn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var xx={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},elasticOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-xx.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?xx.bounceIn(e*2)*.5:xx.bounceOut(e*2-1)*.5+.5}},T2=Math.pow,gh=Math.sqrt,eE=1e-8,hge=1e-4,lY=gh(3),k2=1/3,hc=t0(),yl=t0(),Pm=t0();function eh(e){return e>-eE&&e<eE}function pge(e){return e>eE||e<-eE}function Qa(e,t,n,r,a){var i=1-a;return i*i*(i*e+3*a*t)+a*a*(a*r+3*i*n)}function uY(e,t,n,r,a){var i=1-a;return 3*(((t-e)*i+2*(n-t)*a)*i+(r-n)*a*a)}function tE(e,t,n,r,a,i){var o=r+3*(t-n)-e,s=3*(n-t*2+e),l=3*(t-e),u=e-a,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(eh(c)&&eh(f))if(eh(s))i[0]=0;else{var p=-l/s;p>=0&&p<=1&&(i[h++]=p)}else{var v=f*f-4*c*d;if(eh(v)){var g=f/c,p=-s/o+g,m=-g/2;p>=0&&p<=1&&(i[h++]=p),m>=0&&m<=1&&(i[h++]=m)}else if(v>0){var y=gh(v),b=c*s+1.5*o*(-f+y),x=c*s+1.5*o*(-f-y);b<0?b=-T2(-b,k2):b=T2(b,k2),x<0?x=-T2(-x,k2):x=T2(x,k2);var p=(-s-(b+x))/(3*o);p>=0&&p<=1&&(i[h++]=p)}else{var _=(2*c*s-3*o*f)/(2*gh(c*c*c)),S=Math.acos(_)/3,C=gh(c),k=Math.cos(S),p=(-s-2*C*k)/(3*o),m=(-s+C*(k+lY*Math.sin(S)))/(3*o),T=(-s+C*(k-lY*Math.sin(S)))/(3*o);p>=0&&p<=1&&(i[h++]=p),m>=0&&m<=1&&(i[h++]=m),T>=0&&T<=1&&(i[h++]=T)}}return h}function vge(e,t,n,r,a){var i=6*n-12*t+6*e,o=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(eh(o)){if(pge(i)){var u=-s/i;u>=0&&u<=1&&(a[l++]=u)}}else{var c=i*i-4*o*s;if(eh(c))a[0]=-i/(2*o);else if(c>0){var f=gh(c),u=(-i+f)/(2*o),d=(-i-f)/(2*o);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function Vh(e,t,n,r,a,i){var o=(t-e)*a+e,s=(n-t)*a+t,l=(r-n)*a+n,u=(s-o)*a+o,c=(l-s)*a+s,f=(c-u)*a+u;i[0]=e,i[1]=o,i[2]=u,i[3]=f,i[4]=f,i[5]=c,i[6]=l,i[7]=r}function gge(e,t,n,r,a,i,o,s,l,u,c){var f,d=.005,h=1/0,p,v,g,m;hc[0]=l,hc[1]=u;for(var y=0;y<1;y+=.05)yl[0]=Qa(e,n,a,o,y),yl[1]=Qa(t,r,i,s,y),g=Hv(hc,yl),g<h&&(f=y,h=g);h=1/0;for(var b=0;b<32&&!(d<hge);b++)p=f-d,v=f+d,yl[0]=Qa(e,n,a,o,p),yl[1]=Qa(t,r,i,s,p),g=Hv(yl,hc),p>=0&&g<h?(f=p,h=g):(Pm[0]=Qa(e,n,a,o,v),Pm[1]=Qa(t,r,i,s,v),m=Hv(Pm,hc),v<=1&&m<h?(f=v,h=m):d*=.5);return c&&(c[0]=Qa(e,n,a,o,f),c[1]=Qa(t,r,i,s,f)),gh(h)}function PDt(e,t,n,r,a,i,o,s,l){for(var u=e,c=t,f=0,d=1/l,h=1;h<=l;h++){var p=h*d,v=Qa(e,n,a,o,p),g=Qa(t,r,i,s,p),m=v-u,y=g-c;f+=Math.sqrt(m*m+y*y),u=v,c=g}return f}function xi(e,t,n,r){var a=1-r;return a*(a*e+2*r*t)+r*r*n}function NF(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function FDt(e,t,n,r,a){var i=e-2*t+n,o=2*(t-e),s=e-r,l=0;if(eh(i)){if(pge(o)){var u=-s/o;u>=0&&u<=1&&(a[l++]=u)}}else{var c=o*o-4*i*s;if(eh(c)){var u=-o/(2*i);u>=0&&u<=1&&(a[l++]=u)}else if(c>0){var f=gh(c),u=(-o+f)/(2*i),d=(-o-f)/(2*i);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function mge(e,t,n){var r=e+n-2*t;return r===0?.5:(e-t)/r}function Bw(e,t,n,r,a){var i=(t-e)*r+e,o=(n-t)*r+t,s=(o-i)*r+i;a[0]=e,a[1]=i,a[2]=s,a[3]=s,a[4]=o,a[5]=n}function yge(e,t,n,r,a,i,o,s,l){var u,c=.005,f=1/0;hc[0]=o,hc[1]=s;for(var d=0;d<1;d+=.05){yl[0]=xi(e,n,a,d),yl[1]=xi(t,r,i,d);var h=Hv(hc,yl);h<f&&(u=d,f=h)}f=1/0;for(var p=0;p<32&&!(c<hge);p++){var v=u-c,g=u+c;yl[0]=xi(e,n,a,v),yl[1]=xi(t,r,i,v);var h=Hv(yl,hc);if(v>=0&&h<f)u=v,f=h;else{Pm[0]=xi(e,n,a,g),Pm[1]=xi(t,r,i,g);var m=Hv(Pm,hc);g<=1&&m<f?(u=g,f=m):c*=.5}}return l&&(l[0]=xi(e,n,a,u),l[1]=xi(t,r,i,u)),gh(f)}function BDt(e,t,n,r,a,i,o){for(var s=e,l=t,u=0,c=1/o,f=1;f<=o;f++){var d=f*c,h=xi(e,n,a,d),p=xi(t,r,i,d),v=h-s,g=p-l;u+=Math.sqrt(v*v+g*g),s=h,l=p}return u}var VDt=/cubic-bezier\(([0-9,\.e ]+)\)/;function U8(e){var t=e&&VDt.exec(e);if(t){var n=t[1].split(","),r=+yu(n[0]),a=+yu(n[1]),i=+yu(n[2]),o=+yu(n[3]);if(isNaN(r+a+i+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:tE(0,r,i,1,l,s)&&Qa(0,a,o,1,s[0])}}}var zDt=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||ba,this.ondestroy=t.ondestroy||ba,this.onrestart=t.onrestart||ba,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,a=t-this._startTime-this._pausedTime,i=a/r;i<0&&(i=0),i=Math.min(i,1);var o=this.easingFunc,s=o?o(i):i;if(this.onframe(s),i===1)if(this.loop){var l=a%r;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Yt(t)?t:xx[t]||U8(t)},e}(),bge=function(){function e(t){this.value=t}return e}(),WDt=function(){function e(){this._len=0}return e.prototype.insert=function(t){var n=new bge(t);return this.insertEntry(n),n},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var n=t.prev,r=t.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),iC=function(){function e(t){this._list=new WDt,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,n){var r=this._list,a=this._map,i=null;if(a[t]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete a[l.key],i=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new bge(n),s.key=t,r.insertEntry(s),a[t]=s}return i},e.prototype.get=function(t){var n=this._map[t],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),cY={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ku(e){return e=Math.round(e),e<0?0:e>255?255:e}function HDt(e){return e=Math.round(e),e<0?0:e>360?360:e}function Vw(e){return e<0?0:e>1?1:e}function RM(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?ku(parseFloat(t)/100*255):ku(parseInt(t,10))}function Uv(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Vw(parseFloat(t)/100):Vw(parseFloat(t))}function MM(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function th(e,t,n){return e+(t-e)*n}function ll(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function RF(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var xge=new iC(20),I2=null;function I0(e,t){I2&&RF(I2,t),I2=xge.put(e,I2||t.slice())}function Gs(e,t){if(e){t=t||[];var n=xge.get(e);if(n)return RF(t,n);e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in cY)return RF(t,cY[r]),I0(e,t),t;var a=r.length;if(r.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(r.slice(1,4),16);if(!(i>=0&&i<=4095)){ll(t,0,0,0,1);return}return ll(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(r.slice(4),16)/15:1),I0(e,t),t}else if(a===7||a===9){var i=parseInt(r.slice(1,7),16);if(!(i>=0&&i<=16777215)){ll(t,0,0,0,1);return}return ll(t,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(r.slice(7),16)/255:1),I0(e,t),t}return}var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===a){var l=r.substr(0,o),u=r.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?ll(t,+u[0],+u[1],+u[2],1):ll(t,0,0,0,1);c=Uv(u.pop());case"rgb":if(u.length>=3)return ll(t,RM(u[0]),RM(u[1]),RM(u[2]),u.length===3?c:Uv(u[3])),I0(e,t),t;ll(t,0,0,0,1);return;case"hsla":if(u.length!==4){ll(t,0,0,0,1);return}return u[3]=Uv(u[3]),MF(u,t),I0(e,t),t;case"hsl":if(u.length!==3){ll(t,0,0,0,1);return}return MF(u,t),I0(e,t),t;default:return}}ll(t,0,0,0,1)}}function MF(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=Uv(e[1]),a=Uv(e[2]),i=a<=.5?a*(r+1):a+r-a*r,o=a*2-i;return t=t||[],ll(t,ku(MM(o,i,n+1/3)*255),ku(MM(o,i,n)*255),ku(MM(o,i,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function UDt(e){if(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=i-a,s=(i+a)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(i+a):u=o/(2-i-a);var c=((i-t)/6+o/2)/o,f=((i-n)/6+o/2)/o,d=((i-r)/6+o/2)/o;t===i?l=d-f:n===i?l=1/3+c-d:r===i&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return e[3]!=null&&h.push(e[3]),h}}function $F(e,t){var n=Gs(e);if(n){for(var r=0;r<3;r++)t<0?n[r]=n[r]*(1-t)|0:n[r]=(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return Of(n,n.length===4?"rgba":"rgb")}}function $M(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){n=n||[];var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=t[a],s=t[i],l=r-a;return n[0]=ku(th(o[0],s[0],l)),n[1]=ku(th(o[1],s[1],l)),n[2]=ku(th(o[2],s[2],l)),n[3]=Vw(th(o[3],s[3],l)),n}}function GDt(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=Gs(t[a]),s=Gs(t[i]),l=r-a,u=Of([ku(th(o[0],s[0],l)),ku(th(o[1],s[1],l)),ku(th(o[2],s[2],l)),Vw(th(o[3],s[3],l))],"rgba");return n?{color:u,leftIndex:a,rightIndex:i,value:r}:u}}function _x(e,t,n,r){var a=Gs(e);if(e)return a=UDt(a),t!=null&&(a[0]=HDt(t)),n!=null&&(a[1]=Uv(n)),r!=null&&(a[2]=Uv(r)),Of(MF(a),"rgba")}function nE(e,t){var n=Gs(e);if(n&&t!=null)return n[3]=Vw(t),Of(n,"rgba")}function Of(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}}function rE(e,t){var n=Gs(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var fY=new iC(100);function LF(e){if(Dt(e)){var t=fY.get(e);return t||(t=$F(e,-.1),fY.put(e,t)),t}else if(yN(e)){var n=rt({},e);return n.colorStops=ut(e.colorStops,function(r){return{offset:r.offset,color:$F(r.color,-.1)}}),n}return e}var aE=Math.round;function zw(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var n=Gs(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}return{color:e,opacity:t??1}}var dY=1e-4;function nh(e){return e<dY&&e>-dY}function E2(e){return aE(e*1e3)/1e3}function OF(e){return aE(e*1e4)/1e4}function KDt(e){return"matrix("+E2(e[0])+","+E2(e[1])+","+E2(e[2])+","+E2(e[3])+","+OF(e[4])+","+OF(e[5])+")"}var jDt={left:"start",right:"end",center:"middle",middle:"middle"};function YDt(e,t,n){return n==="top"?e+=t/2:n==="bottom"&&(e-=t/2),e}function XDt(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function qDt(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function wge(e){return e&&!!e.image}function ZDt(e){return e&&!!e.svgElement}function G8(e){return wge(e)||ZDt(e)}function _ge(e){return e.type==="linear"}function Sge(e){return e.type==="radial"}function Cge(e){return e&&(e.type==="linear"||e.type==="radial")}function wN(e){return"url(#"+e+")"}function Tge(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function kge(e){var t=e.x||0,n=e.y||0,r=(e.rotation||0)*fk,a=fn(e.scaleX,1),i=fn(e.scaleY,1),o=e.skewX||0,s=e.skewY||0,l=[];return(t||n)&&l.push("translate("+t+"px,"+n+"px)"),r&&l.push("rotate("+r+")"),(a!==1||i!==1)&&l.push("scale("+a+","+i+")"),(o||s)&&l.push("skew("+aE(o*fk)+"deg, "+aE(s*fk)+"deg)"),l.join(" ")}var JDt=function(){return Nn.hasGlobalWindow&&Yt(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),PF=Array.prototype.slice;function gf(e,t,n){return(t-e)*n+e}function LM(e,t,n,r){for(var a=t.length,i=0;i<a;i++)e[i]=gf(t[i],n[i],r);return e}function QDt(e,t,n,r){for(var a=t.length,i=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=gf(t[o][s],n[o][s],r)}return e}function A2(e,t,n,r){for(var a=t.length,i=0;i<a;i++)e[i]=t[i]+n[i]*r;return e}function hY(e,t,n,r){for(var a=t.length,i=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(var s=0;s<i;s++)e[o][s]=t[o][s]+n[o][s]*r}return e}function eNt(e,t){for(var n=e.length,r=t.length,a=n>r?t:e,i=Math.min(n,r),o=a[i-1]||{color:[0,0,0,0],offset:0},s=i;s<Math.max(n,r);s++)a.push({offset:o.offset,color:o.color.slice()})}function tNt(e,t,n){var r=e,a=t;if(!(!r.push||!a.push)){var i=r.length,o=a.length;if(i!==o){var s=i>o;if(s)r.length=o;else for(var l=i;l<o;l++)r.push(n===1?a[l]:PF.call(a[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(n===1)isNaN(r[l])&&(r[l]=a[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=a[l][c])}}function Sx(e){if(Co(e)){var t=e.length;if(Co(e[0])){for(var n=[],r=0;r<t;r++)n.push(PF.call(e[r]));return n}return PF.call(e)}return e}function vk(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function nNt(e){return Co(e&&e[0])?2:1}var D2=0,gk=1,Ige=2,Ob=3,FF=4,BF=5,pY=6;function vY(e){return e===FF||e===BF}function N2(e){return e===gk||e===Ige}var q1=[0,0,0,0],rNt=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,n,r){this._needsSort=!0;var a=this.keyframes,i=a.length,o=!1,s=pY,l=n;if(Co(n)){var u=nNt(n);s=u,(u===1&&!Kn(n[0])||u===2&&!Kn(n[0][0]))&&(o=!0)}else if(Kn(n)&&!Pw(n))s=D2;else if(Dt(n))if(!isNaN(+n))s=D2;else{var c=Gs(n);c&&(l=c,s=Ob)}else if(yN(n)){var f=rt({},l);f.colorStops=ut(n.colorStops,function(h){return{offset:h.offset,color:Gs(h.color)}}),_ge(n)?s=FF:Sge(n)&&(s=BF),l=f}i===0?this.valType=s:(s!==this.valType||s===pY)&&(o=!0),this.discrete=this.discrete||o;var d={time:t,value:l,rawValue:n,percent:0};return r&&(d.easing=r,d.easingFunc=Yt(r)?r:xx[r]||U8(r)),a.push(d),d},e.prototype.prepare=function(t,n){var r=this.keyframes;this._needsSort&&r.sort(function(v,g){return v.time-g.time});for(var a=this.valType,i=r.length,o=r[i-1],s=this.discrete,l=N2(a),u=vY(a),c=0;c<i;c++){var f=r[c],d=f.value,h=o.value;f.percent=f.time/t,s||(l&&c!==i-1?tNt(d,h,a):u&&eNt(d.colorStops,h.colorStops))}if(!s&&a!==BF&&n&&this.needsAnimate()&&n.needsAnimate()&&a===n.valType&&!n._finished){this._additiveTrack=n;for(var p=r[0].value,c=0;c<i;c++)a===D2?r[c].additiveValue=r[c].value-p:a===Ob?r[c].additiveValue=A2([],r[c].value,p,-1):N2(a)&&(r[c].additiveValue=a===gk?A2([],r[c].value,p,-1):hY([],r[c].value,p,-1))}},e.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,a=r?"additiveValue":"value",i=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=i===Ob,c,f=this._lastFr,d=Math.min,h,p;if(s===1)h=p=o[0];else{if(n<0)c=0;else if(n<this._lastFrP){var v=d(f+1,s-1);for(c=v;c>=0&&!(o[c].percent<=n);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>n);c++);c=d(c-1,s-2)}p=o[c+1],h=o[c]}if(h&&p){this._lastFr=c,this._lastFrP=n;var g=p.percent-h.percent,m=g===0?1:d((n-h.percent)/g,1);p.easingFunc&&(m=p.easingFunc(m));var y=r?this._additiveValue:u?q1:t[l];if((N2(i)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)t[l]=m<1?h.rawValue:p.rawValue;else if(N2(i))i===gk?LM(y,h[a],p[a],m):QDt(y,h[a],p[a],m);else if(vY(i)){var b=h[a],x=p[a],_=i===FF;t[l]={type:_?"linear":"radial",x:gf(b.x,x.x,m),y:gf(b.y,x.y,m),colorStops:ut(b.colorStops,function(C,k){var T=x.colorStops[k];return{offset:gf(C.offset,T.offset,m),color:vk(LM([],C.color,T.color,m))}}),global:x.global},_?(t[l].x2=gf(b.x2,x.x2,m),t[l].y2=gf(b.y2,x.y2,m)):t[l].r=gf(b.r,x.r,m)}else if(u)LM(y,h[a],p[a],m),r||(t[l]=vk(y));else{var S=gf(h[a],p[a],m);r?this._additiveValue=S:t[l]=S}r&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var n=this.valType,r=this.propName,a=this._additiveValue;n===D2?t[r]=t[r]+a:n===Ob?(Gs(t[r],q1),A2(q1,q1,a,1),t[r]=vk(q1)):n===gk?A2(t[r],t[r],a,1):n===Ige&&hY(t[r],t[r],a,1)},e}(),K8=function(){function e(t,n,r,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&a){P8("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=r}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,n,r){return this.whenWithKeys(t,n,Mn(n),r)},e.prototype.whenWithKeys=function(t,n,r,a){for(var i=this._tracks,o=0;o<r.length;o++){var s=r[o],l=i[s];if(!l){l=i[s]=new rNt(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===Ob&&u&&(u=vk(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,Sx(u),a),this._trackKeys.push(s)}l.addKeyframe(t,Sx(n[s]),a)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,r=0;r<n;r++)t[r].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)t[n[r]].setFinished()},e.prototype._getAdditiveTrack=function(t){var n,r=this._additiveAnimators;if(r)for(var a=0;a<r.length;a++){var i=r[a].getTrack(t);i&&(n=i)}return n},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],a=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var o=this._trackKeys[i],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(a,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(n._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var d=new zDt({life:a,loop:this._loop,delay:this._delay||0,onframe:function(h){n._started=2;var p=n._additiveAnimators;if(p){for(var v=!1,g=0;g<p.length;g++)if(p[g]._clip){v=!0;break}v||(n._additiveAnimators=null)}for(var g=0;g<r.length;g++)r[g].step(n._target,h);var m=n._onframeCbs;if(m)for(var g=0;g<m.length;g++)m[g](n._target,h)},ondestroy:function(){n._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return ut(this._trackKeys,function(n){return t._tracks[n]})},e.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var r=this._tracks,a=this._trackKeys,i=0;i<t.length;i++){var o=r[t[i]];o&&!o.isFinished()&&(n?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,i=0;i<a.length;i++)if(!r[a[i]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,n,r){if(t){n=n||this._trackKeys;for(var a=0;a<n.length;a++){var i=n[a],o=this._tracks[i];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[r?0:s.length-1];l&&(t[i]=Sx(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,n){n=n||Mn(t);for(var r=0;r<n.length;r++){var a=n[r],i=this._tracks[a];if(i){var o=i.keyframes;if(o.length>1){var s=o.pop();i.addKeyframe(s.time,t[a]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},e}();function hm(){return new Date().getTime()}var aNt=function(e){Le(t,e);function t(n){var r=e.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(n){if(n.animation){var r=n.prev,a=n.next;r?r.next=a:this._head=a,a?a.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},t.prototype.update=function(n){for(var r=hm()-this._pausedTime,a=r-this._time,i=this._head;i;){var o=i.next,s=i.step(r,a);s&&(i.ondestroy(),this.removeClip(i)),i=o}this._time=r,n||(this.trigger("frame",a),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(QI(r),!n._paused&&n.update())}QI(r)},t.prototype.start=function(){this._running||(this._time=hm(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=hm(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=hm()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,r){r=r||{},this.start();var a=new K8(n,r.loop);return this.addAnimator(a),a},t}(Gl),iNt=300,OM=Nn.domSupported,PM=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=ut(e,function(a){var i=a.replace("mouse","pointer");return n.hasOwnProperty(i)?i:a});return{mouse:e,touch:t,pointer:r}}(),gY={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},mY=!1;function VF(e){var t=e.pointerType;return t==="pen"||t==="touch"}function oNt(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function FM(e){e&&(e.zrByTouch=!0)}function sNt(e,t){return fl(e.dom,new lNt(e,t),!0)}function Ege(e,t){for(var n=t,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}var lNt=function(){function e(t,n){this.stopPropagation=ba,this.stopImmediatePropagation=ba,this.preventDefault=ba,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return e}(),ru={mousedown:function(e){e=fl(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=fl(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=fl(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=fl(this.dom,e);var t=e.toElement||e.relatedTarget;Ege(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){mY=!0,e=fl(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){mY||(e=fl(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=fl(this.dom,e),FM(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),ru.mousemove.call(this,e),ru.mousedown.call(this,e)},touchmove:function(e){e=fl(this.dom,e),FM(e),this.handler.processGesture(e,"change"),ru.mousemove.call(this,e)},touchend:function(e){e=fl(this.dom,e),FM(e),this.handler.processGesture(e,"end"),ru.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<iNt&&ru.click.call(this,e)},pointerdown:function(e){ru.mousedown.call(this,e)},pointermove:function(e){VF(e)||ru.mousemove.call(this,e)},pointerup:function(e){ru.mouseup.call(this,e)},pointerout:function(e){VF(e)||ru.mouseout.call(this,e)}};X(["click","dblclick","contextmenu"],function(e){ru[e]=function(t){t=fl(this.dom,t),this.trigger(e,t)}});var zF={pointermove:function(e){VF(e)||zF.mousemove.call(this,e)},pointerup:function(e){zF.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function uNt(e,t){var n=t.domHandlers;Nn.pointerEventsSupported?X(PM.pointer,function(r){mk(t,r,function(a){n[r].call(e,a)})}):(Nn.touchEventsSupported&&X(PM.touch,function(r){mk(t,r,function(a){n[r].call(e,a),oNt(t)})}),X(PM.mouse,function(r){mk(t,r,function(a){a=z8(a),t.touching||n[r].call(e,a)})}))}function cNt(e,t){Nn.pointerEventsSupported?X(gY.pointer,n):Nn.touchEventsSupported||X(gY.mouse,n);function n(r){function a(i){i=z8(i),Ege(e,i.target)||(i=sNt(e,i),t.domHandlers[r].call(e,i))}mk(t,r,a,{capture:!0})}}function mk(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,DF(e.domTarget,t,n,r)}function BM(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&CDt(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var yY=function(){function e(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return e}(),fNt=function(e){Le(t,e);function t(n,r){var a=e.call(this)||this;return a.__pointerCapturing=!1,a.dom=n,a.painterRoot=r,a._localHandlerScope=new yY(n,ru),OM&&(a._globalHandlerScope=new yY(document,zF)),uNt(a,a._localHandlerScope),a}return t.prototype.dispose=function(){BM(this._localHandlerScope),OM&&BM(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,OM&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?cNt(this,r):BM(r)}},t}(Gl),Age=1;Nn.hasGlobalWindow&&(Age=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var iE=Age,WF=.4,HF="#333",UF="#ccc",dNt="#eee",bY=xN,xY=5e-5;function Dp(e){return e>xY||e<-xY}var Np=[],E0=[],VM=Us(),zM=Math.abs,Af=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Dp(this.rotation)||Dp(this.x)||Dp(this.y)||Dp(this.scaleX-1)||Dp(this.scaleY-1)||Dp(this.skewX)||Dp(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||t)){r&&(bY(r),this.invTransform=null);return}r=r||Us(),n?this.getLocalTransform(r):bY(r),t&&(n?Lf(r,t,r):W8(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)},e.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(Np);var r=Np[0]<0?-1:1,a=Np[1]<0?-1:1,i=((Np[0]-r)*n+r)/Np[0]||0,o=((Np[1]-a)*n+a)/Np[1]||0;t[0]*=i,t[1]*=i,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||Us(),v1(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],a=Math.atan2(t[1],t[0]),i=Math.PI/2+a-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(i),n=Math.sqrt(n),this.skewX=i,this.skewY=0,this.rotation=-a,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||Us(),Lf(E0,t.invTransform,n),n=E0);var r=this.originX,a=this.originY;(r||a)&&(VM[4]=r,VM[5]=a,Lf(E0,n,VM),E0[4]-=r,E0[5]-=a,n=E0),this.setLocalTransform(n)}},e.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,n){var r=[t,n],a=this.invTransform;return a&&Wi(r,r,a),r},e.prototype.transformCoordToGlobal=function(t,n){var r=[t,n],a=this.transform;return a&&Wi(r,r,a),r},e.prototype.getLineScale=function(){var t=this.transform;return t&&zM(t[0]-1)>1e-10&&zM(t[3]-1)>1e-10?Math.sqrt(zM(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){Dge(this,t)},e.getLocalTransform=function(t,n){n=n||[];var r=t.originX||0,a=t.originY||0,i=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,d=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;if(r||a||s||l){var p=r+s,v=a+l;n[4]=-p*i-d*v*o,n[5]=-v*o-h*p*i}else n[4]=n[5]=0;return n[0]=i,n[3]=o,n[1]=h*i,n[2]=d*o,u&&n0(n,n,u),n[4]+=r+c,n[5]+=a+f,n},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),Hc=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Dge(e,t){for(var n=0;n<Hc.length;n++){var r=Hc[n];e[r]=t[r]}}var wY={};function Ks(e,t){t=t||Fh;var n=wY[t];n||(n=wY[t]=new iC(500));var r=n.get(e);return r==null&&(r=Bh.measureText(e,t).width,n.put(e,r)),r}function _Y(e,t,n,r){var a=Ks(e,t),i=_N(t),o=Pb(0,a,n),s=im(0,i,r),l=new xn(o,s,a,i);return l}function oC(e,t,n,r){var a=((e||"")+"").split(`
`),i=a.length;if(i===1)return _Y(a[0],t,n,r);for(var o=new xn(0,0,0,0),s=0;s<a.length;s++){var l=_Y(a[s],t,n,r);s===0?o.copy(l):o.union(l)}return o}function Pb(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function im(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function _N(e){return Ks("国",e)}function Pu(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function oE(e,t,n){var r=t.position||"inside",a=t.distance!=null?t.distance:5,i=n.height,o=n.width,s=i/2,l=n.x,u=n.y,c="left",f="top";if(r instanceof Array)l+=Pu(r[0],n.width),u+=Pu(r[1],n.height),c=null,f=null;else switch(r){case"left":l-=a,u+=s,c="right",f="middle";break;case"right":l+=a+o,u+=s,f="middle";break;case"top":l+=o/2,u-=a,c="center",f="bottom";break;case"bottom":l+=o/2,u+=i+a,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=a,u+=s,f="middle";break;case"insideRight":l+=o-a,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=a,c="center";break;case"insideBottom":l+=o/2,u+=i-a,c="center",f="bottom";break;case"insideTopLeft":l+=a,u+=a;break;case"insideTopRight":l+=o-a,u+=a,c="right";break;case"insideBottomLeft":l+=a,u+=i-a,f="bottom";break;case"insideBottomRight":l+=o-a,u+=i-a,c="right",f="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=f,e}var WM="__zr_normal__",HM=Hc.concat(["ignore"]),hNt=zc(Hc,function(e,t){return e[t]=!0,e},{ignore:!1}),A0={},pNt=new xn(0,0,0,0),SN=function(){function e(t){this.id=age(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=n,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,a=r.local,i=n.innerTransformable,o=void 0,s=void 0,l=!1;i.parent=a?this:null;var u=!1;if(i.copyTransform(n),r.position!=null){var c=pNt;r.layoutRect?c.copy(r.layoutRect):c.copy(this.getBoundingRect()),a||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(A0,r,c):oE(A0,r,c),i.x=A0.x,i.y=A0.y,o=A0.align,s=A0.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var d=void 0,h=void 0;f==="center"?(d=c.width*.5,h=c.height*.5):(d=Pu(f[0],c.width),h=Pu(f[1],c.height)),u=!0,i.originX=-i.x+d+(a?0:c.x),i.originY=-i.y+h+(a?0:c.y)}}r.rotation!=null&&(i.rotation=r.rotation);var p=r.offset;p&&(i.x+=p[0],i.y+=p[1],u||(i.originX=-p[0],i.originY=-p[1]));var v=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,b=void 0;v&&this.canBeInsideText()?(m=r.insideFill,y=r.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),b=!0)):(m=r.outsideFill,y=r.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),b=!0)),m=m||"#000",(m!==g.fill||y!==g.stroke||b!==g.autoStroke||o!==g.align||s!==g.verticalAlign)&&(l=!0,g.fill=m,g.stroke=y,g.autoStroke=b,g.align=o,g.verticalAlign=s,n.setDefaultTextStyle(g)),n.__dirty|=Os,l&&n.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?UF:HF},e.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&Gs(n);r||(r=[255,255,255,1]);for(var a=r[3],i=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*a+(i?0:255)*(1-a);return r[3]=1,Of(r,"rgba")},e.prototype.traverse=function(t,n){},e.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},rt(this.extra,n)):this[t]=n},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(Jt(t))for(var r=t,a=Mn(r),i=0;i<a.length;i++){var o=a[i];this.attrKV(o,t[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,r=0;r<this.animators.length;r++){var a=this.animators[r],i=a.__fromStateTransition;if(!(a.getLoop()||i&&i!==WM)){var o=a.targetName,s=o?n[o]:n;a.saveTo(s)}}},e.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,HM)},e.prototype._savePrimaryToNormal=function(t,n,r){for(var a=0;a<r.length;a++){var i=r[a];t[i]!=null&&!(i in n)&&(n[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},e.prototype.clearStates=function(t){this.useState(WM,!1,t)},e.prototype.useState=function(t,n,r,a){var i=t===WM,o=this.hasState();if(!(!o&&i)){var s=this.currentStates,l=this.stateTransition;if(!(Cn(s,t)>=0&&(n||s.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!i){P8("State "+t+" not exists.");return}i||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||a);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,n,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(t,n,r,c),d&&d.useState(t,n,r,c),i?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Os),u}}},e.prototype.useStates=function(t,n,r){if(!t.length)this.clearStates();else{var a=[],i=this.currentStates,o=t.length,s=o===i.length;if(s){for(var l=0;l<o;l++)if(t[l]!==i[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&a.push(c)}var f=a[o-1],d=!!(f&&f.hoverLayer||r);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(a),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!n&&!this.__inHover&&p&&p.duration>0,p);var v=this._textContent,g=this._textGuide;v&&v.useStates(t,n,d),g&&g.useStates(t,n,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Os)}},e.prototype.isSilent=function(){for(var t=this.silent,n=this.parent;!t&&n;){if(n.silent){t=!0;break}n=n.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},e.prototype.removeState=function(t){var n=Cn(this.currentStates,t);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},e.prototype.replaceState=function(t,n,r){var a=this.currentStates.slice(),i=Cn(a,t),o=Cn(a,n)>=0;i>=0?o?a.splice(i,1):a[i]=n:r&&!o&&a.push(n),this.useStates(a)},e.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var n={},r,a=0;a<t.length;a++){var i=t[a];rt(n,i),i.textConfig&&(r=r||{},rt(r,i.textConfig))}return r&&(n.textConfig=r),n},e.prototype._applyStateObj=function(t,n,r,a,i,o){var s=!(n&&a);n&&n.textConfig?(this.textConfig=rt({},a?this.textConfig:r.textConfig),rt(this.textConfig,n.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<HM.length;c++){var f=HM[c],d=i&&hNt[f];n&&n[f]!=null?d?(u=!0,l[f]=n[f]):this[f]=n[f]:s&&r[f]!=null&&(d?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!i)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(n||r)[p]:n||r)}u&&this._transitionState(t,l,o)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new Af,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),rt(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=Os;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=t),r&&(r.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,n,r){var a=t?this[t]:this,i=new K8(a,n,r);return t&&(i.targetName=t),this.addAnimator(i,t),i},e.prototype.addAnimator=function(t,n){var r=this.__zr,a=this;t.during(function(){a.updateDuringAnimation(n)}).done(function(){var i=a.animators,o=Cn(i,t);o>=0&&i.splice(o,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,n){for(var r=this.animators,a=r.length,i=[],o=0;o<a;o++){var s=r[o];!t||t===s.scope?s.stop(n):i.push(s)}return this.animators=i,this},e.prototype.animateTo=function(t,n,r){UM(this,t,n,r)},e.prototype.animateFrom=function(t,n,r){UM(this,t,n,r,!0)},e.prototype._transitionState=function(t,n,r,a){for(var i=UM(this,n,r,a),o=0;o<i.length;o++)i[o].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Os;function n(r,a,i,o){Object.defineProperty(t,r,{get:function(){if(!this[a]){var l=this[a]=[];s(this,l)}return this[a]},set:function(l){this[i]=l[0],this[o]=l[1],this[a]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[i]},set:function(c){l[i]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();$a(SN,Gl);$a(SN,Af);function UM(e,t,n,r,a){n=n||{};var i=[];Nge(e,"",e,t,n,r,i,a);var o=i.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),i.length>0&&n.during&&i[0].during(function(p,v){n.during(v)});for(var d=0;d<i.length;d++){var h=i[d];h.done(c),h.aborted(f),n.force&&h.duration(n.duration),h.start(n.easing)}return i}function GM(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function vNt(e){return Co(e[0])}function gNt(e,t,n){if(Co(t[n]))if(Co(e[n])||(e[n]=[]),As(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),GM(e[n],t[n],r))}else{var a=t[n],i=e[n],o=a.length;if(vNt(a))for(var s=a[0].length,l=0;l<o;l++)i[l]?GM(i[l],a[l],s):i[l]=Array.prototype.slice.call(a[l]);else GM(i,a,o);i.length=a.length}else e[n]=t[n]}function mNt(e,t){return e===t||Co(e)&&Co(t)&&yNt(e,t)}function yNt(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Nge(e,t,n,r,a,i,o,s){for(var l=Mn(r),u=a.duration,c=a.delay,f=a.additive,d=a.setToFinal,h=!Jt(i),p=e.animators,v=[],g=0;g<l.length;g++){var m=l[g],y=r[m];if(y!=null&&n[m]!=null&&(h||i[m]))if(Jt(y)&&!Co(y)&&!yN(y)){if(t){s||(n[m]=y,e.updateDuringAnimation(t));continue}Nge(e,m,n[m],y,a,i&&i[m],o,s)}else v.push(m);else s||(n[m]=y,e.updateDuringAnimation(t),v.push(m))}var b=v.length;if(!f&&b)for(var x=0;x<p.length;x++){var _=p[x];if(_.targetName===t){var S=_.stopTracks(v);if(S){var C=Cn(p,_);p.splice(C,1)}}}if(a.force||(v=sr(v,function(E){return!mNt(r[E],n[E])}),b=v.length),b>0||a.force&&!o.length){var k=void 0,T=void 0,I=void 0;if(s){T={},d&&(k={});for(var x=0;x<b;x++){var m=v[x];T[m]=n[m],d?k[m]=r[m]:n[m]=r[m]}}else if(d){I={};for(var x=0;x<b;x++){var m=v[x];I[m]=Sx(n[m]),gNt(n,r,m)}}var _=new K8(n,!1,!1,f?sr(p,function(A){return A.targetName===t}):null);_.targetName=t,a.scope&&(_.scope=a.scope),d&&k&&_.whenWithKeys(0,k,v),I&&_.whenWithKeys(0,I,v),_.whenWithKeys(u??500,s?T:r,v).delay(c||0),e.addAnimator(_,t),o.push(_)}}var an=function(e){Le(t,e);function t(n){var r=e.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var r=this._children,a=0;a<r.length;a++)if(r[a].name===n)return r[a]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var a=this._children,i=a.indexOf(r);i>=0&&(a.splice(i,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,r){var a=Cn(this._children,n);return a>=0&&this.replaceAt(r,a),this},t.prototype.replaceAt=function(n,r){var a=this._children,i=a[r];if(n&&n!==this&&n.parent!==this&&n!==i){a[r]=n,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(n){var r=this.__zr,a=this._children,i=Cn(a,n);return i<0?this:(a.splice(i,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,a=0;a<n.length;a++){var i=n[a];r&&i.removeSelfFromZr(r),i.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,r){for(var a=this._children,i=0;i<a.length;i++){var o=a[i];n.call(r,o,i)}return this},t.prototype.traverse=function(n,r){for(var a=0;a<this._children.length;a++){var i=this._children[a],o=n.call(r,i);i.isGroup&&!o&&i.traverse(n,r)}return this},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var a=this._children[r];a.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var a=this._children[r];a.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var r=new xn(0,0,0,0),a=n||this._children,i=[],o=null,s=0;s<a.length;s++){var l=a[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(i);c?(xn.applyTransform(r,u,c),o=o||r.clone(),o.union(r)):(o=o||u.clone(),o.union(u))}}return o||r},t}(SN);an.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var yk={},Rge={};function bNt(e){delete Rge[e]}function xNt(e){if(!e)return!1;if(typeof e=="string")return rE(e,1)<WF;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,a=0;a<r;a++)n+=rE(t[a].color,1);return n/=r,n<WF}return!1}var wNt=function(){function e(t,n,r){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=t;var i=new ODt,o=r.renderer||"canvas";yk[o]||(o=Mn(yk)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new yk[o](n,i,r,t),l=r.ssr||s.ssrOnly;this.storage=i,this.painter=s;var u=!Nn.node&&!Nn.worker&&!l?new fNt(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,f=c==null||c==="auto"?Nn.touchEventsSupported:!!c,d=44,h;f&&(h=fn(r.pointerSize,d)),this.handler=new cge(i,s,u,s.root,h),this.animation=new aNt({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=xNt(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var n,r=hm();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var a=hm();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,n){if(!this._disposed)return this.handler.findHover(t,n)},e.prototype.on=function(t,n,r){return this._disposed||this.handler.on(t,n,r),this},e.prototype.off=function(t,n){this._disposed||this.handler.off(t,n)},e.prototype.trigger=function(t,n){this._disposed||this.handler.trigger(t,n)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof an&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,bNt(this.id))},e}();function SY(e,t){var n=new wNt(age(),e,t);return Rge[n.id]=n,n}function _Nt(e,t){yk[e]=t}var GF;function SNt(e){if(typeof GF=="function")return GF(e)}function CNt(e){GF=e}var CY=1e-4,Mge=20;function TNt(e){return e.replace(/^\s+|\s+$/g,"")}function cr(e,t,n,r){var a=t[0],i=t[1],o=n[0],s=n[1],l=i-a,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(r)if(l>0){if(e<=a)return o;if(e>=i)return s}else{if(e>=a)return o;if(e<=i)return s}else{if(e===a)return o;if(e===i)return s}return(e-a)/l*u+o}function St(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return Dt(e)?TNt(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function ha(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),Mge),e=(+e).toFixed(t),n?e:+e}function Il(e){return e.sort(function(t,n){return t-n}),e}function mc(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n}return kNt(e)}function kNt(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),r=n>0?+t.slice(n+1):0,a=n>0?n:t.length,i=t.indexOf("."),o=i<0?0:a-1-i;return Math.max(0,o-r)}function $ge(e,t){var n=Math.log,r=Math.LN10,a=Math.floor(n(e[1]-e[0])/r),i=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-a+i,0),20);return isFinite(o)?o:20}function INt(e,t){var n=zc(e,function(h,p){return h+(isNaN(p)?0:p)},0);if(n===0)return[];for(var r=Math.pow(10,t),a=ut(e,function(h){return(isNaN(h)?0:h)/n*r*100}),i=r*100,o=ut(a,function(h){return Math.floor(h)}),s=zc(o,function(h,p){return h+p},0),l=ut(a,function(h,p){return h-o[p]});s<i;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return ut(o,function(h){return h/r})}function ENt(e,t){var n=Math.max(mc(e),mc(t)),r=e+t;return n>Mge?r:ha(r,n)}var TY=9007199254740991;function Lge(e){var t=Math.PI*2;return(e%t+t)%t}function Ww(e){return e>-CY&&e<CY}var ANt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Uc(e){if(e instanceof Date)return e;if(Dt(e)){var t=ANt.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function DNt(e){return Math.pow(10,j8(e))}function j8(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Oge(e,t){var n=j8(e),r=Math.pow(10,n),a=e/r,i;return a<1.5?i=1:a<2.5?i=2:a<4?i=3:a<7?i=5:i=10,e=i*r,n>=-20?+e.toFixed(n<0?-n:0):e}function KM(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),a=+e[r-1],i=n-r;return i?a+i*(e[r]-a):a}function kY(e){e.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,n=1,r=0;r<e.length;){for(var a=e[r].interval,i=e[r].close,o=0;o<2;o++)a[o]<=t&&(a[o]=t,i[o]=o?1:1-n),t=a[o],n=i[o];a[0]===a[1]&&i[0]*i[1]!==1?e.splice(r,1):r++}return e;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function Xf(e){var t=parseFloat(e);return t==e&&(t!==0||!Dt(e)||e.indexOf("x")<=0)?t:NaN}function Pge(e){return!isNaN(Xf(e))}function Fge(){return Math.round(Math.random()*9)}function Bge(e,t){return t===0?e:Bge(t,e%t)}function IY(e,t){return e==null?t:t==null?e:e*t/Bge(e,t)}function or(e){throw new Error(e)}function EY(e,t,n){return(t-e)*n+e}var Vge="series\0",zge="\0_ec_\0";function Ir(e){return e instanceof Array?e:e==null?[]:[e]}function kg(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,a=n.length;r<a;r++){var i=n[r];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var AY=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function g1(e){return Jt(e)&&!st(e)&&!(e instanceof Date)?e.value:e}function NNt(e){return Jt(e)&&!(e instanceof Array)}function Wge(e,t,n){var r=n==="normalMerge",a=n==="replaceMerge",i=n==="replaceAll";e=e||[],t=(t||[]).slice();var o=Pt();X(t,function(l,u){if(!Jt(l)){t[u]=null;return}});var s=RNt(e,o,n);return(r||a)&&MNt(s,e,o,t),r&&$Nt(s,t),r||a?LNt(s,t,a):i&&ONt(s,t),PNt(s),s}function RNt(e,t,n){var r=[];if(n==="replaceAll")return r;for(var a=0;a<e.length;a++){var i=e[a];i&&i.id!=null&&t.set(i.id,a),r.push({existing:n==="replaceMerge"||Hw(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return r}function MNt(e,t,n,r){X(r,function(a,i){if(!(!a||a.id==null)){var o=Cx(a.id),s=n.get(o);if(s!=null){var l=e[s];is(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=a,l.existing=t[s],r[i]=null}}})}function $Nt(e,t){X(t,function(n,r){if(!(!n||n.name==null))for(var a=0;a<e.length;a++){var i=e[a].existing;if(!e[a].newOption&&i&&(i.id==null||n.id==null)&&!Hw(n)&&!Hw(i)&&Hge("name",i,n)){e[a].newOption=n,t[r]=null;return}}})}function LNt(e,t,n){X(t,function(r){if(r){for(var a,i=0;(a=e[i])&&(a.newOption||Hw(a.existing)||a.existing&&r.id!=null&&!Hge("id",r,a.existing));)i++;a?(a.newOption=r,a.brandNew=n):e.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),i++}})}function ONt(e,t){X(t,function(n){e.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function PNt(e){var t=Pt();X(e,function(n){var r=n.existing;r&&t.set(r.id,n)}),X(e,function(n){var r=n.newOption;is(!r||r.id==null||!t.get(r.id)||t.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&t.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),X(e,function(n,r){var a=n.existing,i=n.newOption,o=n.keyInfo;if(Jt(i)){if(o.name=i.name!=null?Cx(i.name):a?a.name:Vge+r,a)o.id=Cx(a.id);else if(i.id!=null)o.id=Cx(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,n)}})}function Hge(e,t,n){var r=Ha(t[e],null),a=Ha(n[e],null);return r!=null&&a!=null&&r===a}function Cx(e){return Ha(e,"")}function Ha(e,t){return e==null?t:Dt(e)?e:Kn(e)||SF(e)?e+"":t}function Y8(e){var t=e.name;return!!(t&&t.indexOf(Vge))}function Hw(e){return e&&e.id!=null&&Cx(e.id).indexOf(zge)===0}function FNt(e){return zge+e}function BNt(e,t,n){X(e,function(r){var a=r.newOption;Jt(a)&&(r.keyInfo.mainType=t,r.keyInfo.subType=VNt(t,a,r.existing,n))})}function VNt(e,t,n,r){var a=t.type?t.type:n?n.subType:r.determineSubType(e,t);return a}function zNt(e,t){var n={},r={};return a(e||[],n),a(t||[],r,n),[i(n),i(r)];function a(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=Ha(o[u].seriesId,null);if(f==null)return;for(var d=Ir(o[u].dataIndex),h=l&&l[f],p=0,v=d.length;p<v;p++){var g=d[p];h&&h[g]?h[g]=null:(s[f]||(s[f]={}))[g]=1}}}function i(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=i(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Ig(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return st(t.dataIndex)?ut(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return st(t.name)?ut(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}function Vn(){var e="__ec_inner_"+WNt++;return function(t){return t[e]||(t[e]={})}}var WNt=Fge();function Tx(e,t,n){var r=X8(t,n),a=r.mainTypeSpecified,i=r.queryOptionMap,o=r.others,s=o,l=n?n.defaultMainType:null;return!a&&l&&i.set(l,{}),i.each(function(u,c){var f=sC(e,c,u,{useDefault:l===c,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function X8(e,t){var n;if(Dt(e)){var r={};r[e+"Index"]=0,n=r}else n=e;var a=Pt(),i={},o=!1;return X(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&Cn(t.includeMainTypes,c)<0)){o=o||!!c;var d=a.get(c)||a.set(c,{});d[f]=s}}),{mainTypeSpecified:o,queryOptionMap:a,others:i}}var Da={useDefault:!0,enableAll:!1,enableNone:!1},HNt={useDefault:!1,enableAll:!0,enableNone:!0};function sC(e,t,n,r){r=r||Da;var a=n.index,i=n.id,o=n.name,s={models:null,specified:a!=null||i!=null||o!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=e.getComponent(t))?[l]:[],s}return a==="none"||a===!1?(is(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(a==="all"&&(is(r.enableAll,'`"all"` is not a valid value on index option.'),a=i=o=null),s.models=e.queryComponents({mainType:t,index:a,id:i,name:o}),s)}function Uge(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function UNt(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function GNt(e){return e==="auto"?Nn.domSupported?"html":"richText":e||"html"}function KF(e,t){var n=Pt(),r=[];return X(e,function(a){var i=t(a);(n.get(i)||(r.push(i),n.set(i,[]))).push(a)}),{keys:r,buckets:n}}function Gge(e,t,n,r,a){var i=t==null||t==="auto";if(r==null)return r;if(Kn(r)){var o=EY(n||0,r,a);return ha(o,i?Math.max(mc(n||0),mc(r)):t)}else{if(Dt(r))return a<1?n:r;for(var s=[],l=n,u=r,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=e.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(a<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,p=u[f],o=EY(h,p,a);s[f]=ha(o,i?Math.max(mc(h),mc(p)):t)}}return s}}var KNt=".",Rp="___EC__COMPONENT__CONTAINER___",Kge="___EC__EXTENDED_CLASS___";function yc(e){var t={main:"",sub:""};if(e){var n=e.split(KNt);t.main=n[0]||"",t.sub=n[1]||""}return t}function jNt(e){is(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function YNt(e){return!!(e&&e[Kge])}function q8(e,t){e.$constructor=e,e.extend=function(n){var r=this,a;return XNt(r)?a=function(i){Le(o,i);function o(){return i.apply(this,arguments)||this}return o}(r):(a=function(){(n.$constructor||r).apply(this,arguments)},rDt(a,this)),rt(a.prototype,n),a[Kge]=!0,a.extend=this.extend,a.superCall=JNt,a.superApply=QNt,a.superClass=r,a}}function XNt(e){return Yt(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function jge(e,t){e.extend=t.extend}var qNt=Math.round(Math.random()*10);function ZNt(e){var t=["__\0is_clz",qNt++].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!!(n&&n[t])}}function JNt(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function QNt(e,t,n){return this.superClass.prototype[t].apply(e,n)}function CN(e){var t={};e.registerClass=function(r){var a=r.type||r.prototype.type;if(a){jNt(a),r.prototype.type=a;var i=yc(a);if(!i.sub)t[i.main]=r;else if(i.sub!==Rp){var o=n(i);o[i.sub]=r}}return r},e.getClass=function(r,a,i){var o=t[r];if(o&&o[Rp]&&(o=a?o[a]:null),i&&!o)throw new Error(a?"Component "+r+"."+(a||"")+" is used but not imported.":r+".type should be specified.");return o},e.getClassesByMainType=function(r){var a=yc(r),i=[],o=t[a.main];return o&&o[Rp]?X(o,function(s,l){l!==Rp&&i.push(s)}):i.push(o),i},e.hasClass=function(r){var a=yc(r);return!!t[a.main]},e.getAllClassMainTypes=function(){var r=[];return X(t,function(a,i){r.push(i)}),r},e.hasSubTypes=function(r){var a=yc(r),i=t[a.main];return i&&i[Rp]};function n(r){var a=t[r.main];return(!a||!a[Rp])&&(a=t[r.main]={},a[Rp]=!0),a}}function Eg(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(r,a,i){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(a&&Cn(a,l)>=0||i&&Cn(i,l)<0)){var u=r.getShallow(l,t);u!=null&&(o[e[s][0]]=u)}}return o}}var eRt=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],tRt=Eg(eRt),nRt=function(){function e(){}return e.prototype.getAreaStyle=function(t,n){return tRt(this,t,n)},e}(),jF=new iC(50);function rRt(e){if(typeof e=="string"){var t=jF.get(e);return t&&t.image}else return e}function Z8(e,t,n,r,a){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var i=jF.get(e),o={hostEl:n,cb:r,cbPayload:a};return i?(t=i.image,!TN(t)&&i.pending.push(o)):(t=Bh.loadImage(e,DY,DY),t.__zrImageSrc=e,jF.put(e,t.__cachedImgObj={image:t,pending:[o]})),t}else return e;else return t}function DY(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function TN(e){return e&&e.width&&e.height}var jM=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function aRt(e,t,n,r,a,i){if(!n){e.text="",e.isTruncated=!1;return}var o=(t+"").split(`
`);i=Yge(n,r,a,i);for(var s=!1,l={},u=0,c=o.length;u<c;u++)Xge(l,o[u],i),o[u]=l.textLine,s=s||l.isTruncated;e.text=o.join(`
`),e.isTruncated=s}function Yge(e,t,n,r){r=r||{};var a=rt({},r);a.font=t,n=fn(n,"..."),a.maxIterations=fn(r.maxIterations,2);var i=a.minChar=fn(r.minChar,0);a.cnCharWidth=Ks("国",t);var o=a.ascCharWidth=Ks("a",t);a.placeholder=fn(r.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<i&&s>=o;l++)s-=o;var u=Ks(n,t);return u>s&&(n="",u=0),s=e-u,a.ellipsis=n,a.ellipsisWidth=u,a.contentWidth=s,a.containerWidth=e,a}function Xge(e,t,n){var r=n.containerWidth,a=n.font,i=n.contentWidth;if(!r){e.textLine="",e.isTruncated=!1;return}var o=Ks(t,a);if(o<=r){e.textLine=t,e.isTruncated=!1;return}for(var s=0;;s++){if(o<=i||s>=n.maxIterations){t+=n.ellipsis;break}var l=s===0?iRt(t,i,n.ascCharWidth,n.cnCharWidth):o>0?Math.floor(t.length*i/o):0;t=t.substr(0,l),o=Ks(t,a)}t===""&&(t=n.placeholder),e.textLine=t,e.isTruncated=!0}function iRt(e,t,n,r){for(var a=0,i=0,o=e.length;i<o&&a<t;i++){var s=e.charCodeAt(i);a+=0<=s&&s<=127?n:r}return i}function oRt(e,t){e!=null&&(e+="");var n=t.overflow,r=t.padding,a=t.font,i=n==="truncate",o=_N(a),s=fn(t.lineHeight,o),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",c=!1,f=t.width,d;f!=null&&(n==="break"||n==="breakAll")?d=e?qge(e,t.font,f,n==="breakAll",0).lines:[]:d=e?e.split(`
`):[];var h=d.length*s,p=fn(t.height,h);if(h>p&&u){var v=Math.floor(p/s);c=c||d.length>v,d=d.slice(0,v)}if(e&&i&&f!=null)for(var g=Yge(f,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m={},y=0;y<d.length;y++)Xge(m,d[y],g),d[y]=m.textLine,c=c||m.isTruncated;for(var b=p,x=0,y=0;y<d.length;y++)x=Math.max(Ks(d[y],a),x);f==null&&(f=x);var _=x;return r&&(b+=r[0]+r[2],_+=r[1]+r[3],f+=r[1]+r[3]),l&&(_=f),{lines:d,height:p,outerWidth:_,outerHeight:b,lineHeight:s,calculatedLineHeight:o,contentWidth:x,contentHeight:h,width:f,isTruncated:c}}var sRt=function(){function e(){}return e}(),NY=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),lRt=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e}();function uRt(e,t){var n=new lRt;if(e!=null&&(e+=""),!e)return n;for(var r=t.width,a=t.height,i=t.overflow,o=(i==="break"||i==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:i==="breakAll"}:null,s=jM.lastIndex=0,l;(l=jM.exec(e))!=null;){var u=l.index;u>s&&YM(n,e.substring(s,u),t,o),YM(n,l[2],t,o,l[1]),s=jM.lastIndex}s<e.length&&YM(n,e.substring(s,e.length),t,o);var c=[],f=0,d=0,h=t.padding,p=i==="truncate",v=t.lineOverflow==="truncate",g={};function m(W,U,V){W.width=U,W.lineHeight=V,f+=V,d=Math.max(d,U)}e:for(var y=0;y<n.lines.length;y++){for(var b=n.lines[y],x=0,_=0,S=0;S<b.tokens.length;S++){var C=b.tokens[S],k=C.styleName&&t.rich[C.styleName]||{},T=C.textPadding=k.padding,I=T?T[1]+T[3]:0,E=C.font=k.font||t.font;C.contentHeight=_N(E);var A=fn(k.height,C.contentHeight);if(C.innerHeight=A,T&&(A+=T[0]+T[2]),C.height=A,C.lineHeight=Ac(k.lineHeight,t.lineHeight,A),C.align=k&&k.align||t.align,C.verticalAlign=k&&k.verticalAlign||"middle",v&&a!=null&&f+C.lineHeight>a){var N=n.lines.length;S>0?(b.tokens=b.tokens.slice(0,S),m(b,_,x),n.lines=n.lines.slice(0,y+1)):n.lines=n.lines.slice(0,y),n.isTruncated=n.isTruncated||n.lines.length<N;break e}var L=k.width,R=L==null||L==="auto";if(typeof L=="string"&&L.charAt(L.length-1)==="%")C.percentWidth=L,c.push(C),C.contentWidth=Ks(C.text,E);else{if(R){var D=k.backgroundColor,P=D&&D.image;P&&(P=rRt(P),TN(P)&&(C.width=Math.max(C.width,P.width*A/P.height)))}var O=p&&r!=null?r-_:null;O!=null&&O<C.width?!R||O<I?(C.text="",C.width=C.contentWidth=0):(aRt(g,C.text,O-I,E,t.ellipsis,{minChar:t.truncateMinChar}),C.text=g.text,n.isTruncated=n.isTruncated||g.isTruncated,C.width=C.contentWidth=Ks(C.text,E)):C.contentWidth=Ks(C.text,E)}C.width+=I,_+=C.width,k&&(x=Math.max(x,C.lineHeight))}m(b,_,x)}n.outerWidth=n.width=fn(r,d),n.outerHeight=n.height=fn(a,f),n.contentHeight=f,n.contentWidth=d,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var y=0;y<c.length;y++){var C=c[y],M=C.percentWidth;C.width=parseInt(M,10)/100*n.width}return n}function YM(e,t,n,r,a){var i=t==="",o=a&&n.rich[a]||{},s=e.lines,l=o.font||n.font,u=!1,c,f;if(r){var d=o.padding,h=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var p=Pu(o.width,r.width)+h;s.length>0&&p+r.accumWidth>r.width&&(c=t.split(`
`),u=!0),r.accumWidth=p}else{var v=qge(t,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=v.accumWidth+h,f=v.linesWidths,c=v.lines}}else c=t.split(`
`);for(var g=0;g<c.length;g++){var m=c[g],y=new sRt;if(y.styleName=a,y.text=m,y.isLineHolder=!m&&!i,typeof o.width=="number"?y.width=o.width:y.width=f?f[g]:Ks(m,l),!g&&!u){var b=(s[s.length-1]||(s[0]=new NY)).tokens,x=b.length;x===1&&b[0].isLineHolder?b[0]=y:(m||!x||i)&&b.push(y)}else s.push(new NY([y]))}}function cRt(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var fRt=zc(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function dRt(e){return cRt(e)?!!fRt[e]:!0}function qge(e,t,n,r,a){for(var i=[],o=[],s="",l="",u=0,c=0,f=0;f<e.length;f++){var d=e.charAt(f);if(d===`
`){l&&(s+=l,c+=u),i.push(s),o.push(c),s="",l="",u=0,c=0;continue}var h=Ks(d,t),p=r?!1:!dRt(d);if(i.length?c+h>n:a+c+h>n){c?(s||l)&&(p?(s||(s=l,l="",u=0,c=u),i.push(s),o.push(c-u),l+=d,u+=h,s="",c=u):(l&&(s+=l,l="",u=0),i.push(s),o.push(c),s=d,c=h)):p?(i.push(l),o.push(u),l=d,u=h):(i.push(d),o.push(h));continue}c+=h,p?(l+=d,u+=h):(l&&(s+=l,l="",u=0),s+=d)}return!i.length&&!s&&(s=e,l="",u=0),l&&(s+=l),s&&(i.push(s),o.push(c)),i.length===1&&(c+=a),{accumWidth:c,lines:i,linesWidths:o}}var YF="__zr_style_"+Math.round(Math.random()*10),Gv={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},kN={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Gv[YF]=!0;var RY=["z","z2","invisible"],hRt=["invisible"],Bl=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype._init=function(n){for(var r=Mn(n),a=0;a<r.length;a++){var i=r[a];i==="style"?this.useStyle(n[i]):e.prototype.attrKV.call(this,i,n[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,r,a,i){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&pRt(this,n,r)||o&&!o[0]&&!o[3])return!1;if(a&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(n,r){return this.rectContain(n,r)},t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.rectContain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();return i.contain(a[0],a[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,a=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,s=i.shadowOffsetX||0,l=i.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new xn(0,0,0,0)),r?xn.applyTransform(n,a,r):n.copy(a),(o||s||l)&&(n.width+=o*2+Math.abs(s),n.height+=o*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-o),n.y=Math.min(n.y,n.y+l-o));var u=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-u),n.y=Math.floor(n.y-u),n.width=Math.ceil(n.width+1+u*2),n.height=Math.ceil(n.height+1+u*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new xn(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,r){n!=="style"?e.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:rt(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=Lb,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Lb)},t.prototype.styleUpdated=function(){this.__dirty&=~Lb},t.prototype.createStyle=function(n){return bN(Gv,n)},t.prototype.useStyle=function(n){n[YF]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[YF]},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,RY)},t.prototype._applyStateObj=function(n,r,a,i,o,s){e.prototype._applyStateObj.call(this,n,r,a,i,o,s);var l=!(r&&i),u;if(r&&r.style?o?i?u=r.style:(u=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:a.style),this._mergeStyle(u,r.style)):l&&(u=a.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Mn(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var p=Mn(u),d=0;d<p.length;d++){var h=p[d];this.style[h]=this.style[h]}this._transitionState(n,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var v=this.__inHover?hRt:RY,d=0;d<v.length;d++){var h=v[d];r&&r[h]!=null?this[h]=r[h]:l&&a[h]!=null&&(this[h]=a[h])}},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),a,i=0;i<n.length;i++){var o=n[i];o.style&&(a=a||{},this._mergeStyle(a,o.style))}return a&&(r.style=a),r},t.prototype._mergeStyle=function(n,r){return rt(n,r),n},t.prototype.getAnimationStyleProps=function(){return kN},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=Os|Lb}(),t}(SN),XM=new xn(0,0,0,0),qM=new xn(0,0,0,0);function pRt(e,t,n){return XM.copy(e.getBoundingRect()),e.transform&&XM.applyTransform(e.transform),qM.width=t,qM.height=n,!XM.intersect(qM)}var gs=Math.min,ms=Math.max,ZM=Math.sin,JM=Math.cos,Mp=Math.PI*2,R2=t0(),M2=t0(),$2=t0();function IN(e,t,n){if(e.length!==0){for(var r=e[0],a=r[0],i=r[0],o=r[1],s=r[1],l=1;l<e.length;l++)r=e[l],a=gs(a,r[0]),i=ms(i,r[0]),o=gs(o,r[1]),s=ms(s,r[1]);t[0]=a,t[1]=o,n[0]=i,n[1]=s}}function MY(e,t,n,r,a,i){a[0]=gs(e,n),a[1]=gs(t,r),i[0]=ms(e,n),i[1]=ms(t,r)}var $Y=[],LY=[];function vRt(e,t,n,r,a,i,o,s,l,u){var c=vge,f=Qa,d=c(e,n,a,o,$Y);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var p=f(e,n,a,o,$Y[h]);l[0]=gs(p,l[0]),u[0]=ms(p,u[0])}d=c(t,r,i,s,LY);for(var h=0;h<d;h++){var v=f(t,r,i,s,LY[h]);l[1]=gs(v,l[1]),u[1]=ms(v,u[1])}l[0]=gs(e,l[0]),u[0]=ms(e,u[0]),l[0]=gs(o,l[0]),u[0]=ms(o,u[0]),l[1]=gs(t,l[1]),u[1]=ms(t,u[1]),l[1]=gs(s,l[1]),u[1]=ms(s,u[1])}function gRt(e,t,n,r,a,i,o,s){var l=mge,u=xi,c=ms(gs(l(e,n,a),1),0),f=ms(gs(l(t,r,i),1),0),d=u(e,n,a,c),h=u(t,r,i,f);o[0]=gs(e,a,d),o[1]=gs(t,i,h),s[0]=ms(e,a,d),s[1]=ms(t,i,h)}function mRt(e,t,n,r,a,i,o,s,l){var u=Jd,c=Qd,f=Math.abs(a-i);if(f%Mp<1e-4&&f>1e-4){s[0]=e-n,s[1]=t-r,l[0]=e+n,l[1]=t+r;return}if(R2[0]=JM(a)*n+e,R2[1]=ZM(a)*r+t,M2[0]=JM(i)*n+e,M2[1]=ZM(i)*r+t,u(s,R2,M2),c(l,R2,M2),a=a%Mp,a<0&&(a=a+Mp),i=i%Mp,i<0&&(i=i+Mp),a>i&&!o?i+=Mp:a<i&&o&&(a+=Mp),o){var d=i;i=a,a=d}for(var h=0;h<i;h+=Math.PI/2)h>a&&($2[0]=JM(h)*n+e,$2[1]=ZM(h)*r+t,u(s,$2,s),c(l,$2,l))}var Nr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},$p=[],Lp=[],Yu=[],wd=[],Xu=[],qu=[],QM=Math.min,e$=Math.max,Op=Math.cos,Pp=Math.sin,df=Math.abs,XF=Math.PI,$d=XF*2,t$=typeof Float32Array<"u",Z1=[];function n$(e){var t=Math.round(e/XF*1e8)/1e8;return t%2*XF}function J8(e,t){var n=n$(e[0]);n<0&&(n+=$d);var r=n-e[0],a=e[1];a+=r,!t&&a-n>=$d?a=n+$d:t&&n-a>=$d?a=n-$d:!t&&n>a?a=n+($d-n$(n-a)):t&&n<a&&(a=n-($d-n$(a-n))),e[0]=n,e[1]=a}var Gc=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,n,r){r=r||0,r>0&&(this._ux=df(r/iE/t)||0,this._uy=df(r/iE/n)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(Nr.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},e.prototype.lineTo=function(t,n){var r=df(t-this._xi),a=df(n-this._yi),i=r>this._ux||a>this._uy;if(this.addData(Nr.L,t,n),this._ctx&&i&&this._ctx.lineTo(t,n),i)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var o=r*r+a*a;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(t,n,r,a,i,o){return this._drawPendingPt(),this.addData(Nr.C,t,n,r,a,i,o),this._ctx&&this._ctx.bezierCurveTo(t,n,r,a,i,o),this._xi=i,this._yi=o,this},e.prototype.quadraticCurveTo=function(t,n,r,a){return this._drawPendingPt(),this.addData(Nr.Q,t,n,r,a),this._ctx&&this._ctx.quadraticCurveTo(t,n,r,a),this._xi=r,this._yi=a,this},e.prototype.arc=function(t,n,r,a,i,o){this._drawPendingPt(),Z1[0]=a,Z1[1]=i,J8(Z1,o),a=Z1[0],i=Z1[1];var s=i-a;return this.addData(Nr.A,t,n,r,r,a,s,0,o?0:1),this._ctx&&this._ctx.arc(t,n,r,a,i,o),this._xi=Op(i)*r+t,this._yi=Pp(i)*r+n,this},e.prototype.arcTo=function(t,n,r,a,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,r,a,i),this},e.prototype.rect=function(t,n,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,r,a),this.addData(Nr.R,t,n,r,a),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(Nr.Z);var t=this._ctx,n=this._x0,r=this._y0;return t&&t.closePath(),this._xi=n,this._yi=r,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&t$&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=t[r];this._len=n},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,r=0,a=this._len,i=0;i<n;i++)r+=t[i].len();t$&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<n;i++)for(var o=t[i].data,s=0;s<o.length;s++)this.data[a++]=o[s];this._len=a},e.prototype.addData=function(t,n,r,a,i,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,t$&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Yu[0]=Yu[1]=Xu[0]=Xu[1]=Number.MAX_VALUE,wd[0]=wd[1]=qu[0]=qu[1]=-Number.MAX_VALUE;var t=this.data,n=0,r=0,a=0,i=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(n=t[o],r=t[o+1],a=n,i=r),s){case Nr.M:n=a=t[o++],r=i=t[o++],Xu[0]=a,Xu[1]=i,qu[0]=a,qu[1]=i;break;case Nr.L:MY(n,r,t[o],t[o+1],Xu,qu),n=t[o++],r=t[o++];break;case Nr.C:vRt(n,r,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],Xu,qu),n=t[o++],r=t[o++];break;case Nr.Q:gRt(n,r,t[o++],t[o++],t[o],t[o+1],Xu,qu),n=t[o++],r=t[o++];break;case Nr.A:var u=t[o++],c=t[o++],f=t[o++],d=t[o++],h=t[o++],p=t[o++]+h;o+=1;var v=!t[o++];l&&(a=Op(h)*f+u,i=Pp(h)*d+c),mRt(u,c,f,d,h,p,v,Xu,qu),n=Op(p)*f+u,r=Pp(p)*d+c;break;case Nr.R:a=n=t[o++],i=r=t[o++];var g=t[o++],m=t[o++];MY(a,i,a+g,i+m,Xu,qu);break;case Nr.Z:n=a,r=i;break}Jd(Yu,Yu,Xu),Qd(wd,wd,qu)}return o===0&&(Yu[0]=Yu[1]=wd[0]=wd[1]=0),new xn(Yu[0],Yu[1],wd[0]-Yu[0],wd[1]-Yu[1])},e.prototype._calculateLength=function(){var t=this.data,n=this._len,r=this._ux,a=this._uy,i=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<n;){var h=t[d++],p=d===1;p&&(i=t[d],o=t[d+1],s=i,l=o);var v=-1;switch(h){case Nr.M:i=s=t[d++],o=l=t[d++];break;case Nr.L:{var g=t[d++],m=t[d++],y=g-i,b=m-o;(df(y)>r||df(b)>a||d===n-1)&&(v=Math.sqrt(y*y+b*b),i=g,o=m);break}case Nr.C:{var x=t[d++],_=t[d++],g=t[d++],m=t[d++],S=t[d++],C=t[d++];v=PDt(i,o,x,_,g,m,S,C,10),i=S,o=C;break}case Nr.Q:{var x=t[d++],_=t[d++],g=t[d++],m=t[d++];v=BDt(i,o,x,_,g,m,10),i=g,o=m;break}case Nr.A:var k=t[d++],T=t[d++],I=t[d++],E=t[d++],A=t[d++],N=t[d++],L=N+A;d+=1,p&&(s=Op(A)*I+k,l=Pp(A)*E+T),v=e$(I,E)*QM($d,Math.abs(N)),i=Op(L)*I+k,o=Pp(L)*E+T;break;case Nr.R:{s=i=t[d++],l=o=t[d++];var R=t[d++],D=t[d++];v=R*2+D*2;break}case Nr.Z:{var y=s-i,b=l-o;v=Math.sqrt(y*y+b*b),i=s,o=l;break}}v>=0&&(u[f++]=v,c+=v)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,n){var r=this.data,a=this._ux,i=this._uy,o=this._len,s,l,u,c,f,d,h=n<1,p,v,g=0,m=0,y,b=0,x,_;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,v=this._pathLen,y=n*v,!y)))e:for(var S=0;S<o;){var C=r[S++],k=S===1;switch(k&&(u=r[S],c=r[S+1],s=u,l=c),C!==Nr.L&&b>0&&(t.lineTo(x,_),b=0),C){case Nr.M:s=u=r[S++],l=c=r[S++],t.moveTo(u,c);break;case Nr.L:{f=r[S++],d=r[S++];var T=df(f-u),I=df(d-c);if(T>a||I>i){if(h){var E=p[m++];if(g+E>y){var A=(y-g)/E;t.lineTo(u*(1-A)+f*A,c*(1-A)+d*A);break e}g+=E}t.lineTo(f,d),u=f,c=d,b=0}else{var N=T*T+I*I;N>b&&(x=f,_=d,b=N)}break}case Nr.C:{var L=r[S++],R=r[S++],D=r[S++],P=r[S++],O=r[S++],M=r[S++];if(h){var E=p[m++];if(g+E>y){var A=(y-g)/E;Vh(u,L,D,O,A,$p),Vh(c,R,P,M,A,Lp),t.bezierCurveTo($p[1],Lp[1],$p[2],Lp[2],$p[3],Lp[3]);break e}g+=E}t.bezierCurveTo(L,R,D,P,O,M),u=O,c=M;break}case Nr.Q:{var L=r[S++],R=r[S++],D=r[S++],P=r[S++];if(h){var E=p[m++];if(g+E>y){var A=(y-g)/E;Bw(u,L,D,A,$p),Bw(c,R,P,A,Lp),t.quadraticCurveTo($p[1],Lp[1],$p[2],Lp[2]);break e}g+=E}t.quadraticCurveTo(L,R,D,P),u=D,c=P;break}case Nr.A:var W=r[S++],U=r[S++],V=r[S++],H=r[S++],K=r[S++],j=r[S++],ne=r[S++],Q=!r[S++],oe=V>H?V:H,ae=df(V-H)>.001,me=K+j,ve=!1;if(h){var E=p[m++];g+E>y&&(me=K+j*(y-g)/E,ve=!0),g+=E}if(ae&&t.ellipse?t.ellipse(W,U,V,H,ne,K,me,Q):t.arc(W,U,oe,K,me,Q),ve)break e;k&&(s=Op(K)*V+W,l=Pp(K)*H+U),u=Op(me)*V+W,c=Pp(me)*H+U;break;case Nr.R:s=u=r[S],l=c=r[S+1],f=r[S++],d=r[S++];var B=r[S++],re=r[S++];if(h){var E=p[m++];if(g+E>y){var ge=y-g;t.moveTo(f,d),t.lineTo(f+QM(ge,B),d),ge-=B,ge>0&&t.lineTo(f+B,d+QM(ge,re)),ge-=re,ge>0&&t.lineTo(f+e$(B-ge,0),d+re),ge-=B,ge>0&&t.lineTo(f,d+e$(re-ge,0));break e}g+=E}t.rect(f,d,B,re);break;case Nr.Z:if(h){var E=p[m++];if(g+E>y){var A=(y-g)/E;t.lineTo(u*(1-A)+s*A,c*(1-A)+l*A);break e}g+=E}t.closePath(),u=s,c=l}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=Nr,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function Vd(e,t,n,r,a,i,o){if(a===0)return!1;var s=a,l=0,u=e;if(o>t+s&&o>r+s||o<t-s&&o<r-s||i>e+s&&i>n+s||i<e-s&&i<n-s)return!1;if(e!==n)l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);else return Math.abs(i-e)<=s/2;var c=l*i-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function yRt(e,t,n,r,a,i,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>r+f&&c>i+f&&c>s+f||c<t-f&&c<r-f&&c<i-f&&c<s-f||u>e+f&&u>n+f&&u>a+f&&u>o+f||u<e-f&&u<n-f&&u<a-f&&u<o-f)return!1;var d=gge(e,t,n,r,a,i,o,s,u,c,null);return d<=f/2}function Zge(e,t,n,r,a,i,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>r+u&&l>i+u||l<t-u&&l<r-u&&l<i-u||s>e+u&&s>n+u&&s>a+u||s<e-u&&s<n-u&&s<a-u)return!1;var c=yge(e,t,n,r,a,i,s,l,null);return c<=u/2}var OY=Math.PI*2;function Vs(e){return e%=OY,e<0&&(e+=OY),e}var J1=Math.PI*2;function bRt(e,t,n,r,a,i,o,s,l){if(o===0)return!1;var u=o;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(r-a)%J1<1e-4)return!0;if(i){var f=r;r=Vs(a),a=Vs(f)}else r=Vs(r),a=Vs(a);r>a&&(a+=J1);var d=Math.atan2(l,s);return d<0&&(d+=J1),d>=r&&d<=a||d+J1>=r&&d+J1<=a}function mf(e,t,n,r,a,i){if(i>t&&i>r||i<t&&i<r||r===t)return 0;var o=(i-t)/(r-t),s=r<t?1:-1;(o===1||o===0)&&(s=r<t?.5:-.5);var l=o*(n-e)+e;return l===a?1/0:l>a?s:0}var _d=Gc.CMD,Fp=Math.PI*2,xRt=1e-4;function wRt(e,t){return Math.abs(e-t)<xRt}var Po=[-1,-1,-1],pl=[-1,-1];function _Rt(){var e=pl[0];pl[0]=pl[1],pl[1]=e}function SRt(e,t,n,r,a,i,o,s,l,u){if(u>t&&u>r&&u>i&&u>s||u<t&&u<r&&u<i&&u<s)return 0;var c=tE(t,r,i,s,u,Po);if(c===0)return 0;for(var f=0,d=-1,h=void 0,p=void 0,v=0;v<c;v++){var g=Po[v],m=g===0||g===1?.5:1,y=Qa(e,n,a,o,g);y<l||(d<0&&(d=vge(t,r,i,s,pl),pl[1]<pl[0]&&d>1&&_Rt(),h=Qa(t,r,i,s,pl[0]),d>1&&(p=Qa(t,r,i,s,pl[1]))),d===2?g<pl[0]?f+=h<t?m:-m:g<pl[1]?f+=p<h?m:-m:f+=s<p?m:-m:g<pl[0]?f+=h<t?m:-m:f+=s<h?m:-m)}return f}function CRt(e,t,n,r,a,i,o,s){if(s>t&&s>r&&s>i||s<t&&s<r&&s<i)return 0;var l=FDt(t,r,i,s,Po);if(l===0)return 0;var u=mge(t,r,i);if(u>=0&&u<=1){for(var c=0,f=xi(t,r,i,u),d=0;d<l;d++){var h=Po[d]===0||Po[d]===1?.5:1,p=xi(e,n,a,Po[d]);p<o||(Po[d]<u?c+=f<t?h:-h:c+=i<f?h:-h)}return c}else{var h=Po[0]===0||Po[0]===1?.5:1,p=xi(e,n,a,Po[0]);return p<o?0:i<t?h:-h}}function TRt(e,t,n,r,a,i,o,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Po[0]=-l,Po[1]=l;var u=Math.abs(r-a);if(u<1e-4)return 0;if(u>=Fp-1e-4){r=0,a=Fp;var c=i?1:-1;return o>=Po[0]+e&&o<=Po[1]+e?c:0}if(r>a){var f=r;r=a,a=f}r<0&&(r+=Fp,a+=Fp);for(var d=0,h=0;h<2;h++){var p=Po[h];if(p+e>o){var v=Math.atan2(s,p),c=i?1:-1;v<0&&(v=Fp+v),(v>=r&&v<=a||v+Fp>=r&&v+Fp<=a)&&(v>Math.PI/2&&v<Math.PI*1.5&&(c=-c),d+=c)}}return d}function Jge(e,t,n,r,a){for(var i=e.data,o=e.len(),s=0,l=0,u=0,c=0,f=0,d,h,p=0;p<o;){var v=i[p++],g=p===1;switch(v===_d.M&&p>1&&(n||(s+=mf(l,u,c,f,r,a))),g&&(l=i[p],u=i[p+1],c=l,f=u),v){case _d.M:c=i[p++],f=i[p++],l=c,u=f;break;case _d.L:if(n){if(Vd(l,u,i[p],i[p+1],t,r,a))return!0}else s+=mf(l,u,i[p],i[p+1],r,a)||0;l=i[p++],u=i[p++];break;case _d.C:if(n){if(yRt(l,u,i[p++],i[p++],i[p++],i[p++],i[p],i[p+1],t,r,a))return!0}else s+=SRt(l,u,i[p++],i[p++],i[p++],i[p++],i[p],i[p+1],r,a)||0;l=i[p++],u=i[p++];break;case _d.Q:if(n){if(Zge(l,u,i[p++],i[p++],i[p],i[p+1],t,r,a))return!0}else s+=CRt(l,u,i[p++],i[p++],i[p],i[p+1],r,a)||0;l=i[p++],u=i[p++];break;case _d.A:var m=i[p++],y=i[p++],b=i[p++],x=i[p++],_=i[p++],S=i[p++];p+=1;var C=!!(1-i[p++]);d=Math.cos(_)*b+m,h=Math.sin(_)*x+y,g?(c=d,f=h):s+=mf(l,u,d,h,r,a);var k=(r-m)*x/b+m;if(n){if(bRt(m,y,x,_,_+S,C,t,k,a))return!0}else s+=TRt(m,y,x,_,_+S,C,k,a);l=Math.cos(_+S)*b+m,u=Math.sin(_+S)*x+y;break;case _d.R:c=l=i[p++],f=u=i[p++];var T=i[p++],I=i[p++];if(d=c+T,h=f+I,n){if(Vd(c,f,d,f,t,r,a)||Vd(d,f,d,h,t,r,a)||Vd(d,h,c,h,t,r,a)||Vd(c,h,c,f,t,r,a))return!0}else s+=mf(d,f,d,h,r,a),s+=mf(c,h,c,f,r,a);break;case _d.Z:if(n){if(Vd(l,u,c,f,t,r,a))return!0}else s+=mf(l,u,c,f,r,a);l=c,u=f;break}}return!n&&!wRt(u,f)&&(s+=mf(l,u,c,f,r,a)||0),s!==0}function kRt(e,t,n){return Jge(e,0,!1,t,n)}function IRt(e,t,n,r){return Jge(e,t,!0,n,r)}var sE=Xt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Gv),ERt={style:Xt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},kN.style)},r$=Hc.concat(["invisible","culling","z","z2","zlevel","parent"]),An=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var a=this._decalEl=this._decalEl||new t;a.buildPath===t.prototype.buildPath&&(a.buildPath=function(l){n.buildPath(l,n.shape)}),a.silent=!0;var i=a.style;for(var o in r)i[o]!==r[o]&&(i[o]=r[o]);i.fill=r.fill?r.decal:null,i.decal=null,i.shadowColor=null,r.strokeFirst&&(i.stroke=null);for(var s=0;s<r$.length;++s)a[r$[s]]=this[r$[s]];a.__dirty|=Os}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var r=Mn(n);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var i=0;i<r.length;i++){var o=r[i],s=n[o];o==="style"?this.style?rt(this.style,s):this.useStyle(s):o==="shape"?rt(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(Dt(n)){var r=rE(n,0);return r>.5?HF:r>.2?dNt:UF}else if(n)return UF}return HF},t.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(Dt(r)){var a=this.__zr,i=!!(a&&a.isDarkMode()),o=rE(n,0)<WF;if(i===o)return r}},t.prototype.buildPath=function(n,r,a){},t.prototype.pathUpdated=function(){this.__dirty&=~am},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new Gc(!1)},t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,a=!n;if(a){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||this.__dirty&am)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),n=o.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||a){s.copy(n);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return n},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect(),o=this.style;if(n=a[0],r=a[1],i.contain(n,r)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),IRt(s,l/u,n,r)))return!0}if(this.hasFill())return kRt(s,n,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=am,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):e.prototype.attrKV.call(this,n,r)},t.prototype.setShape=function(n,r){var a=this.shape;return a||(a=this.shape={}),typeof n=="string"?a[n]=r:rt(a,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&am)},t.prototype.createStyle=function(n){return bN(sE,n)},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=rt({},this.shape))},t.prototype._applyStateObj=function(n,r,a,i,o,s){e.prototype._applyStateObj.call(this,n,r,a,i,o,s);var l=!(r&&i),u;if(r&&r.shape?o?i?u=r.shape:(u=rt({},a.shape),rt(u,r.shape)):(u=rt({},i?this.shape:a.shape),rt(u,r.shape)):l&&(u=a.shape),u)if(o){this.shape=rt({},this.shape);for(var c={},f=Mn(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(n,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),a,i=0;i<n.length;i++){var o=n[i];o.shape&&(a=a||{},this._mergeStyle(a,o.shape))}return a&&(r.shape=a),r},t.prototype.getAnimationStyleProps=function(){return ERt},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var r=function(i){Le(o,i);function o(s){var l=i.call(this,s)||this;return n.init&&n.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return en(n.style)},o.prototype.getDefaultShape=function(){return en(n.shape)},o}(t);for(var a in n)typeof n[a]=="function"&&(r.prototype[a]=n[a]);return r},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=Os|Lb|am}(),t}(Bl),ARt=Xt({strokeFirst:!0,font:Fh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},sE),ky=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.createStyle=function(n){return bN(ARt,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var a=oC(r,n.font,n.textAlign,n.textBaseline);if(a.x+=n.x||0,a.y+=n.y||0,this.hasStroke()){var i=n.lineWidth;a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i}this._rect=a}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(Bl);ky.prototype.type="tspan";var DRt=Xt({x:0,y:0},Gv),NRt={style:Xt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},kN.style)};function RRt(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Ri=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return bN(DRt,n)},t.prototype._getSize=function(n){var r=this.style,a=r[n];if(a!=null)return a;var i=RRt(r.image)?r.image:this.__image;if(!i)return 0;var o=n==="width"?"height":"width",s=r[o];return s==null?i[n]:i[n]/i[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return NRt},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new xn(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Bl);Ri.prototype.type="image";function MRt(e,t){var n=t.x,r=t.y,a=t.width,i=t.height,o=t.r,s,l,u,c;a<0&&(n=n+a,a=-a),i<0&&(r=r+i,i=-i),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>a&&(f=s+l,s*=a/f,l*=a/f),u+c>a&&(f=u+c,u*=a/f,c*=a/f),l+u>i&&(f=l+u,l*=i/f,u*=i/f),s+c>i&&(f=s+c,s*=i/f,c*=i/f),e.moveTo(n+s,r),e.lineTo(n+a-l,r),l!==0&&e.arc(n+a-l,r+l,l,-Math.PI/2,0),e.lineTo(n+a,r+i-u),u!==0&&e.arc(n+a-u,r+i-u,u,0,Math.PI/2),e.lineTo(n+c,r+i),c!==0&&e.arc(n+c,r+i-c,c,Math.PI/2,Math.PI),e.lineTo(n,r+s),s!==0&&e.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var pm=Math.round;function Qge(e,t,n){if(t){var r=t.x1,a=t.x2,i=t.y1,o=t.y2;e.x1=r,e.x2=a,e.y1=i,e.y2=o;var s=n&&n.lineWidth;return s&&(pm(r*2)===pm(a*2)&&(e.x1=e.x2=kv(r,s,!0)),pm(i*2)===pm(o*2)&&(e.y1=e.y2=kv(i,s,!0))),e}}function e0e(e,t,n){if(t){var r=t.x,a=t.y,i=t.width,o=t.height;e.x=r,e.y=a,e.width=i,e.height=o;var s=n&&n.lineWidth;return s&&(e.x=kv(r,s,!0),e.y=kv(a,s,!0),e.width=Math.max(kv(r+i,s,!1)-e.x,i===0?0:1),e.height=Math.max(kv(a+o,s,!1)-e.y,o===0?0:1)),e}}function kv(e,t,n){if(!t)return e;var r=pm(e*2);return(r+pm(t))%2===0?r/2:(r+(n?1:-1))/2}var $Rt=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),LRt={},Bn=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new $Rt},t.prototype.buildPath=function(n,r){var a,i,o,s;if(this.subPixelOptimize){var l=e0e(LRt,r,this.style);a=l.x,i=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else a=r.x,i=r.y,o=r.width,s=r.height;r.r?MRt(n,r):n.rect(a,i,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(An);Bn.prototype.type="rect";var PY={fill:"#000"},FY=2,ORt={style:Xt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},kN.style)},Hn=function(e){Le(t,e);function t(n){var r=e.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=PY,r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):e.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,BRt(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new xn(0,0,0,0),r=this._children,a=[],i=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),u=s.getLocalTransform(a);u?(n.copy(l),n.applyTransform(u),i=i||n.clone(),i.union(n)):(i=i||l.clone(),i.union(l))}this._rect=i||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||PY},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,r){if(!r)return n;var a=r.rich,i=n.rich||a&&{};return rt(n,r),a&&i?(this._mergeRich(i,a),n.rich=i):i&&(n.rich=i),n},t.prototype._mergeRich=function(n,r){for(var a=Mn(r),i=0;i<a.length;i++){var o=a[i];n[o]=n[o]||{},rt(n[o],r[o])}},t.prototype.getAnimationStyleProps=function(){return ORt},t.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||Fh,a=n.padding,i=GY(n),o=oRt(i,n),s=a$(n),l=!!n.backgroundColor,u=o.outerHeight,c=o.outerWidth,f=o.contentWidth,d=o.lines,h=o.lineHeight,p=this._defaultStyle;this.isTruncated=!!o.isTruncated;var v=n.x||0,g=n.y||0,m=n.align||p.align||"left",y=n.verticalAlign||p.verticalAlign||"top",b=v,x=im(g,o.contentHeight,y);if(s||a){var _=Pb(v,c,m),S=im(g,u,y);s&&this._renderBackground(n,n,_,S,c,u)}x+=h/2,a&&(b=UY(v,m,a),y==="top"?x+=a[0]:y==="bottom"&&(x-=a[2]));for(var C=0,k=!1,T=HY("fill"in n?n.fill:(k=!0,p.fill)),I=WY("stroke"in n?n.stroke:!l&&(!p.autoStroke||k)?(C=FY,p.stroke):null),E=n.textShadowBlur>0,A=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),N=o.calculatedLineHeight,L=0;L<d.length;L++){var R=this._getOrCreateChild(ky),D=R.createStyle();R.useStyle(D),D.text=d[L],D.x=b,D.y=x,D.textAlign=m,D.textBaseline="middle",D.opacity=n.opacity,D.strokeFirst=!0,E&&(D.shadowBlur=n.textShadowBlur||0,D.shadowColor=n.textShadowColor||"transparent",D.shadowOffsetX=n.textShadowOffsetX||0,D.shadowOffsetY=n.textShadowOffsetY||0),D.stroke=I,D.fill=T,I&&(D.lineWidth=n.lineWidth||C,D.lineDash=n.lineDash,D.lineDashOffset=n.lineDashOffset||0),D.font=r,VY(D,n),x+=h,A&&R.setBoundingRect(new xn(Pb(D.x,f,D.textAlign),im(D.y,N,D.textBaseline),f,N))}},t.prototype._updateRichTexts=function(){var n=this.style,r=GY(n),a=uRt(r,n),i=a.width,o=a.outerWidth,s=a.outerHeight,l=n.padding,u=n.x||0,c=n.y||0,f=this._defaultStyle,d=n.align||f.align,h=n.verticalAlign||f.verticalAlign;this.isTruncated=!!a.isTruncated;var p=Pb(u,o,d),v=im(c,s,h),g=p,m=v;l&&(g+=l[3],m+=l[0]);var y=g+i;a$(n)&&this._renderBackground(n,n,p,v,o,s);for(var b=!!n.backgroundColor,x=0;x<a.lines.length;x++){for(var _=a.lines[x],S=_.tokens,C=S.length,k=_.lineHeight,T=_.width,I=0,E=g,A=y,N=C-1,L=void 0;I<C&&(L=S[I],!L.align||L.align==="left");)this._placeToken(L,n,k,m,E,"left",b),T-=L.width,E+=L.width,I++;for(;N>=0&&(L=S[N],L.align==="right");)this._placeToken(L,n,k,m,A,"right",b),T-=L.width,A-=L.width,N--;for(E+=(i-(E-g)-(y-A)-T)/2;I<=N;)L=S[I],this._placeToken(L,n,k,m,E+L.width/2,"center",b),E+=L.width,I++;m+=k}},t.prototype._placeToken=function(n,r,a,i,o,s,l){var u=r.rich[n.styleName]||{};u.text=n.text;var c=n.verticalAlign,f=i+a/2;c==="top"?f=i+n.height/2:c==="bottom"&&(f=i+a-n.height/2);var d=!n.isLineHolder&&a$(u);d&&this._renderBackground(u,r,s==="right"?o-n.width:s==="center"?o-n.width/2:o,f-n.height/2,n.width,n.height);var h=!!u.backgroundColor,p=n.textPadding;p&&(o=UY(o,s,p),f-=n.height/2-p[0]-n.innerHeight/2);var v=this._getOrCreateChild(ky),g=v.createStyle();v.useStyle(g);var m=this._defaultStyle,y=!1,b=0,x=HY("fill"in u?u.fill:"fill"in r?r.fill:(y=!0,m.fill)),_=WY("stroke"in u?u.stroke:"stroke"in r?r.stroke:!h&&!l&&(!m.autoStroke||y)?(b=FY,m.stroke):null),S=u.textShadowBlur>0||r.textShadowBlur>0;g.text=n.text,g.x=o,g.y=f,S&&(g.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,g.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),g.textAlign=s,g.textBaseline="middle",g.font=n.font||Fh,g.opacity=Ac(u.opacity,r.opacity,1),VY(g,u),_&&(g.lineWidth=Ac(u.lineWidth,r.lineWidth,b),g.lineDash=fn(u.lineDash,r.lineDash),g.lineDashOffset=r.lineDashOffset||0,g.stroke=_),x&&(g.fill=x);var C=n.contentWidth,k=n.contentHeight;v.setBoundingRect(new xn(Pb(g.x,C,g.textAlign),im(g.y,k,g.textBaseline),C,k))},t.prototype._renderBackground=function(n,r,a,i,o,s){var l=n.backgroundColor,u=n.borderWidth,c=n.borderColor,f=l&&l.image,d=l&&!f,h=n.borderRadius,p=this,v,g;if(d||n.lineHeight||u&&c){v=this._getOrCreateChild(Bn),v.useStyle(v.createStyle()),v.style.fill=null;var m=v.shape;m.x=a,m.y=i,m.width=o,m.height=s,m.r=h,v.dirtyShape()}if(d){var y=v.style;y.fill=l||null,y.fillOpacity=fn(n.fillOpacity,1)}else if(f){g=this._getOrCreateChild(Ri),g.onload=function(){p.dirtyStyle()};var b=g.style;b.image=l.image,b.x=a,b.y=i,b.width=o,b.height=s}if(u&&c){var y=v.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=fn(n.strokeOpacity,1),y.lineDash=n.borderDash,y.lineDashOffset=n.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var x=(v||g).style;x.shadowBlur=n.shadowBlur||0,x.shadowColor=n.shadowColor||"transparent",x.shadowOffsetX=n.shadowOffsetX||0,x.shadowOffsetY=n.shadowOffsetY||0,x.opacity=Ac(n.opacity,r.opacity,1)},t.makeFont=function(n){var r="";return n0e(n)&&(r=[n.fontStyle,n.fontWeight,t0e(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&yu(r)||n.textFont||n.font},t}(Bl),PRt={left:!0,right:1,center:1},FRt={top:1,bottom:1,middle:1},BY=["fontStyle","fontWeight","fontSize","fontFamily"];function t0e(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?$8+"px":e+"px"}function VY(e,t){for(var n=0;n<BY.length;n++){var r=BY[n],a=t[r];a!=null&&(e[r]=a)}}function n0e(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function BRt(e){return zY(e),X(e.rich,zY),e}function zY(e){if(e){e.font=Hn.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||PRt[t]?t:"left";var n=e.verticalAlign;n==="center"&&(n="middle"),e.verticalAlign=n==null||FRt[n]?n:"top";var r=e.padding;r&&(e.padding=V8(e.padding))}}function WY(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function HY(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function UY(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function GY(e){var t=e.text;return t!=null&&(t+=""),t}function a$(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var sn=Vn(),qF=function(e,t,n,r){if(r){var a=sn(r);a.dataIndex=n,a.dataType=t,a.seriesIndex=e,a.ssrType="chart",r.type==="group"&&r.traverse(function(i){var o=sn(i);o.seriesIndex=e,o.dataIndex=n,o.dataType=t,o.ssrType="chart"})}},KY=1,jY={},r0e=Vn(),Q8=Vn(),e5=0,lC=1,EN=2,os=["emphasis","blur","select"],Uw=["normal","emphasis","blur","select"],m1=10,VRt=9,Kv="highlight",bk="downplay",kx="select",xk="unselect",Ix="toggleSelect";function D0(e){return e!=null&&e!=="none"}function AN(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function a0e(e){AN(e,"emphasis",EN)}function i0e(e){e.hoverState===EN&&AN(e,"normal",e5)}function t5(e){AN(e,"blur",lC)}function o0e(e){e.hoverState===lC&&AN(e,"normal",e5)}function zRt(e){e.selected=!0}function WRt(e){e.selected=!1}function YY(e,t,n){t(e,n)}function hd(e,t,n){YY(e,t,n),e.isGroup&&e.traverse(function(r){YY(r,t,n)})}function lE(e,t){switch(t){case"emphasis":e.hoverState=EN;break;case"normal":e.hoverState=e5;break;case"blur":e.hoverState=lC;break;case"select":e.selected=!0}}function HRt(e,t,n,r){for(var a=e.style,i={},o=0;o<t.length;o++){var s=t[o],l=a[s];i[s]=l??r[s]}for(var o=0;o<e.animators.length;o++){var u=e.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&u.targetName==="style"&&u.saveTo(i,t)}return i}function URt(e,t,n,r){var a=n&&Cn(n,"select")>=0,i=!1;if(e instanceof An){var o=r0e(e),s=a&&o.selectFill||o.normalFill,l=a&&o.selectStroke||o.normalStroke;if(D0(s)||D0(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(i=!0,r=rt({},r),u=rt({},u),u.fill=s):!D0(u.fill)&&D0(s)?(i=!0,r=rt({},r),u=rt({},u),u.fill=LF(s)):!D0(u.stroke)&&D0(l)&&(i||(r=rt({},r),u=rt({},u)),u.stroke=LF(l)),r.style=u}}if(r&&r.z2==null){i||(r=rt({},r));var c=e.z2EmphasisLift;r.z2=e.z2+(c??m1)}return r}function GRt(e,t,n){if(n&&n.z2==null){n=rt({},n);var r=e.z2SelectLift;n.z2=e.z2+(r??VRt)}return n}function KRt(e,t,n){var r=Cn(e.currentStates,t)>=0,a=e.style.opacity,i=r?null:HRt(e,["opacity"],t,{opacity:1});n=n||{};var o=n.style||{};return o.opacity==null&&(n=rt({},n),o=rt({opacity:r?a:i.opacity*.1},o),n.style=o),n}function i$(e,t){var n=this.states[e];if(this.style){if(e==="emphasis")return URt(this,e,t,n);if(e==="blur")return KRt(this,e,n);if(e==="select")return GRt(this,e,n)}return n}function Ag(e){e.stateProxy=i$;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=i$),n&&(n.stateProxy=i$)}function XY(e,t){!c0e(e,t)&&!e.__highByOuter&&hd(e,a0e)}function qY(e,t){!c0e(e,t)&&!e.__highByOuter&&hd(e,i0e)}function qf(e,t){e.__highByOuter|=1<<(t||0),hd(e,a0e)}function Zf(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&hd(e,i0e)}function s0e(e){hd(e,t5)}function n5(e){hd(e,o0e)}function l0e(e){hd(e,zRt)}function u0e(e){hd(e,WRt)}function c0e(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function f0e(e){var t=e.getModel(),n=[],r=[];t.eachComponent(function(a,i){var o=Q8(i),s=a==="series",l=s?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(u){o0e(u)}),s&&n.push(i)),o.isBlured=!1}),X(r,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(n,!1,t)})}function ZF(e,t,n,r){var a=r.getModel();n=n||"coordinateSystem";function i(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&n5(d)}}if(e!=null&&!(!t||t==="none")){var o=a.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];a.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(n==="series"&&!c||n==="coordinateSystem"&&!d||t==="series"&&c)){var h=r.getViewOfSeriesModel(u);if(h.group.traverse(function(g){g.__highByOuter&&c&&t==="self"||t5(g)}),Co(t))i(u.getData(),t);else if(Jt(t))for(var p=Mn(t),v=0;v<p.length;v++)i(u.getData(p[v]),t[p[v]]);l.push(u),Q8(u).isBlured=!0}}),a.eachComponent(function(u,c){if(u!=="series"){var f=r.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,a)}})}}function JF(e,t,n){if(!(e==null||t==null)){var r=n.getModel().getComponent(e,t);if(r){Q8(r).isBlured=!0;var a=n.getViewOfComponentModel(r);!a||!a.focusBlurEnabled||a.group.traverse(function(i){t5(i)})}}}function jRt(e,t,n){var r=e.seriesIndex,a=e.getData(t.dataType);if(a){var i=Ig(a,t);i=(st(i)?i[0]:i)||0;var o=a.getItemGraphicEl(i);if(!o)for(var s=a.count(),l=0;!o&&l<s;)o=a.getItemGraphicEl(l++);if(o){var u=sn(o);ZF(r,u.focus,u.blurScope,n)}else{var c=e.get(["emphasis","focus"]),f=e.get(["emphasis","blurScope"]);c!=null&&ZF(r,c,f,n)}}}function r5(e,t,n,r){var a={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||n==null)return a;var i=r.getModel().getComponent(e,t);if(!i)return a;var o=r.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return a;for(var s=o.findHighDownDispatchers(n),l,u=0;u<s.length;u++)if(sn(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function YRt(e,t,n){var r=sn(e),a=r5(r.componentMainType,r.componentIndex,r.componentHighDownName,n),i=a.dispatchers,o=a.focusSelf;i?(o&&JF(r.componentMainType,r.componentIndex,n),X(i,function(s){return XY(s,t)})):(ZF(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&JF(r.componentMainType,r.componentIndex,n),XY(e,t))}function XRt(e,t,n){f0e(n);var r=sn(e),a=r5(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;a?X(a,function(i){return qY(i,t)}):qY(e,t)}function qRt(e,t,n){if(e3(t)){var r=t.dataType,a=e.getData(r),i=Ig(a,t);st(i)||(i=[i]),e[t.type===Ix?"toggleSelect":t.type===kx?"select":"unselect"](i,r)}}function ZY(e){var t=e.getAllData();X(t,function(n){var r=n.data,a=n.type;r.eachItemGraphicEl(function(i,o){e.isSelected(o,a)?l0e(i):u0e(i)})})}function ZRt(e){var t=[];return e.eachSeries(function(n){var r=n.getAllData();X(r,function(a){a.data;var i=a.type,o=n.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:n.seriesIndex};i!=null&&(s.dataType=i),t.push(s)}})}),t}function jv(e,t,n){Iv(e,!0),hd(e,Ag),QF(e,t,n)}function JRt(e){Iv(e,!1)}function la(e,t,n,r){r?JRt(e):jv(e,t,n)}function QF(e,t,n){var r=sn(e);t!=null?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var JY=["emphasis","blur","select"],QRt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ji(e,t,n,r){n=n||"itemStyle";for(var a=0;a<JY.length;a++){var i=JY[a],o=t.getModel([i,n]),s=e.ensureState(i);s.style=r?r(o):o[QRt[n]]()}}function Iv(e,t){var n=t===!1,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function Gw(e){return!!(e&&e.__highDownDispatcher)}function eMt(e,t,n){var r=sn(e);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=n}function tMt(e){var t=jY[e];return t==null&&KY<=32&&(t=jY[e]=KY++),t}function e3(e){var t=e.type;return t===kx||t===xk||t===Ix}function QY(e){var t=e.type;return t===Kv||t===bk}function nMt(e){var t=r0e(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var N0=Gc.CMD,rMt=[[],[],[]],eX=Math.sqrt,aMt=Math.atan2;function d0e(e,t){if(t){var n=e.data,r=e.len(),a,i,o,s,l,u,c=N0.M,f=N0.C,d=N0.L,h=N0.R,p=N0.A,v=N0.Q;for(o=0,s=0;o<r;){switch(a=n[o++],s=o,i=0,a){case c:i=1;break;case d:i=1;break;case f:i=3;break;case v:i=2;break;case p:var g=t[4],m=t[5],y=eX(t[0]*t[0]+t[1]*t[1]),b=eX(t[2]*t[2]+t[3]*t[3]),x=aMt(-t[1]/b,t[0]/y);n[o]*=y,n[o++]+=g,n[o]*=b,n[o++]+=m,n[o++]*=y,n[o++]*=b,n[o++]+=x,n[o++]+=x,o+=2,s=o;break;case h:u[0]=n[o++],u[1]=n[o++],Wi(u,u,t),n[s++]=u[0],n[s++]=u[1],u[0]+=n[o++],u[1]+=n[o++],Wi(u,u,t),n[s++]=u[0],n[s++]=u[1]}for(l=0;l<i;l++){var _=rMt[l];_[0]=n[o++],_[1]=n[o++],Wi(_,_,t),n[s++]=_[0],n[s++]=_[1]}}e.increaseVersion()}}var o$=Math.sqrt,L2=Math.sin,O2=Math.cos,Q1=Math.PI;function tX(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function t3(e,t){return(e[0]*t[0]+e[1]*t[1])/(tX(e)*tX(t))}function nX(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(t3(e,t))}function rX(e,t,n,r,a,i,o,s,l,u,c){var f=l*(Q1/180),d=O2(f)*(e-n)/2+L2(f)*(t-r)/2,h=-1*L2(f)*(e-n)/2+O2(f)*(t-r)/2,p=d*d/(o*o)+h*h/(s*s);p>1&&(o*=o$(p),s*=o$(p));var v=(a===i?-1:1)*o$((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)))||0,g=v*o*h/s,m=v*-s*d/o,y=(e+n)/2+O2(f)*g-L2(f)*m,b=(t+r)/2+L2(f)*g+O2(f)*m,x=nX([1,0],[(d-g)/o,(h-m)/s]),_=[(d-g)/o,(h-m)/s],S=[(-1*d-g)/o,(-1*h-m)/s],C=nX(_,S);if(t3(_,S)<=-1&&(C=Q1),t3(_,S)>=1&&(C=0),C<0){var k=Math.round(C/Q1*1e6)/1e6;C=Q1*2+k%2*Q1}c.addData(u,y,b,o,s,x,C,f,i)}var iMt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,oMt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function sMt(e){var t=new Gc;if(!e)return t;var n=0,r=0,a=n,i=r,o,s=Gc.CMD,l=e.match(iMt);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(oMt)||[],p=h.length,v=0;v<p;v++)h[v]=parseFloat(h[v]);for(var g=0;g<p;){var m=void 0,y=void 0,b=void 0,x=void 0,_=void 0,S=void 0,C=void 0,k=n,T=r,I=void 0,E=void 0;switch(f){case"l":n+=h[g++],r+=h[g++],d=s.L,t.addData(d,n,r);break;case"L":n=h[g++],r=h[g++],d=s.L,t.addData(d,n,r);break;case"m":n+=h[g++],r+=h[g++],d=s.M,t.addData(d,n,r),a=n,i=r,f="l";break;case"M":n=h[g++],r=h[g++],d=s.M,t.addData(d,n,r),a=n,i=r,f="L";break;case"h":n+=h[g++],d=s.L,t.addData(d,n,r);break;case"H":n=h[g++],d=s.L,t.addData(d,n,r);break;case"v":r+=h[g++],d=s.L,t.addData(d,n,r);break;case"V":r=h[g++],d=s.L,t.addData(d,n,r);break;case"C":d=s.C,t.addData(d,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),n=h[g-2],r=h[g-1];break;case"c":d=s.C,t.addData(d,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r),n+=h[g-2],r+=h[g-1];break;case"S":m=n,y=r,I=t.len(),E=t.data,o===s.C&&(m+=n-E[I-4],y+=r-E[I-3]),d=s.C,k=h[g++],T=h[g++],n=h[g++],r=h[g++],t.addData(d,m,y,k,T,n,r);break;case"s":m=n,y=r,I=t.len(),E=t.data,o===s.C&&(m+=n-E[I-4],y+=r-E[I-3]),d=s.C,k=n+h[g++],T=r+h[g++],n+=h[g++],r+=h[g++],t.addData(d,m,y,k,T,n,r);break;case"Q":k=h[g++],T=h[g++],n=h[g++],r=h[g++],d=s.Q,t.addData(d,k,T,n,r);break;case"q":k=h[g++]+n,T=h[g++]+r,n+=h[g++],r+=h[g++],d=s.Q,t.addData(d,k,T,n,r);break;case"T":m=n,y=r,I=t.len(),E=t.data,o===s.Q&&(m+=n-E[I-4],y+=r-E[I-3]),n=h[g++],r=h[g++],d=s.Q,t.addData(d,m,y,n,r);break;case"t":m=n,y=r,I=t.len(),E=t.data,o===s.Q&&(m+=n-E[I-4],y+=r-E[I-3]),n+=h[g++],r+=h[g++],d=s.Q,t.addData(d,m,y,n,r);break;case"A":b=h[g++],x=h[g++],_=h[g++],S=h[g++],C=h[g++],k=n,T=r,n=h[g++],r=h[g++],d=s.A,rX(k,T,n,r,S,C,b,x,_,d,t);break;case"a":b=h[g++],x=h[g++],_=h[g++],S=h[g++],C=h[g++],k=n,T=r,n+=h[g++],r+=h[g++],d=s.A,rX(k,T,n,r,S,C,b,x,_,d,t);break}}(f==="z"||f==="Z")&&(d=s.Z,t.addData(d),n=a,r=i),o=d}return t.toStatic(),t}var h0e=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(An);function p0e(e){return e.setData!=null}function v0e(e,t){var n=sMt(e),r=rt({},t);return r.buildPath=function(a){if(p0e(a)){a.setData(n.data);var i=a.getContext();i&&a.rebuildPath(i,1)}else{var i=a;n.rebuildPath(i,1)}},r.applyTransform=function(a){d0e(n,a),this.dirtyShape()},r}function g0e(e,t){return new h0e(v0e(e,t))}function lMt(e,t){var n=v0e(e,t),r=function(a){Le(i,a);function i(o){var s=a.call(this,o)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return i}(h0e);return r}function uMt(e,t){for(var n=[],r=e.length,a=0;a<r;a++){var i=e[a];n.push(i.getUpdatedPathProxy(!0))}var o=new An(t);return o.createPathProxy(),o.buildPath=function(s){if(p0e(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function a5(e,t){t=t||{};var n=new An;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?d0e(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var cMt=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),pd=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new cMt},t.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},t}(An);pd.prototype.type="circle";var fMt=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),DN=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new fMt},t.prototype.buildPath=function(n,r){var a=.5522848,i=r.cx,o=r.cy,s=r.rx,l=r.ry,u=s*a,c=l*a;n.moveTo(i-s,o),n.bezierCurveTo(i-s,o-c,i-u,o-l,i,o-l),n.bezierCurveTo(i+u,o-l,i+s,o-c,i+s,o),n.bezierCurveTo(i+s,o+c,i+u,o+l,i,o+l),n.bezierCurveTo(i-u,o+l,i-s,o+c,i-s,o),n.closePath()},t}(An);DN.prototype.type="ellipse";var m0e=Math.PI,s$=m0e*2,Bp=Math.sin,R0=Math.cos,dMt=Math.acos,no=Math.atan2,aX=Math.abs,Ex=Math.sqrt,Fb=Math.max,Zu=Math.min,tu=1e-4;function hMt(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=f*l-c*u;if(!(d*d<tu))return d=(c*(t-i)-f*(e-a))/d,[e+d*l,t+d*u]}function P2(e,t,n,r,a,i,o){var s=e-n,l=t-r,u=(o?i:-i)/Ex(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,p=n+c,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,b=v-h,x=y*y+b*b,_=a-i,S=d*v-p*h,C=(b<0?-1:1)*Ex(Fb(0,_*_*x-S*S)),k=(S*b-y*C)/x,T=(-S*y-b*C)/x,I=(S*b+y*C)/x,E=(-S*y+b*C)/x,A=k-g,N=T-m,L=I-g,R=E-m;return A*A+N*N>L*L+R*R&&(k=I,T=E),{cx:k,cy:T,x0:-c,y0:-f,x1:k*(a/_-1),y1:T*(a/_-1)}}function pMt(e){var t;if(st(e)){var n=e.length;if(!n)return e;n===1?t=[e[0],e[0],0,0]:n===2?t=[e[0],e[0],e[1],e[1]]:n===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function vMt(e,t){var n,r=Fb(t.r,0),a=Fb(t.r0||0,0),i=r>0,o=a>0;if(!(!i&&!o)){if(i||(r=a,a=0),a>r){var s=r;r=a,a=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,d=!!t.clockwise,h=aX(u-l),p=h>s$&&h%s$;if(p>tu&&(h=p),!(r>tu))e.moveTo(c,f);else if(h>s$-tu)e.moveTo(c+r*R0(l),f+r*Bp(l)),e.arc(c,f,r,l,u,!d),a>tu&&(e.moveTo(c+a*R0(u),f+a*Bp(u)),e.arc(c,f,a,u,l,d));else{var v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,x=void 0,_=void 0,S=void 0,C=void 0,k=void 0,T=void 0,I=void 0,E=void 0,A=void 0,N=void 0,L=void 0,R=r*R0(l),D=r*Bp(l),P=a*R0(u),O=a*Bp(u),M=h>tu;if(M){var W=t.cornerRadius;W&&(n=pMt(W),v=n[0],g=n[1],m=n[2],y=n[3]);var U=aX(r-a)/2;if(b=Zu(U,m),x=Zu(U,y),_=Zu(U,v),S=Zu(U,g),T=C=Fb(b,x),I=k=Fb(_,S),(C>tu||k>tu)&&(E=r*R0(u),A=r*Bp(u),N=a*R0(l),L=a*Bp(l),h<m0e)){var V=hMt(R,D,N,L,E,A,P,O);if(V){var H=R-V[0],K=D-V[1],j=E-V[0],ne=A-V[1],Q=1/Bp(dMt((H*j+K*ne)/(Ex(H*H+K*K)*Ex(j*j+ne*ne)))/2),oe=Ex(V[0]*V[0]+V[1]*V[1]);T=Zu(C,(r-oe)/(Q+1)),I=Zu(k,(a-oe)/(Q-1))}}}if(!M)e.moveTo(c+R,f+D);else if(T>tu){var ae=Zu(m,T),me=Zu(y,T),ve=P2(N,L,R,D,r,ae,d),B=P2(E,A,P,O,r,me,d);e.moveTo(c+ve.cx+ve.x0,f+ve.cy+ve.y0),T<C&&ae===me?e.arc(c+ve.cx,f+ve.cy,T,no(ve.y0,ve.x0),no(B.y0,B.x0),!d):(ae>0&&e.arc(c+ve.cx,f+ve.cy,ae,no(ve.y0,ve.x0),no(ve.y1,ve.x1),!d),e.arc(c,f,r,no(ve.cy+ve.y1,ve.cx+ve.x1),no(B.cy+B.y1,B.cx+B.x1),!d),me>0&&e.arc(c+B.cx,f+B.cy,me,no(B.y1,B.x1),no(B.y0,B.x0),!d))}else e.moveTo(c+R,f+D),e.arc(c,f,r,l,u,!d);if(!(a>tu)||!M)e.lineTo(c+P,f+O);else if(I>tu){var ae=Zu(v,I),me=Zu(g,I),ve=P2(P,O,E,A,a,-me,d),B=P2(R,D,N,L,a,-ae,d);e.lineTo(c+ve.cx+ve.x0,f+ve.cy+ve.y0),I<k&&ae===me?e.arc(c+ve.cx,f+ve.cy,I,no(ve.y0,ve.x0),no(B.y0,B.x0),!d):(me>0&&e.arc(c+ve.cx,f+ve.cy,me,no(ve.y0,ve.x0),no(ve.y1,ve.x1),!d),e.arc(c,f,a,no(ve.cy+ve.y1,ve.cx+ve.x1),no(B.cy+B.y1,B.cx+B.x1),d),ae>0&&e.arc(c+B.cx,f+B.cy,ae,no(B.y1,B.x1),no(B.y0,B.x0),!d))}else e.lineTo(c+P,f+O),e.arc(c,f,a,u,l,d)}e.closePath()}}}var gMt=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),ss=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new gMt},t.prototype.buildPath=function(n,r){vMt(n,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(An);ss.prototype.type="sector";var mMt=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),uC=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new mMt},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.PI*2;n.moveTo(a+r.r,i),n.arc(a,i,r.r,0,o,!1),n.moveTo(a+r.r0,i),n.arc(a,i,r.r0,0,o,!0)},t}(An);uC.prototype.type="ring";function yMt(e,t,n,r){var a=[],i=[],o=[],s=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=e.length;d<h;d++)Jd(c,c,e[d]),Qd(f,f,e[d]);Jd(c,c,r[0]),Qd(f,f,r[1])}for(var d=0,h=e.length;d<h;d++){var p=e[d];if(n)l=e[d?d-1:h-1],u=e[(d+1)%h];else if(d===0||d===h-1){a.push($f(e[d]));continue}else l=e[d-1],u=e[d+1];Tv(i,u,l),dk(i,i,t);var v=kF(p,l),g=kF(p,u),m=v+g;m!==0&&(v/=m,g/=m),dk(o,i,-v),dk(s,i,g);var y=Zj([],p,o),b=Zj([],p,s);r&&(Qd(y,y,c),Jd(y,y,f),Qd(b,b,c),Jd(b,b,f)),a.push(y),a.push(b)}return n&&a.push(a.shift()),a}function y0e(e,t,n){var r=t.smooth,a=t.points;if(a&&a.length>=2){if(r){var i=yMt(a,r,n,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var o=a.length,s=0;s<(n?o:o-1);s++){var l=i[s*2],u=i[s*2+1],c=a[(s+1)%o];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(a[0][0],a[0][1]);for(var s=1,f=a.length;s<f;s++)e.lineTo(a[s][0],a[s][1])}n&&e.closePath()}}var bMt=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),ls=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new bMt},t.prototype.buildPath=function(n,r){y0e(n,r,!0)},t}(An);ls.prototype.type="polygon";var xMt=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),cs=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new xMt},t.prototype.buildPath=function(n,r){y0e(n,r,!1)},t}(An);cs.prototype.type="polyline";var wMt={},_Mt=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),ii=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new _Mt},t.prototype.buildPath=function(n,r){var a,i,o,s;if(this.subPixelOptimize){var l=Qge(wMt,r,this.style);a=l.x1,i=l.y1,o=l.x2,s=l.y2}else a=r.x1,i=r.y1,o=r.x2,s=r.y2;var u=r.percent;u!==0&&(n.moveTo(a,i),u<1&&(o=a*(1-u)+o*u,s=i*(1-u)+s*u),n.lineTo(o,s))},t.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},t}(An);ii.prototype.type="line";var hs=[],SMt=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function iX(e,t,n){var r=e.cpx2,a=e.cpy2;return r!=null||a!=null?[(n?uY:Qa)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?uY:Qa)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?NF:xi)(e.x1,e.cpx1,e.x2,t),(n?NF:xi)(e.y1,e.cpy1,e.y2,t)]}var cC=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new SMt},t.prototype.buildPath=function(n,r){var a=r.x1,i=r.y1,o=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,f=r.cpy2,d=r.percent;d!==0&&(n.moveTo(a,i),c==null||f==null?(d<1&&(Bw(a,l,o,d,hs),l=hs[1],o=hs[2],Bw(i,u,s,d,hs),u=hs[1],s=hs[2]),n.quadraticCurveTo(l,u,o,s)):(d<1&&(Vh(a,l,c,o,d,hs),l=hs[1],c=hs[2],o=hs[3],Vh(i,u,f,s,d,hs),u=hs[1],f=hs[2],s=hs[3]),n.bezierCurveTo(l,u,c,f,o,s)))},t.prototype.pointAt=function(n){return iX(this.shape,n,!1)},t.prototype.tangentAt=function(n){var r=iX(this.shape,n,!0);return p1(r,r)},t}(An);cC.prototype.type="bezier-curve";var CMt=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),NN=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new CMt},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),f=Math.sin(s);n.moveTo(c*o+a,f*o+i),n.arc(a,i,o,s,l,!u)},t}(An);NN.prototype.type="arc";var i5=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),a=0;a<n.length;a++)r=r||n[a].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),a=0;a<n.length;a++)n[a].path||n[a].createPathProxy(),n[a].path.setScale(r[0],r[1],n[a].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,r){for(var a=r.paths||[],i=0;i<a.length;i++)a[i].buildPath(n,a[i].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),An.prototype.getBoundingRect.call(this)},t}(An),b0e=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},e}(),fC=function(e){Le(t,e);function t(n,r,a,i,o,s){var l=e.call(this,o)||this;return l.x=n??0,l.y=r??0,l.x2=a??1,l.y2=i??0,l.type="linear",l.global=s||!1,l}return t}(b0e),x0e=function(e){Le(t,e);function t(n,r,a,i,o){var s=e.call(this,i)||this;return s.x=n??.5,s.y=r??.5,s.r=a??.5,s.type="radial",s.global=o||!1,s}return t}(b0e),Vp=[0,0],zp=[0,0],F2=new bn,B2=new bn,uE=function(){function e(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new bn;for(var r=0;r<2;r++)this._axes[r]=new bn;t&&this.fromBoundingRect(t,n)}return e.prototype.fromBoundingRect=function(t,n){var r=this._corners,a=this._axes,i=t.x,o=t.y,s=i+t.width,l=o+t.height;if(r[0].set(i,o),r[1].set(s,o),r[2].set(s,l),r[3].set(i,l),n)for(var u=0;u<4;u++)r[u].transform(n);bn.sub(a[0],r[1],r[0]),bn.sub(a[1],r[3],r[0]),a[0].normalize(),a[1].normalize();for(var u=0;u<2;u++)this._origin[u]=a[u].dot(r[0])},e.prototype.intersect=function(t,n){var r=!0,a=!n;return F2.set(1/0,1/0),B2.set(0,0),!this._intersectCheckOneSide(this,t,F2,B2,a,1)&&(r=!1,a)||!this._intersectCheckOneSide(t,this,F2,B2,a,-1)&&(r=!1,a)||a||bn.copy(n,r?F2:B2),r},e.prototype._intersectCheckOneSide=function(t,n,r,a,i,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Vp),this._getProjMinMaxOnAxis(l,n._corners,zp),Vp[1]<zp[0]||Vp[0]>zp[1]){if(s=!1,i)return s;var c=Math.abs(zp[0]-Vp[1]),f=Math.abs(Vp[0]-zp[1]);Math.min(c,f)>a.len()&&(c<f?bn.scale(a,u,-c*o):bn.scale(a,u,f*o))}else if(r){var c=Math.abs(zp[0]-Vp[1]),f=Math.abs(Vp[0]-zp[1]);Math.min(c,f)<r.len()&&(c<f?bn.scale(r,u,c*o):bn.scale(r,u,-f*o))}}return s},e.prototype._getProjMinMaxOnAxis=function(t,n,r){for(var a=this._axes[t],i=this._origin,o=n[0].dot(a)+i[t],s=o,l=o,u=1;u<n.length;u++){var c=n[u].dot(a)+i[t];s=Math.min(c,s),l=Math.max(c,l)}r[0]=s,r[1]=l},e}(),TMt=[],kMt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,r){r=r||!1;for(var a=0;a<n.length;a++)this.addDisplayable(n[a],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new xn(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var a=this._displayables[r],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(TMt)),n.union(i)}this._rect=n}return this._rect},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();if(i.contain(a[0],a[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(n,r))return!0}return!1},t}(Bl),w0e=Vn();function y1(e,t,n,r,a){var i;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();i=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=e==="update";if(s){var u=void 0,c=void 0,f=void 0;r?(u=fn(r.duration,200),c=fn(r.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(f=i.delay)),Yt(f)&&(f=f(n,a)),Yt(u)&&(u=u(n));var d={duration:u||0,delay:f,easing:c};return d}else return null}function o5(e,t,n,r,a,i,o){var s=!1,l;Yt(a)?(o=i,i=a,a=null):Jt(a)&&(i=a.cb,o=a.during,s=a.isFrom,l=a.removeOpt,a=a.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=y1(e,r,a,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,a):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,p={duration:f,delay:d||0,easing:h,done:i,force:!!i||!!o,setToFinal:!u,scope:e,during:o};s?t.animateFrom(n,p):t.animateTo(n,p)}else t.stopAnimation(),!s&&t.attr(n),o&&o(1),i&&i()}function Jn(e,t,n,r,a,i){o5("update",e,t,n,r,a,i)}function Xr(e,t,n,r,a,i){o5("enter",e,t,n,r,a,i)}function Fm(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if(n.scope==="leave")return!0}return!1}function zh(e,t,n,r,a,i){Fm(e)||o5("leave",e,t,n,r,a,i)}function oX(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),zh(e,{style:{opacity:0}},t,n,r)}function Kw(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(a){a.isGroup||oX(a,t,n,r)}):oX(e,t,n,r)}function Fu(e){w0e(e).oldStyle=e.style}function IMt(e){return w0e(e).oldStyle}var cE=Math.max,fE=Math.min,n3={};function EMt(e){return An.extend(e)}var AMt=lMt;function DMt(e,t){return AMt(e,t)}function Hu(e,t){n3[e]=t}function s5(e){if(n3.hasOwnProperty(e))return n3[e]}function RN(e,t,n,r){var a=g0e(e,t);return n&&(r==="center"&&(n=S0e(n,a.getBoundingRect())),C0e(a,n)),a}function _0e(e,t,n){var r=new Ri({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(n==="center"){var i={width:a.width,height:a.height};r.setStyle(S0e(t,i))}}});return r}function S0e(e,t){var n=t.width/t.height,r=e.height*n,a;r<=e.width?a=e.height:(r=e.width,a=r/n);var i=e.x+e.width/2,o=e.y+e.height/2;return{x:i-r/2,y:o-a/2,width:r,height:a}}var wl=uMt;function C0e(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function Iy(e,t){return Qge(e,e,{lineWidth:t}),e}function NMt(e){return e0e(e.shape,e.shape,e.style),e}var wk=kv;function Yv(e,t){for(var n=xN([]);e&&e!==t;)Lf(n,e.getLocalTransform(),n),e=e.parent;return n}function Iu(e,t,n){return t&&!Co(t)&&(t=Af.getLocalTransform(t)),n&&(t=v1([],t)),Wi([],e,t)}function MN(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),i=[e==="left"?-r:e==="right"?r:0,e==="top"?-a:e==="bottom"?a:0];return i=Iu(i,t,n),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function sX(e){return!e.isGroup}function RMt(e){return e.shape!=null}function dC(e,t,n){if(!e||!t)return;function r(o){var s={};return o.traverse(function(l){sX(l)&&l.anid&&(s[l.anid]=l)}),s}function a(o){var s={x:o.x,y:o.y,rotation:o.rotation};return RMt(o)&&(s.shape=rt({},o.shape)),s}var i=r(e);t.traverse(function(o){if(sX(o)&&o.anid){var s=i[o.anid];if(s){var l=a(o);o.attr(a(s)),Jn(o,l,n,sn(o).dataIndex)}}})}function T0e(e,t){return ut(e,function(n){var r=n[0];r=cE(r,t.x),r=fE(r,t.x+t.width);var a=n[1];return a=cE(a,t.y),a=fE(a,t.y+t.height),[r,a]})}function MMt(e,t){var n=cE(e.x,t.x),r=fE(e.x+e.width,t.x+t.width),a=cE(e.y,t.y),i=fE(e.y+e.height,t.y+t.height);if(r>=n&&i>=a)return{x:n,y:a,width:r-n,height:i-a}}function hC(e,t,n){var r=rt({rectHover:!0},t),a=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Xt(a,n),new Ri(r)):RN(e.replace("path://",""),r,n,"center")}function Bb(e,t,n,r,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var s=a[i];if(k0e(e,t,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function k0e(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=l$(c,f,l,u);if($Mt(d))return!1;var h=e-a,p=t-i,v=l$(h,p,l,u)/d;if(v<0||v>1)return!1;var g=l$(h,p,c,f)/d;return!(g<0||g>1)}function l$(e,t,n,r){return e*r-n*t}function $Mt(e){return e<=1e-6&&e>=-1e-6}function r0(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,a=Dt(t)?{formatter:t}:t,i=n.mainType,o=n.componentIndex,s={componentType:i,name:r,$vars:["name"]};s[i+"Index"]=o;var l=e.formatterParamsExtra;l&&X(Mn(l),function(c){Mt(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=sn(e.el);u.componentMainType=i,u.componentIndex=o,u.tooltipConfig={name:r,option:Xt({content:r,encodeHTMLContent:!0,formatterParams:s},a)}}function lX(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function pp(e,t){if(e)if(st(e))for(var n=0;n<e.length;n++)lX(e[n],t);else lX(e,t)}Hu("circle",pd);Hu("ellipse",DN);Hu("sector",ss);Hu("ring",uC);Hu("polygon",ls);Hu("polyline",cs);Hu("rect",Bn);Hu("line",ii);Hu("bezierCurve",cC);Hu("arc",NN);const a0=Object.freeze(Object.defineProperty({__proto__:null,Arc:NN,BezierCurve:cC,BoundingRect:xn,Circle:pd,CompoundPath:i5,Ellipse:DN,Group:an,Image:Ri,IncrementalDisplayable:kMt,Line:ii,LinearGradient:fC,OrientedBoundingRect:uE,Path:An,Point:bn,Polygon:ls,Polyline:cs,RadialGradient:x0e,Rect:Bn,Ring:uC,Sector:ss,Text:Hn,applyTransform:Iu,clipPointsByRect:T0e,clipRectByRect:MMt,createIcon:hC,extendPath:DMt,extendShape:EMt,getShapeClass:s5,getTransform:Yv,groupTransition:dC,initProps:Xr,isElementRemoved:Fm,lineLineIntersect:k0e,linePolygonIntersect:Bb,makeImage:_0e,makePath:RN,mergePath:wl,registerShape:Hu,removeElement:zh,removeElementWithFadeOut:Kw,resizePath:C0e,setTooltipConfig:r0,subPixelOptimize:wk,subPixelOptimizeLine:Iy,subPixelOptimizeRect:NMt,transformDirection:MN,traverseElements:pp,updateProps:Jn},Symbol.toStringTag,{value:"Module"}));var $N={};function I0e(e,t){for(var n=0;n<os.length;n++){var r=os[n],a=t[r],i=e.ensureState(r);i.style=i.style||{},i.style.text=a}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function r3(e,t,n){var r=e.labelFetcher,a=e.labelDataIndex,i=e.labelDimIndex,o=t.normal,s;r&&(s=r.getFormattedLabel(a,"normal",null,i,o&&o.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=Yt(e.defaultText)?e.defaultText(a,e,n):e.defaultText);for(var l={normal:s},u=0;u<os.length;u++){var c=os[u],f=t[c];l[c]=fn(r?r.getFormattedLabel(a,c,null,i,f&&f.get("formatter")):null,s)}return l}function Yi(e,t,n,r){n=n||$N;for(var a=e instanceof Hn,i=!1,o=0;o<Uw.length;o++){var s=t[Uw[o]];if(s&&s.getShallow("show")){i=!0;break}}var l=a?e:e.getTextContent();if(i){a||(l||(l=new Hn,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=r3(n,t),c=t.normal,f=!!c.getShallow("show"),d=Fr(c,r&&r.normal,n,!1,!a);d.text=u.normal,a||e.setTextConfig(dE(c,n,!1));for(var o=0;o<os.length;o++){var h=os[o],s=t[h];if(s){var p=l.ensureState(h),v=!!fn(s.getShallow("show"),f);if(v!==f&&(p.ignore=!v),p.style=Fr(s,r&&r[h],n,!0,!a),p.style.text=u[h],!a){var g=e.ensureState(h);g.textConfig=dE(s,n,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),n.enableTextSetter&&(b1(l).setLabelText=function(m){var y=r3(n,t,m);I0e(l,y)})}else l&&(l.ignore=!0);e.dirty()}function vi(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<os.length;r++){var a=os[r];n[a]=e.getModel([a,t])}return n}function Fr(e,t,n,r,a){var i={};return LMt(i,e,n,r,a),t&&rt(i,t),i}function dE(e,t,n){t=t||{};var r={},a,i=e.getShallow("rotate"),o=fn(e.getShallow("distance"),n?null:5),s=e.getShallow("offset");return a=e.getShallow("position")||(n?null:"inside"),a==="outside"&&(a=t.defaultOutsidePosition||"top"),a!=null&&(r.position=a),s!=null&&(r.offset=s),i!=null&&(i*=Math.PI/180,r.rotation=i),o!=null&&(r.distance=o),r.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",r}function LMt(e,t,n,r,a){n=n||$N;var i=t.ecModel,o=i&&i.option.textStyle,s=OMt(t),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);dX(l[u]={},c,o,n,r,a,!1,!0)}}l&&(e.rich=l);var f=t.get("overflow");f&&(e.overflow=f);var d=t.get("minMargin");d!=null&&(e.margin=d),dX(e,t,o,n,r,a,!0,!1)}function OMt(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||$N).rich;if(n){t=t||{};for(var r=Mn(n),a=0;a<r.length;a++){var i=r[a];t[i]=1}}e=e.parentModel}return t}var uX=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],cX=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],fX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function dX(e,t,n,r,a,i,o,s){n=!a&&n||$N;var l=r&&r.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),f=fn(t.getShallow("opacity"),n.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),i||(u=u||n.color,c=c||n.textBorderColor),u!=null&&(e.fill=u),c!=null&&(e.stroke=c);var d=fn(t.getShallow("textBorderWidth"),n.textBorderWidth);d!=null&&(e.lineWidth=d);var h=fn(t.getShallow("textBorderType"),n.textBorderType);h!=null&&(e.lineDash=h);var p=fn(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);p!=null&&(e.lineDashOffset=p),!a&&f==null&&!s&&(f=r&&r.defaultOpacity),f!=null&&(e.opacity=f),!a&&!i&&e.fill==null&&r.inheritColor&&(e.fill=r.inheritColor);for(var v=0;v<uX.length;v++){var g=uX[v],m=fn(t.getShallow(g),n[g]);m!=null&&(e[g]=m)}for(var v=0;v<cX.length;v++){var g=cX[v],m=t.getShallow(g);m!=null&&(e[g]=m)}if(e.verticalAlign==null){var y=t.getShallow("baseline");y!=null&&(e.verticalAlign=y)}if(!o||!r.disableBox){for(var v=0;v<fX.length;v++){var g=fX[v],m=t.getShallow(g);m!=null&&(e[g]=m)}var b=t.getShallow("borderType");b!=null&&(e.borderDash=b),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function l5(e,t){var n=t&&t.getModel("textStyle");return yu([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var b1=Vn();function E0e(e,t,n,r){if(e){var a=b1(e);a.prevValue=a.value,a.value=n;var i=t.normal;a.valueAnimation=i.get("valueAnimation"),a.valueAnimation&&(a.precision=i.get("precision"),a.defaultInterpolatedText=r,a.statesModels=t)}}function A0e(e,t,n,r,a){var i=b1(e);if(!i.valueAnimation||i.prevValue===i.value)return;var o=i.defaultInterpolatedText,s=fn(i.interpolatedValue,i.prevValue),l=i.value;function u(c){var f=Gge(n,i.precision,s,l,c);i.interpolatedValue=c===1?null:f;var d=r3({labelDataIndex:t,labelFetcher:a,defaultText:o?o(f):f+""},i.statesModels,f);I0e(e,d)}e.percent=0,(i.prevValue==null?Xr:Jn)(e,{percent:1},r,t,null,u)}var PMt=["textStyle","color"],u$=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],c$=new Hn,FMt=function(){function e(){}return e.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(PMt):null)},e.prototype.getFont=function(){return l5({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<u$.length;r++)n[u$[r]]=this.getShallow(u$[r]);return c$.useStyle(n),c$.update(),c$.getBoundingRect()},e}(),D0e=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],BMt=Eg(D0e),VMt=function(){function e(){}return e.prototype.getLineStyle=function(t){return BMt(this,t)},e}(),N0e=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],zMt=Eg(N0e),WMt=function(){function e(){}return e.prototype.getItemStyle=function(t,n){return zMt(this,t,n)},e}(),pr=function(){function e(t,n,r){this.parentModel=n,this.ecModel=r,this.option=t}return e.prototype.init=function(t,n,r){},e.prototype.mergeOption=function(t,n){mn(this.option,t,!0)},e.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},e.prototype.getShallow=function(t,n){var r=this.option,a=r==null?r:r[t];if(a==null&&!n){var i=this.parentModel;i&&(a=i.getShallow(t))}return a},e.prototype.getModel=function(t,n){var r=t!=null,a=r?this.parsePath(t):null,i=r?this._doGet(a):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new e(i,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(en(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Nn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,n){var r=this.option;if(!t)return r;for(var a=0;a<t.length&&!(t[a]&&(r=r&&typeof r=="object"?r[t[a]]:null,r==null));a++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(t),n.parentModel)),r},e}();q8(pr);ZNt(pr);$a(pr,VMt);$a(pr,WMt);$a(pr,nRt);$a(pr,FMt);var HMt=Math.round(Math.random()*10);function x1(e){return[e||"",HMt++].join("_")}function UMt(e){var t={};e.registerSubTypeDefaulter=function(n,r){var a=yc(n);t[a.main]=r},e.determineSubType=function(n,r){var a=r.type;if(!a){var i=yc(n).main;e.hasSubTypes(n)&&t[i]&&(a=t[i](r))}return a}}function GMt(e,t){e.topologicalTravel=function(i,o,s,l){if(!i.length)return;var u=n(o),c=u.graph,f=u.noEntryList,d={};for(X(i,function(y){d[y]=!0});f.length;){var h=f.pop(),p=c[h],v=!!d[h];v&&(s.call(l,h,p.originalDeps.slice()),delete d[h]),X(p.successor,v?m:g)}X(d,function(){var y="";throw new Error(y)});function g(y){c[y].entryCount--,c[y].entryCount===0&&f.push(y)}function m(y){d[y]=!0,g(y)}};function n(i){var o={},s=[];return X(i,function(l){var u=r(o,l),c=u.originalDeps=t(l),f=a(c,i);u.entryCount=f.length,u.entryCount===0&&s.push(l),X(f,function(d){Cn(u.predecessor,d)<0&&u.predecessor.push(d);var h=r(o,d);Cn(h.successor,d)<0&&h.successor.push(l)})}),{graph:o,noEntryList:s}}function r(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var s=[];return X(i,function(l){Cn(o,l)>=0&&s.push(l)}),s}}function vp(e,t){return mn(mn({},e,!0),t,!0)}const KMt={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},jMt={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var hE="ZH",u5="EN",Bm=u5,_k={},c5={},R0e=Nn.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Bm).toUpperCase();return e.indexOf(hE)>-1?hE:Bm}():Bm;function M0e(e,t){e=e.toUpperCase(),c5[e]=new pr(t),_k[e]=t}function YMt(e){if(Dt(e)){var t=_k[e.toUpperCase()]||{};return e===hE||e===u5?en(t):mn(en(t),en(_k[Bm]),!1)}else return mn(en(e),en(_k[Bm]),!1)}function a3(e){return c5[e]}function XMt(){return c5[Bm]}M0e(u5,KMt);M0e(hE,jMt);var f5=1e3,d5=f5*60,Ax=d5*60,_l=Ax*24,hX=_l*365,Vb={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},V2="{yyyy}-{MM}-{dd}",pX={year:"{yyyy}",month:"{yyyy}-{MM}",day:V2,hour:V2+" "+Vb.hour,minute:V2+" "+Vb.minute,second:V2+" "+Vb.second,millisecond:Vb.none},f$=["year","month","day","hour","minute","second","millisecond"],$0e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Sd(e,t){return e+="","0000".substr(0,t-e.length)+e}function Vm(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function qMt(e){return e===Vm(e)}function ZMt(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function LN(e,t,n,r){var a=Uc(e),i=a[h5(n)](),o=a[zm(n)]()+1,s=Math.floor((o-1)/3)+1,l=a[ON(n)](),u=a["get"+(n?"UTC":"")+"Day"](),c=a[jw(n)](),f=(c-1)%12+1,d=a[PN(n)](),h=a[FN(n)](),p=a[BN(n)](),v=c>=12?"pm":"am",g=v.toUpperCase(),m=r instanceof pr?r:a3(r||R0e)||XMt(),y=m.getModel("time"),b=y.get("month"),x=y.get("monthAbbr"),_=y.get("dayOfWeek"),S=y.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,v+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,Sd(i%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,b[o-1]).replace(/{MMM}/g,x[o-1]).replace(/{MM}/g,Sd(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Sd(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,S[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Sd(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Sd(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Sd(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Sd(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Sd(p,3)).replace(/{S}/g,p+"")}function JMt(e,t,n,r,a){var i=null;if(Dt(n))i=n;else if(Yt(n))i=n(e.value,t,{level:e.level});else{var o=rt({},Vb);if(e.level>0)for(var s=0;s<f$.length;++s)o[f$[s]]="{primary|"+o[f$[s]]+"}";var l=n?n.inherit===!1?n:Xt(n,o):o,u=L0e(e.value,a);if(l[u])i=l[u];else if(l.inherit){for(var c=$0e.indexOf(u),s=c-1;s>=0;--s)if(l[u]){i=l[u];break}i=i||o.none}if(st(i)){var f=e.level==null?0:e.level>=0?e.level:i.length+e.level;f=Math.min(f,i.length-1),i=i[f]}}return LN(new Date(e.value),i,a,r)}function L0e(e,t){var n=Uc(e),r=n[zm(t)]()+1,a=n[ON(t)](),i=n[jw(t)](),o=n[PN(t)](),s=n[FN(t)](),l=n[BN(t)](),u=l===0,c=u&&s===0,f=c&&o===0,d=f&&i===0,h=d&&a===1,p=h&&r===1;return p?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function vX(e,t,n){var r=Kn(e)?Uc(e):e;switch(t=t||L0e(e,n),t){case"year":return r[h5(n)]();case"half-year":return r[zm(n)]()>=6?1:0;case"quarter":return Math.floor((r[zm(n)]()+1)/4);case"month":return r[zm(n)]();case"day":return r[ON(n)]();case"half-day":return r[jw(n)]()/24;case"hour":return r[jw(n)]();case"minute":return r[PN(n)]();case"second":return r[FN(n)]();case"millisecond":return r[BN(n)]()}}function h5(e){return e?"getUTCFullYear":"getFullYear"}function zm(e){return e?"getUTCMonth":"getMonth"}function ON(e){return e?"getUTCDate":"getDate"}function jw(e){return e?"getUTCHours":"getHours"}function PN(e){return e?"getUTCMinutes":"getMinutes"}function FN(e){return e?"getUTCSeconds":"getSeconds"}function BN(e){return e?"getUTCMilliseconds":"getMilliseconds"}function QMt(e){return e?"setUTCFullYear":"setFullYear"}function O0e(e){return e?"setUTCMonth":"setMonth"}function P0e(e){return e?"setUTCDate":"setDate"}function F0e(e){return e?"setUTCHours":"setHours"}function B0e(e){return e?"setUTCMinutes":"setMinutes"}function V0e(e){return e?"setUTCSeconds":"setSeconds"}function z0e(e){return e?"setUTCMilliseconds":"setMilliseconds"}function W0e(e){if(!Pge(e))return Dt(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function H0e(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var w1=V8;function i3(e,t,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(c){return c&&yu(c)?c:"-"}function i(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=e instanceof Date;if(o||s){var l=o?Uc(e):e;if(isNaN(+l)){if(s)return"-"}else return LN(l,r,n)}if(t==="ordinal")return SF(e)?a(e):Kn(e)&&i(e)?e+"":"-";var u=Xf(e);return i(u)?W0e(u):SF(e)?a(e):typeof e=="boolean"?e+"":"-"}var gX=["a","b","c","d","e","f","g"],d$=function(e,t){return"{"+e+(t??"")+"}"};function U0e(e,t,n){st(t)||(t=[t]);var r=t.length;if(!r)return"";for(var a=t[0].$vars||[],i=0;i<a.length;i++){var o=gX[i];e=e.replace(d$(o),d$(o,0))}for(var s=0;s<r;s++)for(var l=0;l<a.length;l++){var u=t[s][a[l]];e=e.replace(d$(gX[l],s),n?Uo(u):u)}return e}function e$t(e,t,n){return X(t,function(r,a){e=e.replace("{"+a+"}",r)}),e}function t$t(e,t){var n=Dt(e)?{color:e,extraCssText:t}:e||{},r=n.color,a=n.type;t=n.extraCssText;var i=n.renderMode||"html";if(!r)return"";if(i==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Uo(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Uo(r)+";"+(t||"")+'"></span>';var o=n.markerId||"markerX";return{renderMode:i,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Dg(e,t){return t=t||"transparent",Dt(e)?e:Jt(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function pE(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var Sk=X,G0e=["left","right","top","bottom","width","height"],Ev=[["width","left","right"],["height","top","bottom"]];function p5(e,t,n,r,a){var i=0,o=0;r==null&&(r=1/0),a==null&&(a=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),d=f&&f.getBoundingRect(),h,p;if(e==="horizontal"){var v=c.width+(d?-d.x+c.x:0);h=i+v,h>r||l.newline?(i=0,h=v,o+=s+n,s=c.height):s=Math.max(s,c.height)}else{var g=c.height+(d?-d.y+c.y:0);p=o+g,p>a||l.newline?(i+=s+n,o=0,p=g,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=i,l.y=o,l.markRedraw(),e==="horizontal"?i=h+n:o=p+n)})}var Xv=p5;vn(p5,"vertical");vn(p5,"horizontal");function n$t(e,t,n){var r=t.width,a=t.height,i=St(e.left,r),o=St(e.top,a),s=St(e.right,r),l=St(e.bottom,a);return(isNaN(i)||isNaN(parseFloat(e.left)))&&(i=0),(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=r),(isNaN(o)||isNaN(parseFloat(e.top)))&&(o=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=a),n=w1(n||0),{width:Math.max(s-i-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}}function Ya(e,t,n){n=w1(n||0);var r=t.width,a=t.height,i=St(e.left,r),o=St(e.top,a),s=St(e.right,r),l=St(e.bottom,a),u=St(e.width,r),c=St(e.height,a),f=n[2]+n[0],d=n[1]+n[3],h=e.aspect;switch(isNaN(u)&&(u=r-s-d-i),isNaN(c)&&(c=a-l-f-o),h!=null&&(isNaN(u)&&isNaN(c)&&(h>r/a?u=r*.8:c=a*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(i)&&(i=r-s-u-d),isNaN(o)&&(o=a-l-c-f),e.left||e.right){case"center":i=r/2-u/2-n[3];break;case"right":i=r-u-d;break}switch(e.top||e.bottom){case"middle":case"center":o=a/2-c/2-n[0];break;case"bottom":o=a-c-f;break}i=i||0,o=o||0,isNaN(u)&&(u=r-d-i-(s||0)),isNaN(c)&&(c=a-f-o-(l||0));var p=new xn(i+n[3],o+n[0],u,c);return p.margin=n,p}function VN(e,t,n,r,a,i){var o=!a||!a.hv||a.hv[0],s=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all";if(i=i||e,i.x=e.x,i.y=e.y,!o&&!s)return!1;var u;if(l==="raw")u=e.type==="group"?new xn(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Ya(Xt({width:u.width,height:u.height},t),n,r),d=o?f.x-u.x:0,h=s?f.y-u.y:0;return l==="raw"?(i.x=d,i.y=h):(i.x+=d,i.y+=h),i===e&&e.markRedraw(),!0}function r$t(e,t){return e[Ev[t][0]]!=null||e[Ev[t][1]]!=null&&e[Ev[t][2]]!=null}function Yw(e){var t=e.layoutMode||e.constructor.layoutMode;return Jt(t)?t:t?{type:t}:null}function Wh(e,t,n){var r=n&&n.ignoreSize;!st(r)&&(r=[r,r]);var a=o(Ev[0],0),i=o(Ev[1],1);u(Ev[0],e,a),u(Ev[1],e,i);function o(c,f){var d={},h=0,p={},v=0,g=2;if(Sk(c,function(b){p[b]=e[b]}),Sk(c,function(b){s(t,b)&&(d[b]=p[b]=t[b]),l(d,b)&&h++,l(p,b)&&v++}),r[f])return l(t,c[1])?p[c[2]]=null:l(t,c[2])&&(p[c[1]]=null),p;if(v===g||!h)return p;if(h>=g)return d;for(var m=0;m<c.length;m++){var y=c[m];if(!s(d,y)&&s(e,y)){d[y]=e[y];break}}return d}function s(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,d){Sk(c,function(h){f[h]=d[h]})}}function _1(e){return K0e({},e)}function K0e(e,t){return t&&e&&Sk(G0e,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var a$t=Vn(),Rn=function(e){Le(t,e);function t(n,r,a){var i=e.call(this,n,r,a)||this;return i.uid=x1("ec_cpt_model"),i}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a)},t.prototype.mergeDefaultAndTheme=function(n,r){var a=Yw(this),i=a?_1(n):{},o=r.getTheme();mn(n,o.get(this.mainType)),mn(n,this.getDefaultOption()),a&&Wh(n,i,a)},t.prototype.mergeOption=function(n,r){mn(this.option,n,!0);var a=Yw(this);a&&Wh(this.option,n,a)},t.prototype.optionUpdated=function(n,r){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!YNt(n))return n.defaultOption;var r=a$t(this);if(!r.defaultOption){for(var a=[],i=n;i;){var o=i.prototype.defaultOption;o&&a.push(o),i=i.superClass}for(var s={},l=a.length-1;l>=0;l--)s=mn(s,a[l],!0);r.defaultOption=s}return r.defaultOption},t.prototype.getReferringComponents=function(n,r){var a=n+"Index",i=n+"Id";return sC(this.ecModel,n,{index:this.get(a,!0),id:this.get(i,!0)},r)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(pr);jge(Rn,pr);CN(Rn);UMt(Rn);GMt(Rn,i$t);function i$t(e){var t=[];return X(Rn.getClassesByMainType(e),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=ut(t,function(n){return yc(n).main}),e!=="dataset"&&Cn(t,"dataset")<=0&&t.unshift("dataset"),t}var j0e="";typeof navigator<"u"&&(j0e=navigator.platform||"");var M0="rgba(0, 0, 0, 0.2)";const o$t={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:M0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:M0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:M0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:M0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:M0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:M0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:j0e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Y0e=Pt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Kl="original",To="arrayRows",jl="objectRows",rf="keyedColumns",mh="typedArray",X0e="unknown",Dc="column",S1="row",$i={Must:1,Might:2,Not:3},q0e=Vn();function s$t(e){q0e(e).datasetMap=Pt()}function Z0e(e,t,n){var r={},a=g5(t);if(!a||!e)return r;var i=[],o=[],s=t.ecModel,l=q0e(s).datasetMap,u=a.uid+"_"+n.seriesLayoutBy,c,f;e=e.slice(),X(e,function(v,g){var m=Jt(v)?v:e[g]={name:v};m.type==="ordinal"&&c==null&&(c=g,f=p(m)),r[m.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});X(e,function(v,g){var m=v.name,y=p(v);if(c==null){var b=d.valueWayDim;h(r[m],b,y),h(o,b,y),d.valueWayDim+=y}else if(c===g)h(r[m],0,y),h(i,0,y);else{var b=d.categoryWayDim;h(r[m],b,y),h(o,b,y),d.categoryWayDim+=y}});function h(v,g,m){for(var y=0;y<m;y++)v.push(g+y)}function p(v){var g=v.dimsDef;return g?g.length:1}return i.length&&(r.itemName=i),o.length&&(r.seriesName=o),r}function v5(e,t,n){var r={},a=g5(e);if(!a)return r;var i=t.sourceFormat,o=t.dimensionsDefine,s;(i===jl||i===rf)&&X(o,function(c,f){(Jt(c)?c.name:c)==="name"&&(s=f)});var l=function(){for(var c={},f={},d=[],h=0,p=Math.min(5,n);h<p;h++){var v=Q0e(t.data,i,t.seriesLayoutBy,o,t.startIndex,h);d.push(v);var g=v===$i.Not;if(g&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!g&&d[c.n]===$i.Not)&&(c.n=h),m(c)&&d[c.n]!==$i.Not)return c;g||(v===$i.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function m(y){return y.v!=null&&y.n!=null}return m(c)?c:m(f)?f:null}();if(l){r.value=[l.v];var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function g5(e){var t=e.get("data",!0);if(!t)return sC(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Da).models[0]}function l$t(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:sC(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Da).models}function J0e(e,t){return Q0e(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Q0e(e,t,n,r,a,i){var o,s=5;if(As(e))return $i.Not;var l,u;if(r){var c=r[i];Jt(c)?(l=c.name,u=c.type):Dt(c)&&(l=c)}if(u!=null)return u==="ordinal"?$i.Must:$i.Not;if(t===To){var f=e;if(n===S1){for(var d=f[i],h=0;h<(d||[]).length&&h<s;h++)if((o=x(d[a+h]))!=null)return o}else for(var h=0;h<f.length&&h<s;h++){var p=f[a+h];if(p&&(o=x(p[i]))!=null)return o}}else if(t===jl){var v=e;if(!l)return $i.Not;for(var h=0;h<v.length&&h<s;h++){var g=v[h];if(g&&(o=x(g[l]))!=null)return o}}else if(t===rf){var m=e;if(!l)return $i.Not;var d=m[l];if(!d||As(d))return $i.Not;for(var h=0;h<d.length&&h<s;h++)if((o=x(d[h]))!=null)return o}else if(t===Kl)for(var y=e,h=0;h<y.length&&h<s;h++){var g=y[h],b=g1(g);if(!st(b))return $i.Not;if((o=x(b[i]))!=null)return o}function x(_){var S=Dt(_);if(_!=null&&Number.isFinite(Number(_))&&_!=="")return S?$i.Might:$i.Not;if(S&&_!=="-")return $i.Must}return $i.Not}var o3=Pt();function u$t(e,t){is(o3.get(e)==null&&t),o3.set(e,t)}function c$t(e,t,n){var r=o3.get(t);if(!r)return n;var a=r(e);return a?n.concat(a):n}var mX=Vn(),f$t=Vn(),m5=function(){function e(){}return e.prototype.getColorFromPalette=function(t,n,r){var a=Ir(this.get("color",!0)),i=this.get("colorLayer",!0);return eme(this,mX,a,i,t,n,r)},e.prototype.clearColorPalette=function(){h$t(this,mX)},e}();function s3(e,t,n,r){var a=Ir(e.get(["aria","decal","decals"]));return eme(e,f$t,a,null,t,n,r)}function d$t(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function eme(e,t,n,r,a,i,o){i=i||e;var s=t(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a))return u[a];var c=o==null||!r?n:d$t(r,o);if(c=c||n,!(!c||!c.length)){var f=c[l];return a&&(u[a]=f),s.paletteIdx=(l+1)%c.length,f}}function h$t(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var z2,eb,yX,bX="\0_ec_inner",p$t=1,y5=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n,r,a,i,o,s){i=i||{},this.option=null,this._theme=new pr(i),this._locale=new pr(o),this._optionManager=s},t.prototype.setOption=function(n,r,a){var i=_X(r);this._optionManager.setOption(n,a,i),this._resetOption(null,i)},t.prototype.resetOption=function(n,r){return this._resetOption(n,_X(r))},t.prototype._resetOption=function(n,r){var a=!1,i=this._optionManager;if(!n||n==="recreate"){var o=i.mountOption(n==="recreate");!this.option||n==="recreate"?yX(this,o):(this.restoreData(),this._mergeOption(o,r)),a=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=i.getTimelineOption(this);s&&(a=!0,this._mergeOption(s,r))}if(!n||n==="recreate"||n==="media"){var l=i.getMediaOption(this);l.length&&X(l,function(u){a=!0,this._mergeOption(u,r)},this)}return a},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,r){var a=this.option,i=this._componentsMap,o=this._componentsCount,s=[],l=Pt(),u=r&&r.replaceMergeMainTypeMap;s$t(this),X(n,function(f,d){f!=null&&(Rn.hasClass(d)?d&&(s.push(d),l.set(d,!0)):a[d]=a[d]==null?en(f):mn(a[d],f,!0))}),u&&u.each(function(f,d){Rn.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),Rn.topologicalTravel(s,Rn.getAllClassMainTypes(),c,this);function c(f){var d=c$t(this,f,Ir(n[f])),h=i.get(f),p=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",v=Wge(h,d,p);BNt(v,f,Rn),a[f]=null,i.set(f,null),o.set(f,0);var g=[],m=[],y=0,b;X(v,function(x,_){var S=x.existing,C=x.newOption;if(!C)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var k=f==="series",T=Rn.getClass(f,x.keyInfo.subType,!k);if(!T)return;if(f==="tooltip"){if(b)return;b=!0}if(S&&S.constructor===T)S.name=x.keyInfo.name,S.mergeOption(C,this),S.optionUpdated(C,!1);else{var I=rt({componentIndex:_},x.keyInfo);S=new T(C,this,this,I),rt(S,I),x.brandNew&&(S.__requireNewView=!0),S.init(C,this,this),S.optionUpdated(null,!0)}}S?(g.push(S.option),m.push(S),y++):(g.push(void 0),m.push(void 0))},this),a[f]=g,i.set(f,m),o.set(f,y),f==="series"&&z2(this)}this._seriesIndices||z2(this)},t.prototype.getOption=function(){var n=en(this.option);return X(n,function(r,a){if(Rn.hasClass(a)){for(var i=Ir(r),o=i.length,s=!1,l=o-1;l>=0;l--)i[l]&&!Hw(i[l])?s=!0:(i[l]=null,!s&&o--);i.length=o,n[a]=i}}),delete n[bX],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,r){var a=this._componentsMap.get(n);if(a){var i=a[r||0];if(i)return i;if(r==null){for(var o=0;o<a.length;o++)if(a[o])return a[o]}}},t.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var a=n.index,i=n.id,o=n.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return a!=null?(l=[],X(Ir(a),function(u){s[u]&&l.push(s[u])})):i!=null?l=xX("id",i,s):o!=null?l=xX("name",o,s):l=sr(s,function(u){return!!u}),wX(l,n)},t.prototype.findComponents=function(n){var r=n.query,a=n.mainType,i=s(r),o=i?this.queryComponents(i):sr(this._componentsMap.get(a),function(u){return!!u});return l(wX(o,n));function s(u){var c=a+"Index",f=a+"Id",d=a+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:a,index:u[c],id:u[f],name:u[d]}:null}function l(u){return n.filter?sr(u,n.filter):u}},t.prototype.eachComponent=function(n,r,a){var i=this._componentsMap;if(Yt(n)){var o=r,s=n;i.each(function(f,d){for(var h=0;f&&h<f.length;h++){var p=f[h];p&&s.call(o,d,p,p.componentIndex)}})}else for(var l=Dt(n)?i.get(n):Jt(n)?this.findComponents(n):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(a,c,c.componentIndex)}},t.prototype.getSeriesByName=function(n){var r=Ha(n,null);return sr(this._componentsMap.get("series"),function(a){return!!a&&r!=null&&a.name===r})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return sr(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},t.prototype.getSeries=function(){return sr(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,r){eb(this),X(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];n.call(r,i,a)},this)},t.prototype.eachRawSeries=function(n,r){X(this._componentsMap.get("series"),function(a){a&&n.call(r,a,a.componentIndex)})},t.prototype.eachSeriesByType=function(n,r,a){eb(this),X(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===n&&r.call(a,o,i)},this)},t.prototype.eachRawSeriesByType=function(n,r,a){return X(this.getSeriesByType(n),r,a)},t.prototype.isSeriesFiltered=function(n){return eb(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,r){eb(this);var a=[];X(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];n.call(r,o,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=Pt(a)},t.prototype.restoreData=function(n){z2(this);var r=this._componentsMap,a=[];r.each(function(i,o){Rn.hasClass(o)&&a.push(o)}),Rn.topologicalTravel(a,Rn.getAllClassMainTypes(),function(i){X(r.get(i),function(o){o&&(i!=="series"||!v$t(o,n))&&o.restoreData()})})},t.internalField=function(){z2=function(n){var r=n._seriesIndices=[];X(n._componentsMap.get("series"),function(a){a&&r.push(a.componentIndex)}),n._seriesIndicesMap=Pt(r)},eb=function(n){},yX=function(n,r){n.option={},n.option[bX]=p$t,n._componentsMap=Pt({series:[]}),n._componentsCount=Pt();var a=r.aria;Jt(a)&&a.enabled==null&&(a.enabled=!0),g$t(r,n._theme.option),mn(r,o$t,!1),n._mergeOption(r,null)}}(),t}(pr);function v$t(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,a=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||a!=null&&e.name!==a}}function g$t(e,t){var n=e.color&&!e.colorLayer;X(t,function(r,a){a==="colorLayer"&&n||Rn.hasClass(a)||(typeof r=="object"?e[a]=e[a]?mn(e[a],r,!1):en(r):e[a]==null&&(e[a]=r))})}function xX(e,t,n){if(st(t)){var r=Pt();return X(t,function(i){if(i!=null){var o=Ha(i,null);o!=null&&r.set(i,!0)}}),sr(n,function(i){return i&&r.get(i[e])})}else{var a=Ha(t,null);return sr(n,function(i){return i&&a!=null&&i[e]===a})}}function wX(e,t){return t.hasOwnProperty("subType")?sr(e,function(n){return n&&n.subType===t.subType}):e}function _X(e){var t=Pt();return e&&X(Ir(e.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}$a(y5,m5);var m$t=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],tme=function(){function e(t){X(m$t,function(n){this[n]=Nt(t[n],t)},this)}return e}(),h$={},pC=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,n){var r=[];X(h$,function(a,i){var o=a.create(t,n);r=r.concat(o||[])}),this._coordinateSystems=r},e.prototype.update=function(t,n){X(this._coordinateSystems,function(r){r.update&&r.update(t,n)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,n){h$[t]=n},e.get=function(t){return h$[t]},e}(),y$t=/^(min|max)?(.+)$/,b$t=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,n,r){t&&(X(Ir(t.series),function(o){o&&o.data&&As(o.data)&&JI(o.data)}),X(Ir(t.dataset),function(o){o&&o.source&&As(o.source)&&JI(o.source)})),t=en(t);var a=this._optionBackup,i=x$t(t,n,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],en(t?n.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var n,r=this._timelineOptions;if(r.length){var a=t.getComponent("timeline");a&&(n=en(r[a.getCurrentIndex()]))}return n},e.prototype.getMediaOption=function(t){var n=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!a.length&&!i)return s;for(var l=0,u=a.length;l<u;l++)w$t(a[l].query,n,r)&&o.push(l);return!o.length&&i&&(o=[-1]),o.length&&!S$t(o,this._currentMediaIndices)&&(s=ut(o,function(c){return en(c===-1?i.option:a[c].option)})),this._currentMediaIndices=o,s},e}();function x$t(e,t,n){var r=[],a,i,o=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,f=!!(l||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((f||c)&&(e.options=e.media=null),i=e),c&&st(u)&&X(u,function(h){h&&h.option&&(h.query?r.push(h):a||(a=h))}),d(i),X(l,function(h){return d(h)}),X(r,function(h){return d(h.option)});function d(h){X(t,function(p){p(h,n)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:a,mediaList:r}}function w$t(e,t,n){var r={width:t,height:n,aspectratio:t/n},a=!0;return X(e,function(i,o){var s=o.match(y$t);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();_$t(r[u],i,l)||(a=!1)}}),a}function _$t(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function S$t(e,t){return e.join(",")===t.join(",")}var Jl=X,Xw=Jt,SX=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function p$(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=SX.length;n<r;n++){var a=SX[n],i=t.normal,o=t.emphasis;i&&i[a]&&(e[a]=e[a]||{},e[a].normal?mn(e[a].normal,i[a]):e[a].normal=i[a],i[a]=null),o&&o[a]&&(e[a]=e[a]||{},e[a].emphasis?mn(e[a].emphasis,o[a]):e[a].emphasis=o[a],o[a]=null)}}function so(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,a=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,Xt(e[t],r)):e[t]=r),a&&(e.emphasis=e.emphasis||{},e.emphasis[t]=a,a.focus&&(e.emphasis.focus=a.focus),a.blurScope&&(e.emphasis.blurScope=a.blurScope))}}function zb(e){so(e,"itemStyle"),so(e,"lineStyle"),so(e,"areaStyle"),so(e,"label"),so(e,"labelLine"),so(e,"upperLabel"),so(e,"edgeLabel")}function Ea(e,t){var n=Xw(e)&&e[t],r=Xw(n)&&n.textStyle;if(r)for(var a=0,i=AY.length;a<i;a++){var o=AY[a];r.hasOwnProperty(o)&&(n[o]=r[o])}}function dl(e){e&&(zb(e),Ea(e,"label"),e.emphasis&&Ea(e.emphasis,"label"))}function C$t(e){if(Xw(e)){p$(e),zb(e),Ea(e,"label"),Ea(e,"upperLabel"),Ea(e,"edgeLabel"),e.emphasis&&(Ea(e.emphasis,"label"),Ea(e.emphasis,"upperLabel"),Ea(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(p$(t),dl(t));var n=e.markLine;n&&(p$(n),dl(n));var r=e.markArea;r&&dl(r);var a=e.data;if(e.type==="graph"){a=a||e.nodes;var i=e.links||e.edges;if(i&&!As(i))for(var o=0;o<i.length;o++)dl(i[o]);X(e.categories,function(u){zb(u)})}if(a&&!As(a))for(var o=0;o<a.length;o++)dl(a[o]);if(t=e.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)dl(s[o]);if(n=e.markLine,n&&n.data)for(var l=n.data,o=0;o<l.length;o++)st(l[o])?(dl(l[o][0]),dl(l[o][1])):dl(l[o]);e.type==="gauge"?(Ea(e,"axisLabel"),Ea(e,"title"),Ea(e,"detail")):e.type==="treemap"?(so(e.breadcrumb,"itemStyle"),X(e.levels,function(u){zb(u)})):e.type==="tree"&&zb(e.leaves)}}function hf(e){return st(e)?e:e?[e]:[]}function CX(e){return(st(e)?e[0]:e)||{}}function T$t(e,t){Jl(hf(e.series),function(r){Xw(r)&&C$t(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Jl(n,function(r){Jl(hf(e[r]),function(a){a&&(Ea(a,"axisLabel"),Ea(a.axisPointer,"label"))})}),Jl(hf(e.parallel),function(r){var a=r&&r.parallelAxisDefault;Ea(a,"axisLabel"),Ea(a&&a.axisPointer,"label")}),Jl(hf(e.calendar),function(r){so(r,"itemStyle"),Ea(r,"dayLabel"),Ea(r,"monthLabel"),Ea(r,"yearLabel")}),Jl(hf(e.radar),function(r){Ea(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Jl(hf(e.geo),function(r){Xw(r)&&(dl(r),Jl(hf(r.regions),function(a){dl(a)}))}),Jl(hf(e.timeline),function(r){dl(r),so(r,"label"),so(r,"itemStyle"),so(r,"controlStyle",!0);var a=r.data;st(a)&&X(a,function(i){Jt(i)&&(so(i,"label"),so(i,"itemStyle"))})}),Jl(hf(e.toolbox),function(r){so(r,"iconStyle"),Jl(r.feature,function(a){so(a,"iconStyle")})}),Ea(CX(e.axisPointer),"label"),Ea(CX(e.tooltip).axisPointer,"label")}function k$t(e,t){for(var n=t.split(","),r=e,a=0;a<n.length&&(r=r&&r[n[a]],r!=null);a++);return r}function I$t(e,t,n,r){for(var a=t.split(","),i=e,o,s=0;s<a.length-1;s++)o=a[s],i[o]==null&&(i[o]={}),i=i[o];i[a[s]]==null&&(i[a[s]]=n)}function TX(e){e&&X(E$t,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var E$t=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],A$t=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],v$=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function tb(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<v$.length;n++){var r=v$[n][1],a=v$[n][0];t[r]!=null&&(t[a]=t[r])}}function kX(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function IX(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function D$t(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function nme(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&nme(e[n].children,t)}function rme(e,t){T$t(e,t),e.series=Ir(e.series),X(e.series,function(n){if(Jt(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),kX(n.label);var a=n.data;if(a&&!As(a))for(var i=0;i<a.length;i++)kX(a[i]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var o=k$t(n,"pointer.color");o!=null&&I$t(n,"itemStyle.color",o)}else if(r==="bar"){tb(n),tb(n.backgroundStyle),tb(n.emphasis);var a=n.data;if(a&&!As(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(tb(a[i]),tb(a[i]&&a[i].emphasis))}else if(r==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),IX(n),nme(n.data,IX)}else r==="graph"||r==="sankey"?D$t(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&Xt(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),TX(n)}}),e.dataRange&&(e.visualMap=e.dataRange),X(A$t,function(n){var r=e[n];r&&(st(r)||(r=[r]),X(r,function(a){TX(a)}))})}function N$t(e){var t=Pt();e.eachSeries(function(n){var r=n.get("stack");if(r){var a=t.get(r)||t.set(r,[]),i=n.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:n};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),t.each(R$t)}function R$t(e){X(e,function(t,n){var r=[],a=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(u,c,f){var d=o.get(t.stackedDimension,f);if(isNaN(d))return a;var h,p;s?p=o.getRawIndex(f):h=o.get(t.stackedByDimension,f);for(var v=NaN,g=n-1;g>=0;g--){var m=e[g];if(s||(p=m.data.rawIndexOf(m.stackedByDimension,h)),p>=0){var y=m.data.getByRawIndex(m.stackResultDimension,p);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&d>=0&&y>0||l==="samesign"&&d<=0&&y<0){d=ENt(d,y),v=y;break}}}return r[0]=d,r[1]=v,r})})}var zN=function(){function e(t){this.data=t.data||(t.sourceFormat===rf?{}:[]),this.sourceFormat=t.sourceFormat||X0e,this.seriesLayoutBy=t.seriesLayoutBy||Dc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var a=n[r];a.type==null&&J0e(this,r)===$i.Must&&(a.type="ordinal")}}return e}();function b5(e){return e instanceof zN}function l3(e,t,n){n=n||ame(e);var r=t.seriesLayoutBy,a=$$t(e,n,r,t.sourceHeader,t.dimensions),i=new zN({data:e,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:en(t)});return i}function x5(e){return new zN({data:e,sourceFormat:As(e)?mh:Kl})}function M$t(e){return new zN({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:en(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function ame(e){var t=X0e;if(As(e))t=mh;else if(st(e)){e.length===0&&(t=To);for(var n=0,r=e.length;n<r;n++){var a=e[n];if(a!=null){if(st(a)||As(a)){t=To;break}else if(Jt(a)){t=jl;break}}}}else if(Jt(e)){for(var i in e)if(Mt(e,i)&&Co(e[i])){t=rf;break}}return t}function $$t(e,t,n,r,a){var i,o;if(!e)return{dimensionsDefine:EX(a),startIndex:o,dimensionsDetectedCount:i};if(t===To){var s=e;r==="auto"||r==null?AX(function(u){u!=null&&u!=="-"&&(Dt(u)?o==null&&(o=1):o=0)},n,s,10):o=Kn(r)?r:r?1:0,!a&&o===1&&(a=[],AX(function(u,c){a[c]=u!=null?u+"":""},n,s,1/0)),i=a?a.length:n===S1?s.length:s[0]?s[0].length:null}else if(t===jl)a||(a=L$t(e));else if(t===rf)a||(a=[],X(e,function(u,c){a.push(c)}));else if(t===Kl){var l=g1(e[0]);i=st(l)&&l.length||1}return{startIndex:o,dimensionsDefine:EX(a),dimensionsDetectedCount:i}}function L$t(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n)return Mn(n)}function EX(e){if(e){var t=Pt();return ut(e,function(n,r){n=Jt(n)?n:{name:n};var a={name:n.name,displayName:n.displayName,type:n.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=t.get(a.name);return i?a.name+="-"+i.count++:t.set(a.name,{count:1}),a})}}function AX(e,t,n,r){if(t===S1)for(var a=0;a<n.length&&a<r;a++)e(n[a]?n[a][0]:null,a);else for(var i=n[0]||[],a=0;a<i.length&&a<r;a++)e(i[a],a)}function ime(e){var t=e.sourceFormat;return t===jl||t===rf}var Wp,Hp,Up,DX,NX,ome=function(){function e(t,n){var r=b5(t)?t:x5(t);this._source=r;var a=this._data=r.data;r.sourceFormat===mh&&(this._offset=0,this._dimSize=n,this._data=a),NX(this,a,r)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,n){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;NX=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=DX[w5(u,c)];if(rt(o,h),u===mh)o.getItem=n,o.count=a,o.fillStorage=r;else{var p=sme(u,c);o.getItem=Nt(p,null,s,f,d);var v=lme(u,c);o.count=Nt(v,null,s,f,d)}};var n=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},r=function(o,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],p=h[0]==null?1/0:h[0],v=h[1]==null?-1/0:h[1],g=s-o,m=l[d],y=0;y<g;y++){var b=c[y*f+d];m[o+y]=b,b<p&&(p=b),b>v&&(v=b)}h[0]=p,h[1]=v}},a=function(){return this._data?this._data.length/this._dimSize:0};DX=(t={},t[To+"_"+Dc]={pure:!0,appendData:i},t[To+"_"+S1]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[jl]={pure:!0,appendData:i},t[rf]={pure:!0,appendData:function(o){var s=this._data;X(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[Kl]={appendData:i},t[mh]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),e}(),RX=function(e,t,n,r){return e[r]},O$t=(Wp={},Wp[To+"_"+Dc]=function(e,t,n,r){return e[r+t]},Wp[To+"_"+S1]=function(e,t,n,r,a){r+=t;for(var i=a||[],o=e,s=0;s<o.length;s++){var l=o[s];i[s]=l?l[r]:null}return i},Wp[jl]=RX,Wp[rf]=function(e,t,n,r,a){for(var i=a||[],o=0;o<n.length;o++){var s=n[o].name,l=e[s];i[o]=l?l[r]:null}return i},Wp[Kl]=RX,Wp);function sme(e,t){var n=O$t[w5(e,t)];return n}var MX=function(e,t,n){return e.length},P$t=(Hp={},Hp[To+"_"+Dc]=function(e,t,n){return Math.max(0,e.length-t)},Hp[To+"_"+S1]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},Hp[jl]=MX,Hp[rf]=function(e,t,n){var r=n[0].name,a=e[r];return a?a.length:0},Hp[Kl]=MX,Hp);function lme(e,t){var n=P$t[w5(e,t)];return n}var g$=function(e,t,n){return e[t]},F$t=(Up={},Up[To]=g$,Up[jl]=function(e,t,n){return e[n]},Up[rf]=g$,Up[Kl]=function(e,t,n){var r=g1(e);return r instanceof Array?r[t]:r},Up[mh]=g$,Up);function ume(e){var t=F$t[e];return t}function w5(e,t){return e===To?e+"_"+t:e}function Ey(e,t,n){if(e){var r=e.getRawDataItem(t);if(r!=null){var a=e.getStore(),i=a.getSource().sourceFormat;if(n!=null){var o=e.getDimensionIndex(n),s=a.getDimensionProperty(o);return ume(i)(r,o,s)}else{var l=r;return i===Kl&&(l=g1(r)),l}}}}var B$t=/\{@(.+?)\}/g,WN=function(){function e(){}return e.prototype.getDataParams=function(t,n){var r=this.getData(n),a=this.getRawValue(t,n),i=r.getRawIndex(t),o=r.getName(t),s=r.getRawDataItem(t),l=r.getItemVisual(t,"style"),u=l&&l[r.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:i,data:s,dataType:n,value:a,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,n,r,a,i,o){n=n||"normal";var s=this.getData(r),l=this.getDataParams(t,r);if(o&&(l.value=o.interpolatedValue),a!=null&&st(l.value)&&(l.value=l.value[a]),!i){var u=s.getItemModel(t);i=u.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(Yt(i))return l.status=n,l.dimensionIndex=a,i(l);if(Dt(i)){var c=U0e(i,l);return c.replace(B$t,function(f,d){var h=d.length,p=d;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var v=Ey(s,t,p);if(o&&st(o.interpolatedValue)){var g=s.getDimensionIndex(p);g>=0&&(v=o.interpolatedValue[g])}return v!=null?v+"":""})}},e.prototype.getRawValue=function(t,n){return Ey(this.getData(n),t)},e.prototype.formatTooltip=function(t,n,r){},e}();function $X(e){var t,n;return Jt(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function Dx(e){return new V$t(e)}var V$t=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(i="reset");function c(y){return!(y>=1)&&(y=1),y}var f;(this._dirty||i==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var d=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(f||h<p)){var v=this._progress;if(st(v))for(var g=0;g<v.length;g++)this._doProgress(v[g],h,p,l,u);else this._doProgress(v,h,p,l,u)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,n,r,a,i){LX.reset(n,r,a,i),this._callingProgress=t,this._callingProgress({start:n,end:r,count:r-n,next:LX.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),st(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),r},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),LX=function(){var e,t,n,r,a,i={reset:function(l,u,c,f){t=l,e=u,n=c,r=f,a=Math.ceil(r/n),i.next=n>1&&r>0?s:o}};return i;function o(){return t<e?t++:null}function s(){var l=t%a*n+Math.ceil(t/a),u=t>=e?null:l<r?l:t;return t++,u}}();function yh(e,t){var n=t&&t.type;return n==="ordinal"?e:(n==="time"&&!Kn(e)&&e!=null&&e!=="-"&&(e=+Uc(e)),e==null||e===""?NaN:Number(e))}var z$t=Pt({number:function(e){return parseFloat(e)},time:function(e){return+Uc(e)},trim:function(e){return Dt(e)?yu(e):e}});function cme(e){return z$t.get(e)}var fme={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},W$t=function(){function e(t,n){if(!Kn(n)){var r="";or(r)}this._opFn=fme[t],this._rvalFloat=Xf(n)}return e.prototype.evaluate=function(t){return Kn(t)?this._opFn(t,this._rvalFloat):this._opFn(Xf(t),this._rvalFloat)},e}(),dme=function(){function e(t,n){var r=t==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,n){var r=Kn(t)?t:Xf(t),a=Kn(n)?n:Xf(n),i=isNaN(r),o=isNaN(a);if(i&&(r=this._incomparable),o&&(a=this._incomparable),i&&o){var s=Dt(t),l=Dt(n);s&&(r=l?t:0),l&&(a=s?n:0)}return r<a?this._resultLT:r>a?-this._resultLT:0},e}(),H$t=function(){function e(t,n){this._rval=n,this._isEQ=t,this._rvalTypeof=typeof n,this._rvalFloat=Xf(n)}return e.prototype.evaluate=function(t){var n=t===this._rval;if(!n){var r=typeof t;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(n=Xf(t)===this._rvalFloat)}return this._isEQ?n:!n},e}();function U$t(e,t){return e==="eq"||e==="ne"?new H$t(e==="eq",t):Mt(fme,e)?new W$t(e,t):null}var G$t=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,n){},e.prototype.retrieveValueFromItem=function(t,n){},e.prototype.convertValue=function(t,n){return yh(t,n)},e}();function K$t(e,t){var n=new G$t,r=e.data,a=n.sourceFormat=e.sourceFormat,i=e.startIndex,o="";e.seriesLayoutBy!==Dc&&or(o);var s=[],l={},u=e.dimensionsDefine;if(u)X(u,function(v,g){var m=v.name,y={index:g,name:m,displayName:v.displayName};if(s.push(y),m!=null){var b="";Mt(l,m)&&or(b),l[m]=y}});else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var f=sme(a,Dc);t.__isBuiltIn&&(n.getRawDataItem=function(v){return f(r,i,s,v)},n.getRawData=Nt(j$t,null,e)),n.cloneRawData=Nt(Y$t,null,e);var d=lme(a,Dc);n.count=Nt(d,null,r,i,s);var h=ume(a);n.retrieveValue=function(v,g){var m=f(r,i,s,v);return p(m,g)};var p=n.retrieveValueFromItem=function(v,g){if(v!=null){var m=s[g];if(m)return h(v,g,m.name)}};return n.getDimensionInfo=Nt(X$t,null,s,l),n.cloneAllDimensionInfo=Nt(q$t,null,s),n}function j$t(e){var t=e.sourceFormat;if(!_5(t)){var n="";or(n)}return e.data}function Y$t(e){var t=e.sourceFormat,n=e.data;if(!_5(t)){var r="";or(r)}if(t===To){for(var a=[],i=0,o=n.length;i<o;i++)a.push(n[i].slice());return a}else if(t===jl){for(var a=[],i=0,o=n.length;i<o;i++)a.push(rt({},n[i]));return a}}function X$t(e,t,n){if(n!=null){if(Kn(n)||!isNaN(n)&&!Mt(t,n))return e[n];if(Mt(t,n))return t[n]}}function q$t(e){return en(e)}var hme=Pt();function Z$t(e){e=en(e);var t=e.type,n="";t||or(n);var r=t.split(":");r.length!==2&&or(n);var a=!1;r[0]==="echarts"&&(t=r[1],a=!0),e.__isBuiltIn=a,hme.set(t,e)}function J$t(e,t,n){var r=Ir(e),a=r.length,i="";a||or(i);for(var o=0,s=a;o<s;o++){var l=r[o];t=Q$t(l,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function Q$t(e,t,n,r){var a="";t.length||or(a),Jt(e)||or(a);var i=e.type,o=hme.get(i);o||or(a);var s=ut(t,function(u){return K$t(u,o)}),l=Ir(o.transform({upstream:s[0],upstreamList:s,config:en(e.config)}));return ut(l,function(u,c){var f="";Jt(u)||or(f),u.data||or(f);var d=ame(u.data);_5(d)||or(f);var h,p=t[0];if(p&&c===0&&!u.dimensions){var v=p.startIndex;v&&(u.data=p.data.slice(0,v).concat(u.data)),h={seriesLayoutBy:Dc,sourceHeader:v,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:Dc,sourceHeader:0,dimensions:u.dimensions};return l3(u.data,h,null)})}function _5(e){return e===To||e===jl}var HN="undefined",eLt=typeof Uint32Array===HN?Array:Uint32Array,tLt=typeof Uint16Array===HN?Array:Uint16Array,pme=typeof Int32Array===HN?Array:Int32Array,OX=typeof Float64Array===HN?Array:Float64Array,vme={float:OX,int:pme,ordinal:Array,number:Array,time:OX},m$;function $0(e){return e>65535?eLt:tLt}function L0(){return[1/0,-1/0]}function nLt(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function PX(e,t,n,r,a){var i=vme[n||"float"];if(a){var o=e[t],s=o&&o.length;if(s!==r){for(var l=new i(r),u=0;u<s;u++)l[u]=o[u];e[t]=l}}else e[t]=new i(r)}var u3=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Pt()}return e.prototype.initData=function(t,n,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=t.getSource(),i=this.defaultDimValueGetter=m$[a.sourceFormat];this._dimValueGetter=r||i,this._rawExtent=[],ime(a),this._dimensions=ut(n,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,n){var r=this._calcDimNameToIdx,a=this._dimensions,i=r.get(t);if(i!=null){if(a[i].type===n)return i}else i=a.length;return a[i]={type:n},r.set(t,i),this._chunks[i]=new vme[n||"float"](this._rawCount),this._rawExtent[i]=L0(),i},e.prototype.collectOrdinalMeta=function(t,n){var r=this._chunks[t],a=this._dimensions[t],i=this._rawExtent,o=a.ordinalOffset||0,s=r.length;o===0&&(i[t]=L0());for(var l=i[t],u=o;u<s;u++){var c=r[u]=n.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}a.ordinalMeta=n,a.ordinalOffset=s,a.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],r=n.ordinalMeta;return r},e.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},e.prototype.appendData=function(t){var n=this._provider,r=this.count();n.appendData(t);var a=n.count();return n.persistent||(a+=r),r<a&&this._initDataFromProvider(r,a,!0),[r,a]},e.prototype.appendValues=function(t,n){for(var r=this._chunks,a=this._dimensions,i=a.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,n||0),u=0;u<i;u++){var c=a[u];PX(r,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,p=0;p<i;p++){var c=a[p],v=m$.arrayRows.call(this,t[h]||f,c.property,h,p);r[p][d]=v;var g=o[p];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(t,n,r){for(var a=this._provider,i=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=ut(o,function(y){return y.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=L0()),PX(i,c,f.type,n,r)}if(a.fillStorage)a.fillStorage(t,n,i,l);else for(var d=[],h=t;h<n;h++){d=a.getItem(h,d);for(var p=0;p<s;p++){var v=i[p],g=this._dimValueGetter(d,u[p],h,p);v[h]=g;var m=l[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=n,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(n)]:NaN},e.prototype.getValues=function(t,n){var r=[],a=[];if(n==null){n=t,t=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=t;for(var i=0,o=a.length;i<o;i++)r.push(this.get(a[i],n));return r},e.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[t];return r?r[n]:NaN},e.prototype.getSum=function(t){var n=this._chunks[t],r=0;if(n)for(var a=0,i=this.count();a<i;a++){var o=this.get(t,a);isNaN(o)||(r+=o)}return r},e.prototype.getMedian=function(t){var n=[];this.each([t],function(i){isNaN(i)||n.push(i)});var r=n.sort(function(i,o){return i-o}),a=this.count();return a===0?0:a%2===1?r[(a-1)/2]:(r[a/2]+r[a/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,r=n[t];if(r!=null&&r<this._count&&r===t)return t;for(var a=0,i=this._count-1;a<=i;){var o=(a+i)/2|0;if(n[o]<t)a=o+1;else if(n[o]>t)i=o-1;else return o}return-1},e.prototype.indicesOfNearest=function(t,n,r){var a=this._chunks,i=a[t],o=[];if(!i)return o;r==null&&(r=1/0);for(var s=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var d=this.getRawIndex(c),h=n-i[d],p=Math.abs(h);p<=r&&((p<s||p===s&&h>=0&&l<0)&&(s=p,l=h,u=0),h===l&&(o[u++]=c))}return o.length=u,o},e.prototype.getIndices=function(){var t,n=this._indices;if(n){var r=n.constructor,a=this._count;if(r===Array){t=new r(a);for(var i=0;i<a;i++)t[i]=n[i]}else t=new r(n.buffer,0,a)}else{var r=$0(this._rawCount);t=new r(this.count());for(var i=0;i<t.length;i++)t[i]=i}return t},e.prototype.filter=function(t,n){if(!this._count)return this;for(var r=this.clone(),a=r.count(),i=$0(r._rawCount),o=new i(a),s=[],l=t.length,u=0,c=t[0],f=r._chunks,d=0;d<a;d++){var h=void 0,p=r.getRawIndex(d);if(l===0)h=n(d);else if(l===1){var v=f[c][p];h=n(v,d)}else{for(var g=0;g<l;g++)s[g]=f[t[g]][p];s[g]=d,h=n.apply(null,s)}h&&(o[u++]=p)}return u<a&&(r._indices=o),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.selectRange=function(t){var n=this.clone(),r=n._count;if(!r)return this;var a=Mn(t),i=a.length;if(!i)return this;var o=n.count(),s=$0(n._rawCount),l=new s(o),u=0,c=a[0],f=t[c][0],d=t[c][1],h=n._chunks,p=!1;if(!n._indices){var v=0;if(i===1){for(var g=h[a[0]],m=0;m<r;m++){var y=g[m];(y>=f&&y<=d||isNaN(y))&&(l[u++]=v),v++}p=!0}else if(i===2){for(var g=h[a[0]],b=h[a[1]],x=t[a[1]][0],_=t[a[1]][1],m=0;m<r;m++){var y=g[m],S=b[m];(y>=f&&y<=d||isNaN(y))&&(S>=x&&S<=_||isNaN(S))&&(l[u++]=v),v++}p=!0}}if(!p)if(i===1)for(var m=0;m<o;m++){var C=n.getRawIndex(m),y=h[a[0]][C];(y>=f&&y<=d||isNaN(y))&&(l[u++]=C)}else for(var m=0;m<o;m++){for(var k=!0,C=n.getRawIndex(m),T=0;T<i;T++){var I=a[T],y=h[I][C];(y<t[I][0]||y>t[I][1])&&(k=!1)}k&&(l[u++]=n.getRawIndex(m))}return u<o&&(n._indices=l),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.map=function(t,n){var r=this.clone(t);return this._updateDims(r,t,n),r},e.prototype.modify=function(t,n){this._updateDims(this,t,n)},e.prototype._updateDims=function(t,n,r){for(var a=t._chunks,i=[],o=n.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<n.length;c++)u[n[c]]=L0();for(var f=0;f<s;f++){for(var d=t.getRawIndex(f),h=0;h<o;h++)l[h]=a[n[h]][d];l[o]=f;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(i[0]=p,p=i);for(var c=0;c<p.length;c++){var v=n[c],g=p[c],m=u[v],y=a[v];y&&(y[d]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},e.prototype.lttbDownSample=function(t,n){var r=this.clone([t],!0),a=r._chunks,i=a[t],o=this.count(),s=0,l=Math.floor(1/n),u=this.getRawIndex(0),c,f,d,h=new($0(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));h[s++]=u;for(var p=1;p<o-1;p+=l){for(var v=Math.min(p+l,o-1),g=Math.min(p+l*2,o),m=(g+v)/2,y=0,b=v;b<g;b++){var x=this.getRawIndex(b),_=i[x];isNaN(_)||(y+=_)}y/=g-v;var S=p,C=Math.min(p+l,o),k=p-1,T=i[u];c=-1,d=S;for(var I=-1,E=0,b=S;b<C;b++){var x=this.getRawIndex(b),_=i[x];if(isNaN(_)){E++,I<0&&(I=x);continue}f=Math.abs((k-m)*(_-T)-(k-b)*(y-T)),f>c&&(c=f,d=x)}E>0&&E<C-S&&(h[s++]=Math.min(I,d),d=Math.max(I,d)),h[s++]=d,u=d}return h[s++]=this.getRawIndex(o-1),r._count=s,r._indices=h,r.getRawIndex=this._getRawIdx,r},e.prototype.minmaxDownSample=function(t,n){for(var r=this.clone([t],!0),a=r._chunks,i=Math.floor(1/n),o=a[t],s=this.count(),l=new($0(this._rawCount))(Math.ceil(s/i)*2),u=0,c=0;c<s;c+=i){var f=c,d=o[this.getRawIndex(f)],h=c,p=o[this.getRawIndex(h)],v=i;c+i>s&&(v=s-c);for(var g=0;g<v;g++){var m=this.getRawIndex(c+g),y=o[m];y<d&&(d=y,f=c+g),y>p&&(p=y,h=c+g)}var b=this.getRawIndex(f),x=this.getRawIndex(h);f<h?(l[u++]=b,l[u++]=x):(l[u++]=x,l[u++]=b)}return r._count=u,r._indices=l,r._updateGetRawIdx(),r},e.prototype.downSample=function(t,n,r,a){for(var i=this.clone([t],!0),o=i._chunks,s=[],l=Math.floor(1/n),u=o[t],c=this.count(),f=i._rawExtent[t]=L0(),d=new($0(this._rawCount))(Math.ceil(c/l)),h=0,p=0;p<c;p+=l){l>c-p&&(l=c-p,s.length=l);for(var v=0;v<l;v++){var g=this.getRawIndex(p+v);s[v]=u[g]}var m=r(s),y=this.getRawIndex(Math.min(p+a(s,m)||0,c-1));u[y]=m,m<f[0]&&(f[0]=m),m>f[1]&&(f[1]=m),d[h++]=y}return i._count=h,i._indices=d,i._updateGetRawIdx(),i},e.prototype.each=function(t,n){if(this._count)for(var r=t.length,a=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(r){case 0:n(i);break;case 1:n(a[t[0]][s],i);break;case 2:n(a[t[0]][s],a[t[1]][s],i);break;default:for(var l=0,u=[];l<r;l++)u[l]=a[t[l]][s];u[l]=i,n.apply(null,u)}}},e.prototype.getDataExtent=function(t){var n=this._chunks[t],r=L0();if(!n)return r;var a=this.count(),i=!this._indices,o;if(i)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=r;for(var s=o[0],l=o[1],u=0;u<a;u++){var c=this.getRawIndex(u),f=n[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[t]=o,o},e.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],a=this._chunks,i=0;i<a.length;i++)r.push(a[i][n]);return r},e.prototype.clone=function(t,n){var r=new e,a=this._chunks,i=t&&zc(t,function(s,l){return s[l]=!0,s},{});if(i)for(var o=0;o<a.length;o++)r._chunks[o]=i[o]?nLt(a[o]):a[o];else r._chunks=a;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=en(this._extent),t._rawExtent=en(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var r=this._indices.length;n=new t(r);for(var a=0;a<r;a++)n[a]=this._indices[a]}else n=new t(this._indices);return n}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(n,r,a,i){return yh(n[i],this._dimensions[i])}m$={arrayRows:t,objectRows:function(n,r,a,i){return yh(n[r],this._dimensions[i])},keyedColumns:t,original:function(n,r,a,i){var o=n&&(n.value==null?n:n.value);return yh(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(n,r,a,i){return n[i]}}}(),e}(),gme=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,a,i;if(W2(t)){var o=t,s=void 0,l=void 0,u=void 0;if(r){var c=n[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,i=[c._getVersionSign()]}else s=o.get("data",!0),l=As(s)?mh:Kl,i=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=fn(f.seriesLayoutBy,d.seriesLayoutBy)||null,p=fn(f.sourceHeader,d.sourceHeader),v=fn(f.dimensions,d.dimensions),g=h!==d.seriesLayoutBy||!!p!=!!d.sourceHeader||v;a=g?[l3(s,{seriesLayoutBy:h,sourceHeader:p,dimensions:v},l)]:[]}else{var m=t;if(r){var y=this._applyTransform(n);a=y.sourceList,i=y.upstreamSignList}else{var b=m.get("source",!0);a=[l3(b,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(a,i)},e.prototype._applyTransform=function(t){var n=this._sourceHost,r=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(a!=null){var i="";t.length!==1&&BX(i)}var o,s=[],l=[];return X(t,function(u){u.prepareSource();var c=u.getSource(a||0),f="";a!=null&&!c&&BX(f),s.push(c),l.push(u._getVersionSign())}),r?o=J$t(r,s,{datasetIndex:n.componentIndex}):a!=null&&(o=[M$t(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return n},e.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},e.prototype._innerGetDataStore=function(t,n,r){var a=0,i=this._storeList,o=i[a];o||(o=i[a]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];W2(this._sourceHost)&&l?s=l._innerGetDataStore(t,n,r):(s=new u3,s.initData(new ome(n,t.length),t)),o[r]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(W2(t)){var n=g5(t);return n?[n.getSourceManager()]:[]}else return ut(l$t(t),function(r){return r.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,r,a;if(W2(t))n=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),a=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=t;n=i.get("seriesLayoutBy",!0),r=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:a}},e}();function FX(e){var t=e.option.transform;t&&JI(e.option.transform)}function W2(e){return e.mainType==="series"}function BX(e){throw new Error(e)}var rLt="line-height:1";function mme(e){var t=e.lineHeight;return t==null?rLt:"line-height:"+Uo(t+"")+"px"}function yme(e,t){var n=e.color||"#6e7079",r=e.fontSize||12,a=e.fontWeight||"400",i=e.color||"#464646",o=e.fontSize||14,s=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Uo(r+"")+"px;color:"+Uo(n)+";font-weight:"+Uo(a+""),valueStyle:"font-size:"+Uo(o+"")+"px;color:"+Uo(i)+";font-weight:"+Uo(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:a},valueStyle:{fontSize:o,fill:i,fontWeight:s}}}var aLt=[0,10,20,30],iLt=["",`
`,`

`,`


`];function gi(e,t){return t.type=e,t}function c3(e){return e.type==="section"}function bme(e){return c3(e)?oLt:sLt}function xme(e){if(c3(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return X(e.blocks,function(a){var i=xme(a);i>=t&&(t=i+ +(r&&(!i||c3(a)&&!a.noHeader)))}),t}return 0}function oLt(e,t,n,r){var a=t.noHeader,i=lLt(xme(t)),o=[],s=t.blocks||[];is(!s||st(s)),s=s||[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Mt(u,l)){var c=new dme(u[l],null);s.sort(function(v,g){return c.evaluate(v.sortParam,g.sortParam)})}else l==="seriesDesc"&&s.reverse()}X(s,function(v,g){var m=t.valueFormatter,y=bme(v)(m?rt(rt({},e),{valueFormatter:m}):e,v,g>0?i.html:0,r);y!=null&&o.push(y)});var f=e.renderMode==="richText"?o.join(i.richText):f3(r,o.join(""),a?n:i.html);if(a)return f;var d=i3(t.header,"ordinal",e.useUTC),h=yme(r,e.renderMode).nameStyle,p=mme(r);return e.renderMode==="richText"?wme(e,d,h)+i.richText+f:f3(r,'<div style="'+h+";"+p+';">'+Uo(d)+"</div>"+f,n)}function sLt(e,t,n,r){var a=e.renderMode,i=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(x){return x=st(x)?x:[x],ut(x,function(_,S){return i3(_,st(h)?h[S]:h,u)})};if(!(i&&o)){var f=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",a),d=i?"":i3(l,"ordinal",u),h=t.valueType,p=o?[]:c(t.value,t.dataIndex),v=!s||!i,g=!s&&i,m=yme(r,a),y=m.nameStyle,b=m.valueStyle;return a==="richText"?(s?"":f)+(i?"":wme(e,d,y))+(o?"":fLt(e,p,v,g,b)):f3(r,(s?"":f)+(i?"":uLt(d,!s,y))+(o?"":cLt(p,v,g,b)),n)}}function VX(e,t,n,r,a,i){if(e){var o=bme(e),s={useUTC:a,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter};return o(s,e,0,i)}}function lLt(e){return{html:aLt[e],richText:iLt[e]}}function f3(e,t,n){var r='<div style="clear:both"></div>',a="margin: "+n+"px 0 0",i=mme(e);return'<div style="'+a+";"+i+';">'+t+r+"</div>"}function uLt(e,t,n){var r=t?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+Uo(e)+"</span>"}function cLt(e,t,n,r){var a=n?"10px":"20px",i=t?"float:right;margin-left:"+a:"";return e=st(e)?e:[e],'<span style="'+i+";"+r+'">'+ut(e,function(o){return Uo(o)}).join("&nbsp;&nbsp;")+"</span>"}function wme(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function fLt(e,t,n,r,a){var i=[a],o=r?10:20;return n&&i.push({padding:[0,0,0,o],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(st(t)?t.join("  "):t,i)}function _me(e,t){var n=e.getData().getItemVisual(t,"style"),r=n[e.visualDrawType];return Dg(r)}function Sme(e,t){var n=e.get("padding");return n??(t==="richText"?[8,10]:10)}var y$=function(){function e(){this.richTextStyles={},this._nextStyleNameId=Fge()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,n,r){var a=r==="richText"?this._generateStyleName():null,i=t$t({color:n,type:t,renderMode:r,markerId:a});return Dt(i)?i:(this.richTextStyles[a]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(t,n){var r={};st(n)?X(n,function(i){return rt(r,i)}):rt(r,n);var a=this._generateStyleName();return this.richTextStyles[a]=r,"{"+a+"|"+t+"}"},e}();function Cme(e){var t=e.series,n=e.dataIndex,r=e.multipleSeries,a=t.getData(),i=a.mapDimensionsAll("defaultedTooltip"),o=i.length,s=t.getRawValue(n),l=st(s),u=_me(t,n),c,f,d,h;if(o>1||l&&!o){var p=dLt(s,t,n,i,u);c=p.inlineValues,f=p.inlineValueTypes,d=p.blocks,h=p.inlineValues[0]}else if(o){var v=a.getDimensionInfo(i[0]);h=c=Ey(a,n,i[0]),f=v.type}else h=c=l?s[0]:s;var g=Y8(t),m=g&&t.name||"",y=a.getName(n),b=r?m:y;return gi("section",{header:m,noHeader:r||!g,sortParam:h,blocks:[gi("nameValue",{markerType:"item",markerColor:u,name:b,noName:!yu(b),value:c,valueType:f,dataIndex:n})].concat(d||[])})}function dLt(e,t,n,r,a){var i=t.getData(),o=zc(e,function(f,d,h){var p=i.getDimensionInfo(h);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],l=[],u=[];r.length?X(r,function(f){c(Ey(i,n,f),f)}):X(e,c);function c(f,d){var h=i.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(o?u.push(gi("nameValue",{markerType:"subItem",markerColor:a,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Cd=Vn();function H2(e,t){return e.getName(t)||e.getId(t)}var Ck="__universalTransitionEnabled",Vr=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,r,a){this.seriesIndex=this.componentIndex,this.dataTask=Dx({count:pLt,reset:vLt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,a);var i=Cd(this).sourceManager=new gme(this);i.prepareSource();var o=this.getInitialData(n,a);WX(o,this),this.dataTask.context.data=o,Cd(this).dataBeforeProcessed=o,zX(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(n,r){var a=Yw(this),i=a?_1(n):{},o=this.subType;Rn.hasClass(o)&&(o+="Series"),mn(n,r.getTheme().get(this.subType)),mn(n,this.getDefaultOption()),kg(n,"label",["show"]),this.fillDataTextStyle(n.data),a&&Wh(n,i,a)},t.prototype.mergeOption=function(n,r){n=mn(this.option,n,!0),this.fillDataTextStyle(n.data);var a=Yw(this);a&&Wh(this.option,n,a);var i=Cd(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(n,r);WX(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Cd(this).dataBeforeProcessed=o,zX(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(n){if(n&&!As(n))for(var r=["show"],a=0;a<n.length;a++)n[a]&&n[a].label&&kg(n[a],"label",r)},t.prototype.getInitialData=function(n,r){},t.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},t.prototype.getData=function(n){var r=d3(this);if(r){var a=r.context.data;return n==null||!a.getLinkedData?a:a.getLinkedData(n)}else return Cd(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var r=d3(this);if(r){var a=r.context;a.outputData=n,r!==this.dataTask&&(a.data=n)}Cd(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return Pt(n)},t.prototype.getSourceManager=function(){return Cd(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Cd(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,r,a){return Cme({series:this,dataIndex:n,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(Nn.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,r,a){var i=this.ecModel,o=m5.prototype.getColorFromPalette.call(this,n,r,a);return o||(o=i.getColorFromPalette(n,r,a)),o},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},t.prototype.unselect=function(n,r){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,o=this.getData(r);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],u=H2(o,l);a[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(n,r){for(var a=[],i=0;i<n.length;i++)a[0]=n[i],this.isSelected(n[i],r)?this.unselect(a,r):this.select(a,r)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=Mn(n),a=[],i=0;i<r.length;i++){var o=n[r[i]];o>=0&&a.push(o)}return a},t.prototype.isSelected=function(n,r){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(r);return(a==="all"||a[H2(i,n)])&&!i.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[Ck])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,r){var a,i,o=this.option,s=o.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Jt(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=r[c],d=H2(n,f);u[d]=!0,this._selectedDataIndicesMap[d]=n.getRawIndex(f)}}else if(s==="single"||s===!0){var h=r[l-1],d=H2(n,h);o.selectedMap=(a={},a[d]=!0,a),this._selectedDataIndicesMap=(i={},i[d]=n.getRawIndex(h),i)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(a){var i=n.getRawDataItem(a);i&&i.selected&&r.push(a)}),r.length>0&&this._innerSelect(n,r)}},t.registerClass=function(n){return Rn.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(Rn);$a(Vr,WN);$a(Vr,m5);jge(Vr,Rn);function zX(e){var t=e.name;Y8(e)||(e.name=hLt(e)||t)}function hLt(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return X(n,function(a){var i=t.getDimensionInfo(a);i.displayName&&r.push(i.displayName)}),r.join(" ")}function pLt(e){return e.model.getRawData().count()}function vLt(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),gLt}function gLt(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function WX(e,t){X(Fw(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,vn(mLt,t))})}function mLt(e,t){var n=d3(e);return n&&n.setOutputEnd((t||this).count()),t}function d3(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var a=r.agentStubMap;a&&(r=a.get(e.uid))}return r}}var na=function(){function e(){this.group=new an,this.uid=x1("viewComponent")}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,a){},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,a){},e.prototype.updateLayout=function(t,n,r,a){},e.prototype.updateVisual=function(t,n,r,a){},e.prototype.toggleBlurSeries=function(t,n,r){},e.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},e}();q8(na);CN(na);function C1(){var e=Vn();return function(t){var n=e(t),r=t.pipelineContext,a=!!n.large,i=!!n.progressiveRender,o=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(a!==o||i!==s)&&"reset"}}var Tme=Vn(),yLt=C1(),Dr=function(){function e(){this.group=new an,this.uid=x1("viewChart"),this.renderTask=Dx({plan:bLt,reset:xLt}),this.renderTask.context={view:this}}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,a){},e.prototype.highlight=function(t,n,r,a){var i=t.getData(a&&a.dataType);i&&UX(i,a,"emphasis")},e.prototype.downplay=function(t,n,r,a){var i=t.getData(a&&a.dataType);i&&UX(i,a,"normal")},e.prototype.remove=function(t,n){this.group.removeAll()},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.updateLayout=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.updateVisual=function(t,n,r,a){this.render(t,n,r,a)},e.prototype.eachRendered=function(t){pp(this.group,t)},e.markUpdateMethod=function(t,n){Tme(t).updateMethod=n},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function HX(e,t,n){e&&Gw(e)&&(t==="emphasis"?qf:Zf)(e,n)}function UX(e,t,n){var r=Ig(e,t),a=t&&t.highlightKey!=null?tMt(t.highlightKey):null;r!=null?X(Ir(r),function(i){HX(e.getItemGraphicEl(i),n,a)}):e.eachItemGraphicEl(function(i){HX(i,n,a)})}q8(Dr);CN(Dr);function bLt(e){return yLt(e.model)}function xLt(e){var t=e.model,n=e.ecModel,r=e.api,a=e.payload,i=t.pipelineContext.progressiveRender,o=e.view,s=a&&Tme(a).updateMethod,l=i?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,n,r,a),wLt[l]}var wLt={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},vE="\0__throttleOriginMethod",GX="\0__throttleRate",KX="\0__throttleType";function S5(e,t,n){var r,a=0,i=0,o=null,s,l,u,c;t=t||0;function f(){i=new Date().getTime(),o=null,e.apply(l,u||[])}var d=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];r=new Date().getTime(),l=this,u=h;var v=c||t,g=c||n;c=null,s=r-(g?a:i)-v,clearTimeout(o),g?o=setTimeout(f,v):s>=0?f():o=setTimeout(f,-s),a=r};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(h){c=h},d}function T1(e,t,n,r){var a=e[t];if(a){var i=a[vE]||a,o=a[KX],s=a[GX];if(s!==n||o!==r){if(n==null||!r)return e[t]=i;a=e[t]=S5(i,n,r==="debounce"),a[vE]=i,a[KX]=r,a[GX]=n}return a}}function qw(e,t){var n=e[t];n&&n[vE]&&(n.clear&&n.clear(),e[t]=n[vE])}var jX=Vn(),YX={itemStyle:Eg(N0e,!0),lineStyle:Eg(D0e,!0)},_Lt={lineStyle:"stroke",itemStyle:"fill"};function kme(e,t){var n=e.visualStyleMapper||YX[t];return n||(console.warn("Unknown style type '"+t+"'."),YX.itemStyle)}function Ime(e,t){var n=e.visualDrawType||_Lt[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var SLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",a=e.getModel(r),i=kme(e,r),o=i(a),s=a.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=Ime(e,r),u=o[l],c=Yt(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var d=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[l]||(o[l]=d,n.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Yt(o.fill)?d:o.fill,o.stroke=o.stroke==="auto"||Yt(o.stroke)?d:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var v=e.getDataParams(p),g=rt({},o);g[l]=c(v),h.setItemVisual(p,"style",g)}}}},nb=new pr,CLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",a=kme(e,r),i=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){nb.option=l[r];var u=a(nb),c=o.ensureUniqueItemVisual(s,"style");rt(c,u),nb.option.decal&&(o.setItemVisual(s,"decal",nb.option.decal),nb.option.decal.dirty=!0),i in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},TLt={performRawSeries:!0,overallReset:function(e){var t=Pt();e.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var a=n.type+"-"+r,i=t.get(a);i||(i={},t.set(a,i)),jX(n).scope=i}}),e.eachSeries(function(n){if(!(n.isColorBySeries()||e.isSeriesFiltered(n))){var r=n.getRawData(),a={},i=n.getData(),o=jX(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=Ime(n,s);i.each(function(u){var c=i.getRawIndex(u);a[c]=u}),r.each(function(u){var c=a[u],f=i.getItemVisual(c,"colorFromPalette");if(f){var d=i.ensureUniqueItemVisual(c,"style"),h=r.getName(u)||u+"",p=r.count();d[l]=n.getColorFromPalette(h,o,p)}})}})}},U2=Math.PI;function kLt(e,t){t=t||{},Xt(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new an,r=new Bn({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var a=new Hn({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),i=new Bn({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(i);var o;return t.showSpinner&&(o=new NN({shape:{startAngle:-U2/2,endAngle:-U2/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:U2*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:U2*3/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var s=a.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=e.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var Eme=function(){function e(t,n,r,a){this._stageTaskMap=Pt(),this.ecInstance=t,this.api=n,r=this._dataProcessorHandlers=r.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=r.concat(a)}return e.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})},e.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),a=r.context,i=!n&&r.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>r.blockIndex,o=i?r.step:null,s=a&&a.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,n){var r=this._pipelineMap.get(t.uid),a=t.getData(),i=a.count(),o=r.progressiveEnabled&&n.incrementalPrepareRender&&i>=r.threshold,s=t.get("large")&&i>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?i:null;t.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(t){var n=this,r=n._pipelineMap=Pt();t.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;r.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),n._pipe(a,a.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),r=this.api;X(this._allHandlers,function(a){var i=t.get(a.uid)||t.set(a.uid,{}),o="";is(!(a.reset&&a.overallReset),o),a.reset&&this._createSeriesStageTask(a,i,n,r),a.overallReset&&this._createOverallStageTask(a,i,n,r)},this)},e.prototype.prepareView=function(t,n,r,a){var i=t.renderTask,o=i.context;o.model=n,o.ecModel=r,o.api=a,i.__block=!t.incrementalPrepareRender,this._pipe(n,i)},e.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},e.prototype.performVisualTasks=function(t,n,r){this._performStageTasks(this._visualHandlers,t,n,r)},e.prototype._performStageTasks=function(t,n,r,a){a=a||{};var i=!1,o=this;X(t,function(l,u){if(!(a.visualType&&a.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,p=d.agentStubMap;p.each(function(g){s(a,g)&&(g.dirty(),h=!0)}),h&&d.dirty(),o.updatePayload(d,r);var v=o.getPerformArgs(d,a.block);p.each(function(g){g.perform(v)}),d.perform(v)&&(i=!0)}else f&&f.each(function(g,m){s(a,g)&&g.dirty();var y=o.getPerformArgs(g,a.block);y.skip=!l.performRawSeries&&n.isSeriesFiltered(g.context.model),o.updatePayload(g,r),g.perform(y)&&(i=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},e.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},e.prototype._createSeriesStageTask=function(t,n,r,a){var i=this,o=n.seriesTaskMap,s=n.seriesTaskMap=Pt(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,a).each(c);function c(f){var d=f.uid,h=s.set(d,o&&o.get(d)||Dx({plan:NLt,reset:RLt,count:$Lt}));h.context={model:f,ecModel:r,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(f,h)}},e.prototype._createOverallStageTask=function(t,n,r,a){var i=this,o=n.overallTask=n.overallTask||Dx({reset:ILt});o.context={ecModel:r,api:a,overallReset:t.overallReset,scheduler:i};var s=o.agentStubMap,l=o.agentStubMap=Pt(),u=t.seriesType,c=t.getTargetSeries,f=!0,d=!1,h="";is(!t.createOnAllSeries,h),u?r.eachRawSeriesByType(u,p):c?c(r,a).each(p):(f=!1,X(r.getSeries(),p));function p(v){var g=v.uid,m=l.set(g,s&&s.get(g)||(d=!0,Dx({reset:ELt,onDirty:DLt})));m.context={model:v,overallProgress:f},m.agent=o,m.__block=f,i._pipe(v,m)}d&&o.dirty()},e.prototype._pipe=function(t,n){var r=t.uid,a=this._pipelineMap.get(r);!a.head&&(a.head=n),a.tail&&a.tail.pipe(n),a.tail=n,n.__idxInPipeline=a.count++,n.__pipeline=a},e.wrapStageHandler=function(t,n){return Yt(t)&&(t={overallReset:t,seriesType:LLt(t)}),t.uid=x1("stageHandler"),n&&(t.visualType=n),t},e}();function ILt(e){e.overallReset(e.ecModel,e.api,e.payload)}function ELt(e){return e.overallProgress&&ALt}function ALt(){this.agent.dirty(),this.getDownstream().dirty()}function DLt(){this.agent&&this.agent.dirty()}function NLt(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function RLt(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Ir(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?ut(t,function(n,r){return Ame(r)}):MLt}var MLt=Ame(0);function Ame(e){return function(t,n){var r=n.data,a=n.resetDefines[e];if(a&&a.dataEach)for(var i=t.start;i<t.end;i++)a.dataEach(r,i);else a&&a.progress&&a.progress(t,r)}}function $Lt(e){return e.data.count()}function LLt(e){gE=null;try{e(Zw,Dme)}catch{}return gE}var Zw={},Dme={},gE;Nme(Zw,y5);Nme(Dme,tme);Zw.eachSeriesByType=Zw.eachRawSeriesByType=function(e){gE=e};Zw.eachComponent=function(e){e.mainType==="series"&&e.subType&&(gE=e.subType)};function Nme(e,t){for(var n in t.prototype)e[n]=ba}var XX=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const OLt={color:XX,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],XX]};var io="#B9B8CE",qX="#100C2A",G2=function(){return{axisLine:{lineStyle:{color:io}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},ZX=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Rme={darkMode:!0,color:ZX,backgroundColor:qX,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:io},pageTextStyle:{color:io}},textStyle:{color:io},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:io}},dataZoom:{borderColor:"#71708A",textStyle:{color:io},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:io}},timeline:{lineStyle:{color:io},label:{color:io},controlStyle:{color:io,borderColor:io}},calendar:{itemStyle:{color:qX},dayLabel:{color:io},monthLabel:{color:io},yearLabel:{color:io}},timeAxis:G2(),logAxis:G2(),valueAxis:G2(),categoryAxis:G2(),line:{symbol:"circle"},graph:{color:ZX},gauge:{title:{color:io},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:io},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Rme.categoryAxis.splitLine.show=!1;var PLt=function(){function e(){}return e.prototype.normalizeQuery=function(t){var n={},r={},a={};if(Dt(t)){var i=yc(t);n.mainType=i.main||null,n.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};X(t,function(l,u){for(var c=!1,f=0;f<o.length;f++){var d=o[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var p=u.slice(0,h);p!=="data"&&(n.mainType=p,n[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(a[u]=l)})}return{cptQuery:n,dataQuery:r,otherQuery:a}},e.prototype.filter=function(t,n){var r=this.eventInfo;if(!r)return!0;var a=r.targetEl,i=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=n.cptQuery,u=n.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,i,"name")&&c(u,i,"dataIndex")&&c(u,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,n.otherQuery,a,i));function c(f,d,h,p){return f[h]==null||d[p||h]===f[h]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),h3=["symbol","symbolSize","symbolRotate","symbolOffset"],JX=h3.concat(["symbolKeepAspect"]),FLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var r={},a={},i=!1,o=0;o<h3.length;o++){var s=h3[o],l=e.get(s);Yt(l)?(i=!0,a[s]=l):r[s]=l}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(rt({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),t.isSeriesFiltered(e))return;var u=Mn(a);function c(f,d){for(var h=e.getRawValue(d),p=e.getDataParams(d),v=0;v<u.length;v++){var g=u[v];f.setItemVisual(d,g,a[g](h,p))}}return{dataEach:i?c:null}}},BLt={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var n=e.getData();function r(a,i){for(var o=a.getItemModel(i),s=0;s<JX.length;s++){var l=JX[s],u=o.getShallow(l,!0);u!=null&&a.setItemVisual(i,l,u)}}return{dataEach:n.hasItemOption?r:null}}};function C5(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function vC(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function Mme(e,t,n,r){switch(n){case"color":var a=e.ensureUniqueItemVisual(t,"style");a[e.getVisual("drawType")]=r,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,r);break}}function $me(e,t){function n(r,a){var i=[];return r.eachComponent({mainType:"series",subType:e,query:a},function(o){i.push(o.seriesIndex)}),i}X([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(r){t(r[0],function(a,i,o){a=rt({},a),o.dispatchAction(rt(a,{type:r[1],seriesIndex:n(i,a)}))})})}function O0(e,t,n,r,a){var i=e+t;n.isSilent(i)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=a.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),d=Ig(f,a.fromActionPayload);n.trigger(i,{type:i,seriesId:o.id,name:st(d)?f.getName(d[0]):f.getName(d),selected:Dt(l)?l:rt({},l)})}})}function VLt(e,t,n){e.on("selectchanged",function(r){var a=n.getModel();r.isFromClick?(O0("map","selectchanged",t,a,r),O0("pie","selectchanged",t,a,r)):r.fromAction==="select"?(O0("map","selected",t,a,r),O0("pie","selected",t,a,r)):r.fromAction==="unselect"&&(O0("map","unselected",t,a,r),O0("pie","unselected",t,a,r))})}function Av(e,t,n){for(var r;e&&!(t(e)&&(r=e,n));)e=e.__hostTarget||e.parent;return r}var zLt=Math.round(Math.random()*9),WLt=typeof Object.defineProperty=="function",HLt=function(){function e(){this._id="__ec_inner_"+zLt++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,n){var r=this._guard(t);return WLt?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),ULt=An.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,a=t.width/2,i=t.height/2;e.moveTo(n,r-i),e.lineTo(n+a,r+i),e.lineTo(n-a,r+i),e.closePath()}}),GLt=An.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,a=t.width/2,i=t.height/2;e.moveTo(n,r-i),e.lineTo(n+a,r),e.lineTo(n,r+i),e.lineTo(n-a,r),e.closePath()}}),KLt=An.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,a=t.width/5*3,i=Math.max(a,t.height),o=a/2,s=o*o/(i-o),l=r-i+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),d=Math.cos(u),h=o*.6,p=o*.7;e.moveTo(n-c,l+s),e.arc(n,l,o,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(n+c-f*h,l+s+d*h,n,r-p,n,r),e.bezierCurveTo(n,r-p,n-c+f*h,l+s+d*h,n-c,l+s),e.closePath()}}),jLt=An.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,a=t.x,i=t.y,o=r/3*2;e.moveTo(a,i),e.lineTo(a+o,i+n),e.lineTo(a,i+n/4*3),e.lineTo(a-o,i+n),e.lineTo(a,i),e.closePath()}}),YLt={line:ii,rect:Bn,roundRect:Bn,square:Bn,circle:pd,diamond:GLt,pin:KLt,arrow:jLt,triangle:ULt},XLt={line:function(e,t,n,r,a){a.x1=e,a.y1=t+r/2,a.x2=e+n,a.y2=t+r/2},rect:function(e,t,n,r,a){a.x=e,a.y=t,a.width=n,a.height=r},roundRect:function(e,t,n,r,a){a.x=e,a.y=t,a.width=n,a.height=r,a.r=Math.min(n,r)/4},square:function(e,t,n,r,a){var i=Math.min(n,r);a.x=e,a.y=t,a.width=i,a.height=i},circle:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.r=Math.min(n,r)/2},diamond:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.width=n,a.height=r},pin:function(e,t,n,r,a){a.x=e+n/2,a.y=t+r/2,a.width=n,a.height=r},arrow:function(e,t,n,r,a){a.x=e+n/2,a.y=t+r/2,a.width=n,a.height=r},triangle:function(e,t,n,r,a){a.cx=e+n/2,a.cy=t+r/2,a.width=n,a.height=r}},mE={};X(YLt,function(e,t){mE[t]=new e});var qLt=An.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=oE(e,t,n),a=this.shape;return a&&a.symbolType==="pin"&&t.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(e,t,n){var r=t.symbolType;if(r!=="none"){var a=mE[r];a||(r="rect",a=mE[r]),XLt[r](t.x,t.y,t.width,t.height,a.shape),a.buildPath(e,a.shape,n)}}});function ZLt(e,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=e:n.fill=e,this.markRedraw()}}function Ma(e,t,n,r,a,i,o){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=_0e(e.slice(8),new xn(t,n,r,a),o?"center":"cover"):e.indexOf("path://")===0?l=RN(e.slice(7),{},new xn(t,n,r,a),o?"center":"cover"):l=new qLt({shape:{symbolType:e,x:t,y:n,width:r,height:a}}),l.__isEmptyBrush=s,l.setColor=ZLt,i&&l.setColor(i),l}function k1(e){return st(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function i0(e,t){if(e!=null)return st(e)||(e=[e,e]),[St(e[0],t[0])||0,St(fn(e[1],e[0]),t[1])||0]}function Dv(e){return isFinite(e)}function JLt(e,t,n){var r=t.x==null?0:t.x,a=t.x2==null?1:t.x2,i=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(r=r*n.width+n.x,a=a*n.width+n.x,i=i*n.height+n.y,o=o*n.height+n.y),r=Dv(r)?r:0,a=Dv(a)?a:1,i=Dv(i)?i:0,o=Dv(o)?o:0;var s=e.createLinearGradient(r,i,a,o);return s}function QLt(e,t,n){var r=n.width,a=n.height,i=Math.min(r,a),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*r+n.x,s=s*a+n.y,l=l*i),o=Dv(o)?o:.5,s=Dv(s)?s:.5,l=l>=0&&Dv(l)?l:.5;var u=e.createRadialGradient(o,s,0,o,s,l);return u}function p3(e,t,n){for(var r=t.type==="radial"?QLt(e,t,n):JLt(e,t,n),a=t.colorStops,i=0;i<a.length;i++)r.addColorStop(a[i].offset,a[i].color);return r}function eOt(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function K2(e){return parseInt(e,10)}function vm(e,t,n){var r=["width","height"][t],a=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(e);return(e[a]||K2(s[r])||K2(e.style[r]))-(K2(s[i])||0)-(K2(s[o])||0)|0}function tOt(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:Kn(e)?[e]:st(e)?e:null}function T5(e){var t=e.style,n=t.lineDash&&t.lineWidth>0&&tOt(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(n){var a=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;a&&a!==1&&(n=ut(n,function(i){return i/a}),r/=a)}return[n,r]}var nOt=new Gc(!0);function yE(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function QX(e){return typeof e=="string"&&e!=="none"}function bE(e){var t=e.fill;return t!=null&&t!=="none"}function eq(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function tq(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function v3(e,t,n){var r=Z8(t.image,t.__image,n);if(TN(r)){var a=e.createPattern(r,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var i=new DOMMatrix;i.translateSelf(t.x||0,t.y||0),i.rotateSelf(0,0,(t.rotation||0)*fk),i.scaleSelf(t.scaleX||1,t.scaleY||1),a.setTransform(i)}return a}}function rOt(e,t,n,r){var a,i=yE(n),o=bE(n),s=n.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||nOt,f=t.__dirty;if(!r){var d=n.fill,h=n.stroke,p=o&&!!d.colorStops,v=i&&!!h.colorStops,g=o&&!!d.image,m=i&&!!h.image,y=void 0,b=void 0,x=void 0,_=void 0,S=void 0;(p||v)&&(S=t.getBoundingRect()),p&&(y=f?p3(e,d,S):t.__canvasFillGradient,t.__canvasFillGradient=y),v&&(b=f?p3(e,h,S):t.__canvasStrokeGradient,t.__canvasStrokeGradient=b),g&&(x=f||!t.__canvasFillPattern?v3(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=x),m&&(_=f||!t.__canvasStrokePattern?v3(e,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=x),p?e.fillStyle=y:g&&(x?e.fillStyle=x:o=!1),v?e.strokeStyle=b:m&&(_?e.strokeStyle=_:i=!1)}var C=t.getGlobalScale();c.setScale(C[0],C[1],t.segmentIgnoreThreshold);var k,T;e.setLineDash&&n.lineDash&&(a=T5(t),k=a[0],T=a[1]);var I=!0;(u||f&am)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),I=!1),c.reset(),t.buildPath(c,t.shape,r),c.toStatic(),t.pathUpdated()),I&&c.rebuildPath(e,l?s:1),k&&(e.setLineDash(k),e.lineDashOffset=T),r||(n.strokeFirst?(i&&tq(e,n),o&&eq(e,n)):(o&&eq(e,n),i&&tq(e,n))),k&&e.setLineDash([])}function aOt(e,t,n){var r=t.__image=Z8(n.image,t.__image,t,t.onload);if(!(!r||!TN(r))){var a=n.x||0,i=n.y||0,o=t.getWidth(),s=t.getHeight(),l=r.width/r.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=r.width,s=r.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;e.drawImage(r,u,c,n.sWidth,n.sHeight,a,i,o,s)}else if(n.sx&&n.sy){var u=n.sx,c=n.sy,f=o-u,d=s-c;e.drawImage(r,u,c,f,d,a,i,o,s)}else e.drawImage(r,a,i,o,s)}}function iOt(e,t,n){var r,a=n.text;if(a!=null&&(a+=""),a){e.font=n.font||Fh,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var i=void 0,o=void 0;e.setLineDash&&n.lineDash&&(r=T5(t),i=r[0],o=r[1]),i&&(e.setLineDash(i),e.lineDashOffset=o),n.strokeFirst?(yE(n)&&e.strokeText(a,n.x,n.y),bE(n)&&e.fillText(a,n.x,n.y)):(bE(n)&&e.fillText(a,n.x,n.y),yE(n)&&e.strokeText(a,n.x,n.y)),i&&e.setLineDash([])}}var nq=["shadowBlur","shadowOffsetX","shadowOffsetY"],rq=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Lme(e,t,n,r,a){var i=!1;if(!r&&(n=n||{},t===n))return!1;if(r||t.opacity!==n.opacity){bs(e,a),i=!0;var o=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(o)?Gv.opacity:o}(r||t.blend!==n.blend)&&(i||(bs(e,a),i=!0),e.globalCompositeOperation=t.blend||Gv.blend);for(var s=0;s<nq.length;s++){var l=nq[s];(r||t[l]!==n[l])&&(i||(bs(e,a),i=!0),e[l]=e.dpr*(t[l]||0))}return(r||t.shadowColor!==n.shadowColor)&&(i||(bs(e,a),i=!0),e.shadowColor=t.shadowColor||Gv.shadowColor),i}function aq(e,t,n,r,a){var i=Jw(t,a.inHover),o=r?null:n&&Jw(n,a.inHover)||{};if(i===o)return!1;var s=Lme(e,i,o,r,a);if((r||i.fill!==o.fill)&&(s||(bs(e,a),s=!0),QX(i.fill)&&(e.fillStyle=i.fill)),(r||i.stroke!==o.stroke)&&(s||(bs(e,a),s=!0),QX(i.stroke)&&(e.strokeStyle=i.stroke)),(r||i.opacity!==o.opacity)&&(s||(bs(e,a),s=!0),e.globalAlpha=i.opacity==null?1:i.opacity),t.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(bs(e,a),s=!0),e.lineWidth=u)}for(var c=0;c<rq.length;c++){var f=rq[c],d=f[0];(r||i[d]!==o[d])&&(s||(bs(e,a),s=!0),e[d]=i[d]||f[1])}return s}function oOt(e,t,n,r,a){return Lme(e,Jw(t,a.inHover),n&&Jw(n,a.inHover),r,a)}function Ome(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function sOt(e,t,n){for(var r=!1,a=0;a<e.length;a++){var i=e[a];r=r||i.isZeroArea(),Ome(t,i),t.beginPath(),i.buildPath(t,i.shape),t.clip()}n.allClipped=r}function lOt(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var iq=1,oq=2,sq=3,lq=4;function uOt(e){var t=bE(e),n=yE(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!="string"||n&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function bs(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Jw(e,t){return t&&e.__hoverStyle||e.style}function Pme(e,t){Nv(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Nv(e,t,n,r){var a=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~Os,t.__isRendered=!1;return}var i=t.__clipPaths,o=n.prevElClipPaths,s=!1,l=!1;if((!o||eOt(i,o))&&(o&&o.length&&(bs(e,n),e.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),i&&i.length&&(bs(e,n),e.save(),sOt(i,e,n),s=!0),n.prevElClipPaths=i),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var c=t instanceof An&&t.autoBatch&&uOt(t.style);s||lOt(a,u.transform)?(bs(e,n),Ome(e,t)):c||bs(e,n);var f=Jw(t,n.inHover);t instanceof An?(n.lastDrawType!==iq&&(l=!0,n.lastDrawType=iq),aq(e,t,u,l,n),(!c||!n.batchFill&&!n.batchStroke)&&e.beginPath(),rOt(e,t,f,c),c&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):t instanceof ky?(n.lastDrawType!==sq&&(l=!0,n.lastDrawType=sq),aq(e,t,u,l,n),iOt(e,t,f)):t instanceof Ri?(n.lastDrawType!==oq&&(l=!0,n.lastDrawType=oq),oOt(e,t,u,l,n),aOt(e,t,f)):t.getTemporalDisplayables&&(n.lastDrawType!==lq&&(l=!0,n.lastDrawType=lq),cOt(e,t,n)),c&&r&&bs(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function cOt(e,t,n){var r=t.getDisplayables(),a=t.getTemporalDisplayables();e.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},o,s;for(o=t.getCursor(),s=r.length;o<s;o++){var l=r[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Nv(e,l,i,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,c=a.length;u<c;u++){var l=a[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Nv(e,l,i,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var b$=new HLt,uq=new iC(100),cq=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Ay(e,t){if(e==="none")return null;var n=t.getDevicePixelRatio(),r=t.getZr(),a=r.painter.type==="svg";e.dirty&&b$.delete(e);var i=b$.get(e);if(i)return i;var o=Xt(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=a?1:1/n,b$.set(e,s),e.dirty=!1,s;function l(u){for(var c=[n],f=!0,d=0;d<cq.length;++d){var h=o[cq[d]];if(h!=null&&!st(h)&&!Dt(h)&&!Kn(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var p;if(f){p=c.join(",")+(a?"-svg":"");var v=uq.get(p);v&&(a?u.svgElement=v:u.image=v)}var g=Bme(o.dashArrayX),m=fOt(o.dashArrayY),y=Fme(o.symbol),b=dOt(g),x=Vme(m),_=!a&&Bh.createCanvas(),S=a&&{tag:"g",attrs:{},key:"dcl",children:[]},C=T(),k;_&&(_.width=C.width*n,_.height=C.height*n,k=_.getContext("2d")),I(),f&&uq.put(p,_||S),u.image=_,u.svgElement=S,u.svgWidth=C.width,u.svgHeight=C.height;function T(){for(var E=1,A=0,N=b.length;A<N;++A)E=IY(E,b[A]);for(var L=1,A=0,N=y.length;A<N;++A)L=IY(L,y[A].length);E*=L;var R=x*b.length*y.length;return{width:Math.max(1,Math.min(E,o.maxTileWidth)),height:Math.max(1,Math.min(R,o.maxTileHeight))}}function I(){k&&(k.clearRect(0,0,_.width,_.height),o.backgroundColor&&(k.fillStyle=o.backgroundColor,k.fillRect(0,0,_.width,_.height)));for(var E=0,A=0;A<m.length;++A)E+=m[A];if(E<=0)return;for(var N=-x,L=0,R=0,D=0;N<C.height;){if(L%2===0){for(var P=R/2%y.length,O=0,M=0,W=0;O<C.width*2;){for(var U=0,A=0;A<g[D].length;++A)U+=g[D][A];if(U<=0)break;if(M%2===0){var V=(1-o.symbolSize)*.5,H=O+g[D][M]*V,K=N+m[L]*V,j=g[D][M]*o.symbolSize,ne=m[L]*o.symbolSize,Q=W/2%y[P].length;oe(H,K,j,ne,y[P][Q])}O+=g[D][M],++W,++M,M===g[D].length&&(M=0)}++D,D===g.length&&(D=0)}N+=m[L],++R,++L,L===m.length&&(L=0)}function oe(ae,me,ve,B,re){var ge=a?1:n,Ie=Ma(re,ae*ge,me*ge,ve*ge,B*ge,o.color,o.symbolKeepAspect);if(a){var Ce=r.painter.renderOneToVNode(Ie);Ce&&S.children.push(Ce)}else Pme(k,Ie)}}}}function Fme(e){if(!e||e.length===0)return[["rect"]];if(Dt(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!Dt(e[n])){t=!1;break}if(t)return Fme([e]);for(var r=[],n=0;n<e.length;++n)Dt(e[n])?r.push([e[n]]):r.push(e[n]);return r}function Bme(e){if(!e||e.length===0)return[[0,0]];if(Kn(e)){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if(!Kn(e[r])){n=!1;break}if(n)return Bme([e]);for(var a=[],r=0;r<e.length;++r)if(Kn(e[r])){var t=Math.ceil(e[r]);a.push([t,t])}else{var t=ut(e[r],function(s){return Math.ceil(s)});t.length%2===1?a.push(t.concat(t)):a.push(t)}return a}function fOt(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(Kn(e)){var t=Math.ceil(e);return[t,t]}var n=ut(e,function(r){return Math.ceil(r)});return e.length%2?n.concat(n):n}function dOt(e){return ut(e,function(t){return Vme(t)})}function Vme(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?t*2:t}function hOt(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");if(s){var l=r.ensureUniqueItemVisual(o,"style");l.decal=Ay(s,t)}});var a=r.getVisual("decal");if(a){var i=r.getVisual("style");i.decal=Ay(a,t)}}})}var au=new Gl,zme={};function pOt(e,t){zme[e]=t}function vOt(e){return zme[e]}var gOt=1,mOt=800,yOt=900,bOt=1e3,xOt=2e3,wOt=5e3,Wme=1e3,_Ot=1100,k5=2e3,Hme=3e3,SOt=4e3,UN=4500,COt=4600,TOt=5e3,kOt=6e3,Ume=7e3,IOt={PROCESSOR:{FILTER:bOt,SERIES_FILTER:mOt,STATISTIC:wOt},VISUAL:{LAYOUT:Wme,PROGRESSIVE_LAYOUT:_Ot,GLOBAL:k5,CHART:Hme,POST_CHART_LAYOUT:COt,COMPONENT:SOt,BRUSH:TOt,CHART_ITEM:UN,ARIA:kOt,DECAL:Ume}},ro="__flagInMainProcess",ps="__pendingUpdate",x$="__needsUpdateStatus",fq=/^[a-zA-Z0-9_]+$/,w$="__connectUpdateStatus",dq=0,EOt=1,AOt=2;function Gme(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return jme(this,e,t)}}function Kme(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return jme(this,e,t)}}function jme(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),Gl.prototype[t].apply(e,n)}var Yme=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Gl),Xme=Yme.prototype;Xme.on=Kme("on");Xme.off=Kme("off");var P0,_$,j2,Td,S$,C$,T$,rb,ab,hq,pq,k$,vq,Y2,gq,qme,nl,mq,Zme=function(e){Le(t,e);function t(n,r,a){var i=e.call(this,new PLt)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},Dt(r)&&(r=Jme[r]),i._dom=n;var o="canvas",s="auto",l=!1;a.ssr&&CNt(function(d){var h=sn(d),p=h.dataIndex;if(p!=null){var v=Pt();return v.set("series_index",h.seriesIndex),v.set("data_index",p),h.ssrType&&v.set("ssr_type",h.ssrType),v}});var u=i._zr=SY(n,{renderer:a.renderer||o,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:fn(a.useDirtyRect,l),useCoarsePointer:fn(a.useCoarsePointer,s),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=S5(Nt(u.flush,u),17),r=en(r),r&&rme(r,!0),i._theme=r,i._locale=YMt(a.locale||R0e),i._coordSysMgr=new pC;var c=i._api=gq(i);function f(d,h){return d.__prio-h.__prio}return pk(wE,f),pk(g3,f),i._scheduler=new Eme(i,c,g3,wE),i._messageCenter=new Yme,i._initEvents(),i.resize=Nt(i.resize,i),u.animation.on("frame",i._onframe,i),hq(u,i),pq(u,i),JI(i),i}return t.prototype._onframe=function(){if(!this._disposed){mq(this);var n=this._scheduler;if(this[ps]){var r=this[ps].silent;this[ro]=!0;try{P0(this),Td.update.call(this,null,this[ps].updateParams)}catch(l){throw this[ro]=!1,this[ps]=null,l}this._zr.flush(),this[ro]=!1,this[ps]=null,rb.call(this,r),ab.call(this,r)}else if(n.unfinished){var a=gOt,i=this._model,o=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(i),n.performDataProcessorTasks(i),C$(this,i),n.performVisualTasks(i),Y2(this,this._model,o,"remain",{}),a-=+new Date-s}while(a>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,r,a){if(!this[ro]){if(this._disposed){this.id;return}var i,o,s;if(Jt(r)&&(a=r.lazyUpdate,i=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[ro]=!0,!this._model||r){var l=new b$t(this._api),u=this._theme,c=this._model=new y5;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(n,{replaceMerge:o},m3);var f={seriesTransition:s,optionChanged:!0};if(a)this[ps]={silent:i,updateParams:f},this[ro]=!1,this.getZr().wakeUp();else{try{P0(this),Td.update.call(this,null,f)}catch(d){throw this[ps]=null,this[ro]=!1,d}this._ssr||this._zr.flush(),this[ps]=null,this[ro]=!1,rb.call(this,i),ab.call(this,i)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Nn.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(Nn.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return X(r,function(a){a.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,a=this._model,i=[],o=this;X(r,function(l){a.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(i.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return X(i,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",a=this.group,i=Math.min,o=Math.max,s=1/0;if(yq[a]){var l=s,u=s,c=-s,f=-s,d=[],h=n&&n.pixelRatio||this.getDevicePixelRatio();X(Rx,function(b,x){if(b.group===a){var _=r?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(en(n)),S=b.getDom().getBoundingClientRect();l=i(S.left,l),u=i(S.top,u),c=o(S.right,c),f=o(S.bottom,f),d.push({dom:_,left:S.left,top:S.top})}}),l*=h,u*=h,c*=h,f*=h;var p=c-l,v=f-u,g=Bh.createCanvas(),m=SY(g,{renderer:r?"svg":"canvas"});if(m.resize({width:p,height:v}),r){var y="";return X(d,function(b){var x=b.left-l,_=b.top-u;y+='<g transform="translate('+x+","+_+')">'+b.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=y,n.connectedBackgroundColor&&m.painter.setBackgroundColor(n.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return n.connectedBackgroundColor&&m.add(new Bn({shape:{x:0,y:0,width:p,height:v},style:{fill:n.connectedBackgroundColor}})),X(d,function(b){var x=new Ri({style:{x:b.left*h-l,y:b.top*h-u,image:b.dom}});m.add(x)}),m.refreshImmediately(),g.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,r){return S$(this,"convertToPixel",n,r)},t.prototype.convertFromPixel=function(n,r){return S$(this,"convertFromPixel",n,r)},t.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var a=this._model,i,o=Tx(a,n);return X(o,function(s,l){l.indexOf("Models")>=0&&X(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)i=i||!!c.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(i=i||f.containPoint(r,u))}},this)},this),!!i},t.prototype.getVisual=function(n,r){var a=this._model,i=Tx(a,n,{defaultMainType:"series"}),o=i.seriesModel,s=o.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return l!=null?C5(s,l,r):vC(s,r)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;X(DOt,function(r){var a=function(i){var o=n.getModel(),s=i.target,l,u=r==="globalout";if(u?l={}:s&&Av(s,function(p){var v=sn(p);if(v&&v.dataIndex!=null){var g=v.dataModel||o.getSeriesByIndex(v.seriesIndex);return l=g&&g.getDataParams(v.dataIndex,v.dataType,s)||{},!0}else if(v.eventData)return l=rt({},v.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var d=c&&f!=null&&o.getComponent(c,f),h=d&&n[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];l.event=i,l.type=r,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:d,view:h},n.trigger(r,l)}};a.zrEventfulCallAtLast=!0,n._zr.on(r,a,n)}),X(Nx,function(r,a){n._messageCenter.on(a,function(i){this.trigger(a,i)},n)}),X(["selectchanged"],function(r){n._messageCenter.on(r,function(a){this.trigger(r,a)},n)}),VLt(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&Uge(this.getDom(),E5,"");var r=this,a=r._api,i=r._model;X(r._componentsViews,function(o){o.dispose(i,a)}),X(r._chartsViews,function(o){o.dispose(i,a)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete Rx[r.id]},t.prototype.resize=function(n){if(!this[ro]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var a=r.resetOption("media"),i=n&&n.silent;this[ps]&&(i==null&&(i=this[ps].silent),a=!0,this[ps]=null),this[ro]=!0;try{a&&P0(this),Td.update.call(this,{type:"resize",animation:rt({duration:0},n&&n.animation)})}catch(o){throw this[ro]=!1,o}this[ro]=!1,rb.call(this,i),ab.call(this,i)}}},t.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(Jt(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!y3[n]){var a=y3[n](this._api,r),i=this._zr;this._loadingFX=a,i.add(a)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var r=rt({},n);return r.type=Nx[n.type],r},t.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(Jt(r)||(r={silent:!!r}),!!xE[n.type]&&this._model){if(this[ro]){this._pendingActions.push(n);return}var a=r.silent;T$.call(this,n,a);var i=r.flush;i?this._zr.flush():i!==!1&&Nn.browser.weChat&&this._throttledZrFlush(),rb.call(this,a),ab.call(this,a)}},t.prototype.updateLabelLayout=function(){au.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(r);i.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){P0=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),_$(f,!0),_$(f,!1),d.plan()},_$=function(f,d){for(var h=f._model,p=f._scheduler,v=d?f._componentsViews:f._chartsViews,g=d?f._componentsMap:f._chartsMap,m=f._zr,y=f._api,b=0;b<v.length;b++)v[b].__alive=!1;d?h.eachComponent(function(S,C){S!=="series"&&x(C)}):h.eachSeries(x);function x(S){var C=S.__requireNewView;S.__requireNewView=!1;var k="_ec_"+S.id+"_"+S.type,T=!C&&g[k];if(!T){var I=yc(S.type),E=d?na.getClass(I.main,I.sub):Dr.getClass(I.sub);T=new E,T.init(h,y),g[k]=T,v.push(T),m.add(T.group)}S.__viewId=T.__id=k,T.__alive=!0,T.__model=S,T.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!d&&p.prepareView(T,S,h,y)}for(var b=0;b<v.length;){var _=v[b];_.__alive?b++:(!d&&_.renderTask.dispose(),m.remove(_.group),_.dispose(h,y),v.splice(b,1),g[_.__id]===_&&delete g[_.__id],_.__id=_.group.__ecComponentInfo=null)}},j2=function(f,d,h,p,v){var g=f._model;if(g.setUpdatePayload(h),!p){X([].concat(f._componentsViews).concat(f._chartsViews),_);return}var m={};m[p+"Id"]=h[p+"Id"],m[p+"Index"]=h[p+"Index"],m[p+"Name"]=h[p+"Name"];var y={mainType:p,query:m};v&&(y.subType=v);var b=h.excludeSeriesId,x;b!=null&&(x=Pt(),X(Ir(b),function(S){var C=Ha(S,null);C!=null&&x.set(C,!0)})),g&&g.eachComponent(y,function(S){var C=x&&x.get(S.id)!=null;if(!C)if(QY(h))if(S instanceof Vr)h.type===Kv&&!h.notBlur&&!S.get(["emphasis","disabled"])&&jRt(S,h,f._api);else{var k=r5(S.mainType,S.componentIndex,h.name,f._api),T=k.focusSelf,I=k.dispatchers;h.type===Kv&&T&&!h.notBlur&&JF(S.mainType,S.componentIndex,f._api),I&&X(I,function(E){h.type===Kv?qf(E):Zf(E)})}else e3(h)&&S instanceof Vr&&(qRt(S,h,f._api),ZY(S),nl(f))},f),g&&g.eachComponent(y,function(S){var C=x&&x.get(S.id)!=null;C||_(f[p==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},f);function _(S){S&&S.__alive&&S[d]&&S[d](S.__model,g,f._api,h)}},Td={prepareAndUpdate:function(f){P0(this),Td.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,p=this._api,v=this._zr,g=this._coordSysMgr,m=this._scheduler;if(h){h.setUpdatePayload(f),m.restoreData(h,f),m.performSeriesTasks(h),g.create(h,p),m.performDataProcessorTasks(h,f),C$(this,h),g.update(h,p),n(h),m.performVisualTasks(h,f),k$(this,h,p,f,d);var y=h.get("backgroundColor")||"transparent",b=h.get("darkMode");v.setBackgroundColor(y),b!=null&&b!=="auto"&&v.setDarkMode(b),au.trigger("afterupdate",h,p)}},updateTransform:function(f){var d=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(f);var v=[];h.eachComponent(function(m,y){if(m!=="series"){var b=d.getViewOfComponentModel(y);if(b&&b.__alive)if(b.updateTransform){var x=b.updateTransform(y,h,p,f);x&&x.update&&v.push(b)}else v.push(b)}});var g=Pt();h.eachSeries(function(m){var y=d._chartsMap[m.__viewId];if(y.updateTransform){var b=y.updateTransform(m,h,p,f);b&&b.update&&g.set(m.uid,1)}else g.set(m.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:g}),Y2(this,h,p,f,{},g),au.trigger("afterupdate",h,p)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),Dr.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),k$(this,d,this._api,f,{}),au.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(p){p.getData().clearAllVisual()}),Dr.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,v){if(p!=="series"){var g=d.getViewOfComponentModel(v);g&&g.__alive&&g.updateVisual(v,h,d._api,f)}}),h.eachSeries(function(p){var v=d._chartsMap[p.__viewId];v.updateVisual(p,h,d._api,f)}),au.trigger("afterupdate",h,this._api))},updateLayout:function(f){Td.update.call(this,f)}},S$=function(f,d,h,p){if(f._disposed){f.id;return}for(var v=f._model,g=f._coordSysMgr.getCoordinateSystems(),m,y=Tx(v,h),b=0;b<g.length;b++){var x=g[b];if(x[d]&&(m=x[d](v,y,p))!=null)return m}},C$=function(f,d){var h=f._chartsMap,p=f._scheduler;d.eachSeries(function(v){p.updateStreamModes(v,h[v.__viewId])})},T$=function(f,d){var h=this,p=this.getModel(),v=f.type,g=f.escapeConnect,m=xE[v],y=m.actionInfo,b=(y.update||"update").split(":"),x=b.pop(),_=b[0]!=null&&yc(b[0]);this[ro]=!0;var S=[f],C=!1;f.batch&&(C=!0,S=ut(f.batch,function(L){return L=Xt(rt({},L),f),L.batch=null,L}));var k=[],T,I=e3(f),E=QY(f);if(E&&f0e(this._api),X(S,function(L){if(T=m.action(L,h._model,h._api),T=T||rt({},L),T.type=y.event||T.type,k.push(T),E){var R=X8(f),D=R.queryOptionMap,P=R.mainTypeSpecified,O=P?D.keys()[0]:"series";j2(h,x,L,O),nl(h)}else I?(j2(h,x,L,"series"),nl(h)):_&&j2(h,x,L,_.main,_.sub)}),x!=="none"&&!E&&!I&&!_)try{this[ps]?(P0(this),Td.update.call(this,f),this[ps]=null):Td[x].call(this,f)}catch(L){throw this[ro]=!1,L}if(C?T={type:y.event||v,escapeConnect:g,batch:k}:T=k[0],this[ro]=!1,!d){var A=this._messageCenter;if(A.trigger(T.type,T),I){var N={type:"selectchanged",escapeConnect:g,selected:ZRt(p),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};A.trigger(N.type,N)}}},rb=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();T$.call(this,h,f)}},ab=function(f){!f&&this.trigger("updated")},hq=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[ps]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},pq=function(f,d){f.on("mouseover",function(h){var p=h.target,v=Av(p,Gw);v&&(YRt(v,h,d._api),nl(d))}).on("mouseout",function(h){var p=h.target,v=Av(p,Gw);v&&(XRt(v,h,d._api),nl(d))}).on("click",function(h){var p=h.target,v=Av(p,function(y){return sn(y).dataIndex!=null},!0);if(v){var g=v.selected?"unselect":"select",m=sn(v);d._api.dispatchAction({type:g,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function r(f){var d=[],h=[],p=!1;if(f.eachComponent(function(y,b){var x=b.get("zlevel")||0,_=b.get("z")||0,S=b.getZLevelKey();p=p||!!S,(y==="series"?h:d).push({zlevel:x,z:_,idx:b.componentIndex,type:y,key:S})}),p){var v=d.concat(h),g,m;pk(v,function(y,b){return y.zlevel===b.zlevel?y.z-b.z:y.zlevel-b.zlevel}),X(v,function(y){var b=f.getComponent(y.type,y.idx),x=y.zlevel,_=y.key;g!=null&&(x=Math.max(g,x)),_?(x===g&&_!==m&&x++,m=_):m&&(x===g&&x++,m=""),g=x,b.setZLevel(x)})}}k$=function(f,d,h,p,v){r(d),vq(f,d,h,p,v),X(f._chartsViews,function(g){g.__alive=!1}),Y2(f,d,h,p,v),X(f._chartsViews,function(g){g.__alive||g.remove(d,h)})},vq=function(f,d,h,p,v,g){X(g||f._componentsViews,function(m){var y=m.__model;u(y,m),m.render(y,d,h,p),s(y,m),c(y,m)})},Y2=function(f,d,h,p,v,g){var m=f._scheduler;v=rt(v||{},{updatedSeries:d.getSeries()}),au.trigger("series:beforeupdate",d,h,v);var y=!1;d.eachSeries(function(b){var x=f._chartsMap[b.__viewId];x.__alive=!0;var _=x.renderTask;m.updatePayload(_,p),u(b,x),g&&g.get(b.uid)&&_.dirty(),_.perform(m.getPerformArgs(_))&&(y=!0),x.group.silent=!!b.get("silent"),o(b,x),ZY(b)}),m.unfinished=y||m.unfinished,au.trigger("series:layoutlabels",d,h,v),au.trigger("series:transition",d,h,v),d.eachSeries(function(b){var x=f._chartsMap[b.__viewId];s(b,x),c(b,x)}),i(f,d),au.trigger("series:afterupdate",d,h,v)},nl=function(f){f[x$]=!0,f.getZr().wakeUp()},mq=function(f){f[x$]&&(f.getZr().storage.traverse(function(d){Fm(d)||a(d)}),f[x$]=!1)};function a(f){for(var d=[],h=f.currentStates,p=0;p<h.length;p++){var v=h[p];v==="emphasis"||v==="blur"||v==="select"||d.push(v)}f.selected&&f.states.select&&d.push("select"),f.hoverState===EN&&f.states.emphasis?d.push("emphasis"):f.hoverState===lC&&f.states.blur&&d.push("blur"),f.useStates(d)}function i(f,d){var h=f._zr,p=h.storage,v=0;p.traverse(function(g){g.isGroup||v++}),v>d.get("hoverLayerThreshold")&&!Nn.node&&!Nn.worker&&d.eachSeries(function(g){if(!g.preventUsingHoverLayer){var m=f._chartsMap[g.__viewId];m.__alive&&m.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function o(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function s(f,d){if(!f.preventAutoZ){var h=f.get("z")||0,p=f.get("zlevel")||0;d.eachRendered(function(v){return l(v,h,p,-1/0),!0})}}function l(f,d,h,p){var v=f.getTextContent(),g=f.getTextGuideLine(),m=f.isGroup;if(m)for(var y=f.childrenRef(),b=0;b<y.length;b++)p=Math.max(l(y[b],d,h,p),p);else f.z=d,f.zlevel=h,p=Math.max(f.z2,p);if(v&&(v.z=d,v.zlevel=h,isFinite(p)&&(v.z2=p+2)),g){var x=f.textGuideLineConfig;g.z=d,g.zlevel=h,isFinite(p)&&(g.z2=p+(x&&x.showAbove?1:-1))}return p}function u(f,d){d.eachRendered(function(h){if(!Fm(h)){var p=h.getTextContent(),v=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),v=h.get("duration"),g=v>0?{duration:v,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Fm(m))return;if(m instanceof An&&nMt(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(p){m.stateTransition=g;var b=m.getTextContent(),x=m.getTextGuideLine();b&&(b.stateTransition=g),x&&(x.stateTransition=g)}m.__dirty&&a(m)}})}gq=function(f){return new(function(d){Le(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var v=p.__ecComponentInfo;if(v!=null)return f._model.getComponent(v.mainType,v.index);p=p.parent}},h.prototype.enterEmphasis=function(p,v){qf(p,v),nl(f)},h.prototype.leaveEmphasis=function(p,v){Zf(p,v),nl(f)},h.prototype.enterBlur=function(p){s0e(p),nl(f)},h.prototype.leaveBlur=function(p){n5(p),nl(f)},h.prototype.enterSelect=function(p){l0e(p),nl(f)},h.prototype.leaveSelect=function(p){u0e(p),nl(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},h}(tme))(f)},qme=function(f){function d(h,p){for(var v=0;v<h.length;v++){var g=h[v];g[w$]=p}}X(Nx,function(h,p){f._messageCenter.on(p,function(v){if(yq[f.group]&&f[w$]!==dq){if(v&&v.escapeConnect)return;var g=f.makeActionFromEvent(v),m=[];X(Rx,function(y){y!==f&&y.group===f.group&&m.push(y)}),d(m,dq),X(m,function(y){y[w$]!==EOt&&y.dispatchAction(g)}),d(m,AOt)}})})}}(),t}(Gl),I5=Zme.prototype;I5.on=Gme("on");I5.off=Gme("off");I5.one=function(e,t,n){var r=this;function a(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t&&t.apply&&t.apply(this,i),r.off(e,a)}this.on.call(this,e,a,n)};var DOt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var xE={},Nx={},g3=[],m3=[],wE=[],Jme={},y3={},Rx={},yq={},NOt=+new Date-0,E5="_echarts_instance_";function bq(e,t,n){{var r=ROt(e);if(r)return r}var a=new Zme(e,t,n);return a.id="ec_"+NOt++,Rx[a.id]=a,Uge(e,E5,a.id),qme(a),au.trigger("afterinit",a),a}function ROt(e){return Rx[UNt(e,E5)]}function Qme(e,t){Jme[e]=t}function eye(e){Cn(m3,e)<0&&m3.push(e)}function tye(e,t){D5(g3,e,t,xOt)}function MOt(e){A5("afterinit",e)}function $Ot(e){A5("afterupdate",e)}function A5(e,t){au.on(e,t)}function af(e,t,n){Yt(t)&&(n=t,t="");var r=Jt(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,!Nx[t]&&(is(fq.test(r)&&fq.test(t)),xE[r]||(xE[r]={action:n,actionInfo:e}),Nx[t]=r)}function LOt(e,t){pC.register(e,t)}function OOt(e,t){D5(wE,e,t,Wme,"layout")}function o0(e,t){D5(wE,e,t,Hme,"visual")}var xq=[];function D5(e,t,n,r,a){if((Yt(t)||Jt(t))&&(n=t,t=r),!(Cn(xq,n)>=0)){xq.push(n);var i=Eme.wrapStageHandler(n,a);i.__prio=t,i.__raw=n,e.push(i)}}function nye(e,t){y3[e]=t}function POt(e,t,n){var r=vOt("registerMap");r&&r(e,t,n)}var FOt=Z$t;o0(k5,SLt);o0(UN,CLt);o0(UN,TLt);o0(k5,FLt);o0(UN,BLt);o0(Ume,hOt);eye(rme);tye(yOt,N$t);nye("default",kLt);af({type:Kv,event:Kv,update:Kv},ba);af({type:bk,event:bk,update:bk},ba);af({type:kx,event:kx,update:kx},ba);af({type:xk,event:xk,update:xk},ba);af({type:Ix,event:Ix,update:Ix},ba);Qme("light",OLt);Qme("dark",Rme);var wq=[],BOt={registerPreprocessor:eye,registerProcessor:tye,registerPostInit:MOt,registerPostUpdate:$Ot,registerUpdateLifecycle:A5,registerAction:af,registerCoordinateSystem:LOt,registerLayout:OOt,registerVisual:o0,registerTransform:FOt,registerLoading:nye,registerMap:POt,registerImpl:pOt,PRIORITY:IOt,ComponentModel:Rn,ComponentView:na,SeriesModel:Vr,ChartView:Dr,registerComponentModel:function(e){Rn.registerClass(e)},registerComponentView:function(e){na.registerClass(e)},registerSeriesModel:function(e){Vr.registerClass(e)},registerChartView:function(e){Dr.registerClass(e)},registerSubTypeDefaulter:function(e,t){Rn.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){_Nt(e,t)}};function kn(e){if(st(e)){X(e,function(t){kn(t)});return}Cn(wq,e)>=0||(wq.push(e),Yt(e)&&(e={install:e}),e.install(BOt))}function ib(e){return e==null?0:e.length||1}function _q(e){return e}var Jf=function(){function e(t,n,r,a,i,o){this._old=t,this._new=n,this._oldKeyGetter=r||_q,this._newKeyGetter=a||_q,this.context=i,this._diffModeMultiple=o==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,n=this._new,r={},a=new Array(t.length),i=new Array(n.length);this._initIndexMap(t,null,a,"_oldKeyGetter"),this._initIndexMap(n,r,i,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=a[o],l=r[s],u=ib(l);if(u>1){var c=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(c,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(i,r)},e.prototype._executeMultiple=function(){var t=this._old,n=this._new,r={},a={},i=[],o=[];this._initIndexMap(t,r,i,"_oldKeyGetter"),this._initIndexMap(n,a,o,"_newKeyGetter");for(var s=0;s<i.length;s++){var l=i[s],u=r[l],c=a[l],f=ib(u),d=ib(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),a[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),a[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),a[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),a[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,a)},e.prototype._performRestAdd=function(t,n){for(var r=0;r<t.length;r++){var a=t[r],i=n[a],o=ib(i);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(i[s]);else o===1&&this._add&&this._add(i);n[a]=null}},e.prototype._initIndexMap=function(t,n,r,a){for(var i=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[a](t[o],o);if(i||(r[o]=s),!!n){var l=n[s],u=ib(l);u===0?(n[s]=o,i&&r.push(s)):u===1?n[s]=[l,o]:l.push(o)}}},e}(),VOt=function(){function e(t,n){this._encode=t,this._schema=n}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function zOt(e,t){var n={},r=n.encode={},a=Pt(),i=[],o=[],s={};X(e.dimensions,function(d){var h=e.getDimensionInfo(d),p=h.coordDim;if(p){var v=h.coordDimIndex;I$(r,p)[v]=d,h.isExtraCoord||(a.set(p,1),WOt(h.type)&&(i[0]=d),I$(s,p)[v]=e.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(d)}Y0e.each(function(g,m){var y=I$(r,m),b=h.otherDims[m];b!=null&&b!==!1&&(y[b]=h.name)})});var l=[],u={};a.each(function(d,h){var p=r[h];u[h]=p[0],l=l.concat(p)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=ut(l,function(d){return e.getDimensionInfo(d).storeDimIndex}),n.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(i=c.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=i.slice()),r.defaultedLabel=i,r.defaultedTooltip=o,n.userOutput=new VOt(s,t),n}function I$(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function _E(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function WOt(e){return!(e==="ordinal"||e==="time")}var Tk=function(){function e(t){this.otherDims={},t!=null&&rt(this,t)}return e}(),HOt=Vn(),UOt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},rye=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=oye(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return fn(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=ime(this.source),r=!sye(t),a="",i=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=n?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=n?d.name:null,u=d.type)}i.push({property:l,type:u,ordinalMeta:c}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(a+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=UOt[u]||"f",c&&(a+=c.uid),a+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,a].join("$$");return{dimensions:i,hash:p}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,r=0;n<this._fullDimCount;n++){var a=void 0,i=this.dimensions[r];if(i&&i.storeDimIndex===n)i.isCalculationCoord||(a=i.name),r++;else{var o=this.getSourceDimension(n);o&&(a=o.name)}t.push(a)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function aye(e){return e instanceof rye}function iye(e){for(var t=Pt(),n=0;n<(e||[]).length;n++){var r=e[n],a=Jt(r)?r.name:r;a!=null&&t.get(a)==null&&t.set(a,n)}return t}function oye(e){var t=HOt(e);return t.dimNameMap||(t.dimNameMap=iye(e.dimensionsDefine))}function sye(e){return e>30}var ob=Jt,kd=ut,GOt=typeof Int32Array>"u"?Array:Int32Array,KOt="e\0\0",Sq=-1,jOt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],YOt=["_approximateExtent"],Cq,X2,sb,lb,E$,ub,A$,Zo=function(){function e(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,a=!1;aye(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(a=!0,r=t),r=r||["x","y"];for(var i={},o=[],s={},l=!1,u={},c=0;c<r.length;c++){var f=r[c],d=Dt(f)?new Tk({name:f}):f instanceof Tk?f:new Tk(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};o.push(h),i[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),a&&(d.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var v=this._dimIdxToName=Pt();X(o,function(g){v.set(i[g].storeDimIndex,g)})}}return e.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var a=this._schema.getSourceDimension(n);if(a)return a.name},e.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(Kn(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[t];var a=r.encode[t];return a?a[n]:null},e.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,r=n.encode[t];return(r||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,n,r){var a=this,i;if(t instanceof u3&&(i=t),!i){var o=this.dimensions,s=b5(t)||Co(t)?new ome(t,o.length):t;i=new u3;var l=kd(o,function(u){return{type:a._dimInfos[u].type,property:u}});i.initData(s,l,r)}this._store=i,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=zOt(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},e.prototype.appendValues=function(t,n){var r=this._store.appendValues(t,n&&n.length),a=r.start,i=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=a;s<i;s++){var l=s-a;this._nameList[s]=n[l],o&&A$(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,r=0;r<n.length;r++){var a=this._dimInfos[n[r]];a.ordinalMeta&&t.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==mh&&!t.fillStorage},e.prototype._doInit=function(t,n){if(!(t>=n)){var r=this._store,a=r.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList,s=a.getSource().sourceFormat,l=s===Kl;if(l&&!a.pure)for(var u=[],c=t;c<n;c++){var f=a.getItem(c,u);if(!this.hasItemOption&&NNt(f)&&(this.hasItemOption=!0),f){var d=f.name;i[c]==null&&d!=null&&(i[c]=Ha(d,null));var h=f.id;o[c]==null&&h!=null&&(o[c]=Ha(h,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<n;c++)A$(this,c);Cq(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,n){ob(t)?rt(this._calculationInfo,t):this._calculationInfo[t]=n},e.prototype.getName=function(t){var n=this.getRawIndex(t),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=sb(this,this._nameDimIdx,n)),r==null&&(r=""),r},e.prototype._getCategory=function(t,n){var r=this._store.get(t,n),a=this._store.getOrdinalMeta(t);return a?a.categories[r]:r},e.prototype.getId=function(t){return X2(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,n){var r=this._store,a=this._dimInfos[t];if(a)return r.get(a.storeDimIndex,n)},e.prototype.getByRawIndex=function(t,n){var r=this._store,a=this._dimInfos[t];if(a)return r.getByRawIndex(a.storeDimIndex,n)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,n){var r=this,a=this._store;return st(t)?a.getValues(kd(t,function(i){return r._getStoreDimIndex(i)}),n):a.getValues(t)},e.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,a=n.length;r<a;r++)if(isNaN(this._store.get(n[r],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===t)return n;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,n){var r=t&&this._invertedIndicesMap[t],a=r&&r[n];return a==null||isNaN(a)?Sq:a},e.prototype.indicesOfNearest=function(t,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,r)},e.prototype.each=function(t,n,r){Yt(t)&&(r=n,n=t,t=[]);var a=r||this,i=kd(lb(t),this._getStoreDimIndex,this);this._store.each(i,a?Nt(n,a):n)},e.prototype.filterSelf=function(t,n,r){Yt(t)&&(r=n,n=t,t=[]);var a=r||this,i=kd(lb(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?Nt(n,a):n),this},e.prototype.selectRange=function(t){var n=this,r={},a=Mn(t);return X(a,function(i){var o=n._getStoreDimIndex(i);r[o]=t[i]}),this._store=this._store.selectRange(r),this},e.prototype.mapArray=function(t,n,r){Yt(t)&&(r=n,n=t,t=[]),r=r||this;var a=[];return this.each(t,function(){a.push(n&&n.apply(this,arguments))},r),a},e.prototype.map=function(t,n,r,a){var i=r||a||this,o=kd(lb(t),this._getStoreDimIndex,this),s=ub(this);return s._store=this._store.map(o,i?Nt(n,i):n),s},e.prototype.modify=function(t,n,r,a){var i=r||a||this,o=kd(lb(t),this._getStoreDimIndex,this);this._store.modify(o,i?Nt(n,i):n)},e.prototype.downSample=function(t,n,r,a){var i=ub(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),n,r,a),i},e.prototype.minmaxDownSample=function(t,n){var r=ub(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),n),r},e.prototype.lttbDownSample=function(t,n){var r=ub(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),r},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var n=this.hostModel,r=this.getRawDataItem(t);return new pr(r,n,n&&n.ecModel)},e.prototype.diff=function(t){var n=this;return new Jf(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return X2(t,r)},function(r){return X2(n,r)})},e.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},e.prototype.setVisual=function(t,n){this._visual=this._visual||{},ob(t)?rt(this._visual,t):this._visual[t]=n},e.prototype.getItemVisual=function(t,n){var r=this._itemVisuals[t],a=r&&r[n];return a??this.getVisual(n)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,n){var r=this._itemVisuals,a=r[t];a||(a=r[t]={});var i=a[n];return i==null&&(i=this.getVisual(n),st(i)?i=i.slice():ob(i)&&(i=rt({},i)),a[n]=i),i},e.prototype.setItemVisual=function(t,n,r){var a=this._itemVisuals[t]||{};this._itemVisuals[t]=a,ob(n)?rt(a,n):a[n]=r},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,n){ob(t)?rt(this._layout,t):this._layout[t]=n},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,n,r){this._itemLayouts[t]=r?rt(this._itemLayouts[t]||{},n):n},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,n){var r=this.hostModel&&this.hostModel.seriesIndex;qF(r,this.dataType,t,n),this._graphicEls[t]=n},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,n){X(this._graphicEls,function(r,a){r&&t&&t.call(n,r,a)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:kd(this.dimensions,this._getDimInfo,this),this.hostModel)),E$(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,n){var r=this[t];Yt(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var a=r.apply(this,arguments);return n.apply(this,[a].concat(B8(arguments)))})},e.internalField=function(){Cq=function(t){var n=t._invertedIndicesMap;X(n,function(r,a){var i=t._dimInfos[a],o=i.ordinalMeta,s=t._store;if(o){r=n[a]=new GOt(o.categories.length);for(var l=0;l<r.length;l++)r[l]=Sq;for(var l=0;l<s.count();l++)r[s.get(i.storeDimIndex,l)]=l}})},sb=function(t,n,r){return Ha(t._getCategory(n,r),null)},X2=function(t,n){var r=t._idList[n];return r==null&&t._idDimIdx!=null&&(r=sb(t,t._idDimIdx,n)),r==null&&(r=KOt+n),r},lb=function(t){return st(t)||(t=t!=null?[t]:[]),t},ub=function(t){var n=new e(t._schema?t._schema:kd(t.dimensions,t._getDimInfo,t),t.hostModel);return E$(n,t),n},E$=function(t,n){X(jOt.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t.__wrappedMethods=n.__wrappedMethods,X(YOt,function(r){t[r]=en(n[r])}),t._calculationInfo=rt({},n._calculationInfo)},A$=function(t,n){var r=t._nameList,a=t._idList,i=t._nameDimIdx,o=t._idDimIdx,s=r[n],l=a[n];if(s==null&&i!=null&&(r[n]=s=sb(t,i,n)),l==null&&o!=null&&(a[n]=l=sb(t,o,n)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),a[n]=l}}}(),e}();function gC(e,t){b5(e)||(e=x5(e)),t=t||{};var n=t.coordDimensions||[],r=t.dimensionsDefine||e.dimensionsDefine||[],a=Pt(),i=[],o=qOt(e,n,r,t.dimensionsCount),s=t.canOmitUnusedDimensions&&sye(o),l=r===e.dimensionsDefine,u=l?oye(e):iye(r),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,o));for(var f=Pt(c),d=new pme(o),h=0;h<d.length;h++)d[h]=-1;function p(T){var I=d[T];if(I<0){var E=r[T],A=Jt(E)?E:{name:E},N=new Tk,L=A.name;L!=null&&u.get(L)!=null&&(N.name=N.displayName=L),A.type!=null&&(N.type=A.type),A.displayName!=null&&(N.displayName=A.displayName);var R=i.length;return d[T]=R,N.storeDimIndex=T,i.push(N),N}return i[I]}if(!s)for(var h=0;h<o;h++)p(h);f.each(function(T,I){var E=Ir(T).slice();if(E.length===1&&!Dt(E[0])&&E[0]<0){f.set(I,!1);return}var A=f.set(I,[]);X(E,function(N,L){var R=Dt(N)?u.get(N):N;R!=null&&R<o&&(A[L]=R,g(p(R),I,L))})});var v=0;X(n,function(T){var I,E,A,N;if(Dt(T))I=T,N={};else{N=T,I=N.name;var L=N.ordinalMeta;N.ordinalMeta=null,N=rt({},N),N.ordinalMeta=L,E=N.dimsDef,A=N.otherDims,N.name=N.coordDim=N.coordDimIndex=N.dimsDef=N.otherDims=null}var R=f.get(I);if(R!==!1){if(R=Ir(R),!R.length)for(var D=0;D<(E&&E.length||1);D++){for(;v<o&&p(v).coordDim!=null;)v++;v<o&&R.push(v++)}X(R,function(P,O){var M=p(P);if(l&&N.type!=null&&(M.type=N.type),g(Xt(M,N),I,O),M.name==null&&E){var W=E[O];!Jt(W)&&(W={name:W}),M.name=M.displayName=W.name,M.defaultTooltip=W.defaultTooltip}A&&Xt(M.otherDims,A)})}});function g(T,I,E){Y0e.get(I)!=null?T.otherDims[I]=E:(T.coordDim=I,T.coordDimIndex=E,a.set(I,!0))}var m=t.generateCoord,y=t.generateCoordCount,b=y!=null;y=m?y||1:0;var x=m||"value";function _(T){T.name==null&&(T.name=T.coordDim)}if(s)X(i,function(T){_(T)}),i.sort(function(T,I){return T.storeDimIndex-I.storeDimIndex});else for(var S=0;S<o;S++){var C=p(S),k=C.coordDim;k==null&&(C.coordDim=ZOt(x,a,b),C.coordDimIndex=0,(!m||y<=0)&&(C.isExtraCoord=!0),y--),_(C),C.type==null&&(J0e(e,S)===$i.Must||C.isExtraCoord&&(C.otherDims.itemName!=null||C.otherDims.seriesName!=null))&&(C.type="ordinal")}return XOt(i),new rye({source:e,dimensions:i,fullDimensionCount:o,dimensionOmitted:s})}function XOt(e){for(var t=Pt(),n=0;n<e.length;n++){var r=e[n],a=r.name,i=t.get(a)||0;i>0&&(r.name=a+(i-1)),i++,t.set(a,i)}}function qOt(e,t,n,r){var a=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return X(t,function(i){var o;Jt(i)&&(o=i.dimsDef)&&(a=Math.max(a,o.length))}),a}function ZOt(e,t,n){if(n||t.hasKey(e)){for(var r=0;t.hasKey(e+r);)r++;e+=r}return t.set(e,!0),e}var JOt=function(){function e(t){this.coordSysDims=[],this.axisMap=Pt(),this.categoryAxisMap=Pt(),this.coordSysName=t}return e}();function QOt(e){var t=e.get("coordinateSystem"),n=new JOt(t),r=ePt[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var ePt={cartesian2d:function(e,t,n,r){var a=e.getReferringComponents("xAxis",Da).models[0],i=e.getReferringComponents("yAxis",Da).models[0];t.coordSysDims=["x","y"],n.set("x",a),n.set("y",i),F0(a)&&(r.set("x",a),t.firstCategoryDimIndex=0),F0(i)&&(r.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var a=e.getReferringComponents("singleAxis",Da).models[0];t.coordSysDims=["single"],n.set("single",a),F0(a)&&(r.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var a=e.getReferringComponents("polar",Da).models[0],i=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",i),n.set("angle",o),F0(i)&&(r.set("radius",i),t.firstCategoryDimIndex=0),F0(o)&&(r.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var a=e.ecModel,i=a.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();X(i.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),c=o[l];n.set(c,u),F0(u)&&(r.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function F0(e){return e.get("type")==="category"}function tPt(e,t,n){n=n||{};var r=n.byIndex,a=n.stackedCoordDimension,i,o,s;nPt(t)?i=t:(o=t.schema,i=o.dimensions,s=t.store);var l=!!(e&&e.get("stack")),u,c,f,d;if(X(i,function(y,b){Dt(y)&&(i[b]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!a||a===y.coordDim)&&(c=y))}),c&&!r&&!u&&(r=!0),c){f="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,p=c.type,v=0;X(i,function(y){y.coordDim===h&&v++});var g={name:f,coordDim:h,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},m={name:d,coordDim:d,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(s&&(g.storeDimIndex=s.ensureCalculationDimension(d,p),m.storeDimIndex=s.ensureCalculationDimension(f,p)),o.appendCalculationDimension(g),o.appendCalculationDimension(m)):(i.push(g),i.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:d,stackResultDimension:f}}function nPt(e){return!aye(e.schema)}function Hh(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function lye(e,t){return Hh(e,t)?e.getCalculationInfo("stackResultDimension"):t}function rPt(e,t){var n=e.get("coordinateSystem"),r=pC.get(n),a;return t&&t.coordSysDims&&(a=ut(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var l=s.get("type");o.type=_E(l)}return o})),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),a}function aPt(e,t,n){var r,a;return n&&X(e,function(i,o){var s=i.coordDim,l=n.categoryAxisMap.get(s);l&&(r==null&&(r=o),i.ordinalMeta=l.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&r!=null&&(e[r].otherDims.itemName=0),r}function vd(e,t,n){n=n||{};var r=t.getSourceManager(),a,i=!1;e?(i=!0,a=x5(e)):(a=r.getSource(),i=a.sourceFormat===Kl);var o=QOt(t),s=rPt(t,o),l=n.useEncodeDefaulter,u=Yt(l)?l:l?vn(Z0e,s,t):null,c={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},f=gC(a,c),d=aPt(f.dimensions,n.createInvertedIndices,o),h=i?null:r.getSharedDataStore(f),p=tPt(t,{schema:f,store:h}),v=new Zo(f,t);v.setCalculationInfo(p);var g=d!=null&&iPt(a)?function(m,y,b,x){return x===d?b:this.defaultDimValueGetter(m,y,b,x)}:null;return v.hasItemOption=!1,v.initData(i?a:h,null,g),v}function iPt(e){if(e.sourceFormat===Kl){var t=oPt(e.data||[]);return!st(g1(t))}}function oPt(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var of=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(n)||(r[1]=n)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();CN(of);var sPt=0,b3=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++sPt}return e.createByAxisModel=function(t){var n=t.option,r=n.data,a=r&&ut(r,lPt);return new e({categories:a,needCollect:!a,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var n,r=this._needCollect;if(!Dt(t)&&!r)return t;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var a=this._getOrCreateMap();return n=a.get(t),n==null&&(r?(n=this.categories.length,this.categories[n]=t,a.set(t,n)):n=NaN),n},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Pt(this.categories))},e}();function lPt(e){return Jt(e)&&e.value!=null?e.value:e+""}function x3(e){return e.type==="interval"||e.type==="log"}function uPt(e,t,n,r){var a={},i=e[1]-e[0],o=a.interval=Oge(i/t);n!=null&&o<n&&(o=a.interval=n),r!=null&&o>r&&(o=a.interval=r);var s=a.intervalPrecision=uye(o),l=a.niceTickExtent=[ha(Math.ceil(e[0]/o)*o,s),ha(Math.floor(e[1]/o)*o,s)];return cPt(l,e),a}function D$(e){var t=Math.pow(10,j8(e)),n=e/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,ha(n*t)}function uye(e){return mc(e)+2}function Tq(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function cPt(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Tq(e,0,t),Tq(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function GN(e,t){return e>=t[0]&&e<=t[1]}function KN(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function jN(e,t){return e*(t[1]-t[0])+t[0]}var YN=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;r.type="ordinal";var a=r.getSetting("ordinalMeta");return a||(a=new b3({})),st(a)&&(a=new b3({categories:ut(a,function(i){return Jt(i)?i.value:i})})),r._ordinalMeta=a,r._extent=r.getSetting("extent")||[0,a.categories.length-1],r}return t.prototype.parse=function(n){return n==null?NaN:Dt(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),GN(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),KN(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(jN(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],r=this._extent,a=r[0];a<=r[1];)n.push({value:a}),a++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];a[o]=u,i[u]=o}for(var c=0;o<s;++o){for(;i[c]!=null;)c++;a.push(c),i[c]=o}},t.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),a=this._ordinalMeta.categories[r];return a==null?"":a+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(of);of.registerClass(YN);var Gp=ha,Qf=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return GN(n,this._extent)},t.prototype.normalize=function(n){return KN(n,this._extent)},t.prototype.scale=function(n){return jN(n,this._extent)},t.prototype.setExtent=function(n,r){var a=this._extent;isNaN(n)||(a[0]=parseFloat(n)),isNaN(r)||(a[1]=parseFloat(r))},t.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=uye(n)},t.prototype.getTicks=function(n){var r=this._interval,a=this._extent,i=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;a[0]<i[0]&&(n?s.push({value:Gp(i[0]-r,o)}):s.push({value:a[0]}));for(var u=i[0];u<=i[1]&&(s.push({value:u}),u=Gp(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:i[1];return a[1]>c&&(n?s.push({value:Gp(c+r,o)}):s.push({value:a[1]})),s},t.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),a=[],i=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,c=[],f=s.value-l.value,d=f/n;u<n-1;){var h=Gp(l.value+(u+1)*d);h>i[0]&&h<i[1]&&c.push(h),u++}a.push(c)}return a},t.prototype.getLabel=function(n,r){if(n==null)return"";var a=r&&r.precision;a==null?a=mc(n.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=Gp(n.value,a,!0);return W0e(i)},t.prototype.calcNiceTicks=function(n,r,a){n=n||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var s=uPt(i,n,r,a);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var a=Math.abs(r[0]);n.fixMax||(r[1]+=a/2),r[0]-=a/2}else r[1]=1;var i=r[1]-r[0];isFinite(i)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var o=this._interval;n.fixMin||(r[0]=Gp(Math.floor(r[0]/o)*o)),n.fixMax||(r[1]=Gp(Math.ceil(r[1]/o)*o))},t.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},t.type="interval",t}(of);of.registerClass(Qf);var cye=typeof Float32Array<"u",fPt=cye?Float32Array:Array;function bc(e){return st(e)?cye?new Float32Array(e):e:new fPt(e)}var w3="__ec_stack_";function fye(e){return e.get("stack")||w3+e.seriesIndex}function N5(e){return e.dim+e.index}function dPt(e){var t=[],n=e.axis,r="axis0";if(n.type==="category"){for(var a=n.getBandWidth(),i=0;i<e.count;i++)t.push(Xt({bandWidth:a,axisKey:r,stackId:w3+i},e));for(var o=pye(t),s=[],i=0;i<e.count;i++){var l=o[r][w3+i];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function dye(e,t){var n=[];return t.eachSeriesByType(e,function(r){mye(r)&&n.push(r)}),n}function hPt(e){var t={};X(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),p=f.getStore(),v=0,g=p.count();v<g;++v){var m=p.get(h,v);t[d]?t[d].push(m):t[d]=[m]}});var n={};for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(a){a.sort(function(l,u){return l-u});for(var i=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(i=i===null?s:Math.min(i,s))}n[r]=i}}return n}function hye(e){var t=hPt(e),n=[];return X(e,function(r){var a=r.coordinateSystem,i=a.getBaseAxis(),o=i.getExtent(),s;if(i.type==="category")s=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=t[l],c=Math.abs(o[1]-o[0]),f=i.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var h=r.getData();s=Math.abs(o[1]-o[0])/h.count()}var p=St(r.get("barWidth"),s),v=St(r.get("barMaxWidth"),s),g=St(r.get("barMinWidth")||(yye(r)?.5:1),s),m=r.get("barGap"),y=r.get("barCategoryGap");n.push({bandWidth:s,barWidth:p,barMaxWidth:v,barMinWidth:g,barGap:m,barCategoryGap:y,axisKey:N5(i),stackId:fye(r)})}),pye(n)}function pye(e){var t={};X(e,function(r,a){var i=r.axisKey,o=r.bandWidth,s=t[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[i]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var d=r.barMinWidth;d&&(l[u].minWidth=d);var h=r.barGap;h!=null&&(s.gap=h);var p=r.barCategoryGap;p!=null&&(s.categoryGap=p)});var n={};return X(t,function(r,a){n[a]={};var i=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=Mn(i).length;s=Math.max(35-l*4,15)+"%"}var u=St(s,o),c=St(r.gap,1),f=r.remainedWidth,d=r.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),X(i,function(m){var y=m.maxWidth,b=m.minWidth;if(m.width){var x=m.width;y&&(x=Math.min(x,y)),b&&(x=Math.max(x,b)),m.width=x,f-=x+c*x,d--}else{var x=h;y&&y<x&&(x=Math.min(y,f)),b&&b>x&&(x=b),x!==h&&(m.width=x,f-=x+c*x,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var p=0,v;X(i,function(m,y){m.width||(m.width=h),v=m,p+=m.width*(1+c)}),v&&(p-=v.width*c);var g=-p/2;X(i,function(m,y){n[a][y]=n[a][y]||{bandWidth:o,offset:g,width:m.width},g+=m.width*(1+c)})}),n}function pPt(e,t,n){if(e&&t){var r=e[N5(t)];return r}}function vye(e,t){var n=dye(e,t),r=hye(n);X(n,function(a){var i=a.getData(),o=a.coordinateSystem,s=o.getBaseAxis(),l=fye(a),u=r[N5(s)][l],c=u.offset,f=u.width;i.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function gye(e){return{seriesType:e,plan:C1(),reset:function(t){if(mye(t)){var n=t.getData(),r=t.coordinateSystem,a=r.getBaseAxis(),i=r.getOtherAxis(a),o=n.getDimensionIndex(n.mapDimension(i.dim)),s=n.getDimensionIndex(n.mapDimension(a.dim)),l=t.get("showBackground",!0),u=n.mapDimension(i.dim),c=n.getCalculationInfo("stackResultDimension"),f=Hh(n,u)&&!!n.getCalculationInfo("stackedOnSeries"),d=i.isHorizontal(),h=vPt(a,i),p=yye(t),v=t.get("barMinHeight")||0,g=c&&n.getDimensionIndex(c),m=n.getLayout("size"),y=n.getLayout("offset");return{progress:function(b,x){for(var _=b.count,S=p&&bc(_*3),C=p&&l&&bc(_*3),k=p&&bc(_),T=r.master.getRect(),I=d?T.width:T.height,E,A=x.getStore(),N=0;(E=b.next())!=null;){var L=A.get(f?g:o,E),R=A.get(s,E),D=h,P=void 0;f&&(P=+L-A.get(o,E));var O=void 0,M=void 0,W=void 0,U=void 0;if(d){var V=r.dataToPoint([L,R]);if(f){var H=r.dataToPoint([P,R]);D=H[0]}O=D,M=V[1]+y,W=V[0]-D,U=m,Math.abs(W)<v&&(W=(W<0?-1:1)*v)}else{var V=r.dataToPoint([R,L]);if(f){var H=r.dataToPoint([R,P]);D=H[1]}O=V[0]+y,M=D,W=m,U=V[1]-D,Math.abs(U)<v&&(U=(U<=0?-1:1)*v)}p?(S[N]=O,S[N+1]=M,S[N+2]=d?W:U,C&&(C[N]=d?T.x:O,C[N+1]=d?M:T.y,C[N+2]=I),k[E]=E):x.setItemLayout(E,{x:O,y:M,width:W,height:U}),N+=3}p&&x.setLayout({largePoints:S,largeDataIndices:k,largeBackgroundPoints:C,valueAxisHorizontal:d})}}}}}}function mye(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function yye(e){return e.pipelineContext&&e.pipelineContext.large}function vPt(e,t){var n=t.model.get("startValue");return n||(n=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?n>0?n:1:n))}var gPt=function(e,t,n,r){for(;n<r;){var a=n+r>>>1;e[a][1]<t?n=a+1:r=a}return n},R5=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="time",r}return t.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return LN(n.value,pX[ZMt(Vm(this._minLevelUnit))]||pX.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,r,a){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return JMt(n,r,a,o,i)},t.prototype.getTicks=function(){var n=this._interval,r=this._extent,a=[];if(!n)return a;a.push({value:r[0],level:0});var i=this.getSetting("useUTC"),o=SPt(this._minLevelUnit,this._approxInterval,i,r);return a=a.concat(o),a.push({value:r[1],level:0}),a},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=_l,r[1]+=_l),r[1]===-1/0&&r[0]===1/0){var a=new Date;r[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),r[0]=r[1]-_l}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,r,a){n=n||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=q2.length,l=Math.min(gPt(q2,this._approxInterval,0,s),s-1);this._interval=q2[l][1],this._minLevelUnit=q2[Math.max(l-1,0)][0]},t.prototype.parse=function(n){return Kn(n)?n:+Uc(n)},t.prototype.contain=function(n){return GN(this.parse(n),this._extent)},t.prototype.normalize=function(n){return KN(this.parse(n),this._extent)},t.prototype.scale=function(n){return jN(n,this._extent)},t.type="time",t}(Qf),q2=[["second",f5],["minute",d5],["hour",Ax],["quarter-day",Ax*6],["half-day",Ax*12],["day",_l*1.2],["half-week",_l*3.5],["week",_l*7],["month",_l*31],["quarter",_l*95],["half-year",hX/2],["year",hX]];function mPt(e,t,n,r){var a=Uc(t),i=Uc(n),o=function(p){return vX(a,p,r)===vX(i,p,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},f=function(){return c()&&o("minute")},d=function(){return f()&&o("second")},h=function(){return d()&&o("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return d();case"millisecond":return h()}}function yPt(e,t){return e/=_l,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function bPt(e){var t=30*_l;return e/=t,e>6?6:e>3?3:e>2?2:1}function xPt(e){return e/=Ax,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function kq(e,t){return e/=t?d5:f5,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function wPt(e){return Oge(e)}function _Pt(e,t,n){var r=new Date(e);switch(Vm(t)){case"year":case"month":r[O0e(n)](0);case"day":r[P0e(n)](1);case"hour":r[F0e(n)](0);case"minute":r[B0e(n)](0);case"second":r[V0e(n)](0),r[z0e(n)](0)}return r.getTime()}function SPt(e,t,n,r){var a=1e4,i=$0e,o=0;function s(I,E,A,N,L,R,D){for(var P=new Date(E),O=E,M=P[N]();O<A&&O<=r[1];)D.push({value:O}),M+=I,P[L](M),O=P.getTime();D.push({value:O,notAdd:!0})}function l(I,E,A){var N=[],L=!E.length;if(!mPt(Vm(I),r[0],r[1],n)){L&&(E=[{value:_Pt(new Date(r[0]),I,n)},{value:r[1]}]);for(var R=0;R<E.length-1;R++){var D=E[R].value,P=E[R+1].value;if(D!==P){var O=void 0,M=void 0,W=void 0,U=!1;switch(I){case"year":O=Math.max(1,Math.round(t/_l/365)),M=h5(n),W=QMt(n);break;case"half-year":case"quarter":case"month":O=bPt(t),M=zm(n),W=O0e(n);break;case"week":case"half-week":case"day":O=yPt(t),M=ON(n),W=P0e(n),U=!0;break;case"half-day":case"quarter-day":case"hour":O=xPt(t),M=jw(n),W=F0e(n);break;case"minute":O=kq(t,!0),M=PN(n),W=B0e(n);break;case"second":O=kq(t,!1),M=FN(n),W=V0e(n);break;case"millisecond":O=wPt(t),M=BN(n),W=z0e(n);break}s(O,D,P,M,W,U,N),I==="year"&&A.length>1&&R===0&&A.unshift({value:A[0].value-O})}}for(var R=0;R<N.length;R++)A.push(N[R]);return N}}for(var u=[],c=[],f=0,d=0,h=0;h<i.length&&o++<a;++h){var p=Vm(i[h]);if(qMt(i[h])){l(i[h],u[u.length-1]||[],c);var v=i[h+1]?Vm(i[h+1]):null;if(p!==v){if(c.length){d=f,c.sort(function(I,E){return I.value-E.value});for(var g=[],m=0;m<c.length;++m){var y=c[m].value;(m===0||c[m-1].value!==y)&&(g.push(c[m]),y>=r[0]&&y<=r[1]&&f++)}var b=(r[1]-r[0])/t;if(f>b*1.5&&d>b/1.5||(u.push(g),f>b||e===i[h]))break}c=[]}}}for(var x=sr(ut(u,function(I){return sr(I,function(E){return E.value>=r[0]&&E.value<=r[1]&&!E.notAdd})}),function(I){return I.length>0}),_=[],S=x.length-1,h=0;h<x.length;++h)for(var C=x[h],k=0;k<C.length;++k)_.push({value:C[k].value,level:S-h});_.sort(function(I,E){return I.value-E.value});for(var T=[],h=0;h<_.length;++h)(h===0||_[h].value!==_[h-1].value)&&T.push(_[h]);return T}of.registerClass(R5);var Iq=of.prototype,Mx=Qf.prototype,CPt=ha,TPt=Math.floor,kPt=Math.ceil,Z2=Math.pow,Ql=Math.log,M5=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new Qf,n._interval=0,n}return t.prototype.getTicks=function(n){var r=this._originalScale,a=this._extent,i=r.getExtent(),o=Mx.getTicks.call(this,n);return ut(o,function(s){var l=s.value,u=ha(Z2(this.base,l));return u=l===a[0]&&this._fixMin?J2(u,i[0]):u,u=l===a[1]&&this._fixMax?J2(u,i[1]):u,{value:u}},this)},t.prototype.setExtent=function(n,r){var a=Ql(this.base);n=Ql(Math.max(0,n))/a,r=Ql(Math.max(0,r))/a,Mx.setExtent.call(this,n,r)},t.prototype.getExtent=function(){var n=this.base,r=Iq.getExtent.call(this);r[0]=Z2(n,r[0]),r[1]=Z2(n,r[1]);var a=this._originalScale,i=a.getExtent();return this._fixMin&&(r[0]=J2(r[0],i[0])),this._fixMax&&(r[1]=J2(r[1],i[1])),r},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=Ql(n[0])/Ql(r),n[1]=Ql(n[1])/Ql(r),Iq.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,a=r[1]-r[0];if(!(a===1/0||a<=0)){var i=DNt(a),o=n/a*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[ha(kPt(r[0]/i)*i),ha(TPt(r[1]/i)*i)];this._interval=i,this._niceExtent=s}},t.prototype.calcNiceExtent=function(n){Mx.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=Ql(n)/Ql(this.base),GN(n,this._extent)},t.prototype.normalize=function(n){return n=Ql(n)/Ql(this.base),KN(n,this._extent)},t.prototype.scale=function(n){return n=jN(n,this._extent),Z2(this.base,n)},t.type="log",t}(of),bye=M5.prototype;bye.getMinorTicks=Mx.getMinorTicks;bye.getLabel=Mx.getLabel;function J2(e,t){return CPt(e,mc(t))}of.registerClass(M5);var IPt=function(){function e(t,n,r){this._prepareParams(t,n,r)}return e.prototype._prepareParams=function(t,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var a=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var i=n.get("min",!0);i==null&&(i=n.get("startValue",!0));var o=this._modelMinRaw=i;Yt(o)?this._modelMinNum=Q2(t,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=Q2(t,o));var s=this._modelMaxRaw=n.get("max",!0);if(Yt(s)?this._modelMaxNum=Q2(t,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=Q2(t,s)),a)this._axisDataLen=n.getCategories().length;else{var l=n.get("boundaryGap"),u=st(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Pu(u[0],1),Pu(u[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,r=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,o=t?null:r-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?a?0:NaN:n-i[0]*o),l==null&&(l=t?a?a-1:NaN:r+i[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Pw(s)||Pw(l)||t&&!a;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(s=d,u=!0),h!=null&&(l=h,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},e.prototype.modifyDataMinMax=function(t,n){this[APt[t]]=n},e.prototype.setDeterminedMinMax=function(t,n){var r=EPt[t];this[r]=n},e.prototype.freeze=function(){this.frozen=!0},e}(),EPt={min:"_determinedMin",max:"_determinedMax"},APt={min:"_dataMin",max:"_dataMax"};function xye(e,t,n){var r=e.rawExtentInfo;return r||(r=new IPt(e,t,n),e.rawExtentInfo=r,r)}function Q2(e,t){return t==null?null:Pw(t)?NaN:e.parse(t)}function wye(e,t){var n=e.type,r=xye(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var a=r.min,i=r.max,o=t.ecModel;if(o&&n==="time"){var s=dye("bar",o),l=!1;if(X(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=hye(s),c=DPt(a,i,t,u);a=c.min,i=c.max}}return{extent:[a,i],fixMin:r.minFixed,fixMax:r.maxFixed}}function DPt(e,t,n,r){var a=n.axis.getExtent(),i=Math.abs(a[1]-a[0]),o=pPt(r,n.axis);if(o===void 0)return{min:e,max:t};var s=1/0;X(o,function(h){s=Math.min(h.offset,s)});var l=-1/0;X(o,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,f=1-(s+l)/i,d=c/f-c;return t+=d*(l/u),e-=d*(s/u),{min:e,max:t}}function Dy(e,t){var n=t,r=wye(e,n),a=r.extent,i=n.get("splitNumber");e instanceof M5&&(e.base=n.get("logBase"));var o=e.type,s=n.get("interval"),l=o==="interval"||o==="time";e.setExtent(a[0],a[1]),e.calcNiceExtent({splitNumber:i,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),s!=null&&e.setInterval&&e.setInterval(s)}function XN(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new YN({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new R5({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(of.getClass(t)||Qf)}}function NPt(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function I1(e){var t=e.getLabelModel().get("formatter"),n=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(r){return function(a,i){return e.scale.getFormattedLabel(a,i,r)}}(t):Dt(t)?function(r){return function(a){var i=e.scale.getLabel(a),o=r.replace("{value}",i??"");return o}}(t):Yt(t)?function(r){return function(a,i){return n!=null&&(i=a.value-n),r($5(e,a),i,a.level!=null?{level:a.level}:null)}}(t):function(r){return e.scale.getLabel(r)}}function $5(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function RPt(e){var t=e.model,n=e.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var r,a,i=n.getExtent();n instanceof YN?a=n.count():(r=n.getTicks(),a=r.length);var o=e.getLabelModel(),s=I1(e),l,u=1;a>40&&(u=Math.ceil(a/40));for(var c=0;c<a;c+=u){var f=r?r[c]:{value:i[0]+c},d=s(f,c),h=o.getTextRect(d),p=MPt(h,o.get("rotate")||0);l?l.union(p):l=p}return l}}function MPt(e,t){var n=t*Math.PI/180,r=e.width,a=e.height,i=r*Math.abs(Math.cos(n))+Math.abs(a*Math.sin(n)),o=r*Math.abs(Math.sin(n))+Math.abs(a*Math.cos(n)),s=new xn(e.x,e.y,i,o);return s}function L5(e){var t=e.get("interval");return t??"auto"}function _ye(e){return e.type==="category"&&L5(e.getLabelModel())===0}function SE(e,t){var n={};return X(e.mapDimensionsAll(t),function(r){n[lye(e,r)]=!0}),Mn(n)}function $Pt(e,t,n){t&&X(SE(t,n),function(r){var a=t.getApproximateExtent(r);a[0]<e[0]&&(e[0]=a[0]),a[1]>e[1]&&(e[1]=a[1])})}var mC=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),LPt=1e-8;function Eq(e,t){return Math.abs(e-t)<LPt}function fv(e,t,n){var r=0,a=e[0];if(!a)return!1;for(var i=1;i<e.length;i++){var o=e[i];r+=mf(a[0],a[1],o[0],o[1],t,n),a=o}var s=e[0];return(!Eq(a[0],s[0])||!Eq(a[1],s[1]))&&(r+=mf(a[0],a[1],s[0],s[1],t,n)),r!==0}var OPt=[];function N$(e,t){for(var n=0;n<e.length;n++)Wi(e[n],e[n],t)}function Aq(e,t,n,r){for(var a=0;a<e.length;a++){var i=e[a];r&&(i=r.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(Jd(t,t,i),Qd(n,n,i))}}function PPt(e){for(var t=0,n=0,r=0,a=e.length,i=e[a-1][0],o=e[a-1][1],s=0;s<a;s++){var l=e[s][0],u=e[s][1],c=i*u-l*o;t+=c,n+=(i+l)*c,r+=(o+u)*c,i=l,o=u}return t?[n/t/3,r/t/3,t]:[e[0][0]||0,e[0][1]||0]}var Sye=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),Dq=function(){function e(t,n){this.type="polygon",this.exterior=t,this.interiors=n}return e}(),Nq=function(){function e(t){this.type="linestring",this.points=t}return e}(),Cye=function(e){Le(t,e);function t(n,r,a){var i=e.call(this,n)||this;return i.type="geoJSON",i.geometries=r,i._center=a&&[a[0],a[1]],i}return t.prototype.calcCenter=function(){for(var n=this.geometries,r,a=0,i=0;i<n.length;i++){var o=n[i],s=o.exterior,l=s&&s.length;l>a&&(r=o,a=l)}if(r)return PPt(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(n){var r=this._rect;if(r&&!n)return r;var a=[1/0,1/0],i=[-1/0,-1/0],o=this.geometries;return X(o,function(s){s.type==="polygon"?Aq(s.exterior,a,i,n):X(s.points,function(l){Aq(l,a,i,n)})}),isFinite(a[0])&&isFinite(a[1])&&isFinite(i[0])&&isFinite(i[1])||(a[0]=a[1]=i[0]=i[1]=0),r=new xn(a[0],a[1],i[0]-a[0],i[1]-a[1]),n||(this._rect=r),r},t.prototype.contain=function(n){var r=this.getBoundingRect(),a=this.geometries;if(!r.contain(n[0],n[1]))return!1;e:for(var i=0,o=a.length;i<o;i++){var s=a[i];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(fv(l,n[0],n[1])){for(var c=0;c<(u?u.length:0);c++)if(fv(u[c],n[0],n[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(n,r,a,i){var o=this.getBoundingRect(),s=o.width/o.height;a?i||(i=a/s):a=s*i;for(var l=new xn(n,r,a,i),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(N$(d.exterior,u),X(d.interiors,function(h){N$(h,u)})):X(d.points,function(h){N$(h,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(n){n==null&&(n=this.name);var r=new t(n,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(Sye),FPt=function(e){Le(t,e);function t(n,r){var a=e.call(this,n)||this;return a.type="geoSVG",a._elOnlyForCalculate=r,a}return t.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,r=n.getBoundingRect(),a=[r.x+r.width/2,r.y+r.height/2],i=xN(OPt),o=n;o&&!o.isGeoSVGGraphicRoot;)Lf(i,o.getLocalTransform(),i),o=o.parent;return v1(i,i),Wi(a,a,i),a},t}(Sye);function BPt(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;n==null&&(n=1024);var r=t.features;return X(r,function(a){var i=a.geometry,o=i.encodeOffsets,s=i.coordinates;if(o)switch(i.type){case"LineString":i.coordinates=Tye(s,o,n);break;case"Polygon":R$(s,o,n);break;case"MultiLineString":R$(s,o,n);break;case"MultiPolygon":X(s,function(l,u){return R$(l,o[u],n)})}}),t.UTF8Encoding=!1,t}function R$(e,t,n){for(var r=0;r<e.length;r++)e[r]=Tye(e[r],t[r],n)}function Tye(e,t,n){for(var r=[],a=t[0],i=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=a,l+=i,a=s,i=l,r.push([s/n,l/n])}return r}function VPt(e,t){return e=BPt(e),ut(sr(e.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var r=n.properties,a=n.geometry,i=[];switch(a.type){case"Polygon":var o=a.coordinates;i.push(new Dq(o[0],o.slice(1)));break;case"MultiPolygon":X(a.coordinates,function(l){l[0]&&i.push(new Dq(l[0],l.slice(1)))});break;case"LineString":i.push(new Nq([a.coordinates]));break;case"MultiLineString":i.push(new Nq(a.coordinates))}var s=new Cye(r[t||"name"],i,r.cp);return s.properties=r,s})}var Qw=Vn();function kye(e,t){var n=ut(t,function(r){return e.scale.parse(r)});return e.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function zPt(e){var t=e.getLabelModel().get("customValues");if(t){var n=I1(e),r=e.scale.getExtent(),a=kye(e,t),i=sr(a,function(o){return o>=r[0]&&o<=r[1]});return{labels:ut(i,function(o){var s={value:o};return{formattedLabel:n(s),rawLabel:e.scale.getLabel(s),tickValue:o}})}}return e.type==="category"?HPt(e):GPt(e)}function WPt(e,t){var n=e.getTickModel().get("customValues");if(n){var r=e.scale.getExtent(),a=kye(e,n);return{ticks:sr(a,function(i){return i>=r[0]&&i<=r[1]})}}return e.type==="category"?UPt(e,t):{ticks:ut(e.scale.getTicks(),function(i){return i.value})}}function HPt(e){var t=e.getLabelModel(),n=Iye(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function Iye(e,t){var n=Eye(e,"labels"),r=L5(t),a=Aye(n,r);if(a)return a;var i,o;return Yt(r)?i=Rye(e,r):(o=r==="auto"?KPt(e):r,i=Nye(e,o)),Dye(n,r,{labels:i,labelCategoryInterval:o})}function UPt(e,t){var n=Eye(e,"ticks"),r=L5(t),a=Aye(n,r);if(a)return a;var i,o;if((!t.get("show")||e.scale.isBlank())&&(i=[]),Yt(r))i=Rye(e,r,!0);else if(r==="auto"){var s=Iye(e,e.getLabelModel());o=s.labelCategoryInterval,i=ut(s.labels,function(l){return l.tickValue})}else o=r,i=Nye(e,o,!0);return Dye(n,r,{ticks:i,tickCategoryInterval:o})}function GPt(e){var t=e.scale.getTicks(),n=I1(e);return{labels:ut(t,function(r,a){return{level:r.level,formattedLabel:n(r,a),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}function Eye(e,t){return Qw(e)[t]||(Qw(e)[t]=[])}function Aye(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Dye(e,t,n){return e.push({key:t,value:n}),n}function KPt(e){var t=Qw(e).autoInterval;return t??(Qw(e).autoInterval=e.calculateCategoryInterval())}function jPt(e){var t=YPt(e),n=I1(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,a=e.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=i[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(r)),f=Math.abs(u*Math.sin(r)),d=0,h=0;l<=i[1];l+=s){var p=0,v=0,g=oC(n({value:l}),t.font,"center","top");p=g.width*1.3,v=g.height*1.3,d=Math.max(d,p,7),h=Math.max(h,v,7)}var m=d/c,y=h/f;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(m,y))),x=Qw(e.model),_=e.getExtent(),S=x.lastAutoInterval,C=x.lastTickCount;return S!=null&&C!=null&&Math.abs(S-b)<=1&&Math.abs(C-o)<=1&&S>b&&x.axisExtent0===_[0]&&x.axisExtent1===_[1]?b=S:(x.lastTickCount=o,x.lastAutoInterval=b,x.axisExtent0=_[0],x.axisExtent1=_[1]),b}function YPt(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Nye(e,t,n){var r=I1(e),a=e.scale,i=a.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=i[0],c=a.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=_ye(e),d=o.get("showMinLabel")||f,h=o.get("showMaxLabel")||f;d&&u!==i[0]&&v(i[0]);for(var p=u;p<=i[1];p+=l)v(p);h&&p-l!==i[1]&&v(i[1]);function v(g){var m={value:g};s.push(n?g:{formattedLabel:r(m),rawLabel:a.getLabel(m),tickValue:g})}return s}function Rye(e,t,n){var r=e.scale,a=I1(e),i=[];return X(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;t(o.value,s)&&i.push(n?l:{formattedLabel:a(o),rawLabel:s,tickValue:l})}),i}var Rq=[0,1],Uu=function(){function e(t,n,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=r||[0,0]}return e.prototype.contain=function(t){var n=this._extent,r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return t>=r&&t<=a},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return $ge(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,n){var r=this._extent;r[0]=t,r[1]=n},e.prototype.dataToCoord=function(t,n){var r=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type==="ordinal"&&(r=r.slice(),Mq(r,a.count())),cr(t,Rq,r,n)},e.prototype.coordToData=function(t,n){var r=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(r=r.slice(),Mq(r,a.count()));var i=cr(t,r,Rq,n);return this.scale.scale(i)},e.prototype.pointToData=function(t,n){},e.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),r=WPt(this,n),a=r.ticks,i=ut(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=n.get("alignWithLabel");return XPt(this,i,o,t.clamp),i},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),a=ut(r,function(i){return ut(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},e.prototype.getViewLabels=function(){return zPt(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/r},e.prototype.calculateCategoryInterval=function(){return jPt(this)},e}();function Mq(e,t){var n=e[1]-e[0],r=t,a=n/r/2;e[0]+=a,e[1]-=a}function XPt(e,t,n,r){var a=t.length;if(!e.onBand||n||!a)return;var i=e.getExtent(),o,s;if(a===1)t[0].coord=i[0],o=t[1]={coord:i[1],tickValue:t[0].tickValue};else{var l=t[a-1].tickValue-t[0].tickValue,u=(t[a-1].coord-t[0].coord)/l;X(t,function(h){h.coord-=u/2});var c=e.scale.getExtent();s=1+c[1]-t[a-1].tickValue,o={coord:t[a-1].coord+u*s,tickValue:c[1]+1},t.push(o)}var f=i[0]>i[1];d(t[0].coord,i[0])&&(r?t[0].coord=i[0]:t.shift()),r&&d(i[0],t[0].coord)&&t.unshift({coord:i[0]}),d(i[1],o.coord)&&(r?o.coord=i[1]:t.pop()),r&&d(o.coord,i[1])&&t.push({coord:i[1]});function d(h,p){return h=ha(h),p=ha(p),f?h>p:h<p}}var cb=Math.PI*2,Kp=Gc.CMD,qPt=["top","right","bottom","left"];function ZPt(e,t,n,r,a){var i=n.width,o=n.height;switch(e){case"top":r.set(n.x+i/2,n.y-t),a.set(0,-1);break;case"bottom":r.set(n.x+i/2,n.y+o+t),a.set(0,1);break;case"left":r.set(n.x-t,n.y+o/2),a.set(-1,0);break;case"right":r.set(n.x+i+t,n.y+o/2),a.set(1,0);break}}function JPt(e,t,n,r,a,i,o,s,l){o-=e,s-=t;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*n+e,f=s*n+t;if(Math.abs(r-a)%cb<1e-4)return l[0]=c,l[1]=f,u-n;if(i){var d=r;r=Vs(a),a=Vs(d)}else r=Vs(r),a=Vs(a);r>a&&(a+=cb);var h=Math.atan2(s,o);if(h<0&&(h+=cb),h>=r&&h<=a||h+cb>=r&&h+cb<=a)return l[0]=c,l[1]=f,u-n;var p=n*Math.cos(r)+e,v=n*Math.sin(r)+t,g=n*Math.cos(a)+e,m=n*Math.sin(a)+t,y=(p-o)*(p-o)+(v-s)*(v-s),b=(g-o)*(g-o)+(m-s)*(m-s);return y<b?(l[0]=p,l[1]=v,Math.sqrt(y)):(l[0]=g,l[1]=m,Math.sqrt(b))}function CE(e,t,n,r,a,i,o,s){var l=a-e,u=i-t,c=n-e,f=r-t,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,p=h/d;s&&(p=Math.min(Math.max(p,0),1)),p*=d;var v=o[0]=e+p*c,g=o[1]=t+p*f;return Math.sqrt((v-a)*(v-a)+(g-i)*(g-i))}function Mye(e,t,n,r,a,i,o){n<0&&(e=e+n,n=-n),r<0&&(t=t+r,r=-r);var s=e+n,l=t+r,u=o[0]=Math.min(Math.max(a,e),s),c=o[1]=Math.min(Math.max(i,t),l);return Math.sqrt((u-a)*(u-a)+(c-i)*(c-i))}var ou=[];function QPt(e,t,n){var r=Mye(t.x,t.y,t.width,t.height,e.x,e.y,ou);return n.set(ou[0],ou[1]),r}function eFt(e,t,n){for(var r=0,a=0,i=0,o=0,s,l,u=1/0,c=t.data,f=e.x,d=e.y,h=0;h<c.length;){var p=c[h++];h===1&&(r=c[h],a=c[h+1],i=r,o=a);var v=u;switch(p){case Kp.M:i=c[h++],o=c[h++],r=i,a=o;break;case Kp.L:v=CE(r,a,c[h],c[h+1],f,d,ou,!0),r=c[h++],a=c[h++];break;case Kp.C:v=gge(r,a,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,ou),r=c[h++],a=c[h++];break;case Kp.Q:v=yge(r,a,c[h++],c[h++],c[h],c[h+1],f,d,ou),r=c[h++],a=c[h++];break;case Kp.A:var g=c[h++],m=c[h++],y=c[h++],b=c[h++],x=c[h++],_=c[h++];h+=1;var S=!!(1-c[h++]);s=Math.cos(x)*y+g,l=Math.sin(x)*b+m,h<=1&&(i=s,o=l);var C=(f-g)*b/y+g;v=JPt(g,m,b,x,x+_,S,C,d,ou),r=Math.cos(x+_)*y+g,a=Math.sin(x+_)*b+m;break;case Kp.R:i=r=c[h++],o=a=c[h++];var k=c[h++],T=c[h++];v=Mye(i,o,k,T,f,d,ou);break;case Kp.Z:v=CE(r,a,i,o,f,d,ou,!0),r=i,a=o;break}v<u&&(u=v,n.set(ou[0],ou[1]))}return u}var bu=new bn,Pr=new bn,va=new bn,xc=new bn,pc=new bn;function $q(e,t){if(e){var n=e.getTextGuideLine(),r=e.getTextContent();if(r&&n){var a=e.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],o=a.candidates||qPt,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=a.anchor,c=e.getComputedTransform(),f=c&&v1([],c),d=t.get("length2")||0;u&&va.copy(u);for(var h=0;h<o.length;h++){var p=o[h];ZPt(p,0,s,bu,xc),bn.scaleAndAdd(Pr,bu,xc,d),Pr.transform(f);var v=e.getBoundingRect(),g=u?u.distance(Pr):e instanceof An?eFt(Pr,e.path,va):QPt(Pr,v,va);g<l&&(l=g,Pr.transform(c),va.transform(c),va.toArray(i[0]),Pr.toArray(i[1]),bu.toArray(i[2]))}$ye(i,t.get("minTurnAngle")),n.setShape({points:i})}}}var TE=[],Fo=new bn;function $ye(e,t){if(t<=180&&t>0){t=t/180*Math.PI,bu.fromArray(e[0]),Pr.fromArray(e[1]),va.fromArray(e[2]),bn.sub(xc,bu,Pr),bn.sub(pc,va,Pr);var n=xc.len(),r=pc.len();if(!(n<.001||r<.001)){xc.scale(1/n),pc.scale(1/r);var a=xc.dot(pc),i=Math.cos(t);if(i<a){var o=CE(Pr.x,Pr.y,va.x,va.y,bu.x,bu.y,TE,!1);Fo.fromArray(TE),Fo.scaleAndAdd(pc,o/Math.tan(Math.PI-t));var s=va.x!==Pr.x?(Fo.x-Pr.x)/(va.x-Pr.x):(Fo.y-Pr.y)/(va.y-Pr.y);if(isNaN(s))return;s<0?bn.copy(Fo,Pr):s>1&&bn.copy(Fo,va),Fo.toArray(e[1])}}}}function tFt(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,bu.fromArray(e[0]),Pr.fromArray(e[1]),va.fromArray(e[2]),bn.sub(xc,Pr,bu),bn.sub(pc,va,Pr);var r=xc.len(),a=pc.len();if(!(r<.001||a<.001)){xc.scale(1/r),pc.scale(1/a);var i=xc.dot(t),o=Math.cos(n);if(i<o){var s=CE(Pr.x,Pr.y,va.x,va.y,bu.x,bu.y,TE,!1);Fo.fromArray(TE);var l=Math.PI/2,u=Math.acos(pc.dot(t)),c=l+u-n;if(c>=l)bn.copy(Fo,va);else{Fo.scaleAndAdd(pc,s/Math.tan(Math.PI/2-c));var f=va.x!==Pr.x?(Fo.x-Pr.x)/(va.x-Pr.x):(Fo.y-Pr.y)/(va.y-Pr.y);if(isNaN(f))return;f<0?bn.copy(Fo,Pr):f>1&&bn.copy(Fo,va)}Fo.toArray(e[1])}}}}function M$(e,t,n,r){var a=n==="normal",i=a?e:e.ensureState(n);i.ignore=t;var o=r.get("smooth");o&&o===!0&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();a?e.useStyle(s):i.style=s}function nFt(e,t){var n=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var a=Zd(r[0],r[1]),i=Zd(r[1],r[2]);if(!a||!i){e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]);return}var o=Math.min(a,i)*n,s=hk([],r[1],r[0],o/a),l=hk([],r[1],r[2],o/i),u=hk([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function O5(e,t,n){var r=e.getTextGuideLine(),a=e.getTextContent();if(!a){r&&e.removeTextGuideLine();return}for(var i=t.normal,o=i.get("show"),s=a.ignore,l=0;l<Uw.length;l++){var u=Uw[l],c=t[u],f=u==="normal";if(c){var d=c.get("show"),h=f?s:fn(a.states[u]&&a.states[u].ignore,s);if(h||!fn(d,o)){var p=f?r:r&&r.states[u];p&&(p.ignore=!0),r&&M$(r,!0,u,c);continue}r||(r=new cs,e.setTextGuideLine(r),!f&&(s||!o)&&M$(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),M$(r,!1,u,c)}}if(r){Xt(r.style,n),r.style.fill=null;var v=i.get("showAbove"),g=e.textGuideLineConfig=e.textGuideLineConfig||{};g.showAbove=v||!1,r.buildPath=nFt}}function P5(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},r=0;r<os.length;r++){var a=os[r];n[a]=e.getModel([a,t])}return n}function Lye(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var a=r.label,i=a.getComputedTransform(),o=a.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,l=a.style.margin||0,u=o.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new uE(o,i):null;t.push({label:a,labelLine:r.labelLine,rect:u,localRect:o,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:i})}}return t}function Oye(e,t,n,r,a,i){var o=e.length;if(o<2)return;e.sort(function(S,C){return S.rect[t]-C.rect[t]});for(var s=0,l,u=!1,c=0;c<o;c++){var f=e[c],d=f.rect;l=d[t]-s,l<0&&(d[t]-=l,f.label[t]-=l,u=!0),s=d[t]+d[n]}var h=e[0],p=e[o-1],v,g;m(),v<0&&x(-v,.8),g<0&&x(g,.8),m(),y(v,g,1),y(g,v,-1),m(),v<0&&_(-v),g<0&&_(g);function m(){v=h.rect[t]-r,g=a-p.rect[t]-p.rect[n]}function y(S,C,k){if(S<0){var T=Math.min(C,-S);if(T>0){b(T*k,0,o);var I=T+S;I<0&&x(-I*k,1)}else x(-S*k,1)}}function b(S,C,k){S!==0&&(u=!0);for(var T=C;T<k;T++){var I=e[T],E=I.rect;E[t]+=S,I.label[t]+=S}}function x(S,C){for(var k=[],T=0,I=1;I<o;I++){var E=e[I-1].rect,A=Math.max(e[I].rect[t]-E[t]-E[n],0);k.push(A),T+=A}if(T){var N=Math.min(Math.abs(S)/T,C);if(S>0)for(var I=0;I<o-1;I++){var L=k[I]*N;b(L,0,I+1)}else for(var I=o-1;I>0;I--){var L=k[I-1]*N;b(-L,I,o)}}}function _(S){var C=S<0?-1:1;S=Math.abs(S);for(var k=Math.ceil(S/(o-1)),T=0;T<o-1;T++)if(C>0?b(k,0,T+1):b(-k,o-T-1,o),S-=k,S<=0)return}return u}function rFt(e,t,n,r){return Oye(e,"x","width",t,n)}function Pye(e,t,n,r){return Oye(e,"y","height",t,n)}function Fye(e){var t=[];e.sort(function(v,g){return g.priority-v.priority});var n=new xn(0,0,0,0);function r(v){if(!v.ignore){var g=v.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}v.ignore=!0}for(var a=0;a<e.length;a++){var i=e[a],o=i.axisAligned,s=i.localRect,l=i.transform,u=i.label,c=i.labelLine;n.copy(i.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=i.obb,d=!1,h=0;h<t.length;h++){var p=t[h];if(n.intersect(p.rect)){if(o&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new uE(p.localRect,p.transform)),f||(f=new uE(s,l)),f.intersect(p.obb)){d=!0;break}}}d?(r(u),c&&r(c)):(u.attr("ignore",i.defaultAttr.ignore),c&&c.attr("ignore",i.defaultAttr.labelGuideIgnore),t.push(i))}}function aFt(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function iFt(e,t){var n=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:aFt(r&&r.shape.points)}}var Lq=["align","verticalAlign","width","height","fontSize"],Do=new Af,$$=Vn(),oFt=Vn();function eT(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];t[a]!=null&&(e[a]=t[a])}}var tT=["x","y","rotation"],sFt=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,n,r,a,i){var o=a.style,s=a.__hostTarget,l=s.textConfig||{},u=a.getComputedTransform(),c=a.getBoundingRect().plain();xn.applyTransform(c,c,u),u?Do.setLocalTransform(u):(Do.x=Do.y=Do.rotation=Do.originX=Do.originY=0,Do.scaleX=Do.scaleY=1),Do.rotation=Vs(Do.rotation);var f=a.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();xn.applyTransform(d,d,h)}var p=d&&f.getTextGuideLine();this._labelList.push({label:a,labelLine:p,seriesModel:r,dataIndex:t,dataType:n,layoutOption:i,computedLayoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:p&&p.ignore,x:Do.x,y:Do.y,scaleX:Do.scaleX,scaleY:Do.scaleY,rotation:Do.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:a.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var n=this;this._chartViewList.push(t);var r=t.__model,a=r.get("labelLayout");(Yt(a)||Mn(a).length)&&t.group.traverse(function(i){if(i.ignore)return!0;var o=i.getTextContent(),s=sn(i);o&&!o.disableLabelLayout&&n._addLabel(s.dataIndex,s.dataType,r,o,a)})},e.prototype.updateLayoutConfig=function(t){var n=t.getWidth(),r=t.getHeight();function a(b,x){return function(){$q(b,x)}}for(var i=0;i<this._labelList.length;i++){var o=this._labelList[i],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;Yt(o.layoutOption)?c=o.layoutOption(iFt(o,l)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=St(c.x,n),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=St(c.y,r),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var p=$$(s);p.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var v=0;v<Lq.length;v++){var g=Lq[v];s.setStyle(g,c[g]!=null?c[g]:u.style[g])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var m=o.seriesModel;if(o.dataIndex!=null){var y=o.seriesModel.getData(o.dataType);m=y.getItemModel(o.dataIndex)}s.on("drag",a(l,m.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},e.prototype.layout=function(t){var n=t.getWidth(),r=t.getHeight(),a=Lye(this._labelList),i=sr(a,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=sr(a,function(l){return l.layoutOption.moveOverlap==="shiftY"});rFt(i,0,n),Pye(o,0,r);var s=sr(a,function(l){return l.layoutOption.hideOverlap});Fye(s)},e.prototype.processLabelsOverall=function(){var t=this;X(this._chartViewList,function(n){var r=n.__model,a=n.ignoreLabelLineUpdate,i=r.isAnimationEnabled();n.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!a,l=o.getTextContent();!s&&l&&(s=$$(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,r),i&&t._animateLabels(o,r)})})},e.prototype._updateLabelLine=function(t,n){var r=t.getTextContent(),a=sn(t),i=a.dataIndex;if(r&&i!=null){var o=n.getData(a.dataType),s=o.getItemModel(i),l={},u=o.getItemVisual(i,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");O5(t,P5(s),l),$q(t,f)}},e.prototype._animateLabels=function(t,n){var r=t.getTextContent(),a=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!Fm(t))){var i=$$(r),o=i.oldLayout,s=sn(t),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=n.getData(s.dataType);if(o){r.attr(o);var d=t.prevStates;d&&(Cn(d,"select")>=0&&r.attr(i.oldLayoutSelect),Cn(d,"emphasis")>=0&&r.attr(i.oldLayoutEmphasis)),Jn(r,u,n,l)}else if(r.attr(u),!b1(r).valueAnimation){var f=fn(r.style.opacity,1);r.style.opacity=0,Xr(r,{style:{opacity:f}},n,l)}if(i.oldLayout=u,r.states.select){var h=i.oldLayoutSelect={};eT(h,u,tT),eT(h,r.states.select,tT)}if(r.states.emphasis){var p=i.oldLayoutEmphasis={};eT(p,u,tT),eT(p,r.states.emphasis,tT)}A0e(r,l,c,n,n)}if(a&&!a.ignore&&!a.invisible){var i=oFt(a),o=i.oldLayout,v={points:a.shape.points};o?(a.attr({shape:o}),Jn(a,{shape:v},n)):(a.setShape(v),a.style.strokePercent=0,Xr(a,{style:{strokePercent:1}},n)),i.oldLayout=v}},e}(),L$=Vn();function lFt(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,n,r){var a=L$(n).labelManager;a||(a=L$(n).labelManager=new sFt),a.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,n,r){var a=L$(n).labelManager;r.updatedSeries.forEach(function(i){a.addLabelsOfSeries(n.getViewOfSeriesModel(i))}),a.updateLayoutConfig(n),a.layout(n),a.processLabelsOverall()})}var O$=Math.sin,P$=Math.cos,Bye=Math.PI,jp=Math.PI*2,uFt=180/Bye,Vye=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,n){this._add("M",t,n)},e.prototype.lineTo=function(t,n){this._add("L",t,n)},e.prototype.bezierCurveTo=function(t,n,r,a,i,o){this._add("C",t,n,r,a,i,o)},e.prototype.quadraticCurveTo=function(t,n,r,a){this._add("Q",t,n,r,a)},e.prototype.arc=function(t,n,r,a,i,o){this.ellipse(t,n,r,r,0,a,i,o)},e.prototype.ellipse=function(t,n,r,a,i,o,s,l){var u=s-o,c=!l,f=Math.abs(u),d=nh(f-jp)||(c?u>=jp:-u>=jp),h=u>0?u%jp:u%jp+jp,p=!1;d?p=!0:nh(f)?p=!1:p=h>=Bye==!!c;var v=t+r*P$(o),g=n+a*O$(o);this._start&&this._add("M",v,g);var m=Math.round(i*uFt);if(d){var y=1/this._p,b=(c?1:-1)*(jp-y);this._add("A",r,a,m,1,+c,t+r*P$(o+b),n+a*O$(o+b)),y>.01&&this._add("A",r,a,m,0,+c,v,g)}else{var x=t+r*P$(s),_=n+a*O$(s);this._add("A",r,a,m,+p,+c,x,_)}},e.prototype.rect=function(t,n,r,a){this._add("M",t,n),this._add("l",r,0),this._add("l",0,a),this._add("l",-r,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,n,r,a,i,o,s,l,u){for(var c=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}c.push(Math.round(h*f)/f)}this._d.push(t+c.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),F5="none",cFt=Math.round;function fFt(e){var t=e.fill;return t!=null&&t!==F5}function dFt(e){var t=e.stroke;return t!=null&&t!==F5}var _3=["lineCap","miterLimit","lineJoin"],hFt=ut(_3,function(e){return"stroke-"+e.toLowerCase()});function pFt(e,t,n,r){var a=t.opacity==null?1:t.opacity;if(n instanceof Ri){e("opacity",a);return}if(fFt(t)){var i=zw(t.fill);e("fill",i.color);var o=t.fillOpacity!=null?t.fillOpacity*i.opacity*a:i.opacity*a;o<1&&e("fill-opacity",o)}else e("fill",F5);if(dFt(t)){var s=zw(t.stroke);e("stroke",s.color);var l=t.strokeNoScale?n.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*a:s.opacity*a,f=t.strokeFirst;if(u!==1&&e("stroke-width",u),f&&e("paint-order",f?"stroke":"fill"),c<1&&e("stroke-opacity",c),t.lineDash){var d=T5(n),h=d[0],p=d[1];h&&(p=cFt(p||0),e("stroke-dasharray",h.join(",")),(p||r)&&e("stroke-dashoffset",p))}for(var v=0;v<_3.length;v++){var g=_3[v];if(t[g]!==sE[g]){var m=t[g]||sE[g];m&&e(hFt[v],m)}}}}var zye="http://www.w3.org/2000/svg",Wye="http://www.w3.org/1999/xlink",vFt="http://www.w3.org/2000/xmlns/",gFt="http://www.w3.org/XML/1998/namespace",Oq="ecmeta_";function Hye(e){return document.createElementNS(zye,e)}function oi(e,t,n,r,a){return{tag:e,attrs:n||{},children:r,text:a,key:t}}function mFt(e,t){var n=[];if(t)for(var r in t){var a=t[r],i=r;a!==!1&&(a!==!0&&a!=null&&(i+='="'+a+'"'),n.push(i))}return"<"+e+" "+n.join(" ")+">"}function yFt(e){return"</"+e+">"}function B5(e,t){t=t||{};var n=t.newline?`
`:"";function r(a){var i=a.children,o=a.tag,s=a.attrs,l=a.text;return mFt(o,s)+(o!=="style"?Uo(l):l||"")+(i?""+n+ut(i,function(u){return r(u)}).join(n)+n:"")+yFt(o)}return r(e)}function bFt(e,t,n){n=n||{};var r=n.newline?`
`:"",a=" {"+r,i=r+"}",o=ut(Mn(e),function(l){return l+a+ut(Mn(e[l]),function(u){return u+":"+e[l][u]+";"}).join(r)+i}).join(r),s=ut(Mn(t),function(l){return"@keyframes "+l+a+ut(Mn(t[l]),function(u){return u+a+ut(Mn(t[l][u]),function(c){var f=t[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(r)+i}).join(r)+i}).join(r);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(r)}function S3(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Pq(e,t,n,r){return oi("svg","root",{width:e,height:t,xmlns:zye,"xmlns:xlink":Wye,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+e+" "+t:!1},n)}var xFt=0;function Uye(){return xFt++}var Fq={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Jp="transform-origin";function wFt(e,t,n){var r=rt({},e.shape);rt(r,t),e.buildPath(n,r);var a=new Vye;return a.reset(Tge(e)),n.rebuildPath(a,1),a.generateStr(),a.getStr()}function _Ft(e,t){var n=t.originX,r=t.originY;(n||r)&&(e[Jp]=n+"px "+r+"px")}var SFt={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Gye(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function CFt(e,t,n){var r=e.shape.paths,a={},i,o;if(X(r,function(l){var u=S3(n.zrId);u.animation=!0,qN(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,d=Mn(c),h=d.length;if(h){o=d[h-1];var p=c[o];for(var v in p){var g=p[v];a[v]=a[v]||{d:""},a[v].d+=g.d||""}for(var m in f){var y=f[m].animation;y.indexOf(o)>=0&&(i=y)}}}),!!i){t.d=!1;var s=Gye(a,n);return i.replace(o,s)}}function Bq(e){return Dt(e)?Fq[e]?"cubic-bezier("+Fq[e]+")":U8(e)?e:"":""}function qN(e,t,n,r){var a=e.animators,i=a.length,o=[];if(e instanceof i5){var s=CFt(e,t,n);if(s)o.push(s);else if(!i)return}else if(!i)return;for(var l={},u=0;u<i;u++){var c=a[u],f=[c.getMaxTime()/1e3+"s"],d=Bq(c.getClip().easing),h=c.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),c.getLoop()&&f.push("infinite");var p=f.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function v(y){var b=y[1],x=b.length,_={},S={},C={},k="animation-timing-function";function T(oe,ae,me){for(var ve=oe.getTracks(),B=oe.getMaxTime(),re=0;re<ve.length;re++){var ge=ve[re];if(ge.needsAnimate()){var Ie=ge.keyframes,Ce=ge.propName;if(me&&(Ce=me(Ce)),Ce)for(var he=0;he<Ie.length;he++){var J=Ie[he],te=Math.round(J.time/B*100)+"%",xe=Bq(J.easing),Ee=J.rawValue;(Dt(Ee)||Kn(Ee))&&(ae[te]=ae[te]||{},ae[te][Ce]=J.rawValue,xe&&(ae[te][k]=xe))}}}}for(var I=0;I<x;I++){var E=b[I],A=E.targetName;A?A==="shape"&&T(E,S):!r&&T(E,_)}for(var N in _){var L={};Dge(L,e),rt(L,_[N]);var R=kge(L),D=_[N][k];C[N]=R?{transform:R}:{},_Ft(C[N],L),D&&(C[N][k]=D)}var P,O=!0;for(var N in S){C[N]=C[N]||{};var M=!P,D=S[N][k];M&&(P=new Gc);var W=P.len();P.reset(),C[N].d=wFt(e,S[N],P);var U=P.len();if(!M&&W!==U){O=!1;break}D&&(C[N][k]=D)}if(!O)for(var N in C)delete C[N].d;if(!r)for(var I=0;I<x;I++){var E=b[I],A=E.targetName;A==="style"&&T(E,C,function(ve){return SFt[ve]})}for(var V=Mn(C),H=!0,K,I=1;I<V.length;I++){var j=V[I-1],ne=V[I];if(C[j][Jp]!==C[ne][Jp]){H=!1;break}K=C[j][Jp]}if(H&&K){for(var N in C)C[N][Jp]&&delete C[N][Jp];t[Jp]=K}if(sr(V,function(oe){return Mn(C[oe]).length>0}).length){var Q=Gye(C,n);return Q+" "+y[0]+" both"}}for(var g in l){var s=v(l[g]);s&&o.push(s)}if(o.length){var m=n.zrId+"-cls-"+Uye();n.cssNodes["."+m]={animation:o.join(",")},t.class=m}}function TFt(e,t,n){if(!e.ignore)if(e.isSilent()){var r={"pointer-events":"none"};Vq(r,t,n)}else{var a=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},i=a.fill;if(!i){var o=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&s||o;l&&(i=LF(l))}var u=a.lineWidth;if(u){var c=!a.strokeNoScale&&e.transform?e.transform[0]:1;u=u/c}var r={cursor:"pointer"};i&&(r.fill=i),a.stroke&&(r.stroke=a.stroke),u&&(r["stroke-width"]=u),Vq(r,t,n)}}function Vq(e,t,n,r){var a=JSON.stringify(e),i=n.cssStyleCache[a];i||(i=n.zrId+"-cls-"+Uye(),n.cssStyleCache[a]=i,n.cssNodes["."+i+":hover"]=e),t.class=t.class?t.class+" "+i:i}var e_=Math.round;function Kye(e){return e&&Dt(e.src)}function jye(e){return e&&Yt(e.toDataURL)}function V5(e,t,n,r){pFt(function(a,i){var o=a==="fill"||a==="stroke";o&&Cge(i)?Xye(t,e,a,r):o&&G8(i)?qye(n,e,a,r):e[a]=i,o&&r.ssr&&i==="none"&&(e["pointer-events"]="visible")},t,n,!1),RFt(n,e,r)}function z5(e,t){var n=SNt(t);n&&(n.each(function(r,a){r!=null&&(e[(Oq+a).toLowerCase()]=r+"")}),t.isSilent()&&(e[Oq+"silent"]="true"))}function zq(e){return nh(e[0]-1)&&nh(e[1])&&nh(e[2])&&nh(e[3]-1)}function kFt(e){return nh(e[4])&&nh(e[5])}function W5(e,t,n){if(t&&!(kFt(t)&&zq(t))){var r=1e4;e.transform=zq(t)?"translate("+e_(t[4]*r)/r+" "+e_(t[5]*r)/r+")":KDt(t)}}function Wq(e,t,n){for(var r=e.points,a=[],i=0;i<r.length;i++)a.push(e_(r[i][0]*n)/n),a.push(e_(r[i][1]*n)/n);t.points=a.join(" ")}function Hq(e){return!e.smooth}function IFt(e){var t=ut(e,function(n){return typeof n=="string"?[n,n]:n});return function(n,r,a){for(var i=0;i<t.length;i++){var o=t[i],s=n[o[0]];s!=null&&(r[o[1]]=e_(s*a)/a)}}}var EFt={circle:[IFt(["cx","cy","r"])],polyline:[Wq,Hq],polygon:[Wq,Hq]};function AFt(e){for(var t=e.animators,n=0;n<t.length;n++)if(t[n].targetName==="shape")return!0;return!1}function Yye(e,t){var n=e.style,r=e.shape,a=EFt[e.type],i={},o=t.animation,s="path",l=e.style.strokePercent,u=t.compress&&Tge(e)||4;if(a&&!t.willUpdate&&!(a[1]&&!a[1](r))&&!(o&&AFt(e))&&!(l<1)){s=e.type;var c=Math.pow(10,u);a[0](r,i,c)}else{var f=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;f&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var h=d.getVersion(),p=e,v=p.__svgPathBuilder;(p.__svgPathVersion!==h||!v||l!==p.__svgPathStrokePercent)&&(v||(v=p.__svgPathBuilder=new Vye),v.reset(u),d.rebuildPath(v,l),v.generateStr(),p.__svgPathVersion=h,p.__svgPathStrokePercent=l),i.d=v.getStr()}return W5(i,e.transform),V5(i,n,e,t),z5(i,e),t.animation&&qN(e,i,t),t.emphasis&&TFt(e,i,t),oi(s,e.id+"",i)}function DFt(e,t){var n=e.style,r=n.image;if(r&&!Dt(r)&&(Kye(r)?r=r.src:jye(r)&&(r=r.toDataURL())),!!r){var a=n.x||0,i=n.y||0,o=n.width,s=n.height,l={href:r,width:o,height:s};return a&&(l.x=a),i&&(l.y=i),W5(l,e.transform),V5(l,n,e,t),z5(l,e),t.animation&&qN(e,l,t),oi("image",e.id+"",l)}}function NFt(e,t){var n=e.style,r=n.text;if(r!=null&&(r+=""),!(!r||isNaN(n.x)||isNaN(n.y))){var a=n.font||Fh,i=n.x||0,o=YDt(n.y||0,_N(a),n.textBaseline),s=jDt[n.textAlign]||n.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(n0e(n)){var u="",c=n.fontStyle,f=t0e(n.fontSize);if(!parseFloat(f))return;var d=n.fontFamily||tge,h=n.fontWeight;u+="font-size:"+f+";font-family:"+d+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),h&&h!=="normal"&&(u+="font-weight:"+h+";"),l.style=u}else l.style="font: "+a;return r.match(/\s/)&&(l["xml:space"]="preserve"),i&&(l.x=i),o&&(l.y=o),W5(l,e.transform),V5(l,n,e,t),z5(l,e),t.animation&&qN(e,l,t),oi("text",e.id+"",l,void 0,r)}}function Uq(e,t){if(e instanceof An)return Yye(e,t);if(e instanceof Ri)return DFt(e,t);if(e instanceof ky)return NFt(e,t)}function RFt(e,t,n){var r=e.style;if(XDt(r)){var a=qDt(e),i=n.shadowCache,o=i[a];if(!o){var s=e.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,f=r.shadowOffsetY||0,d=r.shadowBlur,h=zw(r.shadowColor),p=h.opacity,v=h.color,g=d/2/l,m=d/2/u,y=g+" "+m;o=n.zrId+"-s"+n.shadowIdx++,n.defs[o]=oi("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[oi("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:y,"flood-color":v,"flood-opacity":p})]),i[a]=o}t.filter=wN(o)}}function Xye(e,t,n,r){var a=e[n],i,o={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(_ge(a))i="linearGradient",o.x1=a.x,o.y1=a.y,o.x2=a.x2,o.y2=a.y2;else if(Sge(a))i="radialGradient",o.cx=fn(a.x,.5),o.cy=fn(a.y,.5),o.r=fn(a.r,.5);else return;for(var s=a.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=OF(s[u].offset)*100+"%",d=s[u].color,h=zw(d),p=h.color,v=h.opacity,g={offset:f};g["stop-color"]=p,v<1&&(g["stop-opacity"]=v),l.push(oi("stop",u+"",g))}var m=oi(i,"",o,l),y=B5(m),b=r.gradientCache,x=b[y];x||(x=r.zrId+"-g"+r.gradientIdx++,b[y]=x,o.id=x,r.defs[x]=oi(i,x,o,l)),t[n]=wN(x)}function qye(e,t,n,r){var a=e.style[n],i=e.getBoundingRect(),o={},s=a.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(wge(a)){var d=a.imageWidth,h=a.imageHeight,p=void 0,v=a.image;if(Dt(v)?p=v:Kye(v)?p=v.src:jye(v)&&(p=v.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";is(d,g),is(h,g)}else if(d==null||h==null){var m=function(I,E){if(I){var A=I.elm,N=d||E.width,L=h||E.height;I.tag==="pattern"&&(u?(L=1,N/=i.width):c&&(N=1,L/=i.height)),I.attrs.width=N,I.attrs.height=L,A&&(A.setAttribute("width",N),A.setAttribute("height",L))}},y=Z8(p,null,e,function(I){l||m(S,I),m(f,I)});y&&y.width&&y.height&&(d=d||y.width,h=h||y.height)}f=oi("image","img",{href:p,width:d,height:h}),o.width=d,o.height=h}else a.svgElement&&(f=en(a.svgElement),o.width=a.svgWidth,o.height=a.svgHeight);if(f){var b,x;l?b=x=1:u?(x=1,b=o.width/i.width):c?(b=1,x=o.height/i.height):o.patternUnits="userSpaceOnUse",b!=null&&!isNaN(b)&&(o.width=b),x!=null&&!isNaN(x)&&(o.height=x);var _=kge(a);_&&(o.patternTransform=_);var S=oi("pattern","",o,[f]),C=B5(S),k=r.patternCache,T=k[C];T||(T=r.zrId+"-p"+r.patternIdx++,k[C]=T,o.id=T,S=r.defs[T]=oi("pattern",T,o,[f])),t[n]=wN(T)}}function MFt(e,t,n){var r=n.clipPathCache,a=n.defs,i=r[e.id];if(!i){i=n.zrId+"-c"+n.clipPathIdx++;var o={id:i};r[e.id]=i,a[i]=oi("clipPath",i,o,[Yye(e,n)])}t["clip-path"]=wN(i)}function Gq(e){return document.createTextNode(e)}function dv(e,t,n){e.insertBefore(t,n)}function Kq(e,t){e.removeChild(t)}function jq(e,t){e.appendChild(t)}function Zye(e){return e.parentNode}function Jye(e){return e.nextSibling}function F$(e,t){e.textContent=t}var Yq=58,$Ft=120,LFt=oi("","");function C3(e){return e===void 0}function sc(e){return e!==void 0}function OFt(e,t,n){for(var r={},a=t;a<=n;++a){var i=e[a].key;i!==void 0&&(r[i]=a)}return r}function Wb(e,t){var n=e.key===t.key,r=e.tag===t.tag;return r&&n}function t_(e){var t,n=e.children,r=e.tag;if(sc(r)){var a=e.elm=Hye(r);if(H5(LFt,e),st(n))for(t=0;t<n.length;++t){var i=n[t];i!=null&&jq(a,t_(i))}else sc(e.text)&&!Jt(e.text)&&jq(a,Gq(e.text))}else e.elm=Gq(e.text);return e.elm}function Qye(e,t,n,r,a){for(;r<=a;++r){var i=n[r];i!=null&&dv(e,t_(i),t)}}function kE(e,t,n,r){for(;n<=r;++n){var a=t[n];if(a!=null)if(sc(a.tag)){var i=Zye(a.elm);Kq(i,a.elm)}else Kq(e,a.elm)}}function H5(e,t){var n,r=t.elm,a=e&&e.attrs||{},i=t.attrs||{};if(a!==i){for(n in i){var o=i[n],s=a[n];s!==o&&(o===!0?r.setAttribute(n,""):o===!1?r.removeAttribute(n):n==="style"?r.style.cssText=o:n.charCodeAt(0)!==$Ft?r.setAttribute(n,o):n==="xmlns:xlink"||n==="xmlns"?r.setAttributeNS(vFt,n,o):n.charCodeAt(3)===Yq?r.setAttributeNS(gFt,n,o):n.charCodeAt(5)===Yq?r.setAttributeNS(Wye,n,o):r.setAttribute(n,o))}for(n in a)n in i||r.removeAttribute(n)}}function PFt(e,t,n){for(var r=0,a=0,i=t.length-1,o=t[0],s=t[i],l=n.length-1,u=n[0],c=n[l],f,d,h,p;r<=i&&a<=l;)o==null?o=t[++r]:s==null?s=t[--i]:u==null?u=n[++a]:c==null?c=n[--l]:Wb(o,u)?(om(o,u),o=t[++r],u=n[++a]):Wb(s,c)?(om(s,c),s=t[--i],c=n[--l]):Wb(o,c)?(om(o,c),dv(e,o.elm,Jye(s.elm)),o=t[++r],c=n[--l]):Wb(s,u)?(om(s,u),dv(e,s.elm,o.elm),s=t[--i],u=n[++a]):(C3(f)&&(f=OFt(t,r,i)),d=f[u.key],C3(d)?dv(e,t_(u),o.elm):(h=t[d],h.tag!==u.tag?dv(e,t_(u),o.elm):(om(h,u),t[d]=void 0,dv(e,h.elm,o.elm))),u=n[++a]);(r<=i||a<=l)&&(r>i?(p=n[l+1]==null?null:n[l+1].elm,Qye(e,p,n,a,l)):kE(e,t,r,i))}function om(e,t){var n=t.elm=e.elm,r=e.children,a=t.children;e!==t&&(H5(e,t),C3(t.text)?sc(r)&&sc(a)?r!==a&&PFt(n,r,a):sc(a)?(sc(e.text)&&F$(n,""),Qye(n,null,a,0,a.length-1)):sc(r)?kE(n,r,0,r.length-1):sc(e.text)&&F$(n,""):e.text!==t.text&&(sc(r)&&kE(n,r,0,r.length-1),F$(n,t.text)))}function FFt(e,t){if(Wb(e,t))om(e,t);else{var n=e.elm,r=Zye(n);t_(t),r!==null&&(dv(r,t.elm,Jye(n)),kE(r,[e],0,0))}return t}var BFt=0,VFt=function(){function e(t,n,r){if(this.type="svg",this.refreshHover=Xq(),this.configLayer=Xq(),this.storage=n,this._opts=r=rt({},r),this.root=t,this._id="zr"+BFt++,this._oldVNode=Pq(r.width,r.height),t&&!r.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=Hye("svg");H5(null,this._oldVNode),a.appendChild(i),t.appendChild(a)}this.resize(r.width,r.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",FFt(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return Uq(t,S3(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var n=this.storage.getDisplayList(!0),r=this._width,a=this._height,i=S3(this._id);i.animation=t.animation,i.willUpdate=t.willUpdate,i.compress=t.compress,i.emphasis=t.emphasis,i.ssr=this._opts.ssr;var o=[],s=this._bgVNode=zFt(r,a,this._backgroundColor,i);s&&o.push(s);var l=t.compress?null:this._mainVNode=oi("g","main",{},[]);this._paintList(n,i,l?l.children:o),l&&o.push(l);var u=ut(Mn(i.defs),function(d){return i.defs[d]});if(u.length&&o.push(oi("defs","defs",{},u)),t.animation){var c=bFt(i.cssNodes,i.cssAnims,{newline:!0});if(c){var f=oi("style","stl",{},[],c);o.push(f)}}return Pq(r,a,o,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},B5(this.renderToVNode({animation:fn(t.cssAnimation,!0),emphasis:fn(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:fn(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,n,r){for(var a=t.length,i=[],o=0,s,l,u=0,c=0;c<a;c++){var f=t[c];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,p=l&&l.length||0,v=void 0;for(v=Math.max(h-1,p-1);v>=0&&!(d&&l&&d[v]===l[v]);v--);for(var g=p-1;g>v;g--)o--,s=i[o-1];for(var m=v+1;m<h;m++){var y={};MFt(d[m],y,n);var b=oi("g","clip-g-"+u++,y,[]);(s?s.children:r).push(b),i[o++]=b,s=b}l=d;var x=Uq(f,n);x&&(s?s.children:r).push(x)}}},e.prototype.resize=function(t,n){var r=this._opts,a=this.root,i=this._viewport;if(t!=null&&(r.width=t),n!=null&&(r.height=n),a&&i&&(i.style.display="none",t=vm(a,0,r),n=vm(a,1,r),i.style.display=""),this._width!==t||this._height!==n){if(this._width=t,this._height=n,i){var o=i.style;o.width=t+"px",o.height=n+"px"}if(G8(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",n));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",n))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var n=this.renderToString(),r="data:image/svg+xml;";return t?(n=JDt(n),n&&r+"base64,"+n):r+"charset=UTF-8,"+encodeURIComponent(n)},e}();function Xq(e){return function(){}}function zFt(e,t,n,r){var a;if(n&&n!=="none")if(a=oi("rect","bg",{width:e,height:t,x:"0",y:"0"}),Cge(n))Xye({fill:n},a.attrs,"fill",r);else if(G8(n))qye({style:{fill:n},dirty:ba,getBoundingRect:function(){return{width:e,height:t}}},a.attrs,"fill",r);else{var i=zw(n),o=i.color,s=i.opacity;a.attrs.fill=o,s<1&&(a.attrs["fill-opacity"]=s)}return a}function WFt(e){e.registerPainter("svg",VFt)}function qq(e,t,n){var r=Bh.createCanvas(),a=t.getWidth(),i=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=i+"px",r.setAttribute("data-zr-dom-id",e)),r.width=a*n,r.height=i*n,r}var B$=function(e){Le(t,e);function t(n,r,a){var i=e.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var o;a=a||iE,typeof n=="string"?o=qq(n,r,a):Jt(n)&&(o=n,n=o.id),i.id=n,i.dom=o;var s=o.style;return s&&(sge(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),i.painter=r,i.dpr=a,i}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=qq("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,r,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new xn(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var b=new xn(0,0,0,0);b.copy(y),o.push(b)}else{for(var x=!1,_=1/0,S=0,C=0;C<o.length;++C){var k=o[C];if(k.intersect(y)){var T=new xn(0,0,0,0);T.copy(k),T.union(y),o[C]=T,x=!0;break}else if(l){u.copy(y),u.union(k);var I=y.width*y.height,E=k.width*k.height,A=u.width*u.height,N=A-I-E;N<_&&(_=N,S=C)}}if(l&&(o[S].union(y),x=!0),!x){var b=new xn(0,0,0,0);b.copy(y),o.push(b)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=n[f];if(d){var h=d.shouldBePainted(a,i,!0,!0),p=d.__isRendered&&(d.__dirty&Os||!h)?d.getPrevPaintRect():null;p&&c(p);var v=h&&(d.__dirty&Os||!d.__isRendered)?d.getPaintRect():null;v&&c(v)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=r[f],h=d&&d.shouldBePainted(a,i,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var p=d.getPrevPaintRect();p&&c(p)}}var g;do{g=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var m=f+1;m<o.length;)o[f].intersect(o[m])?(g=!0,o[f].union(o[m]),o.splice(m,1)):m++;f++}}while(g);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,r){var a=this.dpr,i=this.dom,o=i.style,s=this.domBack;o&&(o.width=n+"px",o.height=r+"px"),i.width=n*a,i.height=r*a,s&&(s.width=n*a,s.height=r*a,a!==1&&this.ctxBack.scale(a,a))},t.prototype.clear=function(n,r,a){var i=this.dom,o=this.ctx,s=i.width,l=i.height;r=r||this.clearColor;var u=this.motionBlur&&!n,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/f,l/f));var h=this.domBack;function p(v,g,m,y){if(o.clearRect(v,g,m,y),r&&r!=="transparent"){var b=void 0;if(yN(r)){var x=r.global||r.__width===m&&r.__height===y;b=x&&r.__canvasGradient||p3(o,r,{x:0,y:0,width:m,height:y}),r.__canvasGradient=b,r.__width=m,r.__height=y}else oDt(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,b=v3(o,r,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));o.save(),o.fillStyle=b||r,o.fillRect(v,g,m,y),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(h,v,g,m,y),o.restore())}!a||u?p(0,0,s,l):a.length&&X(a,function(v){p(v.x*f,v.y*f,v.width*f,v.height*f)})},t}(Gl),Zq=1e5,Yp=314159,nT=.01,HFt=.001;function UFt(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function GFt(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var KFt=function(){function e(t,n,r,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=rt({},r||{}),this.dpr=r.devicePixelRatio||iE,this._singleCanvas=i,this.root=t;var o=t.style;o&&(sge(t),t.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=t,f=c.width,d=c.height;r.width!=null&&(f=r.width),r.height!=null&&(d=r.height),this.dpr=r.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new B$(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[Yp]=h,h.zlevel=Yp,s.push(Yp),this._domRoot=t}else{this._width=vm(t,0,r),this._height=vm(t,1,r);var u=this._domRoot=GFt(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,t,this._redrawId);for(var i=0;i<a.length;i++){var o=a[i],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=i===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var n=t.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,o=0;o<n;o++){var s=t[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(Zq)),i||(i=r.ctx,i.save()),Nv(i,s,a,o===n-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(Zq)},e.prototype.paintOne=function(t,n){Pme(t,n)},e.prototype._paintList=function(t,n,r,a){if(this._redrawId===a){r=r||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,n,r),o=i.finished,s=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;QI(function(){l._paintList(t,n,r,a)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(Yp).ctx,n=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,n,r),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,n,r)})},e.prototype._doPaintList=function(t,n,r){for(var a=this,i=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&i.push(u)}for(var c=!0,f=!1,d=function(v){var g=i[v],m=g.ctx,y=o&&g.createRepaintRects(t,n,h._width,h._height),b=r?g.__startIndex:g.__drawIndex,x=!r&&g.incremental&&Date.now,_=x&&Date.now(),S=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,S,y);else if(b===g.__startIndex){var C=t[b];(!C.incremental||!C.notClear||r)&&g.clear(!1,S,y)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=g.__startIndex);var k,T=function(N){var L={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(k=b;k<g.__endIndex;k++){var R=t[k];if(R.__inHover&&(f=!0),a._doPaintEl(R,g,o,N,L,k===g.__endIndex-1),x){var D=Date.now()-_;if(D>15)break}}L.prevElClipPaths&&m.restore()};if(y)if(y.length===0)k=g.__endIndex;else for(var I=h.dpr,E=0;E<y.length;++E){var A=y[E];m.save(),m.beginPath(),m.rect(A.x*I,A.y*I,A.width*I,A.height*I),m.clip(),T(A),m.restore()}else m.save(),T(),m.restore();g.__drawIndex=k,g.__drawIndex<g.__endIndex&&(c=!1)},h=this,p=0;p<i.length;p++)d(p);return Nn.wxa&&X(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:c,needsRefreshHover:f}},e.prototype._doPaintEl=function(t,n,r,a,i,o){var s=n.ctx;if(r){var l=t.getPaintRect();(!a||l&&l.intersect(a))&&(Nv(s,t,i,o),t.setPrevPaintRect(l))}else Nv(s,t,i,o)},e.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Yp);var r=this._layers[t];return r||(r=new B$("zr_"+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?mn(r,this._layerConfig[t],!0):this._layerConfig[t-nT]&&mn(r,this._layerConfig[t-nT],!0),n&&(r.virtual=n),this.insertLayer(t,r),r.initContext()),r},e.prototype.insertLayer=function(t,n){var r=this._layers,a=this._zlevelList,i=a.length,o=this._domRoot,s=null,l=-1;if(!r[t]&&UFt(n)){if(i>0&&t>a[0]){for(l=0;l<i-1&&!(a[l]<t&&a[l+1]>t);l++);s=r[a[l]]}if(a.splice(l+1,0,t),r[t]=n,!n.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(n.dom,u.nextSibling):o.appendChild(n.dom)}else o.firstChild?o.insertBefore(n.dom,o.firstChild):o.appendChild(n.dom);n.painter||(n.painter=this)}},e.prototype.eachLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a];t.call(n,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a],o=this._layers[i];o.__builtin__&&t.call(n,o,i)}},e.prototype.eachOtherLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var i=r[a],o=this._layers[i];o.__builtin__||t.call(n,o,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function n(f){i&&(i.__endIndex!==f&&(i.__dirty=!0),i.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var a=t[r];if(a.zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,o=0,s,l;for(l=0;l<t.length;l++){var a=t[l],u=a.zlevel,c=void 0;s!==u&&(s=u,o=0),a.incremental?(c=this.getLayer(u+HFt,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?nT:0),this._needsManuallyCompositing),c.__builtin__||P8("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,n(l),i=c),a.__dirty&Os&&!a.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,X(this._layers,function(n){n.setUnpainted()})},e.prototype.configLayer=function(t,n){if(n){var r=this._layerConfig;r[t]?mn(r[t],n,!0):r[t]=n;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===t||i===t+nT){var o=this._layers[i];mn(o,r[t],!0)}}}},e.prototype.delLayer=function(t){var n=this._layers,r=this._zlevelList,a=n[t];a&&(a.dom.parentNode.removeChild(a.dom),delete n[t],r.splice(Cn(r,t),1))},e.prototype.resize=function(t,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts,i=this.root;if(t!=null&&(a.width=t),n!=null&&(a.height=n),t=vm(i,0,a),n=vm(i,1,a),r.style.display="",this._width!==t||n!==this._height){r.style.width=t+"px",r.style.height=n+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(Yp).resize(t,n)}return this},e.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Yp].dom;var n=new B$("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var r=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=n.dom.width,i=n.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,a,i):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Nv(r,c,o,l===u-1)}return n.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function jFt(e){e.registerPainter("canvas",KFt)}var YFt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return vd(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var r=new an,a=Ma("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(a),a.setStyle(n.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=n.itemHeight*.8,u=Ma(s,(n.itemWidth-l)/2,(n.itemHeight-l)/2,l,l,n.itemStyle.fill);r.add(u),u.setStyle(n.itemStyle);var c=n.iconRotate==="inherit"?o:n.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([n.itemWidth/2,n.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Vr);function Ny(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var a=Ey(e,t,n[0]);return a!=null?a+"":null}else if(r){for(var i=[],o=0;o<n.length;o++)i.push(Ey(e,t,n[o]));return i.join(" ")}}function e1e(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!st(t))return t+"";for(var r=[],a=0;a<n.length;a++){var i=e.getDimensionIndex(n[a]);i>=0&&r.push(t[i])}return r.join(" ")}var yC=function(e){Le(t,e);function t(n,r,a,i){var o=e.call(this)||this;return o.updateData(n,r,a,i),o}return t.prototype._createSymbol=function(n,r,a,i,o){this.removeAll();var s=Ma(n,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=XFt,this._symbolType=n,this.add(s)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){qf(this.childAt(0))},t.prototype.downplay=function(){Zf(this.childAt(0))},t.prototype.setZ=function(n,r){var a=this.childAt(0);a.zlevel=n,a.z=r},t.prototype.setDraggable=function(n,r){var a=this.childAt(0);a.draggable=n,a.cursor=!r&&n?"move":a.cursor},t.prototype.updateData=function(n,r,a,i){this.silent=!1;var o=n.getItemVisual(r,"symbol")||"circle",s=n.hostModel,l=t.getSymbolSize(n,r),u=o!==this._symbolType,c=i&&i.disableAnimation;if(u){var f=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,n,r,l,f)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};c?d.attr(h):Jn(d,h,s,r),Fu(d)}if(this._updateCommon(n,r,l,a,i),u){var d=this.childAt(0);if(!c){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Xr(d,h,s,r)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,r,a,i,o){var s=this.childAt(0),l=n.hostModel,u,c,f,d,h,p,v,g,m;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,f=i.selectItemStyle,d=i.focus,h=i.blurScope,v=i.labelStatesModels,g=i.hoverScale,m=i.cursorStyle,p=i.emphasisDisabled),!i||n.hasItemOption){var y=i&&i.itemModel?i.itemModel:n.getItemModel(r),b=y.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),d=b.get("focus"),h=b.get("blurScope"),p=b.get("disabled"),v=vi(y),g=b.getShallow("scale"),m=y.getShallow("cursor")}var x=n.getItemVisual(r,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var _=i0(n.getItemVisual(r,"symbolOffset"),a);_&&(s.x=_[0],s.y=_[1]),m&&s.attr("cursor",m);var S=n.getItemVisual(r,"style"),C=S.fill;if(s instanceof Ri){var k=s.style;s.useStyle(rt({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},S))}else s.__isEmptyBrush?s.useStyle(rt({},S)):s.useStyle(S),s.style.decal=null,s.setColor(C,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var T=n.getItemVisual(r,"liftZ"),I=this._z2;T!=null?I==null&&(this._z2=s.z2,s.z2+=T):I!=null&&(s.z2=I,this._z2=null);var E=o&&o.useNameLabel;Yi(s,v,{labelFetcher:l,labelDataIndex:r,defaultText:A,inheritColor:C,defaultOpacity:S.opacity});function A(R){return E?n.getName(R):Ny(n,R)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var N=s.ensureState("emphasis");N.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var L=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;N.scaleX=this._sizeX*L,N.scaleY=this._sizeY*L,this.setSymbolScale(1),la(this,d,h,p)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,r,a){var i=this.childAt(0),o=sn(this).dataIndex,s=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var l=i.getTextContent();l&&zh(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();zh(i,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:n,removeOpt:s})},t.getSymbolSize=function(n,r){return k1(n.getItemVisual(r,"symbolSize"))},t}(an);function XFt(e,t){this.parent.drift(e,t)}function V$(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function Jq(e){return e!=null&&!Jt(e)&&(e={isIgnore:e}),e||{}}function Qq(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:vi(t),cursorStyle:t.get("cursor")}}var bC=function(){function e(t){this.group=new an,this._SymbolCtor=t||yC}return e.prototype.updateData=function(t,n){this._progressiveEls=null,n=Jq(n);var r=this.group,a=t.hostModel,i=this._data,o=this._SymbolCtor,s=n.disableAnimation,l=Qq(t),u={disableAnimation:s},c=n.getSymbolPoint||function(f){return t.getItemLayout(f)};i||r.removeAll(),t.diff(i).add(function(f){var d=c(f);if(V$(t,d,f,n)){var h=new o(t,f,l,u);h.setPosition(d),t.setItemGraphicEl(f,h),r.add(h)}}).update(function(f,d){var h=i.getItemGraphicEl(d),p=c(f);if(!V$(t,p,f,n)){r.remove(h);return}var v=t.getItemVisual(f,"symbol")||"circle",g=h&&h.getSymbolType&&h.getSymbolType();if(!h||g&&g!==v)r.remove(h),h=new o(t,f,l,u),h.setPosition(p);else{h.updateData(t,f,l,u);var m={x:p[0],y:p[1]};s?h.attr(m):Jn(h,m,a)}r.add(h),t.setItemGraphicEl(f,h)}).remove(function(f){var d=i.getItemGraphicEl(f);d&&d.fadeOut(function(){r.remove(d)},a)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(r,a){var i=t._getSymbolPoint(a);r.setPosition(i),r.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Qq(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n,r){this._progressiveEls=[],r=Jq(r);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=n.getItemLayout(i);if(V$(n,o,i,r)){var s=new this._SymbolCtor(n,i,this._seriesScope);s.traverse(a),s.setPosition(o),this.group.add(s),n.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(t){pp(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var n=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(a){a.fadeOut(function(){n.remove(a)},r.hostModel)}):n.removeAll()},e}();function t1e(e,t,n){var r=e.getBaseAxis(),a=e.getOtherAxis(r),i=qFt(a,n),o=r.dim,s=a.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=ut(e.dimensions,function(p){return t.mapDimension(p)}),d=!1,h=t.getCalculationInfo("stackResultDimension");return Hh(t,f[0])&&(d=!0,f[0]=h),Hh(t,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function qFt(e,t){var n=0,r=e.scale.getExtent();return t==="start"?n=r[0]:t==="end"?n=r[1]:Kn(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function n1e(e,t,n,r){var a=NaN;e.stacked&&(a=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(a)&&(a=e.valueStart);var i=e.baseDataOffset,o=[];return o[i]=n.get(e.baseDim,r),o[1-i]=a,t.dataToPoint(o)}function ZFt(e,t){var n=[];return t.diff(e).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,a){n.push({cmd:"=",idx:a,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function JFt(e,t,n,r,a,i,o,s){for(var l=ZFt(e,t),u=[],c=[],f=[],d=[],h=[],p=[],v=[],g=t1e(a,t,o),m=e.getLayout("points")||[],y=t.getLayout("points")||[],b=0;b<l.length;b++){var x=l[b],_=!0,S=void 0,C=void 0;switch(x.cmd){case"=":S=x.idx*2,C=x.idx1*2;var k=m[S],T=m[S+1],I=y[C],E=y[C+1];(isNaN(k)||isNaN(T))&&(k=I,T=E),u.push(k,T),c.push(I,E),f.push(n[S],n[S+1]),d.push(r[C],r[C+1]),v.push(t.getRawIndex(x.idx1));break;case"+":var A=x.idx,N=g.dataDimsForPoint,L=a.dataToPoint([t.get(N[0],A),t.get(N[1],A)]);C=A*2,u.push(L[0],L[1]),c.push(y[C],y[C+1]);var R=n1e(g,a,t,A);f.push(R[0],R[1]),d.push(r[C],r[C+1]),v.push(t.getRawIndex(A));break;case"-":_=!1}_&&(h.push(x),p.push(p.length))}p.sort(function(j,ne){return v[j]-v[ne]});for(var D=u.length,P=bc(D),O=bc(D),M=bc(D),W=bc(D),U=[],b=0;b<p.length;b++){var V=p[b],H=b*2,K=V*2;P[H]=u[K],P[H+1]=u[K+1],O[H]=c[K],O[H+1]=c[K+1],M[H]=f[K],M[H+1]=f[K+1],W[H]=d[K],W[H+1]=d[K+1],U[b]=h[V]}return{current:P,next:O,stackedOnCurrent:M,stackedOnNext:W,status:U}}var Id=Math.min,Ed=Math.max;function qv(e,t){return isNaN(e)||isNaN(t)}function T3(e,t,n,r,a,i,o,s,l){for(var u,c,f,d,h,p,v=n,g=0;g<r;g++){var m=t[v*2],y=t[v*2+1];if(v>=a||v<0)break;if(qv(m,y)){if(l){v+=i;continue}break}if(v===n)e[i>0?"moveTo":"lineTo"](m,y),f=m,d=y;else{var b=m-u,x=y-c;if(b*b+x*x<.5){v+=i;continue}if(o>0){for(var _=v+i,S=t[_*2],C=t[_*2+1];S===m&&C===y&&g<r;)g++,_+=i,v+=i,S=t[_*2],C=t[_*2+1],m=t[v*2],y=t[v*2+1],b=m-u,x=y-c;var k=g+1;if(l)for(;qv(S,C)&&k<r;)k++,_+=i,S=t[_*2],C=t[_*2+1];var T=.5,I=0,E=0,A=void 0,N=void 0;if(k>=r||qv(S,C))h=m,p=y;else{I=S-u,E=C-c;var L=m-u,R=S-m,D=y-c,P=C-y,O=void 0,M=void 0;if(s==="x"){O=Math.abs(L),M=Math.abs(R);var W=I>0?1:-1;h=m-W*O*o,p=y,A=m+W*M*o,N=y}else if(s==="y"){O=Math.abs(D),M=Math.abs(P);var U=E>0?1:-1;h=m,p=y-U*O*o,A=m,N=y+U*M*o}else O=Math.sqrt(L*L+D*D),M=Math.sqrt(R*R+P*P),T=M/(M+O),h=m-I*o*(1-T),p=y-E*o*(1-T),A=m+I*o*T,N=y+E*o*T,A=Id(A,Ed(S,m)),N=Id(N,Ed(C,y)),A=Ed(A,Id(S,m)),N=Ed(N,Id(C,y)),I=A-m,E=N-y,h=m-I*O/M,p=y-E*O/M,h=Id(h,Ed(u,m)),p=Id(p,Ed(c,y)),h=Ed(h,Id(u,m)),p=Ed(p,Id(c,y)),I=m-h,E=y-p,A=m+I*M/O,N=y+E*M/O}e.bezierCurveTo(f,d,h,p,m,y),f=A,d=N}else e.lineTo(m,y)}u=m,c=y,v+=i}return g}var r1e=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),QFt=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new r1e},t.prototype.buildPath=function(n,r){var a=r.points,i=0,o=a.length/2;if(r.connectNulls){for(;o>0&&qv(a[o*2-2],a[o*2-1]);o--);for(;i<o&&qv(a[i*2],a[i*2+1]);i++);}for(;i<o;)i+=T3(n,a,i,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,o=Gc.CMD,s,l,u=r==="x",c=[],f=0;f<i.length;){var d=i[f++],h=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0;switch(d){case o.M:s=i[f++],l=i[f++];break;case o.L:if(h=i[f++],p=i[f++],b=u?(n-s)/(h-s):(n-l)/(p-l),b<=1&&b>=0){var x=u?(p-l)*b+l:(h-s)*b+s;return u?[n,x]:[x,n]}s=h,l=p;break;case o.C:h=i[f++],p=i[f++],v=i[f++],g=i[f++],m=i[f++],y=i[f++];var _=u?tE(s,h,v,m,n,c):tE(l,p,g,y,n,c);if(_>0)for(var S=0;S<_;S++){var C=c[S];if(C<=1&&C>=0){var x=u?Qa(l,p,g,y,C):Qa(s,h,v,m,C);return u?[n,x]:[x,n]}}s=m,l=y;break}}},t}(An),e3t=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(r1e),a1e=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new e3t},t.prototype.buildPath=function(n,r){var a=r.points,i=r.stackedOnPoints,o=0,s=a.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&qv(a[s*2-2],a[s*2-1]);s--);for(;o<s&&qv(a[o*2],a[o*2+1]);o++);}for(;o<s;){var u=T3(n,a,o,s,s,1,r.smooth,l,r.connectNulls);T3(n,i,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,n.closePath()}},t}(An);function i1e(e,t,n,r,a){var i=e.getArea(),o=i.x,s=i.y,l=i.width,u=i.height,c=n.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new Bn({shape:{x:o,y:s,width:l,height:u}});if(t){var d=e.getBaseAxis(),h=d.isHorizontal(),p=d.inverse;h?(p&&(f.shape.x+=l),f.shape.width=0):(p||(f.shape.y+=u),f.shape.height=0);var v=Yt(a)?function(g){a(g,f)}:null;Xr(f,{shape:{width:l,height:u,x:o,y:s}},n,null,r,v)}return f}function o1e(e,t,n){var r=e.getArea(),a=ha(r.r0,1),i=ha(r.r,1),o=new ss({shape:{cx:ha(e.cx,1),cy:ha(e.cy,1),r0:a,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=a,Xr(o,{shape:{endAngle:r.endAngle,r:i}},n)}return o}function xC(e,t,n,r,a){if(e){if(e.type==="polar")return o1e(e,t,n);if(e.type==="cartesian2d")return i1e(e,t,n,r,a)}else return null;return null}function s0(e,t){return e.type===t}function eZ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function tZ(e){for(var t=1/0,n=1/0,r=-1/0,a=-1/0,i=0;i<e.length;){var o=e[i++],s=e[i++];isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r)),isNaN(s)||(n=Math.min(s,n),a=Math.max(s,a))}return[[t,n],[r,a]]}function nZ(e,t){var n=tZ(e),r=n[0],a=n[1],i=tZ(t),o=i[0],s=i[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function rZ(e){return Kn(e)?e:e?.5:0}function t3t(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),a=bc(r*2),i=0;i<r;i++){var o=n1e(n,e,t,i);a[i*2]=o[0],a[i*2+1]=o[1]}return a}function Ad(e,t,n,r,a){var i=n.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],d=[];if(a){for(l=0;l<e.length;l+=2){var h=t||e;!isNaN(h[l])&&!isNaN(h[l+1])&&d.push(e[l],e[l+1])}e=d}for(l=0;l<e.length-2;l+=2)switch(f[0]=e[l+2],f[1]=e[l+3],c[0]=e[l],c[1]=e[l+1],s.push(c[0],c[1]),r){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var p=(c[o]+f[o])/2,v=[];u[o]=v[o]=p,u[1-o]=c[1-o],v[1-o]=f[1-o],s.push(u[0],u[1]),s.push(v[0],v[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(e[l++],e[l++]),s}function n3t(e,t){var n=[],r=e.length,a,i;function o(c,f,d){var h=c.coord,p=(d-h)/(f.coord-h),v=GDt(p,[c.color,f.color]);return{coord:d,color:v}}for(var s=0;s<r;s++){var l=e[s],u=l.coord;if(u<0)a=l;else if(u>t){i?n.push(o(i,l,t)):a&&n.push(o(a,l,0),o(a,l,t));break}else a&&(n.push(o(a,l,0)),a=null),n.push(l),i=l}return n}function r3t(e,t,n){var r=e.getVisual("visualMeta");if(!(!r||!r.length||!e.count())&&t.type==="cartesian2d"){for(var a,i,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o].dimension);if(a=s&&s.coordDim,a==="x"||a==="y"){i=r[o];break}}if(i){var l=t.getAxis(a),u=ut(i.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,f=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=n3t(u,a==="x"?n.getWidth():n.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var p=10,v=d[0].coord-p,g=d[h-1].coord+p,m=g-v;if(m<.001)return"transparent";X(d,function(b){b.offset=(b.coord-v)/m}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var y=new fC(0,0,0,0,d,!0);return y[a]=v,y[a+"2"]=g,y}}}function a3t(e,t,n){var r=e.get("showAllSymbol"),a=r==="auto";if(!(r&&!a)){var i=n.getAxesByScale("ordinal")[0];if(i&&!(a&&i3t(i,t))){var o=t.mapDimension(i.dim),s={};return X(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function i3t(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var a=t.count(),i=Math.max(1,Math.round(a/5)),o=0;o<a;o+=i)if(yC.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>r)return!1;return!0}function o3t(e,t){return isNaN(e)||isNaN(t)}function s3t(e){for(var t=e.length/2;t>0&&o3t(e[t*2-2],e[t*2-1]);t--);return t-1}function aZ(e,t){return[e[t*2],e[t*2+1]]}function l3t(e,t,n){for(var r=e.length/2,a=n==="x"?0:1,i,o,s=0,l=-1,u=0;u<r;u++)if(o=e[u*2+a],!(isNaN(o)||isNaN(e[u*2+1-a]))){if(u===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){l=u;break}s=u,i=o}return{range:[s,l],t:(t-i)/(o-i)}}function s1e(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<os.length;t++)if(e.get([os[t],"endLabel","show"]))return!0;return!1}function z$(e,t,n,r){if(s0(t,"cartesian2d")){var a=r.getModel("endLabel"),i=a.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=s1e(r)?function(h,p){e._endLabelOnDuring(h,p,o,s,i,a,t)}:null,u=t.getBaseAxis().isHorizontal(),c=i1e(t,n,r,function(){var h=e._endLabel;h&&n&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return o1e(t,n,r)}function u3t(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),a=n.inverse,i=r?a?"right":"left":"center",o=r?"middle":a?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||o}}}var c3t=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var n=new an,r=new bC;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n,this._changePolyState=Nt(this._changePolyState,this)},t.prototype.render=function(n,r,a){var i=n.coordinateSystem,o=this.group,s=n.getData(),l=n.getModel("lineStyle"),u=n.getModel("areaStyle"),c=s.getLayout("points")||[],f=i.type==="polar",d=this._coordSys,h=this._symbolDraw,p=this._polyline,v=this._polygon,g=this._lineGroup,m=!r.ssr&&n.get("animation"),y=!u.isEmpty(),b=u.get("origin"),x=t1e(i,s,b),_=y&&t3t(i,s,x),S=n.get("showSymbol"),C=n.get("connectNulls"),k=S&&!f&&a3t(n,s,i),T=this._data;T&&T.eachItemGraphicEl(function(j,ne){j.__temp&&(o.remove(j),T.setItemGraphicEl(ne,null))}),S||h.remove(),o.add(g);var I=f?!1:n.get("step"),E;i&&i.getArea&&n.get("clip",!0)&&(E=i.getArea(),E.width!=null?(E.x-=.1,E.y-=.1,E.width+=.2,E.height+=.2):E.r0&&(E.r0-=.5,E.r+=.5)),this._clipShapeForSymbol=E;var A=r3t(s,i,a)||s.getVisual("style")[s.getVisual("drawType")];if(!(p&&d.type===i.type&&I===this._step))S&&h.updateData(s,{isIgnore:k,clipShape:E,disableAnimation:!0,getSymbolPoint:function(j){return[c[j*2],c[j*2+1]]}}),m&&this._initSymbolLabelAnimation(s,i,E),I&&(_&&(_=Ad(_,c,i,I,C)),c=Ad(c,null,i,I,C)),p=this._newPolyline(c),y?v=this._newPolygon(c,_):v&&(g.remove(v),v=this._polygon=null),f||this._initOrUpdateEndLabel(n,i,Dg(A)),g.setClipPath(z$(this,i,!0,n));else{y&&!v?v=this._newPolygon(c,_):v&&!y&&(g.remove(v),v=this._polygon=null),f||this._initOrUpdateEndLabel(n,i,Dg(A));var N=g.getClipPath();if(N){var L=z$(this,i,!1,n);Xr(N,{shape:L.shape},n)}else g.setClipPath(z$(this,i,!0,n));S&&h.updateData(s,{isIgnore:k,clipShape:E,disableAnimation:!0,getSymbolPoint:function(j){return[c[j*2],c[j*2+1]]}}),(!eZ(this._stackedOnPoints,_)||!eZ(this._points,c))&&(m?this._doUpdateAnimation(s,_,i,a,I,b,C):(I&&(_&&(_=Ad(_,c,i,I,C)),c=Ad(c,null,i,I,C)),p.setShape({points:c}),v&&v.setShape({points:c,stackedOnPoints:_})))}var R=n.getModel("emphasis"),D=R.get("focus"),P=R.get("blurScope"),O=R.get("disabled");if(p.useStyle(Xt(l.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"})),ji(p,n,"lineStyle"),p.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var M=p.getState("emphasis").style;M.lineWidth=+p.style.lineWidth+1}sn(p).seriesIndex=n.seriesIndex,la(p,D,P,O);var W=rZ(n.get("smooth")),U=n.get("smoothMonotone");if(p.setShape({smooth:W,smoothMonotone:U,connectNulls:C}),v){var V=s.getCalculationInfo("stackedOnSeries"),H=0;v.useStyle(Xt(u.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),V&&(H=rZ(V.get("smooth"))),v.setShape({smooth:W,stackedOnSmooth:H,smoothMonotone:U,connectNulls:C}),ji(v,n,"areaStyle"),sn(v).seriesIndex=n.seriesIndex,la(v,D,P,O)}var K=this._changePolyState;s.eachItemGraphicEl(function(j){j&&(j.onHoverStateChange=K)}),this._polyline.onHoverStateChange=K,this._data=s,this._coordSys=i,this._stackedOnPoints=_,this._points=c,this._step=I,this._valueOrigin=b,n.get("triggerLineEvent")&&(this.packEventData(n,p),v&&this.packEventData(n,v))},t.prototype.packEventData=function(n,r){sn(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,r,a,i){var o=n.getData(),s=Ig(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=n.get("zlevel")||0,h=n.get("z")||0;u=new yC(o,s),u.x=c,u.y=f,u.setZ(d,h);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Dr.prototype.highlight.call(this,n,r,a,i)},t.prototype.downplay=function(n,r,a,i){var o=n.getData(),s=Ig(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Dr.prototype.downplay.call(this,n,r,a,i)},t.prototype._changePolyState=function(n){var r=this._polygon;lE(this._polyline,n),r&&lE(r,n)},t.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new QFt({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(n,r){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new a1e({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(n,r,a){var i,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):r.type==="polar"&&(i=s.dim==="angle",o=!0);var u=n.hostModel,c=u.get("animationDuration");Yt(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=Yt(f)?f(null):f;n.eachItemGraphicEl(function(h,p){var v=h;if(v){var g=[h.x,h.y],m=void 0,y=void 0,b=void 0;if(a)if(o){var x=a,_=r.pointToCoord(g);i?(m=x.startAngle,y=x.endAngle,b=-_[1]/180*Math.PI):(m=x.r0,y=x.r,b=_[0])}else{var S=a;i?(m=S.x,y=S.x+S.width,b=h.x):(m=S.y+S.height,y=S.y,b=h.y)}var C=y===m?0:(b-m)/(y-m);l&&(C=1-C);var k=Yt(f)?f(p):c*C+d,T=v.getSymbolPath(),I=T.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:k}),I&&I.animateFrom({style:{opacity:0}},{duration:300,delay:k}),T.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,r,a){var i=n.getModel("endLabel");if(s1e(n)){var o=n.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Hn({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=s3t(l);c>=0&&(Yi(s,vi(n,"endLabel"),{inheritColor:a,labelFetcher:n,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?e1e(o,h):Ny(o,f)},enableTextSetter:!0},u3t(i,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,r,a,i,o,s,l){var u=this._endLabel,c=this._polyline;if(u){n<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var f=a.getLayout("points"),d=a.hostModel,h=d.get("connectNulls"),p=s.get("precision"),v=s.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),y=g.inverse,b=r.shape,x=y?m?b.x:b.y+b.height:m?b.x+b.width:b.y,_=(m?v:0)*(y?-1:1),S=(m?0:-v)*(y?-1:1),C=m?"x":"y",k=l3t(f,x,C),T=k.range,I=T[1]-T[0],E=void 0;if(I>=1){if(I>1&&!h){var A=aZ(f,T[0]);u.attr({x:A[0]+_,y:A[1]+S}),o&&(E=d.getRawValue(T[0]))}else{var A=c.getPointOn(x,C);A&&u.attr({x:A[0]+_,y:A[1]+S});var N=d.getRawValue(T[0]),L=d.getRawValue(T[1]);o&&(E=Gge(a,p,N,L,k.t))}i.lastFrameIndex=T[0]}else{var R=n===1||i.lastFrameIndex>0?T[0]:0,A=aZ(f,R);o&&(E=d.getRawValue(R)),u.attr({x:A[0]+_,y:A[1]+S})}if(o){var D=b1(u);typeof D.setLabelText=="function"&&D.setLabelText(E)}}},t.prototype._doUpdateAnimation=function(n,r,a,i,o,s,l){var u=this._polyline,c=this._polygon,f=n.hostModel,d=JFt(this._data,n,this._stackedOnPoints,r,this._coordSys,a,this._valueOrigin),h=d.current,p=d.stackedOnCurrent,v=d.next,g=d.stackedOnNext;if(o&&(p=Ad(d.stackedOnCurrent,d.current,a,o,l),h=Ad(d.current,null,a,o,l),g=Ad(d.stackedOnNext,d.next,a,o,l),v=Ad(d.next,null,a,o,l)),nZ(h,v)>3e3||c&&nZ(p,g)>3e3){u.stopAnimation(),u.setShape({points:v}),c&&(c.stopAnimation(),c.setShape({points:v,stackedOnPoints:g}));return}u.shape.__points=d.current,u.shape.points=h;var m={shape:{points:v}};d.current!==h&&(m.shape.__points=d.next),u.stopAnimation(),Jn(u,m,f),c&&(c.setShape({points:h,stackedOnPoints:p}),c.stopAnimation(),Jn(c,{shape:{stackedOnPoints:g}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],b=d.status,x=0;x<b.length;x++){var _=b[x].cmd;if(_==="="){var S=n.getItemGraphicEl(b[x].idx1);S&&y.push({el:S,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var C=u.shape.__points,k=0;k<y.length;k++){var T=y[k].el,I=y[k].ptIdx*2;T.x=C[I],T.y=C[I+1],T.markRedraw()}})},t.prototype.remove=function(n){var r=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,o){i.__temp&&(r.remove(i),a.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Dr);function wC(e,t){return{seriesType:e,plan:C1(),reset:function(n){var r=n.getData(),a=n.coordinateSystem,i=n.pipelineContext,o=t||i.large;if(a){var s=ut(a.dimensions,function(h){return r.mapDimension(h)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");Hh(r,s[0])&&(s[0]=u),Hh(r,s[1])&&(s[1]=u);var c=r.getStore(),f=r.getDimensionIndex(s[0]),d=r.getDimensionIndex(s[1]);return l&&{progress:function(h,p){for(var v=h.end-h.start,g=o&&bc(v*l),m=[],y=[],b=h.start,x=0;b<h.end;b++){var _=void 0;if(l===1){var S=c.get(f,b);_=a.dataToPoint(S,null,y)}else m[0]=c.get(f,b),m[1]=c.get(d,b),_=a.dataToPoint(m,null,y);o?(g[x++]=_[0],g[x++]=_[1]):p.setItemLayout(b,_.slice())}o&&p.setLayout("points",g)}}}}}}var f3t={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return n===0?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},d3t=function(e){return Math.round(e.length/2)};function l1e(e){return{seriesType:e,reset:function(t,n,r){var a=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&i){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=r.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(s/d);if(isFinite(h)&&h>1){i==="lttb"?t.setData(a.lttbDownSample(a.mapDimension(u.dim),1/h)):i==="minmax"&&t.setData(a.minmaxDownSample(a.mapDimension(u.dim),1/h));var p=void 0;Dt(i)?p=f3t[i]:Yt(i)&&(p=i),p&&t.setData(a.downSample(a.mapDimension(u.dim),1/h,p,d3t))}}}}}function h3t(e){e.registerChartView(c3t),e.registerSeriesModel(YFt),e.registerLayout(wC("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,l1e("line"))}var n_=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){return vd(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(n,r,a){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(n),s=i.dataToPoint(o);if(a)X(i.getAxes(),function(d,h){if(d.type==="category"&&r!=null){var p=d.getTicksCoords(),v=d.getTickModel().get("alignWithLabel"),g=o[h],m=r[h]==="x1"||r[h]==="y1";if(m&&!v&&(g+=1),p.length<2)return;if(p.length===2){s[h]=d.toGlobalCoord(d.getExtent()[m?1:0]);return}for(var y=void 0,b=void 0,x=1,_=0;_<p.length;_++){var S=p[_].coord,C=_===p.length-1?p[_-1].tickValue+x:p[_].tickValue;if(C===g){b=S;break}else if(C<g)y=S;else if(y!=null&&C>g){b=(S+y)/2;break}_===1&&(x=C-p[0].tickValue)}b==null&&(y?y&&(b=p[p.length-1].coord):b=p[0].coord),s[h]=d.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=i.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Vr);Vr.registerClass(n_);var p3t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return vd(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},t.prototype.brushSelector=function(n,r,a){return a.rect(r.getItemLayout(n))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=vp(n_.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(n_),v3t=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),IE=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new v3t},t.prototype.buildPath=function(n,r){var a=r.cx,i=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,f=r.endAngle,d=r.clockwise,h=Math.PI*2,p=d?f-c<h:c-f<h;p||(c=f-(d?h:-h));var v=Math.cos(c),g=Math.sin(c),m=Math.cos(f),y=Math.sin(f);p?(n.moveTo(v*o+a,g*o+i),n.arc(v*u+a,g*u+i,l,-Math.PI+c,c,!d)):n.moveTo(v*s+a,g*s+i),n.arc(a,i,s,c,f,!d),n.arc(m*u+a,y*u+i,l,f-Math.PI*2,f-Math.PI,!d),o!==0&&n.arc(a,i,o,f,c,d)},t}(An);function g3t(e,t){t=t||{};var n=t.isRoundCap;return function(r,a,i){var o=a.position;if(!o||o instanceof Array)return oE(r,a,i);var s=e(o),l=a.distance!=null?a.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,p=(d+h)/2,v=u.startAngle,g=u.endAngle,m=(v+g)/2,y=n?Math.abs(d-h)/2:0,b=Math.cos,x=Math.sin,_=c+d*b(v),S=f+d*x(v),C="left",k="top";switch(s){case"startArc":_=c+(h-l)*b(m),S=f+(h-l)*x(m),C="center",k="top";break;case"insideStartArc":_=c+(h+l)*b(m),S=f+(h+l)*x(m),C="center",k="bottom";break;case"startAngle":_=c+p*b(v)+rT(v,l+y,!1),S=f+p*x(v)+aT(v,l+y,!1),C="right",k="middle";break;case"insideStartAngle":_=c+p*b(v)+rT(v,-l+y,!1),S=f+p*x(v)+aT(v,-l+y,!1),C="left",k="middle";break;case"middle":_=c+p*b(m),S=f+p*x(m),C="center",k="middle";break;case"endArc":_=c+(d+l)*b(m),S=f+(d+l)*x(m),C="center",k="bottom";break;case"insideEndArc":_=c+(d-l)*b(m),S=f+(d-l)*x(m),C="center",k="top";break;case"endAngle":_=c+p*b(g)+rT(g,l+y,!0),S=f+p*x(g)+aT(g,l+y,!0),C="left",k="middle";break;case"insideEndAngle":_=c+p*b(g)+rT(g,-l+y,!0),S=f+p*x(g)+aT(g,-l+y,!0),C="right",k="middle";break;default:return oE(r,a,i)}return r=r||{},r.x=_,r.y=S,r.align=C,r.verticalAlign=k,r}}function m3t(e,t,n,r){if(Kn(r)){e.setTextConfig({rotation:r});return}else if(st(t)){e.setTextConfig({rotation:0});return}var a=e.shape,i=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(i+o)/2,l,u=n(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function rT(e,t,n){return t*Math.sin(e)*(n?-1:1)}function aT(e,t,n){return t*Math.cos(e)*(n?1:-1)}function Rv(e,t,n){var r=e.get("borderRadius");if(r==null)return n?{cornerRadius:0}:null;st(r)||(r=[r,r,r,r]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:ut(r,function(i){return Pu(i,a)})}}var W$=Math.max,H$=Math.min;function y3t(e,t){var n=e.getArea&&e.getArea();if(s0(e,"cartesian2d")){var r=e.getBaseAxis();if(r.type!=="category"||!r.onBand){var a=t.getLayout("bandWidth");r.isHorizontal()?(n.x-=a,n.width+=a*2):(n.y-=a,n.height+=a*2)}}return n}var b3t=function(e){Le(t,e);function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return t.prototype.render=function(n,r,a,i){this._model=n,this._removeOnRenderedListener(a),this._updateDrawMode(n);var o=n.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,r,a):this._renderNormal(n,r,a,i))},t.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},t.prototype.incrementalRender=function(n,r){this._progressiveEls=[],this._incrementalRenderLarge(n,r)},t.prototype.eachRendered=function(n){pp(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(n,r,a,i){var o=this.group,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=n.isAnimationEnabled()?n:null,h=x3t(n,u);h&&this._enableRealtimeSort(h,s,a);var p=n.get("clip",!0)||h,v=y3t(u,s);o.removeClipPath();var g=n.get("roundCap",!0),m=n.get("showBackground",!0),y=n.getModel("backgroundStyle"),b=y.get("borderRadius")||0,x=[],_=this._backgroundEls,S=i&&i.isInitSort,C=i&&i.type==="changeAxisOrder";function k(E){var A=iT[u.type](s,E),N=I3t(u,f,A);return N.useStyle(y.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",b):N.setShape("cornerRadius",b),x[E]=N,N}s.diff(l).add(function(E){var A=s.getItemModel(E),N=iT[u.type](s,E,A);if(m&&k(E),!(!s.hasValue(E)||!uZ[u.type](N))){var L=!1;p&&(L=iZ[u.type](v,N));var R=oZ[u.type](n,s,E,N,f,d,c.model,!1,g);h&&(R.forceLabelAnimation=!0),cZ(R,s,E,A,N,n,f,u.type==="polar"),S?R.attr({shape:N}):h?sZ(h,d,R,N,E,f,!1,!1):Xr(R,{shape:N},n,E),s.setItemGraphicEl(E,R),o.add(R),R.ignore=L}}).update(function(E,A){var N=s.getItemModel(E),L=iT[u.type](s,E,N);if(m){var R=void 0;_.length===0?R=k(A):(R=_[A],R.useStyle(y.getItemStyle()),u.type==="cartesian2d"?R.setShape("r",b):R.setShape("cornerRadius",b),x[E]=R);var D=iT[u.type](s,E),P=c1e(f,D,u);Jn(R,{shape:P},d,E)}var O=l.getItemGraphicEl(A);if(!s.hasValue(E)||!uZ[u.type](L)){o.remove(O);return}var M=!1;if(p&&(M=iZ[u.type](v,L),M&&o.remove(O)),O?Fu(O):O=oZ[u.type](n,s,E,L,f,d,c.model,!!O,g),h&&(O.forceLabelAnimation=!0),C){var W=O.getTextContent();if(W){var U=b1(W);U.prevValue!=null&&(U.prevValue=U.value)}}else cZ(O,s,E,N,L,n,f,u.type==="polar");S?O.attr({shape:L}):h?sZ(h,d,O,L,E,f,!0,C):Jn(O,{shape:L},n,E,null),s.setItemGraphicEl(E,O),O.ignore=M,o.add(O)}).remove(function(E){var A=l.getItemGraphicEl(E);A&&Kw(A,n,E)}).execute();var T=this._backgroundGroup||(this._backgroundGroup=new an);T.removeAll();for(var I=0;I<x.length;++I)T.add(x[I]);o.add(T),this._backgroundEls=x,this._data=s},t.prototype._renderLarge=function(n,r,a){this._clear(),dZ(n,this.group),this._updateLargeClip(n)},t.prototype._incrementalRenderLarge=function(n,r){this._removeBackground(),dZ(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(n){var r=n.get("clip",!0)&&xC(n.coordinateSystem,!1,n),a=this.group;r?a.setClipPath(r):a.removeClipPath()},t.prototype._enableRealtimeSort=function(n,r,a){var i=this;if(r.count()){var o=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,n,a),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(n,r,a){var i=[];return n.each(n.mapDimension(r.dim),function(o,s){var l=a(s);l=l??NaN,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:ut(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(n,r,a){for(var i=a.scale,o=n.mapDimension(a.dim),s=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=n.rawIndexOf(o,i.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:r(n.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(n,r){for(var a=r.scale,i=a.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(n.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(n,r,a,i){if(this._isOrderChangedWithinSameData(n,r,a)){var o=this._dataSort(n,a,r);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(n,r,a){var i=r.baseAxis,o=this._dataSort(n,i,function(s){return n.get(n.mapDimension(r.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(n,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(n,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(n){var r=this.group,a=this._data;n&&n.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){Kw(i,n,sn(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Dr),iZ={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var a=e.x+e.width,i=e.y+e.height,o=W$(t.x,e.x),s=H$(t.x+t.width,a),l=W$(t.y,e.y),u=H$(t.y+t.height,i),c=s<o,f=u<l;return t.x=c&&o>a?s:o,t.y=f&&l>i?u:l,t.width=c?0:s-o,t.height=f?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}var a=H$(t.r,e.r),i=W$(t.r0,e.r0);t.r=a,t.r0=i;var o=a-i<0;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},oZ={cartesian2d:function(e,t,n,r,a,i,o,s,l){var u=new Bn({shape:rt({},r),z2:1});if(u.__dataIndex=n,u.name="item",i){var c=u.shape,f=a?"height":"width";c[f]=0}return u},polar:function(e,t,n,r,a,i,o,s,l){var u=!a&&l?IE:ss,c=new u({shape:r,z2:1});c.name="item";var f=u1e(a);if(c.calculateTextPosition=g3t(f,{isRoundCap:u===IE}),i){var d=c.shape,h=a?"r":"endAngle",p={};d[h]=a?r.r0:r.startAngle,p[h]=r[h],(s?Jn:Xr)(c,{shape:p},i)}return c}};function x3t(e,t){var n=e.get("realtimeSort",!0),r=t.getBaseAxis();if(n&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function sZ(e,t,n,r,a,i,o,s){var l,u;i?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Jn:Xr)(n,{shape:l},t,a,null);var c=t?e.baseAxis.model:null;(o?Jn:Xr)(n,{shape:u},c,a)}function lZ(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var w3t=["x","y","width","height"],_3t=["cx","cy","r","startAngle","endAngle"],uZ={cartesian2d:function(e){return!lZ(e,w3t)},polar:function(e){return!lZ(e,_3t)}},iT={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),a=n?C3t(n,r):0,i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*a/2,y:r.y+o*a/2,width:r.width-i*a,height:r.height-o*a}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function S3t(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function u1e(e){return function(t){var n=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+n;default:return r}}}(e)}function cZ(e,t,n,r,a,i,o,s){var l=t.getItemVisual(n,"style");if(s){if(!i.get("roundCap")){var c=e.shape,f=Rv(r.getModel("itemStyle"),c,!0);rt(c,f),e.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var d=r.getShallow("cursor");d&&e.attr("cursor",d);var h=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",p=vi(r);Yi(e,p,{labelFetcher:i,labelDataIndex:n,defaultText:Ny(i.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var v=e.getTextContent();if(s&&v){var g=r.get(["label","position"]);e.textConfig.inside=g==="middle"?!0:null,m3t(e,g==="outside"?h:g,u1e(o),r.get(["label","rotate"]))}E0e(v,p,i.getRawValue(n),function(y){return e1e(t,y)});var m=r.getModel(["emphasis"]);la(e,m.get("focus"),m.get("blurScope"),m.get("disabled")),ji(e,r),S3t(a)&&(e.style.fill="none",e.style.stroke="none",X(e.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function C3t(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var r=e.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,a,i)}var T3t=function(){function e(){}return e}(),fZ=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new T3t},t.prototype.buildPath=function(n,r){for(var a=r.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<a.length;c+=3)l[i]=u,l[o]=a[c+2],s[i]=a[c+i],s[o]=a[c+o],n.rect(s[0],s[1],l[0],l[1])},t}(An);function dZ(e,t,n,r){var a=e.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),l=e.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var c=new fZ({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),n&&n.push(c)}var f=new fZ({shape:{points:a.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(a.getVisual("style")),f.style.stroke=null,sn(f).seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",hZ),f.on("mousemove",hZ)),n&&n.push(f)}var hZ=S5(function(e){var t=this,n=k3t(t,e.offsetX,e.offsetY);sn(t).dataIndex=n>=0?n:null},30,!1);function k3t(e,t,n){for(var r=e.baseDimIdx,a=1-r,i=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,f=i.length/3;c<f;c++){var d=c*3;if(l[r]=u,l[a]=i[d+2],s[r]=i[d+r],s[a]=i[d+a],l[a]<0&&(s[a]+=l[a],l[a]=-l[a]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[c]}return-1}function c1e(e,t,n){if(s0(n,"cartesian2d")){var r=t,a=n.getArea();return{x:e?r.x:a.x,y:e?a.y:r.y,width:e?r.width:a.width,height:e?a.height:r.height}}else{var a=n.getArea(),i=t;return{cx:a.cx,cy:a.cy,r0:e?a.r0:i.r0,r:e?a.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:Math.PI*2}}}function I3t(e,t,n){var r=e.type==="polar"?ss:Bn;return new r({shape:c1e(t,n,e),silent:!0,z2:0})}function E3t(e){e.registerChartView(b3t),e.registerSeriesModel(p3t),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,vn(vye,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,gye("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,l1e("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,n){var r=t.componentType||"series";n.eachComponent({mainType:r,query:t},function(a){t.sortInfo&&a.axis.setCategorySortInfo(t.sortInfo)})})}var pZ=Math.PI*2,oT=Math.PI/180;function f1e(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function d1e(e,t){var n=f1e(e,t),r=e.get("center"),a=e.get("radius");st(a)||(a=[0,a]);var i=St(n.width,t.getWidth()),o=St(n.height,t.getHeight()),s=Math.min(i,o),l=St(a[0],s/2),u=St(a[1],s/2),c,f,d=e.coordinateSystem;if(d){var h=d.dataToPoint(r);c=h[0]||0,f=h[1]||0}else st(r)||(r=[r,r]),c=St(r[0],i)+n.x,f=St(r[1],o)+n.y;return{cx:c,cy:f,r0:l,r:u}}function A3t(e,t,n){t.eachSeriesByType(e,function(r){var a=r.getData(),i=a.mapDimension("value"),o=f1e(r,n),s=d1e(r,n),l=s.cx,u=s.cy,c=s.r,f=s.r0,d=-r.get("startAngle")*oT,h=r.get("endAngle"),p=r.get("padAngle")*oT;h=h==="auto"?d-pZ:-h*oT;var v=r.get("minAngle")*oT,g=v+p,m=0;a.each(i,function(P){!isNaN(P)&&m++});var y=a.getSum(i),b=Math.PI/(y||m)*2,x=r.get("clockwise"),_=r.get("roseType"),S=r.get("stillShowZeroSum"),C=a.getDataExtent(i);C[0]=0;var k=x?1:-1,T=[d,h],I=k*p/2;J8(T,!x),d=T[0],h=T[1];var E=h1e(r);E.startAngle=d,E.endAngle=h,E.clockwise=x;var A=Math.abs(h-d),N=A,L=0,R=d;if(a.setLayout({viewRect:o,r:c}),a.each(i,function(P,O){var M;if(isNaN(P)){a.setItemLayout(O,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:l,cy:u,r0:f,r:_?NaN:c});return}_!=="area"?M=y===0&&S?b:P*b:M=A/m,M<g?(M=g,N-=g):L+=P;var W=R+k*M,U=0,V=0;p>M?(U=R+k*M/2,V=U):(U=R+I,V=W-I),a.setItemLayout(O,{angle:M,startAngle:U,endAngle:V,clockwise:x,cx:l,cy:u,r0:f,r:_?cr(P,C,[f,c]):c}),R=W}),N<pZ&&m)if(N<=.001){var D=A/m;a.each(i,function(P,O){if(!isNaN(P)){var M=a.getItemLayout(O);M.angle=D;var W=0,U=0;D<p?(W=d+k*(O+1/2)*D,U=W):(W=d+k*O*D+I,U=d+k*(O+1)*D-I),M.startAngle=W,M.endAngle=U}})}else b=N/L,R=d,a.each(i,function(P,O){if(!isNaN(P)){var M=a.getItemLayout(O),W=M.angle===g?g:P*b,U=0,V=0;W<p?(U=R+k*W/2,V=U):(U=R+I,V=R+k*W-I),M.startAngle=U,M.endAngle=V,R+=k*W}})})}var h1e=Vn();function _C(e){return{seriesType:e,reset:function(t,n){var r=n.findComponents({mainType:"legend"});if(!(!r||!r.length)){var a=t.getData();a.filterSelf(function(i){for(var o=a.getName(i),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var D3t=Math.PI/180;function vZ(e,t,n,r,a,i,o,s,l,u){if(e.length<2)return;function c(v){for(var g=v.rB,m=g*g,y=0;y<v.list.length;y++){var b=v.list[y],x=Math.abs(b.label.y-n),_=r+b.len,S=_*_,C=Math.sqrt(Math.abs((1-x*x/m)*S)),k=t+(C+b.len2)*a,T=k-b.label.x,I=b.targetTextWidth-T*a;p1e(b,I,!0),b.label.x=k}}function f(v){for(var g={list:[],maxY:0},m={list:[],maxY:0},y=0;y<v.length;y++)if(v[y].labelAlignTo==="none"){var b=v[y],x=b.label.y>n?m:g,_=Math.abs(b.label.y-n);if(_>=x.maxY){var S=b.label.x-t-b.len2*a,C=r+b.len,k=Math.abs(S)<C?Math.sqrt(_*_/(1-S*S/C/C)):C;x.rB=k,x.maxY=_}x.list.push(b)}c(g),c(m)}for(var d=e.length,h=0;h<d;h++)if(e[h].position==="outer"&&e[h].labelAlignTo==="labelLine"){var p=e[h].label.x-u;e[h].linePoints[1][0]+=p,e[h].label.x=u}Pye(e,l,l+o)&&f(e)}function N3t(e,t,n,r,a,i,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;U$(e[d])||(h.x<t?(c=Math.min(c,h.x),l.push(e[d])):(f=Math.max(f,h.x),u.push(e[d])))}for(var d=0;d<e.length;d++){var p=e[d];if(!U$(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,v=p.linePoints,g=void 0;p.labelAlignTo==="edge"?h.x<t?g=v[2][0]-p.labelDistance-o-p.edgeDistance:g=o+a-p.edgeDistance-v[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<t?g=c-o-p.bleedMargin:g=o+a-f-p.bleedMargin:h.x<t?g=h.x-o-p.bleedMargin:g=o+a-h.x-p.bleedMargin,p.targetTextWidth=g,p1e(p,g)}}vZ(u,t,n,r,1,a,i,o,s,f),vZ(l,t,n,r,-1,a,i,o,s,c);for(var d=0;d<e.length;d++){var p=e[d];if(!U$(p)&&p.linePoints){var h=p.label,v=p.linePoints,m=p.labelAlignTo==="edge",y=h.style.padding,b=y?y[1]+y[3]:0,x=h.style.backgroundColor?0:b,_=p.rect.width+x,S=v[1][0]-v[2][0];m?h.x<t?v[2][0]=o+p.edgeDistance+_+p.labelDistance:v[2][0]=o+a-p.edgeDistance-_-p.labelDistance:(h.x<t?v[2][0]=h.x+p.labelDistance:v[2][0]=h.x-p.labelDistance,v[1][0]=v[2][0]+S),v[1][1]=v[2][1]=h.y}}}function p1e(e,t,n){if(n===void 0&&(n=!1),e.labelStyleWidth==null){var r=e.label,a=r.style,i=e.rect,o=a.backgroundColor,s=a.padding,l=s?s[1]+s[3]:0,u=a.overflow,c=i.width+(o?0:l);if(t<c||n){var f=i.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",o)}else{var h=t-l,p=t<c?h:n?h>e.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var v=r.getBoundingRect();i.width=v.width;var g=(r.style.margin||0)+2.1;i.height=v.height+g,i.y-=(i.height-f)/2}}}function U$(e){return e.position==="center"}function R3t(e){var t=e.getData(),n=[],r,a,i=!1,o=(e.get("minShowLabelAngle")||0)*D3t,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function h(S){S.ignore=!0}function p(S){if(!S.ignore)return!0;for(var C in S.states)if(S.states[C].ignore===!1)return!0;return!1}t.each(function(S){var C=t.getItemGraphicEl(S),k=C.shape,T=C.getTextContent(),I=C.getTextGuideLine(),E=t.getItemModel(S),A=E.getModel("label"),N=A.get("position")||E.get(["emphasis","label","position"]),L=A.get("distanceToLabelLine"),R=A.get("alignTo"),D=St(A.get("edgeDistance"),u),P=A.get("bleedMargin"),O=E.getModel("labelLine"),M=O.get("length");M=St(M,u);var W=O.get("length2");if(W=St(W,u),Math.abs(k.endAngle-k.startAngle)<o){X(T.states,h),T.ignore=!0,I&&(X(I.states,h),I.ignore=!0);return}if(p(T)){var U=(k.startAngle+k.endAngle)/2,V=Math.cos(U),H=Math.sin(U),K,j,ne,Q;r=k.cx,a=k.cy;var oe=N==="inside"||N==="inner";if(N==="center")K=k.cx,j=k.cy,Q="center";else{var ae=(oe?(k.r+k.r0)/2*V:k.r*V)+r,me=(oe?(k.r+k.r0)/2*H:k.r*H)+a;if(K=ae+V*3,j=me+H*3,!oe){var ve=ae+V*(M+l-k.r),B=me+H*(M+l-k.r),re=ve+(V<0?-1:1)*W,ge=B;R==="edge"?K=V<0?c+D:c+u-D:K=re+(V<0?-L:L),j=ge,ne=[[ae,me],[ve,B],[re,ge]]}Q=oe?"center":R==="edge"?V>0?"right":"left":V>0?"left":"right"}var Ie=Math.PI,Ce=0,he=A.get("rotate");if(Kn(he))Ce=he*(Ie/180);else if(N==="center")Ce=0;else if(he==="radial"||he===!0){var J=V<0?-U+Ie:-U;Ce=J}else if(he==="tangential"&&N!=="outside"&&N!=="outer"){var te=Math.atan2(V,H);te<0&&(te=Ie*2+te);var xe=H>0;xe&&(te=Ie+te),Ce=te-Ie}if(i=!!Ce,T.x=K,T.y=j,T.rotation=Ce,T.setStyle({verticalAlign:"middle"}),oe){T.setStyle({align:Q});var Be=T.states.select;Be&&(Be.x+=T.x,Be.y+=T.y)}else{var Ee=T.getBoundingRect().clone();Ee.applyTransform(T.getComputedTransform());var Qe=(T.style.margin||0)+2.1;Ee.y-=Qe/2,Ee.height+=Qe,n.push({label:T,labelLine:I,position:N,len:M,len2:W,minTurnAngle:O.get("minTurnAngle"),maxSurfaceAngle:O.get("maxSurfaceAngle"),surfaceNormal:new bn(V,H),linePoints:ne,textAlign:Q,labelDistance:L,labelAlignTo:R,edgeDistance:D,bleedMargin:P,rect:Ee,unconstrainedWidth:Ee.width,labelStyleWidth:T.style.width})}C.setTextConfig({inside:oe})}}),!i&&e.get("avoidLabelOverlap")&&N3t(n,r,a,l,u,d,c,f);for(var v=0;v<n.length;v++){var g=n[v],m=g.label,y=g.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),b&&(X(m.states,h),m.ignore=!0);var x=m.states.select;x&&(x.x+=m.x,x.y+=m.y)}if(y){var _=g.linePoints;b||!_?(X(y.states,h),y.ignore=!0):($ye(_,g.minTurnAngle),tFt(_,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:_}),m.__hostTarget.textGuideLineConfig={anchor:new bn(_[0][0],_[0][1])})}}}var M3t=function(e){Le(t,e);function t(n,r,a){var i=e.call(this)||this;i.z2=2;var o=new Hn;return i.setTextContent(o),i.updateData(n,r,a,!0),i}return t.prototype.updateData=function(n,r,a,i){var o=this,s=n.hostModel,l=n.getItemModel(r),u=l.getModel("emphasis"),c=n.getItemLayout(r),f=rt(Rv(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(i){o.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(Xr(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):d==="scale"?(o.shape.r=c.r0,Xr(o,{shape:{r:c.r}},s,r)):a!=null?(o.setShape({startAngle:a,endAngle:a}),Xr(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,Jn(o,{shape:{endAngle:c.endAngle}},s,r))}else Fu(o),Jn(o,{shape:f},s,r);o.useStyle(n.getItemVisual(r,"style")),ji(o,l);var h=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),v=Math.cos(h)*p,g=Math.sin(h)*p,m=l.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(s,n,r),o.ensureState("emphasis").shape=rt({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Rv(u.getModel("itemStyle"),c)),rt(o.ensureState("select"),{x:v,y:g,shape:Rv(l.getModel(["select","itemStyle"]),c)}),rt(o.ensureState("blur"),{shape:Rv(l.getModel(["blur","itemStyle"]),c)});var y=o.getTextGuideLine(),b=o.getTextContent();y&&rt(y.ensureState("select"),{x:v,y:g}),rt(b.ensureState("select"),{x:v,y:g}),la(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n,r,a){var i=this,o=r.getItemModel(a),s=o.getModel("labelLine"),l=r.getItemVisual(a,"style"),u=l&&l.fill,c=l&&l.opacity;Yi(i,vi(o),{labelFetcher:r.hostModel,labelDataIndex:a,inheritColor:u,defaultOpacity:c,defaultText:n.getFormattedLabel(a,"normal")||r.getName(a)});var f=i.getTextContent();i.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=n.get(["label","position"]);if(d!=="outside"&&d!=="outer")i.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new cs,this.setTextGuideLine(h)),O5(this,P5(o),{stroke:u,opacity:Ac(s.get(["lineStyle","opacity"]),c,1)})}},t}(ss),$3t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,r,a,i){var o=n.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&n.get("showEmptyCircle")){var d=h1e(n),h=new ss({shape:rt(d1e(n,a),d)});h.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}o.diff(s).add(function(p){var v=new M3t(o,p,u);o.setItemGraphicEl(p,v),l.add(v)}).update(function(p,v){var g=s.getItemGraphicEl(v);g.updateData(o,p,u),g.off("click"),l.add(g),o.setItemGraphicEl(p,g)}).remove(function(p){var v=s.getItemGraphicEl(p);Kw(v,n,p)}).execute(),R3t(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(n,r){var a=r.getData(),i=a.getItemLayout(0);if(i){var o=n[0]-i.cx,s=n[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="pie",t}(Dr);function E1(e,t,n){t=st(t)&&{coordDimensions:t}||rt({encodeDefine:e.getEncode()},t);var r=e.getSource(),a=gC(r,t).dimensions,i=new Zo(a,e);return i.initData(r,n),i}var SC=function(){function e(t,n){this._getDataWithEncodedVisual=t,this._getRawData=n}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var n=this._getRawData();return n.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var n=this._getDataWithEncodedVisual();return n.indexOfName(t)},e.prototype.getItemVisual=function(t,n){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,n)},e}(),L3t=Vn(),O3t=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new SC(Nt(this.getData,this),Nt(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return E1(this,{coordDimensions:["value"],encodeDefaulter:vn(v5,this)})},t.prototype.getDataParams=function(n){var r=this.getData(),a=L3t(r),i=a.seats;if(!i){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),i=a.seats=INt(o,r.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,n);return s.percent=i[n]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(n){kg(n,"labelLine",["show"]);var r=n.labelLine,a=n.emphasis.labelLine;r.show=r.show&&n.label.show,a.show=a.show&&n.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Vr);function P3t(e){return{seriesType:e,reset:function(t,n){var r=t.getData();r.filterSelf(function(a){var i=r.mapDimension("value"),o=r.get(i,a);return!(Kn(o)&&!isNaN(o)&&o<0)})}}}function F3t(e){e.registerChartView($3t),e.registerSeriesModel(O3t),$me("pie",e.registerAction),e.registerLayout(vn(A3t,"pie")),e.registerProcessor(_C("pie")),e.registerProcessor(P3t("pie"))}var B3t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,r){return vd(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(n,r,a){return a.point(r.getItemLayout(n))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Vr),v1e=4,V3t=function(){function e(){}return e}(),z3t=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.getDefaultShape=function(){return new V3t},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(n,r){var a=r.points,i=r.size,o=this.symbolProxy,s=o.shape,l=n.getContext?n.getContext():n,u=l&&i[0]<v1e,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<a.length;){var d=a[f++],h=a[f++];isNaN(d)||isNaN(h)||c&&!c.contain(d,h)||(s.x=d-i[0]/2,s.y=h-i[1]/2,s.width=i[0],s.height=i[1],o.buildPath(n,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},t.prototype.afterBrush=function(){var n=this.shape,r=n.points,a=n.size,i=this._ctx,o=this.softClipShape,s;if(i){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||i.fillRect(l-a[0]/2,u-a[1]/2,a[0],a[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(n,r){for(var a=this.shape,i=a.points,o=a.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=i.length/2-1;u>=0;u--){var c=u*2,f=i[c]-s/2,d=i[c+1]-l/2;if(n>=f&&r>=d&&n<=f+s&&r<=d+l)return u}return-1},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();if(n=a[0],r=a[1],i.contain(n,r)){var o=this.hoverDataIdx=this.findDataIndex(n,r);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,a=r.points,i=r.size,o=i[0],s=i[1],l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<a.length;){var h=a[d++],p=a[d++];l=Math.min(h,l),c=Math.max(h,c),u=Math.min(p,u),f=Math.max(p,f)}n=this._rect=new xn(l-o/2,u-s/2,c-l+o,f-u+s)}return n},t}(An),W3t=function(){function e(){this.group=new an}return e.prototype.updateData=function(t,n){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,n)},e.prototype.updateLayout=function(t){var n=t.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var a=(r.endIndex-r.startIndex)*2,i=r.startIndex*4*2;n=new Float32Array(n.buffer,i,a)}r.setShape("points",n),r.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,n,r){var a=this._newAdded[0],i=n.getLayout("points"),o=a&&a.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+i.length);l.set(o),l.set(i,s),a.endIndex=t.end,a.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,n,r)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new z3t({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,n,r){var a=n.hostModel;r=r||{};var i=n.getVisual("symbolSize");t.setShape("size",i instanceof Array?i:[i,i]),t.softClipShape=r.clipShape||null,t.symbolProxy=Ma(n.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<v1e;t.useStyle(a.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=n.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=sn(t);u.seriesIndex=a.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>=0&&(u.dataIndex=f+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),H3t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this._updateSymbolDraw(i,n);o.updateData(i,{clipShape:this._getClipShape(n)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(n,r,a){var i=n.getData(),o=this._updateSymbolDraw(i,n);o.incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(n,r,a){this._symbolDraw.incrementalUpdate(n,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=n.end===r.getData().count()},t.prototype.updateTransform=function(n,r,a){var i=n.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var o=wC("").reset(n,r,a);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},t.prototype._getClipShape=function(n){if(n.get("clip",!0)){var r=n.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},t.prototype._updateSymbolDraw=function(n,r){var a=this._symbolDraw,i=r.pipelineContext,o=i.large;return(!a||o!==this._isLargeDraw)&&(a&&a.remove(),a=this._symbolDraw=o?new W3t:new bC,this._isLargeDraw=o,this.group.removeAll()),this.group.add(a.group),a},t.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Dr),U3t=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Rn),k3=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Da).models[0]},t.type="cartesian2dAxis",t}(Rn);$a(k3,mC);var g1e={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},G3t=mn({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},g1e),U5=mn({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},g1e),K3t=mn({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},U5),j3t=Xt({logBase:10},U5);const m1e={category:G3t,value:U5,time:K3t,log:j3t};var Y3t={value:1,category:1,time:1,log:1};function Ry(e,t,n,r){X(Y3t,function(a,i){var o=mn(mn({},m1e[i],!0),r,!0),s=function(l){Le(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=Yw(this),h=d?_1(c):{},p=f.getTheme();mn(c,p.get(i+"Axis")),mn(c,this.getDefaultOption()),c.type=gZ(c),d&&Wh(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=b3.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+i,u.defaultOption=o,u}(n);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",gZ)}function gZ(e){return e.type||(e.data?"category":"value")}var X3t=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return ut(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),sr(this.getAxes(),function(n){return n.scale.type===t})},e.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},e}(),I3=["x","y"];function mZ(e){return e.type==="interval"||e.type==="time"}var q3t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=I3,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!mZ(n)||!mZ(r))){var a=n.getExtent(),i=r.getExtent(),o=this.dataToPoint([a[0],i[0]]),s=this.dataToPoint([a[1],i[1]]),l=a[1]-a[0],u=i[1]-i[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,d=o[0]-a[0]*c,h=o[1]-i[0]*f,p=this._transform=[c,0,0,f,d,h];this._invTransform=v1([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var r=this.getAxis("x"),a=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&a.contain(a.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,r){var a=this.dataToPoint(n),i=this.dataToPoint(r),o=this.getArea(),s=new xn(a[0],a[1],i[0]-a[0],i[1]-a[1]);return o.intersect(s)},t.prototype.dataToPoint=function(n,r,a){a=a||[];var i=n[0],o=n[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return Wi(a,n,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(i,r)),a[1]=l.toGlobalCoord(l.dataToCoord(o,r)),a},t.prototype.clampData=function(n,r){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,o=a.getExtent(),s=i.getExtent(),l=a.parse(n[0]),u=i.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(n,r){var a=[];if(this._invTransform)return Wi(a,n,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(n[0]),r),a[1]=o.coordToData(o.toLocalCoord(n[1]),r),a},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(n){n=n||0;var r=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(r[0],r[1])-n,o=Math.min(a[0],a[1])-n,s=Math.max(r[0],r[1])-i+n,l=Math.max(a[0],a[1])-o+n;return new xn(i,o,s,l)},t}(X3t),Z3t=function(e){Le(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(Uu);function E3(e,t,n){n=n||{};var r=e.coordinateSystem,a=t.axis,i={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,u=a.dim,c=r.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,p=u==="x"?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(o){var v=o.toGlobalCoord(o.dataToCoord(0));p[d.onZero]=Math.max(Math.min(v,p[1]),p[0])}i.position=[u==="y"?p[d[l]]:f[0],u==="x"?p[d[l]]:f[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=g[s],i.labelOffset=o?p[d[s]]-p[d.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Si(n.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=t.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-m:m,i.z2=1,i}function yZ(e){return e.get("coordinateSystem")==="cartesian2d"}function bZ(e){var t={xAxisModel:null,yAxisModel:null};return X(t,function(n,r){var a=r.replace(/Model$/,""),i=e.getReferringComponents(a,Da).models[0];t[r]=i}),t}var G$=Math.log;function y1e(e,t,n){var r=Qf.prototype,a=r.getTicks.call(n),i=r.getTicks.call(n,!0),o=a.length-1,s=r.getInterval.call(n),l=wye(e,t),u=l.extent,c=l.fixMin,f=l.fixMax;if(e.type==="log"){var d=G$(e.base);u=[G$(u[0])/d,G$(u[1])/d]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var h=r.getExtent.call(e);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var p=r.getInterval.call(e),v=u[0],g=u[1];if(c&&f)p=(g-v)/o;else if(c)for(g=u[0]+p*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)p=D$(p),g=u[0]+p*o;else if(f)for(v=u[1]-p*o;v>u[0]&&isFinite(v)&&isFinite(u[0]);)p=D$(p),v=u[1]-p*o;else{var m=e.getTicks().length-1;m>o&&(p=D$(p));var y=p*o;g=Math.ceil(u[1]/p)*p,v=ha(g-y),v<0&&u[0]>=0?(v=0,g=ha(y)):g>0&&u[1]<=0&&(g=0,v=-ha(y))}var b=(a[0].value-i[0].value)/s,x=(a[o].value-i[o].value)/s;r.setExtent.call(e,v+p*b,g+p*x),r.setInterval.call(e,p),(b||x)&&r.setNiceExtent.call(e,v+p,g-p)}var J3t=function(){function e(t,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=I3,this._initCartesian(t,n,r),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,n){var r=this._axesMap;this._updateScale(t,this.model);function a(o){var s,l=Mn(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=o[d],p=h.model,v=h.scale;x3(v)&&p.get("alignTicks")&&p.get("interval")==null?c.push(h):(Dy(v,p),x3(v)&&(s=h))}c.length&&(s||(s=c.pop(),Dy(s.scale,s.model)),X(c,function(g){y1e(g.scale,g.model,s.scale)}))}}a(r.x),a(r.y);var i={};X(r.x,function(o){xZ(r,"y",o,i)}),X(r.y,function(o){xZ(r,"x",o,i)}),this.resize(this.model,n)},e.prototype.resize=function(t,n,r){var a=t.getBoxLayoutParams(),i=!r&&t.get("containLabel"),o=Ya(a,{width:n.getWidth(),height:n.getHeight()});this._rect=o;var s=this._axesList;l(),i&&(X(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=RPt(u);if(c){var f=u.isHorizontal()?"height":"width",d=u.model.get(["axisLabel","margin"]);o[f]-=c[f]+d,u.position==="top"?o.y+=c.height+d:u.position==="left"&&(o.x+=c.width+d)}}}),l()),X(this._coordsList,function(u){u.calcAffineTransform()});function l(){X(s,function(u){var c=u.isHorizontal(),f=c?[0,o.width]:[0,o.height],d=u.inverse?1:0;u.setExtent(f[d],f[1-d]),Q3t(u,c?o.x:o.y)})}},e.prototype.getAxis=function(t,n){var r=this._axesMap[t];if(r!=null)return r[n||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var r="x"+t+"y"+n;return this._coordsMap[r]}Jt(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===t||i[a].getAxis("y").index===n)return i[a]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,n,r){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null},e.prototype.convertFromPixel=function(t,n,r){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null},e.prototype._findConvertTarget=function(t){var n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis",Da).models[0],a=t.yAxisModel||n&&n.getReferringComponents("yAxis",Da).models[0],i=t.gridModel,o=this._coordsList,s,l;if(n)s=n.coordinateSystem,Cn(o,s)<0&&(s=null);else if(r&&a)s=this.getCartesian(r.componentIndex,a.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},e.prototype._initCartesian=function(t,n,r){var a=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",u("x"),this),n.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,X(s.x,function(c,f){X(s.y,function(d,h){var p="x"+f+"y"+h,v=new q3t(p);v.master=a,v.model=t,a._coordsMap[p]=v,a._coordsList.push(v),v.addAxis(c),v.addAxis(d)})});function u(c){return function(f,d){if(K$(f,t)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var p=new Z3t(c,XN(f),[0,0],f.get("type"),h),v=p.type==="category";p.onBand=v&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=i,p.index=d,i._axesList.push(p),s[c][d]=p,l[c]++}}}},e.prototype._updateScale=function(t,n){X(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),t.eachSeries(function(a){if(yZ(a)){var i=bZ(a),o=i.xAxisModel,s=i.yAxisModel;if(!K$(o,n)||!K$(s,n))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),c=l.getAxis("x"),f=l.getAxis("y");r(u,c),r(u,f)}},this);function r(a,i){X(SE(a,i.dim),function(o){i.scale.unionExtentFromData(a,o)})}},e.prototype.getTooltipAxes=function(t){var n=[],r=[];return X(this.getCartesians(),function(a){var i=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),o=a.getOtherAxis(i);Cn(n,i)<0&&n.push(i),Cn(r,o)<0&&r.push(o)}),{baseAxes:n,otherAxes:r}},e.create=function(t,n){var r=[];return t.eachComponent("grid",function(a,i){var o=new e(a,t,n);o.name="grid_"+i,o.resize(a,n,!0),a.coordinateSystem=o,r.push(o)}),t.eachSeries(function(a){if(yZ(a)){var i=bZ(a),o=i.xAxisModel,s=i.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},e.dimensions=I3,e}();function K$(e,t){return e.getCoordSysModel()===t}function xZ(e,t,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var a=e[t],i,o=n.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)wZ(a[l])&&(i=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&wZ(a[u])&&!r[c(a[u])]){i=a[u];break}i&&(r[c(i)]=!0);function c(f){return f.dim+"_"+f.index}}function wZ(e){return e&&e.type!=="category"&&e.type!=="time"&&NPt(e)}function Q3t(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(a){return a+t}:function(a){return r-a+t},e.toLocalCoord=e.dim==="x"?function(a){return a-t}:function(a){return r-a+t}}var rh=Math.PI,Jo=function(){function e(t,n){this.group=new an,this.opt=n,this.axisModel=t,Xt(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new an({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return e.prototype.hasBuilder=function(t){return!!_Z[t]},e.prototype.add=function(t){_Z[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,n,r){var a=Lge(n-t),i,o;return Ww(a)?(o=r>0?"top":"bottom",i="center"):Ww(a-rh)?(o=r>0?"bottom":"top",i="center"):(o="middle",a>0&&a<rh?i=r>0?"right":"left":i=r>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},e.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},e.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},e}(),_Z={axisLine:function(e,t,n,r){var a=t.get(["axisLine","show"]);if(a==="auto"&&e.handleAutoShown&&(a=e.handleAutoShown("axisLine")),!!a){var i=t.axis.getExtent(),o=r.transform,s=[i[0],0],l=[i[1],0],u=s[0]>l[0];o&&(Wi(s,s,o),Wi(l,l,o));var c=rt({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new ii({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Iy(f.shape,f.style.lineWidth),f.anid="line",n.add(f);var d=t.get(["axisLine","symbol"]);if(d!=null){var h=t.get(["axisLine","symbolSize"]);Dt(d)&&(d=[d,d]),(Dt(h)||Kn(h))&&(h=[h,h]);var p=i0(t.get(["axisLine","symbolOffset"])||0,h),v=h[0],g=h[1];X([{rotate:e.rotation+Math.PI/2,offset:p[0],r:0},{rotate:e.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,y){if(d[y]!=="none"&&d[y]!=null){var b=Ma(d[y],-v/2,-g/2,v,g,c.stroke,!0),x=m.r+m.offset,_=u?l:s;b.attr({rotation:m.rotate,x:_[0]+x*Math.cos(e.rotation),y:_[1]-x*Math.sin(e.rotation),silent:!0,z2:11}),n.add(b)}})}}},axisTickLabel:function(e,t,n,r){var a=n4t(n,r,t,e),i=a4t(n,r,t,e);if(t4t(t,i,a),r4t(n,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=Lye(ut(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Fye(o)}},axisName:function(e,t,n,r){var a=Si(e.axisName,t.get("name"));if(a){var i=t.get("nameLocation"),o=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[i==="start"?u[0]-c*l:i==="end"?u[1]+c*l:(u[0]+u[1])/2,CZ(i)?e.labelOffset+o*l:0],d,h=t.get("nameRotate");h!=null&&(h=h*rh/180);var p;CZ(i)?d=Jo.innerTextLayout(e.rotation,h??e.rotation,o):(d=e4t(e.rotation,i,h||0,u),p=e.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(d.rotation)),!isFinite(p)&&(p=null)));var v=s.getFont(),g=t.get("nameTruncate",!0)||{},m=g.ellipsis,y=Si(e.nameTruncateMaxWidth,g.maxWidth,p),b=new Hn({x:f[0],y:f[1],rotation:d.rotation,silent:Jo.isLabelSilent(t),style:Fr(s,{text:a,font:v,overflow:"truncate",width:y,ellipsis:m,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(r0({el:b,componentModel:t,itemName:a}),b.__fullText=a,b.anid="name",t.get("triggerEvent")){var x=Jo.makeAxisEventDataBase(t);x.targetType="axisName",x.name=a,sn(b).eventData=x}r.add(b),b.updateTransform(),n.add(b),b.decomposeTransform()}}};function e4t(e,t,n,r){var a=Lge(n-e),i,o,s=r[0]>r[1],l=t==="start"&&!s||t!=="start"&&s;return Ww(a-rh/2)?(o=l?"bottom":"top",i="center"):Ww(a-rh*1.5)?(o=l?"top":"bottom",i="center"):(o="middle",a<rh*1.5&&a>rh/2?i=l?"left":"right":i=l?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:o}}function t4t(e,t,n){if(!_ye(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),a=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var i=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2];r===!1?(rl(i),rl(u)):SZ(i,o)&&(r?(rl(o),rl(c)):(rl(i),rl(u))),a===!1?(rl(s),rl(f)):SZ(l,s)&&(a?(rl(l),rl(d)):(rl(s),rl(f)))}}function rl(e){e&&(e.ignore=!0)}function SZ(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!n||!r)){var a=xN([]);return n0(a,a,-e.rotation),n.applyTransform(Lf([],a,e.getLocalTransform())),r.applyTransform(Lf([],a,t.getLocalTransform())),n.intersect(r)}}function CZ(e){return e==="middle"||e==="center"}function b1e(e,t,n,r,a){for(var i=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=n,t&&(Wi(o,o,t),Wi(s,s,t));var c=new ii({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Iy(c.shape,c.style.lineWidth),c.anid=a+"_"+e[l].tickValue,i.push(c)}return i}function n4t(e,t,n,r){var a=n.axis,i=n.getModel("axisTick"),o=i.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||a.scale.isBlank())){for(var s=i.getModel("lineStyle"),l=r.tickDirection*i.get("length"),u=a.getTicksCoords(),c=b1e(u,t.transform,l,Xt(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}}function r4t(e,t,n,r){var a=n.axis,i=n.getModel("minorTick");if(!(!i.get("show")||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=r*i.get("length"),u=Xt(s.getLineStyle(),Xt(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var f=b1e(o[c],t.transform,l,u,"minorticks_"+c),d=0;d<f.length;d++)e.add(f[d])}}function a4t(e,t,n,r){var a=n.axis,i=Si(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!i||a.scale.isBlank())){var o=n.getModel("axisLabel"),s=o.get("margin"),l=a.getViewLabels(),u=(Si(r.labelRotate,o.get("rotate"))||0)*rh/180,c=Jo.innerTextLayout(r.rotation,u,r.labelDirection),f=n.getCategories&&n.getCategories(!0),d=[],h=Jo.isLabelSilent(n),p=n.get("triggerEvent");return X(l,function(v,g){var m=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,y=v.formattedLabel,b=v.rawLabel,x=o;if(f&&f[m]){var _=f[m];Jt(_)&&_.textStyle&&(x=new pr(_.textStyle,o,n.ecModel))}var S=x.getTextColor()||n.get(["axisLine","lineStyle","color"]),C=a.dataToCoord(m),k=x.getShallow("align",!0)||c.textAlign,T=fn(x.getShallow("alignMinLabel",!0),k),I=fn(x.getShallow("alignMaxLabel",!0),k),E=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,A=fn(x.getShallow("verticalAlignMinLabel",!0),E),N=fn(x.getShallow("verticalAlignMaxLabel",!0),E),L=new Hn({x:C,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:h,z2:10+(v.level||0),style:Fr(x,{text:y,align:g===0?T:g===l.length-1?I:k,verticalAlign:g===0?A:g===l.length-1?N:E,fill:Yt(S)?S(a.type==="category"?b:a.type==="value"?m+"":m,g):S})});if(L.anid="label_"+m,r0({el:L,componentModel:n,itemName:y,formatterParamsExtra:{isTruncated:function(){return L.isTruncated},value:b,tickIndex:g}}),p){var R=Jo.makeAxisEventDataBase(n);R.targetType="axisLabel",R.value=b,R.tickIndex=g,a.type==="category"&&(R.dataIndex=m),sn(L).eventData=R}t.add(L),L.updateTransform(),d.push(L),e.add(L),L.decomposeTransform()}),d}}function i4t(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return o4t(n,e,t),n.seriesInvolved&&l4t(n,e),n}function o4t(e,t,n){var r=t.getComponent("tooltip"),a=t.getComponent("axisPointer"),i=a.get("link",!0)||[],o=[];X(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=r_(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",r);if(X(s.getAxes(),vn(v,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&X(p.baseAxes,vn(v,h?"cross":!0,d)),h&&X(p.otherAxes,vn(v,"cross",!1))}function v(g,m,y){var b=y.model.getModel("axisPointer",a),x=b.get("show");if(!(!x||x==="auto"&&!g&&!A3(b))){m==null&&(m=b.get("triggerTooltip")),b=g?s4t(y,f,a,t,g,m):b;var _=b.get("snap"),S=b.get("triggerEmphasis"),C=r_(y.model),k=m||_||y.type==="category",T=e.axesInfo[C]={key:C,axis:y,coordSys:s,axisPointerModel:b,triggerTooltip:m,triggerEmphasis:S,involveSeries:k,snap:_,useHandle:A3(b),seriesModels:[],linkGroup:null};u[C]=T,e.seriesInvolved=e.seriesInvolved||k;var I=u4t(i,y);if(I!=null){var E=o[I]||(o[I]={axesInfo:{}});E.axesInfo[C]=T,E.mapper=i[I].mapper,T.linkGroup=E}}}})}function s4t(e,t,n,r,a,i){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};X(s,function(d){l[d]=en(o.get(d))}),l.snap=e.type!=="category"&&!!i,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!i){var f=l.lineStyle=o.get("crossStyle");f&&Xt(u,f.textStyle)}}return e.model.getModel("axisPointer",new pr(l,n,r))}function l4t(e,t){t.eachSeries(function(n){var r=n.coordinateSystem,a=n.get(["tooltip","trigger"],!0),i=n.get(["tooltip","show"],!0);!r||a==="none"||a===!1||a==="item"||i===!1||n.get(["axisPointer","show"],!0)===!1||X(e.coordSysAxesInfo[r_(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(n),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=n.getData().count())})})}function u4t(e,t){for(var n=t.model,r=t.dim,a=0;a<e.length;a++){var i=e[a]||{};if(j$(i[r+"AxisId"],n.id)||j$(i[r+"AxisIndex"],n.componentIndex)||j$(i[r+"AxisName"],n.name))return a}}function j$(e,t){return e==="all"||st(e)&&Cn(e,t)>=0||e===t}function c4t(e){var t=G5(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,a=n.option,i=n.get("status"),o=n.get("value");o!=null&&(o=r.parse(o));var s=A3(n);i==null&&(a.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=t.axis.scale.isBlank()?"hide":"show")}}function G5(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[r_(e)]}function f4t(e){var t=G5(e);return t&&t.axisPointerModel}function A3(e){return!!e.get(["handle","show"])}function r_(e){return e.type+"||"+e.id}var TZ={},l0=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){this.axisPointerClass&&c4t(n),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,a,!0)},t.prototype.updateAxisPointer=function(n,r,a,i){this._doUpdateAxisPointerClass(n,a,!1)},t.prototype.remove=function(n,r){var a=this._axisPointer;a&&a.remove(r)},t.prototype.dispose=function(n,r){this._disposeAxisPointer(r),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,r,a){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var o=f4t(n);o?(this._axisPointer||(this._axisPointer=new i)).render(n,o,r,a):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,r){TZ[n]=r},t.getAxisPointerClass=function(n){return n&&TZ[n]},t.type="axis",t}(na),D3=Vn();function x1e(e,t,n,r){var a=n.axis;if(!a.scale.isBlank()){var i=n.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,f=D3(e).splitAreaColors,d=Pt(),h=0;if(f)for(var p=0;p<u.length;p++){var v=f.get(u[p].tickValue);if(v!=null){h=(v+(c-1)*p)%c;break}}var g=a.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=st(s)?s:[s];for(var p=1;p<u.length;p++){var y=a.toGlobalCoord(u[p].coord),b=void 0,x=void 0,_=void 0,S=void 0;a.isHorizontal()?(b=g,x=l.y,_=y-b,S=l.height,g=b+_):(b=l.x,x=g,_=l.width,S=y-x,g=x+S);var C=u[p-1].tickValue;C!=null&&d.set(C,h),t.add(new Bn({anid:C!=null?"area_"+C:null,shape:{x:b,y:x,width:_,height:S},style:Xt({fill:s[h]},m),autoBatch:!0,silent:!0})),h=(h+1)%c}D3(e).splitAreaColors=d}}}function w1e(e){D3(e).splitAreaColors=null}var d4t=["axisLine","axisTickLabel","axisName"],h4t=["splitArea","splitLine","minorSplitLine"],_1e=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,r,a,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new an,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),l=E3(s,n),u=new Jo(n,rt({handleAutoShown:function(f){for(var d=s.coordinateSystem.getCartesians(),h=0;h<d.length;h++)if(x3(d[h].getOtherAxis(n.axis).scale))return!0;return!1}},l));X(d4t,u.add,u),this._axisGroup.add(u.getGroup()),X(h4t,function(f){n.get([f,"show"])&&p4t[f](this,this._axisGroup,n,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||dC(o,this._axisGroup,n),e.prototype.render.call(this,n,r,a,i)}},t.prototype.remove=function(){w1e(this)},t.type="cartesianAxis",t}(l0),p4t={splitLine:function(e,t,n,r){var a=n.axis;if(!a.scale.isBlank()){var i=n.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color"),l=i.get("showMinLine")!==!1,u=i.get("showMaxLine")!==!1;s=st(s)?s:[s];for(var c=r.coordinateSystem.getRect(),f=a.isHorizontal(),d=0,h=a.getTicksCoords({tickModel:i}),p=[],v=[],g=o.getLineStyle(),m=0;m<h.length;m++){var y=a.toGlobalCoord(h[m].coord);if(!(m===0&&!l||m===h.length-1&&!u)){var b=h[m].tickValue;f?(p[0]=y,p[1]=c.y,v[0]=y,v[1]=c.y+c.height):(p[0]=c.x,p[1]=y,v[0]=c.x+c.width,v[1]=y);var x=d++%s.length,_=new ii({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},style:Xt({stroke:s[x]},g),silent:!0});Iy(_.shape,g.lineWidth),t.add(_)}}}},minorSplitLine:function(e,t,n,r){var a=n.axis,i=n.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var c=[],f=[],d=o.getLineStyle(),h=0;h<u.length;h++)for(var p=0;p<u[h].length;p++){var v=a.toGlobalCoord(u[h][p].coord);l?(c[0]=v,c[1]=s.y,f[0]=v,f[1]=s.y+s.height):(c[0]=s.x,c[1]=v,f[0]=s.x+s.width,f[1]=v);var g=new ii({anid:"minor_line_"+u[h][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:d,silent:!0});Iy(g.shape,d.lineWidth),t.add(g)}},splitArea:function(e,t,n,r){x1e(e,t,n,r)}},S1e=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(_1e),v4t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=S1e.type,n}return t.type="yAxis",t}(_1e),g4t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new Bn({shape:n.coordinateSystem.getRect(),style:Xt({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(na),kZ={offset:0};function C1e(e){e.registerComponentView(g4t),e.registerComponentModel(U3t),e.registerCoordinateSystem("cartesian2d",J3t),Ry(e,"x",k3,kZ),Ry(e,"y",k3,kZ),e.registerComponentView(S1e),e.registerComponentView(v4t),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function m4t(e){kn(C1e),e.registerSeriesModel(B3t),e.registerChartView(H3t),e.registerLayout(wC("scatter"))}function y4t(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),r=[],a=t.coordinateSystem;if(a){var i=a.getIndicatorAxes();X(i,function(o,s){n.each(n.mapDimension(i[s].dim),function(l,u){r[u]=r[u]||[];var c=a.dataToPoint(l,s);r[u][s]=IZ(c)?c:EZ(a)})}),n.each(function(o){var s=aDt(r[o],function(l){return IZ(l)})||EZ(a);r[o].push(s.slice()),n.setItemLayout(o,r[o])})}})}function IZ(e){return!isNaN(e[0])&&!isNaN(e[1])}function EZ(e){return[e.cx,e.cy]}function b4t(e){var t=e.polar;if(t){st(t)||(t=[t]);var n=[];X(t,function(r,a){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),e.radar=e.radar||[],st(e.radar)||(e.radar=[e.radar]),e.radar.push(r)):n.push(r)}),e.polar=n}X(e.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var x4t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=n.coordinateSystem,o=this.group,s=n.getData(),l=this._data;function u(d,h){var p=d.getItemVisual(h,"symbol")||"circle";if(p!=="none"){var v=k1(d.getItemVisual(h,"symbolSize")),g=Ma(p,-1,-1,2,2),m=d.getItemVisual(h,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:m*Math.PI/180||0}),g}}function c(d,h,p,v,g,m){p.removeAll();for(var y=0;y<h.length-1;y++){var b=u(v,g);b&&(b.__dimIdx=y,d[y]?(b.setPosition(d[y]),a0[m?"initProps":"updateProps"](b,{x:h[y][0],y:h[y][1]},n,g)):b.setPosition(h[y]),p.add(b))}}function f(d){return ut(d,function(h){return[i.cx,i.cy]})}s.diff(l).add(function(d){var h=s.getItemLayout(d);if(h){var p=new ls,v=new cs,g={shape:{points:h}};p.shape.points=f(h),v.shape.points=f(h),Xr(p,g,n,d),Xr(v,g,n,d);var m=new an,y=new an;m.add(v),m.add(p),m.add(y),c(v.shape.points,h,y,s,d,!0),s.setItemGraphicEl(d,m)}}).update(function(d,h){var p=l.getItemGraphicEl(h),v=p.childAt(0),g=p.childAt(1),m=p.childAt(2),y={shape:{points:s.getItemLayout(d)}};y.shape.points&&(c(v.shape.points,y.shape.points,m,s,d,!1),Fu(g),Fu(v),Jn(v,y,n),Jn(g,y,n),s.setItemGraphicEl(d,p))}).remove(function(d){o.remove(l.getItemGraphicEl(d))}).execute(),s.eachItemGraphicEl(function(d,h){var p=s.getItemModel(h),v=d.childAt(0),g=d.childAt(1),m=d.childAt(2),y=s.getItemVisual(h,"style"),b=y.fill;o.add(d),v.useStyle(Xt(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),ji(v,p,"lineStyle"),ji(g,p,"areaStyle");var x=p.getModel("areaStyle"),_=x.isEmpty()&&x.parentModel.isEmpty();g.ignore=_,X(["emphasis","select","blur"],function(k){var T=p.getModel([k,"areaStyle"]),I=T.isEmpty()&&T.parentModel.isEmpty();g.ensureState(k).ignore=I&&_}),g.useStyle(Xt(x.getAreaStyle(),{fill:b,opacity:.7,decal:y.decal}));var S=p.getModel("emphasis"),C=S.getModel("itemStyle").getItemStyle();m.eachChild(function(k){if(k instanceof Ri){var T=k.style;k.useStyle(rt({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},y))}else k.useStyle(y),k.setColor(b),k.style.strokeNoScale=!0;var I=k.ensureState("emphasis");I.style=en(C);var E=s.getStore().get(s.getDimensionIndex(k.__dimIdx),h);(E==null||isNaN(E))&&(E=""),Yi(k,vi(p),{labelFetcher:s.hostModel,labelDataIndex:h,labelDimIndex:k.__dimIdx,defaultText:E,inheritColor:b,defaultOpacity:y.opacity})}),la(d,S.get("focus"),S.get("blurScope"),S.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Dr),w4t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new SC(Nt(this.getData,this),Nt(this.getRawData,this))},t.prototype.getInitialData=function(n,r){return E1(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(n),u=l===""?this.name:l,c=_me(this,n);return gi("section",{header:u,sortBlocks:!0,blocks:ut(s,function(f){var d=i.get(i.mapDimension(f.dim),n);return gi("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:d,sortParam:d})})})},t.prototype.getTooltipPosition=function(n){if(n!=null){for(var r=this.getData(),a=this.coordinateSystem,i=r.getValues(ut(a.dimensions,function(u){return r.mapDimension(u)}),n),o=0,s=i.length;o<s;o++)if(!isNaN(i[o])){var l=a.getIndicatorAxes();return a.coordToPoint(l[o].dataToCoord(i[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Vr),fb=m1e.value;function sT(e,t){return Xt({show:t},e)}var _4t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){var n=this.get("boundaryGap"),r=this.get("splitNumber"),a=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),h=ut(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var v=l;p.color!=null&&(v=Xt({color:p.color},l));var g=mn(en(p),{boundaryGap:n,splitNumber:r,scale:a,axisLine:i,axisTick:o,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:v,triggerEvent:d},!1);if(Dt(c)){var m=g.name;g.name=c.replace("{value}",m??"")}else Yt(c)&&(g.name=c(g.name,g));var y=new pr(g,null,this.ecModel);return $a(y,mC.prototype),y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:mn({lineStyle:{color:"#bbb"}},fb.axisLine),axisLabel:sT(fb.axisLabel,!1),axisTick:sT(fb.axisTick,!1),splitLine:sT(fb.splitLine,!0),splitArea:sT(fb.splitArea,!0),indicator:[]},t}(Rn),S4t=["axisLine","axisTickLabel","axisName"],C4t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=this.group;i.removeAll(),this._buildAxes(n),this._buildSplitLineAndArea(n)},t.prototype._buildAxes=function(n){var r=n.coordinateSystem,a=r.getIndicatorAxes(),i=ut(a,function(o){var s=o.model.get("showName")?o.name:"",l=new Jo(o.model,{axisName:s,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});X(i,function(o){X(S4t,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(n){var r=n.coordinateSystem,a=r.getIndicatorAxes();if(!a.length)return;var i=n.get("shape"),o=n.getModel("splitLine"),s=n.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),d=l.get("color"),h=u.get("color"),p=st(d)?d:[d],v=st(h)?h:[h],g=[],m=[];function y(R,D,P){var O=P%D.length;return R[O]=R[O]||[],O}if(i==="circle")for(var b=a[0].getTicksCoords(),x=r.cx,_=r.cy,S=0;S<b.length;S++){if(c){var C=y(g,p,S);g[C].push(new pd({shape:{cx:x,cy:_,r:b[S].coord}}))}if(f&&S<b.length-1){var C=y(m,v,S);m[C].push(new uC({shape:{cx:x,cy:_,r0:b[S].coord,r:b[S+1].coord}}))}}else for(var k,T=ut(a,function(R,D){var P=R.getTicksCoords();return k=k==null?P.length-1:Math.min(P.length-1,k),ut(P,function(O){return r.coordToPoint(O.coord,D)})}),I=[],S=0;S<=k;S++){for(var E=[],A=0;A<a.length;A++)E.push(T[A][S]);if(E[0]&&E.push(E[0].slice()),c){var C=y(g,p,S);g[C].push(new cs({shape:{points:E}}))}if(f&&I){var C=y(m,v,S-1);m[C].push(new ls({shape:{points:E.concat(I)}}))}I=E.slice().reverse()}var N=l.getLineStyle(),L=u.getAreaStyle();X(m,function(R,D){this.group.add(wl(R,{style:Xt({stroke:"none",fill:v[D%v.length]},L),silent:!0}))},this),X(g,function(R,D){this.group.add(wl(R,{style:Xt({fill:"none",stroke:p[D%p.length]},N),silent:!0}))},this)},t.type="radar",t}(na),T4t=function(e){Le(t,e);function t(n,r,a){var i=e.call(this,n,r,a)||this;return i.type="value",i.angle=0,i.name="",i}return t}(Uu),k4t=function(){function e(t,n,r){this.dimensions=[],this._model=t,this._indicatorAxes=ut(t.getIndicatorModels(),function(a,i){var o="indicator_"+i,s=new T4t(o,new Qf);return s.name=a.get("name"),s.model=a,a.axis=s,this.dimensions.push(o),s},this),this.resize(t,r)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,n){var r=this._indicatorAxes[n];return this.coordToPoint(r.dataToCoord(t),n)},e.prototype.coordToPoint=function(t,n){var r=this._indicatorAxes[n],a=r.angle,i=this.cx+t*Math.cos(a),o=this.cy-t*Math.sin(a);return[i,o]},e.prototype.pointToData=function(t){var n=t[0]-this.cx,r=t[1]-this.cy,a=Math.sqrt(n*n+r*r);n/=a,r/=a;for(var i=Math.atan2(-r,n),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(i-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(a))]},e.prototype.resize=function(t,n){var r=t.get("center"),a=n.getWidth(),i=n.getHeight(),o=Math.min(a,i)/2;this.cx=St(r[0],a),this.cy=St(r[1],i),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(Dt(s)||Kn(s))&&(s=[0,s]),this.r0=St(s[0],o),this.r=St(s[1],o),X(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},e.prototype.update=function(t,n){var r=this._indicatorAxes,a=this._model;X(r,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==a)){var u=s.getData();X(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var i=a.get("splitNumber"),o=new Qf;o.setExtent(0,i),o.setInterval(1),X(r,function(s,l){y1e(s.scale,s.model,o)})},e.prototype.convertToPixel=function(t,n,r){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,n,r){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,n){var r=[];return t.eachComponent("radar",function(a){var i=new e(a,t,n);r.push(i),a.coordinateSystem=i}),t.eachSeriesByType("radar",function(a){a.get("coordinateSystem")==="radar"&&(a.coordinateSystem=r[a.get("radarIndex")||0])}),r},e.dimensions=[],e}();function I4t(e){e.registerCoordinateSystem("radar",k4t),e.registerComponentModel(_4t),e.registerComponentView(C4t),e.registerVisual({seriesType:"radar",reset:function(t){var n=t.getData();n.each(function(r){n.setItemVisual(r,"legendIcon","roundRect")}),n.setVisual("legendIcon","roundRect")}})}function E4t(e){kn(I4t),e.registerChartView(x4t),e.registerSeriesModel(w4t),e.registerLayout(y4t),e.registerProcessor(_C("radar")),e.registerPreprocessor(b4t)}var AZ="\0_ec_interaction_mutex";function A4t(e,t,n){var r=K5(e);r[t]=n}function D4t(e,t,n){var r=K5(e),a=r[t];a===n&&(r[t]=null)}function DZ(e,t){return!!K5(e)[t]}function K5(e){return e[AZ]||(e[AZ]={})}af({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ba);var CC=function(e){Le(t,e);function t(n){var r=e.call(this)||this;r._zr=n;var a=Nt(r._mousedownHandler,r),i=Nt(r._mousemoveHandler,r),o=Nt(r._mouseupHandler,r),s=Nt(r._mousewheelHandler,r),l=Nt(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=Xt(en(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(n.on("mousedown",a),n.on("mousemove",i),n.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(n.on("mousewheel",s),n.on("pinch",l))},r.disable=function(){n.off("mousedown",a),n.off("mousemove",i),n.off("mouseup",o),n.off("mousewheel",s),n.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(n){this.pointerChecker=n},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(n){if(!tY(n)){for(var r=n.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var a=n.offsetX,i=n.offsetY;this.pointerChecker&&this.pointerChecker(n,a,i)&&(this._x=a,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!kk("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||DZ(this._zr,"globalPan"))){var r=n.offsetX,a=n.offsetY,i=this._x,o=this._y,s=r-i,l=a-o;this._x=r,this._y=a,this._opt.preventDefaultMouseMove&&Yf(n.event),T1e(this,"pan","moveOnMouseMove",n,{dx:s,dy:l,oldX:i,oldY:o,newX:r,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(n){tY(n)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(n){var r=kk("zoomOnMouseWheel",n,this._opt),a=kk("moveOnMouseWheel",n,this._opt),i=n.wheelDelta,o=Math.abs(i),s=n.offsetX,l=n.offsetY;if(!(i===0||!r&&!a)){if(r){var u=o>3?1.4:o>1?1.2:1.1,c=i>0?u:1/u;Y$(this,"zoom","zoomOnMouseWheel",n,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(a){var f=Math.abs(i),d=(i>0?1:-1)*(f>3?.4:f>1?.15:.05);Y$(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(n){if(!DZ(this._zr,"globalPan")){var r=n.pinchScale>1?1.1:1/1.1;Y$(this,"zoom",null,n,{scale:r,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},t}(Gl);function Y$(e,t,n,r,a){e.pointerChecker&&e.pointerChecker(r,a.originX,a.originY)&&(Yf(r.event),T1e(e,t,n,r,a))}function T1e(e,t,n,r,a){a.isAvailableBehavior=Nt(kk,null,n,r),e.trigger(t,a)}function kk(e,t,n){var r=n[e];return!e||r&&(!Dt(r)||t.event[r+"Key"])}function j5(e,t,n){var r=e.target;r.x+=t,r.y+=n,r.dirty()}function Y5(e,t,n,r){var a=e.target,i=e.zoomLimit,o=e.zoom=e.zoom||1;if(o*=t,i){var s=i.min||0,l=i.max||1/0;o=Math.max(Math.min(l,o),s)}var u=o/e.zoom;e.zoom=o,a.x-=(n-a.x)*(u-1),a.y-=(r-a.y)*(u-1),a.scaleX*=u,a.scaleY*=u,a.dirty()}var N4t={axisPointer:1,tooltip:1,brush:1};function ZN(e,t,n){var r=t.getComponentByElement(e.topTarget),a=r&&r.coordinateSystem;return r&&r!==n&&!N4t.hasOwnProperty(r.mainType)&&a&&a.model!==n}function k1e(e){if(Dt(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var n=e;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}var X$,EE={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},NZ=Mn(EE),AE={"alignment-baseline":"textBaseline","stop-color":"stopColor"},RZ=Mn(AE),R4t=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,n){n=n||{};var r=k1e(t);this._defsUsePending=[];var a=new an;this._root=a;var i=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||n.width),l=parseFloat(r.getAttribute("height")||n.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Ds(r,a,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,a,i,null,!1,!1),u=u.nextSibling;L4t(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var d=JN(o);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&s!=null&&l!=null&&(f=E1e(c,{x:0,y:0,width:s,height:l}),!n.ignoreViewBox)){var h=a;a=new an,a.add(h),h.scaleX=h.scaleY=f.scale,h.x=f.x,h.y=f.y}return!n.ignoreRootClip&&s!=null&&l!=null&&a.setClipPath(new Bn({shape:{x:0,y:0,width:s,height:l}})),{root:a,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:i}},e.prototype._parseNode=function(t,n,r,a,i,o){var s=t.nodeName.toLowerCase(),l,u=a;if(s==="defs"&&(i=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=n;else{if(!i){var c=X$[s];if(c&&Mt(X$,s)){l=c.call(this,t,n);var f=t.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:s,el:l};r.push(d),s==="g"&&(u=d)}else a&&r.push({name:a.name,namedFrom:a,svgNodeTagLower:s,el:l});n.add(l)}}var h=MZ[s];if(h&&Mt(MZ,s)){var p=h.call(this,t),v=t.getAttribute("id");v&&(this._defs[v]=p)}}if(l&&l.isGroup)for(var g=t.firstChild;g;)g.nodeType===1?this._parseNode(g,l,r,u,i,o):g.nodeType===3&&o&&this._parseText(g,l),g=g.nextSibling},e.prototype._parseText=function(t,n){var r=new ky({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});al(n,r),Ds(t,r,this._defsUsePending,!1,!1),M4t(r,n);var a=r.style,i=a.fontSize;i&&i<9&&(a.fontSize=9,r.scaleX*=i/9,r.scaleY*=i/9);var o=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");a.font=o;var s=r.getBoundingRect();return this._textX+=s.width,n.add(r),r},e.internalField=function(){X$={g:function(t,n){var r=new an;return al(n,r),Ds(t,r,this._defsUsePending,!1,!1),r},rect:function(t,n){var r=new Bn;return al(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,n){var r=new pd;return al(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,n){var r=new ii;return al(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,n){var r=new DN;return al(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,n){var r=t.getAttribute("points"),a;r&&(a=OZ(r));var i=new ls({shape:{points:a||[]},silent:!0});return al(n,i),Ds(t,i,this._defsUsePending,!1,!1),i},polyline:function(t,n){var r=t.getAttribute("points"),a;r&&(a=OZ(r));var i=new cs({shape:{points:a||[]},silent:!0});return al(n,i),Ds(t,i,this._defsUsePending,!1,!1),i},image:function(t,n){var r=new Ri;return al(n,r),Ds(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,n){var r=t.getAttribute("x")||"0",a=t.getAttribute("y")||"0",i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(o);var s=new an;return al(n,s),Ds(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,n){var r=t.getAttribute("x"),a=t.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),a!=null&&(this._textY=parseFloat(a));var i=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new an;return al(n,s),Ds(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(o),s},path:function(t,n){var r=t.getAttribute("d")||"",a=g0e(r);return al(n,a),Ds(t,a,this._defsUsePending,!1,!1),a.silent=!0,a}}}(),e}(),MZ={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),r=parseInt(e.getAttribute("x2")||"10",10),a=parseInt(e.getAttribute("y2")||"0",10),i=new fC(t,n,r,a);return $Z(e,i),LZ(e,i),i},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),r=parseInt(e.getAttribute("r")||"0",10),a=new x0e(t,n,r);return $Z(e,a),LZ(e,a),a}};function $Z(e,t){var n=e.getAttribute("gradientUnits");n==="userSpaceOnUse"&&(t.global=!0)}function LZ(e,t){for(var n=e.firstChild;n;){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var r=n.getAttribute("offset"),a=void 0;r&&r.indexOf("%")>0?a=parseInt(r,10)/100:r?a=parseFloat(r):a=0;var i={};I1e(n,i,i);var o=i.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:a,color:o})}n=n.nextSibling}}function al(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Xt(t.__inheritedStyle,e.__inheritedStyle))}function OZ(e){for(var t=JN(e),n=[],r=0;r<t.length;r+=2){var a=parseFloat(t[r]),i=parseFloat(t[r+1]);n.push([a,i])}return n}function Ds(e,t,n,r,a){var i=t,o=i.__inheritedStyle=i.__inheritedStyle||{},s={};e.nodeType===1&&(F4t(e,t),I1e(e,o,s),r||B4t(e,o,s)),i.style=i.style||{},o.fill!=null&&(i.style.fill=PZ(i,"fill",o.fill,n)),o.stroke!=null&&(i.style.stroke=PZ(i,"stroke",o.stroke,n)),X(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(i.style[l]=parseFloat(o[l]))}),X(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(i.style[l]=o[l])}),a&&(i.__selfStyle=s),o.lineDash&&(i.style.lineDash=ut(JN(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(i.invisible=!0),o.display==="none"&&(i.ignore=!0)}function M4t(e,t){var n=t.__selfStyle;if(n){var r=n.textBaseline,a=r;!r||r==="auto"||r==="baseline"?a="alphabetic":r==="before-edge"||r==="text-before-edge"?a="top":r==="after-edge"||r==="text-after-edge"?a="bottom":(r==="central"||r==="mathematical")&&(a="middle"),e.style.textBaseline=a}var i=t.__inheritedStyle;if(i){var o=i.textAlign,s=o;o&&(o==="middle"&&(s="center"),e.style.textAlign=s)}}var $4t=/^url\(\s*#(.*?)\)/;function PZ(e,t,n,r){var a=n&&n.match($4t);if(a){var i=yu(a[1]);r.push([e,t,i]);return}return n==="none"&&(n=null),n}function L4t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r[0].style[r[1]]=e[r[2]]}}var O4t=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function JN(e){return e.match(O4t)||[]}var P4t=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,q$=Math.PI/180;function F4t(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],a=null;n.replace(P4t,function(f,d,h){return r.push(d,h),""});for(var i=r.length-1;i>0;i-=2){var o=r[i],s=r[i-1],l=JN(o);switch(a=a||Us(),s){case"translate":Wc(a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":H8(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":n0(a,a,-parseFloat(l[0])*q$,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*q$);Lf(a,[1,0,u,1,0,0],a);break;case"skewY":var c=Math.tan(parseFloat(l[0])*q$);Lf(a,[1,c,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(l[0]),a[1]=parseFloat(l[1]),a[2]=parseFloat(l[2]),a[3]=parseFloat(l[3]),a[4]=parseFloat(l[4]),a[5]=parseFloat(l[5]);break}}t.setLocalTransform(a)}}var FZ=/([^\s:;]+)\s*:\s*([^:;]+)/g;function I1e(e,t,n){var r=e.getAttribute("style");if(r){FZ.lastIndex=0;for(var a;(a=FZ.exec(r))!=null;){var i=a[1],o=Mt(EE,i)?EE[i]:null;o&&(t[o]=a[2]);var s=Mt(AE,i)?AE[i]:null;s&&(n[s]=a[2])}}}function B4t(e,t,n){for(var r=0;r<NZ.length;r++){var a=NZ[r],i=e.getAttribute(a);i!=null&&(t[EE[a]]=i)}for(var r=0;r<RZ.length;r++){var a=RZ[r],i=e.getAttribute(a);i!=null&&(n[AE[a]]=i)}}function E1e(e,t){var n=t.width/e.width,r=t.height/e.height,a=Math.min(n,r);return{scale:a,x:-(e.x+e.width/2)*a+(t.x+t.width/2),y:-(e.y+e.height/2)*a+(t.y+t.height/2)}}function V4t(e,t){var n=new R4t;return n.parse(e,t)}var z4t=Pt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),W4t=function(){function e(t,n){this.type="geoSVG",this._usedGraphicMap=Pt(),this._freedGraphics=[],this._mapName=t,this._parsedXML=k1e(n)}return e.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=U4t(t.named),r=n.regions,a=n.regionsMap;this._regions=r,this._regionsMap=a}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(t){var n,r;try{n=t&&V4t(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=n.root,is(r!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var a=new an;a.add(r),a.isGeoSVGGraphicRoot=!0;var i=n.width,o=n.height,s=n.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,d=void 0;if(i!=null?(u=0,f=i):s&&(u=s.x,f=s.width),o!=null?(c=0,d=o):s&&(c=s.y,d=s.height),u==null||c==null){var h=r.getBoundingRect();u==null&&(u=h.x,f=h.width),c==null&&(c=h.y,d=h.height)}l=this._boundingRect=new xn(u,c,f,d)}if(s){var p=E1e(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}a.setClipPath(new Bn({shape:l.plain()}));var v=[];return X(n.named,function(g){z4t.get(g.svgNodeTagLower)!=null&&(v.push(g),H4t(g.el))}),{root:a,boundingRect:l,named:v}},e.prototype.useGraphic=function(t){var n=this._usedGraphicMap,r=n.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(t,r),r)},e.prototype.freeGraphic=function(t){var n=this._usedGraphicMap,r=n.get(t);r&&(n.removeKey(t),this._freedGraphics.push(r))},e}();function H4t(e){e.silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1})}function U4t(e){var t=[],n=Pt();return X(e,function(r){if(r.namedFrom==null){var a=new FPt(r.name,r.el);t.push(a),n.set(r.name,a)}}),{regions:t,regionsMap:n}}var N3=[126,25],BZ="南海诸岛",Qp=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Xp=0;Xp<Qp.length;Xp++)for(var B0=0;B0<Qp[Xp].length;B0++)Qp[Xp][B0][0]/=10.5,Qp[Xp][B0][1]/=-10.5/.75,Qp[Xp][B0][0]+=N3[0],Qp[Xp][B0][1]+=N3[1];function G4t(e,t){if(e==="china"){for(var n=0;n<t.length;n++)if(t[n].name===BZ)return;t.push(new Cye(BZ,ut(Qp,function(r){return{type:"polygon",exterior:r}}),N3))}}var K4t={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function j4t(e,t){if(e==="china"){var n=K4t[t.name];if(n){var r=t.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/(10.5/.75),t.setCenter(r)}}}var Y4t=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function X4t(e,t){e==="china"&&t.name==="台湾"&&t.geometries.push({type:"polygon",exterior:Y4t[0]})}var q4t="name",Z4t=function(){function e(t,n,r){this.type="geoJSON",this._parsedMap=Pt(),this._mapName=t,this._specialAreas=r,this._geoJSON=Q4t(n)}return e.prototype.load=function(t,n){n=n||q4t;var r=this._parsedMap.get(n);if(!r){var a=this._parseToRegions(n);r=this._parsedMap.set(n,{regions:a,boundingRect:J4t(a)})}var i=Pt(),o=[];return X(r.regions,function(s){var l=s.name;t&&Mt(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),i.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new xn(0,0,0,0),regionsMap:i}},e.prototype._parseToRegions=function(t){var n=this._mapName,r=this._geoJSON,a;try{a=r?VPt(r,t):[]}catch(i){throw new Error(`Invalid geoJson format
`+i.message)}return G4t(n,a),X(a,function(i){var o=i.name;j4t(n,i),X4t(n,i);var s=this._specialAreas&&this._specialAreas[o];s&&i.transformTo(s.left,s.top,s.width,s.height)},this),a},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function J4t(e){for(var t,n=0;n<e.length;n++){var r=e[n].getBoundingRect();t=t||r.clone(),t.union(r)}return t}function Q4t(e){return Dt(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var db=Pt();const ed={registerMap:function(e,t,n){if(t.svg){var r=new W4t(e,t.svg);db.set(e,r)}else{var a=t.geoJson||t.geoJSON;a&&!t.features?n=t.specialAreas:a=t;var r=new Z4t(e,a,n);db.set(e,r)}},getGeoResource:function(e){return db.get(e)},getMapForUser:function(e){var t=db.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,n){var r=db.get(e);if(r)return r.load(t,n)}};var X5=["rect","circle","line","ellipse","polygon","polyline","path"],eBt=Pt(X5),tBt=Pt(X5.concat(["g"])),nBt=Pt(X5.concat(["g"])),A1e=Vn();function lT(e){var t=e.getItemStyle(),n=e.get("areaColor");return n!=null&&(t.fill=n),t}function VZ(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var D1e=function(){function e(t){var n=new an;this.uid=x1("ec_map_draw"),this._controller=new CC(t.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new an),n.add(this._svgGroup=new an)}return e.prototype.draw=function(t,n,r,a,i){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&n.eachComponent({mainType:"series",subType:"map"},function(m){!s&&m.getHostGeoModel()===t&&(s=m.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this.group,f=l.getTransformInfo(),d=f.raw,h=f.roam,p=!u.childAt(0)||i;p?(c.x=h.x,c.y=h.y,c.scaleX=h.scaleX,c.scaleY=h.scaleY,c.dirty()):Jn(c,h,t);var v=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,g={api:r,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:v,isGeo:o,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(g):l.resourceType==="geoSVG"&&this._buildSVG(g),this._updateController(t,n,r),this._updateMapSelectHandler(t,u,r,a)},e.prototype._buildGeoJSON=function(t){var n=this._regionsGroupByName=Pt(),r=Pt(),a=this._regionsGroup,i=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(h,p){return p&&(h=p(h)),h&&[h[0]*i.scaleX+i.x,h[1]*i.scaleY+i.y]}function f(h){for(var p=[],v=!u&&l&&l.project,g=0;g<h.length;++g){var m=c(h[g],v);m&&p.push(m)}return p}function d(h){return{shape:{points:f(h)}}}a.removeAll(),X(t.geo.regions,function(h){var p=h.name,v=n.get(p),g=r.get(p)||{},m=g.dataIdx,y=g.regionModel;if(!v){v=n.set(p,new an),a.add(v),m=s?s.indexOfName(p):null,y=t.isGeo?o.getRegionModel(p):s?s.getItemModel(m):null;var b=y.get("silent",!0);b!=null&&(v.silent=b),r.set(p,{dataIdx:m,regionModel:y})}var x=[],_=[];X(h.geometries,function(k){if(k.type==="polygon"){var T=[k.exterior].concat(k.interiors||[]);u&&(T=KZ(T,u)),X(T,function(E){x.push(new ls(d(E)))})}else{var I=k.points;u&&(I=KZ(I,u,!0)),X(I,function(E){_.push(new cs(d(E)))})}});var S=c(h.getCenter(),l&&l.project);function C(k,T){if(k.length){var I=new i5({culling:!0,segmentIgnoreThreshold:1,shape:{paths:k}});v.add(I),zZ(t,I,m,y),WZ(t,I,p,y,o,m,S),T&&(VZ(I),X(I.states,VZ))}}C(x),C(_,!0)}),n.each(function(h,p){var v=r.get(p),g=v.dataIdx,m=v.regionModel;HZ(t,h,p,m,o,g),UZ(t,h,p,m,o),GZ(t,h,p,m,o)},this)},e.prototype._buildSVG=function(t){var n=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var a=this._svgDispatcherMap=Pt(),i=!1;X(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,c=o.svgNodeTagLower,f=o.el,d=u?u.indexOfName(s):null,h=l.getRegionModel(s);eBt.get(c)!=null&&f instanceof Bl&&zZ(t,f,d,h),f instanceof Bl&&(f.culling=!0);var p=h.get("silent",!0);if(p!=null&&(f.silent=p),f.z2EmphasisLift=0,!o.namedFrom&&(nBt.get(c)!=null&&WZ(t,f,s,h,l,d,null),HZ(t,f,s,h,l,d),UZ(t,f,s,h,l),tBt.get(c)!=null)){var v=GZ(t,f,s,h,l);v==="self"&&(i=!0);var g=a.get(s)||a.set(s,[]);g.push(f)}},this),this._enableBlurEntireSVG(i,t)},e.prototype._enableBlurEntireSVG=function(t,n){if(t&&n.isGeo){var r=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),a=r.opacity;this._svgGraphicRecord.root.traverse(function(i){if(!i.isGroup){Ag(i);var o=i.ensureState("blur").style||{};o.opacity==null&&a!=null&&(o.opacity=a),i.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(t,n){if(t==null)return[];var r=n.coordinateSystem;if(r.resourceType==="geoJSON"){var a=this._regionsGroupByName;if(a){var i=a.get(t);return i?[i]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},e.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},e.prototype._useSVG=function(t){var n=ed.getGeoResource(t);if(n&&n.type==="geoSVG"){var r=n.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},e.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var n=ed.getGeoResource(t);n&&n.type==="geoSVG"&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(t,n,r){var a=t.coordinateSystem,i=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=a.getZoom(),i.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}i.off("pan").on("pan",function(u){this._mouseDownFlag=!1,j5(o,u.dx,u.dy),r.dispatchAction(rt(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),i.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,Y5(o,u.scale,u.originX,u.originY),r.dispatchAction(rt(l(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),i.setPointerChecker(function(u,c,f){return a.containPoint([c,f])&&!ZN(u,r,t)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var n=t.getTextContent();n&&(n.ignore=A1e(n).ignore)})},e.prototype._updateMapSelectHandler=function(t,n,r,a){var i=this;n.off("mousedown"),n.off("click"),t.get("selectedMode")&&(n.on("mousedown",function(){i._mouseDownFlag=!0}),n.on("click",function(o){i._mouseDownFlag&&(i._mouseDownFlag=!1)}))},e}();function zZ(e,t,n,r){var a=r.getModel("itemStyle"),i=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=lT(a),u=lT(i),c=lT(s),f=lT(o),d=e.data;if(d){var h=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),p&&(l.decal=Ay(p,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=f,Ag(t)}function WZ(e,t,n,r,a,i,o){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),i)),c=s&&s.getItemLayout(i);if(l||u||c&&c.showLabel){var f=l?n:i,d=void 0;(!s||i>=0)&&(d=a);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Yi(t,vi(r),{labelFetcher:d,labelDataIndex:f,defaultText:n},h);var p=t.getTextContent();if(p&&(A1e(p).ignore=p.ignore,t.textConfig&&o)){var v=t.getBoundingRect().clone();t.textConfig.layoutRect=v,t.textConfig.position=[(o[0]-v.x)/v.width*100+"%",(o[1]-v.y)/v.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function HZ(e,t,n,r,a,i){e.data?e.data.setItemGraphicEl(i,t):sn(t).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:n,region:r&&r.option||{}}}function UZ(e,t,n,r,a){e.data||r0({el:t,componentModel:a,itemName:n,itemTooltipOption:r.get("tooltip")})}function GZ(e,t,n,r,a){t.highDownSilentOnTouch=!!a.get("selectedMode");var i=r.getModel("emphasis"),o=i.get("focus");return la(t,o,i.get("blurScope"),i.get("disabled")),e.isGeo&&eMt(t,a,n),o}function KZ(e,t,n){var r=[],a;function i(){a=[]}function o(){a.length&&(r.push(a),a=[])}var s=t({polygonStart:i,polygonEnd:o,lineStart:i,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&a.push([l,u])},sphere:function(){}});return!n&&s.polygonStart(),X(e,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!n&&s.polygonEnd(),r}var rBt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){if(!(i&&i.type==="mapToggleSelect"&&i.from===this.uid)){var o=this.group;if(o.removeAll(),!n.getHostGeoModel()){if(this._mapDraw&&i&&i.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===n.id){var s=this._mapDraw;s&&o.add(s.group)}else if(n.needsDrawMap){var s=this._mapDraw||new D1e(a);o.add(s.group),s.draw(n,r,a,this,i),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(n,r,a)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(n,r,a){var i=n.originalData,o=this.group;i.each(i.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=i.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,d=new pd({style:{fill:n.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:m1+1)});if(!f){var h=n.mainSeries.getData(),p=i.getName(l),v=h.indexOfName(p),g=i.getItemModel(l),m=g.getModel("label"),y=h.getItemGraphicEl(v);Yi(d,vi(g),{labelFetcher:{getFormattedLabel:function(b,x){return n.getFormattedLabel(v,x)}},defaultText:p}),d.disableLabelAnimation=!0,m.get("position")||d.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(b){lE(d,b)}}o.add(d)}}})},t.type="map",t}(Dr),aBt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(r){if(r!=null){var a=this.getData().getName(r),i=this.coordinateSystem,o=i.getRegion(a);return o&&i.dataToPoint(o.getCenter())}},n}return t.prototype.getInitialData=function(n){for(var r=E1(this,{coordDimensions:["value"],encodeDefaulter:vn(v5,this)}),a=Pt(),i=[],o=0,s=r.count();o<s;o++){var l=r.getName(o);a.set(l,o)}var u=ed.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return X(u.regions,function(c){var f=c.name,d=a.get(f),h=c.properties&&c.properties.echartsStyle,p;d==null?(p={name:f},i.push(p)):p=r.getRawDataItem(d),h&&mn(p,h)}),r.appendData(i),r},t.prototype.getHostGeoModel=function(){var n=this.option.geoIndex;return n!=null?this.ecModel.getComponent("geo",n):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(n){var r=this.getData();return r.get(r.mapDimension("value"),n)},t.prototype.getRegionModel=function(n){var r=this.getData();return r.getItemModel(r.indexOfName(n))},t.prototype.formatTooltip=function(n,r,a){for(var i=this.getData(),o=this.getRawValue(n),s=i.getName(n),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),d=i.mapDimension("value");isNaN(l[c].originalData.get(d,f))||u.push(l[c].name)}return gi("section",{header:u.join(", "),noHeader:!u.length,blocks:[gi("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.getLegendIcon=function(n){var r=n.icon||"roundRect",a=Ma(r,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return a.setStyle(n.itemStyle),a.style.stroke="none",r.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),a},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Vr);function iBt(e,t){var n={};return X(e,function(r){r.each(r.mapDimension("value"),function(a,i){var o="ec-"+r.getName(i);n[o]=n[o]||[],isNaN(a)||n[o].push(a)})}),e[0].map(e[0].mapDimension("value"),function(r,a){for(var i="ec-"+e[0].getName(a),o=0,s=1/0,l=-1/0,u=n[i].length,c=0;c<u;c++)s=Math.min(s,n[i][c]),l=Math.max(l,n[i][c]),o+=n[i][c];var f;return t==="min"?f=s:t==="max"?f=l:t==="average"?f=o/u:f=o,u===0?NaN:f})}function oBt(e){var t={};e.eachSeriesByType("map",function(n){var r=n.getHostGeoModel(),a=r?"o"+r.id:"i"+n.getMapType();(t[a]=t[a]||[]).push(n)}),X(t,function(n,r){for(var a=iBt(ut(n,function(o){return o.getData()}),n[0].get("mapValueCalculation")),i=0;i<n.length;i++)n[i].originalData=n[i].getData();for(var i=0;i<n.length;i++)n[i].seriesGroup=n,n[i].needsDrawMap=i===0&&!n[i].getHostGeoModel(),n[i].setData(a.cloneShallow()),n[i].mainSeries=n[0]})}function sBt(e){var t={};e.eachSeriesByType("map",function(n){var r=n.getMapType();if(!(n.getHostGeoModel()||t[r])){var a={};X(n.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),d=s.getRegion(f);if(!(!d||isNaN(u))){var h=a[f]||0,p=s.dataToPoint(d.getCenter());a[f]=h+1,l.setItemLayout(c,{point:p,offset:h})}})});var i=n.getData();i.each(function(o){var s=i.getName(o),l=i.getItemLayout(o)||{};l.showLabel=!a[s],i.setItemLayout(o,l)}),t[r]=!0}})}var jZ=Wi,TC=function(e){Le(t,e);function t(n){var r=e.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Af,r._rawTransformable=new Af,r.name=n,r}return t.prototype.setBoundingRect=function(n,r,a,i){return this._rect=new xn(n,r,a,i),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(n,r,a,i){this._transformTo(n,r,a,i),this._viewRect=new xn(n,r,a,i)},t.prototype._transformTo=function(n,r,a,i){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new xn(n,r,a,i));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(n,r){n&&(this._center=[St(n[0],r.getWidth()),St(n[1],r.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(n){n=n||1;var r=this.zoomLimit;r&&(r.max!=null&&(n=Math.min(r.max,n)),r.min!=null&&(n=Math.max(r.min,n))),this._zoom=n,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var n=this.getBoundingRect(),r=n.x+n.width/2,a=n.y+n.height/2;return[r,a]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var n=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,a=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=Wi([],i,n),a=Wi([],a,n),r.originX=i[0],r.originY=i[1],r.x=a[0]-i[0],r.y=a[1]-i[1],r.scaleX=r.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var n=this._roamTransformable,r=this._rawTransformable;r.parent=n,n.updateTransform(),r.updateTransform(),W8(this.transform||(this.transform=[]),r.transform||Us()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],v1(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var n=this._rawTransformable,r=this._roamTransformable,a=new Af;return a.transform=r.transform,a.decomposeTransform(),{roam:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY},raw:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},t.prototype.dataToPoint=function(n,r,a){var i=r?this._rawTransform:this.transform;return a=a||[],i?jZ(a,n,i):$o(a,n)},t.prototype.pointToData=function(n){var r=this.invTransform;return r?jZ([],n,r):[n[0],n[1]]},t.prototype.convertToPixel=function(n,r,a){var i=YZ(r);return i===this?i.dataToPoint(a):null},t.prototype.convertFromPixel=function(n,r,a){var i=YZ(r);return i===this?i.pointToData(a):null},t.prototype.containPoint=function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])},t.dimensions=["x","y"],t}(Af);function YZ(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var lBt={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},N1e=["lng","lat"],R3=function(e){Le(t,e);function t(n,r,a){var i=e.call(this,n)||this;i.dimensions=N1e,i.type="geo",i._nameCoordMap=Pt(),i.map=r;var o=a.projection,s=ed.load(r,a.nameMap,a.nameProperty),l=ed.getGeoResource(r);i.resourceType=l?l.type:null;var u=i.regions=s.regions,c=lBt[l.type];i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=o;var f;if(o)for(var d=0;d<u.length;d++){var h=u[d].getBoundingRect(o);f=f||h.clone(),f.union(h)}else f=s.boundingRect;return i.setBoundingRect(f.x,f.y,f.width,f.height),i.aspectScale=o?1:fn(a.aspectScale,c.aspectScale),i._invertLongitute=o?!1:c.invertLongitute,i}return t.prototype._transformTo=function(n,r,a,i){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new xn(n,r,a,i));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(n){return this._regionsMap.get(n)},t.prototype.getRegionByCoord=function(n){for(var r=this.regions,a=0;a<r.length;a++){var i=r[a];if(i.type==="geoJSON"&&i.contain(n))return r[a]}},t.prototype.addGeoCoord=function(n,r){this._nameCoordMap.set(n,r)},t.prototype.getGeoCoord=function(n){var r=this._regionsMap.get(n);return this._nameCoordMap.get(n)||r&&r.getCenter()},t.prototype.dataToPoint=function(n,r,a){if(Dt(n)&&(n=this.getGeoCoord(n)),n){var i=this.projection;return i&&(n=i.project(n)),n&&this.projectedToPoint(n,r,a)}},t.prototype.pointToData=function(n){var r=this.projection;return r&&(n=r.unproject(n)),n&&this.pointToProjected(n)},t.prototype.pointToProjected=function(n){return e.prototype.pointToData.call(this,n)},t.prototype.projectedToPoint=function(n,r,a){return e.prototype.dataToPoint.call(this,n,r,a)},t.prototype.convertToPixel=function(n,r,a){var i=XZ(r);return i===this?i.dataToPoint(a):null},t.prototype.convertFromPixel=function(n,r,a){var i=XZ(r);return i===this?i.pointToData(a):null},t}(TC);$a(R3,TC);function XZ(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Da).models[0]||{}).coordinateSystem:null}function qZ(e,t){var n=e.get("boundingCoords");if(n!=null){var r=n[0],a=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])){var i=this.projection;if(i){var o=r[0],s=r[1],l=a[0],u=a[1];r=[1/0,1/0],a=[-1/0,-1/0];var c=function(S,C,k,T){for(var I=k-S,E=T-C,A=0;A<=100;A++){var N=A/100,L=i.project([S+I*N,C+E*N]);Jd(r,r,L),Qd(a,a,L)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(r[0],r[1],a[0]-r[0],a[1]-r[1])}}var f=this.getBoundingRect(),d=e.get("layoutCenter"),h=e.get("layoutSize"),p=t.getWidth(),v=t.getHeight(),g=f.width/f.height*this.aspectScale,m=!1,y,b;d&&h&&(y=[St(d[0],p),St(d[1],v)],b=St(h,Math.min(p,v)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(b)&&(m=!0));var x;if(m)x={},g>1?(x.width=b,x.height=b/g):(x.height=b,x.width=b*g),x.y=y[1]-x.height/2,x.x=y[0]-x.width/2;else{var _=e.getBoxLayoutParams();_.aspect=g,x=Ya(_,{width:p,height:v})}this.setViewRect(x.x,x.y,x.width,x.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function uBt(e,t){X(t.get("geoCoord"),function(n,r){e.addGeoCoord(r,n)})}var cBt=function(){function e(){this.dimensions=N1e}return e.prototype.create=function(t,n){var r=[];function a(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new R3(l+s,l,rt({nameMap:o.get("nameMap")},a(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=qZ,u.resize(o,n)}),t.eachSeries(function(o){var s=o.get("coordinateSystem");if(s==="geo"){var l=o.get("geoIndex")||0;o.coordinateSystem=r[l]}});var i={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();i[s]=i[s]||[],i[s].push(o)}}),X(i,function(o,s){var l=ut(o,function(c){return c.get("nameMap")}),u=new R3(s,s,rt({nameMap:F8(l)},a(o[0])));u.zoomLimit=Si.apply(null,ut(o,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=qZ,u.resize(o[0],n),X(o,function(c){c.coordinateSystem=u,uBt(u,c)})}),r},e.prototype.getFilledRegions=function(t,n,r,a){for(var i=(t||[]).slice(),o=Pt(),s=0;s<i.length;s++)o.set(i[s].name,i[s]);var l=ed.load(n,r,a);return X(l.regions,function(u){var c=u.name,f=o.get(c),d=u.properties&&u.properties.echartsStyle;f||(f={name:c},i.push(f)),d&&mn(f,d)}),i},e}(),R1e=new cBt,fBt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r,a){var i=ed.getGeoResource(n.map);if(i&&i.type==="geoJSON"){var o=n.itemStyle=n.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(n,a),kg(n,"label",["show"])},t.prototype.optionUpdated=function(){var n=this,r=this.option;r.regions=R1e.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var a={};this._optionModelMap=zc(r.regions||[],function(i,o){var s=o.name;return s&&(i.set(s,new pr(o,n,n.ecModel)),o.selected&&(a[s]=!0)),i},Pt()),r.selectedMap||(r.selectedMap=a)},t.prototype.getRegionModel=function(n){return this._optionModelMap.get(n)||new pr(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(n,r){var a=this.getRegionModel(n),i=r==="normal"?a.get(["label","formatter"]):a.get(["emphasis","label","formatter"]),o={name:n};if(Yt(i))return o.status=r,i(o);if(Dt(i))return i.replace("{a}",n??"")},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.select=function(n){var r=this.option,a=r.selectedMode;if(a){a!=="multiple"&&(r.selectedMap=null);var i=r.selectedMap||(r.selectedMap={});i[n]=!0}},t.prototype.unSelect=function(n){var r=this.option.selectedMap;r&&(r[n]=!1)},t.prototype.toggleSelected=function(n){this[this.isSelected(n)?"unSelect":"select"](n)},t.prototype.isSelected=function(n){var r=this.option.selectedMap;return!!(r&&r[n])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Rn);function ZZ(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function q5(e,t,n,r){var a=e.getZoom(),i=e.getCenter(),o=t.zoom,s=e.projectedToPoint?e.projectedToPoint(i):e.dataToPoint(i);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(ZZ(e,s),r)),o!=null){if(n){var l=n.min||0,u=n.max||1/0;o=Math.max(Math.min(a*o,u),l)/a}e.scaleX*=o,e.scaleY*=o;var c=(t.originX-e.x)*(o-1),f=(t.originY-e.y)*(o-1);e.x-=c,e.y-=f,e.updateTransform(),e.setCenter(ZZ(e,s),r),e.setZoom(o*a)}return{center:e.getCenter(),zoom:e.getZoom()}}var dBt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return t.prototype.init=function(n,r){this._api=r},t.prototype.render=function(n,r,a,i){if(this._model=n,!n.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new D1e(a));var o=this._mapDraw;o.draw(n,r,a,this,i),o.group.on("click",this._handleRegionClick,this),o.group.silent=n.get("silent"),this.group.add(o.group),this.updateSelectStatus(n,r,a)},t.prototype._handleRegionClick=function(n){var r;Av(n.target,function(a){return(r=sn(a).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(n,r,a){var i=this;this._mapDraw.group.traverse(function(o){var s=sn(o).eventData;if(s)return i._model.isSelected(s.name)?a.enterSelect(o):a.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(n){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(n,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(na);function hBt(e,t,n){ed.registerMap(e,t,n)}function M1e(e){e.registerCoordinateSystem("geo",R1e),e.registerComponentModel(fBt),e.registerComponentView(dBt),e.registerImpl("registerMap",hBt),e.registerImpl("getMap",function(n){return ed.getMapForUser(n)});function t(n,r){r.update="geo:updateSelectStatus",e.registerAction(r,function(a,i){var o={},s=[];return i.eachComponent({mainType:"geo",query:a},function(l){l[n](a.name);var u=l.coordinateSystem;X(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];X(o,function(f,d){o[d]&&c.push(d)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:a.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,r,a){var i=n.componentType||"series";r.eachComponent({mainType:i,query:n},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=q5(s,n,o.get("scaleLimit"),a);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),i==="series"&&X(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function pBt(e){kn(M1e),e.registerChartView(rBt),e.registerSeriesModel(aBt),e.registerLayout(sBt),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,oBt),$me("map",e.registerAction)}function vBt(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n=[t],r,a;r=n.pop();)if(a=r.children,r.isExpand&&a.length)for(var i=a.length,o=i-1;o>=0;o--){var s=a[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},n.push(s)}}function gBt(e,t){var n=e.isExpand?e.children:[],r=e.parentNode.children,a=e.hierNode.i?r[e.hierNode.i-1]:null;if(n.length){bBt(e);var i=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;a?(e.hierNode.prelim=a.hierNode.prelim+t(e,a),e.hierNode.modifier=e.hierNode.prelim-i):e.hierNode.prelim=i}else a&&(e.hierNode.prelim=a.hierNode.prelim+t(e,a));e.parentNode.hierNode.defaultAncestor=xBt(e,a,e.parentNode.hierNode.defaultAncestor||r[0],t)}function mBt(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function JZ(e){return arguments.length?e:SBt}function Hb(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function yBt(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function bBt(e){for(var t=e.children,n=t.length,r=0,a=0;--n>=0;){var i=t[n];i.hierNode.prelim+=r,i.hierNode.modifier+=r,a+=i.hierNode.change,r+=i.hierNode.shift+a}}function xBt(e,t,n,r){if(t){for(var a=e,i=e,o=i.parentNode.children[0],s=t,l=a.hierNode.modifier,u=i.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=Z$(s),i=J$(i),s&&i;){a=Z$(a),o=J$(o),a.hierNode.ancestor=e;var d=s.hierNode.prelim+f-i.hierNode.prelim-u+r(s,i);d>0&&(_Bt(wBt(s,e,n),e,d),u+=d,l+=d),f+=s.hierNode.modifier,u+=i.hierNode.modifier,l+=a.hierNode.modifier,c+=o.hierNode.modifier}s&&!Z$(a)&&(a.hierNode.thread=s,a.hierNode.modifier+=f-l),i&&!J$(o)&&(o.hierNode.thread=i,o.hierNode.modifier+=u-c,n=e)}return n}function Z$(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function J$(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function wBt(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function _Bt(e,t,n){var r=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=r}function SBt(e,t){return e.parentNode===t.parentNode?1:2}var CBt=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),TBt=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new CBt},t.prototype.buildPath=function(n,r){var a=r.childPoints,i=a.length,o=r.parentPoint,s=a[0],l=a[i-1];if(i===1){n.moveTo(o[0],o[1]),n.lineTo(s[0],s[1]);return}var u=r.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,d=St(r.forkPosition,1),h=[];h[c]=o[c],h[f]=o[f]+(l[f]-o[f])*d,n.moveTo(o[0],o[1]),n.lineTo(h[0],h[1]),n.moveTo(s[0],s[1]),h[c]=s[c],n.lineTo(h[0],h[1]),h[c]=l[c],n.lineTo(h[0],h[1]),n.lineTo(l[0],l[1]);for(var p=1;p<i-1;p++){var v=a[p];n.moveTo(v[0],v[1]),h[c]=v[c],n.lineTo(h[0],h[1])}},t}(An),kBt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new an,n}return t.prototype.init=function(n,r){this._controller=new CC(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(n,r,a){var i=n.getData(),o=n.layoutInfo,s=this._mainGroup,l=n.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(n,a),this._updateController(n,r,a);var u=this._data;i.diff(u).add(function(c){QZ(i,c)&&eJ(i,c,null,s,n)}).update(function(c,f){var d=u.getItemGraphicEl(f);if(!QZ(i,c)){d&&nJ(u,f,d,s,n);return}eJ(i,c,d,s,n)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&nJ(u,c,f,s,n)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),n.get("expandAndCollapse")===!0&&i.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){a.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:f})})}),this._data=i},t.prototype._updateViewCoordSys=function(n,r){var a=n.getData(),i=[];a.each(function(f){var d=a.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&i.push([+d.x,+d.y])});var o=[],s=[];IN(i,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=n.coordinateSystem=new TC;c.zoomLimit=n.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(n.get("center"),r),c.setZoom(n.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},t.prototype._updateController=function(n,r,a){var i=this,o=this._controller,s=this._controllerHost,l=this.group;o.setPointerChecker(function(u,c,f){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(c,f)&&!ZN(u,a,n)}),o.enable(n.get("roam")),s.zoomLimit=n.get("scaleLimit"),s.zoom=n.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){j5(s,u.dx,u.dy),a.dispatchAction({seriesId:n.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Y5(s,u.scale,u.originX,u.originY),a.dispatchAction({seriesId:n.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(n),a.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(n){var r=n.getData(),a=this._getNodeGlobalScale(n);r.eachItemGraphicEl(function(i,o){i.setSymbolScale(a)})},t.prototype._getNodeGlobalScale=function(n){var r=n.coordinateSystem;if(r.type!=="view")return 1;var a=this._nodeScaleRatio,i=r.scaleX||1,o=r.getZoom(),s=(o-1)*a+1;return s/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Dr);function QZ(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function eJ(e,t,n,r,a){var i=!n,o=e.tree.getNodeByDataIndex(t),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:"#fff",c=e.tree.root,f=o.parentNode===c?o:o.parentNode||o,d=e.getItemGraphicEl(f.dataIndex),h=f.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,v=o.getLayout();i?(n=new yC(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.x=p.x,n.y=p.y):n.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=v.rawX,n.__radialRawY=v.rawY,r.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,Jn(n,{x:v.x,y:v.y},a);var g=n.getSymbolPath();if(a.get("layout")==="radial"){var m=c.children[0],y=m.getLayout(),b=m.children.length,x=void 0,_=void 0;if(v.x===y.x&&o.isExpand===!0&&m.children.length){var S={x:(m.children[0].getLayout().x+m.children[b-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[b-1].getLayout().y)/2};x=Math.atan2(S.y-y.y,S.x-y.x),x<0&&(x=Math.PI*2+x),_=S.x<y.x,_&&(x=x-Math.PI)}else x=Math.atan2(v.y-y.y,v.x-y.x),x<0&&(x=Math.PI*2+x),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(_=v.x<y.x,_&&(x=x-Math.PI)):(_=v.x>y.x,_||(x=x-Math.PI));var C=_?"left":"right",k=s.getModel("label"),T=k.get("rotate"),I=T*(Math.PI/180),E=g.getTextContent();E&&(g.setTextConfig({position:k.get("position")||C,rotation:T==null?-x:I,origin:"center"}),E.setStyle("verticalAlign","middle"))}var A=s.get(["emphasis","focus"]),N=A==="relative"?Fw(o.getAncestorsIndices(),o.getDescendantIndices()):A==="ancestor"?o.getAncestorsIndices():A==="descendant"?o.getDescendantIndices():null;N&&(sn(n).focus=N),IBt(a,o,c,n,p,h,v,r),n.__edge&&(n.onHoverStateChange=function(L){if(L!=="blur"){var R=o.parentNode&&e.getItemGraphicEl(o.parentNode.dataIndex);R&&R.hoverState===lC||lE(n.__edge,L)}})}function IBt(e,t,n,r,a,i,o,s){var l=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),f=e.getOrient(),d=e.get(["lineStyle","curveness"]),h=e.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),v=r.__edge;if(u==="curve")t.parentNode&&t.parentNode!==n&&(v||(v=r.__edge=new cC({shape:M3(c,f,d,a,a)})),Jn(v,{shape:M3(c,f,d,i,o)},e));else if(u==="polyline"&&c==="orthogonal"&&t!==n&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var g=t.children,m=[],y=0;y<g.length;y++){var b=g[y].getLayout();m.push([b.x,b.y])}v||(v=r.__edge=new TBt({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:h}})),Jn(v,{shape:{parentPoint:[o.x,o.y],childPoints:m}},e)}v&&!(u==="polyline"&&!t.isExpand)&&(v.useStyle(Xt({strokeNoScale:!0,fill:null},p)),ji(v,l,"lineStyle"),Ag(v),s.add(v))}function tJ(e,t,n,r,a){var i=t.tree.root,o=$1e(i,e),s=o.source,l=o.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),f=c.__edge,d=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),h=r.get("edgeShape"),p=r.get("layout"),v=r.get("orient"),g=r.get(["lineStyle","curveness"]);d&&(h==="curve"?zh(d,{shape:M3(p,v,g,l,l),style:{opacity:0}},r,{cb:function(){n.remove(d)},removeOpt:a}):h==="polyline"&&r.get("layout")==="orthogonal"&&zh(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){n.remove(d)},removeOpt:a}))}}function $1e(e,t){for(var n=t.parentNode===e?t:t.parentNode||t,r;r=n.getLayout(),r==null;)n=n.parentNode===e?n:n.parentNode||n;return{source:n,sourceLayout:r}}function nJ(e,t,n,r,a){var i=e.tree.getNodeByDataIndex(t),o=e.tree.root,s=$1e(o,i).sourceLayout,l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};zh(n,{x:s.x+1,y:s.y+1},a,{cb:function(){r.remove(n),e.setItemGraphicEl(t,null)},removeOpt:l}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),i.children.forEach(function(u){tJ(u,e,r,a,l)}),tJ(i,e,r,a,l)}function M3(e,t,n,r,a){var i,o,s,l,u,c,f,d;if(e==="radial"){u=r.rawX,f=r.rawY,c=a.rawX,d=a.rawY;var h=Hb(u,f),p=Hb(u,f+(d-f)*n),v=Hb(c,d+(f-d)*n),g=Hb(c,d);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:v.x||0,cpy2:v.y||0}}else u=r.x,f=r.y,c=a.x,d=a.y,(t==="LR"||t==="RL")&&(i=u+(c-u)*n,o=f,s=c+(u-c)*n,l=d),(t==="TB"||t==="BT")&&(i=u,o=f+(d-f)*n,s=c,l=d+(f-d)*n);return{x1:u,y1:f,x2:c,y2:d,cpx1:i,cpy1:o,cpx2:s,cpy2:l}}var Dl=Vn();function L1e(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,O1e(t,n,e),X(n,function(r){X(t.TRANSFERABLE_METHODS,function(a){r.wrapMethod(a,vn(EBt,e))})}),t.wrapMethod("cloneShallow",vn(DBt,e)),X(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,vn(ABt,e))}),is(n[t.dataType]===t)}function EBt(e,t){if(MBt(this)){var n=rt({},Dl(this).datas);n[this.dataType]=t,O1e(t,n,e)}else Z5(t,this.dataType,Dl(this).mainData,e);return t}function ABt(e,t){return e.struct&&e.struct.update(),t}function DBt(e,t){return X(Dl(t).datas,function(n,r){n!==t&&Z5(n.cloneShallow(),r,t,e)}),t}function NBt(e){var t=Dl(this).mainData;return e==null||t==null?t:Dl(t).datas[e]}function RBt(){var e=Dl(this).mainData;return e==null?[{data:e}]:ut(Mn(Dl(e).datas),function(t){return{type:t,data:Dl(e).datas[t]}})}function MBt(e){return Dl(e).mainData===e}function O1e(e,t,n){Dl(e).datas={},X(t,function(r,a){Z5(r,a,e,n)})}function Z5(e,t,n,r){Dl(n).datas[t]=e,Dl(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=NBt,e.getLinkedDataAll=RBt}var $Bt=function(){function e(t,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=n}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(t,n,r){Yt(t)&&(r=n,n=t,t=null),t=t||{},Dt(t)&&(t={order:t});var a=t.order||"preorder",i=this[t.attr||"children"],o;a==="preorder"&&(o=n.call(r,this));for(var s=0;!o&&s<i.length;s++)i[s].eachNode(t,n,r);a==="postorder"&&n.call(r,this)},e.prototype.updateDepthAndHeight=function(t){var n=0;this.depth=t;for(var r=0;r<this.children.length;r++){var a=this.children[r];a.updateDepthAndHeight(t+1),a.height>n&&(n=a.height)}this.height=n+1},e.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var n=0,r=this.children,a=r.length;n<a;n++){var i=r[n].getNodeById(t);if(i)return i}},e.prototype.contains=function(t){if(t===this)return!0;for(var n=0,r=this.children,a=r.length;n<a;n++){var i=r[n].contains(t);if(i)return i}},e.prototype.getAncestors=function(t){for(var n=[],r=t?this:this.parentNode;r;)n.push(r),r=r.parentNode;return n.reverse(),n},e.prototype.getAncestorsIndices=function(){for(var t=[],n=this;n;)t.push(n.dataIndex),n=n.parentNode;return t.reverse(),t},e.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(n){t.push(n.dataIndex)}),t},e.prototype.getValue=function(t){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},e.prototype.setLayout=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,n)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostTree,r=n.data.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,n)},e.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,n=0;n<t.length;++n)if(t[n]===this)return n;return-1}return-1},e.prototype.isAncestorOf=function(t){for(var n=t.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},e.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},e}(),J5=function(){function e(t){this.type="tree",this._nodes=[],this.hostModel=t}return e.prototype.eachNode=function(t,n,r){this.root.eachNode(t,n,r)},e.prototype.getNodeByDataIndex=function(t){var n=this.data.getRawIndex(t);return this._nodes[n]},e.prototype.getNodeById=function(t){return this.root.getNodeById(t)},e.prototype.update=function(){for(var t=this.data,n=this._nodes,r=0,a=n.length;r<a;r++)n[r].dataIndex=-1;for(var r=0,a=t.count();r<a;r++)n[t.getRawIndex(r)].dataIndex=r},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,r){var a=new e(n),i=[],o=1;s(t);function s(c,f){var d=c.value;o=Math.max(o,st(d)?d.length:1),i.push(c);var h=new $Bt(Ha(c.name,""),a);f?LBt(h,f):a.root=h,a._nodes.push(h);var p=c.children;if(p)for(var v=0;v<p.length;v++)s(p[v],h)}a.root.updateDepthAndHeight(0);var l=gC(i,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Zo(l,n);return u.initData(i),r&&r(u),L1e({mainData:u,struct:a,structAttr:"tree"}),a.update(),a},e}();function LBt(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}function a_(e,t,n){if(e&&Cn(t,e.type)>=0){var r=n.getData().tree.root,a=e.targetNode;if(Dt(a)&&(a=r.getNodeById(a)),a&&r.contains(a))return{node:a};var i=e.targetNodeId;if(i!=null&&(a=r.getNodeById(i)))return{node:a}}}function P1e(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()}function Q5(e,t){var n=P1e(e);return Cn(n,t)>=0}function QN(e,t){for(var n=[];e;){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return n.reverse(),n}var OBt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n){var r={name:n.name,children:n.data},a=n.leaves||{},i=new pr(a,this,this.ecModel),o=J5.createTree(r,this,s);function s(f){f.wrapMethod("getItemModel",function(d,h){var p=o.getNodeByDataIndex(h);return p&&p.children.length&&p.isExpand||(d.parentModel=i),d})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=n.expandAndCollapse,c=u&&n.initialTreeDepth>=0?n.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=c}),o.data},t.prototype.getOrient=function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.formatTooltip=function(n,r,a){for(var i=this.getData().tree,o=i.root.children[0],s=i.getNodeByDataIndex(n),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return gi("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=QN(a,this),r.collapsed=!a.isExpand,r},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Vr);function PBt(e,t,n){for(var r=[e],a=[],i;i=r.pop();)if(a.push(i),i.isExpand){var o=i.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}for(;i=a.pop();)t(i,n)}function hb(e,t){for(var n=[e],r;r=n.pop();)if(t(r),r.isExpand){var a=r.children;if(a.length)for(var i=a.length-1;i>=0;i--)n.push(a[i])}}function FBt(e,t){e.eachSeriesByType("tree",function(n){BBt(n,t)})}function BBt(e,t){var n=yBt(e,t);e.layoutInfo=n;var r=e.get("layout"),a=0,i=0,o=null;r==="radial"?(a=2*Math.PI,i=Math.min(n.height,n.width)/2,o=JZ(function(b,x){return(b.parentNode===x.parentNode?1:2)/b.depth})):(a=n.width,i=n.height,o=JZ());var s=e.getData().tree.root,l=s.children[0];if(l){vBt(s),PBt(l,gBt,o),s.hierNode.modifier=-l.hierNode.prelim,hb(l,mBt);var u=l,c=l,f=l;hb(l,function(b){var x=b.getLayout().x;x<u.getLayout().x&&(u=b),x>c.getLayout().x&&(c=b),b.depth>f.depth&&(f=b)});var d=u===c?1:o(u,c)/2,h=d-u.getLayout().x,p=0,v=0,g=0,m=0;if(r==="radial")p=a/(c.getLayout().x+d+h),v=i/(f.depth-1||1),hb(l,function(b){g=(b.getLayout().x+h)*p,m=(b.depth-1)*v;var x=Hb(g,m);b.setLayout({x:x.x,y:x.y,rawX:g,rawY:m},!0)});else{var y=e.getOrient();y==="RL"||y==="LR"?(v=i/(c.getLayout().x+d+h),p=a/(f.depth-1||1),hb(l,function(b){m=(b.getLayout().x+h)*v,g=y==="LR"?(b.depth-1)*p:a-(b.depth-1)*p,b.setLayout({x:g,y:m},!0)})):(y==="TB"||y==="BT")&&(p=a/(c.getLayout().x+d+h),v=i/(f.depth-1||1),hb(l,function(b){g=(b.getLayout().x+h)*p,m=y==="TB"?(b.depth-1)*v:i-(b.depth-1)*v,b.setLayout({x:g,y:m},!0)}))}}}function VBt(e){e.eachSeriesByType("tree",function(t){var n=t.getData(),r=n.tree;r.eachNode(function(a){var i=a.getModel(),o=i.getModel("itemStyle").getItemStyle(),s=n.ensureUniqueItemVisual(a.dataIndex,"style");rt(s,o)})})}function zBt(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var a=t.dataIndex,i=r.getData().tree,o=i.getNodeByDataIndex(a);o.isExpand=!o.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,n,r){n.eachComponent({mainType:"series",subType:"tree",query:t},function(a){var i=a.coordinateSystem,o=q5(i,t,void 0,r);a.setCenter&&a.setCenter(o.center),a.setZoom&&a.setZoom(o.zoom)})})}function WBt(e){e.registerChartView(kBt),e.registerSeriesModel(OBt),e.registerLayout(FBt),e.registerVisual(VBt),zBt(e)}var rJ=["treemapZoomToNode","treemapRender","treemapMove"];function HBt(e){for(var t=0;t<rJ.length;t++)e.registerAction({type:rJ[t],update:"updateView"},ba);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"treemap",query:n},a);function a(i,o){var s=["treemapZoomToNode","treemapRootToNode"],l=a_(n,s,i);if(l){var u=i.getViewRoot();u&&(n.direction=Q5(u,l.node)?"rollUp":"drillDown"),i.resetViewRoot(l.node)}}})}function F1e(e){var t=e.getData(),n=t.tree,r={};n.eachNode(function(a){for(var i=a;i&&i.depth>1;)i=i.parentNode;var o=s3(e.ecModel,i.name||i.dataIndex+"",r);a.setVisual("decal",o)})}var UBt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return t.prototype.getInitialData=function(n,r){var a={name:n.name,children:n.data};B1e(a);var i=n.levels||[],o=this.designatedVisualItemStyle={},s=new pr({itemStyle:o},this,r);i=n.levels=GBt(i,r);var l=ut(i||[],function(f){return new pr(f,s,r)},this),u=J5.createTree(a,this,c);function c(f){f.wrapMethod("getItemModel",function(d,h){var p=u.getNodeByDataIndex(h),v=p?l[p.depth]:null;return d.parentModel=v||s,d})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=this.getRawValue(n),s=i.getName(n);return gi("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=QN(a,this),r.treePathInfo=r.treeAncestors,r},t.prototype.setLayoutInfo=function(n){this.layoutInfo=this.layoutInfo||{},rt(this.layoutInfo,n)},t.prototype.mapIdToIndex=function(n){var r=this._idIndexMap;r||(r=this._idIndexMap=Pt(),this._idIndexMapCount=0);var a=r.get(n);return a==null&&r.set(n,a=this._idIndexMapCount++),a},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){F1e(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Vr);function B1e(e){var t=0;X(e.children,function(r){B1e(r);var a=r.value;st(a)&&(a=a[0]),t+=a});var n=e.value;st(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),st(e.value)?e.value[0]=n:e.value=n}function GBt(e,t){var n=Ir(t.get("color")),r=Ir(t.get(["aria","decal","decals"]));if(n){e=e||[];var a,i;X(e,function(s){var l=new pr(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(a=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(i=!0)});var o=e[0]||(e[0]={});return a||(o.color=n.slice()),!i&&r&&(o.decal=r.slice()),e}}var KBt=8,aJ=8,Q$=5,jBt=function(){function e(t){this.group=new an,t.add(this.group)}return e.prototype.render=function(t,n,r,a){var i=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!i.get("show")||!r)){var s=i.getModel("itemStyle"),l=i.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,u),this._renderContent(t,f,s,l,u,c,a),VN(o,f.pos,f.box)}},e.prototype._prepare=function(t,n,r){for(var a=t;a;a=a.parentNode){var i=Ha(a.getModel().get("name"),""),o=r.getTextRect(i),s=Math.max(o.width+KBt*2,n.emptyItemWidth);n.totalWidth+=s+aJ,n.renderList.push({node:a,text:i,width:s})}},e.prototype._renderContent=function(t,n,r,a,i,o,s){for(var l=0,u=n.emptyItemWidth,c=t.get(["breadcrumb","height"]),f=n$t(n.pos,n.box),d=n.totalWidth,h=n.renderList,p=a.getModel("itemStyle").getItemStyle(),v=h.length-1;v>=0;v--){var g=h[v],m=g.node,y=g.width,b=g.text;d>f.width&&(d-=y-u,y=u,b=null);var x=new ls({shape:{points:YBt(l,0,y,c,v===h.length-1,v===0)},style:Xt(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Hn({style:Fr(i,{text:b})}),textConfig:{position:"inside"},z2:m1*1e4,onclick:vn(s,m)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=Fr(o,{text:b}),x.ensureState("emphasis").style=p,la(x,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(x),XBt(x,t,m),l+=y+aJ}},e.prototype.remove=function(){this.group.removeAll()},e}();function YBt(e,t,n,r,a,i){var o=[[a?e:e-Q$,t],[e+n,t],[e+n,t+r],[a?e:e-Q$,t+r]];return!i&&o.splice(2,0,[e+n+Q$,t+r/2]),!a&&o.push([e,t+r/2]),o}function XBt(e,t,n){sn(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&QN(n,t)}}var qBt=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(t,n,r,a,i){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:n,duration:r,delay:a,easing:i}),!0)},e.prototype.finished=function(t){return this._finishedCallback=t,this},e.prototype.start=function(){for(var t=this,n=this._storage.length,r=function(){n--,n<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},a=0,i=this._storage.length;a<i;a++){var o=this._storage[a];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:r,aborted:r})}return this},e}();function ZBt(){return new qBt}var $3=an,iJ=Bn,oJ=3,sJ="label",lJ="upperLabel",JBt=m1*10,QBt=m1*2,eVt=m1*3,ev=Eg([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),uJ=function(e){var t=ev(e);return t.stroke=t.fill=t.lineWidth=null,t},DE=Vn(),tVt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage=pb(),n}return t.prototype.render=function(n,r,a,i){var o=r.findComponents({mainType:"series",subType:"treemap",query:i});if(!(Cn(o,n)<0)){this.seriesModel=n,this.api=a,this.ecModel=r;var s=["treemapZoomToNode","treemapRootToNode"],l=a_(i,s,n),u=i&&i.type,c=n.layoutInfo,f=!this._oldTree,d=this._storage,h=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:i.direction}:null,p=this._giveContainerGroup(c),v=n.get("animation"),g=this._doRender(p,n,h);v&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(p,g,n,h):g.renderFinally(),this._resetController(a),this._renderBreadcrumb(n,a,l)}},t.prototype._giveContainerGroup=function(n){var r=this._containerGroup;return r||(r=this._containerGroup=new $3,this._initEvents(r),this.group.add(r)),r.x=n.x,r.y=n.y,r},t.prototype._doRender=function(n,r,a){var i=r.getData().tree,o=this._oldTree,s=pb(),l=pb(),u=this._storage,c=[];function f(y,b,x,_){return nVt(r,l,u,a,s,c,y,b,x,_)}v(i.root?[i.root]:[],o&&o.root?[o.root]:[],n,i===o||!o,0);var d=g(u);if(this._oldTree=i,this._storage=l,this._controllerHost){var h=this.seriesModel.layoutInfo,p=i.root.getLayout();p.width===h.width&&p.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:d,renderFinally:m};function v(y,b,x,_,S){_?(b=y,X(y,function(T,I){!T.isRemoved()&&k(I,I)})):new Jf(b,y,C,C).add(k).update(k).remove(vn(k,null)).execute();function C(T){return T.getId()}function k(T,I){var E=T!=null?y[T]:null,A=I!=null?b[I]:null,N=f(E,A,x,S);N&&v(E&&E.viewChildren||[],A&&A.viewChildren||[],N,_,S+1)}}function g(y){var b=pb();return y&&X(y,function(x,_){var S=b[_];X(x,function(C){C&&(S.push(C),DE(C).willDelete=!0)})}),b}function m(){X(d,function(y){X(y,function(b){b.parent&&b.parent.remove(b)})}),X(c,function(y){y.invisible=!0,y.dirty()})}},t.prototype._doAnimation=function(n,r,a,i){var o=a.get("animationDurationUpdate"),s=a.get("animationEasing"),l=(Yt(o)?0:o)||0,u=(Yt(s)?null:s)||"cubicOut",c=ZBt();X(r.willDeleteEls,function(f,d){X(f,function(h,p){if(!h.invisible){var v=h.parent,g,m=DE(v);if(i&&i.direction==="drillDown")g=v===i.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,b=0;m.willDelete||(y=m.nodeWidth/2,b=m.nodeHeight/2),g=d==="nodeGroup"?{x:y,y:b,style:{opacity:0}}:{shape:{x:y,y:b,width:0,height:0},style:{opacity:0}}}g&&c.add(h,g,l,0,u)}})}),X(this._storage,function(f,d){X(f,function(h,p){var v=r.lastsForAnimation[d][p],g={};v&&(h instanceof an?v.oldX!=null&&(g.x=h.x,g.y=h.y,h.x=v.oldX,h.y=v.oldY):(v.oldShape&&(g.shape=rt({},h.shape),h.setShape(v.oldShape)),v.fadein?(h.setStyle("opacity",0),g.style={opacity:1}):h.style.opacity!==1&&(g.style={opacity:1})),c.add(h,g,l,0,u))})},this),this._state="animating",c.finished(Nt(function(){this._state="ready",r.renderFinally()},this)).start()},t.prototype._resetController=function(n){var r=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost),r||(r=this._controller=new CC(n.getZr()),r.enable(this.seriesModel.get("roam")),a.zoomLimit=this.seriesModel.get("scaleLimit"),a.zoom=this.seriesModel.get("zoom"),r.on("pan",Nt(this._onPan,this)),r.on("zoom",Nt(this._onZoom,this)));var i=new xn(0,0,n.getWidth(),n.getHeight());r.setPointerChecker(function(o,s,l){return i.contain(s,l)})},t.prototype._clearController=function(){var n=this._controller;this._controllerHost=null,n&&(n.dispose(),n=null)},t.prototype._onPan=function(n){if(this._state!=="animating"&&(Math.abs(n.dx)>oJ||Math.abs(n.dy)>oJ)){var r=this.seriesModel.getData().tree.root;if(!r)return;var a=r.getLayout();if(!a)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+n.dx,y:a.y+n.dy,width:a.width,height:a.height}})}},t.prototype._onZoom=function(n){var r=n.originX,a=n.originY,i=n.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new xn(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=i,u){var d=u.min||0,h=u.max||1/0;f=Math.max(Math.min(h,f),d)}var p=f/c.zoom;c.zoom=f;var v=this.seriesModel.layoutInfo;r-=v.x,a-=v.y;var g=Us();Wc(g,g,[-r,-a]),H8(g,g,[p,p]),Wc(g,g,[r,a]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(n){var r=this;n.on("click",function(a){if(r._state==="ready"){var i=r.seriesModel.get("nodeClick",!0);if(i){var o=r.findTarget(a.offsetX,a.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)r._rootToNode(o);else if(i==="zoomToNode")r._zoomToNode(o);else if(i==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&pE(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(n,r,a){var i=this;a||(a=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),a||(a={node:n.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new jBt(this.group))).render(n,r,a.node,function(o){i._state!=="animating"&&(Q5(n.getViewRoot(),o)?i._rootToNode({node:o}):i._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=pb(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype._rootToNode=function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype.findTarget=function(n,r){var a,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(n,r),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)a={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),a},t.type="treemap",t}(Dr);function pb(){return{nodeGroup:[],background:[],content:[]}}function nVt(e,t,n,r,a,i,o,s,l,u){if(!o)return;var c=o.getLayout(),f=e.getData(),d=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var h=c.width,p=c.height,v=c.borderWidth,g=c.invisible,m=o.getRawIndex(),y=s&&s.getRawIndex(),b=o.viewChildren,x=c.upperHeight,_=b&&b.length,S=d.getModel("itemStyle"),C=d.getModel(["emphasis","itemStyle"]),k=d.getModel(["blur","itemStyle"]),T=d.getModel(["select","itemStyle"]),I=S.get("borderRadius")||0,E=j("nodeGroup",$3);if(!E)return;if(l.add(E),E.x=c.x||0,E.y=c.y||0,E.markRedraw(),DE(E).nodeWidth=h,DE(E).nodeHeight=p,c.isAboveViewRoot)return E;var A=j("background",iJ,u,QBt);A&&W(E,A,_&&c.upperLabelHeight);var N=d.getModel("emphasis"),L=N.get("focus"),R=N.get("blurScope"),D=N.get("disabled"),P=L==="ancestor"?o.getAncestorsIndices():L==="descendant"?o.getDescendantIndices():L;if(_)Gw(E)&&Iv(E,!1),A&&(Iv(A,!D),f.setItemGraphicEl(o.dataIndex,A),QF(A,P,R));else{var O=j("content",iJ,u,eVt);O&&U(E,O),A.disableMorphing=!0,A&&Gw(A)&&Iv(A,!1),Iv(E,!D),f.setItemGraphicEl(o.dataIndex,E);var M=d.getShallow("cursor");M&&O.attr("cursor",M),QF(E,P,R)}return E;function W(oe,ae,me){var ve=sn(ae);if(ve.dataIndex=o.dataIndex,ve.seriesIndex=e.seriesIndex,ae.setShape({x:0,y:0,width:h,height:p,r:I}),g)V(ae);else{ae.invisible=!1;var B=o.getVisual("style"),re=B.stroke,ge=uJ(S);ge.fill=re;var Ie=ev(C);Ie.fill=C.get("borderColor");var Ce=ev(k);Ce.fill=k.get("borderColor");var he=ev(T);if(he.fill=T.get("borderColor"),me){var J=h-2*v;H(ae,re,B.opacity,{x:v,y:0,width:J,height:x})}else ae.removeTextContent();ae.setStyle(ge),ae.ensureState("emphasis").style=Ie,ae.ensureState("blur").style=Ce,ae.ensureState("select").style=he,Ag(ae)}oe.add(ae)}function U(oe,ae){var me=sn(ae);me.dataIndex=o.dataIndex,me.seriesIndex=e.seriesIndex;var ve=Math.max(h-2*v,0),B=Math.max(p-2*v,0);if(ae.culling=!0,ae.setShape({x:v,y:v,width:ve,height:B,r:I}),g)V(ae);else{ae.invisible=!1;var re=o.getVisual("style"),ge=re.fill,Ie=uJ(S);Ie.fill=ge,Ie.decal=re.decal;var Ce=ev(C),he=ev(k),J=ev(T);H(ae,ge,re.opacity,null),ae.setStyle(Ie),ae.ensureState("emphasis").style=Ce,ae.ensureState("blur").style=he,ae.ensureState("select").style=J,Ag(ae)}oe.add(ae)}function V(oe){!oe.invisible&&i.push(oe)}function H(oe,ae,me,ve){var B=d.getModel(ve?lJ:sJ),re=Ha(d.get("name"),null),ge=B.getShallow("show");Yi(oe,vi(d,ve?lJ:sJ),{defaultText:ge?re:null,inheritColor:ae,defaultOpacity:me,labelFetcher:e,labelDataIndex:o.dataIndex});var Ie=oe.getTextContent();if(Ie){var Ce=Ie.style,he=V8(Ce.padding||0);ve&&(oe.setTextConfig({layoutRect:ve}),Ie.disableLabelLayout=!0),Ie.beforeUpdate=function(){var te=Math.max((ve?ve.width:oe.shape.width)-he[1]-he[3],0),xe=Math.max((ve?ve.height:oe.shape.height)-he[0]-he[2],0);(Ce.width!==te||Ce.height!==xe)&&Ie.setStyle({width:te,height:xe})},Ce.truncateMinChar=2,Ce.lineOverflow="truncate",K(Ce,ve,c);var J=Ie.getState("emphasis");K(J?J.style:null,ve,c)}}function K(oe,ae,me){var ve=oe?oe.text:null;if(!ae&&me.isLeafRoot&&ve!=null){var B=e.get("drillDownIcon",!0);oe.text=B?B+" "+ve:ve}}function j(oe,ae,me,ve){var B=y!=null&&n[oe][y],re=a[oe];return B?(n[oe][y]=null,ne(re,B)):g||(B=new ae,B instanceof Bl&&(B.z2=rVt(me,ve)),Q(re,B)),t[oe][m]=B}function ne(oe,ae){var me=oe[m]={};ae instanceof $3?(me.oldX=ae.x,me.oldY=ae.y):me.oldShape=rt({},ae.shape)}function Q(oe,ae){var me=oe[m]={},ve=o.parentNode,B=ae instanceof an;if(ve&&(!r||r.direction==="drillDown")){var re=0,ge=0,Ie=a.background[ve.getRawIndex()];!r&&Ie&&Ie.oldShape&&(re=Ie.oldShape.width,ge=Ie.oldShape.height),B?(me.oldX=0,me.oldY=ge):me.oldShape={x:re,y:ge,width:0,height:0}}me.fadein=!B}}function rVt(e,t){return e*JBt+t}var i_=X,aVt=Jt,NE=-1,ci=function(){function e(t){var n=t.mappingMethod,r=t.type,a=this.option=en(t);this.type=r,this.mappingMethod=n,this._normalizeData=sVt[n];var i=e.visualHandlers[r];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[n],n==="piecewise"?(eL(a),iVt(a)):n==="category"?a.categories?oVt(a):eL(a,!0):(is(n!=="linear"||a.dataExtent),eL(a))}return e.prototype.mapValueToVisual=function(t){var n=this._normalizeData(t);return this._normalizedToVisual(n,t)},e.prototype.getNormalizer=function(){return Nt(this._normalizeData,this)},e.listVisualTypes=function(){return Mn(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(t,n,r){Jt(t)?X(t,n,r):n.call(r,t)},e.mapVisual=function(t,n,r){var a,i=st(t)?[]:Jt(t)?{}:(a=!0,null);return e.eachVisual(t,function(o,s){var l=n.call(r,o,s);a?i=l:i[s]=l}),i},e.retrieveVisuals=function(t){var n={},r;return t&&i_(e.visualHandlers,function(a,i){t.hasOwnProperty(i)&&(n[i]=t[i],r=!0)}),r?n:null},e.prepareVisualTypes=function(t){if(st(t))t=t.slice();else if(aVt(t)){var n=[];i_(t,function(r,a){n.push(a)}),t=n}else return[];return t.sort(function(r,a){return a==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),t},e.dependsOn=function(t,n){return n==="color"?!!(t&&t.indexOf(n)===0):t===n},e.findPieceIndex=function(t,n,r){for(var a,i=1/0,o=0,s=n.length;o<s;o++){var l=n[o].value;if(l!=null){if(l===t||Dt(l)&&l===t+"")return o;r&&d(l,o)}}for(var o=0,s=n.length;o<s;o++){var u=n[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(cT(f[1],t,c[1]))return o}else if(c[1]===1/0){if(cT(f[0],c[0],t))return o}else if(cT(f[0],c[0],t)&&cT(f[1],t,c[1]))return o;r&&d(c[0],o),r&&d(c[1],o)}}if(r)return t===1/0?n.length-1:t===-1/0?0:a;function d(h,p){var v=Math.abs(h-t);v<i&&(i=v,a=p)}},e.visualHandlers={color:{applyVisual:vb("color"),getColorMapper:function(){var t=this.option;return Nt(t.mappingMethod==="category"?function(n,r){return!r&&(n=this._normalizeData(n)),Ub.call(this,n)}:function(n,r,a){var i=!!a;return!r&&(n=this._normalizeData(n)),a=$M(n,t.parsedVisual,a),i?a:Of(a,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Of($M(t,this.option.parsedVisual),"rgba")},category:Ub,piecewise:function(t,n){var r=O3.call(this,n);return r==null&&(r=Of($M(t,this.option.parsedVisual),"rgba")),r},fixed:tv}},colorHue:uT(function(t,n){return _x(t,n)}),colorSaturation:uT(function(t,n){return _x(t,null,n)}),colorLightness:uT(function(t,n){return _x(t,null,null,n)}),colorAlpha:uT(function(t,n){return nE(t,n)}),decal:{applyVisual:vb("decal"),_normalizedToVisual:{linear:null,category:Ub,piecewise:null,fixed:null}},opacity:{applyVisual:vb("opacity"),_normalizedToVisual:L3([0,1])},liftZ:{applyVisual:vb("liftZ"),_normalizedToVisual:{linear:tv,category:tv,piecewise:tv,fixed:tv}},symbol:{applyVisual:function(t,n,r){var a=this.mapValueToVisual(t);r("symbol",a)},_normalizedToVisual:{linear:cJ,category:Ub,piecewise:function(t,n){var r=O3.call(this,n);return r==null&&(r=cJ.call(this,t)),r},fixed:tv}},symbolSize:{applyVisual:vb("symbolSize"),_normalizedToVisual:L3([0,1])}},e}();function iVt(e){var t=e.pieceList;e.hasSpecialVisual=!1,X(t,function(n,r){n.originIndex=r,n.visual!=null&&(e.hasSpecialVisual=!0)})}function oVt(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(i_(t,function(o,s){n[o]=s}),!st(r)){var a=[];Jt(r)?i_(r,function(o,s){var l=n[s];a[l??NE]=o}):a[NE]=r,r=V1e(e,a)}for(var i=t.length-1;i>=0;i--)r[i]==null&&(delete n[t[i]],t.pop())}function eL(e,t){var n=e.visual,r=[];Jt(n)?i_(n,function(i){r.push(i)}):n!=null&&r.push(n);var a={color:1,symbol:1};!t&&r.length===1&&!a.hasOwnProperty(e.type)&&(r[1]=r[0]),V1e(e,r)}function uT(e){return{applyVisual:function(t,n,r){var a=this.mapValueToVisual(t);r("color",e(n("color"),a))},_normalizedToVisual:L3([0,1])}}function cJ(e){var t=this.option.visual;return t[Math.round(cr(e,[0,1],[0,t.length-1],!0))]||{}}function vb(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function Ub(e){var t=this.option.visual;return t[this.option.loop&&e!==NE?e%t.length:e]}function tv(){return this.option.visual[0]}function L3(e){return{linear:function(t){return cr(t,e,this.option.visual,!0)},category:Ub,piecewise:function(t,n){var r=O3.call(this,n);return r==null&&(r=cr(t,e,this.option.visual,!0)),r},fixed:tv}}function O3(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=ci.findPieceIndex(e,n),a=n[r];if(a&&a.visual)return a.visual[this.type]}}function V1e(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=ut(t,function(n){var r=Gs(n);return r||[0,0,0,1]})),t}var sVt={linear:function(e){return cr(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=ci.findPieceIndex(e,t,!0);if(n!=null)return cr(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??NE},fixed:ba};function cT(e,t,n){return e?t<=n:t<n}var lVt="itemStyle",z1e=Vn();const uVt={seriesType:"treemap",reset:function(e){var t=e.getData().tree,n=t.root;n.isRemoved()||W1e(n,{},e.getViewRoot().getAncestors(),e)}};function W1e(e,t,n,r){var a=e.getModel(),i=e.getLayout(),o=e.hostTree.data;if(!(!i||i.invisible||!i.isInView)){var s=a.getModel(lVt),l=cVt(s,t,r),u=o.ensureUniqueItemVisual(e.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),d;f!=null&&(d=fJ(l),c=fVt(f,d)),u.stroke=c;var h=e.viewChildren;if(!h||!h.length)d=fJ(l),u.fill=d;else{var p=dVt(e,a,i,s,l,h);X(h,function(v,g){if(v.depth>=n.length||v===n[v.depth]){var m=hVt(a,l,v,g,p,r);W1e(v,m,n,r)}})}}}function cVt(e,t,n){var r=rt({},t),a=n.designatedVisualItemStyle;return X(["color","colorAlpha","colorSaturation"],function(i){a[i]=t[i];var o=e.get(i);a[i]=null,o!=null&&(r[i]=o)}),r}function fJ(e){var t=tL(e,"color");if(t){var n=tL(e,"colorAlpha"),r=tL(e,"colorSaturation");return r&&(t=_x(t,null,null,r)),n&&(t=nE(t,n)),t}}function fVt(e,t){return t!=null?_x(t,null,null,e):null}function tL(e,t){var n=e[t];if(n!=null&&n!=="none")return n}function dVt(e,t,n,r,a,i){if(!(!i||!i.length)){var o=nL(t,"color")||a.color!=null&&a.color!=="none"&&(nL(t,"colorAlpha")||nL(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new ci(f);return z1e(d).drColorMappingBy=c,d}}}function nL(e,t){var n=e.get(t);return st(n)&&n.length?{name:t,range:n}:null}function hVt(e,t,n,r,a,i){var o=rt({},t);if(a){var s=a.type,l=s==="color"&&z1e(a).drColorMappingBy,u=l==="index"?r:l==="id"?i.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));o[s]=a.mapValueToVisual(u)}return o}var o_=Math.max,RE=Math.min,dJ=Si,eW=X,H1e=["itemStyle","borderWidth"],pVt=["itemStyle","gapWidth"],vVt=["upperLabel","show"],gVt=["upperLabel","height"];const mVt={seriesType:"treemap",reset:function(e,t,n,r){var a=n.getWidth(),i=n.getHeight(),o=e.option,s=Ya(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=o.size||[],u=St(dJ(s.width,l[0]),a),c=St(dJ(s.height,l[1]),i),f=r&&r.type,d=["treemapZoomToNode","treemapRootToNode"],h=a_(r,d,e),p=f==="treemapRender"||f==="treemapMove"?r.rootRect:null,v=e.getViewRoot(),g=P1e(v);if(f!=="treemapMove"){var m=f==="treemapZoomToNode"?SVt(e,h,v,u,c):p?[p.width,p.height]:[u,c],y=o.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var b={squareRatio:o.squareRatio,sort:y,leafDepth:o.leafDepth};v.hostTree.clearLayouts();var x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};v.setLayout(x),U1e(v,b,!1,0),x=v.getLayout(),eW(g,function(S,C){var k=(g[C+1]||v).getValue();S.setLayout(rt({dataExtent:[k,k],borderWidth:0,upperHeight:0},x))})}var _=e.getData().tree.root;_.setLayout(CVt(s,p,h),!0),e.setLayoutInfo(s),G1e(_,new xn(-s.x,-s.y,a,i),g,v,0)}};function U1e(e,t,n,r){var a,i;if(!e.isRemoved()){var o=e.getLayout();a=o.width,i=o.height;var s=e.getModel(),l=s.get(H1e),u=s.get(pVt)/2,c=K1e(s),f=Math.max(l,c),d=l-u,h=f-u;e.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),a=o_(a-2*d,0),i=o_(i-d-h,0);var p=a*i,v=yVt(e,s,p,t,n,r);if(v.length){var g={x:d,y:h,width:a,height:i},m=RE(a,i),y=1/0,b=[];b.area=0;for(var x=0,_=v.length;x<_;){var S=v[x];b.push(S),b.area+=S.getLayout().area;var C=_Vt(b,m,t.squareRatio);C<=y?(x++,y=C):(b.area-=b.pop().getLayout().area,hJ(b,m,g,u,!1),m=RE(g.width,g.height),b.length=b.area=0,y=1/0)}if(b.length&&hJ(b,m,g,u,!0),!n){var k=s.get("childrenVisibleMin");k!=null&&p<k&&(n=!0)}for(var x=0,_=v.length;x<_;x++)U1e(v[x],t,n,r+1)}}}function yVt(e,t,n,r,a,i){var o=e.children||[],s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=r.leafDepth!=null&&r.leafDepth<=i;if(a&&!l)return e.viewChildren=[];o=sr(o,function(h){return!h.isRemoved()}),xVt(o,s);var u=wVt(t,o,s);if(u.sum===0)return e.viewChildren=[];if(u.sum=bVt(t,n,u.sum,s,o),u.sum===0)return e.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var d=o[c].getValue()/u.sum*n;o[c].setLayout({area:d})}return l&&(o.length&&e.setLayout({isLeafRoot:!0},!0),o.length=0),e.viewChildren=o,e.setLayout({dataExtent:u.dataExtent},!0),o}function bVt(e,t,n,r,a){if(!r)return n;for(var i=e.get("visibleMin"),o=a.length,s=o,l=o-1;l>=0;l--){var u=a[r==="asc"?o-l-1:l].getValue();u/n*t<i&&(s=l,n-=u)}return r==="asc"?a.splice(0,o-s):a.splice(s,o-s),n}function xVt(e,t){return t&&e.sort(function(n,r){var a=t==="asc"?n.getValue()-r.getValue():r.getValue()-n.getValue();return a===0?t==="asc"?n.dataIndex-r.dataIndex:r.dataIndex-n.dataIndex:a}),e}function wVt(e,t,n){for(var r=0,a=0,i=t.length;a<i;a++)r+=t[a].getValue();var o=e.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&n?(s=[t[t.length-1].getValue(),t[0].getValue()],n==="asc"&&s.reverse()):(s=[1/0,-1/0],eW(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:r,dataExtent:s}}function _Vt(e,t,n){for(var r=0,a=1/0,i=0,o=void 0,s=e.length;i<s;i++)o=e[i].getLayout().area,o&&(o<a&&(a=o),o>r&&(r=o));var l=e.area*e.area,u=t*t*n;return l?o_(u*r/l,l/(u*a)):1/0}function hJ(e,t,n,r,a){var i=t===n.width?0:1,o=1-i,s=["x","y"],l=["width","height"],u=n[s[i]],c=t?e.area/t:0;(a||c>n[l[o]])&&(c=n[l[o]]);for(var f=0,d=e.length;f<d;f++){var h=e[f],p={},v=c?h.getLayout().area/c:0,g=p[l[o]]=o_(c-2*r,0),m=n[s[i]]+n[l[i]]-u,y=f===d-1||m<v?m:v,b=p[l[i]]=o_(y-2*r,0);p[s[o]]=n[s[o]]+RE(r,g/2),p[s[i]]=u+RE(r,b/2),u+=y,h.setLayout(p,!0)}n[s[o]]+=c,n[l[o]]-=c}function SVt(e,t,n,r,a){var i=(t||{}).node,o=[r,a];if(!i||i===n)return o;for(var s,l=r*a,u=l*e.option.zoomToNodeRatio;s=i.parentNode;){for(var c=0,f=s.children,d=0,h=f.length;d<h;d++)c+=f[d].getValue();var p=i.getValue();if(p===0)return o;u*=c/p;var v=s.getModel(),g=v.get(H1e),m=Math.max(g,K1e(v));u+=4*g*g+(3*g+m)*Math.pow(u,.5),u>TY&&(u=TY),i=s}u<l&&(u=l);var y=Math.pow(u/l,.5);return[r*y,a*y]}function CVt(e,t,n){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!n)return r;var a=n.node,i=a.getLayout();if(!i)return r;for(var o=[i.width/2,i.height/2],s=a;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}function G1e(e,t,n,r,a){var i=e.getLayout(),o=n[a],s=o&&o===e;if(!(o&&!s||a===n.length&&e!==r)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(i),isAboveViewRoot:s},!0);var l=new xn(t.x-i.x,t.y-i.y,t.width,t.height);eW(e.viewChildren||[],function(u){G1e(u,l,n,r,a+1)})}}function K1e(e){return e.get(vVt)?e.get(gVt):0}function TVt(e){e.registerSeriesModel(UBt),e.registerChartView(tVt),e.registerVisual(uVt),e.registerLayout(mVt),HBt(e)}function kVt(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),a=n.getGraph(),i=a.data,o=r.mapArray(r.getName);i.filterSelf(function(s){var l=i.getItemModel(s),u=l.getShallow("category");if(u!=null){Kn(u)&&(u=o[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function IVt(e){var t={};e.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),a=n.getData(),i={};r.each(function(o){var s=r.getName(o);i["ec-"+s]=o;var l=r.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=n.getColorFromPalette(s,t)),r.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var d=l.getShallow(c[f],!0);d!=null&&r.setItemVisual(o,c[f],d)}}),r.count()&&a.each(function(o){var s=a.getItemModel(o),l=s.getShallow("category");if(l!=null){Dt(l)&&(l=i["ec-"+l]);var u=r.getItemVisual(l,"style"),c=a.ensureUniqueItemVisual(o,"style");rt(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)a.setItemVisual(o,f[d],r.getItemVisual(l,f[d]))}})})}function fT(e){return e instanceof Array||(e=[e,e]),e}function EVt(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),r=t.getEdgeData(),a=fT(t.get("edgeSymbol")),i=fT(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",a&&a[0]),r.setVisual("toSymbol",a&&a[1]),r.setVisual("fromSymbolSize",i&&i[0]),r.setVisual("toSymbolSize",i&&i[1]),r.setVisual("style",t.getModel("lineStyle").getLineStyle()),r.each(function(o){var s=r.getItemModel(o),l=n.getEdgeByIndex(o),u=fT(s.getShallow("symbol",!0)),c=fT(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),d=r.ensureUniqueItemVisual(o,"style");switch(rt(d,f),d.stroke){case"source":{var h=l.node1.getVisual("style");d.stroke=h&&h.fill;break}case"target":{var h=l.node2.getVisual("style");d.stroke=h&&h.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var P3="-->",eR=function(e){return e.get("autoCurveness")||null},j1e=function(e,t){var n=eR(e),r=20,a=[];if(Kn(n))r=n;else if(st(n)){e.__curvenessList=n;return}t>r&&(r=t);var i=r%2?r+2:r+3;a=[];for(var o=0;o<i;o++)a.push((o%2?o+1:o)/10*(o%2?-1:1));e.__curvenessList=a},s_=function(e,t,n){var r=[e.id,e.dataIndex].join("."),a=[t.id,t.dataIndex].join(".");return[n.uid,r,a].join(P3)},Y1e=function(e){var t=e.split(P3);return[t[0],t[2],t[1]].join(P3)},AVt=function(e,t){var n=s_(e.node1,e.node2,t);return t.__edgeMap[n]},DVt=function(e,t){var n=F3(s_(e.node1,e.node2,t),t),r=F3(s_(e.node2,e.node1,t),t);return n+r},F3=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function NVt(e){eR(e)&&(e.__curvenessList=[],e.__edgeMap={},j1e(e))}function RVt(e,t,n,r){if(eR(n)){var a=s_(e,t,n),i=n.__edgeMap,o=i[Y1e(a)];i[a]&&!o?i[a].isForward=!0:o&&i[a]&&(o.isForward=!0,i[a].isForward=!1),i[a]=i[a]||[],i[a].push(r)}}function tW(e,t,n,r){var a=eR(t),i=st(a);if(!a)return null;var o=AVt(e,t);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===n){s=l;break}var u=DVt(e,t);j1e(t,u),e.lineStyle=e.lineStyle||{};var c=s_(e.node1,e.node2,t),f=t.__curvenessList,d=i||u%2?0:1;if(o.isForward)return f[d+s];var h=Y1e(c),p=F3(h,t),v=f[s+p+d];return r?i?a&&a[0]===0?(p+d)%2?v:-v:((p%2?0:1)+d)%2?v:-v:(p+d)%2?v:-v:f[s+p+d]}function X1e(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view")){var n=e.getGraph();n.eachNode(function(r){var a=r.getModel();r.setLayout([+a.get("x"),+a.get("y")])}),nW(n,e)}}function nW(e,t){e.eachEdge(function(n,r){var a=Ac(n.getModel().get(["lineStyle","curveness"]),-tW(n,t,r,!0),0),i=$f(n.node1.getLayout()),o=$f(n.node2.getLayout()),s=[i,o];+a&&s.push([(i[0]+o[0])/2-(i[1]-o[1])*a,(i[1]+o[1])/2-(o[0]-i[0])*a]),n.setLayout(s)})}function MVt(e,t){e.eachSeriesByType("graph",function(n){var r=n.get("layout"),a=n.coordinateSystem;if(a&&a.type!=="view"){var i=n.getData(),o=[];X(a.dimensions,function(d){o=o.concat(i.mapDimensionsAll(d))});for(var s=0;s<i.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=i.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?i.setItemLayout(s,a.dataToPoint(l)):i.setItemLayout(s,[NaN,NaN])}nW(i.graph,n)}else(!r||r==="none")&&X1e(n)})}function Gb(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var n=e.option.nodeScaleRatio,r=t.scaleX,a=t.getZoom(),i=(a-1)*n+1;return i/r}function Kb(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var pJ=Math.PI,rL=[];function rW(e,t,n,r){var a=e.coordinateSystem;if(!(a&&a.type!=="view")){var i=a.getBoundingRect(),o=e.getData(),s=o.graph,l=i.width/2+i.x,u=i.height/2+i.y,c=Math.min(i.width,i.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(n){var d=a.pointToData(r),h=d[0],p=d[1],v=[h-l,p-u];p1(v,v),dk(v,v,c),n.setLayout([l+v[0],u+v[1]],!0);var g=e.get(["circular","rotateLabel"]);q1e(n,g,l,u)}$Vt[t](e,s,o,c,l,u,f),s.eachEdge(function(m,y){var b=Ac(m.getModel().get(["lineStyle","curveness"]),tW(m,e,y),0),x=$f(m.node1.getLayout()),_=$f(m.node2.getLayout()),S,C=(x[0]+_[0])/2,k=(x[1]+_[1])/2;+b&&(b*=3,S=[l*b+C*(1-b),u*b+k*(1-b)]),m.setLayout([x,_,S])})}}}var $Vt={value:function(e,t,n,r,a,i,o){var s=0,l=n.getSum("value"),u=Math.PI*2/(l||o);t.eachNode(function(c){var f=c.getValue("value"),d=u*(l?f:1)/2;s+=d,c.setLayout([r*Math.cos(s)+a,r*Math.sin(s)+i]),s+=d})},symbolSize:function(e,t,n,r,a,i,o){var s=0;rL.length=o;var l=Gb(e);t.eachNode(function(f){var d=Kb(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var h=Math.asin(d/2/r);isNaN(h)&&(h=pJ/2),rL[f.dataIndex]=h,s+=h*2});var u=(2*pJ-s)/o/2,c=0;t.eachNode(function(f){var d=u+rL[f.dataIndex];c+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([r*Math.cos(c)+a,r*Math.sin(c)+i]),c+=d})}};function q1e(e,t,n,r){var a=e.getGraphicEl();if(a){var i=e.getModel(),o=i.get(["label","rotate"])||0,s=a.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-r,l[0]-n);u<0&&(u=Math.PI*2+u);var c=l[0]<n;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var d=s.ensureState("emphasis");rt(d.textConfig||(d.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function LVt(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&rW(t,"symbolSize")})}var V0=CF;function OVt(e,t,n){for(var r=e,a=t,i=n.rect,o=i.width,s=i.height,l=[i.x+o/2,i.y+s/2],u=n.gravity==null?.1:n.gravity,c=0;c<r.length;c++){var f=r[c];f.p||(f.p=t0(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=$f(f.p),f.edges=null}var d=n.friction==null?.6:n.friction,h=d,p,v;return{warmUp:function(){h=d*.8},setFixed:function(g){r[g].fixed=!0},setUnfixed:function(g){r[g].fixed=!1},beforeStep:function(g){p=g},afterStep:function(g){v=g},step:function(g){p&&p(r,a);for(var m=[],y=r.length,b=0;b<a.length;b++){var x=a[b];if(!x.ignoreForceLayout){var _=x.n1,S=x.n2;Tv(m,S.p,_.p);var C=TF(m)-x.d,k=S.w/(_.w+S.w);isNaN(k)&&(k=0),p1(m,m),!_.fixed&&V0(_.p,_.p,m,k*C*h),!S.fixed&&V0(S.p,S.p,m,-(1-k)*C*h)}}for(var b=0;b<y;b++){var T=r[b];T.fixed||(Tv(m,l,T.p),V0(T.p,T.p,m,u*h))}for(var b=0;b<y;b++)for(var _=r[b],I=b+1;I<y;I++){var S=r[I];Tv(m,S.p,_.p);var C=TF(m);C===0&&(fDt(m,Math.random()-.5,Math.random()-.5),C=1);var E=(_.rep+S.rep)/C/C;!_.fixed&&V0(_.pp,_.pp,m,E),!S.fixed&&V0(S.pp,S.pp,m,-E)}for(var A=[],b=0;b<y;b++){var T=r[b];T.fixed||(Tv(A,T.p,T.pp),V0(T.p,T.p,A,h),$o(T.pp,T.p))}h=h*.992;var N=h<.01;v&&v(r,a,N),g&&g(N)}}}function PVt(e){e.eachSeriesByType("graph",function(t){var n=t.coordinateSystem;if(!(n&&n.type!=="view"))if(t.get("layout")==="force"){var r=t.preservedPoints||{},a=t.getGraph(),i=a.data,o=a.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?i.each(function(b){var x=i.getId(b);i.setItemLayout(b,r[x]||[NaN,NaN])}):!l||l==="none"?X1e(t):l==="circular"&&rW(t,"value");var u=i.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),d=s.get("edgeLength"),h=st(f)?f:[f,f],p=st(d)?d:[d,d];p=[p[1],p[0]];var v=i.mapArray("value",function(b,x){var _=i.getItemLayout(x),S=cr(b,u,h);return isNaN(S)&&(S=(h[0]+h[1])/2),{w:S,rep:S,fixed:i.getItemModel(x).get("fixed"),p:!_||isNaN(_[0])||isNaN(_[1])?null:_}}),g=o.mapArray("value",function(b,x){var _=a.getEdgeByIndex(x),S=cr(b,c,p);isNaN(S)&&(S=(p[0]+p[1])/2);var C=_.getModel(),k=Ac(_.getModel().get(["lineStyle","curveness"]),-tW(_,t,x,!0),0);return{n1:v[_.node1.dataIndex],n2:v[_.node2.dataIndex],d:S,curveness:k,ignoreForceLayout:C.get("ignoreForceLayout")}}),m=n.getBoundingRect(),y=OVt(v,g,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});y.beforeStep(function(b,x){for(var _=0,S=b.length;_<S;_++)b[_].fixed&&$o(b[_].p,a.getNodeByIndex(_).getLayout())}),y.afterStep(function(b,x,_){for(var S=0,C=b.length;S<C;S++)b[S].fixed||a.getNodeByIndex(S).setLayout(b[S].p),r[i.getId(S)]=b[S].p;for(var S=0,C=x.length;S<C;S++){var k=x[S],T=a.getEdgeByIndex(S),I=k.n1.p,E=k.n2.p,A=T.getLayout();A=A?A.slice():[],A[0]=A[0]||[],A[1]=A[1]||[],$o(A[0],I),$o(A[1],E),+k.curveness&&(A[2]=[(I[0]+E[0])/2-(I[1]-E[1])*k.curveness,(I[1]+E[1])/2-(E[0]-I[0])*k.curveness]),T.setLayout(A)}}),t.forceLayout=y,t.preservedPoints=r,y.step()}else t.forceLayout=null})}function FVt(e,t,n){var r=rt(e.getBoxLayoutParams(),{aspect:n});return Ya(r,{width:t.getWidth(),height:t.getHeight()})}function BVt(e,t){var n=[];return e.eachSeriesByType("graph",function(r){var a=r.get("coordinateSystem");if(!a||a==="view"){var i=r.getData(),o=i.mapArray(function(g){var m=i.getItemModel(g);return[+m.get("x"),+m.get("y")]}),s=[],l=[];IN(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=FVt(r,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],d=l[1]-s[1],h=c.width,p=c.height,v=r.coordinateSystem=new TC;v.zoomLimit=r.get("scaleLimit"),v.setBoundingRect(s[0],s[1],f,d),v.setViewRect(c.x,c.y,h,p),v.setCenter(r.get("center"),t),v.setZoom(r.get("zoom")),n.push(v)}}),n}var vJ=ii.prototype,aL=cC.prototype,Z1e=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Z1e);function iL(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var VVt=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-line",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Z1e},t.prototype.buildPath=function(n,r){iL(r)?vJ.buildPath.call(this,n,r):aL.buildPath.call(this,n,r)},t.prototype.pointAt=function(n){return iL(this.shape)?vJ.pointAt.call(this,n):aL.pointAt.call(this,n)},t.prototype.tangentAt=function(n){var r=this.shape,a=iL(r)?[r.x2-r.x1,r.y2-r.y1]:aL.tangentAt.call(this,n);return p1(a,a)},t}(An),oL=["fromSymbol","toSymbol"];function gJ(e){return"_"+e+"Type"}function mJ(e,t,n){var r=t.getItemVisual(n,e);if(!r||r==="none")return r;var a=t.getItemVisual(n,e+"Size"),i=t.getItemVisual(n,e+"Rotate"),o=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),l=k1(a),u=i0(o||0,l);return r+l+u+(i||"")+(s||"")}function yJ(e,t,n){var r=t.getItemVisual(n,e);if(!(!r||r==="none")){var a=t.getItemVisual(n,e+"Size"),i=t.getItemVisual(n,e+"Rotate"),o=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),l=k1(a),u=i0(o||0,l),c=Ma(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=i==null||isNaN(i)?void 0:+i*Math.PI/180||0,c.name=e,c}}function zVt(e){var t=new VVt({name:"line",subPixelOptimize:!0});return B3(t.shape,e),t}function B3(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var aW=function(e){Le(t,e);function t(n,r,a){var i=e.call(this)||this;return i._createLine(n,r,a),i}return t.prototype._createLine=function(n,r,a){var i=n.hostModel,o=n.getItemLayout(r),s=zVt(o);s.shape.percent=0,Xr(s,{shape:{percent:1}},i,r),this.add(s),X(oL,function(l){var u=yJ(l,n,r);this.add(u),this[gJ(l)]=mJ(l,n,r)},this),this._updateCommonStl(n,r,a)},t.prototype.updateData=function(n,r,a){var i=n.hostModel,o=this.childOfName("line"),s=n.getItemLayout(r),l={shape:{}};B3(l.shape,s),Jn(o,l,i,r),X(oL,function(u){var c=mJ(u,n,r),f=gJ(u);if(this[f]!==c){this.remove(this.childOfName(u));var d=yJ(u,n,r);this.add(d)}this[f]=c},this),this._updateCommonStl(n,r,a)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(n,r,a){var i=n.hostModel,o=this.childOfName("line"),s=a&&a.emphasisLineStyle,l=a&&a.blurLineStyle,u=a&&a.selectLineStyle,c=a&&a.labelStatesModels,f=a&&a.emphasisDisabled,d=a&&a.focus,h=a&&a.blurScope;if(!a||n.hasItemOption){var p=n.getItemModel(r),v=p.getModel("emphasis");s=v.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),f=v.get("disabled"),d=v.get("focus"),h=v.get("blurScope"),c=vi(p)}var g=n.getItemVisual(r,"style"),m=g.stroke;o.useStyle(g),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,X(oL,function(S){var C=this.childOfName(S);if(C){C.setColor(m),C.style.opacity=g.opacity;for(var k=0;k<os.length;k++){var T=os[k],I=o.getState(T);if(I){var E=I.style||{},A=C.ensureState(T),N=A.style||(A.style={});E.stroke!=null&&(N[C.__isEmptyBrush?"stroke":"fill"]=E.stroke),E.opacity!=null&&(N.opacity=E.opacity)}}C.markRedraw()}},this);var y=i.getRawValue(r);Yi(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(S,C){return i.getFormattedLabel(S,C,n.dataType)}},inheritColor:m||"#000",defaultOpacity:g.opacity,defaultText:(y==null?n.getName(r):isFinite(y)?ha(y):y)+""});var b=this.getTextContent();if(b){var x=c.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=x.get("position")||"middle";var _=x.get("distance");st(_)||(_=[_,_]),b.__labelDistance=_}this.setTextConfig({position:null,local:!0,inside:!1}),la(this,d,h,f)},t.prototype.highlight=function(){qf(this)},t.prototype.downplay=function(){Zf(this)},t.prototype.updateLayout=function(n,r){this.setLinePoints(n.getItemLayout(r))},t.prototype.setLinePoints=function(n){var r=this.childOfName("line");B3(r.shape,n),r.dirty()},t.prototype.beforeUpdate=function(){var n=this,r=n.childOfName("fromSymbol"),a=n.childOfName("toSymbol"),i=n.getTextContent();if(!r&&!a&&(!i||i.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=n.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),d=Tv([],f,c);p1(d,d);function h(I,E){var A=I.__specifiedRotation;if(A==null){var N=l.tangentAt(E);I.attr("rotation",(E===1?-1:1)*Math.PI/2-Math.atan2(N[1],N[0]))}else I.attr("rotation",A)}if(r&&(r.setPosition(c),h(r,0),r.scaleX=r.scaleY=o*u,r.markRedraw()),a&&(a.setPosition(f),h(a,1),a.scaleX=a.scaleY=o*u,a.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var p=void 0,v=void 0,g=i.__labelDistance,m=g[0]*o,y=g[1]*o,b=u/2,x=l.tangentAt(b),_=[x[1],-x[0]],S=l.pointAt(b);_[1]>0&&(_[0]=-_[0],_[1]=-_[1]);var C=x[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var k=-Math.atan2(x[1],x[0]);f[0]<c[0]&&(k=Math.PI+k),i.rotation=k}var T=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":T=-y,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":T=y,v="top";break;default:T=0,v="middle"}switch(i.__position){case"end":i.x=d[0]*m+f[0],i.y=d[1]*y+f[1],p=d[0]>.8?"left":d[0]<-.8?"right":"center",v=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":i.x=-d[0]*m+c[0],i.y=-d[1]*y+c[1],p=d[0]>.8?"right":d[0]<-.8?"left":"center",v=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=m*C+c[0],i.y=c[1]+T,p=x[0]<0?"right":"left",i.originX=-m*C,i.originY=-T;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=S[0],i.y=S[1]+T,p="center",i.originY=-T;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-m*C+f[0],i.y=f[1]+T,p=x[0]>=0?"right":"left",i.originX=m*C,i.originY=-T;break}i.scaleX=i.scaleY=o,i.setStyle({verticalAlign:i.__verticalAlign||v,align:i.__align||p})}},t}(an),iW=function(){function e(t){this.group=new an,this._LineCtor=t||aW}return e.prototype.updateData=function(t){var n=this;this._progressiveEls=null;var r=this,a=r.group,i=r._lineData;r._lineData=t,i||a.removeAll();var o=bJ(t);t.diff(i).add(function(s){n._doAdd(t,s,o)}).update(function(s,l){n._doUpdate(i,t,l,s,o)}).remove(function(s){a.remove(i.getItemGraphicEl(s))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(n,r){n.updateLayout(t,r)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=bJ(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n){this._progressiveEls=[];function r(s){!s.isGroup&&!WVt(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var i=n.getItemLayout(a);if(sL(i)){var o=new this._LineCtor(n,a,this._seriesScope);o.traverse(r),this.group.add(o),n.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){pp(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,n,r){var a=t.getItemLayout(n);if(sL(a)){var i=new this._LineCtor(t,n,r);t.setItemGraphicEl(n,i),this.group.add(i)}},e.prototype._doUpdate=function(t,n,r,a,i){var o=t.getItemGraphicEl(r);if(!sL(n.getItemLayout(a))){this.group.remove(o);return}o?o.updateData(n,a,i):o=new this._LineCtor(n,a,i),n.setItemGraphicEl(a,o),this.group.add(o)},e}();function WVt(e){return e.animators&&e.animators.length>0}function bJ(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:vi(t)}}function xJ(e){return isNaN(e[0])||isNaN(e[1])}function sL(e){return e&&!xJ(e[0])&&!xJ(e[1])}var lL=[],uL=[],cL=[],z0=xi,fL=Hv,wJ=Math.abs;function _J(e,t,n){for(var r=e[0],a=e[1],i=e[2],o=1/0,s,l=n*n,u=.1,c=.1;c<=.9;c+=.1){lL[0]=z0(r[0],a[0],i[0],c),lL[1]=z0(r[1],a[1],i[1],c);var f=wJ(fL(lL,t)-l);f<o&&(o=f,s=c)}for(var d=0;d<32;d++){var h=s+u;uL[0]=z0(r[0],a[0],i[0],s),uL[1]=z0(r[1],a[1],i[1],s),cL[0]=z0(r[0],a[0],i[0],h),cL[1]=z0(r[1],a[1],i[1],h);var f=fL(uL,t)-l;if(wJ(f)<.01)break;var p=fL(cL,t)-l;u/=2,f<0?p>=0?s=s+u:s=s-u:p>=0?s=s-u:s=s+u}return s}function dL(e,t){var n=[],r=Bw,a=[[],[],[]],i=[[],[]],o=[];t/=2,e.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[$f(u[0]),$f(u[1])],u[2]&&u.__original.push($f(u[2])));var d=u.__original;if(u[2]!=null){if($o(a[0],d[0]),$o(a[1],d[2]),$o(a[2],d[1]),c&&c!=="none"){var h=Kb(s.node1),p=_J(a,d[0],h*t);r(a[0][0],a[1][0],a[2][0],p,n),a[0][0]=n[3],a[1][0]=n[4],r(a[0][1],a[1][1],a[2][1],p,n),a[0][1]=n[3],a[1][1]=n[4]}if(f&&f!=="none"){var h=Kb(s.node2),p=_J(a,d[1],h*t);r(a[0][0],a[1][0],a[2][0],p,n),a[1][0]=n[1],a[2][0]=n[2],r(a[0][1],a[1][1],a[2][1],p,n),a[1][1]=n[1],a[2][1]=n[2]}$o(u[0],a[0]),$o(u[1],a[2]),$o(u[2],a[1])}else{if($o(i[0],d[0]),$o(i[1],d[1]),Tv(o,i[1],i[0]),p1(o,o),c&&c!=="none"){var h=Kb(s.node1);CF(i[0],i[0],o,h*t)}if(f&&f!=="none"){var h=Kb(s.node2);CF(i[1],i[1],o,-h*t)}$o(u[0],i[0]),$o(u[1],i[1])}})}function SJ(e){return e.type==="view"}var HVt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){var a=new bC,i=new iW,o=this.group;this._controller=new CC(r.getZr()),this._controllerHost={target:o},o.add(a.group),o.add(i.group),this._symbolDraw=a,this._lineDraw=i,this._firstRender=!0},t.prototype.render=function(n,r,a){var i=this,o=n.coordinateSystem;this._model=n;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(SJ(o)){var c={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(c):Jn(u,c,n)}dL(n.getGraph(),Gb(n));var f=n.getData();s.updateData(f);var d=n.getEdgeData();l.updateData(d),this._updateNodeAndLinkScale(),this._updateController(n,r,a),clearTimeout(this._layoutTimeout);var h=n.forceLayout,p=n.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,p);var v=n.get("layout");f.graph.eachNode(function(b){var x=b.dataIndex,_=b.getGraphicEl(),S=b.getModel();if(_){_.off("drag").off("dragend");var C=S.get("draggable");C&&_.on("drag",function(T){switch(v){case"force":h.warmUp(),!i._layouting&&i._startForceLayoutIteration(h,p),h.setFixed(x),f.setItemLayout(x,[_.x,_.y]);break;case"circular":f.setItemLayout(x,[_.x,_.y]),b.setLayout({fixed:!0},!0),rW(n,"symbolSize",b,[T.offsetX,T.offsetY]),i.updateLayout(n);break;case"none":default:f.setItemLayout(x,[_.x,_.y]),nW(n.getGraph(),n),i.updateLayout(n);break}}).on("dragend",function(){h&&h.setUnfixed(x)}),_.setDraggable(C,!!S.get("cursor"));var k=S.get(["emphasis","focus"]);k==="adjacency"&&(sn(_).focus=b.getAdjacentDataIndices())}}),f.graph.eachEdge(function(b){var x=b.getGraphicEl(),_=b.getModel().get(["emphasis","focus"]);x&&_==="adjacency"&&(sn(x).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var g=n.get("layout")==="circular"&&n.get(["circular","rotateLabel"]),m=f.getLayout("cx"),y=f.getLayout("cy");f.graph.eachNode(function(b){q1e(b,g,m,y)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(n,r){var a=this;(function i(){n.step(function(o){a.updateLayout(a._model),(a._layouting=!o)&&(r?a._layoutTimeout=setTimeout(i,16):i())})})()},t.prototype._updateController=function(n,r,a){var i=this,o=this._controller,s=this._controllerHost,l=this.group;if(o.setPointerChecker(function(u,c,f){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(c,f)&&!ZN(u,a,n)}),!SJ(n.coordinateSystem)){o.disable();return}o.enable(n.get("roam")),s.zoomLimit=n.get("scaleLimit"),s.zoom=n.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){j5(s,u.dx,u.dy),a.dispatchAction({seriesId:n.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Y5(s,u.scale,u.originX,u.originY),a.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),i._updateNodeAndLinkScale(),dL(n.getGraph(),Gb(n)),i._lineDraw.updateLayout(),a.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var n=this._model,r=n.getData(),a=Gb(n);r.eachItemGraphicEl(function(i,o){i&&i.setSymbolScale(a)})},t.prototype.updateLayout=function(n){dL(n.getGraph(),Gb(n)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Dr);function W0(e){return"_EC_"+e}var UVt=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,n){t=t==null?""+n:""+t;var r=this._nodesMap;if(!r[W0(t)]){var a=new nv(t,n);return a.hostGraph=this,this.nodes.push(a),r[W0(t)]=a,a}},e.prototype.getNodeByIndex=function(t){var n=this.data.getRawIndex(t);return this.nodes[n]},e.prototype.getNodeById=function(t){return this._nodesMap[W0(t)]},e.prototype.addEdge=function(t,n,r){var a=this._nodesMap,i=this._edgesMap;if(Kn(t)&&(t=this.nodes[t]),Kn(n)&&(n=this.nodes[n]),t instanceof nv||(t=a[W0(t)]),n instanceof nv||(n=a[W0(n)]),!(!t||!n)){var o=t.id+"-"+n.id,s=new J1e(t,n,r);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),n.inEdges.push(s)),t.edges.push(s),t!==n&&n.edges.push(s),this.edges.push(s),i[o]=s,s}},e.prototype.getEdgeByIndex=function(t){var n=this.edgeData.getRawIndex(t);return this.edges[n]},e.prototype.getEdge=function(t,n){t instanceof nv&&(t=t.id),n instanceof nv&&(n=n.id);var r=this._edgesMap;return this._directed?r[t+"-"+n]:r[t+"-"+n]||r[n+"-"+t]},e.prototype.eachNode=function(t,n){for(var r=this.nodes,a=r.length,i=0;i<a;i++)r[i].dataIndex>=0&&t.call(n,r[i],i)},e.prototype.eachEdge=function(t,n){for(var r=this.edges,a=r.length,i=0;i<a;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&t.call(n,r[i],i)},e.prototype.breadthFirstTraverse=function(t,n,r,a){if(n instanceof nv||(n=this._nodesMap[W0(n)]),!!n){for(var i=r==="out"?"outEdges":r==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(a,n,null))for(var s=[n];s.length;)for(var l=s.shift(),u=l[i],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(a,f,l))return;s.push(f),f.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,n=this.edgeData,r=this.nodes,a=this.edges,i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(var i=0,o=t.count();i<o;i++)r[t.getRawIndex(i)].dataIndex=i;n.filterSelf(function(s){var l=a[n.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(var i=0,o=n.count();i<o;i++)a[n.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,a=0;a<n.length;a++)t.addNode(n[a].id,n[a].dataIndex);for(var a=0;a<r.length;a++){var i=r[a];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},e}(),nv=function(){function e(t,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=n??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.data.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},n=0;n<this.edges.length;n++){var r=this.edges[n];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=Pt(),n=Pt(),r=0;r<this.edges.length;r++){var a=this.edges[r];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var i=[a.node1],o=[a.node2],s=0;s<i.length;){var l=i[s];s++,n.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),i.push(l.inEdges[u].node1)}for(s=0;s<o.length;){var c=o[s];s++,n.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),o.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:n.keys()}},e}(),J1e=function(){function e(t,n,r){this.dataIndex=-1,this.node1=t,this.node2=n,this.dataIndex=r??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.edgeData.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=Pt(),n=Pt();t.set(this.dataIndex,!0);for(var r=[this.node1],a=[this.node2],i=0;i<r.length;){var o=r[i];i++,n.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)t.set(o.inEdges[s].dataIndex,!0),r.push(o.inEdges[s].node1)}for(i=0;i<a.length;){var l=a[i];i++,n.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),a.push(l.outEdges[s].node2)}return{edge:t.keys(),node:n.keys()}},e}();function Q1e(e,t){return{getValue:function(n){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}$a(nv,Q1e("hostGraph","data"));$a(J1e,Q1e("hostGraph","edgeData"));function ebe(e,t,n,r,a){for(var i=new UVt(r),o=0;o<e.length;o++)i.addNode(Si(e[o].id,e[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,d=c.target;i.addEdge(f,d,u)&&(l.push(c),s.push(Si(Ha(c.id,null),f+" > "+d)),u++)}var h=n.get("coordinateSystem"),p;if(h==="cartesian2d"||h==="polar")p=vd(e,n);else{var v=pC.get(h),g=v?v.dimensions||[]:[];Cn(g,"value")<0&&g.concat(["value"]);var m=gC(e,{coordDimensions:g,encodeDefine:n.getEncode()}).dimensions;p=new Zo(m,n),p.initData(e)}var y=new Zo(["value"],n);return y.initData(l,s),a&&a(p,y),L1e({mainData:p,struct:i,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var GVt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments);var r=this;function a(){return r._categoriesData}this.legendVisualProvider=new SC(a,a),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(n){e.prototype.mergeDefaultAndTheme.apply(this,arguments),kg(n,"edgeLabel",["show"])},t.prototype.getInitialData=function(n,r){var a=n.edges||n.links||[],i=n.data||n.nodes||[],o=this;{NVt(this);var s=ebe(i,a,this,!0,l);return X(s.edges,function(u){RVt(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(p){var v=o._categoriesModels,g=p.getShallow("category"),m=v[g];return m&&(m.parentModel=p.parentModel,p.parentModel=m),p});var f=pr.prototype.getModel;function d(p,v){var g=f.call(this,p,v);return g.resolveParentPath=h,g}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=h,p.getModel=d,p});function h(p){if(p&&(p[0]==="label"||p[1]==="label")){var v=p.slice();return p[0]==="label"?v[0]="edgeLabel":p[1]==="label"&&(v[1]="edgeLabel"),v}return p}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(n,r,a){if(a==="edge"){var i=this.getData(),o=this.getDataParams(n,a),s=i.graph.getEdgeByIndex(n),l=i.getName(s.node1.dataIndex),u=i.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),gi("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=Cme({series:this,dataIndex:n,multipleSeries:r});return f},t.prototype._updateCategoriesData=function(){var n=ut(this.option.categories||[],function(a){return a.value!=null?a:rt({value:0},a)}),r=new Zo(["value"],this);r.initData(n),this._categoriesData=r,this._categoriesModels=r.mapArray(function(a){return r.getItemModel(a)})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Vr),KVt={type:"graphRoam",event:"graphRoam",update:"none"};function jVt(e){e.registerChartView(HVt),e.registerSeriesModel(GVt),e.registerProcessor(kVt),e.registerVisual(IVt),e.registerVisual(EVt),e.registerLayout(MVt),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,LVt),e.registerLayout(PVt),e.registerCoordinateSystem("graphView",{dimensions:TC.dimensions,create:BVt}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ba),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ba),e.registerAction(KVt,function(t,n,r){n.eachComponent({mainType:"series",query:t},function(a){var i=a.coordinateSystem,o=q5(i,t,void 0,r);a.setCenter&&a.setCenter(o.center),a.setZoom&&a.setZoom(o.zoom)})})}var YVt=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),XVt=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="pointer",r}return t.prototype.getDefaultShape=function(){return new YVt},t.prototype.buildPath=function(n,r){var a=Math.cos,i=Math.sin,o=r.r,s=r.width,l=r.angle,u=r.x-a(l)*s*(s>=o/3?1:2),c=r.y-i(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,n.moveTo(u,c),n.lineTo(r.x+a(l)*s,r.y+i(l)*s),n.lineTo(r.x+a(r.angle)*o,r.y+i(r.angle)*o),n.lineTo(r.x-a(l)*s,r.y-i(l)*s),n.lineTo(u,c)},t}(An);function qVt(e,t){var n=e.get("center"),r=t.getWidth(),a=t.getHeight(),i=Math.min(r,a),o=St(n[0],t.getWidth()),s=St(n[1],t.getHeight()),l=St(e.get("radius"),i/2);return{cx:o,cy:s,r:l}}function dT(e,t){var n=e==null?"":e+"";return t&&(Dt(t)?n=t.replace("{value}",n):Yt(t)&&(n=t(e))),n}var ZVt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){this.group.removeAll();var i=n.get(["axisLine","lineStyle","color"]),o=qVt(n,a);this._renderMain(n,r,a,i,o),this._data=n.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(n,r,a,i,o){var s=this.group,l=n.get("clockwise"),u=-n.get("startAngle")/180*Math.PI,c=-n.get("endAngle")/180*Math.PI,f=n.getModel("axisLine"),d=f.get("roundCap"),h=d?IE:ss,p=f.get("show"),v=f.getModel("lineStyle"),g=v.get("width"),m=[u,c];J8(m,!l),u=m[0],c=m[1];for(var y=c-u,b=u,x=[],_=0;p&&_<i.length;_++){var S=Math.min(Math.max(i[_][0],0),1);c=u+y*S;var C=new h({shape:{startAngle:b,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-g,r:o.r},silent:!0});C.setStyle({fill:i[_][1]}),C.setStyle(v.getLineStyle(["color","width"])),x.push(C),b=c}x.reverse(),X(x,function(T){return s.add(T)});var k=function(T){if(T<=0)return i[0][1];var I;for(I=0;I<i.length;I++)if(i[I][0]>=T&&(I===0?0:i[I-1][0])<T)return i[I][1];return i[I-1][1]};this._renderTicks(n,r,a,k,o,u,c,l,g),this._renderTitleAndDetail(n,r,a,k,o),this._renderAnchor(n,o),this._renderPointer(n,r,a,k,o,u,c,l,g)},t.prototype._renderTicks=function(n,r,a,i,o,s,l,u,c){for(var f=this.group,d=o.cx,h=o.cy,p=o.r,v=+n.get("min"),g=+n.get("max"),m=n.getModel("splitLine"),y=n.getModel("axisTick"),b=n.getModel("axisLabel"),x=n.get("splitNumber"),_=y.get("splitNumber"),S=St(m.get("length"),p),C=St(y.get("length"),p),k=s,T=(l-s)/x,I=T/_,E=m.getModel("lineStyle").getLineStyle(),A=y.getModel("lineStyle").getLineStyle(),N=m.get("distance"),L,R,D=0;D<=x;D++){if(L=Math.cos(k),R=Math.sin(k),m.get("show")){var P=N?N+c:c,O=new ii({shape:{x1:L*(p-P)+d,y1:R*(p-P)+h,x2:L*(p-S-P)+d,y2:R*(p-S-P)+h},style:E,silent:!0});E.stroke==="auto"&&O.setStyle({stroke:i(D/x)}),f.add(O)}if(b.get("show")){var P=b.get("distance")+N,M=dT(ha(D/x*(g-v)+v),b.get("formatter")),W=i(D/x),U=L*(p-S-P)+d,V=R*(p-S-P)+h,H=b.get("rotate"),K=0;H==="radial"?(K=-k+2*Math.PI,K>Math.PI/2&&(K+=Math.PI)):H==="tangential"?K=-k-Math.PI/2:Kn(H)&&(K=H*Math.PI/180),K===0?f.add(new Hn({style:Fr(b,{text:M,x:U,y:V,verticalAlign:R<-.8?"top":R>.8?"bottom":"middle",align:L<-.4?"left":L>.4?"right":"center"},{inheritColor:W}),silent:!0})):f.add(new Hn({style:Fr(b,{text:M,x:U,y:V,verticalAlign:"middle",align:"center"},{inheritColor:W}),silent:!0,originX:U,originY:V,rotation:K}))}if(y.get("show")&&D!==x){var P=y.get("distance");P=P?P+c:c;for(var j=0;j<=_;j++){L=Math.cos(k),R=Math.sin(k);var ne=new ii({shape:{x1:L*(p-P)+d,y1:R*(p-P)+h,x2:L*(p-C-P)+d,y2:R*(p-C-P)+h},silent:!0,style:A});A.stroke==="auto"&&ne.setStyle({stroke:i((D+j/_)/x)}),f.add(ne),k+=I}k-=I}else k+=T}},t.prototype._renderPointer=function(n,r,a,i,o,s,l,u,c){var f=this.group,d=this._data,h=this._progressEls,p=[],v=n.get(["pointer","show"]),g=n.getModel("progress"),m=g.get("show"),y=n.getData(),b=y.mapDimension("value"),x=+n.get("min"),_=+n.get("max"),S=[x,_],C=[s,l];function k(I,E){var A=y.getItemModel(I),N=A.getModel("pointer"),L=St(N.get("width"),o.r),R=St(N.get("length"),o.r),D=n.get(["pointer","icon"]),P=N.get("offsetCenter"),O=St(P[0],o.r),M=St(P[1],o.r),W=N.get("keepAspect"),U;return D?U=Ma(D,O-L/2,M-R,L,R,null,W):U=new XVt({shape:{angle:-Math.PI/2,width:L,r:R,x:O,y:M}}),U.rotation=-(E+Math.PI/2),U.x=o.cx,U.y=o.cy,U}function T(I,E){var A=g.get("roundCap"),N=A?IE:ss,L=g.get("overlap"),R=L?g.get("width"):c/y.count(),D=L?o.r-R:o.r-(I+1)*R,P=L?o.r:o.r-I*R,O=new N({shape:{startAngle:s,endAngle:E,cx:o.cx,cy:o.cy,clockwise:u,r0:D,r:P}});return L&&(O.z2=cr(y.get(b,I),[x,_],[100,0],!0)),O}(m||v)&&(y.diff(d).add(function(I){var E=y.get(b,I);if(v){var A=k(I,s);Xr(A,{rotation:-((isNaN(+E)?C[0]:cr(E,S,C,!0))+Math.PI/2)},n),f.add(A),y.setItemGraphicEl(I,A)}if(m){var N=T(I,s),L=g.get("clip");Xr(N,{shape:{endAngle:cr(E,S,C,L)}},n),f.add(N),qF(n.seriesIndex,y.dataType,I,N),p[I]=N}}).update(function(I,E){var A=y.get(b,I);if(v){var N=d.getItemGraphicEl(E),L=N?N.rotation:s,R=k(I,L);R.rotation=L,Jn(R,{rotation:-((isNaN(+A)?C[0]:cr(A,S,C,!0))+Math.PI/2)},n),f.add(R),y.setItemGraphicEl(I,R)}if(m){var D=h[E],P=D?D.shape.endAngle:s,O=T(I,P),M=g.get("clip");Jn(O,{shape:{endAngle:cr(A,S,C,M)}},n),f.add(O),qF(n.seriesIndex,y.dataType,I,O),p[I]=O}}).execute(),y.each(function(I){var E=y.getItemModel(I),A=E.getModel("emphasis"),N=A.get("focus"),L=A.get("blurScope"),R=A.get("disabled");if(v){var D=y.getItemGraphicEl(I),P=y.getItemVisual(I,"style"),O=P.fill;if(D instanceof Ri){var M=D.style;D.useStyle(rt({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},P))}else D.useStyle(P),D.type!=="pointer"&&D.setColor(O);D.setStyle(E.getModel(["pointer","itemStyle"]).getItemStyle()),D.style.fill==="auto"&&D.setStyle("fill",i(cr(y.get(b,I),S,[0,1],!0))),D.z2EmphasisLift=0,ji(D,E),la(D,N,L,R)}if(m){var W=p[I];W.useStyle(y.getItemVisual(I,"style")),W.setStyle(E.getModel(["progress","itemStyle"]).getItemStyle()),W.z2EmphasisLift=0,ji(W,E),la(W,N,L,R)}}),this._progressEls=p)},t.prototype._renderAnchor=function(n,r){var a=n.getModel("anchor"),i=a.get("show");if(i){var o=a.get("size"),s=a.get("icon"),l=a.get("offsetCenter"),u=a.get("keepAspect"),c=Ma(s,r.cx-o/2+St(l[0],r.r),r.cy-o/2+St(l[1],r.r),o,o,null,u);c.z2=a.get("showAbove")?1:0,c.setStyle(a.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(n,r,a,i,o){var s=this,l=n.getData(),u=l.mapDimension("value"),c=+n.get("min"),f=+n.get("max"),d=new an,h=[],p=[],v=n.isAnimationEnabled(),g=n.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){h[m]=new Hn({silent:!0}),p[m]=new Hn({silent:!0})}).update(function(m,y){h[m]=s._titleEls[y],p[m]=s._detailEls[y]}).execute(),l.each(function(m){var y=l.getItemModel(m),b=l.get(u,m),x=new an,_=i(cr(b,[c,f],[0,1],!0)),S=y.getModel("title");if(S.get("show")){var C=S.get("offsetCenter"),k=o.cx+St(C[0],o.r),T=o.cy+St(C[1],o.r),I=h[m];I.attr({z2:g?0:2,style:Fr(S,{x:k,y:T,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:_})}),x.add(I)}var E=y.getModel("detail");if(E.get("show")){var A=E.get("offsetCenter"),N=o.cx+St(A[0],o.r),L=o.cy+St(A[1],o.r),R=St(E.get("width"),o.r),D=St(E.get("height"),o.r),P=n.get(["progress","show"])?l.getItemVisual(m,"style").fill:_,I=p[m],O=E.get("formatter");I.attr({z2:g?0:2,style:Fr(E,{x:N,y:L,text:dT(b,O),width:isNaN(R)?null:R,height:isNaN(D)?null:D,align:"center",verticalAlign:"middle"},{inheritColor:P})}),E0e(I,{normal:E},b,function(W){return dT(W,O)}),v&&A0e(I,m,l,n,{getFormattedLabel:function(W,U,V,H,K,j){return dT(j?j.interpolatedValue:b,O)}}),x.add(I)}d.add(x)}),this.group.add(d),this._titleEls=h,this._detailEls=p},t.type="gauge",t}(Dr),JVt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return t.prototype.getInitialData=function(n,r){return E1(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Vr);function QVt(e){e.registerChartView(ZVt),e.registerSeriesModel(JVt)}var ezt=["itemStyle","opacity"],tzt=function(e){Le(t,e);function t(n,r){var a=e.call(this)||this,i=a,o=new cs,s=new Hn;return i.setTextContent(s),a.setTextGuideLine(o),a.updateData(n,r,!0),a}return t.prototype.updateData=function(n,r,a){var i=this,o=n.hostModel,s=n.getItemModel(r),l=n.getItemLayout(r),u=s.getModel("emphasis"),c=s.get(ezt);c=c??1,a||Fu(i),i.useStyle(n.getItemVisual(r,"style")),i.style.lineJoin="round",a?(i.setShape({points:l.points}),i.style.opacity=0,Xr(i,{style:{opacity:c}},o,r)):Jn(i,{style:{opacity:c},shape:{points:l.points}},o,r),ji(i,s),this._updateLabel(n,r),la(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n,r){var a=this,i=this.getTextGuideLine(),o=a.getTextContent(),s=n.hostModel,l=n.getItemModel(r),u=n.getItemLayout(r),c=u.label,f=n.getItemVisual(r,"style"),d=f.fill;Yi(o,vi(l),{labelFetcher:n.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:n.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),a.setTextConfig({local:!0,inside:!!c.inside,insideStroke:d,outsideFill:d});var h=c.linePoints;i.setShape({points:h}),a.textGuideLineConfig={anchor:h?new bn(h[0][0],h[0][1]):null},Jn(o,{style:{x:c.x,y:c.y}},s,r),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),O5(a,P5(l),{stroke:d})},t}(ls),nzt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this._data,s=this.group;i.diff(o).add(function(l){var u=new tzt(i,l);i.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(i,l),s.add(c),i.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);Kw(u,n,l)}).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Dr),rzt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new SC(Nt(this.getData,this),Nt(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.getInitialData=function(n,r){return E1(this,{coordDimensions:["value"],encodeDefaulter:vn(v5,this)})},t.prototype._defaultLabelLine=function(n){kg(n,"labelLine",["show"]);var r=n.labelLine,a=n.emphasis.labelLine;r.show=r.show&&n.label.show,a.show=a.show&&n.emphasis.label.show},t.prototype.getDataParams=function(n){var r=this.getData(),a=e.prototype.getDataParams.call(this,n),i=r.mapDimension("value"),o=r.getSum(i);return a.percent=o?+(r.get(i,n)/o*100).toFixed(2):0,a.$vars.push("percent"),a},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Vr);function azt(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function izt(e,t){for(var n=e.mapDimension("value"),r=e.mapArray(n,function(l){return l}),a=[],i=t==="ascending",o=0,s=e.count();o<s;o++)a[o]=o;return Yt(t)?a.sort(t):t!=="none"&&a.sort(function(l,u){return i?r[l]-r[u]:r[u]-r[l]}),a}function ozt(e){var t=e.hostModel,n=t.get("orient");e.each(function(r){var a=e.getItemModel(r),i=a.getModel("label"),o=i.get("position"),s=a.getModel("labelLine"),l=e.getItemLayout(r),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,d,h,p;if(c)o==="insideLeft"?(d=(u[0][0]+u[3][0])/2+5,h=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(d=(u[1][0]+u[2][0])/2-5,h=(u[1][1]+u[2][1])/2,f="right"):(d=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,h=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),p=[[d,h],[d,h]];else{var v=void 0,g=void 0,m=void 0,y=void 0,b=s.get("length");o==="left"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,m=v-b,d=m-5,f="right"):o==="right"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,m=v+b,d=m+5,f="left"):o==="top"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,y=g-b,h=y-5,f="center"):o==="bottom"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,y=g+b,h=y+5,f="center"):o==="rightTop"?(v=n==="horizontal"?u[3][0]:u[1][0],g=n==="horizontal"?u[3][1]:u[1][1],n==="horizontal"?(y=g-b,h=y-5,f="center"):(m=v+b,d=m+5,f="top")):o==="rightBottom"?(v=u[2][0],g=u[2][1],n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v+b,d=m+5,f="bottom")):o==="leftTop"?(v=u[0][0],g=n==="horizontal"?u[0][1]:u[1][1],n==="horizontal"?(y=g-b,h=y-5,f="center"):(m=v-b,d=m-5,f="right")):o==="leftBottom"?(v=n==="horizontal"?u[1][0]:u[3][0],g=n==="horizontal"?u[1][1]:u[2][1],n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v-b,d=m-5,f="right")):(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v+b,d=m+5,f="left")),n==="horizontal"?(m=v,d=m):(y=g,h=y),p=[[v,g],[m,y]]}l.label={linePoints:p,x:d,y:h,verticalAlign:"middle",textAlign:f,inside:c}})}function szt(e,t){e.eachSeriesByType("funnel",function(n){var r=n.getData(),a=r.mapDimension("value"),i=n.get("sort"),o=azt(n,t),s=n.get("orient"),l=o.width,u=o.height,c=izt(r,i),f=o.x,d=o.y,h=s==="horizontal"?[St(n.get("minSize"),u),St(n.get("maxSize"),u)]:[St(n.get("minSize"),l),St(n.get("maxSize"),l)],p=r.getDataExtent(a),v=n.get("min"),g=n.get("max");v==null&&(v=Math.min(p[0],0)),g==null&&(g=p[1]);var m=n.get("funnelAlign"),y=n.get("gap"),b=s==="horizontal"?l:u,x=(b-y*(r.count()-1))/r.count(),_=function(L,R){if(s==="horizontal"){var D=r.get(a,L)||0,P=cr(D,[v,g],h,!0),O=void 0;switch(m){case"top":O=d;break;case"center":O=d+(u-P)/2;break;case"bottom":O=d+(u-P);break}return[[R,O],[R,O+P]]}var M=r.get(a,L)||0,W=cr(M,[v,g],h,!0),U;switch(m){case"left":U=f;break;case"center":U=f+(l-W)/2;break;case"right":U=f+l-W;break}return[[U,R],[U+W,R]]};i==="ascending"&&(x=-x,y=-y,s==="horizontal"?f+=l:d+=u,c=c.reverse());for(var S=0;S<c.length;S++){var C=c[S],k=c[S+1],T=r.getItemModel(C);if(s==="horizontal"){var I=T.get(["itemStyle","width"]);I==null?I=x:(I=St(I,l),i==="ascending"&&(I=-I));var E=_(C,f),A=_(k,f+I);f+=I+y,r.setItemLayout(C,{points:E.concat(A.slice().reverse())})}else{var N=T.get(["itemStyle","height"]);N==null?N=x:(N=St(N,u),i==="ascending"&&(N=-N));var E=_(C,d),A=_(k,d+N);d+=N+y,r.setItemLayout(C,{points:E.concat(A.slice().reverse())})}}ozt(r)})}function lzt(e){e.registerChartView(nzt),e.registerSeriesModel(rzt),e.registerLayout(szt),e.registerProcessor(_C("funnel"))}var uzt=.3,czt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new an,n._initialized=!1,n}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(n,r,a,i){this._progressiveEls=null;var o=this._dataGroup,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.dimensions,f=TJ(n);s.diff(l).add(d).update(h).remove(p).execute();function d(g){var m=CJ(s,o,g,c,u);hL(m,s,g,f)}function h(g,m){var y=l.getItemGraphicEl(m),b=tbe(s,g,c,u);s.setItemGraphicEl(g,y),Jn(y,{shape:{points:b}},n,g),Fu(y),hL(y,s,g,f)}function p(g){var m=l.getItemGraphicEl(g);o.remove(m)}if(!this._initialized){this._initialized=!0;var v=fzt(u,n,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(v)}this._data=s},t.prototype.incrementalPrepareRender=function(n,r,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(n,r,a){for(var i=r.getData(),o=r.coordinateSystem,s=o.dimensions,l=TJ(r),u=this._progressiveEls=[],c=n.start;c<n.end;c++){var f=CJ(i,this._dataGroup,c,s,o);f.incremental=!0,hL(f,i,c,l),u.push(f)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Dr);function fzt(e,t,n){var r=e.model,a=e.getRect(),i=new Bn({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),o=r.get("layout")==="horizontal"?"width":"height";return i.setShape(o,0),Xr(i,{shape:{width:a.width,height:a.height}},t,n),i}function tbe(e,t,n,r){for(var a=[],i=0;i<n.length;i++){var o=n[i],s=e.get(e.mapDimension(o),t);dzt(s,r.getAxis(o).type)||a.push(r.dataToPoint(s,o))}return a}function CJ(e,t,n,r,a){var i=tbe(e,n,r,a),o=new cs({shape:{points:i},z2:10});return t.add(o),e.setItemGraphicEl(n,o),o}function TJ(e){var t=e.get("smooth",!0);return t===!0&&(t=uzt),t=Xf(t),Pw(t)&&(t=0),{smooth:t}}function hL(e,t,n,r){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",r.smooth);var a=t.getItemModel(n),i=a.getModel("emphasis");ji(e,a,"lineStyle"),la(e,i.get("focus"),i.get("blurScope"),i.get("disabled"))}function dzt(e,t){return t==="category"?e==null:e==null||isNaN(e)}var hzt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.getInitialData=function(n,r){return vd(null,this,{useEncodeDefaulter:Nt(pzt,null,this)})},t.prototype.getRawIndicesByActiveState=function(n){var r=this.coordinateSystem,a=this.getData(),i=[];return r.eachActiveState(a,function(o,s){n===o&&i.push(a.getRawIndex(s))}),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Vr);function pzt(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return X(t.dimensions,function(r){var a=vzt(r);n[r]=a}),n}}function vzt(e){return+e.replace("dim","")}var gzt=["lineStyle","opacity"],mzt={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,r={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(a,i){n.eachActiveState(i,function(o,s){var l=r[o];if(o==="normal"&&i.hasItemOption){var u=i.getItemModel(s).get(gzt,!0);u!=null&&(l=u)}var c=i.ensureUniqueItemVisual(s,"style");c.opacity=l},a.start,a.end)}}}};function yzt(e){bzt(e),xzt(e)}function bzt(e){if(!e.parallel){var t=!1;X(e.series,function(n){n&&n.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function xzt(e){var t=Ir(e.parallelAxis);X(t,function(n){if(Jt(n)){var r=n.parallelIndex||0,a=Ir(e.parallel)[r];a&&a.parallelAxisDefault&&mn(n,a.parallelAxisDefault,!1)}})}var wzt=5,_zt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){this._model=n,this._api=a,this._handlers||(this._handlers={},X(Szt,function(i,o){a.getZr().on(o,this._handlers[o]=Nt(i,this))},this)),T1(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(n,r){qw(this,"_throttledDispatchExpand"),X(this._handlers,function(a,i){r.getZr().off(i,a)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(n){this._dispatchExpand(n)},t.prototype._dispatchExpand=function(n){n&&this._api.dispatchAction(rt({type:"parallelAxisExpand"},n))},t.type="parallel",t}(na),Szt={mousedown:function(e){pL(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(pL(this,"click")&&t){var n=[e.offsetX,e.offsetY],r=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2);if(r>wzt)return;var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!(this._mouseDownPoint||!pL(this,"mousemove"))){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=n.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function pL(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var Czt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(n){var r=this.option;n&&mn(r,n,!0),this._initDimensions()},t.prototype.contains=function(n,r){var a=n.get("parallelIndex");return a!=null&&r.getComponent("parallel",a)===this},t.prototype.setAxisExpand=function(n){X(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){n.hasOwnProperty(r)&&(this.option[r]=n[r])},this)},t.prototype._initDimensions=function(){var n=this.dimensions=[],r=this.parallelAxisIndex=[],a=sr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(i){return(i.get("parallelIndex")||0)===this.componentIndex},this);X(a,function(i){n.push("dim"+i.get("dim")),r.push(i.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Rn),Tzt=function(e){Le(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.type=i||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(Uu);function u0(e,t,n,r,a,i){e=e||0;var o=n[1]-n[0];if(a!=null&&(a=H0(a,[0,o])),i!=null&&(i=Math.max(i,a??0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=H0(s,[0,o]),a=i=H0(s,[a,i]),r=0}t[0]=H0(t[0],n),t[1]=H0(t[1],n);var l=vL(t,r);t[r]+=e;var u=a||0,c=n.slice();l.sign<0?c[0]+=u:c[1]-=u,t[r]=H0(t[r],c);var f;return f=vL(t,r),a!=null&&(f.sign!==l.sign||f.span<a)&&(t[1-r]=t[r]+l.sign*a),f=vL(t,r),i!=null&&f.span>i&&(t[1-r]=t[r]+f.sign*i),t}function vL(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function H0(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var gL=X,nbe=Math.min,rbe=Math.max,kJ=Math.floor,kzt=Math.ceil,IJ=ha,Izt=Math.PI,Ezt=function(){function e(t,n,r){this.type="parallel",this._axesMap=Pt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,n,r)}return e.prototype._init=function(t,n,r){var a=t.dimensions,i=t.parallelAxisIndex;gL(a,function(o,s){var l=i[s],u=n.getComponent("parallelAxis",l),c=this._axesMap.set(o,new Tzt(o,XN(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},e.prototype.update=function(t,n){this._updateAxesFromSeries(this._model,t)},e.prototype.containPoint=function(t){var n=this._makeLayoutInfo(),r=n.axisBase,a=n.layoutBase,i=n.pixelDimIndex,o=t[1-i],s=t[i];return o>=r&&o<=r+n.axisLength&&s>=a&&s<=a+n.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(t,n){n.eachSeries(function(r){if(t.contains(r,n)){var a=r.getData();gL(this.dimensions,function(i){var o=this._axesMap.get(i);o.scale.unionExtentFromData(a,a.mapDimension(i)),Dy(o.scale,o.model)},this)}},this)},e.prototype.resize=function(t,n){this._rect=Ya(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var t=this._model,n=this._rect,r=["x","y"],a=["width","height"],i=t.get("layout"),o=i==="horizontal"?0:1,s=n[a[o]],l=[0,s],u=this.dimensions.length,c=hT(t.get("axisExpandWidth"),l),f=hT(t.get("axisExpandCount")||0,[0,u]),d=t.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,h=t.get("axisExpandWindow"),p;if(h)p=hT(h[1]-h[0],l),h[1]=h[0]+p;else{p=hT(c*(f-1),l);var v=t.get("axisExpandCenter")||kJ(u/2);h=[c*v-p/2],h[1]=h[0]+p}var g=(s-p)/(u-f);g<3&&(g=0);var m=[kJ(IJ(h[0]/c,1))+1,kzt(IJ(h[1]/c,1))-1],y=g/c*h[0];return{layout:i,pixelDimIndex:o,layoutBase:n[r[o]],layoutLength:s,axisBase:n[r[1-o]],axisLength:n[a[1-o]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:h,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:y}},e.prototype._layoutAxes=function(){var t=this._rect,n=this._axesMap,r=this.dimensions,a=this._makeLayoutInfo(),i=a.layout;n.each(function(o){var s=[0,a.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),gL(r,function(o,s){var l=(a.axisExpandable?Dzt:Azt)(s,a),u={horizontal:{x:l.position,y:a.axisLength},vertical:{x:0,y:l.position}},c={horizontal:Izt/2,vertical:0},f=[u[i].x+t.x,u[i].y+t.y],d=c[i],h=Us();n0(h,h,d),Wc(h,h,f),this._axesLayout[o]={position:f,rotation:d,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(t){return this._axesMap.get(t)},e.prototype.dataToPoint=function(t,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(t),n)},e.prototype.eachActiveState=function(t,n,r,a){r==null&&(r=0),a==null&&(a=t.count());var i=this._axesMap,o=this.dimensions,s=[],l=[];X(o,function(g){s.push(t.mapDimension(g)),l.push(i.get(g).model)});for(var u=this.hasAxisBrushed(),c=r;c<a;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var d=t.getValues(s,c),h=0,p=o.length;h<p;h++){var v=l[h].getActiveState(d[h]);if(v==="inactive"){f="inactive";break}}}n(f,c)}},e.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,n=this._axesMap,r=!1,a=0,i=t.length;a<i;a++)n.get(t[a]).model.getActiveState()!=="normal"&&(r=!0);return r},e.prototype.axisCoordToPoint=function(t,n){var r=this._axesLayout[n];return Iu([t,0],r.transform)},e.prototype.getAxisLayout=function(t){return en(this._axesLayout[t])},e.prototype.getSlidedAxisExpandWindow=function(t){var n=this._makeLayoutInfo(),r=n.pixelDimIndex,a=n.axisExpandWindow.slice(),i=a[1]-a[0],o=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:a};var s=t[r]-n.layoutBase-n.axisExpandWindow0Pos,l,u="slide",c=n.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(c)d&&c&&s<i*f[0]?(u="jump",l=s-i*f[2]):d&&c&&s>i*(1-f[0])?(u="jump",l=s-i*(1-f[2])):(l=s-i*f[1])>=0&&(l=s-i*(1-f[1]))<=0&&(l=0),l*=n.axisExpandWidth/c,l?u0(l,a,o,"all"):u="none";else{var h=a[1]-a[0],p=o[1]*s/h;a=[rbe(0,p-h/2)],a[1]=nbe(o[1],a[0]+h),a[0]=a[1]-h}return{axisExpandWindow:a,behavior:u}},e}();function hT(e,t){return nbe(rbe(e,t[0]),t[1])}function Azt(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function Dzt(e,t){var n=t.layoutLength,r=t.axisExpandWidth,a=t.axisCount,i=t.axisCollapseWidth,o=t.winInnerIndices,s,l=i,u=!1,c;return e<o[0]?(s=e*i,c=i):e<=o[1]?(s=t.axisExpandWindow0Pos+e*r-t.axisExpandWindow[0],l=r,u=!0):(s=n-(a-1-e)*i,c=i),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function Nzt(e,t){var n=[];return e.eachComponent("parallel",function(r,a){var i=new Ezt(r,e,t);i.name="parallel_"+a,i.resize(r,t),r.coordinateSystem=i,i.model=r,n.push(i)}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var a=r.getReferringComponents("parallel",Da).models[0];r.coordinateSystem=a.coordinateSystem}}),n}var Rzt={create:Nzt},V3=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return t.prototype.getAreaSelectStyle=function(){return Eg([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(n){var r=this.activeIntervals=en(n);if(r)for(var a=r.length-1;a>=0;a--)Il(r[a])},t.prototype.getActiveState=function(n){var r=this.activeIntervals;if(!r.length)return"normal";if(n==null||isNaN(+n))return"inactive";if(r.length===1){var a=r[0];if(a[0]<=n&&n<=a[1])return"active"}else for(var i=0,o=r.length;i<o;i++)if(r[i][0]<=n&&n<=r[i][1])return"active";return"inactive"},t}(Rn);$a(V3,mC);var Ng=!0,l_=Math.min,My=Math.max,Mzt=Math.pow,$zt=1e4,Lzt=6,Ozt=6,EJ="globalPan",Pzt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Fzt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},AJ={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Bzt=0,oW=function(e){Le(t,e);function t(n){var r=e.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=n,r.group=new an,r._uid="brushController_"+Bzt++,X(Kzt,function(a,i){this._handlers[i]=Nt(a,this)},r),r}return t.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},t.prototype._doEnableBrush=function(n){var r=this._zr;this._enableGlobalPan||A4t(r,EJ,this._uid),X(this._handlers,function(a,i){r.on(i,a)}),this._brushType=n.brushType,this._brushOption=mn(en(AJ),n,!0)},t.prototype._doDisableBrush=function(){var n=this._zr;D4t(n,EJ,this._uid),X(this._handlers,function(r,a){n.off(a,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(n){if(n&&n.length){var r=this._panels={};X(n,function(a){r[a.panelId]=en(a)})}else this._panels=null;return this},t.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(n){n=ut(n,function(d){return mn(en(AJ),d,!0)});var r="\0-brush-index-",a=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new Jf(a,n,u,l).add(c).update(c).remove(f).execute(),this;function l(d,h){return(d.id!=null?d.id:r+h)+"-"+d.brushType}function u(d,h){return l(d.__brushOption,h)}function c(d,h){var p=n[d];if(h!=null&&a[h]===s)i[d]=a[h];else{var v=i[d]=h!=null?(a[h].__brushOption=p,a[h]):ibe(o,abe(o,p));sW(o,v)}}function f(d){a[d]!==s&&o.group.remove(a[d])}},t.prototype.unmount=function(){return this.enableBrush(!1),z3(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Gl);function abe(e,t){var n=tR[t.brushType].createCover(e,t);return n.__brushOption=t,sbe(n,t),e.group.add(n),n}function ibe(e,t){var n=lW(t);return n.endCreating&&(n.endCreating(e,t),sbe(t,t.__brushOption)),t}function obe(e,t){var n=t.__brushOption;lW(t).updateCoverShape(e,t,n.range,n)}function sbe(e,t){var n=t.z;n==null&&(n=$zt),e.traverse(function(r){r.z=n,r.z2=n})}function sW(e,t){lW(t).updateCommon(e,t),obe(e,t)}function lW(e){return tR[e.__brushOption.brushType]}function uW(e,t,n){var r=e._panels;if(!r)return Ng;var a,i=e._transform;return X(r,function(o){o.isTargetByCursor(t,n,i)&&(a=o)}),a}function lbe(e,t){var n=e._panels;if(!n)return Ng;var r=t.__brushOption.panelId;return r!=null?n[r]:Ng}function z3(e){var t=e._covers,n=t.length;return X(t,function(r){e.group.remove(r)},e),t.length=0,!!n}function Rg(e,t){var n=ut(e._covers,function(r){var a=r.__brushOption,i=en(a.range);return{brushType:a.brushType,panelId:a.panelId,range:i}});e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Vzt(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],a=n[0]-r[0],i=n[1]-r[1],o=Mzt(a*a+i*i,.5);return o>Lzt}function ube(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function cbe(e,t,n,r){var a=new an;return a.add(new Bn({name:"main",style:cW(n),silent:!0,draggable:!0,cursor:"move",drift:vn(DJ,e,t,a,["n","s","w","e"]),ondragend:vn(Rg,t,{isEnd:!0})})),X(r,function(i){a.add(new Bn({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:vn(DJ,e,t,a,i),ondragend:vn(Rg,t,{isEnd:!0})}))}),a}function fbe(e,t,n,r){var a=r.brushStyle.lineWidth||0,i=My(a,Ozt),o=n[0][0],s=n[1][0],l=o-a/2,u=s-a/2,c=n[0][1],f=n[1][1],d=c-i+a/2,h=f-i+a/2,p=c-o,v=f-s,g=p+a,m=v+a;pf(e,t,"main",o,s,p,v),r.transformable&&(pf(e,t,"w",l,u,i,m),pf(e,t,"e",d,u,i,m),pf(e,t,"n",l,u,g,i),pf(e,t,"s",l,h,g,i),pf(e,t,"nw",l,u,i,i),pf(e,t,"ne",d,u,i,i),pf(e,t,"sw",l,h,i,i),pf(e,t,"se",d,h,i,i))}function W3(e,t){var n=t.__brushOption,r=n.transformable,a=t.childAt(0);a.useStyle(cW(n)),a.attr({silent:!r,cursor:r?"move":"default"}),X([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=t.childOfName(i.join("")),s=i.length===1?H3(e,i[0]):Wzt(e,i);o&&o.attr({silent:!r,invisible:!r,cursor:r?Fzt[s]+"-resize":null})})}function pf(e,t,n,r,a,i,o){var s=t.childOfName(n);s&&s.setShape(Uzt(fW(e,t,[[r,a],[r+i,a+o]])))}function cW(e){return Xt({strokeNoScale:!0},e.brushStyle)}function dbe(e,t,n,r){var a=[l_(e,n),l_(t,r)],i=[My(e,n),My(t,r)];return[[a[0],i[0]],[a[1],i[1]]]}function zzt(e){return Yv(e.group)}function H3(e,t){var n={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},a=MN(n[t],zzt(e));return r[a]}function Wzt(e,t){var n=[H3(e,t[0]),H3(e,t[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function DJ(e,t,n,r,a,i){var o=n.__brushOption,s=e.toRectRange(o.range),l=hbe(t,a,i);X(r,function(u){var c=Pzt[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=e.fromRectRange(dbe(s[0][0],s[1][0],s[0][1],s[1][1])),sW(t,n),Rg(t,{isEnd:!1})}function Hzt(e,t,n,r){var a=t.__brushOption.range,i=hbe(e,n,r);X(a,function(o){o[0]+=i[0],o[1]+=i[1]}),sW(e,t),Rg(e,{isEnd:!1})}function hbe(e,t,n){var r=e.group,a=r.transformCoordToLocal(t,n),i=r.transformCoordToLocal(0,0);return[a[0]-i[0],a[1]-i[1]]}function fW(e,t,n){var r=lbe(e,t);return r&&r!==Ng?r.clipPath(n,e._transform):en(n)}function Uzt(e){var t=l_(e[0][0],e[1][0]),n=l_(e[0][1],e[1][1]),r=My(e[0][0],e[1][0]),a=My(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:a-n}}function Gzt(e,t,n){if(!(!e._brushType||jzt(e,t.offsetX,t.offsetY))){var r=e._zr,a=e._covers,i=uW(e,t,n);if(!e._dragging)for(var o=0;o<a.length;o++){var s=a[o].__brushOption;if(i&&(i===Ng||s.panelId===i.panelId)&&tR[s.brushType].contain(a[o],n[0],n[1]))return}i&&r.setCursorStyle("crosshair")}}function U3(e){var t=e.event;t.preventDefault&&t.preventDefault()}function G3(e,t,n){return e.childOfName("main").contain(t,n)}function pbe(e,t,n,r){var a=e._creatingCover,i=e._creatingPanel,o=e._brushOption,s;if(e._track.push(n.slice()),Vzt(e)||a){if(i&&!a){o.brushMode==="single"&&z3(e);var l=en(o);l.brushType=NJ(l.brushType,i),l.panelId=i===Ng?null:i.panelId,a=e._creatingCover=abe(e,l),e._covers.push(a)}if(a){var u=tR[NJ(e._brushType,i)],c=a.__brushOption;c.range=u.getCreatingRange(fW(e,a,e._track)),r&&(ibe(e,a),u.updateCommon(e,a)),obe(e,a),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&uW(e,t,n)&&z3(e)&&(s={isEnd:r,removeOnClick:!0});return s}function NJ(e,t){return e==="auto"?t.defaultBrushType:e}var Kzt={mousedown:function(e){if(this._dragging)RJ(this,e);else if(!e.target||!e.target.draggable){U3(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=uW(this,e,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(Gzt(this,e,r),this._dragging){U3(e);var a=pbe(this,e,r,!1);a&&Rg(this,a)}},mouseup:function(e){RJ(this,e)}};function RJ(e,t){if(e._dragging){U3(t);var n=t.offsetX,r=t.offsetY,a=e.group.transformCoordToLocal(n,r),i=pbe(e,t,a,!0);e._dragging=!1,e._track=[],e._creatingCover=null,i&&Rg(e,i)}}function jzt(e,t,n){var r=e._zr;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var tR={lineX:MJ(0),lineY:MJ(1),rect:{createCover:function(e,t){function n(r){return r}return cbe({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=ube(e);return dbe(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){fbe(e,t,n,r)},updateCommon:W3,contain:G3},polygon:{createCover:function(e,t){var n=new an;return n.add(new cs({name:"main",style:cW(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new ls({name:"main",draggable:!0,drift:vn(Hzt,e,t),ondragend:vn(Rg,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:fW(e,t,n)})},updateCommon:W3,contain:G3}};function MJ(e){return{createCover:function(t,n){return cbe({toRectRange:function(r){var a=[r,[0,100]];return e&&a.reverse(),a},fromRectRange:function(r){return r[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=ube(t),r=l_(n[0][e],n[1][e]),a=My(n[0][e],n[1][e]);return[r,a]},updateCoverShape:function(t,n,r,a){var i,o=lbe(t,n);if(o!==Ng&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(e);else{var s=t._zr;i=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[r,i];e&&l.reverse(),fbe(t,n,l,a)},updateCommon:W3,contain:G3}}function vbe(e){return e=dW(e),function(t){return T0e(t,e)}}function gbe(e,t){return e=dW(e),function(n){var r=t??n,a=r?e.width:e.height,i=r?e.x:e.y;return[i,i+(a||0)]}}function mbe(e,t,n){var r=dW(e);return function(a,i){return r.contain(i[0],i[1])&&!ZN(a,t,n)}}function dW(e){return xn.create(e)}var Yzt=["axisLine","axisTickLabel","axisName"],Xzt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){e.prototype.init.apply(this,arguments),(this._brushController=new oW(r.getZr())).on("brush",Nt(this._onBrush,this))},t.prototype.render=function(n,r,a,i){if(!qzt(n,r,i)){this.axisModel=n,this.api=a,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new an,this.group.add(this._axisGroup),!!n.get("show")){var s=Jzt(n,r),l=s.coordinateSystem,u=n.getAreaSelectStyle(),c=u.width,f=n.axis.dim,d=l.getAxisLayout(f),h=rt({strokeContainThreshold:c},d),p=new Jo(n,h);X(Yzt,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(h,u,n,s,c,a),dC(o,this._axisGroup,n)}}},t.prototype._refreshBrushController=function(n,r,a,i,o,s){var l=a.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=xn.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,x:n.position[0],y:n.position[1]}).setPanels([{panelId:"pl",clipPath:vbe(f),isTargetByCursor:mbe(f,s,i),getLinearBrushOtherExtent:gbe(f,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(Zzt(a))},t.prototype._onBrush=function(n){var r=n.areas,a=this.axisModel,i=a.axis,o=ut(r,function(s){return[i.coordToData(s.range[0],!0),i.coordToData(s.range[1],!0)]});(!a.option.realtime===n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:a.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(na);function qzt(e,t,n){return n&&n.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}function Zzt(e){var t=e.axis;return ut(e.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}function Jzt(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var Qzt={type:"axisAreaSelect",event:"axisAreaSelected"};function e6t(e){e.registerAction(Qzt,function(t,n){n.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,n){n.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}var t6t={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function ybe(e){e.registerComponentView(_zt),e.registerComponentModel(Czt),e.registerCoordinateSystem("parallel",Rzt),e.registerPreprocessor(yzt),e.registerComponentModel(V3),e.registerComponentView(Xzt),Ry(e,"parallel",V3,t6t),e6t(e)}function n6t(e){kn(ybe),e.registerChartView(czt),e.registerSeriesModel(hzt),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,mzt)}var r6t=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),a6t=function(e){Le(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new r6t},t.prototype.buildPath=function(n,r){var a=r.extent;n.moveTo(r.x1,r.y1),n.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(n.lineTo(r.x2+a,r.y2),n.bezierCurveTo(r.cpx2+a,r.cpy2,r.cpx1+a,r.cpy1,r.x1+a,r.y1)):(n.lineTo(r.x2,r.y2+a),n.bezierCurveTo(r.cpx2,r.cpy2+a,r.cpx1,r.cpy1+a,r.x1,r.y1+a)),n.closePath()},t.prototype.highlight=function(){qf(this)},t.prototype.downplay=function(){Zf(this)},t}(An),i6t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return t.prototype.render=function(n,r,a){var i=this,o=n.getGraph(),s=this.group,l=n.layoutInfo,u=l.width,c=l.height,f=n.getData(),d=n.getData("edge"),h=n.get("orient");this._model=n,s.removeAll(),s.x=l.x,s.y=l.y,o.eachEdge(function(p){var v=new a6t,g=sn(v);g.dataIndex=p.dataIndex,g.seriesIndex=n.seriesIndex,g.dataType="edge";var m=p.getModel(),y=m.getModel("lineStyle"),b=y.get("curveness"),x=p.node1.getLayout(),_=p.node1.getModel(),S=_.get("localX"),C=_.get("localY"),k=p.node2.getLayout(),T=p.node2.getModel(),I=T.get("localX"),E=T.get("localY"),A=p.getLayout(),N,L,R,D,P,O,M,W;v.shape.extent=Math.max(1,A.dy),v.shape.orient=h,h==="vertical"?(N=(S!=null?S*u:x.x)+A.sy,L=(C!=null?C*c:x.y)+x.dy,R=(I!=null?I*u:k.x)+A.ty,D=E!=null?E*c:k.y,P=N,O=L*(1-b)+D*b,M=R,W=L*b+D*(1-b)):(N=(S!=null?S*u:x.x)+x.dx,L=(C!=null?C*c:x.y)+A.sy,R=I!=null?I*u:k.x,D=(E!=null?E*c:k.y)+A.ty,P=N*(1-b)+R*b,O=L,M=N*b+R*(1-b),W=D),v.setShape({x1:N,y1:L,x2:R,y2:D,cpx1:P,cpy1:O,cpx2:M,cpy2:W}),v.useStyle(y.getItemStyle()),$J(v.style,h,p);var U=""+m.get("value"),V=vi(m,"edgeLabel");Yi(v,V,{labelFetcher:{getFormattedLabel:function(j,ne,Q,oe,ae,me){return n.getFormattedLabel(j,ne,"edge",oe,Ac(ae,V.normal&&V.normal.get("formatter"),U),me)}},labelDataIndex:p.dataIndex,defaultText:U}),v.setTextConfig({position:"inside"});var H=m.getModel("emphasis");ji(v,m,"lineStyle",function(j){var ne=j.getItemStyle();return $J(ne,h,p),ne}),s.add(v),d.setItemGraphicEl(p.dataIndex,v);var K=H.get("focus");la(v,K==="adjacency"?p.getAdjacentDataIndices():K==="trajectory"?p.getTrajectoryDataIndices():K,H.get("blurScope"),H.get("disabled"))}),o.eachNode(function(p){var v=p.getLayout(),g=p.getModel(),m=g.get("localX"),y=g.get("localY"),b=g.getModel("emphasis"),x=g.get(["itemStyle","borderRadius"])||0,_=new Bn({shape:{x:m!=null?m*u:v.x,y:y!=null?y*c:v.y,width:v.dx,height:v.dy,r:x},style:g.getModel("itemStyle").getItemStyle(),z2:10});Yi(_,vi(g),{labelFetcher:{getFormattedLabel:function(C,k){return n.getFormattedLabel(C,k,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),_.disableLabelAnimation=!0,_.setStyle("fill",p.getVisual("color")),_.setStyle("decal",p.getVisual("style").decal),ji(_,g),s.add(_),f.setItemGraphicEl(p.dataIndex,_),sn(_).dataType="node";var S=b.get("focus");la(_,S==="adjacency"?p.getAdjacentDataIndices():S==="trajectory"?p.getTrajectoryDataIndices():S,b.get("blurScope"),b.get("disabled"))}),f.eachItemGraphicEl(function(p,v){var g=f.getItemModel(v);g.get("draggable")&&(p.drift=function(m,y){i._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=y,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:f.getRawIndex(v),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){i._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&n.isAnimationEnabled()&&s.setClipPath(o6t(s.getBoundingRect(),n,function(){s.removeClipPath()})),this._data=n.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Dr);function $J(e,t,n){switch(e.fill){case"source":e.fill=n.node1.getVisual("color"),e.decal=n.node1.getVisual("style").decal;break;case"target":e.fill=n.node2.getVisual("color"),e.decal=n.node2.getVisual("style").decal;break;case"gradient":var r=n.node1.getVisual("color"),a=n.node2.getVisual("color");Dt(r)&&Dt(a)&&(e.fill=new fC(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:r,offset:0},{color:a,offset:1}]))}}function o6t(e,t,n){var r=new Bn({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Xr(r,{shape:{width:e.width+20}},t,n),r}var s6t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){var a=n.edges||n.links||[],i=n.data||n.nodes||[],o=n.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new pr(o[l],this,r));var u=ebe(i,a,this,!0,c);return u.data;function c(f,d){f.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,g=v.getData().getItemLayout(p);if(g){var m=g.depth,y=v.levelModels[m];y&&(h.parentModel=y)}return h}),d.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,g=v.getGraph().getEdgeByIndex(p),m=g.node1.getLayout();if(m){var y=m.depth,b=v.levelModels[y];b&&(h.parentModel=b)}return h})}},t.prototype.setNodePosition=function(n,r){var a=this.option.data||this.option.nodes,i=a[n];i.localX=r[0],i.localY=r[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(n,r,a){function i(h){return isNaN(h)||h==null}if(a==="edge"){var o=this.getDataParams(n,a),s=o.data,l=o.value,u=s.source+" -- "+s.target;return gi("nameValue",{name:u,value:l,noValue:i(l)})}else{var c=this.getGraph().getNodeByIndex(n),f=c.getLayout().value,d=this.getDataParams(n,a).data.name;return gi("nameValue",{name:d!=null?d+"":null,value:f,noValue:i(f)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(n,r){var a=e.prototype.getDataParams.call(this,n,r);if(a.value==null&&r==="node"){var i=this.getGraph().getNodeByIndex(n),o=i.getLayout().value;a.value=o}return a},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Vr);function l6t(e,t){e.eachSeriesByType("sankey",function(n){var r=n.get("nodeWidth"),a=n.get("nodeGap"),i=u6t(n,t);n.layoutInfo=i;var o=i.width,s=i.height,l=n.getGraph(),u=l.nodes,c=l.edges;f6t(u);var f=sr(u,function(v){return v.getLayout().value===0}),d=f.length!==0?0:n.get("layoutIterations"),h=n.get("orient"),p=n.get("nodeAlign");c6t(u,c,r,a,o,s,d,h,p)})}function u6t(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function c6t(e,t,n,r,a,i,o,s,l){d6t(e,t,n,a,i,s,l),g6t(e,t,i,a,r,o,s),T6t(e,s)}function f6t(e){X(e,function(t){var n=bh(t.outEdges,ME),r=bh(t.inEdges,ME),a=t.getValue()||0,i=Math.max(n,r,a);t.setLayout({value:i},!0)})}function d6t(e,t,n,r,a,i,o){for(var s=[],l=[],u=[],c=[],f=0,d=0;d<t.length;d++)s[d]=1;for(var d=0;d<e.length;d++)l[d]=e[d].inEdges.length,l[d]===0&&u.push(e[d]);for(var h=-1;u.length;){for(var p=0;p<u.length;p++){var v=u[p],g=v.hostGraph.data.getRawDataItem(v.dataIndex),m=g.depth!=null&&g.depth>=0;m&&g.depth>h&&(h=g.depth),v.setLayout({depth:m?g.depth:f},!0),i==="vertical"?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var y=0;y<v.outEdges.length;y++){var b=v.outEdges[y],x=t.indexOf(b);s[x]=0;var _=b.node2,S=e.indexOf(_);--l[S]===0&&c.indexOf(_)<0&&c.push(_)}}++f,u=c,c=[]}for(var d=0;d<s.length;d++)if(s[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var C=h>f-1?h:f-1;o&&o!=="left"&&h6t(e,o,i,C);var k=i==="vertical"?(a-n)/C:(r-n)/C;v6t(e,k,i)}function bbe(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function h6t(e,t,n,r){if(t==="right"){for(var a=[],i=e,o=0;i.length;){for(var s=0;s<i.length;s++){var l=i[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];a.indexOf(c.node1)<0&&a.push(c.node1)}}i=a,a=[],++o}X(e,function(f){bbe(f)||f.setLayout({depth:Math.max(0,r-f.getLayout().skNodeHeight)},!0)})}else t==="justify"&&p6t(e,r)}function p6t(e,t){X(e,function(n){!bbe(n)&&!n.outEdges.length&&n.setLayout({depth:t},!0)})}function v6t(e,t,n){X(e,function(r){var a=r.getLayout().depth*t;n==="vertical"?r.setLayout({y:a},!0):r.setLayout({x:a},!0)})}function g6t(e,t,n,r,a,i,o){var s=m6t(e,o);y6t(s,t,n,r,a,o),mL(s,a,n,r,o);for(var l=1;i>0;i--)l*=.99,b6t(s,l,o),mL(s,a,n,r,o),C6t(s,l,o),mL(s,a,n,r,o)}function m6t(e,t){var n=[],r=t==="vertical"?"y":"x",a=KF(e,function(i){return i.getLayout()[r]});return a.keys.sort(function(i,o){return i-o}),X(a.keys,function(i){n.push(a.buckets.get(i))}),n}function y6t(e,t,n,r,a,i){var o=1/0;X(e,function(s){var l=s.length,u=0;X(s,function(f){u+=f.getLayout().value});var c=i==="vertical"?(r-(l-1)*a)/u:(n-(l-1)*a)/u;c<o&&(o=c)}),X(e,function(s){X(s,function(l,u){var c=l.getLayout().value*o;i==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),X(t,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function mL(e,t,n,r,a){var i=a==="vertical"?"x":"y";X(e,function(o){o.sort(function(v,g){return v.getLayout()[i]-g.getLayout()[i]});for(var s,l,u,c=0,f=o.length,d=a==="vertical"?"dx":"dy",h=0;h<f;h++)l=o[h],u=c-l.getLayout()[i],u>0&&(s=l.getLayout()[i]+u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[i]+l.getLayout()[d]+t;var p=a==="vertical"?r:n;if(u=c-t-p,u>0){s=l.getLayout()[i]-u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var h=f-2;h>=0;--h)l=o[h],u=l.getLayout()[i]+l.getLayout()[d]+t-c,u>0&&(s=l.getLayout()[i]-u,a==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[i]}})}function b6t(e,t,n){X(e.slice().reverse(),function(r){X(r,function(a){if(a.outEdges.length){var i=bh(a.outEdges,x6t,n)/bh(a.outEdges,ME);if(isNaN(i)){var o=a.outEdges.length;i=o?bh(a.outEdges,w6t,n)/o:0}if(n==="vertical"){var s=a.getLayout().x+(i-Uh(a,n))*t;a.setLayout({x:s},!0)}else{var l=a.getLayout().y+(i-Uh(a,n))*t;a.setLayout({y:l},!0)}}})})}function x6t(e,t){return Uh(e.node2,t)*e.getValue()}function w6t(e,t){return Uh(e.node2,t)}function _6t(e,t){return Uh(e.node1,t)*e.getValue()}function S6t(e,t){return Uh(e.node1,t)}function Uh(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function ME(e){return e.getValue()}function bh(e,t,n){for(var r=0,a=e.length,i=-1;++i<a;){var o=+t(e[i],n);isNaN(o)||(r+=o)}return r}function C6t(e,t,n){X(e,function(r){X(r,function(a){if(a.inEdges.length){var i=bh(a.inEdges,_6t,n)/bh(a.inEdges,ME);if(isNaN(i)){var o=a.inEdges.length;i=o?bh(a.inEdges,S6t,n)/o:0}if(n==="vertical"){var s=a.getLayout().x+(i-Uh(a,n))*t;a.setLayout({x:s},!0)}else{var l=a.getLayout().y+(i-Uh(a,n))*t;a.setLayout({y:l},!0)}}})})}function T6t(e,t){var n=t==="vertical"?"x":"y";X(e,function(r){r.outEdges.sort(function(a,i){return a.node2.getLayout()[n]-i.node2.getLayout()[n]}),r.inEdges.sort(function(a,i){return a.node1.getLayout()[n]-i.node1.getLayout()[n]})}),X(e,function(r){var a=0,i=0;X(r.outEdges,function(o){o.setLayout({sy:a},!0),a+=o.getLayout().dy}),X(r.inEdges,function(o){o.setLayout({ty:i},!0),i+=o.getLayout().dy})})}function k6t(e){e.eachSeriesByType("sankey",function(t){var n=t.getGraph(),r=n.nodes,a=n.edges;if(r.length){var i=1/0,o=-1/0;X(r,function(s){var l=s.getLayout().value;l<i&&(i=l),l>o&&(o=l)}),X(r,function(s){var l=new ci({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:t.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}a.length&&X(a,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function I6t(e){e.registerChartView(i6t),e.registerSeriesModel(s6t),e.registerLayout(l6t),e.registerVisual(k6t),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var xbe=function(){function e(){}return e.prototype._hasEncodeRule=function(t){var n=this.getEncode();return n&&n.get(t)!=null},e.prototype.getInitialData=function(t,n){var r,a=n.getComponent("xAxis",this.get("xAxisIndex")),i=n.getComponent("yAxis",this.get("yAxisIndex")),o=a.get("type"),s=i.get("type"),l;o==="category"?(t.layout="horizontal",r=a.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(t.layout="vertical",r=i.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],d=u[1-c],h=[a,i],p=h[c].get("type"),v=h[1-c].get("type"),g=t.data;if(g&&l){var m=[];X(g,function(x,_){var S;st(x)?(S=x.slice(),x.unshift(_)):st(x.value)?(S=rt({},x),S.value=S.value.slice(),x.value.unshift(_)):S=x,m.push(S)}),t.data=m}var y=this.defaultValueDimensions,b=[{name:f,type:_E(p),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:_E(v),dimsDef:y.slice()}];return E1(this,{coordDimensions:b,dimensionsCount:y.length+1,encodeDefaulter:vn(Z0e,b,this)})},e.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},e}(),wbe=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Vr);$a(wbe,xbe,!0);var E6t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=n.get("layout")==="horizontal"?1:0;i.diff(s).add(function(u){if(i.hasValue(u)){var c=i.getItemLayout(u),f=LJ(c,i,u,l,!0);i.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!i.hasValue(u)){o.remove(f);return}var d=i.getItemLayout(u);f?(Fu(f),_be(d,f,i,u)):f=LJ(d,i,u,l),o.add(f),i.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=i},t.prototype.remove=function(n){var r=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl(function(i){i&&r.remove(i)})},t.type="boxplot",t}(Dr),A6t=function(){function e(){}return e}(),D6t=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="boxplotBoxPath",r}return t.prototype.getDefaultShape=function(){return new A6t},t.prototype.buildPath=function(n,r){var a=r.points,i=0;for(n.moveTo(a[i][0],a[i][1]),i++;i<4;i++)n.lineTo(a[i][0],a[i][1]);for(n.closePath();i<a.length;i++)n.moveTo(a[i][0],a[i][1]),i++,n.lineTo(a[i][0],a[i][1])},t}(An);function LJ(e,t,n,r,a){var i=e.ends,o=new D6t({shape:{points:a?N6t(i,r,e):i}});return _be(e,o,t,n,a),o}function _be(e,t,n,r,a){var i=n.hostModel,o=a0[a?"initProps":"updateProps"];o(t,{shape:{points:e.ends}},i,r),t.useStyle(n.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=n.getItemModel(r),l=s.getModel("emphasis");ji(t,s),la(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function N6t(e,t,n){return ut(e,function(r){return r=r.slice(),r[t]=n.initBaseline,r})}var $x=X;function R6t(e){var t=M6t(e);$x(t,function(n){var r=n.seriesModels;r.length&&($6t(n),$x(r,function(a,i){L6t(a,n.boxOffsetList[i],n.boxWidthList[i])}))})}function M6t(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(r){var a=r.getBaseAxis(),i=Cn(n,a);i<0&&(i=n.length,n[i]=a,t[i]={axis:a,seriesModels:[]}),t[i].seriesModels.push(r)}),t}function $6t(e){var t=e.axis,n=e.seriesModels,r=n.length,a=e.boxWidthList=[],i=e.boxOffsetList=[],o=[],s;if(t.type==="category")s=t.getBandWidth();else{var l=0;$x(n,function(p){l=Math.max(l,p.getData().count())});var u=t.getExtent();s=Math.abs(u[1]-u[0])/l}$x(n,function(p){var v=p.get("boxWidth");st(v)||(v=[v,v]),o.push([St(v[0],s)||0,St(v[1],s)||0])});var c=s*.8-2,f=c/r*.3,d=(c-f*(r-1))/r,h=d/2-c/2;$x(n,function(p,v){i.push(h),h+=f+d,a.push(Math.min(Math.max(d,o[v][0]),o[v][1]))})}function L6t(e,t,n){var r=e.coordinateSystem,a=e.getData(),i=n/2,o=e.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=a.mapDimension(l[o]),c=a.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<a.count();f++){var d=a.get(u,f),h=b(d,c[2],f),p=b(d,c[0],f),v=b(d,c[1],f),g=b(d,c[3],f),m=b(d,c[4],f),y=[];x(y,v,!1),x(y,g,!0),y.push(p,v,m,g),_(y,p),_(y,m),_(y,h),a.setItemLayout(f,{initBaseline:h[s],ends:y})}function b(S,C,k){var T=a.get(C,k),I=[];I[o]=S,I[s]=T;var E;return isNaN(S)||isNaN(T)?E=[NaN,NaN]:(E=r.dataToPoint(I),E[o]+=t),E}function x(S,C,k){var T=C.slice(),I=C.slice();T[o]+=i,I[o]-=i,k?S.push(T,I):S.push(I,T)}function _(S,C){var k=C.slice(),T=C.slice();k[o]-=i,T[o]+=i,S.push(k,T)}}function O6t(e,t){t=t||{};for(var n=[],r=[],a=t.boundIQR,i=a==="none"||a===0,o=0;o<e.length;o++){var s=Il(e[o].slice()),l=KM(s,.25),u=KM(s,.5),c=KM(s,.75),f=s[0],d=s[s.length-1],h=(a??1.5)*(c-l),p=i?f:Math.max(f,l-h),v=i?d:Math.min(d,c+h),g=t.itemNameFormatter,m=Yt(g)?g({value:o}):Dt(g)?g.replace("{value}",o+""):o+"";n.push([m,p,l,u,c,v]);for(var y=0;y<s.length;y++){var b=s[y];if(b<p||b>v){var x=[m,b];r.push(x)}}}return{boxData:n,outliers:r}}var P6t={type:"echarts:boxplot",transform:function(t){var n=t.upstream;if(n.sourceFormat!==To){var r="";or(r)}var a=O6t(n.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function F6t(e){e.registerSeriesModel(wbe),e.registerChartView(E6t),e.registerLayout(R6t),e.registerTransform(P6t)}var B6t=["itemStyle","borderColor"],V6t=["itemStyle","borderColor0"],z6t=["itemStyle","borderColorDoji"],W6t=["itemStyle","color"],H6t=["itemStyle","color0"];function hW(e,t){return t.get(e>0?W6t:H6t)}function pW(e,t){return t.get(e===0?z6t:e>0?B6t:V6t)}var U6t={seriesType:"candlestick",plan:C1(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e)){var n=e.pipelineContext.large;return!n&&{progress:function(r,a){for(var i;(i=r.next())!=null;){var o=a.getItemModel(i),s=a.getItemLayout(i).sign,l=o.getItemStyle();l.fill=hW(s,o),l.stroke=pW(s,o)||l.fill;var u=a.ensureUniqueItemVisual(i,"style");rt(u,l)}}}}}},G6t=["color","borderColor"],K6t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(n),this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},t.prototype.incrementalPrepareRender=function(n,r,a){this._clear(),this._updateDrawMode(n)},t.prototype.incrementalRender=function(n,r,a,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(n,r):this._incrementalRenderNormal(n,r)},t.prototype.eachRendered=function(n){pp(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(n){var r=n.getData(),a=this._data,i=this.group,o=r.getLayout("isSimpleBox"),s=n.get("clip",!0),l=n.coordinateSystem,u=l.getArea&&l.getArea();this._data||i.removeAll(),r.diff(a).add(function(c){if(r.hasValue(c)){var f=r.getItemLayout(c);if(s&&OJ(u,f))return;var d=yL(f,c,!0);Xr(d,{shape:{points:f.ends}},n,c),bL(d,r,c,o),i.add(d),r.setItemGraphicEl(c,d)}}).update(function(c,f){var d=a.getItemGraphicEl(f);if(!r.hasValue(c)){i.remove(d);return}var h=r.getItemLayout(c);if(s&&OJ(u,h)){i.remove(d);return}d?(Jn(d,{shape:{points:h.ends}},n,c),Fu(d)):d=yL(h),bL(d,r,c,o),i.add(d),r.setItemGraphicEl(c,d)}).remove(function(c){var f=a.getItemGraphicEl(c);f&&i.remove(f)}).execute(),this._data=r},t.prototype._renderLarge=function(n){this._clear(),PJ(n,this.group);var r=n.get("clip",!0)?xC(n.coordinateSystem,!1,n):null;r?this.group.setClipPath(r):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(n,r){for(var a=r.getData(),i=a.getLayout("isSimpleBox"),o;(o=n.next())!=null;){var s=a.getItemLayout(o),l=yL(s);bL(l,a,o,i),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(n,r){PJ(r,this.group,this._progressiveEls,!0)},t.prototype.remove=function(n){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Dr),j6t=function(){function e(){}return e}(),Y6t=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="normalCandlestickBox",r}return t.prototype.getDefaultShape=function(){return new j6t},t.prototype.buildPath=function(n,r){var a=r.points;this.__simpleBox?(n.moveTo(a[4][0],a[4][1]),n.lineTo(a[6][0],a[6][1])):(n.moveTo(a[0][0],a[0][1]),n.lineTo(a[1][0],a[1][1]),n.lineTo(a[2][0],a[2][1]),n.lineTo(a[3][0],a[3][1]),n.closePath(),n.moveTo(a[4][0],a[4][1]),n.lineTo(a[5][0],a[5][1]),n.moveTo(a[6][0],a[6][1]),n.lineTo(a[7][0],a[7][1]))},t}(An);function yL(e,t,n){var r=e.ends;return new Y6t({shape:{points:n?X6t(r,e):r},z2:100})}function OJ(e,t){for(var n=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){n=!1;break}return n}function bL(e,t,n,r){var a=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=r,ji(e,a);var i=t.getItemLayout(n).sign;X(e.states,function(s,l){var u=a.getModel(l),c=hW(i,u),f=pW(i,u)||c,d=s.style||(s.style={});c&&(d.fill=c),f&&(d.stroke=f)});var o=a.getModel("emphasis");la(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function X6t(e,t){return ut(e,function(n){return n=n.slice(),n[1]=t.initBaseline,n})}var q6t=function(){function e(){}return e}(),xL=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r.type="largeCandlestickBox",r}return t.prototype.getDefaultShape=function(){return new q6t},t.prototype.buildPath=function(n,r){for(var a=r.points,i=0;i<a.length;)if(this.__sign===a[i++]){var o=a[i++];n.moveTo(o,a[i++]),n.lineTo(o,a[i++])}else i+=3},t}(An);function PJ(e,t,n,r){var a=e.getData(),i=a.getLayout("largePoints"),o=new xL({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new xL({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new xL({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});t.add(l),wL(1,o,e),wL(-1,s,e),wL(0,l,e),r&&(o.incremental=!0,s.incremental=!0),n&&n.push(o,s)}function wL(e,t,n,r){var a=pW(e,n)||hW(e,n),i=n.getModel("itemStyle").getItemStyle(G6t);t.useStyle(i),t.style.fill=null,t.style.stroke=a}var Sbe=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(n,r,a){var i=r.getItemLayout(n);return i&&a.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Vr);$a(Sbe,xbe,!0);function Z6t(e){!e||!st(e.series)||X(e.series,function(t){Jt(t)&&t.type==="k"&&(t.type="candlestick")})}var J6t={seriesType:"candlestick",plan:C1(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),r=Q6t(e,n),a=0,i=1,o=["x","y"],s=n.getDimensionIndex(n.mapDimension(o[a])),l=ut(n.mapDimensionsAll(o[i]),n.getDimensionIndex,n),u=l[0],c=l[1],f=l[2],d=l[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),s<0||l.length<4)return;return{progress:e.pipelineContext.large?p:h};function h(v,g){for(var m,y=g.getStore();(m=v.next())!=null;){var b=y.get(s,m),x=y.get(u,m),_=y.get(c,m),S=y.get(f,m),C=y.get(d,m),k=Math.min(x,_),T=Math.max(x,_),I=P(k,b),E=P(T,b),A=P(S,b),N=P(C,b),L=[];O(L,E,0),O(L,I,1),L.push(W(N),W(E),W(A),W(I));var R=g.getItemModel(m),D=!!R.get(["itemStyle","borderColorDoji"]);g.setItemLayout(m,{sign:FJ(y,m,x,_,c,D),initBaseline:x>_?E[i]:I[i],ends:L,brushRect:M(S,C,b)})}function P(U,V){var H=[];return H[a]=V,H[i]=U,isNaN(V)||isNaN(U)?[NaN,NaN]:t.dataToPoint(H)}function O(U,V,H){var K=V.slice(),j=V.slice();K[a]=wk(K[a]+r/2,1,!1),j[a]=wk(j[a]-r/2,1,!0),H?U.push(K,j):U.push(j,K)}function M(U,V,H){var K=P(U,H),j=P(V,H);return K[a]-=r/2,j[a]-=r/2,{x:K[0],y:K[1],width:r,height:j[1]-K[1]}}function W(U){return U[a]=wk(U[a],1),U}}function p(v,g){for(var m=bc(v.count*4),y=0,b,x=[],_=[],S,C=g.getStore(),k=!!e.get(["itemStyle","borderColorDoji"]);(S=v.next())!=null;){var T=C.get(s,S),I=C.get(u,S),E=C.get(c,S),A=C.get(f,S),N=C.get(d,S);if(isNaN(T)||isNaN(A)||isNaN(N)){m[y++]=NaN,y+=3;continue}m[y++]=FJ(C,S,I,E,c,k),x[a]=T,x[i]=A,b=t.dataToPoint(x,null,_),m[y++]=b?b[0]:NaN,m[y++]=b?b[1]:NaN,x[i]=N,b=t.dataToPoint(x,null,_),m[y++]=b?b[1]:NaN}g.setLayout("largePoints",m)}}};function FJ(e,t,n,r,a,i){var o;return n>r?o=-1:n<r?o=1:o=i?0:t>0?e.get(a,t-1)<=r?1:-1:1,o}function Q6t(e,t){var n=e.getBaseAxis(),r,a=n.type==="category"?n.getBandWidth():(r=n.getExtent(),Math.abs(r[1]-r[0])/t.count()),i=St(fn(e.get("barMaxWidth"),a),a),o=St(fn(e.get("barMinWidth"),1),a),s=e.get("barWidth");return s!=null?St(s,a):Math.max(Math.min(a/2,i),o)}function e8t(e){e.registerChartView(K6t),e.registerSeriesModel(Sbe),e.registerPreprocessor(Z6t),e.registerVisual(U6t),e.registerLayout(J6t)}function BJ(e,t){var n=t.rippleEffectColor||t.color;e.eachChild(function(r){r.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?n:null,fill:t.brushType==="fill"?n:null}})})}var t8t=function(e){Le(t,e);function t(n,r){var a=e.call(this)||this,i=new yC(n,r),o=new an;return a.add(i),a.add(o),a.updateData(n,r),a}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(n){for(var r=n.symbolType,a=n.color,i=n.rippleNumber,o=this.childAt(1),s=0;s<i;s++){var l=Ma(r,-1,-1,2,2,a);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/i*n.period+n.effectOffset;l.animate("",!0).when(n.period,{scaleX:n.rippleScale/2,scaleY:n.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(n.period,{opacity:0}).delay(u).start(),o.add(l)}BJ(o,n)},t.prototype.updateEffectAnimation=function(n){for(var r=this._effectCfg,a=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],o=0;o<i.length;o++){var s=i[o];if(r[s]!==n[s]){this.stopEffectAnimation(),this.startEffectAnimation(n);return}}BJ(a,n)},t.prototype.highlight=function(){qf(this)},t.prototype.downplay=function(){Zf(this)},t.prototype.getSymbolType=function(){var n=this.childAt(0);return n&&n.getSymbolType()},t.prototype.updateData=function(n,r){var a=this,i=n.hostModel;this.childAt(0).updateData(n,r);var o=this.childAt(1),s=n.getItemModel(r),l=n.getItemVisual(r,"symbol"),u=k1(n.getItemVisual(r,"symbolSize")),c=n.getItemVisual(r,"style"),f=c&&c.fill,d=s.getModel("emphasis");o.setScale(u),o.traverse(function(g){g.setStyle("fill",f)});var h=i0(n.getItemVisual(r,"symbolOffset"),u);h&&(o.x=h[0],o.y=h[1]);var p=n.getItemVisual(r,"symbolRotate");o.rotation=(p||0)*Math.PI/180||0;var v={};v.showEffectOn=i.get("showEffectOn"),v.rippleScale=s.get(["rippleEffect","scale"]),v.brushType=s.get(["rippleEffect","brushType"]),v.period=s.get(["rippleEffect","period"])*1e3,v.effectOffset=r/n.count(),v.z=i.getShallow("z")||0,v.zlevel=i.getShallow("zlevel")||0,v.symbolType=l,v.color=f,v.rippleEffectColor=s.get(["rippleEffect","color"]),v.rippleNumber=s.get(["rippleEffect","number"]),v.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?v.showEffectOn!=="render"&&a.startEffectAnimation(v):g==="normal"&&v.showEffectOn!=="render"&&a.stopEffectAnimation()}),this._effectCfg=v,la(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(n){n&&n()},t}(an),n8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._symbolDraw=new bC(t8t)},t.prototype.render=function(n,r,a){var i=n.getData(),o=this._symbolDraw;o.updateData(i,{clipShape:this._getClipShape(n)}),this.group.add(o.group)},t.prototype._getClipShape=function(n){var r=n.coordinateSystem,a=r&&r.getArea&&r.getArea();return n.get("clip",!0)?a:null},t.prototype.updateTransform=function(n,r,a){var i=n.getData();this.group.dirty();var o=wC("").reset(n,r,a);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(n){var r=n.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=IDt(r.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Dr),r8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,r){return vd(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(n,r,a){return a.point(r.getItemLayout(n))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Vr);function a8t(e){e.registerChartView(n8t),e.registerSeriesModel(r8t),e.registerLayout(wC("effectScatter"))}var Cbe=function(e){Le(t,e);function t(n,r,a){var i=e.call(this)||this;return i.add(i.createLine(n,r,a)),i._updateEffectSymbol(n,r),i}return t.prototype.createLine=function(n,r,a){return new aW(n,r,a)},t.prototype._updateEffectSymbol=function(n,r){var a=n.getItemModel(r),i=a.getModel("effect"),o=i.get("symbolSize"),s=i.get("symbol");st(o)||(o=[o,o]);var l=n.getItemVisual(r,"style"),u=i.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Ma(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(i.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(n,i,r))},t.prototype._updateEffectAnimation=function(n,r,a){var i=this.childAt(1);if(i){var o=n.getItemLayout(a),s=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),f=Si(r.get("delay"),function(h){return h/n.count()*s/3});if(i.ignore=!0,this._updateAnimationPoints(i,o),c>0&&(s=this._getLineLength(i)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){i.stopAnimation();var d=void 0;Yt(f)?d=f(a):d=f,i.__t>0&&(d=-s*i.__t),this._animateSymbol(i,s,d,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(n,r,a,i,o){if(r>0){n.__t=0;var s=this,l=n.animate("",i).when(o?r*2:r,{__t:o?2:1}).delay(a).during(function(){s._updateSymbolPosition(n)});i||l.done(function(){s.remove(n)}),l.start()}},t.prototype._getLineLength=function(n){return Zd(n.__p1,n.__cp1)+Zd(n.__cp1,n.__p2)},t.prototype._updateAnimationPoints=function(n,r){n.__p1=r[0],n.__p2=r[1],n.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},t.prototype.updateData=function(n,r,a){this.childAt(0).updateData(n,r,a),this._updateEffectSymbol(n,r)},t.prototype._updateSymbolPosition=function(n){var r=n.__p1,a=n.__p2,i=n.__cp1,o=n.__t<1?n.__t:2-n.__t,s=[n.x,n.y],l=s.slice(),u=xi,c=NF;s[0]=u(r[0],i[0],a[0],o),s[1]=u(r[1],i[1],a[1],o);var f=n.__t<1?c(r[0],i[0],a[0],o):c(a[0],i[0],r[0],1-o),d=n.__t<1?c(r[1],i[1],a[1],o):c(a[1],i[1],r[1],1-o);n.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=Zd(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):n.__lastT===1?n.scaleY=2*Zd(r,s):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=s[0],n.y=s[1]},t.prototype.updateLayout=function(n,r){this.childAt(0).updateLayout(n,r);var a=n.getItemModel(r).getModel("effect");this._updateEffectAnimation(n,a,r)},t}(an),Tbe=function(e){Le(t,e);function t(n,r,a){var i=e.call(this)||this;return i._createPolyline(n,r,a),i}return t.prototype._createPolyline=function(n,r,a){var i=n.getItemLayout(r),o=new cs({shape:{points:i}});this.add(o),this._updateCommonStl(n,r,a)},t.prototype.updateData=function(n,r,a){var i=n.hostModel,o=this.childAt(0),s={shape:{points:n.getItemLayout(r)}};Jn(o,s,i,r),this._updateCommonStl(n,r,a)},t.prototype._updateCommonStl=function(n,r,a){var i=this.childAt(0),o=n.getItemModel(r),s=a&&a.emphasisLineStyle,l=a&&a.focus,u=a&&a.blurScope,c=a&&a.emphasisDisabled;if(!a||n.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}i.useStyle(n.getItemVisual(r,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var d=i.ensureState("emphasis");d.style=s,la(this,l,u,c)},t.prototype.updateLayout=function(n,r){var a=this.childAt(0);a.setShape("points",n.getItemLayout(r))},t}(an),i8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return t.prototype.createLine=function(n,r,a){return new Tbe(n,r,a)},t.prototype._updateAnimationPoints=function(n,r){this._points=r;for(var a=[0],i=0,o=1;o<r.length;o++){var s=r[o-1],l=r[o];i+=Zd(s,l),a.push(i)}if(i===0){this._length=0;return}for(var o=0;o<a.length;o++)a[o]/=i;this._offsets=a,this._length=i},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(n){var r=n.__t<1?n.__t:2-n.__t,a=this._points,i=this._offsets,o=a.length;if(i){var s=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(i[l]<=r);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(i[l]>r);l++);l=Math.min(l-1,o-2)}var c=(r-i[l])/(i[l+1]-i[l]),f=a[l],d=a[l+1];n.x=f[0]*(1-c)+c*d[0],n.y=f[1]*(1-c)+c*d[1];var h=n.__t<1?d[0]-f[0]:f[0]-d[0],p=n.__t<1?d[1]-f[1]:f[1]-d[1];n.rotation=-Math.atan2(p,h)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,n.ignore=!1}},t}(Cbe),o8t=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),s8t=function(e){Le(t,e);function t(n){var r=e.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new o8t},t.prototype.buildPath=function(n,r){var a=r.segs,i=r.curveness,o;if(r.polyline)for(o=this._off;o<a.length;){var s=a[o++];if(s>0){n.moveTo(a[o++],a[o++]);for(var l=1;l<s;l++)n.lineTo(a[o++],a[o++])}}else for(o=this._off;o<a.length;){var u=a[o++],c=a[o++],f=a[o++],d=a[o++];if(n.moveTo(u,c),i>0){var h=(u+f)/2-(c-d)*i,p=(c+d)/2-(f-u)*i;n.quadraticCurveTo(h,p,f,d)}else n.lineTo(f,d)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(n,r){var a=this.shape,i=a.segs,o=a.curveness,s=this.style.lineWidth;if(a.polyline)for(var l=0,u=0;u<i.length;){var c=i[u++];if(c>0)for(var f=i[u++],d=i[u++],h=1;h<c;h++){var p=i[u++],v=i[u++];if(Vd(f,d,p,v,s,n,r))return l}l++}else for(var l=0,u=0;u<i.length;){var f=i[u++],d=i[u++],p=i[u++],v=i[u++];if(o>0){var g=(f+p)/2-(d-v)*o,m=(d+v)/2-(p-f)*o;if(Zge(f,d,g,m,p,v,s,n,r))return l}else if(Vd(f,d,p,v,s,n,r))return l;l++}return-1},t.prototype.contain=function(n,r){var a=this.transformCoordToLocal(n,r),i=this.getBoundingRect();if(n=a[0],r=a[1],i.contain(n,r)){var o=this.hoverDataIdx=this.findDataIndex(n,r);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,a=r.segs,i=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<a.length;){var c=a[u++],f=a[u++];i=Math.min(c,i),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}n=this._rect=new xn(i,o,s,l)}return n},t}(An),l8t=function(){function e(){this.group=new an}return e.prototype.updateData=function(t){this._clear();var n=this._create();n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,n){var r=this._newAdded[0],a=n.getLayout("linesPoints"),i=r&&r.shape.segs;if(i&&i.length<2e4){var o=i.length,s=new Float32Array(o+a.length);s.set(i),s.set(a,o),r.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:a}),this._setCommon(l,n),l.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new s8t({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,n,r){var a=n.hostModel;t.setShape({polyline:a.get("polyline"),curveness:a.get(["lineStyle","curveness"])}),t.useStyle(a.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=n.getVisual("style");i&&i.stroke&&t.setStyle("stroke",i.stroke),t.setStyle("fill",null);var o=sn(t);o.seriesIndex=a.seriesIndex,t.on("mousemove",function(s){o.dataIndex=null;var l=t.hoverDataIdx;l>0&&(o.dataIndex=l+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),kbe={seriesType:"lines",plan:C1(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(a,i){var o=[];if(r){var s=void 0,l=a.end-a.start;if(n){for(var u=0,c=a.start;c<a.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,d=[],c=a.start;c<a.end;c++){var h=e.getLineCoords(c,o);n&&(s[f++]=h);for(var p=0;p<h;p++)d=t.dataToPoint(o[p],!1,d),s[f++]=d[0],s[f++]=d[1]}i.setLayout("linesPoints",s)}else for(var c=a.start;c<a.end;c++){var v=i.getItemModel(c),h=e.getLineCoords(c,o),g=[];if(n)for(var m=0;m<h;m++)g.push(t.dataToPoint(o[m]));else{g[0]=t.dataToPoint(o[0]),g[1]=t.dataToPoint(o[1]);var y=v.get(["lineStyle","curveness"]);+y&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*y,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*y])}i.setItemLayout(c,g)}}}}}},u8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this._updateLineDraw(i,n),s=n.get("zlevel"),l=n.get(["effect","trailLength"]),u=a.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(i);var f=n.get("clip",!0)&&xC(n.coordinateSystem,!1,n);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(n,r,a){var i=n.getData(),o=this._updateLineDraw(i,n);o.incrementalPrepareUpdate(i),this._clearLayer(a),this._finished=!1},t.prototype.incrementalRender=function(n,r,a){this._lineDraw.incrementalUpdate(n,r.getData()),this._finished=n.end===r.getData().count()},t.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},t.prototype.updateTransform=function(n,r,a){var i=n.getData(),o=n.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=kbe.reset(n,r,a);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(a)},t.prototype._updateLineDraw=function(n,r){var a=this._lineDraw,i=this._showEffect(r),o=!!r.get("polyline"),s=r.pipelineContext,l=s.large;return(!a||i!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(a&&a.remove(),a=this._lineDraw=l?new l8t:new iW(o?i?i8t:Tbe:i?Cbe:aW),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=l),this.group.add(a.group),a},t.prototype._showEffect=function(n){return!!n.get(["effect","show"])},t.prototype._clearLayer=function(n){var r=n.getZr(),a=r.painter.getType()==="svg";!a&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(n,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},t.prototype.dispose=function(n,r){this.remove(n,r)},t.type="lines",t}(Dr),c8t=typeof Uint32Array>"u"?Array:Uint32Array,f8t=typeof Float64Array>"u"?Array:Float64Array;function VJ(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=ut(t,function(n){var r=[n[0].coord,n[1].coord],a={coords:r};return n[0].name&&(a.fromName=n[0].name),n[1].name&&(a.toName=n[1].name),F8([a,n[0],n[1]])}))}var d8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.init=function(n){n.data=n.data||[],VJ(n);var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(n){if(VJ(n),n.data){var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(n){var r=this._processFlatCoordsArray(n.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=Fw(this._flatCoords,r.flatCoords),this._flatCoordsOffset=Fw(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),n.data=new Float32Array(r.count)),this.getRawData().appendData(n.data)},t.prototype._getCoordsFromItemModel=function(n){var r=this.getData().getItemModel(n),a=r.option instanceof Array?r.option:r.getShallow("coords");return a},t.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},t.prototype.getLineCoords=function(n,r){if(this._flatCoordsOffset){for(var a=this._flatCoordsOffset[n*2],i=this._flatCoordsOffset[n*2+1],o=0;o<i;o++)r[o]=r[o]||[],r[o][0]=this._flatCoords[a+o*2],r[o][1]=this._flatCoords[a+o*2+1];return i}else{for(var s=this._getCoordsFromItemModel(n),o=0;o<s.length;o++)r[o]=r[o]||[],r[o][0]=s[o][0],r[o][1]=s[o][1];return s.length}},t.prototype._processFlatCoordsArray=function(n){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),Kn(n[0])){for(var a=n.length,i=new c8t(a),o=new f8t(a),s=0,l=0,u=0,c=0;c<a;){u++;var f=n[c++];i[l++]=s+r,i[l++]=f;for(var d=0;d<f;d++){var h=n[c++],p=n[c++];o[s++]=h,o[s++]=p}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},t.prototype.getInitialData=function(n,r){var a=new Zo(["value"],this);return a.hasItemOption=!1,a.initData(n.data,[],function(i,o,s,l){if(i instanceof Array)return NaN;a.hasItemOption=!0;var u=i.value;if(u!=null)return u instanceof Array?u[l]:u}),a},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=i.getItemModel(n),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),gi("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var n=this.getModel("effect"),r=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&r>0?r+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Vr);function pT(e){return e instanceof Array||(e=[e,e]),e}var h8t={seriesType:"lines",reset:function(e){var t=pT(e.get("symbol")),n=pT(e.get("symbolSize")),r=e.getData();r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]);function a(i,o){var s=i.getItemModel(o),l=pT(s.getShallow("symbol",!0)),u=pT(s.getShallow("symbolSize",!0));l[0]&&i.setItemVisual(o,"fromSymbol",l[0]),l[1]&&i.setItemVisual(o,"toSymbol",l[1]),u[0]&&i.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&i.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?a:null}}};function p8t(e){e.registerChartView(u8t),e.registerSeriesModel(d8t),e.registerLayout(kbe),e.registerVisual(h8t)}var v8t=256,g8t=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Bh.createCanvas();this.canvas=t}return e.prototype.update=function(t,n,r,a,i,o){var s=this._getBrush(),l=this._getGradient(i,"inRange"),u=this._getGradient(i,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),h=t.length;f.width=n,f.height=r;for(var p=0;p<h;++p){var v=t[p],g=v[0],m=v[1],y=v[2],b=a(y);d.globalAlpha=b,d.drawImage(s,g-c,m-c)}if(!f.width||!f.height)return f;for(var x=d.getImageData(0,0,f.width,f.height),_=x.data,S=0,C=_.length,k=this.minOpacity,T=this.maxOpacity,I=T-k;S<C;){var b=_[S+3]/256,E=Math.floor(b*(v8t-1))*4;if(b>0){var A=o(b)?l:u;b>0&&(b=b*I+k),_[S++]=A[E],_[S++]=A[E+1],_[S++]=A[E+2],_[S++]=A[E+3]*b*256}else S+=4}return d.putImageData(x,0,0),f},e.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Bh.createCanvas()),n=this.pointSize+this.blurSize,r=n*2;t.width=r,t.height=r;var a=t.getContext("2d");return a.clearRect(0,0,r,r),a.shadowOffsetX=r,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-n,n,this.pointSize,0,Math.PI*2,!0),a.closePath(),a.fill(),t},e.prototype._getGradient=function(t,n){for(var r=this._gradientPixels,a=r[n]||(r[n]=new Uint8ClampedArray(256*4)),i=[0,0,0,0],o=0,s=0;s<256;s++)t[n](s/255,!0,i),a[o++]=i[0],a[o++]=i[1],a[o++]=i[2],a[o++]=i[3];return a},e}();function m8t(e,t,n){var r=e[1]-e[0];t=ut(t,function(o){return{interval:[(o.interval[0]-e[0])/r,(o.interval[1]-e[0])/r]}});var a=t.length,i=0;return function(o){var s;for(s=i;s<a;s++){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){i=s;break}}if(s===a)for(s=i-1;s>=0;s--){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){i=s;break}}return s>=0&&s<a&&n[s]}}function y8t(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(r){return r>=t[0]&&r<=t[1]}}function zJ(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var b8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===n&&(i=s)})}),this._progressiveEls=null,this.group.removeAll();var o=n.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(n,a,0,n.getData().count()):zJ(o)&&this._renderOnGeo(o,n,i,a)},t.prototype.incrementalPrepareRender=function(n,r,a){this.group.removeAll()},t.prototype.incrementalRender=function(n,r,a,i){var o=r.coordinateSystem;o&&(zJ(o)?this.render(r,a,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,i,n.start,n.end,!0)))},t.prototype.eachRendered=function(n){pp(this._progressiveEls||this.group,n)},t.prototype._renderOnCartesianAndCalendar=function(n,r,a,i,o){var s=n.coordinateSystem,l=s0(s,"cartesian2d"),u,c,f,d;if(l){var h=s.getAxis("x"),p=s.getAxis("y");u=h.getBandWidth()+.5,c=p.getBandWidth()+.5,f=h.scale.getExtent(),d=p.scale.getExtent()}for(var v=this.group,g=n.getData(),m=n.getModel(["emphasis","itemStyle"]).getItemStyle(),y=n.getModel(["blur","itemStyle"]).getItemStyle(),b=n.getModel(["select","itemStyle"]).getItemStyle(),x=n.get(["itemStyle","borderRadius"]),_=vi(n),S=n.getModel("emphasis"),C=S.get("focus"),k=S.get("blurScope"),T=S.get("disabled"),I=l?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],E=a;E<i;E++){var A=void 0,N=g.getItemVisual(E,"style");if(l){var L=g.get(I[0],E),R=g.get(I[1],E);if(isNaN(g.get(I[2],E))||isNaN(L)||isNaN(R)||L<f[0]||L>f[1]||R<d[0]||R>d[1])continue;var D=s.dataToPoint([L,R]);A=new Bn({shape:{x:D[0]-u/2,y:D[1]-c/2,width:u,height:c},style:N})}else{if(isNaN(g.get(I[1],E)))continue;A=new Bn({z2:1,shape:s.dataToRect([g.get(I[0],E)]).contentShape,style:N})}if(g.hasItemOption){var P=g.getItemModel(E),O=P.getModel("emphasis");m=O.getModel("itemStyle").getItemStyle(),y=P.getModel(["blur","itemStyle"]).getItemStyle(),b=P.getModel(["select","itemStyle"]).getItemStyle(),x=P.get(["itemStyle","borderRadius"]),C=O.get("focus"),k=O.get("blurScope"),T=O.get("disabled"),_=vi(P)}A.shape.r=x;var M=n.getRawValue(E),W="-";M&&M[2]!=null&&(W=M[2]+""),Yi(A,_,{labelFetcher:n,labelDataIndex:E,defaultOpacity:N.opacity,defaultText:W}),A.ensureState("emphasis").style=m,A.ensureState("blur").style=y,A.ensureState("select").style=b,la(A,C,k,T),A.incremental=o,o&&(A.states.emphasis.hoverLayer=!0),v.add(A),g.setItemGraphicEl(E,A),this._progressiveEls&&this._progressiveEls.push(A)}},t.prototype._renderOnGeo=function(n,r,a,i){var o=a.targetVisuals.inRange,s=a.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new g8t;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=n.getViewRect().clone(),f=n.getRoamTransform();c.applyTransform(f);var d=Math.max(c.x,0),h=Math.max(c.y,0),p=Math.min(c.width+c.x,i.getWidth()),v=Math.min(c.height+c.y,i.getHeight()),g=p-d,m=v-h,y=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],b=l.mapArray(y,function(C,k,T){var I=n.dataToPoint([C,k]);return I[0]-=d,I[1]-=h,I.push(T),I}),x=a.getExtent(),_=a.type==="visualMap.continuous"?y8t(x,a.option.range):m8t(x,a.getPieceList(),a.option.selected);u.update(b,g,m,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},_);var S=new Ri({style:{width:g,height:m,x:d,y:h,image:u.canvas},silent:!0});this.group.add(S)},t.type="heatmap",t}(Dr),x8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){return vd(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var n=pC.get(this.get("coordinateSystem"));if(n&&n.dimensions)return n.dimensions[0]==="lng"&&n.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Vr);function w8t(e){e.registerChartView(b8t),e.registerSeriesModel(x8t)}var _8t=["itemStyle","borderWidth"],WJ=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],_L=new pd,S8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=this.group,o=n.getData(),s=this._data,l=n.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:a.getWidth(),height:a.getHeight()},seriesModel:n,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:WJ[+c],categoryDim:WJ[1-+c]};o.diff(s).add(function(p){if(o.hasValue(p)){var v=UJ(o,p),g=HJ(o,p,v,d),m=GJ(o,d,g);o.setItemGraphicEl(p,m),i.add(m),jJ(m,d,g)}}).update(function(p,v){var g=s.getItemGraphicEl(v);if(!o.hasValue(p)){i.remove(g);return}var m=UJ(o,p),y=HJ(o,p,m,d),b=Rbe(o,y);g&&b!==g.__pictorialShapeStr&&(i.remove(g),o.setItemGraphicEl(p,null),g=null),g?D8t(g,d,y):g=GJ(o,d,y,!0),o.setItemGraphicEl(p,g),g.__pictorialSymbolMeta=y,i.add(g),jJ(g,d,y)}).remove(function(p){var v=s.getItemGraphicEl(p);v&&KJ(s,p,v.__pictorialSymbolMeta.animationModel,v)}).execute();var h=n.get("clip",!0)?xC(n.coordinateSystem,!1,n):null;return h?i.setClipPath(h):i.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(n,r){var a=this.group,i=this._data;n.get("animation")?i&&i.eachItemGraphicEl(function(o){KJ(i,sn(o).dataIndex,n,o)}):a.removeAll()},t.type="pictorialBar",t}(Dr);function HJ(e,t,n,r){var a=e.getItemLayout(t),i=n.get("symbolRepeat"),o=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=n.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,f=n.isAnimationEnabled(),d={dataIndex:t,layout:a,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:i,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?n:null,hoverScale:f&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};C8t(n,i,a,r,d),T8t(e,t,a,i,o,d.boundingLength,d.pxSign,c,r,d),k8t(n,d.symbolScale,u,r,d);var h=d.symbolSize,p=i0(n.get("symbolOffset"),h);return I8t(n,h,a,i,o,p,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d),d}function C8t(e,t,n,r,a){var i=r.valueDim,o=e.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(n[i.wh]<=0),c;if(st(o)){var f=[SL(s,o[0])-l,SL(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=SL(s,o)-l:t?c=r.coordSysExtent[i.index][u]-l:c=n[i.wh];a.boundingLength=c,t&&(a.repeatCutLength=n[i.wh]);var d=i.xy==="x",h=s.inverse;a.pxSign=d&&!h||!d&&h?c>=0?1:-1:c>0?1:-1}function SL(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function T8t(e,t,n,r,a,i,o,s,l,u){var c=l.valueDim,f=l.categoryDim,d=Math.abs(n[f.wh]),h=e.getItemVisual(t,"symbolSize"),p;st(h)?p=h.slice():h==null?p=["100%","100%"]:p=[h,h],p[f.index]=St(p[f.index],d),p[c.index]=St(p[c.index],r?d:Math.abs(i)),u.symbolSize=p;var v=u.symbolScale=[p[0]/s,p[1]/s];v[c.index]*=(l.isHorizontal?-1:1)*o}function k8t(e,t,n,r,a){var i=e.get(_8t)||0;i&&(_L.attr({scaleX:t[0],scaleY:t[1],rotation:n}),_L.updateTransform(),i/=_L.getLineScale(),i*=t[r.valueDim.index]),a.valueLineWidth=i||0}function I8t(e,t,n,r,a,i,o,s,l,u,c,f){var d=c.categoryDim,h=c.valueDim,p=f.pxSign,v=Math.max(t[h.index]+s,0),g=v;if(r){var m=Math.abs(l),y=Si(e.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var x=St(y,t[h.index]),_=Math.max(v+x*2,0),S=b?0:x*2,C=Pge(r),k=C?r:YJ((m+S)/_),T=m-k*v;x=T/2/(b?k:Math.max(k-1,1)),_=v+x*2,S=b?0:x*2,!C&&r!=="fixed"&&(k=u?YJ((Math.abs(u)+S)/_):0),g=k*_-S,f.repeatTimes=k,f.symbolMargin=x}var I=p*(g/2),E=f.pathPosition=[];E[d.index]=n[d.wh]/2,E[h.index]=o==="start"?I:o==="end"?l-I:l/2,i&&(E[0]+=i[0],E[1]+=i[1]);var A=f.bundlePosition=[];A[d.index]=n[d.xy],A[h.index]=n[h.xy];var N=f.barRectShape=rt({},n);N[h.wh]=p*Math.max(Math.abs(n[h.wh]),Math.abs(E[h.index]+I)),N[d.wh]=n[d.wh];var L=f.clipShape={};L[d.xy]=-n[d.xy],L[d.wh]=c.ecSize[d.wh],L[h.xy]=0,L[h.wh]=n[h.wh]}function Ibe(e){var t=e.symbolPatternSize,n=Ma(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function Ebe(e,t,n,r){var a=e.__pictorialBundle,i=n.symbolSize,o=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,c=0,f=i[t.valueDim.index]+o+n.symbolMargin*2;for(vW(e,function(v){v.__pictorialAnimationIndex=c,v.__pictorialRepeatTimes=u,c<u?Wm(v,null,p(c),n,r):Wm(v,null,{scaleX:0,scaleY:0},n,r,function(){a.remove(v)}),c++});c<u;c++){var d=Ibe(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,a.add(d);var h=p(c);Wm(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},n,r)}function p(v){var g=s.slice(),m=n.pxSign,y=v;return(n.symbolRepeatDirection==="start"?m>0:m<0)&&(y=u-1-v),g[l.index]=f*(y-u/2+.5)+s[l.index],{x:g[0],y:g[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function Abe(e,t,n,r){var a=e.__pictorialBundle,i=e.__pictorialMainPath;i?Wm(i,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(i=e.__pictorialMainPath=Ibe(n),a.add(i),Wm(i,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function Dbe(e,t,n){var r=rt({},t.barRectShape),a=e.__pictorialBarRect;a?Wm(a,null,{shape:r},t,n):(a=e.__pictorialBarRect=new Bn({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.disableMorphing=!0,e.add(a))}function Nbe(e,t,n,r){if(n.symbolClip){var a=e.__pictorialClipPath,i=rt({},n.clipShape),o=t.valueDim,s=n.animationModel,l=n.dataIndex;if(a)Jn(a,{shape:i},s,l);else{i[o.wh]=0,a=new Bn({shape:i}),e.__pictorialBundle.setClipPath(a),e.__pictorialClipPath=a;var u={};u[o.wh]=n.clipShape[o.wh],a0[r?"updateProps":"initProps"](a,{shape:u},s,l)}}}function UJ(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=E8t,n.isAnimationEnabled=A8t,n}function E8t(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function A8t(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function GJ(e,t,n,r){var a=new an,i=new an;return a.add(i),a.__pictorialBundle=i,i.x=n.bundlePosition[0],i.y=n.bundlePosition[1],n.symbolRepeat?Ebe(a,t,n):Abe(a,t,n),Dbe(a,n,r),Nbe(a,t,n,r),a.__pictorialShapeStr=Rbe(e,n),a.__pictorialSymbolMeta=n,a}function D8t(e,t,n){var r=n.animationModel,a=n.dataIndex,i=e.__pictorialBundle;Jn(i,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,a),n.symbolRepeat?Ebe(e,t,n,!0):Abe(e,t,n,!0),Dbe(e,n,!0),Nbe(e,t,n,!0)}function KJ(e,t,n,r){var a=r.__pictorialBarRect;a&&a.removeTextContent();var i=[];vW(r,function(o){i.push(o)}),r.__pictorialMainPath&&i.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),X(i,function(o){zh(o,{scaleX:0,scaleY:0},n,t,function(){r.parent&&r.parent.remove(r)})}),e.setItemGraphicEl(t,null)}function Rbe(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function vW(e,t,n){X(e.__pictorialBundle.children(),function(r){r!==e.__pictorialBarRect&&t.call(n,r)})}function Wm(e,t,n,r,a,i){t&&e.attr(t),r.symbolClip&&!a?n&&e.attr(n):n&&a0[a?"updateProps":"initProps"](e,n,r.animationModel,r.dataIndex,i)}function jJ(e,t,n){var r=n.dataIndex,a=n.itemModel,i=a.getModel("emphasis"),o=i.getModel("itemStyle").getItemStyle(),s=a.getModel(["blur","itemStyle"]).getItemStyle(),l=a.getModel(["select","itemStyle"]).getItemStyle(),u=a.getShallow("cursor"),c=i.get("focus"),f=i.get("blurScope"),d=i.get("scale");vW(e,function(v){if(v instanceof Ri){var g=v.style;v.useStyle(rt({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},n.style))}else v.useStyle(n.style);var m=v.ensureState("emphasis");m.style=o,d&&(m.scaleX=v.scaleX*1.1,m.scaleY=v.scaleY*1.1),v.ensureState("blur").style=s,v.ensureState("select").style=l,u&&(v.cursor=u),v.z2=n.z2});var h=t.valueDim.posDesc[+(n.boundingLength>0)],p=e.__pictorialBarRect;p.ignoreClip=!0,Yi(p,vi(a),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:Ny(t.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:h}),la(e,c,f,i.get("disabled"))}function YJ(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var N8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return t.prototype.getInitialData=function(n){return n.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=vp(n_.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(n_);function R8t(e){e.registerChartView(S8t),e.registerSeriesModel(N8t),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,vn(vye,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,gye("pictorialBar"))}var M8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return t.prototype.render=function(n,r,a){var i=n.getData(),o=this,s=this.group,l=n.getLayerSeries(),u=i.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function d(g){return g.name}var h=new Jf(this._layersSeries||[],l,d,d),p=[];h.add(Nt(v,this,"add")).update(Nt(v,this,"update")).remove(Nt(v,this,"remove")).execute();function v(g,m,y){var b=o._layers;if(g==="remove"){s.remove(b[m]);return}for(var x=[],_=[],S,C=l[m].indices,k=0;k<C.length;k++){var T=i.getItemLayout(C[k]),I=T.x,E=T.y0,A=T.y;x.push(I,E),_.push(I,E+A),S=i.getItemVisual(C[k],"style")}var N,L=i.getItemLayout(C[0]),R=n.getModel("label"),D=R.get("margin"),P=n.getModel("emphasis");if(g==="add"){var O=p[m]=new an;N=new a1e({shape:{points:x,stackedOnPoints:_,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),O.add(N),s.add(O),n.isAnimationEnabled()&&N.setClipPath($8t(N.getBoundingRect(),n,function(){N.removeClipPath()}))}else{var O=b[y];N=O.childAt(0),s.add(O),p[m]=O,Jn(N,{shape:{points:x,stackedOnPoints:_}},n),Fu(N)}Yi(N,vi(n),{labelDataIndex:C[k-1],defaultText:i.getName(C[k-1]),inheritColor:S.fill},{normal:{verticalAlign:"middle"}}),N.setTextConfig({position:null,local:!0});var M=N.getTextContent();M&&(M.x=L.x-D,M.y=L.y0+L.y/2),N.useStyle(S),i.setItemGraphicEl(m,N),ji(N,n),la(N,P.get("focus"),P.get("blurScope"),P.get("disabled"))}this._layersSeries=l,this._layers=p},t.type="themeRiver",t}(Dr);function $8t(e,t,n){var r=new Bn({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Xr(r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),r}var CL=2,L8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new SC(Nt(this.getData,this),Nt(this.getRawData,this))},t.prototype.fixData=function(n){var r=n.length,a={},i=KF(n,function(d){return a.hasOwnProperty(d[0]+"")||(a[d[0]+""]=-1),d[2]}),o=[];i.buckets.each(function(d,h){o.push({name:h,dataList:d})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";a[f]=l}for(var f in a)a.hasOwnProperty(f)&&a[f]!==l&&(a[f]=l,n[r]=[f,0,u],r++)}return n},t.prototype.getInitialData=function(n,r){for(var a=this.getReferringComponents("singleAxis",Da).models[0],i=a.get("type"),o=sr(n.data,function(p){return p[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=Pt(),c=0,f=0;f<s.length;++f)l.push(s[f][CL]),u.get(s[f][CL])||(u.set(s[f][CL],c),c++);var d=gC(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:_E(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Zo(d,this);return h.initData(s),h},t.prototype.getLayerSeries=function(){for(var n=this.getData(),r=n.count(),a=[],i=0;i<r;++i)a[i]=i;var o=n.mapDimension("single"),s=KF(a,function(u){return n.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,d){return n.get(o,f)-n.get(o,d)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(n,r,a){st(n)||(n=n?[n]:[]);for(var i=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,d=-1,h=o[c].indices.length,p=0;p<h;++p){var v=i.get(n[0],o[c].indices[p]),g=Math.abs(v-r);g<=f&&(u=v,f=g,d=o[c].indices[p])}s.push(d)}return{dataIndices:s,nestestValue:u}},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=i.getName(n),s=i.get(i.mapDimension("value"),n);return gi("nameValue",{name:o,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Vr);function O8t(e,t){e.eachSeriesByType("themeRiver",function(n){var r=n.getData(),a=n.coordinateSystem,i={},o=a.getRect();i.rect=o;var s=n.get("boundaryGap"),l=a.getAxis();if(i.boundaryGap=s,l.orient==="horizontal"){s[0]=St(s[0],o.height),s[1]=St(s[1],o.height);var u=o.height-s[0]-s[1];XJ(r,n,u)}else{s[0]=St(s[0],o.width),s[1]=St(s[1],o.width);var c=o.width-s[0]-s[1];XJ(r,n,c)}r.setLayout("layoutInfo",i)})}function XJ(e,t,n){if(e.count())for(var r=t.coordinateSystem,a=t.getLayerSeries(),i=e.mapDimension("single"),o=e.mapDimension("value"),s=ut(a,function(g){return ut(g.indices,function(m){var y=r.dataToPoint(e.get(i,m));return y[1]=e.get(o,m),y})}),l=P8t(s),u=l.y0,c=n/l.max,f=a.length,d=a[0].indices.length,h,p=0;p<d;++p){h=u[p]*c,e.setItemLayout(a[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:h,y:s[0][p][1]*c});for(var v=1;v<f;++v)h+=s[v-1][p][1]*c,e.setItemLayout(a[v].indices[p],{layerIndex:v,x:s[v][p][0],y0:h,y:s[v][p][1]*c})}}function P8t(e){for(var t=e.length,n=e[0].length,r=[],a=[],i=0,o=0;o<n;++o){for(var s=0,l=0;l<t;++l)s+=e[l][o][1];s>i&&(i=s),r.push(s)}for(var u=0;u<n;++u)a[u]=(i-r[u])/2;i=0;for(var c=0;c<n;++c){var f=r[c]+a[c];f>i&&(i=f)}return{y0:a,max:i}}function F8t(e){e.registerChartView(M8t),e.registerSeriesModel(L8t),e.registerLayout(O8t),e.registerProcessor(_C("themeRiver"))}var B8t=2,V8t=4,qJ=function(e){Le(t,e);function t(n,r,a,i){var o=e.call(this)||this;o.z2=B8t,o.textConfig={inside:!0},sn(o).seriesIndex=r.seriesIndex;var s=new Hn({z2:V8t,silent:n.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,n,r,a,i),o}return t.prototype.updateData=function(n,r,a,i,o){this.node=r,r.piece=this,a=a||this._seriesModel,i=i||this._ecModel;var s=this;sn(s).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),f=rt({},c);f.label=null;var d=r.getVisual("style");d.lineJoin="bevel";var h=r.getVisual("decal");h&&(d.decal=Ay(h,o));var p=Rv(l.getModel("itemStyle"),f,!0);rt(f,p),X(os,function(y){var b=s.ensureState(y),x=l.getModel([y,"itemStyle"]);b.style=x.getItemStyle();var _=Rv(x,f);_&&(b.shape=_)}),n?(s.setShape(f),s.shape.r=c.r0,Xr(s,{shape:{r:c.r}},a,r.dataIndex)):(Jn(s,{shape:f},a),Fu(s)),s.useStyle(d),this._updateLabel(a);var v=l.getShallow("cursor");v&&s.attr("cursor",v),this._seriesModel=a||this._seriesModel,this._ecModel=i||this._ecModel;var g=u.get("focus"),m=g==="relative"?Fw(r.getAncestorsIndices(),r.getDescendantIndices()):g==="ancestor"?r.getAncestorsIndices():g==="descendant"?r.getDescendantIndices():g;la(this,m,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n){var r=this,a=this.node.getModel(),i=a.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,p=i.get("minAngle")/180*Math.PI,v=i.get("show")&&!(p!=null&&Math.abs(s)<p);d.ignore=!v,X(Uw,function(m){var y=m==="normal"?a.getModel("label"):a.getModel([m,"label"]),b=m==="normal",x=b?d:d.ensureState(m),_=n.getFormattedLabel(h,m);b&&(_=_||r.node.name),x.style=Fr(y,{},null,m!=="normal",!0),_&&(x.style.text=_);var S=y.get("show");S!=null&&!b&&(x.ignore=!S);var C=g(y,"position"),k=b?f:f.states[m],T=k.style.fill;k.textConfig={outsideFill:y.get("color")==="inherit"?T:null,inside:C!=="outside"};var I,E=g(y,"distance")||0,A=g(y,"align"),N=g(y,"rotate"),L=Math.PI*.5,R=Math.PI*1.5,D=Vs(N==="tangential"?Math.PI/2-l:l),P=D>L&&!Ww(D-L)&&D<R;C==="outside"?(I=o.r+E,A=P?"right":"left"):!A||A==="center"?(s===2*Math.PI&&o.r0===0?I=0:I=(o.r+o.r0)/2,A="center"):A==="left"?(I=o.r0+E,A=P?"right":"left"):A==="right"&&(I=o.r-E,A=P?"left":"right"),x.style.align=A,x.style.verticalAlign=g(y,"verticalAlign")||"middle",x.x=I*u+o.cx,x.y=I*c+o.cy;var O=0;N==="radial"?O=Vs(-l)+(P?Math.PI:0):N==="tangential"?O=Vs(Math.PI/2-l)+(P?Math.PI:0):Kn(N)&&(O=N*Math.PI/180),x.rotation=Vs(O)});function g(m,y){var b=m.get(y);return b??i.get(y)}d.dirtyStyle()},t}(ss),K3="sunburstRootToNode",ZJ="sunburstHighlight",z8t="sunburstUnhighlight";function W8t(e){e.registerAction({type:K3,update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"sunburst",query:t},r);function r(a,i){var o=a_(t,[K3],a);if(o){var s=a.getViewRoot();s&&(t.direction=Q5(s,o.node)?"rollUp":"drillDown"),a.resetViewRoot(o.node)}}}),e.registerAction({type:ZJ,update:"none"},function(t,n,r){t=rt({},t),n.eachComponent({mainType:"series",subType:"sunburst",query:t},a);function a(i){var o=a_(t,[ZJ],i);o&&(t.dataIndex=o.node.dataIndex)}r.dispatchAction(rt(t,{type:"highlight"}))}),e.registerAction({type:z8t,update:"updateView"},function(t,n,r){t=rt({},t),r.dispatchAction(rt(t,{type:"downplay"}))})}var H8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){var o=this;this.seriesModel=n,this.api=a,this.ecModel=r;var s=n.getData(),l=s.tree.root,u=n.getViewRoot(),c=this.group,f=n.get("renderLabelForZeroData"),d=[];u.eachNode(function(y){d.push(y)});var h=this._oldChildren||[];p(d,h),m(l,u),this._initEvents(),this._oldChildren=d;function p(y,b){if(y.length===0&&b.length===0)return;new Jf(b,y,x,x).add(_).update(_).remove(vn(_,null)).execute();function x(S){return S.getId()}function _(S,C){var k=S==null?null:y[S],T=C==null?null:b[C];v(k,T)}}function v(y,b){if(!f&&y&&!y.getValue()&&(y=null),y!==l&&b!==l){if(b&&b.piece)y?(b.piece.updateData(!1,y,n,r,a),s.setItemGraphicEl(y.dataIndex,b.piece)):g(b);else if(y){var x=new qJ(y,n,r,a);c.add(x),s.setItemGraphicEl(y.dataIndex,x)}}}function g(y){y&&y.piece&&(c.remove(y.piece),y.piece=null)}function m(y,b){b.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,y,n,r,a):(o.virtualPiece=new qJ(y,n,r,a),c.add(o.virtualPiece)),b.piece.off("click"),o.virtualPiece.on("click",function(x){o._rootToNode(b.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(r){var a=!1,i=n.seriesModel.getViewRoot();i.eachNode(function(o){if(!a&&o.piece&&o.piece===r.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")n._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";pE(u,c)}}a=!0}})})},t.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:K3,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},t.prototype.containPoint=function(n,r){var a=r.getData(),i=a.getItemLayout(0);if(i){var o=n[0]-i.cx,s=n[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="sunburst",t}(Dr),U8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n,r){var a={name:n.name,children:n.data};Mbe(a);var i=this._levelModels=ut(n.levels||[],function(l){return new pr(l,this,r)},this),o=J5.createTree(a,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),d=i[f.depth];return d&&(u.parentModel=d),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(n);return r.treePathInfo=QN(a,this),r},t.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){F1e(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Vr);function Mbe(e){var t=0;X(e.children,function(r){Mbe(r);var a=r.value;st(a)&&(a=a[0]),t+=a});var n=e.value;st(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),st(e.value)?e.value[0]=n:e.value=n}var JJ=Math.PI/180;function G8t(e,t,n){t.eachSeriesByType(e,function(r){var a=r.get("center"),i=r.get("radius");st(i)||(i=[0,i]),st(a)||(a=[a,a]);var o=n.getWidth(),s=n.getHeight(),l=Math.min(o,s),u=St(a[0],o),c=St(a[1],s),f=St(i[0],l/2),d=St(i[1],l/2),h=-r.get("startAngle")*JJ,p=r.get("minAngle")*JJ,v=r.getData().tree.root,g=r.getViewRoot(),m=g.depth,y=r.get("sort");y!=null&&$be(g,y);var b=0;X(g.children,function(D){!isNaN(D.getValue())&&b++});var x=g.getValue(),_=Math.PI/(x||b)*2,S=g.depth>0,C=g.height-(S?-1:1),k=(d-f)/(C||1),T=r.get("clockwise"),I=r.get("stillShowZeroSum"),E=T?1:-1,A=function(D,P){if(D){var O=P;if(D!==v){var M=D.getValue(),W=x===0&&I?_:M*_;W<p&&(W=p),O=P+E*W;var U=D.depth-m-(S?-1:1),V=f+k*U,H=f+k*(U+1),K=r.getLevelModel(D);if(K){var j=K.get("r0",!0),ne=K.get("r",!0),Q=K.get("radius",!0);Q!=null&&(j=Q[0],ne=Q[1]),j!=null&&(V=St(j,l/2)),ne!=null&&(H=St(ne,l/2))}D.setLayout({angle:W,startAngle:P,endAngle:O,clockwise:T,cx:u,cy:c,r0:V,r:H})}if(D.children&&D.children.length){var oe=0;X(D.children,function(ae){oe+=A(ae,P+oe)})}return O-P}};if(S){var N=f,L=f+k,R=Math.PI*2;v.setLayout({angle:R,startAngle:h,endAngle:h+R,clockwise:T,cx:u,cy:c,r0:N,r:L})}A(g,h)})}function $be(e,t){var n=e.children||[];e.children=K8t(n,t),n.length&&X(e.children,function(r){$be(r,t)})}function K8t(e,t){if(Yt(t)){var n=ut(e,function(a,i){var o=a.getValue();return{params:{depth:a.depth,height:a.height,dataIndex:a.dataIndex,getValue:function(){return o}},index:i}});return n.sort(function(a,i){return t(a.params,i.params)}),ut(n,function(a){return e[a.index]})}else{var r=t==="asc";return e.sort(function(a,i){var o=(a.getValue()-i.getValue())*(r?1:-1);return o===0?(a.dataIndex-i.dataIndex)*(r?-1:1):o})}}function j8t(e){var t={};function n(r,a,i){for(var o=r;o&&o.depth>1;)o=o.parentNode;var s=a.getColorFromPalette(o.name||o.dataIndex+"",t);return r.depth>1&&Dt(s)&&(s=$F(s,(r.depth-1)/(i-1)*.5)),s}e.eachSeriesByType("sunburst",function(r){var a=r.getData(),i=a.tree;i.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=n(o,r,i.root.height));var u=a.ensureUniqueItemVisual(o.dataIndex,"style");rt(u,l)})})}function Y8t(e){e.registerChartView(H8t),e.registerSeriesModel(U8t),e.registerLayout(vn(G8t,"sunburst")),e.registerProcessor(vn(_C,"sunburst")),e.registerVisual(j8t),W8t(e)}var QJ={color:"fill",borderColor:"stroke"},X8t={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Pf=Vn(),q8t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(n,r){return vd(null,this)},t.prototype.getDataParams=function(n,r,a){var i=e.prototype.getDataParams.call(this,n,r);return a&&(i.info=Pf(a).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Vr);function Z8t(e,t){return t=t||[0,0],ut(["x","y"],function(n,r){var a=this.getAxis(n),i=t[r],o=e[r]/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(i-o)-a.dataToCoord(i+o))},this)}function J8t(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:Nt(Z8t,e)}}}function Q8t(e,t){return t=t||[0,0],ut([0,1],function(n){var r=t[n],a=e[n]/2,i=[],o=[];return i[n]=r-a,o[n]=r+a,i[1-n]=o[1-n]=t[1-n],Math.abs(this.dataToPoint(i)[n]-this.dataToPoint(o)[n])},this)}function e5t(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(n){return e.dataToPoint(n)},size:Nt(Q8t,e)}}}function t5t(e,t){var n=this.getAxis(),r=t instanceof Array?t[0]:t,a=(e instanceof Array?e[0]:e)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(r-a)-n.dataToCoord(r+a))}function n5t(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:Nt(t5t,e)}}}function r5t(e,t){return t=t||[0,0],ut(["Radius","Angle"],function(n,r){var a="get"+n+"Axis",i=this[a](),o=t[r],s=e[r]/2,l=i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-s)-i.dataToCoord(o+s));return n==="Angle"&&(l=l*Math.PI/180),l},this)}function a5t(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(a){var i=t.dataToRadius(a[0]),o=n.dataToAngle(a[1]),s=e.coordToPoint([i,o]);return s.push(i,o*Math.PI/180),s},size:Nt(r5t,e)}}}function i5t(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(r,a){return e.dataToPoint(r,a)}}}}function Lbe(e,t,n,r){return e&&(e.legacy||e.legacy!==!1&&!n&&!r&&t!=="tspan"&&(t==="text"||Mt(e,"text")))}function Obe(e,t,n){var r=e,a,i,o;if(t==="text")o=r;else{o={},Mt(r,"text")&&(o.text=r.text),Mt(r,"rich")&&(o.rich=r.rich),Mt(r,"textFill")&&(o.fill=r.textFill),Mt(r,"textStroke")&&(o.stroke=r.textStroke),Mt(r,"fontFamily")&&(o.fontFamily=r.fontFamily),Mt(r,"fontSize")&&(o.fontSize=r.fontSize),Mt(r,"fontStyle")&&(o.fontStyle=r.fontStyle),Mt(r,"fontWeight")&&(o.fontWeight=r.fontWeight),i={type:"text",style:o,silent:!0},a={};var s=Mt(r,"textPosition");n?a.position=s?r.textPosition:"inside":s&&(a.position=r.textPosition),Mt(r,"textPosition")&&(a.position=r.textPosition),Mt(r,"textOffset")&&(a.offset=r.textOffset),Mt(r,"textRotation")&&(a.rotation=r.textRotation),Mt(r,"textDistance")&&(a.distance=r.textDistance)}return eQ(o,e),X(o.rich,function(l){eQ(l,l)}),{textConfig:a,textContent:i}}function eQ(e,t){t&&(t.font=t.textFont||t.font,Mt(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Mt(t,"textAlign")&&(e.align=t.textAlign),Mt(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Mt(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Mt(t,"textWidth")&&(e.width=t.textWidth),Mt(t,"textHeight")&&(e.height=t.textHeight),Mt(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Mt(t,"textPadding")&&(e.padding=t.textPadding),Mt(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Mt(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Mt(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Mt(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Mt(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Mt(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Mt(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function tQ(e,t,n){var r=e;r.textPosition=r.textPosition||n.position||"inside",n.offset!=null&&(r.textOffset=n.offset),n.rotation!=null&&(r.textRotation=n.rotation),n.distance!=null&&(r.textDistance=n.distance);var a=r.textPosition.indexOf("inside")>=0,i=e.fill||"#000";nQ(r,t);var o=r.textFill==null;return a?o&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=i),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(o&&(r.textFill=e.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=t.text,r.rich=t.rich,X(t.rich,function(s){nQ(s,s)}),r}function nQ(e,t){t&&(Mt(t,"fill")&&(e.textFill=t.fill),Mt(t,"stroke")&&(e.textStroke=t.fill),Mt(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Mt(t,"font")&&(e.font=t.font),Mt(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Mt(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Mt(t,"fontSize")&&(e.fontSize=t.fontSize),Mt(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Mt(t,"align")&&(e.textAlign=t.align),Mt(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Mt(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Mt(t,"width")&&(e.textWidth=t.width),Mt(t,"height")&&(e.textHeight=t.height),Mt(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Mt(t,"padding")&&(e.textPadding=t.padding),Mt(t,"borderColor")&&(e.textBorderColor=t.borderColor),Mt(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Mt(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Mt(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Mt(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Mt(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Mt(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Mt(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Mt(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Mt(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Mt(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var Pbe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},rQ=Mn(Pbe);zc(Hc,function(e,t){return e[t]=1,e},{});Hc.join(", ");var $E=["","style","shape","extra"],$y=Vn();function gW(e,t,n,r,a){var i=e+"Animation",o=y1(e,r,a)||{},s=$y(t).userDuring;return o.duration>0&&(o.during=s?Nt(c5t,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=e),rt(o,n[i]),o}function Ik(e,t,n,r){r=r||{};var a=r.dataIndex,i=r.isInit,o=r.clearStyle,s=n.isAnimationEnabled(),l=$y(e),u=t.style;l.userDuring=t.during;var c={},f={};if(d5t(e,t,f),iQ("shape",t,f),iQ("extra",t,f),!i&&s&&(f5t(e,t,c),aQ("shape",e,t,c),aQ("extra",e,t,c),h5t(e,t,u,c)),f.style=u,o5t(e,f,o),l5t(e,t),s)if(i){var d={};X($E,function(p){var v=p?t[p]:t;v&&v.enterFrom&&(p&&(d[p]=d[p]||{}),rt(p?d[p]:d,v.enterFrom))});var h=gW("enter",e,t,n,a);h.duration>0&&e.animateFrom(d,h)}else s5t(e,t,a||0,n,c);Fbe(e,t),u?e.dirty():e.markRedraw()}function Fbe(e,t){for(var n=$y(e).leaveToProps,r=0;r<$E.length;r++){var a=$E[r],i=a?t[a]:t;i&&i.leaveTo&&(n||(n=$y(e).leaveToProps={}),a&&(n[a]=n[a]||{}),rt(a?n[a]:n,i.leaveTo))}}function nR(e,t,n,r){if(e){var a=e.parent,i=$y(e).leaveToProps;if(i){var o=gW("update",e,t,n,0);o.done=function(){a.remove(e)},e.animateTo(i,o)}else a.remove(e)}}function Zv(e){return e==="all"}function o5t(e,t,n){var r=t.style;if(!e.isGroup&&r){if(n){e.useStyle({});for(var a=e.animators,i=0;i<a.length;i++){var o=a[i];o.targetName==="style"&&o.changeTarget(e.style)}}e.setStyle(r)}t.style=null,e.attr(t),t.style=r}function s5t(e,t,n,r,a){{var i=gW("update",e,t,r,n);i.duration>0&&e.animateFrom(a,i)}}function l5t(e,t){Mt(t,"silent")&&(e.silent=t.silent),Mt(t,"ignore")&&(e.ignore=t.ignore),e instanceof Bl&&Mt(t,"invisible")&&(e.invisible=t.invisible),e instanceof An&&Mt(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var tc={},u5t={setTransform:function(e,t){return tc.el[e]=t,this},getTransform:function(e){return tc.el[e]},setShape:function(e,t){var n=tc.el,r=n.shape||(n.shape={});return r[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=tc.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=tc.el,r=n.style;return r&&(r[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=tc.el.style;if(t)return t[e]},setExtra:function(e,t){var n=tc.el.extra||(tc.el.extra={});return n[e]=t,this},getExtra:function(e){var t=tc.el.extra;if(t)return t[e]}};function c5t(){var e=this,t=e.el;if(t){var n=$y(t).userDuring,r=e.userDuring;if(n!==r){e.el=e.userDuring=null;return}tc.el=t,r(u5t)}}function aQ(e,t,n,r){var a=n[e];if(a){var i=t[e],o;if(i){var s=n.transition,l=a.transition;if(l)if(!o&&(o=r[e]={}),Zv(l))rt(o,i);else for(var u=Ir(l),c=0;c<u.length;c++){var f=u[c],d=i[f];o[f]=d}else if(Zv(s)||Cn(s,e)>=0){!o&&(o=r[e]={});for(var h=Mn(i),c=0;c<h.length;c++){var f=h[c],d=i[f];p5t(a[f],d)&&(o[f]=d)}}}}}function iQ(e,t,n){var r=t[e];if(r)for(var a=n[e]={},i=Mn(r),o=0;o<i.length;o++){var s=i[o];a[s]=Sx(r[s])}}function f5t(e,t,n){for(var r=t.transition,a=Zv(r)?Hc:Ir(r||[]),i=0;i<a.length;i++){var o=a[i];if(!(o==="style"||o==="shape"||o==="extra")){var s=e[o];n[o]=s}}}function d5t(e,t,n){for(var r=0;r<rQ.length;r++){var a=rQ[r],i=Pbe[a],o=t[a];o&&(n[i[0]]=o[0],n[i[1]]=o[1])}for(var r=0;r<Hc.length;r++){var s=Hc[r];t[s]!=null&&(n[s]=t[s])}}function h5t(e,t,n,r){if(n){var a=e.style,i;if(a){var o=n.transition,s=t.transition;if(o&&!Zv(o)){var l=Ir(o);!i&&(i=r.style={});for(var u=0;u<l.length;u++){var c=l[u],f=a[c];i[c]=f}}else if(e.getAnimationStyleProps&&(Zv(s)||Zv(o)||Cn(s,"style")>=0)){var d=e.getAnimationStyleProps(),h=d?d.style:null;if(h){!i&&(i=r.style={});for(var p=Mn(n),u=0;u<p.length;u++){var c=p[u];if(h[c]){var f=a[c];i[c]=f}}}}}}}function p5t(e,t){return Co(e)?e!==t:e!=null&&isFinite(e)}var Bbe=Vn(),v5t=["percent","easing","shape","style","extra"];function Vbe(e){e.stopAnimation("keyframe"),e.attr(Bbe(e))}function LE(e,t,n){if(!(!n.isAnimationEnabled()||!t)){if(st(t)){X(t,function(s){LE(e,s,n)});return}var r=t.keyframes,a=t.duration;if(n&&a==null){var i=y1("enter",n,0);a=i&&i.duration}if(!(!r||!a)){var o=Bbe(e);X($E,function(s){if(!(s&&!e[s])){var l;r.sort(function(u,c){return u.percent-c.percent}),X(r,function(u){var c=e.animators,f=s?u[s]:u;if(f){var d=Mn(f);if(s||(d=sr(d,function(v){return Cn(v5t,v)<0})),!!d.length){l||(l=e.animate(s,t.loop,!0),l.scope="keyframe");for(var h=0;h<c.length;h++)c[h]!==l&&c[h].targetName===l.targetName&&c[h].stopTracks(d);s&&(o[s]=o[s]||{});var p=s?o[s]:o;X(d,function(v){p[v]=((s?e[s]:e)||{})[v]}),l.whenWithKeys(a*u.percent,f,d,u.easing)}}}),l&&l.delay(t.delay||0).duration(a).start(t.easing)}})}}}var Ff="emphasis",ah="normal",mW="blur",yW="select",Gh=[ah,Ff,mW,yW],TL={normal:["itemStyle"],emphasis:[Ff,"itemStyle"],blur:[mW,"itemStyle"],select:[yW,"itemStyle"]},kL={normal:["label"],emphasis:[Ff,"label"],blur:[mW,"label"],select:[yW,"label"]},g5t=["x","y"],m5t="e\0\0",il={normal:{},emphasis:{},blur:{},select:{}},y5t={cartesian2d:J8t,geo:e5t,single:n5t,polar:a5t,calendar:i5t};function j3(e){return e instanceof An}function Y3(e){return e instanceof Bl}function b5t(e,t){t.copyTransform(e),Y3(t)&&Y3(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,j3(t)&&j3(e)&&t.setShape(e.shape))}var x5t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){this._progressiveEls=null;var o=this._data,s=n.getData(),l=this.group,u=oQ(n,s,r,a);o||l.removeAll(),s.diff(o).add(function(f){IL(a,null,f,u(f,i),n,l,s)}).remove(function(f){var d=o.getItemGraphicEl(f);d&&nR(d,Pf(d).option,n)}).update(function(f,d){var h=o.getItemGraphicEl(d);IL(a,h,f,u(f,i),n,l,s)}).execute();var c=n.get("clip",!0)?xC(n.coordinateSystem,!1,n):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(n,r,a){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(n,r,a,i,o){var s=r.getData(),l=oQ(r,s,a,i),u=this._progressiveEls=[];function c(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var f=n.start;f<n.end;f++){var d=IL(null,null,f,l(f,o),r,this.group,s);d&&(d.traverse(c),u.push(d))}},t.prototype.eachRendered=function(n){pp(this._progressiveEls||this.group,n)},t.prototype.filterForExposedEvent=function(n,r,a,i){var o=r.element;if(o==null||a.name===o)return!0;for(;(a=a.__hostTarget||a.parent)&&a!==this.group;)if(a.name===o)return!0;return!1},t.type="custom",t}(Dr);function bW(e){var t=e.type,n;if(t==="path"){var r=e.shape,a=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,i=Hbe(r);n=RN(i,null,a,r.layout||"center"),Pf(n).customPathData=i}else if(t==="image")n=new Ri({}),Pf(n).customImagePath=e.style.image;else if(t==="text")n=new Hn({});else if(t==="group")n=new an;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=s5(t);if(!o){var s="";or(s)}n=new o}return Pf(n).customGraphicType=t,n.name=e.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function xW(e,t,n,r,a,i,o){Vbe(t);var s=a&&a.normal.cfg;s&&t.setTextConfig(s),r&&r.transition==null&&(r.transition=g5t);var l=r&&r.style;if(l){if(t.type==="text"){var u=l;Mt(u,"textFill")&&(u.fill=u.textFill),Mt(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=j3(t)?l.decal:null;e&&f&&(f.dirty=!0,c=Ay(f,e)),l.__decalPattern=c}if(Y3(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}Ik(t,r,i,{dataIndex:n,isInit:o,clearStyle:!0}),LE(t,r.keyframeAnimation,i)}function zbe(e,t,n,r,a){var i=t.isGroup?null:t,o=a&&a[e].cfg;if(i){var s=i.ensureState(e);if(r===!1){var l=i.getState(e);l&&(l.style=null)}else s.style=r||null;o&&(s.textConfig=o),Ag(i)}}function w5t(e,t,n){if(!e.isGroup){var r=e,a=n.currentZ,i=n.currentZLevel;r.z=a,r.zlevel=i;var o=t.z2;o!=null&&(r.z2=o||0);for(var s=0;s<Gh.length;s++)_5t(r,t,Gh[s])}}function _5t(e,t,n){var r=n===ah,a=r?t:OE(t,n),i=a?a.z2:null,o;i!=null&&(o=r?e:e.ensureState(n),o.z2=i||0)}function oQ(e,t,n,r){var a=e.get("renderItem"),i=e.coordinateSystem,o={};i&&(o=i.prepareCustoms?i.prepareCustoms(i):y5t[i.type](i));for(var s=Xt({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:x,style:S,ordinalRawValue:_,styleEmphasis:C,visual:I,barLayout:E,currentSeriesIndices:A,font:N},o.api||{}),l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:S5t(e.getData())},u,c,f={},d={},h={},p={},v=0;v<Gh.length;v++){var g=Gh[v];h[g]=e.getModel(TL[g]),p[g]=e.getModel(kL[g])}function m(L){return L===u?c||(c=t.getItemModel(L)):t.getItemModel(L)}function y(L,R){return t.hasItemOption?L===u?f[R]||(f[R]=m(L).getModel(TL[R])):m(L).getModel(TL[R]):h[R]}function b(L,R){return t.hasItemOption?L===u?d[R]||(d[R]=m(L).getModel(kL[R])):m(L).getModel(kL[R]):p[R]}return function(L,R){return u=L,c=null,f={},d={},a&&a(Xt({dataIndexInside:L,dataIndex:t.getRawIndex(L),actionType:R?R.type:null},l),s)};function x(L,R){return R==null&&(R=u),t.getStore().get(t.getDimensionIndex(L||0),R)}function _(L,R){R==null&&(R=u),L=L||0;var D=t.getDimensionInfo(L);if(!D){var P=t.getDimensionIndex(L);return P>=0?t.getStore().get(P,R):void 0}var O=t.get(D.name,R),M=D&&D.ordinalMeta;return M?M.categories[O]:O}function S(L,R){R==null&&(R=u);var D=t.getItemVisual(R,"style"),P=D&&D.fill,O=D&&D.opacity,M=y(R,ah).getItemStyle();P!=null&&(M.fill=P),O!=null&&(M.opacity=O);var W={inheritColor:Dt(P)?P:"#000"},U=b(R,ah),V=Fr(U,null,W,!1,!0);V.text=U.getShallow("show")?fn(e.getFormattedLabel(R,ah),Ny(t,R)):null;var H=dE(U,W,!1);return T(L,M),M=tQ(M,V,H),L&&k(M,L),M.legacy=!0,M}function C(L,R){R==null&&(R=u);var D=y(R,Ff).getItemStyle(),P=b(R,Ff),O=Fr(P,null,null,!0,!0);O.text=P.getShallow("show")?Ac(e.getFormattedLabel(R,Ff),e.getFormattedLabel(R,ah),Ny(t,R)):null;var M=dE(P,null,!0);return T(L,D),D=tQ(D,O,M),L&&k(D,L),D.legacy=!0,D}function k(L,R){for(var D in R)Mt(R,D)&&(L[D]=R[D])}function T(L,R){L&&(L.textFill&&(R.textFill=L.textFill),L.textPosition&&(R.textPosition=L.textPosition))}function I(L,R){if(R==null&&(R=u),Mt(QJ,L)){var D=t.getItemVisual(R,"style");return D?D[QJ[L]]:null}if(Mt(X8t,L))return t.getItemVisual(R,L)}function E(L){if(i.type==="cartesian2d"){var R=i.getBaseAxis();return dPt(Xt({axis:R},L))}}function A(){return n.getCurrentSeriesIndices()}function N(L){return l5(L,n)}}function S5t(e){var t={};return X(e.dimensions,function(n){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var a=r.coordDim,i=t[a]=t[a]||[];i[r.coordDimIndex]=e.getDimensionIndex(n)}}),t}function IL(e,t,n,r,a,i,o){if(!r){i.remove(t);return}var s=wW(e,t,n,r,a,i);return s&&o.setItemGraphicEl(n,s),s&&la(s,r.focus,r.blurScope,r.emphasisDisabled),s}function wW(e,t,n,r,a,i){var o=-1,s=t;t&&Wbe(t,r,a)&&(o=Cn(i.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=bW(r),s&&b5t(s,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),il.normal.cfg=il.normal.conOpt=il.emphasis.cfg=il.emphasis.conOpt=il.blur.cfg=il.blur.conOpt=il.select.cfg=il.select.conOpt=null,il.isLegacy=!1,T5t(u,n,r,a,l,il),C5t(u,n,r,a,l),xW(e,u,n,r,il,a,l),Mt(r,"info")&&(Pf(u).info=r.info);for(var c=0;c<Gh.length;c++){var f=Gh[c];if(f!==ah){var d=OE(r,f),h=_W(r,d,f);zbe(f,u,d,h,il)}}return w5t(u,r,a),r.type==="group"&&k5t(e,u,n,r,a),o>=0?i.replaceAt(u,o):i.add(u),u}function Wbe(e,t,n){var r=Pf(e),a=t.type,i=t.shape,o=t.style;return n.isUniversalTransitionEnabled()||a!=null&&a!==r.customGraphicType||a==="path"&&D5t(i)&&Hbe(i)!==r.customPathData||a==="image"&&Mt(o,"image")&&o.image!==r.customImagePath}function C5t(e,t,n,r,a){var i=n.clipPath;if(i===!1)e&&e.getClipPath()&&e.removeClipPath();else if(i){var o=e.getClipPath();o&&Wbe(o,i,r)&&(o=null),o||(o=bW(i),e.setClipPath(o)),xW(null,o,t,i,null,r,a)}}function T5t(e,t,n,r,a,i){if(!e.isGroup){sQ(n,null,i),sQ(n,Ff,i);var o=i.normal.conOpt,s=i.emphasis.conOpt,l=i.blur.conOpt,u=i.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=e.getTextContent();if(o===!1)c&&e.removeTextContent();else{o=i.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=bW(o),e.setTextContent(c)),xW(null,c,t,o,null,r,a);for(var f=o&&o.style,d=0;d<Gh.length;d++){var h=Gh[d];if(h!==ah){var p=i[h].conOpt;zbe(h,c,p,_W(o,p,h),null)}}f?c.dirty():c.markRedraw()}}}}function sQ(e,t,n){var r=t?OE(e,t):e,a=t?_W(e,r,Ff):e.style,i=e.type,o=r?r.textConfig:null,s=e.textContent,l=s?t?OE(s,t):s:null;if(a&&(n.isLegacy||Lbe(a,i,!!o,!!l))){n.isLegacy=!0;var u=Obe(a,i,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var f=t?n[t]:n.normal;f.cfg=o,f.conOpt=l}function OE(e,t){return t?e?e[t]:null:e}function _W(e,t,n){var r=t&&t.style;return r==null&&n===Ff&&e&&(r=e.styleEmphasis),r}function k5t(e,t,n,r,a){var i=r.children,o=i?i.length:0,s=r.$mergeChildren,l=s==="byName"||r.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){E5t({api:e,oldChildren:t.children()||[],newChildren:i||[],dataIndex:n,seriesModel:a,group:t});return}u&&t.removeAll();for(var c=0;c<o;c++){var f=i[c],d=t.childAt(c);f?(f.ignore==null&&(f.ignore=!1),wW(e,d,n,f,a,t)):d.ignore=!0}for(var h=t.childCount()-1;h>=c;h--){var p=t.childAt(h);I5t(t,p,a)}}}function I5t(e,t,n){t&&nR(t,Pf(e).option,n)}function E5t(e){new Jf(e.oldChildren,e.newChildren,lQ,lQ,e).add(uQ).update(uQ).remove(A5t).execute()}function lQ(e,t){var n=e&&e.name;return n??m5t+t}function uQ(e,t){var n=this.context,r=e!=null?n.newChildren[e]:null,a=t!=null?n.oldChildren[t]:null;wW(n.api,a,n.dataIndex,r,n.seriesModel,n.group)}function A5t(e){var t=this.context,n=t.oldChildren[e];n&&nR(n,Pf(n).option,t.seriesModel)}function Hbe(e){return e&&(e.pathData||e.d)}function D5t(e){return e&&(Mt(e,"pathData")||Mt(e,"d"))}function N5t(e){e.registerChartView(x5t),e.registerSeriesModel(q8t)}var hv=Vn(),cQ=en,EL=Nt,SW=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,n,r,a){var i=n.get("value"),o=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=r,!(!a&&this._lastValue===i&&this._lastStatus===o)){this._lastValue=i,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,i,t,n,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,n);if(!s)s=this._group=new an,this.createPointerEl(s,u,t,n),this.createLabelEl(s,u,t,n),r.getZr().add(s);else{var d=vn(fQ,n,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,n)}hQ(s,n,!0),this._renderHandle(i)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,n){var r=n.get("animation"),a=t.axis,i=a.type==="category",o=n.get("snap");if(!o&&!i)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(i&&a.getBandWidth()>s)return!0;if(o){var l=G5(t).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},e.prototype.makeElOption=function(t,n,r,a,i){},e.prototype.createPointerEl=function(t,n,r,a){var i=n.pointer;if(i){var o=hv(t).pointerEl=new a0[i.type](cQ(n.pointer));t.add(o)}},e.prototype.createLabelEl=function(t,n,r,a){if(n.label){var i=hv(t).labelEl=new Hn(cQ(n.label));t.add(i),dQ(i,a)}},e.prototype.updatePointerEl=function(t,n,r){var a=hv(t).pointerEl;a&&n.pointer&&(a.setStyle(n.pointer.style),r(a,{shape:n.pointer.shape}))},e.prototype.updateLabelEl=function(t,n,r,a){var i=hv(t).labelEl;i&&(i.setStyle(n.label.style),r(i,{x:n.label.x,y:n.label.y}),dQ(i,a))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),a=this._handle,i=n.getModel("handle"),o=n.get("status");if(!i.get("show")||!o||o==="hide"){a&&r.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=hC(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Yf(u.event)},onmousedown:EL(this._onHandleDragMove,this,0,0),drift:EL(this._onHandleDragMove,this),ondragend:EL(this._onHandleDragEnd,this)}),r.add(a)),hQ(a,n,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");st(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,T1(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},e.prototype._moveHandleToValue=function(t,n){fQ(this._axisPointerModel,!n&&this._moveAnimation,this._handle,AL(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,n){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(AL(r),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(AL(a)),hv(r).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),r=this._group,a=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),a&&n.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),qw(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,n,r){return r=r||0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}},e}();function fQ(e,t,n,r){Ube(hv(n).lastProp,r)||(hv(n).lastProp=r,t?Jn(n,r,e):(n.stopAnimation(),n.attr(r)))}function Ube(e,t){if(Jt(e)&&Jt(t)){var n=!0;return X(t,function(r,a){n=n&&Ube(e[a],r)}),!!n}else return e===t}function dQ(e,t){e[t.get(["label","show"])?"show":"hide"]()}function AL(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function hQ(e,t,n){var r=t.get("z"),a=t.get("zlevel");e&&e.traverse(function(i){i.type!=="group"&&(r!=null&&(i.z=r),a!=null&&(i.zlevel=a),i.silent=n)})}function CW(e){var t=e.get("type"),n=e.getModel(t+"Style"),r;return t==="line"?(r=n.getLineStyle(),r.fill=null):t==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function Gbe(e,t,n,r,a){var i=n.get("value"),o=Kbe(i,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=w1(s.get("padding")||0),u=s.getFont(),c=oC(o,u),f=a.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],p=a.align;p==="right"&&(f[0]-=d),p==="center"&&(f[0]-=d/2);var v=a.verticalAlign;v==="bottom"&&(f[1]-=h),v==="middle"&&(f[1]-=h/2),R5t(f,d,h,r);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=t.get(["axisLine","lineStyle","color"])),e.label={x:f[0],y:f[1],style:Fr(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function R5t(e,t,n,r){var a=r.getWidth(),i=r.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+n,i)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Kbe(e,t,n,r,a){e=t.scale.parse(e);var i=t.scale.getLabel({value:e},{precision:a.precision}),o=a.formatter;if(o){var s={value:$5(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};X(r,function(l){var u=n.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),Dt(o)?i=o.replace("{value}",i):Yt(o)&&(i=o(s))}return i}function TW(e,t,n){var r=Us();return n0(r,r,n.rotation),Wc(r,r,n.position),Iu([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function jbe(e,t,n,r,a,i){var o=Jo.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=a.get(["label","margin"]),Gbe(t,r,a,i,{position:TW(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function kW(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function Ybe(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function pQ(e,t,n,r,a,i){return{cx:e,cy:t,r0:n,r,startAngle:a,endAngle:i,clockwise:!0}}var M5t=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,a,i,o){var s=a.axis,l=s.grid,u=i.get("type"),c=vQ(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var d=CW(i),h=$5t[u](s,f,c);h.style=d,n.graphicKey=h.type,n.pointer=h}var p=E3(l.model,a);jbe(r,n,p,a,i,o)},t.prototype.getHandleTransform=function(n,r,a){var i=E3(r.axis.grid.model,r,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=TW(r.axis,n,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,a,i){var o=a.axis,s=o.grid,l=o.getGlobalExtent(!0),u=vQ(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[n.x,n.y];f[c]+=r[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:n.rotation,cursorPoint:h,tooltipOption:p[c]}},t}(SW);function vQ(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var $5t={line:function(e,t,n){var r=kW([t,n[0]],[t,n[1]],gQ(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),a=n[1]-n[0];return{type:"Rect",shape:Ybe([t-r/2,n[0]],[r,a],gQ(e))}}};function gQ(e){return e.dim==="x"?0:1}var L5t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Rn),Df=Vn(),O5t=X;function Xbe(e,t,n){if(!Nn.node){var r=t.getZr();Df(r).records||(Df(r).records={}),P5t(r,t);var a=Df(r).records[e]||(Df(r).records[e]={});a.handler=n}}function P5t(e,t){if(Df(e).initialized)return;Df(e).initialized=!0,n("click",vn(mQ,"click")),n("mousemove",vn(mQ,"mousemove")),n("globalout",B5t);function n(r,a){e.on(r,function(i){var o=V5t(t);O5t(Df(e).records,function(s){s&&a(s,i,o.dispatchAction)}),F5t(o.pendings,t)})}}function F5t(e,t){var n=e.showTip.length,r=e.hideTip.length,a;n?a=e.showTip[n-1]:r&&(a=e.hideTip[r-1]),a&&(a.dispatchAction=null,t.dispatchAction(a))}function B5t(e,t,n){e.handler("leave",null,n)}function mQ(e,t,n,r){t.handler(e,n,r)}function V5t(e){var t={showTip:[],hideTip:[]},n=function(r){var a=t[r.type];a?a.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function X3(e,t){if(!Nn.node){var n=t.getZr(),r=(Df(n).records||{})[e];r&&(Df(n).records[e]=null)}}var z5t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=r.getComponent("tooltip"),o=n.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";Xbe("axisPointer",a,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(n,r){X3("axisPointer",r)},t.prototype.dispose=function(n,r){X3("axisPointer",r)},t.type="axisPointer",t}(na);function qbe(e,t){var n=[],r=e.seriesIndex,a;if(r==null||!(a=t.getSeriesByIndex(r)))return{point:[]};var i=a.getData(),o=Ig(i,e);if(o==null||o<0||st(o))return{point:[]};var s=i.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)n=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,p=i.mapDimension(d),v=[];v[h]=i.get(p,o),v[1-h]=i.get(i.getCalculationInfo("stackResultDimension"),o),n=l.dataToPoint(v)||[]}else n=l.dataToPoint(i.getValues(ut(l.dimensions,function(m){return i.mapDimension(m)}),o))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),n=[g.x+g.width/2,g.y+g.height/2]}return{point:n,el:s}}var yQ=Vn();function W5t(e,t,n){var r=e.currTrigger,a=[e.x,e.y],i=e,o=e.dispatchAction||Nt(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Ek(a)&&(a=qbe({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var l=Ek(a),u=i.axesInfo,c=s.axesInfo,f=r==="leave"||Ek(a),d={},h={},p={list:[],map:{}},v={showPointer:vn(U5t,h),showTooltip:vn(G5t,p)};X(s.coordSysMap,function(m,y){var b=l||m.containPoint(a);X(s.coordSysAxesInfo[y],function(x,_){var S=x.axis,C=X5t(u,x);if(!f&&b&&(!u||C)){var k=C&&C.value;k==null&&!l&&(k=S.pointToData(a)),k!=null&&bQ(x,k,v,!1,d)}})});var g={};return X(c,function(m,y){var b=m.linkGroup;b&&!h[y]&&X(b.axesInfo,function(x,_){var S=h[_];if(x!==m&&S){var C=S.value;b.mapper&&(C=m.axis.scale.parse(b.mapper(C,xQ(x),xQ(m)))),g[m.key]=C}})}),X(g,function(m,y){bQ(c[y],m,v,!0,d)}),K5t(h,c,d),j5t(p,a,e,o),Y5t(c,o,n),d}}function bQ(e,t,n,r,a){var i=e.axis;if(!(i.scale.isBlank()||!i.containData(t))){if(!e.involveSeries){n.showPointer(e,t);return}var o=H5t(t,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&a.seriesIndex==null&&rt(a,s[0]),!r&&e.snap&&i.containData(l)&&l!=null&&(t=l),n.showPointer(e,t,s),n.showTooltip(e,o,l)}}function H5t(e,t){var n=t.axis,r=n.dim,a=e,i=[],o=Number.MAX_VALUE,s=-1;return X(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,e,n);d=h.dataIndices,f=h.nestestValue}else{if(d=l.getData().indicesOfNearest(c[0],e,n.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var p=e-f,v=Math.abs(p);v<=o&&((v<o||p>=0&&s<0)&&(o=v,s=p,a=f,i.length=0),X(d,function(g){i.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:i,snapToValue:a}}function U5t(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function G5t(e,t,n,r){var a=n.payloadBatch,i=t.axis,o=i.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!a.length)){var l=t.coordSys.model,u=r_(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function K5t(e,t,n){var r=n.axesInfo=[];X(t,function(a,i){var o=a.axisPointerModel.option,s=e[i];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function j5t(e,t,n,r){if(Ek(t)||!e.list.length){r({type:"hideTip"});return}var a=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:e.list})}function Y5t(e,t,n){var r=n.getZr(),a="axisPointerLastHighlights",i=yQ(r)[a]||{},o=yQ(r)[a]={};X(e,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&X(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;o[h]=d})});var s=[],l=[];X(i,function(u,c){!o[c]&&l.push(u)}),X(o,function(u,c){!i[c]&&s.push(u)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function X5t(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function xQ(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function Ek(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function kC(e){l0.registerAxisPointerClass("CartesianAxisPointer",M5t),e.registerComponentModel(L5t),e.registerComponentView(z5t),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!st(n)&&(t.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=i4t(t,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},W5t)}function q5t(e){kn(C1e),kn(kC)}var Z5t=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,a,i,o){var s=a.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(r),d=i.get("type");if(d&&d!=="none"){var h=CW(i),p=Q5t[d](s,l,f,c);p.style=h,n.graphicKey=p.type,n.pointer=p}var v=i.get(["label","margin"]),g=J5t(r,a,i,l,v);Gbe(n,a,i,o,g)},t}(SW);function J5t(e,t,n,r,a){var i=t.axis,o=i.dataToCoord(e),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,f;if(i.dim==="radius"){var d=Us();n0(d,d,s),Wc(d,d,[r.cx,r.cy]),u=Iu([o,-a],d);var h=t.getModel("axisLabel").get("rotate")||0,p=Jo.innerTextLayout(s,h*Math.PI/180,-1);c=p.textAlign,f=p.textVerticalAlign}else{var v=l[1];u=r.coordToPoint([v+a,o]);var g=r.cx,m=r.cy;c=Math.abs(u[0]-g)/v<.3?"center":u[0]>g?"left":"right",f=Math.abs(u[1]-m)/v<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var Q5t={line:function(e,t,n,r){return e.dim==="angle"?{type:"Line",shape:kW(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r){var a=Math.max(1,e.getBandWidth()),i=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:pQ(t.cx,t.cy,r[0],r[1],(-n-a/2)*i,(-n+a/2)*i)}:{type:"Sector",shape:pQ(t.cx,t.cy,n-a/2,n+a/2,0,Math.PI*2)}}},eWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.findAxisModel=function(n){var r,a=this.ecModel;return a.eachComponent(n,function(i){i.getCoordSysModel()===this&&(r=i)},this),r},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Rn),IW=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Da).models[0]},t.type="polarAxis",t}(Rn);$a(IW,mC);var tWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="angleAxis",t}(IW),nWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="radiusAxis",t}(IW),EW=function(e){Le(t,e);function t(n,r){return e.call(this,"radius",n,r)||this}return t.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},t}(Uu);EW.prototype.dataToRadius=Uu.prototype.dataToCoord;EW.prototype.radiusToData=Uu.prototype.coordToData;var rWt=Vn(),AW=function(e){Le(t,e);function t(n,r){return e.call(this,"angle",n,r||[0,360])||this}return t.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var n=this,r=n.getLabelModel(),a=n.scale,i=a.getExtent(),o=a.count();if(i[1]-i[0]<1)return 0;var s=i[0],l=n.dataToCoord(s+1)-n.dataToCoord(s),u=Math.abs(l),c=oC(s==null?"":s+"",r.getFont(),"center","top"),f=Math.max(c.height,7),d=f/u;isNaN(d)&&(d=1/0);var h=Math.max(0,Math.floor(d)),p=rWt(n.model),v=p.lastAutoInterval,g=p.lastTickCount;return v!=null&&g!=null&&Math.abs(v-h)<=1&&Math.abs(g-o)<=1&&v>h?h=v:(p.lastTickCount=o,p.lastAutoInterval=h),h},t}(Uu);AW.prototype.dataToAngle=Uu.prototype.dataToCoord;AW.prototype.angleToData=Uu.prototype.coordToData;var Zbe=["radius","angle"],aWt=function(){function e(t){this.dimensions=Zbe,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new EW,this._angleAxis=new AW,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(t){var n=this.pointToCoord(t);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},e.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},e.prototype.getAxis=function(t){var n="_"+t+"Axis";return this[n]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(t){var n=[],r=this._angleAxis,a=this._radiusAxis;return r.scale.type===t&&n.push(r),a.scale.type===t&&n.push(a),n},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(t){var n=this._angleAxis;return t===n?this._radiusAxis:n},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(t){var n=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},e.prototype.dataToPoint=function(t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],n),this._angleAxis.dataToAngle(t[1],n)])},e.prototype.pointToData=function(t,n){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],n),this._angleAxis.angleToData(r[1],n)]},e.prototype.pointToCoord=function(t){var n=t[0]-this.cx,r=t[1]-this.cy,a=this.getAngleAxis(),i=a.getExtent(),o=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]);a.inverse?o=s-360:s=o+360;var l=Math.sqrt(n*n+r*r);n/=l,r/=l;for(var u=Math.atan2(-r,n)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},e.prototype.coordToPoint=function(t){var n=t[0],r=t[1]/180*Math.PI,a=Math.cos(r)*n+this.cx,i=-Math.sin(r)*n+this.cy;return[a,i]},e.prototype.getArea=function(){var t=this.getAngleAxis(),n=this.getRadiusAxis(),r=n.getExtent().slice();r[0]>r[1]&&r.reverse();var a=t.getExtent(),i=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-a[0]*i,endAngle:-a[1]*i,clockwise:t.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,d=this.r,h=this.r0;return d!==h&&f-o<=d*d&&f+o>=h*h}}},e.prototype.convertToPixel=function(t,n,r){var a=wQ(n);return a===this?this.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var a=wQ(n);return a===this?this.pointToData(r):null},e}();function wQ(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function iWt(e,t,n){var r=t.get("center"),a=n.getWidth(),i=n.getHeight();e.cx=St(r[0],a),e.cy=St(r[1],i);var o=e.getRadiusAxis(),s=Math.min(a,i)/2,l=t.get("radius");l==null?l=[0,"100%"]:st(l)||(l=[0,l]);var u=[St(l[0],s),St(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function oWt(e,t){var n=this,r=n.getAngleAxis(),a=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),e.eachSeries(function(s){if(s.coordinateSystem===n){var l=s.getData();X(SE(l,"radius"),function(u){a.scale.unionExtentFromData(l,u)}),X(SE(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Dy(r.scale,r.model),Dy(a.scale,a.model),r.type==="category"&&!r.onBand){var i=r.getExtent(),o=360/r.scale.count();r.inverse?i[1]+=o:i[1]-=o,r.setExtent(i[0],i[1])}}function sWt(e){return e.mainType==="angleAxis"}function _Q(e,t){var n;if(e.type=t.get("type"),e.scale=XN(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),sWt(t)){e.inverse=e.inverse!==t.get("clockwise");var r=t.get("startAngle"),a=(n=t.get("endAngle"))!==null&&n!==void 0?n:r+(e.inverse?-360:360);e.setExtent(r,a)}t.axis=e,e.model=t}var lWt={dimensions:Zbe,create:function(e,t){var n=[];return e.eachComponent("polar",function(r,a){var i=new aWt(a+"");i.update=oWt;var o=i.getRadiusAxis(),s=i.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");_Q(o,l),_Q(s,u),iWt(i,r,t),n.push(i),r.coordinateSystem=i,i.model=r}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var a=r.getReferringComponents("polar",Da).models[0];r.coordinateSystem=a.coordinateSystem}}),n}},uWt=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function vT(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],n]),a=e.coordToPoint([t[1],n]);return{x1:r[0],y1:r[1],x2:a[0],y2:a[1]}}function gT(e){var t=e.getRadiusAxis();return t.inverse?0:1}function SQ(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var cWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var a=n.axis,i=a.polar,o=i.getRadiusAxis().getExtent(),s=a.getTicksCoords(),l=a.getMinorTicksCoords(),u=ut(a.getViewLabels(),function(c){c=en(c);var f=a.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=a.dataToCoord(d),c});SQ(u),SQ(s),X(uWt,function(c){n.get([c,"show"])&&(!a.scale.isBlank()||c==="axisLine")&&fWt[c](this.group,n,i,s,l,o,u)},this)}},t.type="angleAxis",t}(l0),fWt={axisLine:function(e,t,n,r,a,i){var o=t.getModel(["axisLine","lineStyle"]),s=n.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=gT(n),f=c?0:1,d,h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";i[f]===0?d=new a0[h]({shape:{cx:n.cx,cy:n.cy,r:i[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):d=new uC({shape:{cx:n.cx,cy:n.cy,r:i[c],r0:i[f]},style:o.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,e.add(d)},axisTick:function(e,t,n,r,a,i){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=i[gT(n)],u=ut(r,function(c){return new ii({shape:vT(n,[l,l+s],c.coord)})});e.add(wl(u,{style:Xt(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,r,a,i){if(a.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=i[gT(n)],c=[],f=0;f<a.length;f++)for(var d=0;d<a[f].length;d++)c.push(new ii({shape:vT(n,[u,u+l],a[f][d].coord)}));e.add(wl(c,{style:Xt(s.getModel("lineStyle").getLineStyle(),Xt(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,r,a,i,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");X(o,function(f,d){var h=l,p=f.tickValue,v=i[gT(n)],g=n.coordToPoint([v+u,f.coord]),m=n.cx,y=n.cy,b=Math.abs(g[0]-m)/v<.3?"center":g[0]>m?"left":"right",x=Math.abs(g[1]-y)/v<.3?"middle":g[1]>y?"top":"bottom";if(s&&s[p]){var _=s[p];Jt(_)&&_.textStyle&&(h=new pr(_.textStyle,l,l.ecModel))}var S=new Hn({silent:Jo.isLabelSilent(t),style:Fr(h,{x:g[0],y:g[1],fill:h.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:b,verticalAlign:x})});if(e.add(S),c){var C=Jo.makeAxisEventDataBase(t);C.targetType="axisLabel",C.value=f.rawLabel,sn(S).eventData=C}},this)},splitLine:function(e,t,n,r,a,i){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<r.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new ii({shape:vT(n,i,r[f].coord)}))}for(var f=0;f<c.length;f++)e.add(wl(c[f],{style:Xt({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,r,a,i){if(a.length){for(var o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)l.push(new ii({shape:vT(n,i,a[u][c].coord)}));e.add(wl(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,r,a,i){if(r.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,d=-r[0].coord*f,h=Math.min(i[0],i[1]),p=Math.max(i[0],i[1]),v=t.get("clockwise"),g=1,m=r.length;g<=m;g++){var y=g===m?r[0].coord:r[g].coord,b=u++%l.length;c[b]=c[b]||[],c[b].push(new ss({shape:{cx:n.cx,cy:n.cy,r0:h,r:p,startAngle:d,endAngle:-y*f,clockwise:v},silent:!0})),d=-y*f}for(var g=0;g<c.length;g++)e.add(wl(c[g],{style:Xt({fill:l[g%l.length]},s.getAreaStyle()),silent:!0}))}}},dWt=["axisLine","axisTickLabel","axisName"],hWt=["splitLine","splitArea","minorSplitLine"],pWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var a=this._axisGroup,i=this._axisGroup=new an;this.group.add(i);var o=n.axis,s=o.polar,l=s.getAngleAxis(),u=o.getTicksCoords(),c=o.getMinorTicksCoords(),f=l.getExtent()[0],d=o.getExtent(),h=gWt(s,n,f),p=new Jo(n,h);X(dWt,p.add,p),i.add(p.getGroup()),dC(a,i,n),X(hWt,function(v){n.get([v,"show"])&&!o.scale.isBlank()&&vWt[v](this.group,n,s,f,d,u,c)},this)}},t.type="radiusAxis",t}(l0),vWt={splitLine:function(e,t,n,r,a,i){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=n.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),h=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],v=0;v<i.length;v++){var g=u++%l.length;p[g]=p[g]||[],p[g].push(new a0[h]({shape:{cx:n.cx,cy:n.cy,r:Math.max(i[v].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse}}))}for(var v=0;v<p.length;v++)e.add(wl(p[v],{style:Xt({stroke:l[v%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,r,a,i,o){if(o.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new pd({shape:{cx:n.cx,cy:n.cy,r:o[c][f].coord}}));e.add(wl(u,{style:Xt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,r,a,i){if(i.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=i[0].coord,d=1;d<i.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new ss({shape:{cx:n.cx,cy:n.cy,r0:f,r:i[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=i[d].coord}for(var d=0;d<c.length;d++)e.add(wl(c[d],{style:Xt({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}};function gWt(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function Jbe(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function Qbe(e,t){return t.dim+e.model.componentIndex}function mWt(e,t,n){var r={},a=yWt(sr(t.getSeriesByType(e),function(i){return!t.isSeriesFiltered(i)&&i.coordinateSystem&&i.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(i){if(i.coordinateSystem.type==="polar"){var o=i.getData(),s=i.coordinateSystem,l=s.getBaseAxis(),u=Qbe(s,l),c=Jbe(i),f=a[u][c],d=f.offset,h=f.width,p=s.getOtherAxis(l),v=i.coordinateSystem.cx,g=i.coordinateSystem.cy,m=i.get("barMinHeight")||0,y=i.get("barMinAngle")||0;r[c]=r[c]||[];for(var b=o.mapDimension(p.dim),x=o.mapDimension(l.dim),_=Hh(o,b),S=l.dim!=="radius"||!i.get("roundCap",!0),C=p.model,k=C.get("startValue"),T=p.dataToCoord(k||0),I=0,E=o.count();I<E;I++){var A=o.get(b,I),N=o.get(x,I),L=A>=0?"p":"n",R=T;_&&(r[c][N]||(r[c][N]={p:T,n:T}),R=r[c][N][L]);var D=void 0,P=void 0,O=void 0,M=void 0;if(p.dim==="radius"){var W=p.dataToCoord(A)-T,U=l.dataToCoord(N);Math.abs(W)<m&&(W=(W<0?-1:1)*m),D=R,P=R+W,O=U-d,M=O-h,_&&(r[c][N][L]=P)}else{var V=p.dataToCoord(A,S)-T,H=l.dataToCoord(N);Math.abs(V)<y&&(V=(V<0?-1:1)*y),D=H+d,P=D+h,O=R,M=R+V,_&&(r[c][N][L]=M)}o.setItemLayout(I,{cx:v,cy:g,r0:D,r:P,startAngle:-O*Math.PI/180,endAngle:-M*Math.PI/180,clockwise:O>=M})}}})}function yWt(e){var t={};X(e,function(r,a){var i=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=Qbe(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/i.count(),f=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;t[l]=f;var h=Jbe(r);d[h]||f.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var p=St(r.get("barWidth"),c),v=St(r.get("barMaxWidth"),c),g=r.get("barGap"),m=r.get("barCategoryGap");p&&!d[h].width&&(p=Math.min(f.remainedWidth,p),d[h].width=p,f.remainedWidth-=p),v&&(d[h].maxWidth=v),g!=null&&(f.gap=g),m!=null&&(f.categoryGap=m)});var n={};return X(t,function(r,a){n[a]={};var i=r.stacks,o=r.bandWidth,s=St(r.categoryGap,o),l=St(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),X(i,function(v,g){var m=v.maxWidth;m&&m<f&&(m=Math.min(m,u),v.width&&(m=Math.min(m,v.width)),u-=m,v.width=m,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var d=0,h;X(i,function(v,g){v.width||(v.width=f),h=v,d+=v.width*(1+l)}),h&&(d-=h.width*l);var p=-d/2;X(i,function(v,g){n[a][g]=n[a][g]||{offset:p,width:v.width},p+=v.width*(1+l)})}),n}var bWt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},xWt={splitNumber:5},wWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="polar",t}(na);function _Wt(e){kn(kC),l0.registerAxisPointerClass("PolarAxisPointer",Z5t),e.registerCoordinateSystem("polar",lWt),e.registerComponentModel(eWt),e.registerComponentView(wWt),Ry(e,"angle",tWt,bWt),Ry(e,"radius",nWt,xWt),e.registerComponentView(cWt),e.registerComponentView(pWt),e.registerLayout(vn(mWt,"bar"))}function q3(e,t){t=t||{};var n=e.coordinateSystem,r=e.axis,a={},i=r.position,o=r.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[o==="vertical"?u.vertical[i]:l[0],o==="horizontal"?u.horizontal[i]:l[3]];var c={horizontal:0,vertical:1};a.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=f[i],e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Si(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var d=t.rotate;return d==null&&(d=e.get(["axisLabel","rotate"])),a.labelRotation=i==="top"?-d:d,a.z2=1,a}var SWt=["axisLine","axisTickLabel","axisName"],CWt=["splitArea","splitLine"],TWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return t.prototype.render=function(n,r,a,i){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new an;var l=q3(n),u=new Jo(n,l);X(SWt,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),X(CWt,function(c){n.get([c,"show"])&&kWt[c](this,this.group,this._axisGroup,n)},this),dC(s,this._axisGroup,n),e.prototype.render.call(this,n,r,a,i)},t.prototype.remove=function(){w1e(this)},t.type="singleAxis",t}(l0),kWt={splitLine:function(e,t,n,r){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),u=r.coordinateSystem.getRect(),c=a.isHorizontal(),f=[],d=0,h=a.getTicksCoords({tickModel:i}),p=[],v=[],g=0;g<h.length;++g){var m=a.toGlobalCoord(h[g].coord);c?(p[0]=m,p[1]=u.y,v[0]=m,v[1]=u.y+u.height):(p[0]=u.x,p[1]=m,v[0]=u.x+u.width,v[1]=m);var y=new ii({shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},silent:!0});Iy(y.shape,l);var b=d++%s.length;f[b]=f[b]||[],f[b].push(y)}for(var x=o.getLineStyle(["color"]),g=0;g<f.length;++g)t.add(wl(f[g],{style:Xt({stroke:s[g%s.length]},x),silent:!0}))}},splitArea:function(e,t,n,r){x1e(e,n,r,r)}},Ak=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Rn);$a(Ak,mC.prototype);var IWt=function(e){Le(t,e);function t(n,r,a,i,o){var s=e.call(this,n,r,a)||this;return s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.pointToData=function(n,r){return this.coordinateSystem.pointToData(n)[0]},t}(Uu),exe=["single"],EWt=function(){function e(t,n,r){this.type="single",this.dimension="single",this.dimensions=exe,this.axisPointerEnabled=!0,this.model=t,this._init(t,n,r)}return e.prototype._init=function(t,n,r){var a=this.dimension,i=new IWt(a,XN(t),[0,0],t.get("type"),t.get("position")),o=i.type==="category";i.onBand=o&&t.get("boundaryGap"),i.inverse=t.get("inverse"),i.orient=t.get("orient"),t.axis=i,i.model=t,i.coordinateSystem=this,this._axis=i},e.prototype.update=function(t,n){t.eachSeries(function(r){if(r.coordinateSystem===this){var a=r.getData();X(a.mapDimensionsAll(this.dimension),function(i){this._axis.scale.unionExtentFromData(a,i)},this),Dy(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(t,n){this._rect=Ya({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var t=this._rect,n=this._axis,r=n.isHorizontal(),a=r?[0,t.width]:[0,t.height],i=n.inverse?1:0;n.setExtent(a[i],a[1-i]),this._updateAxisTransform(n,r?t.x:t.y)},e.prototype._updateAxisTransform=function(t,n){var r=t.getExtent(),a=r[0]+r[1],i=t.isHorizontal();t.toGlobalCoord=i?function(o){return o+n}:function(o){return a-o+n},t.toLocalCoord=i?function(o){return o-n}:function(o){return a-o+n}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(t){var n=this.getRect(),r=this.getAxis(),a=r.orient;return a==="horizontal"?r.contain(r.toLocalCoord(t[0]))&&t[1]>=n.y&&t[1]<=n.y+n.height:r.contain(r.toLocalCoord(t[1]))&&t[0]>=n.y&&t[0]<=n.y+n.height},e.prototype.pointToData=function(t){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(t[n.orient==="horizontal"?0:1]))]},e.prototype.dataToPoint=function(t){var n=this.getAxis(),r=this.getRect(),a=[],i=n.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),a[i]=n.toGlobalCoord(n.dataToCoord(+t)),a[1-i]=i===0?r.y+r.height/2:r.x+r.width/2,a},e.prototype.convertToPixel=function(t,n,r){var a=CQ(n);return a===this?this.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var a=CQ(n);return a===this?this.pointToData(r):null},e}();function CQ(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function AWt(e,t){var n=[];return e.eachComponent("singleAxis",function(r,a){var i=new EWt(r,e,t);i.name="single_"+a,i.resize(r,t),r.coordinateSystem=i,n.push(i)}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var a=r.getReferringComponents("singleAxis",Da).models[0];r.coordinateSystem=a&&a.coordinateSystem}}),n}var DWt={create:AWt,dimensions:exe},TQ=["x","y"],NWt=["width","height"],RWt=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,a,i,o){var s=a.axis,l=s.coordinateSystem,u=DL(l,1-PE(s)),c=l.dataToPoint(r)[0],f=i.get("type");if(f&&f!=="none"){var d=CW(i),h=MWt[f](s,c,u);h.style=d,n.graphicKey=h.type,n.pointer=h}var p=q3(a);jbe(r,n,p,a,i,o)},t.prototype.getHandleTransform=function(n,r,a){var i=q3(r,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var o=TW(r.axis,n,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,a,i){var o=a.axis,s=o.coordinateSystem,l=PE(o),u=DL(s,l),c=[n.x,n.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=DL(s,1-l),d=(f[1]+f[0])/2,h=[d,d];return h[l]=c[l],{x:c[0],y:c[1],rotation:n.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},t}(SW),MWt={line:function(e,t,n){var r=kW([t,n[0]],[t,n[1]],PE(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=e.getBandWidth(),a=n[1]-n[0];return{type:"Rect",shape:Ybe([t-r/2,n[0]],[r,a],PE(e))}}};function PE(e){return e.isHorizontal()?0:1}function DL(e,t){var n=e.getRect();return[n[TQ[t]],n[TQ[t]]+n[NWt[t]]]}var $Wt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="single",t}(na);function LWt(e){kn(kC),l0.registerAxisPointerClass("SingleAxisPointer",RWt),e.registerComponentView($Wt),e.registerComponentView(TWt),e.registerComponentModel(Ak),Ry(e,"single",Ak,Ak.defaultOption),e.registerCoordinateSystem("single",DWt)}var OWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r,a){var i=_1(n);e.prototype.init.apply(this,arguments),kQ(n,i)},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),kQ(this.option,n)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Rn);function kQ(e,t){var n=e.cellSize,r;st(n)?r=n:r=e.cellSize=[n,n],r.length===1&&(r[1]=r[0]);var a=ut([0,1],function(i){return r$t(t,i)&&(r[i]="auto"),r[i]!=null&&r[i]!=="auto"});Wh(e,t,{type:"box",ignoreSize:a})}var PWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){var i=this.group;i.removeAll();var o=n.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(n,s,i),this._renderLines(n,s,l,i),this._renderYearText(n,s,l,i),this._renderMonthText(n,u,l,i),this._renderWeekText(n,u,s,l,i)},t.prototype._renderDayRect=function(n,r,a){for(var i=n.coordinateSystem,o=n.getModel("itemStyle").getItemStyle(),s=i.getCellWidth(),l=i.getCellHeight(),u=r.start.time;u<=r.end.time;u=i.getNextNDay(u,1).time){var c=i.dataToRect([u],!1).tl,f=new Bn({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});a.add(f)}},t.prototype._renderLines=function(n,r,a,i){var o=this,s=n.coordinateSystem,l=n.getModel(["splitLine","lineStyle"]).getLineStyle(),u=n.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=r.start,d=0;f.time<=r.end.time;d++){p(f.formatedDate),d===0&&(f=s.getDateInfo(r.start.y+"-"+r.start.m));var h=f.date;h.setMonth(h.getMonth()+1),f=s.getDateInfo(h)}p(s.getNextNDay(r.end.time,1).formatedDate);function p(v){o._firstDayOfMonth.push(s.getDateInfo(v)),o._firstDayPoints.push(s.dataToRect([v],!1).tl);var g=o._getLinePointsOfOneWeek(n,v,a);o._tlpoints.push(g[0]),o._blpoints.push(g[g.length-1]),u&&o._drawSplitline(g,l,i)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,a),l,i),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,a),l,i)},t.prototype._getEdgesPoints=function(n,r,a){var i=[n[0].slice(),n[n.length-1].slice()],o=a==="horizontal"?0:1;return i[0][o]=i[0][o]-r/2,i[1][o]=i[1][o]+r/2,i},t.prototype._drawSplitline=function(n,r,a){var i=new cs({z2:20,shape:{points:n},style:r});a.add(i)},t.prototype._getLinePointsOfOneWeek=function(n,r,a){for(var i=n.coordinateSystem,o=i.getDateInfo(r),s=[],l=0;l<7;l++){var u=i.getNextNDay(o.time,l),c=i.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[a==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(n,r){return Dt(n)&&n?e$t(n,r):Yt(n)?n(r):r.nameMap},t.prototype._yearTextPositionControl=function(n,r,a,i,o){var s=r[0],l=r[1],u=["center","bottom"];i==="bottom"?(l+=o,u=["center","top"]):i==="left"?s-=o:i==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(i==="left"||i==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(n,r,a,i){var o=n.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=a!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,d=a==="horizontal"?0:1,h={top:[c,u[d][1]],bottom:[c,u[1-d][1]],left:[u[1-d][0],f],right:[u[d][0],f]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var v=o.get("formatter"),g={start:r.start.y,end:r.end.y,nameMap:p},m=this._formatterLabel(v,g),y=new Hn({z2:30,style:Fr(o,{text:m}),silent:o.get("silent")});y.attr(this._yearTextPositionControl(y,h[l],a,l,s)),i.add(y)}},t.prototype._monthTextPositionControl=function(n,r,a,i,o){var s="left",l="top",u=n[0],c=n[1];return a==="horizontal"?(c=c+o,r&&(s="center"),i==="start"&&(l="bottom")):(u=u+o,r&&(l="middle"),i==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(n,r,a,i){var o=n.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||Dt(s))&&(s&&(r=a3(s)||r),s=r.get(["time","monthAbbr"])||[]);var d=u==="start"?0:1,h=a==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",v=o.get("silent"),g=0;g<f[d].length-1;g++){var m=f[d][g].slice(),y=this._firstDayOfMonth[g];if(p){var b=this._firstDayPoints[g];m[h]=(b[h]+f[0][g+1][h])/2}var x=o.get("formatter"),_=s[+y.m-1],S={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:_},C=this._formatterLabel(x,S),k=new Hn({z2:30,style:rt(Fr(o,{text:C}),this._monthTextPositionControl(m,p,a,u,l)),silent:v});i.add(k)}}},t.prototype._weekTextPositionControl=function(n,r,a,i,o){var s="center",l="middle",u=n[0],c=n[1],f=a==="start";return r==="horizontal"?(u=u+i+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+i+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(n,r,a,i,o){var s=n.getModel("dayLabel");if(s.get("show")){var l=n.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),d=l.getFirstDayOfWeek();if(!c||Dt(c)){c&&(r=a3(c)||r);var h=r.get(["time","dayOfWeekShort"]);c=h||ut(r.get(["time","dayOfWeekAbbr"]),function(S){return S[0]})}var p=l.getNextNDay(a.end.time,7-a.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];f=St(f,Math.min(v[1],v[0])),u==="start"&&(p=l.getNextNDay(a.start.time,-(7+a.fweek)).time,f=-f);for(var g=s.get("silent"),m=0;m<7;m++){var y=l.getNextNDay(p,m),b=l.dataToRect([y.time],!1).center,x=m;x=Math.abs((m+d)%7);var _=new Hn({z2:30,style:rt(Fr(s,{text:c[x]}),this._weekTextPositionControl(b,i,u,f,v)),silent:g});o.add(_)}}},t.type="calendar",t}(na),NL=864e5,FWt=function(){function e(t,n,r){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(t){t=Uc(t);var n=t.getFullYear(),r=t.getMonth()+1,a=r<10?"0"+r:""+r,i=t.getDate(),o=i<10?"0"+i:""+i,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:n+"",m:a,d:o,day:s,time:t.getTime(),formatedDate:n+"-"+a+"-"+o,date:t}},e.prototype.getNextNDay=function(t,n){return n=n||0,n===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+n),this.getDateInfo(t))},e.prototype.update=function(t,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,a=["width","height"],i=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];X([0,1],function(f){c(i,f)&&(o[a[f]]=i[f]*s[f])});var l={width:n.getWidth(),height:n.getHeight()},u=this._rect=Ya(o,l);X([0,1],function(f){c(i,f)||(i[f]=u[a[f]]/s[f])});function c(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=i[0],this._sh=i[1]},e.prototype.dataToPoint=function(t,n){st(t)&&(t=t[0]),n==null&&(n=!0);var r=this.getDateInfo(t),a=this._rangeInfo,i=r.formatedDate;if(n&&!(r.time>=a.start.time&&r.time<a.end.time+NL))return[NaN,NaN];var o=r.day,s=this._getRangeInfo([a.start.time,i]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},e.prototype.pointToData=function(t){var n=this.pointToDate(t);return n&&n.time},e.prototype.dataToRect=function(t,n){var r=this.dataToPoint(t,n);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},e.prototype.pointToDate=function(t){var n=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,n-1,a):this._getDateByWeeksAndDay(n,r-1,a)},e.prototype.convertToPixel=function(t,n,r){var a=IQ(n);return a===this?a.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var a=IQ(n);return a===this?a.pointToData(r):null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t=this._model.get("range"),n;if(st(t)&&t.length===1&&(t=t[0]),st(t))n=t;else{var r=t.toString();if(/^\d{4}$/.test(r)&&(n=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var a=this.getDateInfo(r),i=a.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);n=[a.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(n=[r,r])}if(!n)return t;var s=this._getRangeInfo(n);return s.start.time>s.end.time&&n.reverse(),n},e.prototype._getRangeInfo=function(t){var n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],r;n[0].time>n[1].time&&(r=!0,n.reverse());var a=Math.floor(n[1].time/NL)-Math.floor(n[0].time/NL)+1,i=new Date(n[0].time),o=i.getDate(),s=n[1].date.getDate();i.setDate(o+a-1);var l=i.getDate();if(l!==s)for(var u=i.getTime()-n[1].time>0?1:-1;(l=i.getDate())!==s&&(i.getTime()-n[1].time)*u>0;)a-=u,i.setDate(l-u);var c=Math.floor((a+n[0].day+6)/7),f=r?-c+1:c-1;return r&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:a,weeks:c,nthWeek:f,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(t,n,r){var a=this._getRangeInfo(r);if(t>a.weeks||t===0&&n<a.fweek||t===a.weeks&&n>a.lweek)return null;var i=(t-1)*7-a.fweek+n,o=new Date(a.start.time);return o.setDate(+a.start.d+i),this.getDateInfo(o)},e.create=function(t,n){var r=[];return t.eachComponent("calendar",function(a){var i=new e(a);r.push(i),a.coordinateSystem=i}),t.eachSeries(function(a){a.get("coordinateSystem")==="calendar"&&(a.coordinateSystem=r[a.get("calendarIndex")||0])}),r},e.dimensions=["time","value"],e}();function IQ(e){var t=e.calendarModel,n=e.seriesModel,r=t?t.coordinateSystem:n?n.coordinateSystem:null;return r}function BWt(e){e.registerComponentModel(OWt),e.registerComponentView(PWt),e.registerCoordinateSystem("calendar",FWt)}function VWt(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),t.parentId==null){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function EQ(e,t){var n;return X(t,function(r){e[r]!=null&&e[r]!=="auto"&&(n=!0)}),n}function zWt(e,t,n){var r=rt({},n),a=e[t],i=n.$action||"merge";i==="merge"?a?(mn(a,r,!0),Wh(a,r,{ignoreSize:!0}),K0e(n,a),mT(n,a),mT(n,a,"shape"),mT(n,a,"style"),mT(n,a,"extra"),n.clipPath=a.clipPath):e[t]=r:i==="replace"?e[t]=r:i==="remove"&&a&&(e[t]=null)}var txe=["transition","enterFrom","leaveTo"],WWt=txe.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function mT(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),!(!e||!t))for(var r=n?txe:WWt,a=0;a<r.length;a++){var i=r[a];e[i]==null&&t[i]!=null&&(e[i]=t[i])}}function HWt(e,t){if(e&&(e.hv=t.hv=[EQ(t,["left","right"]),EQ(t,["top","bottom"])],e.type==="group")){var n=e,r=t;n.width==null&&(n.width=r.width=0),n.height==null&&(n.height=r.height=0)}}var UWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return t.prototype.mergeOption=function(n,r){var a=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,n,r),this.option.elements=a},t.prototype.optionUpdated=function(n,r){var a=this.option,i=(r?a:n).elements,o=a.elements=r?[]:a.elements,s=[];this._flatten(i,s,null);var l=Wge(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];X(l,function(c,f){var d=c.newOption;d&&(u.push(d),VWt(c,d),zWt(o,f,d),HWt(o[f],d))},this),a.elements=sr(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(n,r,a){X(n,function(i){if(i){a&&(i.parentOption=a),r.push(i);var o=i.children;o&&o.length&&this._flatten(o,r,i),delete i.children}},this)},t.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},t.type="graphic",t.defaultOption={elements:[]},t}(Rn),AQ={path:null,compoundPath:null,group:an,image:Ri,text:Hn},vl=Vn(),GWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._elMap=Pt()},t.prototype.render=function(n,r,a){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,a)},t.prototype._updateElements=function(n){var r=n.useElOptionsToUpdate();if(r){var a=this._elMap,i=this.group,o=n.get("z"),s=n.get("zlevel");X(r,function(l){var u=Ha(l.id,null),c=u!=null?a.get(u):null,f=Ha(l.parentId,null),d=f!=null?a.get(f):i,h=l.type,p=l.style;h==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var v=l.textContent,g=l.textConfig;if(p&&Lbe(p,h,!!g,!!v)){var m=Obe(p,h,!0);!g&&m.textConfig&&(g=l.textConfig=m.textConfig),!v&&m.textContent&&(v=m.textContent)}var y=KWt(l),b=l.$action||"merge",x=b==="merge",_=b==="replace";if(x){var S=!c,C=c;S?C=DQ(u,d,l.type,a):(C&&(vl(C).isNew=!1),Vbe(C)),C&&(Ik(C,y,n,{isInit:S}),NQ(C,l,o,s))}else if(_){Dk(c,l,a,n);var k=DQ(u,d,l.type,a);k&&(Ik(k,y,n,{isInit:!0}),NQ(k,l,o,s))}else b==="remove"&&(Fbe(c,l),Dk(c,l,a,n));var T=a.get(u);if(T&&v)if(x){var I=T.getTextContent();I?I.attr(v):T.setTextContent(new Hn(v))}else _&&T.setTextContent(new Hn(v));if(T){var E=l.clipPath;if(E){var A=E.type,N=void 0,S=!1;if(x){var L=T.getClipPath();S=!L||vl(L).type!==A,N=S?Z3(A):L}else _&&(S=!0,N=Z3(A));T.setClipPath(N),Ik(N,E,n,{isInit:S}),LE(N,E.keyframeAnimation,n)}var R=vl(T);T.setTextConfig(g),R.option=l,jWt(T,n,l),r0({el:T,componentModel:n,itemName:T.name,itemTooltipOption:l.tooltip}),LE(T,l.keyframeAnimation,n)}})}},t.prototype._relocate=function(n,r){for(var a=n.option.elements,i=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<a.length;c++){var f=a[c],d=Ha(f.id,null),h=d!=null?o.get(d):null;if(!(!h||!h.isGroup)){var p=h.parent,v=p===i,g=vl(h),m=vl(p);g.width=St(g.option.width,v?s:m.width)||0,g.height=St(g.option.height,v?l:m.height)||0}}for(var c=a.length-1;c>=0;c--){var f=a[c],d=Ha(f.id,null),h=d!=null?o.get(d):null;if(h){var p=h.parent,m=vl(p),y=p===i?{width:s,height:l}:{width:m.width,height:m.height},b={},x=VN(h,f,y,null,{hv:f.hv,boundingMode:f.bounding},b);if(!vl(h).isNew&&x){for(var _=f.transition,S={},C=0;C<u.length;C++){var k=u[C],T=b[k];_&&(Zv(_)||Cn(_,k)>=0)?S[k]=T:h[k]=T}Jn(h,S,n,0)}else h.attr(b)}}},t.prototype._clear=function(){var n=this,r=this._elMap;r.each(function(a){Dk(a,vl(a).option,r,n._lastGraphicModel)}),this._elMap=Pt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(na);function Z3(e){var t=Mt(AQ,e)?AQ[e]:s5(e),n=new t({});return vl(n).type=e,n}function DQ(e,t,n,r){var a=Z3(n);return t.add(a),r.set(e,a),vl(a).id=e,vl(a).isNew=!0,a}function Dk(e,t,n,r){var a=e&&e.parent;a&&(e.type==="group"&&e.traverse(function(i){Dk(i,t,n,r)}),nR(e,t,r),n.removeKey(vl(e).id))}function NQ(e,t,n,r){e.isGroup||X([["cursor",Bl.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],function(a){var i=a[0];Mt(t,i)?e[i]=fn(t[i],a[1]):e[i]==null&&(e[i]=a[1])}),X(Mn(t),function(a){if(a.indexOf("on")===0){var i=t[a];e[a]=Yt(i)?i:null}}),Mt(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function KWt(e){return e=rt({},e),X(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(G0e),function(t){delete e[t]}),e}function jWt(e,t,n){var r=sn(e).eventData;!e.silent&&!e.ignore&&!r&&(r=sn(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),r&&(r.info=n.info)}function YWt(e){e.registerComponentModel(UWt),e.registerComponentView(GWt),e.registerPreprocessor(function(t){var n=t.graphic;st(n)?!n[0]||!n[0].elements?t.graphic=[{elements:n}]:t.graphic=[t.graphic[0]]:n&&!n.elements&&(t.graphic=[{elements:[n]}])})}var RQ=["x","y","radius","angle","single"],XWt=["cartesian2d","polar","singleAxis"];function qWt(e){var t=e.get("coordinateSystem");return Cn(XWt,t)>=0}function ih(e){return e+"Axis"}function ZWt(e,t){var n=Pt(),r=[],a=Pt();e.eachComponent({mainType:"dataZoom",query:t},function(c){a.get(c.uid)||s(c)});var i;do i=!1,e.eachComponent("dataZoom",o);while(i);function o(c){!a.get(c.uid)&&l(c)&&(s(c),i=!0)}function s(c){a.set(c.uid,!0),r.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(d,h){var p=n.get(d);p&&p[h]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,d){(n.get(f)||n.set(f,[]))[d]=!0})}return r}function nxe(e){var t=e.ecModel,n={infoList:[],infoMap:Pt()};return e.eachTargetAxis(function(r,a){var i=t.getComponent(ih(r),a);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,l=n.infoMap.get(s);l||(l={model:o,axisModels:[]},n.infoList.push(l),n.infoMap.set(s,l)),l.axisModels.push(i)}}}),n}var RL=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),u_=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return t.prototype.init=function(n,r,a){var i=MQ(n);this.settledOption=i,this.mergeDefaultAndTheme(n,a),this._doInit(i)},t.prototype.mergeOption=function(n){var r=MQ(n);mn(this.option,n,!0),mn(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(n){var r=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var a=this.settledOption;X([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(r[i[0]]=a[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var n=this.get("orient",!0),r=this._targetAxisInfoMap=Pt(),a=this._fillSpecifiedTargetAxis(r);a?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(n){var r=!1;return X(RQ,function(a){var i=this.getReferringComponents(ih(a),HNt);if(i.specified){r=!0;var o=new RL;X(i.models,function(s){o.add(s.componentIndex)}),n.set(a,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(n,r){var a=this.ecModel,i=!0;if(i){var o=r==="vertical"?"y":"x",s=a.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=a.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var f=u[0];if(f){var d=new RL;if(d.add(f.componentIndex),n.set(c,d),i=!1,c==="x"||c==="y"){var h=f.getReferringComponents("grid",Da).models[0];h&&X(u,function(p){f.componentIndex!==p.componentIndex&&h===p.getReferringComponents("grid",Da).models[0]&&d.add(p.componentIndex)})}}}i&&X(RQ,function(u){if(i){var c=a.findComponents({mainType:ih(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var f=new RL;f.add(c[0].componentIndex),n.set(u,f),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(r){!n&&(n=r)},this),n==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(n){var r=this._rangePropMode,a=this.get("rangeMode");X([["start","startValue"],["end","endValue"]],function(i,o){var s=n[i[0]]!=null,l=n[i[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":a?r[o]=a[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(r,a){n==null&&(n=this.ecModel.getComponent(ih(r),a))},this),n},t.prototype.eachTargetAxis=function(n,r){this._targetAxisInfoMap.each(function(a,i){X(a.indexList,function(o){n.call(r,i,o)})})},t.prototype.getAxisProxy=function(n,r){var a=this.getAxisModel(n,r);if(a)return a.__dzAxisProxy},t.prototype.getAxisModel=function(n,r){var a=this._targetAxisInfoMap.get(n);if(a&&a.indexMap[r])return this.ecModel.getComponent(ih(n),r)},t.prototype.setRawRange=function(n){var r=this.option,a=this.settledOption;X([["start","startValue"],["end","endValue"]],function(i){(n[i[0]]!=null||n[i[1]]!=null)&&(r[i[0]]=a[i[0]]=n[i[0]],r[i[1]]=a[i[1]]=n[i[1]])},this),this._updateRangeUse(n)},t.prototype.setCalculatedRange=function(n){var r=this.option;X(["start","startValue","end","endValue"],function(a){r[a]=n[a]})},t.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},t.prototype.getValueRange=function(n,r){if(n==null&&r==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(n,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),i=0;i<a.length;i++)for(var o=a[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Rn);function MQ(e){var t={};return X(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var JWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(u_),DW=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a,i){this.dataZoomModel=n,this.ecModel=r,this.api=a},t.type="dataZoom",t}(na),QWt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(DW),sm=X,$Q=Il,eHt=function(){function e(t,n,r,a){this._dimName=t,this._axisIndex=n,this.ecModel=a,this._dataZoomModel=r}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(qWt(n)){var r=ih(this._dimName),a=n.getReferringComponents(r,Da).models[0];a&&this._axisIndex===a.componentIndex&&t.push(n)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return en(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var n=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;sm(["start","end"],function(d,h){var p=t[d],v=t[d+"Value"];i[h]==="percent"?(p==null&&(p=o[h]),v=a.parse(cr(p,o,n))):(u=!0,v=v==null?n[h]:a.parse(v),p=cr(v,n,o)),l[h]=v==null||isNaN(v)?n[h]:v,s[h]=p==null||isNaN(p)?o[h]:p}),$Q(l),$Q(s);var c=this._minMaxSpan;u?f(l,s,n,o,!1):f(s,l,o,n,!0);function f(d,h,p,v,g){var m=g?"Span":"ValueSpan";u0(0,d,p,"all",c["min"+m],c["max"+m]);for(var y=0;y<2;y++)h[y]=cr(d[y],p,v,!0),g&&(h[y]=a.parse(h[y]))}return{valueWindow:l,percentWindow:s}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=tHt(this,this._dimName,n),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;if(i==="none")return;sm(a,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(i==="weakFilter"){var f=u.getStore(),d=ut(c,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var p,v,g,m=0;m<c.length;m++){var y=f.get(d[m],h),b=!isNaN(y),x=y<o[0],_=y>o[1];if(b&&!x&&!_)return!0;b&&(g=!0),x&&(p=!0),_&&(v=!0)}return g&&p&&v})}else sm(c,function(h){if(i==="empty")l.setData(u=u.map(h,function(v){return s(v)?v:NaN}));else{var p={};p[h]=o,u.selectRange(p)}});sm(c,function(h){u.setApproximateExtent(o,h)})}});function s(l){return l>=o[0]&&l<=o[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,r=this._dataExtent;sm(["min","max"],function(a){var i=n.get(a+"Span"),o=n.get(a+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=cr(r[0]+o,r,[0,100],!0):i!=null&&(o=cr(i,[0,100],r,!0)-r[0]),t[a+"Span"]=i,t[a+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,r=this._valueWindow;if(n){var a=$ge(r,[0,500]);a=Math.min(a,20);var i=t.axis.scale.rawExtentInfo;n[0]!==0&&i.setDeterminedMinMax("min",+r[0].toFixed(a)),n[1]!==100&&i.setDeterminedMinMax("max",+r[1].toFixed(a)),i.freeze()}},e}();function tHt(e,t,n){var r=[1/0,-1/0];sm(n,function(o){$Pt(r,o.getData(),t)});var a=e.getAxisModel(),i=xye(a.axis.scale,a,r).calculate();return[i.min,i.max]}var nHt={getTargetSeries:function(e){function t(a){e.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=e.getComponent(ih(o),s);a(o,s,l,i)})})}t(function(a,i,o,s){o.__dzAxisProxy=null});var n=[];t(function(a,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new eHt(a,i,s,e),n.push(o.__dzAxisProxy))});var r=Pt();return X(n,function(a){X(a.getTargetSeriesModels(),function(i){r.set(i.uid,i)})}),r},overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,a){n.getAxisProxy(r,a).reset(n)}),n.eachTargetAxis(function(r,a){n.getAxisProxy(r,a).filterData(n,t)})}),e.eachComponent("dataZoom",function(n){var r=n.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),i=r.getDataValueWindow();n.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}})}};function rHt(e){e.registerAction("dataZoom",function(t,n){var r=ZWt(n,t);X(r,function(a){a.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var LQ=!1;function NW(e){LQ||(LQ=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,nHt),rHt(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function aHt(e){e.registerComponentModel(JWt),e.registerComponentView(QWt),NW(e)}var bl=function(){function e(){}return e}(),rxe={};function lm(e,t){rxe[e]=t}function axe(e){return rxe[e]}var iHt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;X(this.option.feature,function(r,a){var i=axe(a);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(n)),mn(r,i.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Rn);function oHt(e,t,n){var r=t.getBoxLayoutParams(),a=t.get("padding"),i={width:n.getWidth(),height:n.getHeight()},o=Ya(r,i,a);Xv(t.get("orient"),e,t.get("itemGap"),o.width,o.height),VN(e,r,i,a)}function ixe(e,t){var n=w1(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new Bn({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),e}var sHt=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,a,i){var o=this.group;if(o.removeAll(),!n.get("show"))return;var s=+n.get("itemSize"),l=n.get("orient")==="vertical",u=n.get("feature")||{},c=this._features||(this._features={}),f=[];X(u,function(p,v){f.push(v)}),new Jf(this._featureNames||[],f).add(d).update(d).remove(vn(d,null)).execute(),this._featureNames=f;function d(p,v){var g=f[p],m=f[v],y=u[g],b=new pr(y,n,n.ecModel),x;if(i&&i.newTitle!=null&&i.featureName===g&&(y.title=i.newTitle),g&&!m){if(lHt(g))x={onclick:b.option.onclick,featureName:g};else{var _=axe(g);if(!_)return;x=new _}c[g]=x}else if(x=c[m],!x)return;x.uid=x1("toolbox-feature"),x.model=b,x.ecModel=r,x.api=a;var S=x instanceof bl;if(!g&&m){S&&x.dispose&&x.dispose(r,a);return}if(!b.get("show")||S&&x.unusable){S&&x.remove&&x.remove(r,a);return}h(b,x,g),b.setIconStatus=function(C,k){var T=this.option,I=this.iconPaths;T.iconStatus=T.iconStatus||{},T.iconStatus[C]=k,I[C]&&(k==="emphasis"?qf:Zf)(I[C])},x instanceof bl&&x.render&&x.render(b,r,a,i)}function h(p,v,g){var m=p.getModel("iconStyle"),y=p.getModel(["emphasis","iconStyle"]),b=v instanceof bl&&v.getIcons?v.getIcons():p.get("icon"),x=p.get("title")||{},_,S;Dt(b)?(_={},_[g]=b):_=b,Dt(x)?(S={},S[g]=x):S=x;var C=p.iconPaths={};X(_,function(k,T){var I=hC(k,{},{x:-s/2,y:-s/2,width:s,height:s});I.setStyle(m.getItemStyle());var E=I.ensureState("emphasis");E.style=y.getItemStyle();var A=new Hn({style:{text:S[T],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null,font:l5({fontStyle:y.get("textFontStyle"),fontFamily:y.get("textFontFamily"),fontSize:y.get("textFontSize"),fontWeight:y.get("textFontWeight")},r)},ignore:!0});I.setTextContent(A),r0({el:I,componentModel:n,itemName:T,formatterParamsExtra:{title:S[T]}}),I.__title=S[T],I.on("mouseover",function(){var N=y.getItemStyle(),L=l?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";A.setStyle({fill:y.get("textFill")||N.fill||N.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),I.setTextConfig({position:y.get("textPosition")||L}),A.ignore=!n.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",T])!=="emphasis"&&a.leaveEmphasis(this),A.hide()}),(p.get(["iconStatus",T])==="emphasis"?qf:Zf)(I),o.add(I),I.on("click",Nt(v.onclick,v,r,a,T)),C[T]=I})}oHt(o,n,a),o.add(ixe(o.getBoundingRect(),n)),l||o.eachChild(function(p){var v=p.__title,g=p.ensureState("emphasis"),m=g.textConfig||(g.textConfig={}),y=p.getTextContent(),b=y&&y.ensureState("emphasis");if(b&&!Yt(b)&&v){var x=b.style||(b.style={}),_=oC(v,Hn.makeFont(x)),S=p.x+o.x,C=p.y+o.y+s,k=!1;C+_.height>a.getHeight()&&(m.position="top",k=!0);var T=k?-5-_.height:s+10;S+_.width/2>a.getWidth()?(m.position=["100%",T],x.align="right"):S-_.width/2<0&&(m.position=[0,T],x.align="left")}})},t.prototype.updateView=function(n,r,a,i){X(this._features,function(o){o instanceof bl&&o.updateView&&o.updateView(o.model,r,a,i)})},t.prototype.remove=function(n,r){X(this._features,function(a){a instanceof bl&&a.remove&&a.remove(n,r)}),this.group.removeAll()},t.prototype.dispose=function(n,r){X(this._features,function(a){a instanceof bl&&a.dispose&&a.dispose(n,r)})},t.type="toolbox",t}(na);function lHt(e){return e.indexOf("my")===0}var uHt=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){var a=this.model,i=a.get("name")||n.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":a.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:a.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),u=Nn.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=i+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var d=l.split(","),h=d[0].indexOf("base64")>-1,p=o?decodeURIComponent(d[1]):d[1];h&&(p=window.atob(p));var v=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var g=p.length,m=new Uint8Array(g);g--;)m[g]=p.charCodeAt(g);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,v)}else{var b=document.createElement("iframe");document.body.appendChild(b);var x=b.contentWindow,_=x.document;_.open("image/svg+xml","replace"),_.write(p),_.close(),x.focus(),_.execCommand("SaveAs",!0,v),document.body.removeChild(b)}}else{var S=a.get("lang"),C='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',k=window.open();k.document.write(C),k.document.title=i}},t.getDefaultOption=function(n){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},t}(bl),OQ="__ec_magicType_stack__",cHt=[["line","bar"],["stack"]],fHt=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var n=this.model,r=n.get("icon"),a={};return X(n.get("type"),function(i){r[i]&&(a[i]=r[i])}),a},t.getDefaultOption=function(n){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},t.prototype.onclick=function(n,r,a){var i=this.model,o=i.get(["seriesIndex",a]);if(PQ[a]){var s={series:[]},l=function(f){var d=f.subType,h=f.id,p=PQ[a](d,h,f,i);p&&(Xt(p,f.option),s.series.push(p));var v=f.coordinateSystem;if(v&&v.type==="cartesian2d"&&(a==="line"||a==="bar")){var g=v.getAxesByScale("ordinal")[0];if(g){var m=g.dim,y=m+"Axis",b=f.getReferringComponents(y,Da).models[0],x=b.componentIndex;s[y]=s[y]||[];for(var _=0;_<=x;_++)s[y][x]=s[y][x]||{};s[y][x].boundaryGap=a==="bar"}}};X(cHt,function(f){Cn(f,a)>=0&&X(f,function(d){i.setIconStatus(d,"normal")})}),i.setIconStatus(a,"emphasis"),n.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=a;a==="stack"&&(u=mn({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",a])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t}(bl),PQ={line:function(e,t,n,r){if(e==="bar")return mn({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,t,n,r){if(e==="line")return mn({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,t,n,r){var a=n.get("stack")===OQ;if(e==="line"||e==="bar")return r.setIconStatus("stack",a?"normal":"emphasis"),mn({id:t,stack:a?"":OQ},r.get(["option","stack"])||{},!0)}};af({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var rR=new Array(60).join("-"),Ly="	";function dHt(e){var t={},n=[],r=[];return e.eachRawSeries(function(a){var i=a.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(a)}else n.push(a)}else n.push(a)}),{seriesGroupByCategoryAxis:t,other:n,meta:r}}function hHt(e){var t=[];return X(e,function(n,r){var a=n.categoryAxis,i=n.valueAxis,o=i.dim,s=[" "].concat(ut(n.series,function(h){return h.name})),l=[a.model.getCategories()];X(n.series,function(h){var p=h.getRawData();l.push(h.getRawData().mapArray(p.mapDimension(o),function(v){return v}))});for(var u=[s.join(Ly)],c=0;c<l[0].length;c++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][c]);u.push(f.join(Ly))}t.push(u.join(`
`))}),t.join(`

`+rR+`

`)}function pHt(e){return ut(e,function(t){var n=t.getRawData(),r=[t.name],a=[];return n.each(n.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=n.getName(o),l=0;l<i-1;l++)a[l]=arguments[l];r.push((s?s+Ly:"")+a.join(Ly))}),r.join(`
`)}).join(`

`+rR+`

`)}function vHt(e){var t=dHt(e);return{value:sr([hHt(t.seriesGroupByCategoryAxis),pHt(t.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+rR+`

`),meta:t.meta}}function FE(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function gHt(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(Ly)>=0)return!0}var J3=new RegExp("["+Ly+"]+","g");function mHt(e){for(var t=e.split(/\n+/g),n=FE(t.shift()).split(J3),r=[],a=ut(n,function(l){return{name:l,data:[]}}),i=0;i<t.length;i++){var o=FE(t[i]).split(J3);r.push(o.shift());for(var s=0;s<o.length;s++)a[s]&&(a[s].data[i]=o[s])}return{series:a,categories:r}}function yHt(e){for(var t=e.split(/\n+/g),n=FE(t.shift()),r=[],a=0;a<t.length;a++){var i=FE(t[a]);if(i){var o=i.split(J3),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[a]={name:s,value:[]},l=r[a].value):l=r[a]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?r[a].value=l[0]:r[a]=l[0])}}return{name:n,data:r}}function bHt(e,t){var n=e.split(new RegExp(`
*`+rR+`
*`,"g")),r={series:[]};return X(n,function(a,i){if(gHt(a)){var o=mHt(a),s=t[i],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=yHt(a);r.series.push(o)}}),r}var xHt=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var a=r.getDom(),i=this.model;this._dom&&a.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=i.get("optionToContent"),d=i.get("contentToOption"),h=vHt(n);if(Yt(f)){var p=f(r.getOption());Dt(p)?u.innerHTML=p:Ty(p)&&u.appendChild(p)}else{c.readOnly=i.get("readOnly");var v=c.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=i.get("textColor"),v.borderColor=i.get("textareaBorderColor"),v.backgroundColor=i.get("textareaColor"),c.value=h.value,u.appendChild(c)}var g=h.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),x=document.createElement("div");y+=";background-color:"+i.get("buttonColor"),y+=";color:"+i.get("buttonTextColor");var _=this;function S(){a.removeChild(o),_._dom=null}DF(b,"click",S),DF(x,"click",function(){if(d==null&&f!=null||d!=null&&f==null){S();return}var C;try{Yt(d)?C=d(u,r.getOption()):C=bHt(c.value,g)}catch(k){throw S(),new Error("Data view format error "+k)}C&&r.dispatchAction({type:"changeDataView",newOption:C}),S()}),b.innerHTML=l[1],x.innerHTML=l[2],x.style.cssText=b.style.cssText=y,!i.get("readOnly")&&m.appendChild(x),m.appendChild(b),o.appendChild(s),o.appendChild(u),o.appendChild(m),u.style.height=a.clientHeight-80+"px",a.appendChild(o),this._dom=o},t.prototype.remove=function(n,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(n,r){this.remove(n,r)},t.getDefaultOption=function(n){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},t}(bl);function wHt(e,t){return ut(e,function(n,r){var a=t&&t[r];if(Jt(a)&&!st(a)){var i=Jt(n)&&!st(n);i||(n={value:n});var o=a.name!=null&&n.name==null;return n=Xt(n,a),o&&delete n.name,n}else return n})}af({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];X(e.newOption.series,function(r){var a=t.getSeriesByName(r.name)[0];if(!a)n.push(rt({type:"scatter"},r));else{var i=a.get("data");n.push({name:r.name,data:wHt(r.data,i)})}}),t.mergeOption(Xt({series:n},e.newOption))});var oxe=X,sxe=Vn();function _Ht(e,t){var n=RW(e);oxe(t,function(r,a){for(var i=n.length-1;i>=0;i--){var o=n[i];if(o[a])break}if(i<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(s){var l=s.getPercentRange();n[0][a]={dataZoomId:a,start:l[0],end:l[1]}}}}),n.push(t)}function SHt(e){var t=RW(e),n=t[t.length-1];t.length>1&&t.pop();var r={};return oxe(n,function(a,i){for(var o=t.length-1;o>=0;o--)if(a=t[o][i],a){r[i]=a;break}}),r}function CHt(e){sxe(e).snapshots=null}function THt(e){return RW(e).length}function RW(e){var t=sxe(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var kHt=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){CHt(n),r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(n){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return r},t}(bl);af({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var IHt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],MW=function(){function e(t,n,r){var a=this;this._targetInfoList=[];var i=FQ(n,t);X(EHt,function(o,s){(!r||!r.include||Cn(r.include,s)>=0)&&o(i,a._targetInfoList)})}return e.prototype.setOutputRanges=function(t,n){return this.matchOutputRanges(t,n,function(r,a,i){if((r.coordRanges||(r.coordRanges=[])).push(a),!r.coordRange){r.coordRange=a;var o=ML[r.brushType](0,i,a);r.__rangeOffset={offset:WQ[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,n,r){X(t,function(a){var i=this.findTargetInfo(a,n);i&&i!==!0&&X(i.coordSyses,function(o){var s=ML[a.brushType](1,o,a.range,!0);r(a,s.values,o,n)})},this)},e.prototype.setInputRanges=function(t,n){X(t,function(r){var a=this.findTargetInfo(r,n);if(r.range=r.range||[],a&&a!==!0){r.panelId=a.panelId;var i=ML[r.brushType](0,a.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?WQ[r.brushType](i.values,o.offset,AHt(i.xyMinMax,o.xyMinMax)):i.values}},this)},e.prototype.makePanelOpts=function(t,n){return ut(this._targetInfoList,function(r){var a=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:n?n(r):null,clipPath:vbe(a),isTargetByCursor:mbe(a,t,r.coordSysModel),getLinearBrushOtherExtent:gbe(a)}})},e.prototype.controlSeries=function(t,n,r){var a=this.findTargetInfo(t,r);return a===!0||a&&Cn(a.coordSyses,n.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,n){for(var r=this._targetInfoList,a=FQ(n,t),i=0;i<r.length;i++){var o=r[i],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<BQ.length;l++)if(BQ[l](a,o))return o}return!0},e}();function Q3(e){return e[0]>e[1]&&e.reverse(),e}function FQ(e,t){return Tx(e,t,{includeMainTypes:IHt})}var EHt={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,a=e.gridModels,i=Pt(),o={},s={};!n&&!r&&!a||(X(n,function(l){var u=l.axis.grid.model;i.set(u.id,u),o[u.id]=!0}),X(r,function(l){var u=l.axis.grid.model;i.set(u.id,u),s[u.id]=!0}),X(a,function(l){i.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),i.each(function(l){var u=l.coordinateSystem,c=[];X(u.getCartesians(),function(f,d){(Cn(n,f.getAxis("x").model)>=0||Cn(r,f.getAxis("y").model)>=0)&&c.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:VQ.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(e,t){X(e.geoModels,function(n){var r=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:r,coordSyses:[r],getPanelRect:VQ.geo})})}},BQ=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,a=e.gridModel;return!a&&n&&(a=n.axis.grid.model),!a&&r&&(a=r.axis.grid.model),a&&a===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],VQ={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Yv(e)),t}},ML={lineX:vn(zQ,0),lineY:vn(zQ,1),rect:function(e,t,n,r){var a=e?t.pointToData([n[0][0],n[1][0]],r):t.dataToPoint([n[0][0],n[1][0]],r),i=e?t.pointToData([n[0][1],n[1][1]],r):t.dataToPoint([n[0][1],n[1][1]],r),o=[Q3([a[0],i[0]]),Q3([a[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n,r){var a=[[1/0,-1/0],[1/0,-1/0]],i=ut(n,function(o){var s=e?t.pointToData(o,r):t.dataToPoint(o,r);return a[0][0]=Math.min(a[0][0],s[0]),a[1][0]=Math.min(a[1][0],s[1]),a[0][1]=Math.max(a[0][1],s[0]),a[1][1]=Math.max(a[1][1],s[1]),s});return{values:i,xyMinMax:a}}};function zQ(e,t,n,r){var a=n.getAxis(["x","y"][e]),i=Q3(ut([0,1],function(s){return t?a.coordToData(a.toLocalCoord(r[s]),!0):a.toGlobalCoord(a.dataToCoord(r[s]))})),o=[];return o[e]=i,o[1-e]=[NaN,NaN],{values:i,xyMinMax:o}}var WQ={lineX:vn(HQ,0),lineY:vn(HQ,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return ut(e,function(r,a){return[r[0]-n[0]*t[a][0],r[1]-n[1]*t[a][1]]})}};function HQ(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function AHt(e,t){var n=UQ(e),r=UQ(t),a=[n[0]/r[0],n[1]/r[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function UQ(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var e4=X,DHt=FNt("toolbox-dataZoom_"),NHt=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,a,i){this._brushController||(this._brushController=new oW(a.getZr()),this._brushController.on("brush",Nt(this._onBrush,this)).mount()),$Ht(n,r,this,i,a),MHt(n,r)},t.prototype.onclick=function(n,r,a){RHt[a].call(this)},t.prototype.remove=function(n,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(n,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(n){var r=n.areas;if(!n.isEnd||!r.length)return;var a={},i=this.ecModel;this._brushController.updateCovers([]);var o=new MW($W(this.model),i,{include:["grid"]});o.matchOutputRanges(r,i,function(u,c,f){if(f.type==="cartesian2d"){var d=u.brushType;d==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[d],f,c)}}),_Ht(i,a),this._dispatchZoomAction(a);function s(u,c,f){var d=c.getAxis(u),h=d.model,p=l(u,h,i),v=p.findRepresentativeAxisProxy(h).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(f=u0(0,f.slice(),d.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),p&&(a[p.id]={dataZoomId:p.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var p=h.getAxisModel(u,c.componentIndex);p&&(d=h)}),d}},t.prototype._dispatchZoomAction=function(n){var r=[];e4(n,function(a,i){r.push(en(a))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(n){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},t}(bl),RHt={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(SHt(this.ecModel))}};function $W(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function MHt(e,t){e.setIconStatus("back",THt(t)>1?"emphasis":"normal")}function $Ht(e,t,n,r,a){var i=n._isZoomActive;r&&r.type==="takeGlobalCursor"&&(i=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),n._isZoomActive=i,e.setIconStatus("zoom",i?"emphasis":"normal");var o=new MW($W(e),t,{include:["grid"]}),s=o.makePanelOpts(a,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}u$t("dataZoom",function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(!t||t.get(n)==null)return;var r=t.getModel(n),a=[],i=$W(r),o=Tx(e,i);e4(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),e4(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:DHt+u+f};d[c]=f,a.push(d)}return a});function LHt(e){e.registerComponentModel(iHt),e.registerComponentView(sHt),lm("saveAsImage",uHt),lm("magicType",fHt),lm("dataView",xHt),lm("dataZoom",NHt),lm("restore",kHt),kn(aHt)}var OHt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Rn);function lxe(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function uxe(e){if(Nn.domSupported){for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}}var cxe=uxe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),PHt=uxe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function fxe(e,t){if(!e)return t;t=H0e(t,!0);var n=e.indexOf(t);return e=n===-1?t:"-"+e.slice(0,n)+"-"+t,e.toLowerCase()}function FHt(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?n[t]:null}var BHt=fxe(PHt,"transition"),LW=fxe(cxe,"transform"),VHt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Nn.transform3dSupported?"will-change:transform;":"");function zHt(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function WHt(e,t,n){if(!Dt(n)||n==="inside")return"";var r=e.get("backgroundColor"),a=e.get("borderWidth");t=Dg(t);var i=zHt(n),o=Math.max(Math.round(a)*1.5,6),s="",l=LW+":",u;Cn(["left","right"],i)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+a,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*a)/2+Math.SQRT2*a-(d-f)/2)*100)/100;s+=";"+i+":-"+h+"px";var p=t+" solid "+a+"px;",v=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function HHt(e,t){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+n,a="opacity"+r+",visibility"+r;return t||(r=" "+e+"s "+n,a+=Nn.transformSupported?","+LW+r:",left"+r+",top"+r),BHt+":"+a}function GQ(e,t,n){var r=e.toFixed(0)+"px",a=t.toFixed(0)+"px";if(!Nn.transformSupported)return n?"top:"+a+";left:"+r+";":[["top",a],["left",r]];var i=Nn.transform3dSupported,o="translate"+(i?"3d":"")+"("+r+","+a+(i?",0":"")+")";return n?"top:0;left:0;"+LW+":"+o+";":[["top",0],["left",0],[cxe,o]]}function UHt(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont());var a=fn(e.get("lineHeight"),Math.round(n*3/2));n&&t.push("line-height:"+a+"px");var i=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return i&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+i),X(["decoration","align"],function(u){var c=e.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function GHt(e,t,n){var r=[],a=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),f=Sme(e,"html"),d=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+d),t&&a&&r.push(HHt(a,n)),i&&r.push("background-color:"+i),X(["width","color","radius"],function(h){var p="border-"+h,v=H0e(p),g=e.get(v);g!=null&&r.push(p+":"+g+(h==="color"?"":"px"))}),r.push(UHt(c)),f!=null&&r.push("padding:"+w1(f).join("px ")+"px"),r.join(";")+";"}function KQ(e,t,n,r,a){var i=t&&t.painter;if(n){var o=i&&i.getViewportRoot();o&&gDt(e,o,n,r,a)}else{e[0]=r,e[1]=a;var s=i&&i.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var KHt=function(){function e(t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Nn.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var a=this._zr=t.getZr(),i=n.appendTo,o=i&&(Dt(i)?document.querySelector(i):Ty(i)?i:Yt(i)&&i(t.getDom()));KQ(this._styleCoord,a,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(r),this._api=t,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,c=a.painter.getViewportRoot();fl(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var n=this._api.getDom(),r=FHt(n,"position"),a=n.style;a.position!=="absolute"&&r!=="absolute"&&(a.position="relative")}var i=t.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=t.get("className")||""},e.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,i=this._styleCoord;r.innerHTML?a.cssText=VHt+GHt(t,!this._firstShow,this._longHide)+GQ(i[0],i[1],!0)+("border-color:"+Dg(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,n,r,a,i){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(Dt(i)&&r.get("trigger")==="item"&&!lxe(r)&&(s=WHt(r,a,i)),Dt(t))o.innerHTML=t+s;else if(t){o.innerHTML="",st(t)||(t=[t]);for(var l=0;l<t.length;l++)Ty(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,n){if(this.el){var r=this._styleCoord;if(KQ(r,this._zr,this._container,t,n),r[0]!=null&&r[1]!=null){var a=this.el.style,i=GQ(r[0],r[1]);X(i,function(o){a[o[0]]=o[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",Nn.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Nt(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),jHt=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),YQ(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,n,r,a,i){var o=this;Jt(t)&&or(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new Hn({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Sme(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),X(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),X(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),r=jQ(t.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},e.prototype.moveTo=function(t,n){var r=this.el;if(r){var a=this._styleCoord;YQ(a,this._zr,t,n),t=a[0],n=a[1];var i=r.style,o=Ld(i.borderWidth||0),s=jQ(i);r.x=t+o+s.left,r.y=n+o+s.top,r.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Nt(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Ld(e){return Math.max(0,e)}function jQ(e){var t=Ld(e.shadowBlur||0),n=Ld(e.shadowOffsetX||0),r=Ld(e.shadowOffsetY||0);return{left:Ld(t-n),right:Ld(t+n),top:Ld(t-r),bottom:Ld(t+r)}}function YQ(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var YHt=new Bn({shape:{x:-1,y:-1,width:2,height:2}}),XHt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){if(!(Nn.node||!r.getDom())){var a=n.getComponent("tooltip"),i=this._renderMode=GNt(a.get("renderMode"));this._tooltipContent=i==="richText"?new jHt(r):new KHt(r,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},t.prototype.render=function(n,r,a){if(!(Nn.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=a;var i=this._tooltipContent;i.update(n),i.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?T1(this,"_updatePosition",50,"fixRate"):qw(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");Xbe("itemTooltip",this._api,Nt(function(a,i,o){r!=="none"&&(r.indexOf(a)>=0?this._tryShow(i,o):a==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,a=this._api,i=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(n,r,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,r,a,i){if(!(i.from===this.uid||Nn.node||!a.getDom())){var o=XQ(i,a);this._ticket="";var s=i.dataByCoordSys,l=QHt(i,r,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=YHt;c.x=i.x,c.y=i.y,c.update(),sn(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},o)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:s,tooltipOption:i.tooltipOption},o);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,a,i))return;var f=qbe(i,r),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:i.position,positionDefault:"bottom"},o)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},o))}},t.prototype.manuallyHideTip=function(n,r,a,i){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(XQ(i,a))},t.prototype._manuallyAxisShowTip=function(n,r,a,i){var o=i.seriesIndex,s=i.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var c=u.getData(),f=gb([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:i.position}),!0}}},t.prototype._tryShow=function(n,r){var a=n.target,i=this._tooltipModel;if(i){this._lastX=n.offsetX,this._lastY=n.offsetY;var o=n.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,n);else if(a){var s=sn(a);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Av(a,function(c){if(sn(c).dataIndex!=null)return l=c,!0;if(sn(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(n,l,r):u?this._showComponentItemTooltip(n,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(n,r){var a=n.get("showDelay");r=Nt(r,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(r,a):r()},t.prototype._showAxisTooltip=function(n,r){var a=this._ecModel,i=this._tooltipModel,o=[r.offsetX,r.offsetY],s=gb([r.tooltipOption],i),l=this._renderMode,u=[],c=gi("section",{blocks:[],noHeader:!0}),f=[],d=new y$;X(n,function(y){X(y.dataByAxis,function(b){var x=a.getComponent(b.axisDim+"Axis",b.axisIndex),_=b.value;if(!(!x||_==null)){var S=Kbe(_,x.axis,a,b.seriesDataIndices,b.valueLabelOpt),C=gi("section",{header:S,noHeader:!yu(S),sortBlocks:!0,blocks:[]});c.blocks.push(C),X(b.seriesDataIndices,function(k){var T=a.getSeriesByIndex(k.seriesIndex),I=k.dataIndexInside,E=T.getDataParams(I);if(!(E.dataIndex<0)){E.axisDim=b.axisDim,E.axisIndex=b.axisIndex,E.axisType=b.axisType,E.axisId=b.axisId,E.axisValue=$5(x.axis,{value:_}),E.axisValueLabel=S,E.marker=d.makeTooltipMarker("item",Dg(E.color),l);var A=$X(T.formatTooltip(I,!0,null)),N=A.frag;if(N){var L=gb([T],i).get("valueFormatter");C.blocks.push(L?rt({valueFormatter:L},N):N)}A.text&&f.push(A.text),u.push(E)}})}})}),c.blocks.reverse(),f.reverse();var h=r.position,p=s.get("order"),v=VX(c,d,l,p,a.get("useUTC"),s.get("textStyle"));v&&f.unshift(v);var g=l==="richText"?`

`:"<br/>",m=f.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",o[0],o[1],h,null,d)})},t.prototype._showSeriesItemTooltip=function(n,r,a){var i=this._ecModel,o=sn(r),s=o.seriesIndex,l=i.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,d=u.getData(f),h=this._renderMode,p=n.positionDefault,v=gb([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=v.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(c,f),y=new y$;m.marker=y.makeTooltipMarker("item",Dg(m.color),h);var b=$X(u.formatTooltip(c,!1,f)),x=v.get("order"),_=v.get("valueFormatter"),S=b.frag,C=S?VX(_?rt({valueFormatter:_},S):S,y,h,x,i.get("useUTC"),v.get("textStyle")):b.text,k="item_"+u.name+"_"+c;this._showOrMove(v,function(){this._showTooltipContent(v,C,m,k,n.offsetX,n.offsetY,n.position,n.target,y)}),a({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,r,a){var i=this._renderMode==="html",o=sn(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(Dt(l)){var c=l;l={content:c,formatter:c},u=!0}u&&i&&l.content&&(l=en(l),l.content=Uo(l.content));var f=[l],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=n.positionDefault,p=gb(f,this._tooltipModel,h?{position:h}:null),v=p.get("content"),g=Math.random()+"",m=new y$;this._showOrMove(p,function(){var y=en(p.get("formatterParams")||{});this._showTooltipContent(p,v,y,g,n.offsetX,n.offsetY,n.position,r,m)}),a({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,r,a,i,o,s,l,u,c){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var f=this._tooltipContent;f.setEnterable(n.get("enterable"));var d=n.get("formatter");l=l||n.get("position");var h=r,p=this._getNearestPoint([o,s],a,n.get("trigger"),n.get("borderColor")),v=p.color;if(d)if(Dt(d)){var g=n.ecModel.get("useUTC"),m=st(a)?a[0]:a,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=d,y&&(h=LN(m.axisValue,h,g)),h=U0e(h,a,!0)}else if(Yt(d)){var b=Nt(function(x,_){x===this._ticket&&(f.setContent(_,c,n,v,l),this._updatePosition(n,l,o,s,f,a,u))},this);this._ticket=i,h=d(a,i,b)}else h=d;f.setContent(h,c,n,v,l),f.show(n,v),this._updatePosition(n,l,o,s,f,a,u)}},t.prototype._getNearestPoint=function(n,r,a,i){if(a==="axis"||st(r))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!st(r))return{color:i||r.color||r.borderColor}},t.prototype._updatePosition=function(n,r,a,i,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||n.get("position");var f=o.getSize(),d=n.get("align"),h=n.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Yt(r)&&(r=r([a,i],s,o.el,p,{viewSize:[u,c],contentSize:f.slice()})),st(r))a=St(r[0],u),i=St(r[1],c);else if(Jt(r)){var v=r;v.width=f[0],v.height=f[1];var g=Ya(v,{width:u,height:c});a=g.x,i=g.y,d=null,h=null}else if(Dt(r)&&l){var m=JHt(r,p,f,n.get("borderWidth"));a=m[0],i=m[1]}else{var m=qHt(a,i,o,u,c,d?null:20,h?null:20);a=m[0],i=m[1]}if(d&&(a-=qQ(d)?f[0]/2:d==="right"?f[0]:0),h&&(i-=qQ(h)?f[1]/2:h==="bottom"?f[1]:0),lxe(n)){var m=ZHt(a,i,o,u,c);a=m[0],i=m[1]}o.moveTo(a,i)},t.prototype._updateContentNotChangedOnAxis=function(n,r){var a=this._lastDataByCoordSys,i=this._cbParamsList,o=!!a&&a.length===n.length;return o&&X(a,function(s,l){var u=s.dataByAxis||[],c=n[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&X(u,function(d,h){var p=f[h]||{},v=d.seriesDataIndices||[],g=p.seriesDataIndices||[];o=o&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&v.length===g.length,o&&X(v,function(m,y){var b=g[y];o=o&&m.seriesIndex===b.seriesIndex&&m.dataIndex===b.dataIndex}),i&&X(d.seriesDataIndices,function(m){var y=m.seriesIndex,b=r[y],x=i[y];b&&x&&x.data!==b.data&&(o=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!o},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,r){Nn.node||!r.getDom()||(qw(this,"_updatePosition"),this._tooltipContent.dispose(),X3("itemTooltip",r))},t.type="tooltip",t}(na);function gb(e,t,n){var r=t.ecModel,a;n?(a=new pr(n,r,r),a=new pr(t.option,a,r)):a=t;for(var i=e.length-1;i>=0;i--){var o=e[i];o&&(o instanceof pr&&(o=o.get("tooltip",!0)),Dt(o)&&(o={formatter:o}),o&&(a=new pr(o,a,r)))}return a}function XQ(e,t){return e.dispatchAction||Nt(t.dispatchAction,t)}function qHt(e,t,n,r,a,i,o){var s=n.getSize(),l=s[0],u=s[1];return i!=null&&(e+l+i+2>r?e-=l+i:e+=i),o!=null&&(t+u+o>a?t-=u+o:t+=o),[e,t]}function ZHt(e,t,n,r,a){var i=n.getSize(),o=i[0],s=i[1];return e=Math.min(e+o,r)-o,t=Math.min(t+s,a)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function JHt(e,t,n,r){var a=n[0],i=n[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-a/2,l=t.y+c/2-i/2;break;case"top":s=t.x+u/2-a/2,l=t.y-i-o;break;case"bottom":s=t.x+u/2-a/2,l=t.y+c+o;break;case"left":s=t.x-a-o,l=t.y+c/2-i/2;break;case"right":s=t.x+u+o,l=t.y+c/2-i/2}return[s,l]}function qQ(e){return e==="center"||e==="middle"}function QHt(e,t,n){var r=X8(e).queryOptionMap,a=r.keys()[0];if(!(!a||a==="series")){var i=sC(t,a,r.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=i.models[0];if(o){var s=n.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=sn(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}}function eUt(e){kn(kC),e.registerComponentModel(OHt),e.registerComponentView(XHt),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ba),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ba)}var tUt=["rect","polygon","keep","clear"];function nUt(e,t){var n=Ir(e?e.brush:[]);if(n.length){var r=[];X(n,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var a=e&&e.toolbox;st(a)&&(a=a[0]),a||(a={feature:{}},e.toolbox=[a]);var i=a.feature||(a.feature={}),o=i.brush||(i.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),rUt(s),t&&!s.length&&s.push.apply(s,tUt)}}function rUt(e){var t={};X(e,function(n){t[n]=1}),e.length=0,X(t,function(n,r){e.push(r)})}var ZQ=X;function JQ(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function t4(e,t,n){var r={};return ZQ(t,function(i){var o=r[i]=a();ZQ(e[i],function(s,l){if(ci.isValidType(l)){var u={type:l,visual:s};n&&n(u,i),o[l]=new ci(u),l==="opacity"&&(u=en(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new ci(u))}})}),r;function a(){var i=function(){};i.prototype.__hidden=i.prototype;var o=new i;return o}}function dxe(e,t,n){var r;X(n,function(a){t.hasOwnProperty(a)&&JQ(t[a])&&(r=!0)}),r&&X(n,function(a){t.hasOwnProperty(a)&&JQ(t[a])?e[a]=en(t[a]):delete e[a]})}function aUt(e,t,n,r,a,i){var o={};X(e,function(f){var d=ci.prepareVisualTypes(t[f]);o[f]=d});var s;function l(f){return C5(n,s,f)}function u(f,d){Mme(n,s,f,d)}n.each(c);function c(f,d){s=f;var h=n.getRawDataItem(s);if(!(h&&h.visualMap===!1))for(var p=r.call(a,f),v=t[p],g=o[p],m=0,y=g.length;m<y;m++){var b=g[m];v[b]&&v[b].applyVisual(f,l,u)}}}function iUt(e,t,n,r){var a={};return X(e,function(i){var o=ci.prepareVisualTypes(t[i]);a[i]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(_){return C5(s,f,_)}function c(_,S){Mme(s,f,_,S)}for(var f,d=s.getStore();(f=o.next())!=null;){var h=s.getRawDataItem(f);if(!(h&&h.visualMap===!1))for(var p=r!=null?d.get(l,f):f,v=n(p),g=t[v],m=a[v],y=0,b=m.length;y<b;y++){var x=m[y];g[x]&&g[x].applyVisual(p,u,c)}}}}}function oUt(e){var t=e.brushType,n={point:function(r){return QQ[t].point(r,n,e)},rect:function(r){return QQ[t].rect(r,n,e)}};return n}var QQ={lineX:eee(0),lineY:eee(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&fv(n.range,e[0],e[1])},rect:function(e,t,n){var r=n.range;if(!e||r.length<=1)return!1;var a=e.x,i=e.y,o=e.width,s=e.height,l=r[0];if(fv(r,a,i)||fv(r,a+o,i)||fv(r,a,i+s)||fv(r,a+o,i+s)||xn.create(e).contain(l[0],l[1])||Bb(a,i,a+o,i,r)||Bb(a,i,a,i+s,r)||Bb(a+o,i,a+o,i+s,r)||Bb(a,i+s,a+o,i+s,r))return!0}}};function eee(e){var t=["x","y"],n=["width","height"];return{point:function(r,a,i){if(r){var o=i.range,s=r[e];return mb(s,o)}},rect:function(r,a,i){if(r){var o=i.range,s=[r[t[e]],r[t[e]]+r[n[e]]];return s[1]<s[0]&&s.reverse(),mb(s[0],o)||mb(s[1],o)||mb(o[0],s)||mb(o[1],s)}}}}function mb(e,t){return t[0]<=e&&e<=t[1]}var tee=["inBrush","outOfBrush"],$L="__ecBrushSelect",n4="__ecInBrushSelectEvent";function hxe(e){e.eachComponent({mainType:"brush"},function(t){var n=t.brushTargetManager=new MW(t.option,e);n.setInputRanges(t.areas,e)})}function sUt(e,t,n){var r=[],a,i;e.eachComponent({mainType:"brush"},function(o){n&&n.type==="takeGlobalCursor"&&o.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1})}),hxe(e),e.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:en(o.areas),selected:[]};r.push(l);var u=o.option,c=u.brushLink,f=[],d=[],h=[],p=!1;s||(a=u.throttleType,i=u.throttleDelay);var v=ut(o.areas,function(_){var S=fUt[_.brushType],C=Xt({boundingRect:S?S(_):void 0},_);return C.selectors=oUt(C),C}),g=t4(o.option,tee,function(_){_.mappingMethod="fixed"});st(c)&&X(c,function(_){f[_]=1});function m(_){return c==="all"||!!f[_]}function y(_){return!!_.length}e.eachSeries(function(_,S){var C=h[S]=[];_.subType==="parallel"?b(_,S):x(_,S,C)});function b(_,S){var C=_.coordinateSystem;p=p||C.hasAxisBrushed(),m(S)&&C.eachActiveState(_.getData(),function(k,T){k==="active"&&(d[T]=1)})}function x(_,S,C){if(!(!_.brushSelector||cUt(o,S))&&(X(v,function(T){o.brushTargetManager.controlSeries(T,_,e)&&C.push(T),p=p||y(C)}),m(S)&&y(C))){var k=_.getData();k.each(function(T){nee(_,C,k,T)&&(d[T]=1)})}}e.eachSeries(function(_,S){var C={seriesId:_.id,seriesIndex:S,seriesName:_.name,dataIndex:[]};l.selected.push(C);var k=h[S],T=_.getData(),I=m(S)?function(E){return d[E]?(C.dataIndex.push(T.getRawIndex(E)),"inBrush"):"outOfBrush"}:function(E){return nee(_,k,T,E)?(C.dataIndex.push(T.getRawIndex(E)),"inBrush"):"outOfBrush"};(m(S)?p:y(k))&&aUt(tee,g,T,I)})}),lUt(t,a,i,r,n)}function lUt(e,t,n,r,a){if(a){var i=e.getZr();if(!i[n4]){i[$L]||(i[$L]=uUt);var o=T1(i,$L,n,t);o(e,r)}}}function uUt(e,t){if(!e.isDisposed()){var n=e.getZr();n[n4]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[n4]=!1}}function nee(e,t,n,r){for(var a=0,i=t.length;a<i;a++){var o=t[a];if(e.brushSelector(r,n,o.selectors,o))return!0}}function cUt(e,t){var n=e.option.seriesIndex;return n!=null&&n!=="all"&&(st(n)?Cn(n,t)<0:t!==n)}var fUt={rect:function(e){return ree(e.range)},polygon:function(e){for(var t,n=e.range,r=0,a=n.length;r<a;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var i=n[r];i[0]<t[0][0]&&(t[0][0]=i[0]),i[0]>t[0][1]&&(t[0][1]=i[0]),i[1]<t[1][0]&&(t[1][0]=i[1]),i[1]>t[1][1]&&(t[1][1]=i[1])}return t&&ree(t)}};function ree(e){return new xn(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var dUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){this.ecModel=n,this.api=r,this.model,(this._brushController=new oW(r.getZr())).on("brush",Nt(this._onBrush,this)).mount()},t.prototype.render=function(n,r,a,i){this.model=n,this._updateController(n,r,a,i)},t.prototype.updateTransform=function(n,r,a,i){hxe(r),this._updateController(n,r,a,i)},t.prototype.updateVisual=function(n,r,a,i){this.updateTransform(n,r,a,i)},t.prototype.updateView=function(n,r,a,i){this._updateController(n,r,a,i)},t.prototype._updateController=function(n,r,a,i){(!i||i.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(a)).enableBrush(n.brushOption).updateCovers(n.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(n){var r=this.model.id,a=this.model.brushTargetManager.setOutputRanges(n.areas,this.ecModel);(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:en(a),$from:r}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:en(a),$from:r})},t.type="brush",t}(na),hUt="#ddd",pUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return t.prototype.optionUpdated=function(n,r){var a=this.option;!r&&dxe(a,n,["inBrush","outOfBrush"]);var i=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:hUt},i.hasOwnProperty("liftZ")||(i.liftZ=5)},t.prototype.setAreas=function(n){n&&(this.areas=ut(n,function(r){return aee(this.option,r)},this))},t.prototype.setBrushOption=function(n){this.brushOption=aee(this.option,n),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Rn);function aee(e,t){return mn({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new pr(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var vUt=["rect","polygon","lineX","lineY","keep","clear"],gUt=function(e){Le(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,a){var i,o,s;r.eachComponent({mainType:"brush"},function(l){i=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=i,this._brushMode=o,X(n.get("type",!0),function(l){n.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===i)?"emphasis":"normal")})},t.prototype.updateView=function(n,r,a){this.render(n,r,a)},t.prototype.getIcons=function(){var n=this.model,r=n.get("icon",!0),a={};return X(n.get("type",!0),function(i){r[i]&&(a[i]=r[i])}),a},t.prototype.onclick=function(n,r,a){var i=this._brushType,o=this._brushMode;a==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:a==="keep"?i:i===a?!1:a,brushMode:a==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(n){var r={show:!0,type:vUt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.getLocaleModel().get(["toolbox","brush","title"])};return r},t}(bl);function mUt(e){e.registerComponentView(dUt),e.registerComponentModel(pUt),e.registerPreprocessor(nUt),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,sUt),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,n){n.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ba),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ba),lm("brush",gUt)}var yUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Rn),bUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,a){if(this.group.removeAll(),!!n.get("show")){var i=this.group,o=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),u=fn(n.get("textBaseline"),n.get("textVerticalAlign")),c=new Hn({style:Fr(o,{text:n.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=n.get("subtext"),h=new Hn({style:Fr(s,{text:d,fill:s.getTextColor(),y:f.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=n.get("link"),v=n.get("sublink"),g=n.get("triggerEvent",!0);c.silent=!p&&!g,h.silent=!v&&!g,p&&c.on("click",function(){pE(p,"_"+n.get("target"))}),v&&h.on("click",function(){pE(v,"_"+n.get("subtarget"))}),sn(c).eventData=sn(h).eventData=g?{componentType:"title",componentIndex:n.componentIndex}:null,i.add(c),d&&i.add(h);var m=i.getBoundingRect(),y=n.getBoxLayoutParams();y.width=m.width,y.height=m.height;var b=Ya(y,{width:a.getWidth(),height:a.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=n.get("top")||n.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),i.x=b.x,i.y=b.y,i.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),h.setStyle(x),m=i.getBoundingRect();var _=b.margin,S=n.getItemStyle(["color","opacity"]);S.fill=n.get("backgroundColor");var C=new Bn({shape:{x:m.x-_[3],y:m.y-_[0],width:m.width+_[1]+_[3],height:m.height+_[0]+_[2],r:n.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});i.add(C)}},t.type="title",t}(na);function xUt(e){e.registerComponentModel(yUt),e.registerComponentView(bUt)}var iee=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a),this._initData()},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(n){n==null&&(n=this.option.currentIndex);var r=this._data.count();this.option.loop?n=(n%r+r)%r:(n>=r&&(n=r-1),n<0&&(n=0)),this.option.currentIndex=n},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(n){this.option.autoPlay=!!n},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var n=this.option,r=n.data||[],a=n.axisType,i=this._names=[],o;a==="category"?(o=[],X(r,function(u,c){var f=Ha(g1(u),""),d;Jt(u)?(d=en(u),d.value=c):d=c,o.push(d),i.push(f)})):o=r;var s={category:"ordinal",time:"time",value:"number"}[a]||"number",l=this._data=new Zo([{name:"value",type:s}],this);l.initData(o,i)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Rn),pxe=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline.slider",t.defaultOption=vp(iee.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(iee);$a(pxe,WN.prototype);var wUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline",t}(na),_Ut=function(e){Le(t,e);function t(n,r,a,i){var o=e.call(this,n,r,a)||this;return o.type=i||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(Uu),LL=Math.PI,oee=Vn(),SUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){this.api=r},t.prototype.render=function(n,r,a){if(this.model=n,this.api=a,this.ecModel=r,this.group.removeAll(),n.get("show",!0)){var i=this._layout(n,a),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(i,n);n.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return gi("nameValue",{noName:!0,value:c})},X(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](i,o,l,n)},this),this._renderAxisLabel(i,s,l,n),this._position(i,n)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(n,r){var a=n.get(["label","position"]),i=n.get("orient"),o=TUt(n,r),s;a==null||a==="auto"?s=i==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":Dt(a)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][a]:s=a;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:LL/2},f=i==="vertical"?o.height:o.width,d=n.getModel("controlStyle"),h=d.get("show",!0),p=h?d.get("itemSize"):0,v=h?d.get("itemGap"):0,g=p+v,m=n.get(["label","rotate"])||0;m=m*LL/180;var y,b,x,_=d.get("position",!0),S=h&&d.get("showPlayBtn",!0),C=h&&d.get("showPrevBtn",!0),k=h&&d.get("showNextBtn",!0),T=0,I=f;_==="left"||_==="bottom"?(S&&(y=[0,0],T+=g),C&&(b=[T,0],T+=g),k&&(x=[I-p,0],I-=g)):(S&&(y=[I-p,0],I-=g),C&&(b=[0,0],T+=g),k&&(x=[I-p,0],I-=g));var E=[T,I];return n.get("inverse")&&E.reverse(),{viewRect:o,mainLength:f,orient:i,rotation:c[i],labelRotation:m,labelPosOpt:s,labelAlign:n.get(["label","align"])||l[i],labelBaseline:n.get(["label","verticalAlign"])||n.get(["label","baseline"])||u[i],playPosition:y,prevBtnPosition:b,nextBtnPosition:x,axisExtent:E,controlSize:p,controlGap:v}},t.prototype._position=function(n,r){var a=this._mainGroup,i=this._labelGroup,o=n.viewRect;if(n.orient==="vertical"){var s=Us(),l=o.x,u=o.y+o.height;Wc(s,s,[-l,-u]),n0(s,s,-LL/2),Wc(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=y(o),f=y(a.getBoundingRect()),d=y(i.getBoundingRect()),h=[a.x,a.y],p=[i.x,i.y];p[0]=h[0]=c[0][0];var v=n.labelPosOpt;if(v==null||Dt(v)){var g=v==="+"?0:1;b(h,f,c,1,g),b(p,d,c,1,1-g)}else{var g=v>=0?0:1;b(h,f,c,1,g),p[1]=h[1]+v}a.setPosition(h),i.setPosition(p),a.rotation=i.rotation=n.rotation,m(a),m(i);function m(x){x.originX=c[0][0]-x.x,x.originY=c[1][0]-x.y}function y(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function b(x,_,S,C,k){x[C]+=S[C][k]-_[C][k]}},t.prototype._createAxis=function(n,r){var a=r.getData(),i=r.get("axisType"),o=CUt(r,i);o.getTicks=function(){return a.mapArray(["value"],function(u){return{value:u}})};var s=a.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new _Ut("value",o,n.axisExtent,i);return l.model=r,l},t.prototype._createGroup=function(n){var r=this[n]=new an;return this.group.add(r),r},t.prototype._renderAxisLine=function(n,r,a,i){var o=a.getExtent();if(i.get(["lineStyle","show"])){var s=new ii({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:rt({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new ii({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Xt({lineCap:"round",lineWidth:s.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},t.prototype._renderAxisTick=function(n,r,a,i){var o=this,s=i.getData(),l=a.scale.getTicks();this._tickSymbols=[],X(l,function(u){var c=a.dataToCoord(u.value),f=s.getItemModel(u.value),d=f.getModel("itemStyle"),h=f.getModel(["emphasis","itemStyle"]),p=f.getModel(["progress","itemStyle"]),v={x:c,y:0,onclick:Nt(o._changeTimeline,o,u.value)},g=see(f,d,r,v);g.ensureState("emphasis").style=h.getItemStyle(),g.ensureState("progress").style=p.getItemStyle(),jv(g);var m=sn(g);f.get("tooltip")?(m.dataIndex=u.value,m.dataModel=i):m.dataIndex=m.dataModel=null,o._tickSymbols.push(g)})},t.prototype._renderAxisLabel=function(n,r,a,i){var o=this,s=a.getLabelModel();if(s.get("show")){var l=i.getData(),u=a.getViewLabels();this._tickLabels=[],X(u,function(c){var f=c.tickValue,d=l.getItemModel(f),h=d.getModel("label"),p=d.getModel(["emphasis","label"]),v=d.getModel(["progress","label"]),g=a.dataToCoord(c.tickValue),m=new Hn({x:g,y:0,rotation:n.labelRotation-n.rotation,onclick:Nt(o._changeTimeline,o,f),silent:!1,style:Fr(h,{text:c.formattedLabel,align:n.labelAlign,verticalAlign:n.labelBaseline})});m.ensureState("emphasis").style=Fr(p),m.ensureState("progress").style=Fr(v),r.add(m),jv(m),oee(m).dataIndex=f,o._tickLabels.push(m)})}},t.prototype._renderControl=function(n,r,a,i){var o=n.controlSize,s=n.rotation,l=i.getModel("controlStyle").getItemStyle(),u=i.getModel(["emphasis","controlStyle"]).getItemStyle(),c=i.getPlayState(),f=i.get("inverse",!0);d(n.nextBtnPosition,"next",Nt(this._changeTimeline,this,f?"-":"+")),d(n.prevBtnPosition,"prev",Nt(this._changeTimeline,this,f?"+":"-")),d(n.playPosition,c?"stop":"play",Nt(this._handlePlayClick,this,!c),!0);function d(h,p,v,g){if(h){var m=Pu(fn(i.get(["controlStyle",p+"BtnSize"]),o),o),y=[0,-m/2,m,m],b=kUt(i,p+"Icon",y,{x:h[0],y:h[1],originX:o/2,originY:0,rotation:g?-s:0,rectHover:!0,style:l,onclick:v});b.ensureState("emphasis").style=u,r.add(b),jv(b)}}},t.prototype._renderCurrentPointer=function(n,r,a,i){var o=i.getData(),s=i.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Nt(u._handlePointerDrag,u),f.ondragend=Nt(u._handlePointerDragend,u),lee(f,u._progressLine,s,a,i,!0)},onUpdate:function(f){lee(f,u._progressLine,s,a,i)}};this._currentPointer=see(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(n){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},t.prototype._handlePointerDrag=function(n,r,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},t.prototype._handlePointerDragend=function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},t.prototype._pointerChangeTimeline=function(n,r){var a=this._toAxisCoord(n)[0],i=this._axis,o=Il(i.getExtent().slice());a>o[1]&&(a=o[1]),a<o[0]&&(a=o[0]),this._currentPointer.x=a,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=a,s.dirty());var l=this._findNearestTick(a),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var n=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=n.model;n._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(n){var r=this._mainGroup.getLocalTransform();return Iu(n,r,!0)},t.prototype._findNearestTick=function(n){var r=this.model.getData(),a=1/0,i,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-n);c<a&&(a=c,i=l)}),i},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(n){var r=this.model.getCurrentIndex();n==="+"?n=r+1:n==="-"&&(n=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})},t.prototype._updateTicksStatus=function(){var n=this.model.getCurrentIndex(),r=this._tickSymbols,a=this._tickLabels;if(r)for(var i=0;i<r.length;i++)r&&r[i]&&r[i].toggleState("progress",i<n);if(a)for(var i=0;i<a.length;i++)a&&a[i]&&a[i].toggleState("progress",oee(a[i]).dataIndex<=n)},t.type="timeline.slider",t}(wUt);function CUt(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new YN({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new R5({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new Qf}}function TUt(e,t){return Ya(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function kUt(e,t,n,r){var a=r.style,i=hC(e.get(["controlStyle",t]),r,new xn(n[0],n[1],n[2],n[3]));return a&&i.setStyle(a),i}function see(e,t,n,r,a,i){var o=t.get("color");if(a)a.setColor(o),n.add(a),i&&i.onUpdate(a);else{var s=e.get("symbol");a=Ma(s,-1,-1,2,2,o),a.setStyle("strokeNoScale",!0),n.add(a),i&&i.onCreate(a)}var l=t.getItemStyle(["color"]);a.setStyle(l),r=mn({rectHover:!0,z2:100},r,!0);var u=k1(e.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=i0(e.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var f=e.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,a.attr(r),a.updateTransform(),a}function lee(e,t,n,r,a,i){if(!e.dragging){var o=a.getModel("checkpointStyle"),s=r.dataToCoord(a.getData().get("value",n));if(i||!o.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function IUt(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,n,r){var a=n.getComponent("timeline");return a&&t.currentIndex!=null&&(a.setCurrentIndex(t.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),n.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),Xt({currentIndex:a.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,n){var r=n.getComponent("timeline");r&&t.playState!=null&&r.setPlayState(t.playState)})}function EUt(e){var t=e&&e.timeline;st(t)||(t=t?[t]:[]),X(t,function(n){n&&AUt(n)})}function AUt(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),uee(e),pv(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});pv(r,"position")||(r.position=e.controlPosition),r.position==="none"&&!pv(r,"show")&&(r.show=!1,delete r.position),delete e.controlPosition}X(e.data||[],function(a){Jt(a)&&!st(a)&&(!pv(a,"value")&&pv(a,"name")&&(a.value=a.name),uee(a))})}function uee(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},a=r.normal||(r.normal={}),i={normal:1,emphasis:1};X(r,function(o,s){!i[s]&&!pv(a,s)&&(a[s]=o)}),n.label&&!pv(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function pv(e,t){return e.hasOwnProperty(t)}function DUt(e){e.registerComponentModel(pxe),e.registerComponentView(SUt),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),IUt(e),e.registerPreprocessor(EUt)}function OW(e,t){if(!e)return!1;for(var n=st(e)?e:[e],r=0;r<n.length;r++)if(n[r]&&n[r][t])return!0;return!1}function yT(e){kg(e,"label",["show"])}var bT=Vn(),td=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a),this._mergeOption(n,a,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Nn.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},t.prototype.mergeOption=function(n,r){this._mergeOption(n,r,!1,!1)},t.prototype._mergeOption=function(n,r,a,i){var o=this.mainType;a||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=bT(s)[o];if(!l||!l.data){bT(s)[o]=null;return}u?u._mergeOption(l,r,!0):(i&&yT(l),X(l.data,function(c){c instanceof Array?(yT(c[0]),yT(c[1])):yT(c)}),u=this.createMarkerModelFromSeries(l,this,r),rt(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),bT(s)[o]=u},this)},t.prototype.formatTooltip=function(n,r,a){var i=this.getData(),o=this.getRawValue(n),s=i.getName(n);return gi("section",{header:this.name,blocks:[gi("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(n){this._data=n},t.prototype.getDataParams=function(n,r){var a=WN.prototype.getDataParams.call(this,n,r),i=this.__hostSeries;return i&&(a.seriesId=i.id,a.seriesName=i.name,a.seriesType=i.subType),a},t.getMarkerModelFromSeries=function(n,r){return bT(n)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Rn);$a(td,WN.prototype);var NUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,a){return new t(n,r,a)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(td);function r4(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function RUt(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function xT(e,t,n,r,a,i){var o=[],s=Hh(t,r),l=s?t.getCalculationInfo("stackResultDimension"):r,u=PW(t,l,e),c=t.indicesOfNearest(l,u)[0];o[a]=t.get(n,c),o[i]=t.get(l,c);var f=t.get(r,c),d=mc(t.get(r,c));return d=Math.min(d,20),d>=0&&(o[i]=+o[i].toFixed(d)),[o,f]}var OL={min:vn(xT,"min"),max:vn(xT,"max"),average:vn(xT,"average"),median:vn(xT,"median")};function c_(e,t){if(t){var n=e.getData(),r=e.coordinateSystem,a=r&&r.dimensions;if(!RUt(t)&&!st(t.coord)&&st(a)){var i=vxe(t,n,r,e);if(t=en(t),t.type&&OL[t.type]&&i.baseAxis&&i.valueAxis){var o=Cn(a,i.baseAxis.dim),s=Cn(a,i.valueAxis.dim),l=OL[t.type](n,i.baseDataDim,i.valueDataDim,o,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!st(a))t.coord=[];else for(var u=t.coord,c=0;c<2;c++)OL[u[c]]&&(u[c]=PW(n,n.mapDimension(a[c]),u[c]));return t}}function vxe(e,t,n,r){var a={};return e.valueIndex!=null||e.valueDim!=null?(a.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,a.valueAxis=n.getAxis(MUt(r,a.valueDataDim)),a.baseAxis=n.getOtherAxis(a.valueAxis),a.baseDataDim=t.mapDimension(a.baseAxis.dim)):(a.baseAxis=r.getBaseAxis(),a.valueAxis=n.getOtherAxis(a.baseAxis),a.baseDataDim=t.mapDimension(a.baseAxis.dim),a.valueDataDim=t.mapDimension(a.valueAxis.dim)),a}function MUt(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}function f_(e,t){return e&&e.containData&&t.coord&&!r4(t)?e.containData(t.coord):!0}function $Ut(e,t,n){return e&&e.containZone&&t.coord&&n.coord&&!r4(t)&&!r4(n)?e.containZone(t.coord,n.coord):!0}function gxe(e,t){return e?function(n,r,a,i){var o=i<2?n.coord&&n.coord[i]:n.value;return yh(o,t[i])}:function(n,r,a,i){return yh(n.value,t[i])}}function PW(e,t,n){if(n==="average"){var r=0,a=0;return e.each(t,function(i,o){isNaN(i)||(r+=i,a++)}),r/a}else return n==="median"?e.getMedian(t):e.getDataExtent(t)[n==="max"?1:0]}var PL=Vn(),FW=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this.markerGroupMap=Pt()},t.prototype.render=function(n,r,a){var i=this,o=this.markerGroupMap;o.each(function(s){PL(s).keep=!1}),r.eachSeries(function(s){var l=td.getMarkerModelFromSeries(s,i.type);l&&i.renderSeries(s,l,r,a)}),o.each(function(s){!PL(s).keep&&i.group.remove(s.group)})},t.prototype.markKeep=function(n){PL(n).keep=!0},t.prototype.toggleBlurSeries=function(n,r){var a=this;X(n,function(i){var o=td.getMarkerModelFromSeries(i,a.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(r?s0e(l):n5(l))})}})},t.type="marker",t}(na);function cee(e,t,n){var r=t.coordinateSystem;e.each(function(a){var i=e.getItemModel(a),o,s=St(i.get("x"),n.getWidth()),l=St(i.get("y"),n.getHeight());if(!isNaN(s)&&!isNaN(l))o=[s,l];else if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,a));else if(r){var u=e.get(r.dimensions[0],a),c=e.get(r.dimensions[1],a);o=r.dataToPoint([u,c])}isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),e.setItemLayout(a,o)})}var LUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,a){r.eachSeries(function(i){var o=td.getMarkerModelFromSeries(i,"markPoint");o&&(cee(o.getData(),i,a),this.markerGroupMap.get(i.id).updateLayout())},this)},t.prototype.renderSeries=function(n,r,a,i){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new bC),f=OUt(o,n,r);r.setData(f),cee(r.getData(),n,i),f.each(function(d){var h=f.getItemModel(d),p=h.getShallow("symbol"),v=h.getShallow("symbolSize"),g=h.getShallow("symbolRotate"),m=h.getShallow("symbolOffset"),y=h.getShallow("symbolKeepAspect");if(Yt(p)||Yt(v)||Yt(g)||Yt(m)){var b=r.getRawValue(d),x=r.getDataParams(d);Yt(p)&&(p=p(b,x)),Yt(v)&&(v=v(b,x)),Yt(g)&&(g=g(b,x)),Yt(m)&&(m=m(b,x))}var _=h.getModel("itemStyle").getItemStyle(),S=vC(l,"color");_.fill||(_.fill=S),f.setItemVisual(d,{symbol:p,symbolSize:v,symbolRotate:g,symbolOffset:m,symbolKeepAspect:y,style:_})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(d){d.traverse(function(h){sn(h).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||n.get("silent")},t.type="markPoint",t}(FW);function OUt(e,t,n){var r;e?r=ut(e&&e.dimensions,function(s){var l=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return rt(rt({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Zo(r,n),i=ut(n.get("data"),vn(c_,t));e&&(i=sr(i,vn(f_,e)));var o=gxe(!!e,r);return a.initData(i,null,o),a}function PUt(e){e.registerComponentModel(NUt),e.registerComponentView(LUt),e.registerPreprocessor(function(t){OW(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var FUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,a){return new t(n,r,a)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(td),wT=Vn(),BUt=function(e,t,n,r){var a=e.getData(),i;if(st(r))i=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=t.getAxis(r.yAxis!=null?"y":"x"),l=Si(r.yAxis,r.xAxis);else{var u=vxe(r,a,t,e);s=u.valueAxis;var c=lye(a,u.valueDataDim);l=PW(a,c,o)}var f=s.dim==="x"?0:1,d=1-f,h=en(r),p={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,p.coord[d]=1/0;var v=n.get("precision");v>=0&&Kn(l)&&(l=+l.toFixed(Math.min(v,20))),h.coord[f]=p.coord[f]=l,i=[h,p,{type:o,valueIndex:r.valueIndex,value:l}]}else i=[]}var g=[c_(e,i[0]),c_(e,i[1]),rt({},i[2])];return g[2].type=g[2].type||null,mn(g[2],g[0]),mn(g[2],g[1]),g};function BE(e){return!isNaN(e)&&!isFinite(e)}function fee(e,t,n,r){var a=1-e,i=r.dimensions[e];return BE(t[a])&&BE(n[a])&&t[e]===n[e]&&r.getAxis(i).containData(t[e])}function VUt(e,t){if(e.type==="cartesian2d"){var n=t[0].coord,r=t[1].coord;if(n&&r&&(fee(1,n,r,e)||fee(0,n,r,e)))return!0}return f_(e,t[0])&&f_(e,t[1])}function FL(e,t,n,r,a){var i=r.coordinateSystem,o=e.getItemModel(t),s,l=St(o.get("x"),a.getWidth()),u=St(o.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=i.dimensions,f=e.get(c[0],t),d=e.get(c[1],t);s=i.dataToPoint([f,d])}if(s0(i,"cartesian2d")){var h=i.getAxis("x"),p=i.getAxis("y"),c=i.dimensions;BE(e.get(c[0],t))?s[0]=h.toGlobalCoord(h.getExtent()[n?0:1]):BE(e.get(c[1],t))&&(s[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}e.setItemLayout(t,s)}var zUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,a){r.eachSeries(function(i){var o=td.getMarkerModelFromSeries(i,"markLine");if(o){var s=o.getData(),l=wT(o).from,u=wT(o).to;l.each(function(c){FL(l,c,!0,i,a),FL(u,c,!1,i,a)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},t.prototype.renderSeries=function(n,r,a,i){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new iW);this.group.add(c.group);var f=WUt(o,n,r),d=f.from,h=f.to,p=f.line;wT(r).from=d,wT(r).to=h,r.setData(p);var v=r.get("symbol"),g=r.get("symbolSize"),m=r.get("symbolRotate"),y=r.get("symbolOffset");st(v)||(v=[v,v]),st(g)||(g=[g,g]),st(m)||(m=[m,m]),st(y)||(y=[y,y]),f.from.each(function(x){b(d,x,!0),b(h,x,!1)}),p.each(function(x){var _=p.getItemModel(x).getModel("lineStyle").getLineStyle();p.setItemLayout(x,[d.getItemLayout(x),h.getItemLayout(x)]),_.stroke==null&&(_.stroke=d.getItemVisual(x,"style").fill),p.setItemVisual(x,{fromSymbolKeepAspect:d.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(x,"symbolOffset"),fromSymbolRotate:d.getItemVisual(x,"symbolRotate"),fromSymbolSize:d.getItemVisual(x,"symbolSize"),fromSymbol:d.getItemVisual(x,"symbol"),toSymbolKeepAspect:h.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(x,"symbolOffset"),toSymbolRotate:h.getItemVisual(x,"symbolRotate"),toSymbolSize:h.getItemVisual(x,"symbolSize"),toSymbol:h.getItemVisual(x,"symbol"),style:_})}),c.updateData(p),f.line.eachItemGraphicEl(function(x){sn(x).dataModel=r,x.traverse(function(_){sn(_).dataModel=r})});function b(x,_,S){var C=x.getItemModel(_);FL(x,_,S,n,i);var k=C.getModel("itemStyle").getItemStyle();k.fill==null&&(k.fill=vC(l,"color")),x.setItemVisual(_,{symbolKeepAspect:C.get("symbolKeepAspect"),symbolOffset:fn(C.get("symbolOffset",!0),y[S?0:1]),symbolRotate:fn(C.get("symbolRotate",!0),m[S?0:1]),symbolSize:fn(C.get("symbolSize"),g[S?0:1]),symbol:fn(C.get("symbol",!0),v[S?0:1]),style:k})}this.markKeep(c),c.group.silent=r.get("silent")||n.get("silent")},t.type="markLine",t}(FW);function WUt(e,t,n){var r;e?r=ut(e&&e.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return rt(rt({},c),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var a=new Zo(r,n),i=new Zo(r,n),o=new Zo([],n),s=ut(n.get("data"),vn(BUt,t,e,n));e&&(s=sr(s,vn(VUt,e)));var l=gxe(!!e,r);return a.initData(ut(s,function(u){return u[0]}),null,l),i.initData(ut(s,function(u){return u[1]}),null,l),o.initData(ut(s,function(u){return u[2]})),o.hasItemOption=!0,{from:a,to:i,line:o}}function HUt(e){e.registerComponentModel(FUt),e.registerComponentView(zUt),e.registerPreprocessor(function(t){OW(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var UUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,a){return new t(n,r,a)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(td),_T=Vn(),GUt=function(e,t,n,r){var a=r[0],i=r[1];if(!(!a||!i)){var o=c_(e,a),s=c_(e,i),l=o.coord,u=s.coord;l[0]=Si(l[0],-1/0),l[1]=Si(l[1],-1/0),u[0]=Si(u[0],1/0),u[1]=Si(u[1],1/0);var c=F8([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function VE(e){return!isNaN(e)&&!isFinite(e)}function dee(e,t,n,r){var a=1-e;return VE(t[a])&&VE(n[a])}function KUt(e,t){var n=t.coord[0],r=t.coord[1],a={coord:n,x:t.x0,y:t.y0},i={coord:r,x:t.x1,y:t.y1};return s0(e,"cartesian2d")?n&&r&&(dee(1,n,r)||dee(0,n,r))?!0:$Ut(e,a,i):f_(e,a)||f_(e,i)}function hee(e,t,n,r,a){var i=r.coordinateSystem,o=e.getItemModel(t),s,l=St(o.get(n[0]),a.getWidth()),u=St(o.get(n[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var c=e.getValues(["x0","y0"],t),f=e.getValues(["x1","y1"],t),d=i.clampData(c),h=i.clampData(f),p=[];n[0]==="x0"?p[0]=d[0]>h[0]?f[0]:c[0]:p[0]=d[0]>h[0]?c[0]:f[0],n[1]==="y0"?p[1]=d[1]>h[1]?f[1]:c[1]:p[1]=d[1]>h[1]?c[1]:f[1],s=r.getMarkerPosition(p,n,!0)}else{var v=e.get(n[0],t),g=e.get(n[1],t),m=[v,g];i.clampData&&i.clampData(m,m),s=i.dataToPoint(m,!0)}if(s0(i,"cartesian2d")){var y=i.getAxis("x"),b=i.getAxis("y"),v=e.get(n[0],t),g=e.get(n[1],t);VE(v)?s[0]=y.toGlobalCoord(y.getExtent()[n[0]==="x0"?0:1]):VE(g)&&(s[1]=b.toGlobalCoord(b.getExtent()[n[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var pee=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],jUt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,a){r.eachSeries(function(i){var o=td.getMarkerModelFromSeries(i,"markArea");if(o){var s=o.getData();s.each(function(l){var u=ut(pee,function(f){return hee(s,l,f,i,a)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(n,r,a,i){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new an});this.group.add(c.group),this.markKeep(c);var f=YUt(o,n,r);r.setData(f),f.each(function(d){var h=ut(pee,function(k){return hee(f,d,k,n,i)}),p=o.getAxis("x").scale,v=o.getAxis("y").scale,g=p.getExtent(),m=v.getExtent(),y=[p.parse(f.get("x0",d)),p.parse(f.get("x1",d))],b=[v.parse(f.get("y0",d)),v.parse(f.get("y1",d))];Il(y),Il(b);var x=!(g[0]>y[1]||g[1]<y[0]||m[0]>b[1]||m[1]<b[0]),_=!x;f.setItemLayout(d,{points:h,allClipped:_});var S=f.getItemModel(d).getModel("itemStyle").getItemStyle(),C=vC(l,"color");S.fill||(S.fill=C,Dt(S.fill)&&(S.fill=nE(S.fill,.4))),S.stroke||(S.stroke=C),f.setItemVisual(d,"style",S)}),f.diff(_T(c).data).add(function(d){var h=f.getItemLayout(d);if(!h.allClipped){var p=new ls({shape:{points:h.points}});f.setItemGraphicEl(d,p),c.group.add(p)}}).update(function(d,h){var p=_T(c).data.getItemGraphicEl(h),v=f.getItemLayout(d);v.allClipped?p&&c.group.remove(p):(p?Jn(p,{shape:{points:v.points}},r,d):p=new ls({shape:{points:v.points}}),f.setItemGraphicEl(d,p),c.group.add(p))}).remove(function(d){var h=_T(c).data.getItemGraphicEl(d);c.group.remove(h)}).execute(),f.eachItemGraphicEl(function(d,h){var p=f.getItemModel(h),v=f.getItemVisual(h,"style");d.useStyle(f.getItemVisual(h,"style")),Yi(d,vi(p),{labelFetcher:r,labelDataIndex:h,defaultText:f.getName(h)||"",inheritColor:Dt(v.fill)?nE(v.fill,1):"#000"}),ji(d,p),la(d,null,null,p.get(["emphasis","disabled"])),sn(d).dataModel=r}),_T(c).data=f,c.group.silent=r.get("silent")||n.get("silent")},t.type="markArea",t}(FW);function YUt(e,t,n){var r,a,i=["x0","y0","x1","y1"];if(e){var o=ut(e&&e.dimensions,function(u){var c=t.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return rt(rt({},f),{name:u,ordinalMeta:null})});a=ut(i,function(u,c){return{name:u,type:o[c%2].type}}),r=new Zo(a,n)}else a=[{name:"value",type:"float"}],r=new Zo(a,n);var s=ut(n.get("data"),vn(GUt,t,e,n));e&&(s=sr(s,vn(KUt,e)));var l=e?function(u,c,f,d){var h=u.coord[Math.floor(d/2)][d%2];return yh(h,a[d])}:function(u,c,f,d){return yh(u.value,a[d])};return r.initData(s,null,l),r.hasItemOption=!0,r}function XUt(e){e.registerComponentModel(UUt),e.registerComponentView(jUt),e.registerPreprocessor(function(t){OW(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var qUt=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},a4=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},t.prototype._updateSelector=function(n){var r=n.selector,a=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),st(r)&&X(r,function(i,o){Dt(i)&&(i={type:i}),r[o]=mn(i,qUt(a,i.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,a=0;a<n.length;a++){var i=n[a].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var r=[],a=[];n.eachRawSeries(function(l){var u=l.name;a.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();n.isSeriesFiltered(l)||(a=a.concat(d)),d.length?r=r.concat(d):c=!0}else c=!0;c&&Y8(l)&&r.push(l.name)}),this._availableNames=a;var i=this.get("data")||r,o=Pt(),s=ut(i,function(l){return(Dt(l)||Kn(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new pr(l,this,this.ecModel))},this);this._data=sr(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var r=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;X(i,function(o){r[o.get("name")]=!1})}r[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,r=this.option.selected;X(n,function(a){r[a.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;X(n,function(a){var i=a.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},t.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&Cn(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Rn),U0=vn,i4=X,ST=an,mxe=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new ST),this.group.add(this._selectorGroup=new ST),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,r,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var o=n.get("align"),s=n.get("orient");(!o||o==="auto")&&(o=n.get("left")==="right"&&s==="vertical"?"right":"left");var l=n.get("selector",!0),u=n.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,n,r,a,l,s,u);var c=n.getBoxLayoutParams(),f={width:a.getWidth(),height:a.getHeight()},d=n.get("padding"),h=Ya(c,f,d),p=this.layoutInner(n,o,h,i,l,u),v=Ya(Xt({width:p.width,height:p.height},c),f,d);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=ixe(p,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,r,a,i,o,s,l){var u=this.getContentGroup(),c=Pt(),f=r.get("selectedMode"),d=[];a.eachRawSeries(function(h){!h.get("legendHoverLink")&&d.push(h.id)}),i4(r.getData(),function(h,p){var v=h.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var g=new ST;g.newline=!0,u.add(g);return}var m=a.getSeriesByName(v)[0];if(!c.get(v))if(m){var y=m.getData(),b=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),_=y.getVisual("style"),S=this._createItem(m,v,p,h,r,n,b,_,x,f,i);S.on("click",U0(vee,v,null,i,d)).on("mouseover",U0(o4,m.name,null,i,d)).on("mouseout",U0(s4,m.name,null,i,d)),a.ssr&&S.eachChild(function(C){var k=sn(C);k.seriesIndex=m.seriesIndex,k.dataIndex=p,k.ssrType="legend"}),c.set(v,!0)}else a.eachRawSeries(function(C){if(!c.get(v)&&C.legendVisualProvider){var k=C.legendVisualProvider;if(!k.containName(v))return;var T=k.indexOfName(v),I=k.getItemVisual(T,"style"),E=k.getItemVisual(T,"legendIcon"),A=Gs(I.fill);A&&A[3]===0&&(A[3]=.2,I=rt(rt({},I),{fill:Of(A,"rgba")}));var N=this._createItem(C,v,p,h,r,n,{},I,E,f,i);N.on("click",U0(vee,null,v,i,d)).on("mouseover",U0(o4,null,v,i,d)).on("mouseout",U0(s4,null,v,i,d)),a.ssr&&N.eachChild(function(L){var R=sn(L);R.seriesIndex=C.seriesIndex,R.dataIndex=p,R.ssrType="legend"}),c.set(v,!0)}},this)},this),o&&this._createSelector(o,r,i,s,l)},t.prototype._createSelector=function(n,r,a,i,o){var s=this.getSelectorGroup();i4(n,function(u){var c=u.type,f=new Hn({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(f);var d=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);Yi(f,{normal:d,emphasis:h},{defaultText:u.title}),jv(f)})},t.prototype._createItem=function(n,r,a,i,o,s,l,u,c,f,d){var h=n.visualDrawType,p=o.get("itemWidth"),v=o.get("itemHeight"),g=o.isSelected(r),m=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),b=i.get("icon");c=b||c||"roundRect";var x=ZUt(c,i,l,u,h,g,d),_=new ST,S=i.getModel("textStyle");if(Yt(n.getLegendIcon)&&(!b||b==="inherit"))_.add(n.getLegendIcon({itemWidth:p,itemHeight:v,icon:c,iconRotate:m,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));else{var C=b==="inherit"&&n.getData().getVisual("symbol")?m==="inherit"?n.getData().getVisual("symbolRotate"):m:0;_.add(JUt({itemWidth:p,itemHeight:v,icon:c,iconRotate:C,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}var k=s==="left"?p+5:-5,T=s,I=o.get("formatter"),E=r;Dt(I)&&I?E=I.replace("{name}",r??""):Yt(I)&&(E=I(r));var A=g?S.getTextColor():i.get("inactiveColor");_.add(new Hn({style:Fr(S,{text:E,x:k,y:v/2,fill:A,align:T,verticalAlign:"middle"},{inheritColor:A})}));var N=new Bn({shape:_.getBoundingRect(),style:{fill:"transparent"}}),L=i.getModel("tooltip");return L.get("show")&&r0({el:N,componentModel:o,itemName:r,itemTooltipOption:L.option}),_.add(N),_.eachChild(function(R){R.silent=!0}),N.silent=!f,this.getContentGroup().add(_),jv(_),_.__legendDataIndex=a,_},t.prototype.layoutInner=function(n,r,a,i,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Xv(n.get("orient"),l,n.get("itemGap"),a.width,a.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){Xv("horizontal",u,n.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],p=n.get("selectorButtonGap",!0),v=n.getOrient().index,g=v===0?"width":"height",m=v===0?"height":"width",y=v===0?"y":"x";s==="end"?h[v]+=c[g]+p:f[v]+=d[g]+p,h[1-v]+=c[m]/2-d[m]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var b={x:0,y:0};return b[g]=c[g]+p+d[g],b[m]=Math.max(c[m],d[m]),b[y]=Math.min(0,d[y]+h[1-v]),b}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(na);function ZUt(e,t,n,r,a,i,o){function s(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),i4(g,function(y,b){g[b]==="inherit"&&(g[b]=m[b])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:Ay(f,o),u.fill==="inherit"&&(u.fill=r[a]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?r:n).opacity),s(u,r);var d=t.getModel("lineStyle"),h=d.getLineStyle();if(s(h,n),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!i){var p=t.get("inactiveBorderWidth"),v=u[c];u.lineWidth=p==="auto"?r.lineWidth>0&&v?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function JUt(e){var t=e.icon||"roundRect",n=Ma(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function vee(e,t,n,r){s4(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:e??t}),o4(e,t,n,r)}function yxe(e){for(var t=e.getZr().storage.getDisplayList(),n,r=0,a=t.length;r<a&&!(n=t[r].states.emphasis);)r++;return n&&n.hoverLayer}function o4(e,t,n,r){yxe(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function s4(e,t,n,r){yxe(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}function QUt(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var r=0;r<t.length;r++)if(!t[r].isSelected(n.name))return!1;return!0})}function yb(e,t,n){var r=e==="allSelect"||e==="inverseSelect",a={},i=[];n.eachComponent({mainType:"legend",query:t},function(s){r?s[e]():s[e](t.name),gee(s,a),i.push(s.componentIndex)});var o={};return n.eachComponent("legend",function(s){X(a,function(l,u){s[l?"select":"unSelect"](u)}),gee(s,o)}),r?{selected:o,legendIndex:i}:{name:t.name,selected:o}}function gee(e,t){var n=t||{};return X(e.getData(),function(r){var a=r.get("name");if(!(a===`
`||a==="")){var i=e.isSelected(a);Mt(n,a)?n[a]=n[a]&&i:n[a]=i}}),n}function eGt(e){e.registerAction("legendToggleSelect","legendselectchanged",vn(yb,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",vn(yb,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",vn(yb,"inverseSelect")),e.registerAction("legendSelect","legendselected",vn(yb,"select")),e.registerAction("legendUnSelect","legendunselected",vn(yb,"unSelect"))}function bxe(e){e.registerComponentModel(a4),e.registerComponentView(mxe),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,QUt),e.registerSubTypeDefaulter("legend",function(){return"plain"}),eGt(e)}var tGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,r,a){var i=_1(n);e.prototype.init.call(this,n,r,a),mee(this,n,i)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),mee(this,this.option,n)},t.type="legend.scroll",t.defaultOption=vp(a4.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(a4);function mee(e,t,n){var r=e.getOrient(),a=[1,1];a[r.index]=0,Wh(t,n,{type:"box",ignoreSize:!!a})}var yee=an,BL=["width","height"],VL=["x","y"],nGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new yee),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new yee)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,r,a,i,o,s,l){var u=this;e.prototype.renderInner.call(this,n,r,a,i,o,s,l);var c=this._controllerGroup,f=r.get("pageIconSize",!0),d=st(f)?f:[f,f];p("pagePrev",0);var h=r.getModel("pageTextStyle");c.add(new Hn({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,g){var m=v+"DataIndex",y=hC(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:Nt(u._pageGo,u,m,r,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});y.name=v,c.add(y)}},t.prototype.layoutInner=function(n,r,a,i,o,s){var l=this.getSelectorGroup(),u=n.getOrient().index,c=BL[u],f=VL[u],d=BL[1-u],h=VL[1-u];o&&Xv("horizontal",l,n.get("selectorItemGap",!0));var p=n.get("selectorButtonGap",!0),v=l.getBoundingRect(),g=[-v.x,-v.y],m=en(a);o&&(m[c]=a[c]-v[c]-p);var y=this._layoutContentAndController(n,i,m,u,c,d,h,f);if(o){if(s==="end")g[u]+=y[c]+p;else{var b=v[c]+p;g[u]-=b,y[f]-=b}y[c]+=v[c]+p,g[1-u]+=y[h]+y[d]/2-v[d]/2,y[d]=Math.max(y[d],v[d]),y[h]=Math.min(y[h],v[h]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return y},t.prototype._layoutContentAndController=function(n,r,a,i,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;Xv(n.get("orient"),c,n.get("itemGap"),i?a.width:null,i?null:a.height),Xv("horizontal",d,n.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),p=d.getBoundingRect(),v=this._showController=h[o]>a[o],g=[-h.x,-h.y];r||(g[i]=c[u]);var m=[0,0],y=[-p.x,-p.y],b=fn(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(v){var x=n.get("pageButtonPosition",!0);x==="end"?y[i]+=a[o]-p[o]:m[i]+=p[o]+b}y[1-i]+=h[s]/2-p[s]/2,c.setPosition(g),f.setPosition(m),d.setPosition(y);var _={x:0,y:0};if(_[o]=v?a[o]:h[o],_[s]=Math.max(h[s],p[s]),_[l]=Math.min(0,p[l]+y[1-i]),f.__rectSize=a[o],v){var S={x:0,y:0};S[o]=Math.max(a[o]-p[o]-b,0),S[s]=_[s],f.setClipPath(new Bn({shape:S})),f.__rectSize=S[o]}else d.eachChild(function(k){k.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(n);return C.pageIndex!=null&&Jn(c,{x:C.contentPosition[0],y:C.contentPosition[1]},v?n:null),this._updatePageInfoView(n,C),_},t.prototype._pageGo=function(n,r,a){var i=this._getPageInfo(r)[n];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},t.prototype._updatePageInfoView=function(n,r){var a=this._controllerGroup;X(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=r[f]!=null,h=a.childOfName(c);h&&(h.setStyle("fill",d?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var i=a.childOfName("pageText"),o=n.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;i&&o&&i.setStyle("text",Dt(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,o=n.getOrient().index,s=BL[o],l=VL[o],u=this._findTargetItemIndex(r),c=a.children(),f=c[u],d=c.length,h=d?1:0,p={contentPosition:[a.x,a.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return p;var v=x(f);p.contentPosition[o]=-v.s;for(var g=u+1,m=v,y=v,b=null;g<=d;++g)b=x(c[g]),(!b&&y.e>m.s+i||b&&!_(b,m.s))&&(y.i>m.i?m=y:m=b,m&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=m.i),++p.pageCount)),y=b;for(var g=u-1,m=v,y=v,b=null;g>=-1;--g)b=x(c[g]),(!b||!_(y,b.s))&&m.i<y.i&&(y=m,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=b;return p;function x(S){if(S){var C=S.getBoundingRect(),k=C[l]+S[l];return{s:k,e:k+C[s],i:S.__legendDataIndex}}}function _(S,C){return S.e>=C&&S.s<=C+i}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,a=this.getContentGroup(),i;return a.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===n&&(r=s)}),r??i},t.type="legend.scroll",t}(mxe);function rGt(e){e.registerAction("legendScroll","legendscroll",function(t,n){var r=t.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(r)})})}function aGt(e){kn(bxe),e.registerComponentModel(tGt),e.registerComponentView(nGt),rGt(e)}function iGt(e){kn(bxe),kn(aGt)}var oGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.inside",t.defaultOption=vp(u_.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(u_),BW=Vn();function sGt(e,t,n){BW(e).coordSysRecordMap.each(function(r){var a=r.dataZoomInfoMap.get(t.uid);a&&(a.getRange=n)})}function lGt(e,t){for(var n=BW(e).coordSysRecordMap,r=n.keys(),a=0;a<r.length;a++){var i=r[a],o=n.get(i),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||xxe(n,o))}}}function xxe(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function uGt(e,t){var n={model:t,containsPoint:vn(fGt,t),dispatchAction:vn(cGt,e),dataZoomInfoMap:null,controller:null},r=n.controller=new CC(e.getZr());return X(["pan","zoom","scrollMove"],function(a){r.on(a,function(i){var o=[];n.dataZoomInfoMap.each(function(s){if(i.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,n.model.mainType,n.controller,i);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&n.dispatchAction(o)})}),n}function cGt(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function fGt(e,t,n,r){return e.coordinateSystem.containPoint([n,r])}function dGt(e){var t,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return e.each(function(i){var o=i.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[n+s]>r[n+t]&&(t=s),a=a&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function hGt(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,n){var r=BW(n),a=r.coordSysRecordMap||(r.coordSysRecordMap=Pt());a.each(function(i){i.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var o=nxe(i);X(o.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,uGt(n,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Pt());c.set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),a.each(function(i){var o=i.controller,s,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){xxe(a,i);return}var c=dGt(l);o.enable(c.controlType,c.opt),o.setPointerChecker(i.containsPoint),T1(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var pGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return t.prototype.render=function(n,r,a){if(e.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),sGt(a,n,{pan:Nt(zL.pan,this),zoom:Nt(zL.zoom,this),scrollMove:Nt(zL.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){lGt(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(DW),zL={zoom:function(e,t,n,r){var a=this.range,i=a.slice(),o=e.axisModels[0];if(o){var s=WL[t](null,[r.originX,r.originY],o,n,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/r.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(u0(0,i,[0,100],0,c.minSpan,c.maxSpan),this.range=i,a[0]!==i[0]||a[1]!==i[1])return i}},pan:bee(function(e,t,n,r,a,i){var o=WL[r]([i.oldX,i.oldY],[i.newX,i.newY],t,a,n);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:bee(function(e,t,n,r,a,i){var o=WL[r]([0,0],[i.scrollDelta,i.scrollDelta],t,a,n);return o.signal*(e[1]-e[0])*i.scrollDelta})};function bee(e){return function(t,n,r,a){var i=this.range,o=i.slice(),s=t.axisModels[0];if(s){var l=e(o,s,t,n,r,a);if(u0(l,o,[0,100],"all"),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}}}var WL={grid:function(e,t,n,r,a){var i=n.axis,o={},s=a.model.coordinateSystem.getRect();return e=e||[0,0],i.dim==="x"?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o},polar:function(e,t,n,r,a){var i=n.axis,o={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),n.mainType==="radiusAxis"?(o.pixel=t[0]-e[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=i.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=i.inverse?-1:1),o},singleAxis:function(e,t,n,r,a){var i=n.axis,o=a.model.coordinateSystem.getRect(),s={};return e=e||[0,0],i.orient==="horizontal"?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s}};function wxe(e){NW(e),e.registerComponentModel(oGt),e.registerComponentView(pGt),hGt(e)}var vGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=vp(u_.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(u_),bb=Bn,xee=7,gGt=1,HL=30,mGt=7,xb="horizontal",wee="vertical",yGt=5,bGt=["line","bar","candlestick","scatter"],xGt={easing:"cubicOut",duration:100,delay:0},wGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return t.prototype.init=function(n,r){this.api=r,this._onBrush=Nt(this._onBrush,this),this._onBrushEnd=Nt(this._onBrushEnd,this)},t.prototype.render=function(n,r,a,i){if(e.prototype.render.apply(this,arguments),T1(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){qw(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new an;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var n=this.dataZoomModel,r=this.api,a=n.get("brushSelect"),i=a?mGt:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===xb?{right:s.width-o.x-o.width,top:s.height-HL-xee-i,width:o.width,height:HL}:{right:xee,top:o.y,width:HL,height:o.height},u=_1(n.option);X(["right","top","width","height"],function(f){u[f]==="ph"&&(u[f]=l[f])});var c=Ya(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===wee&&this._size.reverse()},t.prototype._positionGroup=function(){var n=this.group,r=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===xb&&!o?{scaleY:l?1:-1,scaleX:1}:a===xb&&o?{scaleY:l?1:-1,scaleX:-1}:a===wee&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=n.getBoundingRect([s]);n.x=r.x-u.x,n.y=r.y-u.y,n.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var n=this.dataZoomModel,r=this._size,a=this._displayables.sliderGroup,i=n.get("brushSelect");a.add(new bb({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var o=new bb({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:Nt(this._onClickPanel,this)}),s=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(o)},t.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var r=this._size,a=this._shadowSize||[],i=n.series,o=i.getRawData(),s=i.getShadowDim&&i.getShadowDim(),l=s&&o.getDimensionInfo(s)?i.getShadowDim():n.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==a[0]||r[1]!==a[1]){var f=o.getDataExtent(l),d=(f[1]-f[0])*.3;f=[f[0]-d,f[1]+d];var h=[0,r[1]],p=[0,r[0]],v=[[r[0],0],[0,0]],g=[],m=p[1]/(o.count()-1),y=0,b=Math.round(o.count()/r[0]),x;o.each([l],function(T,I){if(b>0&&I%b){y+=m;return}var E=T==null||isNaN(T)||T==="",A=E?0:cr(T,f,h,!0);E&&!x&&I?(v.push([v[v.length-1][0],0]),g.push([g[g.length-1][0],0])):!E&&x&&(v.push([y,0]),g.push([y,0])),v.push([y,A]),g.push([y,A]),y+=m,x=E}),u=this._shadowPolygonPts=v,c=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var _=this.dataZoomModel;function S(T){var I=_.getModel(T?"selectedDataBackground":"dataBackground"),E=new an,A=new ls({shape:{points:u},segmentIgnoreThreshold:1,style:I.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),N=new cs({shape:{points:c},segmentIgnoreThreshold:1,style:I.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return E.add(A),E.add(N),E}for(var C=0;C<3;C++){var k=S(C===1);this._displayables.sliderGroup.add(k),this._displayables.dataShadowSegs.push(k)}},t.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,r=n.get("showDataShadow");if(r!==!1){var a,i=this.ecModel;return n.eachTargetAxis(function(o,s){var l=n.getAxisProxy(o,s).getTargetSeriesModels();X(l,function(u){if(!a&&!(r!==!0&&Cn(bGt,u.get("type"))<0)){var c=i.getComponent(ih(o),s).axis,f=_Gt(o),d,h=u.coordinateSystem;f!=null&&h.getOtherAxis&&(d=h.getOtherAxis(c).inverse),f=u.getData().mapDimension(f),a={thisAxis:c,series:u,thisDim:o,otherDim:f,otherAxisInverse:d}}},this)},this),a}},t.prototype._renderHandle=function(){var n=this.group,r=this._displayables,a=r.handles=[null,null],i=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),d=r.filler=new bb({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(d),o.add(new bb({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:gGt,fill:"rgba(0,0,0,0)"}})),X([0,1],function(b){var x=l.get("handleIcon");!mE[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var _=Ma(x,-1,0,2,2,null,!0);_.attr({cursor:_ee(this._orient),draggable:!0,drift:Nt(this._onDragMove,this,b),ondragend:Nt(this._onDragEnd,this),onmouseover:Nt(this._showDataInfo,this,!0),onmouseout:Nt(this._showDataInfo,this,!1),z2:5});var S=_.getBoundingRect(),C=l.get("handleSize");this._handleHeight=St(C,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),jv(_);var k=l.get("handleColor");k!=null&&(_.style.fill=k),o.add(a[b]=_);var T=l.getModel("textStyle"),I=l.get("handleLabel")||{},E=I.show||!1;n.add(i[b]=new Hn({silent:!0,invisible:!E,style:Fr(T,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:T.getTextColor(),font:T.getFont()}),z2:10}))},this);var h=d;if(f){var p=St(l.get("moveHandleSize"),s[1]),v=r.moveHandle=new Bn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),g=p*.8,m=r.moveHandleIcon=Ma(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);m.silent=!0,m.y=s[1]+p/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(p,10));h=r.moveZone=new Bn({invisible:!0,shape:{y:s[1]-y,height:p+y}}),h.on("mouseover",function(){u.enterEmphasis(v)}).on("mouseout",function(){u.leaveEmphasis(v)}),o.add(v),o.add(m),o.add(h)}h.attr({draggable:!0,cursor:_ee(this._orient),drift:Nt(this._onDragMove,this,"all"),ondragstart:Nt(this._showDataInfo,this,!0),ondragend:Nt(this._onDragEnd,this),onmouseover:Nt(this._showDataInfo,this,!0),onmouseout:Nt(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[cr(n[0],[0,100],r,!0),cr(n[1],[0,100],r,!0)]},t.prototype._updateInterval=function(n,r){var a=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];u0(r,i,o,a.get("zoomLock")?"all":n,s.minSpan!=null?cr(s.minSpan,l,o,!0):null,s.maxSpan!=null?cr(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=Il([cr(i[0],o,l,!0),cr(i[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(n){var r=this._displayables,a=this._handleEnds,i=Il(a.slice()),o=this._size;X([0,1],function(h){var p=r.handles[h],v=this._handleHeight;p.attr({scaleX:v/2,scaleY:v/2,x:a[h]+(h?-1:1),y:o[1]/2-v/2})},this),r.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var s={x:i[0],width:i[1]-i[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,i[0],i[1],o[0]],c=0;c<l.length;c++){var f=l[c],d=f.getClipPath();d||(d=new Bn,f.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(n)},t.prototype._updateDataInfo=function(n){var r=this.dataZoomModel,a=this._displayables,i=a.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=n?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var d=Il(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(p){var v=Yv(a.handles[p].parent,this.group),g=MN(p===0?"right":"left",v),m=this._handleWidth/2+yGt,y=Iu([d[p]+(p===0?-m:m),this._size[1]/2],v);i[p].setStyle({x:y[0],y:y[1],verticalAlign:o===xb?"middle":g,align:o===xb?g:"center",text:s[p]})}},t.prototype._formatLabel=function(n,r){var a=this.dataZoomModel,i=a.get("labelFormatter"),o=a.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=n==null||isNaN(n)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(o,20));return Yt(i)?i(n,s):Dt(i)?i.replace("{value}",s):s},t.prototype._showDataInfo=function(n){var r=this.dataZoomModel.get("handleLabel")||{},a=r.show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=i.get("show")||!1,s=n||this._dragging?o:a,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(n,r,a,i){this._dragging=!0,Yf(i.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Iu([r,a],o,!0),l=this._updateInterval(n,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(n){var r=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,s=this._updateInterval("all",a[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(n){var r=n.offsetX,a=n.offsetY;this._brushStart=new bn(r,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(n){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var a=r.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=Il([cr(a.x,o,s,!0),cr(a.x+a.width,o,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(n){this._brushing&&(Yf(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},t.prototype._updateBrushRect=function(n,r){var a=this._displayables,i=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new bb({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(n,r),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},t.prototype._dispatchZoomAction=function(n){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?xGt:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var n,r=nxe(this.dataZoomModel).infoList;if(!n&&r.length){var a=r[0].model.coordinateSystem;n=a.getRect&&a.getRect()}if(!n){var i=this.api.getWidth(),o=this.api.getHeight();n={x:i*.2,y:o*.2,width:i*.6,height:o*.6}}return n},t.type="dataZoom.slider",t}(DW);function _Gt(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function _ee(e){return e==="vertical"?"ns-resize":"ew-resize"}function _xe(e){e.registerComponentModel(vGt),e.registerComponentView(wGt),NW(e)}function SGt(e){kn(wxe),kn(_xe)}var Sxe={get:function(e,t,n){var r=en((CGt[e]||{})[t]);return n&&st(r)?r[r.length-1]:r}},CGt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},See=ci.mapVisual,TGt=ci.eachVisual,kGt=st,Cee=X,IGt=Il,EGt=cr,zE=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return t.prototype.init=function(n,r,a){this.mergeDefaultAndTheme(n,a)},t.prototype.optionUpdated=function(n,r){var a=this.option;!r&&dxe(a,n,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(n){var r=this.stateList;n=Nt(n,this),this.controllerVisuals=t4(this.option.controller,r,n),this.targetVisuals=t4(this.option.target,r,n)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var n=this.option.seriesIndex,r=[];return n==null||n==="all"?this.ecModel.eachSeries(function(a,i){r.push(i)}):r=Ir(n),r},t.prototype.eachTargetSeries=function(n,r){X(this.getTargetSeriesIndices(),function(a){var i=this.ecModel.getSeriesByIndex(a);i&&n.call(r,i)},this)},t.prototype.isTargetSeries=function(n){var r=!1;return this.eachTargetSeries(function(a){a===n&&(r=!0)}),r},t.prototype.formatValueText=function(n,r,a){var i=this.option,o=i.precision,s=this.dataBound,l=i.formatter,u;a=a||["<",">"],st(n)&&(n=n.slice(),u=!0);var c=r?n:u?[f(n[0]),f(n[1])]:f(n);if(Dt(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Yt(l))return u?l(n[0],n[1]):l(n);if(u)return n[0]===s[0]?a[0]+" "+c[1]:n[1]===s[1]?a[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(d){return d===s[0]?"min":d===s[1]?"max":(+d).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var n=this.option,r=IGt([n.min,n.max]);this._dataExtent=r},t.prototype.getDataDimensionIndex=function(n){var r=this.option.dimension;if(r!=null)return n.getDimensionIndex(r);for(var a=n.dimensions,i=a.length-1;i>=0;i--){var o=a[i],s=n.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var n=this.ecModel,r=this.option,a={inRange:r.inRange,outOfRange:r.outOfRange},i=r.target||(r.target={}),o=r.controller||(r.controller={});mn(i,a),mn(o,a);var s=this.isCategory();l.call(this,i),l.call(this,o),u.call(this,i,"inRange","outOfRange"),c.call(this,o);function l(f){kGt(r.color)&&!f.inRange&&(f.inRange={color:r.color.slice().reverse()}),f.inRange=f.inRange||{color:n.get("gradientColor")}}function u(f,d,h){var p=f[d],v=f[h];p&&!v&&(v=f[h]={},Cee(p,function(g,m){if(ci.isValidType(m)){var y=Sxe.get(m,"inactive",s);y!=null&&(v[m]=y,m==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function c(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,h=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),v=this.getItemSymbol(),g=v||"roundRect";Cee(this.stateList,function(m){var y=this.itemSize,b=f[m];b||(b=f[m]={color:s?p:[p]}),b.symbol==null&&(b.symbol=d&&en(d)||(s?g:[g])),b.symbolSize==null&&(b.symbolSize=h&&en(h)||(s?y[0]:[y[0],y[0]])),b.symbol=See(b.symbol,function(S){return S==="none"?g:S});var x=b.symbolSize;if(x!=null){var _=-1/0;TGt(x,function(S){S>_&&(_=S)}),b.symbolSize=See(x,function(S){return EGt(S,[0,_],[0,y[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(n){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(n){return null},t.prototype.getVisualMeta=function(n){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Rn),Tee=[20,140],AGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(n,r){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=Tee[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=Tee[1])},t.prototype._resetRange=function(){var n=this.getExtent(),r=this.option.range;!r||r.auto?(n.auto=1,this.option.range=n):st(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],n[0]),r[1]=Math.min(r[1],n[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),X(this.stateList,function(n){var r=this.option.controller[n].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},t.prototype.setSelected=function(n){this.option.range=n.slice(),this._resetRange()},t.prototype.getSelected=function(){var n=this.getExtent(),r=Il((this.get("range")||[]).slice());return r[0]>n[1]&&(r[0]=n[1]),r[1]>n[1]&&(r[1]=n[1]),r[0]<n[0]&&(r[0]=n[0]),r[1]<n[0]&&(r[1]=n[0]),r},t.prototype.getValueState=function(n){var r=this.option.range,a=this.getExtent();return(r[0]<=a[0]||r[0]<=n)&&(r[1]>=a[1]||n<=r[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var r=[];return this.eachTargetSeries(function(a){var i=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(s,l){n[0]<=s&&s<=n[1]&&i.push(l)},this),r.push({seriesId:a.id,dataIndex:i})},this),r},t.prototype.getVisualMeta=function(n){var r=kee(this,"outOfRange",this.getExtent()),a=kee(this,"inRange",this.option.range.slice()),i=[];function o(h,p){i.push({value:h,color:n(h,p)})}for(var s=0,l=0,u=a.length,c=r.length;l<c&&(!a.length||r[l]<=a[0]);l++)r[l]<a[s]&&o(r[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&i.length&&o(a[s],"outOfRange"),o(a[s],"inRange");for(var f=1;l<c;l++)(!a.length||a[a.length-1]<r[l])&&(f&&(i.length&&o(i[i.length-1].value,"outOfRange"),f=0),o(r[l],"outOfRange"));var d=i.length;return{stops:i,outerColors:[d?i[0].color:"transparent",d?i[d-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=vp(zE.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(zE);function kee(e,t,n){if(n[0]===n[1])return n.slice();for(var r=200,a=(n[1]-n[0])/r,i=n[0],o=[],s=0;s<=r&&i<n[1];s++)o.push(i),i+=a;return o.push(n[1]),o}var Cxe=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return t.prototype.init=function(n,r){this.ecModel=n,this.api=r},t.prototype.render=function(n,r,a,i){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender(n,r,a,i)},t.prototype.renderBackground=function(n){var r=this.visualMapModel,a=w1(r.get("padding")||0),i=n.getBoundingRect();n.add(new Bn({z2:-1,silent:!0,shape:{x:i.x-a[3],y:i.y-a[0],width:i.width+a[3]+a[1],height:i.height+a[0]+a[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},t.prototype.getControllerVisual=function(n,r,a){a=a||{};var i=a.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(h){return s[h]}function c(h,p){s[h]=p}var f=o.controllerVisuals[i||o.getValueState(n)],d=ci.prepareVisualTypes(f);return X(d,function(h){var p=f[h];a.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",p=f.__alphaForOpacity),ci.dependsOn(h,r)&&p&&p.applyVisual(n,u,c)}),s[r]},t.prototype.positionGroup=function(n){var r=this.visualMapModel,a=this.api;VN(n,r.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},t.prototype.doRender=function(n,r,a,i){},t.type="visualMap",t}(na),Iee=[["left","right","width"],["top","bottom","height"]];function Txe(e,t,n){var r=e.option,a=r.align;if(a!=null&&a!=="auto")return a;for(var i={width:t.getWidth(),height:t.getHeight()},o=r.orient==="horizontal"?1:0,s=Iee[o],l=[0,null,10],u={},c=0;c<3;c++)u[Iee[1-o][c]]=l[c],u[s[c]]=c===2?n[0]:r[s[c]];var f=[["x","width",3],["y","height",0]][o],d=Ya(u,i,r.padding);return s[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<i[f[1]]*.5?0:1]}function Nk(e,t){return X(e||[],function(n){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var nc=cr,DGt=X,Eee=Math.min,UL=Math.max,NGt=12,RGt=6,MGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return t.prototype.init=function(n,r){e.prototype.init.call(this,n,r),this._hoverLinkFromSeriesMouseOver=Nt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Nt(this._hideIndicator,this)},t.prototype.doRender=function(n,r,a,i){(!i||i.type!=="selectDataRange"||i.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var n=this.visualMapModel,r=this.group;this._orient=n.get("orient"),this._useHandle=n.get("calculable"),this._resetInterval(),this._renderBar(r);var a=n.get("text");this._renderEndsText(r,a,0),this._renderEndsText(r,a,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},t.prototype._renderEndsText=function(n,r,a){if(r){var i=r[1-a];i=i!=null?i+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,a===0?-s:l[1]+s],u),f=this._applyTransform(a===0?"bottom":"top",u),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Hn({style:Fr(h,{x:c[0],y:c[1],verticalAlign:d==="horizontal"?"middle":f,align:d==="horizontal"?f:"center",text:i})}))}},t.prototype._renderBar=function(n){var r=this.visualMapModel,a=this._shapes,i=r.itemSize,o=this._orient,s=this._useHandle,l=Txe(r,this.api,i),u=a.mainGroup=this._createBarGroup(l),c=new an;u.add(c),c.add(a.outOfRange=Aee()),c.add(a.inRange=Aee(null,s?Nee(this._orient):null,Nt(this._dragHandle,this,"all",!1),Nt(this._dragHandle,this,"all",!0))),c.setClipPath(new Bn({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var f=r.textStyleModel.getTextRect("国"),d=UL(f.width,f.height);s&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(r,u,0,i,d,o),this._createHandle(r,u,1,i,d,o)),this._createIndicator(r,u,i,d,o),n.add(u)},t.prototype._createHandle=function(n,r,a,i,o,s){var l=Nt(this._dragHandle,this,a,!1),u=Nt(this._dragHandle,this,a,!0),c=Pu(n.get("handleSize"),i[0]),f=Ma(n.get("handleIcon"),-c/2,-c/2,c,c,null,!0),d=Nee(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){Yf(m.event)}}),f.x=i[0]/2,f.useStyle(n.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=n.getModel(["emphasis","handleStyle"]).getItemStyle(),Iv(f,!0),r.add(f);var h=this.visualMapModel.textStyleModel,p=new Hn({cursor:d,draggable:!0,drift:l,onmousemove:function(m){Yf(m.event)},ondragend:u,style:Fr(h,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var v=[c,0],g=this._shapes;g.handleThumbs[a]=f,g.handleLabelPoints[a]=v,g.handleLabels[a]=p},t.prototype._createIndicator=function(n,r,a,i,o){var s=Pu(n.get("indicatorSize"),a[0]),l=Ma(n.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var u=n.getModel("indicatorStyle").getItemStyle();if(l instanceof Ri){var c=l.style;l.useStyle(rt({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var f=this.visualMapModel.textStyleModel,d=new Hn({silent:!0,invisible:!0,style:Fr(f,{x:0,y:0,text:""})});this.group.add(d);var h=[(o==="horizontal"?i/2:RGt)+a[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=d,p.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(n,r,a,i){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([a,i],this._shapes.mainGroup,!0);this._updateInterval(n,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():Dee(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},t.prototype._resetInterval=function(){var n=this.visualMapModel,r=this._dataInterval=n.getSelected(),a=n.getExtent(),i=[0,n.itemSize[1]];this._handleEnds=[nc(r[0],a,i,!0),nc(r[1],a,i,!0)]},t.prototype._updateInterval=function(n,r){r=r||0;var a=this.visualMapModel,i=this._handleEnds,o=[0,a.itemSize[1]];u0(r,i,o,n,0);var s=a.getExtent();this._dataInterval=[nc(i[0],o,s,!0),nc(i[1],o,s,!0)]},t.prototype._updateView=function(n){var r=this.visualMapModel,a=r.getExtent(),i=this._shapes,o=[0,r.itemSize[1]],s=n?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,a,s,"inRange"),u=this._createBarVisual(a,a,o,"outOfRange");i.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),i.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(n,r,a,i){var o={forceState:i,convertOpacityToAlpha:!0},s=this._makeColorGradient(n,o),l=[this.getControllerVisual(n[0],"symbolSize",o),this.getControllerVisual(n[1],"symbolSize",o)],u=this._createBarPoints(a,l);return{barColor:new fC(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(n,r){var a=100,i=[],o=(n[1]-n[0])/a;i.push({color:this.getControllerVisual(n[0],"color",r),offset:0});for(var s=1;s<a;s++){var l=n[0]+o*s;if(l>n[1])break;i.push({color:this.getControllerVisual(l,"color",r),offset:s/a})}return i.push({color:this.getControllerVisual(n[1],"color",r),offset:1}),i},t.prototype._createBarPoints=function(n,r){var a=this.visualMapModel.itemSize;return[[a[0]-r[0],n[0]],[a[0],n[0]],[a[0],n[1]],[a[0]-r[1],n[1]]]},t.prototype._createBarGroup=function(n){var r=this._orient,a=this.visualMapModel.get("inverse");return new an(r==="horizontal"&&!a?{scaleX:n==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&a?{scaleX:n==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!a?{scaleX:n==="left"?1:-1,scaleY:-1}:{scaleX:n==="left"?1:-1})},t.prototype._updateHandle=function(n,r){if(this._useHandle){var a=this._shapes,i=this.visualMapModel,o=a.handleThumbs,s=a.handleLabels,l=i.itemSize,u=i.getExtent(),c=this._applyTransform("left",a.mainGroup);DGt([0,1],function(f){var d=o[f];d.setStyle("fill",r.handlesColor[f]),d.y=n[f];var h=nc(n[f],[0,l[1]],u,!0),p=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=p/l[0],d.x=l[0]-p/2;var v=Iu(a.handleLabelPoints[f],Yv(d,this.group));if(this._orient==="horizontal"){var g=c==="left"||c==="top"?(l[0]-p)/2:(l[0]-p)/-2;v[1]+=g}s[f].setStyle({x:v[0],y:v[1],text:i.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",a.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(n,r,a,i){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},h=this.getControllerVisual(n,"color",d),p=this.getControllerVisual(n,"symbolSize"),v=nc(n,s,u,!0),g=l[0]-p/2,m={x:f.x,y:f.y};f.y=v,f.x=g;var y=Iu(c.indicatorLabelPoint,Yv(f,this.group)),b=c.indicatorLabel;b.attr("invisible",!1);var x=this._applyTransform("left",c.mainGroup),_=this._orient,S=_==="horizontal";b.setStyle({text:(a||"")+o.formatValueText(r),verticalAlign:S?x:"middle",align:S?"center":x});var C={x:g,y:v,style:{fill:h}},k={style:{x:y[0],y:y[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var T={duration:100,easing:"cubicInOut",additive:!0};f.x=m.x,f.y=m.y,f.animateTo(C,T),b.animateTo(k,T)}else f.attr(C),b.attr(k);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var E=0;E<I.length;E++)this.api.enterBlur(I[E])}},t.prototype._enableHoverLinkToSeries=function(){var n=this;this._shapes.mainGroup.on("mousemove",function(r){if(n._hovering=!0,!n._dragging){var a=n.visualMapModel.itemSize,i=n._applyTransform([r.offsetX,r.offsetY],n._shapes.mainGroup,!0,!0);i[1]=Eee(UL(0,i[1]),a[1]),n._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=a[0])}}).on("mouseout",function(){n._hovering=!1,!n._dragging&&n._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(n,r){var a=this.visualMapModel,i=a.itemSize;if(a.option.hoverLink){var o=[0,i[1]],s=a.getExtent();n=Eee(UL(o[0],n),o[1]);var l=$Gt(a,s,o),u=[n-l,n+l],c=nc(n,o,s,!0),f=[nc(u[0],o,s,!0),nc(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),r&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c,"≈ ",l));var d=this._hoverLinkDataIndices,h=[];(r||Dee(a))&&(h=this._hoverLinkDataIndices=a.findTargetDataIndices(f));var p=zNt(d,h);this._dispatchHighDown("downplay",Nk(p[0],a)),this._dispatchHighDown("highlight",Nk(p[1],a))}},t.prototype._hoverLinkFromSeriesMouseOver=function(n){var r;if(Av(n.target,function(l){var u=sn(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var a=this.ecModel.getSeriesByIndex(r.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(a)){var o=a.getData(r.dataType),s=o.getStore().get(i.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0),n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var a=0;a<r.length;a++)this.api.leaveBlur(r[a])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Nk(n,this.visualMapModel)),n.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver),n.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(n,r,a,i){var o=Yv(r,i?null:this.group);return st(n)?Iu(n,o,a):MN(n,o,a)},t.prototype._dispatchHighDown=function(n,r){r&&r.length&&this.api.dispatchAction({type:n,batch:r})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(Cxe);function Aee(e,t,n,r){return new ls({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(a){Yf(a.event)},ondragend:r})}function $Gt(e,t,n){var r=NGt/2,a=e.get("hoverLinkDataSize");return a&&(r=nc(a,t,n,!0)/2),r}function Dee(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function Nee(e){return e==="vertical"?"ns-resize":"ew-resize"}var LGt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},OGt=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})},PGt=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(r){var a=e.pipelineContext;!r.isTargetSeries(e)||a&&a.large||n.push(iUt(r.stateList,r.targetVisuals,Nt(r.getValueState,r),r.getDataDimensionIndex(e.getData())))}),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),r=[];t.eachComponent("visualMap",function(a){if(a.isTargetSeries(e)){var i=a.getVisualMeta(Nt(FGt,null,e,a))||{stops:[],outerColors:[]},o=a.getDataDimensionIndex(n);o>=0&&(i.dimension=o,r.push(i))}}),e.getData().setVisual("visualMeta",r)}}];function FGt(e,t,n,r){for(var a=t.targetVisuals[r],i=ci.prepareVisualTypes(a),o={color:vC(e.getData(),"color")},s=0,l=i.length;s<l;s++){var u=i[s],c=a[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(n,f,d)}return o.color;function f(h){return o[h]}function d(h,p){o[h]=p}}var Ree=X;function BGt(e){var t=e&&e.visualMap;st(t)||(t=t?[t]:[]),Ree(t,function(n){if(n){G0(n,"splitList")&&!G0(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var r=n.pieces;r&&st(r)&&Ree(r,function(a){Jt(a)&&(G0(a,"start")&&!G0(a,"min")&&(a.min=a.start),G0(a,"end")&&!G0(a,"max")&&(a.max=a.end))})}})}function G0(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var Mee=!1;function kxe(e){Mee||(Mee=!0,e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),e.registerAction(LGt,OGt),X(PGt,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(BGt))}function Ixe(e){e.registerComponentModel(AGt),e.registerComponentView(MGt),kxe(e)}var VGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return t.prototype.optionUpdated=function(n,r){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],zGt[this._mode].call(this,this._pieceList),this._resetSelected(n,r);var i=this.option.categories;this.resetVisual(function(o,s){a==="categories"?(o.mappingMethod="category",o.categories=en(i)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=ut(this._pieceList,function(l){return l=en(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var n=this.option,r={},a=ci.listVisualTypes(),i=this.isCategory();X(n.pieces,function(s){X(a,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),X(r,function(s,l){var u=!1;X(this.stateList,function(c){u=u||o(n,c,l)||o(n.target,c,l)},this),!u&&X(this.stateList,function(c){(n[c]||(n[c]={}))[l]=Sxe.get(l,c==="inRange"?"active":"inactive",i)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(n,r){var a=this.option,i=this._pieceList,o=(r?a:n).selected||{};if(a.selected=o,X(i,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),a.selectedMode==="single"){var s=!1;X(i,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(n){return this._mode==="categories"?n.value+"":n.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(n){this.option.selected=en(n)},t.prototype.getValueState=function(n){var r=ci.findPieceIndex(n,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var r=[],a=this._pieceList;return this.eachTargetSeries(function(i){var o=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=ci.findPieceIndex(l,a);c===n&&o.push(u)},this),r.push({seriesId:i.id,dataIndex:o})},this),r},t.prototype.getRepresentValue=function(n){var r;if(this.isCategory())r=n.value;else if(n.value!=null)r=n.value;else{var a=n.interval||[];r=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return r},t.prototype.getVisualMeta=function(n){if(this.isCategory())return;var r=[],a=["",""],i=this;function o(c,f){var d=i.getRepresentValue({interval:c});f||(f=i.getValueState(d));var h=n(d,f);c[0]===-1/0?a[0]=h:c[1]===1/0?a[1]=h:r.push({value:c[0],color:h},{value:c[1],color:h})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return X(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:r,outerColors:a}},t.type="visualMap.piecewise",t.defaultOption=vp(zE.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(zE),zGt={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),r=this.getExtent(),a=t.splitNumber;a=Math.max(parseInt(a,10),1),t.splitNumber=a;for(var i=(r[1]-r[0])/a;+i.toFixed(n)!==i&&n<5;)n++;t.precision=n,i=+i.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<a;s+=i,o++){var l=o===a-1?r[1]:s+i;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),kY(e),X(e,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(e){var t=this.option;X(t.categories,function(n){e.push({text:this.formatValueText(n,!0),value:n})},this),$ee(t,e)},pieces:function(e){var t=this.option;X(t.pieces,function(n,r){Jt(n)||(n={value:n});var a={text:"",index:r};if(n.label!=null&&(a.text=n.label),n.hasOwnProperty("value")){var i=a.value=n.value;a.interval=[i,i],a.close=[1,1]}else{for(var o=a.interval=[],s=a.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],h=0;h<3&&o[f]==null;h++)o[f]=n[d[h]],s[f]=l[h],c[f]=h===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(a.value=o[0])}a.visual=ci.retrieveVisuals(n),e.push(a)},this),$ee(t,e),kY(e),X(e,function(n){var r=n.close,a=[["<","≤"][r[1]],[">","≥"][r[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,a)},this)}};function $ee(e,t){var n=e.inverse;(e.orient==="vertical"?!n:n)&&t.reverse()}var WGt=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.doRender=function(){var n=this.group;n.removeAll();var r=this.visualMapModel,a=r.get("textGap"),i=r.textStyleModel,o=i.getFont(),s=i.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),f=c.endsText,d=Si(r.get("showLabel",!0),!f),h=!r.get("selectedMode");f&&this._renderEndsText(n,f[0],u,d,l),X(c.viewPieceList,function(p){var v=p.piece,g=new an;g.onclick=Nt(this._onItemClick,this,v),this._enableHoverLink(g,p.indexInModelPieceList);var m=r.getRepresentValue(v);if(this._createItemSymbol(g,m,[0,0,u[0],u[1]],h),d){var y=this.visualMapModel.getValueState(m);g.add(new Hn({style:{x:l==="right"?-a:u[0]+a,y:u[1]/2,text:v.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:y==="outOfRange"?.5:1},silent:h}))}n.add(g)},this),f&&this._renderEndsText(n,f[1],u,d,l),Xv(r.get("orient"),n,r.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},t.prototype._enableHoverLink=function(n,r){var a=this;n.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(o){var s=a.visualMapModel;s.option.hoverLink&&a.api.dispatchAction({type:o,batch:Nk(s.findTargetDataIndices(r),s)})}},t.prototype._getItemAlign=function(){var n=this.visualMapModel,r=n.option;if(r.orient==="vertical")return Txe(n,this.api,n.itemSize);var a=r.align;return(!a||a==="auto")&&(a="left"),a},t.prototype._renderEndsText=function(n,r,a,i,o){if(r){var s=new an,l=this.visualMapModel.textStyleModel;s.add(new Hn({style:Fr(l,{x:i?o==="right"?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:i?o:"center",text:r})})),n.add(s)}},t.prototype._getViewData=function(){var n=this.visualMapModel,r=ut(n.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),a=n.get("text"),i=n.get("orient"),o=n.get("inverse");return(i==="horizontal"?o:!o)?r.reverse():a&&(a=a.slice().reverse()),{viewPieceList:r,endsText:a}},t.prototype._createItemSymbol=function(n,r,a,i){var o=Ma(this.getControllerVisual(r,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(r,"color"));o.silent=i,n.add(o)},t.prototype._onItemClick=function(n){var r=this.visualMapModel,a=r.option,i=a.selectedMode;if(i){var o=en(a.selected),s=r.getSelectedMapKey(n);i==="single"||i===!0?(o[s]=!0,X(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(Cxe);function Exe(e){e.registerComponentModel(VGt),e.registerComponentView(WGt),kxe(e)}function HGt(e){kn(Ixe),kn(Exe)}var UGt={label:{enabled:!0},decal:{show:!1}},Lee=Vn(),GGt={};function KGt(e,t){var n=e.getModel("aria");if(!n.get("enabled"))return;var r=en(UGt);mn(r.label,e.getLocaleModel().get("aria"),!1),mn(n.option,r,!1),a(),i();function a(){var u=n.getModel("decal"),c=u.get("show");if(c){var f=Pt();e.eachSeries(function(d){if(!d.isColorBySeries()){var h=f.get(d.type);h||(h={},f.set(d.type,h)),Lee(d).scope=h}}),e.eachRawSeries(function(d){if(e.isSeriesFiltered(d))return;if(Yt(d.enableAriaDecal)){d.enableAriaDecal();return}var h=d.getData();if(d.isColorBySeries()){var y=s3(d.ecModel,d.name,GGt,e.getSeriesCount()),b=h.getVisual("decal");h.setVisual("decal",x(b,y))}else{var p=d.getRawData(),v={},g=Lee(d).scope;h.each(function(_){var S=h.getRawIndex(_);v[S]=_});var m=p.count();p.each(function(_){var S=v[_],C=p.getName(_)||_+"",k=s3(d.ecModel,C,g,m),T=h.getItemVisual(S,"decal");h.setItemVisual(S,"decal",x(T,k))})}function x(_,S){var C=_?rt(rt({},S),_):S;return C.dirty=!0,C}})}}function i(){var u=t.getZr().dom;if(u){var c=e.getLocaleModel().get("aria"),f=n.getModel("label");if(f.option=Xt(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var d=e.getSeriesCount(),h=f.get(["data","maxCount"])||10,p=f.get(["series","maxCount"])||10,v=Math.min(d,p),g;if(!(d<1)){var m=s();if(m){var y=f.get(["general","withTitle"]);g=o(y,{title:m})}else g=f.get(["general","withoutTitle"]);var b=[],x=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);g+=o(x,{seriesCount:d}),e.eachSeries(function(k,T){if(T<v){var I=void 0,E=k.get("name"),A=E?"withName":"withoutName";I=d>1?f.get(["series","multiple",A]):f.get(["series","single",A]),I=o(I,{seriesId:k.seriesIndex,seriesName:k.get("name"),seriesType:l(k.subType)});var N=k.getData();if(N.count()>h){var L=f.get(["data","partialData"]);I+=o(L,{displayCnt:h})}else I+=f.get(["data","allData"]);for(var R=f.get(["data","separator","middle"]),D=f.get(["data","separator","end"]),P=f.get(["data","excludeDimensionId"]),O=[],M=0;M<N.count();M++)if(M<h){var W=N.getName(M),U=P?sr(N.getValues(M),function(H,K){return Cn(P,K)===-1}):N.getValues(M),V=f.get(["data",W?"withName":"withoutName"]);O.push(o(V,{name:W,value:U.join(R)}))}I+=O.join(R)+D,b.push(I)}});var _=f.getModel(["series","multiple","separator"]),S=_.get("middle"),C=_.get("end");g+=b.join(S)+C,u.setAttribute("aria-label",g)}}}}function o(u,c){if(!Dt(u))return u;var f=u;return X(c,function(d,h){f=f.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),d)}),f}function s(){var u=e.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=e.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function jGt(e){if(!(!e||!e.aria)){var t=e.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},X(["description","general","series","data"],function(n){t[n]!=null&&(t.label[n]=t[n])})}}function YGt(e){e.registerPreprocessor(jGt),e.registerVisual(e.PRIORITY.VISUAL.ARIA,KGt)}var Oee={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},XGt=function(){function e(t){var n=this._condVal=Dt(t)?new RegExp(t):sDt(t)?t:null;if(n==null){var r="";or(r)}}return e.prototype.evaluate=function(t){var n=typeof t;return Dt(n)?this._condVal.test(t):Kn(n)?this._condVal.test(t+""):!1},e}(),qGt=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),ZGt=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(!t[n].evaluate())return!1;return!0},e}(),JGt=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(t[n].evaluate())return!0;return!1},e}(),QGt=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),e9t=function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,n=this.getValue,r=n(this.valueGetterParam),a=t?this.valueParser(r):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?a:r))return!1;return!0},e}();function VW(e,t){if(e===!0||e===!1){var n=new qGt;return n.value=e,n}var r="";return Axe(e)||or(r),e.and?Pee("and",e,t):e.or?Pee("or",e,t):e.not?t9t(e,t):n9t(e,t)}function Pee(e,t,n){var r=t[e],a="";st(r)||or(a),r.length||or(a);var i=e==="and"?new ZGt:new JGt;return i.children=ut(r,function(o){return VW(o,n)}),i.children.length||or(a),i}function t9t(e,t){var n=e.not,r="";Axe(n)||or(r);var a=new QGt;return a.child=VW(n,t),a.child||or(r),a}function n9t(e,t){for(var n="",r=t.prepareGetValue(e),a=[],i=Mn(e),o=e.parser,s=o?cme(o):null,l=0;l<i.length;l++){var u=i[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=Mt(Oee,u)?Oee[u]:u,f=e[u],d=s?s(f):f,h=U$t(c,d)||c==="reg"&&new XGt(d);h||or(n),a.push(h)}}a.length||or(n);var p=new e9t;return p.valueGetterParam=r,p.valueParser=s,p.getValue=t.getValue,p.subCondList=a,p}function Axe(e){return Jt(e)&&!Co(e)}var r9t=function(){function e(t,n){this._cond=VW(t,n)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function a9t(e,t){return new r9t(e,t)}var i9t={type:"echarts:filter",transform:function(e){for(var t=e.upstream,n,r=a9t(e.config,{valueGetterAttrMap:Pt({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Mt(s,"dimension")||or(l);var c=t.getDimensionInfo(u);return c||or(l),{dimIdx:c.index}},getValue:function(s){return t.retrieveValueFromItem(n,s.dimIdx)}}),a=[],i=0,o=t.count();i<o;i++)n=t.getRawDataItem(i),r.evaluate()&&a.push(n);return{data:a}}},o9t={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,r="",a=Ir(n);a.length||or(r);var i=[];X(a,function(c){var f=c.dimension,d=c.order,h=c.parser,p=c.incomparable;if(f==null&&or(r),d!=="asc"&&d!=="desc"&&or(r),p&&p!=="min"&&p!=="max"){var v="";or(v)}if(d!=="asc"&&d!=="desc"){var g="";or(g)}var m=t.getDimensionInfo(f);m||or(r);var y=h?cme(h):null;h&&!y&&or(r),i.push({dimIdx:m.index,parser:y,comparator:new dme(d,p)})});var o=t.sourceFormat;o!==To&&o!==jl&&or(r);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(c,f){for(var d=0;d<i.length;d++){var h=i[d],p=t.retrieveValueFromItem(c,h.dimIdx),v=t.retrieveValueFromItem(f,h.dimIdx);h.parser&&(p=h.parser(p),v=h.parser(v));var g=h.comparator.evaluate(p,v);if(g!==0)return g}return 0}),{data:s}}};function s9t(e){e.registerTransform(i9t),e.registerTransform(o9t)}var l9t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataset",n}return t.prototype.init=function(n,r,a){e.prototype.init.call(this,n,r,a),this._sourceManager=new gme(this),FX(this)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),FX(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Dc},t}(Rn),u9t=function(e){Le(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataset",n}return t.type="dataset",t}(na);function c9t(e){e.registerComponentModel(l9t),e.registerComponentView(u9t)}var Ju=Gc.CMD;function gm(e,t){return Math.abs(e-t)<1e-5}function l4(e){var t=e.data,n=e.len(),r=[],a,i=0,o=0,s=0,l=0;function u(N,L){a&&a.length>2&&r.push(a),a=[N,L]}function c(N,L,R,D){gm(N,R)&&gm(L,D)||a.push(N,L,R,D,R,D)}function f(N,L,R,D,P,O){var M=Math.abs(L-N),W=Math.tan(M/4)*4/3,U=L<N?-1:1,V=Math.cos(N),H=Math.sin(N),K=Math.cos(L),j=Math.sin(L),ne=V*P+R,Q=H*O+D,oe=K*P+R,ae=j*O+D,me=P*W*U,ve=O*W*U;a.push(ne-me*H,Q+ve*V,oe+me*j,ae-ve*K,oe,ae)}for(var d,h,p,v,g=0;g<n;){var m=t[g++],y=g===1;switch(y&&(i=t[g],o=t[g+1],s=i,l=o,(m===Ju.L||m===Ju.C||m===Ju.Q)&&(a=[s,l])),m){case Ju.M:i=s=t[g++],o=l=t[g++],u(s,l);break;case Ju.L:d=t[g++],h=t[g++],c(i,o,d,h),i=d,o=h;break;case Ju.C:a.push(t[g++],t[g++],t[g++],t[g++],i=t[g++],o=t[g++]);break;case Ju.Q:d=t[g++],h=t[g++],p=t[g++],v=t[g++],a.push(i+2/3*(d-i),o+2/3*(h-o),p+2/3*(d-p),v+2/3*(h-v),p,v),i=p,o=v;break;case Ju.A:var b=t[g++],x=t[g++],_=t[g++],S=t[g++],C=t[g++],k=t[g++]+C;g+=1;var T=!t[g++];d=Math.cos(C)*_+b,h=Math.sin(C)*S+x,y?(s=d,l=h,u(s,l)):c(i,o,d,h),i=Math.cos(k)*_+b,o=Math.sin(k)*S+x;for(var I=(T?-1:1)*Math.PI/2,E=C;T?E>k:E<k;E+=I){var A=T?Math.max(E+I,k):Math.min(E+I,k);f(E,A,b,x,_,S)}break;case Ju.R:s=i=t[g++],l=o=t[g++],d=s+t[g++],h=l+t[g++],u(d,l),c(d,l,d,h),c(d,h,s,h),c(s,h,s,l),c(s,l,d,l);break;case Ju.Z:a&&c(i,o,s,l),i=s,o=l;break}}return a&&a.length>2&&r.push(a),r}function u4(e,t,n,r,a,i,o,s,l,u){if(gm(e,n)&&gm(t,r)&&gm(a,o)&&gm(i,s)){l.push(o,s);return}var c=2/u,f=c*c,d=o-e,h=s-t,p=Math.sqrt(d*d+h*h);d/=p,h/=p;var v=n-e,g=r-t,m=a-o,y=i-s,b=v*v+g*g,x=m*m+y*y;if(b<f&&x<f){l.push(o,s);return}var _=d*v+h*g,S=-d*m-h*y,C=b-_*_,k=x-S*S;if(C<f&&_>=0&&k<f&&S>=0){l.push(o,s);return}var T=[],I=[];Vh(e,n,a,o,.5,T),Vh(t,r,i,s,.5,I),u4(T[0],I[0],T[1],I[1],T[2],I[2],T[3],I[3],l,u),u4(T[4],I[4],T[5],I[5],T[6],I[6],T[7],I[7],l,u)}function f9t(e,t){var n=l4(e),r=[];t=t||1;for(var a=0;a<n.length;a++){var i=n[a],o=[],s=i[0],l=i[1];o.push(s,l);for(var u=2;u<i.length;){var c=i[u++],f=i[u++],d=i[u++],h=i[u++],p=i[u++],v=i[u++];u4(s,l,c,f,d,h,p,v,o,t),s=p,l=v}r.push(o)}return r}function Dxe(e,t,n){var r=e[t],a=e[1-t],i=Math.abs(r/a),o=Math.ceil(Math.sqrt(i*n)),s=Math.floor(n/o);s===0&&(s=1,o=n);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=n-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function Fee(e,t,n){for(var r=e.r0,a=e.r,i=e.startAngle,o=e.endAngle,s=Math.abs(o-i),l=s*a,u=a-r,c=l>Math.abs(u),f=Dxe([l,u],c?0:1,t),d=(c?s:u)/f.length,h=0;h<f.length;h++)for(var p=(c?u:s)/f[h],v=0;v<f[h];v++){var g={};c?(g.startAngle=i+d*h,g.endAngle=i+d*(h+1),g.r0=r+p*v,g.r=r+p*(v+1)):(g.startAngle=i+p*v,g.endAngle=i+p*(v+1),g.r0=r+d*h,g.r=r+d*(h+1)),g.clockwise=e.clockwise,g.cx=e.cx,g.cy=e.cy,n.push(g)}}function d9t(e,t,n){for(var r=e.width,a=e.height,i=r>a,o=Dxe([r,a],i?0:1,t),s=i?"width":"height",l=i?"height":"width",u=i?"x":"y",c=i?"y":"x",f=e[s]/o.length,d=0;d<o.length;d++)for(var h=e[l]/o[d],p=0;p<o[d];p++){var v={};v[u]=d*f,v[c]=p*h,v[s]=f,v[l]=h,v.x+=e.x,v.y+=e.y,n.push(v)}}function Bee(e,t,n,r){return e*r-n*t}function h9t(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=Bee(c,f,l,u);if(Math.abs(d)<1e-6)return null;var h=e-a,p=t-i,v=Bee(h,p,c,f)/d;return v<0||v>1?null:new bn(v*l+e,v*u+t)}function p9t(e,t,n){var r=new bn;bn.sub(r,n,t),r.normalize();var a=new bn;bn.sub(a,e,t);var i=a.dot(r);return i}function K0(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function v9t(e,t,n){for(var r=e.length,a=[],i=0;i<r;i++){var o=e[i],s=e[(i+1)%r],l=h9t(o[0],o[1],s[0],s[1],t.x,t.y,n.x,n.y);l&&a.push({projPt:p9t(l,t,n),pt:l,idx:i})}if(a.length<2)return[{points:e},{points:e}];a.sort(function(g,m){return g.projPt-m.projPt});var u=a[0],c=a[a.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var d=[u.pt.x,u.pt.y],h=[c.pt.x,c.pt.y],p=[d],v=[h],i=u.idx+1;i<=c.idx;i++)K0(p,e[i].slice());K0(p,h),K0(p,d);for(var i=c.idx+1;i<=u.idx+r;i++)K0(v,e[i%r].slice());return K0(v,d),K0(v,h),[{points:p},{points:v}]}function Vee(e){var t=e.points,n=[],r=[];IN(t,n,r);var a=new xn(n[0],n[1],r[0]-n[0],r[1]-n[1]),i=a.width,o=a.height,s=a.x,l=a.y,u=new bn,c=new bn;return i>o?(u.x=c.x=s+i/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+i),v9t(t,u,c)}function WE(e,t,n,r){if(n===1)r.push(t);else{var a=Math.floor(n/2),i=e(t);WE(e,i[0],a,r),WE(e,i[1],n-a,r)}return r}function g9t(e,t){for(var n=[],r=0;r<t;r++)n.push(a5(e));return n}function m9t(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function y9t(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}function b9t(e,t){var n=[],r=e.shape,a;switch(e.type){case"rect":d9t(r,t,n),a=Bn;break;case"sector":Fee(r,t,n),a=ss;break;case"circle":Fee({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},t,n),a=ss;break;default:var i=e.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=ut(f9t(e.getUpdatedPathProxy(),o),function(m){return y9t(m)}),l=s.length;if(l===0)WE(Vee,{points:s[0]},t,n);else if(l===t)for(var u=0;u<l;u++)n.push({points:s[u]});else{var c=0,f=ut(s,function(m){var y=[],b=[];IN(m,y,b);var x=(b[1]-y[1])*(b[0]-y[0]);return c+=x,{poly:m,area:x}});f.sort(function(m,y){return y.area-m.area});for(var d=t,u=0;u<l;u++){var h=f[u];if(d<=0)break;var p=u===l-1?d:Math.ceil(h.area/c*t);p<0||(WE(Vee,{points:h.poly},p,n),d-=p)}}a=ls;break}if(!a)return g9t(e,t);for(var v=[],u=0;u<n.length;u++){var g=new a;g.setShape(n[u]),m9t(e,g),v.push(g)}return v}function x9t(e,t){var n=e.length,r=t.length;if(n===r)return[e,t];for(var a=[],i=[],o=n<r?e:t,s=Math.min(n,r),l=Math.abs(r-n)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],d=l,h=2;h<s;){var p=o[h-2],v=o[h-1],g=o[h++],m=o[h++],y=o[h++],b=o[h++],x=o[h++],_=o[h++];if(d<=0){f.push(g,m,y,b,x,_);continue}for(var S=Math.min(d,c-1)+1,C=1;C<=S;C++){var k=C/S;Vh(p,g,y,x,k,a),Vh(v,m,b,_,k,i),p=a[3],v=i[3],f.push(a[1],i[1],a[2],i[2],p,v),g=a[5],m=i[5],y=a[6],b=i[6]}d-=S-1}return o===e?[f,t]:[e,f]}function zee(e,t){for(var n=e.length,r=e[n-2],a=e[n-1],i=[],o=0;o<t.length;)i[o++]=r,i[o++]=a;return i}function w9t(e,t){for(var n,r,a,i=[],o=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],c=void 0,f=void 0;l?u?(n=x9t(l,u),c=n[0],f=n[1],r=c,a=f):(f=zee(a||l,l),c=l):(c=zee(r||u,u),f=u),i.push(c),o.push(f)}return[i,o]}function Wee(e){for(var t=0,n=0,r=0,a=e.length,i=0,o=a-2;i<a;o=i,i+=2){var s=e[o],l=e[o+1],u=e[i],c=e[i+1],f=s*c-u*l;t+=f,n+=(s+u)*f,r+=(l+c)*f}return t===0?[e[0]||0,e[1]||0]:[n/t/3,r/t/3,t]}function _9t(e,t,n,r){for(var a=(e.length-2)/6,i=1/0,o=0,s=e.length,l=s-2,u=0;u<a;u++){for(var c=u*6,f=0,d=0;d<s;d+=2){var h=d===0?c:(c+d-2)%l+2,p=e[h]-n[0],v=e[h+1]-n[1],g=t[d]-r[0],m=t[d+1]-r[1],y=g-p,b=m-v;f+=y*y+b*b}f<i&&(i=f,o=u)}return o}function S9t(e){for(var t=[],n=e.length,r=0;r<n;r+=2)t[r]=e[n-r-2],t[r+1]=e[n-r-1];return t}function C9t(e,t,n,r){for(var a=[],i,o=0;o<e.length;o++){var s=e[o],l=t[o],u=Wee(s),c=Wee(l);i==null&&(i=u[2]<0!=c[2]<0);var f=[],d=[],h=0,p=1/0,v=[],g=s.length;i&&(s=S9t(s));for(var m=_9t(s,l,u,c)*6,y=g-2,b=0;b<y;b+=2){var x=(m+b)%y+2;f[b+2]=s[x]-u[0],f[b+3]=s[x+1]-u[1]}f[0]=s[m]-u[0],f[1]=s[m+1]-u[1];for(var _=r/n,S=-r/2;S<=r/2;S+=_){for(var C=Math.sin(S),k=Math.cos(S),T=0,b=0;b<s.length;b+=2){var I=f[b],E=f[b+1],A=l[b]-c[0],N=l[b+1]-c[1],L=A*k-N*C,R=A*C+N*k;v[b]=L,v[b+1]=R;var D=L-I,P=R-E;T+=D*D+P*P}if(T<p){p=T,h=S;for(var O=0;O<v.length;O++)d[O]=v[O]}}a.push({from:f,to:d,fromCp:u,toCp:c,rotation:-h})}return a}function HE(e){return e.__isCombineMorphing}var Nxe="__mOriginal_";function UE(e,t,n){var r=Nxe+t,a=e[r]||e[t];e[r]||(e[r]=e[t]);var i=n.replace,o=n.after,s=n.before;e[t]=function(){var l=arguments,u;return s&&s.apply(this,l),i?u=i.apply(this,l):u=a.apply(this,l),o&&o.apply(this,l),u}}function Lx(e,t){var n=Nxe+t;e[n]&&(e[t]=e[n],e[n]=null)}function Hee(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],a=0;a<r.length;){var i=r[a],o=r[a+1];r[a++]=t[0]*i+t[2]*o+t[4],r[a++]=t[1]*i+t[3]*o+t[5]}}function Rxe(e,t){var n=e.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),a=w9t(l4(n),l4(r)),i=a[0],o=a[1],s=e.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&Hee(i,s),l&&Hee(o,l),UE(t,"updateTransform",{replace:u}),t.transform=null;var c=C9t(i,o,10,Math.PI),f=[];UE(t,"buildPath",{replace:function(d){for(var h=t.__morphT,p=1-h,v=[],g=0;g<c.length;g++){var m=c[g],y=m.from,b=m.to,x=m.rotation*h,_=m.fromCp,S=m.toCp,C=Math.sin(x),k=Math.cos(x);hk(v,_,S,h);for(var T=0;T<y.length;T+=2){var I=y[T],E=y[T+1],A=b[T],N=b[T+1],L=I*p+A*h,R=E*p+N*h;f[T]=L*k-R*C+v[0],f[T+1]=L*C+R*k+v[1]}var D=f[0],P=f[1];d.moveTo(D,P);for(var T=2;T<y.length;){var A=f[T++],N=f[T++],O=f[T++],M=f[T++],W=f[T++],U=f[T++];D===A&&P===N&&O===W&&M===U?d.lineTo(W,U):d.bezierCurveTo(A,N,O,M,W,U),D=W,P=U}}}})}function zW(e,t,n){if(!e||!t)return t;var r=n.done,a=n.during;Rxe(e,t),t.__morphT=0;function i(){Lx(t,"buildPath"),Lx(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Xt({during:function(o){t.dirtyShape(),a&&a(o)},done:function(){i(),r&&r()}},n)),t}function T9t(e,t,n,r,a,i){var o=16;e=a===n?0:Math.round(32767*(e-n)/(a-n)),t=i===r?0:Math.round(32767*(t-r)/(i-r));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(e&u)>0&&(c=1),(t&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(e=u-1-e,t=u-1-t),l=e,e=t,t=l)}return s}function GE(e){var t=1/0,n=1/0,r=-1/0,a=-1/0,i=ut(e,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),n=Math.min(f,n),r=Math.max(c,r),a=Math.max(f,a),[c,f]}),o=ut(i,function(s,l){return{cp:s,z:T9t(s[0],s[1],t,n,r,a),path:e[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Mxe(e){return b9t(e.path,e.count)}function c4(){return{fromIndividuals:[],toIndividuals:[],count:0}}function k9t(e,t,n){var r=[];function a(_){for(var S=0;S<_.length;S++){var C=_[S];HE(C)?a(C.childrenRef()):C instanceof An&&r.push(C)}}a(e);var i=r.length;if(!i)return c4();var o=n.dividePath||Mxe,s=o({path:t,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),c4();r=GE(r),s=GE(s);for(var l=n.done,u=n.during,c=n.individualDelay,f=new Af,d=0;d<i;d++){var h=r[d],p=s[d];p.parent=t,p.copyTransform(f),c||Rxe(h,p)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function v(_){for(var S=0;S<s.length;S++)s[S].addSelfToZr(_)}UE(t,"addSelfToZr",{after:function(_){v(_)}}),UE(t,"removeSelfFromZr",{after:function(_){for(var S=0;S<s.length;S++)s[S].removeSelfFromZr(_)}});function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Lx(t,"addSelfToZr"),Lx(t,"removeSelfFromZr")}var m=s.length;if(c)for(var y=m,b=function(){y--,y===0&&(g(),l&&l())},d=0;d<m;d++){var x=c?Xt({delay:(n.delay||0)+c(d,m,r[d],s[d]),done:b},n):n;zW(r[d],s[d],x)}else t.__morphT=0,t.animateTo({__morphT:1},Xt({during:function(_){for(var S=0;S<m;S++){var C=s[S];C.__morphT=t.__morphT,C.dirtyShape()}u&&u(_)},done:function(){g();for(var _=0;_<e.length;_++)Lx(e[_],"updateTransform");l&&l()}},n));return t.__zr&&v(t.__zr),{fromIndividuals:r,toIndividuals:s,count:m}}function I9t(e,t,n){var r=t.length,a=[],i=n.dividePath||Mxe;function o(h){for(var p=0;p<h.length;p++){var v=h[p];HE(v)?o(v.childrenRef()):v instanceof An&&a.push(v)}}if(HE(e)){o(e.childrenRef());var s=a.length;if(s<r)for(var l=0,u=s;u<r;u++)a.push(a5(a[l++%s]));a.length=r}else{a=i({path:e,count:r});for(var c=e.getComputedTransform(),u=0;u<a.length;u++)a[u].setLocalTransform(c);if(a.length!==r)return console.error("Invalid morphing: unmatched splitted path"),c4()}a=GE(a),t=GE(t);for(var f=n.individualDelay,u=0;u<r;u++){var d=f?Xt({delay:(n.delay||0)+f(u,r,a[u],t[u])},n):n;zW(a[u],t[u],d)}return{fromIndividuals:a,toIndividuals:t,count:t.length}}function Uee(e){return st(e[0])}function Gee(e,t){for(var n=[],r=e.length,a=0;a<r;a++)n.push({one:e[a],many:[]});for(var a=0;a<t.length;a++){var i=t[a].length,o=void 0;for(o=0;o<i;o++)n[o%r].many.push(t[a][o])}for(var s=0,a=r-1;a>=0;a--)if(!n[a].many.length){var l=n[s].many;if(l.length<=1)if(s)s=0;else return n;var i=l.length,u=Math.ceil(i/2);n[a].many=l.slice(u,i),n[s].many=l.slice(0,u),s++}return n}var E9t={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),r=0;r<e.count;r++){var a=a5(e.path);a.setStyle("opacity",n),t.push(a)}return t},split:null};function GL(e,t,n,r,a,i){if(!e.length||!t.length)return;var o=y1("update",r,a);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;Uee(e)&&(u=e,c=t),Uee(t)&&(u=t,c=e);function f(m,y,b,x,_){var S=m.many,C=m.one;if(S.length===1&&!_){var k=y?S[0]:C,T=y?C:S[0];if(HE(k))f({many:[k],one:T},!0,b,x,!0);else{var I=s?Xt({delay:s(b,x)},l):l;zW(k,T,I),i(k,T,k,T,I)}}else for(var E=Xt({dividePath:E9t[n],individualDelay:s&&function(P,O,M,W){return s(P+b,x)}},l),A=y?k9t(S,C,E):I9t(C,S,E),N=A.fromIndividuals,L=A.toIndividuals,R=N.length,D=0;D<R;D++){var I=s?Xt({delay:s(D,R)},l):l;i(N[D],L[D],y?S[D]:m.one,y?m.one:S[D],I)}}for(var d=u?u===e:e.length>t.length,h=u?Gee(c,u):Gee(d?t:e,[d?e:t]),p=0,v=0;v<h.length;v++)p+=h[v].many.length;for(var g=0,v=0;v<h.length;v++)f(h[v],d,g,p),g+=h[v].many.length}function rv(e){if(!e)return[];if(st(e)){for(var t=[],n=0;n<e.length;n++)t.push(rv(e[n]));return t}var r=[];return e.traverse(function(a){a instanceof An&&!a.disableMorphing&&!a.invisible&&!a.ignore&&r.push(a)}),r}var $xe=1e4,A9t=0,Kee=1,jee=2,D9t=Vn();function N9t(e,t){for(var n=e.dimensions,r=0;r<n.length;r++){var a=e.getDimensionInfo(n[r]);if(a&&a.otherDims[t]===0)return n[r]}}function R9t(e,t,n){var r=e.getDimensionInfo(n),a=r&&r.ordinalMeta;if(r){var i=e.get(r.name,t);return a&&a.categories[i]||i+""}}function Yee(e,t,n,r){var a=r?"itemChildGroupId":"itemGroupId",i=N9t(e,a);if(i){var o=R9t(e,t,i);return o}var s=e.getRawDataItem(t),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return n||e.getId(t)}function Xee(e){var t=[];return X(e,function(n){var r=n.data,a=n.dataGroupId;if(!(r.count()>$xe))for(var i=r.getIndices(),o=0;o<i.length;o++)t.push({data:r,groupId:Yee(r,o,a,!1),childGroupId:Yee(r,o,a,!0),divide:n.divide,dataIndex:o})}),t}function KL(e,t,n){e.traverse(function(r){r instanceof An&&Xr(r,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})})}function jL(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function j0(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function M9t(e,t,n){var r=y1("update",n,t);r&&e.traverse(function(a){if(a instanceof Bl){var i=IMt(a);i&&a.animateFrom({style:i},r)}})}function $9t(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++){var a=e[r],i=t[r];if(a.data.getId(a.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function Lxe(e,t,n){var r=Xee(e),a=Xee(t);function i(b,x,_,S,C){(_||b)&&x.animateFrom({style:_&&_!==b?rt(rt({},_.style),b.style):b.style},C)}var o=!1,s=A9t,l=Pt(),u=Pt();r.forEach(function(b){b.groupId&&l.set(b.groupId,!0),b.childGroupId&&u.set(b.childGroupId,!0)});for(var c=0;c<a.length;c++){var f=a[c].groupId;if(u.get(f)){s=Kee;break}var d=a[c].childGroupId;if(d&&l.get(d)){s=jee;break}}function h(b,x){return function(_){var S=_.data,C=_.dataIndex;return x?S.getId(C):b?s===Kee?_.childGroupId:_.groupId:s===jee?_.childGroupId:_.groupId}}var p=$9t(r,a),v={};if(!p)for(var c=0;c<a.length;c++){var g=a[c],m=g.data.getItemGraphicEl(g.dataIndex);m&&(v[m.id]=!0)}function y(b,x){var _=r[x],S=a[b],C=S.data.hostModel,k=_.data.getItemGraphicEl(_.dataIndex),T=S.data.getItemGraphicEl(S.dataIndex);if(k===T){T&&M9t(T,S.dataIndex,C);return}k&&v[k.id]||T&&(j0(T),k?(j0(k),jL(k),o=!0,GL(rv(k),rv(T),S.divide,C,b,i)):KL(T,C,b))}new Jf(r,a,h(!0,p),h(!1,p),null,"multiple").update(y).updateManyToOne(function(b,x){var _=a[b],S=_.data,C=S.hostModel,k=S.getItemGraphicEl(_.dataIndex),T=sr(ut(x,function(I){return r[I].data.getItemGraphicEl(r[I].dataIndex)}),function(I){return I&&I!==k&&!v[I.id]});k&&(j0(k),T.length?(X(T,function(I){j0(I),jL(I)}),o=!0,GL(rv(T),rv(k),_.divide,C,b,i)):KL(k,C,_.dataIndex))}).updateOneToMany(function(b,x){var _=r[x],S=_.data.getItemGraphicEl(_.dataIndex);if(!(S&&v[S.id])){var C=sr(ut(b,function(T){return a[T].data.getItemGraphicEl(a[T].dataIndex)}),function(T){return T&&T!==S}),k=a[b[0]].data.hostModel;C.length&&(X(C,function(T){return j0(T)}),S?(j0(S),jL(S),o=!0,GL(rv(S),rv(C),_.divide,k,b[0],i)):X(C,function(T){return KL(T,k,b[0])}))}}).updateManyToMany(function(b,x){new Jf(x,b,function(_){return r[_].data.getId(r[_].dataIndex)},function(_){return a[_].data.getId(a[_].dataIndex)}).update(function(_,S){y(b[_],x[S])}).execute()}).execute(),o&&X(t,function(b){var x=b.data,_=x.hostModel,S=_&&n.getViewOfSeriesModel(_),C=y1("update",_,0);S&&_.isAnimationEnabled()&&C&&C.duration>0&&S.group.traverse(function(k){k instanceof An&&!k.animators.length&&k.animateFrom({style:{opacity:0}},C)})})}function qee(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function Zee(e){return st(e)?e.sort().join(","):e}function zd(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function L9t(e,t){var n=Pt(),r=Pt(),a=Pt();return X(e.oldSeries,function(i,o){var s=e.oldDataGroupIds[o],l=e.oldData[o],u=qee(i),c=Zee(u);r.set(c,{dataGroupId:s,data:l}),st(u)&&X(u,function(f){a.set(f,{key:c,dataGroupId:s,data:l})})}),X(t.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),l=qee(i),u=Zee(l),c=r.get(u);if(c)n.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:zd(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:zd(s),data:s}]});else if(st(l)){var f=[];X(l,function(p){var v=r.get(p);v.data&&f.push({dataGroupId:v.dataGroupId,divide:zd(v.data),data:v.data})}),f.length&&n.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:zd(s)}]})}else{var d=a.get(l);if(d){var h=n.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:zd(d.data)}],newSeries:[]},n.set(d.key,h)),h.newSeries.push({dataGroupId:o,data:s,divide:zd(s)})}}}}),n}function Jee(e,t){for(var n=0;n<e.length;n++){var r=t.seriesIndex!=null&&t.seriesIndex===e[n].seriesIndex||t.seriesId!=null&&t.seriesId===e[n].id;if(r)return n}}function O9t(e,t,n,r){var a=[],i=[];X(Ir(e.from),function(o){var s=Jee(t.oldSeries,o);s>=0&&a.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:zd(t.oldData[s]),groupIdDim:o.dimension})}),X(Ir(e.to),function(o){var s=Jee(n.updatedSeries,o);if(s>=0){var l=n.updatedSeries[s].getData();i.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:zd(l),groupIdDim:o.dimension})}}),a.length>0&&i.length>0&&Lxe(a,i,r)}function P9t(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,n,r){X(Ir(r.seriesTransition),function(a){X(Ir(a.to),function(i){for(var o=r.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][Ck]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,n,r){var a=D9t(n);if(a.oldSeries&&r.updatedSeries&&r.optionChanged){var i=r.seriesTransition;if(i)X(Ir(i),function(h){O9t(h,a,r,n)});else{var o=L9t(a,r);X(o.keys(),function(h){var p=o.get(h);Lxe(p.oldSeries,p.newSeries,n)})}X(r.updatedSeries,function(h){h[Ck]&&(h[Ck]=!1)})}for(var s=t.getSeries(),l=a.oldSeries=[],u=a.oldDataGroupIds=[],c=a.oldData=[],f=0;f<s.length;f++){var d=s[f].getData();d.count()<$xe&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(d))}})}kn([jFt]);kn([WFt]);kn([h3t,E3t,F3t,m4t,E4t,pBt,WBt,TVt,jVt,QVt,lzt,n6t,I6t,F6t,e8t,a8t,p8t,w8t,R8t,F8t,Y8t,N5t]);kn(q5t);kn(_Wt);kn(M1e);kn(LWt);kn(ybe);kn(BWt);kn(YWt);kn(LHt);kn(eUt);kn(kC);kn(mUt);kn(xUt);kn(DUt);kn(PUt);kn(HUt);kn(XUt);kn(iGt);kn(SGt);kn(wxe);kn(_xe);kn(HGt);kn(Ixe);kn(Exe);kn(YGt);kn(s9t);kn(c9t);kn(P9t);kn(lFt);function F9t(){const{t:e}=dp(),t=Y(null),n=Y(null);let r=null,a=null;const i=()=>{t.value&&n.value&&(r=bq(t.value),a=bq(n.value))},o=l=>{if(!r||!a)return;const u={};l.forEach(g=>{var y;const m=((y=Object.entries(Fwt).find(([b,x])=>x===g))==null?void 0:y[0])||g;u[m]=(u[m]||0)+1});const f=Object.entries(u).map(([g,m])=>({name:e(`settings.${g}`),value:m})).sort((g,m)=>m.value-g.value),d=f.map(g=>g.name),h=f.map(g=>g.value),p={title:{text:e("charts.distribution"),left:"center",textStyle:{fontSize:20,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)",textStyle:{fontSize:16}},legend:{orient:"vertical",left:"left",top:"middle",textStyle:{fontSize:16},itemWidth:25,itemHeight:14},series:[{name:e("charts.distribution"),type:"pie",radius:"50%",data:f,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!0,formatter:"{b}",fontSize:14}}]},v={title:{text:e("charts.statistics"),left:"center",textStyle:{fontSize:20,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontSize:16}},grid:{left:"3%",right:"8%",bottom:"3%",containLabel:!0},xAxis:{type:"value",name:e("preview.count"),nameTextStyle:{fontSize:16},axisLabel:{fontSize:14}},yAxis:{type:"category",data:d.reverse(),axisLabel:{fontSize:16,width:200,color:"#333"}},series:[{type:"bar",data:h.reverse(),label:{show:!0,position:"right",fontSize:16}}]};r.setOption(p),a.setOption(v)},s=()=>{r==null||r.resize(),a==null||a.resize()};return zt(()=>{window.addEventListener("resize",s)}),jc(()=>{window.removeEventListener("resize",s),r==null||r.dispose(),a==null||a.dispose()}),{pieChartRef:t,barChartRef:n,initCharts:i,updateCharts:o}}const B9t={class:"data-display"},V9t={class:"table-header"},z9t={class:"header-left"},W9t={key:0,class:"filename"},H9t={class:"header-buttons"},U9t={class:"pagination-container"},G9t={class:"charts-container"},K9t={class:"chart-item"},j9t={class:"chart-item"},Y9t={__name:"DataDisplay",props:{tableData:{type:Array,default:()=>[]},predictions:{type:Array,default:()=>[]},predicting:{type:Boolean,default:!1},processing:{type:Boolean,default:!1},processedData:{type:Array,default:()=>[]},filename:{type:String,default:""}},emits:["download","predict","process"],setup(e,{emit:t}){const{t:n}=dp(),r=e,{pieChartRef:a,barChartRef:i,initCharts:o,updateCharts:s}=F9t(),l=F(()=>r.tableData.slice((u.value-1)*c.value,u.value*c.value)),u=Y(1),c=Y(10),f=h=>{c.value=h,u.value=1},d=h=>{u.value=h};return Oe(()=>r.predictions,h=>{h!=null&&h.length&&s(h)},{deep:!0,immediate:!1}),Oe(()=>n.value,()=>{var h;(h=r.predictions)!=null&&h.length&&s(r.predictions)},{immediate:!1}),zt(()=>{o()}),(h,p)=>{const v=Ft("el-button"),g=Ft("el-table-column"),m=Ft("el-table"),y=Ft("el-pagination"),b=v_("loading");return z(),q("div",B9t,[Z("div",V9t,[Z("div",z9t,[Z("h3",null,Ve(w(n)("preview.title")),1),e.filename?(z(),q("span",W9t,Ve(w(n)("preview.currentFile"))+": "+Ve(e.filename),1)):Te("",!0)]),Z("div",H9t,[ie(v,{type:"primary",onClick:p[0]||(p[0]=x=>h.$emit("process")),loading:e.processing,disabled:e.predictions.length>0||e.processedData,icon:w(vAe),size:"large",class:"action-button"},{default:fe(()=>[Kt(Ve(e.processing?w(n)("message.processing"):w(n)("preview.process")),1)]),_:1},8,["loading","disabled","icon"]),ie(v,{type:"success",onClick:p[1]||(p[1]=x=>h.$emit("predict")),loading:e.predicting,disabled:!e.processedData||e.predictions.length>0,icon:w(iAe),size:"large",class:"action-button"},{default:fe(()=>[Kt(Ve(e.predicting?w(n)("preview.predicting"):w(n)("preview.predict")),1)]),_:1},8,["loading","disabled","icon"]),ie(v,{type:"warning",onClick:p[2]||(p[2]=x=>h.$emit("download")),disabled:!e.predictions.length,icon:w(Fre),size:"large",class:"action-button download-button"},{default:fe(()=>[Kt(Ve(w(n)("preview.download")),1)]),_:1},8,["disabled","icon"])])]),Vt((z(),Ae(m,{data:l.value,style:{width:"100%"},border:"","max-height":"280"},{default:fe(()=>[(z(!0),q(gt,null,un(w(oc),(x,_)=>(z(),Ae(g,{key:_,prop:"col"+_,label:x,width:"150","show-overflow-tooltip":""},null,8,["prop","label"]))),128)),e.predictions.length?(z(),Ae(g,{key:0,label:w(n)("preview.predict"),prop:"prediction",width:"200",fixed:"right","show-overflow-tooltip":""},null,8,["label"])):Te("",!0)]),_:1},8,["data"])),[[b,e.processing||e.predicting]]),Z("div",U9t,[ie(y,{"current-page":u.value,"onUpdate:currentPage":p[3]||(p[3]=x=>u.value=x),"page-size":c.value,"onUpdate:pageSize":p[4]||(p[4]=x=>c.value=x),"page-sizes":[10,20,50,100],total:r.tableData.length||0,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:f,onCurrentChange:d,background:""},null,8,["current-page","page-size","total"])]),Z("div",G9t,[Z("div",K9t,[Z("div",{ref_key:"pieChartRef",ref:a,class:"chart"},null,512)]),Z("div",j9t,[Z("div",{ref_key:"barChartRef",ref:i,class:"chart"},null,512)])])])}}},X9t=gN(Y9t,[["__scopeId","data-v-a9161c02"]]),q9t={class:"lang-switch"},Z9t={__name:"LangSwitch",setup(e){const{locale:t}=dp(),n=F(()=>t.value),r=a=>{t.value=a,localStorage.setItem("locale",a)};return(a,i)=>{const o=Ft("el-icon"),s=Ft("el-dropdown-item"),l=Ft("el-dropdown-menu"),u=Ft("el-dropdown");return z(),Ae(u,{onCommand:r},{dropdown:fe(()=>[ie(l,null,{default:fe(()=>[ie(s,{command:"zh"},{default:fe(()=>i[0]||(i[0]=[Kt("中文")])),_:1}),ie(s,{command:"en"},{default:fe(()=>i[1]||(i[1]=[Kt("English")])),_:1})]),_:1})]),default:fe(()=>[Z("span",q9t,[Kt(Ve(n.value==="zh"?"中文":"English")+" ",1),ie(o,{class:"el-icon--right"},{default:fe(()=>[ie(w(Xc))]),_:1})])]),_:1})}}},J9t=gN(Z9t,[["__scopeId","data-v-a3917756"]]),Q9t={class:"basalt-container"},e7t={class:"card-header"},t7t={class:"header-actions"},n7t={key:0,class:"welcome-container"},r7t={class:"welcome-content"},a7t={class:"welcome-main"},i7t={class:"welcome-left"},o7t={class:"welcome-header-left"},s7t={class:"start-button-container"},l7t={class:"welcome-image-container"},u7t={class:"steps-section"},c7t={class:"welcome-steps"},f7t={class:"step-title"},d7t={class:"step-text"},h7t={class:"step-text"},p7t={class:"step-text"},v7t={class:"welcome-right"},g7t={class:"data-requirements"},m7t={class:"columns-title"},y7t={class:"columns-grid"},b7t={class:"sample-data"},x7t={class:"sample-files"},w7t={href:"/data/Back_arc_basin.csv",class:"sample-file-link",download:""},_7t={href:"/data/Isua.csv",class:"sample-file-link",download:""},S7t={href:"/data/Norseman&Kambalda.csv",class:"sample-file-link",download:""},C7t={class:"loading-overlay"},T7t={class:"loading-content"},k7t={class:"loading-spinner"},I7t={class:"loading-text"},E7t={class:"progress-text"},A7t={class:"loading-subtext"},D7t={__name:"index",setup(e){const{t}=dp(),n=Y(!1),r=Y([]),a=Y([]),i=Y(!1);let o=null;class s extends Wg{constructor(k){super(),this.l2=k.l2}apply(k){return Xe(()=>{const T=Cr(this.l2);return Pe(T,pn(Yr(k)))})}getConfig(){return{l2:this.l2}}static fromConfig(k,T){return new k(T)}}WW(s,"className","L2"),bt(s);const l=async()=>{try{const C=await fetch("./model/model.json");if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const k=await C.json();console.log("model.json 内容:",k),o=await Hnt("./model/model.json"),console.log("模型加载成功")}catch(C){console.error("模型加载失败:",C)}};zt(async()=>{console.log("onMounted"),await l()});const u=Y(""),c=async(C,k)=>{u.value=k,r.value=C.map(T=>{const I={};return T.forEach((E,A)=>{I["col"+A]=E}),I})},f=Y(0),d=async()=>{if(console.log("开始预测"),f.value=0,i.value=!0,!o){yi.error(t("message.modelNotLoaded")),i.value=!1;return}try{if(!p.value){yi.error(t("message.processDataFirst")),i.value=!1;return}const C=y(p.value);await b(C),yi.success(t("message.predictSuccess"))}catch(C){console.error("预测过程出错:",C),yi.error(t("message.predictFail"))}finally{i.value=!1,f.value=0}},h=C=>{const k=new Set;let T=0,I=0;const E=C.filter((A,N)=>{if(A.filter(D=>D===0||D===null||isNaN(D)).length>16)return I++,!1;const R=A.join(",");return k.has(R)?(T++,!1):(k.add(R),!0)});return T>0&&yi({message:t("message.duplicatesFiltered",{count:T}),type:"warning",duration:3e3}),{data:E,stats:{total:C.length,invalid:I,duplicate:T,remaining:E.length}}},p=Y(null),v=Y(!1),g=async()=>{if(!r.value.length){yi.error(t("message.noData"));return}v.value=!0,f.value=0;const C=yi({message:t("message.processing"),type:"info",duration:0});try{const k=r.value.map(A=>oc.map(N=>A["col"+oc.indexOf(N)])),{data:T,stats:I}=h(k);if(T.length===0){C.close(),yi.error(t("message.noValidData"));return}(I.invalid>0||I.duplicate>0)&&yi({message:t("message.dataFiltered",{total:I.total,invalid:I.invalid,duplicate:I.duplicate,remaining:I.remaining}),type:"warning",duration:3e3}),f.value=30;const E=await m(T);f.value=70,p.value=E,r.value=T.map((A,N)=>{const L={};return A.forEach((R,D)=>{L["col"+D]=R}),L}),f.value=100,C.close(),yi.success(t("message.processSuccess"))}catch(k){console.error("数据处理错误:",k),C.close(),yi.error(t("message.processFail"))}finally{v.value=!1,f.value=0}},m=async C=>{try{return await Abt(C,oc)}catch(k){console.error("数据标准化失败:",k)}},y=C=>{const k=C.length,T=new Array(k);for(let I=0;I<k;I++){const E=new Array(36).fill(0);for(let N=0;N<Math.min(C[I].length,36);N++)E[N]=C[I][N];const A=E.map(N=>N/255);T[I]=A}return T},b=async C=>{if(!o){console.error("模型未加载");return}try{const k=Math.ceil(C.length/100),T=[],I=Math.ceil(C.length/k);for(let E=0;E<C.length;E+=k){const A=C.slice(E,E+k),N=Xe(()=>DZe(A.map(D=>Array.from(D).map(P=>[P]).reduce((P,O,M)=>{const W=Math.floor(M/6);return P[W]||(P[W]=[]),P[W].push(O),P},[])))),L=await o.predict(N),R=await L.array();T.push(...R),N.dispose(),L.dispose(),f.value=Math.min(100,Math.round((E+k)/C.length*100))}a.value=T.map(E=>x(E)),r.value=r.value.map((E,A)=>({...E,prediction:a.value[A]}))}catch(k){throw console.error("预测过程出错:",k),k}},x=C=>{const k=C.indexOf(Math.max(...C));return Pwt[k]},_=()=>{if(!a.value.length){yi.error(t("message.noResults"));return}try{const C=[],k=[...oc,"Predicted_Setting"];C.push(k.join(",")),r.value.forEach((L,R)=>{const D=oc.map(P=>L["col"+oc.indexOf(P)]);D.push(a.value[R]),C.push(D.join(","))});const T=new Blob([C.join(`
`)],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),E=URL.createObjectURL(T),A=new Date().toISOString().slice(0,10),N=u.value.split(".").slice(0,-1).join(".");I.setAttribute("href",E),I.setAttribute("download",`${N}_tectonic_predictions_${A}.csv`),document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(E),yi.success(t("message.downloadSuccess"))}catch(C){console.error("下载结果失败:",C),yi.error(t("message.downloadFail"))}},S=()=>{r.value=[],a.value=[],i.value=!1,v.value=!1,p.value=null,u.value=""};return(C,k)=>{const T=Ft("el-button"),I=Ft("el-icon"),E=Ft("el-progress"),A=Ft("el-card");return z(),q("div",Q9t,[ie(A,{class:"main-card"},{header:fe(()=>[Z("div",e7t,[Z("h2",null,Ve(w(t)("title")),1),Z("div",t7t,[ie(J9t),ie(T,{type:"primary",onClick:S},{default:fe(()=>[Kt(Ve(w(t)("upload.button")),1)]),_:1})])])]),default:fe(()=>[ie(UAt,{visible:n.value,"onUpdate:visible":k[0]||(k[0]=N=>n.value=N),onFileProcessed:c},null,8,["visible"]),r.value.length?(z(),Ae(X9t,{key:1,"table-data":r.value,predictions:a.value,predicting:i.value,processing:v.value,"processed-data":p.value,filename:u.value,onDownload:_,onPredict:d,onProcess:g},null,8,["table-data","predictions","predicting","processing","processed-data","filename"])):(z(),q("div",n7t,[Z("div",r7t,[Z("div",a7t,[Z("div",i7t,[Z("div",o7t,[Z("h3",null,Ve(w(t)("welcome.title")),1),Z("p",null,Ve(w(t)("welcome.description")),1),Z("div",s7t,[ie(T,{type:"primary",size:"large",class:"start-button pulse-button",onClick:k[1]||(k[1]=N=>n.value=!0)},{default:fe(()=>[k[2]||(k[2]=Z("i",{class:"el-icon-upload"},null,-1)),Kt(" "+Ve(w(t)("welcome.startButton"))+" ",1),k[3]||(k[3]=Z("div",{class:"button-effect"},null,-1))]),_:1})])]),Z("div",l7t,[k[7]||(k[7]=Z("div",{class:"image-section"},[Z("img",{src:tKe,alt:"Tectonic Settings",class:"welcome-image"})],-1)),Z("div",u7t,[Z("div",c7t,[Z("div",f7t,Ve(w(t)("welcome.stepsTitle")),1),Z("ul",null,[Z("li",null,[k[4]||(k[4]=Z("span",{class:"step-number"},"1",-1)),Z("span",d7t,Ve(w(t)("welcome.step1")),1)]),Z("li",null,[k[5]||(k[5]=Z("span",{class:"step-number"},"2",-1)),Z("span",h7t,Ve(w(t)("welcome.step2")),1)]),Z("li",null,[k[6]||(k[6]=Z("span",{class:"step-number"},"3",-1)),Z("span",p7t,Ve(w(t)("welcome.step3")),1)])])])])])]),Z("div",v7t,[Z("div",g7t,[Z("h4",null,[ie(I,{class:"info-icon"},{default:fe(()=>[ie(w(gA))]),_:1}),Kt(" "+Ve(w(t)("welcome.dataRequirements.title")),1)]),Z("p",null,Ve(w(t)("welcome.dataRequirements.description")),1),Z("p",m7t,Ve(w(t)("welcome.dataRequirements.columnsTitle")),1),Z("div",y7t,[(z(!0),q(gt,null,un(w(oc),(N,L)=>(z(),q("span",{key:L,class:"column-name"},Ve(N),1))),128))])]),Z("div",b7t,[Z("h4",null,[ie(I,{class:"download-icon"},{default:fe(()=>[ie(w(Fre))]),_:1}),Kt(" "+Ve(w(t)("welcome.sampleData.title")),1)]),Z("p",null,Ve(w(t)("welcome.sampleData.description")),1),Z("div",x7t,[Z("a",w7t,[ie(I,{class:"file-icon"},{default:fe(()=>[ie(w(AT))]),_:1}),Kt(" "+Ve(w(t)("welcome.sampleData.example1")),1)]),Z("a",_7t,[ie(I,{class:"file-icon"},{default:fe(()=>[ie(w(AT))]),_:1}),Kt(" "+Ve(w(t)("welcome.sampleData.example2")),1)]),Z("a",S7t,[ie(I,{class:"file-icon"},{default:fe(()=>[ie(w(AT))]),_:1}),Kt(" "+Ve(w(t)("welcome.sampleData.example3")),1)])])])])])])])),Vt(Z("div",C7t,[Z("div",T7t,[Z("div",k7t,[ie(I,{class:"loading-icon"},{default:fe(()=>[ie(w(Nu))]),_:1})]),Z("div",I7t,Ve(i.value?w(t)("message.predicting"):w(t)("message.processing")),1),ie(E,{percentage:f.value,"stroke-width":10,"show-text":!1,class:"progress-bar"},null,8,["percentage"]),Z("div",E7t,Ve(f.value)+"%",1),Z("div",A7t,Ve(w(t)("message.pleaseWait")),1)])],512),[[En,i.value||v.value]])]),_:1})])}}},N7t=gN(D7t,[["__scopeId","data-v-00d8ceba"]]),R7t={class:"app-container"},M7t={__name:"App",setup(e){return(t,n)=>(z(),q("div",R7t,[ie(N7t)]))}},$7t={title:"Basalt Tectonic Setting Discrimination System",upload:{button:"Home",title:"Upload Data File",drag:"Drag file here",or:"or",click:"click to upload",tip:"Please upload a CSV, XLSX or XLS file containing basalt geochemical data"},preview:{title:"Data Preview",empty:"No data available",predict:"Predict",predicting:"Predicting...",process:"Process Data",download:"Download Results",count:"Count",currentFile:"Current File"},charts:{distribution:"Distribution of Tectonic Settings",statistics:"Statistics of Tectonic Settings",tooltip:{percentage:"{b}: {c} samples ({d}%)",count:"{b}: {c} samples"}},settings:{"BACK-ARC_BASIN":"Back-arc Basin","CONTINENTAL FLOOD BASALT":"Continental Flood Basalt",CONTINENTAL_RIFT:"Continental Rift","Continental arc":"Continental Arc","Intra-oceanic arc":"Intra-oceanic Arc","Island arc":"Island Arc","OCEAN ISLAND":"Ocean Island","OCEANIC PLATEAU":"Oceanic Plateau","Mid-Oceanic Ridge":"Mid-Oceanic Ridge"},message:{modelNotLoaded:"Model not loaded, please try again later",predictSuccess:"Prediction completed",predictFail:"Prediction failed, please try again",uploadSuccess:"File uploaded successfully",uploadFail:"File processing failed, please check the file format and required columns",uploadError:"File reading failed",noValidData:"No valid data after filtering (too many missing values)",dataFiltered:"{total} samples processed: {invalid} invalid, {duplicate} duplicates, {remaining} remaining",duplicatesFiltered:"{count} duplicate samples were removed",noData:"No data available for processing",processing:"Processing data...",processSuccess:"Data processing completed",processFail:"Data processing failed",processDataFirst:"Please process the data before prediction",noResults:"No prediction results available for download",downloadSuccess:"Results downloaded successfully",downloadFail:"Failed to download results",predicting:"Predicting tectonic settings...",pleaseWait:"Please wait while we process your data",runningTime:"Running Time"},welcome:{title:"Welcome to Basalt Tectonic Setting Discrimination System",description:"This system helps you identify the tectonic setting of basalt samples based on their geochemical composition using deep learning technology.",stepsTitle:"How it works",step1:"Upload your file containing basalt geochemical data",step2:'Review the data and click "Start Prediction" to analyze',step3:"View the results in charts and download",startButton:"Get Started",dataRequirements:{title:"Data Requirements",description:"Please ensure your data file contains the following geochemical components for basalt samples:",columnsTitle:"Required Columns:"},sampleData:{title:"Sample Data",description:"Download example data files to see the required format:",example1:"Example 1: Back-arc Basin Samples",example2:"Example 2: Isua Samples",example3:"Example 3: Norseman&Kambalda Samples"}}},L7t={title:"玄武岩构造环境判别系统",upload:{button:"首页",title:"上传数据文件",drag:"将文件拖到此处",or:"或",click:"点击上传",tip:"请上传包含玄武岩地球化学数据的CSV、XLSX或XLS文件"},preview:{title:"数据预览",empty:"暂无数据",predict:"开始预测",predicting:"预测中...",process:"处理数据",download:"下载结果",count:"数量",currentFile:"当前文件"},charts:{distribution:"构造环境分布",statistics:"构造环境统计",tooltip:{percentage:"{b}: {c}个样品 ({d}%)",count:"{b}: {c}个样品"}},settings:{"BACK-ARC_BASIN":"弧后盆地","CONTINENTAL FLOOD BASALT":"大陆溢流玄武岩",CONTINENTAL_RIFT:"大陆裂谷","Continental arc":"大陆弧","Intra-oceanic arc":"洋内弧","Island arc":"岛弧","OCEAN ISLAND":"洋岛","OCEANIC PLATEAU":"洋底高原","Mid-Oceanic Ridge":"扩张中心"},message:{modelNotLoaded:"模型未加载，请稍后重试",predictSuccess:"预测完成",predictFail:"预测失败，请重试",uploadSuccess:"文件上传成功",uploadFail:"文件处理失败，请检查文件格式和必要的列是否存在",uploadError:"文件读取失败",noValidData:"筛选后没有有效数据（缺失值过多）",dataFiltered:"共处理{total}个样本：{invalid}个无效，{duplicate}个重复，剩余{remaining}个",duplicatesFiltered:"已移除{count}个重复样本",noData:"没有可处理的数据",processing:"正在处理数据...",processSuccess:"数据处理完成",processFail:"数据处理失败",processDataFirst:"请先处理数据再进行预测",noResults:"没有可下载的预测结果",downloadSuccess:"结果下载成功",downloadFail:"结果下载失败",predicting:"正在预测构造环境...",pleaseWait:"请耐心等待数据处理完成",runningTime:"已运行时间"},welcome:{title:"欢迎使用玄武岩构造环境判别系统",description:"本系统使用深度学习技术，基于玄武岩样品的地球化学成分来识别其构造环境。",stepsTitle:"使用步骤",step1:"上传包含玄武岩地球化学数据的CSV文件",step2:'检查数据并点击"开始预测"进行分析',step3:"查看图表结果并下载",startButton:"开始使用",dataRequirements:{title:"数据要求",description:"请确保您的数据文件包含以下玄武岩样品的地球化学成分：",columnsTitle:"必需的数据列："},sampleData:{title:"示例数据",description:"下载示例数据文件以查看所需格式：",example1:"示例1：弧后盆地样本",example2:"示例2：格陵兰岛Isua样本",example3:"示例3：Norseman&Kambalda样本"}}},O7t=localStorage.getItem("locale")||"en",P7t=kwt({legacy:!1,locale:O7t,fallbackLocale:"en",messages:{en:$7t,zh:L7t}});YKe().then(()=>{console.log("TensorFlow.js 初始化成功，后端:",XKe());const e=Ene(M7t);e.use(eKe),e.use(P7t),e.mount("#app")});
